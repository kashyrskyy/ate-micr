import{r as _,p as go,_ as Me,j as m,a as Q,g as ze,q as vo,k as Se,l as Ve,t as Ge,h as Ze,e as J,v as Ie,f as Te,w as mo,x as bo,y as yo,R as Sn,n as xo,z as wo,A as Ht,m as Ct,B as en,C as tn,D as Co,E as To,F as jo,H as kn,I as kr,J as Rr,K as tt,L as me,M as Ee,N as mt,O as Ao,P as ht,Q as Et,S as _e,T as bt,U as Ft}from"./index-oMqm8ogs.js";import{o as rn,P as Do,u as cr,c as nn,d as So,e as ko,f as on,g as Ro,M as Po,h as Pr,i as Rn,j as Pn,F as $o,T as $r,k as Oo,l as tr,m as Io,n as an,p as Mo,G as sn,q as rr,s as Uo,A as Tt,b as Ke,S as jt,B as br,r as At,I as Rt,a as Eo}from"./createSvgIcon-oSvDmy-g.js";const _o={disableDefaultClasses:!1},Fo=_.createContext(_o);function Bo(e){const{disableDefaultClasses:t}=_.useContext(Fo);return i=>t?"":e(i)}const $n="base";function No(e){return`${$n}--${e}`}function Lo(e,t){return`${$n}-${e}-${t}`}function On(e,t){const i=go[t];return i?No(i):Lo(e,t)}function Wo(e,t){const i={};return t.forEach(o=>{i[o]=On(e,o)}),i}var We="top",nt="bottom",ot="right",He="left",Or="auto",Jt=[We,nt,ot,He],Bt="start",Xt="end",Ho="clippingParents",In="viewport",qt="popper",zo="reference",ln=Jt.reduce(function(e,t){return e.concat([t+"-"+Bt,t+"-"+Xt])},[]),Mn=[].concat(Jt,[Or]).reduce(function(e,t){return e.concat([t,t+"-"+Bt,t+"-"+Xt])},[]),Vo="beforeRead",qo="read",Qo="afterRead",Yo="beforeMain",Ko="main",Xo="afterMain",Go="beforeWrite",Zo="write",Jo="afterWrite",ea=[Vo,qo,Qo,Yo,Ko,Xo,Go,Zo,Jo];function ut(e){return e?(e.nodeName||"").toLowerCase():null}function Xe(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ot(e){var t=Xe(e).Element;return e instanceof t||e instanceof Element}function rt(e){var t=Xe(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Ir(e){if(typeof ShadowRoot>"u")return!1;var t=Xe(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function ta(e){var t=e.state;Object.keys(t.elements).forEach(function(i){var o=t.styles[i]||{},r=t.attributes[i]||{},n=t.elements[i];!rt(n)||!ut(n)||(Object.assign(n.style,o),Object.keys(r).forEach(function(l){var s=r[l];s===!1?n.removeAttribute(l):n.setAttribute(l,s===!0?"":s)}))})}function ra(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(o){var r=t.elements[o],n=t.attributes[o]||{},l=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:i[o]),s=l.reduce(function(f,y){return f[y]="",f},{});!rt(r)||!ut(r)||(Object.assign(r.style,s),Object.keys(n).forEach(function(f){r.removeAttribute(f)}))})}}const na={name:"applyStyles",enabled:!0,phase:"write",fn:ta,effect:ra,requires:["computeStyles"]};function dt(e){return e.split("-")[0]}var $t=Math.max,dr=Math.min,Nt=Math.round;function Cr(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Un(){return!/^((?!chrome|android).)*safari/i.test(Cr())}function Lt(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!1);var o=e.getBoundingClientRect(),r=1,n=1;t&&rt(e)&&(r=e.offsetWidth>0&&Nt(o.width)/e.offsetWidth||1,n=e.offsetHeight>0&&Nt(o.height)/e.offsetHeight||1);var l=Ot(e)?Xe(e):window,s=l.visualViewport,f=!Un()&&i,y=(o.left+(f&&s?s.offsetLeft:0))/r,a=(o.top+(f&&s?s.offsetTop:0))/n,d=o.width/r,c=o.height/n;return{width:d,height:c,top:a,right:y+d,bottom:a+c,left:y,x:y,y:a}}function Mr(e){var t=Lt(e),i=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:o}}function En(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&Ir(i)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function gt(e){return Xe(e).getComputedStyle(e)}function oa(e){return["table","td","th"].indexOf(ut(e))>=0}function Dt(e){return((Ot(e)?e.ownerDocument:e.document)||window.document).documentElement}function gr(e){return ut(e)==="html"?e:e.assignedSlot||e.parentNode||(Ir(e)?e.host:null)||Dt(e)}function cn(e){return!rt(e)||gt(e).position==="fixed"?null:e.offsetParent}function aa(e){var t=/firefox/i.test(Cr()),i=/Trident/i.test(Cr());if(i&&rt(e)){var o=gt(e);if(o.position==="fixed")return null}var r=gr(e);for(Ir(r)&&(r=r.host);rt(r)&&["html","body"].indexOf(ut(r))<0;){var n=gt(r);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].indexOf(n.willChange)!==-1||t&&n.willChange==="filter"||t&&n.filter&&n.filter!=="none")return r;r=r.parentNode}return null}function er(e){for(var t=Xe(e),i=cn(e);i&&oa(i)&&gt(i).position==="static";)i=cn(i);return i&&(ut(i)==="html"||ut(i)==="body"&&gt(i).position==="static")?t:i||aa(e)||t}function Ur(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Yt(e,t,i){return $t(e,dr(t,i))}function ia(e,t,i){var o=Yt(e,t,i);return o>i?i:o}function _n(){return{top:0,right:0,bottom:0,left:0}}function Fn(e){return Object.assign({},_n(),e)}function Bn(e,t){return t.reduce(function(i,o){return i[o]=e,i},{})}var sa=function(t,i){return t=typeof t=="function"?t(Object.assign({},i.rects,{placement:i.placement})):t,Fn(typeof t!="number"?t:Bn(t,Jt))};function la(e){var t,i=e.state,o=e.name,r=e.options,n=i.elements.arrow,l=i.modifiersData.popperOffsets,s=dt(i.placement),f=Ur(s),y=[He,ot].indexOf(s)>=0,a=y?"height":"width";if(!(!n||!l)){var d=sa(r.padding,i),c=Mr(n),u=f==="y"?We:He,b=f==="y"?nt:ot,T=i.rects.reference[a]+i.rects.reference[f]-l[f]-i.rects.popper[a],S=l[f]-i.rects.reference[f],w=er(n),U=w?f==="y"?w.clientHeight||0:w.clientWidth||0:0,O=T/2-S/2,D=d[u],I=U-c[a]-d[b],x=U/2-c[a]/2+O,M=Yt(D,x,I),v=f;i.modifiersData[o]=(t={},t[v]=M,t.centerOffset=M-x,t)}}function ca(e){var t=e.state,i=e.options,o=i.element,r=o===void 0?"[data-popper-arrow]":o;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||En(t.elements.popper,r)&&(t.elements.arrow=r))}const da={name:"arrow",enabled:!0,phase:"main",fn:la,effect:ca,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wt(e){return e.split("-")[1]}var ua={top:"auto",right:"auto",bottom:"auto",left:"auto"};function fa(e,t){var i=e.x,o=e.y,r=t.devicePixelRatio||1;return{x:Nt(i*r)/r||0,y:Nt(o*r)/r||0}}function dn(e){var t,i=e.popper,o=e.popperRect,r=e.placement,n=e.variation,l=e.offsets,s=e.position,f=e.gpuAcceleration,y=e.adaptive,a=e.roundOffsets,d=e.isFixed,c=l.x,u=c===void 0?0:c,b=l.y,T=b===void 0?0:b,S=typeof a=="function"?a({x:u,y:T}):{x:u,y:T};u=S.x,T=S.y;var w=l.hasOwnProperty("x"),U=l.hasOwnProperty("y"),O=He,D=We,I=window;if(y){var x=er(i),M="clientHeight",v="clientWidth";if(x===Xe(i)&&(x=Dt(i),gt(x).position!=="static"&&s==="absolute"&&(M="scrollHeight",v="scrollWidth")),x=x,r===We||(r===He||r===ot)&&n===Xt){D=nt;var h=d&&x===I&&I.visualViewport?I.visualViewport.height:x[M];T-=h-o.height,T*=f?1:-1}if(r===He||(r===We||r===nt)&&n===Xt){O=ot;var C=d&&x===I&&I.visualViewport?I.visualViewport.width:x[v];u-=C-o.width,u*=f?1:-1}}var j=Object.assign({position:s},y&&ua),k=a===!0?fa({x:u,y:T},Xe(i)):{x:u,y:T};if(u=k.x,T=k.y,f){var R;return Object.assign({},j,(R={},R[D]=U?"0":"",R[O]=w?"0":"",R.transform=(I.devicePixelRatio||1)<=1?"translate("+u+"px, "+T+"px)":"translate3d("+u+"px, "+T+"px, 0)",R))}return Object.assign({},j,(t={},t[D]=U?T+"px":"",t[O]=w?u+"px":"",t.transform="",t))}function pa(e){var t=e.state,i=e.options,o=i.gpuAcceleration,r=o===void 0?!0:o,n=i.adaptive,l=n===void 0?!0:n,s=i.roundOffsets,f=s===void 0?!0:s,y={placement:dt(t.placement),variation:Wt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,dn(Object.assign({},y,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:f})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,dn(Object.assign({},y,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const ha={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:pa,data:{}};var nr={passive:!0};function ga(e){var t=e.state,i=e.instance,o=e.options,r=o.scroll,n=r===void 0?!0:r,l=o.resize,s=l===void 0?!0:l,f=Xe(t.elements.popper),y=[].concat(t.scrollParents.reference,t.scrollParents.popper);return n&&y.forEach(function(a){a.addEventListener("scroll",i.update,nr)}),s&&f.addEventListener("resize",i.update,nr),function(){n&&y.forEach(function(a){a.removeEventListener("scroll",i.update,nr)}),s&&f.removeEventListener("resize",i.update,nr)}}const va={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ga,data:{}};var ma={left:"right",right:"left",bottom:"top",top:"bottom"};function ir(e){return e.replace(/left|right|bottom|top/g,function(t){return ma[t]})}var ba={start:"end",end:"start"};function un(e){return e.replace(/start|end/g,function(t){return ba[t]})}function Er(e){var t=Xe(e),i=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:i,scrollTop:o}}function _r(e){return Lt(Dt(e)).left+Er(e).scrollLeft}function ya(e,t){var i=Xe(e),o=Dt(e),r=i.visualViewport,n=o.clientWidth,l=o.clientHeight,s=0,f=0;if(r){n=r.width,l=r.height;var y=Un();(y||!y&&t==="fixed")&&(s=r.offsetLeft,f=r.offsetTop)}return{width:n,height:l,x:s+_r(e),y:f}}function xa(e){var t,i=Dt(e),o=Er(e),r=(t=e.ownerDocument)==null?void 0:t.body,n=$t(i.scrollWidth,i.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),l=$t(i.scrollHeight,i.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-o.scrollLeft+_r(e),f=-o.scrollTop;return gt(r||i).direction==="rtl"&&(s+=$t(i.clientWidth,r?r.clientWidth:0)-n),{width:n,height:l,x:s,y:f}}function Fr(e){var t=gt(e),i=t.overflow,o=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+r+o)}function Nn(e){return["html","body","#document"].indexOf(ut(e))>=0?e.ownerDocument.body:rt(e)&&Fr(e)?e:Nn(gr(e))}function Kt(e,t){var i;t===void 0&&(t=[]);var o=Nn(e),r=o===((i=e.ownerDocument)==null?void 0:i.body),n=Xe(o),l=r?[n].concat(n.visualViewport||[],Fr(o)?o:[]):o,s=t.concat(l);return r?s:s.concat(Kt(gr(l)))}function Tr(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function wa(e,t){var i=Lt(e,!1,t==="fixed");return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}function fn(e,t,i){return t===In?Tr(ya(e,i)):Ot(t)?wa(t,i):Tr(xa(Dt(e)))}function Ca(e){var t=Kt(gr(e)),i=["absolute","fixed"].indexOf(gt(e).position)>=0,o=i&&rt(e)?er(e):e;return Ot(o)?t.filter(function(r){return Ot(r)&&En(r,o)&&ut(r)!=="body"}):[]}function Ta(e,t,i,o){var r=t==="clippingParents"?Ca(e):[].concat(t),n=[].concat(r,[i]),l=n[0],s=n.reduce(function(f,y){var a=fn(e,y,o);return f.top=$t(a.top,f.top),f.right=dr(a.right,f.right),f.bottom=dr(a.bottom,f.bottom),f.left=$t(a.left,f.left),f},fn(e,l,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Ln(e){var t=e.reference,i=e.element,o=e.placement,r=o?dt(o):null,n=o?Wt(o):null,l=t.x+t.width/2-i.width/2,s=t.y+t.height/2-i.height/2,f;switch(r){case We:f={x:l,y:t.y-i.height};break;case nt:f={x:l,y:t.y+t.height};break;case ot:f={x:t.x+t.width,y:s};break;case He:f={x:t.x-i.width,y:s};break;default:f={x:t.x,y:t.y}}var y=r?Ur(r):null;if(y!=null){var a=y==="y"?"height":"width";switch(n){case Bt:f[y]=f[y]-(t[a]/2-i[a]/2);break;case Xt:f[y]=f[y]+(t[a]/2-i[a]/2);break}}return f}function Gt(e,t){t===void 0&&(t={});var i=t,o=i.placement,r=o===void 0?e.placement:o,n=i.strategy,l=n===void 0?e.strategy:n,s=i.boundary,f=s===void 0?Ho:s,y=i.rootBoundary,a=y===void 0?In:y,d=i.elementContext,c=d===void 0?qt:d,u=i.altBoundary,b=u===void 0?!1:u,T=i.padding,S=T===void 0?0:T,w=Fn(typeof S!="number"?S:Bn(S,Jt)),U=c===qt?zo:qt,O=e.rects.popper,D=e.elements[b?U:c],I=Ta(Ot(D)?D:D.contextElement||Dt(e.elements.popper),f,a,l),x=Lt(e.elements.reference),M=Ln({reference:x,element:O,strategy:"absolute",placement:r}),v=Tr(Object.assign({},O,M)),h=c===qt?v:x,C={top:I.top-h.top+w.top,bottom:h.bottom-I.bottom+w.bottom,left:I.left-h.left+w.left,right:h.right-I.right+w.right},j=e.modifiersData.offset;if(c===qt&&j){var k=j[r];Object.keys(C).forEach(function(R){var A=[ot,nt].indexOf(R)>=0?1:-1,P=[We,nt].indexOf(R)>=0?"y":"x";C[R]+=k[P]*A})}return C}function ja(e,t){t===void 0&&(t={});var i=t,o=i.placement,r=i.boundary,n=i.rootBoundary,l=i.padding,s=i.flipVariations,f=i.allowedAutoPlacements,y=f===void 0?Mn:f,a=Wt(o),d=a?s?ln:ln.filter(function(b){return Wt(b)===a}):Jt,c=d.filter(function(b){return y.indexOf(b)>=0});c.length===0&&(c=d);var u=c.reduce(function(b,T){return b[T]=Gt(e,{placement:T,boundary:r,rootBoundary:n,padding:l})[dt(T)],b},{});return Object.keys(u).sort(function(b,T){return u[b]-u[T]})}function Aa(e){if(dt(e)===Or)return[];var t=ir(e);return[un(e),t,un(t)]}function Da(e){var t=e.state,i=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var r=i.mainAxis,n=r===void 0?!0:r,l=i.altAxis,s=l===void 0?!0:l,f=i.fallbackPlacements,y=i.padding,a=i.boundary,d=i.rootBoundary,c=i.altBoundary,u=i.flipVariations,b=u===void 0?!0:u,T=i.allowedAutoPlacements,S=t.options.placement,w=dt(S),U=w===S,O=f||(U||!b?[ir(S)]:Aa(S)),D=[S].concat(O).reduce(function(L,F){return L.concat(dt(F)===Or?ja(t,{placement:F,boundary:a,rootBoundary:d,padding:y,flipVariations:b,allowedAutoPlacements:T}):F)},[]),I=t.rects.reference,x=t.rects.popper,M=new Map,v=!0,h=D[0],C=0;C<D.length;C++){var j=D[C],k=dt(j),R=Wt(j)===Bt,A=[We,nt].indexOf(k)>=0,P=A?"width":"height",g=Gt(t,{placement:j,boundary:a,rootBoundary:d,altBoundary:c,padding:y}),p=A?R?ot:He:R?nt:We;I[P]>x[P]&&(p=ir(p));var B=ir(p),$=[];if(n&&$.push(g[k]<=0),s&&$.push(g[p]<=0,g[B]<=0),$.every(function(L){return L})){h=j,v=!1;break}M.set(j,$)}if(v)for(var N=b?3:1,V=function(F){var Y=D.find(function(oe){var K=M.get(oe);if(K)return K.slice(0,F).every(function(Z){return Z})});if(Y)return h=Y,"break"},W=N;W>0;W--){var z=V(W);if(z==="break")break}t.placement!==h&&(t.modifiersData[o]._skip=!0,t.placement=h,t.reset=!0)}}const Sa={name:"flip",enabled:!0,phase:"main",fn:Da,requiresIfExists:["offset"],data:{_skip:!1}};function pn(e,t,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function hn(e){return[We,ot,nt,He].some(function(t){return e[t]>=0})}function ka(e){var t=e.state,i=e.name,o=t.rects.reference,r=t.rects.popper,n=t.modifiersData.preventOverflow,l=Gt(t,{elementContext:"reference"}),s=Gt(t,{altBoundary:!0}),f=pn(l,o),y=pn(s,r,n),a=hn(f),d=hn(y);t.modifiersData[i]={referenceClippingOffsets:f,popperEscapeOffsets:y,isReferenceHidden:a,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":a,"data-popper-escaped":d})}const Ra={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ka};function Pa(e,t,i){var o=dt(e),r=[He,We].indexOf(o)>=0?-1:1,n=typeof i=="function"?i(Object.assign({},t,{placement:e})):i,l=n[0],s=n[1];return l=l||0,s=(s||0)*r,[He,ot].indexOf(o)>=0?{x:s,y:l}:{x:l,y:s}}function $a(e){var t=e.state,i=e.options,o=e.name,r=i.offset,n=r===void 0?[0,0]:r,l=Mn.reduce(function(a,d){return a[d]=Pa(d,t.rects,n),a},{}),s=l[t.placement],f=s.x,y=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=f,t.modifiersData.popperOffsets.y+=y),t.modifiersData[o]=l}const Oa={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$a};function Ia(e){var t=e.state,i=e.name;t.modifiersData[i]=Ln({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Ma={name:"popperOffsets",enabled:!0,phase:"read",fn:Ia,data:{}};function Ua(e){return e==="x"?"y":"x"}function Ea(e){var t=e.state,i=e.options,o=e.name,r=i.mainAxis,n=r===void 0?!0:r,l=i.altAxis,s=l===void 0?!1:l,f=i.boundary,y=i.rootBoundary,a=i.altBoundary,d=i.padding,c=i.tether,u=c===void 0?!0:c,b=i.tetherOffset,T=b===void 0?0:b,S=Gt(t,{boundary:f,rootBoundary:y,padding:d,altBoundary:a}),w=dt(t.placement),U=Wt(t.placement),O=!U,D=Ur(w),I=Ua(D),x=t.modifiersData.popperOffsets,M=t.rects.reference,v=t.rects.popper,h=typeof T=="function"?T(Object.assign({},t.rects,{placement:t.placement})):T,C=typeof h=="number"?{mainAxis:h,altAxis:h}:Object.assign({mainAxis:0,altAxis:0},h),j=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,k={x:0,y:0};if(x){if(n){var R,A=D==="y"?We:He,P=D==="y"?nt:ot,g=D==="y"?"height":"width",p=x[D],B=p+S[A],$=p-S[P],N=u?-v[g]/2:0,V=U===Bt?M[g]:v[g],W=U===Bt?-v[g]:-M[g],z=t.elements.arrow,L=u&&z?Mr(z):{width:0,height:0},F=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:_n(),Y=F[A],oe=F[P],K=Yt(0,M[g],L[g]),Z=O?M[g]/2-N-K-Y-C.mainAxis:V-K-Y-C.mainAxis,re=O?-M[g]/2+N+K+oe+C.mainAxis:W+K+oe+C.mainAxis,ie=t.elements.arrow&&er(t.elements.arrow),ce=ie?D==="y"?ie.clientTop||0:ie.clientLeft||0:0,Fe=(R=j==null?void 0:j[D])!=null?R:0,ye=p+Z-Fe-ce,ae=p+re-Fe,ue=Yt(u?dr(B,ye):B,p,u?$t($,ae):$);x[D]=ue,k[D]=ue-p}if(s){var se,G=D==="x"?We:He,be=D==="x"?nt:ot,he=x[I],fe=I==="y"?"height":"width",xe=he+S[G],ge=he-S[be],le=[We,He].indexOf(w)!==-1,je=(se=j==null?void 0:j[I])!=null?se:0,ke=le?xe:he-M[fe]-v[fe]-je+C.altAxis,Je=le?he+M[fe]+v[fe]-je-C.altAxis:ge,we=u&&le?ia(ke,he,Je):Yt(u?ke:xe,he,u?Je:ge);x[I]=we,k[I]=we-he}t.modifiersData[o]=k}}const _a={name:"preventOverflow",enabled:!0,phase:"main",fn:Ea,requiresIfExists:["offset"]};function Fa(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Ba(e){return e===Xe(e)||!rt(e)?Er(e):Fa(e)}function Na(e){var t=e.getBoundingClientRect(),i=Nt(t.width)/e.offsetWidth||1,o=Nt(t.height)/e.offsetHeight||1;return i!==1||o!==1}function La(e,t,i){i===void 0&&(i=!1);var o=rt(t),r=rt(t)&&Na(t),n=Dt(t),l=Lt(e,r,i),s={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(o||!o&&!i)&&((ut(t)!=="body"||Fr(n))&&(s=Ba(t)),rt(t)?(f=Lt(t,!0),f.x+=t.clientLeft,f.y+=t.clientTop):n&&(f.x=_r(n))),{x:l.left+s.scrollLeft-f.x,y:l.top+s.scrollTop-f.y,width:l.width,height:l.height}}function Wa(e){var t=new Map,i=new Set,o=[];e.forEach(function(n){t.set(n.name,n)});function r(n){i.add(n.name);var l=[].concat(n.requires||[],n.requiresIfExists||[]);l.forEach(function(s){if(!i.has(s)){var f=t.get(s);f&&r(f)}}),o.push(n)}return e.forEach(function(n){i.has(n.name)||r(n)}),o}function Ha(e){var t=Wa(e);return ea.reduce(function(i,o){return i.concat(t.filter(function(r){return r.phase===o}))},[])}function za(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}function Va(e){var t=e.reduce(function(i,o){var r=i[o.name];return i[o.name]=r?Object.assign({},r,o,{options:Object.assign({},r.options,o.options),data:Object.assign({},r.data,o.data)}):o,i},{});return Object.keys(t).map(function(i){return t[i]})}var gn={placement:"bottom",modifiers:[],strategy:"absolute"};function vn(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function qa(e){e===void 0&&(e={});var t=e,i=t.defaultModifiers,o=i===void 0?[]:i,r=t.defaultOptions,n=r===void 0?gn:r;return function(s,f,y){y===void 0&&(y=n);var a={placement:"bottom",orderedModifiers:[],options:Object.assign({},gn,n),modifiersData:{},elements:{reference:s,popper:f},attributes:{},styles:{}},d=[],c=!1,u={state:a,setOptions:function(w){var U=typeof w=="function"?w(a.options):w;T(),a.options=Object.assign({},n,a.options,U),a.scrollParents={reference:Ot(s)?Kt(s):s.contextElement?Kt(s.contextElement):[],popper:Kt(f)};var O=Ha(Va([].concat(o,a.options.modifiers)));return a.orderedModifiers=O.filter(function(D){return D.enabled}),b(),u.update()},forceUpdate:function(){if(!c){var w=a.elements,U=w.reference,O=w.popper;if(vn(U,O)){a.rects={reference:La(U,er(O),a.options.strategy==="fixed"),popper:Mr(O)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(C){return a.modifiersData[C.name]=Object.assign({},C.data)});for(var D=0;D<a.orderedModifiers.length;D++){if(a.reset===!0){a.reset=!1,D=-1;continue}var I=a.orderedModifiers[D],x=I.fn,M=I.options,v=M===void 0?{}:M,h=I.name;typeof x=="function"&&(a=x({state:a,options:v,name:h,instance:u})||a)}}}},update:za(function(){return new Promise(function(S){u.forceUpdate(),S(a)})}),destroy:function(){T(),c=!0}};if(!vn(s,f))return u;u.setOptions(y).then(function(S){!c&&y.onFirstUpdate&&y.onFirstUpdate(S)});function b(){a.orderedModifiers.forEach(function(S){var w=S.name,U=S.options,O=U===void 0?{}:U,D=S.effect;if(typeof D=="function"){var I=D({state:a,name:w,instance:u,options:O}),x=function(){};d.push(I||x)}})}function T(){d.forEach(function(S){return S()}),d=[]}return u}}var Qa=[va,Ma,ha,na,Oa,Sa,_a,da,Ra],Ya=qa({defaultModifiers:Qa});const Wn="Popper";function Ka(e){return On(Wn,e)}Wo(Wn,["root"]);const Xa=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Ga=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Za(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function jr(e){return typeof e=="function"?e():e}function Ja(e){return e.nodeType!==void 0}const ei=()=>ze({root:["root"]},Bo(Ka)),ti={},ri=_.forwardRef(function(t,i){var o;const{anchorEl:r,children:n,direction:l,disablePortal:s,modifiers:f,open:y,placement:a,popperOptions:d,popperRef:c,slotProps:u={},slots:b={},TransitionProps:T}=t,S=Me(t,Xa),w=_.useRef(null),U=cr(w,i),O=_.useRef(null),D=cr(O,c),I=_.useRef(D);nn(()=>{I.current=D},[D]),_.useImperativeHandle(c,()=>O.current,[]);const x=Za(a,l),[M,v]=_.useState(x),[h,C]=_.useState(jr(r));_.useEffect(()=>{O.current&&O.current.forceUpdate()}),_.useEffect(()=>{r&&C(jr(r))},[r]),nn(()=>{if(!h||!y)return;const P=B=>{v(B.placement)};let g=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:B})=>{P(B)}}];f!=null&&(g=g.concat(f)),d&&d.modifiers!=null&&(g=g.concat(d.modifiers));const p=Ya(h,w.current,Q({placement:x},d,{modifiers:g}));return I.current(p),()=>{p.destroy(),I.current(null)}},[h,s,f,y,d,x]);const j={placement:M};T!==null&&(j.TransitionProps=T);const k=ei(),R=(o=b.root)!=null?o:"div",A=So({elementType:R,externalSlotProps:u.root,externalForwardedProps:S,additionalProps:{role:"tooltip",ref:U},ownerState:t,className:k.root});return m.jsx(R,Q({},A,{children:typeof n=="function"?n(j):n}))}),ni=_.forwardRef(function(t,i){const{anchorEl:o,children:r,container:n,direction:l="ltr",disablePortal:s=!1,keepMounted:f=!1,modifiers:y,open:a,placement:d="bottom",popperOptions:c=ti,popperRef:u,style:b,transition:T=!1,slotProps:S={},slots:w={}}=t,U=Me(t,Ga),[O,D]=_.useState(!0),I=()=>{D(!1)},x=()=>{D(!0)};if(!f&&!a&&(!T||O))return null;let M;if(n)M=n;else if(o){const C=jr(o);M=C&&Ja(C)?rn(C).body:rn(null).body}const v=!a&&f&&(!T||O)?"none":void 0,h=T?{in:a,onEnter:I,onExited:x}:void 0;return m.jsx(Do,{disablePortal:s,container:M,children:m.jsx(ri,Q({anchorEl:o,direction:l,disablePortal:s,modifiers:y,ref:i,open:T?!O:a,placement:d,popperOptions:c,popperRef:u,slotProps:S,slots:w},U,{style:Q({position:"fixed",top:0,left:0,display:v},b),TransitionProps:h,children:r}))})});var Br={};Object.defineProperty(Br,"__esModule",{value:!0});var Hn=Br.default=void 0,oi=ii(_),ai=vo;function zn(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,i=new WeakMap;return(zn=function(o){return o?i:t})(e)}function ii(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var i=zn(t);if(i&&i.has(e))return i.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)){var l=r?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(o,n,l):o[n]=e[n]}return o.default=e,i&&i.set(e,o),o}function si(e){return Object.keys(e).length===0}function li(e=null){const t=oi.useContext(ai.ThemeContext);return!t||si(t)?e:t}Hn=Br.default=li;const ci=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],di=Se(ni,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ui=_.forwardRef(function(t,i){var o;const r=Hn(),n=Ve({props:t,name:"MuiPopper"}),{anchorEl:l,component:s,components:f,componentsProps:y,container:a,disablePortal:d,keepMounted:c,modifiers:u,open:b,placement:T,popperOptions:S,popperRef:w,transition:U,slots:O,slotProps:D}=n,I=Me(n,ci),x=(o=O==null?void 0:O.root)!=null?o:f==null?void 0:f.Root,M=Q({anchorEl:l,container:a,disablePortal:d,keepMounted:c,modifiers:u,open:b,placement:T,popperOptions:S,popperRef:w,transition:U},I);return m.jsx(di,Q({as:s,direction:r==null?void 0:r.direction,slots:{root:x},slotProps:D??y},M,{ref:i}))}),Vn=ui,fi=ko(m.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function pi(e){return Ze("MuiChip",e)}const hi=Ge("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),de=hi,gi=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],vi=e=>{const{classes:t,disabled:i,size:o,color:r,iconColor:n,onDelete:l,clickable:s,variant:f}=e,y={root:["root",f,i&&"disabled",`size${J(o)}`,`color${J(r)}`,s&&"clickable",s&&`clickableColor${J(r)}`,l&&"deletable",l&&`deletableColor${J(r)}`,`${f}${J(r)}`],label:["label",`label${J(o)}`],avatar:["avatar",`avatar${J(o)}`,`avatarColor${J(r)}`],icon:["icon",`icon${J(o)}`,`iconColor${J(n)}`],deleteIcon:["deleteIcon",`deleteIcon${J(o)}`,`deleteIconColor${J(r)}`,`deleteIcon${J(f)}Color${J(r)}`]};return ze(y,pi,t)},mi=Se("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e,{color:o,iconColor:r,clickable:n,onDelete:l,size:s,variant:f}=i;return[{[`& .${de.avatar}`]:t.avatar},{[`& .${de.avatar}`]:t[`avatar${J(s)}`]},{[`& .${de.avatar}`]:t[`avatarColor${J(o)}`]},{[`& .${de.icon}`]:t.icon},{[`& .${de.icon}`]:t[`icon${J(s)}`]},{[`& .${de.icon}`]:t[`iconColor${J(r)}`]},{[`& .${de.deleteIcon}`]:t.deleteIcon},{[`& .${de.deleteIcon}`]:t[`deleteIcon${J(s)}`]},{[`& .${de.deleteIcon}`]:t[`deleteIconColor${J(o)}`]},{[`& .${de.deleteIcon}`]:t[`deleteIcon${J(f)}Color${J(o)}`]},t.root,t[`size${J(s)}`],t[`color${J(o)}`],n&&t.clickable,n&&o!=="default"&&t[`clickableColor${J(o)})`],l&&t.deletable,l&&o!=="default"&&t[`deletableColor${J(o)}`],t[f],t[`${f}${J(o)}`]]}})(({theme:e,ownerState:t})=>{const i=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return Q({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${de.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${de.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:i,fontSize:e.typography.pxToRem(12)},[`& .${de.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${de.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${de.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${de.icon}`]:Q({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&Q({color:e.vars?e.vars.palette.Chip.defaultIconColor:i},t.color!=="default"&&{color:"inherit"})),[`& .${de.deleteIcon}`]:Q({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:Ie(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:Ie(e.palette.text.primary,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:Ie(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${de.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ie(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${de.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>Q({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ie(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${de.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ie(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${de.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>Q({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${de.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${de.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${de.avatar}`]:{marginLeft:4},[`& .${de.avatarSmall}`]:{marginLeft:2},[`& .${de.icon}`]:{marginLeft:4},[`& .${de.iconSmall}`]:{marginLeft:2},[`& .${de.deleteIcon}`]:{marginRight:5},[`& .${de.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:Ie(e.palette[t.color].main,.7)}`,[`&.${de.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ie(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${de.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:Ie(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${de.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:Ie(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),bi=Se("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:i}=e,{size:o}=i;return[t.label,t[`label${J(o)}`]]}})(({ownerState:e})=>Q({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.variant==="outlined"&&{paddingLeft:11,paddingRight:11},e.size==="small"&&{paddingLeft:8,paddingRight:8},e.size==="small"&&e.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function mn(e){return e.key==="Backspace"||e.key==="Delete"}const yi=_.forwardRef(function(t,i){const o=Ve({props:t,name:"MuiChip"}),{avatar:r,className:n,clickable:l,color:s="default",component:f,deleteIcon:y,disabled:a=!1,icon:d,label:c,onClick:u,onDelete:b,onKeyDown:T,onKeyUp:S,size:w="medium",variant:U="filled",tabIndex:O,skipFocusWhenDisabled:D=!1}=o,I=Me(o,gi),x=_.useRef(null),M=cr(x,i),v=$=>{$.stopPropagation(),b&&b($)},h=$=>{$.currentTarget===$.target&&mn($)&&$.preventDefault(),T&&T($)},C=$=>{$.currentTarget===$.target&&(b&&mn($)?b($):$.key==="Escape"&&x.current&&x.current.blur()),S&&S($)},j=l!==!1&&u?!0:l,k=j||b?on:f||"div",R=Q({},o,{component:k,disabled:a,size:w,color:s,iconColor:_.isValidElement(d)&&d.props.color||s,onDelete:!!b,clickable:j,variant:U}),A=vi(R),P=k===on?Q({component:f||"div",focusVisibleClassName:A.focusVisible},b&&{disableRipple:!0}):{};let g=null;b&&(g=y&&_.isValidElement(y)?_.cloneElement(y,{className:Te(y.props.className,A.deleteIcon),onClick:v}):m.jsx(fi,{className:Te(A.deleteIcon),onClick:v}));let p=null;r&&_.isValidElement(r)&&(p=_.cloneElement(r,{className:Te(A.avatar,r.props.className)}));let B=null;return d&&_.isValidElement(d)&&(B=_.cloneElement(d,{className:Te(A.icon,d.props.className)})),m.jsxs(mi,Q({as:k,className:Te(A.root,n),disabled:j&&a?!0:void 0,onClick:u,onKeyDown:h,onKeyUp:C,ref:M,tabIndex:D&&a?-1:O,ownerState:R},P,I,{children:[p||B,m.jsx(bi,{className:Te(A.label),ownerState:R,children:c}),g]}))}),bn=yi;function xi(e){return Ze("MuiDialog",e)}const wi=Ge("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),yr=wi,Ci=_.createContext({}),qn=Ci,Ti=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],ji=Se(Ro,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Ai=e=>{const{classes:t,scroll:i,maxWidth:o,fullWidth:r,fullScreen:n}=e,l={root:["root"],container:["container",`scroll${J(i)}`],paper:["paper",`paperScroll${J(i)}`,`paperWidth${J(String(o))}`,r&&"paperFullWidth",n&&"paperFullScreen"]};return ze(l,xi,t)},Di=Se(Po,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Si=Se("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.container,t[`scroll${J(i.scroll)}`]]}})(({ownerState:e})=>Q({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),ki=Se(Pr,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.paper,t[`scrollPaper${J(i.scroll)}`],t[`paperWidth${J(String(i.maxWidth))}`],i.fullWidth&&t.paperFullWidth,i.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>Q({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${yr.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${yr.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${yr.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Ri=_.forwardRef(function(t,i){const o=Ve({props:t,name:"MuiDialog"}),r=Rn(),n={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":s,BackdropComponent:f,BackdropProps:y,children:a,className:d,disableEscapeKeyDown:c=!1,fullScreen:u=!1,fullWidth:b=!1,maxWidth:T="sm",onBackdropClick:S,onClose:w,open:U,PaperComponent:O=Pr,PaperProps:D={},scroll:I="paper",TransitionComponent:x=$o,transitionDuration:M=n,TransitionProps:v}=o,h=Me(o,Ti),C=Q({},o,{disableEscapeKeyDown:c,fullScreen:u,fullWidth:b,maxWidth:T,scroll:I}),j=Ai(C),k=_.useRef(),R=p=>{k.current=p.target===p.currentTarget},A=p=>{k.current&&(k.current=null,S&&S(p),w&&w(p,"backdropClick"))},P=Pn(s),g=_.useMemo(()=>({titleId:P}),[P]);return m.jsx(Di,Q({className:Te(j.root,d),closeAfterTransition:!0,components:{Backdrop:ji},componentsProps:{backdrop:Q({transitionDuration:M,as:f},y)},disableEscapeKeyDown:c,onClose:w,open:U,ref:i,onClick:A,ownerState:C},h,{children:m.jsx(x,Q({appear:!0,in:U,timeout:M,role:"presentation"},v,{children:m.jsx(Si,{className:Te(j.container),onMouseDown:R,ownerState:C,children:m.jsx(ki,Q({as:O,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":P},D,{className:Te(j.paper,D.className),ownerState:C,children:m.jsx(qn.Provider,{value:g,children:a})}))})}))}))}),xt=Ri;function Pi(e){return Ze("MuiDialogActions",e)}Ge("MuiDialogActions",["root","spacing"]);const $i=["className","disableSpacing"],Oi=e=>{const{classes:t,disableSpacing:i}=e;return ze({root:["root",!i&&"spacing"]},Pi,t)},Ii=Se("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,!i.disableSpacing&&t.spacing]}})(({ownerState:e})=>Q({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Mi=_.forwardRef(function(t,i){const o=Ve({props:t,name:"MuiDialogActions"}),{className:r,disableSpacing:n=!1}=o,l=Me(o,$i),s=Q({},o,{disableSpacing:n}),f=Oi(s);return m.jsx(Ii,Q({className:Te(f.root,r),ownerState:s,ref:i},l))}),It=Mi;function Ui(e){return Ze("MuiDialogContent",e)}Ge("MuiDialogContent",["root","dividers"]);function Ei(e){return Ze("MuiDialogTitle",e)}const _i=Ge("MuiDialogTitle",["root"]),Fi=_i,Bi=["className","dividers"],Ni=e=>{const{classes:t,dividers:i}=e;return ze({root:["root",i&&"dividers"]},Ui,t)},Li=Se("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>Q({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${Fi.root} + &`]:{paddingTop:0}})),Wi=_.forwardRef(function(t,i){const o=Ve({props:t,name:"MuiDialogContent"}),{className:r,dividers:n=!1}=o,l=Me(o,Bi),s=Q({},o,{dividers:n}),f=Ni(s);return m.jsx(Li,Q({className:Te(f.root,r),ownerState:s,ref:i},l))}),wt=Wi;function Hi(e){return Ze("MuiDialogContentText",e)}Ge("MuiDialogContentText",["root"]);const zi=["children","className"],Vi=e=>{const{classes:t}=e,o=ze({root:["root"]},Hi,t);return Q({},t,o)},qi=Se($r,{shouldForwardProp:e=>mo(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Qi=_.forwardRef(function(t,i){const o=Ve({props:t,name:"MuiDialogContentText"}),{className:r}=o,n=Me(o,zi),l=Vi(n);return m.jsx(qi,Q({component:"p",variant:"body1",color:"text.secondary",ref:i,ownerState:n,className:Te(l.root,r)},o,{classes:l}))}),zt=Qi,Yi=["className","id"],Ki=e=>{const{classes:t}=e;return ze({root:["root"]},Ei,t)},Xi=Se($r,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Gi=_.forwardRef(function(t,i){const o=Ve({props:t,name:"MuiDialogTitle"}),{className:r,id:n}=o,l=Me(o,Yi),s=o,f=Ki(s),{titleId:y=n}=_.useContext(qn);return m.jsx(Xi,Q({component:"h2",className:Te(f.root,r),ownerState:s,ref:i,variant:"h6",id:n??y},l))}),Mt=Gi;function Zi(e){return Ze("MuiTooltip",e)}const Ji=Ge("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),yt=Ji,es=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function ts(e){return Math.round(e*1e5)/1e5}const rs=e=>{const{classes:t,disableInteractive:i,arrow:o,touch:r,placement:n}=e,l={popper:["popper",!i&&"popperInteractive",o&&"popperArrow"],tooltip:["tooltip",o&&"tooltipArrow",r&&"touch",`tooltipPlacement${J(n.split("-")[0])}`],arrow:["arrow"]};return ze(l,Zi,t)},ns=Se(Vn,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.popper,!i.disableInteractive&&t.popperInteractive,i.arrow&&t.popperArrow,!i.open&&t.popperClose]}})(({theme:e,ownerState:t,open:i})=>Q({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!i&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${yt.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${yt.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${yt.arrow}`]:Q({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${yt.arrow}`]:Q({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),os=Se("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.tooltip,i.touch&&t.touch,i.arrow&&t.tooltipArrow,t[`tooltipPlacement${J(i.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>Q({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:Ie(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${ts(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${yt.popper}[data-popper-placement*="left"] &`]:Q({transformOrigin:"right center"},t.isRtl?Q({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):Q({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${yt.popper}[data-popper-placement*="right"] &`]:Q({transformOrigin:"left center"},t.isRtl?Q({marginRight:"14px"},t.touch&&{marginRight:"24px"}):Q({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${yt.popper}[data-popper-placement*="top"] &`]:Q({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${yt.popper}[data-popper-placement*="bottom"] &`]:Q({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),as=Se("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:Ie(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let or=!1;const yn=new Uo;let Qt={x:0,y:0};function ar(e,t){return(i,...o)=>{t&&t(i,...o),e(i,...o)}}const is=_.forwardRef(function(t,i){var o,r,n,l,s,f,y,a,d,c,u,b,T,S,w,U,O,D,I;const x=Ve({props:t,name:"MuiTooltip"}),{arrow:M=!1,children:v,components:h={},componentsProps:C={},describeChild:j=!1,disableFocusListener:k=!1,disableHoverListener:R=!1,disableInteractive:A=!1,disableTouchListener:P=!1,enterDelay:g=100,enterNextDelay:p=0,enterTouchDelay:B=700,followCursor:$=!1,id:N,leaveDelay:V=0,leaveTouchDelay:W=1500,onClose:z,onOpen:L,open:F,placement:Y="bottom",PopperComponent:oe,PopperProps:K={},slotProps:Z={},slots:re={},title:ie,TransitionComponent:ce=sn,TransitionProps:Fe}=x,ye=Me(x,es),ae=_.isValidElement(v)?v:m.jsx("span",{children:v}),ue=Rn(),se=Oo(),[G,be]=_.useState(),[he,fe]=_.useState(null),xe=_.useRef(!1),ge=A||$,le=tr(),je=tr(),ke=tr(),Je=tr(),[we,Be]=Io({controlled:F,default:!1,name:"Tooltip",state:"open"});let ve=we;const Re=Pn(N),Ae=_.useRef(),Pe=an(()=>{Ae.current!==void 0&&(document.body.style.WebkitUserSelect=Ae.current,Ae.current=void 0),Je.clear()});_.useEffect(()=>Pe,[Pe]);const Ue=ne=>{yn.clear(),or=!0,Be(!0),L&&!ve&&L(ne)},Ne=an(ne=>{yn.start(800+V,()=>{or=!1}),Be(!1),z&&ve&&z(ne),le.start(ue.transitions.duration.shortest,()=>{xe.current=!1})}),it=ne=>{xe.current&&ne.type!=="touchstart"||(G&&G.removeAttribute("title"),je.clear(),ke.clear(),g||or&&p?je.start(or?p:g,()=>{Ue(ne)}):Ue(ne))},St=ne=>{je.clear(),ke.start(V,()=>{Ne(ne)})},{isFocusVisibleRef:vt,onBlur:Ut,onFocus:ft,ref:Vt}=Mo(),[,qe]=_.useState(!1),E=ne=>{Ut(ne),vt.current===!1&&(qe(!1),St(ne))},q=ne=>{G||be(ne.currentTarget),ft(ne),vt.current===!0&&(qe(!0),it(ne))},H=ne=>{xe.current=!0;const Qe=ae.props;Qe.onTouchStart&&Qe.onTouchStart(ne)},ee=ne=>{H(ne),ke.clear(),le.clear(),Pe(),Ae.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Je.start(B,()=>{document.body.style.WebkitUserSelect=Ae.current,it(ne)})},X=ne=>{ae.props.onTouchEnd&&ae.props.onTouchEnd(ne),Pe(),ke.start(W,()=>{Ne(ne)})};_.useEffect(()=>{if(!ve)return;function ne(Qe){(Qe.key==="Escape"||Qe.key==="Esc")&&Ne(Qe)}return document.addEventListener("keydown",ne),()=>{document.removeEventListener("keydown",ne)}},[Ne,ve]);const te=cr(ae.ref,Vt,be,i);!ie&&ie!==0&&(ve=!1);const pe=_.useRef(),$e=ne=>{const Qe=ae.props;Qe.onMouseMove&&Qe.onMouseMove(ne),Qt={x:ne.clientX,y:ne.clientY},pe.current&&pe.current.update()},De={},et=typeof ie=="string";j?(De.title=!ve&&et&&!R?ie:null,De["aria-describedby"]=ve?Re:null):(De["aria-label"]=et?ie:null,De["aria-labelledby"]=ve&&!et?Re:null);const Ce=Q({},De,ye,ae.props,{className:Te(ye.className,ae.props.className),onTouchStart:H,ref:te},$?{onMouseMove:$e}:{}),pt={};P||(Ce.onTouchStart=ee,Ce.onTouchEnd=X),R||(Ce.onMouseOver=ar(it,Ce.onMouseOver),Ce.onMouseLeave=ar(St,Ce.onMouseLeave),ge||(pt.onMouseOver=it,pt.onMouseLeave=St)),k||(Ce.onFocus=ar(q,Ce.onFocus),Ce.onBlur=ar(E,Ce.onBlur),ge||(pt.onFocus=q,pt.onBlur=E));const Xr=_.useMemo(()=>{var ne;let Qe=[{name:"arrow",enabled:!!he,options:{element:he,padding:4}}];return(ne=K.popperOptions)!=null&&ne.modifiers&&(Qe=Qe.concat(K.popperOptions.modifiers)),Q({},K.popperOptions,{modifiers:Qe})},[he,K]),kt=Q({},x,{isRtl:se,arrow:M,disableInteractive:ge,placement:Y,PopperComponentProp:oe,touch:xe.current}),st=rs(kt),lt=(o=(r=re.popper)!=null?r:h.Popper)!=null?o:ns,Gr=(n=(l=(s=re.transition)!=null?s:h.Transition)!=null?l:ce)!=null?n:sn,Zr=(f=(y=re.tooltip)!=null?y:h.Tooltip)!=null?f:os,Jr=(a=(d=re.arrow)!=null?d:h.Arrow)!=null?a:as,uo=rr(lt,Q({},K,(c=Z.popper)!=null?c:C.popper,{className:Te(st.popper,K==null?void 0:K.className,(u=(b=Z.popper)!=null?b:C.popper)==null?void 0:u.className)}),kt),fo=rr(Gr,Q({},Fe,(T=Z.transition)!=null?T:C.transition),kt),po=rr(Zr,Q({},(S=Z.tooltip)!=null?S:C.tooltip,{className:Te(st.tooltip,(w=(U=Z.tooltip)!=null?U:C.tooltip)==null?void 0:w.className)}),kt),ho=rr(Jr,Q({},(O=Z.arrow)!=null?O:C.arrow,{className:Te(st.arrow,(D=(I=Z.arrow)!=null?I:C.arrow)==null?void 0:D.className)}),kt);return m.jsxs(_.Fragment,{children:[_.cloneElement(ae,Ce),m.jsx(lt,Q({as:oe??Vn,placement:Y,anchorEl:$?{getBoundingClientRect:()=>({top:Qt.y,left:Qt.x,right:Qt.x,bottom:Qt.y,width:0,height:0})}:G,popperRef:pe,open:G?ve:!1,id:Re,transition:!0},pt,uo,{popperOptions:Xr,children:({TransitionProps:ne})=>m.jsx(Gr,Q({timeout:ue.transitions.duration.shorter},ne,fo,{children:m.jsxs(Zr,Q({},po,{children:[ie,M?m.jsx(Jr,Q({},ho,{ref:fe})):null]}))}))}))]})}),Ar=is,ss=_.createContext(),Qn=ss;function ls(e){return Ze("MuiTable",e)}Ge("MuiTable",["root","stickyHeader"]);const cs=["className","component","padding","size","stickyHeader"],ds=e=>{const{classes:t,stickyHeader:i}=e;return ze({root:["root",i&&"stickyHeader"]},ls,t)},us=Se("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>Q({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":Q({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),xn="table",fs=_.forwardRef(function(t,i){const o=Ve({props:t,name:"MuiTable"}),{className:r,component:n=xn,padding:l="normal",size:s="medium",stickyHeader:f=!1}=o,y=Me(o,cs),a=Q({},o,{component:n,padding:l,size:s,stickyHeader:f}),d=ds(a),c=_.useMemo(()=>({padding:l,size:s,stickyHeader:f}),[l,s,f]);return m.jsx(Qn.Provider,{value:c,children:m.jsx(us,Q({as:n,role:n===xn?null:"table",ref:i,className:Te(d.root,r),ownerState:a},y))})}),ps=fs,hs=_.createContext(),vr=hs;function gs(e){return Ze("MuiTableBody",e)}Ge("MuiTableBody",["root"]);const vs=["className","component"],ms=e=>{const{classes:t}=e;return ze({root:["root"]},gs,t)},bs=Se("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),ys={variant:"body"},wn="tbody",xs=_.forwardRef(function(t,i){const o=Ve({props:t,name:"MuiTableBody"}),{className:r,component:n=wn}=o,l=Me(o,vs),s=Q({},o,{component:n}),f=ms(s);return m.jsx(vr.Provider,{value:ys,children:m.jsx(bs,Q({className:Te(f.root,r),as:n,ref:i,role:n===wn?null:"rowgroup",ownerState:s},l))})}),ws=xs;function Cs(e){return Ze("MuiTableCell",e)}const Ts=Ge("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),js=Ts,As=["align","className","component","padding","scope","size","sortDirection","variant"],Ds=e=>{const{classes:t,variant:i,align:o,padding:r,size:n,stickyHeader:l}=e,s={root:["root",i,l&&"stickyHeader",o!=="inherit"&&`align${J(o)}`,r!=="normal"&&`padding${J(r)}`,`size${J(n)}`]};return ze(s,Cs,t)},Ss=Se("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[i.variant],t[`size${J(i.size)}`],i.padding!=="normal"&&t[`padding${J(i.padding)}`],i.align!=="inherit"&&t[`align${J(i.align)}`],i.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>Q({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?bo(Ie(e.palette.divider,1),.88):yo(Ie(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${js.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),ks=_.forwardRef(function(t,i){const o=Ve({props:t,name:"MuiTableCell"}),{align:r="inherit",className:n,component:l,padding:s,scope:f,size:y,sortDirection:a,variant:d}=o,c=Me(o,As),u=_.useContext(Qn),b=_.useContext(vr),T=b&&b.variant==="head";let S;l?S=l:S=T?"th":"td";let w=f;S==="td"?w=void 0:!w&&T&&(w="col");const U=d||b&&b.variant,O=Q({},o,{align:r,component:S,padding:s||(u&&u.padding?u.padding:"normal"),size:y||(u&&u.size?u.size:"medium"),sortDirection:a,stickyHeader:U==="head"&&u&&u.stickyHeader,variant:U}),D=Ds(O);let I=null;return a&&(I=a==="asc"?"ascending":"descending"),m.jsx(Ss,Q({as:S,ref:i,className:Te(D.root,n),"aria-sort":I,scope:w,ownerState:O},c))}),Ye=ks;function Rs(e){return Ze("MuiTableContainer",e)}Ge("MuiTableContainer",["root"]);const Ps=["className","component"],$s=e=>{const{classes:t}=e;return ze({root:["root"]},Rs,t)},Os=Se("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),Is=_.forwardRef(function(t,i){const o=Ve({props:t,name:"MuiTableContainer"}),{className:r,component:n="div"}=o,l=Me(o,Ps),s=Q({},o,{component:n}),f=$s(s);return m.jsx(Os,Q({ref:i,as:n,className:Te(f.root,r),ownerState:s},l))}),Ms=Is;function Us(e){return Ze("MuiTableHead",e)}Ge("MuiTableHead",["root"]);const Es=["className","component"],_s=e=>{const{classes:t}=e;return ze({root:["root"]},Us,t)},Fs=Se("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),Bs={variant:"head"},Cn="thead",Ns=_.forwardRef(function(t,i){const o=Ve({props:t,name:"MuiTableHead"}),{className:r,component:n=Cn}=o,l=Me(o,Es),s=Q({},o,{component:n}),f=_s(s);return m.jsx(vr.Provider,{value:Bs,children:m.jsx(Fs,Q({as:n,className:Te(f.root,r),ref:i,role:n===Cn?null:"rowgroup",ownerState:s},l))})}),Ls=Ns;function Ws(e){return Ze("MuiTableRow",e)}const Hs=Ge("MuiTableRow",["root","selected","hover","head","footer"]),Tn=Hs,zs=["className","component","hover","selected"],Vs=e=>{const{classes:t,selected:i,hover:o,head:r,footer:n}=e;return ze({root:["root",i&&"selected",o&&"hover",r&&"head",n&&"footer"]},Ws,t)},qs=Se("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.head&&t.head,i.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${Tn.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${Tn.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ie(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ie(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),jn="tr",Qs=_.forwardRef(function(t,i){const o=Ve({props:t,name:"MuiTableRow"}),{className:r,component:n=jn,hover:l=!1,selected:s=!1}=o,f=Me(o,zs),y=_.useContext(vr),a=Q({},o,{component:n,hover:l,selected:s,head:y&&y.variant==="head",footer:y&&y.variant==="footer"}),d=Vs(a);return m.jsx(qs,Q({as:n,ref:i,className:Te(d.root,r),role:n===jn?null:"row",ownerState:a},f))}),xr=Qs,Ys=Sn.forwardRef(function(t,i){return m.jsx(Tt,{elevation:6,ref:i,variant:"filled",...t})}),Ks=()=>{const[e,t]=_.useState(!1),[i,o]=_.useState(!1),[r,n]=_.useState("");console.log("Logout loaded");const l=()=>{t(!0)},s=()=>{t(!1)},f=()=>{const y=xo();wo(y).then(()=>{t(!1),o(!0),n("Logged out successfully")}).catch(a=>{t(!1),o(!0),n("Logout failed: "+a.message)})};return m.jsxs(m.Fragment,{children:[m.jsx(Ke,{variant:"outlined",onClick:l,children:"Logout"}),m.jsxs(xt,{open:e,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[m.jsx(Mt,{id:"alert-dialog-title",children:"Logging Out"}),m.jsx(wt,{children:m.jsx(zt,{id:"alert-dialog-description",children:"Are you sure you want to log out?"})}),m.jsxs(It,{children:[m.jsx(Ke,{onClick:f,autoFocus:!0,children:"Yes"}),m.jsx(Ke,{onClick:s,children:"No"})]})]}),m.jsx(jt,{open:i,autoHideDuration:6e3,onClose:()=>o(!1),children:m.jsx(Ys,{onClose:()=>o(!1),severity:"info",sx:{width:"100%"},children:r})})]})},Xs=_.memo(({setIsAdding:e})=>{const{userDetails:t}=Ht();console.log("Header loaded");const[i,o]=_.useState(!1),r=()=>{navigator.clipboard.writeText(t.uid).then(()=>{o(!0)}).catch(l=>{console.error("Could not copy text: ",l)})},n=(l,s)=>{s!=="clickaway"&&o(!1)};return m.jsxs(br,{sx:{mt:3,mb:2},children:[m.jsx($r,{variant:"h4",component:"h1",gutterBottom:!0,textAlign:"left",sx:{fontWeight:"bold"},children:"My Laboratory Notebook"}),t&&m.jsxs(br,{sx:{display:"flex",justifyContent:"flex-end",mb:2},children:[t.isAdmin&&m.jsx(bn,{label:"Admin",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:1}}),m.jsx(Ar,{title:"Click to Copy",enterDelay:300,leaveDelay:200,children:m.jsx(bn,{label:`User ID: ${t.uid}`,variant:"outlined",onClick:r,sx:{borderRadius:"15px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",mr:1,cursor:"pointer"}})})]}),m.jsxs(br,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsx(Ke,{variant:"contained",color:"primary",onClick:()=>e(!0),sx:{fontSize:"1.2rem",textTransform:"none"},children:"+ Create New"}),m.jsx(Ks,{})]}),m.jsx(jt,{open:i,autoHideDuration:6e3,onClose:n,children:m.jsx(Tt,{onClose:n,severity:"success",sx:{width:"100%"},children:"User ID copied to clipboard!"})})]})});var Nr={},Gs=Ct;Object.defineProperty(Nr,"__esModule",{value:!0});var Yn=Nr.default=void 0,Zs=Gs(At()),Js=m;Yn=Nr.default=(0,Zs.default)((0,Js.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");var Lr={},el=Ct;Object.defineProperty(Lr,"__esModule",{value:!0});var Zt=Lr.default=void 0,tl=el(At()),rl=m;Zt=Lr.default=(0,tl.default)((0,rl.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");const nl=({designs:e,handleEdit:t,handleDelete:i,isAdmin:o})=>{const r=l=>l?l._methodName==="serverTimestamp"?"Pending...":(l instanceof Date?l:l.toDate?l.toDate():new Date(l.seconds*1e3)).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"N/A",n=l=>{if(!l)return"";let s=l;l instanceof Date&&(s=l.toISOString().split("T")[0]),l.toDate&&(s=l.toDate().toISOString().split("T")[0]);const[f,y,a]=s.split("-").map(c=>parseInt(c,10));return new Date(f,y-1,a).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})};return m.jsx(Ms,{component:Pr,children:m.jsxs(ps,{sx:{"& .MuiTableCell-root":{fontSize:"1rem"},"& .MuiTableCell-head":{fontSize:"1.2rem",backgroundColor:"#1A76D3",color:"white"}},children:[m.jsx(Ls,{children:m.jsxs(xr,{sx:{height:"60px"},children:[m.jsx(Ye,{sx:{fontWeight:"bold",width:"40%"},children:"Title"}),o&&m.jsx(Ye,{sx:{fontWeight:"bold",width:"20%"},children:"User ID"}),m.jsx(Ye,{sx:{fontWeight:"bold",width:"15%"},children:"Created"}),m.jsx(Ye,{sx:{fontWeight:"bold",width:"15%"},children:"Due"}),m.jsx(Ye,{sx:{fontWeight:"bold",width:"10%"},children:"Edit"}),m.jsx(Ye,{sx:{fontWeight:"bold",width:"10%"},children:"Delete"})]})}),m.jsx(ws,{children:e&&e.length>0?e.map(l=>m.jsxs(xr,{sx:{height:"80px"},children:[m.jsx(Ye,{children:m.jsx("button",{onClick:()=>t(l.id),className:"hyperlink-style",children:l.title})}),o&&m.jsx(Ye,{children:l.userId}),m.jsx(Ye,{children:l.dateCreated?r(l.dateCreated):"N/A"}),m.jsx(Ye,{children:l.dateDue?n(l.dateDue):"N/A"}),m.jsx(Ye,{children:m.jsx(Ar,{title:"Edit",children:m.jsx(Rt,{onClick:()=>t(l.id),color:"primary",children:m.jsx(Yn,{})})})}),m.jsx(Ye,{children:m.jsx(Ar,{title:"Delete",children:m.jsx(Rt,{onClick:()=>i(l.id),color:"error",children:m.jsx(Zt,{})})})})]},l.id)):m.jsx(xr,{children:m.jsx(Ye,{colSpan:o?6:5,children:"No Designs Found"})})})]})})};function ol(e,t){return t.forEach(function(i){i&&typeof i!="string"&&!Array.isArray(i)&&Object.keys(i).forEach(function(o){if(o!=="default"&&!(o in e)){var r=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(e,o,r.get?r:{enumerable:!0,get:function(){return i[o]}})}})}),Object.freeze(e)}function Kn(e,t){return new Promise(function(i,o){let r;return al(e).then(function(n){try{return r=n,i(new Blob([t.slice(0,2),r,t.slice(2)],{type:"image/jpeg"}))}catch(l){return o(l)}},o)})}const al=e=>new Promise((t,i)=>{const o=new FileReader;o.addEventListener("load",({target:{result:r}})=>{const n=new DataView(r);let l=0;if(n.getUint16(l)!==65496)return i("not a valid JPEG");for(l+=2;;){const s=n.getUint16(l);if(s===65498)break;const f=n.getUint16(l+2);if(s===65505&&n.getUint32(l+4)===1165519206){const y=l+10;let a;switch(n.getUint16(y)){case 18761:a=!0;break;case 19789:a=!1;break;default:return i("TIFF header contains invalid endian")}if(n.getUint16(y+2,a)!==42)return i("TIFF header contains invalid version");const d=n.getUint32(y+4,a),c=y+d+2+12*n.getUint16(y+d,a);for(let u=y+d+2;u<c;u+=12)if(n.getUint16(u,a)==274){if(n.getUint16(u+2,a)!==3)return i("Orientation data type is invalid");if(n.getUint32(u+4,a)!==1)return i("Orientation data count is invalid");n.setUint16(u+8,1,a);break}return t(r.slice(l,l+2+f))}l+=2+f}return t(new Blob)}),o.readAsArrayBuffer(e)});var ur={},il={get exports(){return ur},set exports(e){ur=e}};(function(e){var t,i,o={};il.exports=o,o.parse=function(r,n){for(var l=o.bin.readUshort,s=o.bin.readUint,f=0,y={},a=new Uint8Array(r),d=a.length-4;s(a,d)!=101010256;)d--;f=d,f+=4;var c=l(a,f+=4);l(a,f+=2);var u=s(a,f+=2),b=s(a,f+=4);f+=4,f=b;for(var T=0;T<c;T++){s(a,f),f+=4,f+=4,f+=4,s(a,f+=4),u=s(a,f+=4);var S=s(a,f+=4),w=l(a,f+=4),U=l(a,f+2),O=l(a,f+4);f+=6;var D=s(a,f+=8);f+=4,f+=w+U+O,o._readLocal(a,D,y,u,S,n)}return y},o._readLocal=function(r,n,l,s,f,y){var a=o.bin.readUshort,d=o.bin.readUint;d(r,n),a(r,n+=4),a(r,n+=2);var c=a(r,n+=2);d(r,n+=2),d(r,n+=4),n+=4;var u=a(r,n+=8),b=a(r,n+=2);n+=2;var T=o.bin.readUTF8(r,n,u);if(n+=u,n+=b,y)l[T]={size:f,csize:s};else{var S=new Uint8Array(r.buffer,n);if(c==0)l[T]=new Uint8Array(S.buffer.slice(n,n+s));else{if(c!=8)throw"unknown compression method: "+c;var w=new Uint8Array(f);o.inflateRaw(S,w),l[T]=w}}},o.inflateRaw=function(r,n){return o.F.inflate(r,n)},o.inflate=function(r,n){return r[0],r[1],o.inflateRaw(new Uint8Array(r.buffer,r.byteOffset+2,r.length-6),n)},o.deflate=function(r,n){n==null&&(n={level:6});var l=0,s=new Uint8Array(50+Math.floor(1.1*r.length));s[l]=120,s[l+1]=156,l+=2,l=o.F.deflateRaw(r,s,l,n.level);var f=o.adler(r,0,r.length);return s[l+0]=f>>>24&255,s[l+1]=f>>>16&255,s[l+2]=f>>>8&255,s[l+3]=f>>>0&255,new Uint8Array(s.buffer,0,l+4)},o.deflateRaw=function(r,n){n==null&&(n={level:6});var l=new Uint8Array(50+Math.floor(1.1*r.length)),s=o.F.deflateRaw(r,l,s,n.level);return new Uint8Array(l.buffer,0,s)},o.encode=function(r,n){n==null&&(n=!1);var l=0,s=o.bin.writeUint,f=o.bin.writeUshort,y={};for(var a in r){var d=!o._noNeed(a)&&!n,c=r[a],u=o.crc.crc(c,0,c.length);y[a]={cpr:d,usize:c.length,crc:u,file:d?o.deflateRaw(c):c}}for(var a in y)l+=y[a].file.length+30+46+2*o.bin.sizeUTF8(a);l+=22;var b=new Uint8Array(l),T=0,S=[];for(var a in y){var w=y[a];S.push(T),T=o._writeHeader(b,T,a,w,0)}var U=0,O=T;for(var a in y)w=y[a],S.push(T),T=o._writeHeader(b,T,a,w,1,S[U++]);var D=T-O;return s(b,T,101010256),T+=4,f(b,T+=4,U),f(b,T+=2,U),s(b,T+=2,D),s(b,T+=4,O),T+=4,T+=2,b.buffer},o._noNeed=function(r){var n=r.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(n)!=-1},o._writeHeader=function(r,n,l,s,f,y){var a=o.bin.writeUint,d=o.bin.writeUshort,c=s.file;return a(r,n,f==0?67324752:33639248),n+=4,f==1&&(n+=2),d(r,n,20),d(r,n+=2,0),d(r,n+=2,s.cpr?8:0),a(r,n+=2,0),a(r,n+=4,s.crc),a(r,n+=4,c.length),a(r,n+=4,s.usize),d(r,n+=4,o.bin.sizeUTF8(l)),d(r,n+=2,0),n+=2,f==1&&(n+=2,n+=2,a(r,n+=6,y),n+=4),n+=o.bin.writeUTF8(r,n,l),f==0&&(r.set(c,n),n+=c.length),n},o.crc={table:function(){for(var r=new Uint32Array(256),n=0;n<256;n++){for(var l=n,s=0;s<8;s++)1&l?l=3988292384^l>>>1:l>>>=1;r[n]=l}return r}(),update:function(r,n,l,s){for(var f=0;f<s;f++)r=o.crc.table[255&(r^n[l+f])]^r>>>8;return r},crc:function(r,n,l){return 4294967295^o.crc.update(4294967295,r,n,l)}},o.adler=function(r,n,l){for(var s=1,f=0,y=n,a=n+l;y<a;){for(var d=Math.min(y+5552,a);y<d;)f+=s+=r[y++];s%=65521,f%=65521}return f<<16|s},o.bin={readUshort:function(r,n){return r[n]|r[n+1]<<8},writeUshort:function(r,n,l){r[n]=255&l,r[n+1]=l>>8&255},readUint:function(r,n){return 16777216*r[n+3]+(r[n+2]<<16|r[n+1]<<8|r[n])},writeUint:function(r,n,l){r[n]=255&l,r[n+1]=l>>8&255,r[n+2]=l>>16&255,r[n+3]=l>>24&255},readASCII:function(r,n,l){for(var s="",f=0;f<l;f++)s+=String.fromCharCode(r[n+f]);return s},writeASCII:function(r,n,l){for(var s=0;s<l.length;s++)r[n+s]=l.charCodeAt(s)},pad:function(r){return r.length<2?"0"+r:r},readUTF8:function(r,n,l){for(var s,f="",y=0;y<l;y++)f+="%"+o.bin.pad(r[n+y].toString(16));try{s=decodeURIComponent(f)}catch{return o.bin.readASCII(r,n,l)}return s},writeUTF8:function(r,n,l){for(var s=l.length,f=0,y=0;y<s;y++){var a=l.charCodeAt(y);if(!(4294967168&a))r[n+f]=a,f++;else if(!(4294965248&a))r[n+f]=192|a>>6,r[n+f+1]=128|a>>0&63,f+=2;else if(!(4294901760&a))r[n+f]=224|a>>12,r[n+f+1]=128|a>>6&63,r[n+f+2]=128|a>>0&63,f+=3;else{if(4292870144&a)throw"e";r[n+f]=240|a>>18,r[n+f+1]=128|a>>12&63,r[n+f+2]=128|a>>6&63,r[n+f+3]=128|a>>0&63,f+=4}}return f},sizeUTF8:function(r){for(var n=r.length,l=0,s=0;s<n;s++){var f=r.charCodeAt(s);if(!(4294967168&f))l++;else if(!(4294965248&f))l+=2;else if(!(4294901760&f))l+=3;else{if(4292870144&f)throw"e";l+=4}}return l}},o.F={},o.F.deflateRaw=function(r,n,l,s){var f=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][s],y=o.F.U,a=o.F._goodIndex;o.F._hash;var d=o.F._putsE,c=0,u=l<<3,b=0,T=r.length;if(s==0){for(;c<T;)d(n,u,c+(j=Math.min(65535,T-c))==T?1:0),u=o.F._copyExact(r,c,j,n,u+8),c+=j;return u>>>3}var S=y.lits,w=y.strt,U=y.prev,O=0,D=0,I=0,x=0,M=0,v=0;for(T>2&&(w[v=o.F._hash(r,0)]=0),c=0;c<T;c++){if(M=v,c+1<T-2){v=o.F._hash(r,c+1);var h=c+1&32767;U[h]=w[v],w[v]=h}if(b<=c){(O>14e3||D>26697)&&T-c>100&&(b<c&&(S[O]=c-b,O+=2,b=c),u=o.F._writeBlock(c==T-1||b==T?1:0,S,O,x,r,I,c-I,n,u),O=D=x=0,I=c);var C=0;c<T-2&&(C=o.F._bestMatch(r,c,U,M,Math.min(f[2],T-c),f[3]));var j=C>>>16,k=65535&C;if(C!=0){k=65535&C;var R=a(j=C>>>16,y.of0);y.lhst[257+R]++;var A=a(k,y.df0);y.dhst[A]++,x+=y.exb[R]+y.dxb[A],S[O]=j<<23|c-b,S[O+1]=k<<16|R<<8|A,O+=2,b=c+j}else y.lhst[r[c]]++;D++}}for(I==c&&r.length!=0||(b<c&&(S[O]=c-b,O+=2,b=c),u=o.F._writeBlock(1,S,O,x,r,I,c-I,n,u),O=0,D=0,O=D=x=0,I=c);7&u;)u++;return u>>>3},o.F._bestMatch=function(r,n,l,s,f,y){var a=32767&n,d=l[a],c=a-d+32768&32767;if(d==a||s!=o.F._hash(r,n-c))return 0;for(var u=0,b=0,T=Math.min(32767,n);c<=T&&--y!=0&&d!=a;){if(u==0||r[n+u]==r[n+u-c]){var S=o.F._howLong(r,n,c);if(S>u){if(b=c,(u=S)>=f)break;c+2<S&&(S=c+2);for(var w=0,U=0;U<S-2;U++){var O=n-c+U+32768&32767,D=O-l[O]+32768&32767;D>w&&(w=D,d=O)}}}c+=(a=d)-(d=l[a])+32768&32767}return u<<16|b},o.F._howLong=function(r,n,l){if(r[n]!=r[n-l]||r[n+1]!=r[n+1-l]||r[n+2]!=r[n+2-l])return 0;var s=n,f=Math.min(r.length,n+258);for(n+=3;n<f&&r[n]==r[n-l];)n++;return n-s},o.F._hash=function(r,n){return(r[n]<<8|r[n+1])+(r[n+2]<<4)&65535},o.saved=0,o.F._writeBlock=function(r,n,l,s,f,y,a,d,c){var u,b,T,S,w,U,O,D,I,x=o.F.U,M=o.F._putsF,v=o.F._putsE;x.lhst[256]++,b=(u=o.F.getTrees())[0],T=u[1],S=u[2],w=u[3],U=u[4],O=u[5],D=u[6],I=u[7];var h=32+(c+3&7?8-(c+3&7):0)+(a<<3),C=s+o.F.contSize(x.fltree,x.lhst)+o.F.contSize(x.fdtree,x.dhst),j=s+o.F.contSize(x.ltree,x.lhst)+o.F.contSize(x.dtree,x.dhst);j+=14+3*O+o.F.contSize(x.itree,x.ihst)+(2*x.ihst[16]+3*x.ihst[17]+7*x.ihst[18]);for(var k=0;k<286;k++)x.lhst[k]=0;for(k=0;k<30;k++)x.dhst[k]=0;for(k=0;k<19;k++)x.ihst[k]=0;var R=h<C&&h<j?0:C<j?1:2;if(M(d,c,r),M(d,c+1,R),c+=3,R==0){for(;7&c;)c++;c=o.F._copyExact(f,y,a,d,c)}else{var A,P;if(R==1&&(A=x.fltree,P=x.fdtree),R==2){o.F.makeCodes(x.ltree,b),o.F.revCodes(x.ltree,b),o.F.makeCodes(x.dtree,T),o.F.revCodes(x.dtree,T),o.F.makeCodes(x.itree,S),o.F.revCodes(x.itree,S),A=x.ltree,P=x.dtree,v(d,c,w-257),v(d,c+=5,U-1),v(d,c+=5,O-4),c+=4;for(var g=0;g<O;g++)v(d,c+3*g,x.itree[1+(x.ordr[g]<<1)]);c+=3*O,c=o.F._codeTiny(D,x.itree,d,c),c=o.F._codeTiny(I,x.itree,d,c)}for(var p=y,B=0;B<l;B+=2){for(var $=n[B],N=$>>>23,V=p+(8388607&$);p<V;)c=o.F._writeLit(f[p++],A,d,c);if(N!=0){var W=n[B+1],z=W>>16,L=W>>8&255,F=255&W;v(d,c=o.F._writeLit(257+L,A,d,c),N-x.of0[L]),c+=x.exb[L],M(d,c=o.F._writeLit(F,P,d,c),z-x.df0[F]),c+=x.dxb[F],p+=N}}c=o.F._writeLit(256,A,d,c)}return c},o.F._copyExact=function(r,n,l,s,f){var y=f>>>3;return s[y]=l,s[y+1]=l>>>8,s[y+2]=255-s[y],s[y+3]=255-s[y+1],y+=4,s.set(new Uint8Array(r.buffer,n,l),y),f+(l+4<<3)},o.F.getTrees=function(){for(var r=o.F.U,n=o.F._hufTree(r.lhst,r.ltree,15),l=o.F._hufTree(r.dhst,r.dtree,15),s=[],f=o.F._lenCodes(r.ltree,s),y=[],a=o.F._lenCodes(r.dtree,y),d=0;d<s.length;d+=2)r.ihst[s[d]]++;for(d=0;d<y.length;d+=2)r.ihst[y[d]]++;for(var c=o.F._hufTree(r.ihst,r.itree,7),u=19;u>4&&r.itree[1+(r.ordr[u-1]<<1)]==0;)u--;return[n,l,c,f,a,u,s,y]},o.F.getSecond=function(r){for(var n=[],l=0;l<r.length;l+=2)n.push(r[l+1]);return n},o.F.nonZero=function(r){for(var n="",l=0;l<r.length;l+=2)r[l+1]!=0&&(n+=(l>>1)+",");return n},o.F.contSize=function(r,n){for(var l=0,s=0;s<n.length;s++)l+=n[s]*r[1+(s<<1)];return l},o.F._codeTiny=function(r,n,l,s){for(var f=0;f<r.length;f+=2){var y=r[f],a=r[f+1];s=o.F._writeLit(y,n,l,s);var d=y==16?2:y==17?3:7;y>15&&(o.F._putsE(l,s,a,d),s+=d)}return s},o.F._lenCodes=function(r,n){for(var l=r.length;l!=2&&r[l-1]==0;)l-=2;for(var s=0;s<l;s+=2){var f=r[s+1],y=s+3<l?r[s+3]:-1,a=s+5<l?r[s+5]:-1,d=s==0?-1:r[s-1];if(f==0&&y==f&&a==f){for(var c=s+5;c+2<l&&r[c+2]==f;)c+=2;(u=Math.min(c+1-s>>>1,138))<11?n.push(17,u-3):n.push(18,u-11),s+=2*u-2}else if(f==d&&y==f&&a==f){for(c=s+5;c+2<l&&r[c+2]==f;)c+=2;var u=Math.min(c+1-s>>>1,6);n.push(16,u-3),s+=2*u-2}else n.push(f,0)}return l>>>1},o.F._hufTree=function(r,n,l){var s=[],f=r.length,y=n.length,a=0;for(a=0;a<y;a+=2)n[a]=0,n[a+1]=0;for(a=0;a<f;a++)r[a]!=0&&s.push({lit:a,f:r[a]});var d=s.length,c=s.slice(0);if(d==0)return 0;if(d==1){var u=s[0].lit;return c=u==0?1:0,n[1+(u<<1)]=1,n[1+(c<<1)]=1,1}s.sort(function(D,I){return D.f-I.f});var b=s[0],T=s[1],S=0,w=1,U=2;for(s[0]={lit:-1,f:b.f+T.f,l:b,r:T,d:0};w!=d-1;)b=S!=w&&(U==d||s[S].f<s[U].f)?s[S++]:s[U++],T=S!=w&&(U==d||s[S].f<s[U].f)?s[S++]:s[U++],s[w++]={lit:-1,f:b.f+T.f,l:b,r:T};var O=o.F.setDepth(s[w-1],0);for(O>l&&(o.F.restrictDepth(c,l,O),O=l),a=0;a<d;a++)n[1+(c[a].lit<<1)]=c[a].d;return O},o.F.setDepth=function(r,n){return r.lit!=-1?(r.d=n,n):Math.max(o.F.setDepth(r.l,n+1),o.F.setDepth(r.r,n+1))},o.F.restrictDepth=function(r,n,l){var s=0,f=1<<l-n,y=0;for(r.sort(function(d,c){return c.d==d.d?d.f-c.f:c.d-d.d}),s=0;s<r.length&&r[s].d>n;s++){var a=r[s].d;r[s].d=n,y+=f-(1<<l-a)}for(y>>>=l-n;y>0;)(a=r[s].d)<n?(r[s].d++,y-=1<<n-a-1):s++;for(;s>=0;s--)r[s].d==n&&y<0&&(r[s].d--,y++);y!=0&&console.log("debt left")},o.F._goodIndex=function(r,n){var l=0;return n[16|l]<=r&&(l|=16),n[8|l]<=r&&(l|=8),n[4|l]<=r&&(l|=4),n[2|l]<=r&&(l|=2),n[1|l]<=r&&(l|=1),l},o.F._writeLit=function(r,n,l,s){return o.F._putsF(l,s,n[r<<1]),s+n[1+(r<<1)]},o.F.inflate=function(r,n){var l=Uint8Array;if(r[0]==3&&r[1]==0)return n||new l(0);var s=o.F,f=s._bitsF,y=s._bitsE,a=s._decodeTiny,d=s.makeCodes,c=s.codes2map,u=s._get17,b=s.U,T=n==null;T&&(n=new l(r.length>>>2<<3));for(var S,w,U=0,O=0,D=0,I=0,x=0,M=0,v=0,h=0,C=0;U==0;)if(U=f(r,C,1),O=f(r,C+1,2),C+=3,O!=0){if(T&&(n=o.F._check(n,h+(1<<17))),O==1&&(S=b.flmap,w=b.fdmap,M=511,v=31),O==2){D=y(r,C,5)+257,I=y(r,C+5,5)+1,x=y(r,C+10,4)+4,C+=14;for(var j=0;j<38;j+=2)b.itree[j]=0,b.itree[j+1]=0;var k=1;for(j=0;j<x;j++){var R=y(r,C+3*j,3);b.itree[1+(b.ordr[j]<<1)]=R,R>k&&(k=R)}C+=3*x,d(b.itree,k),c(b.itree,k,b.imap),S=b.lmap,w=b.dmap,C=a(b.imap,(1<<k)-1,D+I,r,C,b.ttree);var A=s._copyOut(b.ttree,0,D,b.ltree);M=(1<<A)-1;var P=s._copyOut(b.ttree,D,I,b.dtree);v=(1<<P)-1,d(b.ltree,A),c(b.ltree,A,S),d(b.dtree,P),c(b.dtree,P,w)}for(;;){var g=S[u(r,C)&M];C+=15&g;var p=g>>>4;if(!(p>>>8))n[h++]=p;else{if(p==256)break;var B=h+p-254;if(p>264){var $=b.ldef[p-257];B=h+($>>>3)+y(r,C,7&$),C+=7&$}var N=w[u(r,C)&v];C+=15&N;var V=N>>>4,W=b.ddef[V],z=(W>>>4)+f(r,C,15&W);for(C+=15&W,T&&(n=o.F._check(n,h+(1<<17)));h<B;)n[h]=n[h++-z],n[h]=n[h++-z],n[h]=n[h++-z],n[h]=n[h++-z];h=B}}}else{7&C&&(C+=8-(7&C));var L=4+(C>>>3),F=r[L-4]|r[L-3]<<8;T&&(n=o.F._check(n,h+F)),n.set(new l(r.buffer,r.byteOffset+L,F),h),C=L+F<<3,h+=F}return n.length==h?n:n.slice(0,h)},o.F._check=function(r,n){var l=r.length;if(n<=l)return r;var s=new Uint8Array(Math.max(l<<1,n));return s.set(r,0),s},o.F._decodeTiny=function(r,n,l,s,f,y){for(var a=o.F._bitsE,d=o.F._get17,c=0;c<l;){var u=r[d(s,f)&n];f+=15&u;var b=u>>>4;if(b<=15)y[c]=b,c++;else{var T=0,S=0;b==16?(S=3+a(s,f,2),f+=2,T=y[c-1]):b==17?(S=3+a(s,f,3),f+=3):b==18&&(S=11+a(s,f,7),f+=7);for(var w=c+S;c<w;)y[c]=T,c++}}return f},o.F._copyOut=function(r,n,l,s){for(var f=0,y=0,a=s.length>>>1;y<l;){var d=r[y+n];s[y<<1]=0,s[1+(y<<1)]=d,d>f&&(f=d),y++}for(;y<a;)s[y<<1]=0,s[1+(y<<1)]=0,y++;return f},o.F.makeCodes=function(r,n){for(var l,s,f,y,a=o.F.U,d=r.length,c=a.bl_count,u=0;u<=n;u++)c[u]=0;for(u=1;u<d;u+=2)c[r[u]]++;var b=a.next_code;for(l=0,c[0]=0,s=1;s<=n;s++)l=l+c[s-1]<<1,b[s]=l;for(f=0;f<d;f+=2)(y=r[f+1])!=0&&(r[f]=b[y],b[y]++)},o.F.codes2map=function(r,n,l){for(var s=r.length,f=o.F.U.rev15,y=0;y<s;y+=2)if(r[y+1]!=0)for(var a=y>>1,d=r[y+1],c=a<<4|d,u=n-d,b=r[y]<<u,T=b+(1<<u);b!=T;)l[f[b]>>>15-n]=c,b++},o.F.revCodes=function(r,n){for(var l=o.F.U.rev15,s=15-n,f=0;f<r.length;f+=2){var y=r[f]<<n-r[f+1];r[f]=l[y]>>>s}},o.F._putsE=function(r,n,l){l<<=7&n;var s=n>>>3;r[s]|=l,r[s+1]|=l>>>8},o.F._putsF=function(r,n,l){l<<=7&n;var s=n>>>3;r[s]|=l,r[s+1]|=l>>>8,r[s+2]|=l>>>16},o.F._bitsE=function(r,n,l){return(r[n>>>3]|r[1+(n>>>3)]<<8)>>>(7&n)&(1<<l)-1},o.F._bitsF=function(r,n,l){return(r[n>>>3]|r[1+(n>>>3)]<<8|r[2+(n>>>3)]<<16)>>>(7&n)&(1<<l)-1},o.F._get17=function(r,n){return(r[n>>>3]|r[1+(n>>>3)]<<8|r[2+(n>>>3)]<<16)>>>(7&n)},o.F._get25=function(r,n){return(r[n>>>3]|r[1+(n>>>3)]<<8|r[2+(n>>>3)]<<16|r[3+(n>>>3)]<<24)>>>(7&n)},o.F.U=(t=Uint16Array,i=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new i(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new i(286),dhst:new i(30),ihst:new i(19),lits:new i(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var r=o.F.U,n=0;n<32768;n++){var l=n;l=(4278255360&(l=(4042322160&(l=(3435973836&(l=(2863311530&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,r.rev15[n]=(l>>>16|l<<16)>>>17}function s(f,y,a){for(;y--!=0;)f.push(0,a)}for(n=0;n<32;n++)r.ldef[n]=r.of0[n]<<3|r.exb[n],r.ddef[n]=r.df0[n]<<4|r.dxb[n];s(r.fltree,144,8),s(r.fltree,112,9),s(r.fltree,24,7),s(r.fltree,8,8),o.F.makeCodes(r.fltree,9),o.F.codes2map(r.fltree,9,r.flmap),o.F.revCodes(r.fltree,9),s(r.fdtree,32,5),o.F.makeCodes(r.fdtree,5),o.F.codes2map(r.fdtree,5,r.fdmap),o.F.revCodes(r.fdtree,5),s(r.itree,19,0),s(r.ltree,286,0),s(r.dtree,30,0),s(r.ttree,320,0)}()})();var sl=ol({__proto__:null,default:ur},[ur]);const at=function(){var e={nextZero(a,d){for(;a[d]!=0;)d++;return d},readUshort:(a,d)=>a[d]<<8|a[d+1],writeUshort(a,d,c){a[d]=c>>8&255,a[d+1]=255&c},readUint:(a,d)=>16777216*a[d]+(a[d+1]<<16|a[d+2]<<8|a[d+3]),writeUint(a,d,c){a[d]=c>>24&255,a[d+1]=c>>16&255,a[d+2]=c>>8&255,a[d+3]=255&c},readASCII(a,d,c){let u="";for(let b=0;b<c;b++)u+=String.fromCharCode(a[d+b]);return u},writeASCII(a,d,c){for(let u=0;u<c.length;u++)a[d+u]=c.charCodeAt(u)},readBytes(a,d,c){const u=[];for(let b=0;b<c;b++)u.push(a[d+b]);return u},pad:a=>a.length<2?`0${a}`:a,readUTF8(a,d,c){let u,b="";for(let T=0;T<c;T++)b+=`%${e.pad(a[d+T].toString(16))}`;try{u=decodeURIComponent(b)}catch{return e.readASCII(a,d,c)}return u}};function t(a,d,c,u){const b=d*c,T=n(u),S=Math.ceil(d*T/8),w=new Uint8Array(4*b),U=new Uint32Array(w.buffer),{ctype:O}=u,{depth:D}=u,I=e.readUshort;if(O==6){const $=b<<2;if(D==8)for(var x=0;x<$;x+=4)w[x]=a[x],w[x+1]=a[x+1],w[x+2]=a[x+2],w[x+3]=a[x+3];if(D==16)for(x=0;x<$;x++)w[x]=a[x<<1]}else if(O==2){const $=u.tabs.tRNS;if($==null){if(D==8)for(x=0;x<b;x++){var M=3*x;U[x]=255<<24|a[M+2]<<16|a[M+1]<<8|a[M]}if(D==16)for(x=0;x<b;x++)M=6*x,U[x]=255<<24|a[M+4]<<16|a[M+2]<<8|a[M]}else{var v=$[0];const N=$[1],V=$[2];if(D==8)for(x=0;x<b;x++){var h=x<<2;M=3*x,U[x]=255<<24|a[M+2]<<16|a[M+1]<<8|a[M],a[M]==v&&a[M+1]==N&&a[M+2]==V&&(w[h+3]=0)}if(D==16)for(x=0;x<b;x++)h=x<<2,M=6*x,U[x]=255<<24|a[M+4]<<16|a[M+2]<<8|a[M],I(a,M)==v&&I(a,M+2)==N&&I(a,M+4)==V&&(w[h+3]=0)}}else if(O==3){const $=u.tabs.PLTE,N=u.tabs.tRNS,V=N?N.length:0;if(D==1)for(var C=0;C<c;C++){var j=C*S,k=C*d;for(x=0;x<d;x++){h=k+x<<2;var R=3*(A=a[j+(x>>3)]>>7-((7&x)<<0)&1);w[h]=$[R],w[h+1]=$[R+1],w[h+2]=$[R+2],w[h+3]=A<V?N[A]:255}}if(D==2)for(C=0;C<c;C++)for(j=C*S,k=C*d,x=0;x<d;x++)h=k+x<<2,R=3*(A=a[j+(x>>2)]>>6-((3&x)<<1)&3),w[h]=$[R],w[h+1]=$[R+1],w[h+2]=$[R+2],w[h+3]=A<V?N[A]:255;if(D==4)for(C=0;C<c;C++)for(j=C*S,k=C*d,x=0;x<d;x++)h=k+x<<2,R=3*(A=a[j+(x>>1)]>>4-((1&x)<<2)&15),w[h]=$[R],w[h+1]=$[R+1],w[h+2]=$[R+2],w[h+3]=A<V?N[A]:255;if(D==8)for(x=0;x<b;x++){var A;h=x<<2,R=3*(A=a[x]),w[h]=$[R],w[h+1]=$[R+1],w[h+2]=$[R+2],w[h+3]=A<V?N[A]:255}}else if(O==4){if(D==8)for(x=0;x<b;x++){h=x<<2;var P=a[g=x<<1];w[h]=P,w[h+1]=P,w[h+2]=P,w[h+3]=a[g+1]}if(D==16)for(x=0;x<b;x++){var g;h=x<<2,P=a[g=x<<2],w[h]=P,w[h+1]=P,w[h+2]=P,w[h+3]=a[g+2]}}else if(O==0)for(v=u.tabs.tRNS?u.tabs.tRNS:-1,C=0;C<c;C++){const $=C*S,N=C*d;if(D==1)for(var p=0;p<d;p++){var B=(P=255*(a[$+(p>>>3)]>>>7-(7&p)&1))==255*v?0:255;U[N+p]=B<<24|P<<16|P<<8|P}else if(D==2)for(p=0;p<d;p++)B=(P=85*(a[$+(p>>>2)]>>>6-((3&p)<<1)&3))==85*v?0:255,U[N+p]=B<<24|P<<16|P<<8|P;else if(D==4)for(p=0;p<d;p++)B=(P=17*(a[$+(p>>>1)]>>>4-((1&p)<<2)&15))==17*v?0:255,U[N+p]=B<<24|P<<16|P<<8|P;else if(D==8)for(p=0;p<d;p++)B=(P=a[$+p])==v?0:255,U[N+p]=B<<24|P<<16|P<<8|P;else if(D==16)for(p=0;p<d;p++)P=a[$+(p<<1)],B=I(a,$+(p<<1))==v?0:255,U[N+p]=B<<24|P<<16|P<<8|P}return w}function i(a,d,c,u){const b=n(a),T=Math.ceil(c*b/8),S=new Uint8Array((T+1+a.interlace)*u);return d=a.tabs.CgBI?r(d,S):o(d,S),a.interlace==0?d=l(d,a,0,c,u):a.interlace==1&&(d=function(U,O){const D=O.width,I=O.height,x=n(O),M=x>>3,v=Math.ceil(D*x/8),h=new Uint8Array(I*v);let C=0;const j=[0,0,4,0,2,0,1],k=[0,4,0,2,0,1,0],R=[8,8,8,4,4,2,2],A=[8,8,4,4,2,2,1];let P=0;for(;P<7;){const p=R[P],B=A[P];let $=0,N=0,V=j[P];for(;V<I;)V+=p,N++;let W=k[P];for(;W<D;)W+=B,$++;const z=Math.ceil($*x/8);l(U,O,C,$,N);let L=0,F=j[P];for(;F<I;){let Y=k[P],oe=C+L*z<<3;for(;Y<D;){var g;if(x==1&&(g=(g=U[oe>>3])>>7-(7&oe)&1,h[F*v+(Y>>3)]|=g<<7-((7&Y)<<0)),x==2&&(g=(g=U[oe>>3])>>6-(7&oe)&3,h[F*v+(Y>>2)]|=g<<6-((3&Y)<<1)),x==4&&(g=(g=U[oe>>3])>>4-(7&oe)&15,h[F*v+(Y>>1)]|=g<<4-((1&Y)<<2)),x>=8){const K=F*v+Y*M;for(let Z=0;Z<M;Z++)h[K+Z]=U[(oe>>3)+Z]}oe+=x,Y+=B}L++,F+=p}$*N!=0&&(C+=N*(1+z)),P+=1}return h}(d,a)),d}function o(a,d){return r(new Uint8Array(a.buffer,2,a.length-6),d)}var r=function(){const a={H:{}};return a.H.N=function(d,c){const u=Uint8Array;let b,T,S=0,w=0,U=0,O=0,D=0,I=0,x=0,M=0,v=0;if(d[0]==3&&d[1]==0)return c||new u(0);const h=a.H,C=h.b,j=h.e,k=h.R,R=h.n,A=h.A,P=h.Z,g=h.m,p=c==null;for(p&&(c=new u(d.length>>>2<<5));S==0;)if(S=C(d,v,1),w=C(d,v+1,2),v+=3,w!=0){if(p&&(c=a.H.W(c,M+(1<<17))),w==1&&(b=g.J,T=g.h,I=511,x=31),w==2){U=j(d,v,5)+257,O=j(d,v+5,5)+1,D=j(d,v+10,4)+4,v+=14;let $=1;for(var B=0;B<38;B+=2)g.Q[B]=0,g.Q[B+1]=0;for(B=0;B<D;B++){const W=j(d,v+3*B,3);g.Q[1+(g.X[B]<<1)]=W,W>$&&($=W)}v+=3*D,R(g.Q,$),A(g.Q,$,g.u),b=g.w,T=g.d,v=k(g.u,(1<<$)-1,U+O,d,v,g.v);const N=h.V(g.v,0,U,g.C);I=(1<<N)-1;const V=h.V(g.v,U,O,g.D);x=(1<<V)-1,R(g.C,N),A(g.C,N,b),R(g.D,V),A(g.D,V,T)}for(;;){const $=b[P(d,v)&I];v+=15&$;const N=$>>>4;if(!(N>>>8))c[M++]=N;else{if(N==256)break;{let V=M+N-254;if(N>264){const Y=g.q[N-257];V=M+(Y>>>3)+j(d,v,7&Y),v+=7&Y}const W=T[P(d,v)&x];v+=15&W;const z=W>>>4,L=g.c[z],F=(L>>>4)+C(d,v,15&L);for(v+=15&L;M<V;)c[M]=c[M++-F],c[M]=c[M++-F],c[M]=c[M++-F],c[M]=c[M++-F];M=V}}}}else{7&v&&(v+=8-(7&v));const $=4+(v>>>3),N=d[$-4]|d[$-3]<<8;p&&(c=a.H.W(c,M+N)),c.set(new u(d.buffer,d.byteOffset+$,N),M),v=$+N<<3,M+=N}return c.length==M?c:c.slice(0,M)},a.H.W=function(d,c){const u=d.length;if(c<=u)return d;const b=new Uint8Array(u<<1);return b.set(d,0),b},a.H.R=function(d,c,u,b,T,S){const w=a.H.e,U=a.H.Z;let O=0;for(;O<u;){const D=d[U(b,T)&c];T+=15&D;const I=D>>>4;if(I<=15)S[O]=I,O++;else{let x=0,M=0;I==16?(M=3+w(b,T,2),T+=2,x=S[O-1]):I==17?(M=3+w(b,T,3),T+=3):I==18&&(M=11+w(b,T,7),T+=7);const v=O+M;for(;O<v;)S[O]=x,O++}}return T},a.H.V=function(d,c,u,b){let T=0,S=0;const w=b.length>>>1;for(;S<u;){const U=d[S+c];b[S<<1]=0,b[1+(S<<1)]=U,U>T&&(T=U),S++}for(;S<w;)b[S<<1]=0,b[1+(S<<1)]=0,S++;return T},a.H.n=function(d,c){const u=a.H.m,b=d.length;let T,S,w,U;const O=u.j;for(var D=0;D<=c;D++)O[D]=0;for(D=1;D<b;D+=2)O[d[D]]++;const I=u.K;for(T=0,O[0]=0,S=1;S<=c;S++)T=T+O[S-1]<<1,I[S]=T;for(w=0;w<b;w+=2)U=d[w+1],U!=0&&(d[w]=I[U],I[U]++)},a.H.A=function(d,c,u){const b=d.length,T=a.H.m.r;for(let S=0;S<b;S+=2)if(d[S+1]!=0){const w=S>>1,U=d[S+1],O=w<<4|U,D=c-U;let I=d[S]<<D;const x=I+(1<<D);for(;I!=x;)u[T[I]>>>15-c]=O,I++}},a.H.l=function(d,c){const u=a.H.m.r,b=15-c;for(let T=0;T<d.length;T+=2){const S=d[T]<<c-d[T+1];d[T]=u[S]>>>b}},a.H.M=function(d,c,u){u<<=7&c;const b=c>>>3;d[b]|=u,d[b+1]|=u>>>8},a.H.I=function(d,c,u){u<<=7&c;const b=c>>>3;d[b]|=u,d[b+1]|=u>>>8,d[b+2]|=u>>>16},a.H.e=function(d,c,u){return(d[c>>>3]|d[1+(c>>>3)]<<8)>>>(7&c)&(1<<u)-1},a.H.b=function(d,c,u){return(d[c>>>3]|d[1+(c>>>3)]<<8|d[2+(c>>>3)]<<16)>>>(7&c)&(1<<u)-1},a.H.Z=function(d,c){return(d[c>>>3]|d[1+(c>>>3)]<<8|d[2+(c>>>3)]<<16)>>>(7&c)},a.H.i=function(d,c){return(d[c>>>3]|d[1+(c>>>3)]<<8|d[2+(c>>>3)]<<16|d[3+(c>>>3)]<<24)>>>(7&c)},a.H.m=function(){const d=Uint16Array,c=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new c(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new c(286),Y:new c(30),a:new c(19),t:new c(15e3),k:new d(65536),g:new d(32768)}}(),function(){const d=a.H.m;for(var c=0;c<32768;c++){let b=c;b=(2863311530&b)>>>1|(1431655765&b)<<1,b=(3435973836&b)>>>2|(858993459&b)<<2,b=(4042322160&b)>>>4|(252645135&b)<<4,b=(4278255360&b)>>>8|(16711935&b)<<8,d.r[c]=(b>>>16|b<<16)>>>17}function u(b,T,S){for(;T--!=0;)b.push(0,S)}for(c=0;c<32;c++)d.q[c]=d.S[c]<<3|d.T[c],d.c[c]=d.p[c]<<4|d.z[c];u(d._,144,8),u(d._,112,9),u(d._,24,7),u(d._,8,8),a.H.n(d._,9),a.H.A(d._,9,d.J),a.H.l(d._,9),u(d.$,32,5),a.H.n(d.$,5),a.H.A(d.$,5,d.h),a.H.l(d.$,5),u(d.Q,19,0),u(d.C,286,0),u(d.D,30,0),u(d.v,320,0)}(),a.H.N}();function n(a){return[1,null,3,1,2,null,4][a.ctype]*a.depth}function l(a,d,c,u,b){let T=n(d);const S=Math.ceil(u*T/8);let w,U;T=Math.ceil(T/8);let O=a[c],D=0;if(O>1&&(a[c]=[0,0,1][O-2]),O==3)for(D=T;D<S;D++)a[D+1]=a[D+1]+(a[D+1-T]>>>1)&255;for(let I=0;I<b;I++)if(w=c+I*S,U=w+I+1,O=a[U-1],D=0,O==0)for(;D<S;D++)a[w+D]=a[U+D];else if(O==1){for(;D<T;D++)a[w+D]=a[U+D];for(;D<S;D++)a[w+D]=a[U+D]+a[w+D-T]}else if(O==2)for(;D<S;D++)a[w+D]=a[U+D]+a[w+D-S];else if(O==3){for(;D<T;D++)a[w+D]=a[U+D]+(a[w+D-S]>>>1);for(;D<S;D++)a[w+D]=a[U+D]+(a[w+D-S]+a[w+D-T]>>>1)}else{for(;D<T;D++)a[w+D]=a[U+D]+s(0,a[w+D-S],0);for(;D<S;D++)a[w+D]=a[U+D]+s(a[w+D-T],a[w+D-S],a[w+D-T-S])}return a}function s(a,d,c){const u=a+d-c,b=u-a,T=u-d,S=u-c;return b*b<=T*T&&b*b<=S*S?a:T*T<=S*S?d:c}function f(a,d,c){c.width=e.readUint(a,d),d+=4,c.height=e.readUint(a,d),d+=4,c.depth=a[d],d++,c.ctype=a[d],d++,c.compress=a[d],d++,c.filter=a[d],d++,c.interlace=a[d],d++}function y(a,d,c,u,b,T,S,w,U){const O=Math.min(d,b),D=Math.min(c,T);let I=0,x=0;for(let P=0;P<D;P++)for(let g=0;g<O;g++)if(S>=0&&w>=0?(I=P*d+g<<2,x=(w+P)*b+S+g<<2):(I=(-w+P)*d-S+g<<2,x=P*b+g<<2),U==0)u[x]=a[I],u[x+1]=a[I+1],u[x+2]=a[I+2],u[x+3]=a[I+3];else if(U==1){var M=a[I+3]*.00392156862745098,v=a[I]*M,h=a[I+1]*M,C=a[I+2]*M,j=u[x+3]*(1/255),k=u[x]*j,R=u[x+1]*j,A=u[x+2]*j;const p=1-M,B=M+j*p,$=B==0?0:1/B;u[x+3]=255*B,u[x+0]=(v+k*p)*$,u[x+1]=(h+R*p)*$,u[x+2]=(C+A*p)*$}else if(U==2)M=a[I+3],v=a[I],h=a[I+1],C=a[I+2],j=u[x+3],k=u[x],R=u[x+1],A=u[x+2],M==j&&v==k&&h==R&&C==A?(u[x]=0,u[x+1]=0,u[x+2]=0,u[x+3]=0):(u[x]=v,u[x+1]=h,u[x+2]=C,u[x+3]=M);else if(U==3){if(M=a[I+3],v=a[I],h=a[I+1],C=a[I+2],j=u[x+3],k=u[x],R=u[x+1],A=u[x+2],M==j&&v==k&&h==R&&C==A)continue;if(M<220&&j>20)return!1}return!0}return{decode:function(d){const c=new Uint8Array(d);let u=8;const b=e,T=b.readUshort,S=b.readUint,w={tabs:{},frames:[]},U=new Uint8Array(c.length);let O,D=0,I=0;const x=[137,80,78,71,13,10,26,10];for(var M=0;M<8;M++)if(c[M]!=x[M])throw"The input is not a PNG file!";for(;u<c.length;){const P=b.readUint(c,u);u+=4;const g=b.readASCII(c,u,4);if(u+=4,g=="IHDR")f(c,u,w);else if(g=="iCCP"){for(var v=u;c[v]!=0;)v++;b.readASCII(c,u,v-u),c[v+1];const p=c.slice(v+2,u+P);let B=null;try{B=o(p)}catch{B=r(p)}w.tabs[g]=B}else if(g=="CgBI")w.tabs[g]=c.slice(u,u+4);else if(g=="IDAT"){for(M=0;M<P;M++)U[D+M]=c[u+M];D+=P}else if(g=="acTL")w.tabs[g]={num_frames:S(c,u),num_plays:S(c,u+4)},O=new Uint8Array(c.length);else if(g=="fcTL"){I!=0&&((A=w.frames[w.frames.length-1]).data=i(w,O.slice(0,I),A.rect.width,A.rect.height),I=0);const p={x:S(c,u+12),y:S(c,u+16),width:S(c,u+4),height:S(c,u+8)};let B=T(c,u+22);B=T(c,u+20)/(B==0?100:B);const $={rect:p,delay:Math.round(1e3*B),dispose:c[u+24],blend:c[u+25]};w.frames.push($)}else if(g=="fdAT"){for(M=0;M<P-4;M++)O[I+M]=c[u+M+4];I+=P-4}else if(g=="pHYs")w.tabs[g]=[b.readUint(c,u),b.readUint(c,u+4),c[u+8]];else if(g=="cHRM")for(w.tabs[g]=[],M=0;M<8;M++)w.tabs[g].push(b.readUint(c,u+4*M));else if(g=="tEXt"||g=="zTXt"){w.tabs[g]==null&&(w.tabs[g]={});var h=b.nextZero(c,u),C=b.readASCII(c,u,h-u),j=u+P-h-1;if(g=="tEXt")R=b.readASCII(c,h+1,j);else{var k=o(c.slice(h+2,h+2+j));R=b.readUTF8(k,0,k.length)}w.tabs[g][C]=R}else if(g=="iTXt"){w.tabs[g]==null&&(w.tabs[g]={}),h=0,v=u,h=b.nextZero(c,v),C=b.readASCII(c,v,h-v);const p=c[v=h+1];var R;c[v+1],v+=2,h=b.nextZero(c,v),b.readASCII(c,v,h-v),v=h+1,h=b.nextZero(c,v),b.readUTF8(c,v,h-v),j=P-((v=h+1)-u),p==0?R=b.readUTF8(c,v,j):(k=o(c.slice(v,v+j)),R=b.readUTF8(k,0,k.length)),w.tabs[g][C]=R}else if(g=="PLTE")w.tabs[g]=b.readBytes(c,u,P);else if(g=="hIST"){const p=w.tabs.PLTE.length/3;for(w.tabs[g]=[],M=0;M<p;M++)w.tabs[g].push(T(c,u+2*M))}else if(g=="tRNS")w.ctype==3?w.tabs[g]=b.readBytes(c,u,P):w.ctype==0?w.tabs[g]=T(c,u):w.ctype==2&&(w.tabs[g]=[T(c,u),T(c,u+2),T(c,u+4)]);else if(g=="gAMA")w.tabs[g]=b.readUint(c,u)/1e5;else if(g=="sRGB")w.tabs[g]=c[u];else if(g=="bKGD")w.ctype==0||w.ctype==4?w.tabs[g]=[T(c,u)]:w.ctype==2||w.ctype==6?w.tabs[g]=[T(c,u),T(c,u+2),T(c,u+4)]:w.ctype==3&&(w.tabs[g]=c[u]);else if(g=="IEND")break;u+=P,b.readUint(c,u),u+=4}var A;return I!=0&&((A=w.frames[w.frames.length-1]).data=i(w,O.slice(0,I),A.rect.width,A.rect.height)),w.data=i(w,U,w.width,w.height),delete w.compress,delete w.interlace,delete w.filter,w},toRGBA8:function(d){const c=d.width,u=d.height;if(d.tabs.acTL==null)return[t(d.data,c,u,d).buffer];const b=[];d.frames[0].data==null&&(d.frames[0].data=d.data);const T=c*u*4,S=new Uint8Array(T),w=new Uint8Array(T),U=new Uint8Array(T);for(let D=0;D<d.frames.length;D++){const I=d.frames[D],x=I.rect.x,M=I.rect.y,v=I.rect.width,h=I.rect.height,C=t(I.data,v,h,d);if(D!=0)for(var O=0;O<T;O++)U[O]=S[O];if(I.blend==0?y(C,v,h,S,c,u,x,M,0):I.blend==1&&y(C,v,h,S,c,u,x,M,1),b.push(S.buffer.slice(0)),I.dispose!=0){if(I.dispose==1)y(w,v,h,S,c,u,x,M,0);else if(I.dispose==2)for(O=0;O<T;O++)S[O]=U[O]}}return b},_paeth:s,_copyTile:y,_bin:e}}();(function(){const{_copyTile:e}=at,{_bin:t}=at,i=at._paeth;var o={table:function(){const v=new Uint32Array(256);for(let h=0;h<256;h++){let C=h;for(let j=0;j<8;j++)1&C?C=3988292384^C>>>1:C>>>=1;v[h]=C}return v}(),update(v,h,C,j){for(let k=0;k<j;k++)v=o.table[255&(v^h[C+k])]^v>>>8;return v},crc:(v,h,C)=>4294967295^o.update(4294967295,v,h,C)};function r(v,h,C,j){h[C]+=v[0]*j>>4,h[C+1]+=v[1]*j>>4,h[C+2]+=v[2]*j>>4,h[C+3]+=v[3]*j>>4}function n(v){return Math.max(0,Math.min(255,v))}function l(v,h){const C=v[0]-h[0],j=v[1]-h[1],k=v[2]-h[2],R=v[3]-h[3];return C*C+j*j+k*k+R*R}function s(v,h,C,j,k,R,A){A==null&&(A=1);const P=j.length,g=[];for(var p=0;p<P;p++){const F=j[p];g.push([F>>>0&255,F>>>8&255,F>>>16&255,F>>>24&255])}for(p=0;p<P;p++){let F=4294967295;for(var B=0,$=0;$<P;$++){var N=l(g[p],g[$]);$!=p&&N<F&&(F=N,B=$)}}const V=new Uint32Array(k.buffer),W=new Int16Array(h*C*4),z=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(p=0;p<z.length;p++)z[p]=255*((z[p]+.5)/16-.5);for(let F=0;F<C;F++)for(let Y=0;Y<h;Y++){var L;p=4*(F*h+Y),A!=2?L=[n(v[p]+W[p]),n(v[p+1]+W[p+1]),n(v[p+2]+W[p+2]),n(v[p+3]+W[p+3])]:(N=z[4*(3&F)+(3&Y)],L=[n(v[p]+N),n(v[p+1]+N),n(v[p+2]+N),n(v[p+3]+N)]),B=0;let oe=16777215;for($=0;$<P;$++){const re=l(L,g[$]);re<oe&&(oe=re,B=$)}const K=g[B],Z=[L[0]-K[0],L[1]-K[1],L[2]-K[2],L[3]-K[3]];A==1&&(Y!=h-1&&r(Z,W,p+4,7),F!=C-1&&(Y!=0&&r(Z,W,p+4*h-4,3),r(Z,W,p+4*h,5),Y!=h-1&&r(Z,W,p+4*h+4,1))),R[p>>2]=B,V[p>>2]=j[B]}}function f(v,h,C,j,k){k==null&&(k={});const{crc:R}=o,A=t.writeUint,P=t.writeUshort,g=t.writeASCII;let p=8;const B=v.frames.length>1;let $,N=!1,V=33+(B?20:0);if(k.sRGB!=null&&(V+=13),k.pHYs!=null&&(V+=21),k.iCCP!=null&&($=pako.deflate(k.iCCP),V+=21+$.length+4),v.ctype==3){for(var W=v.plte.length,z=0;z<W;z++)v.plte[z]>>>24!=255&&(N=!0);V+=8+3*W+4+(N?8+1*W+4:0)}for(var L=0;L<v.frames.length;L++)B&&(V+=38),V+=(K=v.frames[L]).cimg.length+12,L!=0&&(V+=4);V+=12;const F=new Uint8Array(V),Y=[137,80,78,71,13,10,26,10];for(z=0;z<8;z++)F[z]=Y[z];if(A(F,p,13),p+=4,g(F,p,"IHDR"),p+=4,A(F,p,h),p+=4,A(F,p,C),p+=4,F[p]=v.depth,p++,F[p]=v.ctype,p++,F[p]=0,p++,F[p]=0,p++,F[p]=0,p++,A(F,p,R(F,p-17,17)),p+=4,k.sRGB!=null&&(A(F,p,1),p+=4,g(F,p,"sRGB"),p+=4,F[p]=k.sRGB,p++,A(F,p,R(F,p-5,5)),p+=4),k.iCCP!=null){const Z=13+$.length;A(F,p,Z),p+=4,g(F,p,"iCCP"),p+=4,g(F,p,"ICC profile"),p+=11,p+=2,F.set($,p),p+=$.length,A(F,p,R(F,p-(Z+4),Z+4)),p+=4}if(k.pHYs!=null&&(A(F,p,9),p+=4,g(F,p,"pHYs"),p+=4,A(F,p,k.pHYs[0]),p+=4,A(F,p,k.pHYs[1]),p+=4,F[p]=k.pHYs[2],p++,A(F,p,R(F,p-13,13)),p+=4),B&&(A(F,p,8),p+=4,g(F,p,"acTL"),p+=4,A(F,p,v.frames.length),p+=4,A(F,p,k.loop!=null?k.loop:0),p+=4,A(F,p,R(F,p-12,12)),p+=4),v.ctype==3){for(A(F,p,3*(W=v.plte.length)),p+=4,g(F,p,"PLTE"),p+=4,z=0;z<W;z++){const Z=3*z,re=v.plte[z],ie=255&re,ce=re>>>8&255,Fe=re>>>16&255;F[p+Z+0]=ie,F[p+Z+1]=ce,F[p+Z+2]=Fe}if(p+=3*W,A(F,p,R(F,p-3*W-4,3*W+4)),p+=4,N){for(A(F,p,W),p+=4,g(F,p,"tRNS"),p+=4,z=0;z<W;z++)F[p+z]=v.plte[z]>>>24&255;p+=W,A(F,p,R(F,p-W-4,W+4)),p+=4}}let oe=0;for(L=0;L<v.frames.length;L++){var K=v.frames[L];B&&(A(F,p,26),p+=4,g(F,p,"fcTL"),p+=4,A(F,p,oe++),p+=4,A(F,p,K.rect.width),p+=4,A(F,p,K.rect.height),p+=4,A(F,p,K.rect.x),p+=4,A(F,p,K.rect.y),p+=4,P(F,p,j[L]),p+=2,P(F,p,1e3),p+=2,F[p]=K.dispose,p++,F[p]=K.blend,p++,A(F,p,R(F,p-30,30)),p+=4);const Z=K.cimg;A(F,p,(W=Z.length)+(L==0?0:4)),p+=4;const re=p;g(F,p,L==0?"IDAT":"fdAT"),p+=4,L!=0&&(A(F,p,oe++),p+=4),F.set(Z,p),p+=W,A(F,p,R(F,re,p-re)),p+=4}return A(F,p,0),p+=4,g(F,p,"IEND"),p+=4,A(F,p,R(F,p-4,4)),p+=4,F.buffer}function y(v,h,C){for(let j=0;j<v.frames.length;j++){const k=v.frames[j];k.rect.width;const R=k.rect.height,A=new Uint8Array(R*k.bpl+R);k.cimg=u(k.img,R,k.bpp,k.bpl,A,h,C)}}function a(v,h,C,j,k){const R=k[0],A=k[1],P=k[2],g=k[3],p=k[4],B=k[5];let $=6,N=8,V=255;for(var W=0;W<v.length;W++){const ue=new Uint8Array(v[W]);for(var z=ue.length,L=0;L<z;L+=4)V&=ue[L+3]}const F=V!=255,Y=function(se,G,be,he,fe,xe){const ge=[];for(var le=0;le<se.length;le++){const ve=new Uint8Array(se[le]),Re=new Uint32Array(ve.buffer);var je;let Ae=0,Pe=0,Ue=G,Ne=be,it=he?1:0;if(le!=0){const St=xe||he||le==1||ge[le-2].dispose!=0?1:2;let vt=0,Ut=1e9;for(let ft=0;ft<St;ft++){var ke=new Uint8Array(se[le-1-ft]);const Vt=new Uint32Array(se[le-1-ft]);let qe=G,E=be,q=-1,H=-1;for(let X=0;X<be;X++)for(let te=0;te<G;te++)Re[we=X*G+te]!=Vt[we]&&(te<qe&&(qe=te),te>q&&(q=te),X<E&&(E=X),X>H&&(H=X));q==-1&&(qe=E=q=H=0),fe&&((1&qe)==1&&qe--,(1&E)==1&&E--);const ee=(q-qe+1)*(H-E+1);ee<Ut&&(Ut=ee,vt=ft,Ae=qe,Pe=E,Ue=q-qe+1,Ne=H-E+1)}ke=new Uint8Array(se[le-1-vt]),vt==1&&(ge[le-1].dispose=2),je=new Uint8Array(Ue*Ne*4),e(ke,G,be,je,Ue,Ne,-Ae,-Pe,0),it=e(ve,G,be,je,Ue,Ne,-Ae,-Pe,3)?1:0,it==1?c(ve,G,be,je,{x:Ae,y:Pe,width:Ue,height:Ne}):e(ve,G,be,je,Ue,Ne,-Ae,-Pe,0)}else je=ve.slice(0);ge.push({rect:{x:Ae,y:Pe,width:Ue,height:Ne},img:je,blend:it,dispose:0})}if(he)for(le=0;le<ge.length;le++){if((Be=ge[le]).blend==1)continue;const ve=Be.rect,Re=ge[le-1].rect,Ae=Math.min(ve.x,Re.x),Pe=Math.min(ve.y,Re.y),Ue={x:Ae,y:Pe,width:Math.max(ve.x+ve.width,Re.x+Re.width)-Ae,height:Math.max(ve.y+ve.height,Re.y+Re.height)-Pe};ge[le-1].dispose=1,le-1!=0&&d(se,G,be,ge,le-1,Ue,fe),d(se,G,be,ge,le,Ue,fe)}let Je=0;if(se.length!=1)for(var we=0;we<ge.length;we++){var Be;Je+=(Be=ge[we]).rect.width*Be.rect.height}return ge}(v,h,C,R,A,P),oe={},K=[],Z=[];if(j!=0){const ue=[];for(L=0;L<Y.length;L++)ue.push(Y[L].img.buffer);const se=function(fe){let xe=0;for(var ge=0;ge<fe.length;ge++)xe+=fe[ge].byteLength;const le=new Uint8Array(xe);let je=0;for(ge=0;ge<fe.length;ge++){const ke=new Uint8Array(fe[ge]),Je=ke.length;for(let we=0;we<Je;we+=4){let Be=ke[we],ve=ke[we+1],Re=ke[we+2];const Ae=ke[we+3];Ae==0&&(Be=ve=Re=0),le[je+we]=Be,le[je+we+1]=ve,le[je+we+2]=Re,le[je+we+3]=Ae}je+=Je}return le.buffer}(ue),G=T(se,j);for(L=0;L<G.plte.length;L++)K.push(G.plte[L].est.rgba);let be=0;for(L=0;L<Y.length;L++){const he=(ie=Y[L]).img.length;var re=new Uint8Array(G.inds.buffer,be>>2,he>>2);Z.push(re);const fe=new Uint8Array(G.abuf,be,he);B&&s(ie.img,ie.rect.width,ie.rect.height,K,fe,re),ie.img.set(fe),be+=he}}else for(W=0;W<Y.length;W++){var ie=Y[W];const ue=new Uint32Array(ie.img.buffer);var ce=ie.rect.width;for(z=ue.length,re=new Uint8Array(z),Z.push(re),L=0;L<z;L++){const se=ue[L];if(L!=0&&se==ue[L-1])re[L]=re[L-1];else if(L>ce&&se==ue[L-ce])re[L]=re[L-ce];else{let G=oe[se];if(G==null&&(oe[se]=G=K.length,K.push(se),K.length>=300))break;re[L]=G}}}const Fe=K.length;for(Fe<=256&&p==0&&(N=Fe<=2?1:Fe<=4?2:Fe<=16?4:8,N=Math.max(N,g)),W=0;W<Y.length;W++){(ie=Y[W]).rect.x,ie.rect.y,ce=ie.rect.width;const ue=ie.rect.height;let se=ie.img;new Uint32Array(se.buffer);let G=4*ce,be=4;if(Fe<=256&&p==0){G=Math.ceil(N*ce/8);var ye=new Uint8Array(G*ue);const he=Z[W];for(let fe=0;fe<ue;fe++){L=fe*G;const xe=fe*ce;if(N==8)for(var ae=0;ae<ce;ae++)ye[L+ae]=he[xe+ae];else if(N==4)for(ae=0;ae<ce;ae++)ye[L+(ae>>1)]|=he[xe+ae]<<4-4*(1&ae);else if(N==2)for(ae=0;ae<ce;ae++)ye[L+(ae>>2)]|=he[xe+ae]<<6-2*(3&ae);else if(N==1)for(ae=0;ae<ce;ae++)ye[L+(ae>>3)]|=he[xe+ae]<<7-1*(7&ae)}se=ye,$=3,be=1}else if(F==0&&Y.length==1){ye=new Uint8Array(ce*ue*3);const he=ce*ue;for(L=0;L<he;L++){const fe=3*L,xe=4*L;ye[fe]=se[xe],ye[fe+1]=se[xe+1],ye[fe+2]=se[xe+2]}se=ye,$=2,be=3,G=3*ce}ie.img=se,ie.bpl=G,ie.bpp=be}return{ctype:$,depth:N,plte:K,frames:Y}}function d(v,h,C,j,k,R,A){const P=Uint8Array,g=Uint32Array,p=new P(v[k-1]),B=new g(v[k-1]),$=k+1<v.length?new P(v[k+1]):null,N=new P(v[k]),V=new g(N.buffer);let W=h,z=C,L=-1,F=-1;for(let oe=0;oe<R.height;oe++)for(let K=0;K<R.width;K++){const Z=R.x+K,re=R.y+oe,ie=re*h+Z,ce=V[ie];ce==0||j[k-1].dispose==0&&B[ie]==ce&&($==null||$[4*ie+3]!=0)||(Z<W&&(W=Z),Z>L&&(L=Z),re<z&&(z=re),re>F&&(F=re))}L==-1&&(W=z=L=F=0),A&&((1&W)==1&&W--,(1&z)==1&&z--),R={x:W,y:z,width:L-W+1,height:F-z+1};const Y=j[k];Y.rect=R,Y.blend=1,Y.img=new Uint8Array(R.width*R.height*4),j[k-1].dispose==0?(e(p,h,C,Y.img,R.width,R.height,-R.x,-R.y,0),c(N,h,C,Y.img,R)):e(N,h,C,Y.img,R.width,R.height,-R.x,-R.y,0)}function c(v,h,C,j,k){e(v,h,C,j,k.width,k.height,-k.x,-k.y,2)}function u(v,h,C,j,k,R,A){const P=[];let g,p=[0,1,2,3,4];R!=-1?p=[R]:(h*j>5e5||C==1)&&(p=[0]),A&&(g={level:0});const B=sl;for(var $=0;$<p.length;$++){for(let W=0;W<h;W++)b(k,v,W,j,C,p[$]);P.push(B.deflate(k,g))}let N,V=1e9;for($=0;$<P.length;$++)P[$].length<V&&(N=$,V=P[$].length);return P[N]}function b(v,h,C,j,k,R){const A=C*j;let P=A+C;if(v[P]=R,P++,R==0)if(j<500)for(var g=0;g<j;g++)v[P+g]=h[A+g];else v.set(new Uint8Array(h.buffer,A,j),P);else if(R==1){for(g=0;g<k;g++)v[P+g]=h[A+g];for(g=k;g<j;g++)v[P+g]=h[A+g]-h[A+g-k]+256&255}else if(C==0){for(g=0;g<k;g++)v[P+g]=h[A+g];if(R==2)for(g=k;g<j;g++)v[P+g]=h[A+g];if(R==3)for(g=k;g<j;g++)v[P+g]=h[A+g]-(h[A+g-k]>>1)+256&255;if(R==4)for(g=k;g<j;g++)v[P+g]=h[A+g]-i(h[A+g-k],0,0)+256&255}else{if(R==2)for(g=0;g<j;g++)v[P+g]=h[A+g]+256-h[A+g-j]&255;if(R==3){for(g=0;g<k;g++)v[P+g]=h[A+g]+256-(h[A+g-j]>>1)&255;for(g=k;g<j;g++)v[P+g]=h[A+g]+256-(h[A+g-j]+h[A+g-k]>>1)&255}if(R==4){for(g=0;g<k;g++)v[P+g]=h[A+g]+256-i(0,h[A+g-j],0)&255;for(g=k;g<j;g++)v[P+g]=h[A+g]+256-i(h[A+g-k],h[A+g-j],h[A+g-k-j])&255}}}function T(v,h){const C=new Uint8Array(v),j=C.slice(0),k=new Uint32Array(j.buffer),R=S(j,h),A=R[0],P=R[1],g=C.length,p=new Uint8Array(g>>2);let B;if(C.length<2e7)for(var $=0;$<g;$+=4)B=w(A,N=C[$]*(1/255),V=C[$+1]*(1/255),W=C[$+2]*(1/255),z=C[$+3]*(1/255)),p[$>>2]=B.ind,k[$>>2]=B.est.rgba;else for($=0;$<g;$+=4){var N=C[$]*.00392156862745098,V=C[$+1]*(1/255),W=C[$+2]*(1/255),z=C[$+3]*(1/255);for(B=A;B.left;)B=U(B.est,N,V,W,z)<=0?B.left:B.right;p[$>>2]=B.ind,k[$>>2]=B.est.rgba}return{abuf:j.buffer,inds:p,plte:P}}function S(v,h,C){C==null&&(C=1e-4);const j=new Uint32Array(v.buffer),k={i0:0,i1:v.length,bst:null,est:null,tdst:0,left:null,right:null};k.bst=I(v,k.i0,k.i1),k.est=x(k.bst);const R=[k];for(;R.length<h;){let P=0,g=0;for(var A=0;A<R.length;A++)R[A].est.L>P&&(P=R[A].est.L,g=A);if(P<C)break;const p=R[g],B=O(v,j,p.i0,p.i1,p.est.e,p.est.eMq255);if(p.i0>=B||p.i1<=B){p.est.L=0;continue}const $={i0:p.i0,i1:B,bst:null,est:null,tdst:0,left:null,right:null};$.bst=I(v,$.i0,$.i1),$.est=x($.bst);const N={i0:B,i1:p.i1,bst:null,est:null,tdst:0,left:null,right:null};for(N.bst={R:[],m:[],N:p.bst.N-$.bst.N},A=0;A<16;A++)N.bst.R[A]=p.bst.R[A]-$.bst.R[A];for(A=0;A<4;A++)N.bst.m[A]=p.bst.m[A]-$.bst.m[A];N.est=x(N.bst),p.left=$,p.right=N,R[g]=$,R.push(N)}for(R.sort((P,g)=>g.bst.N-P.bst.N),A=0;A<R.length;A++)R[A].ind=A;return[k,R]}function w(v,h,C,j,k){if(v.left==null)return v.tdst=function($,N,V,W,z){const L=N-$[0],F=V-$[1],Y=W-$[2],oe=z-$[3];return L*L+F*F+Y*Y+oe*oe}(v.est.q,h,C,j,k),v;const R=U(v.est,h,C,j,k);let A=v.left,P=v.right;R>0&&(A=v.right,P=v.left);const g=w(A,h,C,j,k);if(g.tdst<=R*R)return g;const p=w(P,h,C,j,k);return p.tdst<g.tdst?p:g}function U(v,h,C,j,k){const{e:R}=v;return R[0]*h+R[1]*C+R[2]*j+R[3]*k-v.eMq}function O(v,h,C,j,k,R){for(j-=4;C<j;){for(;D(v,C,k)<=R;)C+=4;for(;D(v,j,k)>R;)j-=4;if(C>=j)break;const A=h[C>>2];h[C>>2]=h[j>>2],h[j>>2]=A,C+=4,j-=4}for(;D(v,C,k)>R;)C-=4;return C+4}function D(v,h,C){return v[h]*C[0]+v[h+1]*C[1]+v[h+2]*C[2]+v[h+3]*C[3]}function I(v,h,C){const j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],k=[0,0,0,0],R=C-h>>2;for(let A=h;A<C;A+=4){const P=v[A]*.00392156862745098,g=v[A+1]*(1/255),p=v[A+2]*(1/255),B=v[A+3]*(1/255);k[0]+=P,k[1]+=g,k[2]+=p,k[3]+=B,j[0]+=P*P,j[1]+=P*g,j[2]+=P*p,j[3]+=P*B,j[5]+=g*g,j[6]+=g*p,j[7]+=g*B,j[10]+=p*p,j[11]+=p*B,j[15]+=B*B}return j[4]=j[1],j[8]=j[2],j[9]=j[6],j[12]=j[3],j[13]=j[7],j[14]=j[11],{R:j,m:k,N:R}}function x(v){const{R:h}=v,{m:C}=v,{N:j}=v,k=C[0],R=C[1],A=C[2],P=C[3],g=j==0?0:1/j,p=[h[0]-k*k*g,h[1]-k*R*g,h[2]-k*A*g,h[3]-k*P*g,h[4]-R*k*g,h[5]-R*R*g,h[6]-R*A*g,h[7]-R*P*g,h[8]-A*k*g,h[9]-A*R*g,h[10]-A*A*g,h[11]-A*P*g,h[12]-P*k*g,h[13]-P*R*g,h[14]-P*A*g,h[15]-P*P*g],B=p,$=M;let N=[Math.random(),Math.random(),Math.random(),Math.random()],V=0,W=0;if(j!=0)for(let L=0;L<16&&(N=$.multVec(B,N),W=Math.sqrt($.dot(N,N)),N=$.sml(1/W,N),!(L!=0&&Math.abs(W-V)<1e-9));L++)V=W;const z=[k*g,R*g,A*g,P*g];return{Cov:p,q:z,e:N,L:V,eMq255:$.dot($.sml(255,z),N),eMq:$.dot(N,z),rgba:(Math.round(255*z[3])<<24|Math.round(255*z[2])<<16|Math.round(255*z[1])<<8|Math.round(255*z[0])<<0)>>>0}}var M={multVec:(v,h)=>[v[0]*h[0]+v[1]*h[1]+v[2]*h[2]+v[3]*h[3],v[4]*h[0]+v[5]*h[1]+v[6]*h[2]+v[7]*h[3],v[8]*h[0]+v[9]*h[1]+v[10]*h[2]+v[11]*h[3],v[12]*h[0]+v[13]*h[1]+v[14]*h[2]+v[15]*h[3]],dot:(v,h)=>v[0]*h[0]+v[1]*h[1]+v[2]*h[2]+v[3]*h[3],sml:(v,h)=>[v*h[0],v*h[1],v*h[2],v*h[3]]};at.encode=function(h,C,j,k,R,A,P){k==null&&(k=0),P==null&&(P=!1);const g=a(h,C,j,k,[!1,!1,!1,0,P,!1]);return y(g,-1),f(g,C,j,R,A)},at.encodeLL=function(h,C,j,k,R,A,P,g){const p={ctype:0+(k==1?0:2)+(R==0?0:4),depth:A,frames:[]},B=(k+R)*A,$=B*C;for(let N=0;N<h.length;N++)p.frames.push({rect:{x:0,y:0,width:C,height:j},img:new Uint8Array(h[N]),blend:0,dispose:1,bpp:Math.ceil(B/8),bpl:Math.ceil($/8)});return y(p,0,!0),f(p,C,j,P,g)},at.encode.compress=a,at.encode.dither=s,at.quantize=T,at.quantize.getKDtree=S,at.quantize.getNearest=w})();const Xn={toArrayBuffer(e,t){const i=e.width,o=e.height,r=i<<2,n=e.getContext("2d").getImageData(0,0,i,o),l=new Uint32Array(n.data.buffer),s=(32*i+31)/32<<2,f=s*o,y=122+f,a=new ArrayBuffer(y),d=new DataView(a),c=1<<20;let u,b,T,S,w=c,U=0,O=0,D=0;function I(v){d.setUint16(O,v,!0),O+=2}function x(v){d.setUint32(O,v,!0),O+=4}function M(v){O+=v}I(19778),x(y),M(4),x(122),x(108),x(i),x(-o>>>0),I(1),I(32),x(3),x(f),x(2835),x(2835),M(8),x(16711680),x(65280),x(255),x(4278190080),x(1466527264),function v(){for(;U<o&&w>0;){for(S=122+U*s,u=0;u<r;)w--,b=l[D++],T=b>>>24,d.setUint32(S+u,b<<8|T),u+=4;U++}D<l.length?(w=c,setTimeout(v,Xn._dly)):t(a)}()},toBlob(e,t){this.toArrayBuffer(e,i=>{t(new Blob([i],{type:"image/bmp"}))})},_dly:9};var Le={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},ll={[Le.CHROME]:16384,[Le.FIREFOX]:11180,[Le.DESKTOP_SAFARI]:16384,[Le.IE]:8192,[Le.IOS]:4096,[Le.ETC]:8192};const Wr=typeof window<"u",Gn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,fr=Wr&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),cl=(Wr||Gn)&&(fr&&fr.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Zn=(Wr||Gn)&&(fr&&fr.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Hr(e,t,i=Date.now()){return new Promise(o=>{const r=e.split(","),n=r[0].match(/:(.*?);/)[1],l=globalThis.atob(r[1]);let s=l.length;const f=new Uint8Array(s);for(;s--;)f[s]=l.charCodeAt(s);const y=new Blob([f],{type:n});y.name=t,y.lastModified=i,o(y)})}function Jn(e){return new Promise((t,i)=>{const o=new Zn;o.onload=()=>t(o.result),o.onerror=r=>i(r),o.readAsDataURL(e)})}function eo(e){return new Promise((t,i)=>{const o=new Image;o.onload=()=>t(o),o.onerror=r=>i(r),o.src=e})}function Pt(){if(Pt.cachedResult!==void 0)return Pt.cachedResult;let e=Le.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=Le.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=Le.IOS:/Safari/i.test(t)?e=Le.DESKTOP_SAFARI:/Firefox/i.test(t)?e=Le.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(e=Le.IE),Pt.cachedResult=e,Pt.cachedResult}function to(e,t){const i=Pt(),o=ll[i];let r=e,n=t,l=r*n;const s=r>n?n/r:r/n;for(;l>o*o;){const f=(o+r)/2,y=(o+n)/2;f<y?(n=y,r=y*s):(n=f*s,r=f),l=r*n}return{width:r,height:n}}function mr(e,t){let i,o;try{if(i=new OffscreenCanvas(e,t),o=i.getContext("2d"),o===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{i=document.createElement("canvas"),o=i.getContext("2d")}return i.width=e,i.height=t,[i,o]}function ro(e,t){const{width:i,height:o}=to(e.width,e.height),[r,n]=mr(i,o);return t&&/jpe?g/.test(t)&&(n.fillStyle="white",n.fillRect(0,0,r.width,r.height)),n.drawImage(e,0,0,r.width,r.height),r}function sr(){return sr.cachedResult!==void 0||(sr.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),sr.cachedResult}function pr(e,t={}){return new Promise(function(i,o){let r,n;var l=function(){try{return n=ro(r,t.fileType||e.type),i([r,n])}catch(f){return o(f)}},s=function(f){try{var y=function(a){try{throw a}catch(d){return o(d)}};try{let a;return Jn(e).then(function(d){try{return a=d,eo(a).then(function(c){try{return r=c,function(){try{return l()}catch(u){return o(u)}}()}catch(u){return y(u)}},y)}catch(c){return y(c)}},y)}catch(a){y(a)}}catch(a){return o(a)}};try{if(sr()||[Le.DESKTOP_SAFARI,Le.MOBILE_SAFARI].includes(Pt()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(f){try{return r=f,l()}catch{return s()}},s)}catch{s()}})}function hr(e,t,i,o,r=1){return new Promise(function(n,l){let s;if(t==="image/png"){let y,a,d;return y=e.getContext("2d"),{data:a}=y.getImageData(0,0,e.width,e.height),d=at.encode([a.buffer],e.width,e.height,4096*r),s=new Blob([d],{type:t}),s.name=i,s.lastModified=o,f.call(this)}{let y=function(){return f.call(this)};if(t==="image/bmp")return new Promise(a=>Xn.toBlob(e,a)).then((function(a){try{return s=a,s.name=i,s.lastModified=o,y.call(this)}catch(d){return l(d)}}).bind(this),l);{let a=function(){return y.call(this)};if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:r}).then((function(d){try{return s=d,s.name=i,s.lastModified=o,a.call(this)}catch(c){return l(c)}}).bind(this),l);{let d;return d=e.toDataURL(t,r),Hr(d,i,o).then((function(c){try{return s=c,a.call(this)}catch(u){return l(u)}}).bind(this),l)}}}function f(){return n(s)}})}function ct(e){e.width=0,e.height=0}function _t(){return new Promise(function(e,t){let i,o,r,n;return _t.cachedResult!==void 0?e(_t.cachedResult):Hr("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(l){try{return i=l,pr(i).then(function(s){try{return o=s[1],hr(o,i.type,i.name,i.lastModified).then(function(f){try{return r=f,ct(o),pr(r).then(function(y){try{return n=y[0],_t.cachedResult=n.width===1&&n.height===2,e(_t.cachedResult)}catch(a){return t(a)}},t)}catch(y){return t(y)}},t)}catch(f){return t(f)}},t)}catch(s){return t(s)}},t)})}function no(e){return new Promise((t,i)=>{const o=new Zn;o.onload=r=>{const n=new DataView(r.target.result);if(n.getUint16(0,!1)!=65496)return t(-2);const l=n.byteLength;let s=2;for(;s<l;){if(n.getUint16(s+2,!1)<=8)return t(-1);const f=n.getUint16(s,!1);if(s+=2,f==65505){if(n.getUint32(s+=2,!1)!=1165519206)return t(-1);const y=n.getUint16(s+=6,!1)==18761;s+=n.getUint32(s+4,y);const a=n.getUint16(s,y);s+=2;for(let d=0;d<a;d++)if(n.getUint16(s+12*d,y)==274)return t(n.getUint16(s+12*d+8,y))}else{if((65280&f)!=65280)break;s+=n.getUint16(s,!1)}}return t(-1)},o.onerror=r=>i(r),o.readAsArrayBuffer(e)})}function oo(e,t){const{width:i}=e,{height:o}=e,{maxWidthOrHeight:r}=t;let n,l=e;return isFinite(r)&&(i>r||o>r)&&([l,n]=mr(i,o),i>o?(l.width=r,l.height=o/i*r):(l.width=i/o*r,l.height=r),n.drawImage(e,0,0,l.width,l.height),ct(e)),l}function ao(e,t){const{width:i}=e,{height:o}=e,[r,n]=mr(i,o);switch(t>4&&t<9?(r.width=o,r.height=i):(r.width=i,r.height=o),t){case 2:n.transform(-1,0,0,1,i,0);break;case 3:n.transform(-1,0,0,-1,i,o);break;case 4:n.transform(1,0,0,-1,0,o);break;case 5:n.transform(0,1,1,0,0,0);break;case 6:n.transform(0,1,-1,0,o,0);break;case 7:n.transform(0,-1,-1,0,o,i);break;case 8:n.transform(0,-1,1,0,0,i)}return n.drawImage(e,0,0,i,o),ct(e),r}function An(e,t,i=0){return new Promise(function(o,r){let n,l,s,f,y,a,d,c,u,b,T,S,w,U,O,D,I,x,M,v;function h(j=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;n+=j,t.onProgress(Math.min(n,100))}function C(j){if(t.signal&&t.signal.aborted)throw t.signal.reason;n=Math.min(Math.max(j,n),100),t.onProgress(n)}return n=i,l=t.maxIteration||10,s=1024*t.maxSizeMB*1024,h(),pr(e,t).then((function(j){try{return[,f]=j,h(),y=oo(f,t),h(),new Promise(function(k,R){var A;if(!(A=t.exifOrientation))return no(e).then((function(g){try{return A=g,P.call(this)}catch(p){return R(p)}}).bind(this),R);function P(){return k(A)}return P.call(this)}).then((function(k){try{return a=k,h(),_t().then((function(R){try{return d=R?y:ao(y,a),h(),c=t.initialQuality||1,u=t.fileType||e.type,hr(d,u,e.name,e.lastModified,c).then((function(A){try{{let g=function(){if(l--&&(O>s||O>w)){let B,$;return B=v?.95*M.width:M.width,$=v?.95*M.height:M.height,[I,x]=mr(B,$),x.drawImage(M,0,0,B,$),c*=u==="image/png"?.85:.95,hr(I,u,e.name,e.lastModified,c).then(function(N){try{return D=N,ct(M),M=I,O=D.size,C(Math.min(99,Math.floor((U-O)/(U-s)*100))),g}catch(V){return r(V)}},r)}return[1]},p=function(){return ct(M),ct(I),ct(y),ct(d),ct(f),C(100),o(D)};if(b=A,h(),T=b.size>s,S=b.size>e.size,!T&&!S)return C(100),o(b);var P;return w=e.size,U=b.size,O=U,M=d,v=!t.alwaysKeepResolution&&T,(P=(function(B){for(;B;){if(B.then)return void B.then(P,r);try{if(B.pop){if(B.length)return B.pop()?p.call(this):B;B=g}else B=B.call(this)}catch($){return r($)}}}).bind(this))(g)}}catch(g){return r(g)}}).bind(this),r)}catch(A){return r(A)}}).bind(this),r)}catch(R){return r(R)}}).bind(this),r)}catch(k){return r(k)}}).bind(this),r)})}const dl=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let wr;function ul(e,t){return new Promise((i,o)=>{wr||(wr=function(l){const s=[];return typeof l=="function"?s.push(`(${l})()`):s.push(l),URL.createObjectURL(new Blob(s))}(dl));const r=new Worker(wr);r.addEventListener("message",function(l){if(t.signal&&t.signal.aborted)r.terminate();else if(l.data.progress===void 0){if(l.data.error)return o(new Error(l.data.error)),void r.terminate();i(l.data.file),r.terminate()}else t.onProgress(l.data.progress)}),r.addEventListener("error",o),t.signal&&t.signal.addEventListener("abort",()=>{o(t.signal.reason),r.terminate()}),r.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})})}function Oe(e,t){return new Promise(function(i,o){let r,n,l,s,f,y;if(r={...t},l=0,{onProgress:s}=r,r.maxSizeMB=r.maxSizeMB||Number.POSITIVE_INFINITY,f=typeof r.useWebWorker!="boolean"||r.useWebWorker,delete r.useWebWorker,r.onProgress=u=>{l=u,typeof s=="function"&&s(l)},!(e instanceof Blob||e instanceof cl))return o(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return o(new Error("The file given is not an image"));if(y=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!f||typeof Worker!="function"||y)return An(e,r).then((function(u){try{return n=u,c.call(this)}catch(b){return o(b)}}).bind(this),o);var a=(function(){try{return c.call(this)}catch(u){return o(u)}}).bind(this),d=function(u){try{return An(e,r).then(function(b){try{return n=b,a()}catch(T){return o(T)}},o)}catch(b){return o(b)}};try{return r.libURL=r.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",ul(e,r).then(function(u){try{return n=u,a()}catch{return d()}},d)}catch{d()}function c(){try{n.name=e.name,n.lastModified=e.lastModified}catch{}try{r.preserveExif&&e.type==="image/jpeg"&&(!r.fileType||r.fileType&&r.fileType===e.type)&&(n=Kn(e,n))}catch{}return i(n)}})}Oe.getDataUrlFromFile=Jn,Oe.getFilefromDataUrl=Hr,Oe.loadImage=eo,Oe.drawImageInCanvas=ro,Oe.drawFileInCanvas=pr,Oe.canvasToFile=hr,Oe.getExifOrientation=no,Oe.handleMaxWidthOrHeight=oo,Oe.followExifOrientation=ao,Oe.cleanupCanvasMemory=ct,Oe.isAutoOrientationInBrowser=_t,Oe.approximateBelowMaximumCanvasSizeOfBrowser=to,Oe.copyExifWithoutOrientation=Kn,Oe.getBrowserName=Pt,Oe.version="2.0.2";var zr={},fl=Ct;Object.defineProperty(zr,"__esModule",{value:!0});var io=zr.default=void 0,pl=fl(At()),Dn=m;io=zr.default=(0,pl.default)([(0,Dn.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"},"0"),(0,Dn.jsx)("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"},"1")],"ZoomIn");var Vr={},hl=Ct;Object.defineProperty(Vr,"__esModule",{value:!0});var so=Vr.default=void 0,gl=hl(At()),vl=m;so=Vr.default=(0,gl.default)((0,vl.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14M7 9h5v1H7z"}),"ZoomOut");var qr={},ml=Ct;Object.defineProperty(qr,"__esModule",{value:!0});var lo=qr.default=void 0,bl=ml(At()),yl=m;lo=qr.default=(0,bl.default)((0,yl.jsx)("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen");var Qr={},xl=Ct;Object.defineProperty(Qr,"__esModule",{value:!0});var co=Qr.default=void 0,wl=xl(At()),Cl=m;co=Qr.default=(0,wl.default)((0,Cl.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");const lr=({path:e,imageUrl:t,setImageUrl:i,imageStoragePath:o,setImageStoragePath:r,imageTitle:n,setImageTitle:l,onDelete:s})=>{const[f,y]=_.useState(!1),[a,d]=_.useState(0),[c,u]=_.useState(!1),[b,T]=_.useState(1),S=_.useRef(null),w=_.useRef(null),[U,O]=_.useState(!1),[D,I]=_.useState(!1),[x,M]=_.useState(""),[v,h]=_.useState("info"),C=async g=>{const p=g.target.files[0];if(!p)return;const B={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};try{let $=p;p.size>1024*1024&&($=await Oe(p,B),M("Your image was compressed before uploading due to file size larger than 1 MB."),h("info"),I(!0)),y(!0);const V=`${new Date().getTime()}-${$.name}`,W=en(),z=tn(W,`${e}/${V}`),L=Co(z,$);L.on("state_changed",F=>{const Y=F.bytesTransferred/F.totalBytes*100;d(Y)},F=>{console.error("Upload failed:",F),y(!1),d(0)},()=>{To(L.snapshot.ref).then(F=>{i(F),r(z.fullPath),y(!1),d(0),S.current&&(S.current.value="")})})}catch($){console.error("Error processing image:",$),y(!1),d(0)}},j=()=>{O(!U)},k=async()=>{if(!o)return;const g=en(),p=tn(g,o);try{await jo(p),console.log("Image deleted successfully"),i(""),r(""),l(""),s(),M("The image has been deleted."),h("success"),I(!0)}catch(B){console.error("Error removing file: ",B),M("There was an issue deleting your image."),h("error"),I(!0)}},R=()=>T(b*1.2),A=()=>T(b/1.2);_.useEffect(()=>{const g=()=>{const p=!!document.fullscreenElement;O(p),document.body.style.backgroundColor=p?"white":""};return document.addEventListener("fullscreenchange",g),()=>{document.removeEventListener("fullscreenchange",g)}},[]);const P=(g,p)=>{p!=="clickaway"&&I(!1)};return m.jsxs("div",{children:[m.jsx("input",{type:"file",onChange:C,disabled:f,ref:S}),f&&m.jsxs(m.Fragment,{children:[m.jsxs("p",{children:["Uploading... ",Math.round(a),"%"]}),m.jsx("div",{style:{width:"100%",backgroundColor:"#ddd"},children:m.jsx("div",{style:{height:"20px",width:`${a}%`,backgroundColor:"green"}})})]}),t&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("img",{ref:w,src:t,alt:"Design",onClick:()=>u(!0),style:{width:"100%",maxHeight:"300px",objectFit:"contain",cursor:"pointer"}}),m.jsx(Rt,{onClick:k,style:{marginLeft:"10px"},children:m.jsx(Zt,{})})]}),m.jsx("label",{htmlFor:"imageTitle",style:{display:"block",marginTop:"10px"}}),m.jsx("textarea",{id:"imageTitle",name:"imageTitle",value:n,onChange:g=>l(g.target.value),rows:"2",style:{width:"100%"},placeholder:"Figure."})]}),m.jsx(xt,{open:c,onClose:()=>u(!1),fullScreen:U,PaperProps:{style:{backgroundColor:"white",boxShadow:"none",maxWidth:U?"none":void 0,maxHeight:U?"none":void 0,height:U?"100%":void 0,width:U?"100%":void 0,overflowY:"auto"}},children:m.jsxs(wt,{children:[m.jsx("div",{style:{textAlign:"center"},children:m.jsx("img",{src:t,alt:"Zoomed Design",style:{maxWidth:"100%",maxHeight:U?"100vh":void 0,transform:`scale(${b})`,transition:"transform 0.2s ease-out"}})}),m.jsxs("div",{style:{textAlign:"center",marginTop:"20px"},children:[m.jsx(Rt,{onClick:R,children:m.jsx(io,{})}),m.jsx(Rt,{onClick:A,style:{marginLeft:"10px"},children:m.jsx(so,{})}),m.jsx(Rt,{onClick:j,style:{marginLeft:"10px"},children:m.jsx(lo,{})}),U&&m.jsx(Rt,{onClick:j,style:{position:"absolute",top:20,right:20},children:m.jsx(co,{})})]})]})}),m.jsx(jt,{open:D,autoHideDuration:6e3,onClose:P,children:m.jsx(Tt,{onClose:P,severity:v,sx:{width:"100%"},children:x})})]})},Tl=({designs:e,setDesigns:t,setIsAdding:i,getDesigns:o,onReturnToDashboard:r})=>{const{userDetails:n}=Ht();console.log("Add Design loaded");const[l,s]=_.useState(""),[f,y]=_.useState(""),[a,d]=_.useState(""),[c,u]=_.useState(""),[b,T]=_.useState(""),[S,w]=_.useState(""),[U,O]=_.useState(!1),[D,I]=_.useState(""),[x,M]=_.useState("info"),[v,h]=_.useState(!1),[C,j]=_.useState("");console.log("Adding New Design from user:",n);const k=()=>{h(!1)},R=(P,g)=>{g!=="clickaway"&&O(!1)},A=async P=>{if(P.preventDefault(),!n||!n.uid){console.error("User object is undefined or missing UID."),j("You must be signed in to add a design."),h(!0);return}if(!l||!f){j("All fields are required."),h(!0);return}const g={title:a,description:l,editorContent,dateDue:kn.fromDate(new Date(f)),dateCreated:kr(),imageUrl:c,imageStoragePath:b,imageTitle:S,userId:n.uid};try{await Rr(tt(me,"designs"),g),t([...e,g]),setTimeout(()=>{i(!1),o()},1e3),I(`${a} has been Added.`),M("success"),O(!0),d(""),s(""),y(""),u(""),T(""),w("")}catch(p){console.log(p),j("There was an issue adding your design."),h(!0)}};return m.jsxs("div",{className:"small-container",children:[m.jsx("button",{onClick:r,className:"muted-button margin-top-20",children:"← All Designs"}),m.jsxs("form",{onSubmit:A,children:[m.jsx("h1",{children:"Create Design"}),m.jsx("label",{htmlFor:"title",style:{textDecoration:"underline"},children:"Title"}),m.jsx("input",{id:"title",type:"text",name:"title",value:a,onChange:P=>d(P.target.value)}),m.jsx("label",{htmlFor:"description",style:{textDecoration:"underline"},children:"Description"}),m.jsxs("ul",{children:[m.jsx("li",{children:"Objective: What is the goal for this design?"}),m.jsx("li",{children:"Rationale: Why is this new design being done?"}),m.jsx("li",{children:"Selected Target Identified: What is the target for the design being made?"}),m.jsx("li",{children:"Functional Modification: What is being done to this target?"}),m.jsx("li",{children:"Overview/Plan for making the modification: What are the steps to be carried out to meet the objective?"})]}),m.jsx("textarea",{id:"description",name:"description",value:l,onChange:P=>s(P.target.value),rows:"10",style:{width:"100%"}}),m.jsx("label",{htmlFor:"file",style:{textDecoration:"underline"},children:"Image"}),m.jsx(lr,{path:"designs",imageUrl:c,setImageUrl:u,imageStoragePath:b,setImageStoragePath:T,imageTitle:S,setImageTitle:w,onDelete:()=>{u(""),T(""),w("")}}),m.jsx("label",{htmlFor:"dateDue",style:{textDecoration:"underline"},children:"Due Date"}),m.jsx("input",{id:"date",type:"date",name:"date",value:f,onChange:P=>y(P.target.value)}),m.jsxs("div",{style:{marginTop:"30px"},children:[m.jsx("input",{type:"submit",value:"Add"}),m.jsx("input",{style:{marginLeft:"12px"},className:"muted-button",type:"button",value:"Cancel",onClick:()=>i(!1)})]})]}),m.jsxs(xt,{open:v,onClose:k,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[m.jsx(Mt,{id:"alert-dialog-title",children:"Notification"}),m.jsx(wt,{children:m.jsx(zt,{id:"alert-dialog-description",children:C})}),m.jsx(It,{children:m.jsx(Ke,{onClick:k,autoFocus:!0,children:"Ok"})})]}),m.jsx(jt,{open:U,autoHideDuration:1e3,onClose:R,children:m.jsx(Tt,{onClose:R,severity:x,sx:{width:"100%"},children:D})})]})},jl=({designId:e,setIsAddingBuild:t,refreshBuilds:i})=>{const[o,r]=_.useState(""),{userDetails:n}=Ht();console.log("AddBuild loaded");const[l,s]=_.useState(!1),[f,y]=_.useState(""),[a,d]=_.useState(!1),[c,u]=_.useState(""),[b,T]=_.useState("info");console.log("Adding New Build by user:",n);const S=()=>{s(!1)},w=(O,D)=>{D!=="clickaway"&&d(!1)},U=async O=>{if(O.preventDefault(),!n||!n.uid){console.error("UserDetails object is undefined or missing UID."),y("You must be signed in to add a build."),s(!0);return}if(!o){y("Build description is required."),s(!0);return}try{const D=await Rr(tt(me,"builds"),{description:o,design_ID:e,dateCreated:kr(),userId:n.uid});console.log("Build added with ID: ",D.id),console.log("Added New Build by user:",n),u("Your build has been successfully added."),T("success"),d(!0),setTimeout(()=>{r(""),t(!1),i()},1e3)}catch(D){console.error("Error adding build: ",D);let I=`Failed to add the build. ${D.message||"Please try again later."}`;D.code==="permission-denied"&&(I="You do not have permission to perform this operation."),u(I),T("error"),d(!0)}};return m.jsxs("div",{className:"small-container",children:[m.jsxs("form",{onSubmit:U,children:[m.jsx("label",{htmlFor:"buildDescription",children:"Description"}),m.jsx("textarea",{id:"buildDescription",value:o,onChange:O=>r(O.target.value),rows:"4",style:{width:"100%"}}),m.jsxs("div",{className:"flex-space-between",children:[m.jsx("input",{type:"submit",value:"Save",className:"button muted-button"}),m.jsx("button",{onClick:()=>t(!1),className:"button muted-button",children:"Cancel"})]})]}),m.jsxs(xt,{open:l,onClose:S,children:[m.jsx(Mt,{children:"Notification"}),m.jsx(wt,{children:m.jsx(zt,{children:f})}),m.jsx(It,{children:m.jsx(Ke,{onClick:S,children:"OK"})})]}),m.jsx(jt,{open:a,autoHideDuration:6e3,onClose:w,children:m.jsx(Tt,{onClose:w,severity:b,sx:{width:"100%"},children:c})})]})},Al=({designId:e,buildId:t,refreshTests:i,setAddingTestIdForBuild:o})=>{const[r,n]=_.useState(""),[l,s]=_.useState(""),[f,y]=_.useState(""),{userDetails:a}=Ht();console.log("AddTest loaded");const[d,c]=_.useState(!1),[u,b]=_.useState(""),[T,S]=_.useState(!1),[w,U]=_.useState(""),[O,D]=_.useState("info"),I=async()=>{if(!r){b("Test description cannot be empty!"),c(!0);return}try{await Rr(tt(me,"tests"),{build_ID:t,design_ID:e,dateCreated:kr(),description:r,results:l,conclusions:f,userId:a.uid}),setTimeout(()=>{i(t),n(""),s(""),y(""),o(null)},1e3),U("Test added successfully"),D("success"),S(!0)}catch(x){console.error("Error adding test: ",x),U("Failed to add the test"),D("error"),S(!0)}};return m.jsxs("div",{children:[m.jsx("textarea",{placeholder:"Describe the test",value:r,onChange:x=>n(x.target.value),rows:"4",style:{width:"100%"}}),m.jsx("textarea",{placeholder:"Test Results",value:l,onChange:x=>s(x.target.value),rows:"4",style:{width:"100%",margin:"10px 0"}}),m.jsx("textarea",{placeholder:"Test Conclusions",value:f,onChange:x=>y(x.target.value),rows:"4",style:{width:"100%",margin:"10px 0"}}),m.jsxs("div",{className:"flex-space-between",children:[m.jsx("button",{onClick:I,className:"button muted-button",children:"Save"}),m.jsx("button",{onClick:()=>o(null),className:"button muted-button",children:"Cancel"})]}),m.jsxs(xt,{open:d,onClose:()=>c(!1),children:[m.jsx(Mt,{children:"Notification"}),m.jsx(wt,{children:m.jsx(zt,{children:u})}),m.jsx(It,{children:m.jsx(Ke,{onClick:()=>c(!1),children:"OK"})})]}),m.jsx(jt,{open:T,autoHideDuration:6e3,onClose:()=>S(!1),children:m.jsx(Tt,{onClose:()=>S(!1),severity:O,sx:{width:"100%"},children:w})})]})};var Yr={},Dl=Ct;Object.defineProperty(Yr,"__esModule",{value:!0});var Dr=Yr.default=void 0,Sl=Dl(At()),kl=m;Dr=Yr.default=(0,Sl.default)((0,kl.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");var Kr={},Rl=Ct;Object.defineProperty(Kr,"__esModule",{value:!0});var Sr=Kr.default=void 0,Pl=Rl(At()),$l=m;Sr=Kr.default=(0,Pl.default)((0,$l.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff");const Ol=({selectedDesign:e,setIsEditing:t,getDesigns:i,onReturnToDashboard:o})=>{const{userDetails:r,loading:n}=Ht();console.log("Edit page loaded");const l=e.id,[s,f]=_.useState(e.description),[y,a]=_.useState(e.dateDue||""),[d,c]=_.useState(""),[u,b]=_.useState(!1),[T,S]=_.useState([]),[w,U]=_.useState({}),[O,D]=_.useState(null),[I,x]=_.useState({}),[M,v]=_.useState({}),[h,C]=_.useState({}),[j,k]=_.useState({}),[R,A]=_.useState(""),[P,g]=_.useState(""),[p,B]=_.useState(""),[$,N]=_.useState({}),[V,W]=_.useState({}),z=_.useRef(null),L=_.useRef(null),[F,Y]=_.useState(!1),[oe,K]=_.useState(""),[Z,re]=_.useState(()=>{}),[ie,ce]=_.useState(!1),[Fe,ye]=_.useState(""),[ae,ue]=_.useState("info"),[se,G]=_.useState({design:!1,builds:!1,tests:!1}),[be,he]=_.useState({}),[fe,xe]=_.useState({});console.log("Editing Design by user:",r);const ge=(E,q)=>{x(H=>({...H,[E]:q})),G(H=>({...H,builds:!0}))},le=(E,q)=>{v(H=>({...H,[E]:q})),G(H=>({...H,tests:!0}))},je=async E=>{const q=Ee(me,"builds",E);await mt(q,{description:I[E]},{merge:!0}),ye("Your build has been updated."),ue("success"),ce(!0),Be(),G(H=>({...H,builds:!1}))},ke=async(E,q)=>{const H={};if(M[E]!==void 0&&(H.description=M[E]),h[E]!==void 0&&(H.results=h[E]),j[E]!==void 0&&(H.conclusions=j[E]),Object.keys(H).length>0){const ee=Ee(me,"tests",E);try{await mt(ee,H,{merge:!0}),console.log(`Successfully updated test ID: ${E}`),ye("Your test has been updated."),ue("success"),ce(!0),await ve(q)}catch(X){console.error(`Error updating test ID: ${E}:`,X),ye("There was an issue updating your test."),ue("error"),ce(!0)}}G(ee=>({...ee,tests:!1}))},Je=(E,q)=>{C(H=>({...H,[E]:q})),G(H=>({...H,tests:!0}))},we=(E,q)=>{k(H=>({...H,[E]:q})),G(H=>({...H,tests:!0}))};_.useEffect(()=>{if(e){f(e.description||""),c(e.title||""),(async()=>{const H=Ee(me,"designs",l),ee=await Ao(H);if(ee.exists()){const X=ee.data();A(X.imageUrl||""),g(X.imageStoragePath||""),B(X.imageTitle||"")}})();let q;e.dateDue?(typeof e.dateDue=="string"?q=e.dateDue:e.dateDue.toDate&&(q=e.dateDue.toDate().toISOString().split("T")[0]),a(q)):a("")}},[e,l]),_.useEffect(()=>{!n&&r&&(async()=>{if(!r)return;const q=ht(tt(me,"builds"),_e("design_ID","==",l),_e("userId","==",r.uid),Et("dateCreated")),ee=(await bt(q)).docs.map(Ce=>({id:Ce.id,...Ce.data()}));let X={},te={},pe={},$e={},De={},et={};for(const Ce of ee){X[Ce.id]={imageUrl:Ce.imageUrl||"",imageStoragePath:Ce.imageStoragePath||"",imageTitle:Ce.imageTitle||""};const pt=ht(tt(me,"tests"),_e("build_ID","==",Ce.id),_e("userId","==",r.uid),Et("dateCreated")),kt=(await bt(pt)).docs.map(st=>{const lt=st.data();return De[st.id]={imageUrl:lt.imageUrl||"",imageStoragePath:lt.imageStoragePath||"",imageTitle:lt.imageTitle||""},et[st.id]=lt.description||"",pe[st.id]=lt.results||"",$e[st.id]=lt.conclusions||"",{id:st.id,...lt}});te[Ce.id]=kt}S(ee),N(X),U(te),v(et),C(pe),k($e),W(De)})()},[n,r,e.id,l]);const Be=async()=>{if(!r){console.log("User details not loaded yet");return}try{console.log("Refreshing builds for user UID:",r==null?void 0:r.uid),console.log("Selected design ID for query:",e==null?void 0:e.id);const E=ht(tt(me,"builds"),_e("design_ID","==",l),_e("userId","==",r.uid),Et("dateCreated"));console.log("Builds query details:",JSON.stringify(E,null,2));const q=await bt(E);console.log("Builds snapshot details:",JSON.stringify(q.docs.map(ee=>ee.data()),null,2)),console.log("Builds query successful, number of builds fetched: ",q.docs.length);const H=q.docs.map(ee=>(console.log("Build doc path: ",ee.ref.path),{id:ee.id,...ee.data()}));S(H),console.log("New builds state after refresh:",H)}catch(E){console.error("Error refreshing builds:",E),E.code==="permission-denied"?console.error("Permission denied when trying to refresh builds:",E):console.error("An unexpected error occurred when trying to refresh builds:",E)}},ve=async E=>{if(!r){console.log("User details not loaded yet");return}const q=ht(tt(me,"tests"),_e("build_ID","==",E),_e("userId","==",r.uid),Et("dateCreated")),ee=(await bt(q)).docs.map(X=>({id:X.id,...X.data()}));U(X=>({...X,[E]:ee}))},Re=async E=>{if(E.preventDefault(),!s||!y){K("All fields are required."),Y(!0);return}let q={title:d,description:s,dateDue:kn.fromDate(new Date(y)),imageUrl:R,imageStoragePath:P,imageTitle:p,userId:r.uid};try{await mt(Ee(me,"designs",l),q,{merge:!0}),ye("Your design has been updated."),ue("success"),ce(!0)}catch(H){console.error("Error updating design:",H),ye("There was an issue updating your design."),ue("error"),ce(!0)}G(H=>({...H,design:!1}))},Ae=async(E,q,H,ee)=>{const X=Ee(me,"builds",E),te={...q!==void 0&&{imageUrl:q},...H!==void 0&&{imageStoragePath:H},...ee!==void 0&&{imageTitle:ee}};Object.keys(te).length>0&&await mt(X,te,{merge:!0})},Pe=async()=>{try{const E=Ee(me,"designs",l);await mt(E,{imageUrl:"",imageStoragePath:"",imageTitle:""},{merge:!0}),A(""),g(""),B(""),console.log("Design image references removed from Firestore.")}catch(E){console.error("Failed to update design document in Firestore:",E)}},Ue=async E=>{const q=Ee(me,"builds",E);await mt(q,{imageUrl:"",imageStoragePath:"",imageTitle:""},{merge:!0})},Ne=E=>{var q,H,ee;return m.jsx(lr,{path:`builds/${E.id}/images`,imageUrl:((q=$[E.id])==null?void 0:q.imageUrl)||"",setImageUrl:X=>{N(te=>{const pe={...te,[E.id]:{...te[E.id],imageUrl:X}};return Ae(E.id,X,pe[E.id].imageStoragePath,pe[E.id].imageTitle),pe})},imageStoragePath:((H=$[E.id])==null?void 0:H.imageStoragePath)||"",setImageStoragePath:X=>{N(te=>{const pe={...te,[E.id]:{...te[E.id],imageStoragePath:X}};return Ae(E.id,pe[E.id].imageUrl,X,pe[E.id].imageTitle),pe})},imageTitle:((ee=$[E.id])==null?void 0:ee.imageTitle)||"",setImageTitle:X=>{N(te=>{const pe={...te,[E.id]:{...te[E.id],imageTitle:X}};return Ae(E.id,pe[E.id].imageUrl,pe[E.id].imageStoragePath,X),pe})},onDelete:()=>Ue(E.id)})},it=async E=>{const q=Ee(me,"tests",E);await mt(q,{imageUrl:"",imageStoragePath:"",imageTitle:""},{merge:!0})},St=()=>{const E=Object.entries(se).filter(([H,ee])=>ee).map(([H])=>H).join(", ");if(!E.length){o();return}const q=`You have unsaved changes in the following sections: ${E}. Are you sure you want to leave?`;K(q),re(()=>()=>{G({design:!1,builds:!1,tests:!1}),o()}),Y(!0)};_.useEffect(()=>{const E=q=>{Object.values(se).some(ee=>ee)&&(q.preventDefault(),q.returnValue="")};return window.addEventListener("beforeunload",E),()=>window.removeEventListener("beforeunload",E)},[se]);const vt=async E=>{const q=ht(tt(me,"tests"),_e("build_ID","==",E),_e("userId","==",r.uid)),H=await bt(q);for(const ee of H.docs)await Ft(Ee(me,"tests",ee.id));await Ft(Ee(me,"builds",E)),await Be(),ye("Build and its tests (if any) deleted successfully."),ue("success"),ce(!0)},Ut=async(E,q)=>{await Ft(Ee(me,"tests",E)),await ve(q),ye("Test deleted successfully."),ue("success"),ce(!0)},ft=E=>{K("Are you sure you want to delete this build and all associated tests? This action cannot be undone."),re(()=>()=>vt(E)),Y(!0)},Vt=(E,q)=>{K("Are you sure you want to delete this test? This action cannot be undone."),re(()=>()=>Ut(E,q)),Y(!0)},qe=E=>{var H,ee,X;const q=async(te,pe,$e,De)=>{const et={};if(typeof pe<"u"&&(et.imageUrl=pe),typeof $e<"u"&&(et.imageStoragePath=$e),typeof De<"u"&&(et.imageTitle=De),Object.keys(et).length===0){console.log("No data to update for testId:",te);return}const Ce=Ee(me,"tests",te);try{await mt(Ce,et,{merge:!0}),console.log("Firestore updated successfully for testId:",te)}catch(pt){console.error("Error updating Firestore for testId:",te,pt)}};return m.jsx(lr,{path:`tests/${E.id}/images`,imageUrl:((H=V[E.id])==null?void 0:H.imageUrl)||"",setImageUrl:te=>{var pe,$e;W(De=>({...De,[E.id]:{...De[E.id],imageUrl:te}})),q(E.id,te,(pe=V[E.id])==null?void 0:pe.imageStoragePath,($e=V[E.id])==null?void 0:$e.imageTitle)},imageStoragePath:((ee=V[E.id])==null?void 0:ee.imageStoragePath)||"",setImageStoragePath:te=>{var pe,$e;W(De=>({...De,[E.id]:{...De[E.id],imageStoragePath:te}})),q(E.id,(pe=V[E.id])==null?void 0:pe.imageUrl,te,($e=V[E.id])==null?void 0:$e.imageTitle)},imageTitle:((X=V[E.id])==null?void 0:X.imageTitle)||"",setImageTitle:te=>{var pe,$e;W(De=>({...De,[E.id]:{...De[E.id],imageTitle:te}})),q(E.id,(pe=V[E.id])==null?void 0:pe.imageUrl,($e=V[E.id])==null?void 0:$e.imageStoragePath,te)},onDelete:()=>it(E.id)})};return m.jsxs("div",{className:"small-container",children:[m.jsx("button",{onClick:()=>{Object.values(se).some(q=>q)?St():o()},className:"muted-button margin-top-20",children:"← All Designs"}),m.jsx("div",{className:"design-record",children:m.jsxs("form",{onSubmit:Re,children:[m.jsx("h1",{children:"Design Document"}),m.jsx("div",{style:{marginBottom:"20px"}}),m.jsx("label",{htmlFor:"title",style:{textDecoration:"underline"},children:"Title"}),m.jsx("input",{id:"title",type:"text",name:"title",value:d,onChange:E=>{c(E.target.value),G(q=>({...q,design:!0}))}}),m.jsx("label",{htmlFor:"description",style:{textDecoration:"underline"},children:"Description"}),m.jsxs("ul",{children:[m.jsx("li",{children:"Objective: What is the goal for this design?"}),m.jsx("li",{children:"Rationale: Why is this new design being done?"}),m.jsx("li",{children:"Selected Target: What is the target for the design being made?"}),m.jsx("li",{children:"Functional Modification: What is being done to this target?"}),m.jsx("li",{children:"Overview/Plan for making the modification: What are the steps to be carried out to meet the objective?"})]}),m.jsx("textarea",{id:"description",name:"description",value:s,onChange:E=>{f(E.target.value),G(q=>({...q,design:!0}))},rows:"10",style:{width:"100%"}}),m.jsx("label",{htmlFor:"file",style:{textDecoration:"underline"},children:"Image"}),m.jsx(lr,{path:`designs/${l}`,imageUrl:R,setImageUrl:A,imageStoragePath:P,setImageStoragePath:g,imageTitle:p,setImageTitle:B,onDelete:Pe}),m.jsx("label",{htmlFor:"dateDue",style:{textDecoration:"underline"},children:"Due Date"}),m.jsx("input",{id:"dateDue",type:"date",name:"dateDue",value:y,onChange:E=>{a(E.target.value),G(q=>({...q,design:!0}))}}),m.jsxs("div",{style:{marginTop:"30px"},children:[m.jsx("input",{type:"submit",value:"Update"}),m.jsx("button",{style:{marginLeft:"12px"},className:"muted-button",type:"button",onClick:()=>t(!1),children:"Cancel"})]})]})}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex-space-between",children:[m.jsx("h2",{children:"Builds"}),m.jsxs("button",{className:"button muted-button",onClick:()=>{b(!0),setTimeout(()=>{z.current&&z.current.scrollIntoView({behavior:"smooth"})},100)},style:{marginTop:"20px"},children:[m.jsx("span",{role:"img","aria-label":"Add Build",children:"➕"})," Build"]})]}),T.map((E,q)=>m.jsxs("div",{className:"build-record",children:[m.jsxs("div",{className:"flex-space-between",children:[m.jsxs("h3",{children:["Build ",q+1]}),m.jsxs("div",{children:[m.jsx("button",{onClick:()=>he(H=>({...H,[E.id]:!H[E.id]})),className:"button muted-button",style:{border:"none",background:"none"},children:be[E.id]?m.jsx(Sr,{}):m.jsx(Dr,{})}),m.jsx("button",{className:"button muted-button",style:{border:"none",background:"none"},onClick:()=>ft(E.id),children:m.jsx(Zt,{})}),m.jsxs("button",{className:"button muted-button",onClick:()=>{D(E.id),setTimeout(()=>{L.current&&L.current.scrollIntoView({behavior:"smooth"})},100)},children:[m.jsx("span",{role:"img","aria-label":"Add Test",children:"➕"})," Test"]})]})]}),be[E.id]&&m.jsxs(m.Fragment,{children:[m.jsx("textarea",{value:I[E.id]||E.description,onChange:H=>ge(E.id,H.target.value),rows:"4",style:{width:"100%"}}),m.jsx("button",{onClick:()=>je(E.id),children:"Update"}),m.jsx("div",{children:Ne(E)}),w[E.id]&&w[E.id].map((H,ee)=>m.jsxs("div",{className:"test-record",children:[m.jsxs("div",{className:"flex-space-between",children:[m.jsxs("h4",{children:["Test ",ee+1]}),m.jsxs("div",{children:[m.jsx("button",{onClick:()=>xe(X=>({...X,[H.id]:!X[H.id]})),className:"button muted-button",style:{border:"none",background:"none"},children:fe[H.id]?m.jsx(Sr,{}):m.jsx(Dr,{})}),m.jsx("button",{className:"button muted-button",style:{border:"none",background:"none"},onClick:()=>Vt(H.id,E.id),children:m.jsx(Zt,{})})]})]}),fe[H.id]&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Description"}),m.jsx("textarea",{value:M[H.id]||H.description,onChange:X=>le(H.id,X.target.value),rows:"4",style:{width:"100%"}})]}),m.jsx("div",{children:qe(H,E.id)}),m.jsxs("div",{children:[m.jsx("strong",{children:"Results"}),m.jsx("textarea",{value:h[H.id]||H.results,onChange:X=>Je(H.id,X.target.value),rows:"4",style:{width:"100%",marginTop:"10px"},placeholder:"Results"})]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Conclusions"}),m.jsx("textarea",{value:j[H.id]||H.conclusions,onChange:X=>we(H.id,X.target.value),rows:"4",style:{width:"100%",marginTop:"10px"},placeholder:"Conclusions"})]}),m.jsx("button",{onClick:()=>ke(H.id,E.id),children:"Update"})]})]},H.id))]}),O===E.id&&m.jsxs("div",{className:"new-build-record",ref:L,children:[m.jsxs("h3",{children:["Test ",(w[E.id]?w[E.id].length:0)+1]}),m.jsx(Al,{designId:e.id,buildId:E.id,refreshTests:()=>ve(E.id),setAddingTestIdForBuild:D})]})]},E.id)),m.jsx("div",{children:u&&m.jsxs("div",{className:"new-build-record",ref:z,children:[m.jsxs("h3",{children:["Build ",T.length+1]}),m.jsx(jl,{designId:e.id,setIsAddingBuild:b,refreshBuilds:Be})]})})]}),m.jsxs(xt,{open:F,onClose:()=>Y(!1),children:[m.jsx(Mt,{children:"Confirmation Required"}),m.jsx(wt,{children:m.jsx(zt,{children:oe})}),m.jsxs(It,{children:[m.jsx(Ke,{onClick:()=>Y(!1),children:"Cancel"}),m.jsx(Ke,{onClick:()=>{Z(),Y(!1)},autoFocus:!0,children:"Confirm"})]})]}),m.jsx(jt,{open:ie,autoHideDuration:6e3,onClose:()=>ce(!1),children:m.jsx(Tt,{onClose:()=>ce(!1),severity:ae,sx:{width:"100%"},children:Fe})})]})},Il=()=>{const{userDetails:e,loading:t}=Ht();console.log("Dashboard loaded");const[i,o]=_.useState([]),[r,n]=_.useState(null),[l,s]=_.useState(!1),[f,y]=_.useState(!1),[a,d]=_.useState(!1),[c,u]=_.useState(""),[b,T]=_.useState(""),[S,w]=_.useState(!1),[U,O]=_.useState(null),[D,I]=_.useState(!1),[x,M]=_.useState(""),[v,h]=_.useState("info"),C=()=>{y(!1),s(!1),n(null),j()},j=_.useCallback(async()=>{let P;e&&e.isAdmin?P=ht(tt(me,"designs"),Et("dateCreated","desc")):e&&(P=ht(tt(me,"designs"),_e("userId","==",e.uid),Et("dateCreated","desc")));const p=(await bt(P)).docs.map(B=>({id:B.id,...B.data()}));o(p)},[e]);_.useEffect(()=>{!t&&e&&j()},[e,t,j]);const k=P=>{const[g]=i.filter(p=>p.id===P);n(g),y(!0)},R=P=>{O(P),u("Are you sure you want to delete this design? This action cannot be undone."),d(!0)},A=async()=>{if(U)if(b!==e.uid)M("User ID confirmation failed. Enter the correct User ID."),h("error"),I(!0);else try{const P=ht(tt(me,"builds"),_e("design_ID","==",U),_e("userId","==",e.uid)),g=await bt(P);for(const B of g.docs){const $=B.id,N=ht(tt(me,"tests"),_e("build_ID","==",$),_e("userId","==",e.uid)),V=await bt(N);for(const W of V.docs)await Ft(Ee(me,"tests",W.id));await Ft(Ee(me,"builds",$))}await Ft(Ee(me,"designs",U));const p=i.filter(B=>B.id!==U);o(p),M("Your design and its associated builds and tests have been deleted."),h("success"),I(!0)}catch(P){console.error("Error deleting design, builds, and tests: ",P),M("There was an issue deleting your design and its associated builds and tests."),h("error"),I(!0)}finally{T(""),w(!1),O(null)}};return m.jsxs("div",{className:"container",children:[!l&&!f&&m.jsxs(m.Fragment,{children:[m.jsx(Xs,{setIsAdding:s}),m.jsx(nl,{designs:i,handleEdit:k,handleDelete:R,isAdmin:(e==null?void 0:e.isAdmin)??!1})]}),l&&m.jsx(Tl,{designs:i,setDesigns:o,setIsAdding:s,getDesigns:j,onReturnToDashboard:C}),f&&m.jsx(Ol,{designs:i,selectedDesign:r,setDesigns:o,setIsEditing:y,getDesigns:j,onReturnToDashboard:C}),m.jsxs(xt,{open:a,onClose:()=>d(!1),PaperProps:{style:{minWidth:500}},children:[m.jsx(Mt,{children:"Confirm Deletion"}),m.jsx(wt,{children:m.jsx(zt,{children:c})}),m.jsxs(It,{children:[m.jsx(Ke,{onClick:()=>d(!1),children:"No, cancel"}),m.jsx(Ke,{onClick:()=>{w(!0),d(!1)},color:"primary",children:"Yes, delete it"})]})]}),m.jsxs(xt,{open:S,onClose:()=>w(!1),PaperProps:{style:{minWidth:500}},children:[m.jsx(Mt,{children:"Confirm Your User ID"}),m.jsx(wt,{children:m.jsx(Eo,{autoFocus:!0,margin:"dense",id:"userId-confirm",label:"User ID",type:"text",fullWidth:!0,variant:"outlined",value:b,onChange:P=>T(P.target.value)})}),m.jsxs(It,{children:[m.jsx(Ke,{onClick:()=>w(!1),children:"No, cancel"}),m.jsx(Ke,{onClick:A,color:"primary",children:"Confirm"})]})]}),m.jsx(jt,{open:D,autoHideDuration:6e3,onClose:()=>I(!1),children:m.jsx(Tt,{onClose:()=>I(!1),severity:v,sx:{width:"100%"},children:x})})]})},El=Sn.memo(Il);export{El as default};
