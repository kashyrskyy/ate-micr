import{X as j,Y as g,b as i,j as e,F as t,I as y,T as n,Z as f,J as C,$ as S,S as k,K as w,aJ as I,aD as M,aE as D,ax as R,aK as U,aL as A,aM as h}from"./index-zLQ4NbuQ.js";const E=()=>{const{userDetails:s}=j(),o=g(),[d,l]=i.useState(!1),[u,p]=i.useState(!1),c=()=>{s!=null&&s.uid?navigator.clipboard.writeText(s.uid).then(()=>{l(!0),p(!0)}).catch(x=>{console.error("Could not copy text: ",x)}):console.error("User details are null or undefined")},r=(x,b)=>{b!=="clickaway"&&l(!1)},a=()=>{o("/")};return e.jsxs(t,{children:[e.jsx(t,{sx:{display:"flex",alignItems:"center"},children:e.jsx(y,{variant:"text",onClick:a,sx:{mr:2},children:"← Home Page"})}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(n,{variant:"h4",component:"h1",sx:{fontWeight:"bold"},children:"Supplemental Materials"}),e.jsxs(t,{sx:{display:"flex",alignItems:"center"},children:[(s==null?void 0:s.isAdmin)&&e.jsx(f,{label:"Admin",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:1}}),s&&e.jsx(C,{title:u?"Copied!":"Click to Copy",enterDelay:300,leaveDelay:200,children:e.jsx(f,{label:`User ID: ${s.uid}`,variant:"outlined",onClick:c,sx:{borderRadius:"15px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",mr:2}})}),e.jsx(S,{})]}),e.jsx(k,{open:d,autoHideDuration:6e3,onClose:r,children:e.jsx(w,{onClose:r,severity:"success",sx:{width:"100%"},children:"User ID copied to clipboard!"})})]})]})},F=()=>{const s=g();return e.jsx(y,{variant:"contained",color:"primary",onClick:()=>s("/add-material"),sx:{fontSize:"1.2rem",mt:2,mb:4,textTransform:"none",minWidth:"150px",boxShadow:"none","&:hover":{boxShadow:"0px 0px 10px rgba(0, 0, 0, 0.2)",transform:"scale(1.05)"},transition:"transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out",border:"1px solid transparent"},children:"+ Add Material"})},P=()=>{const{userDetails:s}=j(),o=I(),[d,l]=i.useState([]),[u,p]=i.useState(!0);if(i.useEffect(()=>{if(!s)return;const a=M(R(o,"materials"),D("author","==",s.uid)),x=U(a,b=>{const v=b.docs.map(m=>({id:m.id,...m.data()}));l(v),p(!1)});return()=>x()},[o,s]),u)return e.jsx(A,{});const c=d.filter(a=>!a.published),r=d.filter(a=>a.published);return e.jsxs(t,{sx:{width:"100%"},children:[e.jsx(t,{sx:{backgroundColor:"#FFF9C4",borderRadius:"8px",padding:"4px 8px",display:"inline-block",mb:2},children:e.jsx(n,{variant:"h6",sx:{fontWeight:"bold",color:"#F57F17"},children:"Saved (Unpublished)"})}),e.jsx(h,{container:!0,spacing:3,children:c.length===0?e.jsx(n,{variant:"body1",align:"center",sx:{width:"100%"},children:"No saved (unpublished) materials found."}):c.map(a=>e.jsx(h,{item:!0,xs:12,sm:6,md:4,children:e.jsxs(t,{sx:{border:"1px solid #ddd",borderRadius:"8px",padding:2},children:[e.jsx(n,{variant:"h6",children:a.title}),e.jsxs(n,{variant:"body2",color:"textSecondary",children:["Date: ",a.date]}),e.jsx(n,{variant:"body2",color:"textSecondary",children:a.published?"Published":"Unpublished"})]})},a.id))}),e.jsx(t,{sx:{backgroundColor:"#C8E6C9",borderRadius:"8px",padding:"4px 8px",display:"inline-block",mt:4,mb:2},children:e.jsx(n,{variant:"h6",sx:{fontWeight:"bold",color:"#2E7D32"},children:"Published"})}),e.jsx(h,{container:!0,spacing:3,children:r.length===0?e.jsx(n,{variant:"body1",align:"center",sx:{width:"100%"},children:"No published materials found."}):r.map(a=>e.jsx(h,{item:!0,xs:12,sm:6,md:4,children:e.jsxs(t,{sx:{border:"1px solid #ddd",borderRadius:"8px",padding:2},children:[e.jsx(n,{variant:"h6",children:a.title}),e.jsxs(n,{variant:"body2",color:"textSecondary",children:["Date: ",a.date]}),e.jsx(n,{variant:"body2",color:"textSecondary",children:a.published?"Published":"Unpublished"})]})},a.id))})]})},T=()=>{const{userDetails:s}=j();return e.jsxs(t,{sx:{flexGrow:1,padding:3},children:[e.jsx(E,{}),e.jsxs(t,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:2},children:[(s==null?void 0:s.isAdmin)&&e.jsx(F,{}),e.jsx(P,{})]})]})};export{T as default};
