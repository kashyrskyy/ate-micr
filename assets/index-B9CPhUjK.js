import{r as _,p as bo,_ as Me,j as m,a as Q,g as He,q as yo,k as Se,l as ze,t as Ze,h as Je,e as te,v as Ie,f as Te,w as xo,x as wo,y as Co,R as Mn,n as To,z as jo,A as qt,m as Ct,B as ln,C as cn,D as Ao,E as So,F as Do,H as Un,I as _r,J as Fr,K as tt,L as ve,M as $e,N as gt,O as ko,P as yt,Q as Bt,S as Ee,T as At,U as Lt}from"./index-D5_JoeAa.js";import{o as dn,P as Ro,u as hr,c as un,d as $o,e as Po,f as fn,g as Oo,M as Io,h as Br,i as En,j as _n,F as Mo,T as Nr,k as Uo,l as ir,m as Eo,n as pn,p as _o,G as hn,q as sr,s as Fo,A as Rt,b as Xe,S as $t,B as Ar,r as Tt,I as xt,a as Rr}from"./createSvgIcon-bZ2pPOKi.js";const Bo={disableDefaultClasses:!1},No=_.createContext(Bo);function Lo(e){const{disableDefaultClasses:t}=_.useContext(No);return s=>t?"":e(s)}const Fn="base";function Wo(e){return`${Fn}--${e}`}function Ho(e,t){return`${Fn}-${e}-${t}`}function Bn(e,t){const s=bo[t];return s?Wo(s):Ho(e,t)}function zo(e,t){const s={};return t.forEach(o=>{s[o]=Bn(e,o)}),s}var Le="top",nt="bottom",ot="right",We="left",Lr="auto",or=[Le,nt,ot,We],Wt="start",tr="end",Vo="clippingParents",Nn="viewport",Gt="popper",qo="reference",gn=or.reduce(function(e,t){return e.concat([t+"-"+Wt,t+"-"+tr])},[]),Ln=[].concat(or,[Lr]).reduce(function(e,t){return e.concat([t,t+"-"+Wt,t+"-"+tr])},[]),Qo="beforeRead",Yo="read",Ko="afterRead",Xo="beforeMain",Go="main",Zo="afterMain",Jo="beforeWrite",ea="write",ta="afterWrite",ra=[Qo,Yo,Ko,Xo,Go,Zo,Jo,ea,ta];function bt(e){return e?(e.nodeName||"").toLowerCase():null}function Ge(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Mt(e){var t=Ge(e).Element;return e instanceof t||e instanceof Element}function rt(e){var t=Ge(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Wr(e){if(typeof ShadowRoot>"u")return!1;var t=Ge(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function na(e){var t=e.state;Object.keys(t.elements).forEach(function(s){var o=t.styles[s]||{},r=t.attributes[s]||{},n=t.elements[s];!rt(n)||!bt(n)||(Object.assign(n.style,o),Object.keys(r).forEach(function(l){var i=r[l];i===!1?n.removeAttribute(l):n.setAttribute(l,i===!0?"":i)}))})}function oa(e){var t=e.state,s={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,s.popper),t.styles=s,t.elements.arrow&&Object.assign(t.elements.arrow.style,s.arrow),function(){Object.keys(t.elements).forEach(function(o){var r=t.elements[o],n=t.attributes[o]||{},l=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:s[o]),i=l.reduce(function(f,y){return f[y]="",f},{});!rt(r)||!bt(r)||(Object.assign(r.style,i),Object.keys(n).forEach(function(f){r.removeAttribute(f)}))})}}const aa={name:"applyStyles",enabled:!0,phase:"write",fn:na,effect:oa,requires:["computeStyles"]};function mt(e){return e.split("-")[0]}var It=Math.max,gr=Math.min,Ht=Math.round;function $r(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Wn(){return!/^((?!chrome|android).)*safari/i.test($r())}function zt(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!1);var o=e.getBoundingClientRect(),r=1,n=1;t&&rt(e)&&(r=e.offsetWidth>0&&Ht(o.width)/e.offsetWidth||1,n=e.offsetHeight>0&&Ht(o.height)/e.offsetHeight||1);var l=Mt(e)?Ge(e):window,i=l.visualViewport,f=!Wn()&&s,y=(o.left+(f&&i?i.offsetLeft:0))/r,a=(o.top+(f&&i?i.offsetTop:0))/n,d=o.width/r,c=o.height/n;return{width:d,height:c,top:a,right:y+d,bottom:a+c,left:y,x:y,y:a}}function Hr(e){var t=zt(e),s=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-s)<=1&&(s=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:s,height:o}}function Hn(e,t){var s=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(s&&Wr(s)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function wt(e){return Ge(e).getComputedStyle(e)}function ia(e){return["table","td","th"].indexOf(bt(e))>=0}function Pt(e){return((Mt(e)?e.ownerDocument:e.document)||window.document).documentElement}function xr(e){return bt(e)==="html"?e:e.assignedSlot||e.parentNode||(Wr(e)?e.host:null)||Pt(e)}function vn(e){return!rt(e)||wt(e).position==="fixed"?null:e.offsetParent}function sa(e){var t=/firefox/i.test($r()),s=/Trident/i.test($r());if(s&&rt(e)){var o=wt(e);if(o.position==="fixed")return null}var r=xr(e);for(Wr(r)&&(r=r.host);rt(r)&&["html","body"].indexOf(bt(r))<0;){var n=wt(r);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].indexOf(n.willChange)!==-1||t&&n.willChange==="filter"||t&&n.filter&&n.filter!=="none")return r;r=r.parentNode}return null}function ar(e){for(var t=Ge(e),s=vn(e);s&&ia(s)&&wt(s).position==="static";)s=vn(s);return s&&(bt(s)==="html"||bt(s)==="body"&&wt(s).position==="static")?t:s||sa(e)||t}function zr(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Jt(e,t,s){return It(e,gr(t,s))}function la(e,t,s){var o=Jt(e,t,s);return o>s?s:o}function zn(){return{top:0,right:0,bottom:0,left:0}}function Vn(e){return Object.assign({},zn(),e)}function qn(e,t){return t.reduce(function(s,o){return s[o]=e,s},{})}var ca=function(t,s){return t=typeof t=="function"?t(Object.assign({},s.rects,{placement:s.placement})):t,Vn(typeof t!="number"?t:qn(t,or))};function da(e){var t,s=e.state,o=e.name,r=e.options,n=s.elements.arrow,l=s.modifiersData.popperOffsets,i=mt(s.placement),f=zr(i),y=[We,ot].indexOf(i)>=0,a=y?"height":"width";if(!(!n||!l)){var d=ca(r.padding,s),c=Hr(n),u=f==="y"?Le:We,b=f==="y"?nt:ot,T=s.rects.reference[a]+s.rects.reference[f]-l[f]-s.rects.popper[a],k=l[f]-s.rects.reference[f],w=ar(n),U=w?f==="y"?w.clientHeight||0:w.clientWidth||0:0,M=T/2-k/2,S=d[u],I=U-c[a]-d[b],x=U/2-c[a]/2+M,O=Jt(S,x,I),g=f;s.modifiersData[o]=(t={},t[g]=O,t.centerOffset=O-x,t)}}function ua(e){var t=e.state,s=e.options,o=s.element,r=o===void 0?"[data-popper-arrow]":o;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||Hn(t.elements.popper,r)&&(t.elements.arrow=r))}const fa={name:"arrow",enabled:!0,phase:"main",fn:da,effect:ua,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Vt(e){return e.split("-")[1]}var pa={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ha(e,t){var s=e.x,o=e.y,r=t.devicePixelRatio||1;return{x:Ht(s*r)/r||0,y:Ht(o*r)/r||0}}function mn(e){var t,s=e.popper,o=e.popperRect,r=e.placement,n=e.variation,l=e.offsets,i=e.position,f=e.gpuAcceleration,y=e.adaptive,a=e.roundOffsets,d=e.isFixed,c=l.x,u=c===void 0?0:c,b=l.y,T=b===void 0?0:b,k=typeof a=="function"?a({x:u,y:T}):{x:u,y:T};u=k.x,T=k.y;var w=l.hasOwnProperty("x"),U=l.hasOwnProperty("y"),M=We,S=Le,I=window;if(y){var x=ar(s),O="clientHeight",g="clientWidth";if(x===Ge(s)&&(x=Pt(s),wt(x).position!=="static"&&i==="absolute"&&(O="scrollHeight",g="scrollWidth")),x=x,r===Le||(r===We||r===ot)&&n===tr){S=nt;var h=d&&x===I&&I.visualViewport?I.visualViewport.height:x[O];T-=h-o.height,T*=f?1:-1}if(r===We||(r===Le||r===nt)&&n===tr){M=ot;var C=d&&x===I&&I.visualViewport?I.visualViewport.width:x[g];u-=C-o.width,u*=f?1:-1}}var j=Object.assign({position:i},y&&pa),D=a===!0?ha({x:u,y:T},Ge(s)):{x:u,y:T};if(u=D.x,T=D.y,f){var R;return Object.assign({},j,(R={},R[S]=U?"0":"",R[M]=w?"0":"",R.transform=(I.devicePixelRatio||1)<=1?"translate("+u+"px, "+T+"px)":"translate3d("+u+"px, "+T+"px, 0)",R))}return Object.assign({},j,(t={},t[S]=U?T+"px":"",t[M]=w?u+"px":"",t.transform="",t))}function ga(e){var t=e.state,s=e.options,o=s.gpuAcceleration,r=o===void 0?!0:o,n=s.adaptive,l=n===void 0?!0:n,i=s.roundOffsets,f=i===void 0?!0:i,y={placement:mt(t.placement),variation:Vt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,mn(Object.assign({},y,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:f})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,mn(Object.assign({},y,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const va={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ga,data:{}};var lr={passive:!0};function ma(e){var t=e.state,s=e.instance,o=e.options,r=o.scroll,n=r===void 0?!0:r,l=o.resize,i=l===void 0?!0:l,f=Ge(t.elements.popper),y=[].concat(t.scrollParents.reference,t.scrollParents.popper);return n&&y.forEach(function(a){a.addEventListener("scroll",s.update,lr)}),i&&f.addEventListener("resize",s.update,lr),function(){n&&y.forEach(function(a){a.removeEventListener("scroll",s.update,lr)}),i&&f.removeEventListener("resize",s.update,lr)}}const ba={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ma,data:{}};var ya={left:"right",right:"left",bottom:"top",top:"bottom"};function ur(e){return e.replace(/left|right|bottom|top/g,function(t){return ya[t]})}var xa={start:"end",end:"start"};function bn(e){return e.replace(/start|end/g,function(t){return xa[t]})}function Vr(e){var t=Ge(e),s=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:s,scrollTop:o}}function qr(e){return zt(Pt(e)).left+Vr(e).scrollLeft}function wa(e,t){var s=Ge(e),o=Pt(e),r=s.visualViewport,n=o.clientWidth,l=o.clientHeight,i=0,f=0;if(r){n=r.width,l=r.height;var y=Wn();(y||!y&&t==="fixed")&&(i=r.offsetLeft,f=r.offsetTop)}return{width:n,height:l,x:i+qr(e),y:f}}function Ca(e){var t,s=Pt(e),o=Vr(e),r=(t=e.ownerDocument)==null?void 0:t.body,n=It(s.scrollWidth,s.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),l=It(s.scrollHeight,s.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),i=-o.scrollLeft+qr(e),f=-o.scrollTop;return wt(r||s).direction==="rtl"&&(i+=It(s.clientWidth,r?r.clientWidth:0)-n),{width:n,height:l,x:i,y:f}}function Qr(e){var t=wt(e),s=t.overflow,o=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(s+r+o)}function Qn(e){return["html","body","#document"].indexOf(bt(e))>=0?e.ownerDocument.body:rt(e)&&Qr(e)?e:Qn(xr(e))}function er(e,t){var s;t===void 0&&(t=[]);var o=Qn(e),r=o===((s=e.ownerDocument)==null?void 0:s.body),n=Ge(o),l=r?[n].concat(n.visualViewport||[],Qr(o)?o:[]):o,i=t.concat(l);return r?i:i.concat(er(xr(l)))}function Pr(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ta(e,t){var s=zt(e,!1,t==="fixed");return s.top=s.top+e.clientTop,s.left=s.left+e.clientLeft,s.bottom=s.top+e.clientHeight,s.right=s.left+e.clientWidth,s.width=e.clientWidth,s.height=e.clientHeight,s.x=s.left,s.y=s.top,s}function yn(e,t,s){return t===Nn?Pr(wa(e,s)):Mt(t)?Ta(t,s):Pr(Ca(Pt(e)))}function ja(e){var t=er(xr(e)),s=["absolute","fixed"].indexOf(wt(e).position)>=0,o=s&&rt(e)?ar(e):e;return Mt(o)?t.filter(function(r){return Mt(r)&&Hn(r,o)&&bt(r)!=="body"}):[]}function Aa(e,t,s,o){var r=t==="clippingParents"?ja(e):[].concat(t),n=[].concat(r,[s]),l=n[0],i=n.reduce(function(f,y){var a=yn(e,y,o);return f.top=It(a.top,f.top),f.right=gr(a.right,f.right),f.bottom=gr(a.bottom,f.bottom),f.left=It(a.left,f.left),f},yn(e,l,o));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function Yn(e){var t=e.reference,s=e.element,o=e.placement,r=o?mt(o):null,n=o?Vt(o):null,l=t.x+t.width/2-s.width/2,i=t.y+t.height/2-s.height/2,f;switch(r){case Le:f={x:l,y:t.y-s.height};break;case nt:f={x:l,y:t.y+t.height};break;case ot:f={x:t.x+t.width,y:i};break;case We:f={x:t.x-s.width,y:i};break;default:f={x:t.x,y:t.y}}var y=r?zr(r):null;if(y!=null){var a=y==="y"?"height":"width";switch(n){case Wt:f[y]=f[y]-(t[a]/2-s[a]/2);break;case tr:f[y]=f[y]+(t[a]/2-s[a]/2);break}}return f}function rr(e,t){t===void 0&&(t={});var s=t,o=s.placement,r=o===void 0?e.placement:o,n=s.strategy,l=n===void 0?e.strategy:n,i=s.boundary,f=i===void 0?Vo:i,y=s.rootBoundary,a=y===void 0?Nn:y,d=s.elementContext,c=d===void 0?Gt:d,u=s.altBoundary,b=u===void 0?!1:u,T=s.padding,k=T===void 0?0:T,w=Vn(typeof k!="number"?k:qn(k,or)),U=c===Gt?qo:Gt,M=e.rects.popper,S=e.elements[b?U:c],I=Aa(Mt(S)?S:S.contextElement||Pt(e.elements.popper),f,a,l),x=zt(e.elements.reference),O=Yn({reference:x,element:M,strategy:"absolute",placement:r}),g=Pr(Object.assign({},M,O)),h=c===Gt?g:x,C={top:I.top-h.top+w.top,bottom:h.bottom-I.bottom+w.bottom,left:I.left-h.left+w.left,right:h.right-I.right+w.right},j=e.modifiersData.offset;if(c===Gt&&j){var D=j[r];Object.keys(C).forEach(function(R){var A=[ot,nt].indexOf(R)>=0?1:-1,$=[Le,nt].indexOf(R)>=0?"y":"x";C[R]+=D[$]*A})}return C}function Sa(e,t){t===void 0&&(t={});var s=t,o=s.placement,r=s.boundary,n=s.rootBoundary,l=s.padding,i=s.flipVariations,f=s.allowedAutoPlacements,y=f===void 0?Ln:f,a=Vt(o),d=a?i?gn:gn.filter(function(b){return Vt(b)===a}):or,c=d.filter(function(b){return y.indexOf(b)>=0});c.length===0&&(c=d);var u=c.reduce(function(b,T){return b[T]=rr(e,{placement:T,boundary:r,rootBoundary:n,padding:l})[mt(T)],b},{});return Object.keys(u).sort(function(b,T){return u[b]-u[T]})}function Da(e){if(mt(e)===Lr)return[];var t=ur(e);return[bn(e),t,bn(t)]}function ka(e){var t=e.state,s=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var r=s.mainAxis,n=r===void 0?!0:r,l=s.altAxis,i=l===void 0?!0:l,f=s.fallbackPlacements,y=s.padding,a=s.boundary,d=s.rootBoundary,c=s.altBoundary,u=s.flipVariations,b=u===void 0?!0:u,T=s.allowedAutoPlacements,k=t.options.placement,w=mt(k),U=w===k,M=f||(U||!b?[ur(k)]:Da(k)),S=[k].concat(M).reduce(function(W,F){return W.concat(mt(F)===Lr?Sa(t,{placement:F,boundary:a,rootBoundary:d,padding:y,flipVariations:b,allowedAutoPlacements:T}):F)},[]),I=t.rects.reference,x=t.rects.popper,O=new Map,g=!0,h=S[0],C=0;C<S.length;C++){var j=S[C],D=mt(j),R=Vt(j)===Wt,A=[Le,nt].indexOf(D)>=0,$=A?"width":"height",v=rr(t,{placement:j,boundary:a,rootBoundary:d,altBoundary:c,padding:y}),p=A?R?ot:We:R?nt:Le;I[$]>x[$]&&(p=ur(p));var B=ur(p),P=[];if(n&&P.push(v[D]<=0),i&&P.push(v[p]<=0,v[B]<=0),P.every(function(W){return W})){h=j,g=!1;break}O.set(j,P)}if(g)for(var N=b?3:1,V=function(F){var Y=S.find(function(ae){var K=O.get(ae);if(K)return K.slice(0,F).every(function(J){return J})});if(Y)return h=Y,"break"},H=N;H>0;H--){var z=V(H);if(z==="break")break}t.placement!==h&&(t.modifiersData[o]._skip=!0,t.placement=h,t.reset=!0)}}const Ra={name:"flip",enabled:!0,phase:"main",fn:ka,requiresIfExists:["offset"],data:{_skip:!1}};function xn(e,t,s){return s===void 0&&(s={x:0,y:0}),{top:e.top-t.height-s.y,right:e.right-t.width+s.x,bottom:e.bottom-t.height+s.y,left:e.left-t.width-s.x}}function wn(e){return[Le,ot,nt,We].some(function(t){return e[t]>=0})}function $a(e){var t=e.state,s=e.name,o=t.rects.reference,r=t.rects.popper,n=t.modifiersData.preventOverflow,l=rr(t,{elementContext:"reference"}),i=rr(t,{altBoundary:!0}),f=xn(l,o),y=xn(i,r,n),a=wn(f),d=wn(y);t.modifiersData[s]={referenceClippingOffsets:f,popperEscapeOffsets:y,isReferenceHidden:a,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":a,"data-popper-escaped":d})}const Pa={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:$a};function Oa(e,t,s){var o=mt(e),r=[We,Le].indexOf(o)>=0?-1:1,n=typeof s=="function"?s(Object.assign({},t,{placement:e})):s,l=n[0],i=n[1];return l=l||0,i=(i||0)*r,[We,ot].indexOf(o)>=0?{x:i,y:l}:{x:l,y:i}}function Ia(e){var t=e.state,s=e.options,o=e.name,r=s.offset,n=r===void 0?[0,0]:r,l=Ln.reduce(function(a,d){return a[d]=Oa(d,t.rects,n),a},{}),i=l[t.placement],f=i.x,y=i.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=f,t.modifiersData.popperOffsets.y+=y),t.modifiersData[o]=l}const Ma={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ia};function Ua(e){var t=e.state,s=e.name;t.modifiersData[s]=Yn({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Ea={name:"popperOffsets",enabled:!0,phase:"read",fn:Ua,data:{}};function _a(e){return e==="x"?"y":"x"}function Fa(e){var t=e.state,s=e.options,o=e.name,r=s.mainAxis,n=r===void 0?!0:r,l=s.altAxis,i=l===void 0?!1:l,f=s.boundary,y=s.rootBoundary,a=s.altBoundary,d=s.padding,c=s.tether,u=c===void 0?!0:c,b=s.tetherOffset,T=b===void 0?0:b,k=rr(t,{boundary:f,rootBoundary:y,padding:d,altBoundary:a}),w=mt(t.placement),U=Vt(t.placement),M=!U,S=zr(w),I=_a(S),x=t.modifiersData.popperOffsets,O=t.rects.reference,g=t.rects.popper,h=typeof T=="function"?T(Object.assign({},t.rects,{placement:t.placement})):T,C=typeof h=="number"?{mainAxis:h,altAxis:h}:Object.assign({mainAxis:0,altAxis:0},h),j=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,D={x:0,y:0};if(x){if(n){var R,A=S==="y"?Le:We,$=S==="y"?nt:ot,v=S==="y"?"height":"width",p=x[S],B=p+k[A],P=p-k[$],N=u?-g[v]/2:0,V=U===Wt?O[v]:g[v],H=U===Wt?-g[v]:-O[v],z=t.elements.arrow,W=u&&z?Hr(z):{width:0,height:0},F=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:zn(),Y=F[A],ae=F[$],K=Jt(0,O[v],W[v]),J=M?O[v]/2-N-K-Y-C.mainAxis:V-K-Y-C.mainAxis,ne=M?-O[v]/2+N+K+ae+C.mainAxis:H+K+ae+C.mainAxis,se=t.elements.arrow&&ar(t.elements.arrow),ce=se?S==="y"?se.clientTop||0:se.clientLeft||0:0,_e=(R=j==null?void 0:j[S])!=null?R:0,xe=p+J-_e-ce,ie=p+ne-_e,fe=Jt(u?gr(B,xe):B,p,u?It(P,ie):P);x[S]=fe,D[S]=fe-p}if(i){var le,G=S==="x"?Le:We,be=S==="x"?nt:ot,ge=x[I],pe=I==="y"?"height":"width",we=ge+k[G],ue=ge-k[be],oe=[Le,We].indexOf(w)!==-1,ye=(le=j==null?void 0:j[I])!=null?le:0,je=oe?we:ge-O[pe]-g[pe]-ye+C.altAxis,et=oe?ge+O[pe]+g[pe]-ye-C.altAxis:ue,Ce=u&&oe?la(je,ge,et):Jt(u?je:we,ge,u?et:ue);x[I]=Ce,D[I]=Ce-ge}t.modifiersData[o]=D}}const Ba={name:"preventOverflow",enabled:!0,phase:"main",fn:Fa,requiresIfExists:["offset"]};function Na(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function La(e){return e===Ge(e)||!rt(e)?Vr(e):Na(e)}function Wa(e){var t=e.getBoundingClientRect(),s=Ht(t.width)/e.offsetWidth||1,o=Ht(t.height)/e.offsetHeight||1;return s!==1||o!==1}function Ha(e,t,s){s===void 0&&(s=!1);var o=rt(t),r=rt(t)&&Wa(t),n=Pt(t),l=zt(e,r,s),i={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(o||!o&&!s)&&((bt(t)!=="body"||Qr(n))&&(i=La(t)),rt(t)?(f=zt(t,!0),f.x+=t.clientLeft,f.y+=t.clientTop):n&&(f.x=qr(n))),{x:l.left+i.scrollLeft-f.x,y:l.top+i.scrollTop-f.y,width:l.width,height:l.height}}function za(e){var t=new Map,s=new Set,o=[];e.forEach(function(n){t.set(n.name,n)});function r(n){s.add(n.name);var l=[].concat(n.requires||[],n.requiresIfExists||[]);l.forEach(function(i){if(!s.has(i)){var f=t.get(i);f&&r(f)}}),o.push(n)}return e.forEach(function(n){s.has(n.name)||r(n)}),o}function Va(e){var t=za(e);return ra.reduce(function(s,o){return s.concat(t.filter(function(r){return r.phase===o}))},[])}function qa(e){var t;return function(){return t||(t=new Promise(function(s){Promise.resolve().then(function(){t=void 0,s(e())})})),t}}function Qa(e){var t=e.reduce(function(s,o){var r=s[o.name];return s[o.name]=r?Object.assign({},r,o,{options:Object.assign({},r.options,o.options),data:Object.assign({},r.data,o.data)}):o,s},{});return Object.keys(t).map(function(s){return t[s]})}var Cn={placement:"bottom",modifiers:[],strategy:"absolute"};function Tn(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function Ya(e){e===void 0&&(e={});var t=e,s=t.defaultModifiers,o=s===void 0?[]:s,r=t.defaultOptions,n=r===void 0?Cn:r;return function(i,f,y){y===void 0&&(y=n);var a={placement:"bottom",orderedModifiers:[],options:Object.assign({},Cn,n),modifiersData:{},elements:{reference:i,popper:f},attributes:{},styles:{}},d=[],c=!1,u={state:a,setOptions:function(w){var U=typeof w=="function"?w(a.options):w;T(),a.options=Object.assign({},n,a.options,U),a.scrollParents={reference:Mt(i)?er(i):i.contextElement?er(i.contextElement):[],popper:er(f)};var M=Va(Qa([].concat(o,a.options.modifiers)));return a.orderedModifiers=M.filter(function(S){return S.enabled}),b(),u.update()},forceUpdate:function(){if(!c){var w=a.elements,U=w.reference,M=w.popper;if(Tn(U,M)){a.rects={reference:Ha(U,ar(M),a.options.strategy==="fixed"),popper:Hr(M)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(C){return a.modifiersData[C.name]=Object.assign({},C.data)});for(var S=0;S<a.orderedModifiers.length;S++){if(a.reset===!0){a.reset=!1,S=-1;continue}var I=a.orderedModifiers[S],x=I.fn,O=I.options,g=O===void 0?{}:O,h=I.name;typeof x=="function"&&(a=x({state:a,options:g,name:h,instance:u})||a)}}}},update:qa(function(){return new Promise(function(k){u.forceUpdate(),k(a)})}),destroy:function(){T(),c=!0}};if(!Tn(i,f))return u;u.setOptions(y).then(function(k){!c&&y.onFirstUpdate&&y.onFirstUpdate(k)});function b(){a.orderedModifiers.forEach(function(k){var w=k.name,U=k.options,M=U===void 0?{}:U,S=k.effect;if(typeof S=="function"){var I=S({state:a,name:w,instance:u,options:M}),x=function(){};d.push(I||x)}})}function T(){d.forEach(function(k){return k()}),d=[]}return u}}var Ka=[ba,Ea,va,aa,Ma,Ra,Ba,fa,Pa],Xa=Ya({defaultModifiers:Ka});const Kn="Popper";function Ga(e){return Bn(Kn,e)}zo(Kn,["root"]);const Za=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Ja=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function ei(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function Or(e){return typeof e=="function"?e():e}function ti(e){return e.nodeType!==void 0}const ri=()=>He({root:["root"]},Lo(Ga)),ni={},oi=_.forwardRef(function(t,s){var o;const{anchorEl:r,children:n,direction:l,disablePortal:i,modifiers:f,open:y,placement:a,popperOptions:d,popperRef:c,slotProps:u={},slots:b={},TransitionProps:T}=t,k=Me(t,Za),w=_.useRef(null),U=hr(w,s),M=_.useRef(null),S=hr(M,c),I=_.useRef(S);un(()=>{I.current=S},[S]),_.useImperativeHandle(c,()=>M.current,[]);const x=ei(a,l),[O,g]=_.useState(x),[h,C]=_.useState(Or(r));_.useEffect(()=>{M.current&&M.current.forceUpdate()}),_.useEffect(()=>{r&&C(Or(r))},[r]),un(()=>{if(!h||!y)return;const $=B=>{g(B.placement)};let v=[{name:"preventOverflow",options:{altBoundary:i}},{name:"flip",options:{altBoundary:i}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:B})=>{$(B)}}];f!=null&&(v=v.concat(f)),d&&d.modifiers!=null&&(v=v.concat(d.modifiers));const p=Xa(h,w.current,Q({placement:x},d,{modifiers:v}));return I.current(p),()=>{p.destroy(),I.current(null)}},[h,i,f,y,d,x]);const j={placement:O};T!==null&&(j.TransitionProps=T);const D=ri(),R=(o=b.root)!=null?o:"div",A=$o({elementType:R,externalSlotProps:u.root,externalForwardedProps:k,additionalProps:{role:"tooltip",ref:U},ownerState:t,className:D.root});return m.jsx(R,Q({},A,{children:typeof n=="function"?n(j):n}))}),ai=_.forwardRef(function(t,s){const{anchorEl:o,children:r,container:n,direction:l="ltr",disablePortal:i=!1,keepMounted:f=!1,modifiers:y,open:a,placement:d="bottom",popperOptions:c=ni,popperRef:u,style:b,transition:T=!1,slotProps:k={},slots:w={}}=t,U=Me(t,Ja),[M,S]=_.useState(!0),I=()=>{S(!1)},x=()=>{S(!0)};if(!f&&!a&&(!T||M))return null;let O;if(n)O=n;else if(o){const C=Or(o);O=C&&ti(C)?dn(C).body:dn(null).body}const g=!a&&f&&(!T||M)?"none":void 0,h=T?{in:a,onEnter:I,onExited:x}:void 0;return m.jsx(Ro,{disablePortal:i,container:O,children:m.jsx(oi,Q({anchorEl:o,direction:l,disablePortal:i,modifiers:y,ref:s,open:T?!M:a,placement:d,popperOptions:c,popperRef:u,slotProps:k,slots:w},U,{style:Q({position:"fixed",top:0,left:0,display:g},b),TransitionProps:h,children:r}))})});var Yr={};Object.defineProperty(Yr,"__esModule",{value:!0});var Xn=Yr.default=void 0,ii=li(_),si=yo;function Gn(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,s=new WeakMap;return(Gn=function(o){return o?s:t})(e)}function li(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var s=Gn(t);if(s&&s.has(e))return s.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)){var l=r?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(o,n,l):o[n]=e[n]}return o.default=e,s&&s.set(e,o),o}function ci(e){return Object.keys(e).length===0}function di(e=null){const t=ii.useContext(si.ThemeContext);return!t||ci(t)?e:t}Xn=Yr.default=di;const ui=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],fi=Se(ai,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),pi=_.forwardRef(function(t,s){var o;const r=Xn(),n=ze({props:t,name:"MuiPopper"}),{anchorEl:l,component:i,components:f,componentsProps:y,container:a,disablePortal:d,keepMounted:c,modifiers:u,open:b,placement:T,popperOptions:k,popperRef:w,transition:U,slots:M,slotProps:S}=n,I=Me(n,ui),x=(o=M==null?void 0:M.root)!=null?o:f==null?void 0:f.Root,O=Q({anchorEl:l,container:a,disablePortal:d,keepMounted:c,modifiers:u,open:b,placement:T,popperOptions:k,popperRef:w,transition:U},I);return m.jsx(fi,Q({as:i,direction:r==null?void 0:r.direction,slots:{root:x},slotProps:S??y},O,{ref:s}))}),Zn=pi,hi=Po(m.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function gi(e){return Je("MuiChip",e)}const vi=Ze("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),de=vi,mi=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],bi=e=>{const{classes:t,disabled:s,size:o,color:r,iconColor:n,onDelete:l,clickable:i,variant:f}=e,y={root:["root",f,s&&"disabled",`size${te(o)}`,`color${te(r)}`,i&&"clickable",i&&`clickableColor${te(r)}`,l&&"deletable",l&&`deletableColor${te(r)}`,`${f}${te(r)}`],label:["label",`label${te(o)}`],avatar:["avatar",`avatar${te(o)}`,`avatarColor${te(r)}`],icon:["icon",`icon${te(o)}`,`iconColor${te(n)}`],deleteIcon:["deleteIcon",`deleteIcon${te(o)}`,`deleteIconColor${te(r)}`,`deleteIcon${te(f)}Color${te(r)}`]};return He(y,gi,t)},yi=Se("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e,{color:o,iconColor:r,clickable:n,onDelete:l,size:i,variant:f}=s;return[{[`& .${de.avatar}`]:t.avatar},{[`& .${de.avatar}`]:t[`avatar${te(i)}`]},{[`& .${de.avatar}`]:t[`avatarColor${te(o)}`]},{[`& .${de.icon}`]:t.icon},{[`& .${de.icon}`]:t[`icon${te(i)}`]},{[`& .${de.icon}`]:t[`iconColor${te(r)}`]},{[`& .${de.deleteIcon}`]:t.deleteIcon},{[`& .${de.deleteIcon}`]:t[`deleteIcon${te(i)}`]},{[`& .${de.deleteIcon}`]:t[`deleteIconColor${te(o)}`]},{[`& .${de.deleteIcon}`]:t[`deleteIcon${te(f)}Color${te(o)}`]},t.root,t[`size${te(i)}`],t[`color${te(o)}`],n&&t.clickable,n&&o!=="default"&&t[`clickableColor${te(o)})`],l&&t.deletable,l&&o!=="default"&&t[`deletableColor${te(o)}`],t[f],t[`${f}${te(o)}`]]}})(({theme:e,ownerState:t})=>{const s=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return Q({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${de.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${de.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:s,fontSize:e.typography.pxToRem(12)},[`& .${de.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${de.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${de.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${de.icon}`]:Q({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&Q({color:e.vars?e.vars.palette.Chip.defaultIconColor:s},t.color!=="default"&&{color:"inherit"})),[`& .${de.deleteIcon}`]:Q({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:Ie(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:Ie(e.palette.text.primary,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:Ie(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${de.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ie(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${de.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>Q({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ie(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${de.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ie(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${de.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>Q({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${de.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${de.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${de.avatar}`]:{marginLeft:4},[`& .${de.avatarSmall}`]:{marginLeft:2},[`& .${de.icon}`]:{marginLeft:4},[`& .${de.iconSmall}`]:{marginLeft:2},[`& .${de.deleteIcon}`]:{marginRight:5},[`& .${de.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:Ie(e.palette[t.color].main,.7)}`,[`&.${de.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ie(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${de.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:Ie(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${de.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:Ie(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),xi=Se("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:s}=e,{size:o}=s;return[t.label,t[`label${te(o)}`]]}})(({ownerState:e})=>Q({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.variant==="outlined"&&{paddingLeft:11,paddingRight:11},e.size==="small"&&{paddingLeft:8,paddingRight:8},e.size==="small"&&e.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function jn(e){return e.key==="Backspace"||e.key==="Delete"}const wi=_.forwardRef(function(t,s){const o=ze({props:t,name:"MuiChip"}),{avatar:r,className:n,clickable:l,color:i="default",component:f,deleteIcon:y,disabled:a=!1,icon:d,label:c,onClick:u,onDelete:b,onKeyDown:T,onKeyUp:k,size:w="medium",variant:U="filled",tabIndex:M,skipFocusWhenDisabled:S=!1}=o,I=Me(o,mi),x=_.useRef(null),O=hr(x,s),g=P=>{P.stopPropagation(),b&&b(P)},h=P=>{P.currentTarget===P.target&&jn(P)&&P.preventDefault(),T&&T(P)},C=P=>{P.currentTarget===P.target&&(b&&jn(P)?b(P):P.key==="Escape"&&x.current&&x.current.blur()),k&&k(P)},j=l!==!1&&u?!0:l,D=j||b?fn:f||"div",R=Q({},o,{component:D,disabled:a,size:w,color:i,iconColor:_.isValidElement(d)&&d.props.color||i,onDelete:!!b,clickable:j,variant:U}),A=bi(R),$=D===fn?Q({component:f||"div",focusVisibleClassName:A.focusVisible},b&&{disableRipple:!0}):{};let v=null;b&&(v=y&&_.isValidElement(y)?_.cloneElement(y,{className:Te(y.props.className,A.deleteIcon),onClick:g}):m.jsx(hi,{className:Te(A.deleteIcon),onClick:g}));let p=null;r&&_.isValidElement(r)&&(p=_.cloneElement(r,{className:Te(A.avatar,r.props.className)}));let B=null;return d&&_.isValidElement(d)&&(B=_.cloneElement(d,{className:Te(A.icon,d.props.className)})),m.jsxs(yi,Q({as:D,className:Te(A.root,n),disabled:j&&a?!0:void 0,onClick:u,onKeyDown:h,onKeyUp:C,ref:O,tabIndex:S&&a?-1:M,ownerState:R},$,I,{children:[p||B,m.jsx(xi,{className:Te(A.label),ownerState:R,children:c}),v]}))}),An=wi;function Ci(e){return Je("MuiDialog",e)}const Ti=Ze("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Sr=Ti,ji=_.createContext({}),Jn=ji,Ai=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Si=Se(Oo,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Di=e=>{const{classes:t,scroll:s,maxWidth:o,fullWidth:r,fullScreen:n}=e,l={root:["root"],container:["container",`scroll${te(s)}`],paper:["paper",`paperScroll${te(s)}`,`paperWidth${te(String(o))}`,r&&"paperFullWidth",n&&"paperFullScreen"]};return He(l,Ci,t)},ki=Se(Io,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Ri=Se("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.container,t[`scroll${te(s.scroll)}`]]}})(({ownerState:e})=>Q({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),$i=Se(Br,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.paper,t[`scrollPaper${te(s.scroll)}`],t[`paperWidth${te(String(s.maxWidth))}`],s.fullWidth&&t.paperFullWidth,s.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>Q({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${Sr.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${Sr.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Sr.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Pi=_.forwardRef(function(t,s){const o=ze({props:t,name:"MuiDialog"}),r=En(),n={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":i,BackdropComponent:f,BackdropProps:y,children:a,className:d,disableEscapeKeyDown:c=!1,fullScreen:u=!1,fullWidth:b=!1,maxWidth:T="sm",onBackdropClick:k,onClose:w,open:U,PaperComponent:M=Br,PaperProps:S={},scroll:I="paper",TransitionComponent:x=Mo,transitionDuration:O=n,TransitionProps:g}=o,h=Me(o,Ai),C=Q({},o,{disableEscapeKeyDown:c,fullScreen:u,fullWidth:b,maxWidth:T,scroll:I}),j=Di(C),D=_.useRef(),R=p=>{D.current=p.target===p.currentTarget},A=p=>{D.current&&(D.current=null,k&&k(p),w&&w(p,"backdropClick"))},$=_n(i),v=_.useMemo(()=>({titleId:$}),[$]);return m.jsx(ki,Q({className:Te(j.root,d),closeAfterTransition:!0,components:{Backdrop:Si},componentsProps:{backdrop:Q({transitionDuration:O,as:f},y)},disableEscapeKeyDown:c,onClose:w,open:U,ref:s,onClick:A,ownerState:C},h,{children:m.jsx(x,Q({appear:!0,in:U,timeout:O,role:"presentation"},g,{children:m.jsx(Ri,{className:Te(j.container),onMouseDown:R,ownerState:C,children:m.jsx($i,Q({as:M,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":$},S,{className:Te(j.paper,S.className),ownerState:C,children:m.jsx(Jn.Provider,{value:v,children:a})}))})}))}))}),Dt=Pi;function Oi(e){return Je("MuiDialogActions",e)}Ze("MuiDialogActions",["root","spacing"]);const Ii=["className","disableSpacing"],Mi=e=>{const{classes:t,disableSpacing:s}=e;return He({root:["root",!s&&"spacing"]},Oi,t)},Ui=Se("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,!s.disableSpacing&&t.spacing]}})(({ownerState:e})=>Q({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Ei=_.forwardRef(function(t,s){const o=ze({props:t,name:"MuiDialogActions"}),{className:r,disableSpacing:n=!1}=o,l=Me(o,Ii),i=Q({},o,{disableSpacing:n}),f=Mi(i);return m.jsx(Ui,Q({className:Te(f.root,r),ownerState:i,ref:s},l))}),Ut=Ei;function _i(e){return Je("MuiDialogContent",e)}Ze("MuiDialogContent",["root","dividers"]);function Fi(e){return Je("MuiDialogTitle",e)}const Bi=Ze("MuiDialogTitle",["root"]),Ni=Bi,Li=["className","dividers"],Wi=e=>{const{classes:t,dividers:s}=e;return He({root:["root",s&&"dividers"]},_i,t)},Hi=Se("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>Q({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${Ni.root} + &`]:{paddingTop:0}})),zi=_.forwardRef(function(t,s){const o=ze({props:t,name:"MuiDialogContent"}),{className:r,dividers:n=!1}=o,l=Me(o,Li),i=Q({},o,{dividers:n}),f=Wi(i);return m.jsx(Hi,Q({className:Te(f.root,r),ownerState:i,ref:s},l))}),kt=zi;function Vi(e){return Je("MuiDialogContentText",e)}Ze("MuiDialogContentText",["root"]);const qi=["children","className"],Qi=e=>{const{classes:t}=e,o=He({root:["root"]},Vi,t);return Q({},t,o)},Yi=Se(Nr,{shouldForwardProp:e=>xo(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Ki=_.forwardRef(function(t,s){const o=ze({props:t,name:"MuiDialogContentText"}),{className:r}=o,n=Me(o,qi),l=Qi(n);return m.jsx(Yi,Q({component:"p",variant:"body1",color:"text.secondary",ref:s,ownerState:n,className:Te(l.root,r)},o,{classes:l}))}),Qt=Ki,Xi=["className","id"],Gi=e=>{const{classes:t}=e;return He({root:["root"]},Fi,t)},Zi=Se(Nr,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Ji=_.forwardRef(function(t,s){const o=ze({props:t,name:"MuiDialogTitle"}),{className:r,id:n}=o,l=Me(o,Xi),i=o,f=Gi(i),{titleId:y=n}=_.useContext(Jn);return m.jsx(Zi,Q({component:"h2",className:Te(f.root,r),ownerState:i,ref:s,variant:"h6",id:n??y},l))}),Et=Ji;function es(e){return Je("MuiTooltip",e)}const ts=Ze("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),St=ts,rs=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function ns(e){return Math.round(e*1e5)/1e5}const os=e=>{const{classes:t,disableInteractive:s,arrow:o,touch:r,placement:n}=e,l={popper:["popper",!s&&"popperInteractive",o&&"popperArrow"],tooltip:["tooltip",o&&"tooltipArrow",r&&"touch",`tooltipPlacement${te(n.split("-")[0])}`],arrow:["arrow"]};return He(l,es,t)},as=Se(Zn,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.popper,!s.disableInteractive&&t.popperInteractive,s.arrow&&t.popperArrow,!s.open&&t.popperClose]}})(({theme:e,ownerState:t,open:s})=>Q({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!s&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${St.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${St.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${St.arrow}`]:Q({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${St.arrow}`]:Q({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),is=Se("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.tooltip,s.touch&&t.touch,s.arrow&&t.tooltipArrow,t[`tooltipPlacement${te(s.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>Q({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:Ie(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${ns(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${St.popper}[data-popper-placement*="left"] &`]:Q({transformOrigin:"right center"},t.isRtl?Q({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):Q({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${St.popper}[data-popper-placement*="right"] &`]:Q({transformOrigin:"left center"},t.isRtl?Q({marginRight:"14px"},t.touch&&{marginRight:"24px"}):Q({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${St.popper}[data-popper-placement*="top"] &`]:Q({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${St.popper}[data-popper-placement*="bottom"] &`]:Q({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),ss=Se("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:Ie(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let cr=!1;const Sn=new Fo;let Zt={x:0,y:0};function dr(e,t){return(s,...o)=>{t&&t(s,...o),e(s,...o)}}const ls=_.forwardRef(function(t,s){var o,r,n,l,i,f,y,a,d,c,u,b,T,k,w,U,M,S,I;const x=ze({props:t,name:"MuiTooltip"}),{arrow:O=!1,children:g,components:h={},componentsProps:C={},describeChild:j=!1,disableFocusListener:D=!1,disableHoverListener:R=!1,disableInteractive:A=!1,disableTouchListener:$=!1,enterDelay:v=100,enterNextDelay:p=0,enterTouchDelay:B=700,followCursor:P=!1,id:N,leaveDelay:V=0,leaveTouchDelay:H=1500,onClose:z,onOpen:W,open:F,placement:Y="bottom",PopperComponent:ae,PopperProps:K={},slotProps:J={},slots:ne={},title:se,TransitionComponent:ce=hn,TransitionProps:_e}=x,xe=Me(x,rs),ie=_.isValidElement(g)?g:m.jsx("span",{children:g}),fe=En(),le=Uo(),[G,be]=_.useState(),[ge,pe]=_.useState(null),we=_.useRef(!1),ue=A||P,oe=ir(),ye=ir(),je=ir(),et=ir(),[Ce,Ve]=Eo({controlled:F,default:!1,name:"Tooltip",state:"open"});let me=Ce;const De=_n(N),Ae=_.useRef(),Pe=pn(()=>{Ae.current!==void 0&&(document.body.style.WebkitUserSelect=Ae.current,Ae.current=void 0),et.clear()});_.useEffect(()=>Pe,[Pe]);const Ue=ee=>{Sn.clear(),cr=!0,Ve(!0),W&&!me&&W(ee)},Fe=pn(ee=>{Sn.start(800+V,()=>{cr=!1}),Ve(!1),z&&me&&z(ee),oe.start(fe.transitions.duration.shortest,()=>{we.current=!1})}),ft=ee=>{we.current&&ee.type!=="touchstart"||(G&&G.removeAttribute("title"),ye.clear(),je.clear(),v||cr&&p?ye.start(cr?p:v,()=>{Ue(ee)}):Ue(ee))},pt=ee=>{ye.clear(),je.start(V,()=>{Fe(ee)})},{isFocusVisibleRef:at,onBlur:_t,onFocus:it,ref:Yt}=_o(),[,qe]=_.useState(!1),Qe=ee=>{_t(ee),at.current===!1&&(qe(!1),pt(ee))},st=ee=>{G||be(ee.currentTarget),it(ee),at.current===!0&&(qe(!0),ft(ee))},ht=ee=>{we.current=!0;const Ye=ie.props;Ye.onTouchStart&&Ye.onTouchStart(ee)},Ft=ee=>{ht(ee),je.clear(),oe.clear(),Pe(),Ae.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",et.start(B,()=>{document.body.style.WebkitUserSelect=Ae.current,ft(ee)})},lt=ee=>{ie.props.onTouchEnd&&ie.props.onTouchEnd(ee),Pe(),je.start(H,()=>{Fe(ee)})};_.useEffect(()=>{if(!me)return;function ee(Ye){(Ye.key==="Escape"||Ye.key==="Esc")&&Fe(Ye)}return document.addEventListener("keydown",ee),()=>{document.removeEventListener("keydown",ee)}},[Fe,me]);const ct=hr(ie.ref,Yt,be,s);!se&&se!==0&&(me=!1);const Kt=_.useRef(),Tr=ee=>{const Ye=ie.props;Ye.onMouseMove&&Ye.onMouseMove(ee),Zt={x:ee.clientX,y:ee.clientY},Kt.current&&Kt.current.update()},E={},q=typeof se=="string";j?(E.title=!me&&q&&!R?se:null,E["aria-describedby"]=me?De:null):(E["aria-label"]=q?se:null,E["aria-labelledby"]=me&&!q?De:null);const L=Q({},E,xe,ie.props,{className:Te(xe.className,ie.props.className),onTouchStart:ht,ref:ct},P?{onMouseMove:Tr}:{}),Z={};$||(L.onTouchStart=Ft,L.onTouchEnd=lt),R||(L.onMouseOver=dr(ft,L.onMouseOver),L.onMouseLeave=dr(pt,L.onMouseLeave),ue||(Z.onMouseOver=ft,Z.onMouseLeave=pt)),D||(L.onFocus=dr(st,L.onFocus),L.onBlur=dr(Qe,L.onBlur),ue||(Z.onFocus=st,Z.onBlur=Qe));const X=_.useMemo(()=>{var ee;let Ye=[{name:"arrow",enabled:!!ge,options:{element:ge,padding:4}}];return(ee=K.popperOptions)!=null&&ee.modifiers&&(Ye=Ye.concat(K.popperOptions.modifiers)),Q({},K.popperOptions,{modifiers:Ye})},[ge,K]),re=Q({},x,{isRtl:le,arrow:O,disableInteractive:ue,placement:Y,PopperComponentProp:ae,touch:we.current}),he=os(re),ke=(o=(r=ne.popper)!=null?r:h.Popper)!=null?o:as,Re=(n=(l=(i=ne.transition)!=null?i:h.Transition)!=null?l:ce)!=null?n:hn,dt=(f=(y=ne.tooltip)!=null?y:h.Tooltip)!=null?f:is,Be=(a=(d=ne.arrow)!=null?d:h.Arrow)!=null?a:ss,Xt=sr(ke,Q({},K,(c=J.popper)!=null?c:C.popper,{className:Te(he.popper,K==null?void 0:K.className,(u=(b=J.popper)!=null?b:C.popper)==null?void 0:u.className)}),re),sn=sr(Re,Q({},_e,(T=J.transition)!=null?T:C.transition),re),jr=sr(dt,Q({},(k=J.tooltip)!=null?k:C.tooltip,{className:Te(he.tooltip,(w=(U=J.tooltip)!=null?U:C.tooltip)==null?void 0:w.className)}),re),jt=sr(Be,Q({},(M=J.arrow)!=null?M:C.arrow,{className:Te(he.arrow,(S=(I=J.arrow)!=null?I:C.arrow)==null?void 0:S.className)}),re);return m.jsxs(_.Fragment,{children:[_.cloneElement(ie,L),m.jsx(ke,Q({as:ae??Zn,placement:Y,anchorEl:P?{getBoundingClientRect:()=>({top:Zt.y,left:Zt.x,right:Zt.x,bottom:Zt.y,width:0,height:0})}:G,popperRef:Kt,open:G?me:!1,id:De,transition:!0},Z,Xt,{popperOptions:X,children:({TransitionProps:ee})=>m.jsx(Re,Q({timeout:fe.transitions.duration.shorter},ee,sn,{children:m.jsxs(dt,Q({},jr,{children:[se,O?m.jsx(Be,Q({},jt,{ref:pe})):null]}))}))}))]})}),Ir=ls,cs=_.createContext(),eo=cs;function ds(e){return Je("MuiTable",e)}Ze("MuiTable",["root","stickyHeader"]);const us=["className","component","padding","size","stickyHeader"],fs=e=>{const{classes:t,stickyHeader:s}=e;return He({root:["root",s&&"stickyHeader"]},ds,t)},ps=Se("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>Q({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":Q({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),Dn="table",hs=_.forwardRef(function(t,s){const o=ze({props:t,name:"MuiTable"}),{className:r,component:n=Dn,padding:l="normal",size:i="medium",stickyHeader:f=!1}=o,y=Me(o,us),a=Q({},o,{component:n,padding:l,size:i,stickyHeader:f}),d=fs(a),c=_.useMemo(()=>({padding:l,size:i,stickyHeader:f}),[l,i,f]);return m.jsx(eo.Provider,{value:c,children:m.jsx(ps,Q({as:n,role:n===Dn?null:"table",ref:s,className:Te(d.root,r),ownerState:a},y))})}),gs=hs,vs=_.createContext(),wr=vs;function ms(e){return Je("MuiTableBody",e)}Ze("MuiTableBody",["root"]);const bs=["className","component"],ys=e=>{const{classes:t}=e;return He({root:["root"]},ms,t)},xs=Se("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),ws={variant:"body"},kn="tbody",Cs=_.forwardRef(function(t,s){const o=ze({props:t,name:"MuiTableBody"}),{className:r,component:n=kn}=o,l=Me(o,bs),i=Q({},o,{component:n}),f=ys(i);return m.jsx(wr.Provider,{value:ws,children:m.jsx(xs,Q({className:Te(f.root,r),as:n,ref:s,role:n===kn?null:"rowgroup",ownerState:i},l))})}),Ts=Cs;function js(e){return Je("MuiTableCell",e)}const As=Ze("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Ss=As,Ds=["align","className","component","padding","scope","size","sortDirection","variant"],ks=e=>{const{classes:t,variant:s,align:o,padding:r,size:n,stickyHeader:l}=e,i={root:["root",s,l&&"stickyHeader",o!=="inherit"&&`align${te(o)}`,r!=="normal"&&`padding${te(r)}`,`size${te(n)}`]};return He(i,js,t)},Rs=Se("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,t[s.variant],t[`size${te(s.size)}`],s.padding!=="normal"&&t[`padding${te(s.padding)}`],s.align!=="inherit"&&t[`align${te(s.align)}`],s.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>Q({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?wo(Ie(e.palette.divider,1),.88):Co(Ie(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${Ss.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),$s=_.forwardRef(function(t,s){const o=ze({props:t,name:"MuiTableCell"}),{align:r="inherit",className:n,component:l,padding:i,scope:f,size:y,sortDirection:a,variant:d}=o,c=Me(o,Ds),u=_.useContext(eo),b=_.useContext(wr),T=b&&b.variant==="head";let k;l?k=l:k=T?"th":"td";let w=f;k==="td"?w=void 0:!w&&T&&(w="col");const U=d||b&&b.variant,M=Q({},o,{align:r,component:k,padding:i||(u&&u.padding?u.padding:"normal"),size:y||(u&&u.size?u.size:"medium"),sortDirection:a,stickyHeader:U==="head"&&u&&u.stickyHeader,variant:U}),S=ks(M);let I=null;return a&&(I=a==="asc"?"ascending":"descending"),m.jsx(Rs,Q({as:k,ref:s,className:Te(S.root,n),"aria-sort":I,scope:w,ownerState:M},c))}),Ke=$s;function Ps(e){return Je("MuiTableContainer",e)}Ze("MuiTableContainer",["root"]);const Os=["className","component"],Is=e=>{const{classes:t}=e;return He({root:["root"]},Ps,t)},Ms=Se("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),Us=_.forwardRef(function(t,s){const o=ze({props:t,name:"MuiTableContainer"}),{className:r,component:n="div"}=o,l=Me(o,Os),i=Q({},o,{component:n}),f=Is(i);return m.jsx(Ms,Q({ref:s,as:n,className:Te(f.root,r),ownerState:i},l))}),Es=Us;function _s(e){return Je("MuiTableHead",e)}Ze("MuiTableHead",["root"]);const Fs=["className","component"],Bs=e=>{const{classes:t}=e;return He({root:["root"]},_s,t)},Ns=Se("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),Ls={variant:"head"},Rn="thead",Ws=_.forwardRef(function(t,s){const o=ze({props:t,name:"MuiTableHead"}),{className:r,component:n=Rn}=o,l=Me(o,Fs),i=Q({},o,{component:n}),f=Bs(i);return m.jsx(wr.Provider,{value:Ls,children:m.jsx(Ns,Q({as:n,className:Te(f.root,r),ref:s,role:n===Rn?null:"rowgroup",ownerState:i},l))})}),Hs=Ws;function zs(e){return Je("MuiTableRow",e)}const Vs=Ze("MuiTableRow",["root","selected","hover","head","footer"]),$n=Vs,qs=["className","component","hover","selected"],Qs=e=>{const{classes:t,selected:s,hover:o,head:r,footer:n}=e;return He({root:["root",s&&"selected",o&&"hover",r&&"head",n&&"footer"]},zs,t)},Ys=Se("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.head&&t.head,s.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${$n.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${$n.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ie(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ie(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),Pn="tr",Ks=_.forwardRef(function(t,s){const o=ze({props:t,name:"MuiTableRow"}),{className:r,component:n=Pn,hover:l=!1,selected:i=!1}=o,f=Me(o,qs),y=_.useContext(wr),a=Q({},o,{component:n,hover:l,selected:i,head:y&&y.variant==="head",footer:y&&y.variant==="footer"}),d=Qs(a);return m.jsx(Ys,Q({as:n,ref:s,className:Te(d.root,r),role:n===Pn?null:"row",ownerState:a},f))}),Dr=Ks,Xs=Mn.forwardRef(function(t,s){return m.jsx(Rt,{elevation:6,ref:s,variant:"filled",...t})}),Gs=()=>{const[e,t]=_.useState(!1),[s,o]=_.useState(!1),[r,n]=_.useState("");console.log("Logout loaded");const l=()=>{t(!0)},i=()=>{t(!1)},f=()=>{const y=To();jo(y).then(()=>{t(!1),o(!0),n("Logged out successfully")}).catch(a=>{t(!1),o(!0),n("Logout failed: "+a.message)})};return m.jsxs(m.Fragment,{children:[m.jsx(Xe,{variant:"outlined",onClick:l,children:"Logout"}),m.jsxs(Dt,{open:e,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[m.jsx(Et,{id:"alert-dialog-title",children:"Logging Out"}),m.jsx(kt,{children:m.jsx(Qt,{id:"alert-dialog-description",children:"Are you sure you want to log out?"})}),m.jsxs(Ut,{children:[m.jsx(Xe,{onClick:f,autoFocus:!0,children:"Yes"}),m.jsx(Xe,{onClick:i,children:"No"})]})]}),m.jsx($t,{open:s,autoHideDuration:6e3,onClose:()=>o(!1),children:m.jsx(Xs,{onClose:()=>o(!1),severity:"info",sx:{width:"100%"},children:r})})]})},Zs=_.memo(({setIsAdding:e})=>{const{userDetails:t}=qt();console.log("Header loaded");const[s,o]=_.useState(!1),r=()=>{navigator.clipboard.writeText(t.uid).then(()=>{o(!0)}).catch(l=>{console.error("Could not copy text: ",l)})},n=(l,i)=>{i!=="clickaway"&&o(!1)};return m.jsxs(Ar,{sx:{mt:3,mb:2},children:[m.jsx(Nr,{variant:"h4",component:"h1",gutterBottom:!0,textAlign:"left",sx:{fontWeight:"bold"},children:"My Laboratory Notebook"}),t&&m.jsxs(Ar,{sx:{display:"flex",justifyContent:"flex-end",mb:2},children:[t.isAdmin&&m.jsx(An,{label:"Admin",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:1}}),m.jsx(Ir,{title:"Click to Copy",enterDelay:300,leaveDelay:200,children:m.jsx(An,{label:`User ID: ${t.uid}`,variant:"outlined",onClick:r,sx:{borderRadius:"15px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",mr:1,cursor:"pointer"}})})]}),m.jsxs(Ar,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsx(Xe,{variant:"contained",color:"primary",onClick:()=>e(!0),sx:{fontSize:"1.2rem",textTransform:"none"},children:"+ Create New"}),m.jsx(Gs,{})]}),m.jsx($t,{open:s,autoHideDuration:6e3,onClose:n,children:m.jsx(Rt,{onClose:n,severity:"success",sx:{width:"100%"},children:"User ID copied to clipboard!"})})]})});var Kr={},Js=Ct;Object.defineProperty(Kr,"__esModule",{value:!0});var to=Kr.default=void 0,el=Js(Tt()),tl=m;to=Kr.default=(0,el.default)((0,tl.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");var Xr={},rl=Ct;Object.defineProperty(Xr,"__esModule",{value:!0});var nr=Xr.default=void 0,nl=rl(Tt()),ol=m;nr=Xr.default=(0,nl.default)((0,ol.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");const al=({designs:e,handleEdit:t,handleDelete:s,isAdmin:o})=>{const r=l=>l?l._methodName==="serverTimestamp"?"Pending...":(l instanceof Date?l:l.toDate?l.toDate():new Date(l.seconds*1e3)).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"N/A",n=l=>{if(!l)return"";let i=l;l instanceof Date&&(i=l.toISOString().split("T")[0]),l.toDate&&(i=l.toDate().toISOString().split("T")[0]);const[f,y,a]=i.split("-").map(c=>parseInt(c,10));return new Date(f,y-1,a).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})};return m.jsx(Es,{component:Br,children:m.jsxs(gs,{sx:{"& .MuiTableCell-root":{fontSize:"1rem"},"& .MuiTableCell-head":{fontSize:"1.2rem",backgroundColor:"#1A76D3",color:"white"}},children:[m.jsx(Hs,{children:m.jsxs(Dr,{sx:{height:"60px"},children:[m.jsx(Ke,{sx:{fontWeight:"bold",width:"40%"},children:"Title"}),o&&m.jsx(Ke,{sx:{fontWeight:"bold",width:"20%"},children:"User ID"}),m.jsx(Ke,{sx:{fontWeight:"bold",width:"15%"},children:"Created"}),m.jsx(Ke,{sx:{fontWeight:"bold",width:"15%"},children:"Due"}),m.jsx(Ke,{sx:{fontWeight:"bold",width:"10%"},children:"Edit"}),m.jsx(Ke,{sx:{fontWeight:"bold",width:"10%"},children:"Delete"})]})}),m.jsx(Ts,{children:e&&e.length>0?e.map(l=>m.jsxs(Dr,{sx:{height:"80px"},children:[m.jsx(Ke,{children:m.jsx("button",{onClick:()=>t(l.id),className:"hyperlink-style",children:l.title})}),o&&m.jsx(Ke,{children:l.userId}),m.jsx(Ke,{children:l.dateCreated?r(l.dateCreated):"N/A"}),m.jsx(Ke,{children:l.dateDue?n(l.dateDue):"N/A"}),m.jsx(Ke,{children:m.jsx(Ir,{title:"Edit",children:m.jsx(xt,{onClick:()=>t(l.id),color:"primary",children:m.jsx(to,{})})})}),m.jsx(Ke,{children:m.jsx(Ir,{title:"Delete",children:m.jsx(xt,{onClick:()=>s(l.id),color:"error",children:m.jsx(nr,{})})})})]},l.id)):m.jsx(Dr,{children:m.jsx(Ke,{colSpan:o?6:5,children:"No Designs Found"})})})]})})};function il(e,t){return t.forEach(function(s){s&&typeof s!="string"&&!Array.isArray(s)&&Object.keys(s).forEach(function(o){if(o!=="default"&&!(o in e)){var r=Object.getOwnPropertyDescriptor(s,o);Object.defineProperty(e,o,r.get?r:{enumerable:!0,get:function(){return s[o]}})}})}),Object.freeze(e)}function ro(e,t){return new Promise(function(s,o){let r;return sl(e).then(function(n){try{return r=n,s(new Blob([t.slice(0,2),r,t.slice(2)],{type:"image/jpeg"}))}catch(l){return o(l)}},o)})}const sl=e=>new Promise((t,s)=>{const o=new FileReader;o.addEventListener("load",({target:{result:r}})=>{const n=new DataView(r);let l=0;if(n.getUint16(l)!==65496)return s("not a valid JPEG");for(l+=2;;){const i=n.getUint16(l);if(i===65498)break;const f=n.getUint16(l+2);if(i===65505&&n.getUint32(l+4)===1165519206){const y=l+10;let a;switch(n.getUint16(y)){case 18761:a=!0;break;case 19789:a=!1;break;default:return s("TIFF header contains invalid endian")}if(n.getUint16(y+2,a)!==42)return s("TIFF header contains invalid version");const d=n.getUint32(y+4,a),c=y+d+2+12*n.getUint16(y+d,a);for(let u=y+d+2;u<c;u+=12)if(n.getUint16(u,a)==274){if(n.getUint16(u+2,a)!==3)return s("Orientation data type is invalid");if(n.getUint32(u+4,a)!==1)return s("Orientation data count is invalid");n.setUint16(u+8,1,a);break}return t(r.slice(l,l+2+f))}l+=2+f}return t(new Blob)}),o.readAsArrayBuffer(e)});var vr={},ll={get exports(){return vr},set exports(e){vr=e}};(function(e){var t,s,o={};ll.exports=o,o.parse=function(r,n){for(var l=o.bin.readUshort,i=o.bin.readUint,f=0,y={},a=new Uint8Array(r),d=a.length-4;i(a,d)!=101010256;)d--;f=d,f+=4;var c=l(a,f+=4);l(a,f+=2);var u=i(a,f+=2),b=i(a,f+=4);f+=4,f=b;for(var T=0;T<c;T++){i(a,f),f+=4,f+=4,f+=4,i(a,f+=4),u=i(a,f+=4);var k=i(a,f+=4),w=l(a,f+=4),U=l(a,f+2),M=l(a,f+4);f+=6;var S=i(a,f+=8);f+=4,f+=w+U+M,o._readLocal(a,S,y,u,k,n)}return y},o._readLocal=function(r,n,l,i,f,y){var a=o.bin.readUshort,d=o.bin.readUint;d(r,n),a(r,n+=4),a(r,n+=2);var c=a(r,n+=2);d(r,n+=2),d(r,n+=4),n+=4;var u=a(r,n+=8),b=a(r,n+=2);n+=2;var T=o.bin.readUTF8(r,n,u);if(n+=u,n+=b,y)l[T]={size:f,csize:i};else{var k=new Uint8Array(r.buffer,n);if(c==0)l[T]=new Uint8Array(k.buffer.slice(n,n+i));else{if(c!=8)throw"unknown compression method: "+c;var w=new Uint8Array(f);o.inflateRaw(k,w),l[T]=w}}},o.inflateRaw=function(r,n){return o.F.inflate(r,n)},o.inflate=function(r,n){return r[0],r[1],o.inflateRaw(new Uint8Array(r.buffer,r.byteOffset+2,r.length-6),n)},o.deflate=function(r,n){n==null&&(n={level:6});var l=0,i=new Uint8Array(50+Math.floor(1.1*r.length));i[l]=120,i[l+1]=156,l+=2,l=o.F.deflateRaw(r,i,l,n.level);var f=o.adler(r,0,r.length);return i[l+0]=f>>>24&255,i[l+1]=f>>>16&255,i[l+2]=f>>>8&255,i[l+3]=f>>>0&255,new Uint8Array(i.buffer,0,l+4)},o.deflateRaw=function(r,n){n==null&&(n={level:6});var l=new Uint8Array(50+Math.floor(1.1*r.length)),i=o.F.deflateRaw(r,l,i,n.level);return new Uint8Array(l.buffer,0,i)},o.encode=function(r,n){n==null&&(n=!1);var l=0,i=o.bin.writeUint,f=o.bin.writeUshort,y={};for(var a in r){var d=!o._noNeed(a)&&!n,c=r[a],u=o.crc.crc(c,0,c.length);y[a]={cpr:d,usize:c.length,crc:u,file:d?o.deflateRaw(c):c}}for(var a in y)l+=y[a].file.length+30+46+2*o.bin.sizeUTF8(a);l+=22;var b=new Uint8Array(l),T=0,k=[];for(var a in y){var w=y[a];k.push(T),T=o._writeHeader(b,T,a,w,0)}var U=0,M=T;for(var a in y)w=y[a],k.push(T),T=o._writeHeader(b,T,a,w,1,k[U++]);var S=T-M;return i(b,T,101010256),T+=4,f(b,T+=4,U),f(b,T+=2,U),i(b,T+=2,S),i(b,T+=4,M),T+=4,T+=2,b.buffer},o._noNeed=function(r){var n=r.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(n)!=-1},o._writeHeader=function(r,n,l,i,f,y){var a=o.bin.writeUint,d=o.bin.writeUshort,c=i.file;return a(r,n,f==0?67324752:33639248),n+=4,f==1&&(n+=2),d(r,n,20),d(r,n+=2,0),d(r,n+=2,i.cpr?8:0),a(r,n+=2,0),a(r,n+=4,i.crc),a(r,n+=4,c.length),a(r,n+=4,i.usize),d(r,n+=4,o.bin.sizeUTF8(l)),d(r,n+=2,0),n+=2,f==1&&(n+=2,n+=2,a(r,n+=6,y),n+=4),n+=o.bin.writeUTF8(r,n,l),f==0&&(r.set(c,n),n+=c.length),n},o.crc={table:function(){for(var r=new Uint32Array(256),n=0;n<256;n++){for(var l=n,i=0;i<8;i++)1&l?l=3988292384^l>>>1:l>>>=1;r[n]=l}return r}(),update:function(r,n,l,i){for(var f=0;f<i;f++)r=o.crc.table[255&(r^n[l+f])]^r>>>8;return r},crc:function(r,n,l){return 4294967295^o.crc.update(4294967295,r,n,l)}},o.adler=function(r,n,l){for(var i=1,f=0,y=n,a=n+l;y<a;){for(var d=Math.min(y+5552,a);y<d;)f+=i+=r[y++];i%=65521,f%=65521}return f<<16|i},o.bin={readUshort:function(r,n){return r[n]|r[n+1]<<8},writeUshort:function(r,n,l){r[n]=255&l,r[n+1]=l>>8&255},readUint:function(r,n){return 16777216*r[n+3]+(r[n+2]<<16|r[n+1]<<8|r[n])},writeUint:function(r,n,l){r[n]=255&l,r[n+1]=l>>8&255,r[n+2]=l>>16&255,r[n+3]=l>>24&255},readASCII:function(r,n,l){for(var i="",f=0;f<l;f++)i+=String.fromCharCode(r[n+f]);return i},writeASCII:function(r,n,l){for(var i=0;i<l.length;i++)r[n+i]=l.charCodeAt(i)},pad:function(r){return r.length<2?"0"+r:r},readUTF8:function(r,n,l){for(var i,f="",y=0;y<l;y++)f+="%"+o.bin.pad(r[n+y].toString(16));try{i=decodeURIComponent(f)}catch{return o.bin.readASCII(r,n,l)}return i},writeUTF8:function(r,n,l){for(var i=l.length,f=0,y=0;y<i;y++){var a=l.charCodeAt(y);if(!(4294967168&a))r[n+f]=a,f++;else if(!(4294965248&a))r[n+f]=192|a>>6,r[n+f+1]=128|a>>0&63,f+=2;else if(!(4294901760&a))r[n+f]=224|a>>12,r[n+f+1]=128|a>>6&63,r[n+f+2]=128|a>>0&63,f+=3;else{if(4292870144&a)throw"e";r[n+f]=240|a>>18,r[n+f+1]=128|a>>12&63,r[n+f+2]=128|a>>6&63,r[n+f+3]=128|a>>0&63,f+=4}}return f},sizeUTF8:function(r){for(var n=r.length,l=0,i=0;i<n;i++){var f=r.charCodeAt(i);if(!(4294967168&f))l++;else if(!(4294965248&f))l+=2;else if(!(4294901760&f))l+=3;else{if(4292870144&f)throw"e";l+=4}}return l}},o.F={},o.F.deflateRaw=function(r,n,l,i){var f=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][i],y=o.F.U,a=o.F._goodIndex;o.F._hash;var d=o.F._putsE,c=0,u=l<<3,b=0,T=r.length;if(i==0){for(;c<T;)d(n,u,c+(j=Math.min(65535,T-c))==T?1:0),u=o.F._copyExact(r,c,j,n,u+8),c+=j;return u>>>3}var k=y.lits,w=y.strt,U=y.prev,M=0,S=0,I=0,x=0,O=0,g=0;for(T>2&&(w[g=o.F._hash(r,0)]=0),c=0;c<T;c++){if(O=g,c+1<T-2){g=o.F._hash(r,c+1);var h=c+1&32767;U[h]=w[g],w[g]=h}if(b<=c){(M>14e3||S>26697)&&T-c>100&&(b<c&&(k[M]=c-b,M+=2,b=c),u=o.F._writeBlock(c==T-1||b==T?1:0,k,M,x,r,I,c-I,n,u),M=S=x=0,I=c);var C=0;c<T-2&&(C=o.F._bestMatch(r,c,U,O,Math.min(f[2],T-c),f[3]));var j=C>>>16,D=65535&C;if(C!=0){D=65535&C;var R=a(j=C>>>16,y.of0);y.lhst[257+R]++;var A=a(D,y.df0);y.dhst[A]++,x+=y.exb[R]+y.dxb[A],k[M]=j<<23|c-b,k[M+1]=D<<16|R<<8|A,M+=2,b=c+j}else y.lhst[r[c]]++;S++}}for(I==c&&r.length!=0||(b<c&&(k[M]=c-b,M+=2,b=c),u=o.F._writeBlock(1,k,M,x,r,I,c-I,n,u),M=0,S=0,M=S=x=0,I=c);7&u;)u++;return u>>>3},o.F._bestMatch=function(r,n,l,i,f,y){var a=32767&n,d=l[a],c=a-d+32768&32767;if(d==a||i!=o.F._hash(r,n-c))return 0;for(var u=0,b=0,T=Math.min(32767,n);c<=T&&--y!=0&&d!=a;){if(u==0||r[n+u]==r[n+u-c]){var k=o.F._howLong(r,n,c);if(k>u){if(b=c,(u=k)>=f)break;c+2<k&&(k=c+2);for(var w=0,U=0;U<k-2;U++){var M=n-c+U+32768&32767,S=M-l[M]+32768&32767;S>w&&(w=S,d=M)}}}c+=(a=d)-(d=l[a])+32768&32767}return u<<16|b},o.F._howLong=function(r,n,l){if(r[n]!=r[n-l]||r[n+1]!=r[n+1-l]||r[n+2]!=r[n+2-l])return 0;var i=n,f=Math.min(r.length,n+258);for(n+=3;n<f&&r[n]==r[n-l];)n++;return n-i},o.F._hash=function(r,n){return(r[n]<<8|r[n+1])+(r[n+2]<<4)&65535},o.saved=0,o.F._writeBlock=function(r,n,l,i,f,y,a,d,c){var u,b,T,k,w,U,M,S,I,x=o.F.U,O=o.F._putsF,g=o.F._putsE;x.lhst[256]++,b=(u=o.F.getTrees())[0],T=u[1],k=u[2],w=u[3],U=u[4],M=u[5],S=u[6],I=u[7];var h=32+(c+3&7?8-(c+3&7):0)+(a<<3),C=i+o.F.contSize(x.fltree,x.lhst)+o.F.contSize(x.fdtree,x.dhst),j=i+o.F.contSize(x.ltree,x.lhst)+o.F.contSize(x.dtree,x.dhst);j+=14+3*M+o.F.contSize(x.itree,x.ihst)+(2*x.ihst[16]+3*x.ihst[17]+7*x.ihst[18]);for(var D=0;D<286;D++)x.lhst[D]=0;for(D=0;D<30;D++)x.dhst[D]=0;for(D=0;D<19;D++)x.ihst[D]=0;var R=h<C&&h<j?0:C<j?1:2;if(O(d,c,r),O(d,c+1,R),c+=3,R==0){for(;7&c;)c++;c=o.F._copyExact(f,y,a,d,c)}else{var A,$;if(R==1&&(A=x.fltree,$=x.fdtree),R==2){o.F.makeCodes(x.ltree,b),o.F.revCodes(x.ltree,b),o.F.makeCodes(x.dtree,T),o.F.revCodes(x.dtree,T),o.F.makeCodes(x.itree,k),o.F.revCodes(x.itree,k),A=x.ltree,$=x.dtree,g(d,c,w-257),g(d,c+=5,U-1),g(d,c+=5,M-4),c+=4;for(var v=0;v<M;v++)g(d,c+3*v,x.itree[1+(x.ordr[v]<<1)]);c+=3*M,c=o.F._codeTiny(S,x.itree,d,c),c=o.F._codeTiny(I,x.itree,d,c)}for(var p=y,B=0;B<l;B+=2){for(var P=n[B],N=P>>>23,V=p+(8388607&P);p<V;)c=o.F._writeLit(f[p++],A,d,c);if(N!=0){var H=n[B+1],z=H>>16,W=H>>8&255,F=255&H;g(d,c=o.F._writeLit(257+W,A,d,c),N-x.of0[W]),c+=x.exb[W],O(d,c=o.F._writeLit(F,$,d,c),z-x.df0[F]),c+=x.dxb[F],p+=N}}c=o.F._writeLit(256,A,d,c)}return c},o.F._copyExact=function(r,n,l,i,f){var y=f>>>3;return i[y]=l,i[y+1]=l>>>8,i[y+2]=255-i[y],i[y+3]=255-i[y+1],y+=4,i.set(new Uint8Array(r.buffer,n,l),y),f+(l+4<<3)},o.F.getTrees=function(){for(var r=o.F.U,n=o.F._hufTree(r.lhst,r.ltree,15),l=o.F._hufTree(r.dhst,r.dtree,15),i=[],f=o.F._lenCodes(r.ltree,i),y=[],a=o.F._lenCodes(r.dtree,y),d=0;d<i.length;d+=2)r.ihst[i[d]]++;for(d=0;d<y.length;d+=2)r.ihst[y[d]]++;for(var c=o.F._hufTree(r.ihst,r.itree,7),u=19;u>4&&r.itree[1+(r.ordr[u-1]<<1)]==0;)u--;return[n,l,c,f,a,u,i,y]},o.F.getSecond=function(r){for(var n=[],l=0;l<r.length;l+=2)n.push(r[l+1]);return n},o.F.nonZero=function(r){for(var n="",l=0;l<r.length;l+=2)r[l+1]!=0&&(n+=(l>>1)+",");return n},o.F.contSize=function(r,n){for(var l=0,i=0;i<n.length;i++)l+=n[i]*r[1+(i<<1)];return l},o.F._codeTiny=function(r,n,l,i){for(var f=0;f<r.length;f+=2){var y=r[f],a=r[f+1];i=o.F._writeLit(y,n,l,i);var d=y==16?2:y==17?3:7;y>15&&(o.F._putsE(l,i,a,d),i+=d)}return i},o.F._lenCodes=function(r,n){for(var l=r.length;l!=2&&r[l-1]==0;)l-=2;for(var i=0;i<l;i+=2){var f=r[i+1],y=i+3<l?r[i+3]:-1,a=i+5<l?r[i+5]:-1,d=i==0?-1:r[i-1];if(f==0&&y==f&&a==f){for(var c=i+5;c+2<l&&r[c+2]==f;)c+=2;(u=Math.min(c+1-i>>>1,138))<11?n.push(17,u-3):n.push(18,u-11),i+=2*u-2}else if(f==d&&y==f&&a==f){for(c=i+5;c+2<l&&r[c+2]==f;)c+=2;var u=Math.min(c+1-i>>>1,6);n.push(16,u-3),i+=2*u-2}else n.push(f,0)}return l>>>1},o.F._hufTree=function(r,n,l){var i=[],f=r.length,y=n.length,a=0;for(a=0;a<y;a+=2)n[a]=0,n[a+1]=0;for(a=0;a<f;a++)r[a]!=0&&i.push({lit:a,f:r[a]});var d=i.length,c=i.slice(0);if(d==0)return 0;if(d==1){var u=i[0].lit;return c=u==0?1:0,n[1+(u<<1)]=1,n[1+(c<<1)]=1,1}i.sort(function(S,I){return S.f-I.f});var b=i[0],T=i[1],k=0,w=1,U=2;for(i[0]={lit:-1,f:b.f+T.f,l:b,r:T,d:0};w!=d-1;)b=k!=w&&(U==d||i[k].f<i[U].f)?i[k++]:i[U++],T=k!=w&&(U==d||i[k].f<i[U].f)?i[k++]:i[U++],i[w++]={lit:-1,f:b.f+T.f,l:b,r:T};var M=o.F.setDepth(i[w-1],0);for(M>l&&(o.F.restrictDepth(c,l,M),M=l),a=0;a<d;a++)n[1+(c[a].lit<<1)]=c[a].d;return M},o.F.setDepth=function(r,n){return r.lit!=-1?(r.d=n,n):Math.max(o.F.setDepth(r.l,n+1),o.F.setDepth(r.r,n+1))},o.F.restrictDepth=function(r,n,l){var i=0,f=1<<l-n,y=0;for(r.sort(function(d,c){return c.d==d.d?d.f-c.f:c.d-d.d}),i=0;i<r.length&&r[i].d>n;i++){var a=r[i].d;r[i].d=n,y+=f-(1<<l-a)}for(y>>>=l-n;y>0;)(a=r[i].d)<n?(r[i].d++,y-=1<<n-a-1):i++;for(;i>=0;i--)r[i].d==n&&y<0&&(r[i].d--,y++);y!=0&&console.log("debt left")},o.F._goodIndex=function(r,n){var l=0;return n[16|l]<=r&&(l|=16),n[8|l]<=r&&(l|=8),n[4|l]<=r&&(l|=4),n[2|l]<=r&&(l|=2),n[1|l]<=r&&(l|=1),l},o.F._writeLit=function(r,n,l,i){return o.F._putsF(l,i,n[r<<1]),i+n[1+(r<<1)]},o.F.inflate=function(r,n){var l=Uint8Array;if(r[0]==3&&r[1]==0)return n||new l(0);var i=o.F,f=i._bitsF,y=i._bitsE,a=i._decodeTiny,d=i.makeCodes,c=i.codes2map,u=i._get17,b=i.U,T=n==null;T&&(n=new l(r.length>>>2<<3));for(var k,w,U=0,M=0,S=0,I=0,x=0,O=0,g=0,h=0,C=0;U==0;)if(U=f(r,C,1),M=f(r,C+1,2),C+=3,M!=0){if(T&&(n=o.F._check(n,h+(1<<17))),M==1&&(k=b.flmap,w=b.fdmap,O=511,g=31),M==2){S=y(r,C,5)+257,I=y(r,C+5,5)+1,x=y(r,C+10,4)+4,C+=14;for(var j=0;j<38;j+=2)b.itree[j]=0,b.itree[j+1]=0;var D=1;for(j=0;j<x;j++){var R=y(r,C+3*j,3);b.itree[1+(b.ordr[j]<<1)]=R,R>D&&(D=R)}C+=3*x,d(b.itree,D),c(b.itree,D,b.imap),k=b.lmap,w=b.dmap,C=a(b.imap,(1<<D)-1,S+I,r,C,b.ttree);var A=i._copyOut(b.ttree,0,S,b.ltree);O=(1<<A)-1;var $=i._copyOut(b.ttree,S,I,b.dtree);g=(1<<$)-1,d(b.ltree,A),c(b.ltree,A,k),d(b.dtree,$),c(b.dtree,$,w)}for(;;){var v=k[u(r,C)&O];C+=15&v;var p=v>>>4;if(!(p>>>8))n[h++]=p;else{if(p==256)break;var B=h+p-254;if(p>264){var P=b.ldef[p-257];B=h+(P>>>3)+y(r,C,7&P),C+=7&P}var N=w[u(r,C)&g];C+=15&N;var V=N>>>4,H=b.ddef[V],z=(H>>>4)+f(r,C,15&H);for(C+=15&H,T&&(n=o.F._check(n,h+(1<<17)));h<B;)n[h]=n[h++-z],n[h]=n[h++-z],n[h]=n[h++-z],n[h]=n[h++-z];h=B}}}else{7&C&&(C+=8-(7&C));var W=4+(C>>>3),F=r[W-4]|r[W-3]<<8;T&&(n=o.F._check(n,h+F)),n.set(new l(r.buffer,r.byteOffset+W,F),h),C=W+F<<3,h+=F}return n.length==h?n:n.slice(0,h)},o.F._check=function(r,n){var l=r.length;if(n<=l)return r;var i=new Uint8Array(Math.max(l<<1,n));return i.set(r,0),i},o.F._decodeTiny=function(r,n,l,i,f,y){for(var a=o.F._bitsE,d=o.F._get17,c=0;c<l;){var u=r[d(i,f)&n];f+=15&u;var b=u>>>4;if(b<=15)y[c]=b,c++;else{var T=0,k=0;b==16?(k=3+a(i,f,2),f+=2,T=y[c-1]):b==17?(k=3+a(i,f,3),f+=3):b==18&&(k=11+a(i,f,7),f+=7);for(var w=c+k;c<w;)y[c]=T,c++}}return f},o.F._copyOut=function(r,n,l,i){for(var f=0,y=0,a=i.length>>>1;y<l;){var d=r[y+n];i[y<<1]=0,i[1+(y<<1)]=d,d>f&&(f=d),y++}for(;y<a;)i[y<<1]=0,i[1+(y<<1)]=0,y++;return f},o.F.makeCodes=function(r,n){for(var l,i,f,y,a=o.F.U,d=r.length,c=a.bl_count,u=0;u<=n;u++)c[u]=0;for(u=1;u<d;u+=2)c[r[u]]++;var b=a.next_code;for(l=0,c[0]=0,i=1;i<=n;i++)l=l+c[i-1]<<1,b[i]=l;for(f=0;f<d;f+=2)(y=r[f+1])!=0&&(r[f]=b[y],b[y]++)},o.F.codes2map=function(r,n,l){for(var i=r.length,f=o.F.U.rev15,y=0;y<i;y+=2)if(r[y+1]!=0)for(var a=y>>1,d=r[y+1],c=a<<4|d,u=n-d,b=r[y]<<u,T=b+(1<<u);b!=T;)l[f[b]>>>15-n]=c,b++},o.F.revCodes=function(r,n){for(var l=o.F.U.rev15,i=15-n,f=0;f<r.length;f+=2){var y=r[f]<<n-r[f+1];r[f]=l[y]>>>i}},o.F._putsE=function(r,n,l){l<<=7&n;var i=n>>>3;r[i]|=l,r[i+1]|=l>>>8},o.F._putsF=function(r,n,l){l<<=7&n;var i=n>>>3;r[i]|=l,r[i+1]|=l>>>8,r[i+2]|=l>>>16},o.F._bitsE=function(r,n,l){return(r[n>>>3]|r[1+(n>>>3)]<<8)>>>(7&n)&(1<<l)-1},o.F._bitsF=function(r,n,l){return(r[n>>>3]|r[1+(n>>>3)]<<8|r[2+(n>>>3)]<<16)>>>(7&n)&(1<<l)-1},o.F._get17=function(r,n){return(r[n>>>3]|r[1+(n>>>3)]<<8|r[2+(n>>>3)]<<16)>>>(7&n)},o.F._get25=function(r,n){return(r[n>>>3]|r[1+(n>>>3)]<<8|r[2+(n>>>3)]<<16|r[3+(n>>>3)]<<24)>>>(7&n)},o.F.U=(t=Uint16Array,s=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new s(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new s(286),dhst:new s(30),ihst:new s(19),lits:new s(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var r=o.F.U,n=0;n<32768;n++){var l=n;l=(4278255360&(l=(4042322160&(l=(3435973836&(l=(2863311530&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,r.rev15[n]=(l>>>16|l<<16)>>>17}function i(f,y,a){for(;y--!=0;)f.push(0,a)}for(n=0;n<32;n++)r.ldef[n]=r.of0[n]<<3|r.exb[n],r.ddef[n]=r.df0[n]<<4|r.dxb[n];i(r.fltree,144,8),i(r.fltree,112,9),i(r.fltree,24,7),i(r.fltree,8,8),o.F.makeCodes(r.fltree,9),o.F.codes2map(r.fltree,9,r.flmap),o.F.revCodes(r.fltree,9),i(r.fdtree,32,5),o.F.makeCodes(r.fdtree,5),o.F.codes2map(r.fdtree,5,r.fdmap),o.F.revCodes(r.fdtree,5),i(r.itree,19,0),i(r.ltree,286,0),i(r.dtree,30,0),i(r.ttree,320,0)}()})();var cl=il({__proto__:null,default:vr},[vr]);const ut=function(){var e={nextZero(a,d){for(;a[d]!=0;)d++;return d},readUshort:(a,d)=>a[d]<<8|a[d+1],writeUshort(a,d,c){a[d]=c>>8&255,a[d+1]=255&c},readUint:(a,d)=>16777216*a[d]+(a[d+1]<<16|a[d+2]<<8|a[d+3]),writeUint(a,d,c){a[d]=c>>24&255,a[d+1]=c>>16&255,a[d+2]=c>>8&255,a[d+3]=255&c},readASCII(a,d,c){let u="";for(let b=0;b<c;b++)u+=String.fromCharCode(a[d+b]);return u},writeASCII(a,d,c){for(let u=0;u<c.length;u++)a[d+u]=c.charCodeAt(u)},readBytes(a,d,c){const u=[];for(let b=0;b<c;b++)u.push(a[d+b]);return u},pad:a=>a.length<2?`0${a}`:a,readUTF8(a,d,c){let u,b="";for(let T=0;T<c;T++)b+=`%${e.pad(a[d+T].toString(16))}`;try{u=decodeURIComponent(b)}catch{return e.readASCII(a,d,c)}return u}};function t(a,d,c,u){const b=d*c,T=n(u),k=Math.ceil(d*T/8),w=new Uint8Array(4*b),U=new Uint32Array(w.buffer),{ctype:M}=u,{depth:S}=u,I=e.readUshort;if(M==6){const P=b<<2;if(S==8)for(var x=0;x<P;x+=4)w[x]=a[x],w[x+1]=a[x+1],w[x+2]=a[x+2],w[x+3]=a[x+3];if(S==16)for(x=0;x<P;x++)w[x]=a[x<<1]}else if(M==2){const P=u.tabs.tRNS;if(P==null){if(S==8)for(x=0;x<b;x++){var O=3*x;U[x]=255<<24|a[O+2]<<16|a[O+1]<<8|a[O]}if(S==16)for(x=0;x<b;x++)O=6*x,U[x]=255<<24|a[O+4]<<16|a[O+2]<<8|a[O]}else{var g=P[0];const N=P[1],V=P[2];if(S==8)for(x=0;x<b;x++){var h=x<<2;O=3*x,U[x]=255<<24|a[O+2]<<16|a[O+1]<<8|a[O],a[O]==g&&a[O+1]==N&&a[O+2]==V&&(w[h+3]=0)}if(S==16)for(x=0;x<b;x++)h=x<<2,O=6*x,U[x]=255<<24|a[O+4]<<16|a[O+2]<<8|a[O],I(a,O)==g&&I(a,O+2)==N&&I(a,O+4)==V&&(w[h+3]=0)}}else if(M==3){const P=u.tabs.PLTE,N=u.tabs.tRNS,V=N?N.length:0;if(S==1)for(var C=0;C<c;C++){var j=C*k,D=C*d;for(x=0;x<d;x++){h=D+x<<2;var R=3*(A=a[j+(x>>3)]>>7-((7&x)<<0)&1);w[h]=P[R],w[h+1]=P[R+1],w[h+2]=P[R+2],w[h+3]=A<V?N[A]:255}}if(S==2)for(C=0;C<c;C++)for(j=C*k,D=C*d,x=0;x<d;x++)h=D+x<<2,R=3*(A=a[j+(x>>2)]>>6-((3&x)<<1)&3),w[h]=P[R],w[h+1]=P[R+1],w[h+2]=P[R+2],w[h+3]=A<V?N[A]:255;if(S==4)for(C=0;C<c;C++)for(j=C*k,D=C*d,x=0;x<d;x++)h=D+x<<2,R=3*(A=a[j+(x>>1)]>>4-((1&x)<<2)&15),w[h]=P[R],w[h+1]=P[R+1],w[h+2]=P[R+2],w[h+3]=A<V?N[A]:255;if(S==8)for(x=0;x<b;x++){var A;h=x<<2,R=3*(A=a[x]),w[h]=P[R],w[h+1]=P[R+1],w[h+2]=P[R+2],w[h+3]=A<V?N[A]:255}}else if(M==4){if(S==8)for(x=0;x<b;x++){h=x<<2;var $=a[v=x<<1];w[h]=$,w[h+1]=$,w[h+2]=$,w[h+3]=a[v+1]}if(S==16)for(x=0;x<b;x++){var v;h=x<<2,$=a[v=x<<2],w[h]=$,w[h+1]=$,w[h+2]=$,w[h+3]=a[v+2]}}else if(M==0)for(g=u.tabs.tRNS?u.tabs.tRNS:-1,C=0;C<c;C++){const P=C*k,N=C*d;if(S==1)for(var p=0;p<d;p++){var B=($=255*(a[P+(p>>>3)]>>>7-(7&p)&1))==255*g?0:255;U[N+p]=B<<24|$<<16|$<<8|$}else if(S==2)for(p=0;p<d;p++)B=($=85*(a[P+(p>>>2)]>>>6-((3&p)<<1)&3))==85*g?0:255,U[N+p]=B<<24|$<<16|$<<8|$;else if(S==4)for(p=0;p<d;p++)B=($=17*(a[P+(p>>>1)]>>>4-((1&p)<<2)&15))==17*g?0:255,U[N+p]=B<<24|$<<16|$<<8|$;else if(S==8)for(p=0;p<d;p++)B=($=a[P+p])==g?0:255,U[N+p]=B<<24|$<<16|$<<8|$;else if(S==16)for(p=0;p<d;p++)$=a[P+(p<<1)],B=I(a,P+(p<<1))==g?0:255,U[N+p]=B<<24|$<<16|$<<8|$}return w}function s(a,d,c,u){const b=n(a),T=Math.ceil(c*b/8),k=new Uint8Array((T+1+a.interlace)*u);return d=a.tabs.CgBI?r(d,k):o(d,k),a.interlace==0?d=l(d,a,0,c,u):a.interlace==1&&(d=function(U,M){const S=M.width,I=M.height,x=n(M),O=x>>3,g=Math.ceil(S*x/8),h=new Uint8Array(I*g);let C=0;const j=[0,0,4,0,2,0,1],D=[0,4,0,2,0,1,0],R=[8,8,8,4,4,2,2],A=[8,8,4,4,2,2,1];let $=0;for(;$<7;){const p=R[$],B=A[$];let P=0,N=0,V=j[$];for(;V<I;)V+=p,N++;let H=D[$];for(;H<S;)H+=B,P++;const z=Math.ceil(P*x/8);l(U,M,C,P,N);let W=0,F=j[$];for(;F<I;){let Y=D[$],ae=C+W*z<<3;for(;Y<S;){var v;if(x==1&&(v=(v=U[ae>>3])>>7-(7&ae)&1,h[F*g+(Y>>3)]|=v<<7-((7&Y)<<0)),x==2&&(v=(v=U[ae>>3])>>6-(7&ae)&3,h[F*g+(Y>>2)]|=v<<6-((3&Y)<<1)),x==4&&(v=(v=U[ae>>3])>>4-(7&ae)&15,h[F*g+(Y>>1)]|=v<<4-((1&Y)<<2)),x>=8){const K=F*g+Y*O;for(let J=0;J<O;J++)h[K+J]=U[(ae>>3)+J]}ae+=x,Y+=B}W++,F+=p}P*N!=0&&(C+=N*(1+z)),$+=1}return h}(d,a)),d}function o(a,d){return r(new Uint8Array(a.buffer,2,a.length-6),d)}var r=function(){const a={H:{}};return a.H.N=function(d,c){const u=Uint8Array;let b,T,k=0,w=0,U=0,M=0,S=0,I=0,x=0,O=0,g=0;if(d[0]==3&&d[1]==0)return c||new u(0);const h=a.H,C=h.b,j=h.e,D=h.R,R=h.n,A=h.A,$=h.Z,v=h.m,p=c==null;for(p&&(c=new u(d.length>>>2<<5));k==0;)if(k=C(d,g,1),w=C(d,g+1,2),g+=3,w!=0){if(p&&(c=a.H.W(c,O+(1<<17))),w==1&&(b=v.J,T=v.h,I=511,x=31),w==2){U=j(d,g,5)+257,M=j(d,g+5,5)+1,S=j(d,g+10,4)+4,g+=14;let P=1;for(var B=0;B<38;B+=2)v.Q[B]=0,v.Q[B+1]=0;for(B=0;B<S;B++){const H=j(d,g+3*B,3);v.Q[1+(v.X[B]<<1)]=H,H>P&&(P=H)}g+=3*S,R(v.Q,P),A(v.Q,P,v.u),b=v.w,T=v.d,g=D(v.u,(1<<P)-1,U+M,d,g,v.v);const N=h.V(v.v,0,U,v.C);I=(1<<N)-1;const V=h.V(v.v,U,M,v.D);x=(1<<V)-1,R(v.C,N),A(v.C,N,b),R(v.D,V),A(v.D,V,T)}for(;;){const P=b[$(d,g)&I];g+=15&P;const N=P>>>4;if(!(N>>>8))c[O++]=N;else{if(N==256)break;{let V=O+N-254;if(N>264){const Y=v.q[N-257];V=O+(Y>>>3)+j(d,g,7&Y),g+=7&Y}const H=T[$(d,g)&x];g+=15&H;const z=H>>>4,W=v.c[z],F=(W>>>4)+C(d,g,15&W);for(g+=15&W;O<V;)c[O]=c[O++-F],c[O]=c[O++-F],c[O]=c[O++-F],c[O]=c[O++-F];O=V}}}}else{7&g&&(g+=8-(7&g));const P=4+(g>>>3),N=d[P-4]|d[P-3]<<8;p&&(c=a.H.W(c,O+N)),c.set(new u(d.buffer,d.byteOffset+P,N),O),g=P+N<<3,O+=N}return c.length==O?c:c.slice(0,O)},a.H.W=function(d,c){const u=d.length;if(c<=u)return d;const b=new Uint8Array(u<<1);return b.set(d,0),b},a.H.R=function(d,c,u,b,T,k){const w=a.H.e,U=a.H.Z;let M=0;for(;M<u;){const S=d[U(b,T)&c];T+=15&S;const I=S>>>4;if(I<=15)k[M]=I,M++;else{let x=0,O=0;I==16?(O=3+w(b,T,2),T+=2,x=k[M-1]):I==17?(O=3+w(b,T,3),T+=3):I==18&&(O=11+w(b,T,7),T+=7);const g=M+O;for(;M<g;)k[M]=x,M++}}return T},a.H.V=function(d,c,u,b){let T=0,k=0;const w=b.length>>>1;for(;k<u;){const U=d[k+c];b[k<<1]=0,b[1+(k<<1)]=U,U>T&&(T=U),k++}for(;k<w;)b[k<<1]=0,b[1+(k<<1)]=0,k++;return T},a.H.n=function(d,c){const u=a.H.m,b=d.length;let T,k,w,U;const M=u.j;for(var S=0;S<=c;S++)M[S]=0;for(S=1;S<b;S+=2)M[d[S]]++;const I=u.K;for(T=0,M[0]=0,k=1;k<=c;k++)T=T+M[k-1]<<1,I[k]=T;for(w=0;w<b;w+=2)U=d[w+1],U!=0&&(d[w]=I[U],I[U]++)},a.H.A=function(d,c,u){const b=d.length,T=a.H.m.r;for(let k=0;k<b;k+=2)if(d[k+1]!=0){const w=k>>1,U=d[k+1],M=w<<4|U,S=c-U;let I=d[k]<<S;const x=I+(1<<S);for(;I!=x;)u[T[I]>>>15-c]=M,I++}},a.H.l=function(d,c){const u=a.H.m.r,b=15-c;for(let T=0;T<d.length;T+=2){const k=d[T]<<c-d[T+1];d[T]=u[k]>>>b}},a.H.M=function(d,c,u){u<<=7&c;const b=c>>>3;d[b]|=u,d[b+1]|=u>>>8},a.H.I=function(d,c,u){u<<=7&c;const b=c>>>3;d[b]|=u,d[b+1]|=u>>>8,d[b+2]|=u>>>16},a.H.e=function(d,c,u){return(d[c>>>3]|d[1+(c>>>3)]<<8)>>>(7&c)&(1<<u)-1},a.H.b=function(d,c,u){return(d[c>>>3]|d[1+(c>>>3)]<<8|d[2+(c>>>3)]<<16)>>>(7&c)&(1<<u)-1},a.H.Z=function(d,c){return(d[c>>>3]|d[1+(c>>>3)]<<8|d[2+(c>>>3)]<<16)>>>(7&c)},a.H.i=function(d,c){return(d[c>>>3]|d[1+(c>>>3)]<<8|d[2+(c>>>3)]<<16|d[3+(c>>>3)]<<24)>>>(7&c)},a.H.m=function(){const d=Uint16Array,c=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new c(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new c(286),Y:new c(30),a:new c(19),t:new c(15e3),k:new d(65536),g:new d(32768)}}(),function(){const d=a.H.m;for(var c=0;c<32768;c++){let b=c;b=(2863311530&b)>>>1|(1431655765&b)<<1,b=(3435973836&b)>>>2|(858993459&b)<<2,b=(4042322160&b)>>>4|(252645135&b)<<4,b=(4278255360&b)>>>8|(16711935&b)<<8,d.r[c]=(b>>>16|b<<16)>>>17}function u(b,T,k){for(;T--!=0;)b.push(0,k)}for(c=0;c<32;c++)d.q[c]=d.S[c]<<3|d.T[c],d.c[c]=d.p[c]<<4|d.z[c];u(d._,144,8),u(d._,112,9),u(d._,24,7),u(d._,8,8),a.H.n(d._,9),a.H.A(d._,9,d.J),a.H.l(d._,9),u(d.$,32,5),a.H.n(d.$,5),a.H.A(d.$,5,d.h),a.H.l(d.$,5),u(d.Q,19,0),u(d.C,286,0),u(d.D,30,0),u(d.v,320,0)}(),a.H.N}();function n(a){return[1,null,3,1,2,null,4][a.ctype]*a.depth}function l(a,d,c,u,b){let T=n(d);const k=Math.ceil(u*T/8);let w,U;T=Math.ceil(T/8);let M=a[c],S=0;if(M>1&&(a[c]=[0,0,1][M-2]),M==3)for(S=T;S<k;S++)a[S+1]=a[S+1]+(a[S+1-T]>>>1)&255;for(let I=0;I<b;I++)if(w=c+I*k,U=w+I+1,M=a[U-1],S=0,M==0)for(;S<k;S++)a[w+S]=a[U+S];else if(M==1){for(;S<T;S++)a[w+S]=a[U+S];for(;S<k;S++)a[w+S]=a[U+S]+a[w+S-T]}else if(M==2)for(;S<k;S++)a[w+S]=a[U+S]+a[w+S-k];else if(M==3){for(;S<T;S++)a[w+S]=a[U+S]+(a[w+S-k]>>>1);for(;S<k;S++)a[w+S]=a[U+S]+(a[w+S-k]+a[w+S-T]>>>1)}else{for(;S<T;S++)a[w+S]=a[U+S]+i(0,a[w+S-k],0);for(;S<k;S++)a[w+S]=a[U+S]+i(a[w+S-T],a[w+S-k],a[w+S-T-k])}return a}function i(a,d,c){const u=a+d-c,b=u-a,T=u-d,k=u-c;return b*b<=T*T&&b*b<=k*k?a:T*T<=k*k?d:c}function f(a,d,c){c.width=e.readUint(a,d),d+=4,c.height=e.readUint(a,d),d+=4,c.depth=a[d],d++,c.ctype=a[d],d++,c.compress=a[d],d++,c.filter=a[d],d++,c.interlace=a[d],d++}function y(a,d,c,u,b,T,k,w,U){const M=Math.min(d,b),S=Math.min(c,T);let I=0,x=0;for(let $=0;$<S;$++)for(let v=0;v<M;v++)if(k>=0&&w>=0?(I=$*d+v<<2,x=(w+$)*b+k+v<<2):(I=(-w+$)*d-k+v<<2,x=$*b+v<<2),U==0)u[x]=a[I],u[x+1]=a[I+1],u[x+2]=a[I+2],u[x+3]=a[I+3];else if(U==1){var O=a[I+3]*.00392156862745098,g=a[I]*O,h=a[I+1]*O,C=a[I+2]*O,j=u[x+3]*(1/255),D=u[x]*j,R=u[x+1]*j,A=u[x+2]*j;const p=1-O,B=O+j*p,P=B==0?0:1/B;u[x+3]=255*B,u[x+0]=(g+D*p)*P,u[x+1]=(h+R*p)*P,u[x+2]=(C+A*p)*P}else if(U==2)O=a[I+3],g=a[I],h=a[I+1],C=a[I+2],j=u[x+3],D=u[x],R=u[x+1],A=u[x+2],O==j&&g==D&&h==R&&C==A?(u[x]=0,u[x+1]=0,u[x+2]=0,u[x+3]=0):(u[x]=g,u[x+1]=h,u[x+2]=C,u[x+3]=O);else if(U==3){if(O=a[I+3],g=a[I],h=a[I+1],C=a[I+2],j=u[x+3],D=u[x],R=u[x+1],A=u[x+2],O==j&&g==D&&h==R&&C==A)continue;if(O<220&&j>20)return!1}return!0}return{decode:function(d){const c=new Uint8Array(d);let u=8;const b=e,T=b.readUshort,k=b.readUint,w={tabs:{},frames:[]},U=new Uint8Array(c.length);let M,S=0,I=0;const x=[137,80,78,71,13,10,26,10];for(var O=0;O<8;O++)if(c[O]!=x[O])throw"The input is not a PNG file!";for(;u<c.length;){const $=b.readUint(c,u);u+=4;const v=b.readASCII(c,u,4);if(u+=4,v=="IHDR")f(c,u,w);else if(v=="iCCP"){for(var g=u;c[g]!=0;)g++;b.readASCII(c,u,g-u),c[g+1];const p=c.slice(g+2,u+$);let B=null;try{B=o(p)}catch{B=r(p)}w.tabs[v]=B}else if(v=="CgBI")w.tabs[v]=c.slice(u,u+4);else if(v=="IDAT"){for(O=0;O<$;O++)U[S+O]=c[u+O];S+=$}else if(v=="acTL")w.tabs[v]={num_frames:k(c,u),num_plays:k(c,u+4)},M=new Uint8Array(c.length);else if(v=="fcTL"){I!=0&&((A=w.frames[w.frames.length-1]).data=s(w,M.slice(0,I),A.rect.width,A.rect.height),I=0);const p={x:k(c,u+12),y:k(c,u+16),width:k(c,u+4),height:k(c,u+8)};let B=T(c,u+22);B=T(c,u+20)/(B==0?100:B);const P={rect:p,delay:Math.round(1e3*B),dispose:c[u+24],blend:c[u+25]};w.frames.push(P)}else if(v=="fdAT"){for(O=0;O<$-4;O++)M[I+O]=c[u+O+4];I+=$-4}else if(v=="pHYs")w.tabs[v]=[b.readUint(c,u),b.readUint(c,u+4),c[u+8]];else if(v=="cHRM")for(w.tabs[v]=[],O=0;O<8;O++)w.tabs[v].push(b.readUint(c,u+4*O));else if(v=="tEXt"||v=="zTXt"){w.tabs[v]==null&&(w.tabs[v]={});var h=b.nextZero(c,u),C=b.readASCII(c,u,h-u),j=u+$-h-1;if(v=="tEXt")R=b.readASCII(c,h+1,j);else{var D=o(c.slice(h+2,h+2+j));R=b.readUTF8(D,0,D.length)}w.tabs[v][C]=R}else if(v=="iTXt"){w.tabs[v]==null&&(w.tabs[v]={}),h=0,g=u,h=b.nextZero(c,g),C=b.readASCII(c,g,h-g);const p=c[g=h+1];var R;c[g+1],g+=2,h=b.nextZero(c,g),b.readASCII(c,g,h-g),g=h+1,h=b.nextZero(c,g),b.readUTF8(c,g,h-g),j=$-((g=h+1)-u),p==0?R=b.readUTF8(c,g,j):(D=o(c.slice(g,g+j)),R=b.readUTF8(D,0,D.length)),w.tabs[v][C]=R}else if(v=="PLTE")w.tabs[v]=b.readBytes(c,u,$);else if(v=="hIST"){const p=w.tabs.PLTE.length/3;for(w.tabs[v]=[],O=0;O<p;O++)w.tabs[v].push(T(c,u+2*O))}else if(v=="tRNS")w.ctype==3?w.tabs[v]=b.readBytes(c,u,$):w.ctype==0?w.tabs[v]=T(c,u):w.ctype==2&&(w.tabs[v]=[T(c,u),T(c,u+2),T(c,u+4)]);else if(v=="gAMA")w.tabs[v]=b.readUint(c,u)/1e5;else if(v=="sRGB")w.tabs[v]=c[u];else if(v=="bKGD")w.ctype==0||w.ctype==4?w.tabs[v]=[T(c,u)]:w.ctype==2||w.ctype==6?w.tabs[v]=[T(c,u),T(c,u+2),T(c,u+4)]:w.ctype==3&&(w.tabs[v]=c[u]);else if(v=="IEND")break;u+=$,b.readUint(c,u),u+=4}var A;return I!=0&&((A=w.frames[w.frames.length-1]).data=s(w,M.slice(0,I),A.rect.width,A.rect.height)),w.data=s(w,U,w.width,w.height),delete w.compress,delete w.interlace,delete w.filter,w},toRGBA8:function(d){const c=d.width,u=d.height;if(d.tabs.acTL==null)return[t(d.data,c,u,d).buffer];const b=[];d.frames[0].data==null&&(d.frames[0].data=d.data);const T=c*u*4,k=new Uint8Array(T),w=new Uint8Array(T),U=new Uint8Array(T);for(let S=0;S<d.frames.length;S++){const I=d.frames[S],x=I.rect.x,O=I.rect.y,g=I.rect.width,h=I.rect.height,C=t(I.data,g,h,d);if(S!=0)for(var M=0;M<T;M++)U[M]=k[M];if(I.blend==0?y(C,g,h,k,c,u,x,O,0):I.blend==1&&y(C,g,h,k,c,u,x,O,1),b.push(k.buffer.slice(0)),I.dispose!=0){if(I.dispose==1)y(w,g,h,k,c,u,x,O,0);else if(I.dispose==2)for(M=0;M<T;M++)k[M]=U[M]}}return b},_paeth:i,_copyTile:y,_bin:e}}();(function(){const{_copyTile:e}=ut,{_bin:t}=ut,s=ut._paeth;var o={table:function(){const g=new Uint32Array(256);for(let h=0;h<256;h++){let C=h;for(let j=0;j<8;j++)1&C?C=3988292384^C>>>1:C>>>=1;g[h]=C}return g}(),update(g,h,C,j){for(let D=0;D<j;D++)g=o.table[255&(g^h[C+D])]^g>>>8;return g},crc:(g,h,C)=>4294967295^o.update(4294967295,g,h,C)};function r(g,h,C,j){h[C]+=g[0]*j>>4,h[C+1]+=g[1]*j>>4,h[C+2]+=g[2]*j>>4,h[C+3]+=g[3]*j>>4}function n(g){return Math.max(0,Math.min(255,g))}function l(g,h){const C=g[0]-h[0],j=g[1]-h[1],D=g[2]-h[2],R=g[3]-h[3];return C*C+j*j+D*D+R*R}function i(g,h,C,j,D,R,A){A==null&&(A=1);const $=j.length,v=[];for(var p=0;p<$;p++){const F=j[p];v.push([F>>>0&255,F>>>8&255,F>>>16&255,F>>>24&255])}for(p=0;p<$;p++){let F=4294967295;for(var B=0,P=0;P<$;P++){var N=l(v[p],v[P]);P!=p&&N<F&&(F=N,B=P)}}const V=new Uint32Array(D.buffer),H=new Int16Array(h*C*4),z=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(p=0;p<z.length;p++)z[p]=255*((z[p]+.5)/16-.5);for(let F=0;F<C;F++)for(let Y=0;Y<h;Y++){var W;p=4*(F*h+Y),A!=2?W=[n(g[p]+H[p]),n(g[p+1]+H[p+1]),n(g[p+2]+H[p+2]),n(g[p+3]+H[p+3])]:(N=z[4*(3&F)+(3&Y)],W=[n(g[p]+N),n(g[p+1]+N),n(g[p+2]+N),n(g[p+3]+N)]),B=0;let ae=16777215;for(P=0;P<$;P++){const ne=l(W,v[P]);ne<ae&&(ae=ne,B=P)}const K=v[B],J=[W[0]-K[0],W[1]-K[1],W[2]-K[2],W[3]-K[3]];A==1&&(Y!=h-1&&r(J,H,p+4,7),F!=C-1&&(Y!=0&&r(J,H,p+4*h-4,3),r(J,H,p+4*h,5),Y!=h-1&&r(J,H,p+4*h+4,1))),R[p>>2]=B,V[p>>2]=j[B]}}function f(g,h,C,j,D){D==null&&(D={});const{crc:R}=o,A=t.writeUint,$=t.writeUshort,v=t.writeASCII;let p=8;const B=g.frames.length>1;let P,N=!1,V=33+(B?20:0);if(D.sRGB!=null&&(V+=13),D.pHYs!=null&&(V+=21),D.iCCP!=null&&(P=pako.deflate(D.iCCP),V+=21+P.length+4),g.ctype==3){for(var H=g.plte.length,z=0;z<H;z++)g.plte[z]>>>24!=255&&(N=!0);V+=8+3*H+4+(N?8+1*H+4:0)}for(var W=0;W<g.frames.length;W++)B&&(V+=38),V+=(K=g.frames[W]).cimg.length+12,W!=0&&(V+=4);V+=12;const F=new Uint8Array(V),Y=[137,80,78,71,13,10,26,10];for(z=0;z<8;z++)F[z]=Y[z];if(A(F,p,13),p+=4,v(F,p,"IHDR"),p+=4,A(F,p,h),p+=4,A(F,p,C),p+=4,F[p]=g.depth,p++,F[p]=g.ctype,p++,F[p]=0,p++,F[p]=0,p++,F[p]=0,p++,A(F,p,R(F,p-17,17)),p+=4,D.sRGB!=null&&(A(F,p,1),p+=4,v(F,p,"sRGB"),p+=4,F[p]=D.sRGB,p++,A(F,p,R(F,p-5,5)),p+=4),D.iCCP!=null){const J=13+P.length;A(F,p,J),p+=4,v(F,p,"iCCP"),p+=4,v(F,p,"ICC profile"),p+=11,p+=2,F.set(P,p),p+=P.length,A(F,p,R(F,p-(J+4),J+4)),p+=4}if(D.pHYs!=null&&(A(F,p,9),p+=4,v(F,p,"pHYs"),p+=4,A(F,p,D.pHYs[0]),p+=4,A(F,p,D.pHYs[1]),p+=4,F[p]=D.pHYs[2],p++,A(F,p,R(F,p-13,13)),p+=4),B&&(A(F,p,8),p+=4,v(F,p,"acTL"),p+=4,A(F,p,g.frames.length),p+=4,A(F,p,D.loop!=null?D.loop:0),p+=4,A(F,p,R(F,p-12,12)),p+=4),g.ctype==3){for(A(F,p,3*(H=g.plte.length)),p+=4,v(F,p,"PLTE"),p+=4,z=0;z<H;z++){const J=3*z,ne=g.plte[z],se=255&ne,ce=ne>>>8&255,_e=ne>>>16&255;F[p+J+0]=se,F[p+J+1]=ce,F[p+J+2]=_e}if(p+=3*H,A(F,p,R(F,p-3*H-4,3*H+4)),p+=4,N){for(A(F,p,H),p+=4,v(F,p,"tRNS"),p+=4,z=0;z<H;z++)F[p+z]=g.plte[z]>>>24&255;p+=H,A(F,p,R(F,p-H-4,H+4)),p+=4}}let ae=0;for(W=0;W<g.frames.length;W++){var K=g.frames[W];B&&(A(F,p,26),p+=4,v(F,p,"fcTL"),p+=4,A(F,p,ae++),p+=4,A(F,p,K.rect.width),p+=4,A(F,p,K.rect.height),p+=4,A(F,p,K.rect.x),p+=4,A(F,p,K.rect.y),p+=4,$(F,p,j[W]),p+=2,$(F,p,1e3),p+=2,F[p]=K.dispose,p++,F[p]=K.blend,p++,A(F,p,R(F,p-30,30)),p+=4);const J=K.cimg;A(F,p,(H=J.length)+(W==0?0:4)),p+=4;const ne=p;v(F,p,W==0?"IDAT":"fdAT"),p+=4,W!=0&&(A(F,p,ae++),p+=4),F.set(J,p),p+=H,A(F,p,R(F,ne,p-ne)),p+=4}return A(F,p,0),p+=4,v(F,p,"IEND"),p+=4,A(F,p,R(F,p-4,4)),p+=4,F.buffer}function y(g,h,C){for(let j=0;j<g.frames.length;j++){const D=g.frames[j];D.rect.width;const R=D.rect.height,A=new Uint8Array(R*D.bpl+R);D.cimg=u(D.img,R,D.bpp,D.bpl,A,h,C)}}function a(g,h,C,j,D){const R=D[0],A=D[1],$=D[2],v=D[3],p=D[4],B=D[5];let P=6,N=8,V=255;for(var H=0;H<g.length;H++){const fe=new Uint8Array(g[H]);for(var z=fe.length,W=0;W<z;W+=4)V&=fe[W+3]}const F=V!=255,Y=function(le,G,be,ge,pe,we){const ue=[];for(var oe=0;oe<le.length;oe++){const me=new Uint8Array(le[oe]),De=new Uint32Array(me.buffer);var ye;let Ae=0,Pe=0,Ue=G,Fe=be,ft=ge?1:0;if(oe!=0){const pt=we||ge||oe==1||ue[oe-2].dispose!=0?1:2;let at=0,_t=1e9;for(let it=0;it<pt;it++){var je=new Uint8Array(le[oe-1-it]);const Yt=new Uint32Array(le[oe-1-it]);let qe=G,Qe=be,st=-1,ht=-1;for(let lt=0;lt<be;lt++)for(let ct=0;ct<G;ct++)De[Ce=lt*G+ct]!=Yt[Ce]&&(ct<qe&&(qe=ct),ct>st&&(st=ct),lt<Qe&&(Qe=lt),lt>ht&&(ht=lt));st==-1&&(qe=Qe=st=ht=0),pe&&((1&qe)==1&&qe--,(1&Qe)==1&&Qe--);const Ft=(st-qe+1)*(ht-Qe+1);Ft<_t&&(_t=Ft,at=it,Ae=qe,Pe=Qe,Ue=st-qe+1,Fe=ht-Qe+1)}je=new Uint8Array(le[oe-1-at]),at==1&&(ue[oe-1].dispose=2),ye=new Uint8Array(Ue*Fe*4),e(je,G,be,ye,Ue,Fe,-Ae,-Pe,0),ft=e(me,G,be,ye,Ue,Fe,-Ae,-Pe,3)?1:0,ft==1?c(me,G,be,ye,{x:Ae,y:Pe,width:Ue,height:Fe}):e(me,G,be,ye,Ue,Fe,-Ae,-Pe,0)}else ye=me.slice(0);ue.push({rect:{x:Ae,y:Pe,width:Ue,height:Fe},img:ye,blend:ft,dispose:0})}if(ge)for(oe=0;oe<ue.length;oe++){if((Ve=ue[oe]).blend==1)continue;const me=Ve.rect,De=ue[oe-1].rect,Ae=Math.min(me.x,De.x),Pe=Math.min(me.y,De.y),Ue={x:Ae,y:Pe,width:Math.max(me.x+me.width,De.x+De.width)-Ae,height:Math.max(me.y+me.height,De.y+De.height)-Pe};ue[oe-1].dispose=1,oe-1!=0&&d(le,G,be,ue,oe-1,Ue,pe),d(le,G,be,ue,oe,Ue,pe)}let et=0;if(le.length!=1)for(var Ce=0;Ce<ue.length;Ce++){var Ve;et+=(Ve=ue[Ce]).rect.width*Ve.rect.height}return ue}(g,h,C,R,A,$),ae={},K=[],J=[];if(j!=0){const fe=[];for(W=0;W<Y.length;W++)fe.push(Y[W].img.buffer);const le=function(pe){let we=0;for(var ue=0;ue<pe.length;ue++)we+=pe[ue].byteLength;const oe=new Uint8Array(we);let ye=0;for(ue=0;ue<pe.length;ue++){const je=new Uint8Array(pe[ue]),et=je.length;for(let Ce=0;Ce<et;Ce+=4){let Ve=je[Ce],me=je[Ce+1],De=je[Ce+2];const Ae=je[Ce+3];Ae==0&&(Ve=me=De=0),oe[ye+Ce]=Ve,oe[ye+Ce+1]=me,oe[ye+Ce+2]=De,oe[ye+Ce+3]=Ae}ye+=et}return oe.buffer}(fe),G=T(le,j);for(W=0;W<G.plte.length;W++)K.push(G.plte[W].est.rgba);let be=0;for(W=0;W<Y.length;W++){const ge=(se=Y[W]).img.length;var ne=new Uint8Array(G.inds.buffer,be>>2,ge>>2);J.push(ne);const pe=new Uint8Array(G.abuf,be,ge);B&&i(se.img,se.rect.width,se.rect.height,K,pe,ne),se.img.set(pe),be+=ge}}else for(H=0;H<Y.length;H++){var se=Y[H];const fe=new Uint32Array(se.img.buffer);var ce=se.rect.width;for(z=fe.length,ne=new Uint8Array(z),J.push(ne),W=0;W<z;W++){const le=fe[W];if(W!=0&&le==fe[W-1])ne[W]=ne[W-1];else if(W>ce&&le==fe[W-ce])ne[W]=ne[W-ce];else{let G=ae[le];if(G==null&&(ae[le]=G=K.length,K.push(le),K.length>=300))break;ne[W]=G}}}const _e=K.length;for(_e<=256&&p==0&&(N=_e<=2?1:_e<=4?2:_e<=16?4:8,N=Math.max(N,v)),H=0;H<Y.length;H++){(se=Y[H]).rect.x,se.rect.y,ce=se.rect.width;const fe=se.rect.height;let le=se.img;new Uint32Array(le.buffer);let G=4*ce,be=4;if(_e<=256&&p==0){G=Math.ceil(N*ce/8);var xe=new Uint8Array(G*fe);const ge=J[H];for(let pe=0;pe<fe;pe++){W=pe*G;const we=pe*ce;if(N==8)for(var ie=0;ie<ce;ie++)xe[W+ie]=ge[we+ie];else if(N==4)for(ie=0;ie<ce;ie++)xe[W+(ie>>1)]|=ge[we+ie]<<4-4*(1&ie);else if(N==2)for(ie=0;ie<ce;ie++)xe[W+(ie>>2)]|=ge[we+ie]<<6-2*(3&ie);else if(N==1)for(ie=0;ie<ce;ie++)xe[W+(ie>>3)]|=ge[we+ie]<<7-1*(7&ie)}le=xe,P=3,be=1}else if(F==0&&Y.length==1){xe=new Uint8Array(ce*fe*3);const ge=ce*fe;for(W=0;W<ge;W++){const pe=3*W,we=4*W;xe[pe]=le[we],xe[pe+1]=le[we+1],xe[pe+2]=le[we+2]}le=xe,P=2,be=3,G=3*ce}se.img=le,se.bpl=G,se.bpp=be}return{ctype:P,depth:N,plte:K,frames:Y}}function d(g,h,C,j,D,R,A){const $=Uint8Array,v=Uint32Array,p=new $(g[D-1]),B=new v(g[D-1]),P=D+1<g.length?new $(g[D+1]):null,N=new $(g[D]),V=new v(N.buffer);let H=h,z=C,W=-1,F=-1;for(let ae=0;ae<R.height;ae++)for(let K=0;K<R.width;K++){const J=R.x+K,ne=R.y+ae,se=ne*h+J,ce=V[se];ce==0||j[D-1].dispose==0&&B[se]==ce&&(P==null||P[4*se+3]!=0)||(J<H&&(H=J),J>W&&(W=J),ne<z&&(z=ne),ne>F&&(F=ne))}W==-1&&(H=z=W=F=0),A&&((1&H)==1&&H--,(1&z)==1&&z--),R={x:H,y:z,width:W-H+1,height:F-z+1};const Y=j[D];Y.rect=R,Y.blend=1,Y.img=new Uint8Array(R.width*R.height*4),j[D-1].dispose==0?(e(p,h,C,Y.img,R.width,R.height,-R.x,-R.y,0),c(N,h,C,Y.img,R)):e(N,h,C,Y.img,R.width,R.height,-R.x,-R.y,0)}function c(g,h,C,j,D){e(g,h,C,j,D.width,D.height,-D.x,-D.y,2)}function u(g,h,C,j,D,R,A){const $=[];let v,p=[0,1,2,3,4];R!=-1?p=[R]:(h*j>5e5||C==1)&&(p=[0]),A&&(v={level:0});const B=cl;for(var P=0;P<p.length;P++){for(let H=0;H<h;H++)b(D,g,H,j,C,p[P]);$.push(B.deflate(D,v))}let N,V=1e9;for(P=0;P<$.length;P++)$[P].length<V&&(N=P,V=$[P].length);return $[N]}function b(g,h,C,j,D,R){const A=C*j;let $=A+C;if(g[$]=R,$++,R==0)if(j<500)for(var v=0;v<j;v++)g[$+v]=h[A+v];else g.set(new Uint8Array(h.buffer,A,j),$);else if(R==1){for(v=0;v<D;v++)g[$+v]=h[A+v];for(v=D;v<j;v++)g[$+v]=h[A+v]-h[A+v-D]+256&255}else if(C==0){for(v=0;v<D;v++)g[$+v]=h[A+v];if(R==2)for(v=D;v<j;v++)g[$+v]=h[A+v];if(R==3)for(v=D;v<j;v++)g[$+v]=h[A+v]-(h[A+v-D]>>1)+256&255;if(R==4)for(v=D;v<j;v++)g[$+v]=h[A+v]-s(h[A+v-D],0,0)+256&255}else{if(R==2)for(v=0;v<j;v++)g[$+v]=h[A+v]+256-h[A+v-j]&255;if(R==3){for(v=0;v<D;v++)g[$+v]=h[A+v]+256-(h[A+v-j]>>1)&255;for(v=D;v<j;v++)g[$+v]=h[A+v]+256-(h[A+v-j]+h[A+v-D]>>1)&255}if(R==4){for(v=0;v<D;v++)g[$+v]=h[A+v]+256-s(0,h[A+v-j],0)&255;for(v=D;v<j;v++)g[$+v]=h[A+v]+256-s(h[A+v-D],h[A+v-j],h[A+v-D-j])&255}}}function T(g,h){const C=new Uint8Array(g),j=C.slice(0),D=new Uint32Array(j.buffer),R=k(j,h),A=R[0],$=R[1],v=C.length,p=new Uint8Array(v>>2);let B;if(C.length<2e7)for(var P=0;P<v;P+=4)B=w(A,N=C[P]*(1/255),V=C[P+1]*(1/255),H=C[P+2]*(1/255),z=C[P+3]*(1/255)),p[P>>2]=B.ind,D[P>>2]=B.est.rgba;else for(P=0;P<v;P+=4){var N=C[P]*.00392156862745098,V=C[P+1]*(1/255),H=C[P+2]*(1/255),z=C[P+3]*(1/255);for(B=A;B.left;)B=U(B.est,N,V,H,z)<=0?B.left:B.right;p[P>>2]=B.ind,D[P>>2]=B.est.rgba}return{abuf:j.buffer,inds:p,plte:$}}function k(g,h,C){C==null&&(C=1e-4);const j=new Uint32Array(g.buffer),D={i0:0,i1:g.length,bst:null,est:null,tdst:0,left:null,right:null};D.bst=I(g,D.i0,D.i1),D.est=x(D.bst);const R=[D];for(;R.length<h;){let $=0,v=0;for(var A=0;A<R.length;A++)R[A].est.L>$&&($=R[A].est.L,v=A);if($<C)break;const p=R[v],B=M(g,j,p.i0,p.i1,p.est.e,p.est.eMq255);if(p.i0>=B||p.i1<=B){p.est.L=0;continue}const P={i0:p.i0,i1:B,bst:null,est:null,tdst:0,left:null,right:null};P.bst=I(g,P.i0,P.i1),P.est=x(P.bst);const N={i0:B,i1:p.i1,bst:null,est:null,tdst:0,left:null,right:null};for(N.bst={R:[],m:[],N:p.bst.N-P.bst.N},A=0;A<16;A++)N.bst.R[A]=p.bst.R[A]-P.bst.R[A];for(A=0;A<4;A++)N.bst.m[A]=p.bst.m[A]-P.bst.m[A];N.est=x(N.bst),p.left=P,p.right=N,R[v]=P,R.push(N)}for(R.sort(($,v)=>v.bst.N-$.bst.N),A=0;A<R.length;A++)R[A].ind=A;return[D,R]}function w(g,h,C,j,D){if(g.left==null)return g.tdst=function(P,N,V,H,z){const W=N-P[0],F=V-P[1],Y=H-P[2],ae=z-P[3];return W*W+F*F+Y*Y+ae*ae}(g.est.q,h,C,j,D),g;const R=U(g.est,h,C,j,D);let A=g.left,$=g.right;R>0&&(A=g.right,$=g.left);const v=w(A,h,C,j,D);if(v.tdst<=R*R)return v;const p=w($,h,C,j,D);return p.tdst<v.tdst?p:v}function U(g,h,C,j,D){const{e:R}=g;return R[0]*h+R[1]*C+R[2]*j+R[3]*D-g.eMq}function M(g,h,C,j,D,R){for(j-=4;C<j;){for(;S(g,C,D)<=R;)C+=4;for(;S(g,j,D)>R;)j-=4;if(C>=j)break;const A=h[C>>2];h[C>>2]=h[j>>2],h[j>>2]=A,C+=4,j-=4}for(;S(g,C,D)>R;)C-=4;return C+4}function S(g,h,C){return g[h]*C[0]+g[h+1]*C[1]+g[h+2]*C[2]+g[h+3]*C[3]}function I(g,h,C){const j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],D=[0,0,0,0],R=C-h>>2;for(let A=h;A<C;A+=4){const $=g[A]*.00392156862745098,v=g[A+1]*(1/255),p=g[A+2]*(1/255),B=g[A+3]*(1/255);D[0]+=$,D[1]+=v,D[2]+=p,D[3]+=B,j[0]+=$*$,j[1]+=$*v,j[2]+=$*p,j[3]+=$*B,j[5]+=v*v,j[6]+=v*p,j[7]+=v*B,j[10]+=p*p,j[11]+=p*B,j[15]+=B*B}return j[4]=j[1],j[8]=j[2],j[9]=j[6],j[12]=j[3],j[13]=j[7],j[14]=j[11],{R:j,m:D,N:R}}function x(g){const{R:h}=g,{m:C}=g,{N:j}=g,D=C[0],R=C[1],A=C[2],$=C[3],v=j==0?0:1/j,p=[h[0]-D*D*v,h[1]-D*R*v,h[2]-D*A*v,h[3]-D*$*v,h[4]-R*D*v,h[5]-R*R*v,h[6]-R*A*v,h[7]-R*$*v,h[8]-A*D*v,h[9]-A*R*v,h[10]-A*A*v,h[11]-A*$*v,h[12]-$*D*v,h[13]-$*R*v,h[14]-$*A*v,h[15]-$*$*v],B=p,P=O;let N=[Math.random(),Math.random(),Math.random(),Math.random()],V=0,H=0;if(j!=0)for(let W=0;W<16&&(N=P.multVec(B,N),H=Math.sqrt(P.dot(N,N)),N=P.sml(1/H,N),!(W!=0&&Math.abs(H-V)<1e-9));W++)V=H;const z=[D*v,R*v,A*v,$*v];return{Cov:p,q:z,e:N,L:V,eMq255:P.dot(P.sml(255,z),N),eMq:P.dot(N,z),rgba:(Math.round(255*z[3])<<24|Math.round(255*z[2])<<16|Math.round(255*z[1])<<8|Math.round(255*z[0])<<0)>>>0}}var O={multVec:(g,h)=>[g[0]*h[0]+g[1]*h[1]+g[2]*h[2]+g[3]*h[3],g[4]*h[0]+g[5]*h[1]+g[6]*h[2]+g[7]*h[3],g[8]*h[0]+g[9]*h[1]+g[10]*h[2]+g[11]*h[3],g[12]*h[0]+g[13]*h[1]+g[14]*h[2]+g[15]*h[3]],dot:(g,h)=>g[0]*h[0]+g[1]*h[1]+g[2]*h[2]+g[3]*h[3],sml:(g,h)=>[g*h[0],g*h[1],g*h[2],g*h[3]]};ut.encode=function(h,C,j,D,R,A,$){D==null&&(D=0),$==null&&($=!1);const v=a(h,C,j,D,[!1,!1,!1,0,$,!1]);return y(v,-1),f(v,C,j,R,A)},ut.encodeLL=function(h,C,j,D,R,A,$,v){const p={ctype:0+(D==1?0:2)+(R==0?0:4),depth:A,frames:[]},B=(D+R)*A,P=B*C;for(let N=0;N<h.length;N++)p.frames.push({rect:{x:0,y:0,width:C,height:j},img:new Uint8Array(h[N]),blend:0,dispose:1,bpp:Math.ceil(B/8),bpl:Math.ceil(P/8)});return y(p,0,!0),f(p,C,j,$,v)},ut.encode.compress=a,ut.encode.dither=i,ut.quantize=T,ut.quantize.getKDtree=k,ut.quantize.getNearest=w})();const no={toArrayBuffer(e,t){const s=e.width,o=e.height,r=s<<2,n=e.getContext("2d").getImageData(0,0,s,o),l=new Uint32Array(n.data.buffer),i=(32*s+31)/32<<2,f=i*o,y=122+f,a=new ArrayBuffer(y),d=new DataView(a),c=1<<20;let u,b,T,k,w=c,U=0,M=0,S=0;function I(g){d.setUint16(M,g,!0),M+=2}function x(g){d.setUint32(M,g,!0),M+=4}function O(g){M+=g}I(19778),x(y),O(4),x(122),x(108),x(s),x(-o>>>0),I(1),I(32),x(3),x(f),x(2835),x(2835),O(8),x(16711680),x(65280),x(255),x(4278190080),x(1466527264),function g(){for(;U<o&&w>0;){for(k=122+U*i,u=0;u<r;)w--,b=l[S++],T=b>>>24,d.setUint32(k+u,b<<8|T),u+=4;U++}S<l.length?(w=c,setTimeout(g,no._dly)):t(a)}()},toBlob(e,t){this.toArrayBuffer(e,s=>{t(new Blob([s],{type:"image/bmp"}))})},_dly:9};var Ne={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},dl={[Ne.CHROME]:16384,[Ne.FIREFOX]:11180,[Ne.DESKTOP_SAFARI]:16384,[Ne.IE]:8192,[Ne.IOS]:4096,[Ne.ETC]:8192};const Gr=typeof window<"u",oo=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,mr=Gr&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),ul=(Gr||oo)&&(mr&&mr.getOriginalSymbol(window,"File")||typeof File<"u"&&File),ao=(Gr||oo)&&(mr&&mr.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Zr(e,t,s=Date.now()){return new Promise(o=>{const r=e.split(","),n=r[0].match(/:(.*?);/)[1],l=globalThis.atob(r[1]);let i=l.length;const f=new Uint8Array(i);for(;i--;)f[i]=l.charCodeAt(i);const y=new Blob([f],{type:n});y.name=t,y.lastModified=s,o(y)})}function io(e){return new Promise((t,s)=>{const o=new ao;o.onload=()=>t(o.result),o.onerror=r=>s(r),o.readAsDataURL(e)})}function so(e){return new Promise((t,s)=>{const o=new Image;o.onload=()=>t(o),o.onerror=r=>s(r),o.src=e})}function Ot(){if(Ot.cachedResult!==void 0)return Ot.cachedResult;let e=Ne.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=Ne.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=Ne.IOS:/Safari/i.test(t)?e=Ne.DESKTOP_SAFARI:/Firefox/i.test(t)?e=Ne.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(e=Ne.IE),Ot.cachedResult=e,Ot.cachedResult}function lo(e,t){const s=Ot(),o=dl[s];let r=e,n=t,l=r*n;const i=r>n?n/r:r/n;for(;l>o*o;){const f=(o+r)/2,y=(o+n)/2;f<y?(n=y,r=y*i):(n=f*i,r=f),l=r*n}return{width:r,height:n}}function Cr(e,t){let s,o;try{if(s=new OffscreenCanvas(e,t),o=s.getContext("2d"),o===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{s=document.createElement("canvas"),o=s.getContext("2d")}return s.width=e,s.height=t,[s,o]}function co(e,t){const{width:s,height:o}=lo(e.width,e.height),[r,n]=Cr(s,o);return t&&/jpe?g/.test(t)&&(n.fillStyle="white",n.fillRect(0,0,r.width,r.height)),n.drawImage(e,0,0,r.width,r.height),r}function fr(){return fr.cachedResult!==void 0||(fr.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),fr.cachedResult}function br(e,t={}){return new Promise(function(s,o){let r,n;var l=function(){try{return n=co(r,t.fileType||e.type),s([r,n])}catch(f){return o(f)}},i=function(f){try{var y=function(a){try{throw a}catch(d){return o(d)}};try{let a;return io(e).then(function(d){try{return a=d,so(a).then(function(c){try{return r=c,function(){try{return l()}catch(u){return o(u)}}()}catch(u){return y(u)}},y)}catch(c){return y(c)}},y)}catch(a){y(a)}}catch(a){return o(a)}};try{if(fr()||[Ne.DESKTOP_SAFARI,Ne.MOBILE_SAFARI].includes(Ot()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(f){try{return r=f,l()}catch{return i()}},i)}catch{i()}})}function yr(e,t,s,o,r=1){return new Promise(function(n,l){let i;if(t==="image/png"){let y,a,d;return y=e.getContext("2d"),{data:a}=y.getImageData(0,0,e.width,e.height),d=ut.encode([a.buffer],e.width,e.height,4096*r),i=new Blob([d],{type:t}),i.name=s,i.lastModified=o,f.call(this)}{let y=function(){return f.call(this)};if(t==="image/bmp")return new Promise(a=>no.toBlob(e,a)).then((function(a){try{return i=a,i.name=s,i.lastModified=o,y.call(this)}catch(d){return l(d)}}).bind(this),l);{let a=function(){return y.call(this)};if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:r}).then((function(d){try{return i=d,i.name=s,i.lastModified=o,a.call(this)}catch(c){return l(c)}}).bind(this),l);{let d;return d=e.toDataURL(t,r),Zr(d,s,o).then((function(c){try{return i=c,a.call(this)}catch(u){return l(u)}}).bind(this),l)}}}function f(){return n(i)}})}function vt(e){e.width=0,e.height=0}function Nt(){return new Promise(function(e,t){let s,o,r,n;return Nt.cachedResult!==void 0?e(Nt.cachedResult):Zr("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(l){try{return s=l,br(s).then(function(i){try{return o=i[1],yr(o,s.type,s.name,s.lastModified).then(function(f){try{return r=f,vt(o),br(r).then(function(y){try{return n=y[0],Nt.cachedResult=n.width===1&&n.height===2,e(Nt.cachedResult)}catch(a){return t(a)}},t)}catch(y){return t(y)}},t)}catch(f){return t(f)}},t)}catch(i){return t(i)}},t)})}function uo(e){return new Promise((t,s)=>{const o=new ao;o.onload=r=>{const n=new DataView(r.target.result);if(n.getUint16(0,!1)!=65496)return t(-2);const l=n.byteLength;let i=2;for(;i<l;){if(n.getUint16(i+2,!1)<=8)return t(-1);const f=n.getUint16(i,!1);if(i+=2,f==65505){if(n.getUint32(i+=2,!1)!=1165519206)return t(-1);const y=n.getUint16(i+=6,!1)==18761;i+=n.getUint32(i+4,y);const a=n.getUint16(i,y);i+=2;for(let d=0;d<a;d++)if(n.getUint16(i+12*d,y)==274)return t(n.getUint16(i+12*d+8,y))}else{if((65280&f)!=65280)break;i+=n.getUint16(i,!1)}}return t(-1)},o.onerror=r=>s(r),o.readAsArrayBuffer(e)})}function fo(e,t){const{width:s}=e,{height:o}=e,{maxWidthOrHeight:r}=t;let n,l=e;return isFinite(r)&&(s>r||o>r)&&([l,n]=Cr(s,o),s>o?(l.width=r,l.height=o/s*r):(l.width=s/o*r,l.height=r),n.drawImage(e,0,0,l.width,l.height),vt(e)),l}function po(e,t){const{width:s}=e,{height:o}=e,[r,n]=Cr(s,o);switch(t>4&&t<9?(r.width=o,r.height=s):(r.width=s,r.height=o),t){case 2:n.transform(-1,0,0,1,s,0);break;case 3:n.transform(-1,0,0,-1,s,o);break;case 4:n.transform(1,0,0,-1,0,o);break;case 5:n.transform(0,1,1,0,0,0);break;case 6:n.transform(0,1,-1,0,o,0);break;case 7:n.transform(0,-1,-1,0,o,s);break;case 8:n.transform(0,-1,1,0,0,s)}return n.drawImage(e,0,0,s,o),vt(e),r}function On(e,t,s=0){return new Promise(function(o,r){let n,l,i,f,y,a,d,c,u,b,T,k,w,U,M,S,I,x,O,g;function h(j=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;n+=j,t.onProgress(Math.min(n,100))}function C(j){if(t.signal&&t.signal.aborted)throw t.signal.reason;n=Math.min(Math.max(j,n),100),t.onProgress(n)}return n=s,l=t.maxIteration||10,i=1024*t.maxSizeMB*1024,h(),br(e,t).then((function(j){try{return[,f]=j,h(),y=fo(f,t),h(),new Promise(function(D,R){var A;if(!(A=t.exifOrientation))return uo(e).then((function(v){try{return A=v,$.call(this)}catch(p){return R(p)}}).bind(this),R);function $(){return D(A)}return $.call(this)}).then((function(D){try{return a=D,h(),Nt().then((function(R){try{return d=R?y:po(y,a),h(),c=t.initialQuality||1,u=t.fileType||e.type,yr(d,u,e.name,e.lastModified,c).then((function(A){try{{let v=function(){if(l--&&(M>i||M>w)){let B,P;return B=g?.95*O.width:O.width,P=g?.95*O.height:O.height,[I,x]=Cr(B,P),x.drawImage(O,0,0,B,P),c*=u==="image/png"?.85:.95,yr(I,u,e.name,e.lastModified,c).then(function(N){try{return S=N,vt(O),O=I,M=S.size,C(Math.min(99,Math.floor((U-M)/(U-i)*100))),v}catch(V){return r(V)}},r)}return[1]},p=function(){return vt(O),vt(I),vt(y),vt(d),vt(f),C(100),o(S)};if(b=A,h(),T=b.size>i,k=b.size>e.size,!T&&!k)return C(100),o(b);var $;return w=e.size,U=b.size,M=U,O=d,g=!t.alwaysKeepResolution&&T,($=(function(B){for(;B;){if(B.then)return void B.then($,r);try{if(B.pop){if(B.length)return B.pop()?p.call(this):B;B=v}else B=B.call(this)}catch(P){return r(P)}}}).bind(this))(v)}}catch(v){return r(v)}}).bind(this),r)}catch(A){return r(A)}}).bind(this),r)}catch(R){return r(R)}}).bind(this),r)}catch(D){return r(D)}}).bind(this),r)})}const fl=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let kr;function pl(e,t){return new Promise((s,o)=>{kr||(kr=function(l){const i=[];return typeof l=="function"?i.push(`(${l})()`):i.push(l),URL.createObjectURL(new Blob(i))}(fl));const r=new Worker(kr);r.addEventListener("message",function(l){if(t.signal&&t.signal.aborted)r.terminate();else if(l.data.progress===void 0){if(l.data.error)return o(new Error(l.data.error)),void r.terminate();s(l.data.file),r.terminate()}else t.onProgress(l.data.progress)}),r.addEventListener("error",o),t.signal&&t.signal.addEventListener("abort",()=>{o(t.signal.reason),r.terminate()}),r.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})})}function Oe(e,t){return new Promise(function(s,o){let r,n,l,i,f,y;if(r={...t},l=0,{onProgress:i}=r,r.maxSizeMB=r.maxSizeMB||Number.POSITIVE_INFINITY,f=typeof r.useWebWorker!="boolean"||r.useWebWorker,delete r.useWebWorker,r.onProgress=u=>{l=u,typeof i=="function"&&i(l)},!(e instanceof Blob||e instanceof ul))return o(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return o(new Error("The file given is not an image"));if(y=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!f||typeof Worker!="function"||y)return On(e,r).then((function(u){try{return n=u,c.call(this)}catch(b){return o(b)}}).bind(this),o);var a=(function(){try{return c.call(this)}catch(u){return o(u)}}).bind(this),d=function(u){try{return On(e,r).then(function(b){try{return n=b,a()}catch(T){return o(T)}},o)}catch(b){return o(b)}};try{return r.libURL=r.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",pl(e,r).then(function(u){try{return n=u,a()}catch{return d()}},d)}catch{d()}function c(){try{n.name=e.name,n.lastModified=e.lastModified}catch{}try{r.preserveExif&&e.type==="image/jpeg"&&(!r.fileType||r.fileType&&r.fileType===e.type)&&(n=ro(e,n))}catch{}return s(n)}})}Oe.getDataUrlFromFile=io,Oe.getFilefromDataUrl=Zr,Oe.loadImage=so,Oe.drawImageInCanvas=co,Oe.drawFileInCanvas=br,Oe.canvasToFile=yr,Oe.getExifOrientation=uo,Oe.handleMaxWidthOrHeight=fo,Oe.followExifOrientation=po,Oe.cleanupCanvasMemory=vt,Oe.isAutoOrientationInBrowser=Nt,Oe.approximateBelowMaximumCanvasSizeOfBrowser=lo,Oe.copyExifWithoutOrientation=ro,Oe.getBrowserName=Ot,Oe.version="2.0.2";var Jr={},hl=Ct;Object.defineProperty(Jr,"__esModule",{value:!0});var ho=Jr.default=void 0,gl=hl(Tt()),In=m;ho=Jr.default=(0,gl.default)([(0,In.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"},"0"),(0,In.jsx)("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"},"1")],"ZoomIn");var en={},vl=Ct;Object.defineProperty(en,"__esModule",{value:!0});var go=en.default=void 0,ml=vl(Tt()),bl=m;go=en.default=(0,ml.default)((0,bl.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14M7 9h5v1H7z"}),"ZoomOut");var tn={},yl=Ct;Object.defineProperty(tn,"__esModule",{value:!0});var vo=tn.default=void 0,xl=yl(Tt()),wl=m;vo=tn.default=(0,xl.default)((0,wl.jsx)("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen");var rn={},Cl=Ct;Object.defineProperty(rn,"__esModule",{value:!0});var mo=rn.default=void 0,Tl=Cl(Tt()),jl=m;mo=rn.default=(0,Tl.default)((0,jl.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");const pr=({path:e,imageUrl:t,setImageUrl:s,imageStoragePath:o,setImageStoragePath:r,imageTitle:n,setImageTitle:l,onDelete:i})=>{const[f,y]=_.useState(!1),[a,d]=_.useState(0),[c,u]=_.useState(!1),[b,T]=_.useState(1),k=_.useRef(null),w=_.useRef(null),[U,M]=_.useState(!1),[S,I]=_.useState(!1),[x,O]=_.useState(""),[g,h]=_.useState("info"),C=async v=>{const p=v.target.files[0];if(!p)return;const B={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};try{let P=p;p.size>1024*1024&&(P=await Oe(p,B),O("Your image was compressed before uploading due to file size larger than 1 MB."),h("info"),I(!0)),y(!0);const V=`${new Date().getTime()}-${P.name}`,H=ln(),z=cn(H,`${e}/${V}`),W=Ao(z,P);W.on("state_changed",F=>{const Y=F.bytesTransferred/F.totalBytes*100;d(Y)},F=>{console.error("Upload failed:",F),y(!1),d(0)},()=>{So(W.snapshot.ref).then(F=>{s(F),r(z.fullPath),y(!1),d(0),k.current&&(k.current.value="")})})}catch(P){console.error("Error processing image:",P),y(!1),d(0)}},j=()=>{M(!U)},D=async()=>{if(!o)return;const v=ln(),p=cn(v,o);try{await Do(p),console.log("Image deleted successfully"),s(""),r(""),l(""),i(),O("The image has been deleted."),h("success"),I(!0)}catch(B){console.error("Error removing file: ",B),O("There was an issue deleting your image."),h("error"),I(!0)}},R=()=>T(b*1.2),A=()=>T(b/1.2);_.useEffect(()=>{const v=()=>{const p=!!document.fullscreenElement;M(p),document.body.style.backgroundColor=p?"white":""};return document.addEventListener("fullscreenchange",v),()=>{document.removeEventListener("fullscreenchange",v)}},[]);const $=(v,p)=>{p!=="clickaway"&&I(!1)};return m.jsxs("div",{children:[m.jsx("input",{type:"file",onChange:C,disabled:f,ref:k}),f&&m.jsxs(m.Fragment,{children:[m.jsxs("p",{children:["Uploading... ",Math.round(a),"%"]}),m.jsx("div",{style:{width:"100%",backgroundColor:"#ddd"},children:m.jsx("div",{style:{height:"20px",width:`${a}%`,backgroundColor:"green"}})})]}),t&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("img",{ref:w,src:t,alt:"Design",onClick:()=>u(!0),style:{width:"100%",maxHeight:"300px",objectFit:"contain",cursor:"pointer"}}),m.jsx(xt,{onClick:D,style:{marginLeft:"10px"},children:m.jsx(nr,{})})]}),m.jsx("label",{htmlFor:"imageTitle",style:{display:"block",marginTop:"10px"}}),m.jsx("textarea",{id:"imageTitle",name:"imageTitle",value:n,onChange:v=>l(v.target.value),rows:"2",style:{width:"100%"},placeholder:"Figure."})]}),m.jsx(Dt,{open:c,onClose:()=>u(!1),fullScreen:U,PaperProps:{style:{backgroundColor:"white",boxShadow:"none",maxWidth:U?"none":void 0,maxHeight:U?"none":void 0,height:U?"100%":void 0,width:U?"100%":void 0,overflowY:"auto"}},children:m.jsxs(kt,{children:[m.jsx("div",{style:{textAlign:"center"},children:m.jsx("img",{src:t,alt:"Zoomed Design",style:{maxWidth:"100%",maxHeight:U?"100vh":void 0,transform:`scale(${b})`,transition:"transform 0.2s ease-out"}})}),m.jsxs("div",{style:{textAlign:"center",marginTop:"20px"},children:[m.jsx(xt,{onClick:R,children:m.jsx(ho,{})}),m.jsx(xt,{onClick:A,style:{marginLeft:"10px"},children:m.jsx(go,{})}),m.jsx(xt,{onClick:j,style:{marginLeft:"10px"},children:m.jsx(vo,{})}),U&&m.jsx(xt,{onClick:j,style:{position:"absolute",top:20,right:20},children:m.jsx(mo,{})})]})]})}),m.jsx($t,{open:S,autoHideDuration:6e3,onClose:$,children:m.jsx(Rt,{onClose:$,severity:g,sx:{width:"100%"},children:x})})]})},Al=({designs:e,setDesigns:t,setIsAdding:s,getDesigns:o,onReturnToDashboard:r})=>{const{userDetails:n}=qt();console.log("Add Design loaded");const[l,i]=_.useState(""),[f,y]=_.useState(""),[a,d]=_.useState(""),[c,u]=_.useState(""),[b,T]=_.useState(""),[k,w]=_.useState(""),[U,M]=_.useState(!1),[S,I]=_.useState(""),[x,O]=_.useState("info"),[g,h]=_.useState(!1),[C,j]=_.useState("");console.log("Adding New Design from user:",n);const D=()=>{h(!1)},R=($,v)=>{v!=="clickaway"&&M(!1)},A=async $=>{if($.preventDefault(),!n||!n.uid){console.error("User object is undefined or missing UID."),j("You must be signed in to add a design."),h(!0);return}if(!l||!f){j("All fields are required."),h(!0);return}const v={title:a,description:l,dateDue:Un.fromDate(new Date(f)),dateCreated:_r(),imageUrl:c,imageStoragePath:b,imageTitle:k,userId:n.uid};try{await Fr(tt(ve,"designs"),v),t([...e,v]),setTimeout(()=>{s(!1),o()},1e3),I(`${a} has been Added.`),O("success"),M(!0),d(""),i(""),y(""),u(""),T(""),w("")}catch(p){console.log(p),j("There was an issue adding your design."),h(!0)}};return m.jsxs("div",{className:"small-container",children:[m.jsx("button",{onClick:r,className:"muted-button margin-top-20",children:"← All Designs"}),m.jsxs("form",{onSubmit:A,children:[m.jsx("h1",{children:"Create Design"}),m.jsx("label",{htmlFor:"title",children:"Title"}),m.jsx("input",{id:"title",type:"text",name:"title",value:a,onChange:$=>d($.target.value)}),m.jsx("label",{htmlFor:"description",children:"Description"}),m.jsxs("ul",{children:[m.jsx("li",{children:"Objective: What is the goal for this design?"}),m.jsx("li",{children:"Rationale: Why is this new design being done?"}),m.jsx("li",{children:"Selected Target Identified: What is the target for the design being made?"}),m.jsx("li",{children:"Functional Modification: What is being done to this target?"}),m.jsx("li",{children:"Overview/Plan for making the modification: What are the steps to be carried out to meet the objective?"})]}),m.jsx("textarea",{id:"description",name:"description",value:l,onChange:$=>i($.target.value),rows:"10",style:{width:"100%"}}),m.jsx("label",{htmlFor:"file",children:"Image"}),m.jsx(pr,{path:"designs",imageUrl:c,setImageUrl:u,imageStoragePath:b,setImageStoragePath:T,imageTitle:k,setImageTitle:w,onDelete:()=>{u(""),T(""),w("")}}),m.jsx("label",{htmlFor:"dateDue",children:"Due Date"}),m.jsx("input",{id:"date",type:"date",name:"date",value:f,onChange:$=>y($.target.value)}),m.jsxs("div",{style:{marginTop:"30px"},children:[m.jsx("input",{type:"submit",value:"Add"}),m.jsx("input",{style:{marginLeft:"12px"},className:"muted-button",type:"button",value:"Cancel",onClick:()=>s(!1)})]})]}),m.jsxs(Dt,{open:g,onClose:D,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[m.jsx(Et,{id:"alert-dialog-title",children:"Notification"}),m.jsx(kt,{children:m.jsx(Qt,{id:"alert-dialog-description",children:C})}),m.jsx(Ut,{children:m.jsx(Xe,{onClick:D,autoFocus:!0,children:"Ok"})})]}),m.jsx($t,{open:U,autoHideDuration:1e3,onClose:R,children:m.jsx(Rt,{onClose:R,severity:x,sx:{width:"100%"},children:S})})]})},Sl=({designId:e,setIsAddingBuild:t,refreshBuilds:s})=>{const[o,r]=_.useState(""),[n,l]=_.useState(""),{userDetails:i}=qt();console.log("AddBuild loaded");const[f,y]=_.useState(!1),[a,d]=_.useState(""),[c,u]=_.useState(!1),[b,T]=_.useState(""),[k,w]=_.useState("info");console.log("Adding New Build by user:",i);const U=()=>{y(!1)},M=(I,x)=>{x!=="clickaway"&&u(!1)},S=async I=>{if(I.preventDefault(),!i||!i.uid){console.error("UserDetails object is undefined or missing UID."),d("You must be signed in to add a build."),y(!0);return}if(!n){d("Build description is required."),y(!0);return}try{const x=await Fr(tt(ve,"builds"),{title:o,description:n,design_ID:e,dateCreated:_r(),userId:i.uid});console.log("Build added with ID: ",x.id),console.log("Added New Build by user:",i),T("Your build has been successfully added."),w("success"),u(!0),setTimeout(()=>{r(""),l(""),t(!1),s()},1e3)}catch(x){console.error("Error adding build: ",x);let O=`Failed to add the build. ${x.message||"Please try again later."}`;x.code==="permission-denied"&&(O="You do not have permission to perform this operation."),T(O),w("error"),u(!0)}};return m.jsxs("div",{className:"small-container",children:[m.jsxs("form",{onSubmit:S,children:[m.jsx("label",{htmlFor:"buildTitle",children:"Title"}),m.jsx("input",{id:"buildTitle",type:"text",value:o,onChange:I=>r(I.target.value),style:{width:"100%",marginBottom:"20px"}}),m.jsx("label",{htmlFor:"buildDescription",children:"Description"}),m.jsx("textarea",{id:"buildDescription",value:n,onChange:I=>l(I.target.value),rows:"4",style:{width:"100%"}}),m.jsxs("div",{className:"flex-space-between",children:[m.jsx("input",{type:"submit",value:"Save",className:"button muted-button"}),m.jsx("button",{onClick:()=>t(!1),className:"button muted-button",children:"Cancel"})]})]}),m.jsxs(Dt,{open:f,onClose:U,children:[m.jsx(Et,{children:"Notification"}),m.jsx(kt,{children:m.jsx(Qt,{children:a})}),m.jsx(Ut,{children:m.jsx(Xe,{onClick:U,children:"OK"})})]}),m.jsx($t,{open:c,autoHideDuration:6e3,onClose:M,children:m.jsx(Rt,{onClose:M,severity:k,sx:{width:"100%"},children:b})})]})},Dl=({designId:e,buildId:t,refreshTests:s,setAddingTestIdForBuild:o})=>{const[r,n]=_.useState(""),[l,i]=_.useState(""),[f,y]=_.useState(""),[a,d]=_.useState(""),{userDetails:c}=qt();console.log("AddTest loaded");const[u,b]=_.useState(!1),[T,k]=_.useState(""),[w,U]=_.useState(!1),[M,S]=_.useState(""),[I,x]=_.useState("info"),O=async()=>{if(!l){k("Test description cannot be empty!"),b(!0);return}try{await Fr(tt(ve,"tests"),{title:r,build_ID:t,design_ID:e,dateCreated:_r(),description:l,results:f,conclusions:a,userId:c.uid}),setTimeout(()=>{s(t),n(""),i(""),y(""),d(""),o(null)},1e3),S("Test added successfully"),x("success"),U(!0)}catch(g){console.error("Error adding test: ",g),S("Failed to add the test"),x("error"),U(!0)}};return m.jsxs("div",{children:[m.jsx("textarea",{placeholder:"Test Title",value:r,onChange:g=>n(g.target.value),style:{width:"100%",margin:"10px 0"}}),m.jsx("textarea",{placeholder:"Describe the test",value:l,onChange:g=>i(g.target.value),rows:"4",style:{width:"100%"}}),m.jsx("textarea",{placeholder:"Test Results",value:f,onChange:g=>y(g.target.value),rows:"4",style:{width:"100%",margin:"10px 0"}}),m.jsx("textarea",{placeholder:"Test Conclusions",value:a,onChange:g=>d(g.target.value),rows:"4",style:{width:"100%",margin:"10px 0"}}),m.jsxs("div",{className:"flex-space-between",children:[m.jsx("button",{onClick:O,className:"button muted-button",children:"Save"}),m.jsx("button",{onClick:()=>o(null),className:"button muted-button",children:"Cancel"})]}),m.jsxs(Dt,{open:u,onClose:()=>b(!1),children:[m.jsx(Et,{children:"Notification"}),m.jsx(kt,{children:m.jsx(Qt,{children:T})}),m.jsx(Ut,{children:m.jsx(Xe,{onClick:()=>b(!1),children:"OK"})})]}),m.jsx($t,{open:w,autoHideDuration:6e3,onClose:()=>U(!1),children:m.jsx(Rt,{onClose:()=>U(!1),severity:I,sx:{width:"100%"},children:M})})]})};var nn={},kl=Ct;Object.defineProperty(nn,"__esModule",{value:!0});var Mr=nn.default=void 0,Rl=kl(Tt()),$l=m;Mr=nn.default=(0,Rl.default)((0,$l.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");var on={},Pl=Ct;Object.defineProperty(on,"__esModule",{value:!0});var Ur=on.default=void 0,Ol=Pl(Tt()),Il=m;Ur=on.default=(0,Ol.default)((0,Il.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff");var an={},Ml=Ct;Object.defineProperty(an,"__esModule",{value:!0});var Er=an.default=void 0,Ul=Ml(Tt()),El=m;Er=an.default=(0,Ul.default)((0,El.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save");const _l=({selectedDesign:e,setIsEditing:t,getDesigns:s,onReturnToDashboard:o})=>{const{userDetails:r,loading:n}=qt();console.log("Edit page loaded");const l=e.id,[i,f]=_.useState(e.description),[y,a]=_.useState(e.dateDue||""),[d,c]=_.useState(""),[u,b]=_.useState(!1),[T,k]=_.useState([]),[w,U]=_.useState({}),[M,S]=_.useState(null),[I,x]=_.useState({}),[O,g]=_.useState({}),[h,C]=_.useState({}),[j,D]=_.useState({}),[R,A]=_.useState(""),[$,v]=_.useState(""),[p,B]=_.useState(""),[P,N]=_.useState({}),[V,H]=_.useState({}),z=_.useRef(null),W=_.useRef(null),[F,Y]=_.useState(!1),[ae,K]=_.useState(""),[J,ne]=_.useState(()=>{}),[se,ce]=_.useState(!1),[_e,xe]=_.useState(""),[ie,fe]=_.useState("info"),[le,G]=_.useState({design:!1,builds:!1,tests:!1}),[be,ge]=_.useState({}),[pe,we]=_.useState({}),[ue,oe]=_.useState({}),[ye,je]=_.useState({});console.log("Editing Design by user:",r);const et=(E,q)=>{oe(L=>({...L,[E]:q}))},Ce=(E,q)=>{je(L=>({...L,[E]:q}))},Ve=async E=>{const q=ue[E];try{const L=$e(ve,"builds",E);await gt(L,{title:q},{merge:!0}),oe(Z=>{const X={...Z};return delete X[E],X}),pt()}catch(L){console.error("Failed to save build title:",L)}},me=async(E,q)=>{const L=ye[E],Z=$e(ve,"tests",E);await gt(Z,{title:L},{merge:!0}),je(X=>{const re={...X};return delete re[E],re}),at(q)},De=(E,q)=>{x(L=>({...L,[E]:q})),G(L=>({...L,builds:!0}))},Ae=(E,q)=>{g(L=>({...L,[E]:q})),G(L=>({...L,tests:!0}))},Pe=async E=>{const q=$e(ve,"builds",E);await gt(q,{description:I[E]},{merge:!0}),xe("Your build has been updated."),fe("success"),ce(!0),pt(),G(L=>({...L,builds:!1}))},Ue=async(E,q)=>{const L={};if(O[E]!==void 0&&(L.description=O[E]),h[E]!==void 0&&(L.results=h[E]),j[E]!==void 0&&(L.conclusions=j[E]),Object.keys(L).length>0){const Z=$e(ve,"tests",E);try{await gt(Z,L,{merge:!0}),console.log(`Successfully updated test ID: ${E}`),xe("Your test has been updated."),fe("success"),ce(!0),await at(q)}catch(X){console.error(`Error updating test ID: ${E}:`,X),xe("There was an issue updating your test."),fe("error"),ce(!0)}}G(Z=>({...Z,tests:!1}))},Fe=(E,q)=>{C(L=>({...L,[E]:q})),G(L=>({...L,tests:!0}))},ft=(E,q)=>{D(L=>({...L,[E]:q})),G(L=>({...L,tests:!0}))};_.useEffect(()=>{if(e){f(e.description||""),c(e.title||""),(async()=>{const L=$e(ve,"designs",l),Z=await ko(L);if(Z.exists()){const X=Z.data();A(X.imageUrl||""),v(X.imageStoragePath||""),B(X.imageTitle||"")}})();let q;e.dateDue?(typeof e.dateDue=="string"?q=e.dateDue:e.dateDue.toDate&&(q=e.dateDue.toDate().toISOString().split("T")[0]),a(q)):a("")}},[e,l]),_.useEffect(()=>{!n&&r&&(async()=>{if(!r)return;const q=yt(tt(ve,"builds"),Ee("design_ID","==",l),Ee("userId","==",r.uid),Bt("dateCreated")),Z=(await At(q)).docs.map(Be=>({id:Be.id,...Be.data()}));let X={},re={},he={},ke={},Re={},dt={};for(const Be of Z){X[Be.id]={imageUrl:Be.imageUrl||"",imageStoragePath:Be.imageStoragePath||"",imageTitle:Be.imageTitle||""};const Xt=yt(tt(ve,"tests"),Ee("build_ID","==",Be.id),Ee("userId","==",r.uid),Bt("dateCreated")),jr=(await At(Xt)).docs.map(jt=>{const ee=jt.data();return Re[jt.id]={imageUrl:ee.imageUrl||"",imageStoragePath:ee.imageStoragePath||"",imageTitle:ee.imageTitle||""},dt[jt.id]=ee.description||"",he[jt.id]=ee.results||"",ke[jt.id]=ee.conclusions||"",{id:jt.id,...ee}});re[Be.id]=jr}k(Z),N(X),U(re),g(dt),C(he),D(ke),H(Re)})()},[n,r,e.id,l]);const pt=async()=>{if(!r){console.log("User details not loaded yet");return}try{console.log("Refreshing builds for user UID:",r==null?void 0:r.uid),console.log("Selected design ID for query:",e==null?void 0:e.id);const E=yt(tt(ve,"builds"),Ee("design_ID","==",l),Ee("userId","==",r.uid),Bt("dateCreated"));console.log("Builds query details:",JSON.stringify(E,null,2));const q=await At(E);console.log("Builds snapshot details:",JSON.stringify(q.docs.map(Z=>Z.data()),null,2)),console.log("Builds query successful, number of builds fetched: ",q.docs.length);const L=q.docs.map(Z=>(console.log("Build doc path: ",Z.ref.path),{id:Z.id,...Z.data()}));k(L),console.log("New builds state after refresh:",L)}catch(E){console.error("Error refreshing builds:",E),E.code==="permission-denied"?console.error("Permission denied when trying to refresh builds:",E):console.error("An unexpected error occurred when trying to refresh builds:",E)}},at=async E=>{if(!r){console.log("User details not loaded yet");return}const q=yt(tt(ve,"tests"),Ee("build_ID","==",E),Ee("userId","==",r.uid),Bt("dateCreated")),Z=(await At(q)).docs.map(X=>({id:X.id,...X.data()}));U(X=>({...X,[E]:Z}))},_t=async E=>{if(E.preventDefault(),!i||!y){K("All fields are required."),Y(!0);return}let q={title:d,description:i,dateDue:Un.fromDate(new Date(y)),imageUrl:R,imageStoragePath:$,imageTitle:p,userId:r.uid};try{await gt($e(ve,"designs",l),q,{merge:!0}),xe("Your design has been updated."),fe("success"),ce(!0)}catch(L){console.error("Error updating design:",L),xe("There was an issue updating your design."),fe("error"),ce(!0)}G(L=>({...L,design:!1}))},it=async(E,q,L,Z)=>{const X=$e(ve,"builds",E),re={...q!==void 0&&{imageUrl:q},...L!==void 0&&{imageStoragePath:L},...Z!==void 0&&{imageTitle:Z}};Object.keys(re).length>0&&await gt(X,re,{merge:!0})},Yt=async()=>{try{const E=$e(ve,"designs",l);await gt(E,{imageUrl:"",imageStoragePath:"",imageTitle:""},{merge:!0}),A(""),v(""),B(""),console.log("Design image references removed from Firestore.")}catch(E){console.error("Failed to update design document in Firestore:",E)}},qe=async E=>{const q=$e(ve,"builds",E);await gt(q,{imageUrl:"",imageStoragePath:"",imageTitle:""},{merge:!0})},Qe=E=>{var q,L,Z;return m.jsx(pr,{path:`builds/${E.id}/images`,imageUrl:((q=P[E.id])==null?void 0:q.imageUrl)||"",setImageUrl:X=>{N(re=>{const he={...re,[E.id]:{...re[E.id],imageUrl:X}};return it(E.id,X,he[E.id].imageStoragePath,he[E.id].imageTitle),he})},imageStoragePath:((L=P[E.id])==null?void 0:L.imageStoragePath)||"",setImageStoragePath:X=>{N(re=>{const he={...re,[E.id]:{...re[E.id],imageStoragePath:X}};return it(E.id,he[E.id].imageUrl,X,he[E.id].imageTitle),he})},imageTitle:((Z=P[E.id])==null?void 0:Z.imageTitle)||"",setImageTitle:X=>{N(re=>{const he={...re,[E.id]:{...re[E.id],imageTitle:X}};return it(E.id,he[E.id].imageUrl,he[E.id].imageStoragePath,X),he})},onDelete:()=>qe(E.id)})},st=async E=>{const q=$e(ve,"tests",E);await gt(q,{imageUrl:"",imageStoragePath:"",imageTitle:""},{merge:!0})},ht=()=>{const E=Object.entries(le).filter(([L,Z])=>Z).map(([L])=>L).join(", ");if(!E.length){o();return}const q=`You have unsaved changes in the following sections: ${E}. Are you sure you want to leave?`;K(q),ne(()=>()=>{G({design:!1,builds:!1,tests:!1}),o()}),Y(!0)};_.useEffect(()=>{const E=q=>{Object.values(le).some(Z=>Z)&&(q.preventDefault(),q.returnValue="")};return window.addEventListener("beforeunload",E),()=>window.removeEventListener("beforeunload",E)},[le]);const Ft=async E=>{const q=yt(tt(ve,"tests"),Ee("build_ID","==",E),Ee("userId","==",r.uid)),L=await At(q);for(const Z of L.docs)await Lt($e(ve,"tests",Z.id));await Lt($e(ve,"builds",E)),await pt(),xe("Build and its tests (if any) deleted successfully."),fe("success"),ce(!0)},lt=async(E,q)=>{await Lt($e(ve,"tests",E)),await at(q),xe("Test deleted successfully."),fe("success"),ce(!0)},ct=E=>{K("Are you sure you want to delete this build and all associated tests? This action cannot be undone."),ne(()=>()=>Ft(E)),Y(!0)},Kt=(E,q)=>{K("Are you sure you want to delete this test? This action cannot be undone."),ne(()=>()=>lt(E,q)),Y(!0)},Tr=E=>{var L,Z,X;const q=async(re,he,ke,Re)=>{const dt={};if(typeof he<"u"&&(dt.imageUrl=he),typeof ke<"u"&&(dt.imageStoragePath=ke),typeof Re<"u"&&(dt.imageTitle=Re),Object.keys(dt).length===0){console.log("No data to update for testId:",re);return}const Be=$e(ve,"tests",re);try{await gt(Be,dt,{merge:!0}),console.log("Firestore updated successfully for testId:",re)}catch(Xt){console.error("Error updating Firestore for testId:",re,Xt)}};return m.jsx(pr,{path:`tests/${E.id}/images`,imageUrl:((L=V[E.id])==null?void 0:L.imageUrl)||"",setImageUrl:re=>{var he,ke;H(Re=>({...Re,[E.id]:{...Re[E.id],imageUrl:re}})),q(E.id,re,(he=V[E.id])==null?void 0:he.imageStoragePath,(ke=V[E.id])==null?void 0:ke.imageTitle)},imageStoragePath:((Z=V[E.id])==null?void 0:Z.imageStoragePath)||"",setImageStoragePath:re=>{var he,ke;H(Re=>({...Re,[E.id]:{...Re[E.id],imageStoragePath:re}})),q(E.id,(he=V[E.id])==null?void 0:he.imageUrl,re,(ke=V[E.id])==null?void 0:ke.imageTitle)},imageTitle:((X=V[E.id])==null?void 0:X.imageTitle)||"",setImageTitle:re=>{var he,ke;H(Re=>({...Re,[E.id]:{...Re[E.id],imageTitle:re}})),q(E.id,(he=V[E.id])==null?void 0:he.imageUrl,(ke=V[E.id])==null?void 0:ke.imageStoragePath,re)},onDelete:()=>st(E.id)})};return m.jsxs("div",{className:"small-container",children:[m.jsx("button",{onClick:()=>{Object.values(le).some(q=>q)?ht():o()},className:"muted-button margin-top-20",children:"← All Designs"}),m.jsx("div",{className:"design-record",children:m.jsxs("form",{onSubmit:_t,children:[m.jsx("h1",{children:"Design Document"}),m.jsx("div",{style:{marginBottom:"20px"}}),m.jsx("label",{htmlFor:"title",style:{textDecoration:"underline"},children:"Title"}),m.jsx("input",{id:"title",type:"text",name:"title",value:d,onChange:E=>{c(E.target.value),G(q=>({...q,design:!0}))}}),m.jsx("label",{htmlFor:"description",style:{textDecoration:"underline"},children:"Description"}),m.jsxs("ul",{children:[m.jsx("li",{children:"Objective: What is the goal for this design?"}),m.jsx("li",{children:"Rationale: Why is this new design being done?"}),m.jsx("li",{children:"Selected Target: What is the target for the design being made?"}),m.jsx("li",{children:"Functional Modification: What is being done to this target?"}),m.jsx("li",{children:"Overview/Plan for making the modification: What are the steps to be carried out to meet the objective?"})]}),m.jsx("textarea",{id:"description",name:"description",value:i,onChange:E=>{f(E.target.value),G(q=>({...q,design:!0}))},rows:"10",style:{width:"100%"}}),m.jsx("label",{htmlFor:"file",style:{textDecoration:"underline"},children:"Image"}),m.jsx(pr,{path:`designs/${l}`,imageUrl:R,setImageUrl:A,imageStoragePath:$,setImageStoragePath:v,imageTitle:p,setImageTitle:B,onDelete:Yt}),m.jsx("label",{htmlFor:"dateDue",style:{textDecoration:"underline"},children:"Due Date"}),m.jsx("input",{id:"dateDue",type:"date",name:"dateDue",value:y,onChange:E=>{a(E.target.value),G(q=>({...q,design:!0}))}}),m.jsxs("div",{style:{marginTop:"30px"},children:[m.jsx("input",{type:"submit",value:"Update"}),m.jsx("button",{style:{marginLeft:"12px"},className:"muted-button",type:"button",onClick:()=>t(!1),children:"Cancel"})]})]})}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex-space-between",children:[m.jsx("h2",{children:"Builds"}),m.jsxs("button",{className:"button muted-button",onClick:()=>{b(!0),setTimeout(()=>{z.current&&z.current.scrollIntoView({behavior:"smooth"})},100)},style:{marginTop:"20px"},children:[m.jsx("span",{role:"img","aria-label":"Add Build",children:"➕"})," Build"]})]}),T.map((E,q)=>m.jsxs("div",{className:"build-record",children:[m.jsxs("div",{className:"flex-space-between align-items-center",children:[m.jsx("div",{children:ue[E.id]!==void 0?m.jsx(Rr,{variant:"outlined",size:"small",fullWidth:!0,value:ue[E.id],onChange:L=>et(E.id,L.target.value),onBlur:()=>Ve(E.id),autoFocus:!0,InputProps:{endAdornment:m.jsx(xt,{onClick:()=>Ve(E.id),size:"small",children:m.jsx(Er,{})})}}):m.jsx("div",{className:"editableTitle",onClick:()=>oe(L=>({...L,[E.id]:E.title||`Build ${q+1}`})),style:{cursor:"pointer"},children:E.title||`Build ${q+1}`})}),m.jsxs("div",{children:[m.jsx("button",{onClick:()=>ge(L=>({...L,[E.id]:!L[E.id]})),className:"button muted-button",style:{border:"none",background:"none"},children:be[E.id]?m.jsx(Ur,{}):m.jsx(Mr,{})}),m.jsx("button",{className:"button muted-button",style:{border:"none",background:"none"},onClick:()=>ct(E.id),children:m.jsx(nr,{})}),m.jsxs("button",{className:"button muted-button",onClick:()=>{S(E.id),setTimeout(()=>{W.current&&W.current.scrollIntoView({behavior:"smooth"})},100)},children:[m.jsx("span",{role:"img","aria-label":"Add Test",children:"➕"})," Test"]})]})]}),be[E.id]&&m.jsxs(m.Fragment,{children:[m.jsx("textarea",{value:I[E.id]||E.description,onChange:L=>De(E.id,L.target.value),rows:"4",style:{width:"100%"}}),m.jsx("button",{onClick:()=>Pe(E.id),children:"Update"}),m.jsx("div",{children:Qe(E)}),w[E.id]&&w[E.id].map((L,Z)=>m.jsxs("div",{className:"test-record",children:[m.jsxs("div",{className:"flex-space-between align-items-center",children:[m.jsx("div",{children:ye[L.id]!==void 0?m.jsx(Rr,{variant:"outlined",size:"small",fullWidth:!0,value:ye[L.id],onChange:X=>Ce(L.id,X.target.value),onBlur:()=>me(L.id,E.id),autoFocus:!0,InputProps:{endAdornment:m.jsx(xt,{onClick:()=>me(L.id,E.id),size:"small",children:m.jsx(Er,{})})}}):m.jsx("div",{className:"editableTitle",onClick:()=>je(X=>({...X,[L.id]:L.title||`Test ${Z+1}`})),style:{cursor:"pointer"},children:L.title||`Test ${Z+1}`})}),m.jsxs("div",{children:[m.jsx("button",{onClick:()=>we(X=>({...X,[L.id]:!X[L.id]})),className:"button muted-button",style:{border:"none",background:"none"},children:pe[L.id]?m.jsx(Ur,{}):m.jsx(Mr,{})}),m.jsx("button",{className:"button muted-button",style:{border:"none",background:"none"},onClick:()=>Kt(L.id,E.id),children:m.jsx(nr,{})})]})]}),pe[L.id]&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Description"}),m.jsx("textarea",{value:O[L.id]||L.description,onChange:X=>Ae(L.id,X.target.value),rows:"4",style:{width:"100%"}})]}),m.jsx("div",{children:Tr(L,E.id)}),m.jsxs("div",{children:[m.jsx("strong",{children:"Results"}),m.jsx("textarea",{value:h[L.id]||L.results,onChange:X=>Fe(L.id,X.target.value),rows:"4",style:{width:"100%",marginTop:"10px"},placeholder:"Results"})]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Conclusions"}),m.jsx("textarea",{value:j[L.id]||L.conclusions,onChange:X=>ft(L.id,X.target.value),rows:"4",style:{width:"100%",marginTop:"10px"},placeholder:"Conclusions"})]}),m.jsx("button",{onClick:()=>Ue(L.id,E.id),children:"Update"})]})]},L.id))]}),M===E.id&&m.jsxs("div",{className:"new-build-record",ref:W,children:[m.jsx("h3",{children:"Add New Test"}),m.jsx(Dl,{designId:e.id,buildId:E.id,refreshTests:()=>at(E.id),setAddingTestIdForBuild:S})]})]},E.id)),m.jsx("div",{children:u&&m.jsxs("div",{className:"new-build-record",ref:z,children:[m.jsx("h3",{children:"Add New Build"}),m.jsx(Sl,{designId:e.id,setIsAddingBuild:b,refreshBuilds:pt})]})})]}),m.jsxs(Dt,{open:F,onClose:()=>Y(!1),children:[m.jsx(Et,{children:"Confirmation Required"}),m.jsx(kt,{children:m.jsx(Qt,{children:ae})}),m.jsxs(Ut,{children:[m.jsx(Xe,{onClick:()=>Y(!1),children:"Cancel"}),m.jsx(Xe,{onClick:()=>{J(),Y(!1)},autoFocus:!0,children:"Confirm"})]})]}),m.jsx($t,{open:se,autoHideDuration:6e3,onClose:()=>ce(!1),children:m.jsx(Rt,{onClose:()=>ce(!1),severity:ie,sx:{width:"100%"},children:_e})})]})},Fl=()=>{const{userDetails:e,loading:t}=qt();console.log("Dashboard loaded");const[s,o]=_.useState([]),[r,n]=_.useState(null),[l,i]=_.useState(!1),[f,y]=_.useState(!1),[a,d]=_.useState(!1),[c,u]=_.useState(""),[b,T]=_.useState(""),[k,w]=_.useState(!1),[U,M]=_.useState(null),[S,I]=_.useState(!1),[x,O]=_.useState(""),[g,h]=_.useState("info"),C=()=>{y(!1),i(!1),n(null),j()},j=_.useCallback(async()=>{let $;e&&e.isAdmin?$=yt(tt(ve,"designs"),Bt("dateCreated","desc")):e&&($=yt(tt(ve,"designs"),Ee("userId","==",e.uid),Bt("dateCreated","desc")));const p=(await At($)).docs.map(B=>({id:B.id,...B.data()}));o(p)},[e]);_.useEffect(()=>{!t&&e&&j()},[e,t,j]);const D=$=>{const[v]=s.filter(p=>p.id===$);n(v),y(!0)},R=$=>{M($),u("Are you sure you want to delete this design? This action cannot be undone."),d(!0)},A=async()=>{if(U)if(b!==e.uid)O("User ID confirmation failed. Enter the correct User ID."),h("error"),I(!0);else try{const $=yt(tt(ve,"builds"),Ee("design_ID","==",U),Ee("userId","==",e.uid)),v=await At($);for(const B of v.docs){const P=B.id,N=yt(tt(ve,"tests"),Ee("build_ID","==",P),Ee("userId","==",e.uid)),V=await At(N);for(const H of V.docs)await Lt($e(ve,"tests",H.id));await Lt($e(ve,"builds",P))}await Lt($e(ve,"designs",U));const p=s.filter(B=>B.id!==U);o(p),O("Your design and its associated builds and tests have been deleted."),h("success"),I(!0)}catch($){console.error("Error deleting design, builds, and tests: ",$),O("There was an issue deleting your design and its associated builds and tests."),h("error"),I(!0)}finally{T(""),w(!1),M(null)}};return m.jsxs("div",{className:"container",children:[!l&&!f&&m.jsxs(m.Fragment,{children:[m.jsx(Zs,{setIsAdding:i}),m.jsx(al,{designs:s,handleEdit:D,handleDelete:R,isAdmin:(e==null?void 0:e.isAdmin)??!1})]}),l&&m.jsx(Al,{designs:s,setDesigns:o,setIsAdding:i,getDesigns:j,onReturnToDashboard:C}),f&&m.jsx(_l,{designs:s,selectedDesign:r,setDesigns:o,setIsEditing:y,getDesigns:j,onReturnToDashboard:C}),m.jsxs(Dt,{open:a,onClose:()=>d(!1),PaperProps:{style:{minWidth:500}},children:[m.jsx(Et,{children:"Confirm Deletion"}),m.jsx(kt,{children:m.jsx(Qt,{children:c})}),m.jsxs(Ut,{children:[m.jsx(Xe,{onClick:()=>d(!1),children:"No, cancel"}),m.jsx(Xe,{onClick:()=>{w(!0),d(!1)},color:"primary",children:"Yes, delete it"})]})]}),m.jsxs(Dt,{open:k,onClose:()=>w(!1),PaperProps:{style:{minWidth:500}},children:[m.jsx(Et,{children:"Confirm Your User ID"}),m.jsx(kt,{children:m.jsx(Rr,{autoFocus:!0,margin:"dense",id:"userId-confirm",label:"User ID",type:"text",fullWidth:!0,variant:"outlined",value:b,onChange:$=>T($.target.value)})}),m.jsxs(Ut,{children:[m.jsx(Xe,{onClick:()=>w(!1),children:"No, cancel"}),m.jsx(Xe,{onClick:A,color:"primary",children:"Confirm"})]})]}),m.jsx($t,{open:S,autoHideDuration:6e3,onClose:()=>I(!1),children:m.jsx(Rt,{onClose:()=>I(!1),severity:g,sx:{width:"100%"},children:x})})]})},Ll=Mn.memo(Fl);export{Ll as default};
