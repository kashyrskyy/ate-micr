const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-YiObdW8q.js","assets/Visibility-CgH7C29a.js","assets/SupplementalMaterials-nkXRx-VW.js"])))=>i.map(i=>d[i]);
var Hse=Object.defineProperty;var Wse=(e,t,r)=>t in e?Hse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Oe=(e,t,r)=>Wse(e,typeof t!="symbol"?t+"":t,r);function qse(e,t){for(var r=0;r<t.length;r++){const o=t[r];if(typeof o!="string"&&!Array.isArray(o)){for(const s in o)if(s!=="default"&&!(s in e)){const u=Object.getOwnPropertyDescriptor(o,s);u&&Object.defineProperty(e,s,u.get?u:{enumerable:!0,get:()=>o[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function r(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(s){if(s.ep)return;s.ep=!0;const u=r(s);fetch(s.href,u)}})();var xk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ms(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function o(){return this instanceof o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var s=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(r,o,s.get?s:{enumerable:!0,get:function(){return e[o]}})}),r}var F9={exports:{}},_w={},z9={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig=Symbol.for("react.element"),Gse=Symbol.for("react.portal"),Kse=Symbol.for("react.fragment"),Yse=Symbol.for("react.strict_mode"),Qse=Symbol.for("react.profiler"),Zse=Symbol.for("react.provider"),Jse=Symbol.for("react.context"),Xse=Symbol.for("react.forward_ref"),eae=Symbol.for("react.suspense"),tae=Symbol.for("react.memo"),nae=Symbol.for("react.lazy"),iL=Symbol.iterator;function rae(e){return e===null||typeof e!="object"?null:(e=iL&&e[iL]||e["@@iterator"],typeof e=="function"?e:null)}var $9={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V9=Object.assign,U9={};function Dh(e,t,r){this.props=e,this.context=t,this.refs=U9,this.updater=r||$9}Dh.prototype.isReactComponent={};Dh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Dh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function H9(){}H9.prototype=Dh.prototype;function xS(e,t,r){this.props=e,this.context=t,this.refs=U9,this.updater=r||$9}var ES=xS.prototype=new H9;ES.constructor=xS;V9(ES,Dh.prototype);ES.isPureReactComponent=!0;var sL=Array.isArray,W9=Object.prototype.hasOwnProperty,SS={current:null},q9={key:!0,ref:!0,__self:!0,__source:!0};function G9(e,t,r){var o,s={},u=null,h=null;if(t!=null)for(o in t.ref!==void 0&&(h=t.ref),t.key!==void 0&&(u=""+t.key),t)W9.call(t,o)&&!q9.hasOwnProperty(o)&&(s[o]=t[o]);var m=arguments.length-2;if(m===1)s.children=r;else if(1<m){for(var f=Array(m),k=0;k<m;k++)f[k]=arguments[k+2];s.children=f}if(e&&e.defaultProps)for(o in m=e.defaultProps,m)s[o]===void 0&&(s[o]=m[o]);return{$$typeof:ig,type:e,key:u,ref:h,props:s,_owner:SS.current}}function oae(e,t){return{$$typeof:ig,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function DS(e){return typeof e=="object"&&e!==null&&e.$$typeof===ig}function iae(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var aL=/\/+/g;function WA(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iae(""+e.key):t.toString(36)}function kv(e,t,r,o,s){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var h=!1;if(e===null)h=!0;else switch(u){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case ig:case Gse:h=!0}}if(h)return h=e,s=s(h),e=o===""?"."+WA(h,0):o,sL(s)?(r="",e!=null&&(r=e.replace(aL,"$&/")+"/"),kv(s,t,r,"",function(k){return k})):s!=null&&(DS(s)&&(s=oae(s,r+(!s.key||h&&h.key===s.key?"":(""+s.key).replace(aL,"$&/")+"/")+e)),t.push(s)),1;if(h=0,o=o===""?".":o+":",sL(e))for(var m=0;m<e.length;m++){u=e[m];var f=o+WA(u,m);h+=kv(u,t,r,f,s)}else if(f=rae(e),typeof f=="function")for(e=f.call(e),m=0;!(u=e.next()).done;)u=u.value,f=o+WA(u,m++),h+=kv(u,t,r,f,s);else if(u==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return h}function Ek(e,t,r){if(e==null)return e;var o=[],s=0;return kv(e,o,"","",function(u){return t.call(r,u,s++)}),o}function sae(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var no={current:null},vv={transition:null},aae={ReactCurrentDispatcher:no,ReactCurrentBatchConfig:vv,ReactCurrentOwner:SS};function K9(){throw Error("act(...) is not supported in production builds of React.")}vt.Children={map:Ek,forEach:function(e,t,r){Ek(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ek(e,function(){t++}),t},toArray:function(e){return Ek(e,function(t){return t})||[]},only:function(e){if(!DS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};vt.Component=Dh;vt.Fragment=Kse;vt.Profiler=Qse;vt.PureComponent=xS;vt.StrictMode=Yse;vt.Suspense=eae;vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aae;vt.act=K9;vt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=V9({},e.props),s=e.key,u=e.ref,h=e._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,h=SS.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var m=e.type.defaultProps;for(f in t)W9.call(t,f)&&!q9.hasOwnProperty(f)&&(o[f]=t[f]===void 0&&m!==void 0?m[f]:t[f])}var f=arguments.length-2;if(f===1)o.children=r;else if(1<f){m=Array(f);for(var k=0;k<f;k++)m[k]=arguments[k+2];o.children=m}return{$$typeof:ig,type:e.type,key:s,ref:u,props:o,_owner:h}};vt.createContext=function(e){return e={$$typeof:Jse,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Zse,_context:e},e.Consumer=e};vt.createElement=G9;vt.createFactory=function(e){var t=G9.bind(null,e);return t.type=e,t};vt.createRef=function(){return{current:null}};vt.forwardRef=function(e){return{$$typeof:Xse,render:e}};vt.isValidElement=DS;vt.lazy=function(e){return{$$typeof:nae,_payload:{_status:-1,_result:e},_init:sae}};vt.memo=function(e,t){return{$$typeof:tae,type:e,compare:t===void 0?null:t}};vt.startTransition=function(e){var t=vv.transition;vv.transition={};try{e()}finally{vv.transition=t}};vt.unstable_act=K9;vt.useCallback=function(e,t){return no.current.useCallback(e,t)};vt.useContext=function(e){return no.current.useContext(e)};vt.useDebugValue=function(){};vt.useDeferredValue=function(e){return no.current.useDeferredValue(e)};vt.useEffect=function(e,t){return no.current.useEffect(e,t)};vt.useId=function(){return no.current.useId()};vt.useImperativeHandle=function(e,t,r){return no.current.useImperativeHandle(e,t,r)};vt.useInsertionEffect=function(e,t){return no.current.useInsertionEffect(e,t)};vt.useLayoutEffect=function(e,t){return no.current.useLayoutEffect(e,t)};vt.useMemo=function(e,t){return no.current.useMemo(e,t)};vt.useReducer=function(e,t,r){return no.current.useReducer(e,t,r)};vt.useRef=function(e){return no.current.useRef(e)};vt.useState=function(e){return no.current.useState(e)};vt.useSyncExternalStore=function(e,t,r){return no.current.useSyncExternalStore(e,t,r)};vt.useTransition=function(){return no.current.useTransition()};vt.version="18.3.1";z9.exports=vt;var L=z9.exports;const le=yw(L),sm=qse({__proto__:null,default:le},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lae=L,cae=Symbol.for("react.element"),uae=Symbol.for("react.fragment"),dae=Object.prototype.hasOwnProperty,hae=lae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pae={key:!0,ref:!0,__self:!0,__source:!0};function Y9(e,t,r){var o,s={},u=null,h=null;r!==void 0&&(u=""+r),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(h=t.ref);for(o in t)dae.call(t,o)&&!pae.hasOwnProperty(o)&&(s[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)s[o]===void 0&&(s[o]=t[o]);return{$$typeof:cae,type:e,key:u,ref:h,props:s,_owner:hae.current}}_w.Fragment=uae;_w.jsx=Y9;_w.jsxs=Y9;F9.exports=_w;var M=F9.exports,kx={},Q9={exports:{}},Ko={},Z9={exports:{}},J9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,re){var de=G.length;G.push(re);e:for(;0<de;){var Ae=de-1>>>1,Me=G[Ae];if(0<s(Me,re))G[Ae]=re,G[de]=Me,de=Ae;else break e}}function r(G){return G.length===0?null:G[0]}function o(G){if(G.length===0)return null;var re=G[0],de=G.pop();if(de!==re){G[0]=de;e:for(var Ae=0,Me=G.length,Je=Me>>>1;Ae<Je;){var Fe=2*(Ae+1)-1,Xe=G[Fe],Se=Fe+1,ct=G[Se];if(0>s(Xe,de))Se<Me&&0>s(ct,Xe)?(G[Ae]=ct,G[Se]=de,Ae=Se):(G[Ae]=Xe,G[Fe]=de,Ae=Fe);else if(Se<Me&&0>s(ct,de))G[Ae]=ct,G[Se]=de,Ae=Se;else break e}}return re}function s(G,re){var de=G.sortIndex-re.sortIndex;return de!==0?de:G.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();e.unstable_now=function(){return h.now()-m}}var f=[],k=[],v=1,_=null,y=3,A=!1,S=!1,E=!1,I=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(G){for(var re=r(k);re!==null;){if(re.callback===null)o(k);else if(re.startTime<=G)o(k),re.sortIndex=re.expirationTime,t(f,re);else break;re=r(k)}}function j(G){if(E=!1,O(G),!S)if(r(f)!==null)S=!0,ee($);else{var re=r(k);re!==null&&ne(j,re.startTime-G)}}function $(G,re){S=!1,E&&(E=!1,T(z),z=-1),A=!0;var de=y;try{for(O(re),_=r(f);_!==null&&(!(_.expirationTime>re)||G&&!Q());){var Ae=_.callback;if(typeof Ae=="function"){_.callback=null,y=_.priorityLevel;var Me=Ae(_.expirationTime<=re);re=e.unstable_now(),typeof Me=="function"?_.callback=Me:_===r(f)&&o(f),O(re)}else o(f);_=r(f)}if(_!==null)var Je=!0;else{var Fe=r(k);Fe!==null&&ne(j,Fe.startTime-re),Je=!1}return Je}finally{_=null,y=de,A=!1}}var H=!1,P=null,z=-1,q=5,K=-1;function Q(){return!(e.unstable_now()-K<q)}function te(){if(P!==null){var G=e.unstable_now();K=G;var re=!0;try{re=P(!0,G)}finally{re?X():(H=!1,P=null)}}else H=!1}var X;if(typeof R=="function")X=function(){R(te)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,J=Z.port2;Z.port1.onmessage=te,X=function(){J.postMessage(null)}}else X=function(){I(te,0)};function ee(G){P=G,H||(H=!0,X())}function ne(G,re){z=I(function(){G(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){S||A||(S=!0,ee($))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(f)},e.unstable_next=function(G){switch(y){case 1:case 2:case 3:var re=3;break;default:re=y}var de=y;y=re;try{return G()}finally{y=de}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,re){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var de=y;y=G;try{return re()}finally{y=de}},e.unstable_scheduleCallback=function(G,re,de){var Ae=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ae+de:Ae):de=Ae,G){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=de+Me,G={id:v++,callback:re,priorityLevel:G,startTime:de,expirationTime:Me,sortIndex:-1},de>Ae?(G.sortIndex=de,t(k,G),r(f)===null&&G===r(k)&&(E?(T(z),z=-1):E=!0,ne(j,de-Ae))):(G.sortIndex=Me,t(f,G),S||A||(S=!0,ee($))),G},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(G){var re=y;return function(){var de=y;y=re;try{return G.apply(this,arguments)}finally{y=de}}}})(J9);Z9.exports=J9;var fae=Z9.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mae=L,Uo=fae;function ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X9=new Set,am={};function ru(e,t){qd(e,t),qd(e+"Capture",t)}function qd(e,t){for(am[e]=t,e=0;e<t.length;e++)X9.add(t[e])}var ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vx=Object.prototype.hasOwnProperty,gae=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lL={},cL={};function bae(e){return vx.call(cL,e)?!0:vx.call(lL,e)?!1:gae.test(e)?cL[e]=!0:(lL[e]=!0,!1)}function kae(e,t,r,o){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vae(e,t,r,o){if(t===null||typeof t>"u"||kae(e,t,r,o))return!0;if(o)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ro(e,t,r,o,s,u,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=h}var Ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ir[e]=new ro(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ir[t]=new ro(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ir[e]=new ro(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ir[e]=new ro(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ir[e]=new ro(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ir[e]=new ro(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ir[e]=new ro(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ir[e]=new ro(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ir[e]=new ro(e,5,!1,e.toLowerCase(),null,!1,!1)});var TS=/[\-:]([a-z])/g;function IS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(TS,IS);Ir[t]=new ro(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(TS,IS);Ir[t]=new ro(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(TS,IS);Ir[t]=new ro(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ir[e]=new ro(e,1,!1,e.toLowerCase(),null,!1,!1)});Ir.xlinkHref=new ro("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ir[e]=new ro(e,1,!1,e.toLowerCase(),null,!0,!0)});function MS(e,t,r,o){var s=Ir.hasOwnProperty(t)?Ir[t]:null;(s!==null?s.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vae(t,r,s,o)&&(r=null),o||s===null?bae(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,o=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,o?e.setAttributeNS(o,t,r):e.setAttribute(t,r))))}var Ca=mae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sk=Symbol.for("react.element"),fd=Symbol.for("react.portal"),md=Symbol.for("react.fragment"),PS=Symbol.for("react.strict_mode"),wx=Symbol.for("react.profiler"),e7=Symbol.for("react.provider"),t7=Symbol.for("react.context"),NS=Symbol.for("react.forward_ref"),yx=Symbol.for("react.suspense"),_x=Symbol.for("react.suspense_list"),RS=Symbol.for("react.memo"),za=Symbol.for("react.lazy"),n7=Symbol.for("react.offscreen"),uL=Symbol.iterator;function Up(e){return e===null||typeof e!="object"?null:(e=uL&&e[uL]||e["@@iterator"],typeof e=="function"?e:null)}var Sn=Object.assign,qA;function wf(e){if(qA===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);qA=t&&t[1]||""}return`
`+qA+e}var GA=!1;function KA(e,t){if(!e||GA)return"";GA=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(k){var o=k}Reflect.construct(e,[],t)}else{try{t.call()}catch(k){o=k}e.call(t.prototype)}else{try{throw Error()}catch(k){o=k}e()}}catch(k){if(k&&o&&typeof k.stack=="string"){for(var s=k.stack.split(`
`),u=o.stack.split(`
`),h=s.length-1,m=u.length-1;1<=h&&0<=m&&s[h]!==u[m];)m--;for(;1<=h&&0<=m;h--,m--)if(s[h]!==u[m]){if(h!==1||m!==1)do if(h--,m--,0>m||s[h]!==u[m]){var f=`
`+s[h].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=h&&0<=m);break}}}finally{GA=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?wf(e):""}function wae(e){switch(e.tag){case 5:return wf(e.type);case 16:return wf("Lazy");case 13:return wf("Suspense");case 19:return wf("SuspenseList");case 0:case 2:case 15:return e=KA(e.type,!1),e;case 11:return e=KA(e.type.render,!1),e;case 1:return e=KA(e.type,!0),e;default:return""}}function Cx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case md:return"Fragment";case fd:return"Portal";case wx:return"Profiler";case PS:return"StrictMode";case yx:return"Suspense";case _x:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case t7:return(e.displayName||"Context")+".Consumer";case e7:return(e._context.displayName||"Context")+".Provider";case NS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case RS:return t=e.displayName||null,t!==null?t:Cx(e.type)||"Memo";case za:t=e._payload,e=e._init;try{return Cx(e(t))}catch{}}return null}function yae(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cx(t);case 8:return t===PS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function r7(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _ae(e){var t=r7(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(h){o=""+h,u.call(this,h)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(h){o=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Dk(e){e._valueTracker||(e._valueTracker=_ae(e))}function o7(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),o="";return e&&(o=r7(e)?e.checked?"true":"false":e.value),e=o,e!==r?(t.setValue(e),!0):!1}function Xv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ax(e,t){var r=t.checked;return Sn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function dL(e,t){var r=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;r=gl(t.value!=null?t.value:r),e._wrapperState={initialChecked:o,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function i7(e,t){t=t.checked,t!=null&&MS(e,"checked",t,!1)}function xx(e,t){i7(e,t);var r=gl(t.value),o=t.type;if(r!=null)o==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ex(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ex(e,t.type,gl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hL(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ex(e,t,r){(t!=="number"||Xv(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var yf=Array.isArray;function Dd(e,t,r,o){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&o&&(e[r].defaultSelected=!0)}else{for(r=""+gl(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,o&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Sx(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ve(91));return Sn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pL(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ve(92));if(yf(r)){if(1<r.length)throw Error(ve(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:gl(r)}}function s7(e,t){var r=gl(t.value),o=gl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),o!=null&&(e.defaultValue=""+o)}function fL(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function a7(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dx(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?a7(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Tk,l7=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,o,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,o,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Tk=Tk||document.createElement("div"),Tk.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Tk.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function lm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Rf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cae=["Webkit","ms","Moz","O"];Object.keys(Rf).forEach(function(e){Cae.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rf[t]=Rf[e]})});function c7(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Rf.hasOwnProperty(e)&&Rf[e]?(""+t).trim():t+"px"}function u7(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var o=r.indexOf("--")===0,s=c7(r,t[r],o);r==="float"&&(r="cssFloat"),o?e.setProperty(r,s):e[r]=s}}var Aae=Sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tx(e,t){if(t){if(Aae[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ve(62))}}function Ix(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mx=null;function OS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Px=null,Td=null,Id=null;function mL(e){if(e=lg(e)){if(typeof Px!="function")throw Error(ve(280));var t=e.stateNode;t&&(t=Sw(t),Px(e.stateNode,e.type,t))}}function d7(e){Td?Id?Id.push(e):Id=[e]:Td=e}function h7(){if(Td){var e=Td,t=Id;if(Id=Td=null,mL(e),t)for(e=0;e<t.length;e++)mL(t[e])}}function p7(e,t){return e(t)}function f7(){}var YA=!1;function m7(e,t,r){if(YA)return e(t,r);YA=!0;try{return p7(e,t,r)}finally{YA=!1,(Td!==null||Id!==null)&&(f7(),h7())}}function cm(e,t){var r=e.stateNode;if(r===null)return null;var o=Sw(r);if(o===null)return null;r=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ve(231,t,typeof r));return r}var Nx=!1;if(ua)try{var Hp={};Object.defineProperty(Hp,"passive",{get:function(){Nx=!0}}),window.addEventListener("test",Hp,Hp),window.removeEventListener("test",Hp,Hp)}catch{Nx=!1}function xae(e,t,r,o,s,u,h,m,f){var k=Array.prototype.slice.call(arguments,3);try{t.apply(r,k)}catch(v){this.onError(v)}}var Of=!1,e0=null,t0=!1,Rx=null,Eae={onError:function(e){Of=!0,e0=e}};function Sae(e,t,r,o,s,u,h,m,f){Of=!1,e0=null,xae.apply(Eae,arguments)}function Dae(e,t,r,o,s,u,h,m,f){if(Sae.apply(this,arguments),Of){if(Of){var k=e0;Of=!1,e0=null}else throw Error(ve(198));t0||(t0=!0,Rx=k)}}function ou(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function g7(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gL(e){if(ou(e)!==e)throw Error(ve(188))}function Tae(e){var t=e.alternate;if(!t){if(t=ou(e),t===null)throw Error(ve(188));return t!==e?null:e}for(var r=e,o=t;;){var s=r.return;if(s===null)break;var u=s.alternate;if(u===null){if(o=s.return,o!==null){r=o;continue}break}if(s.child===u.child){for(u=s.child;u;){if(u===r)return gL(s),e;if(u===o)return gL(s),t;u=u.sibling}throw Error(ve(188))}if(r.return!==o.return)r=s,o=u;else{for(var h=!1,m=s.child;m;){if(m===r){h=!0,r=s,o=u;break}if(m===o){h=!0,o=s,r=u;break}m=m.sibling}if(!h){for(m=u.child;m;){if(m===r){h=!0,r=u,o=s;break}if(m===o){h=!0,o=u,r=s;break}m=m.sibling}if(!h)throw Error(ve(189))}}if(r.alternate!==o)throw Error(ve(190))}if(r.tag!==3)throw Error(ve(188));return r.stateNode.current===r?e:t}function b7(e){return e=Tae(e),e!==null?k7(e):null}function k7(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=k7(e);if(t!==null)return t;e=e.sibling}return null}var v7=Uo.unstable_scheduleCallback,bL=Uo.unstable_cancelCallback,Iae=Uo.unstable_shouldYield,Mae=Uo.unstable_requestPaint,Un=Uo.unstable_now,Pae=Uo.unstable_getCurrentPriorityLevel,BS=Uo.unstable_ImmediatePriority,w7=Uo.unstable_UserBlockingPriority,n0=Uo.unstable_NormalPriority,Nae=Uo.unstable_LowPriority,y7=Uo.unstable_IdlePriority,Cw=null,bs=null;function Rae(e){if(bs&&typeof bs.onCommitFiberRoot=="function")try{bs.onCommitFiberRoot(Cw,e,void 0,(e.current.flags&128)===128)}catch{}}var $i=Math.clz32?Math.clz32:Lae,Oae=Math.log,Bae=Math.LN2;function Lae(e){return e>>>=0,e===0?32:31-(Oae(e)/Bae|0)|0}var Ik=64,Mk=4194304;function _f(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function r0(e,t){var r=e.pendingLanes;if(r===0)return 0;var o=0,s=e.suspendedLanes,u=e.pingedLanes,h=r&268435455;if(h!==0){var m=h&~s;m!==0?o=_f(m):(u&=h,u!==0&&(o=_f(u)))}else h=r&~s,h!==0?o=_f(h):u!==0&&(o=_f(u));if(o===0)return 0;if(t!==0&&t!==o&&!(t&s)&&(s=o&-o,u=t&-t,s>=u||s===16&&(u&4194240)!==0))return t;if(o&4&&(o|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)r=31-$i(t),s=1<<r,o|=e[r],t&=~s;return o}function jae(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fae(e,t){for(var r=e.suspendedLanes,o=e.pingedLanes,s=e.expirationTimes,u=e.pendingLanes;0<u;){var h=31-$i(u),m=1<<h,f=s[h];f===-1?(!(m&r)||m&o)&&(s[h]=jae(m,t)):f<=t&&(e.expiredLanes|=m),u&=~m}}function Ox(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _7(){var e=Ik;return Ik<<=1,!(Ik&4194240)&&(Ik=64),e}function QA(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function sg(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$i(t),e[t]=r}function zae(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-$i(r),u=1<<s;t[s]=0,o[s]=-1,e[s]=-1,r&=~u}}function LS(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var o=31-$i(r),s=1<<o;s&t|e[o]&t&&(e[o]|=t),r&=~s}}var Yt=0;function C7(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var A7,jS,x7,E7,S7,Bx=!1,Pk=[],nl=null,rl=null,ol=null,um=new Map,dm=new Map,Va=[],$ae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kL(e,t){switch(e){case"focusin":case"focusout":nl=null;break;case"dragenter":case"dragleave":rl=null;break;case"mouseover":case"mouseout":ol=null;break;case"pointerover":case"pointerout":um.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dm.delete(t.pointerId)}}function Wp(e,t,r,o,s,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:r,eventSystemFlags:o,nativeEvent:u,targetContainers:[s]},t!==null&&(t=lg(t),t!==null&&jS(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Vae(e,t,r,o,s){switch(t){case"focusin":return nl=Wp(nl,e,t,r,o,s),!0;case"dragenter":return rl=Wp(rl,e,t,r,o,s),!0;case"mouseover":return ol=Wp(ol,e,t,r,o,s),!0;case"pointerover":var u=s.pointerId;return um.set(u,Wp(um.get(u)||null,e,t,r,o,s)),!0;case"gotpointercapture":return u=s.pointerId,dm.set(u,Wp(dm.get(u)||null,e,t,r,o,s)),!0}return!1}function D7(e){var t=fc(e.target);if(t!==null){var r=ou(t);if(r!==null){if(t=r.tag,t===13){if(t=g7(r),t!==null){e.blockedOn=t,S7(e.priority,function(){x7(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Lx(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Mx=o,r.target.dispatchEvent(o),Mx=null}else return t=lg(r),t!==null&&jS(t),e.blockedOn=r,!1;t.shift()}return!0}function vL(e,t,r){wv(e)&&r.delete(t)}function Uae(){Bx=!1,nl!==null&&wv(nl)&&(nl=null),rl!==null&&wv(rl)&&(rl=null),ol!==null&&wv(ol)&&(ol=null),um.forEach(vL),dm.forEach(vL)}function qp(e,t){e.blockedOn===t&&(e.blockedOn=null,Bx||(Bx=!0,Uo.unstable_scheduleCallback(Uo.unstable_NormalPriority,Uae)))}function hm(e){function t(s){return qp(s,e)}if(0<Pk.length){qp(Pk[0],e);for(var r=1;r<Pk.length;r++){var o=Pk[r];o.blockedOn===e&&(o.blockedOn=null)}}for(nl!==null&&qp(nl,e),rl!==null&&qp(rl,e),ol!==null&&qp(ol,e),um.forEach(t),dm.forEach(t),r=0;r<Va.length;r++)o=Va[r],o.blockedOn===e&&(o.blockedOn=null);for(;0<Va.length&&(r=Va[0],r.blockedOn===null);)D7(r),r.blockedOn===null&&Va.shift()}var Md=Ca.ReactCurrentBatchConfig,o0=!0;function Hae(e,t,r,o){var s=Yt,u=Md.transition;Md.transition=null;try{Yt=1,FS(e,t,r,o)}finally{Yt=s,Md.transition=u}}function Wae(e,t,r,o){var s=Yt,u=Md.transition;Md.transition=null;try{Yt=4,FS(e,t,r,o)}finally{Yt=s,Md.transition=u}}function FS(e,t,r,o){if(o0){var s=Lx(e,t,r,o);if(s===null)s1(e,t,o,i0,r),kL(e,o);else if(Vae(s,e,t,r,o))o.stopPropagation();else if(kL(e,o),t&4&&-1<$ae.indexOf(e)){for(;s!==null;){var u=lg(s);if(u!==null&&A7(u),u=Lx(e,t,r,o),u===null&&s1(e,t,o,i0,r),u===s)break;s=u}s!==null&&o.stopPropagation()}else s1(e,t,o,null,r)}}var i0=null;function Lx(e,t,r,o){if(i0=null,e=OS(o),e=fc(e),e!==null)if(t=ou(e),t===null)e=null;else if(r=t.tag,r===13){if(e=g7(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return i0=e,null}function T7(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pae()){case BS:return 1;case w7:return 4;case n0:case Nae:return 16;case y7:return 536870912;default:return 16}default:return 16}}var Ya=null,zS=null,yv=null;function I7(){if(yv)return yv;var e,t=zS,r=t.length,o,s="value"in Ya?Ya.value:Ya.textContent,u=s.length;for(e=0;e<r&&t[e]===s[e];e++);var h=r-e;for(o=1;o<=h&&t[r-o]===s[u-o];o++);return yv=s.slice(e,1<o?1-o:void 0)}function _v(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nk(){return!0}function wL(){return!1}function Yo(e){function t(r,o,s,u,h){this._reactName=r,this._targetInst=s,this.type=o,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(r=e[m],this[m]=r?r(u):u[m]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Nk:wL,this.isPropagationStopped=wL,this}return Sn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Nk)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Nk)},persist:function(){},isPersistent:Nk}),t}var Th={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$S=Yo(Th),ag=Sn({},Th,{view:0,detail:0}),qae=Yo(ag),ZA,JA,Gp,Aw=Sn({},ag,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:VS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gp&&(Gp&&e.type==="mousemove"?(ZA=e.screenX-Gp.screenX,JA=e.screenY-Gp.screenY):JA=ZA=0,Gp=e),ZA)},movementY:function(e){return"movementY"in e?e.movementY:JA}}),yL=Yo(Aw),Gae=Sn({},Aw,{dataTransfer:0}),Kae=Yo(Gae),Yae=Sn({},ag,{relatedTarget:0}),XA=Yo(Yae),Qae=Sn({},Th,{animationName:0,elapsedTime:0,pseudoElement:0}),Zae=Yo(Qae),Jae=Sn({},Th,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xae=Yo(Jae),ele=Sn({},Th,{data:0}),_L=Yo(ele),tle={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nle={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rle={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ole(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rle[e])?!!t[e]:!1}function VS(){return ole}var ile=Sn({},ag,{key:function(e){if(e.key){var t=tle[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_v(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nle[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:VS,charCode:function(e){return e.type==="keypress"?_v(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_v(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sle=Yo(ile),ale=Sn({},Aw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),CL=Yo(ale),lle=Sn({},ag,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:VS}),cle=Yo(lle),ule=Sn({},Th,{propertyName:0,elapsedTime:0,pseudoElement:0}),dle=Yo(ule),hle=Sn({},Aw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ple=Yo(hle),fle=[9,13,27,32],US=ua&&"CompositionEvent"in window,Bf=null;ua&&"documentMode"in document&&(Bf=document.documentMode);var mle=ua&&"TextEvent"in window&&!Bf,M7=ua&&(!US||Bf&&8<Bf&&11>=Bf),AL=" ",xL=!1;function P7(e,t){switch(e){case"keyup":return fle.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N7(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gd=!1;function gle(e,t){switch(e){case"compositionend":return N7(t);case"keypress":return t.which!==32?null:(xL=!0,AL);case"textInput":return e=t.data,e===AL&&xL?null:e;default:return null}}function ble(e,t){if(gd)return e==="compositionend"||!US&&P7(e,t)?(e=I7(),yv=zS=Ya=null,gd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return M7&&t.locale!=="ko"?null:t.data;default:return null}}var kle={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function EL(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kle[e.type]:t==="textarea"}function R7(e,t,r,o){d7(o),t=s0(t,"onChange"),0<t.length&&(r=new $S("onChange","change",null,r,o),e.push({event:r,listeners:t}))}var Lf=null,pm=null;function vle(e){W7(e,0)}function xw(e){var t=vd(e);if(o7(t))return e}function wle(e,t){if(e==="change")return t}var O7=!1;if(ua){var e1;if(ua){var t1="oninput"in document;if(!t1){var SL=document.createElement("div");SL.setAttribute("oninput","return;"),t1=typeof SL.oninput=="function"}e1=t1}else e1=!1;O7=e1&&(!document.documentMode||9<document.documentMode)}function DL(){Lf&&(Lf.detachEvent("onpropertychange",B7),pm=Lf=null)}function B7(e){if(e.propertyName==="value"&&xw(pm)){var t=[];R7(t,pm,e,OS(e)),m7(vle,t)}}function yle(e,t,r){e==="focusin"?(DL(),Lf=t,pm=r,Lf.attachEvent("onpropertychange",B7)):e==="focusout"&&DL()}function _le(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xw(pm)}function Cle(e,t){if(e==="click")return xw(t)}function Ale(e,t){if(e==="input"||e==="change")return xw(t)}function xle(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ui=typeof Object.is=="function"?Object.is:xle;function fm(e,t){if(Ui(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var s=r[o];if(!vx.call(t,s)||!Ui(e[s],t[s]))return!1}return!0}function TL(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function IL(e,t){var r=TL(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=t&&o>=t)return{node:r,offset:t-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=TL(r)}}function L7(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?L7(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function j7(){for(var e=window,t=Xv();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Xv(e.document)}return t}function HS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ele(e){var t=j7(),r=e.focusedElem,o=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&L7(r.ownerDocument.documentElement,r)){if(o!==null&&HS(r)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,u=Math.min(o.start,s);o=o.end===void 0?u:Math.min(o.end,s),!e.extend&&u>o&&(s=o,o=u,u=s),s=IL(r,u);var h=IL(r,o);s&&h&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),u>o?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sle=ua&&"documentMode"in document&&11>=document.documentMode,bd=null,jx=null,jf=null,Fx=!1;function ML(e,t,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fx||bd==null||bd!==Xv(o)||(o=bd,"selectionStart"in o&&HS(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),jf&&fm(jf,o)||(jf=o,o=s0(jx,"onSelect"),0<o.length&&(t=new $S("onSelect","select",null,t,r),e.push({event:t,listeners:o}),t.target=bd)))}function Rk(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var kd={animationend:Rk("Animation","AnimationEnd"),animationiteration:Rk("Animation","AnimationIteration"),animationstart:Rk("Animation","AnimationStart"),transitionend:Rk("Transition","TransitionEnd")},n1={},F7={};ua&&(F7=document.createElement("div").style,"AnimationEvent"in window||(delete kd.animationend.animation,delete kd.animationiteration.animation,delete kd.animationstart.animation),"TransitionEvent"in window||delete kd.transitionend.transition);function Ew(e){if(n1[e])return n1[e];if(!kd[e])return e;var t=kd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in F7)return n1[e]=t[r];return e}var z7=Ew("animationend"),$7=Ew("animationiteration"),V7=Ew("animationstart"),U7=Ew("transitionend"),H7=new Map,PL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sl(e,t){H7.set(e,t),ru(t,[e])}for(var r1=0;r1<PL.length;r1++){var o1=PL[r1],Dle=o1.toLowerCase(),Tle=o1[0].toUpperCase()+o1.slice(1);Sl(Dle,"on"+Tle)}Sl(z7,"onAnimationEnd");Sl($7,"onAnimationIteration");Sl(V7,"onAnimationStart");Sl("dblclick","onDoubleClick");Sl("focusin","onFocus");Sl("focusout","onBlur");Sl(U7,"onTransitionEnd");qd("onMouseEnter",["mouseout","mouseover"]);qd("onMouseLeave",["mouseout","mouseover"]);qd("onPointerEnter",["pointerout","pointerover"]);qd("onPointerLeave",["pointerout","pointerover"]);ru("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ru("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ru("onBeforeInput",["compositionend","keypress","textInput","paste"]);ru("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ru("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ru("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ile=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cf));function NL(e,t,r){var o=e.type||"unknown-event";e.currentTarget=r,Dae(o,t,void 0,e),e.currentTarget=null}function W7(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],s=o.event;o=o.listeners;e:{var u=void 0;if(t)for(var h=o.length-1;0<=h;h--){var m=o[h],f=m.instance,k=m.currentTarget;if(m=m.listener,f!==u&&s.isPropagationStopped())break e;NL(s,m,k),u=f}else for(h=0;h<o.length;h++){if(m=o[h],f=m.instance,k=m.currentTarget,m=m.listener,f!==u&&s.isPropagationStopped())break e;NL(s,m,k),u=f}}}if(t0)throw e=Rx,t0=!1,Rx=null,e}function hn(e,t){var r=t[Hx];r===void 0&&(r=t[Hx]=new Set);var o=e+"__bubble";r.has(o)||(q7(t,e,2,!1),r.add(o))}function i1(e,t,r){var o=0;t&&(o|=4),q7(r,e,o,t)}var Ok="_reactListening"+Math.random().toString(36).slice(2);function mm(e){if(!e[Ok]){e[Ok]=!0,X9.forEach(function(r){r!=="selectionchange"&&(Ile.has(r)||i1(r,!1,e),i1(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ok]||(t[Ok]=!0,i1("selectionchange",!1,t))}}function q7(e,t,r,o){switch(T7(t)){case 1:var s=Hae;break;case 4:s=Wae;break;default:s=FS}r=s.bind(null,t,r,e),s=void 0,!Nx||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),o?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function s1(e,t,r,o,s){var u=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var h=o.tag;if(h===3||h===4){var m=o.stateNode.containerInfo;if(m===s||m.nodeType===8&&m.parentNode===s)break;if(h===4)for(h=o.return;h!==null;){var f=h.tag;if((f===3||f===4)&&(f=h.stateNode.containerInfo,f===s||f.nodeType===8&&f.parentNode===s))return;h=h.return}for(;m!==null;){if(h=fc(m),h===null)return;if(f=h.tag,f===5||f===6){o=u=h;continue e}m=m.parentNode}}o=o.return}m7(function(){var k=u,v=OS(r),_=[];e:{var y=H7.get(e);if(y!==void 0){var A=$S,S=e;switch(e){case"keypress":if(_v(r)===0)break e;case"keydown":case"keyup":A=sle;break;case"focusin":S="focus",A=XA;break;case"focusout":S="blur",A=XA;break;case"beforeblur":case"afterblur":A=XA;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=yL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=Kae;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=cle;break;case z7:case $7:case V7:A=Zae;break;case U7:A=dle;break;case"scroll":A=qae;break;case"wheel":A=ple;break;case"copy":case"cut":case"paste":A=Xae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=CL}var E=(t&4)!==0,I=!E&&e==="scroll",T=E?y!==null?y+"Capture":null:y;E=[];for(var R=k,O;R!==null;){O=R;var j=O.stateNode;if(O.tag===5&&j!==null&&(O=j,T!==null&&(j=cm(R,T),j!=null&&E.push(gm(R,j,O)))),I)break;R=R.return}0<E.length&&(y=new A(y,S,null,r,v),_.push({event:y,listeners:E}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",A=e==="mouseout"||e==="pointerout",y&&r!==Mx&&(S=r.relatedTarget||r.fromElement)&&(fc(S)||S[da]))break e;if((A||y)&&(y=v.window===v?v:(y=v.ownerDocument)?y.defaultView||y.parentWindow:window,A?(S=r.relatedTarget||r.toElement,A=k,S=S?fc(S):null,S!==null&&(I=ou(S),S!==I||S.tag!==5&&S.tag!==6)&&(S=null)):(A=null,S=k),A!==S)){if(E=yL,j="onMouseLeave",T="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(E=CL,j="onPointerLeave",T="onPointerEnter",R="pointer"),I=A==null?y:vd(A),O=S==null?y:vd(S),y=new E(j,R+"leave",A,r,v),y.target=I,y.relatedTarget=O,j=null,fc(v)===k&&(E=new E(T,R+"enter",S,r,v),E.target=O,E.relatedTarget=I,j=E),I=j,A&&S)t:{for(E=A,T=S,R=0,O=E;O;O=Xu(O))R++;for(O=0,j=T;j;j=Xu(j))O++;for(;0<R-O;)E=Xu(E),R--;for(;0<O-R;)T=Xu(T),O--;for(;R--;){if(E===T||T!==null&&E===T.alternate)break t;E=Xu(E),T=Xu(T)}E=null}else E=null;A!==null&&RL(_,y,A,E,!1),S!==null&&I!==null&&RL(_,I,S,E,!0)}}e:{if(y=k?vd(k):window,A=y.nodeName&&y.nodeName.toLowerCase(),A==="select"||A==="input"&&y.type==="file")var $=wle;else if(EL(y))if(O7)$=Ale;else{$=_le;var H=yle}else(A=y.nodeName)&&A.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&($=Cle);if($&&($=$(e,k))){R7(_,$,r,v);break e}H&&H(e,y,k),e==="focusout"&&(H=y._wrapperState)&&H.controlled&&y.type==="number"&&Ex(y,"number",y.value)}switch(H=k?vd(k):window,e){case"focusin":(EL(H)||H.contentEditable==="true")&&(bd=H,jx=k,jf=null);break;case"focusout":jf=jx=bd=null;break;case"mousedown":Fx=!0;break;case"contextmenu":case"mouseup":case"dragend":Fx=!1,ML(_,r,v);break;case"selectionchange":if(Sle)break;case"keydown":case"keyup":ML(_,r,v)}var P;if(US)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else gd?P7(e,r)&&(z="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(z="onCompositionStart");z&&(M7&&r.locale!=="ko"&&(gd||z!=="onCompositionStart"?z==="onCompositionEnd"&&gd&&(P=I7()):(Ya=v,zS="value"in Ya?Ya.value:Ya.textContent,gd=!0)),H=s0(k,z),0<H.length&&(z=new _L(z,e,null,r,v),_.push({event:z,listeners:H}),P?z.data=P:(P=N7(r),P!==null&&(z.data=P)))),(P=mle?gle(e,r):ble(e,r))&&(k=s0(k,"onBeforeInput"),0<k.length&&(v=new _L("onBeforeInput","beforeinput",null,r,v),_.push({event:v,listeners:k}),v.data=P))}W7(_,t)})}function gm(e,t,r){return{instance:e,listener:t,currentTarget:r}}function s0(e,t){for(var r=t+"Capture",o=[];e!==null;){var s=e,u=s.stateNode;s.tag===5&&u!==null&&(s=u,u=cm(e,r),u!=null&&o.unshift(gm(e,u,s)),u=cm(e,t),u!=null&&o.push(gm(e,u,s))),e=e.return}return o}function Xu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function RL(e,t,r,o,s){for(var u=t._reactName,h=[];r!==null&&r!==o;){var m=r,f=m.alternate,k=m.stateNode;if(f!==null&&f===o)break;m.tag===5&&k!==null&&(m=k,s?(f=cm(r,u),f!=null&&h.unshift(gm(r,f,m))):s||(f=cm(r,u),f!=null&&h.push(gm(r,f,m)))),r=r.return}h.length!==0&&e.push({event:t,listeners:h})}var Mle=/\r\n?/g,Ple=/\u0000|\uFFFD/g;function OL(e){return(typeof e=="string"?e:""+e).replace(Mle,`
`).replace(Ple,"")}function Bk(e,t,r){if(t=OL(t),OL(e)!==t&&r)throw Error(ve(425))}function a0(){}var zx=null,$x=null;function Vx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ux=typeof setTimeout=="function"?setTimeout:void 0,Nle=typeof clearTimeout=="function"?clearTimeout:void 0,BL=typeof Promise=="function"?Promise:void 0,Rle=typeof queueMicrotask=="function"?queueMicrotask:typeof BL<"u"?function(e){return BL.resolve(null).then(e).catch(Ole)}:Ux;function Ole(e){setTimeout(function(){throw e})}function a1(e,t){var r=t,o=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(o===0){e.removeChild(s),hm(t);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=s}while(r);hm(t)}function il(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function LL(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ih=Math.random().toString(36).slice(2),cs="__reactFiber$"+Ih,bm="__reactProps$"+Ih,da="__reactContainer$"+Ih,Hx="__reactEvents$"+Ih,Ble="__reactListeners$"+Ih,Lle="__reactHandles$"+Ih;function fc(e){var t=e[cs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[da]||r[cs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=LL(e);e!==null;){if(r=e[cs])return r;e=LL(e)}return t}e=r,r=e.parentNode}return null}function lg(e){return e=e[cs]||e[da],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ve(33))}function Sw(e){return e[bm]||null}var Wx=[],wd=-1;function Dl(e){return{current:e}}function gn(e){0>wd||(e.current=Wx[wd],Wx[wd]=null,wd--)}function ln(e,t){wd++,Wx[wd]=e.current,e.current=t}var bl={},Ur=Dl(bl),mo=Dl(!1),Lc=bl;function Gd(e,t){var r=e.type.contextTypes;if(!r)return bl;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var s={},u;for(u in r)s[u]=t[u];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function go(e){return e=e.childContextTypes,e!=null}function l0(){gn(mo),gn(Ur)}function jL(e,t,r){if(Ur.current!==bl)throw Error(ve(168));ln(Ur,t),ln(mo,r)}function G7(e,t,r){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return r;o=o.getChildContext();for(var s in o)if(!(s in t))throw Error(ve(108,yae(e)||"Unknown",s));return Sn({},r,o)}function c0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bl,Lc=Ur.current,ln(Ur,e),ln(mo,mo.current),!0}function FL(e,t,r){var o=e.stateNode;if(!o)throw Error(ve(169));r?(e=G7(e,t,Lc),o.__reactInternalMemoizedMergedChildContext=e,gn(mo),gn(Ur),ln(Ur,e)):gn(mo),ln(mo,r)}var Ks=null,Dw=!1,l1=!1;function K7(e){Ks===null?Ks=[e]:Ks.push(e)}function jle(e){Dw=!0,K7(e)}function Tl(){if(!l1&&Ks!==null){l1=!0;var e=0,t=Yt;try{var r=Ks;for(Yt=1;e<r.length;e++){var o=r[e];do o=o(!0);while(o!==null)}Ks=null,Dw=!1}catch(s){throw Ks!==null&&(Ks=Ks.slice(e+1)),v7(BS,Tl),s}finally{Yt=t,l1=!1}}return null}var yd=[],_d=0,u0=null,d0=0,ui=[],di=0,jc=null,Xs=1,ea="";function lc(e,t){yd[_d++]=d0,yd[_d++]=u0,u0=e,d0=t}function Y7(e,t,r){ui[di++]=Xs,ui[di++]=ea,ui[di++]=jc,jc=e;var o=Xs;e=ea;var s=32-$i(o)-1;o&=~(1<<s),r+=1;var u=32-$i(t)+s;if(30<u){var h=s-s%5;u=(o&(1<<h)-1).toString(32),o>>=h,s-=h,Xs=1<<32-$i(t)+s|r<<s|o,ea=u+e}else Xs=1<<u|r<<s|o,ea=e}function WS(e){e.return!==null&&(lc(e,1),Y7(e,1,0))}function qS(e){for(;e===u0;)u0=yd[--_d],yd[_d]=null,d0=yd[--_d],yd[_d]=null;for(;e===jc;)jc=ui[--di],ui[di]=null,ea=ui[--di],ui[di]=null,Xs=ui[--di],ui[di]=null}var zo=null,Lo=null,_n=!1,zi=null;function Q7(e,t){var r=fi(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function zL(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,zo=e,Lo=il(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,zo=e,Lo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=jc!==null?{id:Xs,overflow:ea}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=fi(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,zo=e,Lo=null,!0):!1;default:return!1}}function qx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Gx(e){if(_n){var t=Lo;if(t){var r=t;if(!zL(e,t)){if(qx(e))throw Error(ve(418));t=il(r.nextSibling);var o=zo;t&&zL(e,t)?Q7(o,r):(e.flags=e.flags&-4097|2,_n=!1,zo=e)}}else{if(qx(e))throw Error(ve(418));e.flags=e.flags&-4097|2,_n=!1,zo=e}}}function $L(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;zo=e}function Lk(e){if(e!==zo)return!1;if(!_n)return $L(e),_n=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vx(e.type,e.memoizedProps)),t&&(t=Lo)){if(qx(e))throw Z7(),Error(ve(418));for(;t;)Q7(e,t),t=il(t.nextSibling)}if($L(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Lo=il(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Lo=null}}else Lo=zo?il(e.stateNode.nextSibling):null;return!0}function Z7(){for(var e=Lo;e;)e=il(e.nextSibling)}function Kd(){Lo=zo=null,_n=!1}function GS(e){zi===null?zi=[e]:zi.push(e)}var Fle=Ca.ReactCurrentBatchConfig;function Kp(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ve(309));var o=r.stateNode}if(!o)throw Error(ve(147,e));var s=o,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(h){var m=s.refs;h===null?delete m[u]:m[u]=h},t._stringRef=u,t)}if(typeof e!="string")throw Error(ve(284));if(!r._owner)throw Error(ve(290,e))}return e}function jk(e,t){throw e=Object.prototype.toString.call(t),Error(ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function VL(e){var t=e._init;return t(e._payload)}function J7(e){function t(T,R){if(e){var O=T.deletions;O===null?(T.deletions=[R],T.flags|=16):O.push(R)}}function r(T,R){if(!e)return null;for(;R!==null;)t(T,R),R=R.sibling;return null}function o(T,R){for(T=new Map;R!==null;)R.key!==null?T.set(R.key,R):T.set(R.index,R),R=R.sibling;return T}function s(T,R){return T=cl(T,R),T.index=0,T.sibling=null,T}function u(T,R,O){return T.index=O,e?(O=T.alternate,O!==null?(O=O.index,O<R?(T.flags|=2,R):O):(T.flags|=2,R)):(T.flags|=1048576,R)}function h(T){return e&&T.alternate===null&&(T.flags|=2),T}function m(T,R,O,j){return R===null||R.tag!==6?(R=m1(O,T.mode,j),R.return=T,R):(R=s(R,O),R.return=T,R)}function f(T,R,O,j){var $=O.type;return $===md?v(T,R,O.props.children,j,O.key):R!==null&&(R.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===za&&VL($)===R.type)?(j=s(R,O.props),j.ref=Kp(T,R,O),j.return=T,j):(j=Tv(O.type,O.key,O.props,null,T.mode,j),j.ref=Kp(T,R,O),j.return=T,j)}function k(T,R,O,j){return R===null||R.tag!==4||R.stateNode.containerInfo!==O.containerInfo||R.stateNode.implementation!==O.implementation?(R=g1(O,T.mode,j),R.return=T,R):(R=s(R,O.children||[]),R.return=T,R)}function v(T,R,O,j,$){return R===null||R.tag!==7?(R=Ec(O,T.mode,j,$),R.return=T,R):(R=s(R,O),R.return=T,R)}function _(T,R,O){if(typeof R=="string"&&R!==""||typeof R=="number")return R=m1(""+R,T.mode,O),R.return=T,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Sk:return O=Tv(R.type,R.key,R.props,null,T.mode,O),O.ref=Kp(T,null,R),O.return=T,O;case fd:return R=g1(R,T.mode,O),R.return=T,R;case za:var j=R._init;return _(T,j(R._payload),O)}if(yf(R)||Up(R))return R=Ec(R,T.mode,O,null),R.return=T,R;jk(T,R)}return null}function y(T,R,O,j){var $=R!==null?R.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return $!==null?null:m(T,R,""+O,j);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Sk:return O.key===$?f(T,R,O,j):null;case fd:return O.key===$?k(T,R,O,j):null;case za:return $=O._init,y(T,R,$(O._payload),j)}if(yf(O)||Up(O))return $!==null?null:v(T,R,O,j,null);jk(T,O)}return null}function A(T,R,O,j,$){if(typeof j=="string"&&j!==""||typeof j=="number")return T=T.get(O)||null,m(R,T,""+j,$);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Sk:return T=T.get(j.key===null?O:j.key)||null,f(R,T,j,$);case fd:return T=T.get(j.key===null?O:j.key)||null,k(R,T,j,$);case za:var H=j._init;return A(T,R,O,H(j._payload),$)}if(yf(j)||Up(j))return T=T.get(O)||null,v(R,T,j,$,null);jk(R,j)}return null}function S(T,R,O,j){for(var $=null,H=null,P=R,z=R=0,q=null;P!==null&&z<O.length;z++){P.index>z?(q=P,P=null):q=P.sibling;var K=y(T,P,O[z],j);if(K===null){P===null&&(P=q);break}e&&P&&K.alternate===null&&t(T,P),R=u(K,R,z),H===null?$=K:H.sibling=K,H=K,P=q}if(z===O.length)return r(T,P),_n&&lc(T,z),$;if(P===null){for(;z<O.length;z++)P=_(T,O[z],j),P!==null&&(R=u(P,R,z),H===null?$=P:H.sibling=P,H=P);return _n&&lc(T,z),$}for(P=o(T,P);z<O.length;z++)q=A(P,T,z,O[z],j),q!==null&&(e&&q.alternate!==null&&P.delete(q.key===null?z:q.key),R=u(q,R,z),H===null?$=q:H.sibling=q,H=q);return e&&P.forEach(function(Q){return t(T,Q)}),_n&&lc(T,z),$}function E(T,R,O,j){var $=Up(O);if(typeof $!="function")throw Error(ve(150));if(O=$.call(O),O==null)throw Error(ve(151));for(var H=$=null,P=R,z=R=0,q=null,K=O.next();P!==null&&!K.done;z++,K=O.next()){P.index>z?(q=P,P=null):q=P.sibling;var Q=y(T,P,K.value,j);if(Q===null){P===null&&(P=q);break}e&&P&&Q.alternate===null&&t(T,P),R=u(Q,R,z),H===null?$=Q:H.sibling=Q,H=Q,P=q}if(K.done)return r(T,P),_n&&lc(T,z),$;if(P===null){for(;!K.done;z++,K=O.next())K=_(T,K.value,j),K!==null&&(R=u(K,R,z),H===null?$=K:H.sibling=K,H=K);return _n&&lc(T,z),$}for(P=o(T,P);!K.done;z++,K=O.next())K=A(P,T,z,K.value,j),K!==null&&(e&&K.alternate!==null&&P.delete(K.key===null?z:K.key),R=u(K,R,z),H===null?$=K:H.sibling=K,H=K);return e&&P.forEach(function(te){return t(T,te)}),_n&&lc(T,z),$}function I(T,R,O,j){if(typeof O=="object"&&O!==null&&O.type===md&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Sk:e:{for(var $=O.key,H=R;H!==null;){if(H.key===$){if($=O.type,$===md){if(H.tag===7){r(T,H.sibling),R=s(H,O.props.children),R.return=T,T=R;break e}}else if(H.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===za&&VL($)===H.type){r(T,H.sibling),R=s(H,O.props),R.ref=Kp(T,H,O),R.return=T,T=R;break e}r(T,H);break}else t(T,H);H=H.sibling}O.type===md?(R=Ec(O.props.children,T.mode,j,O.key),R.return=T,T=R):(j=Tv(O.type,O.key,O.props,null,T.mode,j),j.ref=Kp(T,R,O),j.return=T,T=j)}return h(T);case fd:e:{for(H=O.key;R!==null;){if(R.key===H)if(R.tag===4&&R.stateNode.containerInfo===O.containerInfo&&R.stateNode.implementation===O.implementation){r(T,R.sibling),R=s(R,O.children||[]),R.return=T,T=R;break e}else{r(T,R);break}else t(T,R);R=R.sibling}R=g1(O,T.mode,j),R.return=T,T=R}return h(T);case za:return H=O._init,I(T,R,H(O._payload),j)}if(yf(O))return S(T,R,O,j);if(Up(O))return E(T,R,O,j);jk(T,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,R!==null&&R.tag===6?(r(T,R.sibling),R=s(R,O),R.return=T,T=R):(r(T,R),R=m1(O,T.mode,j),R.return=T,T=R),h(T)):r(T,R)}return I}var Yd=J7(!0),X7=J7(!1),h0=Dl(null),p0=null,Cd=null,KS=null;function YS(){KS=Cd=p0=null}function QS(e){var t=h0.current;gn(h0),e._currentValue=t}function Kx(e,t,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===r)break;e=e.return}}function Pd(e,t){p0=e,KS=Cd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(fo=!0),e.firstContext=null)}function vi(e){var t=e._currentValue;if(KS!==e)if(e={context:e,memoizedValue:t,next:null},Cd===null){if(p0===null)throw Error(ve(308));Cd=e,p0.dependencies={lanes:0,firstContext:e}}else Cd=Cd.next=e;return t}var mc=null;function ZS(e){mc===null?mc=[e]:mc.push(e)}function e$(e,t,r,o){var s=t.interleaved;return s===null?(r.next=r,ZS(t)):(r.next=s.next,s.next=r),t.interleaved=r,ha(e,o)}function ha(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var $a=!1;function JS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sl(e,t,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,Rt&2){var s=o.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),o.pending=t,ha(e,r)}return s=o.interleaved,s===null?(t.next=t,ZS(o)):(t.next=s.next,s.next=t),o.interleaved=t,ha(e,r)}function Cv(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,LS(e,r)}}function UL(e,t){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var s=null,u=null;if(r=r.firstBaseUpdate,r!==null){do{var h={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};u===null?s=u=h:u=u.next=h,r=r.next}while(r!==null);u===null?s=u=t:u=u.next=t}else s=u=t;r={baseState:o.baseState,firstBaseUpdate:s,lastBaseUpdate:u,shared:o.shared,effects:o.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function f0(e,t,r,o){var s=e.updateQueue;$a=!1;var u=s.firstBaseUpdate,h=s.lastBaseUpdate,m=s.shared.pending;if(m!==null){s.shared.pending=null;var f=m,k=f.next;f.next=null,h===null?u=k:h.next=k,h=f;var v=e.alternate;v!==null&&(v=v.updateQueue,m=v.lastBaseUpdate,m!==h&&(m===null?v.firstBaseUpdate=k:m.next=k,v.lastBaseUpdate=f))}if(u!==null){var _=s.baseState;h=0,v=k=f=null,m=u;do{var y=m.lane,A=m.eventTime;if((o&y)===y){v!==null&&(v=v.next={eventTime:A,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var S=e,E=m;switch(y=t,A=r,E.tag){case 1:if(S=E.payload,typeof S=="function"){_=S.call(A,_,y);break e}_=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=E.payload,y=typeof S=="function"?S.call(A,_,y):S,y==null)break e;_=Sn({},_,y);break e;case 2:$a=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,y=s.effects,y===null?s.effects=[m]:y.push(m))}else A={eventTime:A,lane:y,tag:m.tag,payload:m.payload,callback:m.callback,next:null},v===null?(k=v=A,f=_):v=v.next=A,h|=y;if(m=m.next,m===null){if(m=s.shared.pending,m===null)break;y=m,m=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(v===null&&(f=_),s.baseState=f,s.firstBaseUpdate=k,s.lastBaseUpdate=v,t=s.shared.interleaved,t!==null){s=t;do h|=s.lane,s=s.next;while(s!==t)}else u===null&&(s.shared.lanes=0);zc|=h,e.lanes=h,e.memoizedState=_}}function HL(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],s=o.callback;if(s!==null){if(o.callback=null,o=r,typeof s!="function")throw Error(ve(191,s));s.call(o)}}}var cg={},ks=Dl(cg),km=Dl(cg),vm=Dl(cg);function gc(e){if(e===cg)throw Error(ve(174));return e}function XS(e,t){switch(ln(vm,t),ln(km,e),ln(ks,cg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Dx(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Dx(t,e)}gn(ks),ln(ks,t)}function Qd(){gn(ks),gn(km),gn(vm)}function n$(e){gc(vm.current);var t=gc(ks.current),r=Dx(t,e.type);t!==r&&(ln(km,e),ln(ks,r))}function e2(e){km.current===e&&(gn(ks),gn(km))}var An=Dl(0);function m0(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var c1=[];function t2(){for(var e=0;e<c1.length;e++)c1[e]._workInProgressVersionPrimary=null;c1.length=0}var Av=Ca.ReactCurrentDispatcher,u1=Ca.ReactCurrentBatchConfig,Fc=0,En=null,ir=null,fr=null,g0=!1,Ff=!1,wm=0,zle=0;function Mr(){throw Error(ve(321))}function n2(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ui(e[r],t[r]))return!1;return!0}function r2(e,t,r,o,s,u){if(Fc=u,En=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Av.current=e===null||e.memoizedState===null?Hle:Wle,e=r(o,s),Ff){u=0;do{if(Ff=!1,wm=0,25<=u)throw Error(ve(301));u+=1,fr=ir=null,t.updateQueue=null,Av.current=qle,e=r(o,s)}while(Ff)}if(Av.current=b0,t=ir!==null&&ir.next!==null,Fc=0,fr=ir=En=null,g0=!1,t)throw Error(ve(300));return e}function o2(){var e=wm!==0;return wm=0,e}function os(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fr===null?En.memoizedState=fr=e:fr=fr.next=e,fr}function wi(){if(ir===null){var e=En.alternate;e=e!==null?e.memoizedState:null}else e=ir.next;var t=fr===null?En.memoizedState:fr.next;if(t!==null)fr=t,ir=e;else{if(e===null)throw Error(ve(310));ir=e,e={memoizedState:ir.memoizedState,baseState:ir.baseState,baseQueue:ir.baseQueue,queue:ir.queue,next:null},fr===null?En.memoizedState=fr=e:fr=fr.next=e}return fr}function ym(e,t){return typeof t=="function"?t(e):t}function d1(e){var t=wi(),r=t.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var o=ir,s=o.baseQueue,u=r.pending;if(u!==null){if(s!==null){var h=s.next;s.next=u.next,u.next=h}o.baseQueue=s=u,r.pending=null}if(s!==null){u=s.next,o=o.baseState;var m=h=null,f=null,k=u;do{var v=k.lane;if((Fc&v)===v)f!==null&&(f=f.next={lane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),o=k.hasEagerState?k.eagerState:e(o,k.action);else{var _={lane:v,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null};f===null?(m=f=_,h=o):f=f.next=_,En.lanes|=v,zc|=v}k=k.next}while(k!==null&&k!==u);f===null?h=o:f.next=m,Ui(o,t.memoizedState)||(fo=!0),t.memoizedState=o,t.baseState=h,t.baseQueue=f,r.lastRenderedState=o}if(e=r.interleaved,e!==null){s=e;do u=s.lane,En.lanes|=u,zc|=u,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function h1(e){var t=wi(),r=t.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var o=r.dispatch,s=r.pending,u=t.memoizedState;if(s!==null){r.pending=null;var h=s=s.next;do u=e(u,h.action),h=h.next;while(h!==s);Ui(u,t.memoizedState)||(fo=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),r.lastRenderedState=u}return[u,o]}function r$(){}function o$(e,t){var r=En,o=wi(),s=t(),u=!Ui(o.memoizedState,s);if(u&&(o.memoizedState=s,fo=!0),o=o.queue,i2(a$.bind(null,r,o,e),[e]),o.getSnapshot!==t||u||fr!==null&&fr.memoizedState.tag&1){if(r.flags|=2048,_m(9,s$.bind(null,r,o,s,t),void 0,null),gr===null)throw Error(ve(349));Fc&30||i$(r,t,s)}return s}function i$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=En.updateQueue,t===null?(t={lastEffect:null,stores:null},En.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function s$(e,t,r,o){t.value=r,t.getSnapshot=o,l$(t)&&c$(e)}function a$(e,t,r){return r(function(){l$(t)&&c$(e)})}function l$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ui(e,r)}catch{return!0}}function c$(e){var t=ha(e,1);t!==null&&Vi(t,e,1,-1)}function WL(e){var t=os();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ym,lastRenderedState:e},t.queue=e,e=e.dispatch=Ule.bind(null,En,e),[t.memoizedState,e]}function _m(e,t,r,o){return e={tag:e,create:t,destroy:r,deps:o,next:null},t=En.updateQueue,t===null?(t={lastEffect:null,stores:null},En.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,t.lastEffect=e)),e}function u$(){return wi().memoizedState}function xv(e,t,r,o){var s=os();En.flags|=e,s.memoizedState=_m(1|t,r,void 0,o===void 0?null:o)}function Tw(e,t,r,o){var s=wi();o=o===void 0?null:o;var u=void 0;if(ir!==null){var h=ir.memoizedState;if(u=h.destroy,o!==null&&n2(o,h.deps)){s.memoizedState=_m(t,r,u,o);return}}En.flags|=e,s.memoizedState=_m(1|t,r,u,o)}function qL(e,t){return xv(8390656,8,e,t)}function i2(e,t){return Tw(2048,8,e,t)}function d$(e,t){return Tw(4,2,e,t)}function h$(e,t){return Tw(4,4,e,t)}function p$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function f$(e,t,r){return r=r!=null?r.concat([e]):null,Tw(4,4,p$.bind(null,t,e),r)}function s2(){}function m$(e,t){var r=wi();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&n2(t,o[1])?o[0]:(r.memoizedState=[e,t],e)}function g$(e,t){var r=wi();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&n2(t,o[1])?o[0]:(e=e(),r.memoizedState=[e,t],e)}function b$(e,t,r){return Fc&21?(Ui(r,t)||(r=_7(),En.lanes|=r,zc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,fo=!0),e.memoizedState=r)}function $le(e,t){var r=Yt;Yt=r!==0&&4>r?r:4,e(!0);var o=u1.transition;u1.transition={};try{e(!1),t()}finally{Yt=r,u1.transition=o}}function k$(){return wi().memoizedState}function Vle(e,t,r){var o=ll(e);if(r={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null},v$(e))w$(t,r);else if(r=e$(e,t,r,o),r!==null){var s=eo();Vi(r,e,o,s),y$(r,t,o)}}function Ule(e,t,r){var o=ll(e),s={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null};if(v$(e))w$(t,s);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var h=t.lastRenderedState,m=u(h,r);if(s.hasEagerState=!0,s.eagerState=m,Ui(m,h)){var f=t.interleaved;f===null?(s.next=s,ZS(t)):(s.next=f.next,f.next=s),t.interleaved=s;return}}catch{}finally{}r=e$(e,t,s,o),r!==null&&(s=eo(),Vi(r,e,o,s),y$(r,t,o))}}function v$(e){var t=e.alternate;return e===En||t!==null&&t===En}function w$(e,t){Ff=g0=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function y$(e,t,r){if(r&4194240){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,LS(e,r)}}var b0={readContext:vi,useCallback:Mr,useContext:Mr,useEffect:Mr,useImperativeHandle:Mr,useInsertionEffect:Mr,useLayoutEffect:Mr,useMemo:Mr,useReducer:Mr,useRef:Mr,useState:Mr,useDebugValue:Mr,useDeferredValue:Mr,useTransition:Mr,useMutableSource:Mr,useSyncExternalStore:Mr,useId:Mr,unstable_isNewReconciler:!1},Hle={readContext:vi,useCallback:function(e,t){return os().memoizedState=[e,t===void 0?null:t],e},useContext:vi,useEffect:qL,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,xv(4194308,4,p$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return xv(4194308,4,e,t)},useInsertionEffect:function(e,t){return xv(4,2,e,t)},useMemo:function(e,t){var r=os();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var o=os();return t=r!==void 0?r(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Vle.bind(null,En,e),[o.memoizedState,e]},useRef:function(e){var t=os();return e={current:e},t.memoizedState=e},useState:WL,useDebugValue:s2,useDeferredValue:function(e){return os().memoizedState=e},useTransition:function(){var e=WL(!1),t=e[0];return e=$le.bind(null,e[1]),os().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var o=En,s=os();if(_n){if(r===void 0)throw Error(ve(407));r=r()}else{if(r=t(),gr===null)throw Error(ve(349));Fc&30||i$(o,t,r)}s.memoizedState=r;var u={value:r,getSnapshot:t};return s.queue=u,qL(a$.bind(null,o,u,e),[e]),o.flags|=2048,_m(9,s$.bind(null,o,u,r,t),void 0,null),r},useId:function(){var e=os(),t=gr.identifierPrefix;if(_n){var r=ea,o=Xs;r=(o&~(1<<32-$i(o)-1)).toString(32)+r,t=":"+t+"R"+r,r=wm++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=zle++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Wle={readContext:vi,useCallback:m$,useContext:vi,useEffect:i2,useImperativeHandle:f$,useInsertionEffect:d$,useLayoutEffect:h$,useMemo:g$,useReducer:d1,useRef:u$,useState:function(){return d1(ym)},useDebugValue:s2,useDeferredValue:function(e){var t=wi();return b$(t,ir.memoizedState,e)},useTransition:function(){var e=d1(ym)[0],t=wi().memoizedState;return[e,t]},useMutableSource:r$,useSyncExternalStore:o$,useId:k$,unstable_isNewReconciler:!1},qle={readContext:vi,useCallback:m$,useContext:vi,useEffect:i2,useImperativeHandle:f$,useInsertionEffect:d$,useLayoutEffect:h$,useMemo:g$,useReducer:h1,useRef:u$,useState:function(){return h1(ym)},useDebugValue:s2,useDeferredValue:function(e){var t=wi();return ir===null?t.memoizedState=e:b$(t,ir.memoizedState,e)},useTransition:function(){var e=h1(ym)[0],t=wi().memoizedState;return[e,t]},useMutableSource:r$,useSyncExternalStore:o$,useId:k$,unstable_isNewReconciler:!1};function ji(e,t){if(e&&e.defaultProps){t=Sn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Yx(e,t,r,o){t=e.memoizedState,r=r(o,t),r=r==null?t:Sn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Iw={isMounted:function(e){return(e=e._reactInternals)?ou(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var o=eo(),s=ll(e),u=oa(o,s);u.payload=t,r!=null&&(u.callback=r),t=sl(e,u,s),t!==null&&(Vi(t,e,s,o),Cv(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var o=eo(),s=ll(e),u=oa(o,s);u.tag=1,u.payload=t,r!=null&&(u.callback=r),t=sl(e,u,s),t!==null&&(Vi(t,e,s,o),Cv(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=eo(),o=ll(e),s=oa(r,o);s.tag=2,t!=null&&(s.callback=t),t=sl(e,s,o),t!==null&&(Vi(t,e,o,r),Cv(t,e,o))}};function GL(e,t,r,o,s,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,u,h):t.prototype&&t.prototype.isPureReactComponent?!fm(r,o)||!fm(s,u):!0}function _$(e,t,r){var o=!1,s=bl,u=t.contextType;return typeof u=="object"&&u!==null?u=vi(u):(s=go(t)?Lc:Ur.current,o=t.contextTypes,u=(o=o!=null)?Gd(e,s):bl),t=new t(r,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Iw,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=u),t}function KL(e,t,r,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,o),t.state!==e&&Iw.enqueueReplaceState(t,t.state,null)}function Qx(e,t,r,o){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},JS(e);var u=t.contextType;typeof u=="object"&&u!==null?s.context=vi(u):(u=go(t)?Lc:Ur.current,s.context=Gd(e,u)),s.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(Yx(e,t,u,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Iw.enqueueReplaceState(s,s.state,null),f0(e,r,s,o),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Zd(e,t){try{var r="",o=t;do r+=wae(o),o=o.return;while(o);var s=r}catch(u){s=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:s,digest:null}}function p1(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Zx(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Gle=typeof WeakMap=="function"?WeakMap:Map;function C$(e,t,r){r=oa(-1,r),r.tag=3,r.payload={element:null};var o=t.value;return r.callback=function(){v0||(v0=!0,aE=o),Zx(e,t)},r}function A$(e,t,r){r=oa(-1,r),r.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var s=t.value;r.payload=function(){return o(s)},r.callback=function(){Zx(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(r.callback=function(){Zx(e,t),typeof o!="function"&&(al===null?al=new Set([this]):al.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),r}function YL(e,t,r){var o=e.pingCache;if(o===null){o=e.pingCache=new Gle;var s=new Set;o.set(t,s)}else s=o.get(t),s===void 0&&(s=new Set,o.set(t,s));s.has(r)||(s.add(r),e=ace.bind(null,e,t,r),t.then(e,e))}function QL(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ZL(e,t,r,o,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=oa(-1,1),t.tag=2,sl(r,t,1))),r.lanes|=1),e)}var Kle=Ca.ReactCurrentOwner,fo=!1;function Yr(e,t,r,o){t.child=e===null?X7(t,null,r,o):Yd(t,e.child,r,o)}function JL(e,t,r,o,s){r=r.render;var u=t.ref;return Pd(t,s),o=r2(e,t,r,o,u,s),r=o2(),e!==null&&!fo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,pa(e,t,s)):(_n&&r&&WS(t),t.flags|=1,Yr(e,t,o,s),t.child)}function XL(e,t,r,o,s){if(e===null){var u=r.type;return typeof u=="function"&&!f2(u)&&u.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=u,x$(e,t,u,o,s)):(e=Tv(r.type,null,o,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!(e.lanes&s)){var h=u.memoizedProps;if(r=r.compare,r=r!==null?r:fm,r(h,o)&&e.ref===t.ref)return pa(e,t,s)}return t.flags|=1,e=cl(u,o),e.ref=t.ref,e.return=t,t.child=e}function x$(e,t,r,o,s){if(e!==null){var u=e.memoizedProps;if(fm(u,o)&&e.ref===t.ref)if(fo=!1,t.pendingProps=o=u,(e.lanes&s)!==0)e.flags&131072&&(fo=!0);else return t.lanes=e.lanes,pa(e,t,s)}return Jx(e,t,r,o,s)}function E$(e,t,r){var o=t.pendingProps,s=o.children,u=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ln(xd,Ro),Ro|=r;else{if(!(r&1073741824))return e=u!==null?u.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ln(xd,Ro),Ro|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=u!==null?u.baseLanes:r,ln(xd,Ro),Ro|=o}else u!==null?(o=u.baseLanes|r,t.memoizedState=null):o=r,ln(xd,Ro),Ro|=o;return Yr(e,t,s,r),t.child}function S$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Jx(e,t,r,o,s){var u=go(r)?Lc:Ur.current;return u=Gd(t,u),Pd(t,s),r=r2(e,t,r,o,u,s),o=o2(),e!==null&&!fo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,pa(e,t,s)):(_n&&o&&WS(t),t.flags|=1,Yr(e,t,r,s),t.child)}function ej(e,t,r,o,s){if(go(r)){var u=!0;c0(t)}else u=!1;if(Pd(t,s),t.stateNode===null)Ev(e,t),_$(t,r,o),Qx(t,r,o,s),o=!0;else if(e===null){var h=t.stateNode,m=t.memoizedProps;h.props=m;var f=h.context,k=r.contextType;typeof k=="object"&&k!==null?k=vi(k):(k=go(r)?Lc:Ur.current,k=Gd(t,k));var v=r.getDerivedStateFromProps,_=typeof v=="function"||typeof h.getSnapshotBeforeUpdate=="function";_||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(m!==o||f!==k)&&KL(t,h,o,k),$a=!1;var y=t.memoizedState;h.state=y,f0(t,o,h,s),f=t.memoizedState,m!==o||y!==f||mo.current||$a?(typeof v=="function"&&(Yx(t,r,v,o),f=t.memoizedState),(m=$a||GL(t,r,m,o,y,f,k))?(_||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=f),h.props=o,h.state=f,h.context=k,o=m):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{h=t.stateNode,t$(e,t),m=t.memoizedProps,k=t.type===t.elementType?m:ji(t.type,m),h.props=k,_=t.pendingProps,y=h.context,f=r.contextType,typeof f=="object"&&f!==null?f=vi(f):(f=go(r)?Lc:Ur.current,f=Gd(t,f));var A=r.getDerivedStateFromProps;(v=typeof A=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(m!==_||y!==f)&&KL(t,h,o,f),$a=!1,y=t.memoizedState,h.state=y,f0(t,o,h,s);var S=t.memoizedState;m!==_||y!==S||mo.current||$a?(typeof A=="function"&&(Yx(t,r,A,o),S=t.memoizedState),(k=$a||GL(t,r,k,o,y,S,f)||!1)?(v||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,S,f),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,S,f)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||m===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=S),h.props=o,h.state=S,h.context=f,o=k):(typeof h.componentDidUpdate!="function"||m===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),o=!1)}return Xx(e,t,r,o,u,s)}function Xx(e,t,r,o,s,u){S$(e,t);var h=(t.flags&128)!==0;if(!o&&!h)return s&&FL(t,r,!1),pa(e,t,u);o=t.stateNode,Kle.current=t;var m=h&&typeof r.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&h?(t.child=Yd(t,e.child,null,u),t.child=Yd(t,null,m,u)):Yr(e,t,m,u),t.memoizedState=o.state,s&&FL(t,r,!0),t.child}function D$(e){var t=e.stateNode;t.pendingContext?jL(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jL(e,t.context,!1),XS(e,t.containerInfo)}function tj(e,t,r,o,s){return Kd(),GS(s),t.flags|=256,Yr(e,t,r,o),t.child}var eE={dehydrated:null,treeContext:null,retryLane:0};function tE(e){return{baseLanes:e,cachePool:null,transitions:null}}function T$(e,t,r){var o=t.pendingProps,s=An.current,u=!1,h=(t.flags&128)!==0,m;if((m=h)||(m=e!==null&&e.memoizedState===null?!1:(s&2)!==0),m?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ln(An,s&1),e===null)return Gx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(h=o.children,e=o.fallback,u?(o=t.mode,u=t.child,h={mode:"hidden",children:h},!(o&1)&&u!==null?(u.childLanes=0,u.pendingProps=h):u=Nw(h,o,0,null),e=Ec(e,o,r,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=tE(r),t.memoizedState=eE,e):a2(t,h));if(s=e.memoizedState,s!==null&&(m=s.dehydrated,m!==null))return Yle(e,t,h,o,m,s,r);if(u){u=o.fallback,h=t.mode,s=e.child,m=s.sibling;var f={mode:"hidden",children:o.children};return!(h&1)&&t.child!==s?(o=t.child,o.childLanes=0,o.pendingProps=f,t.deletions=null):(o=cl(s,f),o.subtreeFlags=s.subtreeFlags&14680064),m!==null?u=cl(m,u):(u=Ec(u,h,r,null),u.flags|=2),u.return=t,o.return=t,o.sibling=u,t.child=o,o=u,u=t.child,h=e.child.memoizedState,h=h===null?tE(r):{baseLanes:h.baseLanes|r,cachePool:null,transitions:h.transitions},u.memoizedState=h,u.childLanes=e.childLanes&~r,t.memoizedState=eE,o}return u=e.child,e=u.sibling,o=cl(u,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=r),o.return=t,o.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=o,t.memoizedState=null,o}function a2(e,t){return t=Nw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fk(e,t,r,o){return o!==null&&GS(o),Yd(t,e.child,null,r),e=a2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yle(e,t,r,o,s,u,h){if(r)return t.flags&256?(t.flags&=-257,o=p1(Error(ve(422))),Fk(e,t,h,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=o.fallback,s=t.mode,o=Nw({mode:"visible",children:o.children},s,0,null),u=Ec(u,s,h,null),u.flags|=2,o.return=t,u.return=t,o.sibling=u,t.child=o,t.mode&1&&Yd(t,e.child,null,h),t.child.memoizedState=tE(h),t.memoizedState=eE,u);if(!(t.mode&1))return Fk(e,t,h,null);if(s.data==="$!"){if(o=s.nextSibling&&s.nextSibling.dataset,o)var m=o.dgst;return o=m,u=Error(ve(419)),o=p1(u,o,void 0),Fk(e,t,h,o)}if(m=(h&e.childLanes)!==0,fo||m){if(o=gr,o!==null){switch(h&-h){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(o.suspendedLanes|h)?0:s,s!==0&&s!==u.retryLane&&(u.retryLane=s,ha(e,s),Vi(o,e,s,-1))}return p2(),o=p1(Error(ve(421))),Fk(e,t,h,o)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=lce.bind(null,e),s._reactRetry=t,null):(e=u.treeContext,Lo=il(s.nextSibling),zo=t,_n=!0,zi=null,e!==null&&(ui[di++]=Xs,ui[di++]=ea,ui[di++]=jc,Xs=e.id,ea=e.overflow,jc=t),t=a2(t,o.children),t.flags|=4096,t)}function nj(e,t,r){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Kx(e.return,t,r)}function f1(e,t,r,o,s){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:s}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=o,u.tail=r,u.tailMode=s)}function I$(e,t,r){var o=t.pendingProps,s=o.revealOrder,u=o.tail;if(Yr(e,t,o.children,r),o=An.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nj(e,r,t);else if(e.tag===19)nj(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(ln(An,o),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&m0(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),f1(t,!1,s,r,u);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&m0(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}f1(t,!0,r,null,u);break;case"together":f1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ev(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pa(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),zc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ve(153));if(t.child!==null){for(e=t.child,r=cl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=cl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Qle(e,t,r){switch(t.tag){case 3:D$(t),Kd();break;case 5:n$(t);break;case 1:go(t.type)&&c0(t);break;case 4:XS(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,s=t.memoizedProps.value;ln(h0,o._currentValue),o._currentValue=s;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(ln(An,An.current&1),t.flags|=128,null):r&t.child.childLanes?T$(e,t,r):(ln(An,An.current&1),e=pa(e,t,r),e!==null?e.sibling:null);ln(An,An.current&1);break;case 19:if(o=(r&t.childLanes)!==0,e.flags&128){if(o)return I$(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ln(An,An.current),o)break;return null;case 22:case 23:return t.lanes=0,E$(e,t,r)}return pa(e,t,r)}var M$,nE,P$,N$;M$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};nE=function(){};P$=function(e,t,r,o){var s=e.memoizedProps;if(s!==o){e=t.stateNode,gc(ks.current);var u=null;switch(r){case"input":s=Ax(e,s),o=Ax(e,o),u=[];break;case"select":s=Sn({},s,{value:void 0}),o=Sn({},o,{value:void 0}),u=[];break;case"textarea":s=Sx(e,s),o=Sx(e,o),u=[];break;default:typeof s.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=a0)}Tx(r,o);var h;r=null;for(k in s)if(!o.hasOwnProperty(k)&&s.hasOwnProperty(k)&&s[k]!=null)if(k==="style"){var m=s[k];for(h in m)m.hasOwnProperty(h)&&(r||(r={}),r[h]="")}else k!=="dangerouslySetInnerHTML"&&k!=="children"&&k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(am.hasOwnProperty(k)?u||(u=[]):(u=u||[]).push(k,null));for(k in o){var f=o[k];if(m=s!=null?s[k]:void 0,o.hasOwnProperty(k)&&f!==m&&(f!=null||m!=null))if(k==="style")if(m){for(h in m)!m.hasOwnProperty(h)||f&&f.hasOwnProperty(h)||(r||(r={}),r[h]="");for(h in f)f.hasOwnProperty(h)&&m[h]!==f[h]&&(r||(r={}),r[h]=f[h])}else r||(u||(u=[]),u.push(k,r)),r=f;else k==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,m=m?m.__html:void 0,f!=null&&m!==f&&(u=u||[]).push(k,f)):k==="children"?typeof f!="string"&&typeof f!="number"||(u=u||[]).push(k,""+f):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&(am.hasOwnProperty(k)?(f!=null&&k==="onScroll"&&hn("scroll",e),u||m===f||(u=[])):(u=u||[]).push(k,f))}r&&(u=u||[]).push("style",r);var k=u;(t.updateQueue=k)&&(t.flags|=4)}};N$=function(e,t,r,o){r!==o&&(t.flags|=4)};function Yp(e,t){if(!_n)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Pr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,o|=s.subtreeFlags&14680064,o|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,o|=s.subtreeFlags,o|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=o,e.childLanes=r,t}function Zle(e,t,r){var o=t.pendingProps;switch(qS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(t),null;case 1:return go(t.type)&&l0(),Pr(t),null;case 3:return o=t.stateNode,Qd(),gn(mo),gn(Ur),t2(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Lk(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zi!==null&&(uE(zi),zi=null))),nE(e,t),Pr(t),null;case 5:e2(t);var s=gc(vm.current);if(r=t.type,e!==null&&t.stateNode!=null)P$(e,t,r,o,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(ve(166));return Pr(t),null}if(e=gc(ks.current),Lk(t)){o=t.stateNode,r=t.type;var u=t.memoizedProps;switch(o[cs]=t,o[bm]=u,e=(t.mode&1)!==0,r){case"dialog":hn("cancel",o),hn("close",o);break;case"iframe":case"object":case"embed":hn("load",o);break;case"video":case"audio":for(s=0;s<Cf.length;s++)hn(Cf[s],o);break;case"source":hn("error",o);break;case"img":case"image":case"link":hn("error",o),hn("load",o);break;case"details":hn("toggle",o);break;case"input":dL(o,u),hn("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!u.multiple},hn("invalid",o);break;case"textarea":pL(o,u),hn("invalid",o)}Tx(r,u),s=null;for(var h in u)if(u.hasOwnProperty(h)){var m=u[h];h==="children"?typeof m=="string"?o.textContent!==m&&(u.suppressHydrationWarning!==!0&&Bk(o.textContent,m,e),s=["children",m]):typeof m=="number"&&o.textContent!==""+m&&(u.suppressHydrationWarning!==!0&&Bk(o.textContent,m,e),s=["children",""+m]):am.hasOwnProperty(h)&&m!=null&&h==="onScroll"&&hn("scroll",o)}switch(r){case"input":Dk(o),hL(o,u,!0);break;case"textarea":Dk(o),fL(o);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(o.onclick=a0)}o=s,t.updateQueue=o,o!==null&&(t.flags|=4)}else{h=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=a7(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=h.createElement(r,{is:o.is}):(e=h.createElement(r),r==="select"&&(h=e,o.multiple?h.multiple=!0:o.size&&(h.size=o.size))):e=h.createElementNS(e,r),e[cs]=t,e[bm]=o,M$(e,t,!1,!1),t.stateNode=e;e:{switch(h=Ix(r,o),r){case"dialog":hn("cancel",e),hn("close",e),s=o;break;case"iframe":case"object":case"embed":hn("load",e),s=o;break;case"video":case"audio":for(s=0;s<Cf.length;s++)hn(Cf[s],e);s=o;break;case"source":hn("error",e),s=o;break;case"img":case"image":case"link":hn("error",e),hn("load",e),s=o;break;case"details":hn("toggle",e),s=o;break;case"input":dL(e,o),s=Ax(e,o),hn("invalid",e);break;case"option":s=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},s=Sn({},o,{value:void 0}),hn("invalid",e);break;case"textarea":pL(e,o),s=Sx(e,o),hn("invalid",e);break;default:s=o}Tx(r,s),m=s;for(u in m)if(m.hasOwnProperty(u)){var f=m[u];u==="style"?u7(e,f):u==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&l7(e,f)):u==="children"?typeof f=="string"?(r!=="textarea"||f!=="")&&lm(e,f):typeof f=="number"&&lm(e,""+f):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(am.hasOwnProperty(u)?f!=null&&u==="onScroll"&&hn("scroll",e):f!=null&&MS(e,u,f,h))}switch(r){case"input":Dk(e),hL(e,o,!1);break;case"textarea":Dk(e),fL(e);break;case"option":o.value!=null&&e.setAttribute("value",""+gl(o.value));break;case"select":e.multiple=!!o.multiple,u=o.value,u!=null?Dd(e,!!o.multiple,u,!1):o.defaultValue!=null&&Dd(e,!!o.multiple,o.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=a0)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pr(t),null;case 6:if(e&&t.stateNode!=null)N$(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(ve(166));if(r=gc(vm.current),gc(ks.current),Lk(t)){if(o=t.stateNode,r=t.memoizedProps,o[cs]=t,(u=o.nodeValue!==r)&&(e=zo,e!==null))switch(e.tag){case 3:Bk(o.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bk(o.nodeValue,r,(e.mode&1)!==0)}u&&(t.flags|=4)}else o=(r.nodeType===9?r:r.ownerDocument).createTextNode(o),o[cs]=t,t.stateNode=o}return Pr(t),null;case 13:if(gn(An),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_n&&Lo!==null&&t.mode&1&&!(t.flags&128))Z7(),Kd(),t.flags|=98560,u=!1;else if(u=Lk(t),o!==null&&o.dehydrated!==null){if(e===null){if(!u)throw Error(ve(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(ve(317));u[cs]=t}else Kd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pr(t),u=!1}else zi!==null&&(uE(zi),zi=null),u=!0;if(!u)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||An.current&1?sr===0&&(sr=3):p2())),t.updateQueue!==null&&(t.flags|=4),Pr(t),null);case 4:return Qd(),nE(e,t),e===null&&mm(t.stateNode.containerInfo),Pr(t),null;case 10:return QS(t.type._context),Pr(t),null;case 17:return go(t.type)&&l0(),Pr(t),null;case 19:if(gn(An),u=t.memoizedState,u===null)return Pr(t),null;if(o=(t.flags&128)!==0,h=u.rendering,h===null)if(o)Yp(u,!1);else{if(sr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(h=m0(e),h!==null){for(t.flags|=128,Yp(u,!1),o=h.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=r,r=t.child;r!==null;)u=r,e=o,u.flags&=14680066,h=u.alternate,h===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=h.childLanes,u.lanes=h.lanes,u.child=h.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=h.memoizedProps,u.memoizedState=h.memoizedState,u.updateQueue=h.updateQueue,u.type=h.type,e=h.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ln(An,An.current&1|2),t.child}e=e.sibling}u.tail!==null&&Un()>Jd&&(t.flags|=128,o=!0,Yp(u,!1),t.lanes=4194304)}else{if(!o)if(e=m0(h),e!==null){if(t.flags|=128,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Yp(u,!0),u.tail===null&&u.tailMode==="hidden"&&!h.alternate&&!_n)return Pr(t),null}else 2*Un()-u.renderingStartTime>Jd&&r!==1073741824&&(t.flags|=128,o=!0,Yp(u,!1),t.lanes=4194304);u.isBackwards?(h.sibling=t.child,t.child=h):(r=u.last,r!==null?r.sibling=h:t.child=h,u.last=h)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Un(),t.sibling=null,r=An.current,ln(An,o?r&1|2:r&1),t):(Pr(t),null);case 22:case 23:return h2(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?Ro&1073741824&&(Pr(t),t.subtreeFlags&6&&(t.flags|=8192)):Pr(t),null;case 24:return null;case 25:return null}throw Error(ve(156,t.tag))}function Jle(e,t){switch(qS(t),t.tag){case 1:return go(t.type)&&l0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qd(),gn(mo),gn(Ur),t2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return e2(t),null;case 13:if(gn(An),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ve(340));Kd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return gn(An),null;case 4:return Qd(),null;case 10:return QS(t.type._context),null;case 22:case 23:return h2(),null;case 24:return null;default:return null}}var zk=!1,Br=!1,Xle=typeof WeakSet=="function"?WeakSet:Set,je=null;function Ad(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(o){Rn(e,t,o)}else r.current=null}function rE(e,t,r){try{r()}catch(o){Rn(e,t,o)}}var rj=!1;function ece(e,t){if(zx=o0,e=j7(),HS(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var s=o.anchorOffset,u=o.focusNode;o=o.focusOffset;try{r.nodeType,u.nodeType}catch{r=null;break e}var h=0,m=-1,f=-1,k=0,v=0,_=e,y=null;t:for(;;){for(var A;_!==r||s!==0&&_.nodeType!==3||(m=h+s),_!==u||o!==0&&_.nodeType!==3||(f=h+o),_.nodeType===3&&(h+=_.nodeValue.length),(A=_.firstChild)!==null;)y=_,_=A;for(;;){if(_===e)break t;if(y===r&&++k===s&&(m=h),y===u&&++v===o&&(f=h),(A=_.nextSibling)!==null)break;_=y,y=_.parentNode}_=A}r=m===-1||f===-1?null:{start:m,end:f}}else r=null}r=r||{start:0,end:0}}else r=null;for($x={focusedElem:e,selectionRange:r},o0=!1,je=t;je!==null;)if(t=je,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,je=e;else for(;je!==null;){t=je;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var E=S.memoizedProps,I=S.memoizedState,T=t.stateNode,R=T.getSnapshotBeforeUpdate(t.elementType===t.type?E:ji(t.type,E),I);T.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(j){Rn(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,je=e;break}je=t.return}return S=rj,rj=!1,S}function zf(e,t,r){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&e)===e){var u=s.destroy;s.destroy=void 0,u!==void 0&&rE(t,r,u)}s=s.next}while(s!==o)}}function Mw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var o=r.create;r.destroy=o()}r=r.next}while(r!==t)}}function oE(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function R$(e){var t=e.alternate;t!==null&&(e.alternate=null,R$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cs],delete t[bm],delete t[Hx],delete t[Ble],delete t[Lle])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function O$(e){return e.tag===5||e.tag===3||e.tag===4}function oj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||O$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function iE(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=a0));else if(o!==4&&(e=e.child,e!==null))for(iE(e,t,r),e=e.sibling;e!==null;)iE(e,t,r),e=e.sibling}function sE(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(sE(e,t,r),e=e.sibling;e!==null;)sE(e,t,r),e=e.sibling}var Ar=null,Fi=!1;function Oa(e,t,r){for(r=r.child;r!==null;)B$(e,t,r),r=r.sibling}function B$(e,t,r){if(bs&&typeof bs.onCommitFiberUnmount=="function")try{bs.onCommitFiberUnmount(Cw,r)}catch{}switch(r.tag){case 5:Br||Ad(r,t);case 6:var o=Ar,s=Fi;Ar=null,Oa(e,t,r),Ar=o,Fi=s,Ar!==null&&(Fi?(e=Ar,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ar.removeChild(r.stateNode));break;case 18:Ar!==null&&(Fi?(e=Ar,r=r.stateNode,e.nodeType===8?a1(e.parentNode,r):e.nodeType===1&&a1(e,r),hm(e)):a1(Ar,r.stateNode));break;case 4:o=Ar,s=Fi,Ar=r.stateNode.containerInfo,Fi=!0,Oa(e,t,r),Ar=o,Fi=s;break;case 0:case 11:case 14:case 15:if(!Br&&(o=r.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){s=o=o.next;do{var u=s,h=u.destroy;u=u.tag,h!==void 0&&(u&2||u&4)&&rE(r,t,h),s=s.next}while(s!==o)}Oa(e,t,r);break;case 1:if(!Br&&(Ad(r,t),o=r.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=r.memoizedProps,o.state=r.memoizedState,o.componentWillUnmount()}catch(m){Rn(r,t,m)}Oa(e,t,r);break;case 21:Oa(e,t,r);break;case 22:r.mode&1?(Br=(o=Br)||r.memoizedState!==null,Oa(e,t,r),Br=o):Oa(e,t,r);break;default:Oa(e,t,r)}}function ij(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Xle),t.forEach(function(o){var s=cce.bind(null,e,o);r.has(o)||(r.add(o),o.then(s,s))})}}function Li(e,t){var r=t.deletions;if(r!==null)for(var o=0;o<r.length;o++){var s=r[o];try{var u=e,h=t,m=h;e:for(;m!==null;){switch(m.tag){case 5:Ar=m.stateNode,Fi=!1;break e;case 3:Ar=m.stateNode.containerInfo,Fi=!0;break e;case 4:Ar=m.stateNode.containerInfo,Fi=!0;break e}m=m.return}if(Ar===null)throw Error(ve(160));B$(u,h,s),Ar=null,Fi=!1;var f=s.alternate;f!==null&&(f.return=null),s.return=null}catch(k){Rn(s,t,k)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)L$(t,e),t=t.sibling}function L$(e,t){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Li(t,e),ns(e),o&4){try{zf(3,e,e.return),Mw(3,e)}catch(E){Rn(e,e.return,E)}try{zf(5,e,e.return)}catch(E){Rn(e,e.return,E)}}break;case 1:Li(t,e),ns(e),o&512&&r!==null&&Ad(r,r.return);break;case 5:if(Li(t,e),ns(e),o&512&&r!==null&&Ad(r,r.return),e.flags&32){var s=e.stateNode;try{lm(s,"")}catch(E){Rn(e,e.return,E)}}if(o&4&&(s=e.stateNode,s!=null)){var u=e.memoizedProps,h=r!==null?r.memoizedProps:u,m=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{m==="input"&&u.type==="radio"&&u.name!=null&&i7(s,u),Ix(m,h);var k=Ix(m,u);for(h=0;h<f.length;h+=2){var v=f[h],_=f[h+1];v==="style"?u7(s,_):v==="dangerouslySetInnerHTML"?l7(s,_):v==="children"?lm(s,_):MS(s,v,_,k)}switch(m){case"input":xx(s,u);break;case"textarea":s7(s,u);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!u.multiple;var A=u.value;A!=null?Dd(s,!!u.multiple,A,!1):y!==!!u.multiple&&(u.defaultValue!=null?Dd(s,!!u.multiple,u.defaultValue,!0):Dd(s,!!u.multiple,u.multiple?[]:"",!1))}s[bm]=u}catch(E){Rn(e,e.return,E)}}break;case 6:if(Li(t,e),ns(e),o&4){if(e.stateNode===null)throw Error(ve(162));s=e.stateNode,u=e.memoizedProps;try{s.nodeValue=u}catch(E){Rn(e,e.return,E)}}break;case 3:if(Li(t,e),ns(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{hm(t.containerInfo)}catch(E){Rn(e,e.return,E)}break;case 4:Li(t,e),ns(e);break;case 13:Li(t,e),ns(e),s=e.child,s.flags&8192&&(u=s.memoizedState!==null,s.stateNode.isHidden=u,!u||s.alternate!==null&&s.alternate.memoizedState!==null||(u2=Un())),o&4&&ij(e);break;case 22:if(v=r!==null&&r.memoizedState!==null,e.mode&1?(Br=(k=Br)||v,Li(t,e),Br=k):Li(t,e),ns(e),o&8192){if(k=e.memoizedState!==null,(e.stateNode.isHidden=k)&&!v&&e.mode&1)for(je=e,v=e.child;v!==null;){for(_=je=v;je!==null;){switch(y=je,A=y.child,y.tag){case 0:case 11:case 14:case 15:zf(4,y,y.return);break;case 1:Ad(y,y.return);var S=y.stateNode;if(typeof S.componentWillUnmount=="function"){o=y,r=y.return;try{t=o,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(E){Rn(o,r,E)}}break;case 5:Ad(y,y.return);break;case 22:if(y.memoizedState!==null){aj(_);continue}}A!==null?(A.return=y,je=A):aj(_)}v=v.sibling}e:for(v=null,_=e;;){if(_.tag===5){if(v===null){v=_;try{s=_.stateNode,k?(u=s.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(m=_.stateNode,f=_.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null,m.style.display=c7("display",h))}catch(E){Rn(e,e.return,E)}}}else if(_.tag===6){if(v===null)try{_.stateNode.nodeValue=k?"":_.memoizedProps}catch(E){Rn(e,e.return,E)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===e)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===e)break e;for(;_.sibling===null;){if(_.return===null||_.return===e)break e;v===_&&(v=null),_=_.return}v===_&&(v=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:Li(t,e),ns(e),o&4&&ij(e);break;case 21:break;default:Li(t,e),ns(e)}}function ns(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(O$(r)){var o=r;break e}r=r.return}throw Error(ve(160))}switch(o.tag){case 5:var s=o.stateNode;o.flags&32&&(lm(s,""),o.flags&=-33);var u=oj(e);sE(e,u,s);break;case 3:case 4:var h=o.stateNode.containerInfo,m=oj(e);iE(e,m,h);break;default:throw Error(ve(161))}}catch(f){Rn(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tce(e,t,r){je=e,j$(e)}function j$(e,t,r){for(var o=(e.mode&1)!==0;je!==null;){var s=je,u=s.child;if(s.tag===22&&o){var h=s.memoizedState!==null||zk;if(!h){var m=s.alternate,f=m!==null&&m.memoizedState!==null||Br;m=zk;var k=Br;if(zk=h,(Br=f)&&!k)for(je=s;je!==null;)h=je,f=h.child,h.tag===22&&h.memoizedState!==null?lj(s):f!==null?(f.return=h,je=f):lj(s);for(;u!==null;)je=u,j$(u),u=u.sibling;je=s,zk=m,Br=k}sj(e)}else s.subtreeFlags&8772&&u!==null?(u.return=s,je=u):sj(e)}}function sj(e){for(;je!==null;){var t=je;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Br||Mw(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Br)if(r===null)o.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ji(t.type,r.memoizedProps);o.componentDidUpdate(s,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&HL(t,u,o);break;case 3:var h=t.updateQueue;if(h!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}HL(t,h,r)}break;case 5:var m=t.stateNode;if(r===null&&t.flags&4){r=m;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&r.focus();break;case"img":f.src&&(r.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var k=t.alternate;if(k!==null){var v=k.memoizedState;if(v!==null){var _=v.dehydrated;_!==null&&hm(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}Br||t.flags&512&&oE(t)}catch(y){Rn(t,t.return,y)}}if(t===e){je=null;break}if(r=t.sibling,r!==null){r.return=t.return,je=r;break}je=t.return}}function aj(e){for(;je!==null;){var t=je;if(t===e){je=null;break}var r=t.sibling;if(r!==null){r.return=t.return,je=r;break}je=t.return}}function lj(e){for(;je!==null;){var t=je;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Mw(4,t)}catch(f){Rn(t,r,f)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var s=t.return;try{o.componentDidMount()}catch(f){Rn(t,s,f)}}var u=t.return;try{oE(t)}catch(f){Rn(t,u,f)}break;case 5:var h=t.return;try{oE(t)}catch(f){Rn(t,h,f)}}}catch(f){Rn(t,t.return,f)}if(t===e){je=null;break}var m=t.sibling;if(m!==null){m.return=t.return,je=m;break}je=t.return}}var nce=Math.ceil,k0=Ca.ReactCurrentDispatcher,l2=Ca.ReactCurrentOwner,gi=Ca.ReactCurrentBatchConfig,Rt=0,gr=null,Jn=null,Dr=0,Ro=0,xd=Dl(0),sr=0,Cm=null,zc=0,Pw=0,c2=0,$f=null,ho=null,u2=0,Jd=1/0,Gs=null,v0=!1,aE=null,al=null,$k=!1,Qa=null,w0=0,Vf=0,lE=null,Sv=-1,Dv=0;function eo(){return Rt&6?Un():Sv!==-1?Sv:Sv=Un()}function ll(e){return e.mode&1?Rt&2&&Dr!==0?Dr&-Dr:Fle.transition!==null?(Dv===0&&(Dv=_7()),Dv):(e=Yt,e!==0||(e=window.event,e=e===void 0?16:T7(e.type)),e):1}function Vi(e,t,r,o){if(50<Vf)throw Vf=0,lE=null,Error(ve(185));sg(e,r,o),(!(Rt&2)||e!==gr)&&(e===gr&&(!(Rt&2)&&(Pw|=r),sr===4&&Ua(e,Dr)),bo(e,o),r===1&&Rt===0&&!(t.mode&1)&&(Jd=Un()+500,Dw&&Tl()))}function bo(e,t){var r=e.callbackNode;Fae(e,t);var o=r0(e,e===gr?Dr:0);if(o===0)r!==null&&bL(r),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(r!=null&&bL(r),t===1)e.tag===0?jle(cj.bind(null,e)):K7(cj.bind(null,e)),Rle(function(){!(Rt&6)&&Tl()}),r=null;else{switch(C7(o)){case 1:r=BS;break;case 4:r=w7;break;case 16:r=n0;break;case 536870912:r=y7;break;default:r=n0}r=q$(r,F$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function F$(e,t){if(Sv=-1,Dv=0,Rt&6)throw Error(ve(327));var r=e.callbackNode;if(Nd()&&e.callbackNode!==r)return null;var o=r0(e,e===gr?Dr:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=y0(e,o);else{t=o;var s=Rt;Rt|=2;var u=$$();(gr!==e||Dr!==t)&&(Gs=null,Jd=Un()+500,xc(e,t));do try{ice();break}catch(m){z$(e,m)}while(!0);YS(),k0.current=u,Rt=s,Jn!==null?t=0:(gr=null,Dr=0,t=sr)}if(t!==0){if(t===2&&(s=Ox(e),s!==0&&(o=s,t=cE(e,s))),t===1)throw r=Cm,xc(e,0),Ua(e,o),bo(e,Un()),r;if(t===6)Ua(e,o);else{if(s=e.current.alternate,!(o&30)&&!rce(s)&&(t=y0(e,o),t===2&&(u=Ox(e),u!==0&&(o=u,t=cE(e,u))),t===1))throw r=Cm,xc(e,0),Ua(e,o),bo(e,Un()),r;switch(e.finishedWork=s,e.finishedLanes=o,t){case 0:case 1:throw Error(ve(345));case 2:cc(e,ho,Gs);break;case 3:if(Ua(e,o),(o&130023424)===o&&(t=u2+500-Un(),10<t)){if(r0(e,0)!==0)break;if(s=e.suspendedLanes,(s&o)!==o){eo(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ux(cc.bind(null,e,ho,Gs),t);break}cc(e,ho,Gs);break;case 4:if(Ua(e,o),(o&4194240)===o)break;for(t=e.eventTimes,s=-1;0<o;){var h=31-$i(o);u=1<<h,h=t[h],h>s&&(s=h),o&=~u}if(o=s,o=Un()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*nce(o/1960))-o,10<o){e.timeoutHandle=Ux(cc.bind(null,e,ho,Gs),o);break}cc(e,ho,Gs);break;case 5:cc(e,ho,Gs);break;default:throw Error(ve(329))}}}return bo(e,Un()),e.callbackNode===r?F$.bind(null,e):null}function cE(e,t){var r=$f;return e.current.memoizedState.isDehydrated&&(xc(e,t).flags|=256),e=y0(e,t),e!==2&&(t=ho,ho=r,t!==null&&uE(t)),e}function uE(e){ho===null?ho=e:ho.push.apply(ho,e)}function rce(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var o=0;o<r.length;o++){var s=r[o],u=s.getSnapshot;s=s.value;try{if(!Ui(u(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ua(e,t){for(t&=~c2,t&=~Pw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-$i(t),o=1<<r;e[r]=-1,t&=~o}}function cj(e){if(Rt&6)throw Error(ve(327));Nd();var t=r0(e,0);if(!(t&1))return bo(e,Un()),null;var r=y0(e,t);if(e.tag!==0&&r===2){var o=Ox(e);o!==0&&(t=o,r=cE(e,o))}if(r===1)throw r=Cm,xc(e,0),Ua(e,t),bo(e,Un()),r;if(r===6)throw Error(ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cc(e,ho,Gs),bo(e,Un()),null}function d2(e,t){var r=Rt;Rt|=1;try{return e(t)}finally{Rt=r,Rt===0&&(Jd=Un()+500,Dw&&Tl())}}function $c(e){Qa!==null&&Qa.tag===0&&!(Rt&6)&&Nd();var t=Rt;Rt|=1;var r=gi.transition,o=Yt;try{if(gi.transition=null,Yt=1,e)return e()}finally{Yt=o,gi.transition=r,Rt=t,!(Rt&6)&&Tl()}}function h2(){Ro=xd.current,gn(xd)}function xc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Nle(r)),Jn!==null)for(r=Jn.return;r!==null;){var o=r;switch(qS(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&l0();break;case 3:Qd(),gn(mo),gn(Ur),t2();break;case 5:e2(o);break;case 4:Qd();break;case 13:gn(An);break;case 19:gn(An);break;case 10:QS(o.type._context);break;case 22:case 23:h2()}r=r.return}if(gr=e,Jn=e=cl(e.current,null),Dr=Ro=t,sr=0,Cm=null,c2=Pw=zc=0,ho=$f=null,mc!==null){for(t=0;t<mc.length;t++)if(r=mc[t],o=r.interleaved,o!==null){r.interleaved=null;var s=o.next,u=r.pending;if(u!==null){var h=u.next;u.next=s,o.next=h}r.pending=o}mc=null}return e}function z$(e,t){do{var r=Jn;try{if(YS(),Av.current=b0,g0){for(var o=En.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}g0=!1}if(Fc=0,fr=ir=En=null,Ff=!1,wm=0,l2.current=null,r===null||r.return===null){sr=1,Cm=t,Jn=null;break}e:{var u=e,h=r.return,m=r,f=t;if(t=Dr,m.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var k=f,v=m,_=v.tag;if(!(v.mode&1)&&(_===0||_===11||_===15)){var y=v.alternate;y?(v.updateQueue=y.updateQueue,v.memoizedState=y.memoizedState,v.lanes=y.lanes):(v.updateQueue=null,v.memoizedState=null)}var A=QL(h);if(A!==null){A.flags&=-257,ZL(A,h,m,u,t),A.mode&1&&YL(u,k,t),t=A,f=k;var S=t.updateQueue;if(S===null){var E=new Set;E.add(f),t.updateQueue=E}else S.add(f);break e}else{if(!(t&1)){YL(u,k,t),p2();break e}f=Error(ve(426))}}else if(_n&&m.mode&1){var I=QL(h);if(I!==null){!(I.flags&65536)&&(I.flags|=256),ZL(I,h,m,u,t),GS(Zd(f,m));break e}}u=f=Zd(f,m),sr!==4&&(sr=2),$f===null?$f=[u]:$f.push(u),u=h;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var T=C$(u,f,t);UL(u,T);break e;case 1:m=f;var R=u.type,O=u.stateNode;if(!(u.flags&128)&&(typeof R.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(al===null||!al.has(O)))){u.flags|=65536,t&=-t,u.lanes|=t;var j=A$(u,m,t);UL(u,j);break e}}u=u.return}while(u!==null)}U$(r)}catch($){t=$,Jn===r&&r!==null&&(Jn=r=r.return);continue}break}while(!0)}function $$(){var e=k0.current;return k0.current=b0,e===null?b0:e}function p2(){(sr===0||sr===3||sr===2)&&(sr=4),gr===null||!(zc&268435455)&&!(Pw&268435455)||Ua(gr,Dr)}function y0(e,t){var r=Rt;Rt|=2;var o=$$();(gr!==e||Dr!==t)&&(Gs=null,xc(e,t));do try{oce();break}catch(s){z$(e,s)}while(!0);if(YS(),Rt=r,k0.current=o,Jn!==null)throw Error(ve(261));return gr=null,Dr=0,sr}function oce(){for(;Jn!==null;)V$(Jn)}function ice(){for(;Jn!==null&&!Iae();)V$(Jn)}function V$(e){var t=W$(e.alternate,e,Ro);e.memoizedProps=e.pendingProps,t===null?U$(e):Jn=t,l2.current=null}function U$(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Jle(r,t),r!==null){r.flags&=32767,Jn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{sr=6,Jn=null;return}}else if(r=Zle(r,t,Ro),r!==null){Jn=r;return}if(t=t.sibling,t!==null){Jn=t;return}Jn=t=e}while(t!==null);sr===0&&(sr=5)}function cc(e,t,r){var o=Yt,s=gi.transition;try{gi.transition=null,Yt=1,sce(e,t,r,o)}finally{gi.transition=s,Yt=o}return null}function sce(e,t,r,o){do Nd();while(Qa!==null);if(Rt&6)throw Error(ve(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ve(177));e.callbackNode=null,e.callbackPriority=0;var u=r.lanes|r.childLanes;if(zae(e,u),e===gr&&(Jn=gr=null,Dr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$k||($k=!0,q$(n0,function(){return Nd(),null})),u=(r.flags&15990)!==0,r.subtreeFlags&15990||u){u=gi.transition,gi.transition=null;var h=Yt;Yt=1;var m=Rt;Rt|=4,l2.current=null,ece(e,r),L$(r,e),Ele($x),o0=!!zx,$x=zx=null,e.current=r,tce(r),Mae(),Rt=m,Yt=h,gi.transition=u}else e.current=r;if($k&&($k=!1,Qa=e,w0=s),u=e.pendingLanes,u===0&&(al=null),Rae(r.stateNode),bo(e,Un()),t!==null)for(o=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],o(s.value,{componentStack:s.stack,digest:s.digest});if(v0)throw v0=!1,e=aE,aE=null,e;return w0&1&&e.tag!==0&&Nd(),u=e.pendingLanes,u&1?e===lE?Vf++:(Vf=0,lE=e):Vf=0,Tl(),null}function Nd(){if(Qa!==null){var e=C7(w0),t=gi.transition,r=Yt;try{if(gi.transition=null,Yt=16>e?16:e,Qa===null)var o=!1;else{if(e=Qa,Qa=null,w0=0,Rt&6)throw Error(ve(331));var s=Rt;for(Rt|=4,je=e.current;je!==null;){var u=je,h=u.child;if(je.flags&16){var m=u.deletions;if(m!==null){for(var f=0;f<m.length;f++){var k=m[f];for(je=k;je!==null;){var v=je;switch(v.tag){case 0:case 11:case 15:zf(8,v,u)}var _=v.child;if(_!==null)_.return=v,je=_;else for(;je!==null;){v=je;var y=v.sibling,A=v.return;if(R$(v),v===k){je=null;break}if(y!==null){y.return=A,je=y;break}je=A}}}var S=u.alternate;if(S!==null){var E=S.child;if(E!==null){S.child=null;do{var I=E.sibling;E.sibling=null,E=I}while(E!==null)}}je=u}}if(u.subtreeFlags&2064&&h!==null)h.return=u,je=h;else e:for(;je!==null;){if(u=je,u.flags&2048)switch(u.tag){case 0:case 11:case 15:zf(9,u,u.return)}var T=u.sibling;if(T!==null){T.return=u.return,je=T;break e}je=u.return}}var R=e.current;for(je=R;je!==null;){h=je;var O=h.child;if(h.subtreeFlags&2064&&O!==null)O.return=h,je=O;else e:for(h=R;je!==null;){if(m=je,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:Mw(9,m)}}catch($){Rn(m,m.return,$)}if(m===h){je=null;break e}var j=m.sibling;if(j!==null){j.return=m.return,je=j;break e}je=m.return}}if(Rt=s,Tl(),bs&&typeof bs.onPostCommitFiberRoot=="function")try{bs.onPostCommitFiberRoot(Cw,e)}catch{}o=!0}return o}finally{Yt=r,gi.transition=t}}return!1}function uj(e,t,r){t=Zd(r,t),t=C$(e,t,1),e=sl(e,t,1),t=eo(),e!==null&&(sg(e,1,t),bo(e,t))}function Rn(e,t,r){if(e.tag===3)uj(e,e,r);else for(;t!==null;){if(t.tag===3){uj(t,e,r);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(al===null||!al.has(o))){e=Zd(r,e),e=A$(t,e,1),t=sl(t,e,1),e=eo(),t!==null&&(sg(t,1,e),bo(t,e));break}}t=t.return}}function ace(e,t,r){var o=e.pingCache;o!==null&&o.delete(t),t=eo(),e.pingedLanes|=e.suspendedLanes&r,gr===e&&(Dr&r)===r&&(sr===4||sr===3&&(Dr&130023424)===Dr&&500>Un()-u2?xc(e,0):c2|=r),bo(e,t)}function H$(e,t){t===0&&(e.mode&1?(t=Mk,Mk<<=1,!(Mk&130023424)&&(Mk=4194304)):t=1);var r=eo();e=ha(e,t),e!==null&&(sg(e,t,r),bo(e,r))}function lce(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),H$(e,r)}function cce(e,t){var r=0;switch(e.tag){case 13:var o=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(ve(314))}o!==null&&o.delete(t),H$(e,r)}var W$;W$=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||mo.current)fo=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return fo=!1,Qle(e,t,r);fo=!!(e.flags&131072)}else fo=!1,_n&&t.flags&1048576&&Y7(t,d0,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Ev(e,t),e=t.pendingProps;var s=Gd(t,Ur.current);Pd(t,r),s=r2(null,t,o,e,s,r);var u=o2();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,go(o)?(u=!0,c0(t)):u=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,JS(t),s.updater=Iw,t.stateNode=s,s._reactInternals=t,Qx(t,o,e,r),t=Xx(null,t,o,!0,u,r)):(t.tag=0,_n&&u&&WS(t),Yr(null,t,s,r),t=t.child),t;case 16:o=t.elementType;e:{switch(Ev(e,t),e=t.pendingProps,s=o._init,o=s(o._payload),t.type=o,s=t.tag=dce(o),e=ji(o,e),s){case 0:t=Jx(null,t,o,e,r);break e;case 1:t=ej(null,t,o,e,r);break e;case 11:t=JL(null,t,o,e,r);break e;case 14:t=XL(null,t,o,ji(o.type,e),r);break e}throw Error(ve(306,o,""))}return t;case 0:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:ji(o,s),Jx(e,t,o,s,r);case 1:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:ji(o,s),ej(e,t,o,s,r);case 3:e:{if(D$(t),e===null)throw Error(ve(387));o=t.pendingProps,u=t.memoizedState,s=u.element,t$(e,t),f0(t,o,null,r);var h=t.memoizedState;if(o=h.element,u.isDehydrated)if(u={element:o,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){s=Zd(Error(ve(423)),t),t=tj(e,t,o,r,s);break e}else if(o!==s){s=Zd(Error(ve(424)),t),t=tj(e,t,o,r,s);break e}else for(Lo=il(t.stateNode.containerInfo.firstChild),zo=t,_n=!0,zi=null,r=X7(t,null,o,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Kd(),o===s){t=pa(e,t,r);break e}Yr(e,t,o,r)}t=t.child}return t;case 5:return n$(t),e===null&&Gx(t),o=t.type,s=t.pendingProps,u=e!==null?e.memoizedProps:null,h=s.children,Vx(o,s)?h=null:u!==null&&Vx(o,u)&&(t.flags|=32),S$(e,t),Yr(e,t,h,r),t.child;case 6:return e===null&&Gx(t),null;case 13:return T$(e,t,r);case 4:return XS(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Yd(t,null,o,r):Yr(e,t,o,r),t.child;case 11:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:ji(o,s),JL(e,t,o,s,r);case 7:return Yr(e,t,t.pendingProps,r),t.child;case 8:return Yr(e,t,t.pendingProps.children,r),t.child;case 12:return Yr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(o=t.type._context,s=t.pendingProps,u=t.memoizedProps,h=s.value,ln(h0,o._currentValue),o._currentValue=h,u!==null)if(Ui(u.value,h)){if(u.children===s.children&&!mo.current){t=pa(e,t,r);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var m=u.dependencies;if(m!==null){h=u.child;for(var f=m.firstContext;f!==null;){if(f.context===o){if(u.tag===1){f=oa(-1,r&-r),f.tag=2;var k=u.updateQueue;if(k!==null){k=k.shared;var v=k.pending;v===null?f.next=f:(f.next=v.next,v.next=f),k.pending=f}}u.lanes|=r,f=u.alternate,f!==null&&(f.lanes|=r),Kx(u.return,r,t),m.lanes|=r;break}f=f.next}}else if(u.tag===10)h=u.type===t.type?null:u.child;else if(u.tag===18){if(h=u.return,h===null)throw Error(ve(341));h.lanes|=r,m=h.alternate,m!==null&&(m.lanes|=r),Kx(h,r,t),h=u.sibling}else h=u.child;if(h!==null)h.return=u;else for(h=u;h!==null;){if(h===t){h=null;break}if(u=h.sibling,u!==null){u.return=h.return,h=u;break}h=h.return}u=h}Yr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,o=t.pendingProps.children,Pd(t,r),s=vi(s),o=o(s),t.flags|=1,Yr(e,t,o,r),t.child;case 14:return o=t.type,s=ji(o,t.pendingProps),s=ji(o.type,s),XL(e,t,o,s,r);case 15:return x$(e,t,t.type,t.pendingProps,r);case 17:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:ji(o,s),Ev(e,t),t.tag=1,go(o)?(e=!0,c0(t)):e=!1,Pd(t,r),_$(t,o,s),Qx(t,o,s,r),Xx(null,t,o,!0,e,r);case 19:return I$(e,t,r);case 22:return E$(e,t,r)}throw Error(ve(156,t.tag))};function q$(e,t){return v7(e,t)}function uce(e,t,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(e,t,r,o){return new uce(e,t,r,o)}function f2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dce(e){if(typeof e=="function")return f2(e)?1:0;if(e!=null){if(e=e.$$typeof,e===NS)return 11;if(e===RS)return 14}return 2}function cl(e,t){var r=e.alternate;return r===null?(r=fi(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Tv(e,t,r,o,s,u){var h=2;if(o=e,typeof e=="function")f2(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case md:return Ec(r.children,s,u,t);case PS:h=8,s|=8;break;case wx:return e=fi(12,r,t,s|2),e.elementType=wx,e.lanes=u,e;case yx:return e=fi(13,r,t,s),e.elementType=yx,e.lanes=u,e;case _x:return e=fi(19,r,t,s),e.elementType=_x,e.lanes=u,e;case n7:return Nw(r,s,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case e7:h=10;break e;case t7:h=9;break e;case NS:h=11;break e;case RS:h=14;break e;case za:h=16,o=null;break e}throw Error(ve(130,e==null?e:typeof e,""))}return t=fi(h,r,t,s),t.elementType=e,t.type=o,t.lanes=u,t}function Ec(e,t,r,o){return e=fi(7,e,o,t),e.lanes=r,e}function Nw(e,t,r,o){return e=fi(22,e,o,t),e.elementType=n7,e.lanes=r,e.stateNode={isHidden:!1},e}function m1(e,t,r){return e=fi(6,e,null,t),e.lanes=r,e}function g1(e,t,r){return t=fi(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hce(e,t,r,o,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=QA(0),this.expirationTimes=QA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=QA(0),this.identifierPrefix=o,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function m2(e,t,r,o,s,u,h,m,f){return e=new hce(e,t,r,m,f),t===1?(t=1,u===!0&&(t|=8)):t=0,u=fi(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:o,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},JS(u),e}function pce(e,t,r){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fd,key:o==null?null:""+o,children:e,containerInfo:t,implementation:r}}function G$(e){if(!e)return bl;e=e._reactInternals;e:{if(ou(e)!==e||e.tag!==1)throw Error(ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(go(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ve(171))}if(e.tag===1){var r=e.type;if(go(r))return G7(e,r,t)}return t}function K$(e,t,r,o,s,u,h,m,f){return e=m2(r,o,!0,e,s,u,h,m,f),e.context=G$(null),r=e.current,o=eo(),s=ll(r),u=oa(o,s),u.callback=t??null,sl(r,u,s),e.current.lanes=s,sg(e,s,o),bo(e,o),e}function Rw(e,t,r,o){var s=t.current,u=eo(),h=ll(s);return r=G$(r),t.context===null?t.context=r:t.pendingContext=r,t=oa(u,h),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=sl(s,t,h),e!==null&&(Vi(e,s,h,u),Cv(e,s,h)),h}function _0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dj(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function g2(e,t){dj(e,t),(e=e.alternate)&&dj(e,t)}function fce(){return null}var Y$=typeof reportError=="function"?reportError:function(e){console.error(e)};function b2(e){this._internalRoot=e}Ow.prototype.render=b2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ve(409));Rw(e,t,null,null)};Ow.prototype.unmount=b2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$c(function(){Rw(null,e,null,null)}),t[da]=null}};function Ow(e){this._internalRoot=e}Ow.prototype.unstable_scheduleHydration=function(e){if(e){var t=E7();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Va.length&&t!==0&&t<Va[r].priority;r++);Va.splice(r,0,e),r===0&&D7(e)}};function k2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hj(){}function mce(e,t,r,o,s){if(s){if(typeof o=="function"){var u=o;o=function(){var k=_0(h);u.call(k)}}var h=K$(t,o,e,0,null,!1,!1,"",hj);return e._reactRootContainer=h,e[da]=h.current,mm(e.nodeType===8?e.parentNode:e),$c(),h}for(;s=e.lastChild;)e.removeChild(s);if(typeof o=="function"){var m=o;o=function(){var k=_0(f);m.call(k)}}var f=m2(e,0,!1,null,null,!1,!1,"",hj);return e._reactRootContainer=f,e[da]=f.current,mm(e.nodeType===8?e.parentNode:e),$c(function(){Rw(t,f,r,o)}),f}function Lw(e,t,r,o,s){var u=r._reactRootContainer;if(u){var h=u;if(typeof s=="function"){var m=s;s=function(){var f=_0(h);m.call(f)}}Rw(t,h,e,s)}else h=mce(r,t,e,s,o);return _0(h)}A7=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=_f(t.pendingLanes);r!==0&&(LS(t,r|1),bo(t,Un()),!(Rt&6)&&(Jd=Un()+500,Tl()))}break;case 13:$c(function(){var o=ha(e,1);if(o!==null){var s=eo();Vi(o,e,1,s)}}),g2(e,1)}};jS=function(e){if(e.tag===13){var t=ha(e,134217728);if(t!==null){var r=eo();Vi(t,e,134217728,r)}g2(e,134217728)}};x7=function(e){if(e.tag===13){var t=ll(e),r=ha(e,t);if(r!==null){var o=eo();Vi(r,e,t,o)}g2(e,t)}};E7=function(){return Yt};S7=function(e,t){var r=Yt;try{return Yt=e,t()}finally{Yt=r}};Px=function(e,t,r){switch(t){case"input":if(xx(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var o=r[t];if(o!==e&&o.form===e.form){var s=Sw(o);if(!s)throw Error(ve(90));o7(o),xx(o,s)}}}break;case"textarea":s7(e,r);break;case"select":t=r.value,t!=null&&Dd(e,!!r.multiple,t,!1)}};p7=d2;f7=$c;var gce={usingClientEntryPoint:!1,Events:[lg,vd,Sw,d7,h7,d2]},Qp={findFiberByHostInstance:fc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bce={bundleType:Qp.bundleType,version:Qp.version,rendererPackageName:Qp.rendererPackageName,rendererConfig:Qp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ca.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=b7(e),e===null?null:e.stateNode},findFiberByHostInstance:Qp.findFiberByHostInstance||fce,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vk.isDisabled&&Vk.supportsFiber)try{Cw=Vk.inject(bce),bs=Vk}catch{}}Ko.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gce;Ko.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!k2(t))throw Error(ve(200));return pce(e,t,null,r)};Ko.createRoot=function(e,t){if(!k2(e))throw Error(ve(299));var r=!1,o="",s=Y$;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=m2(e,1,!1,null,null,r,!1,o,s),e[da]=t.current,mm(e.nodeType===8?e.parentNode:e),new b2(t)};Ko.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ve(188)):(e=Object.keys(e).join(","),Error(ve(268,e)));return e=b7(t),e=e===null?null:e.stateNode,e};Ko.flushSync=function(e){return $c(e)};Ko.hydrate=function(e,t,r){if(!Bw(t))throw Error(ve(200));return Lw(null,e,t,!0,r)};Ko.hydrateRoot=function(e,t,r){if(!k2(e))throw Error(ve(405));var o=r!=null&&r.hydratedSources||null,s=!1,u="",h=Y$;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),t=K$(t,null,e,1,r??null,s,!1,u,h),e[da]=t.current,mm(e),o)for(e=0;e<o.length;e++)r=o[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Ow(t)};Ko.render=function(e,t,r){if(!Bw(t))throw Error(ve(200));return Lw(null,e,t,!1,r)};Ko.unmountComponentAtNode=function(e){if(!Bw(e))throw Error(ve(40));return e._reactRootContainer?($c(function(){Lw(null,null,e,!1,function(){e._reactRootContainer=null,e[da]=null})}),!0):!1};Ko.unstable_batchedUpdates=d2;Ko.unstable_renderSubtreeIntoContainer=function(e,t,r,o){if(!Bw(r))throw Error(ve(200));if(e==null||e._reactInternals===void 0)throw Error(ve(38));return Lw(e,t,r,!1,o)};Ko.version="18.3.1-next-f1338f8080-20240426";function Q$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q$)}catch(e){console.error(e)}}Q$(),Q9.exports=Ko;var ug=Q9.exports;const Af=yw(ug);var pj=ug;kx.createRoot=pj.createRoot,kx.hydrateRoot=pj.hydrateRoot;const kce="modulepreload",vce=function(e){return"/ate-micr/"+e},fj={},v2=function(t,r,o){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=Promise.all(r.map(m=>{if(m=vce(m),m in fj)return;fj[m]=!0;const f=m.endsWith(".css"),k=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${k}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":kce,f||(v.as="script",v.crossOrigin=""),v.href=m,h&&v.setAttribute("nonce",h),document.head.appendChild(v),f)return new Promise((_,y)=>{v.addEventListener("load",_),v.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${m}`)))})}))}return s.then(()=>t()).catch(u=>{const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u})};/**
 * @remix-run/router v1.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Am(){return Am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Am.apply(this,arguments)}var Za;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Za||(Za={}));const mj="popstate";function wce(e){e===void 0&&(e={});function t(s,u){let{pathname:h="/",search:m="",hash:f=""}=iu(s.location.hash.substr(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),dE("",{pathname:h,search:m,hash:f},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(s,u){let h=s.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let f=s.location.href,k=f.indexOf("#");m=k===-1?f:f.slice(0,k)}return m+"#"+(typeof u=="string"?u:Z$(u))}function o(s,u){w2(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(u)+")")}return _ce(t,r,o,e)}function er(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function w2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yce(){return Math.random().toString(36).substr(2,8)}function gj(e,t){return{usr:e.state,key:e.key,idx:t}}function dE(e,t,r,o){return r===void 0&&(r=null),Am({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?iu(t):t,{state:r,key:t&&t.key||o||yce()})}function Z$(e){let{pathname:t="/",search:r="",hash:o=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(t+=o.charAt(0)==="#"?o:"#"+o),t}function iu(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let o=e.indexOf("?");o>=0&&(t.search=e.substr(o),e=e.substr(0,o)),e&&(t.pathname=e)}return t}function _ce(e,t,r,o){o===void 0&&(o={});let{window:s=document.defaultView,v5Compat:u=!1}=o,h=s.history,m=Za.Pop,f=null,k=v();k==null&&(k=0,h.replaceState(Am({},h.state,{idx:k}),""));function v(){return(h.state||{idx:null}).idx}function _(){m=Za.Pop;let I=v(),T=I==null?null:I-k;k=I,f&&f({action:m,location:E.location,delta:T})}function y(I,T){m=Za.Push;let R=dE(E.location,I,T);r&&r(R,I),k=v()+1;let O=gj(R,k),j=E.createHref(R);try{h.pushState(O,"",j)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;s.location.assign(j)}u&&f&&f({action:m,location:E.location,delta:1})}function A(I,T){m=Za.Replace;let R=dE(E.location,I,T);r&&r(R,I),k=v();let O=gj(R,k),j=E.createHref(R);h.replaceState(O,"",j),u&&f&&f({action:m,location:E.location,delta:0})}function S(I){let T=s.location.origin!=="null"?s.location.origin:s.location.href,R=typeof I=="string"?I:Z$(I);return R=R.replace(/ $/,"%20"),er(T,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,T)}let E={get action(){return m},get location(){return e(s,h)},listen(I){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(mj,_),f=I,()=>{s.removeEventListener(mj,_),f=null}},createHref(I){return t(s,I)},createURL:S,encodeLocation(I){let T=S(I);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:y,replace:A,go(I){return h.go(I)}};return E}var bj;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(bj||(bj={}));function Cce(e,t,r){return r===void 0&&(r="/"),Ace(e,t,r,!1)}function Ace(e,t,r,o){let s=typeof t=="string"?iu(t):t,u=e8(s.pathname||"/",r);if(u==null)return null;let h=J$(e);xce(h);let m=null;for(let f=0;m==null&&f<h.length;++f){let k=Bce(u);m=Rce(h[f],k,o)}return m}function J$(e,t,r,o){t===void 0&&(t=[]),r===void 0&&(r=[]),o===void 0&&(o="");let s=(u,h,m)=>{let f={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};f.relativePath.startsWith("/")&&(er(f.relativePath.startsWith(o),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(o.length));let k=Sc([o,f.relativePath]),v=r.concat(f);u.children&&u.children.length>0&&(er(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+k+'".')),J$(u.children,t,v,k)),!(u.path==null&&!u.index)&&t.push({path:k,score:Pce(k,u.index),routesMeta:v})};return e.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))s(u,h);else for(let f of X$(u.path))s(u,h,f)}),t}function X$(e){let t=e.split("/");if(t.length===0)return[];let[r,...o]=t,s=r.endsWith("?"),u=r.replace(/\?$/,"");if(o.length===0)return s?[u,""]:[u];let h=X$(o.join("/")),m=[];return m.push(...h.map(f=>f===""?u:[u,f].join("/"))),s&&m.push(...h),m.map(f=>e.startsWith("/")&&f===""?"/":f)}function xce(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Nce(t.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}const Ece=/^:[\w-]+$/,Sce=3,Dce=2,Tce=1,Ice=10,Mce=-2,kj=e=>e==="*";function Pce(e,t){let r=e.split("/"),o=r.length;return r.some(kj)&&(o+=Mce),t&&(o+=Dce),r.filter(s=>!kj(s)).reduce((s,u)=>s+(Ece.test(u)?Sce:u===""?Tce:Ice),o)}function Nce(e,t){return e.length===t.length&&e.slice(0,-1).every((o,s)=>o===t[s])?e[e.length-1]-t[t.length-1]:0}function Rce(e,t,r){let{routesMeta:o}=e,s={},u="/",h=[];for(let m=0;m<o.length;++m){let f=o[m],k=m===o.length-1,v=u==="/"?t:t.slice(u.length)||"/",_=vj({path:f.relativePath,caseSensitive:f.caseSensitive,end:k},v),y=f.route;if(!_&&k&&r&&!o[o.length-1].route.index&&(_=vj({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!_)return null;Object.assign(s,_.params),h.push({params:s,pathname:Sc([u,_.pathname]),pathnameBase:zce(Sc([u,_.pathnameBase])),route:y}),_.pathnameBase!=="/"&&(u=Sc([u,_.pathnameBase]))}return h}function vj(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,o]=Oce(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let u=s[0],h=u.replace(/(.)\/+$/,"$1"),m=s.slice(1);return{params:o.reduce((k,v,_)=>{let{paramName:y,isOptional:A}=v;if(y==="*"){let E=m[_]||"";h=u.slice(0,u.length-E.length).replace(/(.)\/+$/,"$1")}const S=m[_];return A&&!S?k[y]=void 0:k[y]=(S||"").replace(/%2F/g,"/"),k},{}),pathname:u,pathnameBase:h,pattern:e}}function Oce(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),w2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,f)=>(o.push({paramName:m,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),o]}function Bce(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return w2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function e8(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,o=e.charAt(r);return o&&o!=="/"?null:e.slice(r)||"/"}function Lce(e,t){t===void 0&&(t="/");let{pathname:r,search:o="",hash:s=""}=typeof e=="string"?iu(e):e;return{pathname:r?r.startsWith("/")?r:jce(r,t):t,search:$ce(o),hash:Vce(s)}}function jce(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function b1(e,t,r,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fce(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function t8(e,t){let r=Fce(e);return t?r.map((o,s)=>s===r.length-1?o.pathname:o.pathnameBase):r.map(o=>o.pathnameBase)}function n8(e,t,r,o){o===void 0&&(o=!1);let s;typeof e=="string"?s=iu(e):(s=Am({},e),er(!s.pathname||!s.pathname.includes("?"),b1("?","pathname","search",s)),er(!s.pathname||!s.pathname.includes("#"),b1("#","pathname","hash",s)),er(!s.search||!s.search.includes("#"),b1("#","search","hash",s)));let u=e===""||s.pathname==="",h=u?"/":s.pathname,m;if(h==null)m=r;else{let _=t.length-1;if(!o&&h.startsWith("..")){let y=h.split("/");for(;y[0]==="..";)y.shift(),_-=1;s.pathname=y.join("/")}m=_>=0?t[_]:"/"}let f=Lce(s,m),k=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(k||v)&&(f.pathname+="/"),f}const Sc=e=>e.join("/").replace(/\/\/+/g,"/"),zce=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$ce=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Vce=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Uce(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const r8=["post","put","patch","delete"];new Set(r8);const Hce=["get",...r8];new Set(Hce);/**
 * React Router v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xm(){return xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},xm.apply(this,arguments)}const y2=L.createContext(null),Wce=L.createContext(null),dg=L.createContext(null),jw=L.createContext(null),Il=L.createContext({outlet:null,matches:[],isDataRoute:!1}),o8=L.createContext(null);function hg(){return L.useContext(jw)!=null}function _2(){return hg()||er(!1),L.useContext(jw).location}function i8(e){L.useContext(dg).static||L.useLayoutEffect(e)}function Ps(){let{isDataRoute:e}=L.useContext(Il);return e?oue():qce()}function qce(){hg()||er(!1);let e=L.useContext(y2),{basename:t,future:r,navigator:o}=L.useContext(dg),{matches:s}=L.useContext(Il),{pathname:u}=_2(),h=JSON.stringify(t8(s,r.v7_relativeSplatPath)),m=L.useRef(!1);return i8(()=>{m.current=!0}),L.useCallback(function(k,v){if(v===void 0&&(v={}),!m.current)return;if(typeof k=="number"){o.go(k);return}let _=n8(k,JSON.parse(h),u,v.relative==="path");e==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:Sc([t,_.pathname])),(v.replace?o.replace:o.push)(_,v.state,v)},[t,o,h,u,e])}function C2(){let{matches:e}=L.useContext(Il),t=e[e.length-1];return t?t.params:{}}function Gce(e,t){return Kce(e,t)}function Kce(e,t,r,o){hg()||er(!1);let{navigator:s}=L.useContext(dg),{matches:u}=L.useContext(Il),h=u[u.length-1],m=h?h.params:{};h&&h.pathname;let f=h?h.pathnameBase:"/";h&&h.route;let k=_2(),v;if(t){var _;let I=typeof t=="string"?iu(t):t;f==="/"||(_=I.pathname)!=null&&_.startsWith(f)||er(!1),v=I}else v=k;let y=v.pathname||"/",A=y;if(f!=="/"){let I=f.replace(/^\//,"").split("/");A="/"+y.replace(/^\//,"").split("/").slice(I.length).join("/")}let S=Cce(e,{pathname:A}),E=Xce(S&&S.map(I=>Object.assign({},I,{params:Object.assign({},m,I.params),pathname:Sc([f,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?f:Sc([f,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),u,r,o);return t&&E?L.createElement(jw.Provider,{value:{location:xm({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Za.Pop}},E):E}function Yce(){let e=rue(),t=Uce(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),r?L.createElement("pre",{style:s},r):null,null)}const Qce=L.createElement(Yce,null);class Zce extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?L.createElement(Il.Provider,{value:this.props.routeContext},L.createElement(o8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Jce(e){let{routeContext:t,match:r,children:o}=e,s=L.useContext(y2);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),L.createElement(Il.Provider,{value:t},o)}function Xce(e,t,r,o){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),o===void 0&&(o=null),e==null){var u;if((u=r)!=null&&u.errors)e=r.matches;else return null}let h=e,m=(s=r)==null?void 0:s.errors;if(m!=null){let v=h.findIndex(_=>_.route.id&&(m==null?void 0:m[_.route.id])!==void 0);v>=0||er(!1),h=h.slice(0,Math.min(h.length,v+1))}let f=!1,k=-1;if(r&&o&&o.v7_partialHydration)for(let v=0;v<h.length;v++){let _=h[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(k=v),_.route.id){let{loaderData:y,errors:A}=r,S=_.route.loader&&y[_.route.id]===void 0&&(!A||A[_.route.id]===void 0);if(_.route.lazy||S){f=!0,k>=0?h=h.slice(0,k+1):h=[h[0]];break}}}return h.reduceRight((v,_,y)=>{let A,S=!1,E=null,I=null;r&&(A=m&&_.route.id?m[_.route.id]:void 0,E=_.route.errorElement||Qce,f&&(k<0&&y===0?(S=!0,I=null):k===y&&(S=!0,I=_.route.hydrateFallbackElement||null)));let T=t.concat(h.slice(0,y+1)),R=()=>{let O;return A?O=E:S?O=I:_.route.Component?O=L.createElement(_.route.Component,null):_.route.element?O=_.route.element:O=v,L.createElement(Jce,{match:_,routeContext:{outlet:v,matches:T,isDataRoute:r!=null},children:O})};return r&&(_.route.ErrorBoundary||_.route.errorElement||y===0)?L.createElement(Zce,{location:r.location,revalidation:r.revalidation,component:E,error:A,children:R(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):R()},null)}var s8=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(s8||{}),C0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(C0||{});function eue(e){let t=L.useContext(y2);return t||er(!1),t}function tue(e){let t=L.useContext(Wce);return t||er(!1),t}function nue(e){let t=L.useContext(Il);return t||er(!1),t}function a8(e){let t=nue(),r=t.matches[t.matches.length-1];return r.route.id||er(!1),r.route.id}function rue(){var e;let t=L.useContext(o8),r=tue(C0.UseRouteError),o=a8(C0.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[o]}function oue(){let{router:e}=eue(s8.UseNavigateStable),t=a8(C0.UseNavigateStable),r=L.useRef(!1);return i8(()=>{r.current=!0}),L.useCallback(function(s,u){u===void 0&&(u={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,xm({fromRouteId:t},u)))},[e,t])}function l8(e){let{to:t,replace:r,state:o,relative:s}=e;hg()||er(!1);let{future:u,static:h}=L.useContext(dg),{matches:m}=L.useContext(Il),{pathname:f}=_2(),k=Ps(),v=n8(t,t8(m,u.v7_relativeSplatPath),f,s==="path"),_=JSON.stringify(v);return L.useEffect(()=>k(JSON.parse(_),{replace:r,state:o,relative:s}),[k,_,s,r,o]),null}function Po(e){er(!1)}function iue(e){let{basename:t="/",children:r=null,location:o,navigationType:s=Za.Pop,navigator:u,static:h=!1,future:m}=e;hg()&&er(!1);let f=t.replace(/^\/*/,"/"),k=L.useMemo(()=>({basename:f,navigator:u,static:h,future:xm({v7_relativeSplatPath:!1},m)}),[f,m,u,h]);typeof o=="string"&&(o=iu(o));let{pathname:v="/",search:_="",hash:y="",state:A=null,key:S="default"}=o,E=L.useMemo(()=>{let I=e8(v,f);return I==null?null:{location:{pathname:I,search:_,hash:y,state:A,key:S},navigationType:s}},[f,v,_,y,A,S,s]);return E==null?null:L.createElement(dg.Provider,{value:k},L.createElement(jw.Provider,{children:r,value:E}))}function sue(e){let{children:t,location:r}=e;return Gce(hE(t),r)}new Promise(()=>{});function hE(e,t){t===void 0&&(t=[]);let r=[];return L.Children.forEach(e,(o,s)=>{if(!L.isValidElement(o))return;let u=[...t,s];if(o.type===L.Fragment){r.push.apply(r,hE(o.props.children,u));return}o.type!==Po&&er(!1),!o.props.index||!o.props.children||er(!1);let h={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=hE(o.props.children,u)),r.push(h)}),r}/**
 * React Router DOM v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const aue="6";try{window.__reactRouterVersion=aue}catch{}const lue="startTransition",wj=sm[lue];function cue(e){let{basename:t,children:r,future:o,window:s}=e,u=L.useRef();u.current==null&&(u.current=wce({window:s,v5Compat:!0}));let h=u.current,[m,f]=L.useState({action:h.action,location:h.location}),{v7_startTransition:k}=o||{},v=L.useCallback(_=>{k&&wj?wj(()=>f(_)):f(_)},[f,k]);return L.useLayoutEffect(()=>h.listen(v),[h,v]),L.createElement(iue,{basename:t,children:r,location:m.location,navigationType:m.action,navigator:h,future:o})}var yj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(yj||(yj={}));var _j;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_j||(_j={}));var Cj={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=function(e){const t=[];let r=0;for(let o=0;o<e.length;o++){let s=e.charCodeAt(o);s<128?t[r++]=s:s<2048?(t[r++]=s>>6|192,t[r++]=s&63|128):(s&64512)===55296&&o+1<e.length&&(e.charCodeAt(o+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++o)&1023),t[r++]=s>>18|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=s&63|128):(t[r++]=s>>12|224,t[r++]=s>>6&63|128,t[r++]=s&63|128)}return t},uue=function(e){const t=[];let r=0,o=0;for(;r<e.length;){const s=e[r++];if(s<128)t[o++]=String.fromCharCode(s);else if(s>191&&s<224){const u=e[r++];t[o++]=String.fromCharCode((s&31)<<6|u&63)}else if(s>239&&s<365){const u=e[r++],h=e[r++],m=e[r++],f=((s&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[o++]=String.fromCharCode(55296+(f>>10)),t[o++]=String.fromCharCode(56320+(f&1023))}else{const u=e[r++],h=e[r++];t[o++]=String.fromCharCode((s&15)<<12|(u&63)<<6|h&63)}}return t.join("")},u8={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let s=0;s<e.length;s+=3){const u=e[s],h=s+1<e.length,m=h?e[s+1]:0,f=s+2<e.length,k=f?e[s+2]:0,v=u>>2,_=(u&3)<<4|m>>4;let y=(m&15)<<2|k>>6,A=k&63;f||(A=64,h||(y=64)),o.push(r[v],r[_],r[y],r[A])}return o.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(c8(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):uue(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let s=0;s<e.length;){const u=r[e.charAt(s++)],m=s<e.length?r[e.charAt(s)]:0;++s;const k=s<e.length?r[e.charAt(s)]:64;++s;const _=s<e.length?r[e.charAt(s)]:64;if(++s,u==null||m==null||k==null||_==null)throw new due;const y=u<<2|m>>4;if(o.push(y),k!==64){const A=m<<4&240|k>>2;if(o.push(A),_!==64){const S=k<<6&192|_;o.push(S)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class due extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hue=function(e){const t=c8(e);return u8.encodeByteArray(t,!0)},A0=function(e){return hue(e).replace(/\./g,"")},d8=function(e){try{return u8.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fue=()=>pue().__FIREBASE_DEFAULTS__,mue=()=>{if(typeof process>"u"||typeof Cj>"u")return;const e=Cj.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},gue=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&d8(e[1]);return t&&JSON.parse(t)},Fw=()=>{try{return fue()||mue()||gue()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},h8=e=>{var t,r;return(r=(t=Fw())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},p8=e=>{const t=h8(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},f8=()=>{var e;return(e=Fw())===null||e===void 0?void 0:e.config},m8=e=>{var t;return(t=Fw())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",s=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:s,exp:s+3600,auth_time:s,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},e);return[A0(JSON.stringify(r)),A0(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hr())}function vue(){var e;const t=(e=Fw())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wue(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function yue(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _ue(){const e=Hr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Cue(){try{return typeof indexedDB=="object"}catch{return!1}}function Aue(){return new Promise((e,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(o);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(o),e(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var u;t(((u=s.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xue="FirebaseError";class Ns extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=xue,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pg.prototype.create)}}class pg{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},s=`${this.service}/${t}`,u=this.errors[t],h=u?Eue(u,o):"Error",m=`${this.serviceName}: ${h} (${s}).`;return new Ns(s,m,o)}}function Eue(e,t){return e.replace(Sue,(r,o)=>{const s=t[o];return s!=null?String(s):`<${o}?>`})}const Sue=/\{\$([^}]+)}/g;function Due(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function x0(e,t){if(e===t)return!0;const r=Object.keys(e),o=Object.keys(t);for(const s of r){if(!o.includes(s))return!1;const u=e[s],h=t[s];if(Aj(u)&&Aj(h)){if(!x0(u,h))return!1}else if(u!==h)return!1}for(const s of o)if(!r.includes(s))return!1;return!0}function Aj(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(e){const t=[];for(const[r,o]of Object.entries(e))Array.isArray(o)?o.forEach(s=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}function Tue(e,t){const r=new Iue(e,t);return r.subscribe.bind(r)}class Iue{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(o=>{this.error(o)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,o){let s;if(t===void 0&&r===void 0&&o===void 0)throw new Error("Missing Observer.");Mue(t,["next","error","complete"])?s=t:s={next:t,error:r,complete:o},s.next===void 0&&(s.next=k1),s.error===void 0&&(s.error=k1),s.complete===void 0&&(s.complete=k1);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mue(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function k1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(e){return e&&e._delegate?e._delegate:e}class kl{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pue{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new bue;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&o.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Rue(t))try{this.getOrInitializeService({instanceIdentifier:uc})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:s});o.resolve(u)}catch{}}}}clearInstance(t=uc){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=uc){return this.instances.has(t)}getOptions(t=uc){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);o===m&&h.resolve(s)}return s}onInit(t,r){var o;const s=this.normalizeInstanceIdentifier(r),u=(o=this.onInitCallbacks.get(s))!==null&&o!==void 0?o:new Set;u.add(t),this.onInitCallbacks.set(s,u);const h=this.instances.get(s);return h&&t(h,s),()=>{u.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const s of o)try{s(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:Nue(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=uc){return this.component?this.component.multipleInstances?t:uc:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nue(e){return e===uc?void 0:e}function Rue(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oue{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Pue(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Lt||(Lt={}));const Bue={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},Lue=Lt.INFO,jue={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},Fue=(e,t,...r)=>{if(t<e.logLevel)return;const o=new Date().toISOString(),s=jue[t];if(s)console[s](`[${o}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class A2{constructor(t){this.name=t,this._logLevel=Lue,this._logHandler=Fue,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Bue[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const zue=(e,t)=>t.some(r=>e instanceof r);let xj,Ej;function $ue(){return xj||(xj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vue(){return Ej||(Ej=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b8=new WeakMap,pE=new WeakMap,k8=new WeakMap,v1=new WeakMap,x2=new WeakMap;function Uue(e){const t=new Promise((r,o)=>{const s=()=>{e.removeEventListener("success",u),e.removeEventListener("error",h)},u=()=>{r(ul(e.result)),s()},h=()=>{o(e.error),s()};e.addEventListener("success",u),e.addEventListener("error",h)});return t.then(r=>{r instanceof IDBCursor&&b8.set(r,e)}).catch(()=>{}),x2.set(t,e),t}function Hue(e){if(pE.has(e))return;const t=new Promise((r,o)=>{const s=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",h),e.removeEventListener("abort",h)},u=()=>{r(),s()},h=()=>{o(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",u),e.addEventListener("error",h),e.addEventListener("abort",h)});pE.set(e,t)}let fE={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return pE.get(e);if(t==="objectStoreNames")return e.objectStoreNames||k8.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ul(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Wue(e){fE=e(fE)}function que(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=e.call(w1(this),t,...r);return k8.set(o,t.sort?t.sort():[t]),ul(o)}:Vue().includes(e)?function(...t){return e.apply(w1(this),t),ul(b8.get(this))}:function(...t){return ul(e.apply(w1(this),t))}}function Gue(e){return typeof e=="function"?que(e):(e instanceof IDBTransaction&&Hue(e),zue(e,$ue())?new Proxy(e,fE):e)}function ul(e){if(e instanceof IDBRequest)return Uue(e);if(v1.has(e))return v1.get(e);const t=Gue(e);return t!==e&&(v1.set(e,t),x2.set(t,e)),t}const w1=e=>x2.get(e);function Kue(e,t,{blocked:r,upgrade:o,blocking:s,terminated:u}={}){const h=indexedDB.open(e,t),m=ul(h);return o&&h.addEventListener("upgradeneeded",f=>{o(ul(h.result),f.oldVersion,f.newVersion,ul(h.transaction),f)}),r&&h.addEventListener("blocked",f=>r(f.oldVersion,f.newVersion,f)),m.then(f=>{u&&f.addEventListener("close",()=>u()),s&&f.addEventListener("versionchange",k=>s(k.oldVersion,k.newVersion,k))}).catch(()=>{}),m}const Yue=["get","getKey","getAll","getAllKeys","count"],Que=["put","add","delete","clear"],y1=new Map;function Sj(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(y1.get(t))return y1.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,s=Que.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(s||Yue.includes(r)))return;const u=async function(h,...m){const f=this.transaction(h,s?"readwrite":"readonly");let k=f.store;return o&&(k=k.index(m.shift())),(await Promise.all([k[r](...m),s&&f.done]))[0]};return y1.set(t,u),u}Wue(e=>({...e,get:(t,r,o)=>Sj(t,r)||e.get(t,r,o),has:(t,r)=>!!Sj(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zue{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Jue(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function Jue(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const mE="@firebase/app",Dj="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=new A2("@firebase/app"),Xue="@firebase/app-compat",ede="@firebase/analytics-compat",tde="@firebase/analytics",nde="@firebase/app-check-compat",rde="@firebase/app-check",ode="@firebase/auth",ide="@firebase/auth-compat",sde="@firebase/database",ade="@firebase/database-compat",lde="@firebase/functions",cde="@firebase/functions-compat",ude="@firebase/installations",dde="@firebase/installations-compat",hde="@firebase/messaging",pde="@firebase/messaging-compat",fde="@firebase/performance",mde="@firebase/performance-compat",gde="@firebase/remote-config",bde="@firebase/remote-config-compat",kde="@firebase/storage",vde="@firebase/storage-compat",wde="@firebase/firestore",yde="@firebase/firestore-compat",_de="firebase",Cde="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="[DEFAULT]",Ade={[mE]:"fire-core",[Xue]:"fire-core-compat",[tde]:"fire-analytics",[ede]:"fire-analytics-compat",[rde]:"fire-app-check",[nde]:"fire-app-check-compat",[ode]:"fire-auth",[ide]:"fire-auth-compat",[sde]:"fire-rtdb",[ade]:"fire-rtdb-compat",[lde]:"fire-fn",[cde]:"fire-fn-compat",[ude]:"fire-iid",[dde]:"fire-iid-compat",[hde]:"fire-fcm",[pde]:"fire-fcm-compat",[fde]:"fire-perf",[mde]:"fire-perf-compat",[gde]:"fire-rc",[bde]:"fire-rc-compat",[kde]:"fire-gcs",[vde]:"fire-gcs-compat",[wde]:"fire-fst",[yde]:"fire-fst-compat","fire-js":"fire-js",[_de]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=new Map,bE=new Map;function xde(e,t){try{e.container.addComponent(t)}catch(r){Vc.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function Uc(e){const t=e.name;if(bE.has(t))return Vc.debug(`There were multiple attempts to register component ${t}.`),!1;bE.set(t,e);for(const r of E0.values())xde(r,e);return!0}function zw(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ede={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},dl=new pg("app","Firebase",Ede);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sde{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw dl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=Cde;function v8(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const o=Object.assign({name:gE,automaticDataCollectionEnabled:!1},t),s=o.name;if(typeof s!="string"||!s)throw dl.create("bad-app-name",{appName:String(s)});if(r||(r=f8()),!r)throw dl.create("no-options");const u=E0.get(s);if(u){if(x0(r,u.options)&&x0(o,u.config))return u;throw dl.create("duplicate-app",{appName:s})}const h=new Oue(s);for(const f of bE.values())h.addComponent(f);const m=new Sde(r,o,h);return E0.set(s,m),m}function E2(e=gE){const t=E0.get(e);if(!t&&e===gE&&f8())return v8();if(!t)throw dl.create("no-app",{appName:e});return t}function vs(e,t,r){var o;let s=(o=Ade[e])!==null&&o!==void 0?o:e;r&&(s+=`-${r}`);const u=s.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const m=[`Unable to register library "${s}" with version "${t}":`];u&&m.push(`library name "${s}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Vc.warn(m.join(" "));return}Uc(new kl(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dde="firebase-heartbeat-database",Tde=1,Em="firebase-heartbeat-store";let _1=null;function w8(){return _1||(_1=Kue(Dde,Tde,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Em)}}}).catch(e=>{throw dl.create("idb-open",{originalErrorMessage:e.message})})),_1}async function Ide(e){try{return await(await w8()).transaction(Em).objectStore(Em).get(y8(e))}catch(t){if(t instanceof Ns)Vc.warn(t.message);else{const r=dl.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Vc.warn(r.message)}}}async function Tj(e,t){try{const o=(await w8()).transaction(Em,"readwrite");await o.objectStore(Em).put(t,y8(e)),await o.done}catch(r){if(r instanceof Ns)Vc.warn(r.message);else{const o=dl.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Vc.warn(o.message)}}}function y8(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mde=1024,Pde=30*24*60*60*1e3;class Nde{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Ode(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Ij();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const u=new Date(s.date).valueOf();return Date.now()-u<=Pde}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ij(),{heartbeatsToSend:r,unsentEntries:o}=Rde(this._heartbeatsCache.heartbeats),s=A0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Ij(){return new Date().toISOString().substring(0,10)}function Rde(e,t=Mde){const r=[];let o=e.slice();for(const s of e){const u=r.find(h=>h.agent===s.agent);if(u){if(u.dates.push(s.date),Mj(r)>t){u.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),Mj(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class Ode{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cue()?Aue().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Ide(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return Tj(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return Tj(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Mj(e){return A0(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bde(e){Uc(new kl("platform-logger",t=>new Zue(t),"PRIVATE")),Uc(new kl("heartbeat",t=>new Nde(t),"PRIVATE")),vs(mE,Dj,e),vs(mE,Dj,"esm2017"),vs("fire-js","")}Bde("");function S2(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(e);s<o.length;s++)t.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s])&&(r[o[s]]=e[o[s]]);return r}function _8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Lde=_8,C8=new pg("auth","Firebase",_8());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=new A2("@firebase/auth");function jde(e,...t){S0.logLevel<=Lt.WARN&&S0.warn(`Auth (${su}): ${e}`,...t)}function Iv(e,...t){S0.logLevel<=Lt.ERROR&&S0.error(`Auth (${su}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(e,...t){throw D2(e,...t)}function ws(e,...t){return D2(e,...t)}function A8(e,t,r){const o=Object.assign(Object.assign({},Lde()),{[t]:r});return new pg("auth","Firebase",o).create(t,{appName:e.name})}function Fde(e,t,r){const o=r;if(!(t instanceof o))throw o.name!==t.constructor.name&&Ss(e,"argument-error"),A8(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function D2(e,...t){if(typeof e!="string"){const r=t[0],o=[...t.slice(1)];return o[0]&&(o[0].appName=e.name),e._errorFactory.create(r,...o)}return C8.create(e,...t)}function lt(e,t,...r){if(!e)throw D2(t,...r)}function ta(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Iv(t),new Error(t)}function fa(e,t){e||ta(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function zde(){return Pj()==="http:"||Pj()==="https:"}function Pj(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $de(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zde()||wue()||"connection"in navigator)?navigator.onLine:!0}function Vde(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(t,r){this.shortDelay=t,this.longDelay=r,fa(r>t,"Short delay should be less than long delay!"),this.isMobile=kue()||yue()}get(){return $de()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(e,t){fa(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{static initialize(t,r,o){this.fetchImpl=t,r&&(this.headersImpl=r),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;ta("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;ta("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;ta("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ude={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hde=new mg(3e4,6e4);function E8(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function gg(e,t,r,o,s={}){return S8(e,s,async()=>{let u={},h={};o&&(t==="GET"?h=o:u={body:JSON.stringify(o)});const m=fg(Object.assign({key:e.config.apiKey},h)).slice(1),f=await e._getAdditionalHeaders();return f["Content-Type"]="application/json",e.languageCode&&(f["X-Firebase-Locale"]=e.languageCode),x8.fetch()(D8(e,e.config.apiHost,r,m),Object.assign({method:t,headers:f,referrerPolicy:"no-referrer"},u))})}async function S8(e,t,r){e._canInitEmulator=!1;const o=Object.assign(Object.assign({},Ude),t);try{const s=new qde(e),u=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Uk(e,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[f,k]=m.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uk(e,"credential-already-in-use",h);if(f==="EMAIL_EXISTS")throw Uk(e,"email-already-in-use",h);if(f==="USER_DISABLED")throw Uk(e,"user-disabled",h);const v=o[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(k)throw A8(e,v,k);Ss(e,v)}}catch(s){if(s instanceof Ns)throw s;Ss(e,"network-request-failed",{message:String(s)})}}async function Wde(e,t,r,o,s={}){const u=await gg(e,t,r,o,s);return"mfaPendingCredential"in u&&Ss(e,"multi-factor-auth-required",{_serverResponse:u}),u}function D8(e,t,r,o){const s=`${t}${r}?${o}`;return e.config.emulator?T2(e.config,s):`${e.config.apiScheme}://${s}`}class qde{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,o)=>{this.timer=setTimeout(()=>o(ws(this.auth,"network-request-failed")),Hde.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uk(e,t,r){const o={appName:e.name};r.email&&(o.email=r.email),r.phoneNumber&&(o.phoneNumber=r.phoneNumber);const s=ws(e,t,o);return s.customData._tokenResponse=r,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gde(e,t){return gg(e,"POST","/v1/accounts:delete",t)}async function Kde(e,t){return gg(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Yde(e,t=!1){const r=vn(e),o=await r.getIdToken(t),s=I2(o);lt(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const u=typeof s.firebase=="object"?s.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:s,token:o,authTime:Uf(C1(s.auth_time)),issuedAtTime:Uf(C1(s.iat)),expirationTime:Uf(C1(s.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function C1(e){return Number(e)*1e3}function I2(e){const[t,r,o]=e.split(".");if(t===void 0||r===void 0||o===void 0)return Iv("JWT malformed, contained fewer than 3 sections"),null;try{const s=d8(r);return s?JSON.parse(s):(Iv("Failed to decode base64 JWT payload"),null)}catch(s){return Iv("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Qde(e){const t=I2(e);return lt(t,"internal-error"),lt(typeof t.exp<"u","internal-error"),lt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sm(e,t,r=!1){if(r)return t;try{return await t}catch(o){throw o instanceof Ns&&Zde(o)&&e.auth.currentUser===e&&await e.auth.signOut(),o}}function Zde({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jde{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var r;if(t){const o=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),o}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uf(this.lastLoginAt),this.creationTime=Uf(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D0(e){var t;const r=e.auth,o=await e.getIdToken(),s=await Sm(e,Kde(r,{idToken:o}));lt(s==null?void 0:s.users.length,r,"internal-error");const u=s.users[0];e._notifyReloadListener(u);const h=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?the(u.providerUserInfo):[],m=ehe(e.providerData,h),f=e.isAnonymous,k=!(e.email&&u.passwordHash)&&!(m!=null&&m.length),v=f?k:!1,_={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new T8(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(e,_)}async function Xde(e){const t=vn(e);await D0(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ehe(e,t){return[...e.filter(o=>!t.some(s=>s.providerId===o.providerId)),...t]}function the(e){return e.map(t=>{var{providerId:r}=t,o=S2(t,["providerId"]);return{providerId:r,uid:o.rawId||"",displayName:o.displayName||null,email:o.email||null,phoneNumber:o.phoneNumber||null,photoURL:o.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nhe(e,t){const r=await S8(e,{},async()=>{const o=fg({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:u}=e.config,h=D8(e,s,"/v1/token",`key=${u}`),m=await e._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",x8.fetch()(h,{method:"POST",headers:m,body:o})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){lt(t.idToken,"internal-error"),lt(typeof t.idToken<"u","internal-error"),lt(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Qde(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}async getToken(t,r=!1){return lt(!this.accessToken||this.refreshToken,t,"user-token-expired"),!r&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:o,refreshToken:s,expiresIn:u}=await nhe(t,r);this.updateTokensAndExpiration(o,s,Number(u))}updateTokensAndExpiration(t,r,o){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(t,r){const{refreshToken:o,accessToken:s,expirationTime:u}=r,h=new Dm;return o&&(lt(typeof o=="string","internal-error",{appName:t}),h.refreshToken=o),s&&(lt(typeof s=="string","internal-error",{appName:t}),h.accessToken=s),u&&(lt(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Dm,this.toJSON())}_performRefresh(){return ta("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(e,t){lt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Dc{constructor(t){var{uid:r,auth:o,stsTokenManager:s}=t,u=S2(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jde(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=o,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new T8(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const r=await Sm(this,this.stsTokenManager.getToken(this.auth,t));return lt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return Yde(this,t)}reload(){return Xde(this)}_assign(t){this!==t&&(lt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>Object.assign({},r)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new Dc(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(t){lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let o=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),o=!0),r&&await D0(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Sm(this,Gde(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){var o,s,u,h,m,f,k,v;const _=(o=r.displayName)!==null&&o!==void 0?o:void 0,y=(s=r.email)!==null&&s!==void 0?s:void 0,A=(u=r.phoneNumber)!==null&&u!==void 0?u:void 0,S=(h=r.photoURL)!==null&&h!==void 0?h:void 0,E=(m=r.tenantId)!==null&&m!==void 0?m:void 0,I=(f=r._redirectEventId)!==null&&f!==void 0?f:void 0,T=(k=r.createdAt)!==null&&k!==void 0?k:void 0,R=(v=r.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:O,emailVerified:j,isAnonymous:$,providerData:H,stsTokenManager:P}=r;lt(O&&P,t,"internal-error");const z=Dm.fromJSON(this.name,P);lt(typeof O=="string",t,"internal-error"),Ba(_,t.name),Ba(y,t.name),lt(typeof j=="boolean",t,"internal-error"),lt(typeof $=="boolean",t,"internal-error"),Ba(A,t.name),Ba(S,t.name),Ba(E,t.name),Ba(I,t.name),Ba(T,t.name),Ba(R,t.name);const q=new Dc({uid:O,auth:t,email:y,emailVerified:j,displayName:_,isAnonymous:$,photoURL:S,phoneNumber:A,tenantId:E,stsTokenManager:z,createdAt:T,lastLoginAt:R});return H&&Array.isArray(H)&&(q.providerData=H.map(K=>Object.assign({},K))),I&&(q._redirectEventId=I),q}static async _fromIdTokenResponse(t,r,o=!1){const s=new Dm;s.updateFromServerResponse(r);const u=new Dc({uid:r.localId,auth:t,stsTokenManager:s,isAnonymous:o});return await D0(u),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=new Map;function na(e){fa(e instanceof Function,"Expected a class definition");let t=Nj.get(e);return t?(fa(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Nj.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}I8.type="NONE";const Rj=I8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(e,t,r){return`firebase:${e}:${t}:${r}`}class Rd{constructor(t,r,o){this.persistence=t,this.auth=r,this.userKey=o;const{config:s,name:u}=this.auth;this.fullUserKey=Mv(this.userKey,s.apiKey,u),this.fullPersistenceKey=Mv("persistence",s.apiKey,u),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Dc._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,o="authUser"){if(!r.length)return new Rd(na(Rj),t,o);const s=(await Promise.all(r.map(async k=>{if(await k._isAvailable())return k}))).filter(k=>k);let u=s[0]||na(Rj);const h=Mv(o,t.config.apiKey,t.name);let m=null;for(const k of r)try{const v=await k._get(h);if(v){const _=Dc._fromJSON(t,v);k!==u&&(m=_),u=k;break}}catch{}const f=s.filter(k=>k._shouldAllowMigration);return!u._shouldAllowMigration||!f.length?new Rd(u,t,o):(u=f[0],m&&await u._set(h,m.toJSON()),await Promise.all(r.map(async k=>{if(k!==u)try{await k._remove(h)}catch{}})),new Rd(u,t,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(N8(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(M8(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(O8(t))return"Blackberry";if(B8(t))return"Webos";if(M2(t))return"Safari";if((t.includes("chrome/")||P8(t))&&!t.includes("edge/"))return"Chrome";if(R8(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=e.match(r);if((o==null?void 0:o.length)===2)return o[1]}return"Other"}function M8(e=Hr()){return/firefox\//i.test(e)}function M2(e=Hr()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function P8(e=Hr()){return/crios\//i.test(e)}function N8(e=Hr()){return/iemobile/i.test(e)}function R8(e=Hr()){return/android/i.test(e)}function O8(e=Hr()){return/blackberry/i.test(e)}function B8(e=Hr()){return/webos/i.test(e)}function $w(e=Hr()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function rhe(e=Hr()){var t;return $w(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function ohe(){return _ue()&&document.documentMode===10}function L8(e=Hr()){return $w(e)||R8(e)||B8(e)||O8(e)||/windows phone/i.test(e)||N8(e)}function ihe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j8(e,t=[]){let r;switch(e){case"Browser":r=Oj(Hr());break;case"Worker":r=`${Oj(Hr())}-${e}`;break;default:r=e}const o=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${su}/${o}`}async function F8(e,t){return gg(e,"GET","/v2/recaptchaConfig",E8(e,t))}function Bj(e){return e!==void 0&&e.enterprise!==void 0}class z8{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(r=>r.provider==="EMAIL_PASSWORD_PROVIDER"&&r.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function she(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function $8(e){return new Promise((t,r)=>{const o=document.createElement("script");o.setAttribute("src",e),o.onload=t,o.onerror=s=>{const u=ws("internal-error");u.customData=s,r(u)},o.type="text/javascript",o.charset="UTF-8",she().appendChild(o)})}function ahe(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const lhe="https://www.google.com/recaptcha/enterprise.js?render=",che="recaptcha-enterprise",uhe="NO_RECAPTCHA";class dhe{constructor(t){this.type=che,this.auth=bg(t)}async verify(t="verify",r=!1){async function o(u){if(!r){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{F8(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const k=new z8(f);return u.tenantId==null?u._agentRecaptchaConfig=k:u._tenantRecaptchaConfigs[u.tenantId]=k,h(k.siteKey)}}).catch(f=>{m(f)})})}function s(u,h,m){const f=window.grecaptcha;Bj(f)?f.enterprise.ready(()=>{f.enterprise.execute(u,{action:t}).then(k=>{h(k)}).catch(()=>{h(uhe)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((u,h)=>{o(this.auth).then(m=>{if(!r&&Bj(window.grecaptcha))s(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}$8(lhe+m).then(()=>{s(m,u,h)}).catch(f=>{h(f)})}}).catch(m=>{h(m)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hhe{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const o=u=>new Promise((h,m)=>{try{const f=t(u);h(f)}catch(f){m(f)}});o.onAbort=r,this.queue.push(o);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const o of this.queue)await o(t),o.onAbort&&r.push(o.onAbort)}catch(o){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o==null?void 0:o.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class phe{constructor(t,r,o,s){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=o,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lj(this),this.idTokenSubscription=new Lj(this),this.beforeStateQueue=new hhe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C8,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=na(r)),this._initializationPromise=this.queue(async()=>{var o,s;if(!this._deleted&&(this.persistenceManager=await Rd.create(this,t),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var r;const o=await this.assertedPersistence.getCurrentUser();let s=o,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,m=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(t);(!h||h===m)&&(f!=null&&f.user)&&(s=f.user,u=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=o,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await D0(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Vde()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const r=t?vn(t):null;return r&&lt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&lt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(na(t))})}async initializeRecaptchaConfig(){const t=await F8(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new z8(t);this.tenantId==null?this._agentRecaptchaConfig=r:this._tenantRecaptchaConfigs[this.tenantId]=r,r.emailPasswordEnabled&&new dhe(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new pg("auth","Firebase",t())}onAuthStateChanged(t,r,o){return this.registerStateListener(this.authStateSubscription,t,r,o)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,o){return this.registerStateListener(this.idTokenSubscription,t,r,o)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,r){const o=await this.getOrInitRedirectPersistenceManager(r);return t===null?o.removeCurrentUser():o.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&na(t)||this._popupRedirectResolver;lt(r,this,"argument-error"),this.redirectPersistenceManager=await Rd.create(this,[na(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,o;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===t?this._currentUser:((o=this.redirectUser)===null||o===void 0?void 0:o._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const o=(r=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==o&&(this.lastNotifiedUid=o,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,o,s){if(this._deleted)return()=>{};const u=typeof r=="function"?r:r.next.bind(r),h=this._isInitialized?Promise.resolve():this._initializationPromise;return lt(h,this,"internal-error"),h.then(()=>u(this.currentUser)),typeof r=="function"?t.addObserver(r,o,s):t.addObserver(r)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=j8(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const o=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());o&&(r["X-Firebase-Client"]=o);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var t;const r=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return r!=null&&r.error&&jde(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function bg(e){return vn(e)}class Lj{constructor(t){this.auth=t,this.observer=null,this.addObserver=Tue(r=>this.observer=r)}get next(){return lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fhe(e,t){const r=zw(e,"auth");if(r.isInitialized()){const s=r.getImmediate(),u=r.getOptions();if(x0(u,t??{}))return s;Ss(s,"already-initialized")}return r.initialize({options:t})}function mhe(e,t){const r=(t==null?void 0:t.persistence)||[],o=(Array.isArray(r)?r:[r]).map(na);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(o,t==null?void 0:t.popupRedirectResolver)}function ghe(e,t,r){const o=bg(e);lt(o._canInitEmulator,o,"emulator-config-failed"),lt(/^https?:\/\//.test(t),o,"invalid-emulator-scheme");const s=!1,u=V8(t),{host:h,port:m}=bhe(t),f=m===null?"":`:${m}`;o.config.emulator={url:`${u}//${h}${f}/`},o.settings.appVerificationDisabledForTesting=!0,o.emulatorConfig=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:s})}),khe()}function V8(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function bhe(e){const t=V8(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const o=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(o);if(s){const u=s[1];return{host:u,port:jj(o.substr(u.length+1))}}else{const[u,h]=o.split(":");return{host:u,port:jj(h)}}}function jj(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function khe(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return ta("not implemented")}_getIdTokenResponse(t){return ta("not implemented")}_linkToIdToken(t,r){return ta("not implemented")}_getReauthenticationResolver(t){return ta("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Od(e,t){return Wde(e,"POST","/v1/accounts:signInWithIdp",E8(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vhe="http://localhost";class Hc extends U8{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new Hc(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):Ss("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:o,signInMethod:s}=r,u=S2(r,["providerId","signInMethod"]);if(!o||!s)return null;const h=new Hc(o,s);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const r=this.buildRequest();return Od(t,r)}_linkToIdToken(t,r){const o=this.buildRequest();return o.idToken=r,Od(t,o)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,Od(t,r)}buildRequest(){const t={requestUri:vhe,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=fg(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg extends P2{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends kg{constructor(){super("facebook.com")}static credential(t){return Hc._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ha.credentialFromTaggedObject(t)}static credentialFromError(t){return Ha.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ha.credential(t.oauthAccessToken)}catch{return null}}}Ha.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ha.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends kg{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Hc._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return Wa.credentialFromTaggedObject(t)}static credentialFromError(t){return Wa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:o}=t;if(!r&&!o)return null;try{return Wa.credential(r,o)}catch{return null}}}Wa.GOOGLE_SIGN_IN_METHOD="google.com";Wa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends kg{constructor(){super("github.com")}static credential(t){return Hc._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qa.credentialFromTaggedObject(t)}static credentialFromError(t){return qa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qa.credential(t.oauthAccessToken)}catch{return null}}}qa.GITHUB_SIGN_IN_METHOD="github.com";qa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends kg{constructor(){super("twitter.com")}static credential(t,r){return Hc._fromParams({providerId:Ga.PROVIDER_ID,signInMethod:Ga.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return Ga.credentialFromTaggedObject(t)}static credentialFromError(t){return Ga.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:o}=t;if(!r||!o)return null;try{return Ga.credential(r,o)}catch{return null}}}Ga.TWITTER_SIGN_IN_METHOD="twitter.com";Ga.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,o,s=!1){const u=await Dc._fromIdTokenResponse(t,o,s),h=Fj(o);return new Xd({user:u,providerId:h,_tokenResponse:o,operationType:r})}static async _forOperation(t,r,o){await t._updateTokensIfNecessary(o,!0);const s=Fj(o);return new Xd({user:t,providerId:s,_tokenResponse:o,operationType:r})}}function Fj(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0 extends Ns{constructor(t,r,o,s){var u;super(r.code,r.message),this.operationType=o,this.user=s,Object.setPrototypeOf(this,T0.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:r.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(t,r,o,s){return new T0(t,r,o,s)}}function H8(e,t,r,o){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?T0._fromErrorAndOperation(e,u,t,o):u})}async function whe(e,t,r=!1){const o=await Sm(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return Xd._forOperation(e,"link",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yhe(e,t,r=!1){const{auth:o}=e,s="reauthenticate";try{const u=await Sm(e,H8(o,s,t,e),r);lt(u.idToken,o,"internal-error");const h=I2(u.idToken);lt(h,o,"internal-error");const{sub:m}=h;return lt(e.uid===m,o,"user-mismatch"),Xd._forOperation(e,s,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ss(o,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _he(e,t,r=!1){const o="signIn",s=await H8(e,o,t),u=await Xd._fromIdTokenResponse(e,o,s);return r||await e._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IBe(e,t){return vn(e).setPersistence(t)}function Che(e,t,r,o){return vn(e).onIdTokenChanged(t,r,o)}function Ahe(e,t,r){return vn(e).beforeAuthStateChanged(t,r)}function xhe(e,t,r,o){return vn(e).onAuthStateChanged(t,r,o)}function Ehe(e){return vn(e).signOut()}const I0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(I0,"1"),this.storage.removeItem(I0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function She(){const e=Hr();return M2(e)||$w(e)}const Dhe=1e3,The=10;class q8 extends W8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=She()&&ihe(),this.fallbackToPolling=L8(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const o=this.storage.getItem(r),s=this.localCache[r];o!==s&&t(r,s,o)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((h,m,f)=>{this.notifyListeners(h,f)});return}const o=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const h=this.storage.getItem(o);if(t.newValue!==h)t.newValue!==null?this.storage.setItem(o,t.newValue):this.storage.removeItem(o);else if(this.localCache[o]===t.newValue&&!r)return}const s=()=>{const h=this.storage.getItem(o);!r&&this.localCache[o]===h||this.notifyListeners(o,h)},u=this.storage.getItem(o);ohe()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,The):s()}notifyListeners(t,r){this.localCache[t]=r;const o=this.listeners[t];if(o)for(const s of Array.from(o))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:o}),!0)})},Dhe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}q8.type="LOCAL";const Ihe=q8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8 extends W8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}G8.type="SESSION";const K8=G8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mhe(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const o=new Vw(t);return this.receivers.push(o),o}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:o,eventType:s,data:u}=r.data,h=this.handlersMap[s];if(!(h!=null&&h.size))return;r.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const m=Array.from(h).map(async k=>k(r.origin,u)),f=await Mhe(m);r.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:f})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(e="",t=10){let r="";for(let o=0;o<t;o++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Phe{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,o=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let u,h;return new Promise((m,f)=>{const k=N2("",20);s.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},o);h={messageChannel:s,onMessage(_){const y=_;if(y.data.eventId===k)switch(y.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(y.data.response);break;default:clearTimeout(v),clearTimeout(u),f(new Error("invalid_response"));break}}},this.handlers.add(h),s.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:k,data:r},[s.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(){return window}function Nhe(e){ys().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(){return typeof ys().WorkerGlobalScope<"u"&&typeof ys().importScripts=="function"}async function Rhe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ohe(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function Bhe(){return Y8()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8="firebaseLocalStorageDb",Lhe=1,M0="firebaseLocalStorage",Z8="fbase_key";class vg{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Uw(e,t){return e.transaction([M0],t?"readwrite":"readonly").objectStore(M0)}function jhe(){const e=indexedDB.deleteDatabase(Q8);return new vg(e).toPromise()}function vE(){const e=indexedDB.open(Q8,Lhe);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const o=e.result;try{o.createObjectStore(M0,{keyPath:Z8})}catch(s){r(s)}}),e.addEventListener("success",async()=>{const o=e.result;o.objectStoreNames.contains(M0)?t(o):(o.close(),await jhe(),t(await vE()))})})}async function zj(e,t,r){const o=Uw(e,!0).put({[Z8]:t,value:r});return new vg(o).toPromise()}async function Fhe(e,t){const r=Uw(e,!1).get(t),o=await new vg(r).toPromise();return o===void 0?null:o.value}function $j(e,t){const r=Uw(e,!0).delete(t);return new vg(r).toPromise()}const zhe=800,$he=3;class J8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vE(),this.db)}async _withRetries(t){let r=0;for(;;)try{const o=await this._openDb();return await t(o)}catch(o){if(r++>$he)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Y8()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vw._getInstance(Bhe()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await Rhe(),!this.activeServiceWorker)return;this.sender=new Phe(this.activeServiceWorker);const o=await this.sender._send("ping",{},800);o&&!((t=o[0])===null||t===void 0)&&t.fulfilled&&!((r=o[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Ohe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await vE();return await zj(t,I0,"1"),await $j(t,I0),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(o=>zj(o,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(o=>Fhe(o,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>$j(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const u=Uw(s,!1).getAll();return new vg(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],o=new Set;for(const{fbase_key:s,value:u}of t)o.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!o.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(t,r){this.localCache[t]=r;const o=this.listeners[t];if(o)for(const s of Array.from(o))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zhe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}J8.type="LOCAL";const Vhe=J8;new mg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X8(e,t){return t?na(t):(lt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2 extends U8{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Od(t,this._buildIdpRequest())}_linkToIdToken(t,r){return Od(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return Od(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function Uhe(e){return _he(e.auth,new R2(e),e.bypassAuthState)}function Hhe(e){const{auth:t,user:r}=e;return lt(r,t,"internal-error"),yhe(r,new R2(e),e.bypassAuthState)}async function Whe(e){const{auth:t,user:r}=e;return lt(r,t,"internal-error"),whe(r,new R2(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(t,r,o,s,u=!1){this.auth=t,this.resolver=o,this.user=s,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:o,postBody:s,tenantId:u,error:h,type:m}=t;if(h){this.reject(h);return}const f={auth:this.auth,requestUri:r,sessionId:o,tenantId:u||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(f))}catch(k){this.reject(k)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Uhe;case"linkViaPopup":case"linkViaRedirect":return Whe;case"reauthViaPopup":case"reauthViaRedirect":return Hhe;default:Ss(this.auth,"internal-error")}}resolve(t){fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qhe=new mg(2e3,1e4);async function MBe(e,t,r){const o=bg(e);Fde(e,t,P2);const s=X8(o,r);return new bc(o,"signInViaPopup",t,s).executeNotNull()}class bc extends eV{constructor(t,r,o,s,u){super(t,r,s,u),this.provider=o,this.authWindow=null,this.pollId=null,bc.currentPopupAction&&bc.currentPopupAction.cancel(),bc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return lt(t,this.auth,"internal-error"),t}async onExecution(){fa(this.filter.length===1,"Popup operations only handle one event");const t=N2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ws(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ws(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bc.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,o;if(!((o=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||o===void 0)&&o.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ws(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,qhe.get())};t()}}bc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ghe="pendingRedirect",Pv=new Map;class Khe extends eV{constructor(t,r,o=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,o),this.eventId=null}async execute(){let t=Pv.get(this.auth._key());if(!t){try{const o=await Yhe(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(o)}catch(r){t=()=>Promise.reject(r)}Pv.set(this.auth._key(),t)}return this.bypassAuthState||Pv.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Yhe(e,t){const r=Jhe(t),o=Zhe(e);if(!await o._isAvailable())return!1;const s=await o._get(r)==="true";return await o._remove(r),s}function Qhe(e,t){Pv.set(e._key(),t)}function Zhe(e){return na(e._redirectPersistence)}function Jhe(e){return Mv(Ghe,e.config.apiKey,e.name)}async function Xhe(e,t,r=!1){const o=bg(e),s=X8(o,t),h=await new Khe(o,s,r).execute();return h&&!r&&(delete h.user._redirectEventId,await o._persistUserIfCurrent(h.user),await o._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const epe=10*60*1e3;class tpe{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(t,o)&&(r=!0,this.sendToConsumer(t,o),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!npe(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var o;if(t.error&&!tV(t)){const s=((o=t.error.code)===null||o===void 0?void 0:o.split("auth/")[1])||"internal-error";r.onError(ws(this.auth,s))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const o=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&o}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=epe&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vj(t))}saveEventToCache(t){this.cachedEventUids.add(Vj(t)),this.lastProcessedEventTime=Date.now()}}function Vj(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function tV({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function npe(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tV(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rpe(e,t={}){return gg(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ope=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ipe=/^https?/;async function spe(e){if(e.config.emulator)return;const{authorizedDomains:t}=await rpe(e);for(const r of t)try{if(ape(r))return}catch{}Ss(e,"unauthorized-domain")}function ape(e){const t=kE(),{protocol:r,hostname:o}=new URL(t);if(e.startsWith("chrome-extension://")){const h=new URL(e);return h.hostname===""&&o===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&h.hostname===o}if(!ipe.test(r))return!1;if(ope.test(e))return o===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lpe=new mg(3e4,6e4);function Uj(){const e=ys().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function cpe(e){return new Promise((t,r)=>{var o,s,u;function h(){Uj(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Uj(),r(ws(e,"network-request-failed"))},timeout:lpe.get()})}if(!((s=(o=ys().gapi)===null||o===void 0?void 0:o.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((u=ys().gapi)===null||u===void 0)&&u.load)h();else{const m=ahe("iframefcb");return ys()[m]=()=>{gapi.load?h():r(ws(e,"network-request-failed"))},$8(`https://apis.google.com/js/api.js?onload=${m}`).catch(f=>r(f))}}).catch(t=>{throw Nv=null,t})}let Nv=null;function upe(e){return Nv=Nv||cpe(e),Nv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dpe=new mg(5e3,15e3),hpe="__/auth/iframe",ppe="emulator/auth/iframe",fpe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mpe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gpe(e){const t=e.config;lt(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?T2(t,ppe):`https://${e.config.authDomain}/${hpe}`,o={apiKey:t.apiKey,appName:e.name,v:su},s=mpe.get(e.config.apiHost);s&&(o.eid=s);const u=e._getFrameworks();return u.length&&(o.fw=u.join(",")),`${r}?${fg(o).slice(1)}`}async function bpe(e){const t=await upe(e),r=ys().gapi;return lt(r,e,"internal-error"),t.open({where:document.body,url:gpe(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fpe,dontclear:!0},o=>new Promise(async(s,u)=>{await o.restyle({setHideOnLeave:!1});const h=ws(e,"network-request-failed"),m=ys().setTimeout(()=>{u(h)},dpe.get());function f(){ys().clearTimeout(m),s(o)}o.ping(f).then(f,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kpe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vpe=500,wpe=600,ype="_blank",_pe="http://localhost";class Hj{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Cpe(e,t,r,o=vpe,s=wpe){const u=Math.max((window.screen.availHeight-s)/2,0).toString(),h=Math.max((window.screen.availWidth-o)/2,0).toString();let m="";const f=Object.assign(Object.assign({},kpe),{width:o.toString(),height:s.toString(),top:u,left:h}),k=Hr().toLowerCase();r&&(m=P8(k)?ype:r),M8(k)&&(t=t||_pe,f.scrollbars="yes");const v=Object.entries(f).reduce((y,[A,S])=>`${y}${A}=${S},`,"");if(rhe(k)&&m!=="_self")return Ape(t||"",m),new Hj(null);const _=window.open(t||"",m,v);lt(_,e,"popup-blocked");try{_.focus()}catch{}return new Hj(_)}function Ape(e,t){const r=document.createElement("a");r.href=e,r.target=t;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xpe="__/auth/handler",Epe="emulator/auth/handler",Spe=encodeURIComponent("fac");async function Wj(e,t,r,o,s,u){lt(e.config.authDomain,e,"auth-domain-config-required"),lt(e.config.apiKey,e,"invalid-api-key");const h={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:o,v:su,eventId:s};if(t instanceof P2){t.setDefaultLanguage(e.languageCode),h.providerId=t.providerId||"",Due(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,_]of Object.entries({}))h[v]=_}if(t instanceof kg){const v=t.getScopes().filter(_=>_!=="");v.length>0&&(h.scopes=v.join(","))}e.tenantId&&(h.tid=e.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const f=await e._getAppCheckToken(),k=f?`#${Spe}=${encodeURIComponent(f)}`:"";return`${Dpe(e)}?${fg(m).slice(1)}${k}`}function Dpe({config:e}){return e.emulator?T2(e,Epe):`https://${e.authDomain}/${xpe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="webStorageSupport";class Tpe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K8,this._completeRedirectFn=Xhe,this._overrideRedirectResult=Qhe}async _openPopup(t,r,o,s){var u;fa((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await Wj(t,r,o,kE(),s);return Cpe(t,h,N2())}async _openRedirect(t,r,o,s){await this._originValidation(t);const u=await Wj(t,r,o,kE(),s);return Nhe(u),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:s,promise:u}=this.eventManagers[r];return s?Promise.resolve(s):(fa(u,"If manager is not set, promise should be"),u)}const o=this.initAndGetManager(t);return this.eventManagers[r]={promise:o},o.catch(()=>{delete this.eventManagers[r]}),o}async initAndGetManager(t){const r=await bpe(t),o=new tpe(t);return r.register("authEvent",s=>(lt(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:o.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:o},this.iframes[t._key()]=r,o}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(A1,{type:A1},s=>{var u;const h=(u=s==null?void 0:s[0])===null||u===void 0?void 0:u[A1];h!==void 0&&r(!!h),Ss(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=spe(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return L8()||M2()||$w()}}const Ipe=Tpe;var qj="@firebase/auth",Gj="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mpe{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(o=>{t((o==null?void 0:o.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ppe(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Npe(e){Uc(new kl("auth",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=o.options;lt(h&&!h.includes(":"),"invalid-api-key",{appName:o.name});const f={apiKey:h,authDomain:m,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j8(e)},k=new phe(o,s,u,f);return mhe(k,r),k},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,o)=>{t.getProvider("auth-internal").initialize()})),Uc(new kl("auth-internal",t=>{const r=bg(t.getProvider("auth").getImmediate());return(o=>new Mpe(o))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),vs(qj,Gj,Ppe(e)),vs(qj,Gj,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rpe=5*60,Ope=m8("authIdTokenMaxAge")||Rpe;let Kj=null;const Bpe=e=>async t=>{const r=t&&await t.getIdTokenResult(),o=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(o&&o>Ope)return;const s=r==null?void 0:r.token;Kj!==s&&(Kj=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function nV(e=E2()){const t=zw(e,"auth");if(t.isInitialized())return t.getImmediate();const r=fhe(e,{popupRedirectResolver:Ipe,persistence:[Vhe,Ihe,K8]}),o=m8("authTokenSyncURL");if(o){const u=Bpe(o);Ahe(r,u,()=>u(r.currentUser)),Che(r,h=>u(h))}const s=h8("auth");return s&&ghe(r,`http://${s}`),r}Npe("Browser");var Lpe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},De,O2=O2||{},it=Lpe||self;function Hw(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Ww(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function jpe(e){return Object.prototype.hasOwnProperty.call(e,x1)&&e[x1]||(e[x1]=++Fpe)}var x1="closure_uid_"+(1e9*Math.random()>>>0),Fpe=0;function zpe(e,t,r){return e.call.apply(e.bind,arguments)}function $pe(e,t,r){if(!e)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,o),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function Fr(e,t,r){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Fr=zpe:Fr=$pe,Fr.apply(null,arguments)}function Hk(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var o=r.slice();return o.push.apply(o,arguments),e.apply(this,o)}}function kr(e,t){function r(){}r.prototype=t.prototype,e.$=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.ac=function(o,s,u){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return t.prototype[s].apply(o,h)}}function Ml(){this.s=this.s,this.o=this.o}var Vpe=0;Ml.prototype.s=!1;Ml.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Vpe!=0)&&jpe(this)};Ml.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rV=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let r=0;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1};function B2(e){const t=e.length;if(0<t){const r=Array(t);for(let o=0;o<t;o++)r[o]=e[o];return r}return[]}function Yj(e,t){for(let r=1;r<arguments.length;r++){const o=arguments[r];if(Hw(o)){const s=e.length||0,u=o.length||0;e.length=s+u;for(let h=0;h<u;h++)e[s+h]=o[h]}else e.push(o)}}function zr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}zr.prototype.h=function(){this.defaultPrevented=!0};var Upe=function(){if(!it.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{it.addEventListener("test",()=>{},t),it.removeEventListener("test",()=>{},t)}catch{}return e}();function Tm(e){return/^[\s\xa0]*$/.test(e)}function qw(){var e=it.navigator;return e&&(e=e.userAgent)?e:""}function us(e){return qw().indexOf(e)!=-1}function L2(e){return L2[" "](e),e}L2[" "]=function(){};function Hpe(e,t){var r=Lfe;return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}var Wpe=us("Opera"),eh=us("Trident")||us("MSIE"),oV=us("Edge"),wE=oV||eh,iV=us("Gecko")&&!(qw().toLowerCase().indexOf("webkit")!=-1&&!us("Edge"))&&!(us("Trident")||us("MSIE"))&&!us("Edge"),qpe=qw().toLowerCase().indexOf("webkit")!=-1&&!us("Edge");function sV(){var e=it.document;return e?e.documentMode:void 0}var yE;e:{var E1="",S1=function(){var e=qw();if(iV)return/rv:([^\);]+)(\)|;)/.exec(e);if(oV)return/Edge\/([\d\.]+)/.exec(e);if(eh)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(qpe)return/WebKit\/(\S+)/.exec(e);if(Wpe)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(S1&&(E1=S1?S1[1]:""),eh){var D1=sV();if(D1!=null&&D1>parseFloat(E1)){yE=String(D1);break e}}yE=E1}var _E;if(it.document&&eh){var Qj=sV();_E=Qj||parseInt(yE,10)||void 0}else _E=void 0;var Gpe=_E;function Im(e,t){if(zr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var r=this.type=e.type,o=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(iV){e:{try{L2(t.nodeName);var s=!0;break e}catch{}s=!1}s||(t=null)}}else r=="mouseover"?t=e.fromElement:r=="mouseout"&&(t=e.toElement);this.relatedTarget=t,o?(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Kpe[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Im.$.h.call(this)}}kr(Im,zr);var Kpe={2:"touch",3:"pen",4:"mouse"};Im.prototype.h=function(){Im.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Gw="closure_listenable_"+(1e6*Math.random()|0),Ype=0;function Qpe(e,t,r,o,s){this.listener=e,this.proxy=null,this.src=t,this.type=r,this.capture=!!o,this.la=s,this.key=++Ype,this.fa=this.ia=!1}function Kw(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function j2(e,t,r){for(const o in e)t.call(r,e[o],o,e)}function Zpe(e,t){for(const r in e)t.call(void 0,e[r],r,e)}function aV(e){const t={};for(const r in e)t[r]=e[r];return t}const Zj="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lV(e,t){let r,o;for(let s=1;s<arguments.length;s++){o=arguments[s];for(r in o)e[r]=o[r];for(let u=0;u<Zj.length;u++)r=Zj[u],Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}}function Yw(e){this.src=e,this.g={},this.h=0}Yw.prototype.add=function(e,t,r,o,s){var u=e.toString();e=this.g[u],e||(e=this.g[u]=[],this.h++);var h=AE(e,t,o,s);return-1<h?(t=e[h],r||(t.ia=!1)):(t=new Qpe(t,this.src,u,!!o,s),t.ia=r,e.push(t)),t};function CE(e,t){var r=t.type;if(r in e.g){var o=e.g[r],s=rV(o,t),u;(u=0<=s)&&Array.prototype.splice.call(o,s,1),u&&(Kw(t),e.g[r].length==0&&(delete e.g[r],e.h--))}}function AE(e,t,r,o){for(var s=0;s<e.length;++s){var u=e[s];if(!u.fa&&u.listener==t&&u.capture==!!r&&u.la==o)return s}return-1}var F2="closure_lm_"+(1e6*Math.random()|0),T1={};function cV(e,t,r,o,s){if(Array.isArray(t)){for(var u=0;u<t.length;u++)cV(e,t[u],r,o,s);return null}return r=hV(r),e&&e[Gw]?e.O(t,r,Ww(o)?!!o.capture:!!o,s):Jpe(e,t,r,!1,o,s)}function Jpe(e,t,r,o,s,u){if(!t)throw Error("Invalid event type");var h=Ww(s)?!!s.capture:!!s,m=$2(e);if(m||(e[F2]=m=new Yw(e)),r=m.add(t,r,o,h,u),r.proxy)return r;if(o=Xpe(),r.proxy=o,o.src=e,o.listener=r,e.addEventListener)Upe||(s=h),s===void 0&&(s=!1),e.addEventListener(t.toString(),o,s);else if(e.attachEvent)e.attachEvent(dV(t.toString()),o);else if(e.addListener&&e.removeListener)e.addListener(o);else throw Error("addEventListener and attachEvent are unavailable.");return r}function Xpe(){function e(r){return t.call(e.src,e.listener,r)}const t=efe;return e}function uV(e,t,r,o,s){if(Array.isArray(t))for(var u=0;u<t.length;u++)uV(e,t[u],r,o,s);else o=Ww(o)?!!o.capture:!!o,r=hV(r),e&&e[Gw]?(e=e.i,t=String(t).toString(),t in e.g&&(u=e.g[t],r=AE(u,r,o,s),-1<r&&(Kw(u[r]),Array.prototype.splice.call(u,r,1),u.length==0&&(delete e.g[t],e.h--)))):e&&(e=$2(e))&&(t=e.g[t.toString()],e=-1,t&&(e=AE(t,r,o,s)),(r=-1<e?t[e]:null)&&z2(r))}function z2(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Gw])CE(t.i,e);else{var r=e.type,o=e.proxy;t.removeEventListener?t.removeEventListener(r,o,e.capture):t.detachEvent?t.detachEvent(dV(r),o):t.addListener&&t.removeListener&&t.removeListener(o),(r=$2(t))?(CE(r,e),r.h==0&&(r.src=null,t[F2]=null)):Kw(e)}}}function dV(e){return e in T1?T1[e]:T1[e]="on"+e}function efe(e,t){if(e.fa)e=!0;else{t=new Im(t,this);var r=e.listener,o=e.la||e.src;e.ia&&z2(e),e=r.call(o,t)}return e}function $2(e){return e=e[F2],e instanceof Yw?e:null}var I1="__closure_events_fn_"+(1e9*Math.random()>>>0);function hV(e){return typeof e=="function"?e:(e[I1]||(e[I1]=function(t){return e.handleEvent(t)}),e[I1])}function br(){Ml.call(this),this.i=new Yw(this),this.S=this,this.J=null}kr(br,Ml);br.prototype[Gw]=!0;br.prototype.removeEventListener=function(e,t,r,o){uV(this,e,t,r,o)};function Tr(e,t){var r,o=e.J;if(o)for(r=[];o;o=o.J)r.push(o);if(e=e.S,o=t.type||t,typeof t=="string")t=new zr(t,e);else if(t instanceof zr)t.target=t.target||e;else{var s=t;t=new zr(o,e),lV(t,s)}if(s=!0,r)for(var u=r.length-1;0<=u;u--){var h=t.g=r[u];s=Wk(h,o,!0,t)&&s}if(h=t.g=e,s=Wk(h,o,!0,t)&&s,s=Wk(h,o,!1,t)&&s,r)for(u=0;u<r.length;u++)h=t.g=r[u],s=Wk(h,o,!1,t)&&s}br.prototype.N=function(){if(br.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var r=e.g[t],o=0;o<r.length;o++)Kw(r[o]);delete e.g[t],e.h--}}this.J=null};br.prototype.O=function(e,t,r,o){return this.i.add(String(e),t,!1,r,o)};br.prototype.P=function(e,t,r,o){return this.i.add(String(e),t,!0,r,o)};function Wk(e,t,r,o){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,u=0;u<t.length;++u){var h=t[u];if(h&&!h.fa&&h.capture==r){var m=h.listener,f=h.la||h.src;h.ia&&CE(e.i,h),s=m.call(f,o)!==!1&&s}}return s&&!o.defaultPrevented}var V2=it.JSON.stringify;class tfe{constructor(t,r){this.i=t,this.j=r,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function nfe(){var e=U2;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class rfe{constructor(){this.h=this.g=null}add(t,r){const o=pV.get();o.set(t,r),this.h?this.h.next=o:this.g=o,this.h=o}}var pV=new tfe(()=>new ofe,e=>e.reset());class ofe{constructor(){this.next=this.g=this.h=null}set(t,r){this.h=t,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function ife(e){var t=1;e=e.split(":");const r=[];for(;0<t&&e.length;)r.push(e.shift()),t--;return e.length&&r.push(e.join(":")),r}function sfe(e){it.setTimeout(()=>{throw e},0)}let Mm,Pm=!1,U2=new rfe,fV=()=>{const e=it.Promise.resolve(void 0);Mm=()=>{e.then(afe)}};var afe=()=>{for(var e;e=nfe();){try{e.h.call(e.g)}catch(r){sfe(r)}var t=pV;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Pm=!1};function Qw(e,t){br.call(this),this.h=e||1,this.g=t||it,this.j=Fr(this.qb,this),this.l=Date.now()}kr(Qw,br);De=Qw.prototype;De.ga=!1;De.T=null;De.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Tr(this,"tick"),this.ga&&(H2(this),this.start()))}};De.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function H2(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}De.N=function(){Qw.$.N.call(this),H2(this),delete this.g};function W2(e,t,r){if(typeof e=="function")r&&(e=Fr(e,r));else if(e&&typeof e.handleEvent=="function")e=Fr(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:it.setTimeout(e,t||0)}function mV(e){e.g=W2(()=>{e.g=null,e.i&&(e.i=!1,mV(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class lfe extends Ml{constructor(t,r){super(),this.m=t,this.j=r,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:mV(this)}N(){super.N(),this.g&&(it.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nm(e){Ml.call(this),this.h=e,this.g={}}kr(Nm,Ml);var Jj=[];function gV(e,t,r,o){Array.isArray(r)||(r&&(Jj[0]=r.toString()),r=Jj);for(var s=0;s<r.length;s++){var u=cV(t,r[s],o||e.handleEvent,!1,e.h||e);if(!u)break;e.g[u.key]=u}}function bV(e){j2(e.g,function(t,r){this.g.hasOwnProperty(r)&&z2(t)},e),e.g={}}Nm.prototype.N=function(){Nm.$.N.call(this),bV(this)};Nm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Zw(){this.g=!0}Zw.prototype.Ea=function(){this.g=!1};function cfe(e,t,r,o,s,u){e.info(function(){if(e.g)if(u)for(var h="",m=u.split("&"),f=0;f<m.length;f++){var k=m[f].split("=");if(1<k.length){var v=k[0];k=k[1];var _=v.split("_");h=2<=_.length&&_[1]=="type"?h+(v+"="+k+"&"):h+(v+"=redacted&")}}else h=null;else h=u;return"XMLHTTP REQ ("+o+") [attempt "+s+"]: "+t+`
`+r+`
`+h})}function ufe(e,t,r,o,s,u,h){e.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+s+"]: "+t+`
`+r+`
`+u+" "+h})}function Ed(e,t,r,o){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+hfe(e,r)+(o?" "+o:"")})}function dfe(e,t){e.info(function(){return"TIMEOUT: "+t})}Zw.prototype.info=function(){};function hfe(e,t){if(!e.g)return t;if(!t)return null;try{var r=JSON.parse(t);if(r){for(e=0;e<r.length;e++)if(Array.isArray(r[e])){var o=r[e];if(!(2>o.length)){var s=o[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if(u!="noop"&&u!="stop"&&u!="close")for(var h=1;h<s.length;h++)s[h]=""}}}}return V2(r)}catch{return t}}var au={},Xj=null;function Jw(){return Xj=Xj||new br}au.Ta="serverreachability";function kV(e){zr.call(this,au.Ta,e)}kr(kV,zr);function Rm(e){const t=Jw();Tr(t,new kV(t))}au.STAT_EVENT="statevent";function vV(e,t){zr.call(this,au.STAT_EVENT,e),this.stat=t}kr(vV,zr);function Zr(e){const t=Jw();Tr(t,new vV(t,e))}au.Ua="timingevent";function wV(e,t){zr.call(this,au.Ua,e),this.size=t}kr(wV,zr);function wg(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return it.setTimeout(function(){e()},t)}var Xw={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},yV={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function q2(){}q2.prototype.h=null;function eF(e){return e.h||(e.h=e.i())}function _V(){}var yg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function G2(){zr.call(this,"d")}kr(G2,zr);function K2(){zr.call(this,"c")}kr(K2,zr);var xE;function ey(){}kr(ey,q2);ey.prototype.g=function(){return new XMLHttpRequest};ey.prototype.i=function(){return{}};xE=new ey;function _g(e,t,r,o){this.l=e,this.j=t,this.m=r,this.W=o||1,this.U=new Nm(this),this.P=pfe,e=wE?125:void 0,this.V=new Qw(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new CV}function CV(){this.i=null,this.g="",this.h=!1}var pfe=45e3,EE={},P0={};De=_g.prototype;De.setTimeout=function(e){this.P=e};function SE(e,t,r){e.L=1,e.v=ny(ma(t)),e.s=r,e.S=!0,AV(e,null)}function AV(e,t){e.G=Date.now(),Cg(e),e.A=ma(e.v);var r=e.A,o=e.W;Array.isArray(o)||(o=[String(o)]),PV(r.i,"t",o),e.C=0,r=e.l.J,e.h=new CV,e.g=XV(e.l,r?t:null,!e.s),0<e.O&&(e.M=new lfe(Fr(e.Pa,e,e.g),e.O)),gV(e.U,e.g,"readystatechange",e.nb),t=e.I?aV(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Rm(),cfe(e.j,e.u,e.A,e.m,e.W,e.s)}De.nb=function(e){e=e.target;const t=this.M;t&&ps(e)==3?t.l():this.Pa(e)};De.Pa=function(e){try{if(e==this.g)e:{const v=ps(this.g);var t=this.g.Ia();const _=this.g.da();if(!(3>v)&&(v!=3||wE||this.g&&(this.h.h||this.g.ja()||oF(this.g)))){this.J||v!=4||t==7||(t==8||0>=_?Rm(3):Rm(2)),ty(this);var r=this.g.da();this.ca=r;t:if(xV(this)){var o=oF(this.g);e="";var s=o.length,u=ps(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kc(this),Hf(this);var h="";break t}this.h.i=new it.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(o[t],{stream:u&&t==s-1});o.splice(0,s),this.h.g+=e,this.C=0,h=this.h.g}else h=this.g.ja();if(this.i=r==200,ufe(this.j,this.u,this.A,this.m,this.W,v,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,f=this.g;if((m=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tm(m)){var k=m;break t}}k=null}if(r=k)Ed(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,DE(this,r);else{this.i=!1,this.o=3,Zr(12),kc(this),Hf(this);break e}}this.S?(EV(this,v,h),wE&&this.i&&v==3&&(gV(this.U,this.V,"tick",this.mb),this.V.start())):(Ed(this.j,this.m,h,null),DE(this,h)),v==4&&kc(this),this.i&&!this.J&&(v==4?YV(this.l,this):(this.i=!1,Cg(this)))}else Rfe(this.g),r==400&&0<h.indexOf("Unknown SID")?(this.o=3,Zr(12)):(this.o=0,Zr(13)),kc(this),Hf(this)}}}catch{}finally{}};function xV(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function EV(e,t,r){let o=!0,s;for(;!e.J&&e.C<r.length;)if(s=ffe(e,r),s==P0){t==4&&(e.o=4,Zr(14),o=!1),Ed(e.j,e.m,null,"[Incomplete Response]");break}else if(s==EE){e.o=4,Zr(15),Ed(e.j,e.m,r,"[Invalid Chunk]"),o=!1;break}else Ed(e.j,e.m,s,null),DE(e,s);xV(e)&&s!=P0&&s!=EE&&(e.h.g="",e.C=0),t!=4||r.length!=0||e.h.h||(e.o=1,Zr(16),o=!1),e.i=e.i&&o,o?0<r.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),eD(t),t.M=!0,Zr(11))):(Ed(e.j,e.m,r,"[Invalid Chunked Response]"),kc(e),Hf(e))}De.mb=function(){if(this.g){var e=ps(this.g),t=this.g.ja();this.C<t.length&&(ty(this),EV(this,e,t),this.i&&e!=4&&Cg(this))}};function ffe(e,t){var r=e.C,o=t.indexOf(`
`,r);return o==-1?P0:(r=Number(t.substring(r,o)),isNaN(r)?EE:(o+=1,o+r>t.length?P0:(t=t.slice(o,o+r),e.C=o+r,t)))}De.cancel=function(){this.J=!0,kc(this)};function Cg(e){e.Y=Date.now()+e.P,SV(e,e.P)}function SV(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=wg(Fr(e.lb,e),t)}function ty(e){e.B&&(it.clearTimeout(e.B),e.B=null)}De.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(dfe(this.j,this.A),this.L!=2&&(Rm(),Zr(17)),kc(this),this.o=2,Hf(this)):SV(this,this.Y-e)};function Hf(e){e.l.H==0||e.J||YV(e.l,e)}function kc(e){ty(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,H2(e.V),bV(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function DE(e,t){try{var r=e.l;if(r.H!=0&&(r.g==e||TE(r.i,e))){if(!e.K&&TE(r.i,e)&&r.H==3){try{var o=r.Ja.g.parse(t)}catch{o=null}if(Array.isArray(o)&&o.length==3){var s=o;if(s[0]==0){e:if(!r.u){if(r.g)if(r.g.G+3e3<e.G)O0(r),iy(r);else break e;X2(r),Zr(18)}}else r.Fa=s[1],0<r.Fa-r.V&&37500>s[2]&&r.G&&r.A==0&&!r.v&&(r.v=wg(Fr(r.ib,r),6e3));if(1>=OV(r.i)&&r.oa){try{r.oa()}catch{}r.oa=void 0}}else vc(r,11)}else if((e.K||r.g==e)&&O0(r),!Tm(t))for(s=r.Ja.g.parse(t),t=0;t<s.length;t++){let k=s[t];if(r.V=k[0],k=k[1],r.H==2)if(k[0]=="c"){r.K=k[1],r.pa=k[2];const v=k[3];v!=null&&(r.ra=v,r.l.info("VER="+r.ra));const _=k[4];_!=null&&(r.Ga=_,r.l.info("SVER="+r.Ga));const y=k[5];y!=null&&typeof y=="number"&&0<y&&(o=1.5*y,r.L=o,r.l.info("backChannelRequestTimeoutMs_="+o)),o=r;const A=e.g;if(A){const S=A.g?A.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var u=o.i;u.g||S.indexOf("spdy")==-1&&S.indexOf("quic")==-1&&S.indexOf("h2")==-1||(u.j=u.l,u.g=new Set,u.h&&(Y2(u,u.h),u.h=null))}if(o.F){const E=A.g?A.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(o.Da=E,fn(o.I,o.F,E))}}r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-e.G,r.l.info("Handshake RTT: "+r.S+"ms")),o=r;var h=e;if(o.wa=JV(o,o.J?o.pa:null,o.Y),h.K){BV(o.i,h);var m=h,f=o.L;f&&m.setTimeout(f),m.B&&(ty(m),Cg(m)),o.g=h}else GV(o);0<r.j.length&&sy(r)}else k[0]!="stop"&&k[0]!="close"||vc(r,7);else r.H==3&&(k[0]=="stop"||k[0]=="close"?k[0]=="stop"?vc(r,7):J2(r):k[0]!="noop"&&r.h&&r.h.Aa(k),r.A=0)}}Rm(4)}catch{}}function mfe(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Hw(e)){for(var t=[],r=e.length,o=0;o<r;o++)t.push(e[o]);return t}t=[],r=0;for(o in e)t[r++]=e[o];return t}function gfe(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Hw(e)||typeof e=="string"){var t=[];e=e.length;for(var r=0;r<e;r++)t.push(r);return t}t=[],r=0;for(const o in e)t[r++]=o;return t}}}function DV(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Hw(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var r=gfe(e),o=mfe(e),s=o.length,u=0;u<s;u++)t.call(void 0,o[u],r&&r[u],e)}var TV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bfe(e,t){if(e){e=e.split("&");for(var r=0;r<e.length;r++){var o=e[r].indexOf("="),s=null;if(0<=o){var u=e[r].substring(0,o);s=e[r].substring(o+1)}else u=e[r];t(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Tc(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Tc){this.h=e.h,N0(this,e.j),this.s=e.s,this.g=e.g,R0(this,e.m),this.l=e.l;var t=e.i,r=new Om;r.i=t.i,t.g&&(r.g=new Map(t.g),r.h=t.h),tF(this,r),this.o=e.o}else e&&(t=String(e).match(TV))?(this.h=!1,N0(this,t[1]||"",!0),this.s=xf(t[2]||""),this.g=xf(t[3]||"",!0),R0(this,t[4]),this.l=xf(t[5]||"",!0),tF(this,t[6]||"",!0),this.o=xf(t[7]||"")):(this.h=!1,this.i=new Om(null,this.h))}Tc.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ef(t,nF,!0),":");var r=this.g;return(r||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Ef(t,nF,!0),"@"),e.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r=this.m,r!=null&&e.push(":",String(r))),(r=this.l)&&(this.g&&r.charAt(0)!="/"&&e.push("/"),e.push(Ef(r,r.charAt(0)=="/"?wfe:vfe,!0))),(r=this.i.toString())&&e.push("?",r),(r=this.o)&&e.push("#",Ef(r,_fe)),e.join("")};function ma(e){return new Tc(e)}function N0(e,t,r){e.j=r?xf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function R0(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function tF(e,t,r){t instanceof Om?(e.i=t,Cfe(e.i,e.h)):(r||(t=Ef(t,yfe)),e.i=new Om(t,e.h))}function fn(e,t,r){e.i.set(t,r)}function ny(e){return fn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function xf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ef(e,t,r){return typeof e=="string"?(e=encodeURI(e).replace(t,kfe),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function kfe(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var nF=/[#\/\?@]/g,vfe=/[#\?:]/g,wfe=/[#\?]/g,yfe=/[#\?@]/g,_fe=/#/g;function Om(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Pl(e){e.g||(e.g=new Map,e.h=0,e.i&&bfe(e.i,function(t,r){e.add(decodeURIComponent(t.replace(/\+/g," ")),r)}))}De=Om.prototype;De.add=function(e,t){Pl(this),this.i=null,e=Mh(this,e);var r=this.g.get(e);return r||this.g.set(e,r=[]),r.push(t),this.h+=1,this};function IV(e,t){Pl(e),t=Mh(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function MV(e,t){return Pl(e),t=Mh(e,t),e.g.has(t)}De.forEach=function(e,t){Pl(this),this.g.forEach(function(r,o){r.forEach(function(s){e.call(t,s,o,this)},this)},this)};De.ta=function(){Pl(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),r=[];for(let o=0;o<t.length;o++){const s=e[o];for(let u=0;u<s.length;u++)r.push(t[o])}return r};De.Z=function(e){Pl(this);let t=[];if(typeof e=="string")MV(this,e)&&(t=t.concat(this.g.get(Mh(this,e))));else{e=Array.from(this.g.values());for(let r=0;r<e.length;r++)t=t.concat(e[r])}return t};De.set=function(e,t){return Pl(this),this.i=null,e=Mh(this,e),MV(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};De.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function PV(e,t,r){IV(e,t),0<r.length&&(e.i=null,e.g.set(Mh(e,t),B2(r)),e.h+=r.length)}De.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var r=0;r<t.length;r++){var o=t[r];const u=encodeURIComponent(String(o)),h=this.Z(o);for(o=0;o<h.length;o++){var s=u;h[o]!==""&&(s+="="+encodeURIComponent(String(h[o]))),e.push(s)}}return this.i=e.join("&")};function Mh(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Cfe(e,t){t&&!e.j&&(Pl(e),e.i=null,e.g.forEach(function(r,o){var s=o.toLowerCase();o!=s&&(IV(this,o),PV(this,s,r))},e)),e.j=t}var Afe=class{constructor(e,t){this.g=e,this.map=t}};function NV(e){this.l=e||xfe,it.PerformanceNavigationTiming?(e=it.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(it.g&&it.g.Ka&&it.g.Ka()&&it.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xfe=10;function RV(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function OV(e){return e.h?1:e.g?e.g.size:0}function TE(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Y2(e,t){e.g?e.g.add(t):e.h=t}function BV(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}NV.prototype.cancel=function(){if(this.i=LV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function LV(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const r of e.g.values())t=t.concat(r.F);return t}return B2(e.i)}var Efe=class{stringify(e){return it.JSON.stringify(e,void 0)}parse(e){return it.JSON.parse(e,void 0)}};function Sfe(){this.g=new Efe}function Dfe(e,t,r){const o=r||"";try{DV(e,function(s,u){let h=s;Ww(s)&&(h=V2(s)),t.push(o+u+"="+encodeURIComponent(h))})}catch(s){throw t.push(o+"type="+encodeURIComponent("_badmap")),s}}function Tfe(e,t){const r=new Zw;if(it.Image){const o=new Image;o.onload=Hk(qk,r,o,"TestLoadImage: loaded",!0,t),o.onerror=Hk(qk,r,o,"TestLoadImage: error",!1,t),o.onabort=Hk(qk,r,o,"TestLoadImage: abort",!1,t),o.ontimeout=Hk(qk,r,o,"TestLoadImage: timeout",!1,t),it.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=e}else t(!1)}function qk(e,t,r,o,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(o)}catch{}}function Ag(e){this.l=e.fc||null,this.j=e.ob||!1}kr(Ag,q2);Ag.prototype.g=function(){return new ry(this.l,this.j)};Ag.prototype.i=function(e){return function(){return e}}({});function ry(e,t){br.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Q2,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kr(ry,br);var Q2=0;De=ry.prototype;De.open=function(e,t){if(this.readyState!=Q2)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Bm(this)};De.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||it).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};De.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xg(this)),this.readyState=Q2};De.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Bm(this)),this.g&&(this.readyState=3,Bm(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof it.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jV(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function jV(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}De.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?xg(this):Bm(this),this.readyState==3&&jV(this)}};De.Za=function(e){this.g&&(this.response=this.responseText=e,xg(this))};De.Ya=function(e){this.g&&(this.response=e,xg(this))};De.ka=function(){this.g&&xg(this)};function xg(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Bm(e)}De.setRequestHeader=function(e,t){this.v.append(e,t)};De.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};De.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var r=t.next();!r.done;)r=r.value,e.push(r[0]+": "+r[1]),r=t.next();return e.join(`\r
`)};function Bm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(ry.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var Ife=it.JSON.parse;function Bn(e){br.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=FV,this.L=this.M=!1}kr(Bn,br);var FV="",Mfe=/^https?$/i,Pfe=["POST","PUT"];De=Bn.prototype;De.Oa=function(e){this.M=e};De.ha=function(e,t,r,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():xE.g(),this.C=this.u?eF(this.u):eF(xE),this.g.onreadystatechange=Fr(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){rF(this,u);return}if(e=r||"",r=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var s in o)r.set(s,o[s]);else if(typeof o.keys=="function"&&typeof o.get=="function")for(const u of o.keys())r.set(u,o.get(u));else throw Error("Unknown input type for opt_headers: "+String(o));o=Array.from(r.keys()).find(u=>u.toLowerCase()=="content-type"),s=it.FormData&&e instanceof it.FormData,!(0<=rV(Pfe,t))||o||s||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,h]of r)this.g.setRequestHeader(u,h);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{VV(this),0<this.B&&((this.L=Nfe(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fr(this.ua,this)):this.A=W2(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){rF(this,u)}};function Nfe(e){return eh&&typeof e.timeout=="number"&&e.ontimeout!==void 0}De.ua=function(){typeof O2<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tr(this,"timeout"),this.abort(8))};function rF(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,zV(e),oy(e)}function zV(e){e.F||(e.F=!0,Tr(e,"complete"),Tr(e,"error"))}De.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Tr(this,"complete"),Tr(this,"abort"),oy(this))};De.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),oy(this,!0)),Bn.$.N.call(this)};De.La=function(){this.s||(this.G||this.v||this.l?$V(this):this.kb())};De.kb=function(){$V(this)};function $V(e){if(e.h&&typeof O2<"u"&&(!e.C[1]||ps(e)!=4||e.da()!=2)){if(e.v&&ps(e)==4)W2(e.La,0,e);else if(Tr(e,"readystatechange"),ps(e)==4){e.h=!1;try{const h=e.da();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var r;if(!(r=t)){var o;if(o=h===0){var s=String(e.I).match(TV)[1]||null;!s&&it.self&&it.self.location&&(s=it.self.location.protocol.slice(0,-1)),o=!Mfe.test(s?s.toLowerCase():"")}r=o}if(r)Tr(e,"complete"),Tr(e,"success");else{e.m=6;try{var u=2<ps(e)?e.g.statusText:""}catch{u=""}e.j=u+" ["+e.da()+"]",zV(e)}}finally{oy(e)}}}}function oy(e,t){if(e.g){VV(e);const r=e.g,o=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Tr(e,"ready");try{r.onreadystatechange=o}catch{}}}function VV(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(it.clearTimeout(e.A),e.A=null)}De.isActive=function(){return!!this.g};function ps(e){return e.g?e.g.readyState:0}De.da=function(){try{return 2<ps(this)?this.g.status:-1}catch{return-1}};De.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};De.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Ife(t)}};function oF(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case FV:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function Rfe(e){const t={};e=(e.g&&2<=ps(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let o=0;o<e.length;o++){if(Tm(e[o]))continue;var r=ife(e[o]);const s=r[0];if(r=r[1],typeof r!="string")continue;r=r.trim();const u=t[s]||[];t[s]=u,u.push(r)}Zpe(t,function(o){return o.join(", ")})}De.Ia=function(){return this.m};De.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function UV(e){let t="";return j2(e,function(r,o){t+=o,t+=":",t+=r,t+=`\r
`}),t}function Z2(e,t,r){e:{for(o in r){var o=!1;break e}o=!0}o||(r=UV(r),typeof e=="string"?r!=null&&encodeURIComponent(String(r)):fn(e,t,r))}function Zp(e,t,r){return r&&r.internalChannelParams&&r.internalChannelParams[e]||t}function HV(e){this.Ga=0,this.j=[],this.l=new Zw,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Zp("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Zp("baseRetryDelayMs",5e3,e),this.hb=Zp("retryDelaySeedMs",1e4,e),this.eb=Zp("forwardChannelMaxRetries",2,e),this.xa=Zp("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new NV(e&&e.concurrentRequestLimit),this.Ja=new Sfe,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}De=HV.prototype;De.ra=8;De.H=1;function J2(e){if(WV(e),e.H==3){var t=e.W++,r=ma(e.I);if(fn(r,"SID",e.K),fn(r,"RID",t),fn(r,"TYPE","terminate"),Eg(e,r),t=new _g(e,e.l,t),t.L=2,t.v=ny(ma(r)),r=!1,it.navigator&&it.navigator.sendBeacon)try{r=it.navigator.sendBeacon(t.v.toString(),"")}catch{}!r&&it.Image&&(new Image().src=t.v,r=!0),r||(t.g=XV(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Cg(t)}ZV(e)}function iy(e){e.g&&(eD(e),e.g.cancel(),e.g=null)}function WV(e){iy(e),e.u&&(it.clearTimeout(e.u),e.u=null),O0(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&it.clearTimeout(e.m),e.m=null)}function sy(e){if(!RV(e.i)&&!e.m){e.m=!0;var t=e.Na;Mm||fV(),Pm||(Mm(),Pm=!0),U2.add(t,e),e.C=0}}function Ofe(e,t){return OV(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=wg(Fr(e.Na,e,t),QV(e,e.C)),e.C++,!0)}De.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const s=new _g(this,this.l,e);let u=this.s;if(this.U&&(u?(u=aV(u),lV(u,this.U)):u=this.U),this.o!==null||this.O||(s.I=u,u=null),this.P)e:{for(var t=0,r=0;r<this.j.length;r++){t:{var o=this.j[r];if("__data__"in o.map&&(o=o.map.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(t+=o,4096<t){t=r;break e}if(t===4096||r===this.j.length-1){t=r+1;break e}}t=1e3}else t=1e3;t=qV(this,s,t),r=ma(this.I),fn(r,"RID",e),fn(r,"CVER",22),this.F&&fn(r,"X-HTTP-Session-Id",this.F),Eg(this,r),u&&(this.O?t="headers="+encodeURIComponent(String(UV(u)))+"&"+t:this.o&&Z2(r,this.o,u)),Y2(this.i,s),this.bb&&fn(r,"TYPE","init"),this.P?(fn(r,"$req",t),fn(r,"SID","null"),s.aa=!0,SE(s,r,null)):SE(s,r,t),this.H=2}}else this.H==3&&(e?iF(this,e):this.j.length==0||RV(this.i)||iF(this))};function iF(e,t){var r;t?r=t.m:r=e.W++;const o=ma(e.I);fn(o,"SID",e.K),fn(o,"RID",r),fn(o,"AID",e.V),Eg(e,o),e.o&&e.s&&Z2(o,e.o,e.s),r=new _g(e,e.l,r,e.C+1),e.o===null&&(r.I=e.s),t&&(e.j=t.F.concat(e.j)),t=qV(e,r,1e3),r.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Y2(e.i,r),SE(r,o,t)}function Eg(e,t){e.na&&j2(e.na,function(r,o){fn(t,o,r)}),e.h&&DV({},function(r,o){fn(t,o,r)})}function qV(e,t,r){r=Math.min(e.j.length,r);var o=e.h?Fr(e.h.Va,e.h,e):null;e:{var s=e.j;let u=-1;for(;;){const h=["count="+r];u==-1?0<r?(u=s[0].g,h.push("ofs="+u)):u=0:h.push("ofs="+u);let m=!0;for(let f=0;f<r;f++){let k=s[f].g;const v=s[f].map;if(k-=u,0>k)u=Math.max(0,s[f].g-100),m=!1;else try{Dfe(v,h,"req"+k+"_")}catch{o&&o(v)}}if(m){o=h.join("&");break e}}}return e=e.j.splice(0,r),t.F=e,o}function GV(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Mm||fV(),Pm||(Mm(),Pm=!0),U2.add(t,e),e.A=0}}function X2(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=wg(Fr(e.Ma,e),QV(e,e.A)),e.A++,!0)}De.Ma=function(){if(this.u=null,KV(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=wg(Fr(this.jb,this),e)}};De.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Zr(10),iy(this),KV(this))};function eD(e){e.B!=null&&(it.clearTimeout(e.B),e.B=null)}function KV(e){e.g=new _g(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=ma(e.wa);fn(t,"RID","rpc"),fn(t,"SID",e.K),fn(t,"AID",e.V),fn(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&fn(t,"TO",e.qa),fn(t,"TYPE","xmlhttp"),Eg(e,t),e.o&&e.s&&Z2(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var r=e.g;e=e.pa,r.L=1,r.v=ny(ma(t)),r.s=null,r.S=!0,AV(r,e)}De.ib=function(){this.v!=null&&(this.v=null,iy(this),X2(this),Zr(19))};function O0(e){e.v!=null&&(it.clearTimeout(e.v),e.v=null)}function YV(e,t){var r=null;if(e.g==t){O0(e),eD(e),e.g=null;var o=2}else if(TE(e.i,t))r=t.F,BV(e.i,t),o=1;else return;if(e.H!=0){if(t.i)if(o==1){r=t.s?t.s.length:0,t=Date.now()-t.G;var s=e.C;o=Jw(),Tr(o,new wV(o,r)),sy(e)}else GV(e);else if(s=t.o,s==3||s==0&&0<t.ca||!(o==1&&Ofe(e,t)||o==2&&X2(e)))switch(r&&0<r.length&&(t=e.i,t.i=t.i.concat(r)),s){case 1:vc(e,5);break;case 4:vc(e,10);break;case 3:vc(e,6);break;default:vc(e,2)}}}function QV(e,t){let r=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(r*=2),r*t}function vc(e,t){if(e.l.info("Error code "+t),t==2){var r=null;e.h&&(r=null);var o=Fr(e.pb,e);r||(r=new Tc("//www.google.com/images/cleardot.gif"),it.location&&it.location.protocol=="http"||N0(r,"https"),ny(r)),Tfe(r.toString(),o)}else Zr(2);e.H=0,e.h&&e.h.za(t),ZV(e),WV(e)}De.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Zr(2)):(this.l.info("Failed to ping google.com"),Zr(1))};function ZV(e){if(e.H=0,e.ma=[],e.h){const t=LV(e.i);(t.length!=0||e.j.length!=0)&&(Yj(e.ma,t),Yj(e.ma,e.j),e.i.i.length=0,B2(e.j),e.j.length=0),e.h.ya()}}function JV(e,t,r){var o=r instanceof Tc?ma(r):new Tc(r);if(o.g!="")t&&(o.g=t+"."+o.g),R0(o,o.m);else{var s=it.location;o=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var u=new Tc(null);o&&N0(u,o),t&&(u.g=t),s&&R0(u,s),r&&(u.l=r),o=u}return r=e.F,t=e.Da,r&&t&&fn(o,r,t),fn(o,"VER",e.ra),Eg(e,o),o}function XV(e,t,r){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=r&&e.Ha&&!e.va?new Bn(new Ag({ob:!0})):new Bn(e.va),t.Oa(e.J),t}De.isActive=function(){return!!this.h&&this.h.isActive(this)};function eU(){}De=eU.prototype;De.Ba=function(){};De.Aa=function(){};De.za=function(){};De.ya=function(){};De.isActive=function(){return!0};De.Va=function(){};function B0(){if(eh&&!(10<=Number(Gpe)))throw Error("Environmental error: no available transport.")}B0.prototype.g=function(e,t){return new Ho(e,t)};function Ho(e,t){br.call(this),this.g=new HV(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Tm(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Tm(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Ph(this)}kr(Ho,br);Ho.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,r=this.h||void 0;Zr(0),e.Y=t,e.na=r||{},e.G=e.aa,e.I=JV(e,null,e.Y),sy(e)};Ho.prototype.close=function(){J2(this.g)};Ho.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var r={};r.__data__=e,e=r}else this.v&&(r={},r.__data__=V2(e),e=r);t.j.push(new Afe(t.fb++,e)),t.H==3&&sy(t)};Ho.prototype.N=function(){this.g.h=null,delete this.j,J2(this.g),delete this.g,Ho.$.N.call(this)};function tU(e){G2.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const r in t){e=r;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}kr(tU,G2);function nU(){K2.call(this),this.status=1}kr(nU,K2);function Ph(e){this.g=e}kr(Ph,eU);Ph.prototype.Ba=function(){Tr(this.g,"a")};Ph.prototype.Aa=function(e){Tr(this.g,new tU(e))};Ph.prototype.za=function(e){Tr(this.g,new nU)};Ph.prototype.ya=function(){Tr(this.g,"b")};function Bfe(){this.blockSize=-1}function Hi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}kr(Hi,Bfe);Hi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function M1(e,t,r){r||(r=0);var o=Array(16);if(typeof t=="string")for(var s=0;16>s;++s)o[s]=t.charCodeAt(r++)|t.charCodeAt(r++)<<8|t.charCodeAt(r++)<<16|t.charCodeAt(r++)<<24;else for(s=0;16>s;++s)o[s]=t[r++]|t[r++]<<8|t[r++]<<16|t[r++]<<24;t=e.g[0],r=e.g[1],s=e.g[2];var u=e.g[3],h=t+(u^r&(s^u))+o[0]+3614090360&4294967295;t=r+(h<<7&4294967295|h>>>25),h=u+(s^t&(r^s))+o[1]+3905402710&4294967295,u=t+(h<<12&4294967295|h>>>20),h=s+(r^u&(t^r))+o[2]+606105819&4294967295,s=u+(h<<17&4294967295|h>>>15),h=r+(t^s&(u^t))+o[3]+3250441966&4294967295,r=s+(h<<22&4294967295|h>>>10),h=t+(u^r&(s^u))+o[4]+4118548399&4294967295,t=r+(h<<7&4294967295|h>>>25),h=u+(s^t&(r^s))+o[5]+1200080426&4294967295,u=t+(h<<12&4294967295|h>>>20),h=s+(r^u&(t^r))+o[6]+2821735955&4294967295,s=u+(h<<17&4294967295|h>>>15),h=r+(t^s&(u^t))+o[7]+4249261313&4294967295,r=s+(h<<22&4294967295|h>>>10),h=t+(u^r&(s^u))+o[8]+1770035416&4294967295,t=r+(h<<7&4294967295|h>>>25),h=u+(s^t&(r^s))+o[9]+2336552879&4294967295,u=t+(h<<12&4294967295|h>>>20),h=s+(r^u&(t^r))+o[10]+4294925233&4294967295,s=u+(h<<17&4294967295|h>>>15),h=r+(t^s&(u^t))+o[11]+2304563134&4294967295,r=s+(h<<22&4294967295|h>>>10),h=t+(u^r&(s^u))+o[12]+1804603682&4294967295,t=r+(h<<7&4294967295|h>>>25),h=u+(s^t&(r^s))+o[13]+4254626195&4294967295,u=t+(h<<12&4294967295|h>>>20),h=s+(r^u&(t^r))+o[14]+2792965006&4294967295,s=u+(h<<17&4294967295|h>>>15),h=r+(t^s&(u^t))+o[15]+1236535329&4294967295,r=s+(h<<22&4294967295|h>>>10),h=t+(s^u&(r^s))+o[1]+4129170786&4294967295,t=r+(h<<5&4294967295|h>>>27),h=u+(r^s&(t^r))+o[6]+3225465664&4294967295,u=t+(h<<9&4294967295|h>>>23),h=s+(t^r&(u^t))+o[11]+643717713&4294967295,s=u+(h<<14&4294967295|h>>>18),h=r+(u^t&(s^u))+o[0]+3921069994&4294967295,r=s+(h<<20&4294967295|h>>>12),h=t+(s^u&(r^s))+o[5]+3593408605&4294967295,t=r+(h<<5&4294967295|h>>>27),h=u+(r^s&(t^r))+o[10]+38016083&4294967295,u=t+(h<<9&4294967295|h>>>23),h=s+(t^r&(u^t))+o[15]+3634488961&4294967295,s=u+(h<<14&4294967295|h>>>18),h=r+(u^t&(s^u))+o[4]+3889429448&4294967295,r=s+(h<<20&4294967295|h>>>12),h=t+(s^u&(r^s))+o[9]+568446438&4294967295,t=r+(h<<5&4294967295|h>>>27),h=u+(r^s&(t^r))+o[14]+3275163606&4294967295,u=t+(h<<9&4294967295|h>>>23),h=s+(t^r&(u^t))+o[3]+4107603335&4294967295,s=u+(h<<14&4294967295|h>>>18),h=r+(u^t&(s^u))+o[8]+1163531501&4294967295,r=s+(h<<20&4294967295|h>>>12),h=t+(s^u&(r^s))+o[13]+2850285829&4294967295,t=r+(h<<5&4294967295|h>>>27),h=u+(r^s&(t^r))+o[2]+4243563512&4294967295,u=t+(h<<9&4294967295|h>>>23),h=s+(t^r&(u^t))+o[7]+1735328473&4294967295,s=u+(h<<14&4294967295|h>>>18),h=r+(u^t&(s^u))+o[12]+2368359562&4294967295,r=s+(h<<20&4294967295|h>>>12),h=t+(r^s^u)+o[5]+4294588738&4294967295,t=r+(h<<4&4294967295|h>>>28),h=u+(t^r^s)+o[8]+2272392833&4294967295,u=t+(h<<11&4294967295|h>>>21),h=s+(u^t^r)+o[11]+1839030562&4294967295,s=u+(h<<16&4294967295|h>>>16),h=r+(s^u^t)+o[14]+4259657740&4294967295,r=s+(h<<23&4294967295|h>>>9),h=t+(r^s^u)+o[1]+2763975236&4294967295,t=r+(h<<4&4294967295|h>>>28),h=u+(t^r^s)+o[4]+1272893353&4294967295,u=t+(h<<11&4294967295|h>>>21),h=s+(u^t^r)+o[7]+4139469664&4294967295,s=u+(h<<16&4294967295|h>>>16),h=r+(s^u^t)+o[10]+3200236656&4294967295,r=s+(h<<23&4294967295|h>>>9),h=t+(r^s^u)+o[13]+681279174&4294967295,t=r+(h<<4&4294967295|h>>>28),h=u+(t^r^s)+o[0]+3936430074&4294967295,u=t+(h<<11&4294967295|h>>>21),h=s+(u^t^r)+o[3]+3572445317&4294967295,s=u+(h<<16&4294967295|h>>>16),h=r+(s^u^t)+o[6]+76029189&4294967295,r=s+(h<<23&4294967295|h>>>9),h=t+(r^s^u)+o[9]+3654602809&4294967295,t=r+(h<<4&4294967295|h>>>28),h=u+(t^r^s)+o[12]+3873151461&4294967295,u=t+(h<<11&4294967295|h>>>21),h=s+(u^t^r)+o[15]+530742520&4294967295,s=u+(h<<16&4294967295|h>>>16),h=r+(s^u^t)+o[2]+3299628645&4294967295,r=s+(h<<23&4294967295|h>>>9),h=t+(s^(r|~u))+o[0]+4096336452&4294967295,t=r+(h<<6&4294967295|h>>>26),h=u+(r^(t|~s))+o[7]+1126891415&4294967295,u=t+(h<<10&4294967295|h>>>22),h=s+(t^(u|~r))+o[14]+2878612391&4294967295,s=u+(h<<15&4294967295|h>>>17),h=r+(u^(s|~t))+o[5]+4237533241&4294967295,r=s+(h<<21&4294967295|h>>>11),h=t+(s^(r|~u))+o[12]+1700485571&4294967295,t=r+(h<<6&4294967295|h>>>26),h=u+(r^(t|~s))+o[3]+2399980690&4294967295,u=t+(h<<10&4294967295|h>>>22),h=s+(t^(u|~r))+o[10]+4293915773&4294967295,s=u+(h<<15&4294967295|h>>>17),h=r+(u^(s|~t))+o[1]+2240044497&4294967295,r=s+(h<<21&4294967295|h>>>11),h=t+(s^(r|~u))+o[8]+1873313359&4294967295,t=r+(h<<6&4294967295|h>>>26),h=u+(r^(t|~s))+o[15]+4264355552&4294967295,u=t+(h<<10&4294967295|h>>>22),h=s+(t^(u|~r))+o[6]+2734768916&4294967295,s=u+(h<<15&4294967295|h>>>17),h=r+(u^(s|~t))+o[13]+1309151649&4294967295,r=s+(h<<21&4294967295|h>>>11),h=t+(s^(r|~u))+o[4]+4149444226&4294967295,t=r+(h<<6&4294967295|h>>>26),h=u+(r^(t|~s))+o[11]+3174756917&4294967295,u=t+(h<<10&4294967295|h>>>22),h=s+(t^(u|~r))+o[2]+718787259&4294967295,s=u+(h<<15&4294967295|h>>>17),h=r+(u^(s|~t))+o[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(h<<21&4294967295|h>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+u&4294967295}Hi.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var r=t-this.blockSize,o=this.m,s=this.h,u=0;u<t;){if(s==0)for(;u<=r;)M1(this,e,u),u+=this.blockSize;if(typeof e=="string"){for(;u<t;)if(o[s++]=e.charCodeAt(u++),s==this.blockSize){M1(this,o),s=0;break}}else for(;u<t;)if(o[s++]=e[u++],s==this.blockSize){M1(this,o),s=0;break}}this.h=s,this.i+=t};Hi.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var r=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=r&255,r/=256;for(this.j(e),e=Array(16),t=r=0;4>t;++t)for(var o=0;32>o;o+=8)e[r++]=this.g[t]>>>o&255;return e};function Qt(e,t){this.h=t;for(var r=[],o=!0,s=e.length-1;0<=s;s--){var u=e[s]|0;o&&u==t||(r[s]=u,o=!1)}this.g=r}var Lfe={};function tD(e){return-128<=e&&128>e?Hpe(e,function(t){return new Qt([t|0],0>t?-1:0)}):new Qt([e|0],0>e?-1:0)}function fs(e){if(isNaN(e)||!isFinite(e))return Bd;if(0>e)return Sr(fs(-e));for(var t=[],r=1,o=0;e>=r;o++)t[o]=e/r|0,r*=IE;return new Qt(t,0)}function rU(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Sr(rU(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=fs(Math.pow(t,8)),o=Bd,s=0;s<e.length;s+=8){var u=Math.min(8,e.length-s),h=parseInt(e.substring(s,s+u),t);8>u?(u=fs(Math.pow(t,u)),o=o.R(u).add(fs(h))):(o=o.R(r),o=o.add(fs(h)))}return o}var IE=4294967296,Bd=tD(0),ME=tD(1),sF=tD(16777216);De=Qt.prototype;De.ea=function(){if(pi(this))return-Sr(this).ea();for(var e=0,t=1,r=0;r<this.g.length;r++){var o=this.D(r);e+=(0<=o?o:IE+o)*t,t*=IE}return e};De.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(ra(this))return"0";if(pi(this))return"-"+Sr(this).toString(e);for(var t=fs(Math.pow(e,6)),r=this,o="";;){var s=j0(r,t).g;r=L0(r,s.R(t));var u=((0<r.g.length?r.g[0]:r.h)>>>0).toString(e);if(r=s,ra(r))return u+o;for(;6>u.length;)u="0"+u;o=u+o}};De.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function ra(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function pi(e){return e.h==-1}De.X=function(e){return e=L0(this,e),pi(e)?-1:ra(e)?0:1};function Sr(e){for(var t=e.g.length,r=[],o=0;o<t;o++)r[o]=~e.g[o];return new Qt(r,~e.h).add(ME)}De.abs=function(){return pi(this)?Sr(this):this};De.add=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],o=0,s=0;s<=t;s++){var u=o+(this.D(s)&65535)+(e.D(s)&65535),h=(u>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);o=h>>>16,u&=65535,h&=65535,r[s]=h<<16|u}return new Qt(r,r[r.length-1]&-2147483648?-1:0)};function L0(e,t){return e.add(Sr(t))}De.R=function(e){if(ra(this)||ra(e))return Bd;if(pi(this))return pi(e)?Sr(this).R(Sr(e)):Sr(Sr(this).R(e));if(pi(e))return Sr(this.R(Sr(e)));if(0>this.X(sF)&&0>e.X(sF))return fs(this.ea()*e.ea());for(var t=this.g.length+e.g.length,r=[],o=0;o<2*t;o++)r[o]=0;for(o=0;o<this.g.length;o++)for(var s=0;s<e.g.length;s++){var u=this.D(o)>>>16,h=this.D(o)&65535,m=e.D(s)>>>16,f=e.D(s)&65535;r[2*o+2*s]+=h*f,Gk(r,2*o+2*s),r[2*o+2*s+1]+=u*f,Gk(r,2*o+2*s+1),r[2*o+2*s+1]+=h*m,Gk(r,2*o+2*s+1),r[2*o+2*s+2]+=u*m,Gk(r,2*o+2*s+2)}for(o=0;o<t;o++)r[o]=r[2*o+1]<<16|r[2*o];for(o=t;o<2*t;o++)r[o]=0;return new Qt(r,0)};function Gk(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Jp(e,t){this.g=e,this.h=t}function j0(e,t){if(ra(t))throw Error("division by zero");if(ra(e))return new Jp(Bd,Bd);if(pi(e))return t=j0(Sr(e),t),new Jp(Sr(t.g),Sr(t.h));if(pi(t))return t=j0(e,Sr(t)),new Jp(Sr(t.g),t.h);if(30<e.g.length){if(pi(e)||pi(t))throw Error("slowDivide_ only works with positive integers.");for(var r=ME,o=t;0>=o.X(e);)r=aF(r),o=aF(o);var s=ed(r,1),u=ed(o,1);for(o=ed(o,2),r=ed(r,2);!ra(o);){var h=u.add(o);0>=h.X(e)&&(s=s.add(r),u=h),o=ed(o,1),r=ed(r,1)}return t=L0(e,s.R(t)),new Jp(s,t)}for(s=Bd;0<=e.X(t);){for(r=Math.max(1,Math.floor(e.ea()/t.ea())),o=Math.ceil(Math.log(r)/Math.LN2),o=48>=o?1:Math.pow(2,o-48),u=fs(r),h=u.R(t);pi(h)||0<h.X(e);)r-=o,u=fs(r),h=u.R(t);ra(u)&&(u=ME),s=s.add(u),e=L0(e,h)}return new Jp(s,e)}De.gb=function(e){return j0(this,e).h};De.and=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],o=0;o<t;o++)r[o]=this.D(o)&e.D(o);return new Qt(r,this.h&e.h)};De.or=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],o=0;o<t;o++)r[o]=this.D(o)|e.D(o);return new Qt(r,this.h|e.h)};De.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],o=0;o<t;o++)r[o]=this.D(o)^e.D(o);return new Qt(r,this.h^e.h)};function aF(e){for(var t=e.g.length+1,r=[],o=0;o<t;o++)r[o]=e.D(o)<<1|e.D(o-1)>>>31;return new Qt(r,e.h)}function ed(e,t){var r=t>>5;t%=32;for(var o=e.g.length-r,s=[],u=0;u<o;u++)s[u]=0<t?e.D(u+r)>>>t|e.D(u+r+1)<<32-t:e.D(u+r);return new Qt(s,e.h)}B0.prototype.createWebChannel=B0.prototype.g;Ho.prototype.send=Ho.prototype.u;Ho.prototype.open=Ho.prototype.m;Ho.prototype.close=Ho.prototype.close;Xw.NO_ERROR=0;Xw.TIMEOUT=8;Xw.HTTP_ERROR=6;yV.COMPLETE="complete";_V.EventType=yg;yg.OPEN="a";yg.CLOSE="b";yg.ERROR="c";yg.MESSAGE="d";br.prototype.listen=br.prototype.O;Bn.prototype.listenOnce=Bn.prototype.P;Bn.prototype.getLastError=Bn.prototype.Sa;Bn.prototype.getLastErrorCode=Bn.prototype.Ia;Bn.prototype.getStatus=Bn.prototype.da;Bn.prototype.getResponseJson=Bn.prototype.Wa;Bn.prototype.getResponseText=Bn.prototype.ja;Bn.prototype.send=Bn.prototype.ha;Bn.prototype.setWithCredentials=Bn.prototype.Oa;Hi.prototype.digest=Hi.prototype.l;Hi.prototype.reset=Hi.prototype.reset;Hi.prototype.update=Hi.prototype.j;Qt.prototype.add=Qt.prototype.add;Qt.prototype.multiply=Qt.prototype.R;Qt.prototype.modulo=Qt.prototype.gb;Qt.prototype.compare=Qt.prototype.X;Qt.prototype.toNumber=Qt.prototype.ea;Qt.prototype.toString=Qt.prototype.toString;Qt.prototype.getBits=Qt.prototype.D;Qt.fromNumber=fs;Qt.fromString=rU;var jfe=function(){return new B0},Ffe=function(){return Jw()},P1=Xw,zfe=yV,$fe=au,lF={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Vfe=Ag,Kk=_V,Ufe=Bn,Hfe=Hi,Ld=Qt;const cF="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new A2("@firebase/firestore");function uF(){return Wc.logLevel}function ze(e,...t){if(Wc.logLevel<=Lt.DEBUG){const r=t.map(nD);Wc.debug(`Firestore (${Nh}): ${e}`,...r)}}function ga(e,...t){if(Wc.logLevel<=Lt.ERROR){const r=t.map(nD);Wc.error(`Firestore (${Nh}): ${e}`,...r)}}function th(e,...t){if(Wc.logLevel<=Lt.WARN){const r=t.map(nD);Wc.warn(`Firestore (${Nh}): ${e}`,...r)}}function nD(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(e="Unexpected state"){const t=`FIRESTORE (${Nh}) INTERNAL ASSERTION FAILED: `+e;throw ga(t),new Error(t)}function kn(e,t){e||ot()}function dt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Ns{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Wfe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Or.UNAUTHENTICATED))}shutdown(){}}class qfe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}let Gfe=class{constructor(t){this.t=t,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){let o=this.i;const s=f=>this.i!==o?(o=this.i,r(f)):Promise.resolve();let u=new ia;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ia,t.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const f=u;t.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},m=f=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(f=>m(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?m(f):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ia)}},0),h()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==t?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(kn(typeof o.accessToken=="string"),new oU(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return kn(t===null||typeof t=="string"),new Or(t)}};class Kfe{constructor(t,r,o){this.h=t,this.l=r,this.m=o,this.type="FirstParty",this.user=Or.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Yfe{constructor(t,r,o){this.h=t,this.l=r,this.m=o}getToken(){return Promise.resolve(new Kfe(this.h,this.l,this.m))}start(t,r){t.enqueueRetryable(()=>r(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qfe{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zfe{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,r){const o=u=>{u.error!=null&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.T;return this.T=u.token,ze("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?r(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>o(u))};const s=u=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?s(u):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(kn(typeof r.token=="string"),this.T=r.token,new Qfe(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jfe(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let o=0;o<e;o++)r[o]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/t.length)*t.length;let o="";for(;o.length<20;){const s=Jfe(40);for(let u=0;u<s.length;++u)o.length<20&&s[u]<r&&(o+=t.charAt(s[u]%t.length))}return o}}function Vt(e,t){return e<t?-1:e>t?1:0}function nh(e,t,r){return e.length===t.length&&e.every((o,s)=>r(o,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Ne(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ne(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new Ne(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ne(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return qn.fromMillis(Date.now())}static fromDate(t){return qn.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),o=Math.floor(1e6*(t-1e3*r));return new qn(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(t){this.timestamp=t}static fromTimestamp(t){return new at(t)}static min(){return new at(new qn(0,0))}static max(){return new at(new qn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t,r,o){r===void 0?r=0:r>t.length&&ot(),o===void 0?o=t.length-r:o>t.length-r&&ot(),this.segments=t,this.offset=r,this.len=o}get length(){return this.len}isEqual(t){return Lm.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Lm?t.forEach(o=>{r.push(o)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,o=this.limit();r<o;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const o=Math.min(t.length,r.length);for(let s=0;s<o;s++){const u=t.get(s),h=r.get(s);if(u<h)return-1;if(u>h)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class mn extends Lm{construct(t,r,o){return new mn(t,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const r=[];for(const o of t){if(o.indexOf("//")>=0)throw new Ne(he.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(s=>s.length>0))}return new mn(r)}static emptyPath(){return new mn([])}}const Xfe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jr extends Lm{construct(t,r,o){return new jr(t,r,o)}static isValidIdentifier(t){return Xfe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jr(["__name__"])}static fromServerFormat(t){const r=[];let o="",s=0;const u=()=>{if(o.length===0)throw new Ne(he.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let h=!1;for(;s<t.length;){const m=t[s];if(m==="\\"){if(s+1===t.length)throw new Ne(he.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ne(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);o+=f,s+=2}else m==="`"?(h=!h,s++):m!=="."||h?(o+=m,s++):(u(),s++)}if(u(),h)throw new Ne(he.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new jr(r)}static emptyPath(){return new jr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.path=t}static fromPath(t){return new Ge(mn.fromString(t))}static fromName(t){return new Ge(mn.fromString(t).popFirst(5))}static empty(){return new Ge(mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&mn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return mn.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ge(new mn(t.slice()))}}function eme(e,t){const r=e.toTimestamp().seconds,o=e.toTimestamp().nanoseconds+1,s=at.fromTimestamp(o===1e9?new qn(r+1,0):new qn(r,o));return new vl(s,Ge.empty(),t)}function tme(e){return new vl(e.readTime,e.key,-1)}class vl{constructor(t,r,o){this.readTime=t,this.documentKey=r,this.largestBatchId=o}static min(){return new vl(at.min(),Ge.empty(),-1)}static max(){return new vl(at.max(),Ge.empty(),-1)}}function nme(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=Ge.comparator(e.documentKey,t.documentKey),r!==0?r:Vt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rme="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ome{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sg(e){if(e.code!==he.FAILED_PRECONDITION||e.message!==rme)throw e;ze("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new ye((o,s)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(o,s)},this.catchCallback=u=>{this.wrapFailure(r,u).next(o,s)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof ye?r:ye.resolve(r)}catch(r){return ye.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):ye.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):ye.reject(r)}static resolve(t){return new ye((r,o)=>{r(t)})}static reject(t){return new ye((r,o)=>{o(t)})}static waitFor(t){return new ye((r,o)=>{let s=0,u=0,h=!1;t.forEach(m=>{++s,m.next(()=>{++u,h&&u===s&&r()},f=>o(f))}),h=!0,u===s&&r()})}static or(t){let r=ye.resolve(!1);for(const o of t)r=r.next(s=>s?ye.resolve(s):o());return r}static forEach(t,r){const o=[];return t.forEach((s,u)=>{o.push(r.call(this,s,u))}),this.waitFor(o)}static mapArray(t,r){return new ye((o,s)=>{const u=t.length,h=new Array(u);let m=0;for(let f=0;f<u;f++){const k=f;r(t[k]).next(v=>{h[k]=v,++m,m===u&&o(h)},v=>s(v))}})}static doWhile(t,r){return new ye((o,s)=>{const u=()=>{t()===!0?r().next(()=>{u()},s):o()};u()})}}function Dg(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}rD.ct=-1;function ay(e){return e==null}function F0(e){return e===0&&1/e==-1/0}function ime(e){return typeof e=="number"&&Number.isInteger(e)&&!F0(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function lu(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function sU(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t,r){this.comparator=t,this.root=r||xr.EMPTY}insert(t,r){return new Dn(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,xr.BLACK,null,null))}remove(t){return new Dn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xr.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(t){let r=0,o=this.root;for(;!o.isEmpty();){const s=this.comparator(t,o.key);if(s===0)return r+o.left.size;s<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,o)=>(t(r,o),!1))}toString(){const t=[];return this.inorderTraversal((r,o)=>(t.push(`${r}:${o}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Yk(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Yk(this.root,t,this.comparator,!1)}getReverseIterator(){return new Yk(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Yk(this.root,t,this.comparator,!0)}}class Yk{constructor(t,r,o,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=r?o(t.key,r):1,r&&s&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class xr{constructor(t,r,o,s,u){this.key=t,this.value=r,this.color=o??xr.RED,this.left=s??xr.EMPTY,this.right=u??xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,o,s,u){return new xr(t??this.key,r??this.value,o??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let s=this;const u=o(t,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(t,r,o),null):u===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,o)),s.fixUp()}removeMin(){if(this.left.isEmpty())return xr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let o,s=this;if(r(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(t,s.key)===0){if(s.right.isEmpty())return xr.EMPTY;o=s.right.min(),s=s.copy(o.key,o.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const t=this.left.check();if(t!==this.right.check())throw ot();return t+(this.isRed()?0:1)}}xr.EMPTY=null,xr.RED=!0,xr.BLACK=!1;xr.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(e,t,r,o,s){return this}insert(e,t,r){return new xr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(t){this.comparator=t,this.data=new Dn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,o)=>(t(r),!1))}forEachInRange(t,r){const o=this.data.getIteratorFrom(t[0]);for(;o.hasNext();){const s=o.getNext();if(this.comparator(s.key,t[1])>=0)return;r(s.key)}}forEachWhile(t,r){let o;for(o=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!t(o.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new hF(this.data.getIterator())}getIteratorFrom(t){return new hF(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(o=>{r=r.add(o)}),r}isEqual(t){if(!(t instanceof $r)||this.size!==t.size)return!1;const r=this.data.getIterator(),o=t.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,u=o.getNext().key;if(this.comparator(s,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new $r(this.comparator);return r.data=t,r}}class hF{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(t){this.fields=t,t.sort(jr.comparator)}static empty(){return new jo([])}unionWith(t){let r=new $r(jr.comparator);for(const o of this.fields)r=r.add(o);for(const o of t)r=r.add(o);return new jo(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return nh(this.fields,t.fields,(r,o)=>r.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(o){try{return atob(o)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new aU("Invalid base64 string: "+s):s}}(t);return new Wr(r)}static fromUint8Array(t){const r=function(o){let s="";for(let u=0;u<o.length;++u)s+=String.fromCharCode(o[u]);return s}(t);return new Wr(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Wr.EMPTY_BYTE_STRING=new Wr("");const sme=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wl(e){if(kn(!!e),typeof e=="string"){let t=0;const r=sme.exec(e);if(kn(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),t=Number(s)}const o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Qn(e.seconds),nanos:Qn(e.nanos)}}function Qn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function qc(e){return typeof e=="string"?Wr.fromBase64String(e):Wr.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function iD(e){const t=e.mapValue.fields.__previous_value__;return oD(t)?iD(t):t}function jm(e){const t=wl(e.mapValue.fields.__local_write_time__.timestampValue);return new qn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ame{constructor(t,r,o,s,u,h,m,f,k){this.databaseId=t,this.appId=r,this.persistenceKey=o,this.host=s,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=f,this.useFetchStreams=k}}class Fm{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new Fm("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Fm&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?oD(e)?4:lme(e)?9007199254740991:10:ot()}function Ds(e,t){if(e===t)return!0;const r=Gc(e);if(r!==Gc(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return jm(e).isEqual(jm(t));case 3:return function(o,s){if(typeof o.timestampValue=="string"&&typeof s.timestampValue=="string"&&o.timestampValue.length===s.timestampValue.length)return o.timestampValue===s.timestampValue;const u=wl(o.timestampValue),h=wl(s.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,s){return qc(o.bytesValue).isEqual(qc(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,s){return Qn(o.geoPointValue.latitude)===Qn(s.geoPointValue.latitude)&&Qn(o.geoPointValue.longitude)===Qn(s.geoPointValue.longitude)}(e,t);case 2:return function(o,s){if("integerValue"in o&&"integerValue"in s)return Qn(o.integerValue)===Qn(s.integerValue);if("doubleValue"in o&&"doubleValue"in s){const u=Qn(o.doubleValue),h=Qn(s.doubleValue);return u===h?F0(u)===F0(h):isNaN(u)&&isNaN(h)}return!1}(e,t);case 9:return nh(e.arrayValue.values||[],t.arrayValue.values||[],Ds);case 10:return function(o,s){const u=o.mapValue.fields||{},h=s.mapValue.fields||{};if(dF(u)!==dF(h))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(h[m]===void 0||!Ds(u[m],h[m])))return!1;return!0}(e,t);default:return ot()}}function zm(e,t){return(e.values||[]).find(r=>Ds(r,t))!==void 0}function rh(e,t){if(e===t)return 0;const r=Gc(e),o=Gc(t);if(r!==o)return Vt(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Vt(e.booleanValue,t.booleanValue);case 2:return function(s,u){const h=Qn(s.integerValue||s.doubleValue),m=Qn(u.integerValue||u.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(e,t);case 3:return pF(e.timestampValue,t.timestampValue);case 4:return pF(jm(e),jm(t));case 5:return Vt(e.stringValue,t.stringValue);case 6:return function(s,u){const h=qc(s),m=qc(u);return h.compareTo(m)}(e.bytesValue,t.bytesValue);case 7:return function(s,u){const h=s.split("/"),m=u.split("/");for(let f=0;f<h.length&&f<m.length;f++){const k=Vt(h[f],m[f]);if(k!==0)return k}return Vt(h.length,m.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,u){const h=Vt(Qn(s.latitude),Qn(u.latitude));return h!==0?h:Vt(Qn(s.longitude),Qn(u.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,u){const h=s.values||[],m=u.values||[];for(let f=0;f<h.length&&f<m.length;++f){const k=rh(h[f],m[f]);if(k)return k}return Vt(h.length,m.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,u){if(s===Qk.mapValue&&u===Qk.mapValue)return 0;if(s===Qk.mapValue)return 1;if(u===Qk.mapValue)return-1;const h=s.fields||{},m=Object.keys(h),f=u.fields||{},k=Object.keys(f);m.sort(),k.sort();for(let v=0;v<m.length&&v<k.length;++v){const _=Vt(m[v],k[v]);if(_!==0)return _;const y=rh(h[m[v]],f[k[v]]);if(y!==0)return y}return Vt(m.length,k.length)}(e.mapValue,t.mapValue);default:throw ot()}}function pF(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Vt(e,t);const r=wl(e),o=wl(t),s=Vt(r.seconds,o.seconds);return s!==0?s:Vt(r.nanos,o.nanos)}function oh(e){return PE(e)}function PE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(o){const s=wl(o);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?qc(e.bytesValue).toBase64():"referenceValue"in e?(r=e.referenceValue,Ge.fromName(r).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(o){let s="[",u=!0;for(const h of o.values||[])u?u=!1:s+=",",s+=PE(h);return s+"]"}(e.arrayValue):"mapValue"in e?function(o){const s=Object.keys(o.fields||{}).sort();let u="{",h=!0;for(const m of s)h?h=!1:u+=",",u+=`${m}:${PE(o.fields[m])}`;return u+"}"}(e.mapValue):ot();var t,r}function fF(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function NE(e){return!!e&&"integerValue"in e}function sD(e){return!!e&&"arrayValue"in e}function mF(e){return!!e&&"nullValue"in e}function gF(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Rv(e){return!!e&&"mapValue"in e}function Wf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return lu(e.mapValue.fields,(r,o)=>t.mapValue.fields[r]=Wf(o)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Wf(e.arrayValue.values[r]);return t}return Object.assign({},e)}function lme(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(t){this.value=t}static empty(){return new po({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let o=0;o<t.length-1;++o)if(r=(r.mapValue.fields||{})[t.get(o)],!Rv(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Wf(r)}setAll(t){let r=jr.emptyPath(),o={},s=[];t.forEach((h,m)=>{if(!r.isImmediateParentOf(m)){const f=this.getFieldsMap(r);this.applyChanges(f,o,s),o={},s=[],r=m.popLast()}h?o[m.lastSegment()]=Wf(h):s.push(m.lastSegment())});const u=this.getFieldsMap(r);this.applyChanges(u,o,s)}delete(t){const r=this.field(t.popLast());Rv(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Ds(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<t.length;++o){let s=r.mapValue.fields[t.get(o)];Rv(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[t.get(o)]=s),r=s}return r.mapValue.fields}applyChanges(t,r,o){lu(r,(s,u)=>t[s]=u);for(const s of o)delete t[s]}clone(){return new po(Wf(this.value))}}function lU(e){const t=[];return lu(e.fields,(r,o)=>{const s=new jr([r]);if(Rv(o)){const u=lU(o.mapValue).fields;if(u.length===0)t.push(s);else for(const h of u)t.push(s.child(h))}else t.push(s)}),new jo(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t,r,o,s,u,h,m){this.key=t,this.documentType=r,this.version=o,this.readTime=s,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new Lr(t,0,at.min(),at.min(),at.min(),po.empty(),0)}static newFoundDocument(t,r,o,s){return new Lr(t,1,r,at.min(),o,s,0)}static newNoDocument(t,r){return new Lr(t,2,r,at.min(),at.min(),po.empty(),0)}static newUnknownDocument(t,r){return new Lr(t,3,r,at.min(),at.min(),po.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(at.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=po.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=po.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=at.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Lr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Lr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(t,r){this.position=t,this.inclusive=r}}function bF(e,t,r){let o=0;for(let s=0;s<e.position.length;s++){const u=t[s],h=e.position[s];if(u.field.isKeyField()?o=Ge.comparator(Ge.fromName(h.referenceValue),r.key):o=rh(h,r.data.field(u.field)),u.dir==="desc"&&(o*=-1),o!==0)break}return o}function kF(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Ds(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(t,r="asc"){this.field=t,this.dir=r}}function cme(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{}class Xn extends cU{constructor(t,r,o){super(),this.field=t,this.op=r,this.value=o}static create(t,r,o){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,o):new dme(t,r,o):r==="array-contains"?new fme(t,o):r==="in"?new mme(t,o):r==="not-in"?new gme(t,o):r==="array-contains-any"?new bme(t,o):new Xn(t,r,o)}static createKeyFieldInFilter(t,r,o){return r==="in"?new hme(t,o):new pme(t,o)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(rh(r,this.value)):r!==null&&Gc(this.value)===Gc(r)&&this.matchesComparison(rh(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Wi extends cU{constructor(t,r){super(),this.filters=t,this.op=r,this.lt=null}static create(t,r){return new Wi(t,r)}matches(t){return uU(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(r=>r.isInequality());return t!==null?t.field:null}ft(t){for(const r of this.getFlattenedFilters())if(t(r))return r;return null}}function uU(e){return e.op==="and"}function dU(e){return ume(e)&&uU(e)}function ume(e){for(const t of e.filters)if(t instanceof Wi)return!1;return!0}function RE(e){if(e instanceof Xn)return e.field.canonicalString()+e.op.toString()+oh(e.value);if(dU(e))return e.filters.map(t=>RE(t)).join(",");{const t=e.filters.map(r=>RE(r)).join(",");return`${e.op}(${t})`}}function hU(e,t){return e instanceof Xn?function(r,o){return o instanceof Xn&&r.op===o.op&&r.field.isEqual(o.field)&&Ds(r.value,o.value)}(e,t):e instanceof Wi?function(r,o){return o instanceof Wi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((s,u,h)=>s&&hU(u,o.filters[h]),!0):!1}(e,t):void ot()}function pU(e){return e instanceof Xn?function(t){return`${t.field.canonicalString()} ${t.op} ${oh(t.value)}`}(e):e instanceof Wi?function(t){return t.op.toString()+" {"+t.getFilters().map(pU).join(" ,")+"}"}(e):"Filter"}class dme extends Xn{constructor(t,r,o){super(t,r,o),this.key=Ge.fromName(o.referenceValue)}matches(t){const r=Ge.comparator(t.key,this.key);return this.matchesComparison(r)}}class hme extends Xn{constructor(t,r){super(t,"in",r),this.keys=fU("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class pme extends Xn{constructor(t,r){super(t,"not-in",r),this.keys=fU("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function fU(e,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(o=>Ge.fromName(o.referenceValue))}class fme extends Xn{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return sD(r)&&zm(r.arrayValue,this.value)}}class mme extends Xn{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&zm(this.value.arrayValue,r)}}class gme extends Xn{constructor(t,r){super(t,"not-in",r)}matches(t){if(zm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!zm(this.value.arrayValue,r)}}class bme extends Xn{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!sD(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>zm(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kme{constructor(t,r=null,o=[],s=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=r,this.orderBy=o,this.filters=s,this.limit=u,this.startAt=h,this.endAt=m,this.dt=null}}function vF(e,t=null,r=[],o=[],s=null,u=null,h=null){return new kme(e,t,r,o,s,u,h)}function aD(e){const t=dt(e);if(t.dt===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(o=>RE(o)).join(","),r+="|ob:",r+=t.orderBy.map(o=>function(s){return s.field.canonicalString()+s.dir}(o)).join(","),ay(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>oh(o)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>oh(o)).join(",")),t.dt=r}return t.dt}function lD(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!cme(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!hU(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!kF(e.startAt,t.startAt)&&kF(e.endAt,t.endAt)}function OE(e){return Ge.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t,r=null,o=[],s=[],u=null,h="F",m=null,f=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=s,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=f,this.wt=null,this._t=null,this.startAt,this.endAt}}function vme(e,t,r,o,s,u,h,m){return new Rh(e,t,r,o,s,u,h,m)}function ly(e){return new Rh(e)}function wF(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function cD(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function cy(e){for(const t of e.filters){const r=t.getFirstInequalityField();if(r!==null)return r}return null}function mU(e){return e.collectionGroup!==null}function Fd(e){const t=dt(e);if(t.wt===null){t.wt=[];const r=cy(t),o=cD(t);if(r!==null&&o===null)r.isKeyField()||t.wt.push(new jd(r)),t.wt.push(new jd(jr.keyField(),"asc"));else{let s=!1;for(const u of t.explicitOrderBy)t.wt.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new jd(jr.keyField(),u))}}}return t.wt}function ba(e){const t=dt(e);if(!t._t)if(t.limitType==="F")t._t=vF(t.path,t.collectionGroup,Fd(t),t.filters,t.limit,t.startAt,t.endAt);else{const r=[];for(const u of Fd(t)){const h=u.dir==="desc"?"asc":"desc";r.push(new jd(u.field,h))}const o=t.endAt?new z0(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new z0(t.startAt.position,t.startAt.inclusive):null;t._t=vF(t.path,t.collectionGroup,r,t.filters,t.limit,o,s)}return t._t}function BE(e,t){t.getFirstInequalityField(),cy(e);const r=e.filters.concat([t]);return new Rh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function LE(e,t,r){return new Rh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function uy(e,t){return lD(ba(e),ba(t))&&e.limitType===t.limitType}function gU(e){return`${aD(ba(e))}|lt:${e.limitType}`}function jE(e){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>pU(o)).join(", ")}]`),ay(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>oh(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>oh(o)).join(",")),`Target(${r})`}(ba(e))}; limitType=${e.limitType})`}function dy(e,t){return t.isFoundDocument()&&function(r,o){const s=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ge.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,o){for(const s of Fd(r))if(!s.field.isKeyField()&&o.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,o){for(const s of r.filters)if(!s.matches(o))return!1;return!0}(e,t)&&function(r,o){return!(r.startAt&&!function(s,u,h){const m=bF(s,u,h);return s.inclusive?m<=0:m<0}(r.startAt,Fd(r),o)||r.endAt&&!function(s,u,h){const m=bF(s,u,h);return s.inclusive?m>=0:m>0}(r.endAt,Fd(r),o))}(e,t)}function wme(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function bU(e){return(t,r)=>{let o=!1;for(const s of Fd(e)){const u=yme(s,t,r);if(u!==0)return u;o=o||s.field.isKeyField()}return 0}}function yme(e,t,r){const o=e.field.isKeyField()?Ge.comparator(t.key,r.key):function(s,u,h){const m=u.data.field(s),f=h.data.field(s);return m!==null&&f!==null?rh(m,f):ot()}(e.field,t,r);switch(e.dir){case"asc":return o;case"desc":return-1*o;default:return ot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(const[s,u]of o)if(this.equalsFn(s,t))return u}}has(t){return this.get(t)!==void 0}set(t,r){const o=this.mapKeyFn(t),s=this.inner[o];if(s===void 0)return this.inner[o]=[[t,r]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],t))return void(s[u]=[t,r]);s.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return!1;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return o.length===1?delete this.inner[r]:o.splice(s,1),this.innerSize--,!0;return!1}forEach(t){lu(this.inner,(r,o)=>{for(const[s,u]of o)t(s,u)})}isEmpty(){return sU(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _me=new Dn(Ge.comparator);function ka(){return _me}const kU=new Dn(Ge.comparator);function Sf(...e){let t=kU;for(const r of e)t=t.insert(r.key,r);return t}function vU(e){let t=kU;return e.forEach((r,o)=>t=t.insert(r,o.overlayedDocument)),t}function wc(){return qf()}function wU(){return qf()}function qf(){return new Oh(e=>e.toString(),(e,t)=>e.isEqual(t))}const Cme=new Dn(Ge.comparator),Ame=new $r(Ge.comparator);function wt(...e){let t=Ame;for(const r of e)t=t.add(r);return t}const xme=new $r(Vt);function Eme(){return xme}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:F0(t)?"-0":t}}function _U(e){return{integerValue:""+e}}function Sme(e,t){return ime(t)?_U(t):yU(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(){this._=void 0}}function Dme(e,t,r){return e instanceof $m?function(o,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return s&&oD(s)&&(s=iD(s)),s&&(u.fields.__previous_value__=s),{mapValue:u}}(r,t):e instanceof ih?AU(e,t):e instanceof Vm?xU(e,t):function(o,s){const u=CU(o,s),h=yF(u)+yF(o.gt);return NE(u)&&NE(o.gt)?_U(h):yU(o.serializer,h)}(e,t)}function Tme(e,t,r){return e instanceof ih?AU(e,t):e instanceof Vm?xU(e,t):r}function CU(e,t){return e instanceof $0?NE(r=t)||function(o){return!!o&&"doubleValue"in o}(r)?t:{integerValue:0}:null;var r}class $m extends hy{}class ih extends hy{constructor(t){super(),this.elements=t}}function AU(e,t){const r=EU(t);for(const o of e.elements)r.some(s=>Ds(s,o))||r.push(o);return{arrayValue:{values:r}}}class Vm extends hy{constructor(t){super(),this.elements=t}}function xU(e,t){let r=EU(t);for(const o of e.elements)r=r.filter(s=>!Ds(s,o));return{arrayValue:{values:r}}}class $0 extends hy{constructor(t,r){super(),this.serializer=t,this.gt=r}}function yF(e){return Qn(e.integerValue||e.doubleValue)}function EU(e){return sD(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(t,r){this.field=t,this.transform=r}}function Ime(e,t){return e.field.isEqual(t.field)&&function(r,o){return r instanceof ih&&o instanceof ih||r instanceof Vm&&o instanceof Vm?nh(r.elements,o.elements,Ds):r instanceof $0&&o instanceof $0?Ds(r.gt,o.gt):r instanceof $m&&o instanceof $m}(e.transform,t.transform)}class Mme{constructor(t,r){this.version=t,this.transformResults=r}}class bi{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new bi}static exists(t){return new bi(void 0,t)}static updateTime(t){return new bi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ov(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class py{}function DU(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new uD(e.key,bi.none()):new Tg(e.key,e.data,bi.none());{const r=e.data,o=po.empty();let s=new $r(jr.comparator);for(let u of t.fields)if(!s.has(u)){let h=r.field(u);h===null&&u.length>1&&(u=u.popLast(),h=r.field(u)),h===null?o.delete(u):o.set(u,h),s=s.add(u)}return new Nl(e.key,o,new jo(s.toArray()),bi.none())}}function Pme(e,t,r){e instanceof Tg?function(o,s,u){const h=o.value.clone(),m=CF(o.fieldTransforms,s,u.transformResults);h.setAll(m),s.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(e,t,r):e instanceof Nl?function(o,s,u){if(!Ov(o.precondition,s))return void s.convertToUnknownDocument(u.version);const h=CF(o.fieldTransforms,s,u.transformResults),m=s.data;m.setAll(TU(o)),m.setAll(h),s.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(e,t,r):function(o,s,u){s.convertToNoDocument(u.version).setHasCommittedMutations()}(0,t,r)}function Gf(e,t,r,o){return e instanceof Tg?function(s,u,h,m){if(!Ov(s.precondition,u))return h;const f=s.value.clone(),k=AF(s.fieldTransforms,m,u);return f.setAll(k),u.convertToFoundDocument(u.version,f).setHasLocalMutations(),null}(e,t,r,o):e instanceof Nl?function(s,u,h,m){if(!Ov(s.precondition,u))return h;const f=AF(s.fieldTransforms,m,u),k=u.data;return k.setAll(TU(s)),k.setAll(f),u.convertToFoundDocument(u.version,k).setHasLocalMutations(),h===null?null:h.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(v=>v.field))}(e,t,r,o):function(s,u,h){return Ov(s.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(e,t,r)}function Nme(e,t){let r=null;for(const o of e.fieldTransforms){const s=t.data.field(o.field),u=CU(o.transform,s||null);u!=null&&(r===null&&(r=po.empty()),r.set(o.field,u))}return r||null}function _F(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&nh(r,o,(s,u)=>Ime(s,u))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Tg extends py{constructor(t,r,o,s=[]){super(),this.key=t,this.value=r,this.precondition=o,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Nl extends py{constructor(t,r,o,s,u=[]){super(),this.key=t,this.data=r,this.fieldMask=o,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function TU(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=e.data.field(r);t.set(r,o)}}),t}function CF(e,t,r){const o=new Map;kn(e.length===r.length);for(let s=0;s<r.length;s++){const u=e[s],h=u.transform,m=t.data.field(u.field);o.set(u.field,Tme(h,m,r[s]))}return o}function AF(e,t,r){const o=new Map;for(const s of e){const u=s.transform,h=r.data.field(s.field);o.set(s.field,Dme(u,h,t))}return o}class uD extends py{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rme extends py{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ome{constructor(t,r,o,s){this.batchId=t,this.localWriteTime=r,this.baseMutations=o,this.mutations=s}applyToRemoteDocument(t,r){const o=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(t.key)&&Pme(u,t,o[s])}}applyToLocalView(t,r){for(const o of this.baseMutations)o.key.isEqual(t.key)&&(r=Gf(o,t,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(t.key)&&(r=Gf(o,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const o=wU();return this.mutations.forEach(s=>{const u=t.get(s.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=r.has(s.key)?null:m;const f=DU(h,m);f!==null&&o.set(s.key,f),h.isValidDocument()||h.convertToNoDocument(at.min())}),o}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),wt())}isEqual(t){return this.batchId===t.batchId&&nh(this.mutations,t.mutations,(r,o)=>_F(r,o))&&nh(this.baseMutations,t.baseMutations,(r,o)=>_F(r,o))}}class dD{constructor(t,r,o,s){this.batch=t,this.commitVersion=r,this.mutationResults=o,this.docVersions=s}static from(t,r,o){kn(t.mutations.length===o.length);let s=Cme;const u=t.mutations;for(let h=0;h<u.length;h++)s=s.insert(u[h].key,o[h].version);return new dD(t,r,o,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bme{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lme{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn,At;function jme(e){switch(e){default:return ot();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function IU(e){if(e===void 0)return ga("GRPC error has no .code"),he.UNKNOWN;switch(e){case Yn.OK:return he.OK;case Yn.CANCELLED:return he.CANCELLED;case Yn.UNKNOWN:return he.UNKNOWN;case Yn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Yn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Yn.INTERNAL:return he.INTERNAL;case Yn.UNAVAILABLE:return he.UNAVAILABLE;case Yn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Yn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Yn.NOT_FOUND:return he.NOT_FOUND;case Yn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Yn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Yn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Yn.ABORTED:return he.ABORTED;case Yn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Yn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Yn.DATA_LOSS:return he.DATA_LOSS;default:return ot()}}(At=Yn||(Yn={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Zk}static getOrCreateInstance(){return Zk===null&&(Zk=new hD),Zk}onExistenceFilterMismatch(t){const r=Symbol();return this.onExistenceFilterMismatchCallbacks.set(r,t),()=>this.onExistenceFilterMismatchCallbacks.delete(r)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(r=>r(t))}}let Zk=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fme(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zme=new Ld([4294967295,4294967295],0);function xF(e){const t=Fme().encode(e),r=new Hfe;return r.update(t),new Uint8Array(r.digest())}function EF(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),o=t.getUint32(4,!0),s=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ld([r,o],0),new Ld([s,u],0)]}class pD{constructor(t,r,o){if(this.bitmap=t,this.padding=r,this.hashCount=o,r<0||r>=8)throw new Df(`Invalid padding: ${r}`);if(o<0)throw new Df(`Invalid hash count: ${o}`);if(t.length>0&&this.hashCount===0)throw new Df(`Invalid hash count: ${o}`);if(t.length===0&&r!==0)throw new Df(`Invalid padding when bitmap length is 0: ${r}`);this.It=8*t.length-r,this.Tt=Ld.fromNumber(this.It)}Et(t,r,o){let s=t.add(r.multiply(Ld.fromNumber(o)));return s.compare(zme)===1&&(s=new Ld([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}vt(t){if(this.It===0)return!1;const r=xF(t),[o,s]=EF(r);for(let u=0;u<this.hashCount;u++){const h=this.Et(o,s,u);if(!this.At(h))return!1}return!0}static create(t,r,o){const s=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new pD(u,s,r);return o.forEach(m=>h.insert(m)),h}insert(t){if(this.It===0)return;const r=xF(t),[o,s]=EF(r);for(let u=0;u<this.hashCount;u++){const h=this.Et(o,s,u);this.Rt(h)}}Rt(t){const r=Math.floor(t/8),o=t%8;this.bitmap[r]|=1<<o}}class Df extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(t,r,o,s,u){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,r,o){const s=new Map;return s.set(t,Ig.createSynthesizedTargetChangeForCurrentChange(t,r,o)),new fy(at.min(),s,new Dn(Vt),ka(),wt())}}class Ig{constructor(t,r,o,s,u){this.resumeToken=t,this.current=r,this.addedDocuments=o,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,r,o){return new Ig(o,r,wt(),wt(),wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(t,r,o,s){this.Pt=t,this.removedTargetIds=r,this.key=o,this.bt=s}}class MU{constructor(t,r){this.targetId=t,this.Vt=r}}class PU{constructor(t,r,o=Wr.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=r,this.resumeToken=o,this.cause=s}}class SF{constructor(){this.St=0,this.Dt=TF(),this.Ct=Wr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=wt(),r=wt(),o=wt();return this.Dt.forEach((s,u)=>{switch(u){case 0:t=t.add(s);break;case 2:r=r.add(s);break;case 1:o=o.add(s);break;default:ot()}}),new Ig(this.Ct,this.xt,t,r,o)}Ft(){this.Nt=!1,this.Dt=TF()}Bt(t,r){this.Nt=!0,this.Dt=this.Dt.insert(t,r)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class $me{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=ka(),this.zt=DF(),this.Wt=new Dn(Vt)}Ht(t){for(const r of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(r,t.bt):this.Yt(r,t.key,t.bt);for(const r of t.removedTargetIds)this.Yt(r,t.key,t.bt)}Xt(t){this.forEachTarget(t,r=>{const o=this.Zt(r);switch(t.state){case 0:this.te(r)&&o.$t(t.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(t.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(r);break;case 3:this.te(r)&&(o.Kt(),o.$t(t.resumeToken));break;case 4:this.te(r)&&(this.ee(r),o.$t(t.resumeToken));break;default:ot()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.Qt.forEach((o,s)=>{this.te(s)&&r(s)})}ne(t){var r;const o=t.targetId,s=t.Vt.count,u=this.se(o);if(u){const h=u.target;if(OE(h))if(s===0){const m=new Ge(h.path);this.Yt(o,m,Lr.newNoDocument(m,at.min()))}else kn(s===1);else{const m=this.ie(o);if(m!==s){const f=this.re(t,m);if(f!==0){this.ee(o);const k=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(o,k)}(r=hD.instance)===null||r===void 0||r.notifyOnExistenceFilterMismatch(function(k,v,_){var y,A,S,E,I,T;const R={localCacheCount:v,existenceFilterCount:_.count},O=_.unchangedNames;return O&&(R.bloomFilter={applied:k===0,hashCount:(y=O==null?void 0:O.hashCount)!==null&&y!==void 0?y:0,bitmapLength:(E=(S=(A=O==null?void 0:O.bits)===null||A===void 0?void 0:A.bitmap)===null||S===void 0?void 0:S.length)!==null&&E!==void 0?E:0,padding:(T=(I=O==null?void 0:O.bits)===null||I===void 0?void 0:I.padding)!==null&&T!==void 0?T:0}),R}(f,m,t.Vt))}}}}re(t,r){const{unchangedNames:o,count:s}=t.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:u="",padding:h=0},hashCount:m=0}=o;let f,k;try{f=qc(u).toUint8Array()}catch(v){if(v instanceof aU)return th("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw v}try{k=new pD(f,h,m)}catch(v){return th(v instanceof Df?"BloomFilter error: ":"Applying bloom filter failed: ",v),1}return k.It===0?1:s!==r-this.oe(t.targetId,k)?2:0}oe(t,r){const o=this.Gt.getRemoteKeysForTarget(t);let s=0;return o.forEach(u=>{const h=this.Gt.ue(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;r.vt(m)||(this.Yt(t,u,null),s++)}),s}ce(t){const r=new Map;this.Qt.forEach((u,h)=>{const m=this.se(h);if(m){if(u.current&&OE(m.target)){const f=new Ge(m.target.path);this.jt.get(f)!==null||this.ae(h,f)||this.Yt(h,f,Lr.newNoDocument(f,t))}u.Mt&&(r.set(h,u.Ot()),u.Ft())}});let o=wt();this.zt.forEach((u,h)=>{let m=!0;h.forEachWhile(f=>{const k=this.se(f);return!k||k.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(o=o.add(u))}),this.jt.forEach((u,h)=>h.setReadTime(t));const s=new fy(t,r,this.Wt,this.jt,o);return this.jt=ka(),this.zt=DF(),this.Wt=new Dn(Vt),s}Jt(t,r){if(!this.te(t))return;const o=this.ae(t,r.key)?2:0;this.Zt(t).Bt(r.key,o),this.jt=this.jt.insert(r.key,r),this.zt=this.zt.insert(r.key,this.he(r.key).add(t))}Yt(t,r,o){if(!this.te(t))return;const s=this.Zt(t);this.ae(t,r)?s.Bt(r,1):s.Lt(r),this.zt=this.zt.insert(r,this.he(r).delete(t)),o&&(this.jt=this.jt.insert(r,o))}removeTarget(t){this.Qt.delete(t)}ie(t){const r=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let r=this.Qt.get(t);return r||(r=new SF,this.Qt.set(t,r)),r}he(t){let r=this.zt.get(t);return r||(r=new $r(Vt),this.zt=this.zt.insert(t,r)),r}te(t){const r=this.se(t)!==null;return r||ze("WatchChangeAggregator","Detected inactive target",t),r}se(t){const r=this.Qt.get(t);return r&&r.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new SF),this.Gt.getRemoteKeysForTarget(t).forEach(r=>{this.Yt(t,r,null)})}ae(t,r){return this.Gt.getRemoteKeysForTarget(t).has(r)}}function DF(){return new Dn(Ge.comparator)}function TF(){return new Dn(Ge.comparator)}const Vme={asc:"ASCENDING",desc:"DESCENDING"},Ume={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hme={and:"AND",or:"OR"};class Wme{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function FE(e,t){return e.useProto3Json||ay(t)?t:{value:t}}function V0(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function NU(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function qme(e,t){return V0(e,t.toTimestamp())}function _s(e){return kn(!!e),at.fromTimestamp(function(t){const r=wl(t);return new qn(r.seconds,r.nanos)}(e))}function fD(e,t){return function(r){return new mn(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function RU(e){const t=mn.fromString(e);return kn(jU(t)),t}function zE(e,t){return fD(e.databaseId,t.path)}function N1(e,t){const r=RU(t);if(r.get(1)!==e.databaseId.projectId)throw new Ne(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Ne(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new Ge(OU(r))}function $E(e,t){return fD(e.databaseId,t)}function Gme(e){const t=RU(e);return t.length===4?mn.emptyPath():OU(t)}function VE(e){return new mn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function OU(e){return kn(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function IF(e,t,r){return{name:zE(e,t),fields:r.value.mapValue.fields}}function Kme(e,t){let r;if("targetChange"in t){t.targetChange;const o=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:ot()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],u=function(f,k){return f.useProto3Json?(kn(k===void 0||typeof k=="string"),Wr.fromBase64String(k||"")):(kn(k===void 0||k instanceof Uint8Array),Wr.fromUint8Array(k||new Uint8Array))}(e,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(f){const k=f.code===void 0?he.UNKNOWN:IU(f.code);return new Ne(k,f.message||"")}(h);r=new PU(o,s,u,m||null)}else if("documentChange"in t){t.documentChange;const o=t.documentChange;o.document,o.document.name,o.document.updateTime;const s=N1(e,o.document.name),u=_s(o.document.updateTime),h=o.document.createTime?_s(o.document.createTime):at.min(),m=new po({mapValue:{fields:o.document.fields}}),f=Lr.newFoundDocument(s,u,h,m),k=o.targetIds||[],v=o.removedTargetIds||[];r=new Bv(k,v,f.key,f)}else if("documentDelete"in t){t.documentDelete;const o=t.documentDelete;o.document;const s=N1(e,o.document),u=o.readTime?_s(o.readTime):at.min(),h=Lr.newNoDocument(s,u),m=o.removedTargetIds||[];r=new Bv([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const o=t.documentRemove;o.document;const s=N1(e,o.document),u=o.removedTargetIds||[];r=new Bv([],u,s,null)}else{if(!("filter"in t))return ot();{t.filter;const o=t.filter;o.targetId;const{count:s=0,unchangedNames:u}=o,h=new Lme(s,u),m=o.targetId;r=new MU(m,h)}}return r}function Yme(e,t){let r;if(t instanceof Tg)r={update:IF(e,t.key,t.value)};else if(t instanceof uD)r={delete:zE(e,t.key)};else if(t instanceof Nl)r={update:IF(e,t.key,t.data),updateMask:oge(t.fieldMask)};else{if(!(t instanceof Rme))return ot();r={verify:zE(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(o=>function(s,u){const h=u.transform;if(h instanceof $m)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ih)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Vm)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof $0)return{fieldPath:u.field.canonicalString(),increment:h.gt};throw ot()}(0,o))),t.precondition.isNone||(r.currentDocument=function(o,s){return s.updateTime!==void 0?{updateTime:qme(o,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ot()}(e,t.precondition)),r}function Qme(e,t){return e&&e.length>0?(kn(t!==void 0),e.map(r=>function(o,s){let u=o.updateTime?_s(o.updateTime):_s(s);return u.isEqual(at.min())&&(u=_s(s)),new Mme(u,o.transformResults||[])}(r,t))):[]}function Zme(e,t){return{documents:[$E(e,t.path)]}}function Jme(e,t){const r={structuredQuery:{}},o=t.path;t.collectionGroup!==null?(r.parent=$E(e,o),r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r.parent=$E(e,o.popLast()),r.structuredQuery.from=[{collectionId:o.lastSegment()}]);const s=function(f){if(f.length!==0)return LU(Wi.create(f,"and"))}(t.filters);s&&(r.structuredQuery.where=s);const u=function(f){if(f.length!==0)return f.map(k=>function(v){return{field:cd(v.field),direction:tge(v.dir)}}(k))}(t.orderBy);u&&(r.structuredQuery.orderBy=u);const h=FE(e,t.limit);var m;return h!==null&&(r.structuredQuery.limit=h),t.startAt&&(r.structuredQuery.startAt={before:(m=t.startAt).inclusive,values:m.position}),t.endAt&&(r.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),r}function Xme(e){let t=Gme(e.parent);const r=e.structuredQuery,o=r.from?r.from.length:0;let s=null;if(o>0){kn(o===1);const v=r.from[0];v.allDescendants?s=v.collectionId:t=t.child(v.collectionId)}let u=[];r.where&&(u=function(v){const _=BU(v);return _ instanceof Wi&&dU(_)?_.getFilters():[_]}(r.where));let h=[];r.orderBy&&(h=r.orderBy.map(v=>function(_){return new jd(ud(_.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(v)));let m=null;r.limit&&(m=function(v){let _;return _=typeof v=="object"?v.value:v,ay(_)?null:_}(r.limit));let f=null;r.startAt&&(f=function(v){const _=!!v.before,y=v.values||[];return new z0(y,_)}(r.startAt));let k=null;return r.endAt&&(k=function(v){const _=!v.before,y=v.values||[];return new z0(y,_)}(r.endAt)),vme(t,s,h,u,m,"F",f,k)}function ege(e,t){const r=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function BU(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ud(t.unaryFilter.field);return Xn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ud(t.unaryFilter.field);return Xn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ud(t.unaryFilter.field);return Xn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ud(t.unaryFilter.field);return Xn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(e):e.fieldFilter!==void 0?function(t){return Xn.create(ud(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return Wi.create(t.compositeFilter.filters.map(r=>BU(r)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ot()}}(t.compositeFilter.op))}(e):ot()}function tge(e){return Vme[e]}function nge(e){return Ume[e]}function rge(e){return Hme[e]}function cd(e){return{fieldPath:e.canonicalString()}}function ud(e){return jr.fromServerFormat(e.fieldPath)}function LU(e){return e instanceof Xn?function(t){if(t.op==="=="){if(gF(t.value))return{unaryFilter:{field:cd(t.field),op:"IS_NAN"}};if(mF(t.value))return{unaryFilter:{field:cd(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(gF(t.value))return{unaryFilter:{field:cd(t.field),op:"IS_NOT_NAN"}};if(mF(t.value))return{unaryFilter:{field:cd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cd(t.field),op:nge(t.op),value:t.value}}}(e):e instanceof Wi?function(t){const r=t.getFilters().map(o=>LU(o));return r.length===1?r[0]:{compositeFilter:{op:rge(t.op),filters:r}}}(e):ot()}function oge(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function jU(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t,r,o,s,u=at.min(),h=at.min(),m=Wr.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=r,this.purpose=o,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=f}withSequenceNumber(t){return new Ja(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ige{constructor(t){this.fe=t}}function sge(e){const t=Xme({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?LE(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class age{constructor(){this.rn=new lge}addToCollectionParentIndex(t,r){return this.rn.add(r),ye.resolve()}getCollectionParents(t,r){return ye.resolve(this.rn.getEntries(r))}addFieldIndex(t,r){return ye.resolve()}deleteFieldIndex(t,r){return ye.resolve()}getDocumentsMatchingTarget(t,r){return ye.resolve(null)}getIndexType(t,r){return ye.resolve(0)}getFieldIndexes(t,r){return ye.resolve([])}getNextCollectionGroupToUpdate(t){return ye.resolve(null)}getMinOffset(t,r){return ye.resolve(vl.min())}getMinOffsetFromCollectionGroup(t,r){return ye.resolve(vl.min())}updateCollectionGroup(t,r,o){return ye.resolve()}updateIndexEntries(t,r){return ye.resolve()}}class lge{constructor(){this.index={}}add(t){const r=t.lastSegment(),o=t.popLast(),s=this.index[r]||new $r(mn.comparator),u=!s.has(o);return this.index[r]=s.add(o),u}has(t){const r=t.lastSegment(),o=t.popLast(),s=this.index[r];return s&&s.has(o)}getEntries(t){return(this.index[t]||new $r(mn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new sh(0)}static Mn(){return new sh(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cge{constructor(){this.changes=new Oh(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Lr.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const o=this.changes.get(r);return o!==void 0?ye.resolve(o):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uge{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dge{constructor(t,r,o,s){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=s}getDocument(t,r){let o=null;return this.documentOverlayCache.getOverlay(t,r).next(s=>(o=s,this.remoteDocumentCache.getEntry(t,r))).next(s=>(o!==null&&Gf(o.mutation,s,jo.empty(),qn.now()),s))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(o=>this.getLocalViewOfDocuments(t,o,wt()).next(()=>o))}getLocalViewOfDocuments(t,r,o=wt()){const s=wc();return this.populateOverlays(t,s,r).next(()=>this.computeViews(t,r,s,o).next(u=>{let h=Sf();return u.forEach((m,f)=>{h=h.insert(m,f.overlayedDocument)}),h}))}getOverlayedDocuments(t,r){const o=wc();return this.populateOverlays(t,o,r).next(()=>this.computeViews(t,r,o,wt()))}populateOverlays(t,r,o){const s=[];return o.forEach(u=>{r.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(t,s).next(u=>{u.forEach((h,m)=>{r.set(h,m)})})}computeViews(t,r,o,s){let u=ka();const h=qf(),m=qf();return r.forEach((f,k)=>{const v=o.get(k.key);s.has(k.key)&&(v===void 0||v.mutation instanceof Nl)?u=u.insert(k.key,k):v!==void 0?(h.set(k.key,v.mutation.getFieldMask()),Gf(v.mutation,k,v.mutation.getFieldMask(),qn.now())):h.set(k.key,jo.empty())}),this.recalculateAndSaveOverlays(t,u).next(f=>(f.forEach((k,v)=>h.set(k,v)),r.forEach((k,v)=>{var _;return m.set(k,new uge(v,(_=h.get(k))!==null&&_!==void 0?_:null))}),m))}recalculateAndSaveOverlays(t,r){const o=qf();let s=new Dn((h,m)=>h-m),u=wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(h=>{for(const m of h)m.keys().forEach(f=>{const k=r.get(f);if(k===null)return;let v=o.get(f)||jo.empty();v=m.applyToLocalView(k,v),o.set(f,v);const _=(s.get(m.batchId)||wt()).add(f);s=s.insert(m.batchId,_)})}).next(()=>{const h=[],m=s.getReverseIterator();for(;m.hasNext();){const f=m.getNext(),k=f.key,v=f.value,_=wU();v.forEach(y=>{if(!u.has(y)){const A=DU(r.get(y),o.get(y));A!==null&&_.set(y,A),u=u.add(y)}}),h.push(this.documentOverlayCache.saveOverlays(t,k,_))}return ye.waitFor(h)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(o=>this.recalculateAndSaveOverlays(t,o))}getDocumentsMatchingQuery(t,r,o){return function(s){return Ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):mU(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,o):this.getDocumentsMatchingCollectionQuery(t,r,o)}getNextDocuments(t,r,o,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,o,s).next(u=>{const h=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,o.largestBatchId,s-u.size):ye.resolve(wc());let m=-1,f=u;return h.next(k=>ye.forEach(k,(v,_)=>(m<_.largestBatchId&&(m=_.largestBatchId),u.get(v)?ye.resolve():this.remoteDocumentCache.getEntry(t,v).next(y=>{f=f.insert(v,y)}))).next(()=>this.populateOverlays(t,k,u)).next(()=>this.computeViews(t,f,k,wt())).next(v=>({batchId:m,changes:vU(v)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new Ge(r)).next(o=>{let s=Sf();return o.isFoundDocument()&&(s=s.insert(o.key,o)),s})}getDocumentsMatchingCollectionGroupQuery(t,r,o){const s=r.collectionGroup;let u=Sf();return this.indexManager.getCollectionParents(t,s).next(h=>ye.forEach(h,m=>{const f=function(k,v){return new Rh(v,null,k.explicitOrderBy.slice(),k.filters.slice(),k.limit,k.limitType,k.startAt,k.endAt)}(r,m.child(s));return this.getDocumentsMatchingCollectionQuery(t,f,o).next(k=>{k.forEach((v,_)=>{u=u.insert(v,_)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(t,r,o){let s;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,o.largestBatchId).next(u=>(s=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,o,s))).next(u=>{s.forEach((m,f)=>{const k=f.getKey();u.get(k)===null&&(u=u.insert(k,Lr.newInvalidDocument(k)))});let h=Sf();return u.forEach((m,f)=>{const k=s.get(m);k!==void 0&&Gf(k.mutation,f,jo.empty(),qn.now()),dy(r,f)&&(h=h.insert(m,f))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hge{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,r){return ye.resolve(this.cs.get(r))}saveBundleMetadata(t,r){var o;return this.cs.set(r.id,{id:(o=r).id,version:o.version,createTime:_s(o.createTime)}),ye.resolve()}getNamedQuery(t,r){return ye.resolve(this.hs.get(r))}saveNamedQuery(t,r){return this.hs.set(r.name,function(o){return{name:o.name,query:sge(o.bundledQuery),readTime:_s(o.readTime)}}(r)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pge{constructor(){this.overlays=new Dn(Ge.comparator),this.ls=new Map}getOverlay(t,r){return ye.resolve(this.overlays.get(r))}getOverlays(t,r){const o=wc();return ye.forEach(r,s=>this.getOverlay(t,s).next(u=>{u!==null&&o.set(s,u)})).next(()=>o)}saveOverlays(t,r,o){return o.forEach((s,u)=>{this.we(t,r,u)}),ye.resolve()}removeOverlaysForBatchId(t,r,o){const s=this.ls.get(o);return s!==void 0&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(o)),ye.resolve()}getOverlaysForCollection(t,r,o){const s=wc(),u=r.length+1,h=new Ge(r.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const f=m.getNext().value,k=f.getKey();if(!r.isPrefixOf(k.path))break;k.path.length===u&&f.largestBatchId>o&&s.set(f.getKey(),f)}return ye.resolve(s)}getOverlaysForCollectionGroup(t,r,o,s){let u=new Dn((k,v)=>k-v);const h=this.overlays.getIterator();for(;h.hasNext();){const k=h.getNext().value;if(k.getKey().getCollectionGroup()===r&&k.largestBatchId>o){let v=u.get(k.largestBatchId);v===null&&(v=wc(),u=u.insert(k.largestBatchId,v)),v.set(k.getKey(),k)}}const m=wc(),f=u.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((k,v)=>m.set(k,v)),!(m.size()>=s)););return ye.resolve(m)}we(t,r,o){const s=this.overlays.get(o.key);if(s!==null){const h=this.ls.get(s.largestBatchId).delete(o.key);this.ls.set(s.largestBatchId,h)}this.overlays=this.overlays.insert(o.key,new Bme(r,o));let u=this.ls.get(r);u===void 0&&(u=wt(),this.ls.set(r,u)),this.ls.set(r,u.add(o.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.fs=new $r(pr.ds),this.ws=new $r(pr._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,r){const o=new pr(t,r);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(t,r){t.forEach(o=>this.addReference(o,r))}removeReference(t,r){this.ys(new pr(t,r))}ps(t,r){t.forEach(o=>this.removeReference(o,r))}Is(t){const r=new Ge(new mn([])),o=new pr(r,t),s=new pr(r,t+1),u=[];return this.ws.forEachInRange([o,s],h=>{this.ys(h),u.push(h.key)}),u}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const r=new Ge(new mn([])),o=new pr(r,t),s=new pr(r,t+1);let u=wt();return this.ws.forEachInRange([o,s],h=>{u=u.add(h.key)}),u}containsKey(t){const r=new pr(t,0),o=this.fs.firstAfterOrEqual(r);return o!==null&&t.isEqual(o.key)}}class pr{constructor(t,r){this.key=t,this.As=r}static ds(t,r){return Ge.comparator(t.key,r.key)||Vt(t.As,r.As)}static _s(t,r){return Vt(t.As,r.As)||Ge.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fge{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.vs=1,this.Rs=new $r(pr.ds)}checkEmpty(t){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,o,s){const u=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Ome(u,r,o,s);this.mutationQueue.push(h);for(const m of s)this.Rs=this.Rs.add(new pr(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return ye.resolve(h)}lookupMutationBatch(t,r){return ye.resolve(this.Ps(r))}getNextMutationBatchAfterBatchId(t,r){const o=r+1,s=this.bs(o),u=s<0?0:s;return ye.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(t){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const o=new pr(r,0),s=new pr(r,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([o,s],h=>{const m=this.Ps(h.As);u.push(m)}),ye.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,r){let o=new $r(Vt);return r.forEach(s=>{const u=new pr(s,0),h=new pr(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,h],m=>{o=o.add(m.As)})}),ye.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(t,r){const o=r.path,s=o.length+1;let u=o;Ge.isDocumentKey(u)||(u=u.child(""));const h=new pr(new Ge(u),0);let m=new $r(Vt);return this.Rs.forEachWhile(f=>{const k=f.key.path;return!!o.isPrefixOf(k)&&(k.length===s&&(m=m.add(f.As)),!0)},h),ye.resolve(this.Vs(m))}Vs(t){const r=[];return t.forEach(o=>{const s=this.Ps(o);s!==null&&r.push(s)}),r}removeMutationBatch(t,r){kn(this.Ss(r.batchId,"removed")===0),this.mutationQueue.shift();let o=this.Rs;return ye.forEach(r.mutations,s=>{const u=new pr(s.key,r.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Rs=o})}Cn(t){}containsKey(t,r){const o=new pr(r,0),s=this.Rs.firstAfterOrEqual(o);return ye.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,ye.resolve()}Ss(t,r){return this.bs(t)}bs(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Ps(t){const r=this.bs(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mge{constructor(t){this.Ds=t,this.docs=new Dn(Ge.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const o=r.key,s=this.docs.get(o),u=s?s.size:0,h=this.Ds(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,o.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const o=this.docs.get(r);return ye.resolve(o?o.document.mutableCopy():Lr.newInvalidDocument(r))}getEntries(t,r){let o=ka();return r.forEach(s=>{const u=this.docs.get(s);o=o.insert(s,u?u.document.mutableCopy():Lr.newInvalidDocument(s))}),ye.resolve(o)}getDocumentsMatchingQuery(t,r,o,s){let u=ka();const h=r.path,m=new Ge(h.child("")),f=this.docs.getIteratorFrom(m);for(;f.hasNext();){const{key:k,value:{document:v}}=f.getNext();if(!h.isPrefixOf(k.path))break;k.path.length>h.length+1||nme(tme(v),o)<=0||(s.has(v.key)||dy(r,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ye.resolve(u)}getAllFromCollectionGroup(t,r,o,s){ot()}Cs(t,r){return ye.forEach(this.docs,o=>r(o))}newChangeBuffer(t){return new gge(this)}getSize(t){return ye.resolve(this.size)}}class gge extends cge{constructor(t){super(),this.os=t}applyChanges(t){const r=[];return this.changes.forEach((o,s)=>{s.isValidDocument()?r.push(this.os.addEntry(t,s)):this.os.removeEntry(o)}),ye.waitFor(r)}getFromCache(t,r){return this.os.getEntry(t,r)}getAllFromCache(t,r){return this.os.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bge{constructor(t){this.persistence=t,this.xs=new Oh(r=>aD(r),lD),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.Ns=0,this.ks=new mD,this.targetCount=0,this.Ms=sh.kn()}forEachTarget(t,r){return this.xs.forEach((o,s)=>r(s)),ye.resolve()}getLastRemoteSnapshotVersion(t){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ye.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(t,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Ns&&(this.Ns=r),ye.resolve()}Fn(t){this.xs.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.Ms=new sh(r),this.highestTargetId=r),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,r){return this.Fn(r),this.targetCount+=1,ye.resolve()}updateTargetData(t,r){return this.Fn(r),ye.resolve()}removeTargetData(t,r){return this.xs.delete(r.target),this.ks.Is(r.targetId),this.targetCount-=1,ye.resolve()}removeTargets(t,r,o){let s=0;const u=[];return this.xs.forEach((h,m)=>{m.sequenceNumber<=r&&o.get(m.targetId)===null&&(this.xs.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),s++)}),ye.waitFor(u).next(()=>s)}getTargetCount(t){return ye.resolve(this.targetCount)}getTargetData(t,r){const o=this.xs.get(r)||null;return ye.resolve(o)}addMatchingKeys(t,r,o){return this.ks.gs(r,o),ye.resolve()}removeMatchingKeys(t,r,o){this.ks.ps(r,o);const s=this.persistence.referenceDelegate,u=[];return s&&r.forEach(h=>{u.push(s.markPotentiallyOrphaned(t,h))}),ye.waitFor(u)}removeMatchingKeysForTargetId(t,r){return this.ks.Is(r),ye.resolve()}getMatchingKeysForTargetId(t,r){const o=this.ks.Es(r);return ye.resolve(o)}containsKey(t,r){return ye.resolve(this.ks.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kge{constructor(t,r){this.$s={},this.overlays={},this.Os=new rD(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new bge(this),this.indexManager=new age,this.remoteDocumentCache=function(o){return new mge(o)}(o=>this.referenceDelegate.Ls(o)),this.serializer=new ige(r),this.qs=new hge(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new pge,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let o=this.$s[t.toKey()];return o||(o=new fge(r,this.referenceDelegate),this.$s[t.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,r,o){ze("MemoryPersistence","Starting transaction:",t);const s=new vge(this.Os.next());return this.referenceDelegate.Us(),o(s).next(u=>this.referenceDelegate.Ks(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Gs(t,r){return ye.or(Object.values(this.$s).map(o=>()=>o.containsKey(t,r)))}}class vge extends ome{constructor(t){super(),this.currentSequenceNumber=t}}class gD{constructor(t){this.persistence=t,this.Qs=new mD,this.js=null}static zs(t){return new gD(t)}get Ws(){if(this.js)return this.js;throw ot()}addReference(t,r,o){return this.Qs.addReference(o,r),this.Ws.delete(o.toString()),ye.resolve()}removeReference(t,r,o){return this.Qs.removeReference(o,r),this.Ws.add(o.toString()),ye.resolve()}markPotentiallyOrphaned(t,r){return this.Ws.add(r.toString()),ye.resolve()}removeTarget(t,r){this.Qs.Is(r.targetId).forEach(s=>this.Ws.add(s.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,r.targetId).next(s=>{s.forEach(u=>this.Ws.add(u.toString()))}).next(()=>o.removeTargetData(t,r))}Us(){this.js=new Set}Ks(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.Ws,o=>{const s=Ge.fromPath(o);return this.Hs(t,s).next(u=>{u||r.removeEntry(s,at.min())})}).next(()=>(this.js=null,r.apply(t)))}updateLimboDocument(t,r){return this.Hs(t,r).next(o=>{o?this.Ws.delete(r.toString()):this.Ws.add(r.toString())})}Ls(t){return 0}Hs(t,r){return ye.or([()=>ye.resolve(this.Qs.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Gs(t,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(t,r,o,s){this.targetId=t,this.fromCache=r,this.Fi=o,this.Bi=s}static Li(t,r){let o=wt(),s=wt();for(const u of r.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new bD(t,r.fromCache,o,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wge{constructor(){this.qi=!1}initialize(t,r){this.Ui=t,this.indexManager=r,this.qi=!0}getDocumentsMatchingQuery(t,r,o,s){return this.Ki(t,r).next(u=>u||this.Gi(t,r,s,o)).next(u=>u||this.Qi(t,r))}Ki(t,r){if(wF(r))return ye.resolve(null);let o=ba(r);return this.indexManager.getIndexType(t,o).next(s=>s===0?null:(r.limit!==null&&s===1&&(r=LE(r,null,"F"),o=ba(r)),this.indexManager.getDocumentsMatchingTarget(t,o).next(u=>{const h=wt(...u);return this.Ui.getDocuments(t,h).next(m=>this.indexManager.getMinOffset(t,o).next(f=>{const k=this.ji(r,m);return this.zi(r,k,h,f.readTime)?this.Ki(t,LE(r,null,"F")):this.Wi(t,k,r,f)}))})))}Gi(t,r,o,s){return wF(r)||s.isEqual(at.min())?this.Qi(t,r):this.Ui.getDocuments(t,o).next(u=>{const h=this.ji(r,u);return this.zi(r,h,o,s)?this.Qi(t,r):(uF()<=Lt.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),jE(r)),this.Wi(t,h,r,eme(s,-1)))})}ji(t,r){let o=new $r(bU(t));return r.forEach((s,u)=>{dy(t,u)&&(o=o.add(u))}),o}zi(t,r,o,s){if(t.limit===null)return!1;if(o.size!==r.size)return!0;const u=t.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Qi(t,r){return uF()<=Lt.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",jE(r)),this.Ui.getDocumentsMatchingQuery(t,r,vl.min())}Wi(t,r,o,s){return this.Ui.getDocumentsMatchingQuery(t,o,s).next(u=>(r.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yge{constructor(t,r,o,s){this.persistence=t,this.Hi=r,this.serializer=s,this.Ji=new Dn(Vt),this.Yi=new Oh(u=>aD(u),lD),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(o)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new dge(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ji))}}function _ge(e,t,r,o){return new yge(e,t,r,o)}async function FU(e,t){const r=dt(e);return await r.persistence.runTransaction("Handle user change","readonly",o=>{let s;return r.mutationQueue.getAllMutationBatches(o).next(u=>(s=u,r.tr(t),r.mutationQueue.getAllMutationBatches(o))).next(u=>{const h=[],m=[];let f=wt();for(const k of s){h.push(k.batchId);for(const v of k.mutations)f=f.add(v.key)}for(const k of u){m.push(k.batchId);for(const v of k.mutations)f=f.add(v.key)}return r.localDocuments.getDocuments(o,f).next(k=>({er:k,removedBatchIds:h,addedBatchIds:m}))})})}function Cge(e,t){const r=dt(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const s=t.batch.keys(),u=r.Zi.newChangeBuffer({trackRemovals:!0});return function(h,m,f,k){const v=f.batch,_=v.keys();let y=ye.resolve();return _.forEach(A=>{y=y.next(()=>k.getEntry(m,A)).next(S=>{const E=f.docVersions.get(A);kn(E!==null),S.version.compareTo(E)<0&&(v.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),k.addEntry(S)))})}),y.next(()=>h.mutationQueue.removeMutationBatch(m,v))}(r,o,t,u).next(()=>u.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,s,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(h){let m=wt();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(m=m.add(h.batch.mutations[f].key));return m}(t))).next(()=>r.localDocuments.getDocuments(o,s))})}function zU(e){const t=dt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Bs.getLastRemoteSnapshotVersion(r))}function Age(e,t){const r=dt(e),o=t.snapshotVersion;let s=r.Ji;return r.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=r.Zi.newChangeBuffer({trackRemovals:!0});s=r.Ji;const m=[];t.targetChanges.forEach((v,_)=>{const y=s.get(_);if(!y)return;m.push(r.Bs.removeMatchingKeys(u,v.removedDocuments,_).next(()=>r.Bs.addMatchingKeys(u,v.addedDocuments,_)));let A=y.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(_)!==null?A=A.withResumeToken(Wr.EMPTY_BYTE_STRING,at.min()).withLastLimboFreeSnapshotVersion(at.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,o)),s=s.insert(_,A),function(S,E,I){return S.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(y,A,v)&&m.push(r.Bs.updateTargetData(u,A))});let f=ka(),k=wt();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&m.push(r.persistence.referenceDelegate.updateLimboDocument(u,v))}),m.push(xge(u,h,t.documentUpdates).next(v=>{f=v.nr,k=v.sr})),!o.isEqual(at.min())){const v=r.Bs.getLastRemoteSnapshotVersion(u).next(_=>r.Bs.setTargetsMetadata(u,u.currentSequenceNumber,o));m.push(v)}return ye.waitFor(m).next(()=>h.apply(u)).next(()=>r.localDocuments.getLocalViewOfDocuments(u,f,k)).next(()=>f)}).then(u=>(r.Ji=s,u))}function xge(e,t,r){let o=wt(),s=wt();return r.forEach(u=>o=o.add(u)),t.getEntries(e,o).next(u=>{let h=ka();return r.forEach((m,f)=>{const k=u.get(m);f.isFoundDocument()!==k.isFoundDocument()&&(s=s.add(m)),f.isNoDocument()&&f.version.isEqual(at.min())?(t.removeEntry(m,f.readTime),h=h.insert(m,f)):!k.isValidDocument()||f.version.compareTo(k.version)>0||f.version.compareTo(k.version)===0&&k.hasPendingWrites?(t.addEntry(f),h=h.insert(m,f)):ze("LocalStore","Ignoring outdated watch update for ",m,". Current version:",k.version," Watch version:",f.version)}),{nr:h,sr:s}})}function Ege(e,t){const r=dt(e);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(t===void 0&&(t=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,t)))}function Sge(e,t){const r=dt(e);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let s;return r.Bs.getTargetData(o,t).next(u=>u?(s=u,ye.resolve(s)):r.Bs.allocateTargetId(o).next(h=>(s=new Ja(t,h,"TargetPurposeListen",o.currentSequenceNumber),r.Bs.addTargetData(o,s).next(()=>s))))}).then(o=>{const s=r.Ji.get(o.targetId);return(s===null||o.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.Ji=r.Ji.insert(o.targetId,o),r.Yi.set(t,o.targetId)),o})}async function UE(e,t,r){const o=dt(e),s=o.Ji.get(t),u=r?"readwrite":"readwrite-primary";try{r||await o.persistence.runTransaction("Release target",u,h=>o.persistence.referenceDelegate.removeTarget(h,s))}catch(h){if(!Dg(h))throw h;ze("LocalStore",`Failed to update sequence numbers for target ${t}: ${h}`)}o.Ji=o.Ji.remove(t),o.Yi.delete(s.target)}function MF(e,t,r){const o=dt(e);let s=at.min(),u=wt();return o.persistence.runTransaction("Execute query","readonly",h=>function(m,f,k){const v=dt(m),_=v.Yi.get(k);return _!==void 0?ye.resolve(v.Ji.get(_)):v.Bs.getTargetData(f,k)}(o,h,ba(t)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(h,m.targetId).next(f=>{u=f})}).next(()=>o.Hi.getDocumentsMatchingQuery(h,t,r?s:at.min(),r?u:wt())).next(m=>(Dge(o,wme(t),m),{documents:m,ir:u})))}function Dge(e,t,r){let o=e.Xi.get(t)||at.min();r.forEach((s,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),e.Xi.set(t,o)}class PF{constructor(){this.activeTargetIds=Eme()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Tge{constructor(){this.Hr=new PF,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,o){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,r,o){this.Jr[t]=r}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new PF,Promise.resolve()}handleUserChange(t,r,o){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ige{Yr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jk=null;function R1(){return Jk===null?Jk=268435456+Math.round(2147483648*Math.random()):Jk++,"0x"+Jk.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mge={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pge{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="WebChannelConnection";class Nge extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http";this.mo=r+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,r,o,s,u){const h=R1(),m=this.To(t,r);ze("RestConnection",`Sending RPC '${t}' ${h}:`,m,o);const f={};return this.Eo(f,s,u),this.Ao(t,m,f,o).then(k=>(ze("RestConnection",`Received RPC '${t}' ${h}: `,k),k),k=>{throw th("RestConnection",`RPC '${t}' ${h} failed with error: `,k,"url: ",m,"request:",o),k})}vo(t,r,o,s,u,h){return this.Io(t,r,o,s,u)}Eo(t,r,o){t["X-Goog-Api-Client"]="gl-js/ fire/"+Nh,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,u)=>t[u]=s),o&&o.headers.forEach((s,u)=>t[u]=s)}To(t,r){const o=Mge[t];return`${this.mo}/v1/${r}:${o}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,r,o,s){const u=R1();return new Promise((h,m)=>{const f=new Ufe;f.setWithCredentials(!0),f.listenOnce(zfe.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case P1.NO_ERROR:const v=f.getResponseJson();ze(Nr,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),h(v);break;case P1.TIMEOUT:ze(Nr,`RPC '${t}' ${u} timed out`),m(new Ne(he.DEADLINE_EXCEEDED,"Request time out"));break;case P1.HTTP_ERROR:const _=f.getStatus();if(ze(Nr,`RPC '${t}' ${u} failed with status:`,_,"response text:",f.getResponseText()),_>0){let y=f.getResponseJson();Array.isArray(y)&&(y=y[0]);const A=y==null?void 0:y.error;if(A&&A.status&&A.message){const S=function(E){const I=E.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(I)>=0?I:he.UNKNOWN}(A.status);m(new Ne(S,A.message))}else m(new Ne(he.UNKNOWN,"Server responded with status "+f.getStatus()))}else m(new Ne(he.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{ze(Nr,`RPC '${t}' ${u} completed.`)}});const k=JSON.stringify(s);ze(Nr,`RPC '${t}' ${u} sending request:`,s),f.send(r,"POST",k,o,15)})}Ro(t,r,o){const s=R1(),u=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=jfe(),m=Ffe(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},k=this.longPollingOptions.timeoutSeconds;k!==void 0&&(f.longPollingTimeout=Math.round(1e3*k)),this.useFetchStreams&&(f.xmlHttpFactory=new Vfe({})),this.Eo(f.initMessageHeaders,r,o),f.encodeInitMessageHeaders=!0;const v=u.join("");ze(Nr,`Creating RPC '${t}' stream ${s}: ${v}`,f);const _=h.createWebChannel(v,f);let y=!1,A=!1;const S=new Pge({ro:I=>{A?ze(Nr,`Not sending because RPC '${t}' stream ${s} is closed:`,I):(y||(ze(Nr,`Opening RPC '${t}' stream ${s} transport.`),_.open(),y=!0),ze(Nr,`RPC '${t}' stream ${s} sending:`,I),_.send(I))},oo:()=>_.close()}),E=(I,T,R)=>{I.listen(T,O=>{try{R(O)}catch(j){setTimeout(()=>{throw j},0)}})};return E(_,Kk.EventType.OPEN,()=>{A||ze(Nr,`RPC '${t}' stream ${s} transport opened.`)}),E(_,Kk.EventType.CLOSE,()=>{A||(A=!0,ze(Nr,`RPC '${t}' stream ${s} transport closed`),S.wo())}),E(_,Kk.EventType.ERROR,I=>{A||(A=!0,th(Nr,`RPC '${t}' stream ${s} transport errored:`,I),S.wo(new Ne(he.UNAVAILABLE,"The operation could not be completed")))}),E(_,Kk.EventType.MESSAGE,I=>{var T;if(!A){const R=I.data[0];kn(!!R);const O=R,j=O.error||((T=O[0])===null||T===void 0?void 0:T.error);if(j){ze(Nr,`RPC '${t}' stream ${s} received error:`,j);const $=j.status;let H=function(z){const q=Yn[z];if(q!==void 0)return IU(q)}($),P=j.message;H===void 0&&(H=he.INTERNAL,P="Unknown error status: "+$+" with message "+j.message),A=!0,S.wo(new Ne(H,P)),_.close()}else ze(Nr,`RPC '${t}' stream ${s} received:`,R),S._o(R)}}),E(m,$fe.STAT_EVENT,I=>{I.stat===lF.PROXY?ze(Nr,`RPC '${t}' stream ${s} detected buffering proxy`):I.stat===lF.NOPROXY&&ze(Nr,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.fo()},0),S}}function O1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(e){return new Wme(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(t,r,o=1e3,s=1.5,u=6e4){this.ii=t,this.timerId=r,this.Po=o,this.bo=s,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const r=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),s=Math.max(0,r-o);s>0&&ze("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(t,r,o,s,u,h,m,f){this.ii=t,this.$o=o,this.Oo=s,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=f,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new $U(t,r)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(t,r){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,t!==4?this.qo.reset():r&&r.code===he.RESOURCE_EXHAUSTED?(ga(r.toString()),ga("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):r&&r.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.ao(r)}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),r=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,s])=>{this.Fo===r&&this.Zo(o,s)},o=>{t(()=>{const s=new Ne(he.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(s)})})}Zo(t,r){const o=this.Xo(this.Fo);this.stream=this.eu(t,r),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{o(()=>this.tu(s))}),this.stream.onMessage(s=>{o(()=>this.onMessage(s))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(t){return ze("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return r=>{this.ii.enqueueAndForget(()=>this.Fo===t?r():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Rge extends VU{constructor(t,r,o,s,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,s,h),this.serializer=u}eu(t,r){return this.connection.Ro("Listen",t,r)}onMessage(t){this.qo.reset();const r=Kme(this.serializer,t),o=function(s){if(!("targetChange"in s))return at.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?at.min():u.readTime?_s(u.readTime):at.min()}(t);return this.listener.nu(r,o)}su(t){const r={};r.database=VE(this.serializer),r.addTarget=function(s,u){let h;const m=u.target;if(h=OE(m)?{documents:Zme(s,m)}:{query:Jme(s,m)},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=NU(s,u.resumeToken);const f=FE(s,u.expectedCount);f!==null&&(h.expectedCount=f)}else if(u.snapshotVersion.compareTo(at.min())>0){h.readTime=V0(s,u.snapshotVersion.toTimestamp());const f=FE(s,u.expectedCount);f!==null&&(h.expectedCount=f)}return h}(this.serializer,t);const o=ege(this.serializer,t);o&&(r.labels=o),this.Wo(r)}iu(t){const r={};r.database=VE(this.serializer),r.removeTarget=t,this.Wo(r)}}class Oge extends VU{constructor(t,r,o,s,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,s,h),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,r){return this.connection.Ro("Write",t,r)}onMessage(t){if(kn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const r=Qme(t.writeResults,t.commitTime),o=_s(t.commitTime);return this.listener.cu(o,r)}return kn(!t.writeResults||t.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const t={};t.database=VE(this.serializer),this.Wo(t)}uu(t){const r={streamToken:this.lastStreamToken,writes:t.map(o=>Yme(this.serializer,o))};this.Wo(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bge extends class{}{constructor(t,r,o,s){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=o,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new Ne(he.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Io(t,r,o,s,u)).catch(s=>{throw s.name==="FirebaseError"?(s.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ne(he.UNKNOWN,s.toString())})}vo(t,r,o,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.vo(t,r,o,u,h,s)).catch(u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ne(he.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class Lge{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,t==="Online"&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ga(r),this.mu=!1):ze("OnlineStateTracker",r)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jge{constructor(t,r,o,s,u){this.localStore=t,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(h=>{o.enqueueAndForget(async()=>{cu(this)&&(ze("RemoteStore","Restarting streams for network reachability change."),await async function(m){const f=dt(m);f.vu.add(4),await Mg(f),f.bu.set("Unknown"),f.vu.delete(4),await gy(f)}(this))})}),this.bu=new Lge(o,s)}}async function gy(e){if(cu(e))for(const t of e.Ru)await t(!0)}async function Mg(e){for(const t of e.Ru)await t(!1)}function UU(e,t){const r=dt(e);r.Au.has(t.targetId)||(r.Au.set(t.targetId,t),wD(r)?vD(r):Bh(r).Ko()&&kD(r,t))}function HU(e,t){const r=dt(e),o=Bh(r);r.Au.delete(t),o.Ko()&&WU(r,t),r.Au.size===0&&(o.Ko()?o.jo():cu(r)&&r.bu.set("Unknown"))}function kD(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(at.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Bh(e).su(t)}function WU(e,t){e.Vu.qt(t),Bh(e).iu(t)}function vD(e){e.Vu=new $me({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),Bh(e).start(),e.bu.gu()}function wD(e){return cu(e)&&!Bh(e).Uo()&&e.Au.size>0}function cu(e){return dt(e).vu.size===0}function qU(e){e.Vu=void 0}async function Fge(e){e.Au.forEach((t,r)=>{kD(e,t)})}async function zge(e,t){qU(e),wD(e)?(e.bu.Iu(t),vD(e)):e.bu.set("Unknown")}async function $ge(e,t,r){if(e.bu.set("Online"),t instanceof PU&&t.state===2&&t.cause)try{await async function(o,s){const u=s.cause;for(const h of s.targetIds)o.Au.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.Au.delete(h),o.Vu.removeTarget(h))}(e,t)}catch(o){ze("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),o),await U0(e,o)}else if(t instanceof Bv?e.Vu.Ht(t):t instanceof MU?e.Vu.ne(t):e.Vu.Xt(t),!r.isEqual(at.min()))try{const o=await zU(e.localStore);r.compareTo(o)>=0&&await function(s,u){const h=s.Vu.ce(u);return h.targetChanges.forEach((m,f)=>{if(m.resumeToken.approximateByteSize()>0){const k=s.Au.get(f);k&&s.Au.set(f,k.withResumeToken(m.resumeToken,u))}}),h.targetMismatches.forEach((m,f)=>{const k=s.Au.get(m);if(!k)return;s.Au.set(m,k.withResumeToken(Wr.EMPTY_BYTE_STRING,k.snapshotVersion)),WU(s,m);const v=new Ja(k.target,m,f,k.sequenceNumber);kD(s,v)}),s.remoteSyncer.applyRemoteEvent(h)}(e,r)}catch(o){ze("RemoteStore","Failed to raise snapshot:",o),await U0(e,o)}}async function U0(e,t,r){if(!Dg(t))throw t;e.vu.add(1),await Mg(e),e.bu.set("Offline"),r||(r=()=>zU(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ze("RemoteStore","Retrying IndexedDB access"),await r(),e.vu.delete(1),await gy(e)})}function GU(e,t){return t().catch(r=>U0(e,r,t))}async function by(e){const t=dt(e),r=yl(t);let o=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Vge(t);)try{const s=await Ege(t.localStore,o);if(s===null){t.Eu.length===0&&r.jo();break}o=s.batchId,Uge(t,s)}catch(s){await U0(t,s)}KU(t)&&YU(t)}function Vge(e){return cu(e)&&e.Eu.length<10}function Uge(e,t){e.Eu.push(t);const r=yl(e);r.Ko()&&r.ou&&r.uu(t.mutations)}function KU(e){return cu(e)&&!yl(e).Uo()&&e.Eu.length>0}function YU(e){yl(e).start()}async function Hge(e){yl(e).hu()}async function Wge(e){const t=yl(e);for(const r of e.Eu)t.uu(r.mutations)}async function qge(e,t,r){const o=e.Eu.shift(),s=dD.from(o,t,r);await GU(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await by(e)}async function Gge(e,t){t&&yl(e).ou&&await async function(r,o){if(s=o.code,jme(s)&&s!==he.ABORTED){const u=r.Eu.shift();yl(r).Qo(),await GU(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o)),await by(r)}var s}(e,t),KU(e)&&YU(e)}async function RF(e,t){const r=dt(e);r.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const o=cu(r);r.vu.add(3),await Mg(r),o&&r.bu.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.vu.delete(3),await gy(r)}async function Kge(e,t){const r=dt(e);t?(r.vu.delete(2),await gy(r)):t||(r.vu.add(2),await Mg(r),r.bu.set("Unknown"))}function Bh(e){return e.Su||(e.Su=function(t,r,o){const s=dt(t);return s.fu(),new Rge(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(e.datastore,e.asyncQueue,{uo:Fge.bind(null,e),ao:zge.bind(null,e),nu:$ge.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),wD(e)?vD(e):e.bu.set("Unknown")):(await e.Su.stop(),qU(e))})),e.Su}function yl(e){return e.Du||(e.Du=function(t,r,o){const s=dt(t);return s.fu(),new Oge(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(e.datastore,e.asyncQueue,{uo:Hge.bind(null,e),ao:Gge.bind(null,e),au:Wge.bind(null,e),cu:qge.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await by(e)):(await e.Du.stop(),e.Eu.length>0&&(ze("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))})),e.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(t,r,o,s,u){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=o,this.op=s,this.removalCallback=u,this.deferred=new ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(t,r,o,s,u){const h=Date.now()+o,m=new yD(t,r,h,s,u);return m.start(o),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(he.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _D(e,t){if(ga("AsyncQueue",`${t}: ${e}`),Dg(e))return new Ne(he.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(t){this.comparator=t?(r,o)=>t(r,o)||Ge.comparator(r.key,o.key):(r,o)=>Ge.comparator(r.key,o.key),this.keyedMap=Sf(),this.sortedSet=new Dn(this.comparator)}static emptySet(t){return new zd(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,o)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof zd)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),o=t.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,u=o.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const o=new zd;return o.comparator=this.comparator,o.keyedMap=t,o.sortedSet=r,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(){this.Cu=new Dn(Ge.comparator)}track(t){const r=t.doc.key,o=this.Cu.get(r);o?t.type!==0&&o.type===3?this.Cu=this.Cu.insert(r,t):t.type===3&&o.type!==1?this.Cu=this.Cu.insert(r,{type:o.type,doc:t.doc}):t.type===2&&o.type===2?this.Cu=this.Cu.insert(r,{type:2,doc:t.doc}):t.type===2&&o.type===0?this.Cu=this.Cu.insert(r,{type:0,doc:t.doc}):t.type===1&&o.type===0?this.Cu=this.Cu.remove(r):t.type===1&&o.type===2?this.Cu=this.Cu.insert(r,{type:1,doc:o.doc}):t.type===0&&o.type===1?this.Cu=this.Cu.insert(r,{type:2,doc:t.doc}):ot():this.Cu=this.Cu.insert(r,t)}xu(){const t=[];return this.Cu.inorderTraversal((r,o)=>{t.push(o)}),t}}class ah{constructor(t,r,o,s,u,h,m,f,k){this.query=t,this.docs=r,this.oldDocs=o,this.docChanges=s,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=f,this.hasCachedResults=k}static fromInitialDocuments(t,r,o,s,u){const h=[];return r.forEach(m=>{h.push({type:0,doc:m})}),new ah(t,r,zd.emptySet(r),h,o,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&uy(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,o=t.docChanges;if(r.length!==o.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==o[s].type||!r[s].doc.isEqual(o[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yge{constructor(){this.Nu=void 0,this.listeners=[]}}class Qge{constructor(){this.queries=new Oh(t=>gU(t),uy),this.onlineState="Unknown",this.ku=new Set}}async function CD(e,t){const r=dt(e),o=t.query;let s=!1,u=r.queries.get(o);if(u||(s=!0,u=new Yge),s)try{u.Nu=await r.onListen(o)}catch(h){const m=_D(h,`Initialization of query '${jE(t.query)}' failed`);return void t.onError(m)}r.queries.set(o,u),u.listeners.push(t),t.Mu(r.onlineState),u.Nu&&t.$u(u.Nu)&&xD(r)}async function AD(e,t){const r=dt(e),o=t.query;let s=!1;const u=r.queries.get(o);if(u){const h=u.listeners.indexOf(t);h>=0&&(u.listeners.splice(h,1),s=u.listeners.length===0)}if(s)return r.queries.delete(o),r.onUnlisten(o)}function Zge(e,t){const r=dt(e);let o=!1;for(const s of t){const u=s.query,h=r.queries.get(u);if(h){for(const m of h.listeners)m.$u(s)&&(o=!0);h.Nu=s}}o&&xD(r)}function Jge(e,t,r){const o=dt(e),s=o.queries.get(t);if(s)for(const u of s.listeners)u.onError(r);o.queries.delete(t)}function xD(e){e.ku.forEach(t=>{t.next()})}class ED{constructor(t,r,o){this.query=t,this.Ou=r,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(t){if(!this.options.includeMetadataChanges){const o=[];for(const s of t.docChanges)s.type!==3&&o.push(s);t=new ah(t.query,t.docs,t.oldDocs,o,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),r=!0):this.qu(t,this.onlineState)&&(this.Uu(t),r=!0),this.Bu=t,r}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let r=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),r=!0),r}qu(t,r){if(!t.fromCache)return!0;const o=r!=="Offline";return(!this.options.Ku||!o)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Lu(t){if(t.docChanges.length>0)return!0;const r=this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Uu(t){t=ah.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(t){this.key=t}}class ZU{constructor(t){this.key=t}}class Xge{constructor(t,r){this.query=t,this.Yu=r,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=wt(),this.mutatedKeys=wt(),this.tc=bU(t),this.ec=new zd(this.tc)}get nc(){return this.Yu}sc(t,r){const o=r?r.ic:new OF,s=r?r.ec:this.ec;let u=r?r.mutatedKeys:this.mutatedKeys,h=s,m=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,k=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((v,_)=>{const y=s.get(v),A=dy(this.query,_)?_:null,S=!!y&&this.mutatedKeys.has(y.key),E=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let I=!1;y&&A?y.data.isEqual(A.data)?S!==E&&(o.track({type:3,doc:A}),I=!0):this.rc(y,A)||(o.track({type:2,doc:A}),I=!0,(f&&this.tc(A,f)>0||k&&this.tc(A,k)<0)&&(m=!0)):!y&&A?(o.track({type:0,doc:A}),I=!0):y&&!A&&(o.track({type:1,doc:y}),I=!0,(f||k)&&(m=!0)),I&&(A?(h=h.add(A),u=E?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),o.track({type:1,doc:v})}return{ec:h,ic:o,zi:m,mutatedKeys:u}}rc(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,o){const s=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const u=t.ic.xu();u.sort((k,v)=>function(_,y){const A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return A(_)-A(y)}(k.type,v.type)||this.tc(k.doc,v.doc)),this.oc(o);const h=r?this.uc():[],m=this.Zu.size===0&&this.current?1:0,f=m!==this.Xu;return this.Xu=m,u.length!==0||f?{snapshot:new ah(this.query,t.ec,s,u,t.mutatedKeys,m===0,f,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:h}:{cc:h}}Mu(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new OF,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(r=>this.Yu=this.Yu.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Yu=this.Yu.delete(r)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=wt(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const r=[];return t.forEach(o=>{this.Zu.has(o)||r.push(new ZU(o))}),this.Zu.forEach(o=>{t.has(o)||r.push(new QU(o))}),r}hc(t){this.Yu=t.ir,this.Zu=wt();const r=this.sc(t.documents);return this.applyChanges(r,!0)}lc(){return ah.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class ebe{constructor(t,r,o){this.query=t,this.targetId=r,this.view=o}}class tbe{constructor(t){this.key=t,this.fc=!1}}class nbe{constructor(t,r,o,s,u,h){this.localStore=t,this.remoteStore=r,this.eventManager=o,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.dc={},this.wc=new Oh(m=>gU(m),uy),this._c=new Map,this.mc=new Set,this.gc=new Dn(Ge.comparator),this.yc=new Map,this.Ic=new mD,this.Tc={},this.Ec=new Map,this.Ac=sh.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function rbe(e,t){const r=pbe(e);let o,s;const u=r.wc.get(t);if(u)o=u.targetId,r.sharedClientState.addLocalQueryTarget(o),s=u.view.lc();else{const h=await Sge(r.localStore,ba(t)),m=r.sharedClientState.addLocalQueryTarget(h.targetId);o=h.targetId,s=await obe(r,t,o,m==="current",h.resumeToken),r.isPrimaryClient&&UU(r.remoteStore,h)}return s}async function obe(e,t,r,o,s){e.Rc=(_,y,A)=>async function(S,E,I,T){let R=E.view.sc(I);R.zi&&(R=await MF(S.localStore,E.query,!1).then(({documents:$})=>E.view.sc($,R)));const O=T&&T.targetChanges.get(E.targetId),j=E.view.applyChanges(R,S.isPrimaryClient,O);return LF(S,E.targetId,j.cc),j.snapshot}(e,_,y,A);const u=await MF(e.localStore,t,!0),h=new Xge(t,u.ir),m=h.sc(u.documents),f=Ig.createSynthesizedTargetChangeForCurrentChange(r,o&&e.onlineState!=="Offline",s),k=h.applyChanges(m,e.isPrimaryClient,f);LF(e,r,k.cc);const v=new ebe(t,r,h);return e.wc.set(t,v),e._c.has(r)?e._c.get(r).push(t):e._c.set(r,[t]),k.snapshot}async function ibe(e,t){const r=dt(e),o=r.wc.get(t),s=r._c.get(o.targetId);if(s.length>1)return r._c.set(o.targetId,s.filter(u=>!uy(u,t))),void r.wc.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await UE(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),HU(r.remoteStore,o.targetId),HE(r,o.targetId)}).catch(Sg)):(HE(r,o.targetId),await UE(r.localStore,o.targetId,!0))}async function sbe(e,t,r){const o=fbe(e);try{const s=await function(u,h){const m=dt(u),f=qn.now(),k=h.reduce((y,A)=>y.add(A.key),wt());let v,_;return m.persistence.runTransaction("Locally write mutations","readwrite",y=>{let A=ka(),S=wt();return m.Zi.getEntries(y,k).next(E=>{A=E,A.forEach((I,T)=>{T.isValidDocument()||(S=S.add(I))})}).next(()=>m.localDocuments.getOverlayedDocuments(y,A)).next(E=>{v=E;const I=[];for(const T of h){const R=Nme(T,v.get(T.key).overlayedDocument);R!=null&&I.push(new Nl(T.key,R,lU(R.value.mapValue),bi.exists(!0)))}return m.mutationQueue.addMutationBatch(y,f,I,h)}).next(E=>{_=E;const I=E.applyToLocalDocumentSet(v,S);return m.documentOverlayCache.saveOverlays(y,E.batchId,I)})}).then(()=>({batchId:_.batchId,changes:vU(v)}))}(o.localStore,t);o.sharedClientState.addPendingMutation(s.batchId),function(u,h,m){let f=u.Tc[u.currentUser.toKey()];f||(f=new Dn(Vt)),f=f.insert(h,m),u.Tc[u.currentUser.toKey()]=f}(o,s.batchId,r),await Pg(o,s.changes),await by(o.remoteStore)}catch(s){const u=_D(s,"Failed to persist write");r.reject(u)}}async function JU(e,t){const r=dt(e);try{const o=await Age(r.localStore,t);t.targetChanges.forEach((s,u)=>{const h=r.yc.get(u);h&&(kn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?h.fc=!0:s.modifiedDocuments.size>0?kn(h.fc):s.removedDocuments.size>0&&(kn(h.fc),h.fc=!1))}),await Pg(r,o,t)}catch(o){await Sg(o)}}function BF(e,t,r){const o=dt(e);if(o.isPrimaryClient&&r===0||!o.isPrimaryClient&&r===1){const s=[];o.wc.forEach((u,h)=>{const m=h.view.Mu(t);m.snapshot&&s.push(m.snapshot)}),function(u,h){const m=dt(u);m.onlineState=h;let f=!1;m.queries.forEach((k,v)=>{for(const _ of v.listeners)_.Mu(h)&&(f=!0)}),f&&xD(m)}(o.eventManager,t),s.length&&o.dc.nu(s),o.onlineState=t,o.isPrimaryClient&&o.sharedClientState.setOnlineState(t)}}async function abe(e,t,r){const o=dt(e);o.sharedClientState.updateQueryState(t,"rejected",r);const s=o.yc.get(t),u=s&&s.key;if(u){let h=new Dn(Ge.comparator);h=h.insert(u,Lr.newNoDocument(u,at.min()));const m=wt().add(u),f=new fy(at.min(),new Map,new Dn(Vt),h,m);await JU(o,f),o.gc=o.gc.remove(u),o.yc.delete(t),SD(o)}else await UE(o.localStore,t,!1).then(()=>HE(o,t,r)).catch(Sg)}async function lbe(e,t){const r=dt(e),o=t.batch.batchId;try{const s=await Cge(r.localStore,t);eH(r,o,null),XU(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),await Pg(r,s)}catch(s){await Sg(s)}}async function cbe(e,t,r){const o=dt(e);try{const s=await function(u,h){const m=dt(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let k;return m.mutationQueue.lookupMutationBatch(f,h).next(v=>(kn(v!==null),k=v.keys(),m.mutationQueue.removeMutationBatch(f,v))).next(()=>m.mutationQueue.performConsistencyCheck(f)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(f,k,h)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,k)).next(()=>m.localDocuments.getDocuments(f,k))})}(o.localStore,t);eH(o,t,r),XU(o,t),o.sharedClientState.updateMutationState(t,"rejected",r),await Pg(o,s)}catch(s){await Sg(s)}}function XU(e,t){(e.Ec.get(t)||[]).forEach(r=>{r.resolve()}),e.Ec.delete(t)}function eH(e,t,r){const o=dt(e);let s=o.Tc[o.currentUser.toKey()];if(s){const u=s.get(t);u&&(r?u.reject(r):u.resolve(),s=s.remove(t)),o.Tc[o.currentUser.toKey()]=s}}function HE(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const o of e._c.get(t))e.wc.delete(o),r&&e.dc.Pc(o,r);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(o=>{e.Ic.containsKey(o)||tH(e,o)})}function tH(e,t){e.mc.delete(t.path.canonicalString());const r=e.gc.get(t);r!==null&&(HU(e.remoteStore,r),e.gc=e.gc.remove(t),e.yc.delete(r),SD(e))}function LF(e,t,r){for(const o of r)o instanceof QU?(e.Ic.addReference(o.key,t),ube(e,o)):o instanceof ZU?(ze("SyncEngine","Document no longer in limbo: "+o.key),e.Ic.removeReference(o.key,t),e.Ic.containsKey(o.key)||tH(e,o.key)):ot()}function ube(e,t){const r=t.key,o=r.path.canonicalString();e.gc.get(r)||e.mc.has(o)||(ze("SyncEngine","New document in limbo: "+r),e.mc.add(o),SD(e))}function SD(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const r=new Ge(mn.fromString(t)),o=e.Ac.next();e.yc.set(o,new tbe(r)),e.gc=e.gc.insert(r,o),UU(e.remoteStore,new Ja(ba(ly(r.path)),o,"TargetPurposeLimboResolution",rD.ct))}}async function Pg(e,t,r){const o=dt(e),s=[],u=[],h=[];o.wc.isEmpty()||(o.wc.forEach((m,f)=>{h.push(o.Rc(f,t,r).then(k=>{if((k||r)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(f.targetId,k!=null&&k.fromCache?"not-current":"current"),k){s.push(k);const v=bD.Li(f.targetId,k);u.push(v)}}))}),await Promise.all(h),o.dc.nu(s),await async function(m,f){const k=dt(m);try{await k.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ye.forEach(f,_=>ye.forEach(_.Fi,y=>k.persistence.referenceDelegate.addReference(v,_.targetId,y)).next(()=>ye.forEach(_.Bi,y=>k.persistence.referenceDelegate.removeReference(v,_.targetId,y)))))}catch(v){if(!Dg(v))throw v;ze("LocalStore","Failed to update sequence numbers: "+v)}for(const v of f){const _=v.targetId;if(!v.fromCache){const y=k.Ji.get(_),A=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(A);k.Ji=k.Ji.insert(_,S)}}}(o.localStore,u))}async function dbe(e,t){const r=dt(e);if(!r.currentUser.isEqual(t)){ze("SyncEngine","User change. New user:",t.toKey());const o=await FU(r.localStore,t);r.currentUser=t,function(s,u){s.Ec.forEach(h=>{h.forEach(m=>{m.reject(new Ne(he.CANCELLED,u))})}),s.Ec.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),await Pg(r,o.er)}}function hbe(e,t){const r=dt(e),o=r.yc.get(t);if(o&&o.fc)return wt().add(o.key);{let s=wt();const u=r._c.get(t);if(!u)return s;for(const h of u){const m=r.wc.get(h);s=s.unionWith(m.view.nc)}return s}}function pbe(e){const t=dt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=JU.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hbe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=abe.bind(null,t),t.dc.nu=Zge.bind(null,t.eventManager),t.dc.Pc=Jge.bind(null,t.eventManager),t}function fbe(e){const t=dt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lbe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cbe.bind(null,t),t}class jF{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=my(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,r){return null}createIndexBackfillerScheduler(t,r){return null}createLocalStore(t){return _ge(this.persistence,new wge,t.initialUser,this.serializer)}createPersistence(t){return new kge(gD.zs,this.serializer)}createSharedClientState(t){return new Tge}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class mbe{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>BF(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=dbe.bind(null,this.syncEngine),await Kge(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Qge}createDatastore(t){const r=my(t.databaseInfo.databaseId),o=(s=t.databaseInfo,new Nge(s));var s;return function(u,h,m,f){return new Bge(u,h,m,f)}(t.authCredentials,t.appCheckCredentials,o,r)}createRemoteStore(t){return r=this.localStore,o=this.datastore,s=t.asyncQueue,u=m=>BF(this.syncEngine,m,0),h=NF.D()?new NF:new Ige,new jge(r,o,s,u,h);var r,o,s,u,h}createSyncEngine(t,r){return function(o,s,u,h,m,f,k){const v=new nbe(o,s,u,h,m,f);return k&&(v.vc=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return async function(t){const r=dt(t);ze("RemoteStore","RemoteStore shutting down."),r.vu.add(5),await Mg(r),r.Pu.shutdown(),r.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):ga("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,r){this.muted||setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gbe{constructor(t,r,o,s){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=s,this.user=Or.UNAUTHENTICATED,this.clientId=iU.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,async u=>{ze("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(o,u=>(ze("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=_D(r,"Failed to shutdown persistence");t.reject(o)}}),t.promise}}async function B1(e,t){e.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const r=await e.getConfiguration();await t.initialize(r);let o=r.initialUser;e.setCredentialChangeListener(async s=>{o.isEqual(s)||(await FU(t.localStore,s),o=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function FF(e,t){e.asyncQueue.verifyOperationInProgress();const r=await kbe(e);ze("FirestoreClient","Initializing OnlineComponentProvider");const o=await e.getConfiguration();await t.initialize(r,o),e.setCredentialChangeListener(s=>RF(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,u)=>RF(t.remoteStore,u)),e._onlineComponents=t}function bbe(e){return e.name==="FirebaseError"?e.code===he.FAILED_PRECONDITION||e.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function kbe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ze("FirestoreClient","Using user provided OfflineComponentProvider");try{await B1(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!bbe(r))throw r;th("Error using user provided cache. Falling back to memory cache: "+r),await B1(e,new jF)}}else ze("FirestoreClient","Using default OfflineComponentProvider"),await B1(e,new jF);return e._offlineComponents}async function nH(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ze("FirestoreClient","Using user provided OnlineComponentProvider"),await FF(e,e._uninitializedComponentsProvider._online)):(ze("FirestoreClient","Using default OnlineComponentProvider"),await FF(e,new mbe))),e._onlineComponents}function vbe(e){return nH(e).then(t=>t.syncEngine)}async function H0(e){const t=await nH(e),r=t.eventManager;return r.onListen=rbe.bind(null,t.syncEngine),r.onUnlisten=ibe.bind(null,t.syncEngine),r}function wbe(e,t,r={}){const o=new ia;return e.asyncQueue.enqueueAndForget(async()=>function(s,u,h,m,f){const k=new DD({next:_=>{u.enqueueAndForget(()=>AD(s,v));const y=_.docs.has(h);!y&&_.fromCache?f.reject(new Ne(he.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&_.fromCache&&m&&m.source==="server"?f.reject(new Ne(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),v=new ED(ly(h.path),k,{includeMetadataChanges:!0,Ku:!0});return CD(s,v)}(await H0(e),e.asyncQueue,t,r,o)),o.promise}function ybe(e,t,r={}){const o=new ia;return e.asyncQueue.enqueueAndForget(async()=>function(s,u,h,m,f){const k=new DD({next:_=>{u.enqueueAndForget(()=>AD(s,v)),_.fromCache&&m.source==="server"?f.reject(new Ne(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),v=new ED(h,k,{includeMetadataChanges:!0,Ku:!0});return CD(s,v)}(await H0(e),e.asyncQueue,t,r,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rH(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oH(e,t,r){if(!r)throw new Ne(he.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function _be(e,t,r,o){if(t===!0&&o===!0)throw new Ne(he.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function $F(e){if(!Ge.isDocumentKey(e))throw new Ne(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function VF(e){if(Ge.isDocumentKey(e))throw new Ne(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ky(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ot()}function ko(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ne(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=ky(e);throw new Ne(he.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(t){var r,o;if(t.host===void 0){if(t.ssl!==void 0)throw new Ne(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(r=t.ssl)===null||r===void 0||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Ne(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}_be("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rH((o=t.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ne(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ne(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ne(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(r=this.experimentalLongPollingOptions,o=t.experimentalLongPollingOptions,r.timeoutSeconds===o.timeoutSeconds)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams;var r,o}}class vy{constructor(t,r,o,s){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=o,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ne(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new Ne(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UF(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Wfe;switch(r.type){case"firstParty":return new Yfe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=zF.get(t);r&&(ze("ComponentProvider","Removing Datastore"),zF.delete(t),r.terminate())}(this),Promise.resolve()}}function Cbe(e,t,r,o={}){var s;const u=(e=ko(e,vy))._getSettings(),h=`${t}:${r}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&th("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),o.mockUserToken){let m,f;if(typeof o.mockUserToken=="string")m=o.mockUserToken,f=Or.MOCK_USER;else{m=g8(o.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const k=o.mockUserToken.sub||o.mockUserToken.user_id;if(!k)throw new Ne(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Or(k)}e._authCredentials=new qfe(new oU(m,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(t,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Vr(this.firestore,t,this._key)}}class Rl{constructor(t,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=t}withConverter(t){return new Rl(this.firestore,t,this._query)}}class hl extends Rl{constructor(t,r,o){super(t,r,ly(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Vr(this.firestore,null,new Ge(t))}withConverter(t){return new hl(this.firestore,t,this._path)}}function uu(e,t,...r){if(e=vn(e),oH("collection","path",t),e instanceof vy){const o=mn.fromString(t,...r);return VF(o),new hl(e,null,o)}{if(!(e instanceof Vr||e instanceof hl))throw new Ne(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=e._path.child(mn.fromString(t,...r));return VF(o),new hl(e.firestore,null,o)}}function Wo(e,t,...r){if(e=vn(e),arguments.length===1&&(t=iU.A()),oH("doc","path",t),e instanceof vy){const o=mn.fromString(t,...r);return $F(o),new Vr(e,null,new Ge(o))}{if(!(e instanceof Vr||e instanceof hl))throw new Ne(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=e._path.child(mn.fromString(t,...r));return $F(o),new Vr(e.firestore,e instanceof hl?e.converter:null,new Ge(o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Abe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new $U(this,"async_queue_retry"),this.Xc=()=>{const r=O1();r&&ze("AsyncQueue","Visibility state changed to "+r.visibilityState),this.qo.Mo()};const t=O1();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const r=O1();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const r=new ia;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(t){if(!Dg(t))throw t;ze("AsyncQueue","Operation failed with retryable error: "+t)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(t){const r=this.Gc.then(()=>(this.Hc=!0,t().catch(o=>{this.Wc=o,this.Hc=!1;const s=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(o);throw ga("INTERNAL UNHANDLED ERROR: ",s),o}).then(o=>(this.Hc=!1,o))));return this.Gc=r,r}enqueueAfterDelay(t,r,o){this.Zc(),this.Yc.indexOf(t)>-1&&(r=0);const s=yD.createAndSchedule(this,t,r,o,u=>this.na(u));return this.zc.push(s),s}Zc(){this.Wc&&ot()}verifyOperationInProgress(){}async sa(){let t;do t=this.Gc,await t;while(t!==this.Gc)}ia(t){for(const r of this.zc)if(r.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.zc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const r=this.zc.indexOf(t);this.zc.splice(r,1)}}function HF(e){return function(t,r){if(typeof t!="object"||t===null)return!1;const o=t;for(const s of r)if(s in o&&typeof o[s]=="function")return!0;return!1}(e,["next","error","complete"])}class va extends vy{constructor(t,r,o,s){super(t,r,o,s),this.type="firestore",this._queue=new Abe,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||iH(this),this._firestoreClient.terminate()}}function Co(e,t){const r=typeof e=="object"?e:E2(),o=typeof e=="string"?e:"(default)",s=zw(r,"firestore").getImmediate({identifier:o});if(!s._initialized){const u=p8("firestore");u&&Cbe(s,...u)}return s}function wy(e){return e._firestoreClient||iH(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function iH(e){var t,r,o;const s=e._freezeSettings(),u=function(h,m,f,k){return new ame(h,m,f,k.host,k.ssl,k.experimentalForceLongPolling,k.experimentalAutoDetectLongPolling,rH(k.experimentalLongPollingOptions),k.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new gbe(e._authCredentials,e._appCheckCredentials,e._queue,u),!((r=s.cache)===null||r===void 0)&&r._offlineComponentProvider&&(!((o=s.cache)===null||o===void 0)&&o._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t){this._byteString=t}static fromBase64String(t){try{return new lh(Wr.fromBase64String(t))}catch(r){throw new Ne(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new lh(Wr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Ne(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Ne(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Ne(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xbe=/^__.*__$/;class Ebe{constructor(t,r,o){this.data=t,this.fieldMask=r,this.fieldTransforms=o}toMutation(t,r){return this.fieldMask!==null?new Nl(t,this.data,this.fieldMask,r,this.fieldTransforms):new Tg(t,this.data,r,this.fieldTransforms)}}class sH{constructor(t,r,o){this.data=t,this.fieldMask=r,this.fieldTransforms=o}toMutation(t,r){return new Nl(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function aH(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class _y{constructor(t,r,o,s,u,h){this.settings=t,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=s,u===void 0&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new _y(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var r;const o=(r=this.path)===null||r===void 0?void 0:r.child(t),s=this.aa({path:o,la:!1});return s.fa(t),s}da(t){var r;const o=(r=this.path)===null||r===void 0?void 0:r.child(t),s=this.aa({path:o,la:!1});return s.ua(),s}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return W0(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(t.length===0)throw this._a("Document fields must not be empty");if(aH(this.ca)&&xbe.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class Sbe{constructor(t,r,o){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=o||my(t)}ya(t,r,o,s=!1){return new _y({ca:t,methodName:r,ga:o,path:jr.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cy(e){const t=e._freezeSettings(),r=my(e._databaseId);return new Sbe(e._databaseId,!!t.ignoreUndefinedProperties,r)}function lH(e,t,r,o,s,u={}){const h=e.ya(u.merge||u.mergeFields?2:0,t,r,s);MD("Data must be an object, but it was:",h,o);const m=cH(o,h);let f,k;if(u.merge)f=new jo(h.fieldMask),k=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const _ of u.mergeFields){const y=WE(t,_,r);if(!h.contains(y))throw new Ne(he.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);dH(v,y)||v.push(y)}f=new jo(v),k=h.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,k=h.fieldTransforms;return new Ebe(new po(m),f,k)}class Ay extends Ng{_toFieldTransform(t){if(t.ca!==2)throw t.ca===1?t._a(`${this._methodName}() can only appear at the top level of your update data`):t._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ay}}function Dbe(e,t,r){return new _y({ca:3,ga:t.settings.ga,methodName:e._methodName,la:r},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class ID extends Ng{_toFieldTransform(t){return new SU(t.path,new $m)}isEqual(t){return t instanceof ID}}class Tbe extends Ng{constructor(t,r){super(t),this.pa=r}_toFieldTransform(t){const r=Dbe(this,t,!0),o=this.pa.map(u=>Lh(u,r)),s=new ih(o);return new SU(t.path,s)}isEqual(t){return this===t}}function Ibe(e,t,r,o){const s=e.ya(1,t,r);MD("Data must be an object, but it was:",s,o);const u=[],h=po.empty();lu(o,(f,k)=>{const v=PD(t,f,r);k=vn(k);const _=s.da(v);if(k instanceof Ay)u.push(v);else{const y=Lh(k,_);y!=null&&(u.push(v),h.set(v,y))}});const m=new jo(u);return new sH(h,m,s.fieldTransforms)}function Mbe(e,t,r,o,s,u){const h=e.ya(1,t,r),m=[WE(t,o,r)],f=[s];if(u.length%2!=0)throw new Ne(he.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<u.length;y+=2)m.push(WE(t,u[y])),f.push(u[y+1]);const k=[],v=po.empty();for(let y=m.length-1;y>=0;--y)if(!dH(k,m[y])){const A=m[y];let S=f[y];S=vn(S);const E=h.da(A);if(S instanceof Ay)k.push(A);else{const I=Lh(S,E);I!=null&&(k.push(A),v.set(A,I))}}const _=new jo(k);return new sH(v,_,h.fieldTransforms)}function Pbe(e,t,r,o=!1){return Lh(r,e.ya(o?4:3,t))}function Lh(e,t){if(uH(e=vn(e)))return MD("Unsupported field value:",t,e),cH(e,t);if(e instanceof Ng)return function(r,o){if(!aH(o.ca))throw o._a(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(o);s&&o.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&t.ca!==4)throw t._a("Nested arrays are not supported");return function(r,o){const s=[];let u=0;for(const h of r){let m=Lh(h,o.wa(u));m==null&&(m={nullValue:"NULL_VALUE"}),s.push(m),u++}return{arrayValue:{values:s}}}(e,t)}return function(r,o){if((r=vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Sme(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=qn.fromDate(r);return{timestampValue:V0(o.serializer,s)}}if(r instanceof qn){const s=new qn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:V0(o.serializer,s)}}if(r instanceof TD)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lh)return{bytesValue:NU(o.serializer,r._byteString)};if(r instanceof Vr){const s=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(s))throw o._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:fD(r.firestore._databaseId||o.databaseId,r._key.path)}}throw o._a(`Unsupported field value: ${ky(r)}`)}(e,t)}function cH(e,t){const r={};return sU(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lu(e,(o,s)=>{const u=Lh(s,t.ha(o));u!=null&&(r[o]=u)}),{mapValue:{fields:r}}}function uH(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof qn||e instanceof TD||e instanceof lh||e instanceof Vr||e instanceof Ng)}function MD(e,t,r){if(!uH(r)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(r)){const o=ky(r);throw o==="an object"?t._a(e+" a custom object"):t._a(e+" "+o)}}function WE(e,t,r){if((t=vn(t))instanceof yy)return t._internalPath;if(typeof t=="string")return PD(e,t);throw W0("Field path arguments must be of type string or ",e,!1,void 0,r)}const Nbe=new RegExp("[~\\*/\\[\\]]");function PD(e,t,r){if(t.search(Nbe)>=0)throw W0(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new yy(...t.split("."))._internalPath}catch{throw W0(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function W0(e,t,r,o,s){const u=o&&!o.isEmpty(),h=s!==void 0;let m=`Function ${t}() called with invalid data`;r&&(m+=" (via `toFirestore()`)"),m+=". ";let f="";return(u||h)&&(f+=" (found",u&&(f+=` in field ${o}`),h&&(f+=` in document ${s}`),f+=")"),new Ne(he.INVALID_ARGUMENT,m+e+f)}function dH(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(t,r,o,s,u){this._firestore=t,this._userDataWriter=r,this._key=o,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Vr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Rbe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(xy("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Rbe extends hH{data(){return super.data()}}function xy(e,t){return typeof t=="string"?PD(e,t):t instanceof yy?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pH(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Ne(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ND{}class fH extends ND{}function mH(e,t,...r){let o=[];t instanceof ND&&o.push(t),o=o.concat(r),function(s){const u=s.filter(m=>m instanceof RD).length,h=s.filter(m=>m instanceof Ey).length;if(u>1||u>0&&h>0)throw new Ne(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const s of o)e=s._apply(e);return e}class Ey extends fH{constructor(t,r,o){super(),this._field=t,this._op=r,this._value=o,this.type="where"}static _create(t,r,o){return new Ey(t,r,o)}_apply(t){const r=this._parse(t);return gH(t._query,r),new Rl(t.firestore,t.converter,BE(t._query,r))}_parse(t){const r=Cy(t.firestore);return function(s,u,h,m,f,k,v){let _;if(f.isKeyField()){if(k==="array-contains"||k==="array-contains-any")throw new Ne(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${k}' queries on documentId().`);if(k==="in"||k==="not-in"){GF(v,k);const y=[];for(const A of v)y.push(qF(m,s,A));_={arrayValue:{values:y}}}else _=qF(m,s,v)}else k!=="in"&&k!=="not-in"&&k!=="array-contains-any"||GF(v,k),_=Pbe(h,u,v,k==="in"||k==="not-in");return Xn.create(f,k,_)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function WF(e,t,r){const o=t,s=xy("where",e);return Ey._create(s,o,r)}class RD extends ND{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new RD(t,r)}_parse(t){const r=this._queryConstraints.map(o=>o._parse(t)).filter(o=>o.getFilters().length>0);return r.length===1?r[0]:Wi.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(o,s){let u=o;const h=s.getFlattenedFilters();for(const m of h)gH(u,m),u=BE(u,m)}(t._query,r),new Rl(t.firestore,t.converter,BE(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class OD extends fH{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new OD(t,r)}_apply(t){const r=function(o,s,u){if(o.startAt!==null)throw new Ne(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Ne(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new jd(s,u);return function(m,f){if(cD(m)===null){const k=cy(m);k!==null&&bH(m,k,f.field)}}(o,h),h}(t._query,this._field,this._direction);return new Rl(t.firestore,t.converter,function(o,s){const u=o.explicitOrderBy.concat([s]);return new Rh(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,r))}}function Obe(e,t="asc"){const r=t,o=xy("orderBy",e);return OD._create(o,r)}function qF(e,t,r){if(typeof(r=vn(r))=="string"){if(r==="")throw new Ne(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mU(t)&&r.indexOf("/")!==-1)throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=t.path.child(mn.fromString(r));if(!Ge.isDocumentKey(o))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return fF(e,new Ge(o))}if(r instanceof Vr)return fF(e,r._key);throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ky(r)}.`)}function GF(e,t){if(!Array.isArray(e)||e.length===0)throw new Ne(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function gH(e,t){if(t.isInequality()){const o=cy(e),s=t.field;if(o!==null&&!o.isEqual(s))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${s.toString()}'`);const u=cD(e);u!==null&&bH(e,s,u)}const r=function(o,s){for(const u of o)for(const h of u.getFlattenedFilters())if(s.indexOf(h.op)>=0)return h.op;return null}(e.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Ne(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ne(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}function bH(e,t,r){if(!r.isEqual(t))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class Bbe{convertValue(t,r="none"){switch(Gc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Qn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(qc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 10:return this.convertObject(t.mapValue,r);default:throw ot()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const o={};return lu(t,(s,u)=>{o[s]=this.convertValue(u,r)}),o}convertGeoPoint(t){return new TD(Qn(t.latitude),Qn(t.longitude))}convertArray(t,r){return(t.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(t,r){switch(r){case"previous":const o=iD(t);return o==null?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(jm(t));default:return null}}convertTimestamp(t){const r=wl(t);return new qn(r.seconds,r.nanos)}convertDocumentKey(t,r){const o=mn.fromString(t);kn(jU(o));const s=new Fm(o.get(1),o.get(3)),u=new Ge(o.popFirst(5));return s.isEqual(r)||ga(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kH(e,t,r){let o;return o=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class vH extends hH{constructor(t,r,o,s,u,h){super(t,r,o,s,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Lv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const o=this._document.data.field(xy("DocumentSnapshot.get",t));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class Lv extends vH{data(t={}){return super.data(t)}}class wH{constructor(t,r,o,s){this._firestore=t,this._userDataWriter=r,this._snapshot=s,this.metadata=new Tf(s.hasPendingWrites,s.fromCache),this.query=o}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(o=>{t.call(r,new Lv(this._firestore,this._userDataWriter,o.key,o,new Tf(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ne(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,s){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>{const m=new Lv(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Tf(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>s||h.type!==3).map(h=>{const m=new Lv(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Tf(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let f=-1,k=-1;return h.type!==0&&(f=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),k=u.indexOf(h.doc.key)),{type:Lbe(h.type),doc:m,oldIndex:f,newIndex:k}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Lbe(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(e){e=ko(e,Vr);const t=ko(e.firestore,va);return wbe(wy(t),e._key).then(r=>_H(t,e,r))}class BD extends Bbe{constructor(t){super(),this.firestore=t}convertBytes(t){return new lh(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Vr(this.firestore,null,r)}}function Rg(e){e=ko(e,Rl);const t=ko(e.firestore,va),r=wy(t),o=new BD(t);return pH(e._query),ybe(r,e._query).then(s=>new wH(t,o,e,s))}function jbe(e,t,r){e=ko(e,Vr);const o=ko(e.firestore,va),s=kH(e.converter,t,r);return Sy(o,[lH(Cy(o),"setDoc",e._key,s,e.converter!==null,r).toMutation(e._key,bi.none())])}function du(e,t,r,...o){e=ko(e,Vr);const s=ko(e.firestore,va),u=Cy(s);let h;return h=typeof(t=vn(t))=="string"||t instanceof yy?Mbe(u,"updateDoc",e._key,t,r,o):Ibe(u,"updateDoc",e._key,t),Sy(s,[h.toMutation(e._key,bi.exists(!0))])}function Fbe(e){return Sy(ko(e.firestore,va),[new uD(e._key,bi.none())])}function yH(e,t){const r=ko(e.firestore,va),o=Wo(e),s=kH(e.converter,t);return Sy(r,[lH(Cy(e.firestore),"addDoc",o._key,s,e.converter!==null,{}).toMutation(o._key,bi.exists(!1))]).then(()=>o)}function NBe(e,...t){var r,o,s;e=vn(e);let u={includeMetadataChanges:!1},h=0;typeof t[h]!="object"||HF(t[h])||(u=t[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges};if(HF(t[h])){const _=t[h];t[h]=(r=_.next)===null||r===void 0?void 0:r.bind(_),t[h+1]=(o=_.error)===null||o===void 0?void 0:o.bind(_),t[h+2]=(s=_.complete)===null||s===void 0?void 0:s.bind(_)}let f,k,v;if(e instanceof Vr)k=ko(e.firestore,va),v=ly(e._key.path),f={next:_=>{t[h]&&t[h](_H(k,e,_))},error:t[h+1],complete:t[h+2]};else{const _=ko(e,Rl);k=ko(_.firestore,va),v=_._query;const y=new BD(k);f={next:A=>{t[h]&&t[h](new wH(k,y,_,A))},error:t[h+1],complete:t[h+2]},pH(e._query)}return function(_,y,A,S){const E=new DD(S),I=new ED(y,E,A);return _.asyncQueue.enqueueAndForget(async()=>CD(await H0(_),I)),()=>{E.Dc(),_.asyncQueue.enqueueAndForget(async()=>AD(await H0(_),I))}}(wy(k),v,m,f)}function Sy(e,t){return function(r,o){const s=new ia;return r.asyncQueue.enqueueAndForget(async()=>sbe(await vbe(r),o,s)),s.promise}(wy(e),t)}function _H(e,t,r){const o=r.docs.get(t._key),s=new BD(e);return new vH(e,s,t._key,o,new Tf(r.hasPendingWrites,r.fromCache),t.converter)}function Kf(){return new ID("serverTimestamp")}function CH(...e){return new Tbe("arrayUnion",e)}(function(e,t=!0){(function(r){Nh=r})(su),Uc(new kl("firestore",(r,{instanceIdentifier:o,options:s})=>{const u=r.getProvider("app").getImmediate(),h=new va(new Gfe(r.getProvider("auth-internal")),new Zfe(r.getProvider("app-check-internal")),function(m,f){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ne(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fm(m.options.projectId,f)}(u,o),u);return s=Object.assign({useFetchStreams:t},s),h._setSettings(s),h},"PUBLIC").setMultipleInstances(!0)),vs(cF,"3.13.0",e),vs(cF,"3.13.0","esm2017")})();var zbe="firebase",$be="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs(zbe,$be,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH="firebasestorage.googleapis.com",xH="storageBucket",Vbe=2*60*1e3,Ube=10*60*1e3,Hbe=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn extends Ns{constructor(t,r,o=0){super(L1(t),`Firebase Storage: ${r} (${L1(t)})`),this.status_=o,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tn.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return L1(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wn;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wn||(wn={}));function L1(e){return"storage/"+e}function LD(){const e="An unknown error occurred, please check the error payload for server response.";return new Tn(wn.UNKNOWN,e)}function Wbe(e){return new Tn(wn.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function qbe(e){return new Tn(wn.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Gbe(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Tn(wn.UNAUTHENTICATED,e)}function Kbe(){return new Tn(wn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Ybe(e){return new Tn(wn.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function EH(){return new Tn(wn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function SH(){return new Tn(wn.CANCELED,"User canceled the upload/download.")}function Qbe(e){return new Tn(wn.INVALID_URL,"Invalid URL '"+e+"'.")}function Zbe(e){return new Tn(wn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Jbe(){return new Tn(wn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+xH+"' property when initializing the app?")}function DH(){return new Tn(wn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Xbe(){return new Tn(wn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function eke(){return new Tn(wn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function tke(e){return new Tn(wn.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function qE(e){return new Tn(wn.INVALID_ARGUMENT,e)}function TH(){return new Tn(wn.APP_DELETED,"The Firebase app was deleted.")}function nke(e){return new Tn(wn.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yf(e,t){return new Tn(wn.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Xp(e){throw new Tn(wn.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let o;try{o=Fo.makeFromUrl(t,r)}catch{return new Fo(t,"")}if(o.path==="")return o;throw Zbe(t)}static makeFromUrl(t,r){let o=null;const s="([A-Za-z0-9.\\-_]+)";function u(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+s+h,"i"),f={bucket:1,path:3};function k(j){j.path_=decodeURIComponent(j.path)}const v="v[A-Za-z0-9_]+",_=r.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",A=new RegExp(`^https?://${_}/${v}/b/${s}/o${y}`,"i"),S={bucket:1,path:3},E=r===AH?"(?:storage.googleapis.com|storage.cloud.google.com)":r,I="([^?#]*)",T=new RegExp(`^https?://${E}/${s}/${I}`,"i"),O=[{regex:m,indices:f,postModify:u},{regex:A,indices:S,postModify:k},{regex:T,indices:{bucket:1,path:2},postModify:k}];for(let j=0;j<O.length;j++){const $=O[j],H=$.regex.exec(t);if(H){const P=H[$.indices.bucket];let z=H[$.indices.path];z||(z=""),o=new Fo(P,z),$.postModify(o);break}}if(o==null)throw Qbe(t);return o}}class rke{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oke(e,t,r){let o=1,s=null,u=null,h=!1,m=0;function f(){return m===2}let k=!1;function v(...I){k||(k=!0,t.apply(null,I))}function _(I){s=setTimeout(()=>{s=null,e(A,f())},I)}function y(){u&&clearTimeout(u)}function A(I,...T){if(k){y();return}if(I){y(),v.call(null,I,...T);return}if(f()||h){y(),v.call(null,I,...T);return}o<64&&(o*=2);let O;m===1?(m=2,O=0):O=(o+Math.random())*1e3,_(O)}let S=!1;function E(I){S||(S=!0,y(),!k&&(s!==null?(I||(m=2),clearTimeout(s),_(0)):I||(m=1)))}return _(0),u=setTimeout(()=>{h=!0,E(!0)},r),E}function ike(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ske(e){return e!==void 0}function ake(e){return typeof e=="function"}function lke(e){return typeof e=="object"&&!Array.isArray(e)}function Dy(e){return typeof e=="string"||e instanceof String}function KF(e){return jD()&&e instanceof Blob}function jD(){return typeof Blob<"u"&&!vue()}function YF(e,t,r,o){if(o<t)throw qE(`Invalid value for '${e}'. Expected ${t} or greater.`);if(o>r)throw qE(`Invalid value for '${e}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(e,t,r){let o=t;return r==null&&(o=`https://${t}`),`${r}://${o}/v0${e}`}function IH(e){const t=encodeURIComponent;let r="?";for(const o in e)if(e.hasOwnProperty(o)){const s=t(o)+"="+t(e[o]);r=r+s+"&"}return r=r.slice(0,-1),r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ic;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Ic||(Ic={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MH(e,t){const r=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,u=t.indexOf(e)!==-1;return r||s||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cke{constructor(t,r,o,s,u,h,m,f,k,v,_,y=!0){this.url_=t,this.method_=r,this.headers_=o,this.body_=s,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=f,this.timeout_=k,this.progressCallback_=v,this.connectionFactory_=_,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,S)=>{this.resolve_=A,this.reject_=S,this.start_()})}start_(){const t=(o,s)=>{if(s){o(!1,new Xk(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const f=m.loaded,k=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,k)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===Ic.NO_ERROR,f=u.getStatus();if(!m||MH(f,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===Ic.ABORT;o(!1,new Xk(!1,null,v));return}const k=this.successCodes_.indexOf(f)!==-1;o(!0,new Xk(k,u))})},r=(o,s)=>{const u=this.resolve_,h=this.reject_,m=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(m,m.getResponse());ske(f)?u(f):u()}catch(f){h(f)}else if(m!==null){const f=LD();f.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,f)):h(f)}else if(s.canceled){const f=this.appDelete_?TH():SH();h(f)}else{const f=EH();h(f)}};this.canceled_?r(!1,new Xk(!1,null,!0)):this.backoffId_=oke(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&ike(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xk{constructor(t,r,o){this.wasSuccessCode=t,this.connection=r,this.canceled=!!o}}function uke(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function dke(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function hke(e,t){t&&(e["X-Firebase-GMPID"]=t)}function pke(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function fke(e,t,r,o,s,u,h=!0){const m=IH(e.urlParams),f=e.url+m,k=Object.assign({},e.headers);return hke(k,t),uke(k,r),dke(k,u),pke(k,o),new cke(f,e.method,k,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mke(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function gke(...e){const t=mke();if(t!==void 0){const r=new t;for(let o=0;o<e.length;o++)r.append(e[o]);return r.getBlob()}else{if(jD())return new Blob(e);throw new Tn(wn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function bke(e,t,r){return e.webkitSlice?e.webkitSlice(t,r):e.mozSlice?e.mozSlice(t,r):e.slice?e.slice(t,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kke(e){if(typeof atob>"u")throw tke("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class j1{constructor(t,r){this.data=t,this.contentType=r||null}}function vke(e,t){switch(e){case ms.RAW:return new j1(PH(t));case ms.BASE64:case ms.BASE64URL:return new j1(NH(e,t));case ms.DATA_URL:return new j1(yke(t),_ke(t))}throw LD()}function PH(e){const t=[];for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);if(o<=127)t.push(o);else if(o<=2047)t.push(192|o>>6,128|o&63);else if((o&64512)===55296)if(!(r<e.length-1&&(e.charCodeAt(r+1)&64512)===56320))t.push(239,191,189);else{const u=o,h=e.charCodeAt(++r);o=65536|(u&1023)<<10|h&1023,t.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|o&63)}else(o&64512)===56320?t.push(239,191,189):t.push(224|o>>12,128|o>>6&63,128|o&63)}return new Uint8Array(t)}function wke(e){let t;try{t=decodeURIComponent(e)}catch{throw Yf(ms.DATA_URL,"Malformed data URL.")}return PH(t)}function NH(e,t){switch(e){case ms.BASE64:{const s=t.indexOf("-")!==-1,u=t.indexOf("_")!==-1;if(s||u)throw Yf(e,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case ms.BASE64URL:{const s=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(s||u)throw Yf(e,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=kke(t)}catch(s){throw s.message.includes("polyfill")?s:Yf(e,"Invalid character found")}const o=new Uint8Array(r.length);for(let s=0;s<r.length;s++)o[s]=r.charCodeAt(s);return o}class RH{constructor(t){this.base64=!1,this.contentType=null;const r=t.match(/^data:([^,]+)?,/);if(r===null)throw Yf(ms.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const o=r[1]||null;o!=null&&(this.base64=Cke(o,";base64"),this.contentType=this.base64?o.substring(0,o.length-7):o),this.rest=t.substring(t.indexOf(",")+1)}}function yke(e){const t=new RH(e);return t.base64?NH(ms.BASE64,t.rest):wke(t.rest)}function _ke(e){return new RH(e).contentType}function Cke(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t,r){let o=0,s="";KF(t)?(this.data_=t,o=t.size,s=t.type):t instanceof ArrayBuffer?(r?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),o=this.data_.length):t instanceof Uint8Array&&(r?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),o=t.length),this.size_=o,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,r){if(KF(this.data_)){const o=this.data_,s=bke(o,t,r);return s===null?null:new Zs(s)}else{const o=new Uint8Array(this.data_.buffer,t,r-t);return new Zs(o,!0)}}static getBlob(...t){if(jD()){const r=t.map(o=>o instanceof Zs?o.data_:o);return new Zs(gke.apply(null,r))}else{const r=t.map(h=>Dy(h)?vke(ms.RAW,h).data:h.data_);let o=0;r.forEach(h=>{o+=h.byteLength});const s=new Uint8Array(o);let u=0;return r.forEach(h=>{for(let m=0;m<h.length;m++)s[u++]=h[m]}),new Zs(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OH(e){let t;try{t=JSON.parse(e)}catch{return null}return lke(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ake(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function xke(e,t){const r=t.split("/").filter(o=>o.length>0).join("/");return e.length===0?r:e+"/"+r}function BH(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eke(e,t){return t}class Kr{constructor(t,r,o,s){this.server=t,this.local=r||t,this.writable=!!o,this.xform=s||Eke}}let ev=null;function Ske(e){return!Dy(e)||e.length<2?e:BH(e)}function FD(){if(ev)return ev;const e=[];e.push(new Kr("bucket")),e.push(new Kr("generation")),e.push(new Kr("metageneration")),e.push(new Kr("name","fullPath",!0));function t(u,h){return Ske(h)}const r=new Kr("name");r.xform=t,e.push(r);function o(u,h){return h!==void 0?Number(h):h}const s=new Kr("size");return s.xform=o,e.push(s),e.push(new Kr("timeCreated")),e.push(new Kr("updated")),e.push(new Kr("md5Hash",null,!0)),e.push(new Kr("cacheControl",null,!0)),e.push(new Kr("contentDisposition",null,!0)),e.push(new Kr("contentEncoding",null,!0)),e.push(new Kr("contentLanguage",null,!0)),e.push(new Kr("contentType",null,!0)),e.push(new Kr("metadata","customMetadata",!0)),ev=e,ev}function Dke(e,t){function r(){const o=e.bucket,s=e.fullPath,u=new Fo(o,s);return t._makeStorageReference(u)}Object.defineProperty(e,"ref",{get:r})}function Tke(e,t,r){const o={};o.type="file";const s=r.length;for(let u=0;u<s;u++){const h=r[u];o[h.local]=h.xform(o,t[h.server])}return Dke(o,e),o}function LH(e,t,r){const o=OH(t);return o===null?null:Tke(e,o,r)}function Ike(e,t,r,o){const s=OH(t);if(s===null||!Dy(s.downloadTokens))return null;const u=s.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(k=>{const v=e.bucket,_=e.fullPath,y="/b/"+h(v)+"/o/"+h(_),A=Fh(y,r,o),S=IH({alt:"media",token:k});return A+S})[0]}function jH(e,t){const r={},o=t.length;for(let s=0;s<o;s++){const u=t[s];u.writable&&(r[u.server]=e[u.local])}return JSON.stringify(r)}class hu{constructor(t,r,o,s){this.url=t,this.method=r,this.handler=o,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(e){if(!e)throw LD()}function zD(e,t){function r(o,s){const u=LH(e,s,t);return sa(u!==null),u}return r}function Mke(e,t){function r(o,s){const u=LH(e,s,t);return sa(u!==null),Ike(u,s,e.host,e._protocol)}return r}function Og(e){function t(r,o){let s;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?s=Kbe():s=Gbe():r.getStatus()===402?s=qbe(e.bucket):r.getStatus()===403?s=Ybe(e.path):s=o,s.status=r.getStatus(),s.serverResponse=o.serverResponse,s}return t}function $D(e){const t=Og(e);function r(o,s){let u=t(o,s);return o.getStatus()===404&&(u=Wbe(e.path)),u.serverResponse=s.serverResponse,u}return r}function Pke(e,t,r){const o=t.fullServerUrl(),s=Fh(o,e.host,e._protocol),u="GET",h=e.maxOperationRetryTime,m=new hu(s,u,zD(e,r),h);return m.errorHandler=$D(t),m}function Nke(e,t,r){const o=t.fullServerUrl(),s=Fh(o,e.host,e._protocol),u="GET",h=e.maxOperationRetryTime,m=new hu(s,u,Mke(e,r),h);return m.errorHandler=$D(t),m}function Rke(e,t){const r=t.fullServerUrl(),o=Fh(r,e.host,e._protocol),s="DELETE",u=e.maxOperationRetryTime;function h(f,k){}const m=new hu(o,s,h,u);return m.successCodes=[200,204],m.errorHandler=$D(t),m}function Oke(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function FH(e,t,r){const o=Object.assign({},r);return o.fullPath=e.path,o.size=t.size(),o.contentType||(o.contentType=Oke(null,t)),o}function zH(e,t,r,o,s){const u=t.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let O="";for(let j=0;j<2;j++)O=O+Math.random().toString().slice(2);return O}const f=m();h["Content-Type"]="multipart/related; boundary="+f;const k=FH(t,o,s),v=jH(k,r),_="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+f+`\r
Content-Type: `+k.contentType+`\r
\r
`,y=`\r
--`+f+"--",A=Zs.getBlob(_,o,y);if(A===null)throw DH();const S={name:k.fullPath},E=Fh(u,e.host,e._protocol),I="POST",T=e.maxUploadRetryTime,R=new hu(E,I,zD(e,r),T);return R.urlParams=S,R.headers=h,R.body=A.uploadData(),R.errorHandler=Og(t),R}class q0{constructor(t,r,o,s){this.current=t,this.total=r,this.finalized=!!o,this.metadata=s||null}}function VD(e,t){let r=null;try{r=e.getResponseHeader("X-Goog-Upload-Status")}catch{sa(!1)}return sa(!!r&&(t||["active"]).indexOf(r)!==-1),r}function Bke(e,t,r,o,s){const u=t.bucketOnlyServerUrl(),h=FH(t,o,s),m={name:h.fullPath},f=Fh(u,e.host,e._protocol),k="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},_=jH(h,r),y=e.maxUploadRetryTime;function A(E){VD(E);let I;try{I=E.getResponseHeader("X-Goog-Upload-URL")}catch{sa(!1)}return sa(Dy(I)),I}const S=new hu(f,k,A,y);return S.urlParams=m,S.headers=v,S.body=_,S.errorHandler=Og(t),S}function Lke(e,t,r,o){const s={"X-Goog-Upload-Command":"query"};function u(k){const v=VD(k,["active","final"]);let _=null;try{_=k.getResponseHeader("X-Goog-Upload-Size-Received")}catch{sa(!1)}_||sa(!1);const y=Number(_);return sa(!isNaN(y)),new q0(y,o.size(),v==="final")}const h="POST",m=e.maxUploadRetryTime,f=new hu(r,h,u,m);return f.headers=s,f.errorHandler=Og(t),f}const QF=256*1024;function jke(e,t,r,o,s,u,h,m){const f=new q0(0,0);if(h?(f.current=h.current,f.total=h.total):(f.current=0,f.total=o.size()),o.size()!==f.total)throw Xbe();const k=f.total-f.current;let v=k;s>0&&(v=Math.min(v,s));const _=f.current,y=_+v;let A="";v===0?A="finalize":k===v?A="upload, finalize":A="upload";const S={"X-Goog-Upload-Command":A,"X-Goog-Upload-Offset":`${f.current}`},E=o.slice(_,y);if(E===null)throw DH();function I(j,$){const H=VD(j,["active","final"]),P=f.current+v,z=o.size();let q;return H==="final"?q=zD(t,u)(j,$):q=null,new q0(P,z,H==="final",q)}const T="POST",R=t.maxUploadRetryTime,O=new hu(r,T,I,R);return O.headers=S,O.body=E.uploadData(),O.progressCallback=m||null,O.errorHandler=Og(e),O}const uo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function F1(e){switch(e){case"running":case"pausing":case"canceling":return uo.RUNNING;case"paused":return uo.PAUSED;case"success":return uo.SUCCESS;case"canceled":return uo.CANCELED;case"error":return uo.ERROR;default:return uo.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fke{constructor(t,r,o){if(ake(t)||r!=null||o!=null)this.next=t,this.error=r??void 0,this.complete=o??void 0;else{const u=t;this.next=u.next,this.error=u.error,this.complete=u.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(e){return(...t)=>{Promise.resolve().then(()=>e(...t))}}class zke{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ic.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ic.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ic.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,r,o,s){if(this.sent_)throw Xp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,t,!0),s!==void 0)for(const u in s)s.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,s[u].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Xp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class $ke extends zke{initXhr(){this.xhr_.responseType="text"}}function Ka(){return new $ke}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vke{constructor(t,r,o=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=r,this._metadata=o,this._mappings=FD(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(wn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(MH(s.status,[]))if(u)s=EH();else{this.sleepTime=Math.max(this.sleepTime*2,Hbe),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(wn.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,u)=>{this._resolve=s,this._reject=u,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return r=>this._updateProgress(t+r)}_shouldDoResumable(t){return t.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,o])=>{switch(this._state){case"running":t(r,o);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((t,r)=>{const o=Bke(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(o,Ka,t,r);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((r,o)=>{const s=Lke(this._ref.storage,this._ref._location,t,this._blob),u=this._ref.storage._makeRequest(s,Ka,r,o);this._request=u,u.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=QF*this._chunkMultiplier,r=new q0(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken((s,u)=>{let h;try{h=jke(this._ref._location,this._ref.storage,o,this._blob,t,this._mappings,r,this._makeProgressCallback())}catch(f){this._error=f,this._transition("error");return}const m=this._ref.storage._makeRequest(h,Ka,s,u,!1);this._request=m,m.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){QF*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,r)=>{const o=Pke(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(o,Ka,t,r);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,r)=>{const o=zH(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(o,Ka,t,r);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const r=this._transferred;this._transferred=t,this._transferred!==r&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const r=this._state==="paused";this._state=t,r&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=SH(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const t=F1(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,r,o,s){const u=new Fke(r||void 0,o||void 0,s||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(t,r){return this._promise.then(t,r)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const r=this._observers.indexOf(t);r!==-1&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(r=>{this._notifyObserver(r)})}_finishPromise(){if(this._resolve!==void 0){let t=!0;switch(F1(this._state)){case uo.SUCCESS:td(this._resolve.bind(null,this.snapshot))();break;case uo.CANCELED:case uo.ERROR:const r=this._reject;td(r.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(F1(this._state)){case uo.RUNNING:case uo.PAUSED:t.next&&td(t.next.bind(t,this.snapshot))();break;case uo.SUCCESS:t.complete&&td(t.complete.bind(t))();break;case uo.CANCELED:case uo.ERROR:t.error&&td(t.error.bind(t,this._error))();break;default:t.error&&td(t.error.bind(t,this._error))()}}resume(){const t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t}pause(){const t=this._state==="running";return t&&this._transition("pausing"),t}cancel(){const t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,r){this._service=t,r instanceof Fo?this._location=r:this._location=Fo.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new Kc(t,r)}get root(){const t=new Fo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BH(this._location.path)}get storage(){return this._service}get parent(){const t=Ake(this._location.path);if(t===null)return null;const r=new Fo(this._location.bucket,t);return new Kc(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw nke(t)}}function Uke(e,t,r){e._throwIfRoot("uploadBytes");const o=zH(e.storage,e._location,FD(),new Zs(t,!0),r);return e.storage.makeRequestWithTokens(o,Ka).then(s=>({metadata:s,ref:e}))}function Hke(e,t,r){return e._throwIfRoot("uploadBytesResumable"),new Vke(e,new Zs(t),r)}function Wke(e){e._throwIfRoot("getDownloadURL");const t=Nke(e.storage,e._location,FD());return e.storage.makeRequestWithTokens(t,Ka).then(r=>{if(r===null)throw eke();return r})}function qke(e){e._throwIfRoot("deleteObject");const t=Rke(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Ka)}function Gke(e,t){const r=xke(e._location.path,t),o=new Fo(e._location.bucket,r);return new Kc(e.storage,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kke(e){return/^[A-Za-z]+:\/\//.test(e)}function Yke(e,t){return new Kc(e,t)}function $H(e,t){if(e instanceof UD){const r=e;if(r._bucket==null)throw Jbe();const o=new Kc(r,r._bucket);return t!=null?$H(o,t):o}else return t!==void 0?Gke(e,t):e}function Qke(e,t){if(t&&Kke(t)){if(e instanceof UD)return Yke(e,t);throw qE("To use ref(service, url), the first argument must be a Storage instance.")}else return $H(e,t)}function ZF(e,t){const r=t==null?void 0:t[xH];return r==null?null:Fo.makeFromBucketSpec(r,e)}function Zke(e,t,r,o={}){e.host=`${t}:${r}`,e._protocol="http";const{mockUserToken:s}=o;s&&(e._overrideAuthToken=typeof s=="string"?s:g8(s,e.app.options.projectId))}class UD{constructor(t,r,o,s,u){this.app=t,this._authProvider=r,this._appCheckProvider=o,this._url=s,this._firebaseVersion=u,this._bucket=null,this._host=AH,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Vbe,this._maxUploadRetryTime=Ube,this._requests=new Set,s!=null?this._bucket=Fo.makeFromBucketSpec(s,this._host):this._bucket=ZF(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Fo.makeFromBucketSpec(this._url,t):this._bucket=ZF(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){YF("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){YF("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Kc(this,t)}_makeRequest(t,r,o,s,u=!0){if(this._deleted)return new rke(TH());{const h=fke(t,this._appId,o,s,r,this._firebaseVersion,u);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(t,r){const[o,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,o,s).getPromise()}}const JF="@firebase/storage",XF="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH="storage";function Jke(e,t,r){return e=vn(e),Uke(e,t,r)}function RBe(e,t,r){return e=vn(e),Hke(e,t,r)}function Xke(e){return e=vn(e),Wke(e)}function OBe(e){return e=vn(e),qke(e)}function eve(e,t){return e=vn(e),Qke(e,t)}function UH(e=E2(),t){e=vn(e);const o=zw(e,VH).getImmediate({identifier:t}),s=p8("storage");return s&&tve(o,...s),o}function tve(e,t,r,o={}){Zke(e,t,r,o)}function nve(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new UD(r,o,s,t,su)}function rve(){Uc(new kl(VH,nve,"PUBLIC").setMultipleInstances(!0)),vs(JF,XF,""),vs(JF,XF,"esm2017")}rve();const ove={apiKey:"AIzaSyAx9jl025E5CSh9P03WbAO9YzYVpcZoOxI",authDomain:"ate-vite-firestore-app.firebaseapp.com",projectId:"ate-vite-firestore-app",storageBucket:"ate-vite-firestore-app.appspot.com",messagingSenderId:"590673229876",appId:"1:590673229876:web:f2841a139a3bf0ffed3261"},HH=v8(ove),BBe=Co(HH);UH(HH);const WH=L.createContext(void 0),pu=()=>{const e=L.useContext(WH);if(e===void 0)throw new Error("useUser must be used within a UserProvider");return e},ive=({children:e})=>{const[t,r]=L.useState(null),[o,s]=L.useState(null),[u,h]=L.useState(!1),[m,f]=L.useState(!0),[k,v]=L.useState(null);return console.log("UserContext loaded"),L.useEffect(()=>{const _=nV(),y=Co(),A=xhe(_,async S=>{if(f(!0),v(null),S){const E=Wo(y,"users",S.uid);try{const I=await jh(E);if(I.exists()){console.log("User document exists."),console.log("User is signed in with UID:",S.uid),await du(E,{lastLogin:Kf()});const T=I.data();s({...T,uid:S.uid}),h(T.isSuperAdmin||!1)}else console.error("User document does not exist. Creating a new one..."),await jbe(E,{isAdmin:!1,isSuperAdmin:!1,lastLogin:Kf()}),s({uid:S.uid,isAdmin:!1,lastLogin:Kf()}),h(!1)}catch(I){console.error("Error managing user document:",I),v(I instanceof Error?I:new Error("Failed to manage user document"))}}else s(null),h(!1);r(S),f(!1)});return()=>A()},[]),M.jsx(WH.Provider,{value:{user:t,userDetails:o,setUserDetails:s,loading:m,error:k,isSuperAdmin:u},children:e})},Um={black:"#000",white:"#fff"},nd={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},rd={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},od={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},id={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},sd={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ef={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},sve={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Yc(e){let t="https://mui.com/production-error/?code="+e;for(let r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const ave=Object.freeze(Object.defineProperty({__proto__:null,default:Yc},Symbol.toStringTag,{value:"Module"})),ch="$$material";function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},V.apply(null,arguments)}function _e(e,t){if(e==null)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.includes(o))continue;r[o]=e[o]}return r}function qH(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var lve=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,cve=qH(function(e){return lve.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),uve=!1;function dve(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function hve(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var pve=function(){function e(r){var o=this;this._insertTag=function(s){var u;o.tags.length===0?o.insertionPoint?u=o.insertionPoint.nextSibling:o.prepend?u=o.container.firstChild:u=o.before:u=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(s,u),o.tags.push(s)},this.isSpeedy=r.speedy===void 0?!uve:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(o){o.forEach(this._insertTag)},t.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(hve(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var u=dve(s);try{u.insertRule(o,u.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(o));this.ctr++},t.flush=function(){this.tags.forEach(function(o){var s;return(s=o.parentNode)==null?void 0:s.removeChild(o)}),this.tags=[],this.ctr=0},e}(),Rr="-ms-",G0="-moz-",zt="-webkit-",GH="comm",HD="rule",WD="decl",fve="@import",KH="@keyframes",mve="@layer",gve=Math.abs,Ty=String.fromCharCode,bve=Object.assign;function kve(e,t){return Er(e,0)^45?(((t<<2^Er(e,0))<<2^Er(e,1))<<2^Er(e,2))<<2^Er(e,3):0}function YH(e){return e.trim()}function vve(e,t){return(e=t.exec(e))?e[0]:e}function $t(e,t,r){return e.replace(t,r)}function GE(e,t){return e.indexOf(t)}function Er(e,t){return e.charCodeAt(t)|0}function Hm(e,t,r){return e.slice(t,r)}function ss(e){return e.length}function qD(e){return e.length}function tv(e,t){return t.push(e),e}function wve(e,t){return e.map(t).join("")}var Iy=1,uh=1,QH=0,yo=0,Zn=0,zh="";function My(e,t,r,o,s,u,h){return{value:e,root:t,parent:r,type:o,props:s,children:u,line:Iy,column:uh,length:h,return:""}}function tf(e,t){return bve(My("",null,null,"",null,null,0),e,{length:-e.length},t)}function yve(){return Zn}function _ve(){return Zn=yo>0?Er(zh,--yo):0,uh--,Zn===10&&(uh=1,Iy--),Zn}function $o(){return Zn=yo<QH?Er(zh,yo++):0,uh++,Zn===10&&(uh=1,Iy++),Zn}function Cs(){return Er(zh,yo)}function jv(){return yo}function Bg(e,t){return Hm(zh,e,t)}function Wm(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ZH(e){return Iy=uh=1,QH=ss(zh=e),yo=0,[]}function JH(e){return zh="",e}function Fv(e){return YH(Bg(yo-1,KE(e===91?e+2:e===40?e+1:e)))}function Cve(e){for(;(Zn=Cs())&&Zn<33;)$o();return Wm(e)>2||Wm(Zn)>3?"":" "}function Ave(e,t){for(;--t&&$o()&&!(Zn<48||Zn>102||Zn>57&&Zn<65||Zn>70&&Zn<97););return Bg(e,jv()+(t<6&&Cs()==32&&$o()==32))}function KE(e){for(;$o();)switch(Zn){case e:return yo;case 34:case 39:e!==34&&e!==39&&KE(Zn);break;case 40:e===41&&KE(e);break;case 92:$o();break}return yo}function xve(e,t){for(;$o()&&e+Zn!==57;)if(e+Zn===84&&Cs()===47)break;return"/*"+Bg(t,yo-1)+"*"+Ty(e===47?e:$o())}function Eve(e){for(;!Wm(Cs());)$o();return Bg(e,yo)}function Sve(e){return JH(zv("",null,null,null,[""],e=ZH(e),0,[0],e))}function zv(e,t,r,o,s,u,h,m,f){for(var k=0,v=0,_=h,y=0,A=0,S=0,E=1,I=1,T=1,R=0,O="",j=s,$=u,H=o,P=O;I;)switch(S=R,R=$o()){case 40:if(S!=108&&Er(P,_-1)==58){GE(P+=$t(Fv(R),"&","&\f"),"&\f")!=-1&&(T=-1);break}case 34:case 39:case 91:P+=Fv(R);break;case 9:case 10:case 13:case 32:P+=Cve(S);break;case 92:P+=Ave(jv()-1,7);continue;case 47:switch(Cs()){case 42:case 47:tv(Dve(xve($o(),jv()),t,r),f);break;default:P+="/"}break;case 123*E:m[k++]=ss(P)*T;case 125*E:case 59:case 0:switch(R){case 0:case 125:I=0;case 59+v:T==-1&&(P=$t(P,/\f/g,"")),A>0&&ss(P)-_&&tv(A>32?tz(P+";",o,r,_-1):tz($t(P," ","")+";",o,r,_-2),f);break;case 59:P+=";";default:if(tv(H=ez(P,t,r,k,v,s,m,O,j=[],$=[],_),u),R===123)if(v===0)zv(P,t,H,H,j,u,_,m,$);else switch(y===99&&Er(P,3)===110?100:y){case 100:case 108:case 109:case 115:zv(e,H,H,o&&tv(ez(e,H,H,0,0,s,m,O,s,j=[],_),$),s,$,_,m,o?j:$);break;default:zv(P,H,H,H,[""],$,0,m,$)}}k=v=A=0,E=T=1,O=P="",_=h;break;case 58:_=1+ss(P),A=S;default:if(E<1){if(R==123)--E;else if(R==125&&E++==0&&_ve()==125)continue}switch(P+=Ty(R),R*E){case 38:T=v>0?1:(P+="\f",-1);break;case 44:m[k++]=(ss(P)-1)*T,T=1;break;case 64:Cs()===45&&(P+=Fv($o())),y=Cs(),v=_=ss(O=P+=Eve(jv())),R++;break;case 45:S===45&&ss(P)==2&&(E=0)}}return u}function ez(e,t,r,o,s,u,h,m,f,k,v){for(var _=s-1,y=s===0?u:[""],A=qD(y),S=0,E=0,I=0;S<o;++S)for(var T=0,R=Hm(e,_+1,_=gve(E=h[S])),O=e;T<A;++T)(O=YH(E>0?y[T]+" "+R:$t(R,/&\f/g,y[T])))&&(f[I++]=O);return My(e,t,r,s===0?HD:m,f,k,v)}function Dve(e,t,r){return My(e,t,r,GH,Ty(yve()),Hm(e,2,-2),0)}function tz(e,t,r,o){return My(e,t,r,WD,Hm(e,0,o),Hm(e,o+1,-1),o)}function $d(e,t){for(var r="",o=qD(e),s=0;s<o;s++)r+=t(e[s],s,e,t)||"";return r}function Tve(e,t,r,o){switch(e.type){case mve:if(e.children.length)break;case fve:case WD:return e.return=e.return||e.value;case GH:return"";case KH:return e.return=e.value+"{"+$d(e.children,o)+"}";case HD:e.value=e.props.join(",")}return ss(r=$d(e.children,o))?e.return=e.value+"{"+r+"}":""}function Ive(e){var t=qD(e);return function(r,o,s,u){for(var h="",m=0;m<t;m++)h+=e[m](r,o,s,u)||"";return h}}function Mve(e){return function(t){t.root||(t=t.return)&&e(t)}}var Pve=function(t,r,o){for(var s=0,u=0;s=u,u=Cs(),s===38&&u===12&&(r[o]=1),!Wm(u);)$o();return Bg(t,yo)},Nve=function(t,r){var o=-1,s=44;do switch(Wm(s)){case 0:s===38&&Cs()===12&&(r[o]=1),t[o]+=Pve(yo-1,r,o);break;case 2:t[o]+=Fv(s);break;case 4:if(s===44){t[++o]=Cs()===58?"&\f":"",r[o]=t[o].length;break}default:t[o]+=Ty(s)}while(s=$o());return t},Rve=function(t,r){return JH(Nve(ZH(t),r))},nz=new WeakMap,Ove=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,o=t.parent,s=t.column===o.column&&t.line===o.line;o.type!=="rule";)if(o=o.parent,!o)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!nz.get(o))&&!s){nz.set(t,!0);for(var u=[],h=Rve(r,u),m=o.props,f=0,k=0;f<h.length;f++)for(var v=0;v<m.length;v++,k++)t.props[k]=u[f]?h[f].replace(/&\f/g,m[v]):m[v]+" "+h[f]}}},Bve=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function XH(e,t){switch(kve(e,t)){case 5103:return zt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return zt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return zt+e+G0+e+Rr+e+e;case 6828:case 4268:return zt+e+Rr+e+e;case 6165:return zt+e+Rr+"flex-"+e+e;case 5187:return zt+e+$t(e,/(\w+).+(:[^]+)/,zt+"box-$1$2"+Rr+"flex-$1$2")+e;case 5443:return zt+e+Rr+"flex-item-"+$t(e,/flex-|-self/,"")+e;case 4675:return zt+e+Rr+"flex-line-pack"+$t(e,/align-content|flex-|-self/,"")+e;case 5548:return zt+e+Rr+$t(e,"shrink","negative")+e;case 5292:return zt+e+Rr+$t(e,"basis","preferred-size")+e;case 6060:return zt+"box-"+$t(e,"-grow","")+zt+e+Rr+$t(e,"grow","positive")+e;case 4554:return zt+$t(e,/([^-])(transform)/g,"$1"+zt+"$2")+e;case 6187:return $t($t($t(e,/(zoom-|grab)/,zt+"$1"),/(image-set)/,zt+"$1"),e,"")+e;case 5495:case 3959:return $t(e,/(image-set\([^]*)/,zt+"$1$`$1");case 4968:return $t($t(e,/(.+:)(flex-)?(.*)/,zt+"box-pack:$3"+Rr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+zt+e+e;case 4095:case 3583:case 4068:case 2532:return $t(e,/(.+)-inline(.+)/,zt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ss(e)-1-t>6)switch(Er(e,t+1)){case 109:if(Er(e,t+4)!==45)break;case 102:return $t(e,/(.+:)(.+)-([^]+)/,"$1"+zt+"$2-$3$1"+G0+(Er(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~GE(e,"stretch")?XH($t(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Er(e,t+1)!==115)break;case 6444:switch(Er(e,ss(e)-3-(~GE(e,"!important")&&10))){case 107:return $t(e,":",":"+zt)+e;case 101:return $t(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+zt+(Er(e,14)===45?"inline-":"")+"box$3$1"+zt+"$2$3$1"+Rr+"$2box$3")+e}break;case 5936:switch(Er(e,t+11)){case 114:return zt+e+Rr+$t(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return zt+e+Rr+$t(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return zt+e+Rr+$t(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return zt+e+Rr+e+e}return e}var Lve=function(t,r,o,s){if(t.length>-1&&!t.return)switch(t.type){case WD:t.return=XH(t.value,t.length);break;case KH:return $d([tf(t,{value:$t(t.value,"@","@"+zt)})],s);case HD:if(t.length)return wve(t.props,function(u){switch(vve(u,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return $d([tf(t,{props:[$t(u,/:(read-\w+)/,":"+G0+"$1")]})],s);case"::placeholder":return $d([tf(t,{props:[$t(u,/:(plac\w+)/,":"+zt+"input-$1")]}),tf(t,{props:[$t(u,/:(plac\w+)/,":"+G0+"$1")]}),tf(t,{props:[$t(u,/:(plac\w+)/,Rr+"input-$1")]})],s)}return""})}},jve=[Lve],eW=function(t){var r=t.key;if(r==="css"){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(E){var I=E.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(E),E.setAttribute("data-s",""))})}var s=t.stylisPlugins||jve,u={},h,m=[];h=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(E){for(var I=E.getAttribute("data-emotion").split(" "),T=1;T<I.length;T++)u[I[T]]=!0;m.push(E)});var f,k=[Ove,Bve];{var v,_=[Tve,Mve(function(E){v.insert(E)})],y=Ive(k.concat(s,_)),A=function(I){return $d(Sve(I),y)};f=function(I,T,R,O){v=R,A(I?I+"{"+T.styles+"}":T.styles),O&&(S.inserted[T.name]=!0)}}var S={key:r,sheet:new pve({key:r,container:h,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:u,registered:{},insert:f};return S.sheet.hydrate(m),S},tW={exports:{}},Zt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vr=typeof Symbol=="function"&&Symbol.for,GD=vr?Symbol.for("react.element"):60103,KD=vr?Symbol.for("react.portal"):60106,Py=vr?Symbol.for("react.fragment"):60107,Ny=vr?Symbol.for("react.strict_mode"):60108,Ry=vr?Symbol.for("react.profiler"):60114,Oy=vr?Symbol.for("react.provider"):60109,By=vr?Symbol.for("react.context"):60110,YD=vr?Symbol.for("react.async_mode"):60111,Ly=vr?Symbol.for("react.concurrent_mode"):60111,jy=vr?Symbol.for("react.forward_ref"):60112,Fy=vr?Symbol.for("react.suspense"):60113,Fve=vr?Symbol.for("react.suspense_list"):60120,zy=vr?Symbol.for("react.memo"):60115,$y=vr?Symbol.for("react.lazy"):60116,zve=vr?Symbol.for("react.block"):60121,$ve=vr?Symbol.for("react.fundamental"):60117,Vve=vr?Symbol.for("react.responder"):60118,Uve=vr?Symbol.for("react.scope"):60119;function Qo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case GD:switch(e=e.type,e){case YD:case Ly:case Py:case Ry:case Ny:case Fy:return e;default:switch(e=e&&e.$$typeof,e){case By:case jy:case $y:case zy:case Oy:return e;default:return t}}case KD:return t}}}function nW(e){return Qo(e)===Ly}Zt.AsyncMode=YD;Zt.ConcurrentMode=Ly;Zt.ContextConsumer=By;Zt.ContextProvider=Oy;Zt.Element=GD;Zt.ForwardRef=jy;Zt.Fragment=Py;Zt.Lazy=$y;Zt.Memo=zy;Zt.Portal=KD;Zt.Profiler=Ry;Zt.StrictMode=Ny;Zt.Suspense=Fy;Zt.isAsyncMode=function(e){return nW(e)||Qo(e)===YD};Zt.isConcurrentMode=nW;Zt.isContextConsumer=function(e){return Qo(e)===By};Zt.isContextProvider=function(e){return Qo(e)===Oy};Zt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===GD};Zt.isForwardRef=function(e){return Qo(e)===jy};Zt.isFragment=function(e){return Qo(e)===Py};Zt.isLazy=function(e){return Qo(e)===$y};Zt.isMemo=function(e){return Qo(e)===zy};Zt.isPortal=function(e){return Qo(e)===KD};Zt.isProfiler=function(e){return Qo(e)===Ry};Zt.isStrictMode=function(e){return Qo(e)===Ny};Zt.isSuspense=function(e){return Qo(e)===Fy};Zt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Py||e===Ly||e===Ry||e===Ny||e===Fy||e===Fve||typeof e=="object"&&e!==null&&(e.$$typeof===$y||e.$$typeof===zy||e.$$typeof===Oy||e.$$typeof===By||e.$$typeof===jy||e.$$typeof===$ve||e.$$typeof===Vve||e.$$typeof===Uve||e.$$typeof===zve)};Zt.typeOf=Qo;tW.exports=Zt;var Hve=tW.exports,rW=Hve,Wve={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},qve={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},oW={};oW[rW.ForwardRef]=Wve;oW[rW.Memo]=qve;var Gve=!0;function Kve(e,t,r){var o="";return r.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):o+=s+" "}),o}var iW=function(t,r,o){var s=t.key+"-"+r.name;(o===!1||Gve===!1)&&t.registered[s]===void 0&&(t.registered[s]=r.styles)},sW=function(t,r,o){iW(t,r,o);var s=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var u=r;do t.insert(r===u?"."+s:"",u,t.sheet,!0),u=u.next;while(u!==void 0)}};function Yve(e){for(var t=0,r,o=0,s=e.length;s>=4;++o,s-=4)r=e.charCodeAt(o)&255|(e.charCodeAt(++o)&255)<<8|(e.charCodeAt(++o)&255)<<16|(e.charCodeAt(++o)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(o+2)&255)<<16;case 2:t^=(e.charCodeAt(o+1)&255)<<8;case 1:t^=e.charCodeAt(o)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Qve={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Zve=!1,Jve=/[A-Z]|^ms/g,Xve=/_EMO_([^_]+?)_([^]*?)_EMO_/g,aW=function(t){return t.charCodeAt(1)===45},rz=function(t){return t!=null&&typeof t!="boolean"},z1=qH(function(e){return aW(e)?e:e.replace(Jve,"-$&").toLowerCase()}),oz=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(Xve,function(o,s,u){return as={name:s,styles:u,next:as},s})}return Qve[t]!==1&&!aW(t)&&typeof r=="number"&&r!==0?r+"px":r},e0e="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function qm(e,t,r){if(r==null)return"";var o=r;if(o.__emotion_styles!==void 0)return o;switch(typeof r){case"boolean":return"";case"object":{var s=r;if(s.anim===1)return as={name:s.name,styles:s.styles,next:as},s.name;var u=r;if(u.styles!==void 0){var h=u.next;if(h!==void 0)for(;h!==void 0;)as={name:h.name,styles:h.styles,next:as},h=h.next;var m=u.styles+";";return m}return t0e(e,t,r)}case"function":{if(e!==void 0){var f=as,k=r(e);return as=f,qm(e,t,k)}break}}var v=r;if(t==null)return v;var _=t[v];return _!==void 0?_:v}function t0e(e,t,r){var o="";if(Array.isArray(r))for(var s=0;s<r.length;s++)o+=qm(e,t,r[s])+";";else for(var u in r){var h=r[u];if(typeof h!="object"){var m=h;t!=null&&t[m]!==void 0?o+=u+"{"+t[m]+"}":rz(m)&&(o+=z1(u)+":"+oz(u,m)+";")}else{if(u==="NO_COMPONENT_SELECTOR"&&Zve)throw new Error(e0e);if(Array.isArray(h)&&typeof h[0]=="string"&&(t==null||t[h[0]]===void 0))for(var f=0;f<h.length;f++)rz(h[f])&&(o+=z1(u)+":"+oz(u,h[f])+";");else{var k=qm(e,t,h);switch(u){case"animation":case"animationName":{o+=z1(u)+":"+k+";";break}default:o+=u+"{"+k+"}"}}}}return o}var iz=/label:\s*([^\s;\n{]+)\s*(;|$)/g,as;function QD(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var o=!0,s="";as=void 0;var u=e[0];if(u==null||u.raw===void 0)o=!1,s+=qm(r,t,u);else{var h=u;s+=h[0]}for(var m=1;m<e.length;m++)if(s+=qm(r,t,e[m]),o){var f=u;s+=f[m]}iz.lastIndex=0;for(var k="",v;(v=iz.exec(s))!==null;)k+="-"+v[1];var _=Yve(s)+k;return{name:_,styles:s,next:as}}var n0e=function(t){return t()},lW=sm.useInsertionEffect?sm.useInsertionEffect:!1,r0e=lW||n0e,sz=lW||L.useLayoutEffect,cW=L.createContext(typeof HTMLElement<"u"?eW({key:"css"}):null),o0e=cW.Provider,uW=function(t){return L.forwardRef(function(r,o){var s=L.useContext(cW);return t(r,s,o)})},Lg=L.createContext({}),$1={exports:{}},az;function dW(){return az||(az=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var u in s)({}).hasOwnProperty.call(s,u)&&(r[u]=s[u])}return r},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}($1)),$1.exports}dW();var i0e=uW(function(e,t){var r=e.styles,o=QD([r],void 0,L.useContext(Lg)),s=L.useRef();return sz(function(){var u=t.key+"-global",h=new t.sheet.constructor({key:u,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),m=!1,f=document.querySelector('style[data-emotion="'+u+" "+o.name+'"]');return t.sheet.tags.length&&(h.before=t.sheet.tags[0]),f!==null&&(m=!0,f.setAttribute("data-emotion",u),h.hydrate([f])),s.current=[h,m],function(){h.flush()}},[t]),sz(function(){var u=s.current,h=u[0],m=u[1];if(m){u[1]=!1;return}if(o.next!==void 0&&sW(t,o.next,!0),h.tags.length){var f=h.tags[h.tags.length-1].nextElementSibling;h.before=f,h.flush()}t.insert("",o,h,!1)},[t,o.name]),null});function Vy(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return QD(t)}var $h=function(){var t=Vy.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},s0e=cve,a0e=function(t){return t!=="theme"},lz=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?s0e:a0e},cz=function(t,r,o){var s;if(r){var u=r.shouldForwardProp;s=t.__emotion_forwardProp&&u?function(h){return t.__emotion_forwardProp(h)&&u(h)}:u}return typeof s!="function"&&o&&(s=t.__emotion_forwardProp),s},l0e=!1,c0e=function(t){var r=t.cache,o=t.serialized,s=t.isStringTag;return iW(r,o,s),r0e(function(){return sW(r,o,s)}),null},u0e=function e(t,r){var o=t.__emotion_real===t,s=o&&t.__emotion_base||t,u,h;r!==void 0&&(u=r.label,h=r.target);var m=cz(t,r,o),f=m||lz(s),k=!f("as");return function(){var v=arguments,_=o&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(u!==void 0&&_.push("label:"+u+";"),v[0]==null||v[0].raw===void 0)_.push.apply(_,v);else{_.push(v[0][0]);for(var y=v.length,A=1;A<y;A++)_.push(v[A],v[0][A])}var S=uW(function(E,I,T){var R=k&&E.as||s,O="",j=[],$=E;if(E.theme==null){$={};for(var H in E)$[H]=E[H];$.theme=L.useContext(Lg)}typeof E.className=="string"?O=Kve(I.registered,j,E.className):E.className!=null&&(O=E.className+" ");var P=QD(_.concat(j),I.registered,$);O+=I.key+"-"+P.name,h!==void 0&&(O+=" "+h);var z=k&&m===void 0?lz(R):f,q={};for(var K in E)k&&K==="as"||z(K)&&(q[K]=E[K]);return q.className=O,T&&(q.ref=T),L.createElement(L.Fragment,null,L.createElement(c0e,{cache:I,serialized:P,isStringTag:typeof R=="string"}),L.createElement(R,q))});return S.displayName=u!==void 0?u:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=s,S.__emotion_styles=_,S.__emotion_forwardProp=m,Object.defineProperty(S,"toString",{value:function(){return h===void 0&&l0e?"NO_COMPONENT_SELECTOR":"."+h}}),S.withComponent=function(E,I){return e(E,V({},r,I,{shouldForwardProp:cz(S,I,!0)})).apply(void 0,_)},S}},d0e=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],YE=u0e.bind();d0e.forEach(function(e){YE[e]=YE(e)});var V1={exports:{}},U1,uz;function h0e(){if(uz)return U1;uz=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return U1=e,U1}var H1,dz;function p0e(){if(dz)return H1;dz=1;var e=h0e();function t(){}function r(){}return r.resetWarningCache=t,H1=function(){function o(h,m,f,k,v,_){if(_!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}o.isRequired=o;function s(){return o}var u={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:s,element:o,elementType:o,instanceOf:s,node:o,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:t};return u.PropTypes=u,u},H1}var hz;function hW(){return hz||(hz=1,V1.exports=p0e()()),V1.exports}hW();let QE;typeof document=="object"&&(QE=eW({key:"css",prepend:!0}));function f0e(e){const{injectFirst:t,children:r}=e;return t&&QE?M.jsx(o0e,{value:QE,children:r}):r}function m0e(e){return e==null||Object.keys(e).length===0}function pW(e){const{styles:t,defaultTheme:r={}}=e,o=typeof t=="function"?s=>t(m0e(s)?r:s):t;return M.jsx(i0e,{styles:o})}function ZD(e,t){return YE(e,t)}const fW=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},g0e=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:pW,StyledEngineProvider:f0e,ThemeContext:Lg,css:Vy,default:ZD,internal_processStyles:fW,keyframes:$h},Symbol.toStringTag,{value:"Module"}));function Js(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function mW(e){if(!Js(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=mW(e[r])}),t}function to(e,t,r={clone:!0}){const o=r.clone?V({},e):e;return Js(e)&&Js(t)&&Object.keys(t).forEach(s=>{Js(t[s])&&Object.prototype.hasOwnProperty.call(e,s)&&Js(e[s])?o[s]=to(e[s],t[s],r):r.clone?o[s]=Js(t[s])?mW(t[s]):t[s]:o[s]=t[s]}),o}const b0e=Object.freeze(Object.defineProperty({__proto__:null,default:to,isPlainObject:Js},Symbol.toStringTag,{value:"Module"})),k0e=["values","unit","step"],v0e=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,o)=>r.val-o.val),t.reduce((r,o)=>V({},r,{[o.key]:o.val}),{})};function gW(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:o=5}=e,s=_e(e,k0e),u=v0e(t),h=Object.keys(u);function m(y){return`@media (min-width:${typeof t[y]=="number"?t[y]:y}${r})`}function f(y){return`@media (max-width:${(typeof t[y]=="number"?t[y]:y)-o/100}${r})`}function k(y,A){const S=h.indexOf(A);return`@media (min-width:${typeof t[y]=="number"?t[y]:y}${r}) and (max-width:${(S!==-1&&typeof t[h[S]]=="number"?t[h[S]]:A)-o/100}${r})`}function v(y){return h.indexOf(y)+1<h.length?k(y,h[h.indexOf(y)+1]):m(y)}function _(y){const A=h.indexOf(y);return A===0?m(h[1]):A===h.length-1?f(h[A]):k(y,h[h.indexOf(y)+1]).replace("@media","@media not all and")}return V({keys:h,values:u,up:m,down:f,between:k,only:v,not:_,unit:r},s)}const w0e={borderRadius:4};function Qf(e,t){return t?to(e,t,{clone:!1}):e}const JD={xs:0,sm:600,md:900,lg:1200,xl:1536},pz={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${JD[e]}px)`};function _o(e,t,r){const o=e.theme||{};if(Array.isArray(t)){const u=o.breakpoints||pz;return t.reduce((h,m,f)=>(h[u.up(u.keys[f])]=r(t[f]),h),{})}if(typeof t=="object"){const u=o.breakpoints||pz;return Object.keys(t).reduce((h,m)=>{if(Object.keys(u.values||JD).indexOf(m)!==-1){const f=u.up(m);h[f]=r(t[m],m)}else{const f=m;h[f]=t[f]}return h},{})}return r(t)}function bW(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((o,s)=>{const u=e.up(s);return o[u]={},o},{}))||{}}function kW(e,t){return e.reduce((r,o)=>{const s=r[o];return(!s||Object.keys(s).length===0)&&delete r[o],r},t)}function y0e(e,...t){const r=bW(e),o=[r,...t].reduce((s,u)=>to(s,u),{});return kW(Object.keys(r),o)}function _0e(e,t){if(typeof e!="object")return{};const r={},o=Object.keys(t);return Array.isArray(e)?o.forEach((s,u)=>{u<e.length&&(r[s]=!0)}):o.forEach(s=>{e[s]!=null&&(r[s]=!0)}),r}function Mc({values:e,breakpoints:t,base:r}){const o=r||_0e(e,t),s=Object.keys(o);if(s.length===0)return e;let u;return s.reduce((h,m,f)=>(Array.isArray(e)?(h[m]=e[f]!=null?e[f]:e[u],u=f):typeof e=="object"?(h[m]=e[m]!=null?e[m]:e[u],u=m):h[m]=e,h),{})}function ge(e){if(typeof e!="string")throw new Error(Yc(7));return e.charAt(0).toUpperCase()+e.slice(1)}const C0e=Object.freeze(Object.defineProperty({__proto__:null,default:ge},Symbol.toStringTag,{value:"Module"}));function dh(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const o=`vars.${t}`.split(".").reduce((s,u)=>s&&s[u]?s[u]:null,e);if(o!=null)return o}return t.split(".").reduce((o,s)=>o&&o[s]!=null?o[s]:null,e)}function K0(e,t,r,o=r){let s;return typeof e=="function"?s=e(r):Array.isArray(e)?s=e[r]||o:s=dh(e,r)||o,t&&(s=t(s,o,e)),s}function Gn(e){const{prop:t,cssProperty:r=e.prop,themeKey:o,transform:s}=e,u=h=>{if(h[t]==null)return null;const m=h[t],f=h.theme,k=dh(f,o)||{};return _o(h,m,_=>{let y=K0(k,s,_);return _===y&&typeof _=="string"&&(y=K0(k,s,`${t}${_==="default"?"":ge(_)}`,_)),r===!1?y:{[r]:y}})};return u.propTypes={},u.filterProps=[t],u}function A0e(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const x0e={m:"margin",p:"padding"},E0e={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},fz={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},S0e=A0e(e=>{if(e.length>2)if(fz[e])e=fz[e];else return[e];const[t,r]=e.split(""),o=x0e[t],s=E0e[r]||"";return Array.isArray(s)?s.map(u=>o+u):[o+s]}),XD=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],eT=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...XD,...eT];function jg(e,t,r,o){var s;const u=(s=dh(e,t,!1))!=null?s:r;return typeof u=="number"?h=>typeof h=="string"?h:u*h:Array.isArray(u)?h=>typeof h=="string"?h:u[h]:typeof u=="function"?u:()=>{}}function tT(e){return jg(e,"spacing",8)}function Qc(e,t){if(typeof t=="string"||t==null)return t;const r=Math.abs(t),o=e(r);return t>=0?o:typeof o=="number"?-o:`-${o}`}function D0e(e,t){return r=>e.reduce((o,s)=>(o[s]=Qc(t,r),o),{})}function T0e(e,t,r,o){if(t.indexOf(r)===-1)return null;const s=S0e(r),u=D0e(s,o),h=e[r];return _o(e,h,u)}function vW(e,t){const r=tT(e.theme);return Object.keys(e).map(o=>T0e(e,t,o,r)).reduce(Qf,{})}function Pn(e){return vW(e,XD)}Pn.propTypes={};Pn.filterProps=XD;function Nn(e){return vW(e,eT)}Nn.propTypes={};Nn.filterProps=eT;function I0e(e=8){if(e.mui)return e;const t=tT({spacing:e}),r=(...o)=>(o.length===0?[1]:o).map(u=>{const h=t(u);return typeof h=="number"?`${h}px`:h}).join(" ");return r.mui=!0,r}function Uy(...e){const t=e.reduce((o,s)=>(s.filterProps.forEach(u=>{o[u]=s}),o),{}),r=o=>Object.keys(o).reduce((s,u)=>t[u]?Qf(s,t[u](o)):s,{});return r.propTypes={},r.filterProps=e.reduce((o,s)=>o.concat(s.filterProps),[]),r}function hi(e){return typeof e!="number"?e:`${e}px solid`}function xi(e,t){return Gn({prop:e,themeKey:"borders",transform:t})}const M0e=xi("border",hi),P0e=xi("borderTop",hi),N0e=xi("borderRight",hi),R0e=xi("borderBottom",hi),O0e=xi("borderLeft",hi),B0e=xi("borderColor"),L0e=xi("borderTopColor"),j0e=xi("borderRightColor"),F0e=xi("borderBottomColor"),z0e=xi("borderLeftColor"),$0e=xi("outline",hi),V0e=xi("outlineColor"),Hy=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=jg(e.theme,"shape.borderRadius",4),r=o=>({borderRadius:Qc(t,o)});return _o(e,e.borderRadius,r)}return null};Hy.propTypes={};Hy.filterProps=["borderRadius"];Uy(M0e,P0e,N0e,R0e,O0e,B0e,L0e,j0e,F0e,z0e,Hy,$0e,V0e);const Wy=e=>{if(e.gap!==void 0&&e.gap!==null){const t=jg(e.theme,"spacing",8),r=o=>({gap:Qc(t,o)});return _o(e,e.gap,r)}return null};Wy.propTypes={};Wy.filterProps=["gap"];const qy=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=jg(e.theme,"spacing",8),r=o=>({columnGap:Qc(t,o)});return _o(e,e.columnGap,r)}return null};qy.propTypes={};qy.filterProps=["columnGap"];const Gy=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=jg(e.theme,"spacing",8),r=o=>({rowGap:Qc(t,o)});return _o(e,e.rowGap,r)}return null};Gy.propTypes={};Gy.filterProps=["rowGap"];const U0e=Gn({prop:"gridColumn"}),H0e=Gn({prop:"gridRow"}),W0e=Gn({prop:"gridAutoFlow"}),q0e=Gn({prop:"gridAutoColumns"}),G0e=Gn({prop:"gridAutoRows"}),K0e=Gn({prop:"gridTemplateColumns"}),Y0e=Gn({prop:"gridTemplateRows"}),Q0e=Gn({prop:"gridTemplateAreas"}),Z0e=Gn({prop:"gridArea"});Uy(Wy,qy,Gy,U0e,H0e,W0e,q0e,G0e,K0e,Y0e,Q0e,Z0e);function Vd(e,t){return t==="grey"?t:e}const J0e=Gn({prop:"color",themeKey:"palette",transform:Vd}),X0e=Gn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Vd}),ewe=Gn({prop:"backgroundColor",themeKey:"palette",transform:Vd});Uy(J0e,X0e,ewe);function Bo(e){return e<=1&&e!==0?`${e*100}%`:e}const twe=Gn({prop:"width",transform:Bo}),nT=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var o,s;const u=((o=e.theme)==null||(o=o.breakpoints)==null||(o=o.values)==null?void 0:o[r])||JD[r];return u?((s=e.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${u}${e.theme.breakpoints.unit}`}:{maxWidth:u}:{maxWidth:Bo(r)}};return _o(e,e.maxWidth,t)}return null};nT.filterProps=["maxWidth"];const nwe=Gn({prop:"minWidth",transform:Bo}),rwe=Gn({prop:"height",transform:Bo}),owe=Gn({prop:"maxHeight",transform:Bo}),iwe=Gn({prop:"minHeight",transform:Bo});Gn({prop:"size",cssProperty:"width",transform:Bo});Gn({prop:"size",cssProperty:"height",transform:Bo});const swe=Gn({prop:"boxSizing"});Uy(twe,nT,nwe,rwe,owe,iwe,swe);const Fg={border:{themeKey:"borders",transform:hi},borderTop:{themeKey:"borders",transform:hi},borderRight:{themeKey:"borders",transform:hi},borderBottom:{themeKey:"borders",transform:hi},borderLeft:{themeKey:"borders",transform:hi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:hi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Hy},color:{themeKey:"palette",transform:Vd},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Vd},backgroundColor:{themeKey:"palette",transform:Vd},p:{style:Nn},pt:{style:Nn},pr:{style:Nn},pb:{style:Nn},pl:{style:Nn},px:{style:Nn},py:{style:Nn},padding:{style:Nn},paddingTop:{style:Nn},paddingRight:{style:Nn},paddingBottom:{style:Nn},paddingLeft:{style:Nn},paddingX:{style:Nn},paddingY:{style:Nn},paddingInline:{style:Nn},paddingInlineStart:{style:Nn},paddingInlineEnd:{style:Nn},paddingBlock:{style:Nn},paddingBlockStart:{style:Nn},paddingBlockEnd:{style:Nn},m:{style:Pn},mt:{style:Pn},mr:{style:Pn},mb:{style:Pn},ml:{style:Pn},mx:{style:Pn},my:{style:Pn},margin:{style:Pn},marginTop:{style:Pn},marginRight:{style:Pn},marginBottom:{style:Pn},marginLeft:{style:Pn},marginX:{style:Pn},marginY:{style:Pn},marginInline:{style:Pn},marginInlineStart:{style:Pn},marginInlineEnd:{style:Pn},marginBlock:{style:Pn},marginBlockStart:{style:Pn},marginBlockEnd:{style:Pn},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Wy},rowGap:{style:Gy},columnGap:{style:qy},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Bo},maxWidth:{style:nT},minWidth:{transform:Bo},height:{transform:Bo},maxHeight:{transform:Bo},minHeight:{transform:Bo},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function awe(...e){const t=e.reduce((o,s)=>o.concat(Object.keys(s)),[]),r=new Set(t);return e.every(o=>r.size===Object.keys(o).length)}function lwe(e,t){return typeof e=="function"?e(t):e}function wW(){function e(r,o,s,u){const h={[r]:o,theme:s},m=u[r];if(!m)return{[r]:o};const{cssProperty:f=r,themeKey:k,transform:v,style:_}=m;if(o==null)return null;if(k==="typography"&&o==="inherit")return{[r]:o};const y=dh(s,k)||{};return _?_(h):_o(h,o,S=>{let E=K0(y,v,S);return S===E&&typeof S=="string"&&(E=K0(y,v,`${r}${S==="default"?"":ge(S)}`,S)),f===!1?E:{[f]:E}})}function t(r){var o;const{sx:s,theme:u={}}=r||{};if(!s)return null;const h=(o=u.unstable_sxConfig)!=null?o:Fg;function m(f){let k=f;if(typeof f=="function")k=f(u);else if(typeof f!="object")return f;if(!k)return null;const v=bW(u.breakpoints),_=Object.keys(v);let y=v;return Object.keys(k).forEach(A=>{const S=lwe(k[A],u);if(S!=null)if(typeof S=="object")if(h[A])y=Qf(y,e(A,S,u,h));else{const E=_o({theme:u},S,I=>({[A]:I}));awe(E,S)?y[A]=t({sx:S,theme:u}):y=Qf(y,E)}else y=Qf(y,e(A,S,u,h))}),kW(_,y)}return Array.isArray(s)?s.map(m):m(s)}return t}const Vh=wW();Vh.filterProps=["sx"];function yW(e,t){const r=this;return r.vars&&typeof r.getColorSchemeSelector=="function"?{[r.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:r.palette.mode===e?t:{}}const cwe=["breakpoints","palette","spacing","shape"];function Uh(e={},...t){const{breakpoints:r={},palette:o={},spacing:s,shape:u={}}=e,h=_e(e,cwe),m=gW(r),f=I0e(s);let k=to({breakpoints:m,direction:"ltr",components:{},palette:V({mode:"light"},o),spacing:f,shape:V({},w0e,u)},h);return k.applyStyles=yW,k=t.reduce((v,_)=>to(v,_),k),k.unstable_sxConfig=V({},Fg,h==null?void 0:h.unstable_sxConfig),k.unstable_sx=function(_){return Vh({sx:_,theme:this})},k}const uwe=Object.freeze(Object.defineProperty({__proto__:null,default:Uh,private_createBreakpoints:gW,unstable_applyStyles:yW},Symbol.toStringTag,{value:"Module"}));function dwe(e){return Object.keys(e).length===0}function rT(e=null){const t=L.useContext(Lg);return!t||dwe(t)?e:t}const hwe=Uh();function Ky(e=hwe){return rT(e)}function pwe({styles:e,themeId:t,defaultTheme:r={}}){const o=Ky(r),s=typeof e=="function"?e(t&&o[t]||o):e;return M.jsx(pW,{styles:s})}const fwe=["sx"],mwe=e=>{var t,r;const o={systemProps:{},otherProps:{}},s=(t=e==null||(r=e.theme)==null?void 0:r.unstable_sxConfig)!=null?t:Fg;return Object.keys(e).forEach(u=>{s[u]?o.systemProps[u]=e[u]:o.otherProps[u]=e[u]}),o};function zg(e){const{sx:t}=e,r=_e(e,fwe),{systemProps:o,otherProps:s}=mwe(r);let u;return Array.isArray(t)?u=[o,...t]:typeof t=="function"?u=(...h)=>{const m=t(...h);return Js(m)?V({},o,m):o}:u=V({},o,t),V({},s,{sx:u})}const gwe=Object.freeze(Object.defineProperty({__proto__:null,default:Vh,extendSxProp:zg,unstable_createStyleFunctionSx:wW,unstable_defaultSxConfig:Fg},Symbol.toStringTag,{value:"Module"})),mz=e=>e,bwe=()=>{let e=mz;return{configure(t){e=t},generate(t){return e(t)},reset(){e=mz}}},oT=bwe();function _W(e){var t,r,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=_W(e[t]))&&(o&&(o+=" "),o+=r)}else for(r in e)e[r]&&(o&&(o+=" "),o+=r);return o}function ke(){for(var e,t,r=0,o="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=_W(e))&&(o&&(o+=" "),o+=t);return o}const kwe=["className","component"];function vwe(e={}){const{themeId:t,defaultTheme:r,defaultClassName:o="MuiBox-root",generateClassName:s}=e,u=ZD("div",{shouldForwardProp:m=>m!=="theme"&&m!=="sx"&&m!=="as"})(Vh);return L.forwardRef(function(f,k){const v=Ky(r),_=zg(f),{className:y,component:A="div"}=_,S=_e(_,kwe);return M.jsx(u,V({as:A,ref:k,className:ke(y,s?s(o):o),theme:t&&v[t]||v},S))})}const wwe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ue(e,t,r="Mui"){const o=wwe[t];return o?`${r}-${o}`:`${oT.generate(e)}-${t}`}function He(e,t,r="Mui"){const o={};return t.forEach(s=>{o[s]=Ue(e,s,r)}),o}var CW={exports:{}},Jt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iT=Symbol.for("react.element"),sT=Symbol.for("react.portal"),Yy=Symbol.for("react.fragment"),Qy=Symbol.for("react.strict_mode"),Zy=Symbol.for("react.profiler"),Jy=Symbol.for("react.provider"),Xy=Symbol.for("react.context"),ywe=Symbol.for("react.server_context"),e_=Symbol.for("react.forward_ref"),t_=Symbol.for("react.suspense"),n_=Symbol.for("react.suspense_list"),r_=Symbol.for("react.memo"),o_=Symbol.for("react.lazy"),_we=Symbol.for("react.offscreen"),AW;AW=Symbol.for("react.module.reference");function Ei(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case iT:switch(e=e.type,e){case Yy:case Zy:case Qy:case t_:case n_:return e;default:switch(e=e&&e.$$typeof,e){case ywe:case Xy:case e_:case o_:case r_:case Jy:return e;default:return t}}case sT:return t}}}Jt.ContextConsumer=Xy;Jt.ContextProvider=Jy;Jt.Element=iT;Jt.ForwardRef=e_;Jt.Fragment=Yy;Jt.Lazy=o_;Jt.Memo=r_;Jt.Portal=sT;Jt.Profiler=Zy;Jt.StrictMode=Qy;Jt.Suspense=t_;Jt.SuspenseList=n_;Jt.isAsyncMode=function(){return!1};Jt.isConcurrentMode=function(){return!1};Jt.isContextConsumer=function(e){return Ei(e)===Xy};Jt.isContextProvider=function(e){return Ei(e)===Jy};Jt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===iT};Jt.isForwardRef=function(e){return Ei(e)===e_};Jt.isFragment=function(e){return Ei(e)===Yy};Jt.isLazy=function(e){return Ei(e)===o_};Jt.isMemo=function(e){return Ei(e)===r_};Jt.isPortal=function(e){return Ei(e)===sT};Jt.isProfiler=function(e){return Ei(e)===Zy};Jt.isStrictMode=function(e){return Ei(e)===Qy};Jt.isSuspense=function(e){return Ei(e)===t_};Jt.isSuspenseList=function(e){return Ei(e)===n_};Jt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Yy||e===Zy||e===Qy||e===t_||e===n_||e===_we||typeof e=="object"&&e!==null&&(e.$$typeof===o_||e.$$typeof===r_||e.$$typeof===Jy||e.$$typeof===Xy||e.$$typeof===e_||e.$$typeof===AW||e.getModuleId!==void 0)};Jt.typeOf=Ei;CW.exports=Jt;var gz=CW.exports;const Cwe=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function xW(e){const t=`${e}`.match(Cwe);return t&&t[1]||""}function EW(e,t=""){return e.displayName||e.name||xW(e)||t}function bz(e,t,r){const o=EW(t);return e.displayName||(o!==""?`${r}(${o})`:r)}function Awe(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return EW(e,"Component");if(typeof e=="object")switch(e.$$typeof){case gz.ForwardRef:return bz(e,e.render,"ForwardRef");case gz.Memo:return bz(e,e.type,"memo");default:return}}}const xwe=Object.freeze(Object.defineProperty({__proto__:null,default:Awe,getFunctionName:xW},Symbol.toStringTag,{value:"Module"})),Ewe=["ownerState"],Swe=["variants"],Dwe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Twe(e){return Object.keys(e).length===0}function Iwe(e){return typeof e=="string"&&e.charCodeAt(0)>96}function W1(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Mwe=Uh(),Pwe=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function nv({defaultTheme:e,theme:t,themeId:r}){return Twe(t)?e:t[r]||t}function Nwe(e){return e?(t,r)=>r[e]:null}function $v(e,t){let{ownerState:r}=t,o=_e(t,Ewe);const s=typeof e=="function"?e(V({ownerState:r},o)):e;if(Array.isArray(s))return s.flatMap(u=>$v(u,V({ownerState:r},o)));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:u=[]}=s;let m=_e(s,Swe);return u.forEach(f=>{let k=!0;typeof f.props=="function"?k=f.props(V({ownerState:r},o,r)):Object.keys(f.props).forEach(v=>{(r==null?void 0:r[v])!==f.props[v]&&o[v]!==f.props[v]&&(k=!1)}),k&&(Array.isArray(m)||(m=[m]),m.push(typeof f.style=="function"?f.style(V({ownerState:r},o,r)):f.style))}),m}return s}function Rwe(e={}){const{themeId:t,defaultTheme:r=Mwe,rootShouldForwardProp:o=W1,slotShouldForwardProp:s=W1}=e,u=h=>Vh(V({},h,{theme:nv(V({},h,{defaultTheme:r,themeId:t}))}));return u.__mui_systemSx=!0,(h,m={})=>{fW(h,$=>$.filter(H=>!(H!=null&&H.__mui_systemSx)));const{name:f,slot:k,skipVariantsResolver:v,skipSx:_,overridesResolver:y=Nwe(Pwe(k))}=m,A=_e(m,Dwe),S=v!==void 0?v:k&&k!=="Root"&&k!=="root"||!1,E=_||!1;let I,T=W1;k==="Root"||k==="root"?T=o:k?T=s:Iwe(h)&&(T=void 0);const R=ZD(h,V({shouldForwardProp:T,label:I},A)),O=$=>typeof $=="function"&&$.__emotion_real!==$||Js($)?H=>$v($,V({},H,{theme:nv({theme:H.theme,defaultTheme:r,themeId:t})})):$,j=($,...H)=>{let P=O($);const z=H?H.map(O):[];f&&y&&z.push(Q=>{const te=nv(V({},Q,{defaultTheme:r,themeId:t}));if(!te.components||!te.components[f]||!te.components[f].styleOverrides)return null;const X=te.components[f].styleOverrides,Z={};return Object.entries(X).forEach(([J,ee])=>{Z[J]=$v(ee,V({},Q,{theme:te}))}),y(Q,Z)}),f&&!S&&z.push(Q=>{var te;const X=nv(V({},Q,{defaultTheme:r,themeId:t})),Z=X==null||(te=X.components)==null||(te=te[f])==null?void 0:te.variants;return $v({variants:Z},V({},Q,{theme:X}))}),E||z.push(u);const q=z.length-H.length;if(Array.isArray($)&&q>0){const Q=new Array(q).fill("");P=[...$,...Q],P.raw=[...$.raw,...Q]}const K=R(P,...z);return h.muiName&&(K.muiName=h.muiName),K};return R.withConfig&&(j.withConfig=R.withConfig),j}}const SW=Rwe();function Gm(e,t){const r=V({},t);return Object.keys(e).forEach(o=>{if(o.toString().match(/^(components|slots)$/))r[o]=V({},e[o],r[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const s=e[o]||{},u=t[o];r[o]={},!u||!Object.keys(u)?r[o]=s:!s||!Object.keys(s)?r[o]=u:(r[o]=V({},u),Object.keys(s).forEach(h=>{r[o][h]=Gm(s[h],u[h])}))}else r[o]===void 0&&(r[o]=e[o])}),r}function DW(e){const{theme:t,name:r,props:o}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?o:Gm(t.components[r].defaultProps,o)}function TW({props:e,name:t,defaultTheme:r,themeId:o}){let s=Ky(r);return o&&(s=s[o]||s),DW({theme:s,name:t,props:e})}const qo=typeof window<"u"?L.useLayoutEffect:L.useEffect;function Owe(e,t,r,o,s){const[u,h]=L.useState(()=>s&&r?r(e).matches:o?o(e).matches:t);return qo(()=>{let m=!0;if(!r)return;const f=r(e),k=()=>{m&&h(f.matches)};return k(),f.addListener(k),()=>{m=!1,f.removeListener(k)}},[e,r]),u}const IW=L.useSyncExternalStore;function Bwe(e,t,r,o,s){const u=L.useCallback(()=>t,[t]),h=L.useMemo(()=>{if(s&&r)return()=>r(e).matches;if(o!==null){const{matches:v}=o(e);return()=>v}return u},[u,e,o,s,r]),[m,f]=L.useMemo(()=>{if(r===null)return[u,()=>()=>{}];const v=r(e);return[()=>v.matches,_=>(v.addListener(_),()=>{v.removeListener(_)})]},[u,r,e]);return IW(f,m,h)}function q1(e,t={}){const r=rT(),o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:s=!1,matchMedia:u=o?window.matchMedia:null,ssrMatchMedia:h=null,noSsr:m=!1}=DW({name:"MuiUseMediaQuery",props:t,theme:r});let f=typeof e=="function"?e(r):e;return f=f.replace(/^@media( ?)/m,""),(IW!==void 0?Bwe:Owe)(f,s,u,h,m)}function Lwe(e,t=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,r))}const jwe=Object.freeze(Object.defineProperty({__proto__:null,default:Lwe},Symbol.toStringTag,{value:"Module"}));function ZE(...e){return e.reduce((t,r)=>r==null?t:function(...s){t.apply(this,s),r.apply(this,s)},()=>{})}function aT(e,t=166){let r;function o(...s){const u=()=>{e.apply(this,s)};clearTimeout(r),r=setTimeout(u,t)}return o.clear=()=>{clearTimeout(r)},o}function Fwe(e,t){return()=>null}function Zf(e,t){var r,o;return L.isValidElement(e)&&t.indexOf((r=e.type.muiName)!=null?r:(o=e.type)==null||(o=o._payload)==null||(o=o.value)==null?void 0:o.muiName)!==-1}function ar(e){return e&&e.ownerDocument||document}function _l(e){return ar(e).defaultView||window}function zwe(e,t){return()=>null}function Y0(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let kz=0;function $we(e){const[t,r]=L.useState(e),o=e||t;return L.useEffect(()=>{t==null&&(kz+=1,r(`mui-${kz}`))},[t]),o}const vz=sm.useId;function $g(e){if(vz!==void 0){const t=vz();return e??t}return $we(e)}function Vwe(e,t,r,o,s){return null}function Q0({controlled:e,default:t,name:r,state:o="value"}){const{current:s}=L.useRef(e!==void 0),[u,h]=L.useState(t),m=s?e:u,f=L.useCallback(k=>{s||h(k)},[]);return[m,f]}function mi(e){const t=L.useRef(e);return qo(()=>{t.current=e}),L.useRef((...r)=>(0,t.current)(...r)).current}function Cn(...e){return L.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{Y0(r,t)})},e)}const wz={};function Uwe(e,t){const r=L.useRef(wz);return r.current===wz&&(r.current=e(t)),r}const Hwe=[];function Wwe(e){L.useEffect(e,Hwe)}class Vg{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Vg}start(t,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},t)}}function yc(){const e=Uwe(Vg.create).current;return Wwe(e.disposeEffect),e}let i_=!0,JE=!1;const qwe=new Vg,Gwe={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Kwe(e){const{type:t,tagName:r}=e;return!!(r==="INPUT"&&Gwe[t]&&!e.readOnly||r==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function Ywe(e){e.metaKey||e.altKey||e.ctrlKey||(i_=!0)}function G1(){i_=!1}function Qwe(){this.visibilityState==="hidden"&&JE&&(i_=!0)}function Zwe(e){e.addEventListener("keydown",Ywe,!0),e.addEventListener("mousedown",G1,!0),e.addEventListener("pointerdown",G1,!0),e.addEventListener("touchstart",G1,!0),e.addEventListener("visibilitychange",Qwe,!0)}function Jwe(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return i_||Kwe(t)}function s_(){const e=L.useCallback(s=>{s!=null&&Zwe(s.ownerDocument)},[]),t=L.useRef(!1);function r(){return t.current?(JE=!0,qwe.start(100,()=>{JE=!1}),t.current=!1,!0):!1}function o(s){return Jwe(s)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:o,onBlur:r,ref:e}}function MW(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function Ke(e,t,r=void 0){const o={};return Object.keys(e).forEach(s=>{o[s]=e[s].reduce((u,h)=>{if(h){const m=t(h);m!==""&&u.push(m),r&&r[h]&&u.push(r[h])}return u},[]).join(" ")}),o}function hh(e){return typeof e=="string"}function Sd(e,t,r){return e===void 0||hh(e)?t:V({},t,{ownerState:V({},t.ownerState,r)})}function Z0(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(o=>o.match(/^on[A-Z]/)&&typeof e[o]=="function"&&!t.includes(o)).forEach(o=>{r[o]=e[o]}),r}function yz(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function PW(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:o,externalForwardedProps:s,className:u}=e;if(!t){const A=ke(r==null?void 0:r.className,u,s==null?void 0:s.className,o==null?void 0:o.className),S=V({},r==null?void 0:r.style,s==null?void 0:s.style,o==null?void 0:o.style),E=V({},r,s,o);return A.length>0&&(E.className=A),Object.keys(S).length>0&&(E.style=S),{props:E,internalRef:void 0}}const h=Z0(V({},s,o)),m=yz(o),f=yz(s),k=t(h),v=ke(k==null?void 0:k.className,r==null?void 0:r.className,u,s==null?void 0:s.className,o==null?void 0:o.className),_=V({},k==null?void 0:k.style,r==null?void 0:r.style,s==null?void 0:s.style,o==null?void 0:o.style),y=V({},k,r,f,m);return v.length>0&&(y.className=v),Object.keys(_).length>0&&(y.style=_),{props:y,internalRef:k.ref}}function NW(e,t,r){return typeof e=="function"?e(t,r):e}const Xwe=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Cl(e){var t;const{elementType:r,externalSlotProps:o,ownerState:s,skipResolvingSlotProps:u=!1}=e,h=_e(e,Xwe),m=u?{}:NW(o,s),{props:f,internalRef:k}=PW(V({},h,{externalSlotProps:m})),v=Cn(k,m==null?void 0:m.ref,(t=e.additionalProps)==null?void 0:t.ref);return Sd(r,V({},f,{ref:v}),s)}const RW=L.createContext(null);function OW(){return L.useContext(RW)}const eye=typeof Symbol=="function"&&Symbol.for,tye=eye?Symbol.for("mui.nested"):"__THEME_NESTED__";function nye(e,t){return typeof t=="function"?t(e):V({},e,t)}function rye(e){const{children:t,theme:r}=e,o=OW(),s=L.useMemo(()=>{const u=o===null?r:nye(o,r);return u!=null&&(u[tye]=o!==null),u},[r,o]);return M.jsx(RW.Provider,{value:s,children:t})}const oye=["value"],BW=L.createContext();function iye(e){let{value:t}=e,r=_e(e,oye);return M.jsx(BW.Provider,V({value:t??!0},r))}const LW=()=>{const e=L.useContext(BW);return e??!1},jW=L.createContext(void 0);function sye({value:e,children:t}){return M.jsx(jW.Provider,{value:e,children:t})}function aye(e){const{theme:t,name:r,props:o}=e;if(!t||!t.components||!t.components[r])return o;const s=t.components[r];return s.defaultProps?Gm(s.defaultProps,o):!s.styleOverrides&&!s.variants?Gm(s,o):o}function lye({props:e,name:t}){const r=L.useContext(jW);return aye({props:e,name:t,theme:{components:r}})}const _z={};function Cz(e,t,r,o=!1){return L.useMemo(()=>{const s=e&&t[e]||t;if(typeof r=="function"){const u=r(s),h=e?V({},t,{[e]:u}):u;return o?()=>h:h}return e?V({},t,{[e]:r}):V({},t,r)},[e,t,r,o])}function cye(e){const{children:t,theme:r,themeId:o}=e,s=rT(_z),u=OW()||_z,h=Cz(o,s,r),m=Cz(o,u,r,!0),f=h.direction==="rtl";return M.jsx(rye,{theme:m,children:M.jsx(Lg.Provider,{value:h,children:M.jsx(iye,{value:f,children:M.jsx(sye,{value:h==null?void 0:h.components,children:t})})})})}const uye=["className","component","disableGutters","fixed","maxWidth","classes"],dye=Uh(),hye=SW("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${ge(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),pye=e=>TW({props:e,name:"MuiContainer",defaultTheme:dye}),fye=(e,t)=>{const r=f=>Ue(t,f),{classes:o,fixed:s,disableGutters:u,maxWidth:h}=e,m={root:["root",h&&`maxWidth${ge(String(h))}`,s&&"fixed",u&&"disableGutters"]};return Ke(m,r,o)};function mye(e={}){const{createStyledComponent:t=hye,useThemeProps:r=pye,componentName:o="MuiContainer"}=e,s=t(({theme:h,ownerState:m})=>V({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!m.disableGutters&&{paddingLeft:h.spacing(2),paddingRight:h.spacing(2),[h.breakpoints.up("sm")]:{paddingLeft:h.spacing(3),paddingRight:h.spacing(3)}}),({theme:h,ownerState:m})=>m.fixed&&Object.keys(h.breakpoints.values).reduce((f,k)=>{const v=k,_=h.breakpoints.values[v];return _!==0&&(f[h.breakpoints.up(v)]={maxWidth:`${_}${h.breakpoints.unit}`}),f},{}),({theme:h,ownerState:m})=>V({},m.maxWidth==="xs"&&{[h.breakpoints.up("xs")]:{maxWidth:Math.max(h.breakpoints.values.xs,444)}},m.maxWidth&&m.maxWidth!=="xs"&&{[h.breakpoints.up(m.maxWidth)]:{maxWidth:`${h.breakpoints.values[m.maxWidth]}${h.breakpoints.unit}`}}));return L.forwardRef(function(m,f){const k=r(m),{className:v,component:_="div",disableGutters:y=!1,fixed:A=!1,maxWidth:S="lg"}=k,E=_e(k,uye),I=V({},k,{component:_,disableGutters:y,fixed:A,maxWidth:S}),T=fye(I,o);return M.jsx(s,V({as:_,ownerState:I,className:ke(T.root,v),ref:f},E))})}const gye=["component","direction","spacing","divider","children","className","useFlexGap"],bye=Uh(),kye=SW("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function vye(e){return TW({props:e,name:"MuiStack",defaultTheme:bye})}function wye(e,t){const r=L.Children.toArray(e).filter(Boolean);return r.reduce((o,s,u)=>(o.push(s),u<r.length-1&&o.push(L.cloneElement(t,{key:`separator-${u}`})),o),[])}const yye=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],_ye=({ownerState:e,theme:t})=>{let r=V({display:"flex",flexDirection:"column"},_o({theme:t},Mc({values:e.direction,breakpoints:t.breakpoints.values}),o=>({flexDirection:o})));if(e.spacing){const o=tT(t),s=Object.keys(t.breakpoints.values).reduce((f,k)=>((typeof e.spacing=="object"&&e.spacing[k]!=null||typeof e.direction=="object"&&e.direction[k]!=null)&&(f[k]=!0),f),{}),u=Mc({values:e.direction,base:s}),h=Mc({values:e.spacing,base:s});typeof u=="object"&&Object.keys(u).forEach((f,k,v)=>{if(!u[f]){const y=k>0?u[v[k-1]]:"column";u[f]=y}}),r=to(r,_o({theme:t},h,(f,k)=>e.useFlexGap?{gap:Qc(o,f)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${yye(k?u[k]:e.direction)}`]:Qc(o,f)}}))}return r=y0e(t.breakpoints,r),r};function Cye(e={}){const{createStyledComponent:t=kye,useThemeProps:r=vye,componentName:o="MuiStack"}=e,s=()=>Ke({root:["root"]},f=>Ue(o,f),{}),u=t(_ye);return L.forwardRef(function(f,k){const v=r(f),_=zg(v),{component:y="div",direction:A="column",spacing:S=0,divider:E,children:I,className:T,useFlexGap:R=!1}=_,O=_e(_,gye),j={direction:A,spacing:S,useFlexGap:R},$=s();return M.jsx(u,V({as:y,ownerState:j,ref:k,className:ke($.root,T)},O,{children:E?wye(I,E):I}))})}function Aye(e,t){return V({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var Kn={},FW={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(FW);var Zo=FW.exports;const xye=Ms(ave),Eye=Ms(jwe);var zW=Zo;Object.defineProperty(Kn,"__esModule",{value:!0});var Et=Kn.alpha=HW;Kn.blend=jye;Kn.colorChannel=void 0;var J0=Kn.darken=cT;Kn.decomposeColor=yi;var Sye=Kn.emphasize=WW,Dye=Kn.getContrastRatio=Nye;Kn.getLuminance=ew;Kn.hexToRgb=$W;Kn.hslToRgb=UW;var X0=Kn.lighten=uT;Kn.private_safeAlpha=Rye;Kn.private_safeColorChannel=void 0;Kn.private_safeDarken=Oye;Kn.private_safeEmphasize=Lye;Kn.private_safeLighten=Bye;Kn.recomposeColor=Hh;Kn.rgbToHex=Pye;var Az=zW(xye),Tye=zW(Eye);function lT(e,t=0,r=1){return(0,Tye.default)(e,t,r)}function $W(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(o=>o+o)),r?`rgb${r.length===4?"a":""}(${r.map((o,s)=>s<3?parseInt(o,16):Math.round(parseInt(o,16)/255*1e3)/1e3).join(", ")})`:""}function Iye(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function yi(e){if(e.type)return e;if(e.charAt(0)==="#")return yi($W(e));const t=e.indexOf("("),r=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error((0,Az.default)(9,e));let o=e.substring(t+1,e.length-1),s;if(r==="color"){if(o=o.split(" "),s=o.shift(),o.length===4&&o[3].charAt(0)==="/"&&(o[3]=o[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error((0,Az.default)(10,s))}else o=o.split(",");return o=o.map(u=>parseFloat(u)),{type:r,values:o,colorSpace:s}}const VW=e=>{const t=yi(e);return t.values.slice(0,3).map((r,o)=>t.type.indexOf("hsl")!==-1&&o!==0?`${r}%`:r).join(" ")};Kn.colorChannel=VW;const Mye=(e,t)=>{try{return VW(e)}catch{return e}};Kn.private_safeColorChannel=Mye;function Hh(e){const{type:t,colorSpace:r}=e;let{values:o}=e;return t.indexOf("rgb")!==-1?o=o.map((s,u)=>u<3?parseInt(s,10):s):t.indexOf("hsl")!==-1&&(o[1]=`${o[1]}%`,o[2]=`${o[2]}%`),t.indexOf("color")!==-1?o=`${r} ${o.join(" ")}`:o=`${o.join(", ")}`,`${t}(${o})`}function Pye(e){if(e.indexOf("#")===0)return e;const{values:t}=yi(e);return`#${t.map((r,o)=>Iye(o===3?Math.round(255*r):r)).join("")}`}function UW(e){e=yi(e);const{values:t}=e,r=t[0],o=t[1]/100,s=t[2]/100,u=o*Math.min(s,1-s),h=(k,v=(k+r/30)%12)=>s-u*Math.max(Math.min(v-3,9-v,1),-1);let m="rgb";const f=[Math.round(h(0)*255),Math.round(h(8)*255),Math.round(h(4)*255)];return e.type==="hsla"&&(m+="a",f.push(t[3])),Hh({type:m,values:f})}function ew(e){e=yi(e);let t=e.type==="hsl"||e.type==="hsla"?yi(UW(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Nye(e,t){const r=ew(e),o=ew(t);return(Math.max(r,o)+.05)/(Math.min(r,o)+.05)}function HW(e,t){return e=yi(e),t=lT(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Hh(e)}function Rye(e,t,r){try{return HW(e,t)}catch{return e}}function cT(e,t){if(e=yi(e),t=lT(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]*=1-t;return Hh(e)}function Oye(e,t,r){try{return cT(e,t)}catch{return e}}function uT(e,t){if(e=yi(e),t=lT(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Hh(e)}function Bye(e,t,r){try{return uT(e,t)}catch{return e}}function WW(e,t=.15){return ew(e)>.5?cT(e,t):uT(e,t)}function Lye(e,t,r){try{return WW(e,t)}catch{return e}}function jye(e,t,r,o=1){const s=(f,k)=>Math.round((f**(1/o)*(1-r)+k**(1/o)*r)**o),u=yi(e),h=yi(t),m=[s(u.values[0],h.values[0]),s(u.values[1],h.values[1]),s(u.values[2],h.values[2])];return Hh({type:"rgb",values:m})}const Fye=["mode","contrastThreshold","tonalOffset"],xz={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Um.white,default:Um.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},K1={text:{primary:Um.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Um.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Ez(e,t,r,o){const s=o.light||o,u=o.dark||o*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=X0(e.main,s):t==="dark"&&(e.dark=J0(e.main,u)))}function zye(e="light"){return e==="dark"?{main:od[200],light:od[50],dark:od[400]}:{main:od[700],light:od[400],dark:od[800]}}function $ye(e="light"){return e==="dark"?{main:rd[200],light:rd[50],dark:rd[400]}:{main:rd[500],light:rd[300],dark:rd[700]}}function Vye(e="light"){return e==="dark"?{main:nd[500],light:nd[300],dark:nd[700]}:{main:nd[700],light:nd[400],dark:nd[800]}}function Uye(e="light"){return e==="dark"?{main:id[400],light:id[300],dark:id[700]}:{main:id[700],light:id[500],dark:id[900]}}function Hye(e="light"){return e==="dark"?{main:sd[400],light:sd[300],dark:sd[700]}:{main:sd[800],light:sd[500],dark:sd[900]}}function Wye(e="light"){return e==="dark"?{main:ef[400],light:ef[300],dark:ef[700]}:{main:"#ed6c02",light:ef[500],dark:ef[900]}}function qye(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:o=.2}=e,s=_e(e,Fye),u=e.primary||zye(t),h=e.secondary||$ye(t),m=e.error||Vye(t),f=e.info||Uye(t),k=e.success||Hye(t),v=e.warning||Wye(t);function _(E){return Dye(E,K1.text.primary)>=r?K1.text.primary:xz.text.primary}const y=({color:E,name:I,mainShade:T=500,lightShade:R=300,darkShade:O=700})=>{if(E=V({},E),!E.main&&E[T]&&(E.main=E[T]),!E.hasOwnProperty("main"))throw new Error(Yc(11,I?` (${I})`:"",T));if(typeof E.main!="string")throw new Error(Yc(12,I?` (${I})`:"",JSON.stringify(E.main)));return Ez(E,"light",R,o),Ez(E,"dark",O,o),E.contrastText||(E.contrastText=_(E.main)),E},A={dark:K1,light:xz};return to(V({common:V({},Um),mode:t,primary:y({color:u,name:"primary"}),secondary:y({color:h,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:m,name:"error"}),warning:y({color:v,name:"warning"}),info:y({color:f,name:"info"}),success:y({color:k,name:"success"}),grey:sve,contrastThreshold:r,getContrastText:_,augmentColor:y,tonalOffset:o},A[t]),s)}const Gye=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Kye(e){return Math.round(e*1e5)/1e5}const Sz={textTransform:"uppercase"},Dz='"Roboto", "Helvetica", "Arial", sans-serif';function Yye(e,t){const r=typeof t=="function"?t(e):t,{fontFamily:o=Dz,fontSize:s=14,fontWeightLight:u=300,fontWeightRegular:h=400,fontWeightMedium:m=500,fontWeightBold:f=700,htmlFontSize:k=16,allVariants:v,pxToRem:_}=r,y=_e(r,Gye),A=s/14,S=_||(T=>`${T/k*A}rem`),E=(T,R,O,j,$)=>V({fontFamily:o,fontWeight:T,fontSize:S(R),lineHeight:O},o===Dz?{letterSpacing:`${Kye(j/R)}em`}:{},$,v),I={h1:E(u,96,1.167,-1.5),h2:E(u,60,1.2,-.5),h3:E(h,48,1.167,0),h4:E(h,34,1.235,.25),h5:E(h,24,1.334,0),h6:E(m,20,1.6,.15),subtitle1:E(h,16,1.75,.15),subtitle2:E(m,14,1.57,.1),body1:E(h,16,1.5,.15),body2:E(h,14,1.43,.15),button:E(m,14,1.75,.4,Sz),caption:E(h,12,1.66,.4),overline:E(h,12,2.66,1,Sz),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return to(V({htmlFontSize:k,pxToRem:S,fontFamily:o,fontSize:s,fontWeightLight:u,fontWeightRegular:h,fontWeightMedium:m,fontWeightBold:f},I),y,{clone:!1})}const Qye=.2,Zye=.14,Jye=.12;function yn(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Qye})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Zye})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Jye})`].join(",")}const Xye=["none",yn(0,2,1,-1,0,1,1,0,0,1,3,0),yn(0,3,1,-2,0,2,2,0,0,1,5,0),yn(0,3,3,-2,0,3,4,0,0,1,8,0),yn(0,2,4,-1,0,4,5,0,0,1,10,0),yn(0,3,5,-1,0,5,8,0,0,1,14,0),yn(0,3,5,-1,0,6,10,0,0,1,18,0),yn(0,4,5,-2,0,7,10,1,0,2,16,1),yn(0,5,5,-3,0,8,10,1,0,3,14,2),yn(0,5,6,-3,0,9,12,1,0,3,16,2),yn(0,6,6,-3,0,10,14,1,0,4,18,3),yn(0,6,7,-4,0,11,15,1,0,4,20,3),yn(0,7,8,-4,0,12,17,2,0,5,22,4),yn(0,7,8,-4,0,13,19,2,0,5,24,4),yn(0,7,9,-4,0,14,21,2,0,5,26,4),yn(0,8,9,-5,0,15,22,2,0,6,28,5),yn(0,8,10,-5,0,16,24,2,0,6,30,5),yn(0,8,11,-5,0,17,26,2,0,6,32,5),yn(0,9,11,-5,0,18,28,2,0,7,34,6),yn(0,9,12,-6,0,19,29,2,0,7,36,6),yn(0,10,13,-6,0,20,31,3,0,8,38,7),yn(0,10,13,-6,0,21,33,3,0,8,40,7),yn(0,10,14,-6,0,22,35,3,0,8,42,7),yn(0,11,14,-7,0,23,36,3,0,9,44,8),yn(0,11,15,-7,0,24,38,3,0,9,46,8)],e_e=["duration","easing","delay"],t_e={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},n_e={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Tz(e){return`${Math.round(e)}ms`}function r_e(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function o_e(e){const t=V({},t_e,e.easing),r=V({},n_e,e.duration);return V({getAutoHeightDuration:r_e,create:(s=["all"],u={})=>{const{duration:h=r.standard,easing:m=t.easeInOut,delay:f=0}=u;return _e(u,e_e),(Array.isArray(s)?s:[s]).map(k=>`${k} ${typeof h=="string"?h:Tz(h)} ${m} ${typeof f=="string"?f:Tz(f)}`).join(",")}},e,{easing:t,duration:r})}const i_e={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},s_e=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function dT(e={},...t){const{mixins:r={},palette:o={},transitions:s={},typography:u={}}=e,h=_e(e,s_e);if(e.vars)throw new Error(Yc(18));const m=qye(o),f=Uh(e);let k=to(f,{mixins:Aye(f.breakpoints,r),palette:m,shadows:Xye.slice(),typography:Yye(m,u),transitions:o_e(s),zIndex:V({},i_e)});return k=to(k,h),k=t.reduce((v,_)=>to(v,_),k),k.unstable_sxConfig=V({},Fg,h==null?void 0:h.unstable_sxConfig),k.unstable_sx=function(_){return Vh({sx:_,theme:this})},k}const hT=dT();function fu(){const e=Ky(hT);return e[ch]||e}var Ug={},Y1={exports:{}},Iz;function a_e(){return Iz||(Iz=1,function(e){function t(r,o){if(r==null)return{};var s={};for(var u in r)if({}.hasOwnProperty.call(r,u)){if(o.includes(u))continue;s[u]=r[u]}return s}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Y1)),Y1.exports}const qW=Ms(g0e),l_e=Ms(b0e),c_e=Ms(C0e),u_e=Ms(xwe),d_e=Ms(uwe),h_e=Ms(gwe);var Wh=Zo;Object.defineProperty(Ug,"__esModule",{value:!0});var p_e=Ug.default=E_e;Ug.shouldForwardProp=Vv;Ug.systemDefaultTheme=void 0;var ai=Wh(dW()),XE=Wh(a_e()),Mz=w_e(qW),f_e=l_e;Wh(c_e);Wh(u_e);var m_e=Wh(d_e),g_e=Wh(h_e);const b_e=["ownerState"],k_e=["variants"],v_e=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function GW(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(GW=function(o){return o?r:t})(e)}function w_e(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=GW(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(u!=="default"&&Object.prototype.hasOwnProperty.call(e,u)){var h=s?Object.getOwnPropertyDescriptor(e,u):null;h&&(h.get||h.set)?Object.defineProperty(o,u,h):o[u]=e[u]}return o.default=e,r&&r.set(e,o),o}function y_e(e){return Object.keys(e).length===0}function __e(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Vv(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const C_e=Ug.systemDefaultTheme=(0,m_e.default)(),A_e=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function rv({defaultTheme:e,theme:t,themeId:r}){return y_e(t)?e:t[r]||t}function x_e(e){return e?(t,r)=>r[e]:null}function Uv(e,t){let{ownerState:r}=t,o=(0,XE.default)(t,b_e);const s=typeof e=="function"?e((0,ai.default)({ownerState:r},o)):e;if(Array.isArray(s))return s.flatMap(u=>Uv(u,(0,ai.default)({ownerState:r},o)));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:u=[]}=s;let m=(0,XE.default)(s,k_e);return u.forEach(f=>{let k=!0;typeof f.props=="function"?k=f.props((0,ai.default)({ownerState:r},o,r)):Object.keys(f.props).forEach(v=>{(r==null?void 0:r[v])!==f.props[v]&&o[v]!==f.props[v]&&(k=!1)}),k&&(Array.isArray(m)||(m=[m]),m.push(typeof f.style=="function"?f.style((0,ai.default)({ownerState:r},o,r)):f.style))}),m}return s}function E_e(e={}){const{themeId:t,defaultTheme:r=C_e,rootShouldForwardProp:o=Vv,slotShouldForwardProp:s=Vv}=e,u=h=>(0,g_e.default)((0,ai.default)({},h,{theme:rv((0,ai.default)({},h,{defaultTheme:r,themeId:t}))}));return u.__mui_systemSx=!0,(h,m={})=>{(0,Mz.internal_processStyles)(h,$=>$.filter(H=>!(H!=null&&H.__mui_systemSx)));const{name:f,slot:k,skipVariantsResolver:v,skipSx:_,overridesResolver:y=x_e(A_e(k))}=m,A=(0,XE.default)(m,v_e),S=v!==void 0?v:k&&k!=="Root"&&k!=="root"||!1,E=_||!1;let I,T=Vv;k==="Root"||k==="root"?T=o:k?T=s:__e(h)&&(T=void 0);const R=(0,Mz.default)(h,(0,ai.default)({shouldForwardProp:T,label:I},A)),O=$=>typeof $=="function"&&$.__emotion_real!==$||(0,f_e.isPlainObject)($)?H=>Uv($,(0,ai.default)({},H,{theme:rv({theme:H.theme,defaultTheme:r,themeId:t})})):$,j=($,...H)=>{let P=O($);const z=H?H.map(O):[];f&&y&&z.push(Q=>{const te=rv((0,ai.default)({},Q,{defaultTheme:r,themeId:t}));if(!te.components||!te.components[f]||!te.components[f].styleOverrides)return null;const X=te.components[f].styleOverrides,Z={};return Object.entries(X).forEach(([J,ee])=>{Z[J]=Uv(ee,(0,ai.default)({},Q,{theme:te}))}),y(Q,Z)}),f&&!S&&z.push(Q=>{var te;const X=rv((0,ai.default)({},Q,{defaultTheme:r,themeId:t})),Z=X==null||(te=X.components)==null||(te=te[f])==null?void 0:te.variants;return Uv({variants:Z},(0,ai.default)({},Q,{theme:X}))}),E||z.push(u);const q=z.length-H.length;if(Array.isArray($)&&q>0){const Q=new Array(q).fill("");P=[...$,...Q],P.raw=[...$.raw,...Q]}const K=R(P,...z);return h.muiName&&(K.muiName=h.muiName),K};return R.withConfig&&(j.withConfig=R.withConfig),j}}function KW(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Jo=e=>KW(e)&&e!=="classes",we=p_e({themeId:ch,defaultTheme:hT,rootShouldForwardProp:Jo}),S_e=["theme"];function D_e(e){let{theme:t}=e,r=_e(e,S_e);const o=t[ch];return M.jsx(cye,V({},r,{themeId:o?ch:void 0,theme:o||t}))}const Pz=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function qe(e){return lye(e)}function T_e(e){return Ue("MuiSvgIcon",e)}He("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const I_e=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],M_e=e=>{const{color:t,fontSize:r,classes:o}=e,s={root:["root",t!=="inherit"&&`color${ge(t)}`,`fontSize${ge(r)}`]};return Ke(s,T_e,o)},P_e=we("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${ge(r.color)}`],t[`fontSize${ge(r.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var r,o,s,u,h,m,f,k,v,_,y,A,S;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(r=e.transitions)==null||(o=r.create)==null?void 0:o.call(r,"fill",{duration:(s=e.transitions)==null||(s=s.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((u=e.typography)==null||(h=u.pxToRem)==null?void 0:h.call(u,20))||"1.25rem",medium:((m=e.typography)==null||(f=m.pxToRem)==null?void 0:f.call(m,24))||"1.5rem",large:((k=e.typography)==null||(v=k.pxToRem)==null?void 0:v.call(k,35))||"2.1875rem"}[t.fontSize],color:(_=(y=(e.vars||e).palette)==null||(y=y[t.color])==null?void 0:y.main)!=null?_:{action:(A=(e.vars||e).palette)==null||(A=A.action)==null?void 0:A.active,disabled:(S=(e.vars||e).palette)==null||(S=S.action)==null?void 0:S.disabled,inherit:void 0}[t.color]}}),eS=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiSvgIcon"}),{children:s,className:u,color:h="inherit",component:m="svg",fontSize:f="medium",htmlColor:k,inheritViewBox:v=!1,titleAccess:_,viewBox:y="0 0 24 24"}=o,A=_e(o,I_e),S=L.isValidElement(s)&&s.type==="svg",E=V({},o,{color:h,component:m,fontSize:f,instanceFontSize:t.fontSize,inheritViewBox:v,viewBox:y,hasSvgAsChild:S}),I={};v||(I.viewBox=y);const T=M_e(E);return M.jsxs(P_e,V({as:m,className:ke(T.root,u),focusable:"false",color:k,"aria-hidden":_?void 0:!0,role:_?"img":void 0,ref:r},I,A,S&&s.props,{ownerState:E,children:[S?s.props.children:s,_?M.jsx("title",{children:_}):null]}))});eS.muiName="SvgIcon";function Ol(e,t){function r(o,s){return M.jsx(eS,V({"data-testid":`${t}Icon`,ref:s},o,{children:e}))}return r.muiName=eS.muiName,L.memo(L.forwardRef(r))}const N_e={configure:e=>{oT.configure(e)}},R_e=Object.freeze(Object.defineProperty({__proto__:null,capitalize:ge,createChainedFunction:ZE,createSvgIcon:Ol,debounce:aT,deprecatedPropType:Fwe,isMuiElement:Zf,ownerDocument:ar,ownerWindow:_l,requirePropFactory:zwe,setRef:Y0,unstable_ClassNameGenerator:N_e,unstable_useEnhancedEffect:qo,unstable_useId:$g,unsupportedProp:Vwe,useControlled:Q0,useEventCallback:mi,useForkRef:Cn,useIsFocusVisible:s_},Symbol.toStringTag,{value:"Module"}));function tS(e,t){return tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},tS(e,t)}function YW(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,tS(e,t)}const Nz={disabled:!1},tw=le.createContext(null);var O_e=function(t){return t.scrollTop},If="unmounted",dc="exited",hc="entering",dd="entered",nS="exiting",Rs=function(e){YW(t,e);function t(o,s){var u;u=e.call(this,o,s)||this;var h=s,m=h&&!h.isMounting?o.enter:o.appear,f;return u.appearStatus=null,o.in?m?(f=dc,u.appearStatus=hc):f=dd:o.unmountOnExit||o.mountOnEnter?f=If:f=dc,u.state={status:f},u.nextCallback=null,u}t.getDerivedStateFromProps=function(s,u){var h=s.in;return h&&u.status===If?{status:dc}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(s){var u=null;if(s!==this.props){var h=this.state.status;this.props.in?h!==hc&&h!==dd&&(u=hc):(h===hc||h===dd)&&(u=nS)}this.updateStatus(!1,u)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var s=this.props.timeout,u,h,m;return u=h=m=s,s!=null&&typeof s!="number"&&(u=s.exit,h=s.enter,m=s.appear!==void 0?s.appear:h),{exit:u,enter:h,appear:m}},r.updateStatus=function(s,u){if(s===void 0&&(s=!1),u!==null)if(this.cancelNextCallback(),u===hc){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:Af.findDOMNode(this);h&&O_e(h)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===dc&&this.setState({status:If})},r.performEnter=function(s){var u=this,h=this.props.enter,m=this.context?this.context.isMounting:s,f=this.props.nodeRef?[m]:[Af.findDOMNode(this),m],k=f[0],v=f[1],_=this.getTimeouts(),y=m?_.appear:_.enter;if(!s&&!h||Nz.disabled){this.safeSetState({status:dd},function(){u.props.onEntered(k)});return}this.props.onEnter(k,v),this.safeSetState({status:hc},function(){u.props.onEntering(k,v),u.onTransitionEnd(y,function(){u.safeSetState({status:dd},function(){u.props.onEntered(k,v)})})})},r.performExit=function(){var s=this,u=this.props.exit,h=this.getTimeouts(),m=this.props.nodeRef?void 0:Af.findDOMNode(this);if(!u||Nz.disabled){this.safeSetState({status:dc},function(){s.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:nS},function(){s.props.onExiting(m),s.onTransitionEnd(h.exit,function(){s.safeSetState({status:dc},function(){s.props.onExited(m)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(s,u){u=this.setNextCallback(u),this.setState(s,u)},r.setNextCallback=function(s){var u=this,h=!0;return this.nextCallback=function(m){h&&(h=!1,u.nextCallback=null,s(m))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},r.onTransitionEnd=function(s,u){this.setNextCallback(u);var h=this.props.nodeRef?this.props.nodeRef.current:Af.findDOMNode(this),m=s==null&&!this.props.addEndListener;if(!h||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],k=f[0],v=f[1];this.props.addEndListener(k,v)}s!=null&&setTimeout(this.nextCallback,s)},r.render=function(){var s=this.state.status;if(s===If)return null;var u=this.props,h=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var m=_e(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return le.createElement(tw.Provider,{value:null},typeof h=="function"?h(s,m):le.cloneElement(le.Children.only(h),m))},t}(le.Component);Rs.contextType=tw;Rs.propTypes={};function ad(){}Rs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ad,onEntering:ad,onEntered:ad,onExit:ad,onExiting:ad,onExited:ad};Rs.UNMOUNTED=If;Rs.EXITED=dc;Rs.ENTERING=hc;Rs.ENTERED=dd;Rs.EXITING=nS;function B_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pT(e,t){var r=function(u){return t&&L.isValidElement(u)?t(u):u},o=Object.create(null);return e&&L.Children.map(e,function(s){return s}).forEach(function(s){o[s.key]=r(s)}),o}function L_e(e,t){e=e||{},t=t||{};function r(v){return v in t?t[v]:e[v]}var o=Object.create(null),s=[];for(var u in e)u in t?s.length&&(o[u]=s,s=[]):s.push(u);var h,m={};for(var f in t){if(o[f])for(h=0;h<o[f].length;h++){var k=o[f][h];m[o[f][h]]=r(k)}m[f]=r(f)}for(h=0;h<s.length;h++)m[s[h]]=r(s[h]);return m}function _c(e,t,r){return r[t]!=null?r[t]:e.props[t]}function j_e(e,t){return pT(e.children,function(r){return L.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:_c(r,"appear",e),enter:_c(r,"enter",e),exit:_c(r,"exit",e)})})}function F_e(e,t,r){var o=pT(e.children),s=L_e(t,o);return Object.keys(s).forEach(function(u){var h=s[u];if(L.isValidElement(h)){var m=u in t,f=u in o,k=t[u],v=L.isValidElement(k)&&!k.props.in;f&&(!m||v)?s[u]=L.cloneElement(h,{onExited:r.bind(null,h),in:!0,exit:_c(h,"exit",e),enter:_c(h,"enter",e)}):!f&&m&&!v?s[u]=L.cloneElement(h,{in:!1}):f&&m&&L.isValidElement(k)&&(s[u]=L.cloneElement(h,{onExited:r.bind(null,h),in:k.props.in,exit:_c(h,"exit",e),enter:_c(h,"enter",e)}))}}),s}var z_e=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},$_e={component:"div",childFactory:function(t){return t}},fT=function(e){YW(t,e);function t(o,s){var u;u=e.call(this,o,s)||this;var h=u.handleExited.bind(B_e(u));return u.state={contextValue:{isMounting:!0},handleExited:h,firstRender:!0},u}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(s,u){var h=u.children,m=u.handleExited,f=u.firstRender;return{children:f?j_e(s,m):F_e(s,h,m),firstRender:!1}},r.handleExited=function(s,u){var h=pT(this.props.children);s.key in h||(s.props.onExited&&s.props.onExited(u),this.mounted&&this.setState(function(m){var f=V({},m.children);return delete f[s.key],{children:f}}))},r.render=function(){var s=this.props,u=s.component,h=s.childFactory,m=_e(s,["component","childFactory"]),f=this.state.contextValue,k=z_e(this.state.children).map(h);return delete m.appear,delete m.enter,delete m.exit,u===null?le.createElement(tw.Provider,{value:f},k):le.createElement(tw.Provider,{value:f},le.createElement(u,m,k))},t}(le.Component);fT.propTypes={};fT.defaultProps=$_e;const QW=e=>e.scrollTop;function nw(e,t){var r,o;const{timeout:s,easing:u,style:h={}}=e;return{duration:(r=h.transitionDuration)!=null?r:typeof s=="number"?s:s[t.mode]||0,easing:(o=h.transitionTimingFunction)!=null?o:typeof u=="object"?u[t.mode]:u,delay:h.transitionDelay}}function V_e(e){return Ue("MuiPaper",e)}He("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const U_e=["className","component","elevation","square","variant"],H_e=e=>{const{square:t,elevation:r,variant:o,classes:s}=e,u={root:["root",o,!t&&"rounded",o==="elevation"&&`elevation${r}`]};return Ke(u,V_e,s)},W_e=we("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(({theme:e,ownerState:t})=>{var r;return V({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&V({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Et("#fff",Pz(t.elevation))}, ${Et("#fff",Pz(t.elevation))})`},e.vars&&{backgroundImage:(r=e.vars.overlays)==null?void 0:r[t.elevation]}))}),Gi=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiPaper"}),{className:s,component:u="div",elevation:h=1,square:m=!1,variant:f="elevation"}=o,k=_e(o,U_e),v=V({},o,{component:u,elevation:h,square:m,variant:f}),_=H_e(v);return M.jsx(W_e,V({as:u,ownerState:v,className:ke(_.root,s),ref:r},k))}),q_e=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],G_e=["component","slots","slotProps"],K_e=["component"];function Rz(e,t){const{className:r,elementType:o,ownerState:s,externalForwardedProps:u,getSlotOwnerState:h,internalForwardedProps:m}=t,f=_e(t,q_e),{component:k,slots:v={[e]:void 0},slotProps:_={[e]:void 0}}=u,y=_e(u,G_e),A=v[e]||o,S=NW(_[e],s),E=PW(V({className:r},f,{externalForwardedProps:e==="root"?y:void 0,externalSlotProps:S})),{props:{component:I},internalRef:T}=E,R=_e(E.props,K_e),O=Cn(T,S==null?void 0:S.ref,t.ref),j=h?h(R):{},$=V({},s,j),H=e==="root"?I||k:I,P=Sd(A,V({},e==="root"&&!k&&!v[e]&&m,e!=="root"&&!v[e]&&m,R,H&&{as:H},{ref:O}),$);return Object.keys(j).forEach(z=>{delete P[z]}),[A,P]}function Y_e(e){const{className:t,classes:r,pulsate:o=!1,rippleX:s,rippleY:u,rippleSize:h,in:m,onExited:f,timeout:k}=e,[v,_]=L.useState(!1),y=ke(t,r.ripple,r.rippleVisible,o&&r.ripplePulsate),A={width:h,height:h,top:-(h/2)+u,left:-(h/2)+s},S=ke(r.child,v&&r.childLeaving,o&&r.childPulsate);return!m&&!v&&_(!0),L.useEffect(()=>{if(!m&&f!=null){const E=setTimeout(f,k);return()=>{clearTimeout(E)}}},[f,m,k]),M.jsx("span",{className:y,style:A,children:M.jsx("span",{className:S})})}const ci=He("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Q_e=["center","classes","className"];let a_=e=>e,Oz,Bz,Lz,jz;const rS=550,Z_e=80,J_e=$h(Oz||(Oz=a_`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),X_e=$h(Bz||(Bz=a_`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),eCe=$h(Lz||(Lz=a_`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),tCe=we("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),nCe=we(Y_e,{name:"MuiTouchRipple",slot:"Ripple"})(jz||(jz=a_`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ci.rippleVisible,J_e,rS,({theme:e})=>e.transitions.easing.easeInOut,ci.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,ci.child,ci.childLeaving,X_e,rS,({theme:e})=>e.transitions.easing.easeInOut,ci.childPulsate,eCe,({theme:e})=>e.transitions.easing.easeInOut),rCe=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiTouchRipple"}),{center:s=!1,classes:u={},className:h}=o,m=_e(o,Q_e),[f,k]=L.useState([]),v=L.useRef(0),_=L.useRef(null);L.useEffect(()=>{_.current&&(_.current(),_.current=null)},[f]);const y=L.useRef(!1),A=yc(),S=L.useRef(null),E=L.useRef(null),I=L.useCallback(j=>{const{pulsate:$,rippleX:H,rippleY:P,rippleSize:z,cb:q}=j;k(K=>[...K,M.jsx(nCe,{classes:{ripple:ke(u.ripple,ci.ripple),rippleVisible:ke(u.rippleVisible,ci.rippleVisible),ripplePulsate:ke(u.ripplePulsate,ci.ripplePulsate),child:ke(u.child,ci.child),childLeaving:ke(u.childLeaving,ci.childLeaving),childPulsate:ke(u.childPulsate,ci.childPulsate)},timeout:rS,pulsate:$,rippleX:H,rippleY:P,rippleSize:z},v.current)]),v.current+=1,_.current=q},[u]),T=L.useCallback((j={},$={},H=()=>{})=>{const{pulsate:P=!1,center:z=s||$.pulsate,fakeElement:q=!1}=$;if((j==null?void 0:j.type)==="mousedown"&&y.current){y.current=!1;return}(j==null?void 0:j.type)==="touchstart"&&(y.current=!0);const K=q?null:E.current,Q=K?K.getBoundingClientRect():{width:0,height:0,left:0,top:0};let te,X,Z;if(z||j===void 0||j.clientX===0&&j.clientY===0||!j.clientX&&!j.touches)te=Math.round(Q.width/2),X=Math.round(Q.height/2);else{const{clientX:J,clientY:ee}=j.touches&&j.touches.length>0?j.touches[0]:j;te=Math.round(J-Q.left),X=Math.round(ee-Q.top)}if(z)Z=Math.sqrt((2*Q.width**2+Q.height**2)/3),Z%2===0&&(Z+=1);else{const J=Math.max(Math.abs((K?K.clientWidth:0)-te),te)*2+2,ee=Math.max(Math.abs((K?K.clientHeight:0)-X),X)*2+2;Z=Math.sqrt(J**2+ee**2)}j!=null&&j.touches?S.current===null&&(S.current=()=>{I({pulsate:P,rippleX:te,rippleY:X,rippleSize:Z,cb:H})},A.start(Z_e,()=>{S.current&&(S.current(),S.current=null)})):I({pulsate:P,rippleX:te,rippleY:X,rippleSize:Z,cb:H})},[s,I,A]),R=L.useCallback(()=>{T({},{pulsate:!0})},[T]),O=L.useCallback((j,$)=>{if(A.clear(),(j==null?void 0:j.type)==="touchend"&&S.current){S.current(),S.current=null,A.start(0,()=>{O(j,$)});return}S.current=null,k(H=>H.length>0?H.slice(1):H),_.current=$},[A]);return L.useImperativeHandle(r,()=>({pulsate:R,start:T,stop:O}),[R,T,O]),M.jsx(tCe,V({className:ke(ci.root,u.root,h),ref:E},m,{children:M.jsx(fT,{component:null,exit:!0,children:f})}))});function oCe(e){return Ue("MuiButtonBase",e)}const iCe=He("MuiButtonBase",["root","disabled","focusVisible"]),sCe=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],aCe=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:o,classes:s}=e,h=Ke({root:["root",t&&"disabled",r&&"focusVisible"]},oCe,s);return r&&o&&(h.root+=` ${o}`),h},lCe=we("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${iCe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Zc=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiButtonBase"}),{action:s,centerRipple:u=!1,children:h,className:m,component:f="button",disabled:k=!1,disableRipple:v=!1,disableTouchRipple:_=!1,focusRipple:y=!1,LinkComponent:A="a",onBlur:S,onClick:E,onContextMenu:I,onDragLeave:T,onFocus:R,onFocusVisible:O,onKeyDown:j,onKeyUp:$,onMouseDown:H,onMouseLeave:P,onMouseUp:z,onTouchEnd:q,onTouchMove:K,onTouchStart:Q,tabIndex:te=0,TouchRippleProps:X,touchRippleRef:Z,type:J}=o,ee=_e(o,sCe),ne=L.useRef(null),G=L.useRef(null),re=Cn(G,Z),{isFocusVisibleRef:de,onFocus:Ae,onBlur:Me,ref:Je}=s_(),[Fe,Xe]=L.useState(!1);k&&Fe&&Xe(!1),L.useImperativeHandle(s,()=>({focusVisible:()=>{Xe(!0),ne.current.focus()}}),[]);const[Se,ct]=L.useState(!1);L.useEffect(()=>{ct(!0)},[]);const pt=Se&&!v&&!k;L.useEffect(()=>{Fe&&y&&!v&&Se&&G.current.pulsate()},[v,y,Fe,Se]);function ut(Qe,cn,Si=_){return mi(Ao=>(cn&&cn(Ao),!Si&&G.current&&G.current[Qe](Ao),!0))}const yt=ut("start",H),tt=ut("stop",I),Re=ut("stop",T),be=ut("stop",z),Te=ut("stop",Qe=>{Fe&&Qe.preventDefault(),P&&P(Qe)}),Ye=ut("start",Q),Xt=ut("stop",q),Dt=ut("stop",K),bt=ut("stop",Qe=>{Me(Qe),de.current===!1&&Xe(!1),S&&S(Qe)},!1),Ot=mi(Qe=>{ne.current||(ne.current=Qe.currentTarget),Ae(Qe),de.current===!0&&(Xe(!0),O&&O(Qe)),R&&R(Qe)}),nt=()=>{const Qe=ne.current;return f&&f!=="button"&&!(Qe.tagName==="A"&&Qe.href)},se=L.useRef(!1),ae=mi(Qe=>{y&&!se.current&&Fe&&G.current&&Qe.key===" "&&(se.current=!0,G.current.stop(Qe,()=>{G.current.start(Qe)})),Qe.target===Qe.currentTarget&&nt()&&Qe.key===" "&&Qe.preventDefault(),j&&j(Qe),Qe.target===Qe.currentTarget&&nt()&&Qe.key==="Enter"&&!k&&(Qe.preventDefault(),E&&E(Qe))}),ce=mi(Qe=>{y&&Qe.key===" "&&G.current&&Fe&&!Qe.defaultPrevented&&(se.current=!1,G.current.stop(Qe,()=>{G.current.pulsate(Qe)})),$&&$(Qe),E&&Qe.target===Qe.currentTarget&&nt()&&Qe.key===" "&&!Qe.defaultPrevented&&E(Qe)});let fe=f;fe==="button"&&(ee.href||ee.to)&&(fe=A);const Pe={};fe==="button"?(Pe.type=J===void 0?"button":J,Pe.disabled=k):(!ee.href&&!ee.to&&(Pe.role="button"),k&&(Pe["aria-disabled"]=k));const ht=Cn(r,Je,ne),cr=V({},o,{centerRipple:u,component:f,disabled:k,disableRipple:v,disableTouchRipple:_,focusRipple:y,tabIndex:te,focusVisible:Fe}),Tt=aCe(cr);return M.jsxs(lCe,V({as:fe,className:ke(Tt.root,m),ownerState:cr,onBlur:bt,onClick:E,onContextMenu:tt,onFocus:Ot,onKeyDown:ae,onKeyUp:ce,onMouseDown:yt,onMouseLeave:Te,onMouseUp:be,onDragLeave:Re,onTouchEnd:Xt,onTouchMove:Dt,onTouchStart:Ye,ref:ht,tabIndex:k?-1:te,type:J},Pe,ee,{children:[h,pt?M.jsx(rCe,V({ref:re,center:u},X)):null]}))});function cCe(e){return Ue("MuiAlert",e)}const Fz=He("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function uCe(e){return Ue("MuiIconButton",e)}const dCe=He("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),hCe=["edge","children","className","color","disabled","disableFocusRipple","size"],pCe=e=>{const{classes:t,disabled:r,color:o,edge:s,size:u}=e,h={root:["root",r&&"disabled",o!=="default"&&`color${ge(o)}`,s&&`edge${ge(s)}`,`size${ge(u)}`]};return Ke(h,uCe,t)},fCe=we(Zc,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="default"&&t[`color${ge(r.color)}`],r.edge&&t[`edge${ge(r.edge)}`],t[`size${ge(r.size)}`]]}})(({theme:e,ownerState:t})=>V({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Et(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var r;const o=(r=(e.vars||e).palette)==null?void 0:r[t.color];return V({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&V({color:o==null?void 0:o.main},!t.disableRipple&&{"&:hover":V({},o&&{backgroundColor:e.vars?`rgba(${o.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Et(o.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${dCe.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),mr=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiIconButton"}),{edge:s=!1,children:u,className:h,color:m="default",disabled:f=!1,disableFocusRipple:k=!1,size:v="medium"}=o,_=_e(o,hCe),y=V({},o,{edge:s,color:m,disabled:f,disableFocusRipple:k,size:v}),A=pCe(y);return M.jsx(fCe,V({className:ke(A.root,h),centerRipple:!0,focusRipple:!k,disabled:f,ref:r},_,{ownerState:y,children:u}))}),mCe=Ol(M.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),gCe=Ol(M.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),bCe=Ol(M.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),kCe=Ol(M.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),vCe=Ol(M.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),wCe=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],yCe=e=>{const{variant:t,color:r,severity:o,classes:s}=e,u={root:["root",`color${ge(r||o)}`,`${t}${ge(r||o)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return Ke(u,cCe,s)},_Ce=we(Gi,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${ge(r.color||r.severity)}`]]}})(({theme:e})=>{const t=e.palette.mode==="light"?J0:X0,r=e.palette.mode==="light"?X0:J0;return V({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(([,o])=>o.main&&o.light).map(([o])=>({props:{colorSeverity:o,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${o}Color`]:t(e.palette[o].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${o}StandardBg`]:r(e.palette[o].light,.9),[`& .${Fz.icon}`]:e.vars?{color:e.vars.palette.Alert[`${o}IconColor`]}:{color:e.palette[o].main}}})),...Object.entries(e.palette).filter(([,o])=>o.main&&o.light).map(([o])=>({props:{colorSeverity:o,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${o}Color`]:t(e.palette[o].light,.6),border:`1px solid ${(e.vars||e).palette[o].light}`,[`& .${Fz.icon}`]:e.vars?{color:e.vars.palette.Alert[`${o}IconColor`]}:{color:e.palette[o].main}}})),...Object.entries(e.palette).filter(([,o])=>o.main&&o.dark).map(([o])=>({props:{colorSeverity:o,variant:"filled"},style:V({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${o}FilledColor`],backgroundColor:e.vars.palette.Alert[`${o}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[o].dark:e.palette[o].main,color:e.palette.getContrastText(e.palette[o].main)})}))]})}),CCe=we("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),ACe=we("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),zz=we("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),$z={success:M.jsx(mCe,{fontSize:"inherit"}),warning:M.jsx(gCe,{fontSize:"inherit"}),error:M.jsx(bCe,{fontSize:"inherit"}),info:M.jsx(kCe,{fontSize:"inherit"})},mu=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiAlert"}),{action:s,children:u,className:h,closeText:m="Close",color:f,components:k={},componentsProps:v={},icon:_,iconMapping:y=$z,onClose:A,role:S="alert",severity:E="success",slotProps:I={},slots:T={},variant:R="standard"}=o,O=_e(o,wCe),j=V({},o,{color:f,severity:E,variant:R,colorSeverity:f||E}),$=yCe(j),H={slots:V({closeButton:k.CloseButton,closeIcon:k.CloseIcon},T),slotProps:V({},v,I)},[P,z]=Rz("closeButton",{elementType:mr,externalForwardedProps:H,ownerState:j}),[q,K]=Rz("closeIcon",{elementType:vCe,externalForwardedProps:H,ownerState:j});return M.jsxs(_Ce,V({role:S,elevation:0,ownerState:j,className:ke($.root,h),ref:r},O,{children:[_!==!1?M.jsx(CCe,{ownerState:j,className:$.icon,children:_||y[E]||$z[E]}):null,M.jsx(ACe,{ownerState:j,className:$.message,children:u}),s!=null?M.jsx(zz,{ownerState:j,className:$.action,children:s}):null,s==null&&A?M.jsx(zz,{ownerState:j,className:$.action,children:M.jsx(P,V({size:"small","aria-label":m,title:m,color:"inherit",onClick:A},z,{children:M.jsx(q,V({fontSize:"small"},K))}))}):null]}))});function xCe(e){return Ue("MuiTypography",e)}He("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const ECe=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],SCe=e=>{const{align:t,gutterBottom:r,noWrap:o,paragraph:s,variant:u,classes:h}=e,m={root:["root",u,e.align!=="inherit"&&`align${ge(t)}`,r&&"gutterBottom",o&&"noWrap",s&&"paragraph"]};return Ke(m,xCe,h)},DCe=we("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${ge(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>V({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),Vz={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},TCe={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},ICe=e=>TCe[e]||e,$e=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiTypography"}),s=ICe(o.color),u=zg(V({},o,{color:s})),{align:h="inherit",className:m,component:f,gutterBottom:k=!1,noWrap:v=!1,paragraph:_=!1,variant:y="body1",variantMapping:A=Vz}=u,S=_e(u,ECe),E=V({},u,{align:h,color:s,className:m,component:f,gutterBottom:k,noWrap:v,paragraph:_,variant:y,variantMapping:A}),I=f||(_?"p":A[y]||Vz[y])||"span",T=SCe(E);return M.jsx(DCe,V({as:I,ref:r,ownerState:E,className:ke(T.root,m)},S))});function MCe(e){return Ue("MuiAppBar",e)}He("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const PCe=["className","color","enableColorOnDark","position"],NCe=e=>{const{color:t,position:r,classes:o}=e,s={root:["root",`color${ge(t)}`,`position${ge(r)}`]};return Ke(s,MCe,o)},ov=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,RCe=we(Gi,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`position${ge(r.position)}`],t[`color${ge(r.color)}`]]}})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[900];return V({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},t.position==="fixed"&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},t.position==="absolute"&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="sticky"&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="static"&&{position:"static"},t.position==="relative"&&{position:"relative"},!e.vars&&V({},t.color==="default"&&{backgroundColor:r,color:e.palette.getContrastText(r)},t.color&&t.color!=="default"&&t.color!=="inherit"&&t.color!=="transparent"&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},t.color==="inherit"&&{color:"inherit"},e.palette.mode==="dark"&&!t.enableColorOnDark&&{backgroundColor:null,color:null},t.color==="transparent"&&V({backgroundColor:"transparent",color:"inherit"},e.palette.mode==="dark"&&{backgroundImage:"none"})),e.vars&&V({},t.color==="default"&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette.AppBar.defaultBg:ov(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?e.vars.palette.text.primary:ov(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette[t.color].main:ov(e.vars.palette.AppBar.darkBg,e.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?e.vars.palette[t.color].contrastText:ov(e.vars.palette.AppBar.darkColor,e.vars.palette[t.color].contrastText)},!["inherit","transparent"].includes(t.color)&&{backgroundColor:"var(--AppBar-background)"},{color:t.color==="inherit"?"inherit":"var(--AppBar-color)"},t.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),OCe=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiAppBar"}),{className:s,color:u="primary",enableColorOnDark:h=!1,position:m="fixed"}=o,f=_e(o,PCe),k=V({},o,{color:u,position:m,enableColorOnDark:h}),v=NCe(k);return M.jsx(RCe,V({square:!0,component:"header",ownerState:k,elevation:4,className:ke(v.root,s,m==="fixed"&&"mui-fixed"),ref:r},f))});var mT={};Object.defineProperty(mT,"__esModule",{value:!0});var ZW=mT.default=void 0,BCe=jCe(L),LCe=qW;function JW(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(JW=function(o){return o?r:t})(e)}function jCe(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=JW(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(u!=="default"&&Object.prototype.hasOwnProperty.call(e,u)){var h=s?Object.getOwnPropertyDescriptor(e,u):null;h&&(h.get||h.set)?Object.defineProperty(o,u,h):o[u]=e[u]}return o.default=e,r&&r.set(e,o),o}function FCe(e){return Object.keys(e).length===0}function zCe(e=null){const t=BCe.useContext(LCe.ThemeContext);return!t||FCe(t)?e:t}ZW=mT.default=zCe;var vo="top",_i="bottom",Ci="right",wo="left",gT="auto",Hg=[vo,_i,Ci,wo],ph="start",Km="end",$Ce="clippingParents",XW="viewport",nf="popper",VCe="reference",Uz=Hg.reduce(function(e,t){return e.concat([t+"-"+ph,t+"-"+Km])},[]),eq=[].concat(Hg,[gT]).reduce(function(e,t){return e.concat([t,t+"-"+ph,t+"-"+Km])},[]),UCe="beforeRead",HCe="read",WCe="afterRead",qCe="beforeMain",GCe="main",KCe="afterMain",YCe="beforeWrite",QCe="write",ZCe="afterWrite",JCe=[UCe,HCe,WCe,qCe,GCe,KCe,YCe,QCe,ZCe];function Ts(e){return e?(e.nodeName||"").toLowerCase():null}function Go(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Jc(e){var t=Go(e).Element;return e instanceof t||e instanceof Element}function ki(e){var t=Go(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function bT(e){if(typeof ShadowRoot>"u")return!1;var t=Go(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function XCe(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var o=t.styles[r]||{},s=t.attributes[r]||{},u=t.elements[r];!ki(u)||!Ts(u)||(Object.assign(u.style,o),Object.keys(s).forEach(function(h){var m=s[h];m===!1?u.removeAttribute(h):u.setAttribute(h,m===!0?"":m)}))})}function eAe(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(o){var s=t.elements[o],u=t.attributes[o]||{},h=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:r[o]),m=h.reduce(function(f,k){return f[k]="",f},{});!ki(s)||!Ts(s)||(Object.assign(s.style,m),Object.keys(u).forEach(function(f){s.removeAttribute(f)}))})}}const tAe={name:"applyStyles",enabled:!0,phase:"write",fn:XCe,effect:eAe,requires:["computeStyles"]};function As(e){return e.split("-")[0]}var Pc=Math.max,rw=Math.min,fh=Math.round;function oS(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function tq(){return!/^((?!chrome|android).)*safari/i.test(oS())}function mh(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var o=e.getBoundingClientRect(),s=1,u=1;t&&ki(e)&&(s=e.offsetWidth>0&&fh(o.width)/e.offsetWidth||1,u=e.offsetHeight>0&&fh(o.height)/e.offsetHeight||1);var h=Jc(e)?Go(e):window,m=h.visualViewport,f=!tq()&&r,k=(o.left+(f&&m?m.offsetLeft:0))/s,v=(o.top+(f&&m?m.offsetTop:0))/u,_=o.width/s,y=o.height/u;return{width:_,height:y,top:v,right:k+_,bottom:v+y,left:k,x:k,y:v}}function kT(e){var t=mh(e),r=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:o}}function nq(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&bT(r)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function wa(e){return Go(e).getComputedStyle(e)}function nAe(e){return["table","td","th"].indexOf(Ts(e))>=0}function Bl(e){return((Jc(e)?e.ownerDocument:e.document)||window.document).documentElement}function l_(e){return Ts(e)==="html"?e:e.assignedSlot||e.parentNode||(bT(e)?e.host:null)||Bl(e)}function Hz(e){return!ki(e)||wa(e).position==="fixed"?null:e.offsetParent}function rAe(e){var t=/firefox/i.test(oS()),r=/Trident/i.test(oS());if(r&&ki(e)){var o=wa(e);if(o.position==="fixed")return null}var s=l_(e);for(bT(s)&&(s=s.host);ki(s)&&["html","body"].indexOf(Ts(s))<0;){var u=wa(s);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||t&&u.willChange==="filter"||t&&u.filter&&u.filter!=="none")return s;s=s.parentNode}return null}function Wg(e){for(var t=Go(e),r=Hz(e);r&&nAe(r)&&wa(r).position==="static";)r=Hz(r);return r&&(Ts(r)==="html"||Ts(r)==="body"&&wa(r).position==="static")?t:r||rAe(e)||t}function vT(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Jf(e,t,r){return Pc(e,rw(t,r))}function oAe(e,t,r){var o=Jf(e,t,r);return o>r?r:o}function rq(){return{top:0,right:0,bottom:0,left:0}}function oq(e){return Object.assign({},rq(),e)}function iq(e,t){return t.reduce(function(r,o){return r[o]=e,r},{})}var iAe=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,oq(typeof t!="number"?t:iq(t,Hg))};function sAe(e){var t,r=e.state,o=e.name,s=e.options,u=r.elements.arrow,h=r.modifiersData.popperOffsets,m=As(r.placement),f=vT(m),k=[wo,Ci].indexOf(m)>=0,v=k?"height":"width";if(!(!u||!h)){var _=iAe(s.padding,r),y=kT(u),A=f==="y"?vo:wo,S=f==="y"?_i:Ci,E=r.rects.reference[v]+r.rects.reference[f]-h[f]-r.rects.popper[v],I=h[f]-r.rects.reference[f],T=Wg(u),R=T?f==="y"?T.clientHeight||0:T.clientWidth||0:0,O=E/2-I/2,j=_[A],$=R-y[v]-_[S],H=R/2-y[v]/2+O,P=Jf(j,H,$),z=f;r.modifiersData[o]=(t={},t[z]=P,t.centerOffset=P-H,t)}}function aAe(e){var t=e.state,r=e.options,o=r.element,s=o===void 0?"[data-popper-arrow]":o;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||nq(t.elements.popper,s)&&(t.elements.arrow=s))}const lAe={name:"arrow",enabled:!0,phase:"main",fn:sAe,effect:aAe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function gh(e){return e.split("-")[1]}var cAe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function uAe(e,t){var r=e.x,o=e.y,s=t.devicePixelRatio||1;return{x:fh(r*s)/s||0,y:fh(o*s)/s||0}}function Wz(e){var t,r=e.popper,o=e.popperRect,s=e.placement,u=e.variation,h=e.offsets,m=e.position,f=e.gpuAcceleration,k=e.adaptive,v=e.roundOffsets,_=e.isFixed,y=h.x,A=y===void 0?0:y,S=h.y,E=S===void 0?0:S,I=typeof v=="function"?v({x:A,y:E}):{x:A,y:E};A=I.x,E=I.y;var T=h.hasOwnProperty("x"),R=h.hasOwnProperty("y"),O=wo,j=vo,$=window;if(k){var H=Wg(r),P="clientHeight",z="clientWidth";if(H===Go(r)&&(H=Bl(r),wa(H).position!=="static"&&m==="absolute"&&(P="scrollHeight",z="scrollWidth")),H=H,s===vo||(s===wo||s===Ci)&&u===Km){j=_i;var q=_&&H===$&&$.visualViewport?$.visualViewport.height:H[P];E-=q-o.height,E*=f?1:-1}if(s===wo||(s===vo||s===_i)&&u===Km){O=Ci;var K=_&&H===$&&$.visualViewport?$.visualViewport.width:H[z];A-=K-o.width,A*=f?1:-1}}var Q=Object.assign({position:m},k&&cAe),te=v===!0?uAe({x:A,y:E},Go(r)):{x:A,y:E};if(A=te.x,E=te.y,f){var X;return Object.assign({},Q,(X={},X[j]=R?"0":"",X[O]=T?"0":"",X.transform=($.devicePixelRatio||1)<=1?"translate("+A+"px, "+E+"px)":"translate3d("+A+"px, "+E+"px, 0)",X))}return Object.assign({},Q,(t={},t[j]=R?E+"px":"",t[O]=T?A+"px":"",t.transform="",t))}function dAe(e){var t=e.state,r=e.options,o=r.gpuAcceleration,s=o===void 0?!0:o,u=r.adaptive,h=u===void 0?!0:u,m=r.roundOffsets,f=m===void 0?!0:m,k={placement:As(t.placement),variation:gh(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Wz(Object.assign({},k,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:h,roundOffsets:f})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Wz(Object.assign({},k,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const hAe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:dAe,data:{}};var iv={passive:!0};function pAe(e){var t=e.state,r=e.instance,o=e.options,s=o.scroll,u=s===void 0?!0:s,h=o.resize,m=h===void 0?!0:h,f=Go(t.elements.popper),k=[].concat(t.scrollParents.reference,t.scrollParents.popper);return u&&k.forEach(function(v){v.addEventListener("scroll",r.update,iv)}),m&&f.addEventListener("resize",r.update,iv),function(){u&&k.forEach(function(v){v.removeEventListener("scroll",r.update,iv)}),m&&f.removeEventListener("resize",r.update,iv)}}const fAe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:pAe,data:{}};var mAe={left:"right",right:"left",bottom:"top",top:"bottom"};function Hv(e){return e.replace(/left|right|bottom|top/g,function(t){return mAe[t]})}var gAe={start:"end",end:"start"};function qz(e){return e.replace(/start|end/g,function(t){return gAe[t]})}function wT(e){var t=Go(e),r=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:r,scrollTop:o}}function yT(e){return mh(Bl(e)).left+wT(e).scrollLeft}function bAe(e,t){var r=Go(e),o=Bl(e),s=r.visualViewport,u=o.clientWidth,h=o.clientHeight,m=0,f=0;if(s){u=s.width,h=s.height;var k=tq();(k||!k&&t==="fixed")&&(m=s.offsetLeft,f=s.offsetTop)}return{width:u,height:h,x:m+yT(e),y:f}}function kAe(e){var t,r=Bl(e),o=wT(e),s=(t=e.ownerDocument)==null?void 0:t.body,u=Pc(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),h=Pc(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),m=-o.scrollLeft+yT(e),f=-o.scrollTop;return wa(s||r).direction==="rtl"&&(m+=Pc(r.clientWidth,s?s.clientWidth:0)-u),{width:u,height:h,x:m,y:f}}function _T(e){var t=wa(e),r=t.overflow,o=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+o)}function sq(e){return["html","body","#document"].indexOf(Ts(e))>=0?e.ownerDocument.body:ki(e)&&_T(e)?e:sq(l_(e))}function Xf(e,t){var r;t===void 0&&(t=[]);var o=sq(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),u=Go(o),h=s?[u].concat(u.visualViewport||[],_T(o)?o:[]):o,m=t.concat(h);return s?m:m.concat(Xf(l_(h)))}function iS(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function vAe(e,t){var r=mh(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function Gz(e,t,r){return t===XW?iS(bAe(e,r)):Jc(t)?vAe(t,r):iS(kAe(Bl(e)))}function wAe(e){var t=Xf(l_(e)),r=["absolute","fixed"].indexOf(wa(e).position)>=0,o=r&&ki(e)?Wg(e):e;return Jc(o)?t.filter(function(s){return Jc(s)&&nq(s,o)&&Ts(s)!=="body"}):[]}function yAe(e,t,r,o){var s=t==="clippingParents"?wAe(e):[].concat(t),u=[].concat(s,[r]),h=u[0],m=u.reduce(function(f,k){var v=Gz(e,k,o);return f.top=Pc(v.top,f.top),f.right=rw(v.right,f.right),f.bottom=rw(v.bottom,f.bottom),f.left=Pc(v.left,f.left),f},Gz(e,h,o));return m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m}function aq(e){var t=e.reference,r=e.element,o=e.placement,s=o?As(o):null,u=o?gh(o):null,h=t.x+t.width/2-r.width/2,m=t.y+t.height/2-r.height/2,f;switch(s){case vo:f={x:h,y:t.y-r.height};break;case _i:f={x:h,y:t.y+t.height};break;case Ci:f={x:t.x+t.width,y:m};break;case wo:f={x:t.x-r.width,y:m};break;default:f={x:t.x,y:t.y}}var k=s?vT(s):null;if(k!=null){var v=k==="y"?"height":"width";switch(u){case ph:f[k]=f[k]-(t[v]/2-r[v]/2);break;case Km:f[k]=f[k]+(t[v]/2-r[v]/2);break}}return f}function Ym(e,t){t===void 0&&(t={});var r=t,o=r.placement,s=o===void 0?e.placement:o,u=r.strategy,h=u===void 0?e.strategy:u,m=r.boundary,f=m===void 0?$Ce:m,k=r.rootBoundary,v=k===void 0?XW:k,_=r.elementContext,y=_===void 0?nf:_,A=r.altBoundary,S=A===void 0?!1:A,E=r.padding,I=E===void 0?0:E,T=oq(typeof I!="number"?I:iq(I,Hg)),R=y===nf?VCe:nf,O=e.rects.popper,j=e.elements[S?R:y],$=yAe(Jc(j)?j:j.contextElement||Bl(e.elements.popper),f,v,h),H=mh(e.elements.reference),P=aq({reference:H,element:O,strategy:"absolute",placement:s}),z=iS(Object.assign({},O,P)),q=y===nf?z:H,K={top:$.top-q.top+T.top,bottom:q.bottom-$.bottom+T.bottom,left:$.left-q.left+T.left,right:q.right-$.right+T.right},Q=e.modifiersData.offset;if(y===nf&&Q){var te=Q[s];Object.keys(K).forEach(function(X){var Z=[Ci,_i].indexOf(X)>=0?1:-1,J=[vo,_i].indexOf(X)>=0?"y":"x";K[X]+=te[J]*Z})}return K}function _Ae(e,t){t===void 0&&(t={});var r=t,o=r.placement,s=r.boundary,u=r.rootBoundary,h=r.padding,m=r.flipVariations,f=r.allowedAutoPlacements,k=f===void 0?eq:f,v=gh(o),_=v?m?Uz:Uz.filter(function(S){return gh(S)===v}):Hg,y=_.filter(function(S){return k.indexOf(S)>=0});y.length===0&&(y=_);var A=y.reduce(function(S,E){return S[E]=Ym(e,{placement:E,boundary:s,rootBoundary:u,padding:h})[As(E)],S},{});return Object.keys(A).sort(function(S,E){return A[S]-A[E]})}function CAe(e){if(As(e)===gT)return[];var t=Hv(e);return[qz(e),t,qz(t)]}function AAe(e){var t=e.state,r=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var s=r.mainAxis,u=s===void 0?!0:s,h=r.altAxis,m=h===void 0?!0:h,f=r.fallbackPlacements,k=r.padding,v=r.boundary,_=r.rootBoundary,y=r.altBoundary,A=r.flipVariations,S=A===void 0?!0:A,E=r.allowedAutoPlacements,I=t.options.placement,T=As(I),R=T===I,O=f||(R||!S?[Hv(I)]:CAe(I)),j=[I].concat(O).reduce(function(Fe,Xe){return Fe.concat(As(Xe)===gT?_Ae(t,{placement:Xe,boundary:v,rootBoundary:_,padding:k,flipVariations:S,allowedAutoPlacements:E}):Xe)},[]),$=t.rects.reference,H=t.rects.popper,P=new Map,z=!0,q=j[0],K=0;K<j.length;K++){var Q=j[K],te=As(Q),X=gh(Q)===ph,Z=[vo,_i].indexOf(te)>=0,J=Z?"width":"height",ee=Ym(t,{placement:Q,boundary:v,rootBoundary:_,altBoundary:y,padding:k}),ne=Z?X?Ci:wo:X?_i:vo;$[J]>H[J]&&(ne=Hv(ne));var G=Hv(ne),re=[];if(u&&re.push(ee[te]<=0),m&&re.push(ee[ne]<=0,ee[G]<=0),re.every(function(Fe){return Fe})){q=Q,z=!1;break}P.set(Q,re)}if(z)for(var de=S?3:1,Ae=function(Xe){var Se=j.find(function(ct){var pt=P.get(ct);if(pt)return pt.slice(0,Xe).every(function(ut){return ut})});if(Se)return q=Se,"break"},Me=de;Me>0;Me--){var Je=Ae(Me);if(Je==="break")break}t.placement!==q&&(t.modifiersData[o]._skip=!0,t.placement=q,t.reset=!0)}}const xAe={name:"flip",enabled:!0,phase:"main",fn:AAe,requiresIfExists:["offset"],data:{_skip:!1}};function Kz(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Yz(e){return[vo,Ci,_i,wo].some(function(t){return e[t]>=0})}function EAe(e){var t=e.state,r=e.name,o=t.rects.reference,s=t.rects.popper,u=t.modifiersData.preventOverflow,h=Ym(t,{elementContext:"reference"}),m=Ym(t,{altBoundary:!0}),f=Kz(h,o),k=Kz(m,s,u),v=Yz(f),_=Yz(k);t.modifiersData[r]={referenceClippingOffsets:f,popperEscapeOffsets:k,isReferenceHidden:v,hasPopperEscaped:_},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":_})}const SAe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:EAe};function DAe(e,t,r){var o=As(e),s=[wo,vo].indexOf(o)>=0?-1:1,u=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,h=u[0],m=u[1];return h=h||0,m=(m||0)*s,[wo,Ci].indexOf(o)>=0?{x:m,y:h}:{x:h,y:m}}function TAe(e){var t=e.state,r=e.options,o=e.name,s=r.offset,u=s===void 0?[0,0]:s,h=eq.reduce(function(v,_){return v[_]=DAe(_,t.rects,u),v},{}),m=h[t.placement],f=m.x,k=m.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=f,t.modifiersData.popperOffsets.y+=k),t.modifiersData[o]=h}const IAe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:TAe};function MAe(e){var t=e.state,r=e.name;t.modifiersData[r]=aq({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const PAe={name:"popperOffsets",enabled:!0,phase:"read",fn:MAe,data:{}};function NAe(e){return e==="x"?"y":"x"}function RAe(e){var t=e.state,r=e.options,o=e.name,s=r.mainAxis,u=s===void 0?!0:s,h=r.altAxis,m=h===void 0?!1:h,f=r.boundary,k=r.rootBoundary,v=r.altBoundary,_=r.padding,y=r.tether,A=y===void 0?!0:y,S=r.tetherOffset,E=S===void 0?0:S,I=Ym(t,{boundary:f,rootBoundary:k,padding:_,altBoundary:v}),T=As(t.placement),R=gh(t.placement),O=!R,j=vT(T),$=NAe(j),H=t.modifiersData.popperOffsets,P=t.rects.reference,z=t.rects.popper,q=typeof E=="function"?E(Object.assign({},t.rects,{placement:t.placement})):E,K=typeof q=="number"?{mainAxis:q,altAxis:q}:Object.assign({mainAxis:0,altAxis:0},q),Q=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,te={x:0,y:0};if(H){if(u){var X,Z=j==="y"?vo:wo,J=j==="y"?_i:Ci,ee=j==="y"?"height":"width",ne=H[j],G=ne+I[Z],re=ne-I[J],de=A?-z[ee]/2:0,Ae=R===ph?P[ee]:z[ee],Me=R===ph?-z[ee]:-P[ee],Je=t.elements.arrow,Fe=A&&Je?kT(Je):{width:0,height:0},Xe=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:rq(),Se=Xe[Z],ct=Xe[J],pt=Jf(0,P[ee],Fe[ee]),ut=O?P[ee]/2-de-pt-Se-K.mainAxis:Ae-pt-Se-K.mainAxis,yt=O?-P[ee]/2+de+pt+ct+K.mainAxis:Me+pt+ct+K.mainAxis,tt=t.elements.arrow&&Wg(t.elements.arrow),Re=tt?j==="y"?tt.clientTop||0:tt.clientLeft||0:0,be=(X=Q==null?void 0:Q[j])!=null?X:0,Te=ne+ut-be-Re,Ye=ne+yt-be,Xt=Jf(A?rw(G,Te):G,ne,A?Pc(re,Ye):re);H[j]=Xt,te[j]=Xt-ne}if(m){var Dt,bt=j==="x"?vo:wo,Ot=j==="x"?_i:Ci,nt=H[$],se=$==="y"?"height":"width",ae=nt+I[bt],ce=nt-I[Ot],fe=[vo,wo].indexOf(T)!==-1,Pe=(Dt=Q==null?void 0:Q[$])!=null?Dt:0,ht=fe?ae:nt-P[se]-z[se]-Pe+K.altAxis,cr=fe?nt+P[se]+z[se]-Pe-K.altAxis:ce,Tt=A&&fe?oAe(ht,nt,cr):Jf(A?ht:ae,nt,A?cr:ce);H[$]=Tt,te[$]=Tt-nt}t.modifiersData[o]=te}}const OAe={name:"preventOverflow",enabled:!0,phase:"main",fn:RAe,requiresIfExists:["offset"]};function BAe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function LAe(e){return e===Go(e)||!ki(e)?wT(e):BAe(e)}function jAe(e){var t=e.getBoundingClientRect(),r=fh(t.width)/e.offsetWidth||1,o=fh(t.height)/e.offsetHeight||1;return r!==1||o!==1}function FAe(e,t,r){r===void 0&&(r=!1);var o=ki(t),s=ki(t)&&jAe(t),u=Bl(t),h=mh(e,s,r),m={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(o||!o&&!r)&&((Ts(t)!=="body"||_T(u))&&(m=LAe(t)),ki(t)?(f=mh(t,!0),f.x+=t.clientLeft,f.y+=t.clientTop):u&&(f.x=yT(u))),{x:h.left+m.scrollLeft-f.x,y:h.top+m.scrollTop-f.y,width:h.width,height:h.height}}function zAe(e){var t=new Map,r=new Set,o=[];e.forEach(function(u){t.set(u.name,u)});function s(u){r.add(u.name);var h=[].concat(u.requires||[],u.requiresIfExists||[]);h.forEach(function(m){if(!r.has(m)){var f=t.get(m);f&&s(f)}}),o.push(u)}return e.forEach(function(u){r.has(u.name)||s(u)}),o}function $Ae(e){var t=zAe(e);return JCe.reduce(function(r,o){return r.concat(t.filter(function(s){return s.phase===o}))},[])}function VAe(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function UAe(e){var t=e.reduce(function(r,o){var s=r[o.name];return r[o.name]=s?Object.assign({},s,o,{options:Object.assign({},s.options,o.options),data:Object.assign({},s.data,o.data)}):o,r},{});return Object.keys(t).map(function(r){return t[r]})}var Qz={placement:"bottom",modifiers:[],strategy:"absolute"};function Zz(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function HAe(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,o=r===void 0?[]:r,s=t.defaultOptions,u=s===void 0?Qz:s;return function(m,f,k){k===void 0&&(k=u);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},Qz,u),modifiersData:{},elements:{reference:m,popper:f},attributes:{},styles:{}},_=[],y=!1,A={state:v,setOptions:function(T){var R=typeof T=="function"?T(v.options):T;E(),v.options=Object.assign({},u,v.options,R),v.scrollParents={reference:Jc(m)?Xf(m):m.contextElement?Xf(m.contextElement):[],popper:Xf(f)};var O=$Ae(UAe([].concat(o,v.options.modifiers)));return v.orderedModifiers=O.filter(function(j){return j.enabled}),S(),A.update()},forceUpdate:function(){if(!y){var T=v.elements,R=T.reference,O=T.popper;if(Zz(R,O)){v.rects={reference:FAe(R,Wg(O),v.options.strategy==="fixed"),popper:kT(O)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(K){return v.modifiersData[K.name]=Object.assign({},K.data)});for(var j=0;j<v.orderedModifiers.length;j++){if(v.reset===!0){v.reset=!1,j=-1;continue}var $=v.orderedModifiers[j],H=$.fn,P=$.options,z=P===void 0?{}:P,q=$.name;typeof H=="function"&&(v=H({state:v,options:z,name:q,instance:A})||v)}}}},update:VAe(function(){return new Promise(function(I){A.forceUpdate(),I(v)})}),destroy:function(){E(),y=!0}};if(!Zz(m,f))return A;A.setOptions(k).then(function(I){!y&&k.onFirstUpdate&&k.onFirstUpdate(I)});function S(){v.orderedModifiers.forEach(function(I){var T=I.name,R=I.options,O=R===void 0?{}:R,j=I.effect;if(typeof j=="function"){var $=j({state:v,name:T,instance:A,options:O}),H=function(){};_.push($||H)}})}function E(){_.forEach(function(I){return I()}),_=[]}return A}}var WAe=[fAe,PAe,hAe,tAe,IAe,xAe,OAe,lAe,SAe],qAe=HAe({defaultModifiers:WAe});function GAe(e){return typeof e=="function"?e():e}const lq=L.forwardRef(function(t,r){const{children:o,container:s,disablePortal:u=!1}=t,[h,m]=L.useState(null),f=Cn(L.isValidElement(o)?o.ref:null,r);if(qo(()=>{u||m(GAe(s)||document.body)},[s,u]),qo(()=>{if(h&&!u)return Y0(r,h),()=>{Y0(r,null)}},[r,h,u]),u){if(L.isValidElement(o)){const k={ref:f};return L.cloneElement(o,k)}return M.jsx(L.Fragment,{children:o})}return M.jsx(L.Fragment,{children:h&&ug.createPortal(o,h)})});function KAe(e){return Ue("MuiPopper",e)}He("MuiPopper",["root"]);const YAe=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],QAe=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function ZAe(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function sS(e){return typeof e=="function"?e():e}function JAe(e){return e.nodeType!==void 0}const XAe=e=>{const{classes:t}=e;return Ke({root:["root"]},KAe,t)},e1e={},t1e=L.forwardRef(function(t,r){var o;const{anchorEl:s,children:u,direction:h,disablePortal:m,modifiers:f,open:k,placement:v,popperOptions:_,popperRef:y,slotProps:A={},slots:S={},TransitionProps:E}=t,I=_e(t,YAe),T=L.useRef(null),R=Cn(T,r),O=L.useRef(null),j=Cn(O,y),$=L.useRef(j);qo(()=>{$.current=j},[j]),L.useImperativeHandle(y,()=>O.current,[]);const H=ZAe(v,h),[P,z]=L.useState(H),[q,K]=L.useState(sS(s));L.useEffect(()=>{O.current&&O.current.forceUpdate()}),L.useEffect(()=>{s&&K(sS(s))},[s]),qo(()=>{if(!q||!k)return;const J=G=>{z(G.placement)};let ee=[{name:"preventOverflow",options:{altBoundary:m}},{name:"flip",options:{altBoundary:m}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:G})=>{J(G)}}];f!=null&&(ee=ee.concat(f)),_&&_.modifiers!=null&&(ee=ee.concat(_.modifiers));const ne=qAe(q,T.current,V({placement:H},_,{modifiers:ee}));return $.current(ne),()=>{ne.destroy(),$.current(null)}},[q,m,f,k,_,H]);const Q={placement:P};E!==null&&(Q.TransitionProps=E);const te=XAe(t),X=(o=S.root)!=null?o:"div",Z=Cl({elementType:X,externalSlotProps:A.root,externalForwardedProps:I,additionalProps:{role:"tooltip",ref:R},ownerState:t,className:te.root});return M.jsx(X,V({},Z,{children:typeof u=="function"?u(Q):u}))}),n1e=L.forwardRef(function(t,r){const{anchorEl:o,children:s,container:u,direction:h="ltr",disablePortal:m=!1,keepMounted:f=!1,modifiers:k,open:v,placement:_="bottom",popperOptions:y=e1e,popperRef:A,style:S,transition:E=!1,slotProps:I={},slots:T={}}=t,R=_e(t,QAe),[O,j]=L.useState(!0),$=()=>{j(!1)},H=()=>{j(!0)};if(!f&&!v&&(!E||O))return null;let P;if(u)P=u;else if(o){const K=sS(o);P=K&&JAe(K)?ar(K).body:ar(null).body}const z=!v&&f&&(!E||O)?"none":void 0,q=E?{in:v,onEnter:$,onExited:H}:void 0;return M.jsx(lq,{disablePortal:m,container:P,children:M.jsx(t1e,V({anchorEl:o,direction:h,disablePortal:m,modifiers:k,ref:r,open:E?!O:v,placement:_,popperOptions:y,popperRef:A,slotProps:I,slots:T},R,{style:V({position:"fixed",top:0,left:0,display:z},S),TransitionProps:q,children:s}))})}),r1e=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],o1e=we(n1e,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),cq=L.forwardRef(function(t,r){var o;const s=ZW(),u=qe({props:t,name:"MuiPopper"}),{anchorEl:h,component:m,components:f,componentsProps:k,container:v,disablePortal:_,keepMounted:y,modifiers:A,open:S,placement:E,popperOptions:I,popperRef:T,transition:R,slots:O,slotProps:j}=u,$=_e(u,r1e),H=(o=O==null?void 0:O.root)!=null?o:f==null?void 0:f.Root,P=V({anchorEl:h,container:v,disablePortal:_,keepMounted:y,modifiers:A,open:S,placement:E,popperOptions:I,popperRef:T,transition:R},$);return M.jsx(o1e,V({as:m,direction:s==null?void 0:s.direction,slots:{root:H},slotProps:j??k},P,{ref:r}))}),i1e=Ol(M.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function s1e(e){return Ue("MuiChip",e)}const Bt=He("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),a1e=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],l1e=e=>{const{classes:t,disabled:r,size:o,color:s,iconColor:u,onDelete:h,clickable:m,variant:f}=e,k={root:["root",f,r&&"disabled",`size${ge(o)}`,`color${ge(s)}`,m&&"clickable",m&&`clickableColor${ge(s)}`,h&&"deletable",h&&`deletableColor${ge(s)}`,`${f}${ge(s)}`],label:["label",`label${ge(o)}`],avatar:["avatar",`avatar${ge(o)}`,`avatarColor${ge(s)}`],icon:["icon",`icon${ge(o)}`,`iconColor${ge(u)}`],deleteIcon:["deleteIcon",`deleteIcon${ge(o)}`,`deleteIconColor${ge(s)}`,`deleteIcon${ge(f)}Color${ge(s)}`]};return Ke(k,s1e,t)},c1e=we("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{color:o,iconColor:s,clickable:u,onDelete:h,size:m,variant:f}=r;return[{[`& .${Bt.avatar}`]:t.avatar},{[`& .${Bt.avatar}`]:t[`avatar${ge(m)}`]},{[`& .${Bt.avatar}`]:t[`avatarColor${ge(o)}`]},{[`& .${Bt.icon}`]:t.icon},{[`& .${Bt.icon}`]:t[`icon${ge(m)}`]},{[`& .${Bt.icon}`]:t[`iconColor${ge(s)}`]},{[`& .${Bt.deleteIcon}`]:t.deleteIcon},{[`& .${Bt.deleteIcon}`]:t[`deleteIcon${ge(m)}`]},{[`& .${Bt.deleteIcon}`]:t[`deleteIconColor${ge(o)}`]},{[`& .${Bt.deleteIcon}`]:t[`deleteIcon${ge(f)}Color${ge(o)}`]},t.root,t[`size${ge(m)}`],t[`color${ge(o)}`],u&&t.clickable,u&&o!=="default"&&t[`clickableColor${ge(o)})`],h&&t.deletable,h&&o!=="default"&&t[`deletableColor${ge(o)}`],t[f],t[`${f}${ge(o)}`]]}})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return V({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Bt.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Bt.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:r,fontSize:e.typography.pxToRem(12)},[`& .${Bt.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${Bt.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${Bt.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${Bt.icon}`]:V({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&V({color:e.vars?e.vars.palette.Chip.defaultIconColor:r},t.color!=="default"&&{color:"inherit"})),[`& .${Bt.deleteIcon}`]:V({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:Et(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:Et(e.palette.text.primary,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:Et(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${Bt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Et(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${Bt.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>V({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Et(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${Bt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Et(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${Bt.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>V({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${Bt.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${Bt.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${Bt.avatar}`]:{marginLeft:4},[`& .${Bt.avatarSmall}`]:{marginLeft:2},[`& .${Bt.icon}`]:{marginLeft:4},[`& .${Bt.iconSmall}`]:{marginLeft:2},[`& .${Bt.deleteIcon}`]:{marginRight:5},[`& .${Bt.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:Et(e.palette[t.color].main,.7)}`,[`&.${Bt.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Et(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${Bt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:Et(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${Bt.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:Et(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),u1e=we("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:r}=e,{size:o}=r;return[t.label,t[`label${ge(o)}`]]}})(({ownerState:e})=>V({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.variant==="outlined"&&{paddingLeft:11,paddingRight:11},e.size==="small"&&{paddingLeft:8,paddingRight:8},e.size==="small"&&e.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function Jz(e){return e.key==="Backspace"||e.key==="Delete"}const Cc=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiChip"}),{avatar:s,className:u,clickable:h,color:m="default",component:f,deleteIcon:k,disabled:v=!1,icon:_,label:y,onClick:A,onDelete:S,onKeyDown:E,onKeyUp:I,size:T="medium",variant:R="filled",tabIndex:O,skipFocusWhenDisabled:j=!1}=o,$=_e(o,a1e),H=L.useRef(null),P=Cn(H,r),z=re=>{re.stopPropagation(),S&&S(re)},q=re=>{re.currentTarget===re.target&&Jz(re)&&re.preventDefault(),E&&E(re)},K=re=>{re.currentTarget===re.target&&(S&&Jz(re)?S(re):re.key==="Escape"&&H.current&&H.current.blur()),I&&I(re)},Q=h!==!1&&A?!0:h,te=Q||S?Zc:f||"div",X=V({},o,{component:te,disabled:v,size:T,color:m,iconColor:L.isValidElement(_)&&_.props.color||m,onDelete:!!S,clickable:Q,variant:R}),Z=l1e(X),J=te===Zc?V({component:f||"div",focusVisibleClassName:Z.focusVisible},S&&{disableRipple:!0}):{};let ee=null;S&&(ee=k&&L.isValidElement(k)?L.cloneElement(k,{className:ke(k.props.className,Z.deleteIcon),onClick:z}):M.jsx(i1e,{className:ke(Z.deleteIcon),onClick:z}));let ne=null;s&&L.isValidElement(s)&&(ne=L.cloneElement(s,{className:ke(Z.avatar,s.props.className)}));let G=null;return _&&L.isValidElement(_)&&(G=L.cloneElement(_,{className:ke(Z.icon,_.props.className)})),M.jsxs(c1e,V({as:te,className:ke(Z.root,u),disabled:Q&&v?!0:void 0,onClick:A,onKeyDown:q,onKeyUp:K,ref:P,tabIndex:j&&v?-1:O,ownerState:X},J,$,{children:[ne||G,M.jsx(u1e,{className:ke(Z.label),ownerState:X,children:y}),ee]}))}),d1e=["onChange","maxRows","minRows","style","value"];function sv(e){return parseInt(e,10)||0}const h1e={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function p1e(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflowing}const CT=L.forwardRef(function(t,r){const{onChange:o,maxRows:s,minRows:u=1,style:h,value:m}=t,f=_e(t,d1e),{current:k}=L.useRef(m!=null),v=L.useRef(null),_=Cn(r,v),y=L.useRef(null),A=L.useRef(null),S=L.useCallback(()=>{const T=v.current,O=_l(T).getComputedStyle(T);if(O.width==="0px")return{outerHeightStyle:0,overflowing:!1};const j=A.current;j.style.width=O.width,j.value=T.value||t.placeholder||"x",j.value.slice(-1)===`
`&&(j.value+=" ");const $=O.boxSizing,H=sv(O.paddingBottom)+sv(O.paddingTop),P=sv(O.borderBottomWidth)+sv(O.borderTopWidth),z=j.scrollHeight;j.value="x";const q=j.scrollHeight;let K=z;u&&(K=Math.max(Number(u)*q,K)),s&&(K=Math.min(Number(s)*q,K)),K=Math.max(K,q);const Q=K+($==="border-box"?H+P:0),te=Math.abs(K-z)<=1;return{outerHeightStyle:Q,overflowing:te}},[s,u,t.placeholder]),E=L.useCallback(()=>{const T=S();if(p1e(T))return;const R=T.outerHeightStyle,O=v.current;y.current!==R&&(y.current=R,O.style.height=`${R}px`),O.style.overflow=T.overflowing?"hidden":""},[S]);qo(()=>{const T=()=>{E()};let R;const O=aT(T),j=v.current,$=_l(j);$.addEventListener("resize",O);let H;return typeof ResizeObserver<"u"&&(H=new ResizeObserver(T),H.observe(j)),()=>{O.clear(),cancelAnimationFrame(R),$.removeEventListener("resize",O),H&&H.disconnect()}},[S,E]),qo(()=>{E()});const I=T=>{k||E(),o&&o(T)};return M.jsxs(L.Fragment,{children:[M.jsx("textarea",V({value:m,onChange:I,ref:_,rows:u,style:h},f)),M.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:A,tabIndex:-1,style:V({},h1e.shadow,h,{paddingTop:0,paddingBottom:0})})]})});function qh({props:e,states:t,muiFormControl:r}){return t.reduce((o,s)=>(o[s]=e[s],r&&typeof e[s]>"u"&&(o[s]=r[s]),o),{})}const AT=L.createContext(void 0);function Gh(){return L.useContext(AT)}function uq(e){return M.jsx(pwe,V({},e,{defaultTheme:hT,themeId:ch}))}function Xz(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function ow(e,t=!1){return e&&(Xz(e.value)&&e.value!==""||t&&Xz(e.defaultValue)&&e.defaultValue!=="")}function f1e(e){return e.startAdornment}function m1e(e){return Ue("MuiInputBase",e)}const bh=He("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),g1e=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],c_=(e,t)=>{const{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,r.size==="small"&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t[`color${ge(r.color)}`],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},u_=(e,t)=>{const{ownerState:r}=e;return[t.input,r.size==="small"&&t.inputSizeSmall,r.multiline&&t.inputMultiline,r.type==="search"&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},b1e=e=>{const{classes:t,color:r,disabled:o,error:s,endAdornment:u,focused:h,formControl:m,fullWidth:f,hiddenLabel:k,multiline:v,readOnly:_,size:y,startAdornment:A,type:S}=e,E={root:["root",`color${ge(r)}`,o&&"disabled",s&&"error",f&&"fullWidth",h&&"focused",m&&"formControl",y&&y!=="medium"&&`size${ge(y)}`,v&&"multiline",A&&"adornedStart",u&&"adornedEnd",k&&"hiddenLabel",_&&"readOnly"],input:["input",o&&"disabled",S==="search"&&"inputTypeSearch",v&&"inputMultiline",y==="small"&&"inputSizeSmall",k&&"inputHiddenLabel",A&&"inputAdornedStart",u&&"inputAdornedEnd",_&&"readOnly"]};return Ke(E,m1e,t)},d_=we("div",{name:"MuiInputBase",slot:"Root",overridesResolver:c_})(({theme:e,ownerState:t})=>V({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${bh.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&V({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),h_=we("input",{name:"MuiInputBase",slot:"Input",overridesResolver:u_})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light",o=V({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),s={opacity:"0 !important"},u=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return V({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${bh.formControl} &`]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":u,"&:focus::-moz-placeholder":u,"&:focus:-ms-input-placeholder":u,"&:focus::-ms-input-placeholder":u},[`&.${bh.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),k1e=M.jsx(uq,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),v1e=L.forwardRef(function(t,r){var o;const s=qe({props:t,name:"MuiInputBase"}),{"aria-describedby":u,autoComplete:h,autoFocus:m,className:f,components:k={},componentsProps:v={},defaultValue:_,disabled:y,disableInjectingGlobalStyles:A,endAdornment:S,fullWidth:E=!1,id:I,inputComponent:T="input",inputProps:R={},inputRef:O,maxRows:j,minRows:$,multiline:H=!1,name:P,onBlur:z,onChange:q,onClick:K,onFocus:Q,onKeyDown:te,onKeyUp:X,placeholder:Z,readOnly:J,renderSuffix:ee,rows:ne,slotProps:G={},slots:re={},startAdornment:de,type:Ae="text",value:Me}=s,Je=_e(s,g1e),Fe=R.value!=null?R.value:Me,{current:Xe}=L.useRef(Fe!=null),Se=L.useRef(),ct=L.useCallback(Tt=>{},[]),pt=Cn(Se,O,R.ref,ct),[ut,yt]=L.useState(!1),tt=Gh(),Re=qh({props:s,muiFormControl:tt,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Re.focused=tt?tt.focused:ut,L.useEffect(()=>{!tt&&y&&ut&&(yt(!1),z&&z())},[tt,y,ut,z]);const be=tt&&tt.onFilled,Te=tt&&tt.onEmpty,Ye=L.useCallback(Tt=>{ow(Tt)?be&&be():Te&&Te()},[be,Te]);qo(()=>{Xe&&Ye({value:Fe})},[Fe,Ye,Xe]);const Xt=Tt=>{if(Re.disabled){Tt.stopPropagation();return}Q&&Q(Tt),R.onFocus&&R.onFocus(Tt),tt&&tt.onFocus?tt.onFocus(Tt):yt(!0)},Dt=Tt=>{z&&z(Tt),R.onBlur&&R.onBlur(Tt),tt&&tt.onBlur?tt.onBlur(Tt):yt(!1)},bt=(Tt,...Qe)=>{if(!Xe){const cn=Tt.target||Se.current;if(cn==null)throw new Error(Yc(1));Ye({value:cn.value})}R.onChange&&R.onChange(Tt,...Qe),q&&q(Tt,...Qe)};L.useEffect(()=>{Ye(Se.current)},[]);const Ot=Tt=>{Se.current&&Tt.currentTarget===Tt.target&&Se.current.focus(),K&&K(Tt)};let nt=T,se=R;H&&nt==="input"&&(ne?se=V({type:void 0,minRows:ne,maxRows:ne},se):se=V({type:void 0,maxRows:j,minRows:$},se),nt=CT);const ae=Tt=>{Ye(Tt.animationName==="mui-auto-fill-cancel"?Se.current:{value:"x"})};L.useEffect(()=>{tt&&tt.setAdornedStart(!!de)},[tt,de]);const ce=V({},s,{color:Re.color||"primary",disabled:Re.disabled,endAdornment:S,error:Re.error,focused:Re.focused,formControl:tt,fullWidth:E,hiddenLabel:Re.hiddenLabel,multiline:H,size:Re.size,startAdornment:de,type:Ae}),fe=b1e(ce),Pe=re.root||k.Root||d_,ht=G.root||v.root||{},cr=re.input||k.Input||h_;return se=V({},se,(o=G.input)!=null?o:v.input),M.jsxs(L.Fragment,{children:[!A&&k1e,M.jsxs(Pe,V({},ht,!hh(Pe)&&{ownerState:V({},ce,ht.ownerState)},{ref:r,onClick:Ot},Je,{className:ke(fe.root,ht.className,f,J&&"MuiInputBase-readOnly"),children:[de,M.jsx(AT.Provider,{value:null,children:M.jsx(cr,V({ownerState:ce,"aria-invalid":Re.error,"aria-describedby":u,autoComplete:h,autoFocus:m,defaultValue:_,disabled:Re.disabled,id:I,onAnimationStart:ae,name:P,placeholder:Z,readOnly:J,required:Re.required,rows:ne,value:Fe,onKeyDown:te,onKeyUp:X,type:Ae},se,!hh(cr)&&{as:nt,ownerState:V({},ce,se.ownerState)},{ref:pt,className:ke(fe.input,se.className,J&&"MuiInputBase-readOnly"),onBlur:Dt,onChange:bt,onFocus:Xt}))}),S,ee?ee(V({},Re,{startAdornment:de})):null]}))]})}),xT=v1e;function w1e(e){return Ue("MuiInput",e)}const rf=V({},bh,He("MuiInput",["root","underline","input"]));function y1e(e){return Ue("MuiOutlinedInput",e)}const La=V({},bh,He("MuiOutlinedInput",["root","notchedOutline","input"]));function _1e(e){return Ue("MuiFilledInput",e)}const ac=V({},bh,He("MuiFilledInput",["root","underline","input"])),C1e=Ol(M.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),A1e=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],x1e={entering:{opacity:1},entered:{opacity:1}},dq=L.forwardRef(function(t,r){const o=fu(),s={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:u,appear:h=!0,children:m,easing:f,in:k,onEnter:v,onEntered:_,onEntering:y,onExit:A,onExited:S,onExiting:E,style:I,timeout:T=s,TransitionComponent:R=Rs}=t,O=_e(t,A1e),j=L.useRef(null),$=Cn(j,m.ref,r),H=Z=>J=>{if(Z){const ee=j.current;J===void 0?Z(ee):Z(ee,J)}},P=H(y),z=H((Z,J)=>{QW(Z);const ee=nw({style:I,timeout:T,easing:f},{mode:"enter"});Z.style.webkitTransition=o.transitions.create("opacity",ee),Z.style.transition=o.transitions.create("opacity",ee),v&&v(Z,J)}),q=H(_),K=H(E),Q=H(Z=>{const J=nw({style:I,timeout:T,easing:f},{mode:"exit"});Z.style.webkitTransition=o.transitions.create("opacity",J),Z.style.transition=o.transitions.create("opacity",J),A&&A(Z)}),te=H(S),X=Z=>{u&&u(j.current,Z)};return M.jsx(R,V({appear:h,in:k,nodeRef:j,onEnter:z,onEntered:q,onEntering:P,onExit:Q,onExited:te,onExiting:K,addEndListener:X,timeout:T},O,{children:(Z,J)=>L.cloneElement(m,V({style:V({opacity:0,visibility:Z==="exited"&&!k?"hidden":void 0},x1e[Z],I,m.props.style),ref:$},J))}))});function E1e(e){return Ue("MuiBackdrop",e)}He("MuiBackdrop",["root","invisible"]);const S1e=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],D1e=e=>{const{classes:t,invisible:r}=e;return Ke({root:["root",r&&"invisible"]},E1e,t)},T1e=we("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})(({ownerState:e})=>V({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),hq=L.forwardRef(function(t,r){var o,s,u;const h=qe({props:t,name:"MuiBackdrop"}),{children:m,className:f,component:k="div",components:v={},componentsProps:_={},invisible:y=!1,open:A,slotProps:S={},slots:E={},TransitionComponent:I=dq,transitionDuration:T}=h,R=_e(h,S1e),O=V({},h,{component:k,invisible:y}),j=D1e(O),$=(o=S.root)!=null?o:_.root;return M.jsx(I,V({in:A,timeout:T},R,{children:M.jsx(T1e,V({"aria-hidden":!0},$,{as:(s=(u=E.root)!=null?u:v.Root)!=null?s:k,className:ke(j.root,f,$==null?void 0:$.className),ownerState:V({},O,$==null?void 0:$.ownerState),classes:j,ref:r,children:m}))}))}),I1e=He("MuiBox",["root"]),M1e=dT(),Be=vwe({themeId:ch,defaultTheme:M1e,defaultClassName:I1e.root,generateClassName:oT.generate});function P1e(e){return Ue("MuiButton",e)}const av=He("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),N1e=L.createContext({}),R1e=L.createContext(void 0),O1e=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],B1e=e=>{const{color:t,disableElevation:r,fullWidth:o,size:s,variant:u,classes:h}=e,m={root:["root",u,`${u}${ge(t)}`,`size${ge(s)}`,`${u}Size${ge(s)}`,`color${ge(t)}`,r&&"disableElevation",o&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${ge(s)}`],endIcon:["icon","endIcon",`iconSize${ge(s)}`]},f=Ke(m,P1e,h);return V({},h,f)},pq=e=>V({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),L1e=we(Zc,{shouldForwardProp:e=>Jo(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${ge(r.color)}`],t[`size${ge(r.size)}`],t[`${r.variant}Size${ge(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var r,o;const s=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],u=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return V({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":V({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Et(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Et(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Et(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:u,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":V({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${av.focusVisible}`]:V({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${av.disabled}`]:V({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${Et(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(r=(o=e.palette).getContrastText)==null?void 0:r.call(o,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:s,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${av.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${av.disabled}`]:{boxShadow:"none"}}),j1e=we("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,t[`iconSize${ge(r.size)}`]]}})(({ownerState:e})=>V({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},pq(e))),F1e=we("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,t[`iconSize${ge(r.size)}`]]}})(({ownerState:e})=>V({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},pq(e))),St=L.forwardRef(function(t,r){const o=L.useContext(N1e),s=L.useContext(R1e),u=Gm(o,t),h=qe({props:u,name:"MuiButton"}),{children:m,color:f="primary",component:k="button",className:v,disabled:_=!1,disableElevation:y=!1,disableFocusRipple:A=!1,endIcon:S,focusVisibleClassName:E,fullWidth:I=!1,size:T="medium",startIcon:R,type:O,variant:j="text"}=h,$=_e(h,O1e),H=V({},h,{color:f,component:k,disabled:_,disableElevation:y,disableFocusRipple:A,fullWidth:I,size:T,type:O,variant:j}),P=B1e(H),z=R&&M.jsx(j1e,{className:P.startIcon,ownerState:H,children:R}),q=S&&M.jsx(F1e,{className:P.endIcon,ownerState:H,children:S}),K=s||"";return M.jsxs(L1e,V({ownerState:H,className:ke(o.className,P.root,v,K),component:k,disabled:_,focusRipple:!A,focusVisibleClassName:ke(P.focusVisible,E),ref:r,type:O},$,{classes:P,children:[z,m,q]}))});function z1e(e){return Ue("MuiCard",e)}He("MuiCard",["root"]);const $1e=["className","raised"],V1e=e=>{const{classes:t}=e;return Ke({root:["root"]},z1e,t)},U1e=we(Gi,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),of=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiCard"}),{className:s,raised:u=!1}=o,h=_e(o,$1e),m=V({},o,{raised:u}),f=V1e(m);return M.jsx(U1e,V({className:ke(f.root,s),elevation:u?8:void 0,ref:r,ownerState:m},h))});function H1e(e){return Ue("MuiCardActionArea",e)}const Q1=He("MuiCardActionArea",["root","focusVisible","focusHighlight"]),W1e=["children","className","focusVisibleClassName"],q1e=e=>{const{classes:t}=e;return Ke({root:["root"],focusHighlight:["focusHighlight"]},H1e,t)},G1e=we(Zc,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${Q1.focusHighlight}`]:{opacity:(e.vars||e).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${Q1.focusVisible} .${Q1.focusHighlight}`]:{opacity:(e.vars||e).palette.action.focusOpacity}})),K1e=we("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(e,t)=>t.focusHighlight})(({theme:e})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})})),sf=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiCardActionArea"}),{children:s,className:u,focusVisibleClassName:h}=o,m=_e(o,W1e),f=o,k=q1e(f);return M.jsxs(G1e,V({className:ke(k.root,u),focusVisibleClassName:ke(h,k.focusVisible),ref:r,ownerState:f},m,{children:[s,M.jsx(K1e,{className:k.focusHighlight,ownerState:f})]}))});function Y1e(e){return Ue("MuiCardContent",e)}He("MuiCardContent",["root"]);const Q1e=["className","component"],Z1e=e=>{const{classes:t}=e;return Ke({root:["root"]},Y1e,t)},J1e=we("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),af=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiCardContent"}),{className:s,component:u="div"}=o,h=_e(o,Q1e),m=V({},o,{component:u}),f=Z1e(m);return M.jsx(J1e,V({as:u,className:ke(f.root,s),ownerState:m,ref:r},h))});function X1e(e){return Ue("MuiCircularProgress",e)}He("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const exe=["className","color","disableShrink","size","style","thickness","value","variant"];let p_=e=>e,e6,t6,n6,r6;const ja=44,txe=$h(e6||(e6=p_`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),nxe=$h(t6||(t6=p_`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),rxe=e=>{const{classes:t,variant:r,color:o,disableShrink:s}=e,u={root:["root",r,`color${ge(o)}`],svg:["svg"],circle:["circle",`circle${ge(r)}`,s&&"circleDisableShrink"]};return Ke(u,X1e,t)},oxe=we("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`color${ge(r.color)}`]]}})(({ownerState:e,theme:t})=>V({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&Vy(n6||(n6=p_`
      animation: ${0} 1.4s linear infinite;
    `),txe)),ixe=we("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),sxe=we("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t[`circle${ge(r.variant)}`],r.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>V({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&Vy(r6||(r6=p_`
      animation: ${0} 1.4s ease-in-out infinite;
    `),nxe)),kh=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiCircularProgress"}),{className:s,color:u="primary",disableShrink:h=!1,size:m=40,style:f,thickness:k=3.6,value:v=0,variant:_="indeterminate"}=o,y=_e(o,exe),A=V({},o,{color:u,disableShrink:h,size:m,thickness:k,value:v,variant:_}),S=rxe(A),E={},I={},T={};if(_==="determinate"){const R=2*Math.PI*((ja-k)/2);E.strokeDasharray=R.toFixed(3),T["aria-valuenow"]=Math.round(v),E.strokeDashoffset=`${((100-v)/100*R).toFixed(3)}px`,I.transform="rotate(-90deg)"}return M.jsx(oxe,V({className:ke(S.root,s),style:V({width:m,height:m},I,f),ownerState:A,ref:r,role:"progressbar"},T,y,{children:M.jsx(ixe,{className:S.svg,ownerState:A,viewBox:`${ja/2} ${ja/2} ${ja} ${ja}`,children:M.jsx(sxe,{className:S.circle,style:E,ownerState:A,cx:ja,cy:ja,r:(ja-k)/2,fill:"none",strokeWidth:k})})}))});function o6(e){return e.substring(2).toLowerCase()}function axe(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function lxe(e){const{children:t,disableReactTree:r=!1,mouseEvent:o="onClick",onClickAway:s,touchEvent:u="onTouchEnd"}=e,h=L.useRef(!1),m=L.useRef(null),f=L.useRef(!1),k=L.useRef(!1);L.useEffect(()=>(setTimeout(()=>{f.current=!0},0),()=>{f.current=!1}),[]);const v=Cn(t.ref,m),_=mi(S=>{const E=k.current;k.current=!1;const I=ar(m.current);if(!f.current||!m.current||"clientX"in S&&axe(S,I))return;if(h.current){h.current=!1;return}let T;S.composedPath?T=S.composedPath().indexOf(m.current)>-1:T=!I.documentElement.contains(S.target)||m.current.contains(S.target),!T&&(r||!E)&&s(S)}),y=S=>E=>{k.current=!0;const I=t.props[S];I&&I(E)},A={ref:v};return u!==!1&&(A[u]=y(u)),L.useEffect(()=>{if(u!==!1){const S=o6(u),E=ar(m.current),I=()=>{h.current=!0};return E.addEventListener(S,_),E.addEventListener("touchmove",I),()=>{E.removeEventListener(S,_),E.removeEventListener("touchmove",I)}}},[_,u]),o!==!1&&(A[o]=y(o)),L.useEffect(()=>{if(o!==!1){const S=o6(o),E=ar(m.current);return E.addEventListener(S,_),()=>{E.removeEventListener(S,_)}}},[_,o]),M.jsx(L.Fragment,{children:L.cloneElement(t,A)})}const fq=mye({createStyledComponent:we("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${ge(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>qe({props:e,name:"MuiContainer"})}),cxe=(e,t)=>V({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),uxe=e=>V({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),dxe=(e,t=!1)=>{var r;const o={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([h,m])=>{var f;o[e.getColorSchemeSelector(h).replace(/\s*&/,"")]={colorScheme:(f=m.palette)==null?void 0:f.mode}});let s=V({html:cxe(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:V({margin:0},uxe(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},o);const u=(r=e.components)==null||(r=r.MuiCssBaseline)==null?void 0:r.styleOverrides;return u&&(s=[s,u]),s};function hxe(e){const t=qe({props:e,name:"MuiCssBaseline"}),{children:r,enableColorScheme:o=!1}=t;return M.jsxs(L.Fragment,{children:[M.jsx(uq,{styles:s=>dxe(s,o)}),r]})}function pxe(e){const t=ar(e);return t.body===e?_l(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function em(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function i6(e){return parseInt(_l(e).getComputedStyle(e).paddingRight,10)||0}function fxe(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,o=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||o}function s6(e,t,r,o,s){const u=[t,r,...o];[].forEach.call(e.children,h=>{const m=u.indexOf(h)===-1,f=!fxe(h);m&&f&&em(h,s)})}function Z1(e,t){let r=-1;return e.some((o,s)=>t(o)?(r=s,!0):!1),r}function mxe(e,t){const r=[],o=e.container;if(!t.disableScrollLock){if(pxe(o)){const h=MW(ar(o));r.push({value:o.style.paddingRight,property:"padding-right",el:o}),o.style.paddingRight=`${i6(o)+h}px`;const m=ar(o).querySelectorAll(".mui-fixed");[].forEach.call(m,f=>{r.push({value:f.style.paddingRight,property:"padding-right",el:f}),f.style.paddingRight=`${i6(f)+h}px`})}let u;if(o.parentNode instanceof DocumentFragment)u=ar(o).body;else{const h=o.parentElement,m=_l(o);u=(h==null?void 0:h.nodeName)==="HTML"&&m.getComputedStyle(h).overflowY==="scroll"?h:o}r.push({value:u.style.overflow,property:"overflow",el:u},{value:u.style.overflowX,property:"overflow-x",el:u},{value:u.style.overflowY,property:"overflow-y",el:u}),u.style.overflow="hidden"}return()=>{r.forEach(({value:u,el:h,property:m})=>{u?h.style.setProperty(m,u):h.style.removeProperty(m)})}}function gxe(e){const t=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&t.push(r)}),t}class bxe{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,r){let o=this.modals.indexOf(t);if(o!==-1)return o;o=this.modals.length,this.modals.push(t),t.modalRef&&em(t.modalRef,!1);const s=gxe(r);s6(r,t.mount,t.modalRef,s,!0);const u=Z1(this.containers,h=>h.container===r);return u!==-1?(this.containers[u].modals.push(t),o):(this.containers.push({modals:[t],container:r,restore:null,hiddenSiblings:s}),o)}mount(t,r){const o=Z1(this.containers,u=>u.modals.indexOf(t)!==-1),s=this.containers[o];s.restore||(s.restore=mxe(s,r))}remove(t,r=!0){const o=this.modals.indexOf(t);if(o===-1)return o;const s=Z1(this.containers,h=>h.modals.indexOf(t)!==-1),u=this.containers[s];if(u.modals.splice(u.modals.indexOf(t),1),this.modals.splice(o,1),u.modals.length===0)u.restore&&u.restore(),t.modalRef&&em(t.modalRef,r),s6(u.container,t.mount,t.modalRef,u.hiddenSiblings,!1),this.containers.splice(s,1);else{const h=u.modals[u.modals.length-1];h.modalRef&&em(h.modalRef,!1)}return o}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const kxe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function vxe(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function wxe(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=o=>e.ownerDocument.querySelector(`input[type="radio"]${o}`);let r=t(`[name="${e.name}"]:checked`);return r||(r=t(`[name="${e.name}"]`)),r!==e}function yxe(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||wxe(e))}function _xe(e){const t=[],r=[];return Array.from(e.querySelectorAll(kxe)).forEach((o,s)=>{const u=vxe(o);u===-1||!yxe(o)||(u===0?t.push(o):r.push({documentOrder:s,tabIndex:u,node:o}))}),r.sort((o,s)=>o.tabIndex===s.tabIndex?o.documentOrder-s.documentOrder:o.tabIndex-s.tabIndex).map(o=>o.node).concat(t)}function Cxe(){return!0}function Axe(e){const{children:t,disableAutoFocus:r=!1,disableEnforceFocus:o=!1,disableRestoreFocus:s=!1,getTabbable:u=_xe,isEnabled:h=Cxe,open:m}=e,f=L.useRef(!1),k=L.useRef(null),v=L.useRef(null),_=L.useRef(null),y=L.useRef(null),A=L.useRef(!1),S=L.useRef(null),E=Cn(t.ref,S),I=L.useRef(null);L.useEffect(()=>{!m||!S.current||(A.current=!r)},[r,m]),L.useEffect(()=>{if(!m||!S.current)return;const O=ar(S.current);return S.current.contains(O.activeElement)||(S.current.hasAttribute("tabIndex")||S.current.setAttribute("tabIndex","-1"),A.current&&S.current.focus()),()=>{s||(_.current&&_.current.focus&&(f.current=!0,_.current.focus()),_.current=null)}},[m]),L.useEffect(()=>{if(!m||!S.current)return;const O=ar(S.current),j=P=>{I.current=P,!(o||!h()||P.key!=="Tab")&&O.activeElement===S.current&&P.shiftKey&&(f.current=!0,v.current&&v.current.focus())},$=()=>{const P=S.current;if(P===null)return;if(!O.hasFocus()||!h()||f.current){f.current=!1;return}if(P.contains(O.activeElement)||o&&O.activeElement!==k.current&&O.activeElement!==v.current)return;if(O.activeElement!==y.current)y.current=null;else if(y.current!==null)return;if(!A.current)return;let z=[];if((O.activeElement===k.current||O.activeElement===v.current)&&(z=u(S.current)),z.length>0){var q,K;const Q=!!((q=I.current)!=null&&q.shiftKey&&((K=I.current)==null?void 0:K.key)==="Tab"),te=z[0],X=z[z.length-1];typeof te!="string"&&typeof X!="string"&&(Q?X.focus():te.focus())}else P.focus()};O.addEventListener("focusin",$),O.addEventListener("keydown",j,!0);const H=setInterval(()=>{O.activeElement&&O.activeElement.tagName==="BODY"&&$()},50);return()=>{clearInterval(H),O.removeEventListener("focusin",$),O.removeEventListener("keydown",j,!0)}},[r,o,s,h,m,u]);const T=O=>{_.current===null&&(_.current=O.relatedTarget),A.current=!0,y.current=O.target;const j=t.props.onFocus;j&&j(O)},R=O=>{_.current===null&&(_.current=O.relatedTarget),A.current=!0};return M.jsxs(L.Fragment,{children:[M.jsx("div",{tabIndex:m?0:-1,onFocus:R,ref:k,"data-testid":"sentinelStart"}),L.cloneElement(t,{ref:E,onFocus:T}),M.jsx("div",{tabIndex:m?0:-1,onFocus:R,ref:v,"data-testid":"sentinelEnd"})]})}function xxe(e){return typeof e=="function"?e():e}function Exe(e){return e?e.props.hasOwnProperty("in"):!1}const Sxe=new bxe;function Dxe(e){const{container:t,disableEscapeKeyDown:r=!1,disableScrollLock:o=!1,manager:s=Sxe,closeAfterTransition:u=!1,onTransitionEnter:h,onTransitionExited:m,children:f,onClose:k,open:v,rootRef:_}=e,y=L.useRef({}),A=L.useRef(null),S=L.useRef(null),E=Cn(S,_),[I,T]=L.useState(!v),R=Exe(f);let O=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(O=!1);const j=()=>ar(A.current),$=()=>(y.current.modalRef=S.current,y.current.mount=A.current,y.current),H=()=>{s.mount($(),{disableScrollLock:o}),S.current&&(S.current.scrollTop=0)},P=mi(()=>{const ee=xxe(t)||j().body;s.add($(),ee),S.current&&H()}),z=L.useCallback(()=>s.isTopModal($()),[s]),q=mi(ee=>{A.current=ee,ee&&(v&&z()?H():S.current&&em(S.current,O))}),K=L.useCallback(()=>{s.remove($(),O)},[O,s]);L.useEffect(()=>()=>{K()},[K]),L.useEffect(()=>{v?P():(!R||!u)&&K()},[v,K,R,u,P]);const Q=ee=>ne=>{var G;(G=ee.onKeyDown)==null||G.call(ee,ne),!(ne.key!=="Escape"||ne.which===229||!z())&&(r||(ne.stopPropagation(),k&&k(ne,"escapeKeyDown")))},te=ee=>ne=>{var G;(G=ee.onClick)==null||G.call(ee,ne),ne.target===ne.currentTarget&&k&&k(ne,"backdropClick")};return{getRootProps:(ee={})=>{const ne=Z0(e);delete ne.onTransitionEnter,delete ne.onTransitionExited;const G=V({},ne,ee);return V({role:"presentation"},G,{onKeyDown:Q(G),ref:E})},getBackdropProps:(ee={})=>{const ne=ee;return V({"aria-hidden":!0},ne,{onClick:te(ne),open:v})},getTransitionProps:()=>{const ee=()=>{T(!1),h&&h()},ne=()=>{T(!0),m&&m(),u&&K()};return{onEnter:ZE(ee,f==null?void 0:f.props.onEnter),onExited:ZE(ne,f==null?void 0:f.props.onExited)}},rootRef:E,portalRef:q,isTopModal:z,exited:I,hasTransition:R}}function Txe(e){return Ue("MuiModal",e)}He("MuiModal",["root","hidden","backdrop"]);const Ixe=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Mxe=e=>{const{open:t,exited:r,classes:o}=e;return Ke({root:["root",!t&&r&&"hidden"],backdrop:["backdrop"]},Txe,o)},Pxe=we("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})(({theme:e,ownerState:t})=>V({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),Nxe=we(hq,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),mq=L.forwardRef(function(t,r){var o,s,u,h,m,f;const k=qe({name:"MuiModal",props:t}),{BackdropComponent:v=Nxe,BackdropProps:_,className:y,closeAfterTransition:A=!1,children:S,container:E,component:I,components:T={},componentsProps:R={},disableAutoFocus:O=!1,disableEnforceFocus:j=!1,disableEscapeKeyDown:$=!1,disablePortal:H=!1,disableRestoreFocus:P=!1,disableScrollLock:z=!1,hideBackdrop:q=!1,keepMounted:K=!1,onBackdropClick:Q,open:te,slotProps:X,slots:Z}=k,J=_e(k,Ixe),ee=V({},k,{closeAfterTransition:A,disableAutoFocus:O,disableEnforceFocus:j,disableEscapeKeyDown:$,disablePortal:H,disableRestoreFocus:P,disableScrollLock:z,hideBackdrop:q,keepMounted:K}),{getRootProps:ne,getBackdropProps:G,getTransitionProps:re,portalRef:de,isTopModal:Ae,exited:Me,hasTransition:Je}=Dxe(V({},ee,{rootRef:r})),Fe=V({},ee,{exited:Me}),Xe=Mxe(Fe),Se={};if(S.props.tabIndex===void 0&&(Se.tabIndex="-1"),Je){const{onEnter:be,onExited:Te}=re();Se.onEnter=be,Se.onExited=Te}const ct=(o=(s=Z==null?void 0:Z.root)!=null?s:T.Root)!=null?o:Pxe,pt=(u=(h=Z==null?void 0:Z.backdrop)!=null?h:T.Backdrop)!=null?u:v,ut=(m=X==null?void 0:X.root)!=null?m:R.root,yt=(f=X==null?void 0:X.backdrop)!=null?f:R.backdrop,tt=Cl({elementType:ct,externalSlotProps:ut,externalForwardedProps:J,getSlotProps:ne,additionalProps:{ref:r,as:I},ownerState:Fe,className:ke(y,ut==null?void 0:ut.className,Xe==null?void 0:Xe.root,!Fe.open&&Fe.exited&&(Xe==null?void 0:Xe.hidden))}),Re=Cl({elementType:pt,externalSlotProps:yt,additionalProps:_,getSlotProps:be=>G(V({},be,{onClick:Te=>{Q&&Q(Te),be!=null&&be.onClick&&be.onClick(Te)}})),className:ke(yt==null?void 0:yt.className,_==null?void 0:_.className,Xe==null?void 0:Xe.backdrop),ownerState:Fe});return!K&&!te&&(!Je||Me)?null:M.jsx(lq,{ref:de,container:E,disablePortal:H,children:M.jsxs(ct,V({},tt,{children:[!q&&v?M.jsx(pt,V({},Re)):null,M.jsx(Axe,{disableEnforceFocus:j,disableAutoFocus:O,disableRestoreFocus:P,isEnabled:Ae,open:te,children:L.cloneElement(S,Se)})]}))})});function Rxe(e){return Ue("MuiDialog",e)}const J1=He("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),gq=L.createContext({}),Oxe=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Bxe=we(hq,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Lxe=e=>{const{classes:t,scroll:r,maxWidth:o,fullWidth:s,fullScreen:u}=e,h={root:["root"],container:["container",`scroll${ge(r)}`],paper:["paper",`paperScroll${ge(r)}`,`paperWidth${ge(String(o))}`,s&&"paperFullWidth",u&&"paperFullScreen"]};return Ke(h,Rxe,t)},jxe=we(mq,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Fxe=we("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.container,t[`scroll${ge(r.scroll)}`]]}})(({ownerState:e})=>V({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),zxe=we(Gi,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.paper,t[`scrollPaper${ge(r.scroll)}`],t[`paperWidth${ge(String(r.maxWidth))}`],r.fullWidth&&t.paperFullWidth,r.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>V({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${J1.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${J1.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${J1.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),f_=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiDialog"}),s=fu(),u={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":h,"aria-labelledby":m,BackdropComponent:f,BackdropProps:k,children:v,className:_,disableEscapeKeyDown:y=!1,fullScreen:A=!1,fullWidth:S=!1,maxWidth:E="sm",onBackdropClick:I,onClick:T,onClose:R,open:O,PaperComponent:j=Gi,PaperProps:$={},scroll:H="paper",TransitionComponent:P=dq,transitionDuration:z=u,TransitionProps:q}=o,K=_e(o,Oxe),Q=V({},o,{disableEscapeKeyDown:y,fullScreen:A,fullWidth:S,maxWidth:E,scroll:H}),te=Lxe(Q),X=L.useRef(),Z=G=>{X.current=G.target===G.currentTarget},J=G=>{T&&T(G),X.current&&(X.current=null,I&&I(G),R&&R(G,"backdropClick"))},ee=$g(m),ne=L.useMemo(()=>({titleId:ee}),[ee]);return M.jsx(jxe,V({className:ke(te.root,_),closeAfterTransition:!0,components:{Backdrop:Bxe},componentsProps:{backdrop:V({transitionDuration:z,as:f},k)},disableEscapeKeyDown:y,onClose:R,open:O,ref:r,onClick:J,ownerState:Q},K,{children:M.jsx(P,V({appear:!0,in:O,timeout:z,role:"presentation"},q,{children:M.jsx(Fxe,{className:ke(te.container),onMouseDown:Z,ownerState:Q,children:M.jsx(zxe,V({as:j,elevation:24,role:"dialog","aria-describedby":h,"aria-labelledby":ee},$,{className:ke(te.paper,$.className),ownerState:Q,children:M.jsx(gq.Provider,{value:ne,children:v})}))})}))}))});function $xe(e){return Ue("MuiDialogActions",e)}He("MuiDialogActions",["root","spacing"]);const Vxe=["className","disableSpacing"],Uxe=e=>{const{classes:t,disableSpacing:r}=e;return Ke({root:["root",!r&&"spacing"]},$xe,t)},Hxe=we("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})(({ownerState:e})=>V({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),m_=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiDialogActions"}),{className:s,disableSpacing:u=!1}=o,h=_e(o,Vxe),m=V({},o,{disableSpacing:u}),f=Uxe(m);return M.jsx(Hxe,V({className:ke(f.root,s),ownerState:m,ref:r},h))});function Wxe(e){return Ue("MuiDialogContent",e)}He("MuiDialogContent",["root","dividers"]);function qxe(e){return Ue("MuiDialogTitle",e)}const Gxe=He("MuiDialogTitle",["root"]),Kxe=["className","dividers"],Yxe=e=>{const{classes:t,dividers:r}=e;return Ke({root:["root",r&&"dividers"]},Wxe,t)},Qxe=we("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>V({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${Gxe.root} + &`]:{paddingTop:0}})),g_=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiDialogContent"}),{className:s,dividers:u=!1}=o,h=_e(o,Kxe),m=V({},o,{dividers:u}),f=Yxe(m);return M.jsx(Qxe,V({className:ke(f.root,s),ownerState:m,ref:r},h))});function Zxe(e){return Ue("MuiDialogContentText",e)}He("MuiDialogContentText",["root"]);const Jxe=["children","className"],Xxe=e=>{const{classes:t}=e,o=Ke({root:["root"]},Zxe,t);return V({},t,o)},eEe=we($e,{shouldForwardProp:e=>Jo(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),b_=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiDialogContentText"}),{className:s}=o,u=_e(o,Jxe),h=Xxe(u);return M.jsx(eEe,V({component:"p",variant:"body1",color:"text.secondary",ref:r,ownerState:u,className:ke(h.root,s)},o,{classes:h}))}),tEe=["className","id"],nEe=e=>{const{classes:t}=e;return Ke({root:["root"]},qxe,t)},rEe=we($e,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),k_=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiDialogTitle"}),{className:s,id:u}=o,h=_e(o,tEe),m=o,f=nEe(m),{titleId:k=u}=L.useContext(gq);return M.jsx(rEe,V({component:"h2",className:ke(f.root,s),ownerState:m,ref:r,variant:"h6",id:u??k},h))});function oEe(e){return Ue("MuiDivider",e)}const a6=He("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),iEe=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],sEe=e=>{const{absolute:t,children:r,classes:o,flexItem:s,light:u,orientation:h,textAlign:m,variant:f}=e;return Ke({root:["root",t&&"absolute",f,u&&"light",h==="vertical"&&"vertical",s&&"flexItem",r&&"withChildren",r&&h==="vertical"&&"withChildrenVertical",m==="right"&&h!=="vertical"&&"textAlignRight",m==="left"&&h!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",h==="vertical"&&"wrapperVertical"]},oEe,o)},aEe=we("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,r.orientation==="vertical"&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&r.orientation==="vertical"&&t.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&t.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>V({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:Et(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>V({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>V({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}),({theme:e,ownerState:t})=>V({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:e})=>V({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),lEe=we("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.wrapper,r.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>V({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),bq=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiDivider"}),{absolute:s=!1,children:u,className:h,component:m=u?"div":"hr",flexItem:f=!1,light:k=!1,orientation:v="horizontal",role:_=m!=="hr"?"separator":void 0,textAlign:y="center",variant:A="fullWidth"}=o,S=_e(o,iEe),E=V({},o,{absolute:s,component:m,flexItem:f,light:k,orientation:v,role:_,textAlign:y,variant:A}),I=sEe(E);return M.jsx(aEe,V({as:m,className:ke(I.root,h),role:_,ref:r,ownerState:E},S,{children:u?M.jsx(lEe,{className:I.wrapper,ownerState:E,children:u}):null}))});bq.muiSkipListHighlight=!0;const cEe=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],uEe=e=>{const{classes:t,disableUnderline:r}=e,s=Ke({root:["root",!r&&"underline"],input:["input"]},_1e,t);return V({},t,s)},dEe=we(d_,{shouldForwardProp:e=>Jo(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...c_(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var r;const o=e.palette.mode==="light",s=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",u=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",h=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",m=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return V({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:u,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:h,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:u}},[`&.${ac.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:u},[`&.${ac.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:m}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(r=(e.vars||e).palette[t.color||"primary"])==null?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ac.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ac.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ac.disabled}, .${ac.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${ac.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&V({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),hEe=we(h_,{name:"MuiFilledInput",slot:"Input",overridesResolver:u_})(({theme:e,ownerState:t})=>V({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),ET=L.forwardRef(function(t,r){var o,s,u,h;const m=qe({props:t,name:"MuiFilledInput"}),{components:f={},componentsProps:k,fullWidth:v=!1,inputComponent:_="input",multiline:y=!1,slotProps:A,slots:S={},type:E="text"}=m,I=_e(m,cEe),T=V({},m,{fullWidth:v,inputComponent:_,multiline:y,type:E}),R=uEe(m),O={root:{ownerState:T},input:{ownerState:T}},j=A??k?to(O,A??k):O,$=(o=(s=S.root)!=null?s:f.Root)!=null?o:dEe,H=(u=(h=S.input)!=null?h:f.Input)!=null?u:hEe;return M.jsx(xT,V({slots:{root:$,input:H},componentsProps:j,fullWidth:v,inputComponent:_,multiline:y,ref:r,type:E},I,{classes:R}))});ET.muiName="Input";function pEe(e){return Ue("MuiFormControl",e)}He("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const fEe=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],mEe=e=>{const{classes:t,margin:r,fullWidth:o}=e,s={root:["root",r!=="none"&&`margin${ge(r)}`,o&&"fullWidth"]};return Ke(s,pEe,t)},gEe=we("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>V({},t.root,t[`margin${ge(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>V({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),ST=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiFormControl"}),{children:s,className:u,color:h="primary",component:m="div",disabled:f=!1,error:k=!1,focused:v,fullWidth:_=!1,hiddenLabel:y=!1,margin:A="none",required:S=!1,size:E="medium",variant:I="outlined"}=o,T=_e(o,fEe),R=V({},o,{color:h,component:m,disabled:f,error:k,fullWidth:_,hiddenLabel:y,margin:A,required:S,size:E,variant:I}),O=mEe(R),[j,$]=L.useState(()=>{let X=!1;return s&&L.Children.forEach(s,Z=>{if(!Zf(Z,["Input","Select"]))return;const J=Zf(Z,["Select"])?Z.props.input:Z;J&&f1e(J.props)&&(X=!0)}),X}),[H,P]=L.useState(()=>{let X=!1;return s&&L.Children.forEach(s,Z=>{Zf(Z,["Input","Select"])&&(ow(Z.props,!0)||ow(Z.props.inputProps,!0))&&(X=!0)}),X}),[z,q]=L.useState(!1);f&&z&&q(!1);const K=v!==void 0&&!f?v:z;let Q;const te=L.useMemo(()=>({adornedStart:j,setAdornedStart:$,color:h,disabled:f,error:k,filled:H,focused:K,fullWidth:_,hiddenLabel:y,size:E,onBlur:()=>{q(!1)},onEmpty:()=>{P(!1)},onFilled:()=>{P(!0)},onFocus:()=>{q(!0)},registerEffect:Q,required:S,variant:I}),[j,h,f,k,H,K,_,y,Q,S,E,I]);return M.jsx(AT.Provider,{value:te,children:M.jsx(gEe,V({as:m,ownerState:R,className:ke(O.root,u),ref:r},T,{children:s}))})}),bEe=Cye({createStyledComponent:we("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>qe({props:e,name:"MuiStack"})});function kEe(e){return Ue("MuiFormHelperText",e)}const l6=He("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var c6;const vEe=["children","className","component","disabled","error","filled","focused","margin","required","variant"],wEe=e=>{const{classes:t,contained:r,size:o,disabled:s,error:u,filled:h,focused:m,required:f}=e,k={root:["root",s&&"disabled",u&&"error",o&&`size${ge(o)}`,r&&"contained",m&&"focused",h&&"filled",f&&"required"]};return Ke(k,kEe,t)},yEe=we("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.size&&t[`size${ge(r.size)}`],r.contained&&t.contained,r.filled&&t.filled]}})(({theme:e,ownerState:t})=>V({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${l6.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${l6.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),_Ee=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiFormHelperText"}),{children:s,className:u,component:h="p"}=o,m=_e(o,vEe),f=Gh(),k=qh({props:o,muiFormControl:f,states:["variant","size","disabled","error","filled","focused","required"]}),v=V({},o,{component:h,contained:k.variant==="filled"||k.variant==="outlined",variant:k.variant,size:k.size,disabled:k.disabled,error:k.error,filled:k.filled,focused:k.focused,required:k.required}),_=wEe(v);return M.jsx(yEe,V({as:h,ownerState:v,className:ke(_.root,u),ref:r},m,{children:s===" "?c6||(c6=M.jsx("span",{className:"notranslate",children:""})):s}))});function CEe(e){return Ue("MuiFormLabel",e)}const tm=He("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),AEe=["children","className","color","component","disabled","error","filled","focused","required"],xEe=e=>{const{classes:t,color:r,focused:o,disabled:s,error:u,filled:h,required:m}=e,f={root:["root",`color${ge(r)}`,s&&"disabled",u&&"error",h&&"filled",o&&"focused",m&&"required"],asterisk:["asterisk",u&&"error"]};return Ke(f,CEe,t)},EEe=we("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>V({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>V({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${tm.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${tm.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${tm.error}`]:{color:(e.vars||e).palette.error.main}})),SEe=we("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${tm.error}`]:{color:(e.vars||e).palette.error.main}})),DEe=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiFormLabel"}),{children:s,className:u,component:h="label"}=o,m=_e(o,AEe),f=Gh(),k=qh({props:o,muiFormControl:f,states:["color","required","focused","disabled","error","filled"]}),v=V({},o,{color:k.color||"primary",component:h,disabled:k.disabled,error:k.error,filled:k.filled,focused:k.focused,required:k.required}),_=xEe(v);return M.jsxs(EEe,V({as:h,ownerState:v,className:ke(_.root,u),ref:r},m,{children:[s,k.required&&M.jsxs(SEe,{ownerState:v,"aria-hidden":!0,className:_.asterisk,children:["","*"]})]}))}),u6=L.createContext();function TEe(e){return Ue("MuiGrid",e)}const IEe=[0,1,2,3,4,5,6,7,8,9,10],MEe=["column-reverse","column","row-reverse","row"],PEe=["nowrap","wrap-reverse","wrap"],lf=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Qm=He("MuiGrid",["root","container","item","zeroMinWidth",...IEe.map(e=>`spacing-xs-${e}`),...MEe.map(e=>`direction-xs-${e}`),...PEe.map(e=>`wrap-xs-${e}`),...lf.map(e=>`grid-xs-${e}`),...lf.map(e=>`grid-sm-${e}`),...lf.map(e=>`grid-md-${e}`),...lf.map(e=>`grid-lg-${e}`),...lf.map(e=>`grid-xl-${e}`)]),NEe=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Ud(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function REe({theme:e,ownerState:t}){let r;return e.breakpoints.keys.reduce((o,s)=>{let u={};if(t[s]&&(r=t[s]),!r)return o;if(r===!0)u={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(r==="auto")u={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const h=Mc({values:t.columns,breakpoints:e.breakpoints.values}),m=typeof h=="object"?h[s]:h;if(m==null)return o;const f=`${Math.round(r/m*1e8)/1e6}%`;let k={};if(t.container&&t.item&&t.columnSpacing!==0){const v=e.spacing(t.columnSpacing);if(v!=="0px"){const _=`calc(${f} + ${Ud(v)})`;k={flexBasis:_,maxWidth:_}}}u=V({flexBasis:f,flexGrow:0,maxWidth:f},k)}return e.breakpoints.values[s]===0?Object.assign(o,u):o[e.breakpoints.up(s)]=u,o},{})}function OEe({theme:e,ownerState:t}){const r=Mc({values:t.direction,breakpoints:e.breakpoints.values});return _o({theme:e},r,o=>{const s={flexDirection:o};return o.indexOf("column")===0&&(s[`& > .${Qm.item}`]={maxWidth:"none"}),s})}function kq({breakpoints:e,values:t}){let r="";Object.keys(t).forEach(s=>{r===""&&t[s]!==0&&(r=s)});const o=Object.keys(e).sort((s,u)=>e[s]-e[u]);return o.slice(0,o.indexOf(r))}function BEe({theme:e,ownerState:t}){const{container:r,rowSpacing:o}=t;let s={};if(r&&o!==0){const u=Mc({values:o,breakpoints:e.breakpoints.values});let h;typeof u=="object"&&(h=kq({breakpoints:e.breakpoints.values,values:u})),s=_o({theme:e},u,(m,f)=>{var k;const v=e.spacing(m);return v!=="0px"?{marginTop:`-${Ud(v)}`,[`& > .${Qm.item}`]:{paddingTop:Ud(v)}}:(k=h)!=null&&k.includes(f)?{}:{marginTop:0,[`& > .${Qm.item}`]:{paddingTop:0}}})}return s}function LEe({theme:e,ownerState:t}){const{container:r,columnSpacing:o}=t;let s={};if(r&&o!==0){const u=Mc({values:o,breakpoints:e.breakpoints.values});let h;typeof u=="object"&&(h=kq({breakpoints:e.breakpoints.values,values:u})),s=_o({theme:e},u,(m,f)=>{var k;const v=e.spacing(m);return v!=="0px"?{width:`calc(100% + ${Ud(v)})`,marginLeft:`-${Ud(v)}`,[`& > .${Qm.item}`]:{paddingLeft:Ud(v)}}:(k=h)!=null&&k.includes(f)?{}:{width:"100%",marginLeft:0,[`& > .${Qm.item}`]:{paddingLeft:0}}})}return s}function jEe(e,t,r={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[r[`spacing-xs-${String(e)}`]];const o=[];return t.forEach(s=>{const u=e[s];Number(u)>0&&o.push(r[`spacing-${s}-${String(u)}`])}),o}const FEe=we("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{container:o,direction:s,item:u,spacing:h,wrap:m,zeroMinWidth:f,breakpoints:k}=r;let v=[];o&&(v=jEe(h,k,t));const _=[];return k.forEach(y=>{const A=r[y];A&&_.push(t[`grid-${y}-${String(A)}`])}),[t.root,o&&t.container,u&&t.item,f&&t.zeroMinWidth,...v,s!=="row"&&t[`direction-xs-${String(s)}`],m!=="wrap"&&t[`wrap-xs-${String(m)}`],..._]}})(({ownerState:e})=>V({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),OEe,BEe,LEe,REe);function zEe(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const r=[];return t.forEach(o=>{const s=e[o];if(Number(s)>0){const u=`spacing-${o}-${String(s)}`;r.push(u)}}),r}const $Ee=e=>{const{classes:t,container:r,direction:o,item:s,spacing:u,wrap:h,zeroMinWidth:m,breakpoints:f}=e;let k=[];r&&(k=zEe(u,f));const v=[];f.forEach(y=>{const A=e[y];A&&v.push(`grid-${y}-${String(A)}`)});const _={root:["root",r&&"container",s&&"item",m&&"zeroMinWidth",...k,o!=="row"&&`direction-xs-${String(o)}`,h!=="wrap"&&`wrap-xs-${String(h)}`,...v]};return Ke(_,TEe,t)},No=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiGrid"}),{breakpoints:s}=fu(),u=zg(o),{className:h,columns:m,columnSpacing:f,component:k="div",container:v=!1,direction:_="row",item:y=!1,rowSpacing:A,spacing:S=0,wrap:E="wrap",zeroMinWidth:I=!1}=u,T=_e(u,NEe),R=A||S,O=f||S,j=L.useContext(u6),$=v?m||12:j,H={},P=V({},T);s.keys.forEach(K=>{T[K]!=null&&(H[K]=T[K],delete P[K])});const z=V({},u,{columns:$,container:v,direction:_,item:y,rowSpacing:R,columnSpacing:O,wrap:E,zeroMinWidth:I,spacing:S},H,{breakpoints:s.keys}),q=$Ee(z);return M.jsx(u6.Provider,{value:$,children:M.jsx(FEe,V({ownerState:z,className:ke(q.root,h),as:k,ref:r},P))})}),VEe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function aS(e){return`scale(${e}, ${e**2})`}const UEe={entering:{opacity:1,transform:aS(1)},entered:{opacity:1,transform:"none"}},X1=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Zm=L.forwardRef(function(t,r){const{addEndListener:o,appear:s=!0,children:u,easing:h,in:m,onEnter:f,onEntered:k,onEntering:v,onExit:_,onExited:y,onExiting:A,style:S,timeout:E="auto",TransitionComponent:I=Rs}=t,T=_e(t,VEe),R=yc(),O=L.useRef(),j=fu(),$=L.useRef(null),H=Cn($,u.ref,r),P=J=>ee=>{if(J){const ne=$.current;ee===void 0?J(ne):J(ne,ee)}},z=P(v),q=P((J,ee)=>{QW(J);const{duration:ne,delay:G,easing:re}=nw({style:S,timeout:E,easing:h},{mode:"enter"});let de;E==="auto"?(de=j.transitions.getAutoHeightDuration(J.clientHeight),O.current=de):de=ne,J.style.transition=[j.transitions.create("opacity",{duration:de,delay:G}),j.transitions.create("transform",{duration:X1?de:de*.666,delay:G,easing:re})].join(","),f&&f(J,ee)}),K=P(k),Q=P(A),te=P(J=>{const{duration:ee,delay:ne,easing:G}=nw({style:S,timeout:E,easing:h},{mode:"exit"});let re;E==="auto"?(re=j.transitions.getAutoHeightDuration(J.clientHeight),O.current=re):re=ee,J.style.transition=[j.transitions.create("opacity",{duration:re,delay:ne}),j.transitions.create("transform",{duration:X1?re:re*.666,delay:X1?ne:ne||re*.333,easing:G})].join(","),J.style.opacity=0,J.style.transform=aS(.75),_&&_(J)}),X=P(y),Z=J=>{E==="auto"&&R.start(O.current||0,J),o&&o($.current,J)};return M.jsx(I,V({appear:s,in:m,nodeRef:$,onEnter:q,onEntered:K,onEntering:z,onExit:te,onExited:X,onExiting:Q,addEndListener:Z,timeout:E==="auto"?null:E},T,{children:(J,ee)=>L.cloneElement(u,V({style:V({opacity:0,transform:aS(.75),visibility:J==="exited"&&!m?"hidden":void 0},UEe[J],S,u.props.style),ref:H},ee))}))});Zm.muiSupportAuto=!0;const HEe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],WEe=e=>{const{classes:t,disableUnderline:r}=e,s=Ke({root:["root",!r&&"underline"],input:["input"]},w1e,t);return V({},t,s)},qEe=we(d_,{shouldForwardProp:e=>Jo(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...c_(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let o=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(o=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),V({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${rf.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${rf.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${rf.disabled}, .${rf.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${o}`}},[`&.${rf.disabled}:before`]:{borderBottomStyle:"dotted"}})}),GEe=we(h_,{name:"MuiInput",slot:"Input",overridesResolver:u_})({}),DT=L.forwardRef(function(t,r){var o,s,u,h;const m=qe({props:t,name:"MuiInput"}),{disableUnderline:f,components:k={},componentsProps:v,fullWidth:_=!1,inputComponent:y="input",multiline:A=!1,slotProps:S,slots:E={},type:I="text"}=m,T=_e(m,HEe),R=WEe(m),j={root:{ownerState:{disableUnderline:f}}},$=S??v?to(S??v,j):j,H=(o=(s=E.root)!=null?s:k.Root)!=null?o:qEe,P=(u=(h=E.input)!=null?h:k.Input)!=null?u:GEe;return M.jsx(xT,V({slots:{root:H,input:P},slotProps:$,fullWidth:_,inputComponent:y,multiline:A,ref:r,type:I},T,{classes:R}))});DT.muiName="Input";function KEe(e){return Ue("MuiInputLabel",e)}He("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const YEe=["disableAnimation","margin","shrink","variant","className"],QEe=e=>{const{classes:t,formControl:r,size:o,shrink:s,disableAnimation:u,variant:h,required:m}=e,f={root:["root",r&&"formControl",!u&&"animated",s&&"shrink",o&&o!=="normal"&&`size${ge(o)}`,h],asterisk:[m&&"asterisk"]},k=Ke(f,KEe,t);return V({},t,k)},ZEe=we(DEe,{shouldForwardProp:e=>Jo(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${tm.asterisk}`]:t.asterisk},t.root,r.formControl&&t.formControl,r.size==="small"&&t.sizeSmall,r.shrink&&t.shrink,!r.disableAnimation&&t.animated,r.focused&&t.focused,t[r.variant]]}})(({theme:e,ownerState:t})=>V({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&V({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&V({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&V({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),TT=L.forwardRef(function(t,r){const o=qe({name:"MuiInputLabel",props:t}),{disableAnimation:s=!1,shrink:u,className:h}=o,m=_e(o,YEe),f=Gh();let k=u;typeof k>"u"&&f&&(k=f.filled||f.focused||f.adornedStart);const v=qh({props:o,muiFormControl:f,states:["size","variant","required","focused"]}),_=V({},o,{disableAnimation:s,formControl:f,shrink:k,size:v.size,variant:v.variant,required:v.required,focused:v.focused}),y=QEe(_);return M.jsx(ZEe,V({"data-shrink":k,ownerState:_,ref:r,className:ke(y.root,h)},m,{classes:y}))});function JEe(e){return Ue("MuiLink",e)}const XEe=He("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),vq={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},eSe=e=>vq[e]||e,tSe=({theme:e,ownerState:t})=>{const r=eSe(t.color),o=dh(e,`palette.${r}`,!1)||t.color,s=dh(e,`palette.${r}Channel`);return"vars"in e&&s?`rgba(${s} / 0.4)`:Et(o,.4)},nSe=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],rSe=e=>{const{classes:t,component:r,focusVisible:o,underline:s}=e,u={root:["root",`underline${ge(s)}`,r==="button"&&"button",o&&"focusVisible"]};return Ke(u,JEe,t)},oSe=we($e,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`underline${ge(r.underline)}`],r.component==="button"&&t.button]}})(({theme:e,ownerState:t})=>V({},t.underline==="none"&&{textDecoration:"none"},t.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},t.underline==="always"&&V({textDecoration:"underline"},t.color!=="inherit"&&{textDecorationColor:tSe({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),t.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${XEe.focusVisible}`]:{outline:"auto"}})),wq=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiLink"}),{className:s,color:u="primary",component:h="a",onBlur:m,onFocus:f,TypographyClasses:k,underline:v="always",variant:_="inherit",sx:y}=o,A=_e(o,nSe),{isFocusVisibleRef:S,onBlur:E,onFocus:I,ref:T}=s_(),[R,O]=L.useState(!1),j=Cn(r,T),$=q=>{E(q),S.current===!1&&O(!1),m&&m(q)},H=q=>{I(q),S.current===!0&&O(!0),f&&f(q)},P=V({},o,{color:u,component:h,focusVisible:R,underline:v,variant:_}),z=rSe(P);return M.jsx(oSe,V({color:u,className:ke(z.root,s),classes:k,component:h,onBlur:$,onFocus:H,ref:j,ownerState:P,variant:_,sx:[...Object.keys(vq).includes(u)?[]:[{color:u}],...Array.isArray(y)?y:[y]]},A))}),pl=L.createContext({});function iSe(e){return Ue("MuiList",e)}He("MuiList",["root","padding","dense","subheader"]);const sSe=["children","className","component","dense","disablePadding","subheader"],aSe=e=>{const{classes:t,disablePadding:r,dense:o,subheader:s}=e;return Ke({root:["root",!r&&"padding",o&&"dense",s&&"subheader"]},iSe,t)},lSe=we("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})(({ownerState:e})=>V({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),Wv=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiList"}),{children:s,className:u,component:h="ul",dense:m=!1,disablePadding:f=!1,subheader:k}=o,v=_e(o,sSe),_=L.useMemo(()=>({dense:m}),[m]),y=V({},o,{component:h,dense:m,disablePadding:f}),A=aSe(y);return M.jsx(pl.Provider,{value:_,children:M.jsxs(lSe,V({as:h,className:ke(A.root,u),ref:r,ownerState:y},v,{children:[k,s]}))})});function cSe(e){return Ue("MuiListItem",e)}const hd=He("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),uSe=He("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function dSe(e){return Ue("MuiListItemSecondaryAction",e)}He("MuiListItemSecondaryAction",["root","disableGutters"]);const hSe=["className"],pSe=e=>{const{disableGutters:t,classes:r}=e;return Ke({root:["root",t&&"disableGutters"]},dSe,r)},fSe=we("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.disableGutters&&t.disableGutters]}})(({ownerState:e})=>V({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),yq=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiListItemSecondaryAction"}),{className:s}=o,u=_e(o,hSe),h=L.useContext(pl),m=V({},o,{disableGutters:h.disableGutters}),f=pSe(m);return M.jsx(fSe,V({className:ke(f.root,s),ownerState:m,ref:r},u))});yq.muiName="ListItemSecondaryAction";const mSe=["className"],gSe=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],bSe=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.alignItems==="flex-start"&&t.alignItemsFlexStart,r.divider&&t.divider,!r.disableGutters&&t.gutters,!r.disablePadding&&t.padding,r.button&&t.button,r.hasSecondaryAction&&t.secondaryAction]},kSe=e=>{const{alignItems:t,button:r,classes:o,dense:s,disabled:u,disableGutters:h,disablePadding:m,divider:f,hasSecondaryAction:k,selected:v}=e;return Ke({root:["root",s&&"dense",!h&&"gutters",!m&&"padding",f&&"divider",u&&"disabled",r&&"button",t==="flex-start"&&"alignItemsFlexStart",k&&"secondaryAction",v&&"selected"],container:["container"]},cSe,o)},vSe=we("div",{name:"MuiListItem",slot:"Root",overridesResolver:bSe})(({theme:e,ownerState:t})=>V({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&V({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${uSe.root}`]:{paddingRight:48}},{[`&.${hd.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${hd.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Et(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${hd.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Et(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${hd.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${hd.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Et(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Et(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),wSe=we("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),cf=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiListItem"}),{alignItems:s="center",autoFocus:u=!1,button:h=!1,children:m,className:f,component:k,components:v={},componentsProps:_={},ContainerComponent:y="li",ContainerProps:{className:A}={},dense:S=!1,disabled:E=!1,disableGutters:I=!1,disablePadding:T=!1,divider:R=!1,focusVisibleClassName:O,secondaryAction:j,selected:$=!1,slotProps:H={},slots:P={}}=o,z=_e(o.ContainerProps,mSe),q=_e(o,gSe),K=L.useContext(pl),Q=L.useMemo(()=>({dense:S||K.dense||!1,alignItems:s,disableGutters:I}),[s,K.dense,S,I]),te=L.useRef(null);qo(()=>{u&&te.current&&te.current.focus()},[u]);const X=L.Children.toArray(m),Z=X.length&&Zf(X[X.length-1],["ListItemSecondaryAction"]),J=V({},o,{alignItems:s,autoFocus:u,button:h,dense:Q.dense,disabled:E,disableGutters:I,disablePadding:T,divider:R,hasSecondaryAction:Z,selected:$}),ee=kSe(J),ne=Cn(te,r),G=P.root||v.Root||vSe,re=H.root||_.root||{},de=V({className:ke(ee.root,re.className,f),disabled:E},q);let Ae=k||"li";return h&&(de.component=k||"div",de.focusVisibleClassName=ke(hd.focusVisible,O),Ae=Zc),Z?(Ae=!de.component&&!k?"div":Ae,y==="li"&&(Ae==="li"?Ae="div":de.component==="li"&&(de.component="div")),M.jsx(pl.Provider,{value:Q,children:M.jsxs(wSe,V({as:y,className:ke(ee.container,A),ref:ne,ownerState:J},z,{children:[M.jsx(G,V({},re,!hh(G)&&{as:Ae,ownerState:V({},J,re.ownerState)},de,{children:X})),X.pop()]}))})):M.jsx(pl.Provider,{value:Q,children:M.jsxs(G,V({},re,{as:Ae,ref:ne},!hh(G)&&{ownerState:V({},J,re.ownerState)},de,{children:[X,j&&M.jsx(yq,{children:j})]}))})});function LBe(e){return Ue("MuiListItemIcon",e)}const d6=He("MuiListItemIcon",["root","alignItemsFlexStart"]);function ySe(e){return Ue("MuiListItemText",e)}const iw=He("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),_Se=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],CSe=e=>{const{classes:t,inset:r,primary:o,secondary:s,dense:u}=e;return Ke({root:["root",r&&"inset",u&&"dense",o&&s&&"multiline"],primary:["primary"],secondary:["secondary"]},ySe,t)},ASe=we("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${iw.primary}`]:t.primary},{[`& .${iw.secondary}`]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})(({ownerState:e})=>V({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),uf=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiListItemText"}),{children:s,className:u,disableTypography:h=!1,inset:m=!1,primary:f,primaryTypographyProps:k,secondary:v,secondaryTypographyProps:_}=o,y=_e(o,_Se),{dense:A}=L.useContext(pl);let S=f??s,E=v;const I=V({},o,{disableTypography:h,inset:m,primary:!!S,secondary:!!E,dense:A}),T=CSe(I);return S!=null&&S.type!==$e&&!h&&(S=M.jsx($e,V({variant:A?"body2":"body1",className:T.primary,component:k!=null&&k.variant?void 0:"span",display:"block"},k,{children:S}))),E!=null&&E.type!==$e&&!h&&(E=M.jsx($e,V({variant:"body2",className:T.secondary,color:"text.secondary",display:"block"},_,{children:E}))),M.jsxs(ASe,V({className:ke(T.root,u),ownerState:I,ref:r},y,{children:[S,E]}))}),xSe=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function ex(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function h6(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function _q(e,t){if(t===void 0)return!0;let r=e.innerText;return r===void 0&&(r=e.textContent),r=r.trim().toLowerCase(),r.length===0?!1:t.repeating?r[0]===t.keys[0]:r.indexOf(t.keys.join(""))===0}function df(e,t,r,o,s,u){let h=!1,m=s(e,t,t?r:!1);for(;m;){if(m===e.firstChild){if(h)return!1;h=!0}const f=o?!1:m.disabled||m.getAttribute("aria-disabled")==="true";if(!m.hasAttribute("tabindex")||!_q(m,u)||f)m=s(e,m,r);else return m.focus(),!0}return!1}const ESe=L.forwardRef(function(t,r){const{actions:o,autoFocus:s=!1,autoFocusItem:u=!1,children:h,className:m,disabledItemsFocusable:f=!1,disableListWrap:k=!1,onKeyDown:v,variant:_="selectedMenu"}=t,y=_e(t,xSe),A=L.useRef(null),S=L.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});qo(()=>{s&&A.current.focus()},[s]),L.useImperativeHandle(o,()=>({adjustStyleForScrollbar:(O,{direction:j})=>{const $=!A.current.style.width;if(O.clientHeight<A.current.clientHeight&&$){const H=`${MW(ar(O))}px`;A.current.style[j==="rtl"?"paddingLeft":"paddingRight"]=H,A.current.style.width=`calc(100% + ${H})`}return A.current}}),[]);const E=O=>{const j=A.current,$=O.key,H=ar(j).activeElement;if($==="ArrowDown")O.preventDefault(),df(j,H,k,f,ex);else if($==="ArrowUp")O.preventDefault(),df(j,H,k,f,h6);else if($==="Home")O.preventDefault(),df(j,null,k,f,ex);else if($==="End")O.preventDefault(),df(j,null,k,f,h6);else if($.length===1){const P=S.current,z=$.toLowerCase(),q=performance.now();P.keys.length>0&&(q-P.lastTime>500?(P.keys=[],P.repeating=!0,P.previousKeyMatched=!0):P.repeating&&z!==P.keys[0]&&(P.repeating=!1)),P.lastTime=q,P.keys.push(z);const K=H&&!P.repeating&&_q(H,P);P.previousKeyMatched&&(K||df(j,H,!1,f,ex,P))?O.preventDefault():P.previousKeyMatched=!1}v&&v(O)},I=Cn(A,r);let T=-1;L.Children.forEach(h,(O,j)=>{if(!L.isValidElement(O)){T===j&&(T+=1,T>=h.length&&(T=-1));return}O.props.disabled||(_==="selectedMenu"&&O.props.selected||T===-1)&&(T=j),T===j&&(O.props.disabled||O.props.muiSkipListHighlight||O.type.muiSkipListHighlight)&&(T+=1,T>=h.length&&(T=-1))});const R=L.Children.map(h,(O,j)=>{if(j===T){const $={};return u&&($.autoFocus=!0),O.props.tabIndex===void 0&&_==="selectedMenu"&&($.tabIndex=0),L.cloneElement(O,$)}return O});return M.jsx(Wv,V({role:"menu",ref:I,className:m,onKeyDown:E,tabIndex:s?0:-1},y,{children:R}))});function SSe(e){return Ue("MuiPopover",e)}He("MuiPopover",["root","paper"]);const DSe=["onEntering"],TSe=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],ISe=["slotProps"];function p6(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.height/2:t==="bottom"&&(r=e.height),r}function f6(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.width/2:t==="right"&&(r=e.width),r}function m6(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function tx(e){return typeof e=="function"?e():e}const MSe=e=>{const{classes:t}=e;return Ke({root:["root"],paper:["paper"]},SSe,t)},PSe=we(mq,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Cq=we(Gi,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),NSe=L.forwardRef(function(t,r){var o,s,u;const h=qe({props:t,name:"MuiPopover"}),{action:m,anchorEl:f,anchorOrigin:k={vertical:"top",horizontal:"left"},anchorPosition:v,anchorReference:_="anchorEl",children:y,className:A,container:S,elevation:E=8,marginThreshold:I=16,open:T,PaperProps:R={},slots:O,slotProps:j,transformOrigin:$={vertical:"top",horizontal:"left"},TransitionComponent:H=Zm,transitionDuration:P="auto",TransitionProps:{onEntering:z}={},disableScrollLock:q=!1}=h,K=_e(h.TransitionProps,DSe),Q=_e(h,TSe),te=(o=j==null?void 0:j.paper)!=null?o:R,X=L.useRef(),Z=Cn(X,te.ref),J=V({},h,{anchorOrigin:k,anchorReference:_,elevation:E,marginThreshold:I,externalPaperSlotProps:te,transformOrigin:$,TransitionComponent:H,transitionDuration:P,TransitionProps:K}),ee=MSe(J),ne=L.useCallback(()=>{if(_==="anchorPosition")return v;const be=tx(f),Ye=(be&&be.nodeType===1?be:ar(X.current).body).getBoundingClientRect();return{top:Ye.top+p6(Ye,k.vertical),left:Ye.left+f6(Ye,k.horizontal)}},[f,k.horizontal,k.vertical,v,_]),G=L.useCallback(be=>({vertical:p6(be,$.vertical),horizontal:f6(be,$.horizontal)}),[$.horizontal,$.vertical]),re=L.useCallback(be=>{const Te={width:be.offsetWidth,height:be.offsetHeight},Ye=G(Te);if(_==="none")return{top:null,left:null,transformOrigin:m6(Ye)};const Xt=ne();let Dt=Xt.top-Ye.vertical,bt=Xt.left-Ye.horizontal;const Ot=Dt+Te.height,nt=bt+Te.width,se=_l(tx(f)),ae=se.innerHeight-I,ce=se.innerWidth-I;if(I!==null&&Dt<I){const fe=Dt-I;Dt-=fe,Ye.vertical+=fe}else if(I!==null&&Ot>ae){const fe=Ot-ae;Dt-=fe,Ye.vertical+=fe}if(I!==null&&bt<I){const fe=bt-I;bt-=fe,Ye.horizontal+=fe}else if(nt>ce){const fe=nt-ce;bt-=fe,Ye.horizontal+=fe}return{top:`${Math.round(Dt)}px`,left:`${Math.round(bt)}px`,transformOrigin:m6(Ye)}},[f,_,ne,G,I]),[de,Ae]=L.useState(T),Me=L.useCallback(()=>{const be=X.current;if(!be)return;const Te=re(be);Te.top!==null&&(be.style.top=Te.top),Te.left!==null&&(be.style.left=Te.left),be.style.transformOrigin=Te.transformOrigin,Ae(!0)},[re]);L.useEffect(()=>(q&&window.addEventListener("scroll",Me),()=>window.removeEventListener("scroll",Me)),[f,q,Me]);const Je=(be,Te)=>{z&&z(be,Te),Me()},Fe=()=>{Ae(!1)};L.useEffect(()=>{T&&Me()}),L.useImperativeHandle(m,()=>T?{updatePosition:()=>{Me()}}:null,[T,Me]),L.useEffect(()=>{if(!T)return;const be=aT(()=>{Me()}),Te=_l(f);return Te.addEventListener("resize",be),()=>{be.clear(),Te.removeEventListener("resize",be)}},[f,T,Me]);let Xe=P;P==="auto"&&!H.muiSupportAuto&&(Xe=void 0);const Se=S||(f?ar(tx(f)).body:void 0),ct=(s=O==null?void 0:O.root)!=null?s:PSe,pt=(u=O==null?void 0:O.paper)!=null?u:Cq,ut=Cl({elementType:pt,externalSlotProps:V({},te,{style:de?te.style:V({},te.style,{opacity:0})}),additionalProps:{elevation:E,ref:Z},ownerState:J,className:ke(ee.paper,te==null?void 0:te.className)}),yt=Cl({elementType:ct,externalSlotProps:(j==null?void 0:j.root)||{},externalForwardedProps:Q,additionalProps:{ref:r,slotProps:{backdrop:{invisible:!0}},container:Se,open:T},ownerState:J,className:ke(ee.root,A)}),{slotProps:tt}=yt,Re=_e(yt,ISe);return M.jsx(ct,V({},Re,!hh(ct)&&{slotProps:tt,disableScrollLock:q},{children:M.jsx(H,V({appear:!0,in:T,onEntering:Je,onExited:Fe,timeout:Xe},K,{children:M.jsx(pt,V({},ut,{children:y}))}))}))});function RSe(e){return Ue("MuiMenu",e)}He("MuiMenu",["root","paper","list"]);const OSe=["onEntering"],BSe=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],LSe={vertical:"top",horizontal:"right"},jSe={vertical:"top",horizontal:"left"},FSe=e=>{const{classes:t}=e;return Ke({root:["root"],paper:["paper"],list:["list"]},RSe,t)},zSe=we(NSe,{shouldForwardProp:e=>Jo(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),$Se=we(Cq,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),VSe=we(ESe,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),USe=L.forwardRef(function(t,r){var o,s;const u=qe({props:t,name:"MuiMenu"}),{autoFocus:h=!0,children:m,className:f,disableAutoFocusItem:k=!1,MenuListProps:v={},onClose:_,open:y,PaperProps:A={},PopoverClasses:S,transitionDuration:E="auto",TransitionProps:{onEntering:I}={},variant:T="selectedMenu",slots:R={},slotProps:O={}}=u,j=_e(u.TransitionProps,OSe),$=_e(u,BSe),H=LW(),P=V({},u,{autoFocus:h,disableAutoFocusItem:k,MenuListProps:v,onEntering:I,PaperProps:A,transitionDuration:E,TransitionProps:j,variant:T}),z=FSe(P),q=h&&!k&&y,K=L.useRef(null),Q=(G,re)=>{K.current&&K.current.adjustStyleForScrollbar(G,{direction:H?"rtl":"ltr"}),I&&I(G,re)},te=G=>{G.key==="Tab"&&(G.preventDefault(),_&&_(G,"tabKeyDown"))};let X=-1;L.Children.map(m,(G,re)=>{L.isValidElement(G)&&(G.props.disabled||(T==="selectedMenu"&&G.props.selected||X===-1)&&(X=re))});const Z=(o=R.paper)!=null?o:$Se,J=(s=O.paper)!=null?s:A,ee=Cl({elementType:R.root,externalSlotProps:O.root,ownerState:P,className:[z.root,f]}),ne=Cl({elementType:Z,externalSlotProps:J,ownerState:P,className:z.paper});return M.jsx(zSe,V({onClose:_,anchorOrigin:{vertical:"bottom",horizontal:H?"right":"left"},transformOrigin:H?LSe:jSe,slots:{paper:Z,root:R.root},slotProps:{root:ee,paper:ne},open:y,ref:r,transitionDuration:E,TransitionProps:V({onEntering:Q},j),ownerState:P},$,{classes:S,children:M.jsx(VSe,V({onKeyDown:te,actions:K,autoFocus:h&&(X===-1||k),autoFocusItem:q,variant:T},v,{className:ke(z.list,v.className),children:m}))}))});function HSe(e){return Ue("MuiMenuItem",e)}const hf=He("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),WSe=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],qSe=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]},GSe=e=>{const{disabled:t,dense:r,divider:o,disableGutters:s,selected:u,classes:h}=e,f=Ke({root:["root",r&&"dense",t&&"disabled",!s&&"gutters",o&&"divider",u&&"selected"]},HSe,h);return V({},h,f)},KSe=we(Zc,{shouldForwardProp:e=>Jo(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:qSe})(({theme:e,ownerState:t})=>V({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${hf.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Et(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${hf.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Et(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${hf.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Et(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Et(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${hf.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${hf.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${a6.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${a6.inset}`]:{marginLeft:52},[`& .${iw.root}`]:{marginTop:0,marginBottom:0},[`& .${iw.inset}`]:{paddingLeft:36},[`& .${d6.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&V({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${d6.root} svg`]:{fontSize:"1.25rem"}}))),Nc=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiMenuItem"}),{autoFocus:s=!1,component:u="li",dense:h=!1,divider:m=!1,disableGutters:f=!1,focusVisibleClassName:k,role:v="menuitem",tabIndex:_,className:y}=o,A=_e(o,WSe),S=L.useContext(pl),E=L.useMemo(()=>({dense:h||S.dense||!1,disableGutters:f}),[S.dense,h,f]),I=L.useRef(null);qo(()=>{s&&I.current&&I.current.focus()},[s]);const T=V({},o,{dense:E.dense,divider:m,disableGutters:f}),R=GSe(o),O=Cn(I,r);let j;return o.disabled||(j=_!==void 0?_:-1),M.jsx(pl.Provider,{value:E,children:M.jsx(KSe,V({ref:O,role:v,tabIndex:j,component:u,focusVisibleClassName:ke(R.focusVisible,k),className:ke(R.root,y)},A,{ownerState:T,classes:R}))})});function YSe(e){return Ue("MuiNativeSelect",e)}const IT=He("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),QSe=["className","disabled","error","IconComponent","inputRef","variant"],ZSe=e=>{const{classes:t,variant:r,disabled:o,multiple:s,open:u,error:h}=e,m={select:["select",r,o&&"disabled",s&&"multiple",h&&"error"],icon:["icon",`icon${ge(r)}`,u&&"iconOpen",o&&"disabled"]};return Ke(m,YSe,t)},Aq=({ownerState:e,theme:t})=>V({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":V({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${IT.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),JSe=we("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Jo,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.select,t[r.variant],r.error&&t.error,{[`&.${IT.multiple}`]:t.multiple}]}})(Aq),xq=({ownerState:e,theme:t})=>V({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${IT.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),XSe=we("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${ge(r.variant)}`],r.open&&t.iconOpen]}})(xq),e2e=L.forwardRef(function(t,r){const{className:o,disabled:s,error:u,IconComponent:h,inputRef:m,variant:f="standard"}=t,k=_e(t,QSe),v=V({},t,{disabled:s,variant:f,error:u}),_=ZSe(v);return M.jsxs(L.Fragment,{children:[M.jsx(JSe,V({ownerState:v,className:ke(_.select,o),disabled:s,ref:m||r},k)),t.multiple?null:M.jsx(XSe,{as:h,ownerState:v,className:_.icon})]})});var g6;const t2e=["children","classes","className","label","notched"],n2e=we("fieldset",{shouldForwardProp:Jo})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),r2e=we("legend",{shouldForwardProp:Jo})(({ownerState:e,theme:t})=>V({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&V({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function o2e(e){const{className:t,label:r,notched:o}=e,s=_e(e,t2e),u=r!=null&&r!=="",h=V({},e,{notched:o,withLabel:u});return M.jsx(n2e,V({"aria-hidden":!0,className:t,ownerState:h},s,{children:M.jsx(r2e,{ownerState:h,children:u?M.jsx("span",{children:r}):g6||(g6=M.jsx("span",{className:"notranslate",children:""}))})}))}const i2e=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],s2e=e=>{const{classes:t}=e,o=Ke({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},y1e,t);return V({},t,o)},a2e=we(d_,{shouldForwardProp:e=>Jo(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:c_})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return V({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${La.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${La.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${La.focused} .${La.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${La.error} .${La.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${La.disabled} .${La.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&V({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),l2e=we(o2e,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),c2e=we(h_,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:u_})(({theme:e,ownerState:t})=>V({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),MT=L.forwardRef(function(t,r){var o,s,u,h,m;const f=qe({props:t,name:"MuiOutlinedInput"}),{components:k={},fullWidth:v=!1,inputComponent:_="input",label:y,multiline:A=!1,notched:S,slots:E={},type:I="text"}=f,T=_e(f,i2e),R=s2e(f),O=Gh(),j=qh({props:f,muiFormControl:O,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),$=V({},f,{color:j.color||"primary",disabled:j.disabled,error:j.error,focused:j.focused,formControl:O,fullWidth:v,hiddenLabel:j.hiddenLabel,multiline:A,size:j.size,type:I}),H=(o=(s=E.root)!=null?s:k.Root)!=null?o:a2e,P=(u=(h=E.input)!=null?h:k.Input)!=null?u:c2e;return M.jsx(xT,V({slots:{root:H,input:P},renderSuffix:z=>M.jsx(l2e,{ownerState:$,className:R.notchedOutline,label:y!=null&&y!==""&&j.required?m||(m=M.jsxs(L.Fragment,{children:[y,"","*"]})):y,notched:typeof S<"u"?S:!!(z.startAdornment||z.filled||z.focused)}),fullWidth:v,inputComponent:_,multiline:A,ref:r,type:I},T,{classes:V({},R,{notchedOutline:null})}))});MT.muiName="Input";function u2e(e){return Ue("MuiSelect",e)}const pf=He("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var b6;const d2e=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],h2e=we("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`&.${pf.select}`]:t.select},{[`&.${pf.select}`]:t[r.variant]},{[`&.${pf.error}`]:t.error},{[`&.${pf.multiple}`]:t.multiple}]}})(Aq,{[`&.${pf.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),p2e=we("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${ge(r.variant)}`],r.open&&t.iconOpen]}})(xq),f2e=we("input",{shouldForwardProp:e=>KW(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function k6(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function m2e(e){return e==null||typeof e=="string"&&!e.trim()}const g2e=e=>{const{classes:t,variant:r,disabled:o,multiple:s,open:u,error:h}=e,m={select:["select",r,o&&"disabled",s&&"multiple",h&&"error"],icon:["icon",`icon${ge(r)}`,u&&"iconOpen",o&&"disabled"],nativeInput:["nativeInput"]};return Ke(m,u2e,t)},b2e=L.forwardRef(function(t,r){var o;const{"aria-describedby":s,"aria-label":u,autoFocus:h,autoWidth:m,children:f,className:k,defaultOpen:v,defaultValue:_,disabled:y,displayEmpty:A,error:S=!1,IconComponent:E,inputRef:I,labelId:T,MenuProps:R={},multiple:O,name:j,onBlur:$,onChange:H,onClose:P,onFocus:z,onOpen:q,open:K,readOnly:Q,renderValue:te,SelectDisplayProps:X={},tabIndex:Z,value:J,variant:ee="standard"}=t,ne=_e(t,d2e),[G,re]=Q0({controlled:J,default:_,name:"Select"}),[de,Ae]=Q0({controlled:K,default:v,name:"Select"}),Me=L.useRef(null),Je=L.useRef(null),[Fe,Xe]=L.useState(null),{current:Se}=L.useRef(K!=null),[ct,pt]=L.useState(),ut=Cn(r,I),yt=L.useCallback(Ve=>{Je.current=Ve,Ve&&Xe(Ve)},[]),tt=Fe==null?void 0:Fe.parentNode;L.useImperativeHandle(ut,()=>({focus:()=>{Je.current.focus()},node:Me.current,value:G}),[G]),L.useEffect(()=>{v&&de&&Fe&&!Se&&(pt(m?null:tt.clientWidth),Je.current.focus())},[Fe,m]),L.useEffect(()=>{h&&Je.current.focus()},[h]),L.useEffect(()=>{if(!T)return;const Ve=ar(Je.current).getElementById(T);if(Ve){const jt=()=>{getSelection().isCollapsed&&Je.current.focus()};return Ve.addEventListener("click",jt),()=>{Ve.removeEventListener("click",jt)}}},[T]);const Re=(Ve,jt)=>{Ve?q&&q(jt):P&&P(jt),Se||(pt(m?null:tt.clientWidth),Ae(Ve))},be=Ve=>{Ve.button===0&&(Ve.preventDefault(),Je.current.focus(),Re(!0,Ve))},Te=Ve=>{Re(!1,Ve)},Ye=L.Children.toArray(f),Xt=Ve=>{const jt=Ye.find(Ft=>Ft.props.value===Ve.target.value);jt!==void 0&&(re(jt.props.value),H&&H(Ve,jt))},Dt=Ve=>jt=>{let Ft;if(jt.currentTarget.hasAttribute("tabindex")){if(O){Ft=Array.isArray(G)?G.slice():[];const un=G.indexOf(Ve.props.value);un===-1?Ft.push(Ve.props.value):Ft.splice(un,1)}else Ft=Ve.props.value;if(Ve.props.onClick&&Ve.props.onClick(jt),G!==Ft&&(re(Ft),H)){const un=jt.nativeEvent||jt,tr=new un.constructor(un.type,un);Object.defineProperty(tr,"target",{writable:!0,value:{value:Ft,name:j}}),H(tr,Ve)}O||Re(!1,jt)}},bt=Ve=>{Q||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Ve.key)!==-1&&(Ve.preventDefault(),Re(!0,Ve))},Ot=Fe!==null&&de,nt=Ve=>{!Ot&&$&&(Object.defineProperty(Ve,"target",{writable:!0,value:{value:G,name:j}}),$(Ve))};delete ne["aria-invalid"];let se,ae;const ce=[];let fe=!1;(ow({value:G})||A)&&(te?se=te(G):fe=!0);const Pe=Ye.map(Ve=>{if(!L.isValidElement(Ve))return null;let jt;if(O){if(!Array.isArray(G))throw new Error(Yc(2));jt=G.some(Ft=>k6(Ft,Ve.props.value)),jt&&fe&&ce.push(Ve.props.children)}else jt=k6(G,Ve.props.value),jt&&fe&&(ae=Ve.props.children);return L.cloneElement(Ve,{"aria-selected":jt?"true":"false",onClick:Dt(Ve),onKeyUp:Ft=>{Ft.key===" "&&Ft.preventDefault(),Ve.props.onKeyUp&&Ve.props.onKeyUp(Ft)},role:"option",selected:jt,value:void 0,"data-value":Ve.props.value})});fe&&(O?ce.length===0?se=null:se=ce.reduce((Ve,jt,Ft)=>(Ve.push(jt),Ft<ce.length-1&&Ve.push(", "),Ve),[]):se=ae);let ht=ct;!m&&Se&&Fe&&(ht=tt.clientWidth);let cr;typeof Z<"u"?cr=Z:cr=y?null:0;const Tt=X.id||(j?`mui-component-select-${j}`:void 0),Qe=V({},t,{variant:ee,value:G,open:Ot,error:S}),cn=g2e(Qe),Si=V({},R.PaperProps,(o=R.slotProps)==null?void 0:o.paper),Ao=$g();return M.jsxs(L.Fragment,{children:[M.jsx(h2e,V({ref:yt,tabIndex:cr,role:"combobox","aria-controls":Ao,"aria-disabled":y?"true":void 0,"aria-expanded":Ot?"true":"false","aria-haspopup":"listbox","aria-label":u,"aria-labelledby":[T,Tt].filter(Boolean).join(" ")||void 0,"aria-describedby":s,onKeyDown:bt,onMouseDown:y||Q?null:be,onBlur:nt,onFocus:z},X,{ownerState:Qe,className:ke(X.className,cn.select,k),id:Tt,children:m2e(se)?b6||(b6=M.jsx("span",{className:"notranslate",children:""})):se})),M.jsx(f2e,V({"aria-invalid":S,value:Array.isArray(G)?G.join(","):G,name:j,ref:Me,"aria-hidden":!0,onChange:Xt,tabIndex:-1,disabled:y,className:cn.nativeInput,autoFocus:h,ownerState:Qe},ne)),M.jsx(p2e,{as:E,className:cn.icon,ownerState:Qe}),M.jsx(USe,V({id:`menu-${j||""}`,anchorEl:tt,open:Ot,onClose:Te,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},R,{MenuListProps:V({"aria-labelledby":T,role:"listbox","aria-multiselectable":O?"true":void 0,disableListWrap:!0,id:Ao},R.MenuListProps),slotProps:V({},R.slotProps,{paper:V({},Si,{style:V({minWidth:ht},Si!=null?Si.style:null)})}),children:Pe}))]})}),k2e=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],v2e=["root"],w2e=e=>{const{classes:t}=e;return t},PT={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Jo(e)&&e!=="variant",slot:"Root"},y2e=we(DT,PT)(""),_2e=we(MT,PT)(""),C2e=we(ET,PT)(""),v_=L.forwardRef(function(t,r){const o=qe({name:"MuiSelect",props:t}),{autoWidth:s=!1,children:u,classes:h={},className:m,defaultOpen:f=!1,displayEmpty:k=!1,IconComponent:v=C1e,id:_,input:y,inputProps:A,label:S,labelId:E,MenuProps:I,multiple:T=!1,native:R=!1,onClose:O,onOpen:j,open:$,renderValue:H,SelectDisplayProps:P,variant:z="outlined"}=o,q=_e(o,k2e),K=R?e2e:b2e,Q=Gh(),te=qh({props:o,muiFormControl:Q,states:["variant","error"]}),X=te.variant||z,Z=V({},o,{variant:X,classes:h}),J=w2e(Z),ee=_e(J,v2e),ne=y||{standard:M.jsx(y2e,{ownerState:Z}),outlined:M.jsx(_2e,{label:S,ownerState:Z}),filled:M.jsx(C2e,{ownerState:Z})}[X],G=Cn(r,ne.ref);return M.jsx(L.Fragment,{children:L.cloneElement(ne,V({inputComponent:K,inputProps:V({children:u,error:te.error,IconComponent:v,variant:X,type:void 0,multiple:T},R?{id:_}:{autoWidth:s,defaultOpen:f,displayEmpty:k,labelId:E,MenuProps:I,onClose:O,onOpen:j,open:$,renderValue:H,SelectDisplayProps:V({id:_},P)},A,{classes:A?to(ee,A.classes):ee},y?y.props.inputProps:{})},(T&&R||k)&&X==="outlined"?{notched:!0}:{},{ref:G,className:ke(ne.props.className,m,J.root)},!y&&{variant:X},q))})});v_.muiName="Select";function A2e(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:r=!1,onClose:o,open:s,resumeHideDuration:u}=e,h=yc();L.useEffect(()=>{if(!s)return;function T(R){R.defaultPrevented||(R.key==="Escape"||R.key==="Esc")&&(o==null||o(R,"escapeKeyDown"))}return document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)}},[s,o]);const m=mi((T,R)=>{o==null||o(T,R)}),f=mi(T=>{!o||T==null||h.start(T,()=>{m(null,"timeout")})});L.useEffect(()=>(s&&f(t),h.clear),[s,t,f,h]);const k=T=>{o==null||o(T,"clickaway")},v=h.clear,_=L.useCallback(()=>{t!=null&&f(u??t*.5)},[t,u,f]),y=T=>R=>{const O=T.onBlur;O==null||O(R),_()},A=T=>R=>{const O=T.onFocus;O==null||O(R),v()},S=T=>R=>{const O=T.onMouseEnter;O==null||O(R),v()},E=T=>R=>{const O=T.onMouseLeave;O==null||O(R),_()};return L.useEffect(()=>{if(!r&&s)return window.addEventListener("focus",_),window.addEventListener("blur",v),()=>{window.removeEventListener("focus",_),window.removeEventListener("blur",v)}},[r,s,_,v]),{getRootProps:(T={})=>{const R=V({},Z0(e),Z0(T));return V({role:"presentation"},T,R,{onBlur:y(R),onFocus:A(R),onMouseEnter:S(R),onMouseLeave:E(R)})},onClickAway:k}}function x2e(e){return Ue("MuiSnackbarContent",e)}He("MuiSnackbarContent",["root","message","action"]);const E2e=["action","className","message","role"],S2e=e=>{const{classes:t}=e;return Ke({root:["root"],action:["action"],message:["message"]},x2e,t)},D2e=we(Gi,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,r=Sye(e.palette.background.default,t);return V({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(r),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),T2e=we("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),I2e=we("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),M2e=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiSnackbarContent"}),{action:s,className:u,message:h,role:m="alert"}=o,f=_e(o,E2e),k=o,v=S2e(k);return M.jsxs(D2e,V({role:m,square:!0,elevation:6,className:ke(v.root,u),ownerState:k,ref:r},f,{children:[M.jsx(T2e,{className:v.message,ownerState:k,children:h}),s?M.jsx(I2e,{className:v.action,ownerState:k,children:s}):null]}))});function P2e(e){return Ue("MuiSnackbar",e)}He("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const N2e=["onEnter","onExited"],R2e=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],O2e=e=>{const{classes:t,anchorOrigin:r}=e,o={root:["root",`anchorOrigin${ge(r.vertical)}${ge(r.horizontal)}`]};return Ke(o,P2e,t)},v6=we("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`anchorOrigin${ge(r.anchorOrigin.vertical)}${ge(r.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const r={left:"50%",right:"auto",transform:"translateX(-50%)"};return V({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:V({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&r,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),gu=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiSnackbar"}),s=fu(),u={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{action:h,anchorOrigin:{vertical:m,horizontal:f}={vertical:"bottom",horizontal:"left"},autoHideDuration:k=null,children:v,className:_,ClickAwayListenerProps:y,ContentProps:A,disableWindowBlurListener:S=!1,message:E,open:I,TransitionComponent:T=Zm,transitionDuration:R=u,TransitionProps:{onEnter:O,onExited:j}={}}=o,$=_e(o.TransitionProps,N2e),H=_e(o,R2e),P=V({},o,{anchorOrigin:{vertical:m,horizontal:f},autoHideDuration:k,disableWindowBlurListener:S,TransitionComponent:T,transitionDuration:R}),z=O2e(P),{getRootProps:q,onClickAway:K}=A2e(V({},P)),[Q,te]=L.useState(!0),X=Cl({elementType:v6,getSlotProps:q,externalForwardedProps:H,ownerState:P,additionalProps:{ref:r},className:[z.root,_]}),Z=ee=>{te(!0),j&&j(ee)},J=(ee,ne)=>{te(!1),O&&O(ee,ne)};return!I&&Q?null:M.jsx(lxe,V({onClickAway:K},y,{children:M.jsx(v6,V({},X,{children:M.jsx(T,V({appear:!0,in:I,timeout:R,direction:m==="top"?"down":"up",onEnter:J,onExited:Z},$,{children:v||M.jsx(M2e,V({message:E,action:h},A))}))}))}))});function B2e(e){return Ue("MuiTooltip",e)}const Xa=He("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),L2e=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function j2e(e){return Math.round(e*1e5)/1e5}const F2e=e=>{const{classes:t,disableInteractive:r,arrow:o,touch:s,placement:u}=e,h={popper:["popper",!r&&"popperInteractive",o&&"popperArrow"],tooltip:["tooltip",o&&"tooltipArrow",s&&"touch",`tooltipPlacement${ge(u.split("-")[0])}`],arrow:["arrow"]};return Ke(h,B2e,t)},z2e=we(cq,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.popper,!r.disableInteractive&&t.popperInteractive,r.arrow&&t.popperArrow,!r.open&&t.popperClose]}})(({theme:e,ownerState:t,open:r})=>V({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${Xa.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Xa.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Xa.arrow}`]:V({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Xa.arrow}`]:V({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),$2e=we("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.tooltip,r.touch&&t.touch,r.arrow&&t.tooltipArrow,t[`tooltipPlacement${ge(r.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>V({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:Et(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${j2e(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${Xa.popper}[data-popper-placement*="left"] &`]:V({transformOrigin:"right center"},t.isRtl?V({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):V({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${Xa.popper}[data-popper-placement*="right"] &`]:V({transformOrigin:"left center"},t.isRtl?V({marginRight:"14px"},t.touch&&{marginRight:"24px"}):V({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${Xa.popper}[data-popper-placement*="top"] &`]:V({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${Xa.popper}[data-popper-placement*="bottom"] &`]:V({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),V2e=we("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:Et(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let lv=!1;const w6=new Vg;let ff={x:0,y:0};function cv(e,t){return(r,...o)=>{t&&t(r,...o),e(r,...o)}}const Jm=L.forwardRef(function(t,r){var o,s,u,h,m,f,k,v,_,y,A,S,E,I,T,R,O,j,$;const H=qe({props:t,name:"MuiTooltip"}),{arrow:P=!1,children:z,components:q={},componentsProps:K={},describeChild:Q=!1,disableFocusListener:te=!1,disableHoverListener:X=!1,disableInteractive:Z=!1,disableTouchListener:J=!1,enterDelay:ee=100,enterNextDelay:ne=0,enterTouchDelay:G=700,followCursor:re=!1,id:de,leaveDelay:Ae=0,leaveTouchDelay:Me=1500,onClose:Je,onOpen:Fe,open:Xe,placement:Se="bottom",PopperComponent:ct,PopperProps:pt={},slotProps:ut={},slots:yt={},title:tt,TransitionComponent:Re=Zm,TransitionProps:be}=H,Te=_e(H,L2e),Ye=L.isValidElement(z)?z:M.jsx("span",{children:z}),Xt=fu(),Dt=LW(),[bt,Ot]=L.useState(),[nt,se]=L.useState(null),ae=L.useRef(!1),ce=Z||re,fe=yc(),Pe=yc(),ht=yc(),cr=yc(),[Tt,Qe]=Q0({controlled:Xe,default:!1,name:"Tooltip",state:"open"});let cn=Tt;const Si=$g(de),Ao=L.useRef(),Ve=mi(()=>{Ao.current!==void 0&&(document.body.style.WebkitUserSelect=Ao.current,Ao.current=void 0),cr.clear()});L.useEffect(()=>Ve,[Ve]);const jt=mt=>{w6.clear(),lv=!0,Qe(!0),Fe&&!cn&&Fe(mt)},Ft=mi(mt=>{w6.start(800+Ae,()=>{lv=!1}),Qe(!1),Je&&cn&&Je(mt),fe.start(Xt.transitions.duration.shortest,()=>{ae.current=!1})}),un=mt=>{ae.current&&mt.type!=="touchstart"||(bt&&bt.removeAttribute("title"),Pe.clear(),ht.clear(),ee||lv&&ne?Pe.start(lv?ne:ee,()=>{jt(mt)}):jt(mt))},tr=mt=>{Pe.clear(),ht.start(Ae,()=>{Ft(mt)})},{isFocusVisibleRef:Zh,onBlur:oo,onFocus:Zg,ref:Jh}=s_(),[,Jg]=L.useState(!1),Xg=mt=>{oo(mt),Zh.current===!1&&(Jg(!1),tr(mt))},Xh=mt=>{bt||Ot(mt.currentTarget),Zg(mt),Zh.current===!0&&(Jg(!0),un(mt))},eb=mt=>{ae.current=!0;const jn=Ye.props;jn.onTouchStart&&jn.onTouchStart(mt)},M_=mt=>{eb(mt),ht.clear(),fe.clear(),Ve(),Ao.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",cr.start(G,()=>{document.body.style.WebkitUserSelect=Ao.current,un(mt)})},qr=mt=>{Ye.props.onTouchEnd&&Ye.props.onTouchEnd(mt),Ve(),ht.start(Me,()=>{Ft(mt)})};L.useEffect(()=>{if(!cn)return;function mt(jn){(jn.key==="Escape"||jn.key==="Esc")&&Ft(jn)}return document.addEventListener("keydown",mt),()=>{document.removeEventListener("keydown",mt)}},[Ft,cn]);const P_=Cn(Ye.ref,Jh,Ot,r);!tt&&tt!==0&&(cn=!1);const Os=L.useRef(),yu=mt=>{const jn=Ye.props;jn.onMouseMove&&jn.onMouseMove(mt),ff={x:mt.clientX,y:mt.clientY},Os.current&&Os.current.update()},Fl={},ep=typeof tt=="string";Q?(Fl.title=!cn&&ep&&!X?tt:null,Fl["aria-describedby"]=cn?Si:null):(Fl["aria-label"]=ep?tt:null,Fl["aria-labelledby"]=cn&&!ep?Si:null);const xo=V({},Fl,Te,Ye.props,{className:ke(Te.className,Ye.props.className),onTouchStart:eb,ref:P_},re?{onMouseMove:yu}:{}),zl={};J||(xo.onTouchStart=M_,xo.onTouchEnd=qr),X||(xo.onMouseOver=cv(un,xo.onMouseOver),xo.onMouseLeave=cv(tr,xo.onMouseLeave),ce||(zl.onMouseOver=un,zl.onMouseLeave=tr)),te||(xo.onFocus=cv(Xh,xo.onFocus),xo.onBlur=cv(Xg,xo.onBlur),ce||(zl.onFocus=Xh,zl.onBlur=Xg));const N_=L.useMemo(()=>{var mt;let jn=[{name:"arrow",enabled:!!nt,options:{element:nt,padding:4}}];return(mt=pt.popperOptions)!=null&&mt.modifiers&&(jn=jn.concat(pt.popperOptions.modifiers)),V({},pt.popperOptions,{modifiers:jn})},[nt,pt]),Xo=V({},H,{isRtl:Dt,arrow:P,disableInteractive:ce,placement:Se,PopperComponentProp:ct,touch:ae.current}),Ea=F2e(Xo),tb=(o=(s=yt.popper)!=null?s:q.Popper)!=null?o:z2e,nb=(u=(h=(m=yt.transition)!=null?m:q.Transition)!=null?h:Re)!=null?u:Zm,rb=(f=(k=yt.tooltip)!=null?k:q.Tooltip)!=null?f:$2e,ob=(v=(_=yt.arrow)!=null?_:q.Arrow)!=null?v:V2e,Bs=Sd(tb,V({},pt,(y=ut.popper)!=null?y:K.popper,{className:ke(Ea.popper,pt==null?void 0:pt.className,(A=(S=ut.popper)!=null?S:K.popper)==null?void 0:A.className)}),Xo),tp=Sd(nb,V({},be,(E=ut.transition)!=null?E:K.transition),Xo),ib=Sd(rb,V({},(I=ut.tooltip)!=null?I:K.tooltip,{className:ke(Ea.tooltip,(T=(R=ut.tooltip)!=null?R:K.tooltip)==null?void 0:T.className)}),Xo),R_=Sd(ob,V({},(O=ut.arrow)!=null?O:K.arrow,{className:ke(Ea.arrow,(j=($=ut.arrow)!=null?$:K.arrow)==null?void 0:j.className)}),Xo);return M.jsxs(L.Fragment,{children:[L.cloneElement(Ye,xo),M.jsx(tb,V({as:ct??cq,placement:Se,anchorEl:re?{getBoundingClientRect:()=>({top:ff.y,left:ff.x,right:ff.x,bottom:ff.y,width:0,height:0})}:bt,popperRef:Os,open:bt?cn:!1,id:Si,transition:!0},zl,Bs,{popperOptions:N_,children:({TransitionProps:mt})=>M.jsx(nb,V({timeout:Xt.transitions.duration.shorter},mt,tp,{children:M.jsxs(rb,V({},ib,{children:[tt,P?M.jsx(ob,V({},R_,{ref:se})):null]}))}))}))]})}),Eq=L.createContext();function U2e(e){return Ue("MuiTable",e)}He("MuiTable",["root","stickyHeader"]);const H2e=["className","component","padding","size","stickyHeader"],W2e=e=>{const{classes:t,stickyHeader:r}=e;return Ke({root:["root",r&&"stickyHeader"]},U2e,t)},q2e=we("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>V({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":V({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),y6="table",NT=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiTable"}),{className:s,component:u=y6,padding:h="normal",size:m="medium",stickyHeader:f=!1}=o,k=_e(o,H2e),v=V({},o,{component:u,padding:h,size:m,stickyHeader:f}),_=W2e(v),y=L.useMemo(()=>({padding:h,size:m,stickyHeader:f}),[h,m,f]);return M.jsx(Eq.Provider,{value:y,children:M.jsx(q2e,V({as:u,role:u===y6?null:"table",ref:r,className:ke(_.root,s),ownerState:v},k))})}),w_=L.createContext();function G2e(e){return Ue("MuiTableBody",e)}He("MuiTableBody",["root"]);const K2e=["className","component"],Y2e=e=>{const{classes:t}=e;return Ke({root:["root"]},G2e,t)},Q2e=we("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),Z2e={variant:"body"},_6="tbody",RT=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiTableBody"}),{className:s,component:u=_6}=o,h=_e(o,K2e),m=V({},o,{component:u}),f=Y2e(m);return M.jsx(w_.Provider,{value:Z2e,children:M.jsx(Q2e,V({className:ke(f.root,s),as:u,ref:r,role:u===_6?null:"rowgroup",ownerState:m},h))})});function J2e(e){return Ue("MuiTableCell",e)}const X2e=He("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),eDe=["align","className","component","padding","scope","size","sortDirection","variant"],tDe=e=>{const{classes:t,variant:r,align:o,padding:s,size:u,stickyHeader:h}=e,m={root:["root",r,h&&"stickyHeader",o!=="inherit"&&`align${ge(o)}`,s!=="normal"&&`padding${ge(s)}`,`size${ge(u)}`]};return Ke(m,J2e,t)},nDe=we("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${ge(r.size)}`],r.padding!=="normal"&&t[`padding${ge(r.padding)}`],r.align!=="inherit"&&t[`align${ge(r.align)}`],r.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>V({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?X0(Et(e.palette.divider,1),.88):J0(Et(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${X2e.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),On=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiTableCell"}),{align:s="inherit",className:u,component:h,padding:m,scope:f,size:k,sortDirection:v,variant:_}=o,y=_e(o,eDe),A=L.useContext(Eq),S=L.useContext(w_),E=S&&S.variant==="head";let I;h?I=h:I=E?"th":"td";let T=f;I==="td"?T=void 0:!T&&E&&(T="col");const R=_||S&&S.variant,O=V({},o,{align:s,component:I,padding:m||(A&&A.padding?A.padding:"normal"),size:k||(A&&A.size?A.size:"medium"),sortDirection:v,stickyHeader:R==="head"&&A&&A.stickyHeader,variant:R}),j=tDe(O);let $=null;return v&&($=v==="asc"?"ascending":"descending"),M.jsx(nDe,V({as:I,ref:r,className:ke(j.root,u),"aria-sort":$,scope:T,ownerState:O},y))});function rDe(e){return Ue("MuiTableContainer",e)}He("MuiTableContainer",["root"]);const oDe=["className","component"],iDe=e=>{const{classes:t}=e;return Ke({root:["root"]},rDe,t)},sDe=we("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),OT=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiTableContainer"}),{className:s,component:u="div"}=o,h=_e(o,oDe),m=V({},o,{component:u}),f=iDe(m);return M.jsx(sDe,V({ref:r,as:u,className:ke(f.root,s),ownerState:m},h))});function aDe(e){return Ue("MuiTableHead",e)}He("MuiTableHead",["root"]);const lDe=["className","component"],cDe=e=>{const{classes:t}=e;return Ke({root:["root"]},aDe,t)},uDe=we("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),dDe={variant:"head"},C6="thead",BT=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiTableHead"}),{className:s,component:u=C6}=o,h=_e(o,lDe),m=V({},o,{component:u}),f=cDe(m);return M.jsx(w_.Provider,{value:dDe,children:M.jsx(uDe,V({as:u,className:ke(f.root,s),ref:r,role:u===C6?null:"rowgroup",ownerState:m},h))})});function hDe(e){return Ue("MuiToolbar",e)}He("MuiToolbar",["root","gutters","regular","dense"]);const pDe=["className","component","disableGutters","variant"],fDe=e=>{const{classes:t,disableGutters:r,variant:o}=e;return Ke({root:["root",!r&&"gutters",o]},hDe,t)},mDe=we("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableGutters&&t.gutters,t[r.variant]]}})(({theme:e,ownerState:t})=>V({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},t.variant==="dense"&&{minHeight:48}),({theme:e,ownerState:t})=>t.variant==="regular"&&e.mixins.toolbar),gDe=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiToolbar"}),{className:s,component:u="div",disableGutters:h=!1,variant:m="regular"}=o,f=_e(o,pDe),k=V({},o,{component:u,disableGutters:h,variant:m}),v=fDe(k);return M.jsx(mDe,V({as:u,className:ke(v.root,s),ref:r,ownerState:k},f))});function bDe(e){return Ue("MuiTableRow",e)}const A6=He("MuiTableRow",["root","selected","hover","head","footer"]),kDe=["className","component","hover","selected"],vDe=e=>{const{classes:t,selected:r,hover:o,head:s,footer:u}=e;return Ke({root:["root",r&&"selected",o&&"hover",s&&"head",u&&"footer"]},bDe,t)},wDe=we("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.head&&t.head,r.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${A6.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${A6.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Et(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Et(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),x6="tr",vh=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiTableRow"}),{className:s,component:u=x6,hover:h=!1,selected:m=!1}=o,f=_e(o,kDe),k=L.useContext(w_),v=V({},o,{component:u,hover:h,selected:m,head:k&&k.variant==="head",footer:k&&k.variant==="footer"}),_=vDe(v);return M.jsx(wDe,V({as:u,ref:r,className:ke(_.root,s),role:u===x6?null:"row",ownerState:v},f))});function yDe(e){return Ue("MuiTextField",e)}He("MuiTextField",["root"]);const _De=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],CDe={standard:DT,filled:ET,outlined:MT},ADe=e=>{const{classes:t}=e;return Ke({root:["root"]},yDe,t)},xDe=we(ST,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),lr=L.forwardRef(function(t,r){const o=qe({props:t,name:"MuiTextField"}),{autoComplete:s,autoFocus:u=!1,children:h,className:m,color:f="primary",defaultValue:k,disabled:v=!1,error:_=!1,FormHelperTextProps:y,fullWidth:A=!1,helperText:S,id:E,InputLabelProps:I,inputProps:T,InputProps:R,inputRef:O,label:j,maxRows:$,minRows:H,multiline:P=!1,name:z,onBlur:q,onChange:K,onFocus:Q,placeholder:te,required:X=!1,rows:Z,select:J=!1,SelectProps:ee,type:ne,value:G,variant:re="outlined"}=o,de=_e(o,_De),Ae=V({},o,{autoFocus:u,color:f,disabled:v,error:_,fullWidth:A,multiline:P,required:X,select:J,variant:re}),Me=ADe(Ae),Je={};re==="outlined"&&(I&&typeof I.shrink<"u"&&(Je.notched=I.shrink),Je.label=j),J&&((!ee||!ee.native)&&(Je.id=void 0),Je["aria-describedby"]=void 0);const Fe=$g(E),Xe=S&&Fe?`${Fe}-helper-text`:void 0,Se=j&&Fe?`${Fe}-label`:void 0,ct=CDe[re],pt=M.jsx(ct,V({"aria-describedby":Xe,autoComplete:s,autoFocus:u,defaultValue:k,fullWidth:A,multiline:P,name:z,rows:Z,maxRows:$,minRows:H,type:ne,value:G,id:Fe,inputRef:O,onBlur:q,onChange:K,onFocus:Q,placeholder:te,inputProps:T},Je,R));return M.jsxs(xDe,V({className:ke(Me.root,m),disabled:v,error:_,fullWidth:A,ref:r,required:X,color:f,variant:re,ownerState:Ae},de,{children:[j!=null&&j!==""&&M.jsx(TT,V({htmlFor:Fe,id:Se},I,{children:j})),J?M.jsx(v_,V({"aria-describedby":Xe,id:Fe,labelId:Se,value:G,input:pt},ee,{children:h})):pt,S&&M.jsx(_Ee,V({id:Xe},y,{children:S}))]}))}),EDe=()=>{const e=fu(),t=q1(e.breakpoints.down("sm")),r=q1(e.breakpoints.between("sm","md")),o=q1(e.breakpoints.up("md"));return{isMobile:t,isTablet:r,isDesktop:o}},SDe=()=>{const{isMobile:e,isTablet:t,isDesktop:r}=EDe();return M.jsx(OCe,{position:"static",children:M.jsx(gDe,{children:M.jsxs(Be,{sx:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[e&&M.jsx($e,{variant:"body1",children:"ATE 2.0 Mobile Version"}),t&&M.jsx($e,{variant:"body1",children:"ATE 2.0 Tablet Version"}),r&&M.jsx($e,{variant:"body1",children:"ATE 2.0 Desktop Version"})]})})})};var LT={},nx={};const DDe=Ms(R_e);var E6;function Ki(){return E6||(E6=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=DDe}(nx)),nx}var TDe=Zo;Object.defineProperty(LT,"__esModule",{value:!0});var Sq=LT.default=void 0,IDe=TDe(Ki()),MDe=M;Sq=LT.default=(0,IDe.default)((0,MDe.jsx)("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20zm-6 8h-4v-2h4zm0-4h-4v-2h4z"}),"BugReport");const PDe=()=>{const e=()=>{window.open("https://help.waveshi.org","_blank","noopener,noreferrer")};return M.jsx(St,{onClick:e,sx:{my:1,px:"16px !important",py:"8px !important",minWidth:"150px",height:"50px",backgroundColor:"white !important",border:"2px solid blue !important",color:"blue !important",textTransform:"none !important",borderRadius:"20px !important",boxShadow:"0 3px 5px 2px rgba(0, 0, 255, .3) !important",fontSize:"1rem !important",transition:"background-color 0.3s !important, color 0.3s !important","&:hover":{backgroundColor:"blue !important",color:"white !important",borderColor:"blue !important"},"&:active":{backgroundColor:"blue !important",color:"white !important",borderColor:"blue !important"},"&:focus":{backgroundColor:"white !important",color:"blue !important",borderColor:"blue !important"}},startIcon:M.jsx(Sq,{}),children:"Report a Bug"})};function NDe(){return M.jsxs(Be,{component:"footer",sx:{width:"100%",textAlign:"center",py:2},children:[M.jsx(Be,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",px:2},children:M.jsx(PDe,{})}),M.jsx(bq,{}),M.jsxs(Be,{sx:{my:2},children:[M.jsx("img",{src:"/ate-micr/FooterLogoLong.png",alt:"Logo",style:{maxWidth:"500px",maxHeight:"400px",width:"auto",height:"auto"}}),M.jsx($e,{variant:"body2",children:" 2024 Institute for Future Intelligence and Kapiolani Community College Antibody Engineering & Research Projects"})]})]})}const RDe=le.forwardRef(function(t,r){return M.jsx(mu,{elevation:6,ref:r,variant:"filled",...t})}),ODe=()=>{const[e,t]=L.useState(!1),[r,o]=L.useState(!1),[s,u]=L.useState(""),h=Ps();console.log("Logout loaded");const m=()=>{t(!0)},f=()=>{t(!1)},k=()=>{const v=nV();Ehe(v).then(()=>{t(!1),o(!0),u("Logged out successfully"),h("/")}).catch(_=>{t(!1),o(!0),u("Logout failed: "+_.message)})};return M.jsxs(M.Fragment,{children:[M.jsx(St,{variant:"outlined",onClick:m,sx:{fontSize:"1rem",mt:2,textTransform:"none",minWidth:"100px",color:"currentColor",borderColor:"rgba(255, 0, 0, 0.5)",boxShadow:"none","&:hover":{borderColor:"rgba(255, 0, 0, 0.7)",backgroundColor:"rgba(255, 0, 0, 0.1)",boxShadow:"0px 0px 10px rgba(0, 0, 0, 0.2)",color:"currentColor",transform:"scale(1.05)"},transition:"transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, border-color 0.3s ease-in-out, background-color 0.3s ease-in-out"},children:"Logout"}),M.jsxs(f_,{open:e,onClose:f,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[M.jsx(k_,{id:"alert-dialog-title",children:"Logging Out"}),M.jsx(g_,{children:M.jsx(b_,{id:"alert-dialog-description",children:"Are you sure you want to log out?"})}),M.jsxs(m_,{children:[M.jsx(St,{onClick:k,autoFocus:!0,children:"Yes"}),M.jsx(St,{onClick:f,children:"No"})]})]}),M.jsx(gu,{open:r,autoHideDuration:6e3,onClose:()=>o(!1),children:M.jsx(RDe,{onClose:()=>o(!1),severity:"info",sx:{width:"100%"},children:s})})]})};var jT={},BDe=Zo;Object.defineProperty(jT,"__esModule",{value:!0});var nm=jT.default=void 0,LDe=BDe(Ki()),jDe=M;nm=jT.default=(0,LDe.default)((0,jDe.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");var FT={},FDe=Zo;Object.defineProperty(FT,"__esModule",{value:!0});var qg=FT.default=void 0,zDe=FDe(Ki()),$De=M;qg=FT.default=(0,zDe.default)((0,$De.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");const VDe=({messageId:e,onDelete:t})=>{const[r,o]=L.useState(!1),s=Co(),u=()=>{o(!0)},h=()=>{o(!1)},m=async()=>{try{await Fbe(Wo(s,"messages",e)),t(e),h()}catch(f){console.error("Error deleting message: ",f)}};return M.jsxs(M.Fragment,{children:[M.jsx(mr,{onClick:u,children:M.jsx(qg,{})}),M.jsxs(f_,{open:r,onClose:h,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[M.jsx(k_,{id:"alert-dialog-title",children:"Confirm Delete"}),M.jsx(g_,{children:M.jsx(b_,{id:"alert-dialog-description",children:"Are you sure you want to delete this message? This action cannot be undone."})}),M.jsxs(m_,{children:[M.jsx(St,{onClick:h,color:"primary",children:"Cancel"}),M.jsx(St,{onClick:m,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})},UDe=()=>{const e=Ps(),{userDetails:t,isSuperAdmin:r}=pu(),[o,s]=L.useState(!1),[u,h]=L.useState(!1),[m,f]=L.useState([]),k=Co();L.useEffect(()=>{(async()=>{const S=mH(uu(k,"messages"),Obe("postedOn","desc")),I=(await Rg(S)).docs.map(T=>({id:T.id,...T.data()}));f(I)})()},[k]);const v=()=>{t!=null&&t.uid?navigator.clipboard.writeText(t.uid).then(()=>{s(!0),h(!0)}).catch(A=>{console.error("Could not copy text: ",A)}):console.error("User details are null or undefined")},_=(A,S)=>{S!=="clickaway"&&s(!1)},y=A=>{f(m.filter(S=>S.id!==A))};return M.jsxs(Be,{sx:{flexGrow:1,padding:3},children:[M.jsxs(Be,{sx:{display:"flex",justifyContent:"space-between",mb:2,alignItems:"center"},children:[M.jsx($e,{variant:"h4",component:"h1",sx:{fontWeight:"bold"},children:"Home Page / ATE 2.0"}),M.jsxs(Be,{sx:{display:"flex",alignItems:"center"},children:[r&&M.jsx(Cc,{label:"Super-Admin",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:1}}),(t==null?void 0:t.isAdmin)&&!r&&M.jsx(Cc,{label:"Educator",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:1}}),!(t!=null&&t.isAdmin)&&M.jsx(Cc,{label:"Student",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#bbdefb",color:"#1e88e5",mr:1}}),t&&M.jsx(Jm,{title:u?"Copied!":"Click to Copy",enterDelay:300,leaveDelay:200,children:M.jsx(Cc,{label:`User ID: ${t.uid}`,variant:"outlined",onClick:v,sx:{borderRadius:"15px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",mr:2}})}),M.jsx(ODe,{})]})]}),M.jsxs(No,{container:!0,spacing:3,children:[M.jsxs(No,{item:!0,xs:12,md:8,children:[M.jsx(Be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:M.jsx($e,{variant:"h6",component:"h2",sx:{fontWeight:"bold",textDecoration:"underline"},children:"Educator Messages"})}),(t==null?void 0:t.isAdmin)&&M.jsx(Be,{sx:{mb:2},children:M.jsx(St,{variant:"contained",onClick:()=>e("/add-message"),sx:{backgroundColor:"#FFF9C4",color:"#6D4C41","&:hover":{backgroundColor:"#FFF176"}},children:"+ Add Message"})}),M.jsx(OT,{component:Gi,children:M.jsxs(NT,{children:[M.jsx(BT,{sx:{backgroundColor:"#FFF9C4"},children:M.jsxs(vh,{children:[M.jsx(On,{sx:{fontWeight:"bold",color:"#6D4C41",width:"10%"},children:"Posted On"}),M.jsx(On,{sx:{fontWeight:"bold",color:"#6D4C41",width:"30%"},children:"Subject"}),M.jsx(On,{sx:{fontWeight:"bold",color:"#6D4C41",width:"50%",whiteSpace:"pre-wrap"},children:"Description"}),(t==null?void 0:t.isAdmin)&&M.jsx(On,{sx:{fontWeight:"bold",color:"#6D4C41",width:"10%"},children:"Actions"})]})}),M.jsx(RT,{children:m.map(A=>M.jsxs(vh,{sx:{backgroundColor:"#FFFDE7"},children:[M.jsx(On,{children:new Date(A.postedOn.seconds*1e3).toLocaleString()}),M.jsx(On,{sx:{fontStyle:"italic"},children:A.title}),M.jsxs(On,{sx:{whiteSpace:"pre-wrap"},children:[A.description,A.links&&A.links.some(S=>S.title&&S.url)&&M.jsxs(Be,{sx:{mt:2},children:[M.jsx($e,{variant:"subtitle2",sx:{fontWeight:"bold"},children:"Links:"}),A.links.map((S,E)=>S.title&&S.url&&M.jsxs(Be,{sx:{mb:1},children:[M.jsxs($e,{variant:"body2",component:"span",children:[" ",S.title,": "]}),M.jsx(wq,{href:S.url,target:"_blank",rel:"noopener",children:S.url})]},E))]})]}),(t==null?void 0:t.isAdmin)&&M.jsxs(On,{children:[M.jsx(mr,{onClick:()=>e(`/edit-message/${A.id}`),children:M.jsx(nm,{})}),M.jsx(VDe,{messageId:A.id,onDelete:y})]})]},A.id))})]})})]}),M.jsxs(No,{item:!0,xs:12,md:4,children:[M.jsx($e,{variant:"h6",align:"left",component:"h2",sx:{fontWeight:"bold",textDecoration:"underline"},gutterBottom:!0,children:"Navigation"}),M.jsxs(No,{container:!0,spacing:3,justifyContent:"center",children:[M.jsx(No,{item:!0,xs:12,children:M.jsx(of,{children:M.jsx(sf,{onClick:()=>e("/my-profile"),children:M.jsx(af,{children:M.jsx($e,{variant:"h5",component:"div",children:"My Account"})})})})}),M.jsx(No,{item:!0,xs:12,children:M.jsx(of,{children:M.jsx(sf,{onClick:()=>e("/laboratory-notebooks"),children:M.jsx(af,{children:M.jsx($e,{variant:"h5",component:"div",children:"My Laboratory Notebook"})})})})}),M.jsx(No,{item:!0,xs:12,children:M.jsx(of,{children:M.jsx(sf,{onClick:()=>e("/supplemental-materials"),children:M.jsx(af,{children:M.jsx($e,{variant:"h5",component:"div",children:"Course Materials"})})})})}),r&&M.jsx(No,{item:!0,xs:12,children:M.jsx(of,{children:M.jsx(sf,{onClick:()=>e("/user-management"),children:M.jsx(af,{children:M.jsx($e,{variant:"h5",component:"div",children:"User Permissions"})})})})}),(t==null?void 0:t.isAdmin)&&M.jsx(No,{item:!0,xs:12,children:M.jsx(of,{children:M.jsx(sf,{onClick:()=>e("/course-management"),children:M.jsx(af,{children:M.jsx($e,{variant:"h5",component:"div",children:"Course Management"})})})})})]})]})]}),M.jsx(gu,{open:o,autoHideDuration:6e3,onClose:_,children:M.jsx(mu,{onClose:_,severity:"success",sx:{width:"100%"},children:"User ID copied to clipboard!"})})]})};let uv;const HDe=new Uint8Array(16);function WDe(){if(!uv&&(uv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!uv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return uv(HDe)}const Cr=[];for(let e=0;e<256;++e)Cr.push((e+256).toString(16).slice(1));function qDe(e,t=0){return Cr[e[t+0]]+Cr[e[t+1]]+Cr[e[t+2]]+Cr[e[t+3]]+"-"+Cr[e[t+4]]+Cr[e[t+5]]+"-"+Cr[e[t+6]]+Cr[e[t+7]]+"-"+Cr[e[t+8]]+Cr[e[t+9]]+"-"+Cr[e[t+10]]+Cr[e[t+11]]+Cr[e[t+12]]+Cr[e[t+13]]+Cr[e[t+14]]+Cr[e[t+15]]}const GDe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),S6={randomUUID:GDe};function Mf(e,t,r){if(S6.randomUUID&&!t&&!e)return S6.randomUUID();e=e||{};const o=e.random||(e.rng||WDe)();return o[6]=o[6]&15|64,o[8]=o[8]&63|128,qDe(o)}var zT={},KDe=Zo;Object.defineProperty(zT,"__esModule",{value:!0});var qv=zT.default=void 0,YDe=KDe(Ki()),QDe=M;qv=zT.default=(0,YDe.default)((0,QDe.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save");const rx=({onDelete:e,itemType:t})=>{const[r,o]=le.useState(!1),s=()=>{o(!0)},u=()=>{o(!1)},h=()=>{e(),u()};return M.jsxs(M.Fragment,{children:[M.jsx(mr,{onClick:s,size:"small",children:M.jsx(qg,{})}),M.jsxs(f_,{open:r,onClose:u,children:[M.jsx(k_,{children:`Delete ${t}`}),M.jsx(g_,{children:M.jsx(b_,{children:`Are you sure you want to delete this ${t}? This action cannot be undone.`})}),M.jsxs(m_,{children:[M.jsx(St,{onClick:u,color:"primary",children:"Cancel"}),M.jsx(St,{onClick:h,color:"secondary",children:"Delete"})]})]})]})};var $T={},ZDe=Zo;Object.defineProperty($T,"__esModule",{value:!0});var lS=$T.default=void 0,JDe=ZDe(Ki()),XDe=M;lS=$T.default=(0,JDe.default)((0,XDe.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");var VT={},eTe=Zo;Object.defineProperty(VT,"__esModule",{value:!0});var cS=VT.default=void 0,tTe=eTe(Ki()),nTe=M;cS=VT.default=(0,tTe.default)((0,nTe.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");const Dq=({sections:e,selected:t,onAddSection:r,onAddSubsection:o,onAddSubSubsection:s,onSelectSection:u,onUpdateSectionTitle:h,onUpdateSubsectionTitle:m,onUpdateSubSubsectionTitle:f,onDeleteSection:k,onDeleteSubsection:v,onDeleteSubSubsection:_,isViewMode:y})=>{const[A,S]=L.useState(null),[E,I]=L.useState(null),[T,R]=L.useState(null),[O,j]=L.useState(""),[$,H]=L.useState(e.map(()=>!0)),[P,z]=L.useState(e.reduce((ne,G,re)=>(ne[re]=G.subsections.map(()=>!0),ne),{}));L.useEffect(()=>{H(e.map(()=>!0))},[e]),L.useEffect(()=>{const ne=e.reduce((G,re,de)=>(G[de]=re.subsections.map(()=>!0),G),{});z(ne)},[e]);const q=ne=>{const G=[...$];G[ne]=!G[ne],H(G)},K=(ne,G)=>{const re={...P};re[ne][G]=!re[ne][G],z(re)},Q=(ne,G)=>{A!==null?h(A,O):E?m(E.section,E.subsection,O):T&&f(T.section,T.subsection,T.subSubsection,O),S(ne),I(null),R(null),j(G)},te=ne=>{h(ne,O),S(null),j("")},X=(ne,G,re)=>{A!==null?h(A,O):E?m(E.section,E.subsection,O):T&&f(T.section,T.subsection,T.subSubsection,O),S(null),I({section:ne,subsection:G}),R(null),j(re)},Z=(ne,G)=>{m(ne,G,O),I(null),j("")},J=(ne,G,re,de)=>{A!==null?h(A,O):E?m(E.section,E.subsection,O):T&&f(T.section,T.subsection,T.subSubsection,O),S(null),I(null),R({section:ne,subsection:G,subSubsection:re}),j(de)},ee=(ne,G,re)=>{f(ne,G,re,O),R(null),j("")};return M.jsxs(Be,{sx:{width:"450px",borderRight:"1px solid #ddd",padding:2},children:[M.jsx($e,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Outline"}),!y&&M.jsx(St,{variant:"contained",color:"primary",onClick:r,sx:{mb:2},children:"+ Add Section"}),M.jsxs(Wv,{children:[M.jsx(cf,{button:!0,onClick:()=>u("header"),sx:{backgroundColor:t.type==="header"?"lightgray":"transparent"},children:M.jsx(uf,{primary:"Header"})}),e.map((ne,G)=>M.jsxs(Be,{children:[M.jsxs(cf,{button:!0,onClick:()=>u(G),sx:{backgroundColor:t.sectionIndex===G&&t.subsectionIndex===void 0?"lightgray":"transparent"},children:[A===G?M.jsxs(M.Fragment,{children:[M.jsx(lr,{value:O,onChange:re=>j(re.target.value),size:"small",sx:{mr:1},disabled:y}),!y&&M.jsx(mr,{onClick:()=>te(G),size:"small",children:M.jsx(qv,{})})]}):M.jsxs(M.Fragment,{children:[M.jsx(uf,{primary:ne.title}),!y&&M.jsxs(M.Fragment,{children:[M.jsx(mr,{onClick:()=>Q(G,ne.title),size:"small",children:M.jsx(nm,{})}),M.jsx(rx,{onDelete:()=>k(G),itemType:"section"})]})]}),ne.subsections.length>0&&M.jsx(mr,{onClick:()=>q(G),sx:{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"},width:"24px",height:"24px"},children:$[G]?M.jsx(lS,{sx:{fontSize:"20px"}}):M.jsx(cS,{sx:{fontSize:"20px"}})}),!y&&M.jsx(St,{variant:"text",onClick:()=>o(G),size:"small",children:"+ Add Subsection"})]}),$[G]&&M.jsx(Wv,{sx:{pl:4},children:ne.subsections.map((re,de)=>M.jsxs(Be,{children:[M.jsxs(cf,{button:!0,onClick:()=>u(G,de),sx:{backgroundColor:t.sectionIndex===G&&t.subsectionIndex===de&&t.subSubsectionIndex===void 0?"lightgray":"transparent"},children:[E&&E.section===G&&E.subsection===de?M.jsxs(M.Fragment,{children:[M.jsx(lr,{value:O,onChange:Ae=>j(Ae.target.value),size:"small",sx:{mr:1},disabled:y}),!y&&M.jsx(mr,{onClick:()=>Z(G,de),size:"small",children:M.jsx(qv,{})})]}):M.jsxs(M.Fragment,{children:[M.jsx(uf,{primary:re.title}),!y&&M.jsxs(M.Fragment,{children:[M.jsx(mr,{onClick:()=>X(G,de,re.title),size:"small",children:M.jsx(nm,{})}),M.jsx(rx,{onDelete:()=>v(G,de),itemType:"subsection"})]})]}),re.subSubsections.length>0&&M.jsx(mr,{onClick:()=>K(G,de),sx:{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"},width:"24px",height:"24px"},children:P[G][de]?M.jsx(lS,{sx:{fontSize:"20px"}}):M.jsx(cS,{sx:{fontSize:"20px"}})}),!y&&M.jsx(St,{variant:"text",onClick:()=>s(G,de),size:"small",children:"+ Add Sub-Subsection"})]}),P[G][de]&&M.jsx(Wv,{sx:{pl:4},children:re.subSubsections.map((Ae,Me)=>M.jsx(cf,{button:!0,onClick:()=>u(G,de,Me),sx:{backgroundColor:t.sectionIndex===G&&t.subsectionIndex===de&&t.subSubsectionIndex===Me?"lightgray":"transparent"},children:T&&T.section===G&&T.subsection===de&&T.subSubsection===Me?M.jsxs(M.Fragment,{children:[M.jsx(lr,{value:O,onChange:Je=>j(Je.target.value),size:"small",sx:{mr:1},disabled:y}),!y&&M.jsx(mr,{onClick:()=>ee(G,de,Me),size:"small",children:M.jsx(qv,{})})]}):M.jsxs(M.Fragment,{children:[M.jsx(uf,{primary:Ae.title}),!y&&M.jsxs(M.Fragment,{children:[M.jsx(mr,{onClick:()=>J(G,de,Me,Ae.title),size:"small",children:M.jsx(nm,{})}),M.jsx(rx,{onDelete:()=>_(G,de,Me),itemType:"subSubsection"})]})]})},Ae.id))})]},re.id))})]},ne.id)),M.jsx(cf,{button:!0,onClick:()=>u("footer"),sx:{backgroundColor:t.type==="footer"?"lightgray":"transparent"},children:M.jsx(uf,{primary:"Footer"})})]})]})};var UT={},rTe=Zo;Object.defineProperty(UT,"__esModule",{value:!0});var HT=UT.default=void 0,oTe=rTe(Ki()),iTe=M;HT=UT.default=(0,oTe.default)((0,iTe.jsx)("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos");var WT={},sTe=Zo;Object.defineProperty(WT,"__esModule",{value:!0});var qT=WT.default=void 0,aTe=sTe(Ki()),lTe=M;qT=WT.default=(0,aTe.default)((0,lTe.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos");var GT={},cTe=Zo;Object.defineProperty(GT,"__esModule",{value:!0});var Tq=GT.default=void 0,uTe=cTe(Ki()),dTe=M;Tq=GT.default=(0,uTe.default)((0,dTe.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");const Iq=()=>{const e=Ps(),t=()=>{e("/supplemental-materials")};return M.jsx(St,{variant:"outlined",color:"primary",startIcon:M.jsx(Tq,{}),onClick:t,sx:{mb:2,padding:"4px 8px",backgroundColor:"transparent",borderColor:"blue",color:"blue"},children:"All Materials"})};var Mq={exports:{}};(()=>{var e={d:(u,h)=>{for(var m in h)e.o(h,m)&&!e.o(u,m)&&Object.defineProperty(u,m,{enumerable:!0,get:h[m]})},o:(u,h)=>Object.prototype.hasOwnProperty.call(u,h),r:u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}},t={};function r(u,h){for(var m=0;m<h.length;m++){var f=h[m];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}e.r(t),e.d(t,{default:()=>s});var o=function(){function u(){(function(f,k){if(!(f instanceof k))throw new TypeError("Cannot call a class as a function")})(this,u)}var h,m;return h=u,m=[{key:"changeHeightWidth",value:function(f,k,v,_,y,A){return v>_&&(f=Math.round(f*_/v),v=_),f>k&&(v=Math.round(v*k/f),f=k),y&&v<y&&(f=Math.round(f*y/v),v=y),A&&f<A&&(v=Math.round(v*A/f),f=A),{height:f,width:v}}},{key:"resizeAndRotateImage",value:function(f,k,v,_,y){var A=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"jpeg",S=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,E=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,I=S/100,T=document.createElement("canvas"),R=f.width,O=f.height,j=this.changeHeightWidth(O,v,R,k,_,y);!E||E!==90&&E!==270?(T.width=j.width,T.height=j.height):(T.width=j.height,T.height=j.width),R=j.width,O=j.height;var $=T.getContext("2d");return $.fillStyle="rgba(0, 0, 0, 0)",$.fillRect(0,0,R,O),$.imageSmoothingEnabled&&$.imageSmoothingQuality&&($.imageSmoothingQuality="high"),E&&($.rotate(E*Math.PI/180),E===90?$.translate(0,-T.width):E===180?$.translate(-T.width,-T.height):E===270?$.translate(-T.height,0):E!==0&&E!==360||$.translate(0,0)),$.drawImage(f,0,0,R,O),T.toDataURL("image/".concat(A),I)}},{key:"b64toByteArrays",value:function(f,k){for(var v=atob(f.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),_=[],y=0;y<v.length;y+=512){for(var A=v.slice(y,y+512),S=new Array(A.length),E=0;E<A.length;E++)S[E]=A.charCodeAt(E);var I=new Uint8Array(S);_.push(I)}return _}},{key:"b64toBlob",value:function(f,k){var v=this.b64toByteArrays(f,k);return new Blob(v,{type:k,lastModified:new Date})}},{key:"b64toFile",value:function(f,k,v){var _=this.b64toByteArrays(f,v);return new File(_,k,{type:v,lastModified:new Date})}},{key:"createResizedImage",value:function(f,k,v,_,y,A,S){var E=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"base64",I=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,T=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,R=new FileReader;if(!f)throw Error("File Not Found!");if(f.type&&!f.type.includes("image"))throw Error("File Is NOT Image!");R.readAsDataURL(f),R.onload=function(){var O=new Image;O.src=R.result,O.onload=function(){var j=u.resizeAndRotateImage(O,k,v,I,T,_,y,A),$="image/".concat(_);switch(E){case"blob":var H=u.b64toBlob(j,$);S(H);break;case"base64":S(j);break;case"file":var P=f.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(_.toString()),z=u.b64toFile(j,P,$);S(z);break;default:S(j)}}},R.onerror=function(O){throw Error(O)}}}],m&&r(h,m),u}();const s={imageFileResizer:function(u,h,m,f,k,v,_,y,A,S){return o.createResizedImage(u,h,m,f,k,v,_,y,A,S)}};Mq.exports=t})();var hTe=Mq.exports;const pTe=yw(hTe);var KT={},fTe=Zo;Object.defineProperty(KT,"__esModule",{value:!0});var Pq=KT.default=void 0,mTe=fTe(Ki()),gTe=M;Pq=KT.default=(0,mTe.default)((0,gTe.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image");const bTe=({sectionId:e,onImagesUploaded:t})=>{const[r,o]=L.useState(!1),[s,u]=L.useState(""),[h,m]=L.useState("success"),f=UH(),k=async y=>{if(y.target.files){const A=Array.from(y.target.files),S=[];for(const E of A)try{const I=await v(E),T=await _(I);S.push({url:T.url,title:`Image ${Mf()}`})}catch{u("Failed to upload images"),m("error"),o(!0)}t(S),u("Image(s) uploaded successfully"),m("success"),o(!0)}},v=y=>new Promise((A,S)=>{y.size>5*1024*1024?pTe.imageFileResizer(y,500,500,"JPEG",70,0,E=>{typeof E=="string"?S(new Error("Compression returned a string instead of a file")):A(E)},"file"):A(y)}),_=y=>new Promise((A,S)=>{const E=eve(f,`materials/${e}/${y.name}`);Jke(E,y).then(I=>{Xke(I.ref).then(T=>{A({url:T,path:I.ref.fullPath})})}).catch(I=>S(I))});return M.jsxs(Be,{children:[M.jsxs(Be,{sx:{mt:2,display:"flex",alignItems:"center"},children:[M.jsx(Pq,{sx:{mr:1}}),M.jsx($e,{variant:"h6",children:"Images"})]}),M.jsxs(Be,{sx:{mt:2},children:[M.jsxs(St,{variant:"contained",component:"label",color:"primary",children:["Add Image",M.jsx("input",{type:"file",hidden:!0,accept:"image/*",multiple:!0,onChange:k})]}),M.jsx(gu,{open:r,autoHideDuration:6e3,onClose:()=>o(!1),children:M.jsx(mu,{onClose:()=>o(!1),severity:h,sx:{width:"100%"},children:s})})]})]})},kTe=({imageTitle:e,onTitleChange:t})=>M.jsx(lr,{variant:"outlined",fullWidth:!0,value:e,onChange:r=>t(r.target.value),placeholder:"Image Title",sx:{mt:1}});var YT={},vTe=Zo;Object.defineProperty(YT,"__esModule",{value:!0});var Nq=YT.default=void 0,wTe=vTe(Ki()),yTe=M;Nq=YT.default=(0,wTe.default)((0,yTe.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link");const _Te=({links:e,onLinksChange:t})=>{const r=()=>{const s={title:"",url:"",description:""};t([...e,s])},o=s=>{const u=e.filter((h,m)=>m!==s);t(u)};return M.jsxs(Be,{children:[M.jsxs(Be,{sx:{mt:2,display:"flex",alignItems:"center"},children:[M.jsx(Nq,{sx:{mr:1}}),M.jsx($e,{variant:"h6",children:"Links"})]}),M.jsx(Be,{sx:{mt:1},children:e.map((s,u)=>M.jsxs(Be,{sx:{display:"flex",alignItems:"center",mb:1},children:[M.jsx(lr,{label:"Title",value:s.title,onChange:h=>{const m=[...e];m[u].title=h.target.value,t(m)},sx:{flexBasis:"20%",mr:1}}),M.jsx(lr,{label:"URL",value:s.url,onChange:h=>{const m=[...e];m[u].url=h.target.value,t(m)},sx:{flexBasis:"40%",mr:1}}),M.jsx(lr,{label:"Description",value:s.description,onChange:h=>{const m=[...e];m[u].description=h.target.value,t(m)},sx:{flexBasis:"40%"}}),M.jsx(mr,{onClick:()=>o(u),children:M.jsx(qg,{})})]},u))}),M.jsx(St,{variant:"contained",onClick:r,sx:{mt:2},children:"Add Link"})]})};var Rq={exports:{}};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class QT{constructor(t){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof t.crashNumberLimit=="number"?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof t.minimumNonErrorTimePeriod=="number"?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=r=>{const o="error"in r?r.error:r.reason;o instanceof Error&&this._handleError(o,r)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,r){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(r)}off(t,r){this._listeners[t]=this._listeners[t].filter(o=>o!==r)}_fire(t,...r){const o=this._listeners[t]||[];for(const s of o)s.apply(this,[null,...r])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,r){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:r instanceof ErrorEvent?r.filename:void 0,lineno:r instanceof ErrorEvent?r.lineno:void 0,colno:r instanceof ErrorEvent?r.colno:void 0,date:this._now()});const o=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:o}),o?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&t.context!==void 0&&t.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(t)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const t=this.crashes[this.crashes.length-1].date,r=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(t-r)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function uS(e,t=new Set){const r=[e],o=new Set;let s=0;for(;r.length>s;){const u=r[s++];if(!(o.has(u)||!CTe(u)||t.has(u)))if(o.add(u),Symbol.iterator in u)try{for(const h of u)r.push(h)}catch{}else for(const h in u)h!=="defaultValue"&&r.push(u[h])}return o}function CTe(e){const t=Object.prototype.toString.call(e),r=typeof e;return!(r==="number"||r==="boolean"||r==="string"||r==="symbol"||r==="function"||t==="[object Date]"||t==="[object RegExp]"||t==="[object Module]"||e===void 0||e===null||e._watchdogExcluded||e instanceof EventTarget||e instanceof Event)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Oq(e,t,r=new Set){if(e===t&&ATe(e))return!0;const o=uS(e,r),s=uS(t,r);for(const u of o)if(s.has(u))return!0;return!1}function ATe(e){return typeof e=="object"&&e!==null}var Bq=typeof global=="object"&&global&&global.Object===Object&&global,xTe=typeof self=="object"&&self&&self.Object===Object&&self,Yi=Bq||xTe||Function("return this")(),wh=Yi.Symbol,Lq=Object.prototype,ETe=Lq.hasOwnProperty,STe=Lq.toString,mf=wh?wh.toStringTag:void 0;function DTe(e){var t=ETe.call(e,mf),r=e[mf];try{e[mf]=void 0;var o=!0}catch{}var s=STe.call(e);return o&&(t?e[mf]=r:delete e[mf]),s}var TTe=Object.prototype,ITe=TTe.toString;function MTe(e){return ITe.call(e)}var PTe="[object Null]",NTe="[object Undefined]",D6=wh?wh.toStringTag:void 0;function bu(e){return e==null?e===void 0?NTe:PTe:D6&&D6 in Object(e)?DTe(e):MTe(e)}function Ll(e){return e!=null&&typeof e=="object"}var RTe="[object Symbol]";function OTe(e){return typeof e=="symbol"||Ll(e)&&bu(e)==RTe}var ZT=Array.isArray,BTe=/\s/;function LTe(e){for(var t=e.length;t--&&BTe.test(e.charAt(t)););return t}var jTe=/^\s+/;function FTe(e){return e&&e.slice(0,LTe(e)+1).replace(jTe,"")}function ya(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var T6=NaN,zTe=/^[-+]0x[0-9a-f]+$/i,$Te=/^0b[01]+$/i,VTe=/^0o[0-7]+$/i,UTe=parseInt;function I6(e){if(typeof e=="number")return e;if(OTe(e))return T6;if(ya(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ya(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=FTe(e);var r=$Te.test(e);return r||VTe.test(e)?UTe(e.slice(2),r?2:8):zTe.test(e)?T6:+e}var HTe="[object AsyncFunction]",WTe="[object Function]",qTe="[object GeneratorFunction]",GTe="[object Proxy]";function jq(e){if(!ya(e))return!1;var t=bu(e);return t==WTe||t==qTe||t==HTe||t==GTe}var ox=Yi["__core-js_shared__"],M6=function(){var e=/[^.]+$/.exec(ox&&ox.keys&&ox.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function KTe(e){return!!M6&&M6 in e}var YTe=Function.prototype,QTe=YTe.toString;function ku(e){if(e!=null){try{return QTe.call(e)}catch{}try{return e+""}catch{}}return""}var ZTe=/[\\^$.*+?()[\]{}|]/g,JTe=/^\[object .+?Constructor\]$/,XTe=Function.prototype,eIe=Object.prototype,tIe=XTe.toString,nIe=eIe.hasOwnProperty,rIe=RegExp("^"+tIe.call(nIe).replace(ZTe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function oIe(e){if(!ya(e)||KTe(e))return!1;var t=jq(e)?rIe:JTe;return t.test(ku(e))}function iIe(e,t){return e==null?void 0:e[t]}function vu(e,t){var r=iIe(e,t);return oIe(r)?r:void 0}var dS=vu(Yi,"WeakMap"),P6=Object.create,sIe=function(){function e(){}return function(t){if(!ya(t))return{};if(P6)return P6(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function aIe(e,t){var r=-1,o=e.length;for(t||(t=Array(o));++r<o;)t[r]=e[r];return t}var N6=function(){try{var e=vu(Object,"defineProperty");return e({},"",{}),e}catch{}}();function lIe(e,t){for(var r=-1,o=e==null?0:e.length;++r<o&&t(e[r],r,e)!==!1;);return e}var cIe=9007199254740991,uIe=/^(?:0|[1-9]\d*)$/;function dIe(e,t){var r=typeof e;return t=t??cIe,!!t&&(r=="number"||r!="symbol"&&uIe.test(e))&&e>-1&&e%1==0&&e<t}function Fq(e,t,r){t=="__proto__"&&N6?N6(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function zq(e,t){return e===t||e!==e&&t!==t}var hIe=Object.prototype,pIe=hIe.hasOwnProperty;function $q(e,t,r){var o=e[t];(!(pIe.call(e,t)&&zq(o,r))||r===void 0&&!(t in e))&&Fq(e,t,r)}function y_(e,t,r,o){var s=!r;r||(r={});for(var u=-1,h=t.length;++u<h;){var m=t[u],f=void 0;f===void 0&&(f=e[m]),s?Fq(r,m,f):$q(r,m,f)}return r}var fIe=9007199254740991;function Vq(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=fIe}function Uq(e){return e!=null&&Vq(e.length)&&!jq(e)}var mIe=Object.prototype;function JT(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||mIe;return e===r}function gIe(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}var bIe="[object Arguments]";function R6(e){return Ll(e)&&bu(e)==bIe}var Hq=Object.prototype,kIe=Hq.hasOwnProperty,vIe=Hq.propertyIsEnumerable,wIe=R6(function(){return arguments}())?R6:function(e){return Ll(e)&&kIe.call(e,"callee")&&!vIe.call(e,"callee")};function yIe(){return!1}var Wq=typeof exports=="object"&&exports&&!exports.nodeType&&exports,O6=Wq&&typeof module=="object"&&module&&!module.nodeType&&module,_Ie=O6&&O6.exports===Wq,B6=_Ie?Yi.Buffer:void 0,CIe=B6?B6.isBuffer:void 0,qq=CIe||yIe,AIe="[object Arguments]",xIe="[object Array]",EIe="[object Boolean]",SIe="[object Date]",DIe="[object Error]",TIe="[object Function]",IIe="[object Map]",MIe="[object Number]",PIe="[object Object]",NIe="[object RegExp]",RIe="[object Set]",OIe="[object String]",BIe="[object WeakMap]",LIe="[object ArrayBuffer]",jIe="[object DataView]",FIe="[object Float32Array]",zIe="[object Float64Array]",$Ie="[object Int8Array]",VIe="[object Int16Array]",UIe="[object Int32Array]",HIe="[object Uint8Array]",WIe="[object Uint8ClampedArray]",qIe="[object Uint16Array]",GIe="[object Uint32Array]",pn={};pn[FIe]=pn[zIe]=pn[$Ie]=pn[VIe]=pn[UIe]=pn[HIe]=pn[WIe]=pn[qIe]=pn[GIe]=!0;pn[AIe]=pn[xIe]=pn[LIe]=pn[EIe]=pn[jIe]=pn[SIe]=pn[DIe]=pn[TIe]=pn[IIe]=pn[MIe]=pn[PIe]=pn[NIe]=pn[RIe]=pn[OIe]=pn[BIe]=!1;function KIe(e){return Ll(e)&&Vq(e.length)&&!!pn[bu(e)]}function XT(e){return function(t){return e(t)}}var Gq=typeof exports=="object"&&exports&&!exports.nodeType&&exports,rm=Gq&&typeof module=="object"&&module&&!module.nodeType&&module,YIe=rm&&rm.exports===Gq,ix=YIe&&Bq.process,yh=function(){try{var e=rm&&rm.require&&rm.require("util").types;return e||ix&&ix.binding&&ix.binding("util")}catch{}}(),L6=yh&&yh.isTypedArray,QIe=L6?XT(L6):KIe,ZIe=Object.prototype,JIe=ZIe.hasOwnProperty;function Kq(e,t){var r=ZT(e),o=!r&&wIe(e),s=!r&&!o&&qq(e),u=!r&&!o&&!s&&QIe(e),h=r||o||s||u,m=h?gIe(e.length,String):[],f=m.length;for(var k in e)(t||JIe.call(e,k))&&!(h&&(k=="length"||s&&(k=="offset"||k=="parent")||u&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||dIe(k,f)))&&m.push(k);return m}function Yq(e,t){return function(r){return e(t(r))}}var XIe=Yq(Object.keys,Object),eMe=Object.prototype,tMe=eMe.hasOwnProperty;function nMe(e){if(!JT(e))return XIe(e);var t=[];for(var r in Object(e))tMe.call(e,r)&&r!="constructor"&&t.push(r);return t}function eI(e){return Uq(e)?Kq(e):nMe(e)}function rMe(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var oMe=Object.prototype,iMe=oMe.hasOwnProperty;function sMe(e){if(!ya(e))return rMe(e);var t=JT(e),r=[];for(var o in e)o=="constructor"&&(t||!iMe.call(e,o))||r.push(o);return r}function tI(e){return Uq(e)?Kq(e,!0):sMe(e)}var Xm=vu(Object,"create");function aMe(){this.__data__=Xm?Xm(null):{},this.size=0}function lMe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var cMe="__lodash_hash_undefined__",uMe=Object.prototype,dMe=uMe.hasOwnProperty;function hMe(e){var t=this.__data__;if(Xm){var r=t[e];return r===cMe?void 0:r}return dMe.call(t,e)?t[e]:void 0}var pMe=Object.prototype,fMe=pMe.hasOwnProperty;function mMe(e){var t=this.__data__;return Xm?t[e]!==void 0:fMe.call(t,e)}var gMe="__lodash_hash_undefined__";function bMe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Xm&&t===void 0?gMe:t,this}function Xc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}Xc.prototype.clear=aMe;Xc.prototype.delete=lMe;Xc.prototype.get=hMe;Xc.prototype.has=mMe;Xc.prototype.set=bMe;function kMe(){this.__data__=[],this.size=0}function __(e,t){for(var r=e.length;r--;)if(zq(e[r][0],t))return r;return-1}var vMe=Array.prototype,wMe=vMe.splice;function yMe(e){var t=this.__data__,r=__(t,e);if(r<0)return!1;var o=t.length-1;return r==o?t.pop():wMe.call(t,r,1),--this.size,!0}function _Me(e){var t=this.__data__,r=__(t,e);return r<0?void 0:t[r][1]}function CMe(e){return __(this.__data__,e)>-1}function AMe(e,t){var r=this.__data__,o=__(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}function Aa(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}Aa.prototype.clear=kMe;Aa.prototype.delete=yMe;Aa.prototype.get=_Me;Aa.prototype.has=CMe;Aa.prototype.set=AMe;var eg=vu(Yi,"Map");function xMe(){this.size=0,this.__data__={hash:new Xc,map:new(eg||Aa),string:new Xc}}function EMe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function C_(e,t){var r=e.__data__;return EMe(t)?r[typeof t=="string"?"string":"hash"]:r.map}function SMe(e){var t=C_(this,e).delete(e);return this.size-=t?1:0,t}function DMe(e){return C_(this,e).get(e)}function TMe(e){return C_(this,e).has(e)}function IMe(e,t){var r=C_(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}function Kh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}Kh.prototype.clear=xMe;Kh.prototype.delete=SMe;Kh.prototype.get=DMe;Kh.prototype.has=TMe;Kh.prototype.set=IMe;function Qq(e,t){for(var r=-1,o=t.length,s=e.length;++r<o;)e[s+r]=t[r];return e}var nI=Yq(Object.getPrototypeOf,Object),MMe="[object Object]",PMe=Function.prototype,NMe=Object.prototype,Zq=PMe.toString,RMe=NMe.hasOwnProperty,OMe=Zq.call(Object);function BMe(e){if(!Ll(e)||bu(e)!=MMe)return!1;var t=nI(e);if(t===null)return!0;var r=RMe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Zq.call(r)==OMe}function LMe(){this.__data__=new Aa,this.size=0}function jMe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function FMe(e){return this.__data__.get(e)}function zMe(e){return this.__data__.has(e)}var $Me=200;function VMe(e,t){var r=this.__data__;if(r instanceof Aa){var o=r.__data__;if(!eg||o.length<$Me-1)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new Kh(o)}return r.set(e,t),this.size=r.size,this}function Yh(e){var t=this.__data__=new Aa(e);this.size=t.size}Yh.prototype.clear=LMe;Yh.prototype.delete=jMe;Yh.prototype.get=FMe;Yh.prototype.has=zMe;Yh.prototype.set=VMe;function UMe(e,t){return e&&y_(t,eI(t),e)}function HMe(e,t){return e&&y_(t,tI(t),e)}var Jq=typeof exports=="object"&&exports&&!exports.nodeType&&exports,j6=Jq&&typeof module=="object"&&module&&!module.nodeType&&module,WMe=j6&&j6.exports===Jq,F6=WMe?Yi.Buffer:void 0,z6=F6?F6.allocUnsafe:void 0;function qMe(e,t){if(t)return e.slice();var r=e.length,o=z6?z6(r):new e.constructor(r);return e.copy(o),o}function GMe(e,t){for(var r=-1,o=e==null?0:e.length,s=0,u=[];++r<o;){var h=e[r];t(h,r,e)&&(u[s++]=h)}return u}function Xq(){return[]}var KMe=Object.prototype,YMe=KMe.propertyIsEnumerable,$6=Object.getOwnPropertySymbols,rI=$6?function(e){return e==null?[]:(e=Object(e),GMe($6(e),function(t){return YMe.call(e,t)}))}:Xq;function QMe(e,t){return y_(e,rI(e),t)}var ZMe=Object.getOwnPropertySymbols,eG=ZMe?function(e){for(var t=[];e;)Qq(t,rI(e)),e=nI(e);return t}:Xq;function JMe(e,t){return y_(e,eG(e),t)}function tG(e,t,r){var o=t(e);return ZT(e)?o:Qq(o,r(e))}function XMe(e){return tG(e,eI,rI)}function e5e(e){return tG(e,tI,eG)}var hS=vu(Yi,"DataView"),pS=vu(Yi,"Promise"),fS=vu(Yi,"Set"),V6="[object Map]",t5e="[object Object]",U6="[object Promise]",H6="[object Set]",W6="[object WeakMap]",q6="[object DataView]",n5e=ku(hS),r5e=ku(eg),o5e=ku(pS),i5e=ku(fS),s5e=ku(dS),Ys=bu;(hS&&Ys(new hS(new ArrayBuffer(1)))!=q6||eg&&Ys(new eg)!=V6||pS&&Ys(pS.resolve())!=U6||fS&&Ys(new fS)!=H6||dS&&Ys(new dS)!=W6)&&(Ys=function(e){var t=bu(e),r=t==t5e?e.constructor:void 0,o=r?ku(r):"";if(o)switch(o){case n5e:return q6;case r5e:return V6;case o5e:return U6;case i5e:return H6;case s5e:return W6}return t});var a5e=Object.prototype,l5e=a5e.hasOwnProperty;function c5e(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&l5e.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var G6=Yi.Uint8Array;function oI(e){var t=new e.constructor(e.byteLength);return new G6(t).set(new G6(e)),t}function u5e(e,t){var r=t?oI(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var d5e=/\w*$/;function h5e(e){var t=new e.constructor(e.source,d5e.exec(e));return t.lastIndex=e.lastIndex,t}var K6=wh?wh.prototype:void 0,Y6=K6?K6.valueOf:void 0;function p5e(e){return Y6?Object(Y6.call(e)):{}}function f5e(e,t){var r=t?oI(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var m5e="[object Boolean]",g5e="[object Date]",b5e="[object Map]",k5e="[object Number]",v5e="[object RegExp]",w5e="[object Set]",y5e="[object String]",_5e="[object Symbol]",C5e="[object ArrayBuffer]",A5e="[object DataView]",x5e="[object Float32Array]",E5e="[object Float64Array]",S5e="[object Int8Array]",D5e="[object Int16Array]",T5e="[object Int32Array]",I5e="[object Uint8Array]",M5e="[object Uint8ClampedArray]",P5e="[object Uint16Array]",N5e="[object Uint32Array]";function R5e(e,t,r){var o=e.constructor;switch(t){case C5e:return oI(e);case m5e:case g5e:return new o(+e);case A5e:return u5e(e,r);case x5e:case E5e:case S5e:case D5e:case T5e:case I5e:case M5e:case P5e:case N5e:return f5e(e,r);case b5e:return new o;case k5e:case y5e:return new o(e);case v5e:return h5e(e);case w5e:return new o;case _5e:return p5e(e)}}function O5e(e){return typeof e.constructor=="function"&&!JT(e)?sIe(nI(e)):{}}var B5e="[object Map]";function L5e(e){return Ll(e)&&Ys(e)==B5e}var Q6=yh&&yh.isMap,j5e=Q6?XT(Q6):L5e,F5e="[object Set]";function z5e(e){return Ll(e)&&Ys(e)==F5e}var Z6=yh&&yh.isSet,$5e=Z6?XT(Z6):z5e,V5e=1,U5e=2,H5e=4,nG="[object Arguments]",W5e="[object Array]",q5e="[object Boolean]",G5e="[object Date]",K5e="[object Error]",rG="[object Function]",Y5e="[object GeneratorFunction]",Q5e="[object Map]",Z5e="[object Number]",oG="[object Object]",J5e="[object RegExp]",X5e="[object Set]",ePe="[object String]",tPe="[object Symbol]",nPe="[object WeakMap]",rPe="[object ArrayBuffer]",oPe="[object DataView]",iPe="[object Float32Array]",sPe="[object Float64Array]",aPe="[object Int8Array]",lPe="[object Int16Array]",cPe="[object Int32Array]",uPe="[object Uint8Array]",dPe="[object Uint8ClampedArray]",hPe="[object Uint16Array]",pPe="[object Uint32Array]",an={};an[nG]=an[W5e]=an[rPe]=an[oPe]=an[q5e]=an[G5e]=an[iPe]=an[sPe]=an[aPe]=an[lPe]=an[cPe]=an[Q5e]=an[Z5e]=an[oG]=an[J5e]=an[X5e]=an[ePe]=an[tPe]=an[uPe]=an[dPe]=an[hPe]=an[pPe]=!0;an[K5e]=an[rG]=an[nPe]=!1;function Gv(e,t,r,o,s,u){var h,m=t&V5e,f=t&U5e,k=t&H5e;if(r&&(h=s?r(e,o,s,u):r(e)),h!==void 0)return h;if(!ya(e))return e;var v=ZT(e);if(v){if(h=c5e(e),!m)return aIe(e,h)}else{var _=Ys(e),y=_==rG||_==Y5e;if(qq(e))return qMe(e,m);if(_==oG||_==nG||y&&!s){if(h=f||y?{}:O5e(e),!m)return f?JMe(e,HMe(h,e)):QMe(e,UMe(h,e))}else{if(!an[_])return s?e:{};h=R5e(e,_,m)}}u||(u=new Yh);var A=u.get(e);if(A)return A;u.set(e,h),$5e(e)?e.forEach(function(I){h.add(Gv(I,t,r,I,e,u))}):j5e(e)&&e.forEach(function(I,T){h.set(T,Gv(I,t,r,T,e,u))});var S=k?f?e5e:XMe:f?tI:eI,E=v?void 0:S(e);return lIe(E||e,function(I,T){E&&(T=I,I=e[T]),$q(h,T,Gv(I,t,r,T,e,u))}),h}var fPe=1,mPe=4;function gPe(e,t){return t=typeof t=="function"?t:void 0,Gv(e,fPe|mPe,t)}var sx=function(){return Yi.Date.now()},bPe="Expected a function",kPe=Math.max,vPe=Math.min;function wPe(e,t,r){var o,s,u,h,m,f,k=0,v=!1,_=!1,y=!0;if(typeof e!="function")throw new TypeError(bPe);t=I6(t)||0,ya(r)&&(v=!!r.leading,_="maxWait"in r,u=_?kPe(I6(r.maxWait)||0,t):u,y="trailing"in r?!!r.trailing:y);function A(H){var P=o,z=s;return o=s=void 0,k=H,h=e.apply(z,P),h}function S(H){return k=H,m=setTimeout(T,t),v?A(H):h}function E(H){var P=H-f,z=H-k,q=t-P;return _?vPe(q,u-z):q}function I(H){var P=H-f,z=H-k;return f===void 0||P>=t||P<0||_&&z>=u}function T(){var H=sx();if(I(H))return R(H);m=setTimeout(T,E(H))}function R(H){return m=void 0,y&&o?A(H):(o=s=void 0,h)}function O(){m!==void 0&&clearTimeout(m),k=0,o=f=s=m=void 0}function j(){return m===void 0?h:R(sx())}function $(){var H=sx(),P=I(H);if(o=arguments,s=this,f=H,P){if(m===void 0)return S(f);if(_)return clearTimeout(m),m=setTimeout(T,t),A(f)}return m===void 0&&(m=setTimeout(T,t)),h}return $.cancel=O,$.flush=j,$}function J6(e){return Ll(e)&&e.nodeType===1&&!BMe(e)}var yPe="Expected a function";function _Pe(e,t,r){var o=!0,s=!0;if(typeof e!="function")throw new TypeError(yPe);return ya(r)&&(o="leading"in r?!!r.leading:o,s="trailing"in r?!!r.trailing:s),wPe(e,t,{leading:o,maxWait:t,trailing:s})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class iG extends QT{constructor(t,r={}){super(r),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=_Pe(this._save.bind(this),typeof r.saveInterval=="number"?r.saveInterval:5e3),t&&(this._creator=(o,s)=>t.create(o,s)),this._destructor=o=>o.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(t=>{console.error("An error happened during the editor destroying.",t)}).then(()=>{const t={},r=[],o=this._config.rootsAttributes||{},s={};for(const[h,m]of Object.entries(this._data.roots))m.isLoaded?(t[h]="",s[h]=o[h]||{}):r.push(h);const u={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:r,rootsAttributes:s,_watchdogInitialData:this._data};return delete u.initialData,u.extraPlugins.push(CPe),this._initUsingData?this.create(t,u,u.context):J6(this._elementOrData)?this.create(this._elementOrData,u,u.context):this.create(this._editables,u,u.context)}).then(()=>{this._fire("restart")})}create(t=this._elementOrData,r=this._config,o){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=t,this._initUsingData=typeof t=="string"||Object.keys(t).length>0&&typeof Object.values(t)[0]=="string",this._config=this._cloneEditorConfiguration(r)||{},this._config.context=o,this._creator(t,this._config))).then(s=>{this._editor=s,s.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=s.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const t=this._editor;return this._editor=null,t.model.document.off("change:data",this._throttledSave),this._destructor(t)})}_save(){const t=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=t}catch(r){console.error(r,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t=this._editor,r=t.model.document.roots.filter(m=>m.isAttached()&&m.rootName!="$graveyard"),{plugins:o}=t,s=o.has("CommentsRepository")&&o.get("CommentsRepository"),u=o.has("TrackChanges")&&o.get("TrackChanges"),h={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};r.forEach(m=>{h.roots[m.rootName]={content:JSON.stringify(Array.from(m.getChildren())),attributes:JSON.stringify(Array.from(m.getAttributes())),isLoaded:m._isLoaded}});for(const m of t.model.markers)m._affectsData&&(h.markers[m.name]={rangeJSON:m.getRange().toJSON(),usingOperation:m._managedUsingOperations,affectsData:m._affectsData});return s&&(h.commentThreads=JSON.stringify(s.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),u&&(h.suggestions=JSON.stringify(u.getSuggestions({toJSON:!0,skipNotAttached:!0}))),h}_getEditables(){const t={};for(const r of this.editor.model.document.getRootNames()){const o=this.editor.ui.getEditableElement(r);o&&(t[r]=o)}return t}_isErrorComingFromThisItem(t){return Oq(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return gPe(t,(r,o)=>{if(J6(r)||o==="context")return r})}}class CPe{constructor(t){this.editor=t,this._data=t.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",t=>{t.stop(),this.editor.model.enqueueChange({isUndoable:!1},r=>{this._restoreCollaborationData(),this._restoreEditorData(r)}),this.editor.data.fire("ready")},{priority:999})}_createNode(t,r){if("name"in r){const o=t.createElement(r.name,r.attributes);if(r.children)for(const s of r.children)o._appendChild(this._createNode(t,s));return o}else return t.createText(r.data,r.attributes)}_restoreEditorData(t){const r=this.editor;Object.entries(this._data.roots).forEach(([o,{content:s,attributes:u}])=>{const h=JSON.parse(s),m=JSON.parse(u),f=r.model.document.getRoot(o);for(const[k,v]of m)t.setAttribute(k,v,f);for(const k of h){const v=this._createNode(t,k);t.insert(v,f,"end")}}),Object.entries(this._data.markers).forEach(([o,s])=>{const{document:u}=r.model,{rangeJSON:{start:h,end:m},...f}=s,k=u.getRoot(h.root),v=t.createPositionFromPath(k,h.path,h.stickiness),_=t.createPositionFromPath(k,m.path,m.stickiness),y=t.createRange(v,_);t.addMarker(o,{range:y,...f})})}_restoreCollaborationData(){const t=JSON.parse(this._data.commentThreads),r=JSON.parse(this._data.suggestions);t.forEach(o=>{const s=this.editor.config.get("collaboration.channelId"),u=this.editor.plugins.get("CommentsRepository");u.hasCommentThread(o.threadId)&&u.getCommentThread(o.threadId).remove(),u.addCommentThread({channelId:s,...o})}),r.forEach(o=>{const s=this.editor.plugins.get("TrackChangesEditing");if(s.hasSuggestion(o.id)){const u=s.getSuggestion(o.id);u.attributes=o.attributes}else s.addSuggestionData(o)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const om=Symbol("MainQueueId");class APe extends QT{constructor(t,r={}){super(r),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new xPe,this._watchdogConfig=r,this._creator=o=>t.create(o),this._destructor=o=>o.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}get context(){return this._context}create(t={}){return this._actionQueues.enqueue(om,()=>(this._contextConfig=t,this._create()))}getItem(t){return this._getWatchdog(t)._item}getItemState(t){return this._getWatchdog(t).state}add(t){const r=X6(t);return Promise.all(r.map(o=>this._actionQueues.enqueue(o.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let s;if(this._watchdogs.has(o.id))throw new Error(`Item with the given id is already added: '${o.id}'.`);if(o.type==="editor")return s=new iG(null,this._watchdogConfig),s.setCreator(o.creator),s._setExcludedProperties(this._contextProps),o.destructor&&s.setDestructor(o.destructor),this._watchdogs.set(o.id,s),s.on("error",(u,{error:h,causesRestart:m})=>{this._fire("itemError",{itemId:o.id,error:h}),m&&this._actionQueues.enqueue(o.id,()=>new Promise(f=>{const k=()=>{s.off("restart",k),this._fire("itemRestart",{itemId:o.id}),f()};s.on("restart",k)}))}),s.create(o.sourceElementOrData,o.config,this._context);throw new Error(`Not supported item type: '${o.type}'.`)})))}remove(t){const r=X6(t);return Promise.all(r.map(o=>this._actionQueues.enqueue(o,()=>{const s=this._getWatchdog(o);return this._watchdogs.delete(o),s.destroy()})))}destroy(){return this._actionQueues.enqueue(om,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(om,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(t=>{console.error("An error happened during destroying the context or items.",t)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(t=>(this._context=t,this._contextProps=uS(this._context),Promise.all(Array.from(this._watchdogs.values()).map(r=>(r._setExcludedProperties(this._contextProps),r.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const t=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(r=>r.destroy())).then(()=>this._destructor(t))})}_getWatchdog(t){const r=this._watchdogs.get(t);if(!r)throw new Error(`Item with the given id was not registered: ${t}.`);return r}_isErrorComingFromThisItem(t){for(const r of this._watchdogs.values())if(r._isErrorComingFromThisItem(t))return!1;return Oq(this._context,t.context)}}class xPe{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(t){this._onEmptyCallbacks.push(t)}enqueue(t,r){const o=t===om;this._activeActions++,this._queues.get(t)||this._queues.set(t,Promise.resolve());const u=(o?Promise.all(this._queues.values()):Promise.all([this._queues.get(om),this._queues.get(t)])).then(r),h=u.catch(()=>{});return this._queues.set(t,h),u.finally(()=>{this._activeActions--,this._queues.get(t)===h&&this._activeActions===0&&this._onEmptyCallbacks.forEach(m=>m())})}}function X6(e){return Array.isArray(e)?e:[e]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const EPe=Object.freeze(Object.defineProperty({__proto__:null,ContextWatchdog:APe,EditorWatchdog:iG,Watchdog:QT},Symbol.toStringTag,{value:"Module"})),SPe=Ms(EPe);/*!
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(e,t){(function(r,o){e.exports=o(L,hW(),SPe)})(self,(r,o,s)=>(()=>{var u={546:k=>{k.exports=s},949:k=>{k.exports=o},155:k=>{k.exports=r}},h={};function m(k){var v=h[k];if(v!==void 0)return v.exports;var _=h[k]={exports:{}};return u[k](_,_.exports,m),_.exports}m.n=k=>{var v=k&&k.__esModule?()=>k.default:()=>k;return m.d(v,{a:v}),v},m.d=(k,v)=>{for(var _ in v)m.o(v,_)&&!m.o(k,_)&&Object.defineProperty(k,_,{enumerable:!0,get:v[_]})},m.o=(k,v)=>Object.prototype.hasOwnProperty.call(k,v),m.r=k=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(k,"__esModule",{value:!0})};var f={};return(()=>{m.r(f),m.d(f,{CKEditor:()=>R,CKEditorContext:()=>I,useMultiRootEditor:()=>H});var k=m(155),v=m.n(k),_=m(949),y=m.n(_);const A=new Array(256).fill("").map((P,z)=>("0"+z.toString(16)).slice(-2));var S=m(546);const E=v().createContext("contextWatchdog");class I extends v().Component{constructor(z,q){super(z,q),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(z){return this._shouldComponentUpdate(z)}async _shouldComponentUpdate(z){return z.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(z.config)),z.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(z.config),!0):this.props.children!==z.children}render(){return v().createElement(E.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(z){this.contextWatchdog=new S.ContextWatchdog(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(q,K)=>{this.props.onError(K.error,{phase:"runtime",willContextRestart:K.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(z).catch(q=>{this.props.onError(q,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}I.defaultProps={isLayoutReady:!0,onError:(P,z)=>console.error(P,z)},I.propTypes={id:y().string,isLayoutReady:y().bool,context:y().func,watchdogConfig:y().object,config:y().object,onReady:y().func,onError:y().func};const T="Lock from React integration (@ckeditor/ckeditor5-react)";class R extends v().Component{constructor(z){super(z),this.editorDestructionInProgress=null,this.domContainer=v().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:q}=window;if(q){const[K]=q.split(".").map(Number);K<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(z){return!!this.editor&&(z.id!==this.props.id||z.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(z)&&this.editor.data.set(z.data),"disabled"in z&&(z.disabled?this.editor.enableReadOnlyMode(T):this.editor.disableReadOnlyMode(T)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return v().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof S.ContextWatchdog?this.watchdog=new O(this.context):this.watchdog=new R._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((z,q)=>this._createEditor(z,q)),this.watchdog.on("error",(z,{error:q,causesRestart:K})=>{(this.props.onError||console.error)(q,{phase:"runtime",willEditorRestart:K})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(z=>{(this.props.onError||console.error)(z,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(z,q){return this.props.editor.create(z,q).then(K=>{"disabled"in this.props&&this.props.disabled&&K.enableReadOnlyMode(T);const Q=K.model.document,te=K.editing.view.document;return Q.on("change:data",X=>{this.props.onChange&&this.props.onChange(X,K)}),te.on("focus",X=>{this.props.onFocus&&this.props.onFocus(X,K)}),te.on("blur",X=>{this.props.onBlur&&this.props.onBlur(X,K)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(K)}),K})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(z=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,z()):this.instance?(await this.instance.destroy(),this.instance=null,z()):void z())})}_shouldUpdateEditor(z){return this.props.data!==z.data&&this.editor.data.get()!==z.data}_getConfig(){const z=this.props.config||{};return this.props.data&&z.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...z,initialData:z.initialData||this.props.data||""}}}R.contextType=E,R.propTypes={editor:y().func.isRequired,data:y().string,config:y().object,disableWatchdog:y().bool,watchdogConfig:y().object,onChange:y().func,onReady:y().func,onFocus:y().func,onBlur:y().func,onError:y().func,disabled:y().bool,id:y().any},R._EditorWatchdog=S.EditorWatchdog;class O{constructor(z){this._contextWatchdog=z,this._id=function(){const q=4294967296*Math.random()>>>0,K=4294967296*Math.random()>>>0,Q=4294967296*Math.random()>>>0,te=4294967296*Math.random()>>>0;return"e"+A[255&q]+A[q>>8&255]+A[q>>16&255]+A[q>>24&255]+A[255&K]+A[K>>8&255]+A[K>>16&255]+A[K>>24&255]+A[255&Q]+A[Q>>8&255]+A[Q>>16&255]+A[Q>>24&255]+A[255&te]+A[te>>8&255]+A[te>>16&255]+A[te>>24&255]}()}setCreator(z){this._creator=z}create(z,q){return this._contextWatchdog.add({sourceElementOrData:z,config:q,creator:this._creator,id:this._id,type:"editor"})}on(z,q){this._contextWatchdog.on("itemError",(K,{itemId:Q,error:te})=>{Q===this._id&&q(null,{error:te,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}const j="Lock from React integration (@ckeditor/ckeditor5-react)",$=({editor:P})=>{const z=(0,k.useRef)(null);return(0,k.useEffect)(()=>{const q=z.current;if(!P||!q)return;const K=P.ui.view.toolbar.element;return q&&q.appendChild(K),()=>{q&&q.removeChild(K)}},[P&&P.id]),v().createElement("div",{ref:z})},H=P=>{const z=(0,k.useRef)(null),q=(0,k.useRef)(null),K=(0,k.useContext)(E),[Q,te]=(0,k.useState)(null),[X,Z]=(0,k.useState)(P.data),[J,ee]=(0,k.useState)(P.rootsAttributes||{}),[ne,G]=(0,k.useState)([]),re=(0,k.useRef)(!0);(0,k.useEffect)(()=>((async()=>(await q.current,P.isLayoutReady!==!1&&await Fe()))(),()=>{Je().then(()=>{q.current=null})}),[P.isLayoutReady]),(0,k.useEffect)(()=>{Q&&(P.disabled?Q.enableReadOnlyMode(j):Q.disableReadOnlyMode(j))},[P.disabled]),(0,k.useEffect)(()=>{if(Q&&!q.current){const Re=Q.getFullData();Z({...Re}),ee({...Q.getRootsAttributes()}),G([...Object.keys(Re).map(be=>Ae(Q,be))])}},[Q&&Q.id]);const de=()=>{const Re=P.config||{};return P.data&&Re.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` property. The config value takes precedence over `data` property and will be used when both are specified."),{...Re,rootsAttributes:J}},Ae=(Re,be)=>v().createElement("div",{id:be,key:be,ref:Te=>{if(Te){const Ye=Re.ui.view.createEditable(be,Te);Re.ui.addEditable(Ye),Re.editing.view.forceRender()}}}),Me=(Re,be)=>P.editor.create(Re,be).then(Te=>{P.disabled&&P.disabled&&Te.enableReadOnlyMode(j);const Ye=Te.model.document,Xt=Te.editing.view.document;return Ye.on("change:data",Dt=>((bt,Ot)=>{const nt=bt.model.document;if(!P.disableTwoWayDataBinding){const se={},ae={};nt.differ.getChanges().forEach(ce=>{let fe;if(fe=ce.type=="insert"||ce.type=="remove"?ce.position.root:ce.range.root,!fe.isAttached())return;const{rootName:Pe}=fe;se[Pe]=bt.getData({rootName:Pe})}),nt.differ.getChangedRoots().forEach(ce=>{if(ce.state)return void(se[ce.name]!==void 0&&delete se[ce.name]);const fe=ce.name;ae[fe]=bt.getRootAttributes(fe)}),Object.keys(se).length&&Z(ce=>({...ce,...se})),Object.keys(ae).length&&ee(ce=>({...ce,...ae}))}P.onChange&&P.onChange(Ot,bt)})(Te,Dt)),Te.on("addRoot",(Dt,bt)=>((Ot,nt,se)=>{const ae=se.rootName,ce=Ae(Ot,ae);P.disableTwoWayDataBinding||(Z(fe=>({...fe,[ae]:Ot.getData({rootName:ae})})),ee(fe=>({...fe,[ae]:Ot.getRootAttributes(ae)}))),G(fe=>[...fe,ce])})(Te,0,bt)),Te.on("detachRoot",(Dt,bt)=>((Ot,nt,se)=>{const ae=se.rootName;G(ce=>ce.filter(fe=>fe.props.id!==ae)),P.disableTwoWayDataBinding||(Z(ce=>{const{[ae]:fe,...Pe}=ce;return{...Pe}}),ee(ce=>{const{[ae]:fe,...Pe}=ce;return{...Pe}})),Ot.detachEditable(se)})(Te,0,bt)),Xt.on("focus",Dt=>{P.onFocus&&P.onFocus(Dt,Te)}),Xt.on("blur",Dt=>{P.onBlur&&P.onBlur(Dt,Te)}),te(Te),P.onReady&&P.onReady(Te),Te}),Je=async()=>{te(null),Z({}),ee({}),G([]),q.current=new Promise(Re=>{setTimeout(async()=>z.current?(await z.current.destroy(),z.current=null,Re()):Q?(await Q.destroy(),Re()):void Re())})},Fe=async()=>{if(P.disableWatchdog)return void await Me(P.data,de());if(z.current)return;K instanceof S.ContextWatchdog?z.current=new O(K):z.current=new S.EditorWatchdog(P.editor,P.watchdogConfig);const Re=z.current;Re.setCreator((be,Te)=>Me(be,Te)),Re.on("error",(be,{error:Te,causesRestart:Ye})=>{(P.onError||console.error)(Te,{phase:"runtime",willEditorRestart:Ye})}),await Re.create(X,de()).catch(be=>{(P.onError||console.error)(be,{phase:"initialization",willEditorRestart:!1})})};(0,k.useEffect)(()=>{if(Q&&re.current){re.current=!1;const Re=Object.keys(X),be=Object.keys(J);if(!Re.every(nt=>be.includes(nt)))throw new Error("`data` and `attributes` objects must have the same keys (roots).");const Te=Q.getFullData(),Ye=Q.getRootsAttributes(),{addedKeys:Xt,removedKeys:Dt}=Xe(Te,X||{}),bt=Re.some(nt=>Te[nt]!==void 0&&JSON.stringify(Te[nt])!==JSON.stringify(X[nt])),Ot=be.filter(nt=>JSON.stringify(Ye[nt])!==JSON.stringify(J[nt]));Q.model.change(nt=>{Se(Xt),ct(Dt),bt&&pt(),Ot.length&&ut(nt,Ot)})}},[X,J]);const Xe=(Re,be)=>{const Te=Object.keys(Re),Ye=Object.keys(be);return{addedKeys:Ye.filter(Xt=>!Te.includes(Xt)),removedKeys:Te.filter(Xt=>!Ye.includes(Xt))}},Se=Re=>{Re.forEach(be=>{Q.addRoot(be,{data:X[be]||"",attributes:(J==null?void 0:J[be])||{},isUndoable:!0})})},ct=Re=>{Re.forEach(be=>{Q.detachRoot(be,!0)})},pt=()=>{Q.data.set(X,{suppressErrorInCollaboration:!0})},ut=(Re,be)=>{be.forEach(Te=>{Object.keys(J[Te]).forEach(Ye=>{Q.registerRootAttribute(Ye)}),Re.clearAttributes(Q.model.document.getRoot(Te)),Re.setAttributes(J[Te],Q.model.document.getRoot(Te))})},yt=(0,k.useCallback)(Re=>{re.current=!0,Z(Re)},[Z]),tt=(0,k.useCallback)(Re=>{re.current=!0,ee(Re)},[ee]);return{editor:Q,editableElements:ne,toolbarElement:v().createElement($,{editor:Q}),data:X,setData:yt,attributes:J,setAttributes:tt}}})(),f})())})(Rq);var sG=Rq.exports,sw={exports:{}};sw.exports;(function(e,t){(function(r){const o=r.en=r.en||{};o.dictionary=Object.assign(o.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(may require <kbd>Fn</kbd>)","%0 of %1":"%0 of %1",Accept:"Accept",Accessibility:"Accessibility","Accessibility help":"Accessibility help","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bold text":"Bold text",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Close:"Close","Close contextual balloons, dropdowns, and dialogs":"Close contextual balloons, dropdowns, and dialogs",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Content editing keystrokes":"Content editing keystrokes","Copy selected content":"Copy selected content","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Create link":"Create link",Custom:"Custom","Custom image size":"Custom image size",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Decrease list item indent":"Decrease list item indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit image":"Edit image","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor dialog":"Editor dialog","Editor editing area: %0":"Editor editing area: %0","Editor menu bar":"Editor menu bar","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Entering a to-do list":"Entering a to-do list","Error during image upload":"Error during image upload","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.","Failed to determine category of edited image.":"Failed to determine category of edited image.","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Help Contents. To close this dialog press ESC.":"Help Contents. To close this dialog press ESC.",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image from computer":"Image from computer","Image resize list":"Image resize list","Image toolbar":"Image toolbar","Image upload complete":"Image upload complete","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Increase list item indent":"Increase list item indent",Insert:"Insert","Insert a hard break (a new paragraph)":"Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget":"Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget":"Insert a new paragraph directly before a widget","Insert a new table row (when in the last cell of a table)":"Insert a new table row (when in the last cell of a table)","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert image with file manager":"Insert image with file manager","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Insert with file manager":"Insert with file manager","Inserting image failed":"Inserting image failed",Inset:"Inset","Invalid start index value.":"Invalid start index value.",Italic:"Italic","Italic text":"Italic text","Justify cell text":"Justify cell text","Keystrokes that can be used in a list":"Keystrokes that can be used in a list","Keystrokes that can be used in a table cell":"Keystrokes that can be used in a table cell","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Leaving a to-do list":"Leaving a to-do list","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Link URL must not be empty.":"Link URL must not be empty.","List properties":"List properties","Lower-latin":"Lower-latin","Lowerroman":"Lowerroman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",MENU_BAR_MENU_EDIT:"Edit",MENU_BAR_MENU_FILE:"File",MENU_BAR_MENU_FONT:"Font",MENU_BAR_MENU_FORMAT:"Format",MENU_BAR_MENU_HELP:"Help",MENU_BAR_MENU_INSERT:"Insert",MENU_BAR_MENU_TEXT:"Text",MENU_BAR_MENU_TOOLS:"Tools",MENU_BAR_MENU_VIEW:"View","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Move focus between form fields (inputs, buttons, etc.)":"Move focus between form fields (inputs, buttons, etc.)","Move focus in and out of an active dialog window":"Move focus in and out of an active dialog window","Move focus to the menu bar, navigate between menu bars":"Move focus to the menu bar, navigate between menu bars","Move focus to the toolbar, navigate between toolbars":"Move focus to the toolbar, navigate between toolbars","Move out of a link":"Move out of a link","Move out of an inline code style":"Move out of an inline code style","Move the caret to allow typing directly after a widget":"Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget":"Move the caret to allow typing directly before a widget","Move the selection to the next cell":"Move the selection to the next cell","Move the selection to the previous cell":"Move the selection to the previous cell","Navigate through the table":"Navigate through the table","Navigate through the toolbar or menu bar":"Navigate through the toolbar or menu bar",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab","Open the accessibility help dialog":"Open the accessibility help dialog",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste content":"Paste content","Paste content as plain text":"Paste content as plain text","Paste the media URL in the input.":"Paste the media URL in the input.",'Please enter a valid color (e.g. "ff0000").':'Please enter a valid color (e.g. "ff0000").',"Press %0 for help.":"Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous","Processing the edited image.":"Processing the edited image.",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Resize image":"Resize image","Resize image (in %0)":"Resize image (in %0)","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Revert autoformatting action":"Revert autoformatting action","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Server failed to process the image.":"Server failed to process the image.","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough","Strikethrough text":"Strikethrough text",Style:"Style",Subscript:"Subscript",Superscript:"Superscript",Table:"Table","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"The value must not be empty.":"The value must not be empty.","The value should be a plain number.":"The value should be a plain number.","These keyboard shortcuts allow for quick access to content editing features.":"These keyboard shortcuts allow for quick access to content editing features.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerlatin list style":"Toggle the lowerlatin list style","Toggle the lowerroman list style":"Toggle the lowerroman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperlatin list style":"Toggle the upperlatin list style","Toggle the upperroman list style":"Toggle the upperroman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline","Underline text":"Underline text",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Upload in progress":"Upload in progress","Uploading image":"Uploading image","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes":"User interface and content navigation keystrokes","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(r,o){e.exports=o()}(self,()=>(()=>{var r={9246:(h,m,f)=>{const k=f(6931),v={};for(const y of Object.keys(k))v[k[y]]=y;const _={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};h.exports=_;for(const y of Object.keys(_)){if(!("channels"in _[y]))throw new Error("missing channels property: "+y);if(!("labels"in _[y]))throw new Error("missing channel labels property: "+y);if(_[y].labels.length!==_[y].channels)throw new Error("channel and label counts mismatch: "+y);const{channels:A,labels:S}=_[y];delete _[y].channels,delete _[y].labels,Object.defineProperty(_[y],"channels",{value:A}),Object.defineProperty(_[y],"labels",{value:S})}_.rgb.hsl=function(y){const A=y[0]/255,S=y[1]/255,E=y[2]/255,I=Math.min(A,S,E),T=Math.max(A,S,E),R=T-I;let O,j;T===I?O=0:A===T?O=(S-E)/R:S===T?O=2+(E-A)/R:E===T&&(O=4+(A-S)/R),O=Math.min(60*O,360),O<0&&(O+=360);const $=(I+T)/2;return j=T===I?0:$<=.5?R/(T+I):R/(2-T-I),[O,100*j,100*$]},_.rgb.hsv=function(y){let A,S,E,I,T;const R=y[0]/255,O=y[1]/255,j=y[2]/255,$=Math.max(R,O,j),H=$-Math.min(R,O,j),P=function(z){return($-z)/6/H+.5};return H===0?(I=0,T=0):(T=H/$,A=P(R),S=P(O),E=P(j),R===$?I=E-S:O===$?I=.3333333333333333+A-E:j===$&&(I=.6666666666666666+S-A),I<0?I+=1:I>1&&(I-=1)),[360*I,100*T,100*$]},_.rgb.hwb=function(y){const A=y[0],S=y[1];let E=y[2];const I=_.rgb.hsl(y)[0],T=1/255*Math.min(A,Math.min(S,E));return E=1-.00392156862745098*Math.max(A,Math.max(S,E)),[I,100*T,100*E]},_.rgb.cmyk=function(y){const A=y[0]/255,S=y[1]/255,E=y[2]/255,I=Math.min(1-A,1-S,1-E);return[100*((1-A-I)/(1-I)||0),100*((1-S-I)/(1-I)||0),100*((1-E-I)/(1-I)||0),100*I]},_.rgb.keyword=function(y){const A=v[y];if(A)return A;let S,E=1/0;for(const R of Object.keys(k)){const O=k[R],j=(T=O,((I=y)[0]-T[0])**2+(I[1]-T[1])**2+(I[2]-T[2])**2);j<E&&(E=j,S=R)}var I,T;return S},_.keyword.rgb=function(y){return k[y]},_.rgb.xyz=function(y){let A=y[0]/255,S=y[1]/255,E=y[2]/255;return A=A>.04045?((A+.055)/1.055)**2.4:A/12.92,S=S>.04045?((S+.055)/1.055)**2.4:S/12.92,E=E>.04045?((E+.055)/1.055)**2.4:E/12.92,[100*(.4124*A+.3576*S+.1805*E),100*(.2126*A+.7152*S+.0722*E),100*(.0193*A+.1192*S+.9505*E)]},_.rgb.lab=function(y){const A=_.rgb.xyz(y);let S=A[0],E=A[1],I=A[2];return S/=95.047,E/=100,I/=108.883,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,E=E>.008856?E**.3333333333333333:7.787*E+.13793103448275862,I=I>.008856?I**.3333333333333333:7.787*I+.13793103448275862,[116*E-16,500*(S-E),200*(E-I)]},_.hsl.rgb=function(y){const A=y[0]/360,S=y[1]/100,E=y[2]/100;let I,T,R;if(S===0)return R=255*E,[R,R,R];I=E<.5?E*(1+S):E+S-E*S;const O=2*E-I,j=[0,0,0];for(let $=0;$<3;$++)T=A+.3333333333333333*-($-1),T<0&&T++,T>1&&T--,R=6*T<1?O+6*(I-O)*T:2*T<1?I:3*T<2?O+(I-O)*(.6666666666666666-T)*6:O,j[$]=255*R;return j},_.hsl.hsv=function(y){const A=y[0];let S=y[1]/100,E=y[2]/100,I=S;const T=Math.max(E,.01);return E*=2,S*=E<=1?E:2-E,I*=T<=1?T:2-T,[A,100*(E===0?2*I/(T+I):2*S/(E+S)),100*((E+S)/2)]},_.hsv.rgb=function(y){const A=y[0]/60,S=y[1]/100;let E=y[2]/100;const I=Math.floor(A)%6,T=A-Math.floor(A),R=255*E*(1-S),O=255*E*(1-S*T),j=255*E*(1-S*(1-T));switch(E*=255,I){case 0:return[E,j,R];case 1:return[O,E,R];case 2:return[R,E,j];case 3:return[R,O,E];case 4:return[j,R,E];case 5:return[E,R,O]}},_.hsv.hsl=function(y){const A=y[0],S=y[1]/100,E=y[2]/100,I=Math.max(E,.01);let T,R;R=(2-S)*E;const O=(2-S)*I;return T=S*I,T/=O<=1?O:2-O,T=T||0,R/=2,[A,100*T,100*R]},_.hwb.rgb=function(y){const A=y[0]/360;let S=y[1]/100,E=y[2]/100;const I=S+E;let T;I>1&&(S/=I,E/=I);const R=Math.floor(6*A),O=1-E;T=6*A-R,1&R&&(T=1-T);const j=S+T*(O-S);let $,H,P;switch(R){default:case 6:case 0:$=O,H=j,P=S;break;case 1:$=j,H=O,P=S;break;case 2:$=S,H=O,P=j;break;case 3:$=S,H=j,P=O;break;case 4:$=j,H=S,P=O;break;case 5:$=O,H=S,P=j}return[255*$,255*H,255*P]},_.cmyk.rgb=function(y){const A=y[0]/100,S=y[1]/100,E=y[2]/100,I=y[3]/100;return[255*(1-Math.min(1,A*(1-I)+I)),255*(1-Math.min(1,S*(1-I)+I)),255*(1-Math.min(1,E*(1-I)+I))]},_.xyz.rgb=function(y){const A=y[0]/100,S=y[1]/100,E=y[2]/100;let I,T,R;return I=3.2406*A+-1.5372*S+-.4986*E,T=-.9689*A+1.8758*S+.0415*E,R=.0557*A+-.204*S+1.057*E,I=I>.0031308?1.055*I**.4166666666666667-.055:12.92*I,T=T>.0031308?1.055*T**.4166666666666667-.055:12.92*T,R=R>.0031308?1.055*R**.4166666666666667-.055:12.92*R,I=Math.min(Math.max(0,I),1),T=Math.min(Math.max(0,T),1),R=Math.min(Math.max(0,R),1),[255*I,255*T,255*R]},_.xyz.lab=function(y){let A=y[0],S=y[1],E=y[2];return A/=95.047,S/=100,E/=108.883,A=A>.008856?A**.3333333333333333:7.787*A+.13793103448275862,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,E=E>.008856?E**.3333333333333333:7.787*E+.13793103448275862,[116*S-16,500*(A-S),200*(S-E)]},_.lab.xyz=function(y){let A,S,E;S=(y[0]+16)/116,A=y[1]/500+S,E=S-y[2]/200;const I=S**3,T=A**3,R=E**3;return S=I>.008856?I:(S-.13793103448275862)/7.787,A=T>.008856?T:(A-.13793103448275862)/7.787,E=R>.008856?R:(E-.13793103448275862)/7.787,A*=95.047,S*=100,E*=108.883,[A,S,E]},_.lab.lch=function(y){const A=y[0],S=y[1],E=y[2];let I;return I=360*Math.atan2(E,S)/2/Math.PI,I<0&&(I+=360),[A,Math.sqrt(S*S+E*E),I]},_.lch.lab=function(y){const A=y[0],S=y[1],E=y[2]/360*2*Math.PI;return[A,S*Math.cos(E),S*Math.sin(E)]},_.rgb.ansi16=function(y,A=null){const[S,E,I]=y;let T=A===null?_.rgb.hsv(y)[2]:A;if(T=Math.round(T/50),T===0)return 30;let R=30+(Math.round(I/255)<<2|Math.round(E/255)<<1|Math.round(S/255));return T===2&&(R+=60),R},_.hsv.ansi16=function(y){return _.rgb.ansi16(_.hsv.rgb(y),y[2])},_.rgb.ansi256=function(y){const A=y[0],S=y[1],E=y[2];return A===S&&S===E?A<8?16:A>248?231:Math.round((A-8)/247*24)+232:16+36*Math.round(A/255*5)+6*Math.round(S/255*5)+Math.round(E/255*5)},_.ansi16.rgb=function(y){let A=y%10;if(A===0||A===7)return y>50&&(A+=3.5),A=A/10.5*255,[A,A,A];const S=.5*(1+~~(y>50));return[(1&A)*S*255,(A>>1&1)*S*255,(A>>2&1)*S*255]},_.ansi256.rgb=function(y){if(y>=232){const S=10*(y-232)+8;return[S,S,S]}let A;return y-=16,[Math.floor(y/36)/5*255,Math.floor((A=y%36)/6)/5*255,A%6/5*255]},_.rgb.hex=function(y){const A=(((255&Math.round(y[0]))<<16)+((255&Math.round(y[1]))<<8)+(255&Math.round(y[2]))).toString(16).toUpperCase();return"000000".substring(A.length)+A},_.hex.rgb=function(y){const A=y.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!A)return[0,0,0];let S=A[0];A[0].length===3&&(S=S.split("").map(I=>I+I).join(""));const E=parseInt(S,16);return[E>>16&255,E>>8&255,255&E]},_.rgb.hcg=function(y){const A=y[0]/255,S=y[1]/255,E=y[2]/255,I=Math.max(Math.max(A,S),E),T=Math.min(Math.min(A,S),E),R=I-T;let O,j;return O=R<1?T/(1-R):0,j=R<=0?0:I===A?(S-E)/R%6:I===S?2+(E-A)/R:4+(A-S)/R,j/=6,j%=1,[360*j,100*R,100*O]},_.hsl.hcg=function(y){const A=y[1]/100,S=y[2]/100,E=S<.5?2*A*S:2*A*(1-S);let I=0;return E<1&&(I=(S-.5*E)/(1-E)),[y[0],100*E,100*I]},_.hsv.hcg=function(y){const A=y[1]/100,S=y[2]/100,E=A*S;let I=0;return E<1&&(I=(S-E)/(1-E)),[y[0],100*E,100*I]},_.hcg.rgb=function(y){const A=y[0]/360,S=y[1]/100,E=y[2]/100;if(S===0)return[255*E,255*E,255*E];const I=[0,0,0],T=A%1*6,R=T%1,O=1-R;let j=0;switch(Math.floor(T)){case 0:I[0]=1,I[1]=R,I[2]=0;break;case 1:I[0]=O,I[1]=1,I[2]=0;break;case 2:I[0]=0,I[1]=1,I[2]=R;break;case 3:I[0]=0,I[1]=O,I[2]=1;break;case 4:I[0]=R,I[1]=0,I[2]=1;break;default:I[0]=1,I[1]=0,I[2]=O}return j=(1-S)*E,[255*(S*I[0]+j),255*(S*I[1]+j),255*(S*I[2]+j)]},_.hcg.hsv=function(y){const A=y[1]/100,S=A+y[2]/100*(1-A);let E=0;return S>0&&(E=A/S),[y[0],100*E,100*S]},_.hcg.hsl=function(y){const A=y[1]/100,S=y[2]/100*(1-A)+.5*A;let E=0;return S>0&&S<.5?E=A/(2*S):S>=.5&&S<1&&(E=A/(2*(1-S))),[y[0],100*E,100*S]},_.hcg.hwb=function(y){const A=y[1]/100,S=A+y[2]/100*(1-A);return[y[0],100*(S-A),100*(1-S)]},_.hwb.hcg=function(y){const A=y[1]/100,S=1-y[2]/100,E=S-A;let I=0;return E<1&&(I=(S-E)/(1-E)),[y[0],100*E,100*I]},_.apple.rgb=function(y){return[y[0]/65535*255,y[1]/65535*255,y[2]/65535*255]},_.rgb.apple=function(y){return[y[0]/255*65535,y[1]/255*65535,y[2]/255*65535]},_.gray.rgb=function(y){return[y[0]/100*255,y[0]/100*255,y[0]/100*255]},_.gray.hsl=function(y){return[0,0,y[0]]},_.gray.hsv=_.gray.hsl,_.gray.hwb=function(y){return[0,100,y[0]]},_.gray.cmyk=function(y){return[0,0,0,y[0]]},_.gray.lab=function(y){return[y[0],0,0]},_.gray.hex=function(y){const A=255&Math.round(y[0]/100*255),S=((A<<16)+(A<<8)+A).toString(16).toUpperCase();return"000000".substring(S.length)+S},_.rgb.gray=function(y){return[(y[0]+y[1]+y[2])/3/255*100]}},9047:(h,m,f)=>{const k=f(9246),v=f(802),_={};Object.keys(k).forEach(y=>{_[y]={},Object.defineProperty(_[y],"channels",{value:k[y].channels}),Object.defineProperty(_[y],"labels",{value:k[y].labels});const A=v(y);Object.keys(A).forEach(S=>{const E=A[S];_[y][S]=function(I){const T=function(...R){const O=R[0];if(O==null)return O;O.length>1&&(R=O);const j=I(R);if(typeof j=="object")for(let $=j.length,H=0;H<$;H++)j[H]=Math.round(j[H]);return j};return"conversion"in I&&(T.conversion=I.conversion),T}(E),_[y][S].raw=function(I){const T=function(...R){const O=R[0];return O==null?O:(O.length>1&&(R=O),I(R))};return"conversion"in I&&(T.conversion=I.conversion),T}(E)})}),h.exports=_},802:(h,m,f)=>{const k=f(9246);function v(A){const S=function(){const I={},T=Object.keys(k);for(let R=T.length,O=0;O<R;O++)I[T[O]]={distance:-1,parent:null};return I}(),E=[A];for(S[A].distance=0;E.length;){const I=E.pop(),T=Object.keys(k[I]);for(let R=T.length,O=0;O<R;O++){const j=T[O],$=S[j];$.distance===-1&&($.distance=S[I].distance+1,$.parent=I,E.unshift(j))}}return S}function _(A,S){return function(E){return S(A(E))}}function y(A,S){const E=[S[A].parent,A];let I=k[S[A].parent][A],T=S[A].parent;for(;S[T].parent;)E.unshift(S[T].parent),I=_(k[S[T].parent][T],I),T=S[T].parent;return I.conversion=E,I}h.exports=function(A){const S=v(A),E={},I=Object.keys(S);for(let T=I.length,R=0;R<T;R++){const O=I[R];S[O].parent!==null&&(E[O]=y(O,S))}return E}},6931:h=>{h.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4199:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const A=y},8708:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const A=y},1866:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,':root{--ck-image-processing-highlight-color:#f9fafa;--ck-image-processing-background-color:#e3e5e8}.ck.ck-editor__editable .image.image-processing{position:relative}.ck.ck-editor__editable .image.image-processing:before{animation:ck-image-processing-animation 2s linear infinite;background:linear-gradient(90deg,var(--ck-image-processing-background-color),var(--ck-image-processing-highlight-color),var(--ck-image-processing-background-color));background-size:200% 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ck.ck-editor__editable .image.image-processing img{height:100%}@keyframes ck-image-processing-animation{0%{background-position:200% 0}to{background-position:-200% 0}}',"",{version:3,sources:["webpack://./../ckeditor5-ckbox/theme/ckboximageedit.css"],names:[],mappings:"AAKA,MAEC,6CAAyD,CACzD,8CACD,CAIE,gDACC,iBA2BD,CAzBC,uDAmBC,0DAA2D,CAR3D,oKAKC,CACD,yBAA0B,CAhB1B,UAAW,CAOX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAClB,KAAM,CAKN,UAAW,CAHX,SAcD,CAEA,oDACC,WACD,CAKH,yCACC,GACC,0BACD,CACA,GACC,2BACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Based on default CKBox theme colors */
	--ck-image-processing-highlight-color: hsl(220, 10%, 98%);
	--ck-image-processing-background-color: hsl(220, 10%, 90%);
}

.ck.ck-editor__editable {
	& .image {
		&.image-processing {
			position: relative;

			&:before {
				content: '';

				position: absolute;
				top: 0;
				left: 0;
				z-index: 1;

				height: 100%;
				width: 100%;

				background: linear-gradient(
					90deg,
					var(--ck-image-processing-background-color),
					var(--ck-image-processing-highlight-color),
					var(--ck-image-processing-background-color)
				);
				background-size: 200% 100%;

				animation: ck-image-processing-animation 2s linear infinite;
			}

			& img {
				height: 100%;
			}
		}
	}
}

@keyframes ck-image-processing-animation {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}
`],sourceRoot:""}]);const A=y},7793:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const A=y},7388:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-width:1px 1px 0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,8DCED,eDeC,CAjBA,mKCMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAcF,CAjBA,8DAOC,wCAAsB,CAAtB,sBAUD,CARC,8FACC,uBACD,CAEA,qJAEC,QACD,CAMH,yCAEC,0CAA2C,CCtB3C,eDgCD,CAZA,yHChBE,qCAAsC,CDqBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-panel);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-sticky-panel__content {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border: 1px solid var(--ck-color-base-border);
			border-bottom-width: 0;

			&.ck-sticky-panel__content_sticky {
				border-bottom-width: 1px;
			}

			& .ck-menu-bar,
			& .ck-toolbar {
				border: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=y},4098:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}@media (forced-colors:active){.ck .ck-placeholder,.ck.ck-placeholder{forced-color-adjust:preserve-parent-color}}.ck .ck-placeholder:before,.ck.ck-placeholder:before{cursor:text}@media (forced-colors:none){.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text)}}@media (forced-colors:active){.ck .ck-placeholder:before,.ck.ck-placeholder:before{font-style:italic;margin-left:1px}}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC7BC,8BACC,uCCOA,yCDLA,CACD,CCOA,qDACC,WAmBD,CDvBA,4BACC,qDCMC,6CDJD,CACD,CAZA,8BACC,qDCsBC,iBAAkB,CAMlB,eD1BD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	@mixin ck-media-forced-colors {
		/*
		 * This is needed for Edge on Windows to use the right color for the placeholder content (::before).
		 * See https://github.com/ckeditor/ckeditor5/issues/14907.
		 */
		forced-color-adjust: preserve-parent-color;
	}

	&::before {
		cursor: text;

		@mixin ck-media-default-colors {
			color: var(--ck-color-engine-placeholder-text);
		}

		@mixin ck-media-forced-colors {
			/*
			 * In the high contrast mode there is no telling between regular and placeholder text. Using
			 * italic text to address that issue. See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			font-style: italic;

			/*
			 * Without this margin, the caret will not show up and blink when the user puts the selection
			 * in the placeholder (Edge on Windows). See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			margin-left: 1px;
		}
	}
}
`],sourceRoot:""}]);const A=y},8264:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const A=y},6269:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const A=y},265:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const A=y},5247:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAYD,CAJC,8BAXD,8BAYE,sBAAuB,CACvB,WAEF,CADC,CCdA,4BACC,qEDmBA,iDCjBA,CACD,CDmBA,uCALD,qEAME,cAEF,CADC,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@media (forced-colors: active) {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	@mixin ck-media-default-colors {
		animation: ck-image-caption-highlight .6s ease-out;
	}

	@media (prefers-reduced-motion: reduce) {
		animation: none;
	}
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const A=y},4642:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-image-custom-resize-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{display:inline-block}.ck.ck-image-custom-resize-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-image-custom-resize-form{flex-wrap:wrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-image-custom-resize-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecustomresizeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,gCAIC,sBAAuB,CAHvB,YAAa,CACb,kBAAmB,CACnB,gBAsBD,CAnBC,uDACC,oBACD,CAEA,0CACC,YACD,CCbA,oCDCD,gCAeE,cAUF,CARE,uDACC,eACD,CAEA,2CACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-image-custom-resize-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: flex-start;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=y},3350:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css"],names:[],mappings:"AAMC,yDACC,YAAa,CACb,mCACD,CCFD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CAEd,qCAAsC,CADtC,UAUD,CAZA,iDAME,eAMF,CAZA,iDAUE,gBAEF,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-url {
	& .ck-image-insert-url__action-row {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-image-insert-insert-by-url-width: 250px;
}

.ck.ck-image-insert-url {
	--ck-input-width: 100%;

	& .ck-image-insert-url__action-row {
		grid-column-gap: var(--ck-spacing-large);
		margin-top: var(--ck-spacing-large);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
			min-width: auto;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}

.ck.ck-image-insert-form {
	& > .ck.ck-button {
		display: block;
		width: 100%;
		padding: var(--ck-list-button-padding);

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& > .ck.ck-collapsible {
		&:not(:first-child) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		&:not(:last-child) {
			border-bottom: 1px solid var(--ck-color-base-border);
		}

		min-width: var(--ck-image-insert-insert-by-url-width);
	}

	/* This is the case when there are no other integrations configured than insert by URL */
	& > .ck.ck-image-insert-url {
		min-width: var(--ck-image-insert-insert-by-url-width);
		padding: var(--ck-spacing-large);
	}

	&:focus {
		outline: none;
	}
}
`],sourceRoot:""}]);const A=y},7378:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageplaceholder.css"],names:[],mappings:"AAMC,8CACC,yBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& img.image_placeholder {
		background-size: 100% 100%;
	}
}
`],sourceRoot:""}]);const A=y},3469:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const A=y},6386:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const A=y},7693:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0ms}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFAqCD,CAjCC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAEA,uCA7CD,+BA8CE,sBASF,CAPE,qCACC,cAAe,CAGf,YAAc,CAFd,SAAU,CACV,UAED,CACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 0ms;

		&::after {
			animation: none;
			opacity: 1;
			width: 0.3em;
			height: 0.45em;
		}
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const A=y},1559:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const A=y},2267:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBAMD,CAJC,uCAHD,yFAKE,cAAe,CADf,SAGF,CADC,CAKF,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;

			@media (prefers-reduced-motion: reduce) {
				opacity: 1;
				animation: none;
			}
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const A=y},4062:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=y},7719:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const A=y},8762:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const A=y},3817:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-link-form{align-items:flex-start;display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBAEC,sBAAuB,CADvB,YAkBD,CAfC,2BACC,YACD,CCPA,oCDCD,iBASE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CChBD,CDwBD,iCACC,aAYD,CALE,wHAEC,mCACD,CEhCF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;
	align-items: flex-start;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const A=y},4808:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzUuNzUgMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTUuNy43IDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NHptNS40OTQtNS4zMzVhLjc1Ljc1IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NS43NSAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTVtLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,k2BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const A=y},1232:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const A=y},6903:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const A=y},9968:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const A=y},7141:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const A=y},8991:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CA4EA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAtFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqFC,CAFA,wDApEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAoEA,CAhED,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sDAYE,eAEF,CADC,CAGD,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FAxHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAuHA,CAFA,wGAtGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAsGD,CAlGA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sGAYE,eAEF,CADC,CAGD,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const A=y},70:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const A=y},7048:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSlzY2FsZSguOTgwMTIpIj48cmVjdCB3aWR0aD0iNjAuMDk5IiBoZWlnaHQ9IjYwLjA5OSIgeD0iMTc2LjAzMSIgeT0iMjMxLjM5OSIgZmlsbD0iIzM0YTY2OCIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjIzOCIgcnk9IjUuMjM4Ii8+PHBhdGggZmlsbD0iIzVjODhjNSIgZD0ibTIwNi40NzcgMjYwLjktMjguOTg3IDI4Ljk4N2E1LjIyIDUuMjIgMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiLz48cGF0aCBmaWxsPSIjZGQ0YjNlIiBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwN3EuNS43NTMuOTUgMS41MDguNTE1LjcxNS45ODggMS40NGMxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5cS40NzMtLjcyMy45ODgtMS40MzkuNDUtLjc1NS45NS0xLjUwOGMuMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIGN4PSIyMjYuNzQyIiBjeT0iMjM5LjAwMiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjgyOCIgcnk9IjUuNTY0Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjlxLS4wMDEtLjU0My0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhxLS4wMDEtLjAwMy0uMDA0LS4wMDVjLTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTVtNC40MyA1LjY2LjAwMy4wMDZ2LS4wMDN6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGZpbGw9IiNjM2MzYzMiIGQ9Im0yMTUuMTg0IDI1MS45MjktNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMiA1LjIgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjl6Ii8+PHBhdGggZmlsbD0iI2ZkZGM0ZiIgZD0ibTIxMi45ODMgMjQ4LjQ5NS0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYgMTM2IDAgMCAwLTIuNzY0LTMuOSAzOCAzOCAwIDAgMC0uOTg5LTEuNDQgMzUgMzUgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiPjxwYXRoIGZpbGw9IiNGRkZGRkUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTk2Ny40ODQgMEg1Ni41MTdDMjUuMzA0IDAgMCAyNS4zMDQgMCA1Ni41MTd2OTEwLjk2NkMwIDk5OC42OTQgMjUuMjk3IDEwMjQgNTYuNTIyIDEwMjRINTQ3VjYyOEg0MTRWNDczaDEzM1YzNTkuMDI5YzAtMTMyLjI2MiA4MC43NzMtMjA0LjI4MiAxOTguNzU2LTIwNC4yODIgNTYuNTEzIDAgMTA1LjA4NiA0LjIwOCAxMTkuMjQ0IDYuMDg5VjI5OWwtODEuNjE2LjAzN2MtNjMuOTkzIDAtNzYuMzg0IDMwLjQ5Mi03Ni4zODQgNzUuMjM2VjQ3M2gxNTMuNDg3bC0xOS45ODYgMTU1SDcwN3YzOTZoMjYwLjQ4NGMzMS4yMTMgMCA1Ni41MTYtMjUuMzAzIDU2LjUxNi01Ni41MTZWNTYuNTE1QzEwMjQgMjUuMzAzIDk5OC42OTcgMCA5NjcuNDg0IDAiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OW0wIDQ1LjM5MWM2Ny4yNjUgMCA3NS4yMzMuMjU3IDEwMS43OTcgMS40NjkgMjQuNTYyIDEuMTIgMzcuOTAxIDUuMjI0IDQ2Ljc3OCA4LjY3NCAxMS43NTkgNC41NyAyMC4xNTEgMTAuMDI5IDI4Ljk2NiAxOC44NDVzMTQuMjc1IDE3LjIwNyAxOC44NDUgMjguOTY2YzMuNDUgOC44NzcgNy41NTQgMjIuMjE2IDguNjc0IDQ2Ljc3OCAxLjIxMiAyNi41NjQgMS40NjkgMzQuNTMyIDEuNDY5IDEwMS43OTggMCA2Ny4yNjUtLjI1NyA3NS4yMzMtMS40NjkgMTAxLjc5Ny0xLjEyIDI0LjU2Mi01LjIyNCAzNy45MDEtOC42NzQgNDYuNzc4LTQuNTcgMTEuNzU5LTEwLjAyOSAyMC4xNTEtMTguODQ1IDI4Ljk2NnMtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1Yy04Ljg3NyAzLjQ1LTIyLjIxNiA3LjU1NC00Ni43NzggOC42NzQtMjYuNTYgMS4yMTItMzQuNTI3IDEuNDY5LTEwMS43OTcgMS40NjktNjcuMjcxIDAtNzUuMjM3LS4yNTctMTAxLjc5OC0xLjQ2OS0yNC41NjItMS4xMi0zNy45MDEtNS4yMjQtNDYuNzc4LTguNjc0LTExLjc1OS00LjU3LTIwLjE1MS0xMC4wMjktMjguOTY2LTE4Ljg0NXMtMTQuMjc1LTE3LjIwNy0xOC44NDUtMjguOTY2Yy0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NnMxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDVjOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OSIgbWFzaz0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0yNTEuOTIxIDMzNi4wNTNjLTQ2LjM3OCAwLTgzLjk3NC0zNy41OTYtODMuOTc0LTgzLjk3M3MzNy41OTYtODMuOTc0IDgzLjk3NC04My45NzRjNDYuMzc3IDAgODMuOTczIDM3LjU5NiA4My45NzMgODMuOTc0IDAgNDYuMzc3LTM3LjU5NiA4My45NzMtODMuOTczIDgzLjk3M20wLTIxMy4zMzhjLTcxLjQ0NyAwLTEyOS4zNjUgNTcuOTE4LTEyOS4zNjUgMTI5LjM2NSAwIDcxLjQ0NiA1Ny45MTggMTI5LjM2NCAxMjkuMzY1IDEyOS4zNjQgNzEuNDQ2IDAgMTI5LjM2NC01Ny45MTggMTI5LjM2NC0xMjkuMzY0IDAtNzEuNDQ3LTU3LjkxOC0xMjkuMzY1LTEyOS4zNjQtMTI5LjM2NU00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjNzMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzFjMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwME0xNjMuNCAzMDUuNWM4OC43IDAgMTM3LjItNzMuNSAxMzcuMi0xMzcuMiAwLTIuMSAwLTQuMi0uMS02LjIgOS40LTYuOCAxNy42LTE1LjMgMjQuMS0yNS04LjYgMy44LTE3LjkgNi40LTI3LjcgNy42IDEwLTYgMTcuNi0xNS40IDIxLjItMjYuNy05LjMgNS41LTE5LjYgOS41LTMwLjYgMTEuNy04LjgtOS40LTIxLjMtMTUuMi0zNS4yLTE1LjItMjYuNiAwLTQ4LjIgMjEuNi00OC4yIDQ4LjIgMCAzLjguNCA3LjUgMS4zIDExLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40LTQuMSA3LjEtNi41IDE1LjQtNi41IDI0LjIgMCAxNi43IDguNSAzMS41IDIxLjUgNDAuMS03LjktLjItMTUuMy0yLjQtMjEuOC02di42YzAgMjMuNCAxNi42IDQyLjggMzguNyA0Ny4zLTQgMS4xLTguMyAxLjctMTIuNyAxLjctMy4xIDAtNi4xLS4zLTkuMS0uOSA2LjEgMTkuMiAyMy45IDMzLjEgNDUgMzMuNS0xNi41IDEyLjktMzcuMyAyMC42LTU5LjkgMjAuNi0zLjkgMC03LjctLjItMTEuNS0uNyAyMS4xIDEzLjggNDYuNSAyMS44IDczLjcgMjEuOCIgc3R5bGU9ImZpbGw6I2ZmZiIvPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,goGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,o+GACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,g/BACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const A=y},5651:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=y},5506:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=y},4043:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const A=y},2655:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const A=y},5032:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAcD,CAZC,uCATD,uCAUE,eAWF,CAVC,CAEA,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const A=y},2329:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const A=y},4143:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAaD,CCxBC,8BACC,8BDoBA,sBAAuB,CACvB,WCnBA,CACD,CAIA,4BDqBC,qEACC,iDACD,CCnBD,CDsBA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@mixin ck-media-forced-colors {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	@mixin ck-media-default-colors {
		&.table__caption_highlighted {
			animation: ck-table-caption-highlight .6s ease-out;
		}
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const A=y},8986:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const A=y},8795:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const A=y},8137:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const A=y},1623:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCA6BD,CA3BC,8ECxCD,eD6DC,CArBA,mMCpCA,qCDyDA,CArBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAcD,CAXC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEAKD,CAHC,uCAlBD,8EAmBE,cAEF,CADC,CAID,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;

			@media (prefers-reduced-motion: reduce) {
				animation: none;
			}
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=y},5562:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const A=y},8423:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const A=y},1801:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}.ck.ck-aria-live-region-list{list-style-type:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names:[],mappings:"AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD,CAEA,6BACC,oBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-aria-live-announcer {
	position: absolute;
	left: -10000px;
	top: -10000px;
}

.ck.ck-aria-live-region-list {
	list-style-type: none;
}
`],sourceRoot:""}]);const A=y},5727:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-panel);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=y},9715:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}@media (prefers-reduced-motion:reduce){.ck.ck-button,a.ck.ck-button{transition:none}}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{opacity:.5}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CA9BA,iDASE,oBAqBF,CA9BA,iDAaE,qBAiBF,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEzBD,6BCAC,oDD+ID,CC5IE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eFgJD,CA/IA,wIEGE,qCF4IF,CA/IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBA0ID,CAhHC,uCA/BD,6BAgCE,eA+GF,CA9GC,CAEA,oFGpCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHyCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAWD,CAZA,6FAIE,mCAQF,CAZA,6FAQE,oCAIF,CAZA,yEAWC,UACD,CAIC,oIIxFD,oDJ4FC,CAOA,gLKnGD,kCLqGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCClIA,+CDsIA,CCnIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDmHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CClJC,mDDuJD,CCpJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDmID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";
@import "../../mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;

	@mixin ck-dir ltr {
		justify-content: left;
	}

	@mixin ck-dir rtl {
		justify-content: right;
	}

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		opacity: .5;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const A=y},4391:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{transition:none}}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eDgFA,CA5CA,yIChCC,qCD4ED,CA5CA,2DAKE,gBAuCF,CA5CA,2DAUE,iBAkCF,CA5CA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CA2BD,CAxBC,2ECxDD,eDuEC,CAfA,6LCpDA,qCAAsC,CDsDpC,8CAaF,CAfA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAUD,CAHC,uCAZD,2EAaE,eAEF,CADC,CAGD,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEpFA,kCFsFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const A=y},25:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/collapsible/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/collapsible/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,qCAAsC,CAFtC,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,gFACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-list-button-padding);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const A=y},7317:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{transition:box-shadow .2s ease}@media (forced-colors:none){.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}}@media (forced-colors:active){.ck.ck-color-grid__tile{height:unset;min-height:unset;min-width:unset;padding:0 var(--ck-spacing-small);width:unset}.ck.ck-color-grid__tile .ck-button__label{display:inline-block}}@media (prefers-reduced-motion:reduce){.ck.ck-color-grid__tile{transition:none}}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,kBACC,YACD,CCCA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,8BAkED,CC3EC,4BACC,wBDgBA,QAAS,CAJT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CAJV,oCCTA,CDgBA,8HAIC,QACD,CAEA,+DACC,gDACD,CAEA,8BACC,8FACD,CAEA,gGAEC,iGACD,CCjCD,CAZA,8BACC,wBDqDA,YAAa,CAEb,gBAAiB,CADjB,eAAgB,CAEhB,iCAAkC,CAJlC,WClDA,CDwDA,0CACC,oBACD,CCzDD,CD4DA,uCAhDD,wBAiDE,eAkBF,CAjBC,CAEA,oCACC,YAAa,CACb,gBACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAGC,0CACC,aACD,CAIF,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	transition: .2s ease box-shadow;

	@mixin ck-media-default-colors {
		width: var(--ck-color-grid-tile-size);
		height: var(--ck-color-grid-tile-size);
		min-width: var(--ck-color-grid-tile-size);
		min-height: var(--ck-color-grid-tile-size);
		padding: 0;
		border: 0;

		&.ck-on,
		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			/* Disable the default .ck-button's border ring. */
			border: 0;
		}

		&.ck-color-selector__color-tile_bordered {
			box-shadow: 0 0 0 1px var(--ck-color-base-border);
		}

		&.ck-on {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);
		}

		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
		}
	}

	/*
	 * In high contrast mode, the colors are replaced with text labels.
	 * See https://github.com/ckeditor/ckeditor5/issues/14907.
	 */
	@mixin ck-media-forced-colors {
		width: unset;
		height: unset;
		min-width: unset;
		min-height: unset;
		padding: 0 var(--ck-spacing-small);

		& .ck-button__label {
			display: inline-block;
		}
	}

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		& .ck.ck-icon {
			display: block;
		}
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const A=y},1905:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const A=y},6309:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const A=y},9819:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{box-shadow:var(--ck-drop-shadow),0 0;--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width)}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,sBAKC,QAAS,CACT,MAAO,CAJP,wBAAyB,CAEzB,cAAe,CAGf,OAAQ,CACR,KAAM,CAPN,gBAcD,CALC,qDAEC,cAAe,CACf,eAAgB,CAFhB,mBAGD,CAGD,cACC,wBAAyB,CAEzB,iBAAkB,CADlB,iBAcD,CAXC,kCACC,aAKD,CAHC,0DACC,WACD,CAVF,mEAcE,kBAEF,CC7BA,MACC,mDAA2D,CAC3D,uDAA8D,CAC9D,2BAA4B,CAC5B,2BAA4B,CAC5B,4DAA6D,CAC7D,gEACD,CAEA,sBACC,+BAAgC,CAChC,oDAAqD,CACrD,0BACD,CAEA,cCbC,eD2BD,CAdA,mECTE,qCDuBF,CAdA,cEfC,oCAA8B,CFmB9B,6CAA8C,CAE9C,4CAA6C,CAG7C,4CAA6C,CAF7C,sCAAuC,CACvC,oCAMD,CAHC,kCACC,iEACD,CAGD,6BACC,GACC,sBACD,CAEA,GACC,oDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog-overlay {
	user-select: none;
	overscroll-behavior: none;

	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	top: 0;

	&.ck-dialog-overlay__transparent {
		pointer-events: none;
		animation: none;
		background: none;
	}
}

.ck.ck-dialog {
	overscroll-behavior: none;
	width: fit-content;
	position: absolute;

	& .ck.ck-form__header  {
		flex-shrink: 0;

		& .ck-form__header__label {
			cursor: grab;
		}
	}

	@nest .ck.ck-dialog-overlay.ck-dialog-overlay__transparent & {
		pointer-events: all;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

:root {
	--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );
	--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);
	--ck-dialog-max-width: 100vw;
	--ck-dialog-max-height: 90vh;
	--ck-color-dialog-background: var(--ck-color-base-background);
	--ck-color-dialog-form-header-border: var(--ck-color-base-border);
}

.ck.ck-dialog-overlay {
	animation: ck-dialog-fade-in .3s;
	background: var(--ck-dialog-overlay-background-color);
	z-index: var(--ck-z-dialog);
}

.ck.ck-dialog {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	--ck-drop-shadow: var(--ck-dialog-drop-shadow);

	background: var(--ck-color-dialog-background);
	max-height: var(--ck-dialog-max-height);
	max-width: var(--ck-dialog-max-width);
	border: 1px solid var(--ck-color-base-border);

	& .ck.ck-form__header {
		border-bottom: 1px solid var(--ck-color-dialog-form-header-border);
	}
}

@keyframes ck-dialog-fade-in {
	0% {
		background: hsla( 0, 0%, 0%, 0 );
	}

	100% {
		background: var(--ck-dialog-overlay-background-color);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=y},9822:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialogactions.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialogactions.css"],names:[],mappings:"AAMC,qCACC,YAAa,CACb,wBAAyB,CCDzB,+BDED,CCAC,yCACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		display: flex;
		justify-content: flex-end;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		padding: var(--ck-spacing-large);

		& > * + * {
			margin-left: var(--ck-spacing-large);
		}
	}
}
`],sourceRoot:""}]);const A=y},8149:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-panel);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-panel) + 1 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=y},3629:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown > .ck-dropdown__panel > .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=y},1792:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=y},1666:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const A=y},8527:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{*{white-space:normal}}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/accessibilityhelp.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAQA,MACC,8CAA+C,CAC/C,+CAAgD,CAChD,mDAA8D,CAC9D,4DAAyE,CACzE,uDACD,CAEA,wEAOC,4BAA6B,CAJ7B,yDAA0D,CAD1D,uDAAwD,CAExD,aAAc,CAHd,+BAAgC,CAIhC,gBAgFD,CA5EC,8ECdA,2BAA2B,CCF3B,2CAA8B,CDC9B,YDkBA,CAZD,wEAcC,EACC,kBACD,CAqED,CAlEC,kFACC,YACD,CAEA,2EAEC,eAAgB,CADhB,eAED,CAEA,2EAEC,aAAc,CADd,eAED,CAEA,8SAIC,YACD,CAEA,2EAIC,kBAAmB,CADnB,qEAAsE,CAFtE,YAAa,CACb,6BAiBD,CAbC,4JACC,wEAAyE,CACzE,cACD,CAEA,8EACC,mBACD,CAEA,8EACC,mBAAoB,CACpB,gBACD,CAGD,yJAEC,oEAAqE,CAIrE,iBAAkB,CALlB,oBAAqB,CAOrB,cAAe,CAHf,aAAc,CAFd,YAAa,CAIb,iBAAkB,CAHlB,qBAKD,CAEA,6EACC,qBACD,CAEA,4EAEC,yEAA4E,CAC5E,YAAa,CAFb,eAOD,CAHC,gFACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-accessibility-help-dialog-max-width: 600px;
	--ck-accessibility-help-dialog-max-height: 400px;
	--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);
	--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);
	--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%);
}

.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content {
	padding: var(--ck-spacing-large);
	max-width: var(--ck-accessibility-help-dialog-max-width);
	max-height: var(--ck-accessibility-help-dialog-max-height);
	overflow: auto;
	user-select: text;

	border: 1px solid transparent;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	* {
		white-space: normal;
	}

	/* Hide the main label of the content container. */
	& .ck-label {
		display: none;
	}

	& h3 {
		font-weight: bold;
		font-size: 1.2em;
	}

	& h4 {
		font-weight: bold;
		font-size: 1em;
	}

	& p,
	& h3,
	& h4,
	& table {
		margin: 1em 0;
	}

	& dl {
		display: grid;
		grid-template-columns: 2fr 1fr;
		border-top: 1px solid var(--ck-accessibility-help-dialog-border-color);
		border-bottom: none;

		& dt, & dd {
			border-bottom: 1px solid var(--ck-accessibility-help-dialog-border-color);
			padding: .4em 0;
		}

		& dt {
			grid-column-start: 1;
		}

		& dd {
			grid-column-start: 2;
			text-align: right;
		}
	}

	& kbd, & code {
		display: inline-block;
		background: var(--ck-accessibility-help-dialog-code-background-color);
		padding: .4em;
		vertical-align: middle;
		line-height: 1;
		border-radius: 2px;
		text-align: center;
		font-size: .9em;
	}

	& code {
		font-family: monospace;
	}

	& kbd {
		min-width: 1.8em;
		box-shadow: 0px 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);
		margin: 0 1px;

		& + kbd {
			margin-left: 2px;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=y},1185:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=y},7913:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAmBD,CAdC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,wBAAyB,CACzB,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-form-header-height: 44px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& > .ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-medium);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-medium);
		}
	}

	& .ck-form__header__label {
		--ck-font-size-base: 15px;
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const A=y},9529:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const A=y},7621:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const A=y},253:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}@media (prefers-reduced-motion:reduce){.ck.ck-input{transition:none}}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}@media (prefers-reduced-motion:reduce){.ck.ck-input.ck-error{animation:none}}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eDmDD,CA9CA,iECDE,qCD+CF,CA9CA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DAkCD,CAhCC,uCAdD,aAeE,eA+BF,CA9BC,CAEA,mBEvBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YF2BA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BGnCD,oDHsCC,CAGD,sBAEC,sCAAuC,CADvC,+CAUD,CAPC,uCAJD,sBAKE,cAMF,CALC,CAEA,4BGjDD,iDHmDC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		@media (prefers-reduced-motion: reduce) {
			animation: none;
		}

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=y},7801:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const A=y},4962:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}@media (prefers-reduced-motion:reduce){.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transition:none}}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eDmHD,CA9GA,2FCDE,qCD+GF,CA3GC,mEACC,UAwCD,CAtCC,gFACC,KAoCD,CArCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBAgCF,CArCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAyBF,CArCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAQD,CAHC,uCAlCD,gFAmCE,eAEF,CADC,CASD,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,2XAGE,+HAYF,CAfA,2XAOE,wIAQF,CAfA,uWAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
				transform-origin: 0 0;
				/* By default, display the label scaled down above the field. */
				transform: translate(var(--ck-spacing-medium), -6px) scale(.75);
			}

			@mixin ck-dir rtl {
				right: 0px;
				transform-origin: 100% 0;
				transform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);
			}

			pointer-events: none;

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=y},5199:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.11*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item>.ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item>.ck-button{text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button{text-align:right}.ck.ck-list__item>.ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item>.ck-button:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,MACC,qJAGD,CAEA,YCLC,eDUD,CALA,+DCDE,qCDMF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UAwCD,CA1CA,uCAME,eAoCF,CA1CA,uCAUE,gBAgCF,CA1CA,6BAgBC,qCA0BD,CAxBC,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-list-button-padding:
		calc(.11 * var(--ck-line-height-base) * var(--ck-font-size-base))
		calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));
}

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& > .ck-button {
		min-height: unset;
		width: 100%;
		border-radius: 0;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding: var(--ck-list-button-padding);

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& > .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > .ck-label {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=y},497:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubar.css"],names:[],mappings:"AAKA,gBAIC,0CAA2C,CAG3C,+CAAgD,CANhD,YAAa,CACb,cAAe,CAIf,2BAA4B,CAH5B,0BAA2B,CAE3B,+BAAgC,CAGhC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar {
	display: flex;
	flex-wrap: wrap;
	justify-content: flex-start;
	background: var(--ck-color-base-background);
	padding: var(--ck-spacing-small);
	gap: var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);
	width: 100%;
}
`],sourceRoot:""}]);const A=y},4:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-menu-bar__menu{display:block;font-size:inherit;position:relative}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenu.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenu.css"],names:[],mappings:"AAKA,sBACC,aAAc,CCCd,iBAAkB,CDAlB,iBACD,CCCC,kDACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	display: block;
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	&.ck-menu-bar__menu_top-level {
		max-width: 100%;
	}
}
`],sourceRoot:""}]);const A=y},3344:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{padding:var(--ck-list-button-padding);width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAMC,mFACC,mBAAoB,CACpB,2BACD,CCIA,iDACC,qCAAsC,CACtC,UAuBD,CArBC,mEACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,+ECdD,kCDgBC,CAGC,qFACC,oCACD,CAIA,qFACC,qCACD,CAOF,6EAEC,gBAAiB,CADjB,wDAgBD,CAbC,+FAEC,iBAAkB,CADlB,WAED,CAEA,mFACC,2BAA4B,CAC5B,4BACD,CAEA,sFACC,YACD,CAMD,mFACC,eAiDD,CA/CC,yFACC,wBAAyB,CACzB,eAKD,CAHC,qGACC,0DACD,CAID,iIACC,+DACD,CAEA,qHACC,mCASD,CAVA,+HAIE,wBAMF,CAVA,+HAQE,uBAEF,CAEA,iICrFD,kCDuFC,CAGC,+HAIC,sCAAuC,CAHvC,gCAID,CAIA,+HACC,+BAAgC,CAGhC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu  {
	& > .ck-menu-bar__menu__button > .ck-menu-bar__menu__button__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-menu-bar__menu {
	/*
	 * All menu buttons.
	 */
	& > .ck-menu-bar__menu__button {
		padding: var(--ck-list-button-padding);
		width: 100%;

		& > .ck-button__label {
			flex-grow: 1;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		&.ck-disabled > .ck-button__label {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				padding-right: var(--ck-spacing-small);
			}
		}
	}

	/*
	 * Top-level menu buttons only.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__button {
		padding: var(--ck-spacing-small) var(--ck-spacing-medium);
		min-height: unset;

		& .ck-button__label {
			width: unset;
			line-height: unset;
		}

		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		& .ck-icon {
			display: none;
		}
	}

	/*
	 * Sub-menu buttons.
	 */
	&:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button {
		border-radius: 0;

		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}

		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}

		& > .ck-menu-bar__menu__button__arrow {
			width: var(--ck-dropdown-arrow-size);

			@mixin ck-dir ltr {
				transform: rotate(-90deg);
			}

			@mixin ck-dir rtl {
				transform: rotate(90deg);
			}
		}

		&.ck-disabled > .ck-menu-bar__menu__button__arrow {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			& > .ck-menu-bar__menu__button__arrow {
				right: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-left: var(--ck-spacing-standard);
			}
		}

		@mixin ck-dir rtl {
			& > .ck-menu-bar__menu__button__arrow {
				left: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-right: var(--ck-spacing-small);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const A=y},9481:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,":root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitem.css"],names:[],mappings:"AAKA,MACC,sCACD,CAEA,kDACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-item-min-width: 18em;
}

.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item {
	min-width: var(--ck-menu-bar-menu-item-min-width);
}
`],sourceRoot:""}]);const A=y},977:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__panel>ul>.ck-menu-bar__menu__item>.ck-menu-bar__menu__item__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitembutton.css"],names:[],mappings:"AASC,iEACC,eA0BD,CAxBC,0LAGC,8BACD,CAEA,uFAEC,4CAA+C,CAC/C,oCACD,CAMA,uEACC,wBAAyB,CACzB,eAKD,CAHC,mFACC,0DACD,CASD,uLACC,+DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/*
	 * List item buttons.
	 */
	& .ck-button.ck-menu-bar__menu__item__button {
		border-radius: 0;

		& > .ck-spinner-container,
		& > .ck-spinner-container .ck-spinner {
			/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */
			--ck-toolbar-spinner-size: 20px;
		}

		& > .ck-spinner-container {
			/* These margins are the same as for .ck-icon. */
			margin-left: calc(-1 * var(--ck-spacing-small));
			margin-right: var(--ck-spacing-small);
		}

		/*
		 * Hovered items automatically get focused. Default focus styles look odd
		 * while moving across a huge list of items so let's get rid of them
		 */
		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}
	}

	/*
	 * First-level sub-menu item buttons.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__panel > ul > .ck-menu-bar__menu__item > .ck-menu-bar__menu__item__button {
		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}
	}
}


`],sourceRoot:""}]);const A=y},9108:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,":root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{border-radius:0}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,iCAAkC,CAClC,+CACD,CAEA,mDAEC,2CAA4C,CAC5C,iBAAkB,CAFlB,yBAkDD,CA9CC,gLAEC,WACD,CAEA,gLAGC,WAAY,CADZ,QAED,CAEA,gLAEC,MACD,CAEA,gLAEC,OACD,CAEA,gLAEC,kEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CAEA,gLAEC,mEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CCpDD,MACC,uCACD,CAEA,mDCDC,eDmCD,CAlCA,6ICGE,qCD+BF,CAlCA,mDAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CETT,oCAA8B,CFU9B,kBAAmB,CACnB,iDA0BD,CAvBC,gLAEC,wBACD,CAEA,gLAEC,yBACD,CAEA,gLAEC,2BACD,CAEA,gLAEC,4BACD,CAEA,yDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-max-width: 75vw;
	--ck-menu-bar-nested-menu-horizontal-offset: 5px;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	z-index: var(--ck-z-panel);
	max-width: var(--ck-menu-bar-menu-max-width);
	position: absolute;

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_nw {
		bottom: 100%;
	}

	&.ck-menu-bar__menu__panel_position_se,
	&.ck-menu-bar__menu__panel_position_sw {
		top: 100%;
		bottom: auto;
	}

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_se {
		left: 0px;
	}

	&.ck-menu-bar__menu__panel_position_nw,
	&.ck-menu-bar__menu__panel_position_sw {
		right: 0px;
	}

	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_en {
		left: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_es {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_en {
		bottom: 0px;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_wn {
		right: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_ws {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_wn {
		bottom: 0px;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-menu-bar-menu-panel-max-width: 75vw;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;
	height: fit-content;
	max-width: var(--ck-menu-bar-menu-panel-max-width);

	/* Corner border radius consistent with the button. */
	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_se {
		border-top-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_sw {
		border-top-right-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_en,
	&.ck-menu-bar__menu__panel_position_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_wn,
	&.ck-menu-bar__menu__panel_position_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=y},3710:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-panel);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=y},991:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const A=y},5380:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-panel) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=y},8298:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-panel); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=y},2722:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAoED,CAlEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA+CF,CA7CE,8CACC,wDAYD,CAVC,4HAEC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDrEH",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text,
			& .ck-input-number {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const A=y},8107:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/search/search.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const A=y},109:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-spinner-container{animation-duration:3s}}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCAAsC,CADtC,qCAAsC,CADtC,oCAOD,CAHC,uCALD,yBAME,qBAEF,CADC,CAGD,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCAA6B,CAH7B,qCAAsC,CADtC,oCAKD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite rotate linear;

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 3s;
	}
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes rotate {
	to {
		transform: rotate(360deg)
	}
}
`],sourceRoot:""}]);const A=y},1671:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const A=y},2710:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const A=y},9677:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=y},9205:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100);--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAOA,gCCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,sCAAyC,CEFzC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCFJD,CEMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CAErB,eAAgB,CADhB,wCAAyC,CAFzC,wBAID,CArBD,gCAwBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-balloon-panel.ck-tooltip {
	@mixin ck-unselectable;

	z-index: calc( var(--ck-z-dialog) + 100 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
		max-width: 200px;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const A=y},7676:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck-hidden{display:none!important}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{background:transparent;border:0;box-sizing:border-box;height:auto;margin:0;padding:0;position:static;text-decoration:none;transition:none;vertical-align:middle;width:auto;word-wrap:break-word}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CAC/C,kBACD,CCDA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,wDAAiE,CACjE,4DAAmE,CAInE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CChHhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJgHD,CI1GA,2EAYC,sBAAuB,CADvB,QAAS,CART,qBAAsB,CAEtB,WAAY,CAIZ,QAAS,CACT,SAAU,CAJV,eAAgB,CAOhB,oBAAqB,CAErB,eAAgB,CADhB,qBAAsB,CAVtB,UAAW,CAcX,oBACD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCxFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-panel: calc( var(--ck-z-default) + 999 );
	--ck-z-dialog: 9999;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-panel) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Dialog -------------------------------------------------------------------------------- */

	--ck-color-dialog-background: 								var(--ck-custom-background);
	--ck-color-dialog-form-header-border: 						var(--ck-custom-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%);

	/* -- Generic colors ------------------------------------------------------------------------- */

	--ck-color-light-red:										hsl(0, 100%, 90%);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;

	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const A=y},695:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget{transition:none}}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}@media (forced-colors:none){.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background)}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CChFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAcD,CAZC,uCAND,eAOE,eAWF,CAVC,CAEA,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAYD,CARC,yGCnCA,2BAA2B,CCF3B,qCAA8B,CDC9B,YD2CA,CGvCA,4BACC,yGHoCC,iEGlCD,CACD,CHuCA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAwCD,CA3BC,uCAzBD,4EA0BE,eA0BF,CAzBC,CAEA,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAeD,CAVC,kHACC,SAAU,CAGV,+DAKD,CAHC,uCAND,kHAOE,eAEF,CADC,CAKF,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
		@mixin ck-media-default-colors {
			background-color: var(--ck-color-widget-editable-focus-background);
		}
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);

				@media (prefers-reduced-motion: reduce) {
					transition: none;
				}
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const A=y},4095:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const A=y},8508:(h,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([h.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button svg{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button:hover,.ck .ck-widget .ck-widget__type-around__button:hover svg line,.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:none}}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAwED,CAhEC,uCATD,+CAUE,eA+DF,CA9DC,CAEA,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAwBD,CAlBC,uCAPD,mDAQE,eAiBF,CAhBC,CAEA,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DA4BD,CAtBE,kEACC,oDACD,CAEA,8DACC,wDACD,CAGD,uCAQE,qLACC,cACD,CAEF,CASD,uKA7FD,SAAU,CACV,mBA8FC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAxKD,SAAU,CACV,mBAyKC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAxNF,SAAU,CACV,mBAyNE,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}

			@media (prefers-reduced-motion: reduce) {
				animation: none;

				& svg {
					& polyline {
						animation: none;
					}

					& line {
						animation: none;
					}
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const A=y},935:h=>{h.exports=function(m){var f=[];return f.toString=function(){return this.map(function(k){var v=m(k);return k[2]?"@media ".concat(k[2]," {").concat(v,"}"):v}).join("")},f.i=function(k,v,_){typeof k=="string"&&(k=[[null,k,""]]);var y={};if(_)for(var A=0;A<this.length;A++){var S=this[A][0];S!=null&&(y[S]=!0)}for(var E=0;E<k.length;E++){var I=[].concat(k[E]);_&&y[I[0]]||(v&&(I[2]?I[2]="".concat(v," and ").concat(I[2]):I[2]=v),f.push(I))}},f}},9372:h=>{function m(k,v){return function(_){if(Array.isArray(_))return _}(k)||function(_,y){var A=_&&(typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"]);if(A!=null){var S,E,I=[],T=!0,R=!1;try{for(A=A.call(_);!(T=(S=A.next()).done)&&(I.push(S.value),!y||I.length!==y);T=!0);}catch(O){R=!0,E=O}finally{try{T||A.return==null||A.return()}finally{if(R)throw E}}return I}}(k,v)||function(_,y){if(_){if(typeof _=="string")return f(_,y);var A=Object.prototype.toString.call(_).slice(8,-1);if(A==="Object"&&_.constructor&&(A=_.constructor.name),A==="Map"||A==="Set")return Array.from(_);if(A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return f(_,y)}}(k,v)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f(k,v){(v==null||v>k.length)&&(v=k.length);for(var _=0,y=new Array(v);_<v;_++)y[_]=k[_];return y}h.exports=function(k){var v=m(k,4),_=v[1],y=v[3];if(!y)return _;if(typeof btoa=="function"){var A=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),S="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(A),E="/*# ".concat(S," */"),I=y.sources.map(function(T){return"/*# sourceURL=".concat(y.sourceRoot||"").concat(T," */")});return[_].concat(I).concat([E]).join(`
`)}return[_].join(`
`)}},2591:(h,m,f)=>{var k,v=function(){return k===void 0&&(k=!!(window&&document&&document.all&&!window.atob)),k},_=function(){var P={};return function(z){if(P[z]===void 0){var q=document.querySelector(z);if(window.HTMLIFrameElement&&q instanceof window.HTMLIFrameElement)try{q=q.contentDocument.head}catch{q=null}P[z]=q}return P[z]}}(),y=[];function A(P){for(var z=-1,q=0;q<y.length;q++)if(y[q].identifier===P){z=q;break}return z}function S(P,z){for(var q={},K=[],Q=0;Q<P.length;Q++){var te=P[Q],X=z.base?te[0]+z.base:te[0],Z=q[X]||0,J="".concat(X," ").concat(Z);q[X]=Z+1;var ee=A(J),ne={css:te[1],media:te[2],sourceMap:te[3]};ee!==-1?(y[ee].references++,y[ee].updater(ne)):y.push({identifier:J,updater:H(ne,z),references:1}),K.push(J)}return K}function E(P){var z=document.createElement("style"),q=P.attributes||{};if(q.nonce===void 0){var K=f.nc;K&&(q.nonce=K)}if(Object.keys(q).forEach(function(te){z.setAttribute(te,q[te])}),typeof P.insert=="function")P.insert(z);else{var Q=_(P.insert||"head");if(!Q)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");Q.appendChild(z)}return z}var I,T=(I=[],function(P,z){return I[P]=z,I.filter(Boolean).join(`
`)});function R(P,z,q,K){var Q=q?"":K.media?"@media ".concat(K.media," {").concat(K.css,"}"):K.css;if(P.styleSheet)P.styleSheet.cssText=T(z,Q);else{var te=document.createTextNode(Q),X=P.childNodes;X[z]&&P.removeChild(X[z]),X.length?P.insertBefore(te,X[z]):P.appendChild(te)}}function O(P,z,q){var K=q.css,Q=q.media,te=q.sourceMap;if(Q?P.setAttribute("media",Q):P.removeAttribute("media"),te&&typeof btoa<"u"&&(K+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(te))))," */")),P.styleSheet)P.styleSheet.cssText=K;else{for(;P.firstChild;)P.removeChild(P.firstChild);P.appendChild(document.createTextNode(K))}}var j=null,$=0;function H(P,z){var q,K,Q;if(z.singleton){var te=$++;q=j||(j=E(z)),K=R.bind(null,q,te,!1),Q=R.bind(null,q,te,!0)}else q=E(z),K=O.bind(null,q,z),Q=function(){(function(X){if(X.parentNode===null)return!1;X.parentNode.removeChild(X)})(q)};return K(P),function(X){if(X){if(X.css===P.css&&X.media===P.media&&X.sourceMap===P.sourceMap)return;K(P=X)}else Q()}}h.exports=function(P,z){(z=z||{}).singleton||typeof z.singleton=="boolean"||(z.singleton=v());var q=S(P=P||[],z);return function(K){if(K=K||[],Object.prototype.toString.call(K)==="[object Array]"){for(var Q=0;Q<q.length;Q++){var te=A(q[Q]);y[te].references--}for(var X=S(K,z),Z=0;Z<q.length;Z++){var J=A(q[Z]);y[J].references===0&&(y[J].updater(),y.splice(J,1))}q=X}}}}},o={};function s(h){var m=o[h];if(m!==void 0)return m.exports;var f=o[h]={id:h,exports:{}};return r[h](f,f.exports,s),f.exports}s.n=h=>{var m=h&&h.__esModule?()=>h.default:()=>h;return s.d(m,{a:m}),m},s.d=(h,m)=>{for(var f in m)s.o(m,f)&&!s.o(h,f)&&Object.defineProperty(h,f,{enumerable:!0,get:m[f]})},s.o=(h,m)=>Object.prototype.hasOwnProperty.call(h,m),s.nc=void 0;var u={};return(()=>{let h;s.d(u,{default:()=>HA});try{h={window,document}}catch{h={window:{},document:{}}}const m=h,f=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var k;const v={isMac:_(f),isWindows:(k=f,k.indexOf("windows")>-1),isGecko:function(l){return!!l.match(/gecko\/\d+/)}(f),isSafari:function(l){return l.indexOf(" applewebkit/")>-1&&l.indexOf("chrome")===-1}(f),isiOS:function(l){return!!l.match(/iphone|ipad/i)||_(l)&&navigator.maxTouchPoints>0}(f),isAndroid:function(l){return l.indexOf("android")>-1}(f),isBlink:function(l){return l.indexOf("chrome/")>-1&&l.indexOf("edge/")<0}(f),get isMediaForcedColors(){return!!m.window.matchMedia&&m.window.matchMedia("(forced-colors: active)").matches},get isMotionReduced(){return!!m.window.matchMedia&&m.window.matchMedia("(prefers-reduced-motion)").matches},features:{isRegExpUnicodePropertySupported:function(){let l=!1;try{l="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return l}()}};function _(l){return l.indexOf("macintosh")>-1}function y(l,n,i,a){i=i||function(b,w){return b===w};const c=Array.isArray(l)?l:Array.prototype.slice.call(l),d=Array.isArray(n)?n:Array.prototype.slice.call(n),p=function(b,w,C){const x=A(b,w,C);if(x===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const D=S(b,x),N=S(w,x),B=A(D,N,C),F=b.length-B,U=w.length-B;return{firstIndex:x,lastIndexOld:F,lastIndexNew:U}}(c,d,i);return a?function(b,w){const{firstIndex:C,lastIndexOld:x,lastIndexNew:D}=b;if(C===-1)return Array(w).fill("equal");let N=[];return C>0&&(N=N.concat(Array(C).fill("equal"))),D-C>0&&(N=N.concat(Array(D-C).fill("insert"))),x-C>0&&(N=N.concat(Array(x-C).fill("delete"))),D<w&&(N=N.concat(Array(w-D).fill("equal"))),N}(p,d.length):function(b,w){const C=[],{firstIndex:x,lastIndexOld:D,lastIndexNew:N}=w;return N-x>0&&C.push({index:x,type:"insert",values:b.slice(x,N)}),D-x>0&&C.push({index:x+(N-x),type:"delete",howMany:D-x}),C}(d,p)}function A(l,n,i){for(let a=0;a<Math.max(l.length,n.length);a++)if(l[a]===void 0||n[a]===void 0||!i(l[a],n[a]))return a;return-1}function S(l,n){return l.slice(n).reverse()}function E(l,n,i){i=i||function(F,U){return F===U};const a=l.length,c=n.length;if(a>200||c>200||a+c>300)return E.fastDiff(l,n,i,!0);let d,p;if(c<a){const F=l;l=n,n=F,d="delete",p="insert"}else d="insert",p="delete";const g=l.length,b=n.length,w=b-g,C={},x={};function D(F){const U=(x[F-1]!==void 0?x[F-1]:-1)+1,W=x[F+1]!==void 0?x[F+1]:-1,Y=U>W?-1:1;C[F+Y]&&(C[F]=C[F+Y].slice(0)),C[F]||(C[F]=[]),C[F].push(U>W?d:p);let oe=Math.max(U,W),ue=oe-F;for(;ue<g&&oe<b&&i(l[ue],n[oe]);)ue++,oe++,C[F].push("equal");return oe}let N,B=0;do{for(N=-B;N<w;N++)x[N]=D(N);for(N=w+B;N>w;N--)x[N]=D(N);x[w]=D(w),B++}while(x[w]!==b);return C[w].slice(1)}E.fastDiff=y;const I=function(){return function l(){l.called=!0}};class T{constructor(n,i){this.source=n,this.name=i,this.path=[],this.stop=I(),this.off=I()}}const R=new Array(256).fill("").map((l,n)=>("0"+n.toString(16)).slice(-2));function O(){const l=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,a=4294967296*Math.random()>>>0;return"e"+R[255&l]+R[l>>8&255]+R[l>>16&255]+R[l>>24&255]+R[255&n]+R[n>>8&255]+R[n>>16&255]+R[n>>24&255]+R[255&i]+R[i>>8&255]+R[i>>16&255]+R[i>>24&255]+R[255&a]+R[a>>8&255]+R[a>>16&255]+R[a>>24&255]}const j={get(l="normal"){return typeof l!="number"?this[l]||this.normal:l},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function $(l,n){const i=j.get(n.priority);for(let a=0;a<l.length;a++)if(j.get(l[a].priority)<i)return void l.splice(a,0,n);l.push(n)}const H="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class P extends Error{constructor(n,i,a){super(function(c,d){const p=new WeakSet,g=(C,x)=>{if(typeof x=="object"&&x!==null){if(p.has(x))return`[object ${x.constructor.name}]`;p.add(x)}return x},b=d?` ${JSON.stringify(d,g)}`:"",w=K(c);return c+b+w}(n,a)),this.name="CKEditorError",this.context=i,this.data=a}is(n){return n==="CKEditorError"}static rethrowUnexpectedError(n,i){if(n.is&&n.is("CKEditorError"))throw n;const a=new P(n.message,i);throw a.stack=n.stack,a}}function z(l,n){console.warn(...Q(l,n))}function q(l,n){console.error(...Q(l,n))}function K(l){return`
Read more: ${H}#error-${l}`}function Q(l,n){const i=K(l);return n?[l,n,i]:[l,i]}const te="41.4.2",X=new Date(2024,4,17);if(globalThis.CKEDITOR_VERSION)throw new P("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=te;const Z=Symbol("listeningTo"),J=Symbol("emitterId"),ee=Symbol("delegations"),ne=G(Object);function G(l){return l?class extends l{on(n,i,a){this.listenTo(this,n,i,a)}once(n,i,a){let c=!1;this.listenTo(this,n,(d,...p)=>{c||(c=!0,d.off(),i.call(this,d,...p))},a)}off(n,i){this.stopListening(this,n,i)}listenTo(n,i,a,c={}){let d,p;this[Z]||(this[Z]={});const g=this[Z];de(n)||re(n);const b=de(n);(d=g[b])||(d=g[b]={emitter:n,callbacks:{}}),(p=d.callbacks[i])||(p=d.callbacks[i]=[]),p.push(a),function(w,C,x,D,N){C._addEventListener?C._addEventListener(x,D,N):w._addEventListener.call(C,x,D,N)}(this,n,i,a,c)}stopListening(n,i,a){const c=this[Z];let d=n&&de(n);const p=c&&d?c[d]:void 0,g=p&&i?p.callbacks[i]:void 0;if(!(!c||n&&!p||i&&!g))if(a)Xe(this,n,i,a),g.indexOf(a)!==-1&&(g.length===1?delete p.callbacks[i]:Xe(this,n,i,a));else if(g){for(;a=g.pop();)Xe(this,n,i,a);delete p.callbacks[i]}else if(p){for(i in p.callbacks)this.stopListening(n,i);delete c[d]}else{for(d in c)this.stopListening(c[d].emitter);delete this[Z]}}fire(n,...i){try{const a=n instanceof T?n:new T(this,n),c=a.name;let d=Je(this,c);if(a.path.push(this),d){const g=[a,...i];d=Array.from(d);for(let b=0;b<d.length&&(d[b].callback.apply(this,g),a.off.called&&(delete a.off.called,this._removeEventListener(c,d[b].callback)),!a.stop.called);b++);}const p=this[ee];if(p){const g=p.get(c),b=p.get("*");g&&Fe(g,a,i),b&&Fe(b,a,i)}return a.return}catch(a){P.rethrowUnexpectedError(a,this)}}delegate(...n){return{to:(i,a)=>{this[ee]||(this[ee]=new Map),n.forEach(c=>{const d=this[ee].get(c);d?d.set(i,a):this[ee].set(c,new Map([[i,a]]))})}}}stopDelegating(n,i){if(this[ee])if(n)if(i){const a=this[ee].get(n);a&&a.delete(i)}else this[ee].delete(n);else this[ee].clear()}_addEventListener(n,i,a){(function(p,g){const b=Ae(p);if(b[g])return;let w=g,C=null;const x=[];for(;w!==""&&!b[w];)b[w]={callbacks:[],childEvents:[]},x.push(b[w]),C&&b[w].childEvents.push(C),C=w,w=w.substr(0,w.lastIndexOf(":"));if(w!==""){for(const D of x)D.callbacks=b[w].callbacks.slice();b[w].childEvents.push(C)}})(this,n);const c=Me(this,n),d={callback:i,priority:j.get(a.priority)};for(const p of c)$(p,d)}_removeEventListener(n,i){const a=Me(this,n);for(const c of a)for(let d=0;d<c.length;d++)c[d].callback==i&&(c.splice(d,1),d--)}}:ne}function re(l,n){l[J]||(l[J]=n||O())}function de(l){return l[J]}function Ae(l){return l._events||Object.defineProperty(l,"_events",{value:{}}),l._events}function Me(l,n){const i=Ae(l)[n];if(!i)return[];let a=[i.callbacks];for(let c=0;c<i.childEvents.length;c++){const d=Me(l,i.childEvents[c]);a=a.concat(d)}return a}function Je(l,n){let i;return l._events&&(i=l._events[n])&&i.callbacks.length?i.callbacks:n.indexOf(":")>-1?Je(l,n.substr(0,n.lastIndexOf(":"))):null}function Fe(l,n,i){for(let[a,c]of l){c?typeof c=="function"&&(c=c(n.name)):c=n.name;const d=new T(n.source,c);d.path=[...n.path],a.fire(d,...i)}}function Xe(l,n,i,a){n._removeEventListener?n._removeEventListener(i,a):l._removeEventListener.call(n,i,a)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(l=>{G[l]=ne.prototype[l]});const Se=function(l){var n=typeof l;return l!=null&&(n=="object"||n=="function")},ct=Symbol("observableProperties"),pt=Symbol("boundObservables"),ut=Symbol("boundProperties"),yt=Symbol("decoratedMethods"),tt=Symbol("decoratedOriginal"),Re=be(G());function be(l){return l?class extends l{set(n,i){if(Se(n))return void Object.keys(n).forEach(c=>{this.set(c,n[c])},this);Te(this);const a=this[ct];if(n in this&&!a.has(n))throw new P("observable-set-cannot-override",this);Object.defineProperty(this,n,{enumerable:!0,configurable:!0,get:()=>a.get(n),set(c){const d=a.get(n);let p=this.fire(`set:${n}`,n,c,d);p===void 0&&(p=c),d===p&&a.has(n)||(a.set(n,p),this.fire(`change:${n}`,n,p,d))}}),this[n]=i}bind(...n){if(!n.length||!Dt(n))throw new P("observable-bind-wrong-properties",this);if(new Set(n).size!==n.length)throw new P("observable-bind-duplicate-properties",this);Te(this);const i=this[ut];n.forEach(c=>{if(i.has(c))throw new P("observable-bind-rebind",this)});const a=new Map;return n.forEach(c=>{const d={property:c,to:[]};i.set(c,d),a.set(c,d)}),{to:Ye,toMany:Xt,_observable:this,_bindProperties:n,_to:[],_bindings:a}}unbind(...n){if(!this[ct])return;const i=this[ut],a=this[pt];if(n.length){if(!Dt(n))throw new P("observable-unbind-wrong-properties",this);n.forEach(c=>{const d=i.get(c);d&&(d.to.forEach(([p,g])=>{const b=a.get(p),w=b[g];w.delete(d),w.size||delete b[g],Object.keys(b).length||(a.delete(p),this.stopListening(p,"change"))}),i.delete(c))})}else a.forEach((c,d)=>{this.stopListening(d,"change")}),a.clear(),i.clear()}decorate(n){Te(this);const i=this[n];if(!i)throw new P("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:n});this.on(n,(a,c)=>{a.return=i.apply(this,c)}),this[n]=function(...a){return this.fire(n,a)},this[n][tt]=i,this[yt]||(this[yt]=[]),this[yt].push(n)}stopListening(n,i,a){if(!n&&this[yt]){for(const c of this[yt])this[c]=this[c][tt];delete this[yt]}super.stopListening(n,i,a)}}:Re}function Te(l){l[ct]||(Object.defineProperty(l,ct,{value:new Map}),Object.defineProperty(l,pt,{value:new Map}),Object.defineProperty(l,ut,{value:new Map}))}function Ye(...l){const n=function(...d){if(!d.length)throw new P("observable-bind-to-parse-error",null);const p={to:[]};let g;return typeof d[d.length-1]=="function"&&(p.callback=d.pop()),d.forEach(b=>{if(typeof b=="string")g.properties.push(b);else{if(typeof b!="object")throw new P("observable-bind-to-parse-error",null);g={observable:b,properties:[]},p.to.push(g)}}),p}(...l),i=Array.from(this._bindings.keys()),a=i.length;if(!n.callback&&n.to.length>1)throw new P("observable-bind-to-no-callback",this);if(a>1&&n.callback)throw new P("observable-bind-to-extra-callback",this);var c;n.to.forEach(d=>{if(d.properties.length&&d.properties.length!==a)throw new P("observable-bind-to-properties-length",this);d.properties.length||(d.properties=this._bindProperties)}),this._to=n.to,n.callback&&(this._bindings.get(i[0]).callback=n.callback),c=this._observable,this._to.forEach(d=>{const p=c[pt];let g;p.get(d.observable)||c.listenTo(d.observable,"change",(b,w)=>{g=p.get(d.observable)[w],g&&g.forEach(C=>{bt(c,C.property)})})}),function(d){let p;d._bindings.forEach((g,b)=>{d._to.forEach(w=>{p=w.properties[g.callback?0:d._bindProperties.indexOf(b)],g.to.push([w.observable,p]),function(C,x,D,N){const B=C[pt],F=B.get(D),U=F||{};U[N]||(U[N]=new Set),U[N].add(x),F||B.set(D,U)}(d._observable,g,w.observable,p)})})}(this),this._bindProperties.forEach(d=>{bt(this._observable,d)})}function Xt(l,n,i){if(this._bindings.size>1)throw new P("observable-bind-to-many-not-one-binding",this);this.to(...function(a,c){const d=a.map(p=>[p,c]);return Array.prototype.concat.apply([],d)}(l,n),i)}function Dt(l){return l.every(n=>typeof n=="string")}function bt(l,n){const i=l[ut].get(n);let a;i.callback?a=i.callback.apply(l,i.to.map(c=>c[0][c[1]])):(a=i.to[0],a=a[0][a[1]]),Object.prototype.hasOwnProperty.call(l,n)?l[n]=a:l.set(n,a)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(l=>{be[l]=Re.prototype[l]});class Ot{constructor(){this._replacedElements=[]}replace(n,i){this._replacedElements.push({element:n,newElement:i}),n.style.display="none",i&&n.parentNode.insertBefore(i,n.nextSibling)}restore(){this._replacedElements.forEach(({element:n,newElement:i})=>{n.style.display="",i&&i.remove()}),this._replacedElements=[]}}function nt(l){let n=0;for(const i of l)n++;return n}function se(l,n){const i=Math.min(l.length,n.length);for(let a=0;a<i;a++)if(l[a]!=n[a])return a;return l.length==n.length?"same":l.length<n.length?"prefix":"extension"}function ae(l){return!(!l||!l[Symbol.iterator])}const ce=typeof xk=="object"&&xk&&xk.Object===Object&&xk;var fe=typeof self=="object"&&self&&self.Object===Object&&self;const Pe=ce||fe||Function("return this")(),ht=Pe.Symbol;var cr=Object.prototype,Tt=cr.hasOwnProperty,Qe=cr.toString,cn=ht?ht.toStringTag:void 0;const Si=function(l){var n=Tt.call(l,cn),i=l[cn];try{l[cn]=void 0;var a=!0}catch{}var c=Qe.call(l);return a&&(n?l[cn]=i:delete l[cn]),c};var Ao=Object.prototype.toString;const Ve=function(l){return Ao.call(l)};var jt=ht?ht.toStringTag:void 0;const Ft=function(l){return l==null?l===void 0?"[object Undefined]":"[object Null]":jt&&jt in Object(l)?Si(l):Ve(l)},un=Array.isArray,tr=function(l){return l!=null&&typeof l=="object"},Zh=function(l){return typeof l=="string"||!un(l)&&tr(l)&&Ft(l)=="[object String]"};function oo(l,n,i={},a=[]){const c=i&&i.xmlns,d=c?l.createElementNS(c,n):l.createElement(n);for(const p in i)d.setAttribute(p,i[p]);!Zh(a)&&ae(a)||(a=[a]);for(let p of a)Zh(p)&&(p=l.createTextNode(p)),d.appendChild(p);return d}const Zg=function(l,n){return function(i){return l(n(i))}},Jh=Zg(Object.getPrototypeOf,Object);var Jg=Function.prototype,Xg=Object.prototype,Xh=Jg.toString,eb=Xg.hasOwnProperty,M_=Xh.call(Object);const qr=function(l){if(!tr(l)||Ft(l)!="[object Object]")return!1;var n=Jh(l);if(n===null)return!0;var i=eb.call(n,"constructor")&&n.constructor;return typeof i=="function"&&i instanceof i&&Xh.call(i)==M_},P_=function(){this.__data__=[],this.size=0},Os=function(l,n){return l===n||l!=l&&n!=n},yu=function(l,n){for(var i=l.length;i--;)if(Os(l[i][0],n))return i;return-1};var Fl=Array.prototype.splice;const ep=function(l){var n=this.__data__,i=yu(n,l);return!(i<0)&&(i==n.length-1?n.pop():Fl.call(n,i,1),--this.size,!0)},xo=function(l){var n=this.__data__,i=yu(n,l);return i<0?void 0:n[i][1]},zl=function(l){return yu(this.__data__,l)>-1},N_=function(l,n){var i=this.__data__,a=yu(i,l);return a<0?(++this.size,i.push([l,n])):i[a][1]=n,this};function Xo(l){var n=-1,i=l==null?0:l.length;for(this.clear();++n<i;){var a=l[n];this.set(a[0],a[1])}}Xo.prototype.clear=P_,Xo.prototype.delete=ep,Xo.prototype.get=xo,Xo.prototype.has=zl,Xo.prototype.set=N_;const Ea=Xo,tb=function(){this.__data__=new Ea,this.size=0},nb=function(l){var n=this.__data__,i=n.delete(l);return this.size=n.size,i},rb=function(l){return this.__data__.get(l)},ob=function(l){return this.__data__.has(l)},Bs=function(l){if(!Se(l))return!1;var n=Ft(l);return n=="[object Function]"||n=="[object GeneratorFunction]"||n=="[object AsyncFunction]"||n=="[object Proxy]"},tp=Pe["__core-js_shared__"];var ib=function(){var l=/[^.]+$/.exec(tp&&tp.keys&&tp.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}();const R_=function(l){return!!ib&&ib in l};var mt=Function.prototype.toString;const jn=function(l){if(l!=null){try{return mt.call(l)}catch{}try{return l+""}catch{}}return""};var HG=/^\[object .+?Constructor\]$/,WG=Function.prototype,qG=Object.prototype,GG=WG.toString,KG=qG.hasOwnProperty,YG=RegExp("^"+GG.call(KG).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const QG=function(l){return!(!Se(l)||R_(l))&&(Bs(l)?YG:HG).test(jn(l))},ZG=function(l,n){return l==null?void 0:l[n]},$l=function(l,n){var i=ZG(l,n);return QG(i)?i:void 0},np=$l(Pe,"Map"),rp=$l(Object,"create"),JG=function(){this.__data__=rp?rp(null):{},this.size=0},XG=function(l){var n=this.has(l)&&delete this.__data__[l];return this.size-=n?1:0,n};var eK=Object.prototype.hasOwnProperty;const tK=function(l){var n=this.__data__;if(rp){var i=n[l];return i==="__lodash_hash_undefined__"?void 0:i}return eK.call(n,l)?n[l]:void 0};var nK=Object.prototype.hasOwnProperty;const rK=function(l){var n=this.__data__;return rp?n[l]!==void 0:nK.call(n,l)},oK=function(l,n){var i=this.__data__;return this.size+=this.has(l)?0:1,i[l]=rp&&n===void 0?"__lodash_hash_undefined__":n,this};function _u(l){var n=-1,i=l==null?0:l.length;for(this.clear();++n<i;){var a=l[n];this.set(a[0],a[1])}}_u.prototype.clear=JG,_u.prototype.delete=XG,_u.prototype.get=tK,_u.prototype.has=rK,_u.prototype.set=oK;const kI=_u,iK=function(){this.size=0,this.__data__={hash:new kI,map:new(np||Ea),string:new kI}},sK=function(l){var n=typeof l;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?l!=="__proto__":l===null},sb=function(l,n){var i=l.__data__;return sK(n)?i[typeof n=="string"?"string":"hash"]:i.map},aK=function(l){var n=sb(this,l).delete(l);return this.size-=n?1:0,n},lK=function(l){return sb(this,l).get(l)},cK=function(l){return sb(this,l).has(l)},uK=function(l,n){var i=sb(this,l),a=i.size;return i.set(l,n),this.size+=i.size==a?0:1,this};function Cu(l){var n=-1,i=l==null?0:l.length;for(this.clear();++n<i;){var a=l[n];this.set(a[0],a[1])}}Cu.prototype.clear=iK,Cu.prototype.delete=aK,Cu.prototype.get=lK,Cu.prototype.has=cK,Cu.prototype.set=uK;const ab=Cu,dK=function(l,n){var i=this.__data__;if(i instanceof Ea){var a=i.__data__;if(!np||a.length<199)return a.push([l,n]),this.size=++i.size,this;i=this.__data__=new ab(a)}return i.set(l,n),this.size=i.size,this};function Au(l){var n=this.__data__=new Ea(l);this.size=n.size}Au.prototype.clear=tb,Au.prototype.delete=nb,Au.prototype.get=rb,Au.prototype.has=ob,Au.prototype.set=dK;const xu=Au,hK=function(l,n){for(var i=-1,a=l==null?0:l.length;++i<a&&n(l[i],i,l)!==!1;);return l},lb=function(){try{var l=$l(Object,"defineProperty");return l({},"",{}),l}catch{}}(),cb=function(l,n,i){n=="__proto__"&&lb?lb(l,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):l[n]=i};var pK=Object.prototype.hasOwnProperty;const O_=function(l,n,i){var a=l[n];pK.call(l,n)&&Os(a,i)&&(i!==void 0||n in l)||cb(l,n,i)},Eu=function(l,n,i,a){var c=!i;i||(i={});for(var d=-1,p=n.length;++d<p;){var g=n[d],b=void 0;b===void 0&&(b=l[g]),c?cb(i,g,b):O_(i,g,b)}return i},fK=function(l,n){for(var i=-1,a=Array(l);++i<l;)a[i]=n(i);return a},vI=function(l){return tr(l)&&Ft(l)=="[object Arguments]"};var wI=Object.prototype,mK=wI.hasOwnProperty,gK=wI.propertyIsEnumerable;const ub=vI(function(){return arguments}())?vI:function(l){return tr(l)&&mK.call(l,"callee")&&!gK.call(l,"callee")},bK=function(){return!1};var yI=t&&!t.nodeType&&t,_I=yI&&!0&&e&&!e.nodeType&&e,CI=_I&&_I.exports===yI?Pe.Buffer:void 0;const op=(CI?CI.isBuffer:void 0)||bK;var kK=/^(?:0|[1-9]\d*)$/;const db=function(l,n){var i=typeof l;return!!(n=n??9007199254740991)&&(i=="number"||i!="symbol"&&kK.test(l))&&l>-1&&l%1==0&&l<n},B_=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991};var dn={};dn["[object Float32Array]"]=dn["[object Float64Array]"]=dn["[object Int8Array]"]=dn["[object Int16Array]"]=dn["[object Int32Array]"]=dn["[object Uint8Array]"]=dn["[object Uint8ClampedArray]"]=dn["[object Uint16Array]"]=dn["[object Uint32Array]"]=!0,dn["[object Arguments]"]=dn["[object Array]"]=dn["[object ArrayBuffer]"]=dn["[object Boolean]"]=dn["[object DataView]"]=dn["[object Date]"]=dn["[object Error]"]=dn["[object Function]"]=dn["[object Map]"]=dn["[object Number]"]=dn["[object Object]"]=dn["[object RegExp]"]=dn["[object Set]"]=dn["[object String]"]=dn["[object WeakMap]"]=!1;const vK=function(l){return tr(l)&&B_(l.length)&&!!dn[Ft(l)]},L_=function(l){return function(n){return l(n)}};var AI=t&&!t.nodeType&&t,ip=AI&&!0&&e&&!e.nodeType&&e,j_=ip&&ip.exports===AI&&ce.process;const Su=function(){try{var l=ip&&ip.require&&ip.require("util").types;return l||j_&&j_.binding&&j_.binding("util")}catch{}}();var xI=Su&&Su.isTypedArray;const F_=xI?L_(xI):vK;var wK=Object.prototype.hasOwnProperty;const EI=function(l,n){var i=un(l),a=!i&&ub(l),c=!i&&!a&&op(l),d=!i&&!a&&!c&&F_(l),p=i||a||c||d,g=p?fK(l.length,String):[],b=g.length;for(var w in l)!n&&!wK.call(l,w)||p&&(w=="length"||c&&(w=="offset"||w=="parent")||d&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||db(w,b))||g.push(w);return g};var yK=Object.prototype;const z_=function(l){var n=l&&l.constructor;return l===(typeof n=="function"&&n.prototype||yK)},_K=Zg(Object.keys,Object);var CK=Object.prototype.hasOwnProperty;const AK=function(l){if(!z_(l))return _K(l);var n=[];for(var i in Object(l))CK.call(l,i)&&i!="constructor"&&n.push(i);return n},hb=function(l){return l!=null&&B_(l.length)&&!Bs(l)},sp=function(l){return hb(l)?EI(l):AK(l)},xK=function(l,n){return l&&Eu(n,sp(n),l)},EK=function(l){var n=[];if(l!=null)for(var i in Object(l))n.push(i);return n};var SK=Object.prototype.hasOwnProperty;const DK=function(l){if(!Se(l))return EK(l);var n=z_(l),i=[];for(var a in l)(a!="constructor"||!n&&SK.call(l,a))&&i.push(a);return i},Du=function(l){return hb(l)?EI(l,!0):DK(l)},TK=function(l,n){return l&&Eu(n,Du(n),l)};var SI=t&&!t.nodeType&&t,DI=SI&&!0&&e&&!e.nodeType&&e,TI=DI&&DI.exports===SI?Pe.Buffer:void 0,II=TI?TI.allocUnsafe:void 0;const MI=function(l,n){if(n)return l.slice();var i=l.length,a=II?II(i):new l.constructor(i);return l.copy(a),a},PI=function(l,n){var i=-1,a=l.length;for(n||(n=Array(a));++i<a;)n[i]=l[i];return n},IK=function(l,n){for(var i=-1,a=l==null?0:l.length,c=0,d=[];++i<a;){var p=l[i];n(p,i,l)&&(d[c++]=p)}return d},NI=function(){return[]};var MK=Object.prototype.propertyIsEnumerable,RI=Object.getOwnPropertySymbols;const $_=RI?function(l){return l==null?[]:(l=Object(l),IK(RI(l),function(n){return MK.call(l,n)}))}:NI,PK=function(l,n){return Eu(l,$_(l),n)},OI=function(l,n){for(var i=-1,a=n.length,c=l.length;++i<a;)l[c+i]=n[i];return l},BI=Object.getOwnPropertySymbols?function(l){for(var n=[];l;)OI(n,$_(l)),l=Jh(l);return n}:NI,NK=function(l,n){return Eu(l,BI(l),n)},LI=function(l,n,i){var a=n(l);return un(l)?a:OI(a,i(l))},V_=function(l){return LI(l,sp,$_)},RK=function(l){return LI(l,Du,BI)},U_=$l(Pe,"DataView"),H_=$l(Pe,"Promise"),W_=$l(Pe,"Set"),q_=$l(Pe,"WeakMap");var jI="[object Map]",FI="[object Promise]",zI="[object Set]",$I="[object WeakMap]",VI="[object DataView]",OK=jn(U_),BK=jn(np),LK=jn(H_),jK=jn(W_),FK=jn(q_),Vl=Ft;(U_&&Vl(new U_(new ArrayBuffer(1)))!=VI||np&&Vl(new np)!=jI||H_&&Vl(H_.resolve())!=FI||W_&&Vl(new W_)!=zI||q_&&Vl(new q_)!=$I)&&(Vl=function(l){var n=Ft(l),i=n=="[object Object]"?l.constructor:void 0,a=i?jn(i):"";if(a)switch(a){case OK:return VI;case BK:return jI;case LK:return FI;case jK:return zI;case FK:return $I}return n});const ap=Vl;var zK=Object.prototype.hasOwnProperty;const $K=function(l){var n=l.length,i=new l.constructor(n);return n&&typeof l[0]=="string"&&zK.call(l,"index")&&(i.index=l.index,i.input=l.input),i},pb=Pe.Uint8Array,G_=function(l){var n=new l.constructor(l.byteLength);return new pb(n).set(new pb(l)),n},VK=function(l,n){var i=n?G_(l.buffer):l.buffer;return new l.constructor(i,l.byteOffset,l.byteLength)};var UK=/\w*$/;const HK=function(l){var n=new l.constructor(l.source,UK.exec(l));return n.lastIndex=l.lastIndex,n};var UI=ht?ht.prototype:void 0,HI=UI?UI.valueOf:void 0;const WK=function(l){return HI?Object(HI.call(l)):{}},WI=function(l,n){var i=n?G_(l.buffer):l.buffer;return new l.constructor(i,l.byteOffset,l.length)},qK=function(l,n,i){var a=l.constructor;switch(n){case"[object ArrayBuffer]":return G_(l);case"[object Boolean]":case"[object Date]":return new a(+l);case"[object DataView]":return VK(l,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return WI(l,i);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(l);case"[object RegExp]":return HK(l);case"[object Symbol]":return WK(l)}};var qI=Object.create;const GK=function(){function l(){}return function(n){if(!Se(n))return{};if(qI)return qI(n);l.prototype=n;var i=new l;return l.prototype=void 0,i}}(),GI=function(l){return typeof l.constructor!="function"||z_(l)?{}:GK(Jh(l))},KK=function(l){return tr(l)&&ap(l)=="[object Map]"};var KI=Su&&Su.isMap;const YK=KI?L_(KI):KK,QK=function(l){return tr(l)&&ap(l)=="[object Set]"};var YI=Su&&Su.isSet;const ZK=YI?L_(YI):QK;var QI="[object Arguments]",ZI="[object Function]",JI="[object Object]",sn={};sn[QI]=sn["[object Array]"]=sn["[object ArrayBuffer]"]=sn["[object DataView]"]=sn["[object Boolean]"]=sn["[object Date]"]=sn["[object Float32Array]"]=sn["[object Float64Array]"]=sn["[object Int8Array]"]=sn["[object Int16Array]"]=sn["[object Int32Array]"]=sn["[object Map]"]=sn["[object Number]"]=sn[JI]=sn["[object RegExp]"]=sn["[object Set]"]=sn["[object String]"]=sn["[object Symbol]"]=sn["[object Uint8Array]"]=sn["[object Uint8ClampedArray]"]=sn["[object Uint16Array]"]=sn["[object Uint32Array]"]=!0,sn["[object Error]"]=sn[ZI]=sn["[object WeakMap]"]=!1;const K_=function l(n,i,a,c,d,p){var g,b=1&i,w=2&i,C=4&i;if(a&&(g=d?a(n,c,d,p):a(n)),g!==void 0)return g;if(!Se(n))return n;var x=un(n);if(x){if(g=$K(n),!b)return PI(n,g)}else{var D=ap(n),N=D==ZI||D=="[object GeneratorFunction]";if(op(n))return MI(n,b);if(D==JI||D==QI||N&&!d){if(g=w||N?{}:GI(n),!b)return w?NK(n,TK(g,n)):PK(n,xK(g,n))}else{if(!sn[D])return d?n:{};g=qK(n,D,b)}}p||(p=new xu);var B=p.get(n);if(B)return B;p.set(n,g),ZK(n)?n.forEach(function(U){g.add(l(U,i,a,U,n,p))}):YK(n)&&n.forEach(function(U,W){g.set(W,l(U,i,a,W,n,p))});var F=x?void 0:(C?w?RK:V_:w?Du:sp)(n);return hK(F||n,function(U,W){F&&(U=n[W=U]),O_(g,W,l(U,i,a,W,n,p))}),g},Y_=function(l,n){return K_(l,5,n=typeof n=="function"?n:void 0)},Ul=function(l){return tr(l)&&l.nodeType===1&&!qr(l)};class XI{constructor(n,i){this._config={},i&&this.define(eM(i)),n&&this._setObjectToTarget(this._config,n)}set(n,i){this._setToTarget(this._config,n,i)}define(n,i){this._setToTarget(this._config,n,i,!0)}get(n){return this._getFromSource(this._config,n)}*names(){for(const n of Object.keys(this._config))yield n}_setToTarget(n,i,a,c=!1){if(qr(i))return void this._setObjectToTarget(n,i,c);const d=i.split(".");i=d.pop();for(const p of d)qr(n[p])||(n[p]={}),n=n[p];if(qr(a))return qr(n[i])||(n[i]={}),n=n[i],void this._setObjectToTarget(n,a,c);c&&n[i]!==void 0||(n[i]=a)}_getFromSource(n,i){const a=i.split(".");i=a.pop();for(const c of a){if(!qr(n[c])){n=null;break}n=n[c]}return n?eM(n[i]):void 0}_setObjectToTarget(n,i,a){Object.keys(i).forEach(c=>{this._setToTarget(n,c,i[c],a)})}}function eM(l){return Y_(l,JK)}function JK(l){return Ul(l)||typeof l=="function"?l:void 0}function Sa(l){if(l){if(l.defaultView)return l instanceof l.defaultView.Document;if(l.ownerDocument&&l.ownerDocument.defaultView)return l instanceof l.ownerDocument.defaultView.Node}return!1}function fb(l){const n=Object.prototype.toString.apply(l);return n=="[object Window]"||n=="[object global]"}const tM=ei(G());function ei(l){return l?class extends l{listenTo(n,i,a,c={}){if(Sa(n)||fb(n)){const d={capture:!!c.useCapture,passive:!!c.usePassive},p=this._getProxyEmitter(n,d)||new XK(n,d);this.listenTo(p,i,a,c)}else super.listenTo(n,i,a,c)}stopListening(n,i,a){if(Sa(n)||fb(n)){const c=this._getAllProxyEmitters(n);for(const d of c)this.stopListening(d,i,a)}else super.stopListening(n,i,a)}_getProxyEmitter(n,i){return function(a,c){const d=a[Z];return d&&d[c]?d[c].emitter:null}(this,nM(n,i))}_getAllProxyEmitters(n){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(i=>this._getProxyEmitter(n,i)).filter(i=>!!i)}}:tM}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(l=>{ei[l]=tM.prototype[l]});class XK extends G(){constructor(n,i){super(),re(this,nM(n,i)),this._domNode=n,this._options=i}attach(n){if(this._domListeners&&this._domListeners[n])return;const i=this._createDomListener(n);this._domNode.addEventListener(n,i,this._options),this._domListeners||(this._domListeners={}),this._domListeners[n]=i}detach(n){let i;!this._domListeners[n]||(i=this._events[n])&&i.callbacks.length||this._domListeners[n].removeListener()}_addEventListener(n,i,a){this.attach(n),G().prototype._addEventListener.call(this,n,i,a)}_removeEventListener(n,i){G().prototype._removeEventListener.call(this,n,i),this.detach(n)}_createDomListener(n){const i=a=>{this.fire(n,a)};return i.removeListener=()=>{this._domNode.removeEventListener(n,i,this._options),delete this._domListeners[n]},i}}function nM(l,n){let i=function(a){return a["data-ck-expando"]||(a["data-ck-expando"]=O())}(l);for(const a of Object.keys(n).sort())n[a]&&(i+="-"+a);return i}function rM(l){const n=l.ownerDocument.defaultView.getComputedStyle(l);return{top:parseInt(n.borderTopWidth,10),right:parseInt(n.borderRightWidth,10),bottom:parseInt(n.borderBottomWidth,10),left:parseInt(n.borderLeftWidth,10)}}function Fn(l){return Object.prototype.toString.call(l)=="[object Text]"}function mb(l){return Object.prototype.toString.apply(l)=="[object Range]"}function oM(l){return l&&l.parentNode?l.offsetParent===m.document.body?null:l.offsetParent:null}const iM=["top","right","bottom","left","width","height"];class kt{constructor(n){const i=mb(n);if(Object.defineProperty(this,"_source",{value:n._source||n,writable:!0,enumerable:!1}),Q_(n)||i)if(i){const a=kt.getDomRangeRects(n);gb(this,kt.getBoundingRect(a))}else gb(this,n.getBoundingClientRect());else if(fb(n)){const{innerWidth:a,innerHeight:c}=n;gb(this,{top:0,right:a,bottom:c,left:0,width:a,height:c})}else gb(this,n)}clone(){return new kt(this)}moveTo(n,i){return this.top=i,this.right=n+this.width,this.bottom=i+this.height,this.left=n,this}moveBy(n,i){return this.top+=i,this.right+=n,this.left+=n,this.bottom+=i,this}getIntersection(n){const i={top:Math.max(this.top,n.top),right:Math.min(this.right,n.right),bottom:Math.min(this.bottom,n.bottom),left:Math.max(this.left,n.left),width:0,height:0};if(i.width=i.right-i.left,i.height=i.bottom-i.top,i.width<0||i.height<0)return null;{const a=new kt(i);return a._source=this._source,a}}getIntersectionArea(n){const i=this.getIntersection(n);return i?i.getArea():0}getArea(){return this.width*this.height}getVisible(){const n=this._source;let i=this.clone();if(sM(n))return i;let a,c=n,d=n.parentNode||n.commonAncestorContainer;for(;d&&!sM(d);){const g=((p=d)instanceof HTMLElement?p.ownerDocument.defaultView.getComputedStyle(p).overflow:"visible")==="visible";c instanceof HTMLElement&&aM(c)==="absolute"&&(a=c);const b=aM(d);if(g||a&&(b==="relative"&&g||b!=="relative")){c=d,d=d.parentNode;continue}const w=new kt(d),C=i.getIntersection(w);if(!C)return null;C.getArea()<i.getArea()&&(i=C),c=d,d=d.parentNode}var p;return i}isEqual(n){for(const i of iM)if(this[i]!==n[i])return!1;return!0}contains(n){const i=this.getIntersection(n);return!(!i||!i.isEqual(n))}toAbsoluteRect(){const{scrollX:n,scrollY:i}=m.window,a=this.clone().moveBy(n,i);if(Q_(a._source)){const c=oM(a._source);c&&function(d,p){const g=new kt(p),b=rM(p);let w=0,C=0;w-=g.left,C-=g.top,w+=p.scrollLeft,C+=p.scrollTop,w-=b.left,C-=b.top,d.moveBy(w,C)}(a,c)}return a}excludeScrollbarsAndBorders(){const n=this._source;let i,a,c;if(fb(n))i=n.innerWidth-n.document.documentElement.clientWidth,a=n.innerHeight-n.document.documentElement.clientHeight,c=n.getComputedStyle(n.document.documentElement).direction;else{const d=rM(n);i=n.offsetWidth-n.clientWidth-d.left-d.right,a=n.offsetHeight-n.clientHeight-d.top-d.bottom,c=n.ownerDocument.defaultView.getComputedStyle(n).direction,this.left+=d.left,this.top+=d.top,this.right-=d.right,this.bottom-=d.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=i,c==="ltr"?this.right-=i:this.left+=i,this.height-=a,this.bottom-=a,this}static getDomRangeRects(n){const i=[],a=Array.from(n.getClientRects());if(a.length)for(const c of a)i.push(new kt(c));else{let c=n.startContainer;Fn(c)&&(c=c.parentNode);const d=new kt(c.getBoundingClientRect());d.right=d.left,d.width=0,i.push(d)}return i}static getBoundingRect(n){const i={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let a=0;for(const c of n)a++,i.left=Math.min(i.left,c.left),i.top=Math.min(i.top,c.top),i.right=Math.max(i.right,c.right),i.bottom=Math.max(i.bottom,c.bottom);return a==0?null:(i.width=i.right-i.left,i.height=i.bottom-i.top,new kt(i))}}function gb(l,n){for(const i of iM)l[i]=n[i]}function sM(l){return!!Q_(l)&&l===l.ownerDocument.body}function Q_(l){return l!==null&&typeof l=="object"&&l.nodeType===1&&typeof l.getBoundingClientRect=="function"}function aM(l){return l instanceof HTMLElement?l.ownerDocument.defaultView.getComputedStyle(l).position:"static"}const zn=class{constructor(l,n){zn._observerInstance||zn._createObserver(),this._element=l,this._callback=n,zn._addElementCallback(l,n),zn._observerInstance.observe(l)}get element(){return this._element}destroy(){zn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(l,n){zn._elementCallbacks||(zn._elementCallbacks=new Map);let i=zn._elementCallbacks.get(l);i||(i=new Set,zn._elementCallbacks.set(l,i)),i.add(n)}static _deleteElementCallback(l,n){const i=zn._getElementCallbacks(l);i&&(i.delete(n),i.size||(zn._elementCallbacks.delete(l),zn._observerInstance.unobserve(l))),zn._elementCallbacks&&!zn._elementCallbacks.size&&(zn._observerInstance=null,zn._elementCallbacks=null)}static _getElementCallbacks(l){return zn._elementCallbacks?zn._elementCallbacks.get(l):null}static _createObserver(){zn._observerInstance=new m.window.ResizeObserver(l=>{for(const n of l){const i=zn._getElementCallbacks(n.target);if(i)for(const a of i)a(n)}})}};let lp=zn;function lM(l,n){l instanceof HTMLTextAreaElement&&(l.value=n),l.innerHTML=n}function Tu(l){return n=>n+l}function cp(l){let n=0;for(;l.previousSibling;)l=l.previousSibling,n++;return n}function cM(l,n,i){l.insertBefore(i,l.childNodes[n]||null)}function up(l){return l&&l.nodeType===Node.COMMENT_NODE}function Hl(l){return!!(l&&l.getClientRects&&l.getClientRects().length)}lp._observerInstance=null,lp._elementCallbacks=null;var uM=Math.pow;function bb({element:l,target:n,positions:i,limiter:a,fitInViewport:c,viewportOffsetConfig:d}){Bs(n)&&(n=n()),Bs(a)&&(a=a());const p=oM(l),g=function(D){D=Object.assign({top:0,bottom:0,left:0,right:0},D);const N=new kt(m.window);return N.top+=D.top,N.height-=D.top,N.bottom-=D.bottom,N.height-=D.bottom,N}(d),b=new kt(l),w=dM(n,g);let C;if(!w||!g.getIntersection(w))return null;const x={targetRect:w,elementRect:b,positionedElementAncestor:p,viewportRect:g};if(a||c){if(a){const D=dM(a,g);D&&(x.limiterRect=D)}C=function(D,N){const{elementRect:B}=N,F=B.getArea(),U=D.map(oe=>new hM(oe,N)).filter(oe=>!!oe.name);let W=0,Y=null;for(const oe of U){const{limiterIntersectionArea:ue,viewportIntersectionArea:Ee}=oe;if(ue===F)return oe;const Ze=uM(Ee,2)+uM(ue,2);Ze>W&&(W=Ze,Y=oe)}return Y}(i,x)}else C=new hM(i[0],x);return C}function dM(l,n){const i=new kt(l).getVisible();return i?i.getIntersection(n):null}class hM{constructor(n,i){const a=n(i.targetRect,i.elementRect,i.viewportRect,i.limiterRect);if(!a)return;const{left:c,top:d,name:p,config:g}=a;this.name=p,this.config=g,this._positioningFunctionCoordinates={left:c,top:d},this._options=i}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const n=this._options.limiterRect;return n?n.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function pM(l){const n=l.parentNode;n&&n.removeChild(l)}function eY({window:l,rect:n,alignToTop:i,forceScroll:a,viewportOffset:c}){const d=n.clone().moveBy(0,c.bottom),p=n.clone().moveBy(0,-c.top),g=new kt(l).excludeScrollbarsAndBorders(),b=i&&a,w=[p,d].every(B=>g.contains(B));let{scrollX:C,scrollY:x}=l;const D=C,N=x;b?x-=g.top-n.top+c.top:w||(mM(p,g)?x-=g.top-n.top+c.top:fM(d,g)&&(x+=i?n.top-g.top-c.top:n.bottom-g.bottom+c.bottom)),w||(gM(n,g)?C-=g.left-n.left+c.left:bM(n,g)&&(C+=n.right-g.right+c.right)),C==D&&x===N||l.scrollTo(C,x)}function tY({parent:l,getRect:n,alignToTop:i,forceScroll:a,ancestorOffset:c=0,limiterElement:d}){const p=Z_(l),g=i&&a;let b,w,C;const x=d||p.document.body;for(;l!=x;)w=n(),b=new kt(l).excludeScrollbarsAndBorders(),C=b.contains(w),g?l.scrollTop-=b.top-w.top+c:C||(mM(w,b)?l.scrollTop-=b.top-w.top+c:fM(w,b)&&(l.scrollTop+=i?w.top-b.top-c:w.bottom-b.bottom+c)),C||(gM(w,b)?l.scrollLeft-=b.left-w.left+c:bM(w,b)&&(l.scrollLeft+=w.right-b.right+c)),l=l.parentNode}function fM(l,n){return l.bottom>n.bottom}function mM(l,n){return l.top<n.top}function gM(l,n){return l.left<n.left}function bM(l,n){return l.right>n.right}function Z_(l){return mb(l)?l.startContainer.ownerDocument.defaultView:l.ownerDocument.defaultView}function nY(l){if(mb(l)){let n=l.commonAncestorContainer;return Fn(n)&&(n=n.parentNode),n}return l.parentNode}function kM(l,n){const i=Z_(l),a=new kt(l);if(i===n)return a;{let c=i;for(;c!=n;){const d=c.frameElement,p=new kt(d).excludeScrollbarsAndBorders();a.moveBy(p.left,p.top),c=c.parent}}return a}const rY={ctrl:"",cmd:"",alt:"",shift:""},oY={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},vM={37:"",38:"",39:"",40:"",9:"",33:"Page Up",34:"Page Down"},_t=function(){const l={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let n=65;n<=90;n++)l[String.fromCharCode(n).toLowerCase()]=n;for(let n=48;n<=57;n++)l[n-48]=n;for(let n=112;n<=123;n++)l["f"+(n-111)]=n;return Object.assign(l,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),l}(),iY=Object.fromEntries(Object.entries(_t).map(([l,n])=>{let i;return i=n in vM?vM[n]:l.charAt(0).toUpperCase()+l.slice(1),[n,i]}));function Iu(l){let n;if(typeof l=="string"){if(n=_t[l.toLowerCase()],!n)throw new P("keyboard-unknown-key",null,{key:l})}else n=l.keyCode+(l.altKey?_t.alt:0)+(l.ctrlKey?_t.ctrl:0)+(l.shiftKey?_t.shift:0)+(l.metaKey?_t.cmd:0);return n}function dp(l){return typeof l=="string"&&(l=function(n){return n.split("+").map(i=>i.trim())}(l)),l.map(n=>typeof n=="string"?function(i){if(i.endsWith("!"))return Iu(i.slice(0,-1));const a=Iu(i);return(v.isMac||v.isiOS)&&a==_t.ctrl?_t.cmd:a}(n):n).reduce((n,i)=>i+n,0)}function kb(l){let n=dp(l);return Object.entries(v.isMac||v.isiOS?rY:oY).reduce((i,[a,c])=>(n&_t[a]&&(n&=~_t[a],i+=c),i),"")+(n?iY[n]:"")}function J_(l,n){const i=n==="ltr";switch(l){case _t.arrowleft:return i?"left":"right";case _t.arrowright:return i?"right":"left";case _t.arrowup:return"up";case _t.arrowdown:return"down"}}function rn(l){return Array.isArray(l)?l:[l]}const X_=function(l,n,i){(i!==void 0&&!Os(l[n],i)||i===void 0&&!(n in l))&&cb(l,n,i)},wM=function(l){return function(n,i,a){for(var c=-1,d=Object(n),p=a(n),g=p.length;g--;){var b=p[++c];if(i(d[b],b,d)===!1)break}return n}}(),sY=function(l){return tr(l)&&hb(l)},yM=function(l,n){if((n!=="constructor"||typeof l[n]!="function")&&n!="__proto__")return l[n]},aY=function(l){return Eu(l,Du(l))},lY=function(l,n,i,a,c,d,p){var g=yM(l,i),b=yM(n,i),w=p.get(b);if(w)X_(l,i,w);else{var C=void 0,x=C===void 0;if(x){var D=un(b),N=!D&&op(b),B=!D&&!N&&F_(b);C=b,D||N||B?un(g)?C=g:sY(g)?C=PI(g):N?(x=!1,C=MI(b,!0)):B?(x=!1,C=WI(b,!0)):C=[]:qr(b)||ub(b)?(C=g,ub(g)?C=aY(g):Se(g)&&!Bs(g)||(C=GI(b))):x=!1}x&&(p.set(b,C),c(C,b,a,d,p),p.delete(b)),X_(l,i,C)}},cY=function l(n,i,a,c,d){n!==i&&wM(i,function(p,g){if(d||(d=new xu),Se(p))lY(n,i,g,a,l,c,d);else{var b=void 0;b===void 0&&(b=p),X_(n,g,b)}},Du)},Da=function(l){return l},uY=function(l,n,i){switch(i.length){case 0:return l.call(n);case 1:return l.call(n,i[0]);case 2:return l.call(n,i[0],i[1]);case 3:return l.call(n,i[0],i[1],i[2])}return l.apply(n,i)};var _M=Math.max;const dY=function(l,n,i){return n=_M(n===void 0?l.length-1:n,0),function(){for(var a=arguments,c=-1,d=_M(a.length-n,0),p=Array(d);++c<d;)p[c]=a[n+c];c=-1;for(var g=Array(n+1);++c<n;)g[c]=a[c];return g[n]=i(p),uY(l,this,g)}},hY=function(l){return function(){return l}},pY=lb?function(l,n){return lb(l,"toString",{configurable:!0,enumerable:!1,value:hY(n),writable:!0})}:Da;var fY=Date.now;const mY=function(l){var n=0,i=0;return function(){var a=fY(),c=16-(a-i);if(i=a,c>0){if(++n>=800)return arguments[0]}else n=0;return l.apply(void 0,arguments)}}(pY),gY=function(l,n){return mY(dY(l,n,Da),l+"")},bY=function(l,n,i){if(!Se(i))return!1;var a=typeof n;return!!(a=="number"?hb(i)&&db(n,i.length):a=="string"&&n in i)&&Os(i[n],l)},CM=function(l){return gY(function(n,i){var a=-1,c=i.length,d=c>1?i[c-1]:void 0,p=c>2?i[2]:void 0;for(d=l.length>3&&typeof d=="function"?(c--,d):void 0,p&&bY(i[0],i[1],p)&&(d=c<3?void 0:d,c=1),n=Object(n);++a<c;){var g=i[a];g&&l(n,g,a,d)}return n})},eC=CM(function(l,n,i){cY(l,n,i)});function kY(l,n,i=1,a){if(typeof i!="number")throw new P("translation-service-quantity-not-a-number",null,{quantity:i});const c=a||m.window.CKEDITOR_TRANSLATIONS,d=function(C){return Object.keys(C).length}(c);d===1&&(l=Object.keys(c)[0]);const p=n.id||n.string;if(d===0||!function(C,x,D){return!!D[C]&&!!D[C].dictionary[x]}(l,p,c))return i!==1?n.plural:n.string;const g=c[l].dictionary,b=c[l].getPluralForm||(C=>C===1?0:1),w=g[p];return typeof w=="string"?w:w[Number(b(i))]}m.window.CKEDITOR_TRANSLATIONS||(m.window.CKEDITOR_TRANSLATIONS={});const vY=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function AM(l){return vY.includes(l)?"rtl":"ltr"}class wY{constructor({uiLanguage:n="en",contentLanguage:i,translations:a}={}){this.uiLanguage=n,this.contentLanguage=i||this.uiLanguage,this.uiLanguageDirection=AM(this.uiLanguage),this.contentLanguageDirection=AM(this.contentLanguage),this.translations=function(c){return Array.isArray(c)?c.reduce((d,p)=>eC(d,p)):c}(a),this.t=(c,d)=>this._t(c,d)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(n,i=[]){i=rn(i),typeof n=="string"&&(n={string:n});const a=n.plural?i[0]:1;return function(c,d){return c.replace(/%(\d+)/g,(p,g)=>g<d.length?d[g]:p)}(kY(this.uiLanguage,n,a,this.translations),i)}}class Di extends G(){constructor(n={},i={}){super();const a=ae(n);if(a||(i=n),this._items=[],this._itemMap=new Map,this._idProperty=i.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],a)for(const c of n)this._items.push(c),this._itemMap.set(this._getItemIdBeforeAdding(c),c)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(n,i){return this.addMany([n],i)}addMany(n,i){if(i===void 0)i=this._items.length;else if(i>this._items.length||i<0)throw new P("collection-add-item-invalid-index",this);let a=0;for(const c of n){const d=this._getItemIdBeforeAdding(c),p=i+a;this._items.splice(p,0,c),this._itemMap.set(d,c),this.fire("add",c,p),a++}return this.fire("change",{added:n,removed:[],index:i}),this}get(n){let i;if(typeof n=="string")i=this._itemMap.get(n);else{if(typeof n!="number")throw new P("collection-get-invalid-arg",this);i=this._items[n]}return i||null}has(n){if(typeof n=="string")return this._itemMap.has(n);{const i=n[this._idProperty];return i&&this._itemMap.has(i)}}getIndex(n){let i;return i=typeof n=="string"?this._itemMap.get(n):n,i?this._items.indexOf(i):-1}remove(n){const[i,a]=this._remove(n);return this.fire("change",{added:[],removed:[i],index:a}),i}map(n,i){return this._items.map(n,i)}forEach(n,i){this._items.forEach(n,i)}find(n,i){return this._items.find(n,i)}filter(n,i){return this._items.filter(n,i)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const n=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:n,index:0})}bindTo(n){if(this._bindToCollection)throw new P("collection-bind-to-rebind",this);return this._bindToCollection=n,{as:i=>{this._setUpBindToBinding(a=>new i(a))},using:i=>{typeof i=="function"?this._setUpBindToBinding(i):this._setUpBindToBinding(a=>a[i])}}}_setUpBindToBinding(n){const i=this._bindToCollection,a=(c,d,p)=>{const g=i._bindToCollection==this,b=i._bindToInternalToExternalMap.get(d);if(g&&b)this._bindToExternalToInternalMap.set(d,b),this._bindToInternalToExternalMap.set(b,d);else{const w=n(d);if(!w)return void this._skippedIndexesFromExternal.push(p);let C=p;for(const x of this._skippedIndexesFromExternal)p>x&&C--;for(const x of i._skippedIndexesFromExternal)C>=x&&C++;this._bindToExternalToInternalMap.set(d,w),this._bindToInternalToExternalMap.set(w,d),this.add(w,C);for(let x=0;x<i._skippedIndexesFromExternal.length;x++)C<=i._skippedIndexesFromExternal[x]&&i._skippedIndexesFromExternal[x]++}};for(const c of i)a(0,c,i.getIndex(c));this.listenTo(i,"add",a),this.listenTo(i,"remove",(c,d,p)=>{const g=this._bindToExternalToInternalMap.get(d);g&&this.remove(g),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((b,w)=>(p<w&&b.push(w-1),p>w&&b.push(w),b),[])})}_getItemIdBeforeAdding(n){const i=this._idProperty;let a;if(i in n){if(a=n[i],typeof a!="string")throw new P("collection-add-invalid-id",this);if(this.get(a))throw new P("collection-add-item-already-exists",this)}else n[i]=a=O();return a}_remove(n){let i,a,c,d=!1;const p=this._idProperty;if(typeof n=="string"?(a=n,c=this._itemMap.get(a),d=!c,c&&(i=this._items.indexOf(c))):typeof n=="number"?(i=n,c=this._items[i],d=!c,c&&(a=c[p])):(c=n,a=c[p],i=this._items.indexOf(c),d=i==-1||!this._itemMap.get(a)),d)throw new P("collection-remove-404",this);this._items.splice(i,1),this._itemMap.delete(a);const g=this._bindToInternalToExternalMap.get(c);return this._bindToInternalToExternalMap.delete(c),this._bindToExternalToInternalMap.delete(g),this.fire("remove",c,i),[c,i]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function ur(l){const n=l.next();return n.done?null:n.value}class dr extends ei(be()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(n){if(this._elements.has(n))throw new P("focustracker-add-element-already-exist",this);this.listenTo(n,"focus",()=>this._focus(n),{useCapture:!0}),this.listenTo(n,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(n)}remove(n){n===this.focusedElement&&this._blur(),this._elements.has(n)&&(this.stopListening(n),this._elements.delete(n))}destroy(){this.stopListening()}_focus(n){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=n,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class Gr{constructor(){this._listener=new(ei())}listenTo(n){this._listener.listenTo(n,"keydown",(i,a)=>{this._listener.fire("_keydown:"+Iu(a),a)})}set(n,i,a={}){const c=dp(n),d=a.priority;this._listener.listenTo(this._listener,"_keydown:"+c,(p,g)=>{i(g,()=>{g.preventDefault(),g.stopPropagation(),p.stop()}),p.return=!0},{priority:d})}press(n){return!!this._listener.fire("_keydown:"+Iu(n),n)}stopListening(n){this._listener.stopListening(n)}destroy(){this.stopListening()}}function Qi(l){return ae(l)?new Map(l):function(n){const i=new Map;for(const a in n)i.set(a,n[a]);return i}(l)}function tC(l,n){let i;function a(...c){a.cancel(),i=setTimeout(()=>l(...c),n)}return a.cancel=()=>{clearTimeout(i)},a}function nC(l,n){return!!(i=l.charAt(n-1))&&i.length==1&&/[\ud800-\udbff]/.test(i)&&function(a){return!!a&&a.length==1&&/[\udc00-\udfff]/.test(a)}(l.charAt(n));var i}function rC(l,n){return!!(i=l.charAt(n))&&i.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(i);var i}const yY=function(){const l=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],n=new RegExp("\\p{Regional_Indicator}{2}","u").source,i="(?:"+l.map(a=>a.source).join("|")+")";return new RegExp(`${n}|${i}(?:${i})*`,"ug")}();function xM(l,n){const i=String(l).matchAll(yY);return Array.from(i).some(a=>a.index<n&&n<a.index+a[0].length)}class ti extends Di{constructor(n=[]){super(n,{idProperty:"viewUid"}),this.on("add",(i,a,c)=>{this._renderViewIntoCollectionParent(a,c)}),this.on("remove",(i,a)=>{a.element&&this._parentElement&&a.element.remove()}),this._parentElement=null}destroy(){this.map(n=>n.destroy())}setParent(n){this._parentElement=n;for(const i of this)this._renderViewIntoCollectionParent(i)}delegate(...n){if(!n.length||!n.every(i=>typeof i=="string"))throw new P("ui-viewcollection-delegate-wrong-events",this);return{to:i=>{for(const a of this)for(const c of n)a.delegate(c).to(i);this.on("add",(a,c)=>{for(const d of n)c.delegate(d).to(i)}),this.on("remove",(a,c)=>{for(const d of n)c.stopDelegating(d,i)})}}}_renderViewIntoCollectionParent(n,i){n.isRendered||n.render(),n.element&&this._parentElement&&this._parentElement.insertBefore(n.element,this._parentElement.children[i])}remove(n){return super.remove(n)}}class Ti extends G(){constructor(n){super(),Object.assign(this,TM(DM(n))),this._isRendered=!1,this._revertData=null}render(){const n=this._renderNode({intoFragment:!0});return this._isRendered=!0,n}apply(n){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:n,intoFragment:!1,isApplying:!0,revertData:this._revertData}),n}revert(n){if(!this._revertData)throw new P("ui-template-revert-not-applied",[this,n]);this._revertTemplateFromNode(n,this._revertData)}*getViews(){yield*function*n(i){if(i.children)for(const a of i.children)wb(a)?yield a:oC(a)&&(yield*n(a))}(this)}static bind(n,i){return{to:(a,c)=>new _Y({eventNameOrFunction:a,attribute:a,observable:n,emitter:i,callback:c}),if:(a,c,d)=>new EM({observable:n,emitter:i,attribute:a,valueIfTrue:c,callback:d})}}static extend(n,i){if(n._isRendered)throw new P("template-extend-render",[this,n]);NM(n,TM(DM(i)))}_renderNode(n){let i;if(i=n.node?this.tag&&this.text:this.tag?this.text:!this.text,i)throw new P("ui-template-wrong-syntax",this);return this.text?this._renderText(n):this._renderElement(n)}_renderElement(n){let i=n.node;return i||(i=n.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(n),this._renderElementChildren(n),this._setUpListeners(n),i}_renderText(n){let i=n.node;return i?n.revertData.text=i.textContent:i=n.node=document.createTextNode(""),vb(this.text)?this._bindToObservable({schema:this.text,updater:CY(i),data:n}):i.textContent=this.text.join(""),i}_renderAttributes(n){if(!this.attributes)return;const i=n.node,a=n.revertData;for(const c in this.attributes){const d=i.getAttribute(c),p=this.attributes[c];a&&(a.attributes[c]=d);const g=RM(p)?p[0].ns:null;if(vb(p)){const b=RM(p)?p[0].value:p;a&&OM(c)&&b.unshift(d),this._bindToObservable({schema:b,updater:AY(i,c,g),data:n})}else if(c=="style"&&typeof p[0]!="string")this._renderStyleAttribute(p[0],n);else{a&&d&&OM(c)&&p.unshift(d);const b=p.map(w=>w&&w.value||w).reduce((w,C)=>w.concat(C),[]).reduce(MM,"");Mu(b)||i.setAttributeNS(g,c,b)}}}_renderStyleAttribute(n,i){const a=i.node;for(const c in n){const d=n[c];vb(d)?this._bindToObservable({schema:[d],updater:xY(a,c),data:i}):a.style[c]=d}}_renderElementChildren(n){const i=n.node,a=n.intoFragment?document.createDocumentFragment():i,c=n.isApplying;let d=0;for(const p of this.children)if(iC(p)){if(!c){p.setParent(i);for(const g of p)a.appendChild(g.element)}}else if(wb(p))c||(p.isRendered||p.render(),a.appendChild(p.element));else if(Sa(p))a.appendChild(p);else if(c){const g={children:[],bindings:[],attributes:{}};n.revertData.children.push(g),p._renderNode({intoFragment:!1,node:a.childNodes[d++],isApplying:!0,revertData:g})}else a.appendChild(p.render());n.intoFragment&&i.appendChild(a)}_setUpListeners(n){if(this.eventListeners)for(const i in this.eventListeners){const a=this.eventListeners[i].map(c=>{const[d,p]=i.split("@");return c.activateDomEventListener(d,p,n)});n.revertData&&n.revertData.bindings.push(a)}}_bindToObservable({schema:n,updater:i,data:a}){const c=a.revertData;SM(n,i,a);const d=n.filter(p=>!Mu(p)).filter(p=>p.observable).map(p=>p.activateAttributeListener(n,i,a));c&&c.bindings.push(d)}_revertTemplateFromNode(n,i){for(const c of i.bindings)for(const d of c)d();if(i.text)return void(n.textContent=i.text);const a=n;for(const c in i.attributes){const d=i.attributes[c];d===null?a.removeAttribute(c):a.setAttribute(c,d)}for(let c=0;c<i.children.length;++c)this._revertTemplateFromNode(a.childNodes[c],i.children[c])}}class hp{constructor(n){this.attribute=n.attribute,this.observable=n.observable,this.emitter=n.emitter,this.callback=n.callback}getValue(n){const i=this.observable[this.attribute];return this.callback?this.callback(i,n):i}activateAttributeListener(n,i,a){const c=()=>SM(n,i,a);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,c),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,c)}}}class _Y extends hp{constructor(n){super(n),this.eventNameOrFunction=n.eventNameOrFunction}activateDomEventListener(n,i,a){const c=(d,p)=>{i&&!p.target.matches(i)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(p):this.observable.fire(this.eventNameOrFunction,p))};return this.emitter.listenTo(a.node,n,c),()=>{this.emitter.stopListening(a.node,n,c)}}}class EM extends hp{constructor(n){super(n),this.valueIfTrue=n.valueIfTrue}getValue(n){return!Mu(super.getValue(n))&&(this.valueIfTrue||!0)}}function vb(l){return!!l&&(l.value&&(l=l.value),Array.isArray(l)?l.some(vb):l instanceof hp)}function SM(l,n,{node:i}){const a=function(d,p){return d.map(g=>g instanceof hp?g.getValue(p):g)}(l,i);let c;c=l.length==1&&l[0]instanceof EM?a[0]:a.reduce(MM,""),Mu(c)?n.remove():n.set(c)}function CY(l){return{set(n){l.textContent=n},remove(){l.textContent=""}}}function AY(l,n,i){return{set(a){l.setAttributeNS(i,n,a)},remove(){l.removeAttributeNS(i,n)}}}function xY(l,n){return{set(i){l.style[n]=i},remove(){l.style[n]=null}}}function DM(l){return Y_(l,n=>{if(n&&(n instanceof hp||oC(n)||wb(n)||iC(n)))return n})}function TM(l){if(typeof l=="string"?l=function(n){return{text:[n]}}(l):l.text&&function(n){n.text=rn(n.text)}(l),l.on&&(l.eventListeners=function(n){for(const i in n)IM(n,i);return n}(l.on),delete l.on),!l.text){l.attributes&&function(i){for(const a in i)i[a].value&&(i[a].value=rn(i[a].value)),IM(i,a)}(l.attributes);const n=[];if(l.children)if(iC(l.children))n.push(l.children);else for(const i of l.children)oC(i)||wb(i)||Sa(i)?n.push(i):n.push(new Ti(i));l.children=n}return l}function IM(l,n){l[n]=rn(l[n])}function MM(l,n){return Mu(n)?l:Mu(l)?n:`${l} ${n}`}function PM(l,n){for(const i in n)l[i]?l[i].push(...n[i]):l[i]=n[i]}function NM(l,n){if(n.attributes&&(l.attributes||(l.attributes={}),PM(l.attributes,n.attributes)),n.eventListeners&&(l.eventListeners||(l.eventListeners={}),PM(l.eventListeners,n.eventListeners)),n.text&&l.text.push(...n.text),n.children&&n.children.length){if(l.children.length!=n.children.length)throw new P("ui-template-extend-children-mismatch",l);let i=0;for(const a of n.children)NM(l.children[i++],a)}}function Mu(l){return!l&&l!==0}function wb(l){return l instanceof We}function oC(l){return l instanceof Ti}function iC(l){return l instanceof ti}function RM(l){return Se(l[0])&&l[0].ns}function OM(l){return l=="class"||l=="style"}var EY=s(2591),Ce=s.n(EY),BM=s(7676),SY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(BM.A,SY),BM.A.locals;class We extends ei(be()){constructor(n){super(),this.element=null,this.isRendered=!1,this.locale=n,this.t=n&&n.t,this._viewCollections=new Di,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(i,a)=>{a.locale=n,a.t=n&&n.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Ti.bind(this,this)}createCollection(n){const i=new ti(n);return this._viewCollections.add(i),i}registerChild(n){ae(n)||(n=[n]);for(const i of n)this._unboundChildren.add(i)}deregisterChild(n){ae(n)||(n=[n]);for(const i of n)this._unboundChildren.remove(i)}setTemplate(n){this.template=new Ti(n)}extendTemplate(n){Ti.extend(this.template,n)}render(){if(this.isRendered)throw new P("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(n=>n.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}function yb({emitter:l,activator:n,callback:i,contextElements:a}){l.listenTo(document,"mousedown",(c,d)=>{if(!n())return;const p=typeof d.composedPath=="function"?d.composedPath():[],g=typeof a=="function"?a():a;for(const b of g)if(b.contains(d.target)||p.includes(b))return;i()})}function sC(l){return class extends l{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...n){super(...n),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function _b({view:l}){l.listenTo(l.element,"submit",(n,i)=>{i.preventDefault(),l.fire("submit")},{useCapture:!0})}function DY({keystrokeHandler:l,focusTracker:n,gridItems:i,numberOfColumns:a,uiLanguageDirection:c}){const d=typeof a=="number"?()=>a:a;function p(w){return C=>{const x=i.find(B=>B.element===n.focusedElement),D=i.getIndex(x),N=w(D,i);i.get(N).focus(),C.stopPropagation(),C.preventDefault()}}function g(w,C){return w===C-1?0:w+1}function b(w,C){return w===0?C-1:w-1}l.set("arrowright",p((w,C)=>c==="rtl"?b(w,C.length):g(w,C.length))),l.set("arrowleft",p((w,C)=>c==="rtl"?g(w,C.length):b(w,C.length))),l.set("arrowup",p((w,C)=>{let x=w-d();return x<0&&(x=w+d()*Math.floor(C.length/d()),x>C.length-1&&(x-=d())),x})),l.set("arrowdown",p((w,C)=>{let x=w+d();return x>C.length-1&&(x=w%d()),x}))}class me extends be(){constructor(n){super(),this._disableStack=new Set,this.editor=n,this.set("isEnabled",!0)}forceDisabled(n){this._disableStack.add(n),this._disableStack.size==1&&(this.on("set:isEnabled",LM,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(n){this._disableStack.delete(n),this._disableStack.size==0&&(this.off("set:isEnabled",LM),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function LM(l){l.return=!1,l.stop()}class ft extends be(){constructor(n){super(),this.editor=n,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(n,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",i=>{if(!this.affectsData)return;const a=n.model.document.selection,c=a.getFirstPosition().root.rootName!="$graveyard"&&n.model.canEditAt(a);(n.isReadOnly||this._isEnabledBasedOnSelection&&!c)&&(i.return=!1,i.stop())},{priority:"highest"}),this.on("execute",i=>{this.isEnabled||i.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(n){this._affectsData=n}refresh(){this.isEnabled=!0}forceDisabled(n){this._disableStack.add(n),this._disableStack.size==1&&(this.on("set:isEnabled",jM,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(n){this._disableStack.delete(n),this._disableStack.size==0&&(this.off("set:isEnabled",jM),this.refresh())}execute(...n){}destroy(){this.stopListening()}}function jM(l){l.return=!1,l.stop()}class FM extends ft{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...n){const i=this._getFirstEnabledCommand();return!!i&&i.execute(n)}registerChildCommand(n,i={}){$(this._childCommandsDefinitions,{command:n,priority:i.priority||"normal"}),n.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const n=this._childCommandsDefinitions.find(({command:i})=>i.isEnabled);return n&&n.command}}class zM extends G(){constructor(n,i=[],a=[]){super(),this._plugins=new Map,this._context=n,this._availablePlugins=new Map;for(const c of i)c.pluginName&&this._availablePlugins.set(c.pluginName,c);this._contextPlugins=new Map;for(const[c,d]of a)this._contextPlugins.set(c,d),this._contextPlugins.set(d,c),c.pluginName&&this._availablePlugins.set(c.pluginName,c)}*[Symbol.iterator](){for(const n of this._plugins)typeof n[0]=="function"&&(yield n)}get(n){const i=this._plugins.get(n);if(!i){let a=n;throw typeof n=="function"&&(a=n.pluginName||n.name),new P("plugincollection-plugin-not-loaded",this._context,{plugin:a})}return i}has(n){return this._plugins.has(n)}init(n,i=[],a=[]){const c=this,d=this._context;(function B(F,U=new Set){F.forEach(W=>{b(W)&&(U.has(W)||(U.add(W),W.pluginName&&!c._availablePlugins.has(W.pluginName)&&c._availablePlugins.set(W.pluginName,W),W.requires&&B(W.requires,U)))})})(n),D(n);const p=[...function B(F,U=new Set){return F.map(W=>b(W)?W:c._availablePlugins.get(W)).reduce((W,Y)=>U.has(Y)?W:(U.add(Y),Y.requires&&(D(Y.requires,Y),B(Y.requires,U).forEach(oe=>W.add(oe))),W.add(Y)),new Set)}(n.filter(B=>!C(B,i)))];(function(B,F){for(const U of F){if(typeof U!="function")throw new P("plugincollection-replace-plugin-invalid-type",null,{pluginItem:U});const W=U.pluginName;if(!W)throw new P("plugincollection-replace-plugin-missing-name",null,{pluginItem:U});if(U.requires&&U.requires.length)throw new P("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:W});const Y=c._availablePlugins.get(W);if(!Y)throw new P("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:W});const oe=B.indexOf(Y);if(oe===-1){if(c._contextPlugins.has(Y))return;throw new P("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:W})}if(Y.requires&&Y.requires.length)throw new P("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:W});B.splice(oe,1,U),c._availablePlugins.set(W,U)}})(p,a);const g=p.map(B=>{let F=c._contextPlugins.get(B);return F=F||new B(d),c._add(B,F),F});return N(g,"init").then(()=>N(g,"afterInit")).then(()=>g);function b(B){return typeof B=="function"}function w(B){return b(B)&&!!B.isContextPlugin}function C(B,F){return F.some(U=>U===B||x(B)===U||x(U)===B)}function x(B){return b(B)?B.pluginName||B.name:B}function D(B,F=null){B.map(U=>b(U)?U:c._availablePlugins.get(U)||U).forEach(U=>{(function(W,Y){if(!b(W))throw Y?new P("plugincollection-soft-required",d,{missingPlugin:W,requiredBy:x(Y)}):new P("plugincollection-plugin-not-found",d,{plugin:W})})(U,F),function(W,Y){if(w(Y)&&!w(W))throw new P("plugincollection-context-required",d,{plugin:x(W),requiredBy:x(Y)})}(U,F),function(W,Y){if(Y&&C(W,i))throw new P("plugincollection-required",d,{plugin:x(W),requiredBy:x(Y)})}(U,F)})}function N(B,F){return B.reduce((U,W)=>W[F]?c._contextPlugins.has(W)?U:U.then(W[F].bind(W)):U,Promise.resolve())}}destroy(){const n=[];for(const[,i]of this)typeof i.destroy!="function"||this._contextPlugins.has(i)||n.push(i.destroy());return Promise.all(n)}_add(n,i){this._plugins.set(n,i);const a=n.pluginName;if(a){if(this._plugins.has(a))throw new P("plugincollection-plugin-name-conflict",null,{pluginName:a,plugin1:this._plugins.get(a).constructor,plugin2:n});this._plugins.set(a,i)}}}var $M=Object.getOwnPropertySymbols,TY=Object.prototype.hasOwnProperty,IY=Object.prototype.propertyIsEnumerable;class VM{constructor(n){this._contextOwner=null;const i=n||{},{translations:a}=i,c=((g,b)=>{var w={};for(var C in g)TY.call(g,C)&&b.indexOf(C)<0&&(w[C]=g[C]);if(g!=null&&$M)for(var C of $M(g))b.indexOf(C)<0&&IY.call(g,C)&&(w[C]=g[C]);return w})(i,["translations"]);this.config=new XI(c,this.constructor.defaultConfig);const d=this.constructor.builtinPlugins;this.config.define("plugins",d),this.plugins=new zM(this,d);const p=this.config.get("language")||{};this.locale=new wY({uiLanguage:typeof p=="string"?p:p.ui,contentLanguage:this.config.get("language.content"),translations:a}),this.t=this.locale.t,this.editors=new Di}initPlugins(){const n=this.config.get("plugins")||[],i=this.config.get("substitutePlugins")||[];for(const a of n.concat(i)){if(typeof a!="function")throw new P("context-initplugins-constructor-only",null,{Plugin:a});if(a.isContextPlugin!==!0)throw new P("context-initplugins-invalid-plugin",null,{Plugin:a})}return this.plugins.init(n,[],i)}destroy(){return Promise.all(Array.from(this.editors,n=>n.destroy())).then(()=>this.plugins.destroy())}_addEditor(n,i){if(this._contextOwner)throw new P("context-addeditor-private-context");this.editors.add(n),i&&(this._contextOwner=n)}_removeEditor(n){return this.editors.has(n)&&this.editors.remove(n),this._contextOwner===n?this.destroy():Promise.resolve()}_getEditorConfig(){const n={};for(const i of this.config.names())["plugins","removePlugins","extraPlugins"].includes(i)||(n[i]=this.config.get(i));return n}static create(n){return new Promise(i=>{const a=new this(n);i(a.initPlugins().then(()=>a))})}}class Cb extends be(){constructor(n){super(),this.context=n}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class MY extends Gr{constructor(n){super(),this.editor=n}set(n,i,a={}){if(typeof i=="string"){const c=i;i=(d,p)=>{this.editor.execute(c),p()}}super.set(n,i,a)}}var UM=s(4098),PY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(UM.A,PY),UM.A.locals;const Ab=new WeakMap;let HM=!1;function WM({view:l,element:n,text:i,isDirectHost:a=!0,keepOnFocus:c=!1}){const d=l.document;function p(g){Ab.get(d).set(n,{text:g,isDirectHost:a,keepOnFocus:c,hostElement:a?n:null}),l.change(b=>aC(d,b))}Ab.has(d)||(Ab.set(d,new Map),d.registerPostFixer(g=>aC(d,g)),d.on("change:isComposing",()=>{l.change(g=>aC(d,g))},{priority:"high"})),n.is("editableElement")&&n.on("change:placeholder",(g,b,w)=>{p(w)}),n.placeholder?p(n.placeholder):i&&p(i),i&&function(){HM||z("enableplaceholder-deprecated-text-option"),HM=!0}()}function NY(l,n){return!n.hasClass("ck-placeholder")&&(l.addClass("ck-placeholder",n),!0)}function RY(l,n){return!!n.hasClass("ck-placeholder")&&(l.removeClass("ck-placeholder",n),!0)}function OY(l,n){if(!l.isAttached()||Array.from(l.getChildren()).some(c=>!c.is("uiElement")))return!1;const i=l.document,a=i.selection.anchor;return(!i.isComposing||!a||a.parent!==l)&&(!!n||!i.isFocused||!!a&&a.parent!==l)}function aC(l,n){const i=Ab.get(l),a=[];let c=!1;for(const[d,p]of i)p.isDirectHost&&(a.push(d),qM(n,d,p)&&(c=!0));for(const[d,p]of i){if(p.isDirectHost)continue;const g=BY(d);g&&(a.includes(g)||(p.hostElement=g,qM(n,d,p)&&(c=!0)))}return c}function qM(l,n,i){const{text:a,isDirectHost:c,hostElement:d}=i;let p=!1;return d.getAttribute("data-placeholder")!==a&&(l.setAttribute("data-placeholder",a,d),p=!0),(c||n.childCount==1)&&OY(d,i.keepOnFocus)?NY(l,d)&&(p=!0):RY(l,d)&&(p=!0),p}function BY(l){if(l.childCount){const n=l.getChild(0);if(n.is("element")&&!n.is("uiElement")&&!n.is("attributeElement"))return n}return null}class Wl{is(){throw new Error("is() method is abstract")}}const GM=function(l){return K_(l,4)};class ql extends G(Wl){constructor(n){super(),this.document=n,this.parent=null}get index(){let n;if(!this.parent)return null;if((n=this.parent.getChildIndex(this))==-1)throw new P("view-node-not-found-in-parent",this);return n}get nextSibling(){const n=this.index;return n!==null&&this.parent.getChild(n+1)||null}get previousSibling(){const n=this.index;return n!==null&&this.parent.getChild(n-1)||null}get root(){let n=this;for(;n.parent;)n=n.parent;return n}isAttached(){return this.root.is("rootElement")}getPath(){const n=[];let i=this;for(;i.parent;)n.unshift(i.index),i=i.parent;return n}getAncestors(n={}){const i=[];let a=n.includeSelf?this:this.parent;for(;a;)i[n.parentFirst?"push":"unshift"](a),a=a.parent;return i}getCommonAncestor(n,i={}){const a=this.getAncestors(i),c=n.getAncestors(i);let d=0;for(;a[d]==c[d]&&a[d];)d++;return d===0?null:a[d-1]}isBefore(n){if(this==n||this.root!==n.root)return!1;const i=this.getPath(),a=n.getPath(),c=se(i,a);switch(c){case"prefix":return!0;case"extension":return!1;default:return i[c]<a[c]}}isAfter(n){return this!=n&&this.root===n.root&&!this.isBefore(n)}_remove(){this.parent._removeChildren(this.index)}_fireChange(n,i){this.fire(`change:${n}`,i),this.parent&&this.parent._fireChange(n,i)}toJSON(){const n=GM(this);return delete n.parent,n}}ql.prototype.is=function(l){return l==="node"||l==="view:node"};class en extends ql{constructor(n,i){super(n),this._textData=i}get data(){return this._textData}get _data(){return this.data}set _data(n){this._fireChange("text",this),this._textData=n}isSimilar(n){return n instanceof en&&(this===n||this.data===n.data)}_clone(){return new en(this.document,this.data)}}en.prototype.is=function(l){return l==="$text"||l==="view:$text"||l==="text"||l==="view:text"||l==="node"||l==="view:node"};class Zi extends Wl{constructor(n,i,a){if(super(),this.textNode=n,i<0||i>n.data.length)throw new P("view-textproxy-wrong-offsetintext",this);if(a<0||i+a>n.data.length)throw new P("view-textproxy-wrong-length",this);this.data=n.data.substring(i,i+a),this.offsetInText=i}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(n={}){const i=[];let a=n.includeSelf?this.textNode:this.parent;for(;a!==null;)i[n.parentFirst?"push":"unshift"](a),a=a.parent;return i}}Zi.prototype.is=function(l){return l==="$textProxy"||l==="view:$textProxy"||l==="textProxy"||l==="view:textProxy"};class Ji{constructor(...n){this._patterns=[],this.add(...n)}add(...n){for(let i of n)(typeof i=="string"||i instanceof RegExp)&&(i={name:i}),this._patterns.push(i)}match(...n){for(const i of n)for(const a of this._patterns){const c=KM(i,a);if(c)return{element:i,pattern:a,match:c}}return null}matchAll(...n){const i=[];for(const a of n)for(const c of this._patterns){const d=KM(a,c);d&&i.push({element:a,pattern:c,match:d})}return i.length>0?i:null}getElementName(){if(this._patterns.length!==1)return null;const n=this._patterns[0],i=n.name;return typeof n=="function"||!i||i instanceof RegExp?null:i}}function KM(l,n){if(typeof n=="function")return n(l);const i={};return n.name&&(i.name=function(a,c){return a instanceof RegExp?!!c.match(a):a===c}(n.name,l.name),!i.name)||n.attributes&&(i.attributes=function(a,c){const d=new Set(c.getAttributeKeys());return qr(a)?(a.style!==void 0&&z("matcher-pattern-deprecated-attributes-style-key",a),a.class!==void 0&&z("matcher-pattern-deprecated-attributes-class-key",a)):(d.delete("style"),d.delete("class")),lC(a,d,p=>c.getAttribute(p))}(n.attributes,l),!i.attributes)||n.classes&&(i.classes=function(a,c){return lC(a,c.getClassNames(),()=>{})}(n.classes,l),!i.classes)||n.styles&&(i.styles=function(a,c){return lC(a,c.getStyleNames(!0),d=>c.getStyle(d))}(n.styles,l),!i.styles)?null:i}function lC(l,n,i){const a=function(p){return Array.isArray(p)?p.map(g=>qr(g)?(g.key!==void 0&&g.value!==void 0||z("matcher-pattern-missing-key-or-value",g),[g.key,g.value]):[g,!0]):qr(p)?Object.entries(p):[[p,!0]]}(l),c=Array.from(n),d=[];if(a.forEach(([p,g])=>{c.forEach(b=>{(function(w,C){return w===!0||w===C||w instanceof RegExp&&C.match(w)})(p,b)&&function(w,C,x){if(w===!0)return!0;const D=x(C);return w===D||w instanceof RegExp&&!!String(D).match(w)}(g,b,i)&&d.push(b)})}),a.length&&!(d.length<a.length))return d}const xb=function(l){return typeof l=="symbol"||tr(l)&&Ft(l)=="[object Symbol]"};var LY=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jY=/^\w*$/;const cC=function(l,n){if(un(l))return!1;var i=typeof l;return!(i!="number"&&i!="symbol"&&i!="boolean"&&l!=null&&!xb(l))||jY.test(l)||!LY.test(l)||n!=null&&l in Object(n)};function uC(l,n){if(typeof l!="function"||n!=null&&typeof n!="function")throw new TypeError("Expected a function");var i=function(){var a=arguments,c=n?n.apply(this,a):a[0],d=i.cache;if(d.has(c))return d.get(c);var p=l.apply(this,a);return i.cache=d.set(c,p)||d,p};return i.cache=new(uC.Cache||ab),i}uC.Cache=ab;const FY=uC,zY=function(l){var n=FY(l,function(a){return i.size===500&&i.clear(),a}),i=n.cache;return n};var $Y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,VY=/\\(\\)?/g,UY=zY(function(l){var n=[];return l.charCodeAt(0)===46&&n.push(""),l.replace($Y,function(i,a,c,d){n.push(c?d.replace(VY,"$1"):a||i)}),n});const HY=UY,WY=function(l,n){for(var i=-1,a=l==null?0:l.length,c=Array(a);++i<a;)c[i]=n(l[i],i,l);return c};var YM=ht?ht.prototype:void 0,QM=YM?YM.toString:void 0;const qY=function l(n){if(typeof n=="string")return n;if(un(n))return WY(n,l)+"";if(xb(n))return QM?QM.call(n):"";var i=n+"";return i=="0"&&1/n==-1/0?"-0":i},dC=function(l){return l==null?"":qY(l)},Eb=function(l,n){return un(l)?l:cC(l,n)?[l]:HY(dC(l))},GY=function(l){var n=l==null?0:l.length;return n?l[n-1]:void 0},Pu=function(l){if(typeof l=="string"||xb(l))return l;var n=l+"";return n=="0"&&1/l==-1/0?"-0":n},hC=function(l,n){for(var i=0,a=(n=Eb(n,l)).length;l!=null&&i<a;)l=l[Pu(n[i++])];return i&&i==a?l:void 0},ZM=function(l,n,i){var a=-1,c=l.length;n<0&&(n=-n>c?0:c+n),(i=i>c?c:i)<0&&(i+=c),c=n>i?0:i-n>>>0,n>>>=0;for(var d=Array(c);++a<c;)d[a]=l[a+n];return d},KY=function(l,n){return n.length<2?l:hC(l,ZM(n,0,-1))},YY=function(l,n){return n=Eb(n,l),(l=KY(l,n))==null||delete l[Pu(GY(n))]},QY=function(l,n){return l==null||YY(l,n)},pp=function(l,n,i){var a=l==null?void 0:hC(l,n);return a===void 0?i:a},ZY=function(l,n,i,a){if(!Se(l))return l;for(var c=-1,d=(n=Eb(n,l)).length,p=d-1,g=l;g!=null&&++c<d;){var b=Pu(n[c]),w=i;if(b==="__proto__"||b==="constructor"||b==="prototype")return l;if(c!=p){var C=g[b];(w=void 0)==void 0&&(w=Se(C)?C:db(n[c+1])?[]:{})}O_(g,b,w),g=g[b]}return l},JY=function(l,n,i){return l==null?l:ZY(l,n,i)};class pC{constructor(n){this._styles={},this._styleProcessor=n}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(n){this.clear();const i=function(a){let c=null,d=0,p=0,g=null;const b=new Map;if(a==="")return b;a.charAt(a.length-1)!=";"&&(a+=";");for(let w=0;w<a.length;w++){const C=a.charAt(w);if(c===null)switch(C){case":":g||(g=a.substr(d,w-d),p=w+1);break;case'"':case"'":c=C;break;case";":{const x=a.substr(p,w-p);g&&b.set(g.trim(),x.trim()),g=null,d=w+1;break}}else C===c&&(c=null)}return b}(n);for(const[a,c]of i)this._styleProcessor.toNormalizedForm(a,c,this._styles)}has(n){if(this.isEmpty)return!1;const i=this._styleProcessor.getReducedForm(n,this._styles).find(([a])=>a===n);return Array.isArray(i)}set(n,i){if(Se(n))for(const[a,c]of Object.entries(n))this._styleProcessor.toNormalizedForm(a,c,this._styles);else this._styleProcessor.toNormalizedForm(n,i,this._styles)}remove(n){const i=fC(n);QY(this._styles,i),delete this._styles[n],this._cleanEmptyObjectsOnPath(i)}getNormalized(n){return this._styleProcessor.getNormalized(n,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(n=>n.join(":")).sort().join(";")+";"}getAsString(n){if(this.isEmpty)return;if(this._styles[n]&&!Se(this._styles[n]))return this._styles[n];const i=this._styleProcessor.getReducedForm(n,this._styles).find(([a])=>a===n);return Array.isArray(i)?i[1]:void 0}getStyleNames(n=!1){return this.isEmpty?[]:n?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([i])=>i)}clear(){this._styles={}}getStylesEntries(){const n=[],i=Object.keys(this._styles);for(const a of i)n.push(...this._styleProcessor.getReducedForm(a,this._styles));return n}_cleanEmptyObjectsOnPath(n){const i=n.split(".");if(!(i.length>1))return;const a=i.splice(0,i.length-1).join("."),c=pp(this._styles,a);c&&!Object.keys(c).length&&this.remove(a)}}class XY{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(n,i,a){if(Se(i))mC(a,fC(n),i);else if(this._normalizers.has(n)){const c=this._normalizers.get(n),{path:d,value:p}=c(i);mC(a,d,p)}else mC(a,n,i)}getNormalized(n,i){if(!n)return eC({},i);if(i[n]!==void 0)return i[n];if(this._extractors.has(n)){const a=this._extractors.get(n);if(typeof a=="string")return pp(i,a);const c=a(n,i);if(c)return c}return pp(i,fC(n))}getReducedForm(n,i){const a=this.getNormalized(n,i);return a===void 0?[]:this._reducers.has(n)?this._reducers.get(n)(a):[[n,a]]}getStyleNames(n){const i=Array.from(this._consumables.keys()).filter(c=>{const d=this.getNormalized(c,n);return d&&typeof d=="object"?Object.keys(d).length:d}),a=new Set([...i,...Object.keys(n)]);return Array.from(a)}getRelatedStyles(n){return this._consumables.get(n)||[]}setNormalizer(n,i){this._normalizers.set(n,i)}setExtractor(n,i){this._extractors.set(n,i)}setReducer(n,i){this._reducers.set(n,i)}setStyleRelation(n,i){this._mapStyleNames(n,i);for(const a of i)this._mapStyleNames(a,[n])}_mapStyleNames(n,i){this._consumables.has(n)||this._consumables.set(n,[]),this._consumables.get(n).push(...i)}}function fC(l){return l.replace("-",".")}function mC(l,n,i){let a=i;Se(i)&&(a=eC({},pp(l,n),i)),JY(l,n,a)}class Eo extends ql{constructor(n,i,a,c){if(super(n),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=i,this._attrs=function(d){const p=Qi(d);for(const[g,b]of p)b===null?p.delete(g):typeof b!="string"&&p.set(g,String(b));return p}(a),this._children=[],c&&this._insertChild(0,c),this._classes=new Set,this._attrs.has("class")){const d=this._attrs.get("class");JM(this._classes,d),this._attrs.delete("class")}this._styles=new pC(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(n){return this._children[n]}getChildIndex(n){return this._children.indexOf(n)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(n){if(n=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(n=="style"){const i=this._styles.toString();return i==""?void 0:i}return this._attrs.get(n)}hasAttribute(n){return n=="class"?this._classes.size>0:n=="style"?!this._styles.isEmpty:this._attrs.has(n)}isSimilar(n){if(!(n instanceof Eo))return!1;if(this===n)return!0;if(this.name!=n.name||this._attrs.size!==n._attrs.size||this._classes.size!==n._classes.size||this._styles.size!==n._styles.size)return!1;for(const[i,a]of this._attrs)if(!n._attrs.has(i)||n._attrs.get(i)!==a)return!1;for(const i of this._classes)if(!n._classes.has(i))return!1;for(const i of this._styles.getStyleNames())if(!n._styles.has(i)||n._styles.getAsString(i)!==this._styles.getAsString(i))return!1;return!0}hasClass(...n){for(const i of n)if(!this._classes.has(i))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(n){return this._styles.getAsString(n)}getNormalizedStyle(n){return this._styles.getNormalized(n)}getStyleNames(n){return this._styles.getStyleNames(n)}hasStyle(...n){for(const i of n)if(!this._styles.has(i))return!1;return!0}findAncestor(...n){const i=new Ji(...n);let a=this.parent;for(;a&&!a.is("documentFragment");){if(i.match(a))return a;a=a.parent}return null}getCustomProperty(n){return this._customProperties.get(n)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const n=Array.from(this._classes).sort().join(","),i=this._styles.toString(),a=Array.from(this._attrs).map(c=>`${c[0]}="${c[1]}"`).sort().join(" ");return this.name+(n==""?"":` class="${n}"`)+(i?` style="${i}"`:"")+(a==""?"":` ${a}`)}shouldRenderUnsafeAttribute(n){return this._unsafeAttributesToRender.includes(n)}_clone(n=!1){const i=[];if(n)for(const c of this.getChildren())i.push(c._clone(n));const a=new this.constructor(this.document,this.name,this._attrs,i);return a._classes=new Set(this._classes),a._styles.set(this._styles.getNormalized()),a._customProperties=new Map(this._customProperties),a.getFillerOffset=this.getFillerOffset,a._unsafeAttributesToRender=this._unsafeAttributesToRender,a}_appendChild(n){return this._insertChild(this.childCount,n)}_insertChild(n,i){this._fireChange("children",this);let a=0;const c=function(d,p){return typeof p=="string"?[new en(d,p)]:(ae(p)||(p=[p]),Array.from(p).map(g=>typeof g=="string"?new en(d,g):g instanceof Zi?new en(d,g.data):g))}(this.document,i);for(const d of c)d.parent!==null&&d._remove(),d.parent=this,d.document=this.document,this._children.splice(n,0,d),n++,a++;return a}_removeChildren(n,i=1){this._fireChange("children",this);for(let a=n;a<n+i;a++)this._children[a].parent=null;return this._children.splice(n,i)}_setAttribute(n,i){const a=String(i);this._fireChange("attributes",this),n=="class"?JM(this._classes,a):n=="style"?this._styles.setTo(a):this._attrs.set(n,a)}_removeAttribute(n){return this._fireChange("attributes",this),n=="class"?this._classes.size>0&&(this._classes.clear(),!0):n=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(n)}_addClass(n){this._fireChange("attributes",this);for(const i of rn(n))this._classes.add(i)}_removeClass(n){this._fireChange("attributes",this);for(const i of rn(n))this._classes.delete(i)}_setStyle(n,i){this._fireChange("attributes",this),typeof n!="string"?this._styles.set(n):this._styles.set(n,i)}_removeStyle(n){this._fireChange("attributes",this);for(const i of rn(n))this._styles.remove(i)}_setCustomProperty(n,i){this._customProperties.set(n,i)}_removeCustomProperty(n){return this._customProperties.delete(n)}}function JM(l,n){const i=n.split(/\s+/);l.clear(),i.forEach(a=>l.add(a))}Eo.prototype.is=function(l,n){return n?n===this.name&&(l==="element"||l==="view:element"):l==="element"||l==="view:element"||l==="node"||l==="view:node"};class fp extends Eo{constructor(n,i,a,c){super(n,i,a,c),this.getFillerOffset=eQ}}function eQ(){const l=[...this.getChildren()],n=l[this.childCount-1];if(n&&n.is("element","br"))return this.childCount;for(const i of l)if(!i.is("uiElement"))return null;return this.childCount}fp.prototype.is=function(l,n){return n?n===this.name&&(l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"):l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class Sb extends be(fp){constructor(n,i,a,c){super(n,i,a,c),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(n),this.bind("isFocused").to(n,"isFocused",d=>d&&n.selection.editableElement==this),this.listenTo(n.selection,"change",()=>{this.isFocused=n.isFocused&&n.selection.editableElement==this})}destroy(){this.stopListening()}}Sb.prototype.is=function(l,n){return n?n===this.name&&(l==="editableElement"||l==="view:editableElement"||l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"):l==="editableElement"||l==="view:editableElement"||l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};const XM=Symbol("rootName");class e5 extends Sb{constructor(n,i){super(n,i),this.rootName="main"}get rootName(){return this.getCustomProperty(XM)}set rootName(n){this._setCustomProperty(XM,n)}set _name(n){this.name=n}}e5.prototype.is=function(l,n){return n?n===this.name&&(l==="rootElement"||l==="view:rootElement"||l==="editableElement"||l==="view:editableElement"||l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"):l==="rootElement"||l==="view:rootElement"||l==="editableElement"||l==="view:editableElement"||l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class Gl{constructor(n={}){if(!n.boundaries&&!n.startPosition)throw new P("view-tree-walker-no-start-position",null);if(n.direction&&n.direction!="forward"&&n.direction!="backward")throw new P("view-tree-walker-unknown-direction",n.startPosition,{direction:n.direction});this.boundaries=n.boundaries||null,n.startPosition?this._position=xe._createAt(n.startPosition):this._position=xe._createAt(n.boundaries[n.direction=="backward"?"end":"start"]),this.direction=n.direction||"forward",this.singleCharacters=!!n.singleCharacters,this.shallow=!!n.shallow,this.ignoreElementEnd=!!n.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(n){let i,a;do a=this.position,i=this.next();while(!i.done&&n(i.value));i.done||(this._position=a)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let n=this.position.clone();const i=this.position,a=n.parent;if(a.parent===null&&n.offset===a.childCount)return{done:!0,value:void 0};if(a===this._boundaryEndParent&&n.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let c;if(a instanceof en){if(n.isAtEnd)return this._position=xe._createAfter(a),this._next();c=a.data[n.offset]}else c=a.getChild(n.offset);if(c instanceof Eo){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(n))return{done:!0,value:void 0};n.offset++}else n=new xe(c,0);return this._position=n,this._formatReturnValue("elementStart",c,i,n,1)}if(c instanceof en){if(this.singleCharacters)return n=new xe(c,0),this._position=n,this._next();let d,p=c.data.length;return c==this._boundaryEndParent?(p=this.boundaries.end.offset,d=new Zi(c,0,p),n=xe._createAfter(d)):(d=new Zi(c,0,c.data.length),n.offset++),this._position=n,this._formatReturnValue("text",d,i,n,p)}if(typeof c=="string"){let d;this.singleCharacters?d=1:d=(a===this._boundaryEndParent?this.boundaries.end.offset:a.data.length)-n.offset;const p=new Zi(a,n.offset,d);return n.offset+=d,this._position=n,this._formatReturnValue("text",p,i,n,d)}return n=xe._createAfter(a),this._position=n,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",a,i,n)}_previous(){let n=this.position.clone();const i=this.position,a=n.parent;if(a.parent===null&&n.offset===0)return{done:!0,value:void 0};if(a==this._boundaryStartParent&&n.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let c;if(a instanceof en){if(n.isAtStart)return this._position=xe._createBefore(a),this._previous();c=a.data[n.offset-1]}else c=a.getChild(n.offset-1);if(c instanceof Eo)return this.shallow?(n.offset--,this._position=n,this._formatReturnValue("elementStart",c,i,n,1)):(n=new xe(c,c.childCount),this._position=n,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",c,i,n));if(c instanceof en){if(this.singleCharacters)return n=new xe(c,c.data.length),this._position=n,this._previous();let d,p=c.data.length;if(c==this._boundaryStartParent){const g=this.boundaries.start.offset;d=new Zi(c,g,c.data.length-g),p=d.data.length,n=xe._createBefore(d)}else d=new Zi(c,0,c.data.length),n.offset--;return this._position=n,this._formatReturnValue("text",d,i,n,p)}if(typeof c=="string"){let d;if(this.singleCharacters)d=1;else{const g=a===this._boundaryStartParent?this.boundaries.start.offset:0;d=n.offset-g}n.offset-=d;const p=new Zi(a,n.offset,d);return this._position=n,this._formatReturnValue("text",p,i,n,d)}return n=xe._createBefore(a),this._position=n,this._formatReturnValue("elementStart",a,i,n,1)}_formatReturnValue(n,i,a,c,d){return i instanceof Zi&&(i.offsetInText+i.data.length==i.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?a=xe._createAfter(i.textNode):(c=xe._createAfter(i.textNode),this._position=c)),i.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?a=xe._createBefore(i.textNode):(c=xe._createBefore(i.textNode),this._position=c))),{done:!1,value:{type:n,item:i,previousPosition:a,nextPosition:c,length:d}}}}class xe extends Wl{constructor(n,i){super(),this.parent=n,this.offset=i}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const n=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===n}get root(){return this.parent.root}get editableElement(){let n=this.parent;for(;!(n instanceof Sb);){if(!n.parent)return null;n=n.parent}return n}getShiftedBy(n){const i=xe._createAt(this),a=i.offset+n;return i.offset=a<0?0:a,i}getLastMatchingPosition(n,i={}){i.startPosition=this;const a=new Gl(i);return a.skip(n),a.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(n){const i=this.getAncestors(),a=n.getAncestors();let c=0;for(;i[c]==a[c]&&i[c];)c++;return c===0?null:i[c-1]}isEqual(n){return this.parent==n.parent&&this.offset==n.offset}isBefore(n){return this.compareWith(n)=="before"}isAfter(n){return this.compareWith(n)=="after"}compareWith(n){if(this.root!==n.root)return"different";if(this.isEqual(n))return"same";const i=this.parent.is("node")?this.parent.getPath():[],a=n.parent.is("node")?n.parent.getPath():[];i.push(this.offset),a.push(n.offset);const c=se(i,a);switch(c){case"prefix":return"before";case"extension":return"after";default:return i[c]<a[c]?"before":"after"}}getWalker(n={}){return n.startPosition=this,new Gl(n)}clone(){return new xe(this.parent,this.offset)}static _createAt(n,i){if(n instanceof xe)return new this(n.parent,n.offset);{const a=n;if(i=="end")i=a.is("$text")?a.data.length:a.childCount;else{if(i=="before")return this._createBefore(a);if(i=="after")return this._createAfter(a);if(i!==0&&!i)throw new P("view-createpositionat-offset-required",a)}return new xe(a,i)}}static _createAfter(n){if(n.is("$textProxy"))return new xe(n.textNode,n.offsetInText+n.data.length);if(!n.parent)throw new P("view-position-after-root",n,{root:n});return new xe(n.parent,n.index+1)}static _createBefore(n){if(n.is("$textProxy"))return new xe(n.textNode,n.offsetInText);if(!n.parent)throw new P("view-position-before-root",n,{root:n});return new xe(n.parent,n.index)}}xe.prototype.is=function(l){return l==="position"||l==="view:position"};class et extends Wl{constructor(n,i=null){super(),this.start=n.clone(),this.end=i?i.clone():n.clone()}*[Symbol.iterator](){yield*new Gl({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let n=this.start.getLastMatchingPosition(Db,{direction:"backward"}),i=this.end.getLastMatchingPosition(Db);return n.parent.is("$text")&&n.isAtStart&&(n=xe._createBefore(n.parent)),i.parent.is("$text")&&i.isAtEnd&&(i=xe._createAfter(i.parent)),new et(n,i)}getTrimmed(){let n=this.start.getLastMatchingPosition(Db);if(n.isAfter(this.end)||n.isEqual(this.end))return new et(n,n);let i=this.end.getLastMatchingPosition(Db,{direction:"backward"});const a=n.nodeAfter,c=i.nodeBefore;return a&&a.is("$text")&&(n=new xe(a,0)),c&&c.is("$text")&&(i=new xe(c,c.data.length)),new et(n,i)}isEqual(n){return this==n||this.start.isEqual(n.start)&&this.end.isEqual(n.end)}containsPosition(n){return n.isAfter(this.start)&&n.isBefore(this.end)}containsRange(n,i=!1){n.isCollapsed&&(i=!1);const a=this.containsPosition(n.start)||i&&this.start.isEqual(n.start),c=this.containsPosition(n.end)||i&&this.end.isEqual(n.end);return a&&c}getDifference(n){const i=[];return this.isIntersecting(n)?(this.containsPosition(n.start)&&i.push(new et(this.start,n.start)),this.containsPosition(n.end)&&i.push(new et(n.end,this.end))):i.push(this.clone()),i}getIntersection(n){if(this.isIntersecting(n)){let i=this.start,a=this.end;return this.containsPosition(n.start)&&(i=n.start),this.containsPosition(n.end)&&(a=n.end),new et(i,a)}return null}getWalker(n={}){return n.boundaries=this,new Gl(n)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let n=this.start.nodeAfter,i=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(n=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(i=this.end.parent.previousSibling),n&&n.is("element")&&n===i?n:null}clone(){return new et(this.start,this.end)}*getItems(n={}){n.boundaries=this,n.ignoreElementEnd=!0;const i=new Gl(n);for(const a of i)yield a.item}*getPositions(n={}){n.boundaries=this;const i=new Gl(n);yield i.position;for(const a of i)yield a.nextPosition}isIntersecting(n){return this.start.isBefore(n.end)&&this.end.isAfter(n.start)}static _createFromParentsAndOffsets(n,i,a,c){return new this(new xe(n,i),new xe(a,c))}static _createFromPositionAndShift(n,i){const a=n,c=n.getShiftedBy(i);return i>0?new this(a,c):new this(c,a)}static _createIn(n){return this._createFromParentsAndOffsets(n,0,n,n.childCount)}static _createOn(n){const i=n.is("$textProxy")?n.offsetSize:1;return this._createFromPositionAndShift(xe._createBefore(n),i)}}function Db(l){return!(!l.item.is("attributeElement")&&!l.item.is("uiElement"))}et.prototype.is=function(l){return l==="range"||l==="view:range"};class Ii extends G(Wl){constructor(...n){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",n.length&&this.setTo(...n)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const n=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?n.end:n.start).clone()}get focus(){if(!this._ranges.length)return null;const n=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?n.start:n.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const n of this._ranges)yield n.clone()}getFirstRange(){let n=null;for(const i of this._ranges)n&&!i.start.isBefore(n.start)||(n=i);return n?n.clone():null}getLastRange(){let n=null;for(const i of this._ranges)n&&!i.end.isAfter(n.end)||(n=i);return n?n.clone():null}getFirstPosition(){const n=this.getFirstRange();return n?n.start.clone():null}getLastPosition(){const n=this.getLastRange();return n?n.end.clone():null}isEqual(n){if(this.isFake!=n.isFake||this.isFake&&this.fakeSelectionLabel!=n.fakeSelectionLabel||this.rangeCount!=n.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(n.anchor)||!this.focus.isEqual(n.focus))return!1;for(const i of this._ranges){let a=!1;for(const c of n._ranges)if(i.isEqual(c)){a=!0;break}if(!a)return!1}return!0}isSimilar(n){if(this.isBackward!=n.isBackward)return!1;const i=nt(this.getRanges());if(i!=nt(n.getRanges()))return!1;if(i==0)return!0;for(let a of this.getRanges()){a=a.getTrimmed();let c=!1;for(let d of n.getRanges())if(d=d.getTrimmed(),a.start.isEqual(d.start)&&a.end.isEqual(d.end)){c=!0;break}if(!c)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...n){let[i,a,c]=n;if(typeof a=="object"&&(c=a,a=void 0),i===null)this._setRanges([]),this._setFakeOptions(c);else if(i instanceof Ii||i instanceof gC)this._setRanges(i.getRanges(),i.isBackward),this._setFakeOptions({fake:i.isFake,label:i.fakeSelectionLabel});else if(i instanceof et)this._setRanges([i],c&&c.backward),this._setFakeOptions(c);else if(i instanceof xe)this._setRanges([new et(i)]),this._setFakeOptions(c);else if(i instanceof ql){const d=!!c&&!!c.backward;let p;if(a===void 0)throw new P("view-selection-setto-required-second-parameter",this);p=a=="in"?et._createIn(i):a=="on"?et._createOn(i):new et(xe._createAt(i,a)),this._setRanges([p],d),this._setFakeOptions(c)}else{if(!ae(i))throw new P("view-selection-setto-not-selectable",this);this._setRanges(i,c&&c.backward),this._setFakeOptions(c)}this.fire("change")}setFocus(n,i){if(this.anchor===null)throw new P("view-selection-setfocus-no-ranges",this);const a=xe._createAt(n,i);if(a.compareWith(this.focus)=="same")return;const c=this.anchor;this._ranges.pop(),a.compareWith(c)=="before"?this._addRange(new et(a,c),!0):this._addRange(new et(c,a)),this.fire("change")}_setRanges(n,i=!1){n=Array.from(n),this._ranges=[];for(const a of n)this._addRange(a);this._lastRangeBackward=!!i}_setFakeOptions(n={}){this._isFake=!!n.fake,this._fakeSelectionLabel=n.fake&&n.label||""}_addRange(n,i=!1){if(!(n instanceof et))throw new P("view-selection-add-range-not-range",this);this._pushRange(n),this._lastRangeBackward=!!i}_pushRange(n){for(const i of this._ranges)if(n.isIntersecting(i))throw new P("view-selection-range-intersects",this,{addedRange:n,intersectingRange:i});this._ranges.push(new et(n.start,n.end))}}Ii.prototype.is=function(l){return l==="selection"||l==="view:selection"};class gC extends G(Wl){constructor(...n){super(),this._selection=new Ii,this._selection.delegate("change").to(this),n.length&&this._selection.setTo(...n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(n){return this._selection.isEqual(n)}isSimilar(n){return this._selection.isSimilar(n)}_setTo(...n){this._selection.setTo(...n)}_setFocus(n,i){this._selection.setFocus(n,i)}}gC.prototype.is=function(l){return l==="selection"||l=="documentSelection"||l=="view:selection"||l=="view:documentSelection"};class Nu extends T{constructor(n,i,a){super(n,i),this.startRange=a,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const bC=Symbol("bubbling contexts");function kC(l){return class extends l{fire(n,...i){try{const a=n instanceof T?n:new T(this,n),c=vC(this);if(!c.size)return;if(mp(a,"capturing",this),Ru(c,"$capture",a,...i))return a.return;const d=a.startRange||this.selection.getFirstRange(),p=d?d.getContainedElement():null,g=!!p&&!!t5(c,p);let b=p||function(w){if(!w)return null;const C=w.start.parent,x=w.end.parent,D=C.getPath(),N=x.getPath();return D.length>N.length?C:x}(d);if(mp(a,"atTarget",b),!g){if(Ru(c,"$text",a,...i))return a.return;mp(a,"bubbling",b)}for(;b;){if(b.is("rootElement")){if(Ru(c,"$root",a,...i))return a.return}else if(b.is("element")&&Ru(c,b.name,a,...i))return a.return;if(Ru(c,b,a,...i))return a.return;b=b.parent,mp(a,"bubbling",b)}return mp(a,"bubbling",this),Ru(c,"$document",a,...i),a.return}catch(a){P.rethrowUnexpectedError(a,this)}}_addEventListener(n,i,a){const c=rn(a.context||"$document"),d=vC(this);for(const p of c){let g=d.get(p);g||(g=new(G()),d.set(p,g)),this.listenTo(g,n,i,a)}}_removeEventListener(n,i){const a=vC(this);for(const c of a.values())this.stopListening(c,n,i)}}}{const l=kC(Object);["fire","_addEventListener","_removeEventListener"].forEach(n=>{kC[n]=l.prototype[n]})}function mp(l,n,i){l instanceof Nu&&(l._eventPhase=n,l._currentTarget=i)}function Ru(l,n,i,...a){const c=typeof n=="string"?l.get(n):t5(l,n);return!!c&&(c.fire(i,...a),i.stop.called)}function t5(l,n){for(const[i,a]of l)if(typeof i=="function"&&i(n))return a;return null}function vC(l){return l[bC]||(l[bC]=new Map),l[bC]}class Tb extends kC(be()){constructor(n){super(),this._postFixers=new Set,this.selection=new gC,this.roots=new Di({idProperty:"rootName"}),this.stylesProcessor=n,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(n="main"){return this.roots.get(n)}registerPostFixer(n){this._postFixers.add(n)}destroy(){this.roots.forEach(n=>n.destroy()),this.stopListening()}_callPostFixers(n){let i=!1;do for(const a of this._postFixers)if(i=a(n),i)break;while(i)}}class Kl extends Eo{constructor(n,i,a,c){super(n,i,a,c),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=tQ}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new P("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(n){return this.id!==null||n.id!==null?this.id===n.id:super.isSimilar(n)&&this.priority==n.priority}_clone(n=!1){const i=super._clone(n);return i._priority=this._priority,i._id=this._id,i}}function tQ(){if(wC(this))return null;let l=this.parent;for(;l&&l.is("attributeElement");){if(wC(l)>1)return null;l=l.parent}return!l||wC(l)>1?null:this.childCount}function wC(l){return Array.from(l.getChildren()).filter(n=>!n.is("uiElement")).length}Kl.DEFAULT_PRIORITY=10,Kl.prototype.is=function(l,n){return n?n===this.name&&(l==="attributeElement"||l==="view:attributeElement"||l==="element"||l==="view:element"):l==="attributeElement"||l==="view:attributeElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class yC extends Eo{constructor(n,i,a,c){super(n,i,a,c),this.getFillerOffset=nQ}_insertChild(n,i){if(i&&(i instanceof ql||Array.from(i).length>0))throw new P("view-emptyelement-cannot-add",[this,i]);return 0}}function nQ(){return null}yC.prototype.is=function(l,n){return n?n===this.name&&(l==="emptyElement"||l==="view:emptyElement"||l==="element"||l==="view:element"):l==="emptyElement"||l==="view:emptyElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class Ib extends Eo{constructor(n,i,a,c){super(n,i,a,c),this.getFillerOffset=oQ}_insertChild(n,i){if(i&&(i instanceof ql||Array.from(i).length>0))throw new P("view-uielement-cannot-add",[this,i]);return 0}render(n,i){return this.toDomElement(n)}toDomElement(n){const i=n.createElement(this.name);for(const a of this.getAttributeKeys())i.setAttribute(a,this.getAttribute(a));return i}}function rQ(l){l.document.on("arrowKey",(n,i)=>function(a,c,d){if(c.keyCode==_t.arrowright){const p=c.domTarget.ownerDocument.defaultView.getSelection(),g=p.rangeCount==1&&p.getRangeAt(0).collapsed;if(g||c.shiftKey){const b=p.focusNode,w=p.focusOffset,C=d.domPositionToView(b,w);if(C===null)return;let x=!1;const D=C.getLastMatchingPosition(N=>(N.item.is("uiElement")&&(x=!0),!(!N.item.is("uiElement")&&!N.item.is("attributeElement"))));if(x){const N=d.viewPositionToDom(D);g?p.collapse(N.parent,N.offset):p.extend(N.parent,N.offset)}}}}(0,i,l.domConverter),{priority:"low"})}function oQ(){return null}Ib.prototype.is=function(l,n){return n?n===this.name&&(l==="uiElement"||l==="view:uiElement"||l==="element"||l==="view:element"):l==="uiElement"||l==="view:uiElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class _C extends Eo{constructor(n,i,a,c){super(n,i,a,c),this.getFillerOffset=iQ}_insertChild(n,i){if(i&&(i instanceof ql||Array.from(i).length>0))throw new P("view-rawelement-cannot-add",[this,i]);return 0}render(n,i){}}function iQ(){return null}_C.prototype.is=function(l,n){return n?n===this.name&&(l==="rawElement"||l==="view:rawElement"||l==="element"||l==="view:element"):l==="rawElement"||l==="view:rawElement"||l===this.name||l==="view:"+this.name||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class Yl extends G(Wl){constructor(n,i){super(),this._children=[],this._customProperties=new Map,this.document=n,i&&this._insertChild(0,i)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(n){return this._customProperties.get(n)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(n){return this._insertChild(this.childCount,n)}getChild(n){return this._children[n]}getChildIndex(n){return this._children.indexOf(n)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(n,i){this._fireChange("children",this);let a=0;const c=function(d,p){return typeof p=="string"?[new en(d,p)]:(ae(p)||(p=[p]),Array.from(p).map(g=>typeof g=="string"?new en(d,g):g instanceof Zi?new en(d,g.data):g))}(this.document,i);for(const d of c)d.parent!==null&&d._remove(),d.parent=this,this._children.splice(n,0,d),n++,a++;return a}_removeChildren(n,i=1){this._fireChange("children",this);for(let a=n;a<n+i;a++)this._children[a].parent=null;return this._children.splice(n,i)}_fireChange(n,i){this.fire("change:"+n,i)}_setCustomProperty(n,i){this._customProperties.set(n,i)}_removeCustomProperty(n){return this._customProperties.delete(n)}}Yl.prototype.is=function(l){return l==="documentFragment"||l==="view:documentFragment"};class n5{constructor(n){this._cloneGroups=new Map,this._slotFactory=null,this.document=n}setSelection(...n){this.document.selection._setTo(...n)}setSelectionFocus(n,i){this.document.selection._setFocus(n,i)}createDocumentFragment(n){return new Yl(this.document,n)}createText(n){return new en(this.document,n)}createAttributeElement(n,i,a={}){const c=new Kl(this.document,n,i);return typeof a.priority=="number"&&(c._priority=a.priority),a.id&&(c._id=a.id),a.renderUnsafeAttributes&&c._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),c}createContainerElement(n,i,a={},c={}){let d=null;qr(a)?c=a:d=a;const p=new fp(this.document,n,i,d);return c.renderUnsafeAttributes&&p._unsafeAttributesToRender.push(...c.renderUnsafeAttributes),p}createEditableElement(n,i,a={}){const c=new Sb(this.document,n,i);return a.renderUnsafeAttributes&&c._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),c}createEmptyElement(n,i,a={}){const c=new yC(this.document,n,i);return a.renderUnsafeAttributes&&c._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),c}createUIElement(n,i,a){const c=new Ib(this.document,n,i);return a&&(c.render=a),c}createRawElement(n,i,a,c={}){const d=new _C(this.document,n,i);return a&&(d.render=a),c.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...c.renderUnsafeAttributes),d}setAttribute(n,i,a){a._setAttribute(n,i)}removeAttribute(n,i){i._removeAttribute(n)}addClass(n,i){i._addClass(n)}removeClass(n,i){i._removeClass(n)}setStyle(n,i,a){qr(n)&&a===void 0?i._setStyle(n):a._setStyle(n,i)}removeStyle(n,i){i._removeStyle(n)}setCustomProperty(n,i,a){a._setCustomProperty(n,i)}removeCustomProperty(n,i){return i._removeCustomProperty(n)}breakAttributes(n){return n instanceof xe?this._breakAttributes(n):this._breakAttributesRange(n)}breakContainer(n){const i=n.parent;if(!i.is("containerElement"))throw new P("view-writer-break-non-container-element",this.document);if(!i.parent)throw new P("view-writer-break-root",this.document);if(n.isAtStart)return xe._createBefore(i);if(!n.isAtEnd){const a=i._clone(!1);this.insert(xe._createAfter(i),a);const c=new et(n,xe._createAt(i,"end")),d=new xe(a,0);this.move(c,d)}return xe._createAfter(i)}mergeAttributes(n){const i=n.offset,a=n.parent;if(a.is("$text"))return n;if(a.is("attributeElement")&&a.childCount===0){const p=a.parent,g=a.index;return a._remove(),this._removeFromClonedElementsGroup(a),this.mergeAttributes(new xe(p,g))}const c=a.getChild(i-1),d=a.getChild(i);if(!c||!d)return n;if(c.is("$text")&&d.is("$text"))return o5(c,d);if(c.is("attributeElement")&&d.is("attributeElement")&&c.isSimilar(d)){const p=c.childCount;return c._appendChild(d.getChildren()),d._remove(),this._removeFromClonedElementsGroup(d),this.mergeAttributes(new xe(c,p))}return n}mergeContainers(n){const i=n.nodeBefore,a=n.nodeAfter;if(!(i&&a&&i.is("containerElement")&&a.is("containerElement")))throw new P("view-writer-merge-containers-invalid-position",this.document);const c=i.getChild(i.childCount-1),d=c instanceof en?xe._createAt(c,"end"):xe._createAt(i,"end");return this.move(et._createIn(a),xe._createAt(i,"end")),this.remove(et._createOn(a)),d}insert(n,i){i5(i=ae(i)?[...i]:[i],this.document);const a=i.reduce((p,g)=>{const b=p[p.length-1],w=!g.is("uiElement");return b&&b.breakAttributes==w?b.nodes.push(g):p.push({breakAttributes:w,nodes:[g]}),p},[]);let c=null,d=n;for(const{nodes:p,breakAttributes:g}of a){const b=this._insertNodes(d,p,g);c||(c=b.start),d=b.end}return c?new et(c,d):new et(n)}remove(n){const i=n instanceof et?n:et._createOn(n);if(gp(i,this.document),i.isCollapsed)return new Yl(this.document);const{start:a,end:c}=this._breakAttributesRange(i,!0),d=a.parent,p=c.offset-a.offset,g=d._removeChildren(a.offset,p);for(const w of g)this._removeFromClonedElementsGroup(w);const b=this.mergeAttributes(a);return i.start=b,i.end=b.clone(),new Yl(this.document,g)}clear(n,i){gp(n,this.document);const a=n.getWalker({direction:"backward",ignoreElementEnd:!0});for(const c of a){const d=c.item;let p;if(d.is("element")&&i.isSimilar(d))p=et._createOn(d);else if(!c.nextPosition.isAfter(n.start)&&d.is("$textProxy")){const g=d.getAncestors().find(b=>b.is("element")&&i.isSimilar(b));g&&(p=et._createIn(g))}p&&(p.end.isAfter(n.end)&&(p.end=n.end),p.start.isBefore(n.start)&&(p.start=n.start),this.remove(p))}}move(n,i){let a;if(i.isAfter(n.end)){const c=(i=this._breakAttributes(i,!0)).parent,d=c.childCount;n=this._breakAttributesRange(n,!0),a=this.remove(n),i.offset+=c.childCount-d}else a=this.remove(n);return this.insert(i,a)}wrap(n,i){if(!(i instanceof Kl))throw new P("view-writer-wrap-invalid-attribute",this.document);if(gp(n,this.document),n.isCollapsed){let c=n.start;c.parent.is("element")&&(a=c.parent,!Array.from(a.getChildren()).some(p=>!p.is("uiElement")))&&(c=c.getLastMatchingPosition(p=>p.item.is("uiElement"))),c=this._wrapPosition(c,i);const d=this.document.selection;return d.isCollapsed&&d.getFirstPosition().isEqual(n.start)&&this.setSelection(c),new et(c)}return this._wrapRange(n,i);var a}unwrap(n,i){if(!(i instanceof Kl))throw new P("view-writer-unwrap-invalid-attribute",this.document);if(gp(n,this.document),n.isCollapsed)return n;const{start:a,end:c}=this._breakAttributesRange(n,!0),d=a.parent,p=this._unwrapChildren(d,a.offset,c.offset,i),g=this.mergeAttributes(p.start);g.isEqual(p.start)||p.end.offset--;const b=this.mergeAttributes(p.end);return new et(g,b)}rename(n,i){const a=new fp(this.document,n,i.getAttributes());return this.insert(xe._createAfter(i),a),this.move(et._createIn(i),xe._createAt(a,0)),this.remove(et._createOn(i)),a}clearClonedElementsGroup(n){this._cloneGroups.delete(n)}createPositionAt(n,i){return xe._createAt(n,i)}createPositionAfter(n){return xe._createAfter(n)}createPositionBefore(n){return xe._createBefore(n)}createRange(n,i){return new et(n,i)}createRangeOn(n){return et._createOn(n)}createRangeIn(n){return et._createIn(n)}createSelection(...n){return new Ii(...n)}createSlot(n="children"){if(!this._slotFactory)throw new P("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,n)}_registerSlotFactory(n){this._slotFactory=n}_clearSlotFactory(){this._slotFactory=null}_insertNodes(n,i,a){let c,d;if(c=a?CC(n):n.parent.is("$text")?n.parent.parent:n.parent,!c)throw new P("view-writer-invalid-position-container",this.document);d=a?this._breakAttributes(n,!0):n.parent.is("$text")?AC(n):n;const p=c._insertChild(d.offset,i);for(const C of i)this._addToClonedElementsGroup(C);const g=d.getShiftedBy(p),b=this.mergeAttributes(d);b.isEqual(d)||g.offset--;const w=this.mergeAttributes(g);return new et(b,w)}_wrapChildren(n,i,a,c){let d=i;const p=[];for(;d<a;){const b=n.getChild(d),w=b.is("$text"),C=b.is("attributeElement");if(C&&this._wrapAttributeElement(c,b))p.push(new xe(n,d));else if(w||!C||sQ(c,b)){const x=c._clone();b._remove(),x._appendChild(b),n._insertChild(d,x),this._addToClonedElementsGroup(x),p.push(new xe(n,d))}else this._wrapChildren(b,0,b.childCount,c);d++}let g=0;for(const b of p)b.offset-=g,b.offset!=i&&(this.mergeAttributes(b).isEqual(b)||(g++,a--));return et._createFromParentsAndOffsets(n,i,n,a)}_unwrapChildren(n,i,a,c){let d=i;const p=[];for(;d<a;){const b=n.getChild(d);if(b.is("attributeElement"))if(b.isSimilar(c)){const w=b.getChildren(),C=b.childCount;b._remove(),n._insertChild(d,w),this._removeFromClonedElementsGroup(b),p.push(new xe(n,d),new xe(n,d+C)),d+=C,a+=C-1}else this._unwrapAttributeElement(c,b)?(p.push(new xe(n,d),new xe(n,d+1)),d++):(this._unwrapChildren(b,0,b.childCount,c),d++);else d++}let g=0;for(const b of p)b.offset-=g,!(b.offset==i||b.offset==a)&&(this.mergeAttributes(b).isEqual(b)||(g++,a--));return et._createFromParentsAndOffsets(n,i,n,a)}_wrapRange(n,i){const{start:a,end:c}=this._breakAttributesRange(n,!0),d=a.parent,p=this._wrapChildren(d,a.offset,c.offset,i),g=this.mergeAttributes(p.start);g.isEqual(p.start)||p.end.offset--;const b=this.mergeAttributes(p.end);return new et(g,b)}_wrapPosition(n,i){if(i.isSimilar(n.parent))return r5(n.clone());n.parent.is("$text")&&(n=AC(n));const a=this.createAttributeElement("_wrapPosition-fake-element");a._priority=Number.POSITIVE_INFINITY,a.isSimilar=()=>!1,n.parent._insertChild(n.offset,a);const c=new et(n,n.getShiftedBy(1));this.wrap(c,i);const d=new xe(a.parent,a.index);a._remove();const p=d.nodeBefore,g=d.nodeAfter;return p instanceof en&&g instanceof en?o5(p,g):r5(d)}_wrapAttributeElement(n,i){if(!s5(n,i)||n.name!==i.name||n.priority!==i.priority)return!1;for(const a of n.getAttributeKeys())if(a!=="class"&&a!=="style"&&i.hasAttribute(a)&&i.getAttribute(a)!==n.getAttribute(a))return!1;for(const a of n.getStyleNames())if(i.hasStyle(a)&&i.getStyle(a)!==n.getStyle(a))return!1;for(const a of n.getAttributeKeys())a!=="class"&&a!=="style"&&(i.hasAttribute(a)||this.setAttribute(a,n.getAttribute(a),i));for(const a of n.getStyleNames())i.hasStyle(a)||this.setStyle(a,n.getStyle(a),i);for(const a of n.getClassNames())i.hasClass(a)||this.addClass(a,i);return!0}_unwrapAttributeElement(n,i){if(!s5(n,i)||n.name!==i.name||n.priority!==i.priority)return!1;for(const a of n.getAttributeKeys())if(a!=="class"&&a!=="style"&&(!i.hasAttribute(a)||i.getAttribute(a)!==n.getAttribute(a)))return!1;if(!i.hasClass(...n.getClassNames()))return!1;for(const a of n.getStyleNames())if(!i.hasStyle(a)||i.getStyle(a)!==n.getStyle(a))return!1;for(const a of n.getAttributeKeys())a!=="class"&&a!=="style"&&this.removeAttribute(a,i);return this.removeClass(Array.from(n.getClassNames()),i),this.removeStyle(Array.from(n.getStyleNames()),i),!0}_breakAttributesRange(n,i=!1){const a=n.start,c=n.end;if(gp(n,this.document),n.isCollapsed){const b=this._breakAttributes(n.start,i);return new et(b,b)}const d=this._breakAttributes(c,i),p=d.parent.childCount,g=this._breakAttributes(a,i);return d.offset+=d.parent.childCount-p,new et(g,d)}_breakAttributes(n,i=!1){const a=n.offset,c=n.parent;if(n.parent.is("emptyElement"))throw new P("view-writer-cannot-break-empty-element",this.document);if(n.parent.is("uiElement"))throw new P("view-writer-cannot-break-ui-element",this.document);if(n.parent.is("rawElement"))throw new P("view-writer-cannot-break-raw-element",this.document);if(!i&&c.is("$text")&&xC(c.parent)||xC(c))return n.clone();if(c.is("$text"))return this._breakAttributes(AC(n),i);if(a==c.childCount){const d=new xe(c.parent,c.index+1);return this._breakAttributes(d,i)}if(a===0){const d=new xe(c.parent,c.index);return this._breakAttributes(d,i)}{const d=c.index+1,p=c._clone();c.parent._insertChild(d,p),this._addToClonedElementsGroup(p);const g=c.childCount-a,b=c._removeChildren(a,g);p._appendChild(b);const w=new xe(c.parent,d);return this._breakAttributes(w,i)}}_addToClonedElementsGroup(n){if(!n.root.is("rootElement"))return;if(n.is("element"))for(const c of n.getChildren())this._addToClonedElementsGroup(c);const i=n.id;if(!i)return;let a=this._cloneGroups.get(i);a||(a=new Set,this._cloneGroups.set(i,a)),a.add(n),n._clonesGroup=a}_removeFromClonedElementsGroup(n){if(n.is("element"))for(const c of n.getChildren())this._removeFromClonedElementsGroup(c);const i=n.id;if(!i)return;const a=this._cloneGroups.get(i);a&&a.delete(n)}}function CC(l){let n=l.parent;for(;!xC(n);){if(!n)return;n=n.parent}return n}function sQ(l,n){return l.priority<n.priority||!(l.priority>n.priority)&&l.getIdentity()<n.getIdentity()}function r5(l){const n=l.nodeBefore;if(n&&n.is("$text"))return new xe(n,n.data.length);const i=l.nodeAfter;return i&&i.is("$text")?new xe(i,0):l}function AC(l){if(l.offset==l.parent.data.length)return new xe(l.parent.parent,l.parent.index+1);if(l.offset===0)return new xe(l.parent.parent,l.parent.index);const n=l.parent.data.slice(l.offset);return l.parent._data=l.parent.data.slice(0,l.offset),l.parent.parent._insertChild(l.parent.index+1,new en(l.root.document,n)),new xe(l.parent.parent,l.parent.index+1)}function o5(l,n){const i=l.data.length;return l._data+=n.data,n._remove(),new xe(l,i)}const aQ=[en,Kl,fp,yC,_C,Ib];function i5(l,n){for(const i of l){if(!aQ.some(a=>i instanceof a))throw new P("view-writer-insert-invalid-node-type",n);i.is("$text")||i5(i.getChildren(),n)}}function xC(l){return l&&(l.is("containerElement")||l.is("documentFragment"))}function gp(l,n){const i=CC(l.start),a=CC(l.end);if(!i||!a||i!==a)throw new P("view-writer-invalid-range-container",n)}function s5(l,n){return l.id===null&&n.id===null}const a5=l=>l.createTextNode(""),l5=l=>{const n=l.createElement("span");return n.dataset.ckeFiller="true",n.innerText="",n},c5=l=>{const n=l.createElement("br");return n.dataset.ckeFiller="true",n},Mi=7,bp="".repeat(Mi);function So(l){return typeof l=="string"?l.substr(0,Mi)===bp:Fn(l)&&l.data.substr(0,Mi)===bp}function Ou(l){return l.data.length==Mi&&So(l)}function u5(l){const n=typeof l=="string"?l:l.data;return So(l)?n.slice(Mi):n}function lQ(l,n){if(n.keyCode==_t.arrowleft){const i=n.domTarget.ownerDocument.defaultView.getSelection();if(i.rangeCount==1&&i.getRangeAt(0).collapsed){const a=i.getRangeAt(0).startContainer,c=i.getRangeAt(0).startOffset;So(a)&&c<=Mi&&i.collapse(a,0)}}}var d5=s(8264),cQ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(d5.A,cQ),d5.A.locals;class uQ extends be(){constructor(n,i){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=n,this.selection=i,this.set("isFocused",!1),this.set("isSelecting",!1),v.isBlink&&!v.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(n,i){if(n==="text")this.domConverter.mapViewToDom(i.parent)&&this.markedTexts.add(i);else{if(!this.domConverter.mapViewToDom(i))return;if(n==="attributes")this.markedAttributes.add(i);else{if(n!=="children")throw new P("view-renderer-unknown-type",this);this.markedChildren.add(i)}}}render(){if(this.isComposing&&!v.isAndroid)return;let n=null;const i=!(v.isBlink&&!v.isAndroid)||!this.isSelecting;for(const a of this.markedChildren)this._updateChildrenMappings(a);i?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?n=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(n=this.selection.getFirstPosition(),this.markedChildren.add(n.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(n=this.domConverter.domPositionToView(this._inlineFiller),n&&n.parent.is("$text")&&(n=xe._createBefore(n.parent)));for(const a of this.markedAttributes)this._updateAttrs(a);for(const a of this.markedChildren)this._updateChildren(a,{inlineFillerPosition:n});for(const a of this.markedTexts)!this.markedChildren.has(a.parent)&&this.domConverter.mapViewToDom(a.parent)&&this._updateText(a,{inlineFillerPosition:n});if(i)if(n){const a=this.domConverter.viewPositionToDom(n),c=a.parent.ownerDocument;So(a.parent)?this._inlineFiller=a.parent:this._inlineFiller=h5(c,a.parent,a.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(n){const i=this.domConverter.mapViewToDom(n);if(!i)return;const a=Array.from(i.childNodes),c=Array.from(this.domConverter.viewChildrenToDom(n,{withChildren:!1})),d=this._diffNodeLists(a,c),p=this._findUpdateActions(d,a,c,dQ);if(p.indexOf("update")!==-1){const g={equal:0,insert:0,delete:0};for(const b of p)if(b==="update"){const w=g.equal+g.insert,C=g.equal+g.delete,x=n.getChild(w);!x||x.is("uiElement")||x.is("rawElement")||this._updateElementMappings(x,a[C]),pM(c[w]),g.equal++}else g[b]++}}_updateElementMappings(n,i){this.domConverter.unbindDomElement(i),this.domConverter.bindElements(i,n),this.markedChildren.add(n),this.markedAttributes.add(n)}_getInlineFillerPosition(){const n=this.selection.getFirstPosition();return n.parent.is("$text")?xe._createBefore(n.parent):n}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const n=this.selection.getFirstPosition(),i=this.domConverter.viewPositionToDom(n);return!!(i&&Fn(i.parent)&&So(i.parent))}_removeInlineFiller(){const n=this._inlineFiller;if(!So(n))throw new P("view-renderer-filler-was-lost",this);Ou(n)?n.remove():n.data=n.data.substr(Mi),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const n=this.selection.getFirstPosition(),i=n.parent,a=n.offset;if(!this.domConverter.mapViewToDom(i.root)||!i.is("element")||!function(p){if(p.getAttribute("contenteditable")=="false")return!1;const g=p.findAncestor(b=>b.hasAttribute("contenteditable"));return!g||g.getAttribute("contenteditable")=="true"}(i))return!1;const c=n.nodeBefore,d=n.nodeAfter;return!(c instanceof en||d instanceof en)&&!!(a!==i.getFillerOffset()||c&&c.is("element","br"))&&(!v.isAndroid||!c&&!d)}_updateText(n,i){const a=this.domConverter.findCorrespondingDomText(n);let c=this.domConverter.viewToDom(n).data;const d=i.inlineFillerPosition;d&&d.parent==n.parent&&d.offset==n.index&&(c=bp+c),p5(a,c)}_updateAttrs(n){const i=this.domConverter.mapViewToDom(n);if(!i)return;const a=Array.from(i.attributes).map(d=>d.name),c=n.getAttributeKeys();for(const d of c)this.domConverter.setDomElementAttribute(i,d,n.getAttribute(d),n);for(const d of a)n.hasAttribute(d)||this.domConverter.removeDomElementAttribute(i,d)}_updateChildren(n,i){const a=this.domConverter.mapViewToDom(n);if(!a)return;if(v.isAndroid){let x=null;for(const D of Array.from(a.childNodes)){if(x&&Fn(x)&&Fn(D)){a.normalize();break}x=D}}const c=i.inlineFillerPosition,d=a.childNodes,p=Array.from(this.domConverter.viewChildrenToDom(n,{bind:!0}));c&&c.parent===n&&h5(a.ownerDocument,p,c.offset);const g=this._diffNodeLists(d,p),b=this._findUpdateActions(g,d,p,hQ);let w=0;const C=new Set;for(const x of b)x==="delete"?(C.add(d[w]),pM(d[w])):x!=="equal"&&x!=="update"||w++;w=0;for(const x of b)x==="insert"?(cM(a,w,p[w]),w++):x==="update"?(p5(d[w],p[w].data),w++):x==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(p[w])),w++);for(const x of C)x.parentNode||this.domConverter.unbindDomElement(x)}_diffNodeLists(n,i){return n=function(a,c){const d=Array.from(a);return d.length==0||!c||d[d.length-1]==c&&d.pop(),d}(n,this._fakeSelectionContainer),E(n,i,pQ.bind(null,this.domConverter))}_findUpdateActions(n,i,a,c){if(n.indexOf("insert")===-1||n.indexOf("delete")===-1)return n;let d=[],p=[],g=[];const b={equal:0,insert:0,delete:0};for(const w of n)w==="insert"?g.push(a[b.equal+b.insert]):w==="delete"?p.push(i[b.equal+b.delete]):(d=d.concat(E(p,g,c).map(C=>C==="equal"?"update":C)),d.push("equal"),p=[],g=[]),b[w]++;return d.concat(E(p,g,c).map(w=>w==="equal"?"update":w))}_markDescendantTextToSync(n){if(n){if(n.is("$text"))this.markedTexts.add(n);else if(n.is("element"))for(const i of n.getChildren())this._markDescendantTextToSync(i)}}_updateSelection(){if(v.isBlink&&!v.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const n=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&n&&(this.selection.isFake?this._updateFakeSelection(n):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(n)):this.isComposing&&v.isAndroid||this._updateDomSelection(n))}_updateFakeSelection(n){const i=n.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(p){const g=p.createElement("div");return g.className="ck-fake-selection-container",Object.assign(g.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),g.textContent="",g}(i));const a=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(a,this.selection),!this._fakeSelectionNeedsUpdate(n))return;a.parentElement&&a.parentElement==n||n.appendChild(a),a.textContent=this.selection.fakeSelectionLabel||"";const c=i.getSelection(),d=i.createRange();c.removeAllRanges(),d.selectNodeContents(a),c.addRange(d)}_updateDomSelection(n){const i=n.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(i))return;const a=this.domConverter.viewPositionToDom(this.selection.anchor),c=this.domConverter.viewPositionToDom(this.selection.focus);i.setBaseAndExtent(a.parent,a.offset,c.parent,c.offset),v.isGecko&&function(d,p){let g=d.parent,b=d.offset;if(Fn(g)&&Ou(g)&&(b=cp(g)+1,g=g.parentNode),g.nodeType!=Node.ELEMENT_NODE||b!=g.childNodes.length-1)return;const w=g.childNodes[b];w&&w.tagName=="BR"&&p.addRange(p.getRangeAt(0))}(c,i)}_domSelectionNeedsUpdate(n){if(!this.domConverter.isDomSelectionCorrect(n))return!0;const i=n&&this.domConverter.domSelectionToView(n);return(!i||!this.selection.isEqual(i))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(i))}_fakeSelectionNeedsUpdate(n){const i=this._fakeSelectionContainer,a=n.ownerDocument.getSelection();return!i||i.parentElement!==n||a.anchorNode!==i&&!i.contains(a.anchorNode)||i.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const n of this.domDocuments){const i=n.getSelection();if(i.rangeCount){const a=n.activeElement,c=this.domConverter.mapDomToView(a);a&&c&&i.removeAllRanges()}}}_removeFakeSelection(){const n=this._fakeSelectionContainer;n&&n.remove()}_updateFocus(){if(this.isFocused){const n=this.selection.editableElement;n&&this.domConverter.focus(n)}}}function h5(l,n,i){const a=n instanceof Array?n:n.childNodes,c=a[i];if(Fn(c))return c.data=bp+c.data,c;{const d=l.createTextNode(bp);return Array.isArray(n)?a.splice(i,0,d):cM(n,i,d),d}}function dQ(l,n){return Sa(l)&&Sa(n)&&!Fn(l)&&!Fn(n)&&!up(l)&&!up(n)&&l.tagName.toLowerCase()===n.tagName.toLowerCase()}function hQ(l,n){return Sa(l)&&Sa(n)&&Fn(l)&&Fn(n)}function pQ(l,n,i){return n===i||(Fn(n)&&Fn(i)?n.data===i.data:!(!l.isBlockFiller(n)||!l.isBlockFiller(i)))}function p5(l,n){const i=l.data;if(i==n)return;const a=y(i,n);for(const c of a)c.type==="insert"?l.insertData(c.index,c.values.join("")):l.deleteData(c.index,c.howMany)}const fQ=c5(m.document),mQ=a5(m.document),gQ=l5(m.document),Mb="data-ck-unsafe-attribute-",f5="data-ck-unsafe-element";class Pb{constructor(n,{blockFillerMode:i,renderingMode:a="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Ji,this._inlineObjectElementMatcher=new Ji,this._elementsWithTemporaryCustomProperties=new Set,this.document=n,this.renderingMode=a,this.blockFillerMode=i||(a==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?m.document:m.document.implementation.createHTMLDocument("")}bindFakeSelection(n,i){this._fakeSelectionMapping.set(n,new Ii(i))}fakeSelectionToView(n){return this._fakeSelectionMapping.get(n)}bindElements(n,i){this._domToViewMapping.set(n,i),this._viewToDomMapping.set(i,n)}unbindDomElement(n){const i=this._domToViewMapping.get(n);if(i){this._domToViewMapping.delete(n),this._viewToDomMapping.delete(i);for(const a of Array.from(n.children))this.unbindDomElement(a)}}bindDocumentFragments(n,i){this._domToViewMapping.set(n,i),this._viewToDomMapping.set(i,n)}shouldRenderAttribute(n,i,a){return this.renderingMode==="data"||!(n=n.toLowerCase()).startsWith("on")&&(n!=="srcdoc"||!i.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(a==="img"&&(n==="src"||n==="srcset")||a==="source"&&n==="srcset"||!i.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(n,i){if(this.renderingMode==="data")return void(n.innerHTML=i);const a=new DOMParser().parseFromString(i,"text/html"),c=a.createDocumentFragment(),d=a.body.childNodes;for(;d.length>0;)c.appendChild(d[0]);const p=a.createTreeWalker(c,NodeFilter.SHOW_ELEMENT),g=[];let b;for(;b=p.nextNode();)g.push(b);for(const w of g){for(const x of w.getAttributeNames())this.setDomElementAttribute(w,x,w.getAttribute(x));const C=w.tagName.toLowerCase();this._shouldRenameElement(C)&&(b5(C),w.replaceWith(this._createReplacementDomElement(C,w)))}for(;n.firstChild;)n.firstChild.remove();n.append(c)}viewToDom(n,i={}){if(n.is("$text")){const a=this._processDataFromViewText(n);return this._domDocument.createTextNode(a)}{const a=n;if(this.mapViewToDom(a)){if(!a.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(a);this._elementsWithTemporaryCustomProperties.add(a)}let c;if(a.is("documentFragment"))c=this._domDocument.createDocumentFragment(),i.bind&&this.bindDocumentFragments(c,a);else{if(a.is("uiElement"))return c=a.name==="$comment"?this._domDocument.createComment(a.getCustomProperty("$rawContent")):a.render(this._domDocument,this),i.bind&&this.bindElements(c,a),c;this._shouldRenameElement(a.name)?(b5(a.name),c=this._createReplacementDomElement(a.name)):c=a.hasAttribute("xmlns")?this._domDocument.createElementNS(a.getAttribute("xmlns"),a.name):this._domDocument.createElement(a.name),a.is("rawElement")&&a.render(c,this),i.bind&&this.bindElements(c,a);for(const d of a.getAttributeKeys())this.setDomElementAttribute(c,d,a.getAttribute(d),a)}if(i.withChildren!==!1)for(const d of this.viewChildrenToDom(a,i))c instanceof HTMLTemplateElement?c.content.appendChild(d):c.appendChild(d);return c}}setDomElementAttribute(n,i,a,c){const d=this.shouldRenderAttribute(i,a,n.tagName.toLowerCase())||c&&c.shouldRenderUnsafeAttribute(i);d||z("domconverter-unsafe-attribute-detected",{domElement:n,key:i,value:a}),function(p){try{m.document.createAttribute(p)}catch{return!1}return!0}(i)?(n.hasAttribute(i)&&!d?n.removeAttribute(i):n.hasAttribute(Mb+i)&&d&&n.removeAttribute(Mb+i),n.setAttribute(d?i:Mb+i,a)):z("domconverter-invalid-attribute-detected",{domElement:n,key:i,value:a})}removeDomElementAttribute(n,i){i!=f5&&(n.removeAttribute(i),n.removeAttribute(Mb+i))}*viewChildrenToDom(n,i={}){const a=n.getFillerOffset&&n.getFillerOffset();let c=0;for(const d of n.getChildren()){a===c&&(yield this._getBlockFiller());const p=d.is("element")&&!!d.getCustomProperty("dataPipeline:transparentRendering")&&!ur(d.getAttributes());p&&this.renderingMode=="data"?yield*this.viewChildrenToDom(d,i):(p&&z("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:d}),yield this.viewToDom(d,i)),c++}a===c&&(yield this._getBlockFiller())}viewRangeToDom(n){const i=this.viewPositionToDom(n.start),a=this.viewPositionToDom(n.end),c=this._domDocument.createRange();return c.setStart(i.parent,i.offset),c.setEnd(a.parent,a.offset),c}viewPositionToDom(n){const i=n.parent;if(i.is("$text")){const a=this.findCorrespondingDomText(i);if(!a)return null;let c=n.offset;return So(a)&&(c+=Mi),{parent:a,offset:c}}{let a,c,d;if(n.offset===0){if(a=this.mapViewToDom(i),!a)return null;d=a.childNodes[0]}else{const p=n.nodeBefore;if(c=p.is("$text")?this.findCorrespondingDomText(p):this.mapViewToDom(p),!c)return null;a=c.parentNode,d=c.nextSibling}return Fn(d)&&So(d)?{parent:d,offset:Mi}:{parent:a,offset:c?cp(c)+1:0}}}domToView(n,i={}){const a=[],c=this._domToView(n,i,a),d=c.next().value;return d?(c.next(),this._processDomInlineNodes(null,a,i),d.is("$text")&&d.data.length==0?null:d):null}*domChildrenToView(n,i={},a=[]){let c=[];c=n instanceof HTMLTemplateElement?[...n.content.childNodes]:[...n.childNodes];for(let d=0;d<c.length;d++){const p=c[d],g=this._domToView(p,i,a),b=g.next().value;b!==null&&(this._isBlockViewElement(b)&&this._processDomInlineNodes(n,a,i),yield b,g.next())}this._processDomInlineNodes(n,a,i)}domSelectionToView(n){if(function(c){if(!v.isGecko||!c.rangeCount)return!1;const d=c.getRangeAt(0).startContainer;try{Object.prototype.toString.call(d)}catch{return!0}return!1}(n))return new Ii([]);if(n.rangeCount===1){let c=n.getRangeAt(0).startContainer;Fn(c)&&(c=c.parentNode);const d=this.fakeSelectionToView(c);if(d)return d}const i=this.isDomSelectionBackward(n),a=[];for(let c=0;c<n.rangeCount;c++){const d=n.getRangeAt(c),p=this.domRangeToView(d);p&&a.push(p)}return new Ii(a,{backward:i})}domRangeToView(n){const i=this.domPositionToView(n.startContainer,n.startOffset),a=this.domPositionToView(n.endContainer,n.endOffset);return i&&a?new et(i,a):null}domPositionToView(n,i=0){if(this.isBlockFiller(n))return this.domPositionToView(n.parentNode,cp(n));const a=this.mapDomToView(n);if(a&&(a.is("uiElement")||a.is("rawElement")))return xe._createBefore(a);if(Fn(n)){if(Ou(n))return this.domPositionToView(n.parentNode,cp(n));const c=this.findCorrespondingViewText(n);let d=i;return c?(So(n)&&(d-=Mi,d=d<0?0:d),new xe(c,d)):null}if(i===0){const c=this.mapDomToView(n);if(c)return new xe(c,0)}else{const c=n.childNodes[i-1];if(Fn(c)&&Ou(c)||c&&this.isBlockFiller(c))return this.domPositionToView(c.parentNode,cp(c));const d=Fn(c)?this.findCorrespondingViewText(c):this.mapDomToView(c);if(d&&d.parent)return new xe(d.parent,d.index+1)}return null}mapDomToView(n){return this.getHostViewElement(n)||this._domToViewMapping.get(n)}findCorrespondingViewText(n){if(Ou(n))return null;const i=this.getHostViewElement(n);if(i)return i;const a=n.previousSibling;if(a){if(!this.isElement(a))return null;const c=this.mapDomToView(a);if(c){const d=c.nextSibling;return d instanceof en?d:null}}else{const c=this.mapDomToView(n.parentNode);if(c){const d=c.getChild(0);return d instanceof en?d:null}}return null}mapViewToDom(n){return this._viewToDomMapping.get(n)}findCorrespondingDomText(n){const i=n.previousSibling;return i&&this.mapViewToDom(i)?this.mapViewToDom(i).nextSibling:!i&&n.parent&&this.mapViewToDom(n.parent)?this.mapViewToDom(n.parent).childNodes[0]:null}focus(n){const i=this.mapViewToDom(n);if(i&&i.ownerDocument.activeElement!==i){const{scrollX:a,scrollY:c}=m.window,d=[];m5(i,p=>{const{scrollLeft:g,scrollTop:b}=p;d.push([g,b])}),i.focus(),m5(i,p=>{const[g,b]=d.shift();p.scrollLeft=g,p.scrollTop=b}),m.window.scrollTo(a,c)}}_clearDomSelection(){const n=this.mapViewToDom(this.document.selection.editableElement);if(!n)return;const i=n.ownerDocument.defaultView.getSelection(),a=this.domSelectionToView(i);a&&a.rangeCount>0&&i.removeAllRanges()}isElement(n){return n&&n.nodeType==Node.ELEMENT_NODE}isDocumentFragment(n){return n&&n.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(n){return this.blockFillerMode=="br"?n.isEqualNode(fQ):!(n.tagName!=="BR"||!g5(n,this.blockElements)||n.parentNode.childNodes.length!==1)||n.isEqualNode(gQ)||function(i,a){return i.isEqualNode(mQ)&&g5(i,a)&&i.parentNode.childNodes.length===1}(n,this.blockElements)}isDomSelectionBackward(n){if(n.isCollapsed)return!1;const i=this._domDocument.createRange();try{i.setStart(n.anchorNode,n.anchorOffset),i.setEnd(n.focusNode,n.focusOffset)}catch{return!1}const a=i.collapsed;return i.detach(),a}getHostViewElement(n){const i=function(a){const c=[];let d=a;for(;d&&d.nodeType!=Node.DOCUMENT_NODE;)c.unshift(d),d=d.parentNode;return c}(n);for(i.pop();i.length;){const a=i.pop(),c=this._domToViewMapping.get(a);if(c&&(c.is("uiElement")||c.is("rawElement")))return c}return null}isDomSelectionCorrect(n){return this._isDomSelectionPositionCorrect(n.anchorNode,n.anchorOffset)&&this._isDomSelectionPositionCorrect(n.focusNode,n.focusOffset)}registerRawContentMatcher(n){this._rawContentElementMatcher.add(n)}registerInlineObjectMatcher(n){this._inlineObjectElementMatcher.add(n)}_clearTemporaryCustomProperties(){for(const n of this._elementsWithTemporaryCustomProperties)n._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return a5(this._domDocument);case"markedNbsp":return l5(this._domDocument);case"br":return c5(this._domDocument)}}_isDomSelectionPositionCorrect(n,i){if(Fn(n)&&So(n)&&i<Mi||this.isElement(n)&&So(n.childNodes[i]))return!1;const a=this.mapDomToView(n);return!a||!a.is("uiElement")&&!a.is("rawElement")}*_domToView(n,i,a){if(this.isBlockFiller(n))return null;const c=this.getHostViewElement(n);if(c)return c;if(up(n)&&i.skipComments)return null;if(Fn(n)){if(Ou(n))return null;{const d=n.data;if(d==="")return null;const p=new en(this.document,d);return a.push(p),p}}{let d=this.mapDomToView(n);if(d)return this._isInlineObjectElement(d)&&a.push(d),d;if(this.isDocumentFragment(n))d=new Yl(this.document),i.bind&&this.bindDocumentFragments(n,d);else{d=this._createViewElement(n,i),i.bind&&this.bindElements(n,d);const g=n.attributes;if(g)for(let b=g.length,w=0;w<b;w++)d._setAttribute(g[w].name,g[w].value);if(this._isViewElementWithRawContent(d,i))return d._setCustomProperty("$rawContent",n.innerHTML),this._isBlockViewElement(d)||a.push(d),d;if(up(n))return d._setCustomProperty("$rawContent",n.data),d}yield d;const p=[];if(i.withChildren!==!1)for(const g of this.domChildrenToView(n,i,p))d._appendChild(g);if(this._isInlineObjectElement(d))a.push(d);else for(const g of p)a.push(g)}}_processDomInlineNodes(n,i,a){if(!i.length||n&&!this.isDocumentFragment(n)&&!this._isBlockDomElement(n))return;let c=!1;for(let d=0;d<i.length;d++){const p=i[d];if(!p.is("$text")){c=!1;continue}let g,b=!1;if(bQ(p,this.preElements))g=u5(p.data);else{g=p.data.replace(/[ \n\t\r]{1,}/g," "),b=/[^\S\u00A0]/.test(g.charAt(g.length-1));const w=d>0?i[d-1]:null,C=d+1<i.length?i[d+1]:null,x=!w||w.is("element")&&w.name=="br"||c,D=!C&&!So(p.data);a.withChildren!==!1&&(x&&(g=g.replace(/^ /,"")),D&&(g=g.replace(/ $/,""))),g=u5(g),g=g.replace(/ \u00A0/g,"  ");const N=C&&C.is("element")&&C.name!="br",B=C&&C.is("$text")&&C.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(g)||!C||N||B)&&(g=g.replace(/\u00A0$/," ")),(x||w&&w.is("element")&&w.name!="br")&&(g=g.replace(/^\u00A0/," "))}g.length==0&&p.parent?(p._remove(),i.splice(d,1),d--):(p._data=g,c=b)}i.length=0}_processDataFromViewText(n){let i=n.data;if(n.getAncestors().some(a=>this.preElements.includes(a.name)))return i;if(i.charAt(0)==" "){const a=this._getTouchingInlineViewNode(n,!1);!(a&&a.is("$textProxy")&&this._nodeEndsWithSpace(a))&&a||(i=""+i.substr(1))}if(i.charAt(i.length-1)==" "){const a=this._getTouchingInlineViewNode(n,!0),c=a&&a.is("$textProxy")&&a.data.charAt(0)==" ";i.charAt(i.length-2)!=" "&&a&&!c||(i=i.substr(0,i.length-1)+"")}return i.replace(/ {2}/g," ")}_nodeEndsWithSpace(n){if(n.getAncestors().some(a=>this.preElements.includes(a.name)))return!1;const i=this._processDataFromViewText(n);return i.charAt(i.length-1)==" "}_getTouchingInlineViewNode(n,i){const a=new Gl({startPosition:i?xe._createAfter(n):xe._createBefore(n),direction:i?"forward":"backward"});for(const c of a){if(c.item.is("element","br"))return null;if(this._isInlineObjectElement(c.item))return c.item;if(c.item.is("containerElement"))return null;if(c.item.is("$textProxy"))return c.item}return null}_isBlockDomElement(n){return this.isElement(n)&&this.blockElements.includes(n.tagName.toLowerCase())}_isBlockViewElement(n){return n.is("element")&&this.blockElements.includes(n.name)}_isInlineObjectElement(n){return!!n.is("element")&&(n.name=="br"||this.inlineObjectElements.includes(n.name)||!!this._inlineObjectElementMatcher.match(n))}_createViewElement(n,i){if(up(n))return new Ib(this.document,"$comment");const a=i.keepOriginalCase?n.tagName:n.tagName.toLowerCase();return new Eo(this.document,a)}_isViewElementWithRawContent(n,i){return i.withChildren!==!1&&n.is("element")&&!!this._rawContentElementMatcher.match(n)}_shouldRenameElement(n){const i=n.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(i)}_createReplacementDomElement(n,i){const a=this._domDocument.createElement("span");if(a.setAttribute(f5,n),i){for(;i.firstChild;)a.appendChild(i.firstChild);for(const c of i.getAttributeNames())a.setAttribute(c,i.getAttribute(c))}return a}}function bQ(l,n){return l.getAncestors().some(i=>i.is("element")&&n.includes(i.name))}function m5(l,n){let i=l;for(;i;)n(i),i=i.parentElement}function g5(l,n){const i=l.parentNode;return!!i&&!!i.tagName&&n.includes(i.tagName.toLowerCase())}function b5(l){l==="script"&&z("domconverter-unsafe-script-element-detected"),l==="style"&&z("domconverter-unsafe-style-element-detected")}class Xi extends ei(){constructor(n){super(),this._isEnabled=!1,this.view=n,this.document=n.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(n){return n&&n.nodeType===3&&(n=n.parentNode),!(!n||n.nodeType!==1)&&n.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const k5=CM(function(l,n){Eu(n,Du(n),l)});class Bu{constructor(n,i,a){this.view=n,this.document=n.document,this.domEvent=i,this.domTarget=i.target,k5(this,a)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Ta extends Xi{constructor(){super(...arguments),this.useCapture=!1}observe(n){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(i=>{this.listenTo(n,i,(a,c)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(c.target)&&this.onDomEvent(c)},{useCapture:this.useCapture})})}stopObserving(n){this.stopListening(n)}fire(n,i,a){this.isEnabled&&this.document.fire(n,new Bu(this.view,i,a))}}class kQ extends Ta{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(n){const i={keyCode:n.keyCode,altKey:n.altKey,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,metaKey:n.metaKey,get keystroke(){return Iu(this)}};this.fire(n.type,n,i)}}const EC=function(){return Pe.Date.now()};var vQ=/\s/;const wQ=function(l){for(var n=l.length;n--&&vQ.test(l.charAt(n)););return n};var yQ=/^\s+/;const _Q=function(l){return l&&l.slice(0,wQ(l)+1).replace(yQ,"")};var CQ=/^[-+]0x[0-9a-f]+$/i,AQ=/^0b[01]+$/i,xQ=/^0o[0-7]+$/i,EQ=parseInt;const v5=function(l){if(typeof l=="number")return l;if(xb(l))return NaN;if(Se(l)){var n=typeof l.valueOf=="function"?l.valueOf():l;l=Se(n)?n+"":n}if(typeof l!="string")return l===0?l:+l;l=_Q(l);var i=AQ.test(l);return i||xQ.test(l)?EQ(l.slice(2),i?2:8):CQ.test(l)?NaN:+l};var SQ=Math.max,DQ=Math.min;const Lu=function(l,n,i){var a,c,d,p,g,b,w=0,C=!1,x=!1,D=!0;if(typeof l!="function")throw new TypeError("Expected a function");function N(Y){var oe=a,ue=c;return a=c=void 0,w=Y,p=l.apply(ue,oe)}function B(Y){var oe=Y-b;return b===void 0||oe>=n||oe<0||x&&Y-w>=d}function F(){var Y=EC();if(B(Y))return U(Y);g=setTimeout(F,function(oe){var ue=n-(oe-b);return x?DQ(ue,d-(oe-w)):ue}(Y))}function U(Y){return g=void 0,D&&a?N(Y):(a=c=void 0,p)}function W(){var Y=EC(),oe=B(Y);if(a=arguments,c=this,b=Y,oe){if(g===void 0)return function(ue){return w=ue,g=setTimeout(F,n),C?N(ue):p}(b);if(x)return clearTimeout(g),g=setTimeout(F,n),N(b)}return g===void 0&&(g=setTimeout(F,n)),p}return n=v5(n)||0,Se(i)&&(C=!!i.leading,d=(x="maxWait"in i)?SQ(v5(i.maxWait)||0,n):d,D="trailing"in i?!!i.trailing:D),W.cancel=function(){g!==void 0&&clearTimeout(g),w=0,a=b=c=g=void 0},W.flush=function(){return g===void 0?p:U(EC())},W};class TQ extends Xi{constructor(n){super(n),this._fireSelectionChangeDoneDebounced=Lu(i=>{this.document.fire("selectionChangeDone",i)},200)}observe(){const n=this.document;n.on("arrowKey",(i,a)=>{n.selection.isFake&&this.isEnabled&&a.preventDefault()},{context:"$capture"}),n.on("arrowKey",(i,a)=>{n.selection.isFake&&this.isEnabled&&this._handleSelectionMove(a.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(n){const i=this.document.selection,a=new Ii(i.getRanges(),{backward:i.isBackward,fake:!1});n!=_t.arrowleft&&n!=_t.arrowup||a.setTo(a.getFirstPosition()),n!=_t.arrowright&&n!=_t.arrowdown||a.setTo(a.getLastPosition());const c={oldSelection:i,newSelection:a,domSelection:null};this.document.fire("selectionChange",c),this._fireSelectionChangeDoneDebounced(c)}}const IQ=function(l){return this.__data__.set(l,"__lodash_hash_undefined__"),this},MQ=function(l){return this.__data__.has(l)};function Nb(l){var n=-1,i=l==null?0:l.length;for(this.__data__=new ab;++n<i;)this.add(l[n])}Nb.prototype.add=Nb.prototype.push=IQ,Nb.prototype.has=MQ;const PQ=Nb,NQ=function(l,n){for(var i=-1,a=l==null?0:l.length;++i<a;)if(n(l[i],i,l))return!0;return!1},RQ=function(l,n){return l.has(n)},w5=function(l,n,i,a,c,d){var p=1&i,g=l.length,b=n.length;if(g!=b&&!(p&&b>g))return!1;var w=d.get(l),C=d.get(n);if(w&&C)return w==n&&C==l;var x=-1,D=!0,N=2&i?new PQ:void 0;for(d.set(l,n),d.set(n,l);++x<g;){var B=l[x],F=n[x];if(a)var U=p?a(F,B,x,n,l,d):a(B,F,x,l,n,d);if(U!==void 0){if(U)continue;D=!1;break}if(N){if(!NQ(n,function(W,Y){if(!RQ(N,Y)&&(B===W||c(B,W,i,a,d)))return N.push(Y)})){D=!1;break}}else if(B!==F&&!c(B,F,i,a,d)){D=!1;break}}return d.delete(l),d.delete(n),D},OQ=function(l){var n=-1,i=Array(l.size);return l.forEach(function(a,c){i[++n]=[c,a]}),i},BQ=function(l){var n=-1,i=Array(l.size);return l.forEach(function(a){i[++n]=a}),i};var y5=ht?ht.prototype:void 0,SC=y5?y5.valueOf:void 0;const LQ=function(l,n,i,a,c,d,p){switch(i){case"[object DataView]":if(l.byteLength!=n.byteLength||l.byteOffset!=n.byteOffset)return!1;l=l.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(l.byteLength!=n.byteLength||!d(new pb(l),new pb(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Os(+l,+n);case"[object Error]":return l.name==n.name&&l.message==n.message;case"[object RegExp]":case"[object String]":return l==n+"";case"[object Map]":var g=OQ;case"[object Set]":var b=1&a;if(g||(g=BQ),l.size!=n.size&&!b)return!1;var w=p.get(l);if(w)return w==n;a|=2,p.set(l,n);var C=w5(g(l),g(n),a,c,d,p);return p.delete(l),C;case"[object Symbol]":if(SC)return SC.call(l)==SC.call(n)}return!1};var jQ=Object.prototype.hasOwnProperty;const FQ=function(l,n,i,a,c,d){var p=1&i,g=V_(l),b=g.length;if(b!=V_(n).length&&!p)return!1;for(var w=b;w--;){var C=g[w];if(!(p?C in n:jQ.call(n,C)))return!1}var x=d.get(l),D=d.get(n);if(x&&D)return x==n&&D==l;var N=!0;d.set(l,n),d.set(n,l);for(var B=p;++w<b;){var F=l[C=g[w]],U=n[C];if(a)var W=p?a(U,F,C,n,l,d):a(F,U,C,l,n,d);if(!(W===void 0?F===U||c(F,U,i,a,d):W)){N=!1;break}B||(B=C=="constructor")}if(N&&!B){var Y=l.constructor,oe=n.constructor;Y==oe||!("constructor"in l)||!("constructor"in n)||typeof Y=="function"&&Y instanceof Y&&typeof oe=="function"&&oe instanceof oe||(N=!1)}return d.delete(l),d.delete(n),N};var _5="[object Arguments]",C5="[object Array]",Rb="[object Object]",A5=Object.prototype.hasOwnProperty;const zQ=function(l,n,i,a,c,d){var p=un(l),g=un(n),b=p?C5:ap(l),w=g?C5:ap(n),C=(b=b==_5?Rb:b)==Rb,x=(w=w==_5?Rb:w)==Rb,D=b==w;if(D&&op(l)){if(!op(n))return!1;p=!0,C=!1}if(D&&!C)return d||(d=new xu),p||F_(l)?w5(l,n,i,a,c,d):LQ(l,n,b,i,a,c,d);if(!(1&i)){var N=C&&A5.call(l,"__wrapped__"),B=x&&A5.call(n,"__wrapped__");if(N||B){var F=N?l.value():l,U=B?n.value():n;return d||(d=new xu),c(F,U,i,a,d)}}return!!D&&(d||(d=new xu),FQ(l,n,i,a,c,d))},Ob=function l(n,i,a,c,d){return n===i||(n==null||i==null||!tr(n)&&!tr(i)?n!=n&&i!=i:zQ(n,i,a,c,l,d))},$Q=function(l,n,i){var a=(i=typeof i=="function"?i:void 0)?i(l,n):void 0;return a===void 0?Ob(l,n,void 0,i):!!a};class x5 extends Xi{constructor(n){super(n),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=n.domConverter,this.renderer=n._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(n){this._domElements.add(n),this.isEnabled&&this._mutationObserver.observe(n,this._config)}stopObserving(n){if(this._domElements.delete(n),this.isEnabled){this._mutationObserver.disconnect();for(const i of this._domElements)this._mutationObserver.observe(i,this._config)}}enable(){super.enable();for(const n of this._domElements)this._mutationObserver.observe(n,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(n){if(n.length===0)return;const i=this.domConverter,a=new Set,c=new Set;for(const p of n){const g=i.mapDomToView(p.target);g&&(g.is("uiElement")||g.is("rawElement")||p.type!=="childList"||this._isBogusBrMutation(p)||c.add(g))}for(const p of n){const g=i.mapDomToView(p.target);if((!g||!g.is("uiElement")&&!g.is("rawElement"))&&p.type==="characterData"){const b=i.findCorrespondingViewText(p.target);b&&!c.has(b.parent)?a.add(b):!b&&So(p.target)&&c.add(i.mapDomToView(p.target.parentNode))}}let d=!1;for(const p of a)d=!0,this.renderer.markToSync("text",p);for(const p of c){const g=i.mapViewToDom(p),b=Array.from(p.getChildren()),w=Array.from(i.domChildrenToView(g,{withChildren:!1}));$Q(b,w,VQ)||(d=!0,this.renderer.markToSync("children",p))}d&&this.view.forceRender()}_isBogusBrMutation(n){let i=null;return n.nextSibling===null&&n.removedNodes.length===0&&n.addedNodes.length==1&&(i=this.domConverter.domToView(n.addedNodes[0],{withChildren:!1})),i&&i.is("element","br")}}function VQ(l,n){if(!Array.isArray(l))return l===n||!(!l.is("$text")||!n.is("$text"))&&l.data===n.data}class Bb extends Ta{constructor(n){super(n),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const i=this.document;i.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),n.change(()=>{})},50)}),i.on("blur",(a,c)=>{const d=i.selection.editableElement;d!==null&&d!==c.target||(i.isFocused=!1,this._isFocusChanging=!1,n.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(n){this.fire(n.type,n)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class UQ extends Xi{constructor(n){super(n),this.mutationObserver=n.getObserver(x5),this.focusObserver=n.getObserver(Bb),this.selection=this.document.selection,this.domConverter=n.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Lu(i=>{this.document.fire("selectionChangeDone",i)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Lu(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(n){const i=n.ownerDocument,a=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,i),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(n,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(n,"keydown",a,{priority:"highest",useCapture:!0}),this.listenTo(n,"keyup",a,{priority:"highest",useCapture:!0}),this._documents.has(i)||(this.listenTo(i,"mouseup",a,{priority:"highest",useCapture:!0}),this.listenTo(i,"selectionchange",(c,d)=>{this.document.isComposing&&!v.isAndroid||(this._handleSelectionChange(d,i),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(i))}stopObserving(n){this.stopListening(n)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(n,i){if(!this.isEnabled)return;const a=i.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(a.anchorNode))return;this.mutationObserver.flush();const c=this.domConverter.domSelectionToView(a);if(c.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(c)||!this.domConverter.isDomSelectionCorrect(a))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(c))this.view.forceRender();else{const d={oldSelection:this.selection,newSelection:c,domSelection:a};this.document.fire("selectionChange",d),this._fireSelectionChangeDoneDebounced(d)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class HQ extends Ta{constructor(n){super(n),this.domEventType=["compositionstart","compositionupdate","compositionend"];const i=this.document;i.on("compositionstart",()=>{i.isComposing=!0},{priority:"low"}),i.on("compositionend",()=>{i.isComposing=!1},{priority:"low"})}onDomEvent(n){this.fire(n.type,n,{data:n.data})}}class E5{constructor(n,i={}){this._files=i.cacheFiles?S5(n):null,this._native=n}get files(){return this._files||(this._files=S5(this._native)),this._files}get types(){return this._native.types}getData(n){return this._native.getData(n)}setData(n,i){this._native.setData(n,i)}set effectAllowed(n){this._native.effectAllowed=n}get effectAllowed(){return this._native.effectAllowed}set dropEffect(n){this._native.dropEffect=n}get dropEffect(){return this._native.dropEffect}setDragImage(n,i,a){this._native.setDragImage(n,i,a)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function S5(l){const n=Array.from(l.files||[]),i=Array.from(l.items||[]);return n.length?n:i.filter(a=>a.kind==="file").map(a=>a.getAsFile())}class WQ extends Ta{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(n){const i=n.getTargetRanges(),a=this.view,c=a.document;let d=null,p=null,g=[];if(n.dataTransfer&&(d=new E5(n.dataTransfer)),n.data!==null?p=n.data:d&&(p=d.getData("text/plain")),c.selection.isFake)g=Array.from(c.selection.getRanges());else if(i.length)g=i.map(b=>{const w=a.domConverter.domPositionToView(b.startContainer,b.startOffset),C=a.domConverter.domPositionToView(b.endContainer,b.endOffset);return w?a.createRange(w,C):C?a.createRange(C):void 0}).filter(b=>!!b);else if(v.isAndroid){const b=n.target.ownerDocument.defaultView.getSelection();g=Array.from(a.domConverter.domSelectionToView(b).getRanges())}if(v.isAndroid&&n.inputType=="insertCompositionText"&&p&&p.endsWith(`
`))this.fire(n.type,n,{inputType:"insertParagraph",targetRanges:[a.createRange(g[0].end)]});else if(n.inputType=="insertText"&&p&&p.includes(`
`)){const b=p.split(/\n{1,2}/g);let w=g;for(let C=0;C<b.length;C++){const x=b[C];x!=""&&(this.fire(n.type,n,{data:x,dataTransfer:d,targetRanges:w,inputType:n.inputType,isComposing:n.isComposing}),w=[c.selection.getFirstRange()]),C+1<b.length&&(this.fire(n.type,n,{inputType:"insertParagraph",targetRanges:w}),w=[c.selection.getFirstRange()])}}else this.fire(n.type,n,{data:p,dataTransfer:d,targetRanges:g,inputType:n.inputType,isComposing:n.isComposing})}}class qQ extends Xi{constructor(n){super(n),this.document.on("keydown",(i,a)=>{if(this.isEnabled&&((c=a.keyCode)==_t.arrowright||c==_t.arrowleft||c==_t.arrowup||c==_t.arrowdown)){const d=new Nu(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(d,a),d.stop.called&&i.stop()}var c})}observe(){}stopObserving(){}}class GQ extends Xi{constructor(n){super(n);const i=this.document;i.on("keydown",(a,c)=>{if(!this.isEnabled||c.keyCode!=_t.tab||c.ctrlKey)return;const d=new Nu(i,"tab",i.selection.getFirstRange());i.fire(d,c),d.stop.called&&a.stop()})}observe(){}stopObserving(){}}const Pi=function(l){return K_(l,5)};class KQ extends be(){constructor(n){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Tb(n),this.domConverter=new Pb(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new uQ(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new n5(this.document),this.addObserver(x5),this.addObserver(Bb),this.addObserver(UQ),this.addObserver(kQ),this.addObserver(TQ),this.addObserver(HQ),this.addObserver(qQ),this.addObserver(WQ),this.addObserver(GQ),this.document.on("arrowKey",lQ,{priority:"low"}),rQ(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),v.isiOS&&this.listenTo(this.document,"blur",(i,a)=>{this.domConverter.mapDomToView(a.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(n,i="main"){const a=this.document.getRoot(i);a._name=n.tagName.toLowerCase();const c={};for(const{name:p,value:g}of Array.from(n.attributes))c[p]=g,p==="class"?this._writer.addClass(g.split(" "),a):this._writer.setAttribute(p,g,a);this._initialDomRootAttributes.set(n,c);const d=()=>{this._writer.setAttribute("contenteditable",(!a.isReadOnly).toString(),a),a.isReadOnly?this._writer.addClass("ck-read-only",a):this._writer.removeClass("ck-read-only",a)};d(),this.domRoots.set(i,n),this.domConverter.bindElements(n,a),this._renderer.markToSync("children",a),this._renderer.markToSync("attributes",a),this._renderer.domDocuments.add(n.ownerDocument),a.on("change:children",(p,g)=>this._renderer.markToSync("children",g)),a.on("change:attributes",(p,g)=>this._renderer.markToSync("attributes",g)),a.on("change:text",(p,g)=>this._renderer.markToSync("text",g)),a.on("change:isReadOnly",()=>this.change(d)),a.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const p of this._observers.values())p.observe(n,i)}detachDomRoot(n){const i=this.domRoots.get(n);Array.from(i.attributes).forEach(({name:c})=>i.removeAttribute(c));const a=this._initialDomRootAttributes.get(i);for(const c in a)i.setAttribute(c,a[c]);this.domRoots.delete(n),this.domConverter.unbindDomElement(i);for(const c of this._observers.values())c.stopObserving(i)}getDomRoot(n="main"){return this.domRoots.get(n)}addObserver(n){let i=this._observers.get(n);if(i)return i;i=new n(this),this._observers.set(n,i);for(const[a,c]of this.domRoots)i.observe(c,a);return i.enable(),i}getObserver(n){return this._observers.get(n)}disableObservers(){for(const n of this._observers.values())n.disable()}enableObservers(){for(const n of this._observers.values())n.enable()}scrollToTheSelection({alignToTop:n,forceScroll:i,viewportOffset:a=20,ancestorOffset:c=20}={}){const d=this.document.selection.getFirstRange();if(!d)return;const p=Pi({alignToTop:n,forceScroll:i,viewportOffset:a,ancestorOffset:c});typeof a=="number"&&(a={top:a,bottom:a,left:a,right:a});const g={target:this.domConverter.viewRangeToDom(d),viewportOffset:a,ancestorOffset:c,alignToTop:n,forceScroll:i};this.fire("scrollToTheSelection",g,p),function({target:b,viewportOffset:w=0,ancestorOffset:C=0,alignToTop:x,forceScroll:D}){const N=Z_(b);let B=N,F=null;for(w=function(U){return typeof U=="number"?{top:U,bottom:U,left:U,right:U}:U}(w);B;){let U;U=nY(B==N?b:F),tY({parent:U,getRect:()=>kM(b,B),alignToTop:x,ancestorOffset:C,forceScroll:D});const W=kM(b,B);if(eY({window:B,rect:W,viewportOffset:w,alignToTop:x,forceScroll:D}),B.parent!=B){if(F=B.frameElement,B=B.parent,!F)return}else B=null}}(g)}focus(){if(!this.document.isFocused){const n=this.document.selection.editableElement;n&&(this.domConverter.focus(n),this.forceRender())}}change(n){if(this.isRenderingInProgress||this._postFixersInProgress)throw new P("cannot-change-view-tree",this);try{if(this._ongoingChange)return n(this._writer);this._ongoingChange=!0;const i=n(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),i}catch(i){P.rethrowUnexpectedError(i,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Bb).flush(),this.change(()=>{})}destroy(){for(const n of this._observers.values())n.destroy();this.document.destroy(),this.stopListening()}createPositionAt(n,i){return xe._createAt(n,i)}createPositionAfter(n){return xe._createAfter(n)}createPositionBefore(n){return xe._createBefore(n)}createRange(n,i){return new et(n,i)}createRangeOn(n){return et._createOn(n)}createRangeIn(n){return et._createIn(n)}createSelection(...n){return new Ii(...n)}_disableRendering(n){this._renderingDisabled=n,n==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Ia{is(){throw new Error("is() method is abstract")}}class Ql extends Ia{constructor(n){super(),this.parent=null,this._attrs=Qi(n)}get document(){return null}get index(){let n;if(!this.parent)return null;if((n=this.parent.getChildIndex(this))===null)throw new P("model-node-not-found-in-parent",this);return n}get startOffset(){let n;if(!this.parent)return null;if((n=this.parent.getChildStartOffset(this))===null)throw new P("model-node-not-found-in-parent",this);return n}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const n=this.index;return n!==null&&this.parent.getChild(n+1)||null}get previousSibling(){const n=this.index;return n!==null&&this.parent.getChild(n-1)||null}get root(){let n=this;for(;n.parent;)n=n.parent;return n}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const n=[];let i=this;for(;i.parent;)n.unshift(i.startOffset),i=i.parent;return n}getAncestors(n={}){const i=[];let a=n.includeSelf?this:this.parent;for(;a;)i[n.parentFirst?"push":"unshift"](a),a=a.parent;return i}getCommonAncestor(n,i={}){const a=this.getAncestors(i),c=n.getAncestors(i);let d=0;for(;a[d]==c[d]&&a[d];)d++;return d===0?null:a[d-1]}isBefore(n){if(this==n||this.root!==n.root)return!1;const i=this.getPath(),a=n.getPath(),c=se(i,a);switch(c){case"prefix":return!0;case"extension":return!1;default:return i[c]<a[c]}}isAfter(n){return this!=n&&this.root===n.root&&!this.isBefore(n)}hasAttribute(n){return this._attrs.has(n)}getAttribute(n){return this._attrs.get(n)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const n={};return this._attrs.size&&(n.attributes=Array.from(this._attrs).reduce((i,a)=>(i[a[0]]=a[1],i),{})),n}_clone(n){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(n,i){this._attrs.set(n,i)}_setAttributesTo(n){this._attrs=Qi(n)}_removeAttribute(n){return this._attrs.delete(n)}_clearAttributes(){this._attrs.clear()}}Ql.prototype.is=function(l){return l==="node"||l==="model:node"};class kp{constructor(n){this._nodes=[],n&&this._insertNodes(0,n)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((n,i)=>n+i.offsetSize,0)}getNode(n){return this._nodes[n]||null}getNodeIndex(n){const i=this._nodes.indexOf(n);return i==-1?null:i}getNodeStartOffset(n){const i=this.getNodeIndex(n);return i===null?null:this._nodes.slice(0,i).reduce((a,c)=>a+c.offsetSize,0)}indexToOffset(n){if(n==this._nodes.length)return this.maxOffset;const i=this._nodes[n];if(!i)throw new P("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(i)}offsetToIndex(n){let i=0;for(const a of this._nodes){if(n>=i&&n<i+a.offsetSize)return this.getNodeIndex(a);i+=a.offsetSize}if(i!=n)throw new P("model-nodelist-offset-out-of-bounds",this,{offset:n,nodeList:this});return this.length}_insertNodes(n,i){for(const a of i)if(!(a instanceof Ql))throw new P("model-nodelist-insertnodes-not-node",this);this._nodes=function(a,c,d,p){if(Math.max(c.length,a.length)>1e4)return a.slice(0,d).concat(c).concat(a.slice(d+p,a.length));{const g=Array.from(a);return g.splice(d,p,...c),g}}(this._nodes,Array.from(i),n,0)}_removeNodes(n,i=1){return this._nodes.splice(n,i)}toJSON(){return this._nodes.map(n=>n.toJSON())}}class tn extends Ql{constructor(n,i){super(i),this._data=n||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const n=super.toJSON();return n.data=this.data,n}_clone(){return new tn(this.data,this.getAttributes())}static fromJSON(n){return new tn(n.data,n.attributes)}}tn.prototype.is=function(l){return l==="$text"||l==="model:$text"||l==="text"||l==="model:text"||l==="node"||l==="model:node"};class Ni extends Ia{constructor(n,i,a){if(super(),this.textNode=n,i<0||i>n.offsetSize)throw new P("model-textproxy-wrong-offsetintext",this);if(a<0||i+a>n.offsetSize)throw new P("model-textproxy-wrong-length",this);this.data=n.data.substring(i,i+a),this.offsetInText=i}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const n=this.textNode.getPath();return n.length>0&&(n[n.length-1]+=this.offsetInText),n}getAncestors(n={}){const i=[];let a=n.includeSelf?this:this.parent;for(;a;)i[n.parentFirst?"push":"unshift"](a),a=a.parent;return i}hasAttribute(n){return this.textNode.hasAttribute(n)}getAttribute(n){return this.textNode.getAttribute(n)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Ni.prototype.is=function(l){return l==="$textProxy"||l==="model:$textProxy"||l==="textProxy"||l==="model:textProxy"};class Ht extends Ql{constructor(n,i,a){super(i),this._children=new kp,this.name=n,a&&this._insertChild(0,a)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(n){return this._children.getNode(n)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(n){return this._children.getNodeIndex(n)}getChildStartOffset(n){return this._children.getNodeStartOffset(n)}offsetToIndex(n){return this._children.offsetToIndex(n)}getNodeByPath(n){let i=this;for(const a of n)i=i.getChild(i.offsetToIndex(a));return i}findAncestor(n,i={}){let a=i.includeSelf?this:this.parent;for(;a;){if(a.name===n)return a;a=a.parent}return null}toJSON(){const n=super.toJSON();if(n.name=this.name,this._children.length>0){n.children=[];for(const i of this._children)n.children.push(i.toJSON())}return n}_clone(n=!1){const i=n?Array.from(this._children).map(a=>a._clone(!0)):void 0;return new Ht(this.name,this.getAttributes(),i)}_appendChild(n){this._insertChild(this.childCount,n)}_insertChild(n,i){const a=function(c){return typeof c=="string"?[new tn(c)]:(ae(c)||(c=[c]),Array.from(c).map(d=>typeof d=="string"?new tn(d):d instanceof Ni?new tn(d.data,d.getAttributes()):d))}(i);for(const c of a)c.parent!==null&&c._remove(),c.parent=this;this._children._insertNodes(n,a)}_removeChildren(n,i=1){const a=this._children._removeNodes(n,i);for(const c of a)c.parent=null;return a}static fromJSON(n){let i;if(n.children){i=[];for(const a of n.children)a.name?i.push(Ht.fromJSON(a)):i.push(tn.fromJSON(a))}return new Ht(n.name,n.attributes,i)}}Ht.prototype.is=function(l,n){return n?n===this.name&&(l==="element"||l==="model:element"):l==="element"||l==="model:element"||l==="node"||l==="model:node"};class Ls{constructor(n){if(!n||!n.boundaries&&!n.startPosition)throw new P("model-tree-walker-no-start-position",null);const i=n.direction||"forward";if(i!="forward"&&i!="backward")throw new P("model-tree-walker-unknown-direction",n,{direction:i});this.direction=i,this.boundaries=n.boundaries||null,n.startPosition?this._position=n.startPosition.clone():this._position=pe._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!n.singleCharacters,this.shallow=!!n.shallow,this.ignoreElementEnd=!!n.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(n){let i,a,c,d;do c=this.position,d=this._visitedParent,{done:i,value:a}=this.next();while(!i&&n(a));i||(this._position=c,this._visitedParent=d)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const n=this.position,i=this.position.clone(),a=this._visitedParent;if(a.parent===null&&i.offset===a.maxOffset)return{done:!0,value:void 0};if(a===this._boundaryEndParent&&i.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const c=vp(i,a),d=c||D5(i,a,c);if(d instanceof Ht){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(i))return{done:!0,value:void 0};i.offset++}else i.path.push(0),this._visitedParent=d;return this._position=i,Zl("elementStart",d,n,i,1)}if(d instanceof tn){let p;if(this.singleCharacters)p=1;else{let w=d.endOffset;this._boundaryEndParent==a&&this.boundaries.end.offset<w&&(w=this.boundaries.end.offset),p=w-i.offset}const g=i.offset-d.startOffset,b=new Ni(d,g,p);return i.offset+=p,this._position=i,Zl("text",b,n,i,p)}return i.path.pop(),i.offset++,this._position=i,this._visitedParent=a.parent,this.ignoreElementEnd?this._next():Zl("elementEnd",a,n,i)}_previous(){const n=this.position,i=this.position.clone(),a=this._visitedParent;if(a.parent===null&&i.offset===0)return{done:!0,value:void 0};if(a==this._boundaryStartParent&&i.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const c=i.parent,d=vp(i,c),p=d||T5(i,c,d);if(p instanceof Ht)return i.offset--,this.shallow?(this._position=i,Zl("elementStart",p,n,i,1)):(i.path.push(p.maxOffset),this._position=i,this._visitedParent=p,this.ignoreElementEnd?this._previous():Zl("elementEnd",p,n,i));if(p instanceof tn){let g;if(this.singleCharacters)g=1;else{let C=p.startOffset;this._boundaryStartParent==a&&this.boundaries.start.offset>C&&(C=this.boundaries.start.offset),g=i.offset-C}const b=i.offset-p.startOffset,w=new Ni(p,b-g,g);return i.offset-=g,this._position=i,Zl("text",w,n,i,g)}return i.path.pop(),this._position=i,this._visitedParent=a.parent,Zl("elementStart",a,n,i,1)}}function Zl(l,n,i,a,c){return{done:!1,value:{type:l,item:n,previousPosition:i,nextPosition:a,length:c}}}class pe extends Ia{constructor(n,i,a="toNone"){if(super(),!n.is("element")&&!n.is("documentFragment"))throw new P("model-position-root-invalid",n);if(!(i instanceof Array)||i.length===0)throw new P("model-position-path-incorrect-format",n,{path:i});n.is("rootElement")?i=i.slice():(i=[...n.getPath(),...i],n=n.root),this.root=n,this.path=i,this.stickiness=a}get offset(){return this.path[this.path.length-1]}set offset(n){this.path[this.path.length-1]=n}get parent(){let n=this.root;for(let i=0;i<this.path.length-1;i++)if(n=n.getChild(n.offsetToIndex(this.path[i])),!n)throw new P("model-position-path-incorrect",this,{position:this});if(n.is("$text"))throw new P("model-position-path-incorrect",this,{position:this});return n}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return vp(this,this.parent)}get nodeAfter(){const n=this.parent;return D5(this,n,vp(this,n))}get nodeBefore(){const n=this.parent;return T5(this,n,vp(this,n))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(n){if(this.root!=n.root)return"different";const i=se(this.path,n.path);switch(i){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[i]<n.path[i]?"before":"after"}}getLastMatchingPosition(n,i={}){i.startPosition=this;const a=new Ls(i);return a.skip(n),a.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const n=this.parent;return n.is("documentFragment")?[n]:n.getAncestors({includeSelf:!0})}findAncestor(n){const i=this.parent;return i.is("element")?i.findAncestor(n,{includeSelf:!0}):null}getCommonPath(n){if(this.root!=n.root)return[];const i=se(this.path,n.path),a=typeof i=="string"?Math.min(this.path.length,n.path.length):i;return this.path.slice(0,a)}getCommonAncestor(n){const i=this.getAncestors(),a=n.getAncestors();let c=0;for(;i[c]==a[c]&&i[c];)c++;return c===0?null:i[c-1]}getShiftedBy(n){const i=this.clone(),a=i.offset+n;return i.offset=a<0?0:a,i}isAfter(n){return this.compareWith(n)=="after"}isBefore(n){return this.compareWith(n)=="before"}isEqual(n){return this.compareWith(n)=="same"}isTouching(n){if(this.root!==n.root)return!1;const i=Math.min(this.path.length,n.path.length);for(let a=0;a<i;a++){const c=this.path[a]-n.path[a];if(c<-1||c>1)return!1;if(c===1)return I5(n,this,a);if(c===-1)return I5(this,n,a)}return this.path.length===n.path.length||(this.path.length>n.path.length?DC(this.path,i):DC(n.path,i))}hasSameParentAs(n){return this.root!==n.root?!1:se(this.getParentPath(),n.getParentPath())=="same"}getTransformedByOperation(n){let i;switch(n.type){case"insert":i=this._getTransformedByInsertOperation(n);break;case"move":case"remove":case"reinsert":i=this._getTransformedByMoveOperation(n);break;case"split":i=this._getTransformedBySplitOperation(n);break;case"merge":i=this._getTransformedByMergeOperation(n);break;default:i=pe._createAt(this)}return i}_getTransformedByInsertOperation(n){return this._getTransformedByInsertion(n.position,n.howMany)}_getTransformedByMoveOperation(n){return this._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany)}_getTransformedBySplitOperation(n){const i=n.movedRange;return i.containsPosition(this)||i.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(n.splitPosition,n.moveTargetPosition):n.graveyardPosition?this._getTransformedByMove(n.graveyardPosition,n.insertionPosition,1):this._getTransformedByInsertion(n.insertionPosition,1)}_getTransformedByMergeOperation(n){const i=n.movedRange;let a;return i.containsPosition(this)||i.start.isEqual(this)?(a=this._getCombined(n.sourcePosition,n.targetPosition),n.sourcePosition.isBefore(n.targetPosition)&&(a=a._getTransformedByDeletion(n.deletionPosition,1))):a=this.isEqual(n.deletionPosition)?pe._createAt(n.deletionPosition):this._getTransformedByMove(n.deletionPosition,n.graveyardPosition,1),a}_getTransformedByDeletion(n,i){const a=pe._createAt(this);if(this.root!=n.root)return a;if(se(n.getParentPath(),this.getParentPath())=="same"){if(n.offset<this.offset){if(n.offset+i>this.offset)return null;a.offset-=i}}else if(se(n.getParentPath(),this.getParentPath())=="prefix"){const c=n.path.length-1;if(n.offset<=this.path[c]){if(n.offset+i>this.path[c])return null;a.path[c]-=i}}return a}_getTransformedByInsertion(n,i){const a=pe._createAt(this);if(this.root!=n.root)return a;if(se(n.getParentPath(),this.getParentPath())=="same")(n.offset<this.offset||n.offset==this.offset&&this.stickiness!="toPrevious")&&(a.offset+=i);else if(se(n.getParentPath(),this.getParentPath())=="prefix"){const c=n.path.length-1;n.offset<=this.path[c]&&(a.path[c]+=i)}return a}_getTransformedByMove(n,i,a){if(i=i._getTransformedByDeletion(n,a),n.isEqual(i))return pe._createAt(this);const c=this._getTransformedByDeletion(n,a);return c===null||n.isEqual(this)&&this.stickiness=="toNext"||n.getShiftedBy(a).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(n,i):c._getTransformedByInsertion(i,a)}_getCombined(n,i){const a=n.path.length-1,c=pe._createAt(i);return c.stickiness=this.stickiness,c.offset=c.offset+this.path[a]-n.offset,c.path=[...c.path,...this.path.slice(a+1)],c}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(n,i,a="toNone"){if(n instanceof pe)return new pe(n.root,n.path,n.stickiness);{const c=n;if(i=="end")i=c.maxOffset;else{if(i=="before")return this._createBefore(c,a);if(i=="after")return this._createAfter(c,a);if(i!==0&&!i)throw new P("model-createpositionat-offset-required",[this,n])}if(!c.is("element")&&!c.is("documentFragment"))throw new P("model-position-parent-incorrect",[this,n]);const d=c.getPath();return d.push(i),new this(c.root,d,a)}}static _createAfter(n,i){if(!n.parent)throw new P("model-position-after-root",[this,n],{root:n});return this._createAt(n.parent,n.endOffset,i)}static _createBefore(n,i){if(!n.parent)throw new P("model-position-before-root",n,{root:n});return this._createAt(n.parent,n.startOffset,i)}static fromJSON(n,i){if(n.root==="$graveyard"){const a=new pe(i.graveyard,n.path);return a.stickiness=n.stickiness,a}if(!i.getRoot(n.root))throw new P("model-position-fromjson-no-root",i,{rootName:n.root});return new pe(i.getRoot(n.root),n.path,n.stickiness)}}function vp(l,n){const i=n.getChild(n.offsetToIndex(l.offset));return i&&i.is("$text")&&i.startOffset<l.offset?i:null}function D5(l,n,i){return i!==null?null:n.getChild(n.offsetToIndex(l.offset))}function T5(l,n,i){return i!==null?null:n.getChild(n.offsetToIndex(l.offset)-1)}function I5(l,n,i){return i+1!==l.path.length&&!!DC(n.path,i+1)&&!!function(a,c){let d=a.parent,p=a.path.length-1,g=0;for(;p>=c;){if(a.path[p]+g!==d.maxOffset)return!1;g=1,p--,d=d.parent}return!0}(l,i+1)}function DC(l,n){for(;n<l.length;){if(l[n]!==0)return!1;n++}return!0}pe.prototype.is=function(l){return l==="position"||l==="model:position"};class ie extends Ia{constructor(n,i){super(),this.start=pe._createAt(n),this.end=i?pe._createAt(i):pe._createAt(n),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Ls({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return se(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(n){return n.isAfter(this.start)&&n.isBefore(this.end)}containsRange(n,i=!1){n.isCollapsed&&(i=!1);const a=this.containsPosition(n.start)||i&&this.start.isEqual(n.start),c=this.containsPosition(n.end)||i&&this.end.isEqual(n.end);return a&&c}containsItem(n){const i=pe._createBefore(n);return this.containsPosition(i)||this.start.isEqual(i)}isEqual(n){return this.start.isEqual(n.start)&&this.end.isEqual(n.end)}isIntersecting(n){return this.start.isBefore(n.end)&&this.end.isAfter(n.start)}getDifference(n){const i=[];return this.isIntersecting(n)?(this.containsPosition(n.start)&&i.push(new ie(this.start,n.start)),this.containsPosition(n.end)&&i.push(new ie(n.end,this.end))):i.push(new ie(this.start,this.end)),i}getIntersection(n){if(this.isIntersecting(n)){let i=this.start,a=this.end;return this.containsPosition(n.start)&&(i=n.start),this.containsPosition(n.end)&&(a=n.end),new ie(i,a)}return null}getJoined(n,i=!1){let a=this.isIntersecting(n);if(a||(a=this.start.isBefore(n.start)?i?this.end.isTouching(n.start):this.end.isEqual(n.start):i?n.end.isTouching(this.start):n.end.isEqual(this.start)),!a)return null;let c=this.start,d=this.end;return n.start.isBefore(c)&&(c=n.start),n.end.isAfter(d)&&(d=n.end),new ie(c,d)}getMinimalFlatRanges(){const n=[],i=this.start.getCommonPath(this.end).length,a=pe._createAt(this.start);let c=a.parent;for(;a.path.length>i+1;){const d=c.maxOffset-a.offset;d!==0&&n.push(new ie(a,a.getShiftedBy(d))),a.path=a.path.slice(0,-1),a.offset++,c=c.parent}for(;a.path.length<=this.end.path.length;){const d=this.end.path[a.path.length-1],p=d-a.offset;p!==0&&n.push(new ie(a,a.getShiftedBy(p))),a.offset=d,a.path.push(0)}return n}getWalker(n={}){return n.boundaries=this,new Ls(n)}*getItems(n={}){n.boundaries=this,n.ignoreElementEnd=!0;const i=new Ls(n);for(const a of i)yield a.item}*getPositions(n={}){n.boundaries=this;const i=new Ls(n);yield i.position;for(const a of i)yield a.nextPosition}getTransformedByOperation(n){switch(n.type){case"insert":return this._getTransformedByInsertOperation(n);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(n);case"split":return[this._getTransformedBySplitOperation(n)];case"merge":return[this._getTransformedByMergeOperation(n)]}return[new ie(this.start,this.end)]}getTransformedByOperations(n){const i=[new ie(this.start,this.end)];for(const a of n)for(let c=0;c<i.length;c++){const d=i[c].getTransformedByOperation(a);i.splice(c,1,...d),c+=d.length-1}for(let a=0;a<i.length;a++){const c=i[a];for(let d=a+1;d<i.length;d++){const p=i[d];(c.containsRange(p)||p.containsRange(c)||c.isEqual(p))&&i.splice(d,1)}}return i}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const n=this.start.nodeAfter,i=this.end.nodeBefore;return n&&n.is("element")&&n===i?n:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(n,i=!1){return this._getTransformedByInsertion(n.position,n.howMany,i)}_getTransformedByMoveOperation(n,i=!1){const a=n.sourcePosition,c=n.howMany,d=n.targetPosition;return this._getTransformedByMove(a,d,c,i)}_getTransformedBySplitOperation(n){const i=this.start._getTransformedBySplitOperation(n);let a=this.end._getTransformedBySplitOperation(n);return this.end.isEqual(n.insertionPosition)&&(a=this.end.getShiftedBy(1)),i.root!=a.root&&(a=this.end.getShiftedBy(-1)),new ie(i,a)}_getTransformedByMergeOperation(n){if(this.start.isEqual(n.targetPosition)&&this.end.isEqual(n.deletionPosition))return new ie(this.start);let i=this.start._getTransformedByMergeOperation(n),a=this.end._getTransformedByMergeOperation(n);return i.root!=a.root&&(a=this.end.getShiftedBy(-1)),i.isAfter(a)?(n.sourcePosition.isBefore(n.targetPosition)?(i=pe._createAt(a),i.offset=0):(n.deletionPosition.isEqual(i)||(a=n.deletionPosition),i=n.targetPosition),new ie(i,a)):new ie(i,a)}_getTransformedByInsertion(n,i,a=!1){if(a&&this.containsPosition(n))return[new ie(this.start,n),new ie(n.getShiftedBy(i),this.end._getTransformedByInsertion(n,i))];{const c=new ie(this.start,this.end);return c.start=c.start._getTransformedByInsertion(n,i),c.end=c.end._getTransformedByInsertion(n,i),[c]}}_getTransformedByMove(n,i,a,c=!1){if(this.isCollapsed){const x=this.start._getTransformedByMove(n,i,a);return[new ie(x)]}const d=ie._createFromPositionAndShift(n,a),p=i._getTransformedByDeletion(n,a);if(this.containsPosition(i)&&!c&&(d.containsPosition(this.start)||d.containsPosition(this.end))){const x=this.start._getTransformedByMove(n,i,a),D=this.end._getTransformedByMove(n,i,a);return[new ie(x,D)]}let g;const b=this.getDifference(d);let w=null;const C=this.getIntersection(d);if(b.length==1?w=new ie(b[0].start._getTransformedByDeletion(n,a),b[0].end._getTransformedByDeletion(n,a)):b.length==2&&(w=new ie(this.start,this.end._getTransformedByDeletion(n,a))),g=w?w._getTransformedByInsertion(p,a,C!==null||c):[],C){const x=new ie(C.start._getCombined(d.start,p),C.end._getCombined(d.start,p));g.length==2?g.splice(1,0,x):g.push(x)}return g}_getTransformedByDeletion(n,i){let a=this.start._getTransformedByDeletion(n,i),c=this.end._getTransformedByDeletion(n,i);return a==null&&c==null?null:(a==null&&(a=n),c==null&&(c=n),new ie(a,c))}static _createFromPositionAndShift(n,i){const a=n,c=n.getShiftedBy(i);return i>0?new this(a,c):new this(c,a)}static _createIn(n){return new this(pe._createAt(n,0),pe._createAt(n,n.maxOffset))}static _createOn(n){return this._createFromPositionAndShift(pe._createBefore(n),n.offsetSize)}static _createFromRanges(n){if(n.length===0)throw new P("range-create-from-ranges-empty-array",null);if(n.length==1)return n[0].clone();const i=n[0];n.sort((d,p)=>d.start.isAfter(p.start)?1:-1);const a=n.indexOf(i),c=new this(i.start,i.end);if(a>0)for(let d=a-1;n[d].end.isEqual(c.start);d++)c.start=pe._createAt(n[d].start);for(let d=a+1;d<n.length&&n[d].start.isEqual(c.end);d++)c.end=pe._createAt(n[d].end);return c}static fromJSON(n,i){return new this(pe.fromJSON(n.start,i),pe.fromJSON(n.end,i))}}ie.prototype.is=function(l){return l==="range"||l==="model:range"};class M5 extends G(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(n,i)=>{if(i.viewPosition)return;const a=this._modelToViewMapping.get(i.modelPosition.parent);if(!a)throw new P("mapping-model-position-view-parent-not-found",this,{modelPosition:i.modelPosition});i.viewPosition=this.findPositionIn(a,i.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(n,i)=>{if(i.modelPosition)return;const a=this.findMappedViewAncestor(i.viewPosition),c=this._viewToModelMapping.get(a),d=this._toModelOffset(i.viewPosition.parent,i.viewPosition.offset,a);i.modelPosition=pe._createAt(c,d)},{priority:"low"})}bindElements(n,i){this._modelToViewMapping.set(n,i),this._viewToModelMapping.set(i,n)}unbindViewElement(n,i={}){const a=this.toModelElement(n);if(this._elementToMarkerNames.has(n))for(const c of this._elementToMarkerNames.get(n))this._unboundMarkerNames.add(c);i.defer?this._deferredBindingRemovals.set(n,n.root):(this._viewToModelMapping.delete(n),this._modelToViewMapping.get(a)==n&&this._modelToViewMapping.delete(a))}unbindModelElement(n){const i=this.toViewElement(n);this._modelToViewMapping.delete(n),this._viewToModelMapping.get(i)==n&&this._viewToModelMapping.delete(i)}bindElementToMarker(n,i){const a=this._markerNameToElements.get(i)||new Set;a.add(n);const c=this._elementToMarkerNames.get(n)||new Set;c.add(i),this._markerNameToElements.set(i,a),this._elementToMarkerNames.set(n,c)}unbindElementFromMarkerName(n,i){const a=this._markerNameToElements.get(i);a&&(a.delete(n),a.size==0&&this._markerNameToElements.delete(i));const c=this._elementToMarkerNames.get(n);c&&(c.delete(i),c.size==0&&this._elementToMarkerNames.delete(n))}flushUnboundMarkerNames(){const n=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),n}flushDeferredBindings(){for(const[n,i]of this._deferredBindingRemovals)n.root==i&&this.unbindViewElement(n);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(n){return this._viewToModelMapping.get(n)}toViewElement(n){return this._modelToViewMapping.get(n)}toModelRange(n){return new ie(this.toModelPosition(n.start),this.toModelPosition(n.end))}toViewRange(n){return new et(this.toViewPosition(n.start),this.toViewPosition(n.end))}toModelPosition(n){const i={viewPosition:n,mapper:this};return this.fire("viewToModelPosition",i),i.modelPosition}toViewPosition(n,i={}){const a={modelPosition:n,mapper:this,isPhantom:i.isPhantom};return this.fire("modelToViewPosition",a),a.viewPosition}markerNameToElements(n){const i=this._markerNameToElements.get(n);if(!i)return null;const a=new Set;for(const c of i)if(c.is("attributeElement"))for(const d of c.getElementsWithSameId())a.add(d);else a.add(c);return a}registerViewToModelLength(n,i){this._viewToModelLengthCallbacks.set(n,i)}findMappedViewAncestor(n){let i=n.parent;for(;!this._viewToModelMapping.has(i);)i=i.parent;return i}_toModelOffset(n,i,a){if(a!=n)return this._toModelOffset(n.parent,n.index,a)+this._toModelOffset(n,i,n);if(n.is("$text"))return i;let c=0;for(let d=0;d<i;d++)c+=this.getModelLength(n.getChild(d));return c}getModelLength(n){if(this._viewToModelLengthCallbacks.get(n.name))return this._viewToModelLengthCallbacks.get(n.name)(n);if(this._viewToModelMapping.has(n))return 1;if(n.is("$text"))return n.data.length;if(n.is("uiElement"))return 0;{let i=0;for(const a of n.getChildren())i+=this.getModelLength(a);return i}}findPositionIn(n,i){let a,c=0,d=0,p=0;if(n.is("$text"))return new xe(n,i);for(;d<i;)a=n.getChild(p),c=this.getModelLength(a),d+=c,p++;return d==i?this._moveViewPositionToTextNode(new xe(n,p)):this.findPositionIn(a,i-(d-c))}_moveViewPositionToTextNode(n){const i=n.nodeBefore,a=n.nodeAfter;return i instanceof en?new xe(i,i.data.length):a instanceof en?new xe(a,0):n}}class YQ{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(n,i){i=Lb(i),n instanceof Ni&&(n=this._getSymbolForTextProxy(n)),this._consumable.has(n)||this._consumable.set(n,new Map),this._consumable.get(n).set(i,!0)}consume(n,i){return i=Lb(i),n instanceof Ni&&(n=this._getSymbolForTextProxy(n)),!!this.test(n,i)&&(this._consumable.get(n).set(i,!1),!0)}test(n,i){i=Lb(i),n instanceof Ni&&(n=this._getSymbolForTextProxy(n));const a=this._consumable.get(n);if(a===void 0)return null;const c=a.get(i);return c===void 0?null:c}revert(n,i){i=Lb(i),n instanceof Ni&&(n=this._getSymbolForTextProxy(n));const a=this.test(n,i);return a===!1?(this._consumable.get(n).set(i,!0),!0):a!==!0&&null}verifyAllConsumed(n){const i=[];for(const[a,c]of this._consumable)for(const[d,p]of c){const g=d.split(":")[0];p&&n==g&&i.push({event:d,item:a.name||a.description})}if(i.length)throw new P("conversion-model-consumable-not-consumed",null,{items:i})}_getSymbolForTextProxy(n){let i=null;const a=this._textProxyRegistry.get(n.startOffset);if(a){const c=a.get(n.endOffset);c&&(i=c.get(n.parent))}return i||(i=this._addSymbolForTextProxy(n)),i}_addSymbolForTextProxy(n){const i=n.startOffset,a=n.endOffset,c=n.parent,d=Symbol("$textProxy:"+n.data);let p,g;return p=this._textProxyRegistry.get(i),p||(p=new Map,this._textProxyRegistry.set(i,p)),g=p.get(a),g||(g=new Map,p.set(a,g)),g.set(c,d),d}}function Lb(l){const n=l.split(":");return n[0]=="insert"?n[0]:n[0]=="addMarker"||n[0]=="removeMarker"?l:n.length>1?n[0]+":"+n[1]:n[0]}var QQ=Object.defineProperty,ZQ=Object.defineProperties,JQ=Object.getOwnPropertyDescriptors,P5=Object.getOwnPropertySymbols,XQ=Object.prototype.hasOwnProperty,eZ=Object.prototype.propertyIsEnumerable,N5=(l,n,i)=>n in l?QQ(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,TC=(l,n)=>{for(var i in n||(n={}))XQ.call(n,i)&&N5(l,i,n[i]);if(P5)for(var i of P5(n))eZ.call(n,i)&&N5(l,i,n[i]);return l},R5=(l,n)=>ZQ(l,JQ(n));class O5 extends G(){constructor(n){super(),this._conversionApi=TC({dispatcher:this},n),this._firedEventsMap=new WeakMap}convertChanges(n,i,a){const c=this._createConversionApi(a,n.getRefreshedItems());for(const p of n.getMarkersToRemove())this._convertMarkerRemove(p.name,p.range,c);const d=this._reduceChanges(n.getChanges());for(const p of d)p.type==="insert"?this._convertInsert(ie._createFromPositionAndShift(p.position,p.length),c):p.type==="reinsert"?this._convertReinsert(ie._createFromPositionAndShift(p.position,p.length),c):p.type==="remove"?this._convertRemove(p.position,p.length,p.name,c):this._convertAttribute(p.range,p.attributeKey,p.attributeOldValue,p.attributeNewValue,c);c.mapper.flushDeferredBindings();for(const p of c.mapper.flushUnboundMarkerNames()){const g=i.get(p).getRange();this._convertMarkerRemove(p,g,c),this._convertMarkerAdd(p,g,c)}for(const p of n.getMarkersToAdd())this._convertMarkerAdd(p.name,p.range,c);c.consumable.verifyAllConsumed("insert")}convert(n,i,a,c={}){const d=this._createConversionApi(a,void 0,c);this._convertInsert(n,d);for(const[p,g]of i)this._convertMarkerAdd(p,g,d);d.consumable.verifyAllConsumed("insert")}convertSelection(n,i,a){const c=this._createConversionApi(a);this.fire("cleanSelection",{selection:n},c);const d=n.getFirstPosition().root;if(!c.mapper.toViewElement(d))return;const p=Array.from(i.getMarkersAtPosition(n.getFirstPosition()));if(this._addConsumablesForSelection(c.consumable,n,p),this.fire("selection",{selection:n},c),n.isCollapsed){for(const g of p)if(c.consumable.test(n,"addMarker:"+g.name)){const b=g.getRange();if(!tZ(n.getFirstPosition(),g,c.mapper))continue;const w={item:n,markerName:g.name,markerRange:b};this.fire(`addMarker:${g.name}`,w,c)}for(const g of n.getAttributeKeys())if(c.consumable.test(n,"attribute:"+g)){const b={item:n,range:n.getFirstRange(),attributeKey:g,attributeOldValue:null,attributeNewValue:n.getAttribute(g)};this.fire(`attribute:${g}:$text`,b,c)}}}_convertInsert(n,i,a={}){a.doNotAddConsumables||this._addConsumablesForInsert(i.consumable,n);for(const c of Array.from(n.getWalker({shallow:!0})).map(B5))this._testAndFire("insert",c,i)}_convertRemove(n,i,a,c){this.fire(`remove:${a}`,{position:n,length:i},c)}_convertAttribute(n,i,a,c,d){this._addConsumablesForRange(d.consumable,n,`attribute:${i}`);for(const p of n){const g={item:p.item,range:ie._createFromPositionAndShift(p.previousPosition,p.length),attributeKey:i,attributeOldValue:a,attributeNewValue:c};this._testAndFire(`attribute:${i}`,g,d)}}_convertReinsert(n,i){const a=Array.from(n.getWalker({shallow:!0}));this._addConsumablesForInsert(i.consumable,a);for(const c of a.map(B5))this._testAndFire("insert",R5(TC({},c),{reconversion:!0}),i)}_convertMarkerAdd(n,i,a){if(i.root.rootName=="$graveyard")return;const c=`addMarker:${n}`;if(a.consumable.add(i,c),this.fire(c,{markerName:n,markerRange:i},a),a.consumable.consume(i,c)){this._addConsumablesForRange(a.consumable,i,c);for(const d of i.getItems()){if(!a.consumable.test(d,c))continue;const p={item:d,range:ie._createOn(d),markerName:n,markerRange:i};this.fire(c,p,a)}}}_convertMarkerRemove(n,i,a){i.root.rootName!="$graveyard"&&this.fire(`removeMarker:${n}`,{markerName:n,markerRange:i},a)}_reduceChanges(n){const i={changes:n};return this.fire("reduceChanges",i),i.changes}_addConsumablesForInsert(n,i){for(const a of i){const c=a.item;if(n.test(c,"insert")===null){n.add(c,"insert");for(const d of c.getAttributeKeys())n.add(c,"attribute:"+d)}}return n}_addConsumablesForRange(n,i,a){for(const c of i.getItems())n.add(c,a);return n}_addConsumablesForSelection(n,i,a){n.add(i,"selection");for(const c of a)n.add(i,"addMarker:"+c.name);for(const c of i.getAttributeKeys())n.add(i,"attribute:"+c);return n}_testAndFire(n,i,a){const c=function(b,w){const C=w.item.is("element")?w.item.name:"$text";return`${b}:${C}`}(n,i),d=i.item.is("$textProxy")?a.consumable._getSymbolForTextProxy(i.item):i.item,p=this._firedEventsMap.get(a),g=p.get(d);if(g){if(g.has(c))return;g.add(c)}else p.set(d,new Set([c]));this.fire(c,i,a)}_testAndFireAddAttributes(n,i){const a={item:n,range:ie._createOn(n)};for(const c of a.item.getAttributeKeys())a.attributeKey=c,a.attributeOldValue=null,a.attributeNewValue=a.item.getAttribute(c),this._testAndFire(`attribute:${c}`,a,i)}_createConversionApi(n,i=new Set,a={}){const c=R5(TC({},this._conversionApi),{consumable:new YQ,writer:n,options:a,convertItem:d=>this._convertInsert(ie._createOn(d),c),convertChildren:d=>this._convertInsert(ie._createIn(d),c,{doNotAddConsumables:!0}),convertAttributes:d=>this._testAndFireAddAttributes(d,c),canReuseView:d=>!i.has(c.mapper.toModelElement(d))});return this._firedEventsMap.set(c,new Map),c}}function tZ(l,n,i){const a=n.getRange(),c=Array.from(l.getAncestors());return c.shift(),c.reverse(),!c.some(d=>{if(a.containsItem(d))return!!i.toViewElement(d).getCustomProperty("addHighlight")})}function B5(l){return{item:l.item,range:ie._createFromPositionAndShift(l.previousPosition,l.length)}}class Do extends G(Ia){constructor(...n){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],n.length&&this.setTo(...n)}get anchor(){if(this._ranges.length>0){const n=this._ranges[this._ranges.length-1];return this._lastRangeBackward?n.end:n.start}return null}get focus(){if(this._ranges.length>0){const n=this._ranges[this._ranges.length-1];return this._lastRangeBackward?n.start:n.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(n){if(this.rangeCount!=n.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(n.anchor)||!this.focus.isEqual(n.focus))return!1;for(const i of this._ranges){let a=!1;for(const c of n._ranges)if(i.isEqual(c)){a=!0;break}if(!a)return!1}return!0}*getRanges(){for(const n of this._ranges)yield new ie(n.start,n.end)}getFirstRange(){let n=null;for(const i of this._ranges)n&&!i.start.isBefore(n.start)||(n=i);return n?new ie(n.start,n.end):null}getLastRange(){let n=null;for(const i of this._ranges)n&&!i.end.isAfter(n.end)||(n=i);return n?new ie(n.start,n.end):null}getFirstPosition(){const n=this.getFirstRange();return n?n.start.clone():null}getLastPosition(){const n=this.getLastRange();return n?n.end.clone():null}setTo(...n){let[i,a,c]=n;if(typeof a=="object"&&(c=a,a=void 0),i===null)this._setRanges([]);else if(i instanceof Do)this._setRanges(i.getRanges(),i.isBackward);else if(i&&typeof i.getRanges=="function")this._setRanges(i.getRanges(),i.isBackward);else if(i instanceof ie)this._setRanges([i],!!c&&!!c.backward);else if(i instanceof pe)this._setRanges([new ie(i)]);else if(i instanceof Ql){const d=!!c&&!!c.backward;let p;if(a=="in")p=ie._createIn(i);else if(a=="on")p=ie._createOn(i);else{if(a===void 0)throw new P("model-selection-setto-required-second-parameter",[this,i]);p=new ie(pe._createAt(i,a))}this._setRanges([p],d)}else{if(!ae(i))throw new P("model-selection-setto-not-selectable",[this,i]);this._setRanges(i,c&&!!c.backward)}}_setRanges(n,i=!1){const a=Array.from(n),c=a.some(d=>{if(!(d instanceof ie))throw new P("model-selection-set-ranges-not-range",[this,n]);return this._ranges.every(p=>!p.isEqual(d))});(a.length!==this._ranges.length||c)&&(this._replaceAllRanges(a),this._lastRangeBackward=!!i,this.fire("change:range",{directChange:!0}))}setFocus(n,i){if(this.anchor===null)throw new P("model-selection-setfocus-no-ranges",[this,n]);const a=pe._createAt(n,i);if(a.compareWith(this.focus)=="same")return;const c=this.anchor;this._ranges.length&&this._popRange(),a.compareWith(c)=="before"?(this._pushRange(new ie(a,c)),this._lastRangeBackward=!0):(this._pushRange(new ie(c,a)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(n){return this._attrs.get(n)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(n){return this._attrs.has(n)}removeAttribute(n){this.hasAttribute(n)&&(this._attrs.delete(n),this.fire("change:attribute",{attributeKeys:[n],directChange:!0}))}setAttribute(n,i){this.getAttribute(n)!==i&&(this._attrs.set(n,i),this.fire("change:attribute",{attributeKeys:[n],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const n=new WeakSet;for(const i of this.getRanges()){const a=j5(i.start,n);rZ(a,i)&&(yield a);for(const d of i.getWalker()){const p=d.item;d.type=="elementEnd"&&nZ(p,n,i)&&(yield p)}const c=j5(i.end,n);oZ(c,i)&&(yield c)}}containsEntireContent(n=this.anchor.root){const i=pe._createAt(n,0),a=pe._createAt(n,"end");return i.isTouching(this.getFirstPosition())&&a.isTouching(this.getLastPosition())}_pushRange(n){this._checkRange(n),this._ranges.push(new ie(n.start,n.end))}_checkRange(n){for(let i=0;i<this._ranges.length;i++)if(n.isIntersecting(this._ranges[i]))throw new P("model-selection-range-intersects",[this,n],{addedRange:n,intersectingRange:this._ranges[i]})}_replaceAllRanges(n){this._removeAllRanges();for(const i of n)this._pushRange(i)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function L5(l,n){return!n.has(l)&&(n.add(l),l.root.document.model.schema.isBlock(l)&&!!l.parent)}function nZ(l,n,i){return L5(l,n)&&IC(l,i)}function j5(l,n){const i=l.parent.root.document.model.schema,a=l.parent.getAncestors({parentFirst:!0,includeSelf:!0});let c=!1;const d=a.find(p=>!c&&(c=i.isLimit(p),!c&&L5(p,n)));return a.forEach(p=>n.add(p)),d}function IC(l,n){const i=function(a){const c=a.root.document.model.schema;let d=a.parent;for(;d;){if(c.isBlock(d))return d;d=d.parent}}(l);return i?!n.containsRange(ie._createOn(i),!0):!0}function rZ(l,n){return!!l&&(!(!n.isCollapsed&&!l.isEmpty)||!n.start.isTouching(pe._createAt(l,l.maxOffset))&&IC(l,n))}function oZ(l,n){return!!l&&(!(!n.isCollapsed&&!l.isEmpty)||!n.end.isTouching(pe._createAt(l,0))&&IC(l,n))}Do.prototype.is=function(l){return l==="selection"||l==="model:selection"};class To extends G(ie){constructor(n,i){super(n,i),iZ.call(this)}detach(){this.stopListening()}toRange(){return new ie(this.start,this.end)}static fromRange(n){return new To(n.start,n.end)}}function iZ(){this.listenTo(this.root.document.model,"applyOperation",(l,n)=>{const i=n[0];i.isDocumentOperation&&sZ.call(this,i)},{priority:"low"})}function sZ(l){const n=this.getTransformedByOperation(l),i=ie._createFromRanges(n),a=!i.isEqual(this),c=function(p,g){switch(g.type){case"insert":return p.containsPosition(g.position);case"move":case"remove":case"reinsert":case"merge":return p.containsPosition(g.sourcePosition)||p.start.isEqual(g.sourcePosition)||p.containsPosition(g.targetPosition);case"split":return p.containsPosition(g.splitPosition)||p.containsPosition(g.insertionPosition)}return!1}(this,l);let d=null;if(a){i.root.rootName=="$graveyard"&&(d=l.type=="remove"?l.sourcePosition:l.deletionPosition);const p=this.toRange();this.start=i.start,this.end=i.end,this.fire("change:range",p,{deletionPosition:d})}else c&&this.fire("change:content",this.toRange(),{deletionPosition:d})}To.prototype.is=function(l){return l==="liveRange"||l==="model:liveRange"||l=="range"||l==="model:range"};const jb="selection:";class Ri extends G(Ia){constructor(n){super(),this._selection=new aZ(n),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(n){return this._selection.containsEntireContent(n)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(n){return this._selection.getAttribute(n)}hasAttribute(n){return this._selection.hasAttribute(n)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(n){this._selection.observeMarkers(n)}_setFocus(n,i){this._selection.setFocus(n,i)}_setTo(...n){this._selection.setTo(...n)}_setAttribute(n,i){this._selection.setAttribute(n,i)}_removeAttribute(n){this._selection.removeAttribute(n)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(n){this._selection.restoreGravity(n)}static _getStoreAttributeKey(n){return jb+n}static _isStoreAttributeKey(n){return n.startsWith(jb)}}Ri.prototype.is=function(l){return l==="selection"||l=="model:selection"||l=="documentSelection"||l=="model:documentSelection"};class aZ extends Do{constructor(n){super(),this.markers=new Di({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=n.model,this._document=n,this.listenTo(this._model,"applyOperation",(i,a)=>{const c=a[0];c.isDocumentOperation&&c.type!="marker"&&c.type!="rename"&&c.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(i,a,c,d)=>{this._updateMarker(a,d)}),this.listenTo(this._document,"change",(i,a)=>{(function(c,d){const p=c.document.differ;for(const g of p.getChanges()){if(g.type!="insert")continue;const b=g.position.parent;g.length===b.maxOffset&&c.enqueueChange(d,w=>{const C=Array.from(b.getAttributeKeys()).filter(x=>x.startsWith(jb));for(const x of C)w.removeAttribute(x,b)})}})(this._model,a)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let n=0;n<this._ranges.length;n++)this._ranges[n].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...n){super.setTo(...n),this._updateAttributes(!0),this.updateMarkers()}setFocus(n,i){super.setFocus(n,i),this._updateAttributes(!0),this.updateMarkers()}setAttribute(n,i){if(this._setAttribute(n,i)){const a=[n];this.fire("change:attribute",{attributeKeys:a,directChange:!0})}}removeAttribute(n){if(this._removeAttribute(n)){const i=[n];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}overrideGravity(){const n=O();return this._overriddenGravityRegister.add(n),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),n}restoreGravity(n){if(!this._overriddenGravityRegister.has(n))throw new P("document-selection-gravity-wrong-restore",this,{uid:n});this._overriddenGravityRegister.delete(n),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(n){this._observedMarkers.add(n),this.updateMarkers()}_replaceAllRanges(n){this._validateSelectionRanges(n),super._replaceAllRanges(n)}_popRange(){this._ranges.pop().detach()}_pushRange(n){const i=this._prepareRange(n);i&&this._ranges.push(i)}_validateSelectionRanges(n){for(const i of n)if(!this._document._validateSelectionRange(i))throw new P("document-selection-wrong-position",this,{range:i})}_prepareRange(n){if(this._checkRange(n),n.root==this._document.graveyard)return;const i=To.fromRange(n);return i.on("change:range",(a,c,d)=>{if(this._hasChangedRange=!0,i.root==this._document.graveyard){this._selectionRestorePosition=d.deletionPosition;const p=this._ranges.indexOf(i);this._ranges.splice(p,1),i.detach()}}),i}updateMarkers(){if(!this._observedMarkers.size)return;const n=[];let i=!1;for(const c of this._model.markers){const d=c.name.split(":",1)[0];if(!this._observedMarkers.has(d))continue;const p=c.getRange();for(const g of this.getRanges())p.containsRange(g,!g.isCollapsed)&&n.push(c)}const a=Array.from(this.markers);for(const c of n)this.markers.has(c)||(this.markers.add(c),i=!0);for(const c of Array.from(this.markers))n.includes(c)||(this.markers.remove(c),i=!0);i&&this.fire("change:marker",{oldMarkers:a,directChange:!1})}_updateMarker(n,i){const a=n.name.split(":",1)[0];if(!this._observedMarkers.has(a))return;let c=!1;const d=Array.from(this.markers),p=this.markers.has(n);if(i){let g=!1;for(const b of this.getRanges())if(i.containsRange(b,!b.isCollapsed)){g=!0;break}g&&!p?(this.markers.add(n),c=!0):!g&&p&&(this.markers.remove(n),c=!0)}else p&&(this.markers.remove(n),c=!0);c&&this.fire("change:marker",{oldMarkers:d,directChange:!1})}_updateAttributes(n){const i=Qi(this._getSurroundingAttributes()),a=Qi(this.getAttributes());if(n)this._attributePriority=new Map,this._attrs=new Map;else for(const[d,p]of this._attributePriority)p=="low"&&(this._attrs.delete(d),this._attributePriority.delete(d));this._setAttributesTo(i);const c=[];for(const[d,p]of this.getAttributes())a.has(d)&&a.get(d)===p||c.push(d);for(const[d]of a)this.hasAttribute(d)||c.push(d);c.length>0&&this.fire("change:attribute",{attributeKeys:c,directChange:!1})}_setAttribute(n,i,a=!0){const c=a?"normal":"low";return c=="low"&&this._attributePriority.get(n)=="normal"?!1:super.getAttribute(n)!==i&&(this._attrs.set(n,i),this._attributePriority.set(n,c),!0)}_removeAttribute(n,i=!0){const a=i?"normal":"low";return(a!="low"||this._attributePriority.get(n)!="normal")&&(this._attributePriority.set(n,a),!!super.hasAttribute(n)&&(this._attrs.delete(n),!0))}_setAttributesTo(n){const i=new Set;for(const[a,c]of this.getAttributes())n.get(a)!==c&&this._removeAttribute(a,!1);for(const[a,c]of n)this._setAttribute(a,c,!1)&&i.add(a);return i}*getStoredAttributes(){const n=this.getFirstPosition().parent;if(this.isCollapsed&&n.isEmpty)for(const i of n.getAttributeKeys())i.startsWith(jb)&&(yield[i.substr(10),n.getAttribute(i)])}_getSurroundingAttributes(){const n=this.getFirstPosition(),i=this._model.schema;if(n.root.rootName=="$graveyard")return null;let a=null;if(this.isCollapsed){const c=n.textNode?n.textNode:n.nodeBefore,d=n.textNode?n.textNode:n.nodeAfter;if(this.isGravityOverridden||(a=wp(c,i)),a||(a=wp(d,i)),!this.isGravityOverridden&&!a){let p=c;for(;p&&!a;)p=p.previousSibling,a=wp(p,i)}if(!a){let p=d;for(;p&&!a;)p=p.nextSibling,a=wp(p,i)}a||(a=this.getStoredAttributes())}else{const c=this.getFirstRange();for(const d of c){if(d.item.is("element")&&i.isObject(d.item)){a=wp(d.item,i);break}if(d.type=="text"){a=d.item.getAttributes();break}}}return a}_fixGraveyardSelection(n){const i=this._model.schema.getNearestSelectionRange(n);i&&this._pushRange(i)}}function wp(l,n){if(!l)return null;if(l instanceof Ni||l instanceof tn)return l.getAttributes();if(!n.isInline(l))return null;if(!n.isObject(l))return[];const i=[];for(const[a,c]of l.getAttributes())n.checkAttribute("$text",a)&&n.getAttributeProperties(a).copyFromObject!==!1&&i.push([a,c]);return i}class F5{constructor(n){this._dispatchers=n}add(n){for(const i of this._dispatchers)n(i);return this}}class lZ extends F5{elementToElement(n){return this.add(function(i){const a=V5(i.model),c=yp(i.view,"container");return a.attributes.length&&(a.children=!0),d=>{d.on(`insert:${a.name}`,uZ(c,q5(a)),{priority:i.converterPriority||"normal"}),(a.children||a.attributes.length)&&d.on("reduceChanges",W5(a),{priority:"low"})}}(n))}elementToStructure(n){return this.add(function(i){const a=V5(i.model),c=yp(i.view,"container");return a.children=!0,d=>{if(d._conversionApi.schema.checkChild(a.name,"$text"))throw new P("conversion-element-to-structure-disallowed-text",d,{elementName:a.name});var p,g;d.on(`insert:${a.name}`,(p=c,g=q5(a),(b,w,C)=>{if(!g(w.item,C.consumable,{preflight:!0}))return;const x=new Map;C.writer._registerSlotFactory(function(B,F,U){return(W,Y)=>{const oe=W.createContainerElement("$slot");let ue=null;if(Y==="children")ue=Array.from(B.getChildren());else{if(typeof Y!="function")throw new P("conversion-slot-mode-unknown",U.dispatcher,{modeOrFilter:Y});ue=Array.from(B.getChildren()).filter(Ee=>Y(Ee))}return F.set(oe,ue),oe}}(w.item,x,C));const D=p(w.item,C,w);if(C.writer._clearSlotFactory(),!D)return;(function(B,F,U){const W=Array.from(F.values()).flat(),Y=new Set(W);if(Y.size!=W.length)throw new P("conversion-slot-filter-overlap",U.dispatcher,{element:B});if(Y.size!=B.childCount)throw new P("conversion-slot-filter-incomplete",U.dispatcher,{element:B})})(w.item,x,C),g(w.item,C.consumable);const N=C.mapper.toViewPosition(w.range.start);C.mapper.bindElements(w.item,D),C.writer.insert(N,D),C.convertAttributes(w.item),function(B,F,U,W){U.mapper.on("modelToViewPosition",ue,{priority:"highest"});let Y=null,oe=null;for([Y,oe]of F)G5(B,oe,U,W),U.writer.move(U.writer.createRangeIn(Y),U.writer.createPositionBefore(Y)),U.writer.remove(Y);function ue(Ee,Ze){const st=Ze.modelPosition.nodeAfter,on=oe.indexOf(st);on<0||(Ze.viewPosition=Ze.mapper.findPositionIn(Y,on))}U.mapper.off("modelToViewPosition",ue)}(D,x,C,{reconversion:w.reconversion})}),{priority:i.converterPriority||"normal"}),d.on("reduceChanges",W5(a),{priority:"low"})}}(n))}attributeToElement(n){return this.add(function(i){i=Pi(i);let a=i.model;typeof a=="string"&&(a={key:a});let c=`attribute:${a.key}`;if(a.name&&(c+=":"+a.name),a.values)for(const p of a.values)i.view[p]=yp(i.view[p],"attribute");else i.view=yp(i.view,"attribute");const d=U5(i);return p=>{p.on(c,cZ(d),{priority:i.converterPriority||"normal"})}}(n))}attributeToAttribute(n){return this.add(function(i){i=Pi(i);let a=i.model;typeof a=="string"&&(a={key:a});let c=`attribute:${a.key}`;if(a.name&&(c+=":"+a.name),a.values)for(const p of a.values)i.view[p]=H5(i.view[p]);else i.view=H5(i.view);const d=U5(i);return p=>{var g;p.on(c,(g=d,(b,w,C)=>{if(!C.consumable.test(w.item,b.name))return;const x=g(w.attributeOldValue,C,w),D=g(w.attributeNewValue,C,w);if(!x&&!D)return;C.consumable.consume(w.item,b.name);const N=C.mapper.toViewElement(w.item),B=C.writer;if(!N)throw new P("conversion-attribute-to-attribute-on-text",C.dispatcher,w);if(w.attributeOldValue!==null&&x)if(x.key=="class"){const F=typeof x.value=="string"?x.value.split(/\s+/):x.value;for(const U of F)B.removeClass(U,N)}else if(x.key=="style")if(typeof x.value=="string"){const F=new pC(B.document.stylesProcessor);F.setTo(x.value);for(const[U]of F.getStylesEntries())B.removeStyle(U,N)}else{const F=Object.keys(x.value);for(const U of F)B.removeStyle(U,N)}else B.removeAttribute(x.key,N);if(w.attributeNewValue!==null&&D)if(D.key=="class"){const F=typeof D.value=="string"?D.value.split(/\s+/):D.value;for(const U of F)B.addClass(U,N)}else if(D.key=="style")if(typeof D.value=="string"){const F=new pC(B.document.stylesProcessor);F.setTo(D.value);for(const[U,W]of F.getStylesEntries())B.setStyle(U,W,N)}else{const F=Object.keys(D.value);for(const U of F)B.setStyle(U,D.value[U],N)}else B.setAttribute(D.key,D.value,N)}),{priority:i.converterPriority||"normal"})}}(n))}markerToElement(n){return this.add(function(i){const a=yp(i.view,"ui");return c=>{c.on(`addMarker:${i.model}`,dZ(a),{priority:i.converterPriority||"normal"}),c.on(`removeMarker:${i.model}`,(d,p,g)=>{const b=g.mapper.markerNameToElements(p.markerName);if(b){for(const w of b)g.mapper.unbindElementFromMarkerName(w,p.markerName),g.writer.clear(g.writer.createRangeOn(w),w);g.writer.clearClonedElementsGroup(p.markerName),d.stop()}},{priority:i.converterPriority||"normal"})}}(n))}markerToHighlight(n){return this.add(function(i){return a=>{var c;a.on(`addMarker:${i.model}`,(c=i.view,(d,p,g)=>{if(!p.item||!(p.item instanceof Do||p.item instanceof Ri||p.item.is("$textProxy")))return;const b=MC(c,p,g);if(!b||!g.consumable.consume(p.item,d.name))return;const w=g.writer,C=z5(w,b),x=w.document.selection;if(p.item instanceof Do||p.item instanceof Ri)w.wrap(x.getFirstRange(),C);else{const D=g.mapper.toViewRange(p.range),N=w.wrap(D,C);for(const B of N.getItems())if(B.is("attributeElement")&&B.isSimilar(C)){g.mapper.bindElementToMarker(B,p.markerName);break}}}),{priority:i.converterPriority||"normal"}),a.on(`addMarker:${i.model}`,function(d){return(p,g,b)=>{if(!g.item||!(g.item instanceof Ht))return;const w=MC(d,g,b);if(!w||!b.consumable.test(g.item,p.name))return;const C=b.mapper.toViewElement(g.item);if(C&&C.getCustomProperty("addHighlight")){b.consumable.consume(g.item,p.name);for(const x of ie._createIn(g.item))b.consumable.consume(x.item,p.name);C.getCustomProperty("addHighlight")(C,w,b.writer),b.mapper.bindElementToMarker(C,g.markerName)}}}(i.view),{priority:i.converterPriority||"normal"}),a.on(`removeMarker:${i.model}`,function(d){return(p,g,b)=>{if(g.markerRange.isCollapsed)return;const w=MC(d,g,b);if(!w)return;const C=z5(b.writer,w),x=b.mapper.markerNameToElements(g.markerName);if(x){for(const D of x)b.mapper.unbindElementFromMarkerName(D,g.markerName),D.is("attributeElement")?b.writer.unwrap(b.writer.createRangeOn(D),C):D.getCustomProperty("removeHighlight")(D,w.id,b.writer);b.writer.clearClonedElementsGroup(g.markerName),p.stop()}}}(i.view),{priority:i.converterPriority||"normal"})}}(n))}markerToData(n){return this.add(function(i){i=Pi(i);const a=i.model;let c=i.view;return c||(c=d=>({group:a,name:d.substr(i.model.length+1)})),d=>{var p;d.on(`addMarker:${a}`,(p=c,(g,b,w)=>{const C=p(b.markerName,w);if(!C)return;const x=b.markerRange;w.consumable.consume(x,g.name)&&($5(x,!1,w,b,C),$5(x,!0,w,b,C),g.stop())}),{priority:i.converterPriority||"normal"}),d.on(`removeMarker:${a}`,function(g){return(b,w,C)=>{const x=g(w.markerName,C);if(!x)return;const D=C.mapper.markerNameToElements(w.markerName);if(D){for(const B of D)C.mapper.unbindElementFromMarkerName(B,w.markerName),B.is("containerElement")?(N(`data-${x.group}-start-before`,B),N(`data-${x.group}-start-after`,B),N(`data-${x.group}-end-before`,B),N(`data-${x.group}-end-after`,B)):C.writer.clear(C.writer.createRangeOn(B),B);C.writer.clearClonedElementsGroup(w.markerName),b.stop()}function N(B,F){if(F.hasAttribute(B)){const U=new Set(F.getAttribute(B).split(","));U.delete(x.name),U.size==0?C.writer.removeAttribute(B,F):C.writer.setAttribute(B,Array.from(U).join(","),F)}}}}(c),{priority:i.converterPriority||"normal"})}}(n))}}function z5(l,n){const i=l.createAttributeElement("span",n.attributes);return n.classes&&i._addClass(n.classes),typeof n.priority=="number"&&(i._priority=n.priority),i._id=n.id,i}function cZ(l){return(n,i,a)=>{if(!a.consumable.test(i.item,n.name))return;const c=l(i.attributeOldValue,a,i),d=l(i.attributeNewValue,a,i);if(!c&&!d)return;a.consumable.consume(i.item,n.name);const p=a.writer,g=p.document.selection;if(i.item instanceof Do||i.item instanceof Ri)p.wrap(g.getFirstRange(),d);else{let b=a.mapper.toViewRange(i.range);i.attributeOldValue!==null&&c&&(b=p.unwrap(b,c)),i.attributeNewValue!==null&&d&&p.wrap(b,d)}}}function uZ(l,n=pZ){return(i,a,c)=>{if(!n(a.item,c.consumable,{preflight:!0}))return;const d=l(a.item,c,a);if(!d)return;n(a.item,c.consumable);const p=c.mapper.toViewPosition(a.range.start);c.mapper.bindElements(a.item,d),c.writer.insert(p,d),c.convertAttributes(a.item),G5(d,a.item.getChildren(),c,{reconversion:a.reconversion})}}function dZ(l){return(n,i,a)=>{i.isOpening=!0;const c=l(i,a);i.isOpening=!1;const d=l(i,a);if(!c||!d)return;const p=i.markerRange;if(p.isCollapsed&&!a.consumable.consume(p,n.name))return;for(const w of p)if(!a.consumable.consume(w.item,n.name))return;const g=a.mapper,b=a.writer;b.insert(g.toViewPosition(p.start),c),a.mapper.bindElementToMarker(c,i.markerName),p.isCollapsed||(b.insert(g.toViewPosition(p.end),d),a.mapper.bindElementToMarker(d,i.markerName)),n.stop()}}function $5(l,n,i,a,c){const d=n?l.start:l.end,p=d.nodeAfter&&d.nodeAfter.is("element")?d.nodeAfter:null,g=d.nodeBefore&&d.nodeBefore.is("element")?d.nodeBefore:null;if(p||g){let b,w;n&&p||!n&&!g?(b=p,w=!0):(b=g,w=!1);const C=i.mapper.toViewElement(b);if(C)return void function(x,D,N,B,F,U){const W=`data-${U.group}-${D?"start":"end"}-${N?"before":"after"}`,Y=x.hasAttribute(W)?x.getAttribute(W).split(","):[];Y.unshift(U.name),B.writer.setAttribute(W,Y.join(","),x),B.mapper.bindElementToMarker(x,F.markerName)}(C,n,w,i,a,c)}(function(b,w,C,x,D){const N=`${D.group}-${w?"start":"end"}`,B=D.name?{name:D.name}:null,F=C.writer.createUIElement(N,B);C.writer.insert(b,F),C.mapper.bindElementToMarker(F,x.markerName)})(i.mapper.toViewPosition(d),n,i,a,c)}function V5(l){return typeof l=="string"&&(l={name:l}),{name:l.name,attributes:l.attributes?rn(l.attributes):[],children:!!l.children}}function yp(l,n){return typeof l=="function"?l:(i,a)=>function(c,d,p){typeof c=="string"&&(c={name:c});let g;const b=d.writer,w=Object.assign({},c.attributes);if(p=="container")g=b.createContainerElement(c.name,w);else if(p=="attribute"){const C={priority:c.priority||Kl.DEFAULT_PRIORITY};g=b.createAttributeElement(c.name,w,C)}else g=b.createUIElement(c.name,w);if(c.styles){const C=Object.keys(c.styles);for(const x of C)b.setStyle(x,c.styles[x],g)}if(c.classes){const C=c.classes;if(typeof C=="string")b.addClass(C,g);else for(const x of C)b.addClass(x,g)}return g}(l,a,n)}function U5(l){return l.model.values?(n,i,a)=>{const c=l.view[n];return c?c(n,i,a):null}:l.view}function H5(l){return typeof l=="string"?n=>({key:l,value:n}):typeof l=="object"?l.value?()=>l:n=>({key:l.key,value:n}):l}function MC(l,n,i){const a=typeof l=="function"?l(n,i):l;return a?(a.priority||(a.priority=10),a.id||(a.id=n.markerName),a):null}function W5(l){const n=function(i){return(a,c)=>{if(!a.is("element",i.name))return!1;if(c.type=="attribute"){if(i.attributes.includes(c.attributeKey))return!0}else if(i.children)return!0;return!1}}(l);return(i,a)=>{const c=[];a.reconvertedElements||(a.reconvertedElements=new Set);for(const d of a.changes){const p=d.type=="attribute"?d.range.start.nodeAfter:d.position.parent;if(p&&n(p,d)){if(!a.reconvertedElements.has(p)){a.reconvertedElements.add(p);const g=pe._createBefore(p);let b=c.length;for(let w=c.length-1;w>=0;w--){const C=c[w],x=(C.type=="attribute"?C.range.start:C.position).compareWith(g);if(x=="before"||C.type=="remove"&&x=="same")break;b=w}c.splice(b,0,{type:"remove",name:p.name,position:g,length:1},{type:"reinsert",name:p.name,position:g,length:1})}}else c.push(d)}a.changes=c}}function q5(l){return(n,i,a={})=>{const c=["insert"];for(const d of l.attributes)n.hasAttribute(d)&&c.push(`attribute:${d}`);return!!c.every(d=>i.test(n,d))&&(a.preflight||c.forEach(d=>i.consume(n,d)),!0)}}function G5(l,n,i,a){for(const c of n)hZ(l.root,c,i,a)||i.convertItem(c)}function hZ(l,n,i,a){const{writer:c,mapper:d}=i;if(!a.reconversion)return!1;const p=d.toViewElement(n);return!(!p||p.root==l)&&!!i.canReuseView(p)&&(c.move(c.createRangeOn(p),d.toViewPosition(pe._createBefore(n))),!0)}function pZ(l,n,{preflight:i}={}){return i?n.test(l,"insert"):n.consume(l,"insert")}function K5(l){const{schema:n,document:i}=l.model;for(const a of i.getRoots())if(a.isEmpty&&!n.checkChild(a,"$text")&&n.checkChild(a,"paragraph"))return l.insertElement("paragraph",a),!0;return!1}function Y5(l,n,i){const a=i.createContext(l);return!!i.checkChild(a,"paragraph")&&!!i.checkChild(a.push("paragraph"),n)}function Q5(l,n){const i=n.createElement("paragraph");return n.insert(i,l),n.createPositionAt(i,0)}var fZ=Object.defineProperty,mZ=Object.defineProperties,gZ=Object.getOwnPropertyDescriptors,Z5=Object.getOwnPropertySymbols,bZ=Object.prototype.hasOwnProperty,kZ=Object.prototype.propertyIsEnumerable,J5=(l,n,i)=>n in l?fZ(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i;class vZ extends F5{elementToElement(n){return this.add(X5(n))}elementToAttribute(n){return this.add(function(i){i=Pi(i),eP(i);const a=tP(i,!1),c=PC(i.view),d=c?`element:${c}`:"element";return p=>{p.on(d,a,{priority:i.converterPriority||"low"})}}(n))}attributeToAttribute(n){return this.add(function(i){i=Pi(i);let a=null;(typeof i.view=="string"||i.view.key)&&(a=function(d){typeof d.view=="string"&&(d.view={key:d.view});const p=d.view.key,g=d.view.value===void 0?/[\s\S]*/:d.view.value;let b;return p=="class"||p=="style"?b={[p=="class"?"classes":"styles"]:g}:b={attributes:{[p]:g}},d.view.name&&(b.name=d.view.name),d.view=b,p}(i)),eP(i,a);const c=tP(i,!0);return d=>{d.on("element",c,{priority:i.converterPriority||"low"})}}(n))}elementToMarker(n){return this.add(function(i){const a=function(p){return(g,b)=>{const w=typeof p=="string"?p:p(g,b);return b.writer.createElement("$marker",{"data-name":w})}}(i.model);return X5((c=((p,g)=>{for(var b in g||(g={}))bZ.call(g,b)&&J5(p,b,g[b]);if(Z5)for(var b of Z5(g))kZ.call(g,b)&&J5(p,b,g[b]);return p})({},i),d={model:a},mZ(c,gZ(d))));var c,d}(n))}dataToMarker(n){return this.add(function(i){i=Pi(i),i.model||(i.model=p=>p?i.view+":"+p:i.view);const a={view:i.view,model:i.model},c=NC(nP(a,"start")),d=NC(nP(a,"end"));return p=>{p.on(`element:${i.view}-start`,c,{priority:i.converterPriority||"normal"}),p.on(`element:${i.view}-end`,d,{priority:i.converterPriority||"normal"});const g=j.low,b=j.highest,w=j.get(i.converterPriority)/b;p.on("element",function(C){return(x,D,N)=>{const B=`data-${C.view}`;function F(U,W){for(const Y of W){const oe=C.model(Y,N),ue=N.writer.createElement("$marker",{"data-name":oe});N.writer.insert(ue,U),D.modelCursor.isEqual(U)?D.modelCursor=D.modelCursor.getShiftedBy(1):D.modelCursor=D.modelCursor._getTransformedByInsertion(U,1),D.modelRange=D.modelRange._getTransformedByInsertion(U,1)[0]}}(N.consumable.test(D.viewItem,{attributes:B+"-end-after"})||N.consumable.test(D.viewItem,{attributes:B+"-start-after"})||N.consumable.test(D.viewItem,{attributes:B+"-end-before"})||N.consumable.test(D.viewItem,{attributes:B+"-start-before"}))&&(D.modelRange||Object.assign(D,N.convertChildren(D.viewItem,D.modelCursor)),N.consumable.consume(D.viewItem,{attributes:B+"-end-after"})&&F(D.modelRange.end,D.viewItem.getAttribute(B+"-end-after").split(",")),N.consumable.consume(D.viewItem,{attributes:B+"-start-after"})&&F(D.modelRange.end,D.viewItem.getAttribute(B+"-start-after").split(",")),N.consumable.consume(D.viewItem,{attributes:B+"-end-before"})&&F(D.modelRange.start,D.viewItem.getAttribute(B+"-end-before").split(",")),N.consumable.consume(D.viewItem,{attributes:B+"-start-before"})&&F(D.modelRange.start,D.viewItem.getAttribute(B+"-start-before").split(",")))}}(a),{priority:g+w})}}(n))}}function X5(l){const n=NC(l=Pi(l)),i=PC(l.view),a=i?`element:${i}`:"element";return c=>{c.on(a,n,{priority:l.converterPriority||"normal"})}}function PC(l){return typeof l=="string"?l:typeof l=="object"&&typeof l.name=="string"?l.name:null}function NC(l){const n=new Ji(l.view);return(i,a,c)=>{const d=n.match(a.viewItem);if(!d)return;const p=d.match;if(p.name=!0,!c.consumable.test(a.viewItem,p))return;const g=function(b,w,C){return b instanceof Function?b(w,C):C.writer.createElement(b)}(l.model,a.viewItem,c);g&&c.safeInsert(g,a.modelCursor)&&(c.consumable.consume(a.viewItem,p),c.convertChildren(a.viewItem,g),c.updateConversionResult(g,a))}}function eP(l,n=null){const i=n===null||(d=>d.getAttribute(n)),a=typeof l.model!="object"?l.model:l.model.key,c=typeof l.model!="object"||l.model.value===void 0?i:l.model.value;l.model={key:a,value:c}}function tP(l,n){const i=new Ji(l.view);return(a,c,d)=>{if(!c.modelRange&&n)return;const p=i.match(c.viewItem);if(!p||(function(C,x){const D=typeof C=="function"?C(x):C;return typeof D=="object"&&!PC(D)?!1:!D.classes&&!D.attributes&&!D.styles}(l.view,c.viewItem)?p.match.name=!0:delete p.match.name,!d.consumable.test(c.viewItem,p.match)))return;const g=l.model.key,b=typeof l.model.value=="function"?l.model.value(c.viewItem,d):l.model.value;if(b===null)return;c.modelRange||Object.assign(c,d.convertChildren(c.viewItem,c.modelCursor)),function(C,x,D,N){let B=!1;for(const F of Array.from(C.getItems({shallow:D})))N.schema.checkAttribute(F,x.key)&&(B=!0,F.hasAttribute(x.key)||N.writer.setAttribute(x.key,x.value,F));return B}(c.modelRange,{key:g,value:b},n,d)&&(d.consumable.test(c.viewItem,{name:!0})&&(p.match.name=!0),d.consumable.consume(c.viewItem,p.match))}}function nP(l,n){return{view:`${l.view}-${n}`,model:(i,a)=>{const c=i.getAttribute("name"),d=l.model(c,a);return a.writer.createElement("$marker",{"data-name":d})}}}function wZ(l){l.document.registerPostFixer(n=>function(i,a){const c=a.document.selection,d=a.schema,p=[];let g=!1;for(const b of c.getRanges()){const w=rP(b,d);w&&!w.isEqual(b)?(p.push(w),g=!0):p.push(b)}return g&&i.setSelection(function(b){const w=[...b],C=new Set;let x=1;for(;x<w.length;){const D=w[x],N=w.slice(0,x);for(const[B,F]of N.entries())if(!C.has(B)){if(D.isEqual(F))C.add(B);else if(D.isIntersecting(F)){C.add(B),C.add(x);const U=D.getJoined(F);w.push(U)}}x++}return w.filter((D,N)=>!C.has(N))}(p),{backward:c.isBackward}),!1}(n,l))}function rP(l,n){return l.isCollapsed?function(i,a){const c=i.start,d=a.getNearestSelectionRange(c);if(!d){const g=c.getAncestors().reverse().find(b=>a.isObject(b));return g?ie._createOn(g):null}if(!d.isCollapsed)return d;const p=d.start;return c.isEqual(p)?null:new ie(p)}(l,n):function(i,a){const{start:c,end:d}=i,p=a.checkChild(c,"$text"),g=a.checkChild(d,"$text"),b=a.getLimitElement(c),w=a.getLimitElement(d);if(b===w){if(p&&g)return null;if(function(D,N,B){const F=D.nodeAfter&&!B.isLimit(D.nodeAfter)||B.checkChild(D,"$text"),U=N.nodeBefore&&!B.isLimit(N.nodeBefore)||B.checkChild(N,"$text");return F||U}(c,d,a)){const D=c.nodeAfter&&a.isSelectable(c.nodeAfter)?null:a.getNearestSelectionRange(c,"forward"),N=d.nodeBefore&&a.isSelectable(d.nodeBefore)?null:a.getNearestSelectionRange(d,"backward"),B=D?D.start:c,F=N?N.end:d;return new ie(B,F)}}const C=b&&!b.is("rootElement"),x=w&&!w.is("rootElement");if(C||x){const D=c.nodeAfter&&d.nodeBefore&&c.nodeAfter.parent===d.nodeBefore.parent,N=C&&(!D||!iP(c.nodeAfter,a)),B=x&&(!D||!iP(d.nodeBefore,a));let F=c,U=d;return N&&(F=pe._createBefore(oP(b,a))),B&&(U=pe._createAfter(oP(w,a))),new ie(F,U)}return null}(l,n)}function oP(l,n){let i=l,a=i;for(;n.isLimit(a)&&a.parent;)i=a,a=a.parent;return i}function iP(l,n){return l&&n.isSelectable(l)}class yZ extends be(){constructor(n,i){super(),this.model=n,this.view=new KQ(i),this.mapper=new M5,this.downcastDispatcher=new O5({mapper:this.mapper,schema:n.schema});const a=this.model.document,c=a.selection,d=this.model.markers;var p,g,b;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(a,"change",()=>{this.view.change(w=>{this.downcastDispatcher.convertChanges(a.differ,d,w),this.downcastDispatcher.convertSelection(c,d,w)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(w,C){return(x,D)=>{const N=D.newSelection,B=[];for(const U of N.getRanges())B.push(C.toModelRange(U));const F=w.createSelection(B,{backward:N.isBackward});F.isEqual(w.document.selection)||w.change(U=>{U.setSelection(F)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(p=this.mapper,g=this.model.schema,b=this.view,(w,C)=>{if(!b.document.isComposing||v.isAndroid)for(let x=0;x<C.targetRanges.length;x++){const D=C.targetRanges[x],N=p.toModelRange(D),B=rP(N,g);B&&!B.isEqual(N)&&(C.targetRanges[x]=p.toViewRange(B))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(w,C,x)=>{if(!x.consumable.consume(C.item,w.name))return;const D=x.writer,N=x.mapper.toViewPosition(C.range.start),B=D.createText(C.item.data);D.insert(N,B)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(w,C,x)=>{x.convertAttributes(C.item),C.reconversion||!C.item.is("element")||C.item.isEmpty||x.convertChildren(C.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(w,C,x)=>{const D=x.mapper.toViewPosition(C.position),N=C.position.getShiftedBy(C.length),B=x.mapper.toViewPosition(N,{isPhantom:!0}),F=x.writer.createRange(D,B),U=x.writer.remove(F.getTrimmed());for(const W of x.writer.createRangeIn(U).getItems())x.mapper.unbindViewElement(W,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(w,C,x)=>{const D=x.writer,N=D.document.selection;for(const B of N.getRanges())B.isCollapsed&&B.end.parent.isAttached()&&x.writer.mergeAttributes(B.start);D.setSelection(null)}),this.downcastDispatcher.on("selection",(w,C,x)=>{const D=C.selection;if(D.isCollapsed||!x.consumable.consume(D,"selection"))return;const N=[];for(const B of D.getRanges())N.push(x.mapper.toViewRange(B));x.writer.setSelection(N,{backward:D.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(w,C,x)=>{const D=C.selection;if(!D.isCollapsed||!x.consumable.consume(D,"selection"))return;const N=x.writer,B=D.getFirstPosition(),F=x.mapper.toViewPosition(B),U=N.breakAttributes(F);N.setSelection(U)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(w=>{if(w.rootName=="$graveyard")return null;const C=new e5(this.view.document,w.name);return C.rootName=w.rootName,this.mapper.bindElements(w,C),C})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(n){const i=typeof n=="string"?n:n.name,a=this.model.markers.get(i);if(!a)throw new P("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:i});this.model.change(()=>{this.model.markers._refresh(a)})}reconvertItem(n){this.model.change(()=>{this.model.document.differ._refreshItem(n)})}}class _p{constructor(){this._consumables=new Map}add(n,i){let a;n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!0):(this._consumables.has(n)?a=this._consumables.get(n):(a=new _Z(n),this._consumables.set(n,a)),a.add(i))}test(n,i){const a=this._consumables.get(n);return a===void 0?null:n.is("$text")||n.is("documentFragment")?a:a.test(i)}consume(n,i){return!!this.test(n,i)&&(n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!1):this._consumables.get(n).consume(i),!0)}revert(n,i){const a=this._consumables.get(n);a!==void 0&&(n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!0):a.revert(i))}static consumablesFromElement(n){const i={element:n,name:!0,attributes:[],classes:[],styles:[]},a=n.getAttributeKeys();for(const p of a)p!="style"&&p!="class"&&i.attributes.push(p);const c=n.getClassNames();for(const p of c)i.classes.push(p);const d=n.getStyleNames();for(const p of d)i.styles.push(p);return i}static createFrom(n,i){if(i||(i=new _p),n.is("$text"))return i.add(n),i;n.is("element")&&i.add(n,_p.consumablesFromElement(n)),n.is("documentFragment")&&i.add(n);for(const a of n.getChildren())i=_p.createFrom(a,i);return i}}const Fb=["attributes","classes","styles"];class _Z{constructor(n){this.element=n,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(n){n.name&&(this._canConsumeName=!0);for(const i of Fb)i in n&&this._add(i,n[i])}test(n){if(n.name&&!this._canConsumeName)return this._canConsumeName;for(const i of Fb)if(i in n){const a=this._test(i,n[i]);if(a!==!0)return a}return!0}consume(n){n.name&&(this._canConsumeName=!1);for(const i of Fb)i in n&&this._consume(i,n[i])}revert(n){n.name&&(this._canConsumeName=!0);for(const i of Fb)i in n&&this._revert(i,n[i])}_add(n,i){const a=rn(i),c=this._consumables[n];for(const d of a){if(n==="attributes"&&(d==="class"||d==="style"))throw new P("viewconsumable-invalid-attribute",this);if(c.set(d,!0),n==="styles")for(const p of this.element.document.stylesProcessor.getRelatedStyles(d))c.set(p,!0)}}_test(n,i){const a=rn(i),c=this._consumables[n];for(const d of a)if(n!=="attributes"||d!=="class"&&d!=="style"){const p=c.get(d);if(p===void 0)return null;if(!p)return!1}else{const p=d=="class"?"classes":"styles",g=this._test(p,[...this._consumables[p].keys()]);if(g!==!0)return g}return!0}_consume(n,i){const a=rn(i),c=this._consumables[n];for(const d of a)if(n!=="attributes"||d!=="class"&&d!=="style"){if(c.set(d,!1),n=="styles")for(const p of this.element.document.stylesProcessor.getRelatedStyles(d))c.set(p,!1)}else{const p=d=="class"?"classes":"styles";this._consume(p,[...this._consumables[p].keys()])}}_revert(n,i){const a=rn(i),c=this._consumables[n];for(const d of a)if(n!=="attributes"||d!=="class"&&d!=="style")c.get(d)===!1&&c.set(d,!0);else{const p=d=="class"?"classes":"styles";this._revert(p,[...this._consumables[p].keys()])}}}class CZ extends be(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(n,i)=>{i[0]=new Jl(i[0])},{priority:"highest"}),this.on("checkChild",(n,i)=>{i[0]=new Jl(i[0]),i[1]=this.getDefinition(i[1])},{priority:"highest"})}register(n,i){if(this._sourceDefinitions[n])throw new P("schema-cannot-register-item-twice",this,{itemName:n});this._sourceDefinitions[n]=[Object.assign({},i)],this._clearCache()}extend(n,i){if(!this._sourceDefinitions[n])throw new P("schema-cannot-extend-missing-item",this,{itemName:n});this._sourceDefinitions[n].push(Object.assign({},i)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(n){let i;return i=typeof n=="string"?n:"is"in n&&(n.is("$text")||n.is("$textProxy"))?"$text":n.name,this.getDefinitions()[i]}isRegistered(n){return!!this.getDefinition(n)}isBlock(n){const i=this.getDefinition(n);return!(!i||!i.isBlock)}isLimit(n){const i=this.getDefinition(n);return!!i&&!(!i.isLimit&&!i.isObject)}isObject(n){const i=this.getDefinition(n);return!!i&&!!(i.isObject||i.isLimit&&i.isSelectable&&i.isContent)}isInline(n){const i=this.getDefinition(n);return!(!i||!i.isInline)}isSelectable(n){const i=this.getDefinition(n);return!!i&&!(!i.isSelectable&&!i.isObject)}isContent(n){const i=this.getDefinition(n);return!!i&&!(!i.isContent&&!i.isObject)}checkChild(n,i){return!!i&&this._checkContextMatch(i,n)}checkAttribute(n,i){const a=this.getDefinition(n.last);return!!a&&a.allowAttributes.includes(i)}checkMerge(n,i){if(n instanceof pe){const a=n.nodeBefore,c=n.nodeAfter;if(!(a instanceof Ht))throw new P("schema-check-merge-no-element-before",this);if(!(c instanceof Ht))throw new P("schema-check-merge-no-element-after",this);return this.checkMerge(a,c)}for(const a of i.getChildren())if(!this.checkChild(n,a))return!1;return!0}addChildCheck(n){this.on("checkChild",(i,[a,c])=>{if(!c)return;const d=n(a,c);typeof d=="boolean"&&(i.stop(),i.return=d)},{priority:"high"})}addAttributeCheck(n){this.on("checkAttribute",(i,[a,c])=>{const d=n(a,c);typeof d=="boolean"&&(i.stop(),i.return=d)},{priority:"high"})}setAttributeProperties(n,i){this._attributeProperties[n]=Object.assign(this.getAttributeProperties(n),i)}getAttributeProperties(n){return this._attributeProperties[n]||{}}getLimitElement(n){let i;for(n instanceof pe?i=n.parent:i=(n instanceof ie?[n]:Array.from(n.getRanges())).reduce((a,c)=>{const d=c.getCommonAncestor();return a?a.getCommonAncestor(d,{includeSelf:!0}):d},null);!this.isLimit(i)&&i.parent;)i=i.parent;return i}checkAttributeInSelection(n,i){if(n.isCollapsed){const a=[...n.getFirstPosition().getAncestors(),new tn("",n.getAttributes())];return this.checkAttribute(a,i)}{const a=n.getRanges();for(const c of a)for(const d of c)if(this.checkAttribute(d.item,i))return!0}return!1}*getValidRanges(n,i){n=function*(a){for(const c of a)yield*c.getMinimalFlatRanges()}(n);for(const a of n)yield*this._getValidRangesForRange(a,i)}getNearestSelectionRange(n,i="both"){if(n.root.rootName=="$graveyard")return null;if(this.checkChild(n,"$text"))return new ie(n);let a,c;const d=n.getAncestors().reverse().find(p=>this.isLimit(p))||n.root;i!="both"&&i!="backward"||(a=new Ls({boundaries:ie._createIn(d),startPosition:n,direction:"backward"})),i!="both"&&i!="forward"||(c=new Ls({boundaries:ie._createIn(d),startPosition:n}));for(const p of function*(g,b){let w=!1;for(;!w;){if(w=!0,g){const C=g.next();C.done||(w=!1,yield{walker:g,value:C.value})}if(b){const C=b.next();C.done||(w=!1,yield{walker:b,value:C.value})}}}(a,c)){const g=p.walker==a?"elementEnd":"elementStart",b=p.value;if(b.type==g&&this.isObject(b.item))return ie._createOn(b.item);if(this.checkChild(b.nextPosition,"$text"))return new ie(b.nextPosition)}return null}findAllowedParent(n,i){let a=n.parent;for(;a;){if(this.checkChild(a,i))return a;if(this.isLimit(a))return null;a=a.parent}return null}setAllowedAttributes(n,i,a){const c=a.model;for(const[d,p]of Object.entries(i))c.schema.checkAttribute(n,d)&&a.setAttribute(d,p,n)}removeDisallowedAttributes(n,i){for(const a of n)if(a.is("$text"))sP(this,a,i);else{const c=ie._createIn(a).getPositions();for(const d of c)sP(this,d.nodeBefore||d.parent,i)}}getAttributesWithProperty(n,i,a){const c={};for(const[d,p]of n.getAttributes()){const g=this.getAttributeProperties(d);g[i]!==void 0&&(a!==void 0&&a!==g[i]||(c[d]=p))}return c}createContext(n){return new Jl(n)}_clearCache(){this._compiledDefinitions=null}_compile(){const n={},i=this._sourceDefinitions,a=Object.keys(i);for(const c of a)n[c]=AZ(i[c],c);for(const c of a)xZ(n,c);for(const c of a)EZ(n,c);for(const c of a)SZ(n,c);for(const c of a)DZ(n,c),TZ(n,c);for(const c of a)IZ(n,c),MZ(n,c),PZ(n,c);this._compiledDefinitions=n}_checkContextMatch(n,i,a=i.length-1){const c=i.getItem(a);if(n.allowIn.includes(c.name)){if(a==0)return!0;{const d=this.getDefinition(c);return this._checkContextMatch(d,i,a-1)}}return!1}*_getValidRangesForRange(n,i){let a=n.start,c=n.start;for(const d of n.getItems({shallow:!0}))d.is("element")&&(yield*this._getValidRangesForRange(ie._createIn(d),i)),this.checkAttribute(d,i)||(a.isEqual(c)||(yield new ie(a,c)),a=pe._createAfter(d)),c=pe._createAfter(d);a.isEqual(c)||(yield new ie(a,c))}findOptimalInsertionRange(n,i){const a=n.getSelectedElement();if(a&&this.isObject(a)&&!this.isInline(a))return i=="before"||i=="after"?new ie(pe._createAt(a,i)):ie._createOn(a);const c=ur(n.getSelectedBlocks());if(!c)return new ie(n.focus);if(c.isEmpty)return new ie(pe._createAt(c,0));const d=pe._createAfter(c);return n.focus.isTouching(d)?new ie(d):new ie(pe._createBefore(c))}}class Jl{constructor(n){if(n instanceof Jl)return n;let i;i=typeof n=="string"?[n]:Array.isArray(n)?n:n.getAncestors({includeSelf:!0}),this._items=i.map(RZ)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(n){const i=new Jl([n]);return i._items=[...this._items,...i._items],i}getItem(n){return this._items[n]}*getNames(){yield*this._items.map(n=>n.name)}endsWith(n){return Array.from(this.getNames()).join(" ").endsWith(n)}startsWith(n){return Array.from(this.getNames()).join(" ").startsWith(n)}}function AZ(l,n){const i={name:n,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(a,c){for(const d of a){const p=Object.keys(d).filter(g=>g.startsWith("is"));for(const g of p)c[g]=!!d[g]}}(l,i),Xl(l,i,"allowIn"),Xl(l,i,"allowContentOf"),Xl(l,i,"allowWhere"),Xl(l,i,"allowAttributes"),Xl(l,i,"allowAttributesOf"),Xl(l,i,"allowChildren"),Xl(l,i,"inheritTypesFrom"),function(a,c){for(const d of a){const p=d.inheritAllFrom;p&&(c.allowContentOf.push(p),c.allowWhere.push(p),c.allowAttributesOf.push(p),c.inheritTypesFrom.push(p))}}(l,i),i}function xZ(l,n){const i=l[n];for(const a of i.allowChildren){const c=l[a];c&&c.allowIn.push(n)}i.allowChildren.length=0}function EZ(l,n){for(const i of l[n].allowContentOf)l[i]&&NZ(l,i).forEach(a=>{a.allowIn.push(n)});delete l[n].allowContentOf}function SZ(l,n){for(const i of l[n].allowWhere){const a=l[i];if(a){const c=a.allowIn;l[n].allowIn.push(...c)}}delete l[n].allowWhere}function DZ(l,n){for(const i of l[n].allowAttributesOf){const a=l[i];if(a){const c=a.allowAttributes;l[n].allowAttributes.push(...c)}}delete l[n].allowAttributesOf}function TZ(l,n){const i=l[n];for(const a of i.inheritTypesFrom){const c=l[a];if(c){const d=Object.keys(c).filter(p=>p.startsWith("is"));for(const p of d)p in i||(i[p]=c[p])}}delete i.inheritTypesFrom}function IZ(l,n){const i=l[n],a=i.allowIn.filter(c=>l[c]);i.allowIn=Array.from(new Set(a))}function MZ(l,n){const i=l[n];for(const a of i.allowIn)l[a].allowChildren.push(n)}function PZ(l,n){const i=l[n];i.allowAttributes=Array.from(new Set(i.allowAttributes))}function Xl(l,n,i){for(const a of l){const c=a[i];typeof c=="string"?n[i].push(c):Array.isArray(c)&&n[i].push(...c)}}function NZ(l,n){const i=l[n];return(a=l,Object.keys(a).map(c=>a[c])).filter(c=>c.allowIn.includes(i.name));var a}function RZ(l){return typeof l=="string"||l.is("documentFragment")?{name:typeof l=="string"?l:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:l.is("element")?l.name:"$text",*getAttributeKeys(){yield*l.getAttributeKeys()},getAttribute:n=>l.getAttribute(n)}}function sP(l,n,i){for(const a of n.getAttributeKeys())l.checkAttribute(n,a)||i.removeAttribute(a,n)}var OZ=Object.defineProperty,BZ=Object.defineProperties,LZ=Object.getOwnPropertyDescriptors,aP=Object.getOwnPropertySymbols,jZ=Object.prototype.hasOwnProperty,FZ=Object.prototype.propertyIsEnumerable,lP=(l,n,i)=>n in l?OZ(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i;class zZ extends G(){constructor(n){var i;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(i=((a,c)=>{for(var d in c||(c={}))jZ.call(c,d)&&lP(a,d,c[d]);if(aP)for(var d of aP(c))FZ.call(c,d)&&lP(a,d,c[d]);return a})({},n),BZ(i,LZ({consumable:null,writer:null,store:null,convertItem:(a,c)=>this._convertItem(a,c),convertChildren:(a,c)=>this._convertChildren(a,c),safeInsert:(a,c)=>this._safeInsert(a,c),updateConversionResult:(a,c)=>this._updateConversionResult(a,c),splitToAllowedParent:(a,c)=>this._splitToAllowedParent(a,c),getSplitParts:a=>this._getSplitParts(a),keepEmptyElement:a=>this._keepEmptyElement(a)})))}convert(n,i,a=["$root"]){this.fire("viewCleanup",n),this._modelCursor=function(p,g){let b;for(const w of new Jl(p)){const C={};for(const D of w.getAttributeKeys())C[D]=w.getAttribute(D);const x=g.createElement(w.name,C);b&&g.insert(x,b),b=pe._createAt(x,0)}return b}(a,i),this.conversionApi.writer=i,this.conversionApi.consumable=_p.createFrom(n),this.conversionApi.store={};const{modelRange:c}=this._convertItem(n,this._modelCursor),d=i.createDocumentFragment();if(c){this._removeEmptyElements();for(const p of Array.from(this._modelCursor.parent.getChildren()))i.append(p,d);d.markers=function(p,g){const b=new Set,w=new Map,C=ie._createIn(p).getItems();for(const x of C)x.is("element","$marker")&&b.add(x);for(const x of b){const D=x.getAttribute("data-name"),N=g.createPositionBefore(x);w.has(D)?w.get(D).end=N.clone():w.set(D,new ie(N.clone())),g.remove(x)}return w}(d,i)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,d}_convertItem(n,i){const a={viewItem:n,modelCursor:i,modelRange:null};if(n.is("element")?this.fire(`element:${n.name}`,a,this.conversionApi):n.is("$text")?this.fire("text",a,this.conversionApi):this.fire("documentFragment",a,this.conversionApi),a.modelRange&&!(a.modelRange instanceof ie))throw new P("view-conversion-dispatcher-incorrect-result",this);return{modelRange:a.modelRange,modelCursor:a.modelCursor}}_convertChildren(n,i){let a=i.is("position")?i:pe._createAt(i,0);const c=new ie(a);for(const d of Array.from(n.getChildren())){const p=this._convertItem(d,a);p.modelRange instanceof ie&&(c.end=p.modelRange.end,a=p.modelCursor)}return{modelRange:c,modelCursor:a}}_safeInsert(n,i){const a=this._splitToAllowedParent(n,i);return!!a&&(this.conversionApi.writer.insert(n,a.position),!0)}_updateConversionResult(n,i){const a=this._getSplitParts(n),c=this.conversionApi.writer;i.modelRange||(i.modelRange=c.createRange(c.createPositionBefore(n),c.createPositionAfter(a[a.length-1])));const d=this._cursorParents.get(n);i.modelCursor=d?c.createPositionAt(d,0):i.modelRange.end}_splitToAllowedParent(n,i){const{schema:a,writer:c}=this.conversionApi;let d=a.findAllowedParent(i,n);if(d){if(d===i.parent)return{position:i};this._modelCursor.parent.getAncestors().includes(d)&&(d=null)}if(!d)return Y5(i,n,a)?{position:Q5(i,c)}:null;const p=this.conversionApi.writer.split(i,d),g=[];for(const w of p.range.getWalker())if(w.type=="elementEnd")g.push(w.item);else{const C=g.pop(),x=w.item;this._registerSplitPair(C,x)}const b=p.range.end.parent;return this._cursorParents.set(n,b),{position:p.position,cursorParent:b}}_registerSplitPair(n,i){this._splitParts.has(n)||this._splitParts.set(n,[n]);const a=this._splitParts.get(n);this._splitParts.set(i,a),a.push(i)}_getSplitParts(n){let i;return i=this._splitParts.has(n)?this._splitParts.get(n):[n],i}_keepEmptyElement(n){this._emptyElementsToKeep.add(n)}_removeEmptyElements(){let n=!1;for(const i of this._splitParts.keys())i.isEmpty&&!this._emptyElementsToKeep.has(i)&&(this.conversionApi.writer.remove(i),this._splitParts.delete(i),n=!0);n&&this._removeEmptyElements()}}class $Z{getHtml(n){const i=m.document.implementation.createHTMLDocument("").createElement("div");return i.appendChild(n),i.innerHTML}}class VZ{constructor(n){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Pb(n,{renderingMode:"data"}),this.htmlWriter=new $Z}toData(n){const i=this.domConverter.viewToDom(n);return this.htmlWriter.getHtml(i)}toView(n){const i=this._toDom(n);return this.domConverter.domToView(i,{skipComments:this.skipComments})}registerRawContentMatcher(n){this.domConverter.registerRawContentMatcher(n)}useFillerType(n){this.domConverter.blockFillerMode=n=="marked"?"markedNbsp":"nbsp"}_toDom(n){n.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(n=`<body>${n}</body>`);const i=this.domParser.parseFromString(n,"text/html"),a=i.createDocumentFragment(),c=i.body.childNodes;for(;c.length>0;)a.appendChild(c[0]);return a}}class UZ extends G(){constructor(n,i){super(),this.model=n,this.mapper=new M5,this.downcastDispatcher=new O5({mapper:this.mapper,schema:n.schema}),this.downcastDispatcher.on("insert:$text",(a,c,d)=>{if(!d.consumable.consume(c.item,a.name))return;const p=d.writer,g=d.mapper.toViewPosition(c.range.start),b=p.createText(c.item.data);p.insert(g,b)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(a,c,d)=>{d.convertAttributes(c.item),c.reconversion||!c.item.is("element")||c.item.isEmpty||d.convertChildren(c.item)},{priority:"lowest"}),this.upcastDispatcher=new zZ({schema:n.schema}),this.viewDocument=new Tb(i),this.stylesProcessor=i,this.htmlProcessor=new VZ(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new n5(this.viewDocument),this.upcastDispatcher.on("text",(a,c,{schema:d,consumable:p,writer:g})=>{let b=c.modelCursor;if(!p.test(c.viewItem))return;if(!d.checkChild(b,"$text")){if(!Y5(b,"$text",d)||c.viewItem.data.trim().length==0)return;const C=b.nodeBefore;b=Q5(b,g),C&&C.is("element","$marker")&&(g.move(g.createRangeOn(C),b),b=g.createPositionAfter(C))}p.consume(c.viewItem);const w=g.createText(c.viewItem.data);g.insert(w,b),c.modelRange=g.createRange(b,b.getShiftedBy(w.offsetSize)),c.modelCursor=c.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(a,c,d)=>{if(!c.modelRange&&d.consumable.consume(c.viewItem,{name:!0})){const{modelRange:p,modelCursor:g}=d.convertChildren(c.viewItem,c.modelCursor);c.modelRange=p,c.modelCursor=g}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(a,c,d)=>{if(!c.modelRange&&d.consumable.consume(c.viewItem,{name:!0})){const{modelRange:p,modelCursor:g}=d.convertChildren(c.viewItem,c.modelCursor);c.modelRange=p,c.modelCursor=g}},{priority:"lowest"}),be().prototype.decorate.call(this,"init"),be().prototype.decorate.call(this,"set"),be().prototype.decorate.call(this,"get"),be().prototype.decorate.call(this,"toView"),be().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},K5)},{priority:"lowest"})}get(n={}){const{rootName:i="main",trim:a="empty"}=n;if(!this._checkIfRootsExists([i]))throw new P("datacontroller-get-non-existent-root",this);const c=this.model.document.getRoot(i);return c.isAttached()||z("datacontroller-get-detached-root",this),a!=="empty"||this.model.hasContent(c,{ignoreWhitespaces:!0})?this.stringify(c,n):""}stringify(n,i={}){const a=this.toView(n,i);return this.processor.toData(a)}toView(n,i={}){const a=this.viewDocument,c=this._viewWriter;this.mapper.clearBindings();const d=ie._createIn(n),p=new Yl(a);this.mapper.bindElements(n,p);const g=n.is("documentFragment")?n.markers:function(b){const w=[],C=b.root.document;if(!C)return new Map;const x=ie._createIn(b);for(const D of C.model.markers){const N=D.getRange(),B=N.isCollapsed,F=N.start.isEqual(x.start)||N.end.isEqual(x.end);if(B&&F)w.push([D.name,N]);else{const U=x.getIntersection(N);U&&w.push([D.name,U])}}return w.sort(([D,N],[B,F])=>{if(N.end.compareWith(F.start)!=="after")return 1;if(N.start.compareWith(F.end)!=="before")return-1;switch(N.start.compareWith(F.start)){case"before":return 1;case"after":return-1;default:switch(N.end.compareWith(F.end)){case"before":return 1;case"after":return-1;default:return B.localeCompare(D)}}}),new Map(w)}(n);return this.downcastDispatcher.convert(d,g,c,i),p}init(n){if(this.model.document.version)throw new P("datacontroller-init-document-not-empty",this);let i={};if(typeof n=="string"?i.main=n:i=n,!this._checkIfRootsExists(Object.keys(i)))throw new P("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},a=>{for(const c of Object.keys(i)){const d=this.model.document.getRoot(c);a.insert(this.parse(i[c],d),d,0)}}),Promise.resolve()}set(n,i={}){let a={};if(typeof n=="string"?a.main=n:a=n,!this._checkIfRootsExists(Object.keys(a)))throw new P("datacontroller-set-non-existent-root",this);this.model.enqueueChange(i.batchType||{},c=>{c.setSelection(null),c.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const d of Object.keys(a)){const p=this.model.document.getRoot(d);c.remove(c.createRangeIn(p)),c.insert(this.parse(a[d],p),p,0)}})}parse(n,i="$root"){const a=this.processor.toView(n);return this.toModel(a,i)}toModel(n,i="$root"){return this.model.change(a=>this.upcastDispatcher.convert(n,a,i))}addStyleProcessorRules(n){n(this.stylesProcessor)}registerRawContentMatcher(n){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(n),this.htmlProcessor.registerRawContentMatcher(n)}destroy(){this.stopListening()}_checkIfRootsExists(n){for(const i of n)if(!this.model.document.getRoot(i))return!1;return!0}}class HZ{constructor(n,i){this._helpers=new Map,this._downcast=rn(n),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=rn(i),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(n,i){const a=this._downcast.includes(i);if(!this._upcast.includes(i)&&!a)throw new P("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:n,dispatchers:[i],isDowncast:a})}for(n){if(!this._helpers.has(n))throw new P("conversion-for-unknown-group",this);return this._helpers.get(n)}elementToElement(n){this.for("downcast").elementToElement(n);for(const{model:i,view:a}of RC(n))this.for("upcast").elementToElement({model:i,view:a,converterPriority:n.converterPriority})}attributeToElement(n){this.for("downcast").attributeToElement(n);for(const{model:i,view:a}of RC(n))this.for("upcast").elementToAttribute({view:a,model:i,converterPriority:n.converterPriority})}attributeToAttribute(n){this.for("downcast").attributeToAttribute(n);for(const{model:i,view:a}of RC(n))this.for("upcast").attributeToAttribute({view:a,model:i})}_createConversionHelpers({name:n,dispatchers:i,isDowncast:a}){if(this._helpers.has(n))throw new P("conversion-group-exists",this);const c=a?new lZ(i):new vZ(i);this._helpers.set(n,c)}}function*RC(l){if(l.model.values)for(const n of l.model.values){const i={key:l.model.key,value:n},a=l.view[n],c=l.upcastAlso?l.upcastAlso[n]:void 0;yield*cP(i,a,c)}else yield*cP(l.model,l.view,l.upcastAlso)}function*cP(l,n,i){if(yield{model:l,view:n},i)for(const a of rn(i))yield{model:l,view:a}}class Io{constructor(n){this.baseVersion=n,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const n=Object.assign({},this);return n.__className=this.constructor.className,delete n.batch,delete n.isDocumentOperation,n}static get className(){return"Operation"}static fromJSON(n,i){return new this(n.baseVersion)}}function OC(l,n){const i=dP(n),a=i.reduce((p,g)=>p+g.offsetSize,0),c=l.parent;xp(l);const d=l.index;return c._insertChild(d,i),Ap(c,d+i.length),Ap(c,d),new ie(l,l.getShiftedBy(a))}function uP(l){if(!l.isFlat)throw new P("operation-utils-remove-range-not-flat",this);const n=l.start.parent;xp(l.start),xp(l.end);const i=n._removeChildren(l.start.index,l.end.index-l.start.index);return Ap(n,l.start.index),i}function Cp(l,n){if(!l.isFlat)throw new P("operation-utils-move-range-not-flat",this);const i=uP(l);return OC(n=n._getTransformedByDeletion(l.start,l.end.offset-l.start.offset),i)}function dP(l){const n=[];(function i(a){if(typeof a=="string")n.push(new tn(a));else if(a instanceof Ni)n.push(new tn(a.data,a.getAttributes()));else if(a instanceof Ql)n.push(a);else if(ae(a))for(const c of a)i(c)})(l);for(let i=1;i<n.length;i++){const a=n[i],c=n[i-1];a instanceof tn&&c instanceof tn&&hP(a,c)&&(n.splice(i-1,2,new tn(c.data+a.data,c.getAttributes())),i--)}return n}function Ap(l,n){const i=l.getChild(n-1),a=l.getChild(n);if(i&&a&&i.is("$text")&&a.is("$text")&&hP(i,a)){const c=new tn(i.data+a.data,i.getAttributes());l._removeChildren(n-1,2),l._insertChild(n-1,c)}}function xp(l){const n=l.textNode,i=l.parent;if(n){const a=l.offset-n.startOffset,c=n.index;i._removeChildren(c,1);const d=new tn(n.data.substr(0,a),n.getAttributes()),p=new tn(n.data.substr(a),n.getAttributes());i._insertChild(c,[d,p])}}function hP(l,n){const i=l.getAttributes(),a=n.getAttributes();for(const c of i){if(c[1]!==n.getAttribute(c[0]))return!1;a.next()}return a.next().done}class It extends Io{constructor(n,i,a,c){super(c),this.sourcePosition=n.clone(),this.sourcePosition.stickiness="toNext",this.howMany=i,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[ie._createFromPositionAndShift(this.sourcePosition,this.howMany),ie._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new It(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const n=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new It(this.getMovedRangeStart(),this.howMany,n,this.baseVersion+1)}_validate(){const n=this.sourcePosition.parent,i=this.targetPosition.parent,a=this.sourcePosition.offset,c=this.targetPosition.offset;if(a+this.howMany>n.maxOffset)throw new P("move-operation-nodes-do-not-exist",this);if(n===i&&a<c&&c<a+this.howMany)throw new P("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&se(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const d=this.sourcePosition.path.length-1;if(this.targetPosition.path[d]>=a&&this.targetPosition.path[d]<a+this.howMany)throw new P("move-operation-node-into-itself",this)}}_execute(){Cp(ie._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const n=super.toJSON();return n.sourcePosition=this.sourcePosition.toJSON(),n.targetPosition=this.targetPosition.toJSON(),n}static get className(){return"MoveOperation"}static fromJSON(n,i){const a=pe.fromJSON(n.sourcePosition,i),c=pe.fromJSON(n.targetPosition,i);return new this(a,n.howMany,c,n.baseVersion)}}class hr extends Io{constructor(n,i,a){super(a),this.position=n.clone(),this.position.stickiness="toNone",this.nodes=new kp(dP(i)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const n=new kp([...this.nodes].map(a=>a._clone(!0))),i=new hr(this.position,n,this.baseVersion);return i.shouldReceiveAttributes=this.shouldReceiveAttributes,i}getReversed(){const n=this.position.root.document.graveyard,i=new pe(n,[0]);return new It(this.position,this.nodes.maxOffset,i,this.baseVersion+1)}_validate(){const n=this.position.parent;if(!n||n.maxOffset<this.position.offset)throw new P("insert-operation-position-invalid",this)}_execute(){const n=this.nodes;this.nodes=new kp([...n].map(i=>i._clone(!0))),OC(this.position,n)}toJSON(){const n=super.toJSON();return n.position=this.position.toJSON(),n.nodes=this.nodes.toJSON(),n}static get className(){return"InsertOperation"}static fromJSON(n,i){const a=[];for(const d of n.nodes)d.name?a.push(Ht.fromJSON(d)):a.push(tn.fromJSON(d));const c=new hr(pe.fromJSON(n.position,i),a,n.baseVersion);return c.shouldReceiveAttributes=n.shouldReceiveAttributes,c}}class nn extends Io{constructor(n,i,a,c,d){super(d),this.splitPosition=n.clone(),this.splitPosition.stickiness="toNext",this.howMany=i,this.insertionPosition=a,this.graveyardPosition=c?c.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const n=this.insertionPosition.path.slice();return n.push(0),new pe(this.insertionPosition.root,n)}get movedRange(){const n=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ie(this.splitPosition,n)}get affectedSelectable(){const n=[ie._createFromPositionAndShift(this.splitPosition,0),ie._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&n.push(ie._createFromPositionAndShift(this.graveyardPosition,0)),n}clone(){return new nn(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const n=this.splitPosition.root.document.graveyard,i=new pe(n,[0]);return new In(this.moveTargetPosition,this.howMany,this.splitPosition,i,this.baseVersion+1)}_validate(){const n=this.splitPosition.parent,i=this.splitPosition.offset;if(!n||n.maxOffset<i)throw new P("split-operation-position-invalid",this);if(!n.parent)throw new P("split-operation-split-in-root",this);if(this.howMany!=n.maxOffset-this.splitPosition.offset)throw new P("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new P("split-operation-graveyard-position-invalid",this)}_execute(){const n=this.splitPosition.parent;if(this.graveyardPosition)Cp(ie._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const i=n._clone();OC(this.insertionPosition,i)}Cp(new ie(pe._createAt(n,this.splitPosition.offset),pe._createAt(n,n.maxOffset)),this.moveTargetPosition)}toJSON(){const n=super.toJSON();return n.splitPosition=this.splitPosition.toJSON(),n.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(n.graveyardPosition=this.graveyardPosition.toJSON()),n}static get className(){return"SplitOperation"}static getInsertionPosition(n){const i=n.path.slice(0,-1);return i[i.length-1]++,new pe(n.root,i,"toPrevious")}static fromJSON(n,i){const a=pe.fromJSON(n.splitPosition,i),c=pe.fromJSON(n.insertionPosition,i),d=n.graveyardPosition?pe.fromJSON(n.graveyardPosition,i):null;return new this(a,n.howMany,c,d,n.baseVersion)}}class In extends Io{constructor(n,i,a,c,d){super(d),this.sourcePosition=n.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=i,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=c.clone()}get type(){return"merge"}get deletionPosition(){return new pe(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const n=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ie(this.sourcePosition,n)}get affectedSelectable(){const n=this.sourcePosition.parent;return[ie._createOn(n),ie._createFromPositionAndShift(this.targetPosition,0),ie._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new In(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const n=this.targetPosition._getTransformedByMergeOperation(this),i=this.sourcePosition.path.slice(0,-1),a=new pe(this.sourcePosition.root,i)._getTransformedByMergeOperation(this);return new nn(n,this.howMany,a,this.graveyardPosition,this.baseVersion+1)}_validate(){const n=this.sourcePosition.parent,i=this.targetPosition.parent;if(!n.parent)throw new P("merge-operation-source-position-invalid",this);if(!i.parent)throw new P("merge-operation-target-position-invalid",this);if(this.howMany!=n.maxOffset)throw new P("merge-operation-how-many-invalid",this)}_execute(){const n=this.sourcePosition.parent;Cp(ie._createIn(n),this.targetPosition),Cp(ie._createOn(n),this.graveyardPosition)}toJSON(){const n=super.toJSON();return n.sourcePosition=n.sourcePosition.toJSON(),n.targetPosition=n.targetPosition.toJSON(),n.graveyardPosition=n.graveyardPosition.toJSON(),n}static get className(){return"MergeOperation"}static fromJSON(n,i){const a=pe.fromJSON(n.sourcePosition,i),c=pe.fromJSON(n.targetPosition,i),d=pe.fromJSON(n.graveyardPosition,i);return new this(a,n.howMany,c,d,n.baseVersion)}}class io extends Io{constructor(n,i,a,c,d,p){super(p),this.name=n,this.oldRange=i?i.clone():null,this.newRange=a?a.clone():null,this.affectsData=d,this._markers=c}get type(){return"marker"}get affectedSelectable(){const n=[];return this.oldRange&&n.push(this.oldRange.clone()),this.newRange&&(this.oldRange?n.push(...this.newRange.getDifference(this.oldRange)):n.push(this.newRange.clone())),n}clone(){return new io(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new io(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const n=super.toJSON();return this.oldRange&&(n.oldRange=this.oldRange.toJSON()),this.newRange&&(n.newRange=this.newRange.toJSON()),delete n._markers,n}static get className(){return"MarkerOperation"}static fromJSON(n,i){return new io(n.name,n.oldRange?ie.fromJSON(n.oldRange,i):null,n.newRange?ie.fromJSON(n.newRange,i):null,i.model.markers,n.affectsData,n.baseVersion)}}const pP=function(l,n){return Ob(l,n)};class $n extends Io{constructor(n,i,a,c,d){super(d),this.range=n.clone(),this.key=i,this.oldValue=a===void 0?null:a,this.newValue=c===void 0?null:c}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new $n(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new $n(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const n=super.toJSON();return n.range=this.range.toJSON(),n}_validate(){if(!this.range.isFlat)throw new P("attribute-operation-range-not-flat",this);for(const n of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!pP(n.getAttribute(this.key),this.oldValue))throw new P("attribute-operation-wrong-old-value",this,{item:n,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&n.hasAttribute(this.key))throw new P("attribute-operation-attribute-exists",this,{node:n,key:this.key})}}_execute(){pP(this.oldValue,this.newValue)||function(n,i,a){xp(n.start),xp(n.end);for(const c of n.getItems({shallow:!0})){const d=c.is("$textProxy")?c.textNode:c;a!==null?d._setAttribute(i,a):d._removeAttribute(i),Ap(d.parent,d.index)}Ap(n.end.parent,n.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(n,i){return new $n(ie.fromJSON(n.range,i),n.key,n.oldValue,n.newValue,n.baseVersion)}}class nr extends Io{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new nr(this.baseVersion)}getReversed(){return new nr(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class so extends Io{constructor(n,i,a,c){super(c),this.position=n,this.position.stickiness="toNext",this.oldName=i,this.newName=a}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new so(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new so(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const n=this.position.nodeAfter;if(!(n instanceof Ht))throw new P("rename-operation-wrong-position",this);if(n.name!==this.oldName)throw new P("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const n=super.toJSON();return n.position=this.position.toJSON(),n}static get className(){return"RenameOperation"}static fromJSON(n,i){return new so(pe.fromJSON(n.position,i),n.oldName,n.newName,n.baseVersion)}}class js extends Io{constructor(n,i,a,c,d){super(d),this.root=n,this.key=i,this.oldValue=a===void 0?null:a,this.newValue=c===void 0?null:c}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new js(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new js(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new P("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new P("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new P("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const n=super.toJSON();return n.root=this.root.toJSON(),n}static get className(){return"RootAttributeOperation"}static fromJSON(n,i){if(!i.getRoot(n.root))throw new P("rootattribute-operation-fromjson-no-root",this,{rootName:n.root});return new js(i.getRoot(n.root),n.key,n.oldValue,n.newValue,n.baseVersion)}}class es extends Io{constructor(n,i,a,c,d){super(d),this.rootName=n,this.elementName=i,this.isAdd=a,this._document=c,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new es(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new es(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const n=super.toJSON();return delete n._document,n}static get className(){return"RootOperation"}static fromJSON(n,i){return new es(n.rootName,n.elementName,n.isAdd,i,n.baseVersion)}}const ni={};ni[$n.className]=$n,ni[hr.className]=hr,ni[io.className]=io,ni[It.className]=It,ni[nr.className]=nr,ni[Io.className]=Io,ni[so.className]=so,ni[js.className]=js,ni[es.className]=es,ni[nn.className]=nn,ni[In.className]=In;class WZ{static fromJSON(n,i){return ni[n.__className].fromJSON(n,i)}}const BC=new Map;function Ct(l,n,i){let a=BC.get(l);a||(a=new Map,BC.set(l,a)),a.set(n,i)}function qZ(l){return[l]}function fP(l,n,i={}){const a=function(c,d){const p=BC.get(c);return p&&p.has(d)?p.get(d):qZ}(l.constructor,n.constructor);try{return a(l=l.clone(),n,i)}catch(c){throw c}}function GZ(l,n,i){l=l.slice(),n=n.slice();const a=new KZ(i.document,i.useRelations,i.forceWeakRemove);a.setOriginalOperations(l),a.setOriginalOperations(n);const c=a.originalOperations;if(l.length==0||n.length==0)return{operationsA:l,operationsB:n,originalOperations:c};const d=new WeakMap;for(const b of l)d.set(b,0);const p={nextBaseVersionA:l[l.length-1].baseVersion+1,nextBaseVersionB:n[n.length-1].baseVersion+1,originalOperationsACount:l.length,originalOperationsBCount:n.length};let g=0;for(;g<l.length;){const b=l[g],w=d.get(b);if(w==n.length){g++;continue}const C=n[w],x=fP(b,C,a.getContext(b,C,!0)),D=fP(C,b,a.getContext(C,b,!1));a.updateRelation(b,C),a.setOriginalOperations(x,b),a.setOriginalOperations(D,C);for(const N of x)d.set(N,w+D.length);l.splice(g,1,...x),n.splice(w,1,...D)}return mP(l,p.nextBaseVersionB),mP(n,p.nextBaseVersionA),{operationsA:l,operationsB:n,originalOperations:c}}class KZ{constructor(n,i,a=!1){this.originalOperations=new Map,this._history=n.history,this._useRelations=i,this._forceWeakRemove=!!a,this._relations=new Map}setOriginalOperations(n,i=null){const a=i?this.originalOperations.get(i):null;for(const c of n)this.originalOperations.set(c,a||c)}updateRelation(n,i){if(n instanceof It)i instanceof In?n.targetPosition.isEqual(i.sourcePosition)||i.movedRange.containsPosition(n.targetPosition)?this._setRelation(n,i,"insertAtSource"):n.targetPosition.isEqual(i.deletionPosition)?this._setRelation(n,i,"insertBetween"):n.targetPosition.isAfter(i.sourcePosition)&&this._setRelation(n,i,"moveTargetAfter"):i instanceof It&&(n.targetPosition.isEqual(i.sourcePosition)||n.targetPosition.isBefore(i.sourcePosition)?this._setRelation(n,i,"insertBefore"):this._setRelation(n,i,"insertAfter"));else if(n instanceof nn){if(i instanceof In)n.splitPosition.isBefore(i.sourcePosition)&&this._setRelation(n,i,"splitBefore");else if(i instanceof It)if(n.splitPosition.isEqual(i.sourcePosition)||n.splitPosition.isBefore(i.sourcePosition))this._setRelation(n,i,"splitBefore");else{const a=ie._createFromPositionAndShift(i.sourcePosition,i.howMany);if(n.splitPosition.hasSameParentAs(i.sourcePosition)&&a.containsPosition(n.splitPosition)){const c=a.end.offset-n.splitPosition.offset,d=n.splitPosition.offset-a.start.offset;this._setRelation(n,i,{howMany:c,offset:d})}}}else if(n instanceof In)i instanceof In?(n.targetPosition.isEqual(i.sourcePosition)||this._setRelation(n,i,"mergeTargetNotMoved"),n.sourcePosition.isEqual(i.targetPosition)&&this._setRelation(n,i,"mergeSourceNotMoved"),n.sourcePosition.isEqual(i.sourcePosition)&&this._setRelation(n,i,"mergeSameElement")):i instanceof nn?n.sourcePosition.isEqual(i.splitPosition)&&this._setRelation(n,i,"splitAtSource"):i instanceof It&&i.howMany>0&&(n.sourcePosition.isEqual(i.sourcePosition.getShiftedBy(i.howMany))&&this._setRelation(n,i,"mergeSourceAffected"),n.targetPosition.isEqual(i.sourcePosition)&&this._setRelation(n,i,"mergeTargetWasBefore"));else if(n instanceof io){const a=n.newRange;if(!a)return;if(i instanceof It){const c=ie._createFromPositionAndShift(i.sourcePosition,i.howMany),d=c.containsPosition(a.start)||c.start.isEqual(a.start),p=c.containsPosition(a.end)||c.end.isEqual(a.end);!d&&!p||c.containsRange(a)||this._setRelation(n,i,{side:d?"left":"right",path:d?a.start.path.slice():a.end.path.slice()})}else if(i instanceof In){const c=a.start.isEqual(i.targetPosition),d=a.start.isEqual(i.deletionPosition),p=a.end.isEqual(i.deletionPosition),g=a.end.isEqual(i.sourcePosition);(c||d||p||g)&&this._setRelation(n,i,{wasInLeftElement:c,wasStartBeforeMergedElement:d,wasEndBeforeMergedElement:p,wasInRightElement:g})}}}getContext(n,i,a){return{aIsStrong:a,aWasUndone:this._wasUndone(n),bWasUndone:this._wasUndone(i),abRelation:this._useRelations?this._getRelation(n,i):null,baRelation:this._useRelations?this._getRelation(i,n):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(n){const i=this.originalOperations.get(n);return i.wasUndone||this._history.isUndoneOperation(i)}_getRelation(n,i){const a=this.originalOperations.get(i),c=this._history.getUndoneOperation(a);if(!c)return null;const d=this.originalOperations.get(n),p=this._relations.get(d);return p&&p.get(c)||null}_setRelation(n,i,a){const c=this.originalOperations.get(n),d=this.originalOperations.get(i);let p=this._relations.get(c);p||(p=new Map,this._relations.set(c,p)),p.set(d,a)}}function mP(l,n){for(const i of l)i.baseVersion=n++}function gP(l,n,i){const a=l.nodes.getNode(0).getAttribute(n);if(a==i)return null;const c=new ie(l.position,l.position.getShiftedBy(l.howMany));return new $n(c,n,a,i,0)}function bP(l,n){return l.targetPosition._getTransformedByDeletion(n.sourcePosition,n.howMany)===null}function ju(l,n){const i=[];for(let a=0;a<l.length;a++){const c=l[a],d=new It(c.start,c.end.offset-c.start.offset,n,0);i.push(d);for(let p=a+1;p<l.length;p++)l[p]=l[p]._getTransformedByMove(d.sourcePosition,d.targetPosition,d.howMany)[0];n=n._getTransformedByMove(d.sourcePosition,d.targetPosition,d.howMany)}return i}Ct($n,$n,(l,n,i)=>{if(l.key===n.key&&l.range.start.hasSameParentAs(n.range.start)){const a=l.range.getDifference(n.range).map(d=>new $n(d,l.key,l.oldValue,l.newValue,0)),c=l.range.getIntersection(n.range);return c&&i.aIsStrong&&a.push(new $n(c,n.key,n.newValue,l.newValue,0)),a.length==0?[new nr(0)]:a}return[l]}),Ct($n,hr,(l,n)=>{if(l.range.start.hasSameParentAs(n.position)&&l.range.containsPosition(n.position)){const i=l.range._getTransformedByInsertion(n.position,n.howMany,!n.shouldReceiveAttributes).map(a=>new $n(a,l.key,l.oldValue,l.newValue,l.baseVersion));if(n.shouldReceiveAttributes){const a=gP(n,l.key,l.oldValue);a&&i.unshift(a)}return i}return l.range=l.range._getTransformedByInsertion(n.position,n.howMany,!1)[0],[l]}),Ct($n,In,(l,n)=>{const i=[];l.range.start.hasSameParentAs(n.deletionPosition)&&(l.range.containsPosition(n.deletionPosition)||l.range.start.isEqual(n.deletionPosition))&&i.push(ie._createFromPositionAndShift(n.graveyardPosition,1));const a=l.range._getTransformedByMergeOperation(n);return a.isCollapsed||i.push(a),i.map(c=>new $n(c,l.key,l.oldValue,l.newValue,l.baseVersion))}),Ct($n,It,(l,n)=>function(a,c){const d=ie._createFromPositionAndShift(c.sourcePosition,c.howMany);let p=null,g=[];d.containsRange(a,!0)?p=a:a.start.hasSameParentAs(d.start)?(g=a.getDifference(d),p=a.getIntersection(d)):g=[a];const b=[];for(let w of g){w=w._getTransformedByDeletion(c.sourcePosition,c.howMany);const C=c.getMovedRangeStart(),x=w.start.hasSameParentAs(C),D=w._getTransformedByInsertion(C,c.howMany,x);b.push(...D)}return p&&b.push(p._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany,!1)[0]),b}(l.range,n).map(a=>new $n(a,l.key,l.oldValue,l.newValue,l.baseVersion))),Ct($n,nn,(l,n)=>{if(l.range.end.isEqual(n.insertionPosition))return n.graveyardPosition||l.range.end.offset++,[l];if(l.range.start.hasSameParentAs(n.splitPosition)&&l.range.containsPosition(n.splitPosition)){const i=l.clone();return i.range=new ie(n.moveTargetPosition.clone(),l.range.end._getCombined(n.splitPosition,n.moveTargetPosition)),l.range.end=n.splitPosition.clone(),l.range.end.stickiness="toPrevious",[l,i]}return l.range=l.range._getTransformedBySplitOperation(n),[l]}),Ct(hr,$n,(l,n)=>{const i=[l];if(l.shouldReceiveAttributes&&l.position.hasSameParentAs(n.range.start)&&n.range.containsPosition(l.position)){const a=gP(l,n.key,n.newValue);a&&i.push(a)}return i}),Ct(hr,hr,(l,n,i)=>(l.position.isEqual(n.position)&&i.aIsStrong||(l.position=l.position._getTransformedByInsertOperation(n)),[l])),Ct(hr,It,(l,n)=>(l.position=l.position._getTransformedByMoveOperation(n),[l])),Ct(hr,nn,(l,n)=>(l.position=l.position._getTransformedBySplitOperation(n),[l])),Ct(hr,In,(l,n)=>(l.position=l.position._getTransformedByMergeOperation(n),[l])),Ct(io,hr,(l,n)=>(l.oldRange&&(l.oldRange=l.oldRange._getTransformedByInsertOperation(n)[0]),l.newRange&&(l.newRange=l.newRange._getTransformedByInsertOperation(n)[0]),[l])),Ct(io,io,(l,n,i)=>{if(l.name==n.name){if(!i.aIsStrong)return[new nr(0)];l.oldRange=n.newRange?n.newRange.clone():null}return[l]}),Ct(io,In,(l,n)=>(l.oldRange&&(l.oldRange=l.oldRange._getTransformedByMergeOperation(n)),l.newRange&&(l.newRange=l.newRange._getTransformedByMergeOperation(n)),[l])),Ct(io,It,(l,n,i)=>{if(l.oldRange&&(l.oldRange=ie._createFromRanges(l.oldRange._getTransformedByMoveOperation(n))),l.newRange){if(i.abRelation){const a=ie._createFromRanges(l.newRange._getTransformedByMoveOperation(n));if(i.abRelation.side=="left"&&n.targetPosition.isEqual(l.newRange.start))return l.newRange.end=a.end,l.newRange.start.path=i.abRelation.path,[l];if(i.abRelation.side=="right"&&n.targetPosition.isEqual(l.newRange.end))return l.newRange.start=a.start,l.newRange.end.path=i.abRelation.path,[l]}l.newRange=ie._createFromRanges(l.newRange._getTransformedByMoveOperation(n))}return[l]}),Ct(io,nn,(l,n,i)=>{if(l.oldRange&&(l.oldRange=l.oldRange._getTransformedBySplitOperation(n)),l.newRange){if(i.abRelation){const a=l.newRange._getTransformedBySplitOperation(n);return l.newRange.start.isEqual(n.splitPosition)&&i.abRelation.wasStartBeforeMergedElement?l.newRange.start=pe._createAt(n.insertionPosition):l.newRange.start.isEqual(n.splitPosition)&&!i.abRelation.wasInLeftElement&&(l.newRange.start=pe._createAt(n.moveTargetPosition)),l.newRange.end.isEqual(n.splitPosition)&&i.abRelation.wasInRightElement?l.newRange.end=pe._createAt(n.moveTargetPosition):l.newRange.end.isEqual(n.splitPosition)&&i.abRelation.wasEndBeforeMergedElement?l.newRange.end=pe._createAt(n.insertionPosition):l.newRange.end=a.end,[l]}l.newRange=l.newRange._getTransformedBySplitOperation(n)}return[l]}),Ct(In,hr,(l,n)=>(l.sourcePosition.hasSameParentAs(n.position)&&(l.howMany+=n.howMany),l.sourcePosition=l.sourcePosition._getTransformedByInsertOperation(n),l.targetPosition=l.targetPosition._getTransformedByInsertOperation(n),[l])),Ct(In,In,(l,n,i)=>{if(l.sourcePosition.isEqual(n.sourcePosition)&&l.targetPosition.isEqual(n.targetPosition)){if(i.bWasUndone){const a=n.graveyardPosition.path.slice();return a.push(0),l.sourcePosition=new pe(n.graveyardPosition.root,a),l.howMany=0,[l]}return[new nr(0)]}if(l.sourcePosition.isEqual(n.sourcePosition)&&!l.targetPosition.isEqual(n.targetPosition)&&!i.bWasUndone&&i.abRelation!="splitAtSource"){const a=l.targetPosition.root.rootName=="$graveyard",c=n.targetPosition.root.rootName=="$graveyard";if(c&&!a||!(a&&!c)&&i.aIsStrong){const d=n.targetPosition._getTransformedByMergeOperation(n),p=l.targetPosition._getTransformedByMergeOperation(n);return[new It(d,l.howMany,p,0)]}return[new nr(0)]}return l.sourcePosition.hasSameParentAs(n.targetPosition)&&(l.howMany+=n.howMany),l.sourcePosition=l.sourcePosition._getTransformedByMergeOperation(n),l.targetPosition=l.targetPosition._getTransformedByMergeOperation(n),l.graveyardPosition.isEqual(n.graveyardPosition)&&i.aIsStrong||(l.graveyardPosition=l.graveyardPosition._getTransformedByMergeOperation(n)),[l]}),Ct(In,It,(l,n,i)=>{const a=ie._createFromPositionAndShift(n.sourcePosition,n.howMany);return n.type=="remove"&&!i.bWasUndone&&!i.forceWeakRemove&&l.deletionPosition.hasSameParentAs(n.sourcePosition)&&a.containsPosition(l.sourcePosition)?[new nr(0)]:(n.sourcePosition.getShiftedBy(n.howMany).isEqual(l.sourcePosition)?l.sourcePosition.stickiness="toNone":n.targetPosition.isEqual(l.sourcePosition)&&i.abRelation=="mergeSourceAffected"?l.sourcePosition.stickiness="toNext":n.sourcePosition.isEqual(l.targetPosition)?(l.targetPosition.stickiness="toNone",l.howMany-=n.howMany):n.targetPosition.isEqual(l.targetPosition)&&i.abRelation=="mergeTargetWasBefore"?(l.targetPosition.stickiness="toPrevious",l.howMany+=n.howMany):(l.sourcePosition.hasSameParentAs(n.targetPosition)&&(l.howMany+=n.howMany),l.sourcePosition.hasSameParentAs(n.sourcePosition)&&(l.howMany-=n.howMany)),l.sourcePosition=l.sourcePosition._getTransformedByMoveOperation(n),l.targetPosition=l.targetPosition._getTransformedByMoveOperation(n),l.sourcePosition.stickiness="toPrevious",l.targetPosition.stickiness="toNext",l.graveyardPosition.isEqual(n.targetPosition)||(l.graveyardPosition=l.graveyardPosition._getTransformedByMoveOperation(n)),[l])}),Ct(In,nn,(l,n,i)=>{if(n.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedByDeletion(n.graveyardPosition,1),l.deletionPosition.isEqual(n.graveyardPosition)&&(l.howMany=n.howMany)),l.targetPosition.isEqual(n.splitPosition)){const a=n.howMany!=0,c=n.graveyardPosition&&l.deletionPosition.isEqual(n.graveyardPosition);if(a||c||i.abRelation=="mergeTargetNotMoved")return l.sourcePosition=l.sourcePosition._getTransformedBySplitOperation(n),[l]}if(l.sourcePosition.isEqual(n.splitPosition)){if(i.abRelation=="mergeSourceNotMoved")return l.howMany=0,l.targetPosition=l.targetPosition._getTransformedBySplitOperation(n),[l];if(i.abRelation=="mergeSameElement"||l.sourcePosition.offset>0)return l.sourcePosition=n.moveTargetPosition.clone(),l.targetPosition=l.targetPosition._getTransformedBySplitOperation(n),[l]}return l.sourcePosition.hasSameParentAs(n.splitPosition)&&(l.howMany=n.splitPosition.offset),l.sourcePosition=l.sourcePosition._getTransformedBySplitOperation(n),l.targetPosition=l.targetPosition._getTransformedBySplitOperation(n),[l]}),Ct(It,hr,(l,n)=>{const i=ie._createFromPositionAndShift(l.sourcePosition,l.howMany)._getTransformedByInsertOperation(n,!1)[0];return l.sourcePosition=i.start,l.howMany=i.end.offset-i.start.offset,l.targetPosition.isEqual(n.position)||(l.targetPosition=l.targetPosition._getTransformedByInsertOperation(n)),[l]}),Ct(It,It,(l,n,i)=>{const a=ie._createFromPositionAndShift(l.sourcePosition,l.howMany),c=ie._createFromPositionAndShift(n.sourcePosition,n.howMany);let d,p=i.aIsStrong,g=!i.aIsStrong;if(i.abRelation=="insertBefore"||i.baRelation=="insertAfter"?g=!0:i.abRelation!="insertAfter"&&i.baRelation!="insertBefore"||(g=!1),d=l.targetPosition.isEqual(n.targetPosition)&&g?l.targetPosition._getTransformedByDeletion(n.sourcePosition,n.howMany):l.targetPosition._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),bP(l,n)&&bP(n,l))return[n.getReversed()];if(a.containsPosition(n.targetPosition)&&a.containsRange(c,!0))return a.start=a.start._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),a.end=a.end._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),ju([a],d);if(c.containsPosition(l.targetPosition)&&c.containsRange(a,!0))return a.start=a.start._getCombined(n.sourcePosition,n.getMovedRangeStart()),a.end=a.end._getCombined(n.sourcePosition,n.getMovedRangeStart()),ju([a],d);const b=se(l.sourcePosition.getParentPath(),n.sourcePosition.getParentPath());if(b=="prefix"||b=="extension")return a.start=a.start._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),a.end=a.end._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),ju([a],d);l.type!="remove"||n.type=="remove"||i.aWasUndone||i.forceWeakRemove?l.type=="remove"||n.type!="remove"||i.bWasUndone||i.forceWeakRemove||(p=!1):p=!0;const w=[],C=a.getDifference(c);for(const D of C){D.start=D.start._getTransformedByDeletion(n.sourcePosition,n.howMany),D.end=D.end._getTransformedByDeletion(n.sourcePosition,n.howMany);const N=se(D.start.getParentPath(),n.getMovedRangeStart().getParentPath())=="same",B=D._getTransformedByInsertion(n.getMovedRangeStart(),n.howMany,N);w.push(...B)}const x=a.getIntersection(c);return x!==null&&p&&(x.start=x.start._getCombined(n.sourcePosition,n.getMovedRangeStart()),x.end=x.end._getCombined(n.sourcePosition,n.getMovedRangeStart()),w.length===0?w.push(x):w.length==1?c.start.isBefore(a.start)||c.start.isEqual(a.start)?w.unshift(x):w.push(x):w.splice(1,0,x)),w.length===0?[new nr(l.baseVersion)]:ju(w,d)}),Ct(It,nn,(l,n,i)=>{let a=l.targetPosition.clone();l.targetPosition.isEqual(n.insertionPosition)&&n.graveyardPosition&&i.abRelation!="moveTargetAfter"||(a=l.targetPosition._getTransformedBySplitOperation(n));const c=ie._createFromPositionAndShift(l.sourcePosition,l.howMany);if(c.end.isEqual(n.insertionPosition))return n.graveyardPosition||l.howMany++,l.targetPosition=a,[l];if(c.start.hasSameParentAs(n.splitPosition)&&c.containsPosition(n.splitPosition)){let p=new ie(n.splitPosition,c.end);return p=p._getTransformedBySplitOperation(n),ju([new ie(c.start,n.splitPosition),p],a)}l.targetPosition.isEqual(n.splitPosition)&&i.abRelation=="insertAtSource"&&(a=n.moveTargetPosition),l.targetPosition.isEqual(n.insertionPosition)&&i.abRelation=="insertBetween"&&(a=l.targetPosition);const d=[c._getTransformedBySplitOperation(n)];if(n.graveyardPosition){const p=c.start.isEqual(n.graveyardPosition)||c.containsPosition(n.graveyardPosition);l.howMany>1&&p&&!i.aWasUndone&&d.push(ie._createFromPositionAndShift(n.insertionPosition,1))}return ju(d,a)}),Ct(It,In,(l,n,i)=>{const a=ie._createFromPositionAndShift(l.sourcePosition,l.howMany);if(n.deletionPosition.hasSameParentAs(l.sourcePosition)&&a.containsPosition(n.sourcePosition)){if(l.type!="remove"||i.forceWeakRemove){if(l.howMany==1)return i.bWasUndone?(l.sourcePosition=n.graveyardPosition.clone(),l.targetPosition=l.targetPosition._getTransformedByMergeOperation(n),[l]):[new nr(0)]}else if(!i.aWasUndone){const d=[];let p=n.graveyardPosition.clone(),g=n.targetPosition._getTransformedByMergeOperation(n);l.howMany>1&&(d.push(new It(l.sourcePosition,l.howMany-1,l.targetPosition,0)),p=p._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany-1),g=g._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany-1));const b=n.deletionPosition._getCombined(l.sourcePosition,l.targetPosition),w=new It(p,1,b,0),C=w.getMovedRangeStart().path.slice();C.push(0);const x=new pe(w.targetPosition.root,C);g=g._getTransformedByMove(p,b,1);const D=new It(g,n.howMany,x,0);return d.push(w),d.push(D),d}}const c=ie._createFromPositionAndShift(l.sourcePosition,l.howMany)._getTransformedByMergeOperation(n);return l.sourcePosition=c.start,l.howMany=c.end.offset-c.start.offset,l.targetPosition=l.targetPosition._getTransformedByMergeOperation(n),[l]}),Ct(so,hr,(l,n)=>(l.position=l.position._getTransformedByInsertOperation(n),[l])),Ct(so,In,(l,n)=>l.position.isEqual(n.deletionPosition)?(l.position=n.graveyardPosition.clone(),l.position.stickiness="toNext",[l]):(l.position=l.position._getTransformedByMergeOperation(n),[l])),Ct(so,It,(l,n)=>(l.position=l.position._getTransformedByMoveOperation(n),[l])),Ct(so,so,(l,n,i)=>{if(l.position.isEqual(n.position)){if(!i.aIsStrong)return[new nr(0)];l.oldName=n.newName}return[l]}),Ct(so,nn,(l,n)=>{if(se(l.position.path,n.splitPosition.getParentPath())=="same"&&!n.graveyardPosition){const i=new so(l.position.getShiftedBy(1),l.oldName,l.newName,0);return[l,i]}return l.position=l.position._getTransformedBySplitOperation(n),[l]}),Ct(js,js,(l,n,i)=>{if(l.root===n.root&&l.key===n.key){if(!i.aIsStrong||l.newValue===n.newValue)return[new nr(0)];l.oldValue=n.newValue}return[l]}),Ct(es,es,(l,n)=>l.rootName===n.rootName&&l.isAdd===n.isAdd?[new nr(0)]:[l]),Ct(nn,hr,(l,n)=>(l.splitPosition.hasSameParentAs(n.position)&&l.splitPosition.offset<n.position.offset&&(l.howMany+=n.howMany),l.splitPosition=l.splitPosition._getTransformedByInsertOperation(n),l.insertionPosition=l.insertionPosition._getTransformedByInsertOperation(n),[l])),Ct(nn,In,(l,n,i)=>{if(!l.graveyardPosition&&!i.bWasUndone&&l.splitPosition.hasSameParentAs(n.sourcePosition)){const a=n.graveyardPosition.path.slice();a.push(0);const c=new pe(n.graveyardPosition.root,a),d=nn.getInsertionPosition(new pe(n.graveyardPosition.root,a)),p=new nn(c,0,d,null,0);return l.splitPosition=l.splitPosition._getTransformedByMergeOperation(n),l.insertionPosition=nn.getInsertionPosition(l.splitPosition),l.graveyardPosition=p.insertionPosition.clone(),l.graveyardPosition.stickiness="toNext",[p,l]}return l.splitPosition.hasSameParentAs(n.deletionPosition)&&!l.splitPosition.isAfter(n.deletionPosition)&&l.howMany--,l.splitPosition.hasSameParentAs(n.targetPosition)&&(l.howMany+=n.howMany),l.splitPosition=l.splitPosition._getTransformedByMergeOperation(n),l.insertionPosition=nn.getInsertionPosition(l.splitPosition),l.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedByMergeOperation(n)),[l]}),Ct(nn,It,(l,n,i)=>{const a=ie._createFromPositionAndShift(n.sourcePosition,n.howMany);if(l.graveyardPosition){const d=a.start.isEqual(l.graveyardPosition)||a.containsPosition(l.graveyardPosition);if(!i.bWasUndone&&d){const p=l.splitPosition._getTransformedByMoveOperation(n),g=l.graveyardPosition._getTransformedByMoveOperation(n),b=g.path.slice();b.push(0);const w=new pe(g.root,b);return[new It(p,l.howMany,w,0)]}l.graveyardPosition=l.graveyardPosition._getTransformedByMoveOperation(n)}const c=l.splitPosition.isEqual(n.targetPosition);if(c&&(i.baRelation=="insertAtSource"||i.abRelation=="splitBefore"))return l.howMany+=n.howMany,l.splitPosition=l.splitPosition._getTransformedByDeletion(n.sourcePosition,n.howMany),l.insertionPosition=nn.getInsertionPosition(l.splitPosition),[l];if(c&&i.abRelation&&i.abRelation.howMany){const{howMany:d,offset:p}=i.abRelation;return l.howMany+=d,l.splitPosition=l.splitPosition.getShiftedBy(p),[l]}if(l.splitPosition.hasSameParentAs(n.sourcePosition)&&a.containsPosition(l.splitPosition)){const d=n.howMany-(l.splitPosition.offset-n.sourcePosition.offset);return l.howMany-=d,l.splitPosition.hasSameParentAs(n.targetPosition)&&l.splitPosition.offset<n.targetPosition.offset&&(l.howMany+=n.howMany),l.splitPosition=n.sourcePosition.clone(),l.insertionPosition=nn.getInsertionPosition(l.splitPosition),[l]}return n.sourcePosition.isEqual(n.targetPosition)||(l.splitPosition.hasSameParentAs(n.sourcePosition)&&l.splitPosition.offset<=n.sourcePosition.offset&&(l.howMany-=n.howMany),l.splitPosition.hasSameParentAs(n.targetPosition)&&l.splitPosition.offset<n.targetPosition.offset&&(l.howMany+=n.howMany)),l.splitPosition.stickiness="toNone",l.splitPosition=l.splitPosition._getTransformedByMoveOperation(n),l.splitPosition.stickiness="toNext",l.graveyardPosition?l.insertionPosition=l.insertionPosition._getTransformedByMoveOperation(n):l.insertionPosition=nn.getInsertionPosition(l.splitPosition),[l]}),Ct(nn,nn,(l,n,i)=>{if(l.splitPosition.isEqual(n.splitPosition)){if(!l.graveyardPosition&&!n.graveyardPosition)return[new nr(0)];if(l.graveyardPosition&&n.graveyardPosition&&l.graveyardPosition.isEqual(n.graveyardPosition))return[new nr(0)];if(i.abRelation=="splitBefore")return l.howMany=0,l.graveyardPosition=l.graveyardPosition._getTransformedBySplitOperation(n),[l]}if(l.graveyardPosition&&n.graveyardPosition&&l.graveyardPosition.isEqual(n.graveyardPosition)){const a=l.splitPosition.root.rootName=="$graveyard",c=n.splitPosition.root.rootName=="$graveyard";if(c&&!a||!(a&&!c)&&i.aIsStrong){const d=[];return n.howMany&&d.push(new It(n.moveTargetPosition,n.howMany,n.splitPosition,0)),l.howMany&&d.push(new It(l.splitPosition,l.howMany,l.moveTargetPosition,0)),d}return[new nr(0)]}if(l.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedBySplitOperation(n)),l.splitPosition.isEqual(n.insertionPosition)&&i.abRelation=="splitBefore")return l.howMany++,[l];if(n.splitPosition.isEqual(l.insertionPosition)&&i.baRelation=="splitBefore"){const a=n.insertionPosition.path.slice();a.push(0);const c=new pe(n.insertionPosition.root,a);return[l,new It(l.insertionPosition,1,c,0)]}return l.splitPosition.hasSameParentAs(n.splitPosition)&&l.splitPosition.offset<n.splitPosition.offset&&(l.howMany-=n.howMany),l.splitPosition=l.splitPosition._getTransformedBySplitOperation(n),l.insertionPosition=nn.getInsertionPosition(l.splitPosition),[l]});class yr extends G(pe){constructor(n,i,a="toNone"){if(super(n,i,a),!this.root.is("rootElement"))throw new P("model-liveposition-root-not-rootelement",n);YZ.call(this)}detach(){this.stopListening()}toPosition(){return new pe(this.root,this.path.slice(),this.stickiness)}static fromPosition(n,i){return new this(n.root,n.path.slice(),i||n.stickiness)}}function YZ(){this.listenTo(this.root.document.model,"applyOperation",(l,n)=>{const i=n[0];i.isDocumentOperation&&QZ.call(this,i)},{priority:"low"})}function QZ(l){const n=this.getTransformedByOperation(l);if(!this.isEqual(n)){const i=this.toPosition();this.path=n.path,this.root=n.root,this.fire("change",i)}}yr.prototype.is=function(l){return l==="livePosition"||l==="model:livePosition"||l=="position"||l==="model:position"};class Fu{constructor(n={}){typeof n=="string"&&(n=n==="transparent"?{isUndoable:!1}:{},z("batch-constructor-deprecated-string-type"));const{isUndoable:i=!0,isLocal:a=!0,isUndo:c=!1,isTyping:d=!1}=n;this.operations=[],this.isUndoable=i,this.isLocal=a,this.isUndo=c,this.isTyping=d}get type(){return z("batch-type-deprecated"),"default"}get baseVersion(){for(const n of this.operations)if(n.baseVersion!==null)return n.baseVersion;return null}addOperation(n){return n.batch=this,this.operations.push(n),n}}var ZZ=Object.defineProperty,JZ=Object.defineProperties,XZ=Object.getOwnPropertyDescriptors,kP=Object.getOwnPropertySymbols,eJ=Object.prototype.hasOwnProperty,tJ=Object.prototype.propertyIsEnumerable,vP=(l,n,i)=>n in l?ZZ(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,wP=(l,n)=>{for(var i in n||(n={}))eJ.call(n,i)&&vP(l,i,n[i]);if(kP)for(var i of kP(n))tJ.call(n,i)&&vP(l,i,n[i]);return l};class nJ{constructor(n){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=n}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(n){const i=n;switch(i.type){case"insert":if(this._isInInsertedElement(i.position.parent))return;this._markInsert(i.position.parent,i.position.offset,i.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const a of i.range.getItems({shallow:!0}))this._isInInsertedElement(a.parent)||this._markAttribute(a);break;case"remove":case"move":case"reinsert":{if(i.sourcePosition.isEqual(i.targetPosition)||i.sourcePosition.getShiftedBy(i.howMany).isEqual(i.targetPosition))return;const a=this._isInInsertedElement(i.sourcePosition.parent),c=this._isInInsertedElement(i.targetPosition.parent);a||this._markRemove(i.sourcePosition.parent,i.sourcePosition.offset,i.howMany),c||this._markInsert(i.targetPosition.parent,i.getMovedRangeStart().offset,i.howMany);break}case"rename":{if(this._isInInsertedElement(i.position.parent))return;this._markRemove(i.position.parent,i.position.offset,1),this._markInsert(i.position.parent,i.position.offset,1);const a=ie._createFromPositionAndShift(i.position,1);for(const c of this._markerCollection.getMarkersIntersectingRange(a)){const d=c.getData();this.bufferMarkerChange(c.name,d,d)}break}case"split":{const a=i.splitPosition.parent;this._isInInsertedElement(a)||this._markRemove(a,i.splitPosition.offset,i.howMany),this._isInInsertedElement(i.insertionPosition.parent)||this._markInsert(i.insertionPosition.parent,i.insertionPosition.offset,1),i.graveyardPosition&&this._markRemove(i.graveyardPosition.parent,i.graveyardPosition.offset,1);break}case"merge":{const a=i.sourcePosition.parent;this._isInInsertedElement(a.parent)||this._markRemove(a.parent,a.startOffset,1);const c=i.graveyardPosition.parent;this._markInsert(c,i.graveyardPosition.offset,1);const d=i.targetPosition.parent;this._isInInsertedElement(d)||this._markInsert(d,i.targetPosition.offset,a.maxOffset);break}case"detachRoot":case"addRoot":{const a=i.affectedSelectable;if(!a._isLoaded||a.isAttached()==i.isAdd)return;this._bufferRootStateChange(i.rootName,i.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!i.root._isLoaded)return;const a=i.root.rootName;this._bufferRootAttributeChange(a,i.key,i.oldValue,i.newValue);break}}this._cachedChanges=null}bufferMarkerChange(n,i,a){i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null),a.range&&a.range.root.is("rootElement")&&!a.range.root._isLoaded&&(a.range=null);let c=this._changedMarkers.get(n);c?c.newMarkerData=a:(c={newMarkerData:a,oldMarkerData:i},this._changedMarkers.set(n,c)),c.oldMarkerData.range==null&&a.range==null&&this._changedMarkers.delete(n)}getMarkersToRemove(){const n=[];for(const[i,a]of this._changedMarkers)a.oldMarkerData.range!=null&&n.push({name:i,range:a.oldMarkerData.range});return n}getMarkersToAdd(){const n=[];for(const[i,a]of this._changedMarkers)a.newMarkerData.range!=null&&n.push({name:i,range:a.newMarkerData.range});return n}getChangedMarkers(){return Array.from(this._changedMarkers).map(([n,i])=>({name:n,data:{oldRange:i.oldMarkerData.range,newRange:i.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:n,oldMarkerData:i}of this._changedMarkers.values()){if(n.affectsData!==i.affectsData)return!0;if(n.affectsData){const a=n.range&&!i.range,c=!n.range&&i.range,d=n.range&&i.range&&!n.range.isEqual(i.range);if(a||c||d)return!0}}return!1}getChanges(n={}){if(this._cachedChanges)return n.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let i=[];for(const a of this._changesInElement.keys()){const c=this._changesInElement.get(a).sort((C,x)=>C.offset===x.offset?C.type!=x.type?C.type=="remove"?-1:1:0:C.offset<x.offset?-1:1),d=this._elementSnapshots.get(a),p=yP(a.getChildren()),g=rJ(d.length,c);let b=0,w=0;for(const C of g)if(C==="i")i.push(this._getInsertDiff(a,b,p[b])),b++;else if(C==="r")i.push(this._getRemoveDiff(a,b,d[w])),w++;else if(C==="a"){const x=p[b].attributes,D=d[w].attributes;let N;if(p[b].name=="$text")N=new ie(pe._createAt(a,b),pe._createAt(a,b+1));else{const B=a.offsetToIndex(b);N=new ie(pe._createAt(a,b),pe._createAt(a.getChild(B),0))}i.push(...this._getAttributesDiff(N,D,x)),b++,w++}else b++,w++}i.sort((a,c)=>a.position.root!=c.position.root?a.position.root.rootName<c.position.root.rootName?-1:1:a.position.isEqual(c.position)?a.changeCount-c.changeCount:a.position.isBefore(c.position)?-1:1);for(let a=1,c=0;a<i.length;a++){const d=i[c],p=i[a],g=d.type=="remove"&&p.type=="remove"&&d.name=="$text"&&p.name=="$text"&&d.position.isEqual(p.position),b=d.type=="insert"&&p.type=="insert"&&d.name=="$text"&&p.name=="$text"&&d.position.parent==p.position.parent&&d.position.offset+d.length==p.position.offset,w=d.type=="attribute"&&p.type=="attribute"&&d.position.parent==p.position.parent&&d.range.isFlat&&p.range.isFlat&&d.position.offset+d.length==p.position.offset&&d.attributeKey==p.attributeKey&&d.attributeOldValue==p.attributeOldValue&&d.attributeNewValue==p.attributeNewValue;g||b||w?(d.length++,w&&(d.range.end=d.range.end.getShiftedBy(1)),i[a]=null):c=a}i=i.filter(a=>a);for(const a of i)delete a.changeCount,a.type=="attribute"&&(delete a.position,delete a.length);return this._changeCount=0,this._cachedChangesWithGraveyard=i,this._cachedChanges=i.filter(oJ),n.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(n=>{const i=wP({},n);return i.state!==void 0&&delete i.attributes,i})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(n,i){if(!this._changedRoots.has(n))return void this._changedRoots.set(n,{name:n,state:i?"attached":"detached"});const a=this._changedRoots.get(n);a.state!==void 0?(delete a.state,a.attributes===void 0&&this._changedRoots.delete(n)):a.state=i?"attached":"detached"}_bufferRootAttributeChange(n,i,a,c){const d=this._changedRoots.get(n)||{name:n},p=d.attributes||{};if(p[i]){const g=p[i];c===g.oldValue?delete p[i]:g.newValue=c}else p[i]={oldValue:a,newValue:c};Object.entries(p).length===0?(delete d.attributes,d.state===void 0&&this._changedRoots.delete(n)):(d.attributes=p,this._changedRoots.set(n,d))}_refreshItem(n){if(this._isInInsertedElement(n.parent))return;this._markRemove(n.parent,n.startOffset,n.offsetSize),this._markInsert(n.parent,n.startOffset,n.offsetSize),this._refreshedItems.add(n);const i=ie._createOn(n);for(const a of this._markerCollection.getMarkersIntersectingRange(i)){const c=a.getData();this.bufferMarkerChange(a.name,c,c)}this._cachedChanges=null}_bufferRootLoad(n){if(n.isAttached()){this._bufferRootStateChange(n.rootName,!0),this._markInsert(n,0,n.maxOffset);for(const a of n.getAttributeKeys())this._bufferRootAttributeChange(n.rootName,a,null,n.getAttribute(a));for(const a of this._markerCollection)if(a.getRange().root==n){const c=a.getData();this.bufferMarkerChange(a.name,(i=wP({},c),JZ(i,XZ({range:null}))),c)}var i}}_markInsert(n,i,a){if(n.root.is("rootElement")&&!n.root._isLoaded)return;const c={type:"insert",offset:i,howMany:a,count:this._changeCount++};this._markChange(n,c)}_markRemove(n,i,a){if(n.root.is("rootElement")&&!n.root._isLoaded)return;const c={type:"remove",offset:i,howMany:a,count:this._changeCount++};this._markChange(n,c),this._removeAllNestedChanges(n,i,a)}_markAttribute(n){if(n.root.is("rootElement")&&!n.root._isLoaded)return;const i={type:"attribute",offset:n.startOffset,howMany:n.offsetSize,count:this._changeCount++};this._markChange(n.parent,i)}_markChange(n,i){this._makeSnapshot(n);const a=this._getChangesForElement(n);this._handleChange(i,a),a.push(i);for(let c=0;c<a.length;c++)a[c].howMany<1&&(a.splice(c,1),c--)}_getChangesForElement(n){let i;return this._changesInElement.has(n)?i=this._changesInElement.get(n):(i=[],this._changesInElement.set(n,i)),i}_makeSnapshot(n){this._elementSnapshots.has(n)||this._elementSnapshots.set(n,yP(n.getChildren()))}_handleChange(n,i){n.nodesToHandle=n.howMany;for(const a of i){const c=n.offset+n.howMany,d=a.offset+a.howMany;if(n.type=="insert"&&(a.type=="insert"&&(n.offset<=a.offset?a.offset+=n.howMany:n.offset<d&&(a.howMany+=n.nodesToHandle,n.nodesToHandle=0)),a.type=="remove"&&n.offset<a.offset&&(a.offset+=n.howMany),a.type=="attribute")){if(n.offset<=a.offset)a.offset+=n.howMany;else if(n.offset<d){const p=a.howMany;a.howMany=n.offset-a.offset,i.unshift({type:"attribute",offset:c,howMany:p-a.howMany,count:this._changeCount++})}}if(n.type=="remove"){if(a.type=="insert"){if(c<=a.offset)a.offset-=n.howMany;else if(c<=d)if(n.offset<a.offset){const p=c-a.offset;a.offset=n.offset,a.howMany-=p,n.nodesToHandle-=p}else a.howMany-=n.nodesToHandle,n.nodesToHandle=0;else if(n.offset<=a.offset)n.nodesToHandle-=a.howMany,a.howMany=0;else if(n.offset<d){const p=d-n.offset;a.howMany-=p,n.nodesToHandle-=p}}if(a.type=="remove"&&(c<=a.offset?a.offset-=n.howMany:n.offset<a.offset&&(n.nodesToHandle+=a.howMany,a.howMany=0)),a.type=="attribute"){if(c<=a.offset)a.offset-=n.howMany;else if(n.offset<a.offset){const p=c-a.offset;a.offset=n.offset,a.howMany-=p}else if(n.offset<d)if(c<=d){const p=a.howMany;a.howMany=n.offset-a.offset;const g=p-a.howMany-n.nodesToHandle;i.unshift({type:"attribute",offset:n.offset,howMany:g,count:this._changeCount++})}else a.howMany-=d-n.offset}}if(n.type=="attribute"){if(a.type=="insert")if(n.offset<a.offset&&c>a.offset){if(c>d){const p={type:"attribute",offset:d,howMany:c-d,count:this._changeCount++};this._handleChange(p,i),i.push(p)}n.nodesToHandle=a.offset-n.offset,n.howMany=n.nodesToHandle}else n.offset>=a.offset&&n.offset<d&&(c>d?(n.nodesToHandle=c-d,n.offset=d):n.nodesToHandle=0);if(a.type=="remove"&&n.offset<a.offset&&c>a.offset){const p={type:"attribute",offset:a.offset,howMany:c-a.offset,count:this._changeCount++};this._handleChange(p,i),i.push(p),n.nodesToHandle=a.offset-n.offset,n.howMany=n.nodesToHandle}a.type=="attribute"&&(n.offset>=a.offset&&c<=d?(n.nodesToHandle=0,n.howMany=0,n.offset=0):n.offset<=a.offset&&c>=d&&(a.howMany=0))}}n.howMany=n.nodesToHandle,delete n.nodesToHandle}_getInsertDiff(n,i,a){return{type:"insert",position:pe._createAt(n,i),name:a.name,attributes:new Map(a.attributes),length:1,changeCount:this._changeCount++,_element:a.element}}_getRemoveDiff(n,i,a){return{type:"remove",position:pe._createAt(n,i),name:a.name,attributes:new Map(a.attributes),length:1,changeCount:this._changeCount++,_element:a.element}}_getAttributesDiff(n,i,a){const c=[];a=new Map(a);for(const[d,p]of i){const g=a.has(d)?a.get(d):null;g!==p&&c.push({type:"attribute",position:n.start,range:n.clone(),length:1,attributeKey:d,attributeOldValue:p,attributeNewValue:g,changeCount:this._changeCount++}),a.delete(d)}for(const[d,p]of a)c.push({type:"attribute",position:n.start,range:n.clone(),length:1,attributeKey:d,attributeOldValue:null,attributeNewValue:p,changeCount:this._changeCount++});return c}_isInInsertedElement(n){const i=n.parent;if(!i)return!1;const a=this._changesInElement.get(i),c=n.startOffset;if(a){for(const d of a)if(d.type=="insert"&&c>=d.offset&&c<d.offset+d.howMany)return!0}return this._isInInsertedElement(i)}_removeAllNestedChanges(n,i,a){const c=new ie(pe._createAt(n,i),pe._createAt(n,i+a));for(const d of c.getItems({shallow:!0}))d.is("element")&&(this._elementSnapshots.delete(d),this._changesInElement.delete(d),this._removeAllNestedChanges(d,0,d.maxOffset))}}function yP(l){const n=[];for(const i of l)if(i.is("$text"))for(let a=0;a<i.data.length;a++)n.push({name:"$text",attributes:new Map(i.getAttributes())});else n.push({name:i.name,attributes:new Map(i.getAttributes()),element:i});return n}function rJ(l,n){const i=[];let a=0,c=0;for(const d of n){if(d.offset>a){for(let p=0;p<d.offset-a;p++)i.push("e");c+=d.offset-a}if(d.type=="insert"){for(let p=0;p<d.howMany;p++)i.push("i");a=d.offset+d.howMany}else if(d.type=="remove"){for(let p=0;p<d.howMany;p++)i.push("r");a=d.offset,c+=d.howMany}else i.push(..."a".repeat(d.howMany).split("")),a=d.offset+d.howMany,c+=d.howMany}if(c<l)for(let d=0;d<l-c-a;d++)i.push("e");return i}function oJ(l){const n="position"in l&&l.position.root.rootName=="$graveyard",i="range"in l&&l.range.root.rootName=="$graveyard";return!n&&!i}class iJ{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(n){this._operations.length&&n>this._version+1&&this._gaps.set(this._version,n),this._version=n}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(n){if(n.baseVersion!==this.version)throw new P("model-document-history-addoperation-incorrect-version",this,{operation:n,historyVersion:this.version});this._operations.push(n),this._version++,this._baseVersionToOperationIndex.set(n.baseVersion,this._operations.length-1)}getOperations(n,i=this.version){if(!this._operations.length)return[];const a=this._operations[0];n===void 0&&(n=a.baseVersion);let c=i-1;for(const[g,b]of this._gaps)n>g&&n<b&&(n=b),c>g&&c<b&&(c=g-1);if(c<a.baseVersion||n>this.lastOperation.baseVersion)return[];let d=this._baseVersionToOperationIndex.get(n);d===void 0&&(d=0);let p=this._baseVersionToOperationIndex.get(c);return p===void 0&&(p=this._operations.length-1),this._operations.slice(d,p+1)}getOperation(n){const i=this._baseVersionToOperationIndex.get(n);if(i!==void 0)return this._operations[i]}setOperationAsUndone(n,i){this._undoPairs.set(i,n),this._undoneOperations.add(n)}isUndoingOperation(n){return this._undoPairs.has(n)}isUndoneOperation(n){return this._undoneOperations.has(n)}getUndoneOperation(n){return this._undoPairs.get(n)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class zb extends Ht{constructor(n,i,a="main"){super(i),this._isAttached=!0,this._isLoaded=!0,this._document=n,this.rootName=a}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}zb.prototype.is=function(l,n){return n?n===this.name&&(l==="rootElement"||l==="model:rootElement"||l==="element"||l==="model:element"):l==="rootElement"||l==="model:rootElement"||l==="element"||l==="model:element"||l==="node"||l==="model:node"};var sJ=Object.defineProperty,aJ=Object.defineProperties,lJ=Object.getOwnPropertyDescriptors,_P=Object.getOwnPropertySymbols,cJ=Object.prototype.hasOwnProperty,uJ=Object.prototype.propertyIsEnumerable,CP=(l,n,i)=>n in l?sJ(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,AP=(l,n)=>{for(var i in n||(n={}))cJ.call(n,i)&&CP(l,i,n[i]);if(_P)for(var i of _P(n))uJ.call(n,i)&&CP(l,i,n[i]);return l},xP=(l,n)=>aJ(l,lJ(n));const EP="$graveyard";class dJ extends G(){constructor(n){super(),this.model=n,this.history=new iJ,this.selection=new Ri(this),this.roots=new Di({idProperty:"rootName"}),this.differ=new nJ(n.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",EP),this.listenTo(n,"applyOperation",(i,a)=>{const c=a[0];c.isDocumentOperation&&this.differ.bufferOperation(c)},{priority:"high"}),this.listenTo(n,"applyOperation",(i,a)=>{const c=a[0];c.isDocumentOperation&&this.history.addOperation(c)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(n.markers,"update",(i,a,c,d,p)=>{const g=xP(AP({},a.getData()),{range:d});this.differ.bufferMarkerChange(a.name,p,g),c===null&&a.on("change",(b,w)=>{const C=a.getData();this.differ.bufferMarkerChange(a.name,xP(AP({},C),{range:w}),C)})}),this.registerPostFixer(i=>{let a=!1;for(const c of this.roots)c.isAttached()||c.isEmpty||(i.remove(i.createRangeIn(c)),a=!0);for(const c of this.model.markers)c.getRange().root.isAttached()||(i.removeMarker(c),a=!0);return a})}get version(){return this.history.version}set version(n){this.history.version=n}get graveyard(){return this.getRoot(EP)}createRoot(n="$root",i="main"){if(this.roots.get(i))throw new P("model-document-createroot-name-exists",this,{name:i});const a=new zb(this,n,i);return this.roots.add(a),a}destroy(){this.selection.destroy(),this.stopListening()}getRoot(n="main"){return this.roots.get(n)}getRootNames(n=!1){return this.getRoots(n).map(i=>i.rootName)}getRoots(n=!1){return this.roots.filter(i=>i!=this.graveyard&&(n||i.isAttached())&&i._isLoaded)}registerPostFixer(n){this._postFixers.add(n)}toJSON(){const n=GM(this);return n.selection="[engine.model.DocumentSelection]",n.model="[engine.model.Model]",n}_handleChangeBlock(n){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(n),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",n.batch):this.fire("change",n.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const n=this.getRoots();return n.length?n[0]:this.graveyard}_getDefaultRange(){const n=this._getDefaultRoot(),i=this.model,a=i.schema,c=i.createPositionFromPath(n,[0]);return a.getNearestSelectionRange(c)||i.createRange(c)}_validateSelectionRange(n){return SP(n.start)&&SP(n.end)}_callPostFixers(n){let i=!1;do for(const a of this._postFixers)if(this.selection.refresh(),i=a(n),i)break;while(i)}}function SP(l){const n=l.textNode;if(n){const i=n.data,a=l.offset-n.startOffset;return!nC(i,a)&&!rC(i,a)}return!0}var hJ=Object.defineProperty,pJ=Object.defineProperties,fJ=Object.getOwnPropertyDescriptors,DP=Object.getOwnPropertySymbols,mJ=Object.prototype.hasOwnProperty,gJ=Object.prototype.propertyIsEnumerable,TP=(l,n,i)=>n in l?hJ(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i;class bJ extends G(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(n){const i=n instanceof zu?n.name:n;return this._markers.has(i)}get(n){return this._markers.get(n)||null}_set(n,i,a=!1,c=!1){const d=n instanceof zu?n.name:n;if(d.includes(","))throw new P("markercollection-incorrect-marker-name",this);const p=this._markers.get(d);if(p){const C=p.getData(),x=p.getRange();let D=!1;return x.isEqual(i)||(p._attachLiveRange(To.fromRange(i)),D=!0),a!=p.managedUsingOperations&&(p._managedUsingOperations=a,D=!0),typeof c=="boolean"&&c!=p.affectsData&&(p._affectsData=c,D=!0),D&&this.fire(`update:${d}`,p,x,i,C),p}const g=To.fromRange(i),b=new zu(d,g,a,c);var w;return this._markers.set(d,b),this.fire(`update:${d}`,b,null,i,(w=((C,x)=>{for(var D in x||(x={}))mJ.call(x,D)&&TP(C,D,x[D]);if(DP)for(var D of DP(x))gJ.call(x,D)&&TP(C,D,x[D]);return C})({},b.getData()),pJ(w,fJ({range:null})))),b}_remove(n){const i=n instanceof zu?n.name:n,a=this._markers.get(i);return!!a&&(this._markers.delete(i),this.fire(`update:${i}`,a,a.getRange(),null,a.getData()),this._destroyMarker(a),!0)}_refresh(n){const i=n instanceof zu?n.name:n,a=this._markers.get(i);if(!a)throw new P("markercollection-refresh-marker-not-exists",this);const c=a.getRange();this.fire(`update:${i}`,a,c,c,a.getData())}*getMarkersAtPosition(n){for(const i of this)i.getRange().containsPosition(n)&&(yield i)}*getMarkersIntersectingRange(n){for(const i of this)i.getRange().getIntersection(n)!==null&&(yield i)}destroy(){for(const n of this._markers.values())this._destroyMarker(n);this._markers=null,this.stopListening()}*getMarkersGroup(n){for(const i of this._markers.values())i.name.startsWith(n+":")&&(yield i)}_destroyMarker(n){n.stopListening(),n._detachLiveRange()}}class zu extends G(Ia){constructor(n,i,a,c){super(),this.name=n,this._liveRange=this._attachLiveRange(i),this._managedUsingOperations=a,this._affectsData=c}get managedUsingOperations(){if(!this._liveRange)throw new P("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new P("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new P("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new P("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new P("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(n){return this._liveRange&&this._detachLiveRange(),n.delegate("change:range").to(this),n.delegate("change:content").to(this),this._liveRange=n,n}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}zu.prototype.is=function(l){return l==="marker"||l==="model:marker"};class kJ extends Io{constructor(n,i){super(null),this.sourcePosition=n.clone(),this.howMany=i}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const n=super.toJSON();return n.sourcePosition=this.sourcePosition.toJSON(),n}_validate(){if(this.sourcePosition.root.document)throw new P("detach-operation-on-document-node",this)}_execute(){uP(ie._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Fs extends Ia{constructor(n){super(),this.markers=new Map,this._children=new kp,n&&this._insertChild(0,n)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(n){return this._children.getNode(n)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(n){return this._children.getNodeIndex(n)}getChildStartOffset(n){return this._children.getNodeStartOffset(n)}getPath(){return[]}getNodeByPath(n){let i=this;for(const a of n)i=i.getChild(i.offsetToIndex(a));return i}offsetToIndex(n){return this._children.offsetToIndex(n)}toJSON(){const n=[];for(const i of this._children)n.push(i.toJSON());return n}static fromJSON(n){const i=[];for(const a of n)a.name?i.push(Ht.fromJSON(a)):i.push(tn.fromJSON(a));return new Fs(i)}_appendChild(n){this._insertChild(this.childCount,n)}_insertChild(n,i){const a=function(c){return typeof c=="string"?[new tn(c)]:(ae(c)||(c=[c]),Array.from(c).map(d=>typeof d=="string"?new tn(d):d instanceof Ni?new tn(d.data,d.getAttributes()):d))}(i);for(const c of a)c.parent!==null&&c._remove(),c.parent=this;this._children._insertNodes(n,a)}_removeChildren(n,i=1){const a=this._children._removeNodes(n,i);for(const c of a)c.parent=null;return a}}Fs.prototype.is=function(l){return l==="documentFragment"||l==="model:documentFragment"};class vJ{constructor(n,i){this.model=n,this.batch=i}createText(n,i){return new tn(n,i)}createElement(n,i){return new Ht(n,i)}createDocumentFragment(){return new Fs}cloneElement(n,i=!0){return n._clone(i)}insert(n,i,a=0){if(this._assertWriterUsedCorrectly(),n instanceof tn&&n.data=="")return;const c=pe._createAt(i,a);if(n.parent){if(PP(n.root,c.root))return void this.move(ie._createOn(n),c);if(n.root.document)throw new P("model-writer-insert-forbidden-move",this);this.remove(n)}const d=c.root.document?c.root.document.version:null,p=new hr(c,n,d);if(n instanceof tn&&(p.shouldReceiveAttributes=!0),this.batch.addOperation(p),this.model.applyOperation(p),n instanceof Fs)for(const[g,b]of n.markers){const w=pe._createAt(b.root,0),C={range:new ie(b.start._getCombined(w,c),b.end._getCombined(w,c)),usingOperation:!0,affectsData:!0};this.model.markers.has(g)?this.updateMarker(g,C):this.addMarker(g,C)}}insertText(n,i,a,c){i instanceof Fs||i instanceof Ht||i instanceof pe?this.insert(this.createText(n),i,a):this.insert(this.createText(n,i),a,c)}insertElement(n,i,a,c){i instanceof Fs||i instanceof Ht||i instanceof pe?this.insert(this.createElement(n),i,a):this.insert(this.createElement(n,i),a,c)}append(n,i){this.insert(n,i,"end")}appendText(n,i,a){i instanceof Fs||i instanceof Ht?this.insert(this.createText(n),i,"end"):this.insert(this.createText(n,i),a,"end")}appendElement(n,i,a){i instanceof Fs||i instanceof Ht?this.insert(this.createElement(n),i,"end"):this.insert(this.createElement(n,i),a,"end")}setAttribute(n,i,a){if(this._assertWriterUsedCorrectly(),a instanceof ie){const c=a.getMinimalFlatRanges();for(const d of c)IP(this,n,i,d)}else MP(this,n,i,a)}setAttributes(n,i){for(const[a,c]of Qi(n))this.setAttribute(a,c,i)}removeAttribute(n,i){if(this._assertWriterUsedCorrectly(),i instanceof ie){const a=i.getMinimalFlatRanges();for(const c of a)IP(this,n,null,c)}else MP(this,n,null,i)}clearAttributes(n){this._assertWriterUsedCorrectly();const i=a=>{for(const c of a.getAttributeKeys())this.removeAttribute(c,a)};if(n instanceof ie)for(const a of n.getItems())i(a);else i(n)}move(n,i,a){if(this._assertWriterUsedCorrectly(),!(n instanceof ie))throw new P("writer-move-invalid-range",this);if(!n.isFlat)throw new P("writer-move-range-not-flat",this);const c=pe._createAt(i,a);if(c.isEqual(n.start))return;if(this._addOperationForAffectedMarkers("move",n),!PP(n.root,c.root))throw new P("writer-move-different-document",this);const d=n.root.document?n.root.document.version:null,p=new It(n.start,n.end.offset-n.start.offset,c,d);this.batch.addOperation(p),this.model.applyOperation(p)}remove(n){this._assertWriterUsedCorrectly();const i=(n instanceof ie?n:ie._createOn(n)).getMinimalFlatRanges().reverse();for(const a of i)this._addOperationForAffectedMarkers("move",a),wJ(a.start,a.end.offset-a.start.offset,this.batch,this.model)}merge(n){this._assertWriterUsedCorrectly();const i=n.nodeBefore,a=n.nodeAfter;if(this._addOperationForAffectedMarkers("merge",n),!(i instanceof Ht))throw new P("writer-merge-no-element-before",this);if(!(a instanceof Ht))throw new P("writer-merge-no-element-after",this);n.root.document?this._merge(n):this._mergeDetached(n)}createPositionFromPath(n,i,a){return this.model.createPositionFromPath(n,i,a)}createPositionAt(n,i){return this.model.createPositionAt(n,i)}createPositionAfter(n){return this.model.createPositionAfter(n)}createPositionBefore(n){return this.model.createPositionBefore(n)}createRange(n,i){return this.model.createRange(n,i)}createRangeIn(n){return this.model.createRangeIn(n)}createRangeOn(n){return this.model.createRangeOn(n)}createSelection(...n){return this.model.createSelection(...n)}_mergeDetached(n){const i=n.nodeBefore,a=n.nodeAfter;this.move(ie._createIn(a),pe._createAt(i,"end")),this.remove(a)}_merge(n){const i=pe._createAt(n.nodeBefore,"end"),a=pe._createAt(n.nodeAfter,0),c=n.root.document.graveyard,d=new pe(c,[0]),p=n.root.document.version,g=new In(a,n.nodeAfter.maxOffset,i,d,p);this.batch.addOperation(g),this.model.applyOperation(g)}rename(n,i){if(this._assertWriterUsedCorrectly(),!(n instanceof Ht))throw new P("writer-rename-not-element-instance",this);const a=n.root.document?n.root.document.version:null,c=new so(pe._createBefore(n),n.name,i,a);this.batch.addOperation(c),this.model.applyOperation(c)}split(n,i){this._assertWriterUsedCorrectly();let a,c,d=n.parent;if(!d.parent)throw new P("writer-split-element-no-parent",this);if(i||(i=d.parent),!n.parent.getAncestors({includeSelf:!0}).includes(i))throw new P("writer-split-invalid-limit-element",this);do{const p=d.root.document?d.root.document.version:null,g=d.maxOffset-n.offset,b=nn.getInsertionPosition(n),w=new nn(n,g,b,null,p);this.batch.addOperation(w),this.model.applyOperation(w),a||c||(a=d,c=n.parent.nextSibling),d=(n=this.createPositionAfter(n.parent)).parent}while(d!==i);return{position:n,range:new ie(pe._createAt(a,"end"),pe._createAt(c,0))}}wrap(n,i){if(this._assertWriterUsedCorrectly(),!n.isFlat)throw new P("writer-wrap-range-not-flat",this);const a=i instanceof Ht?i:new Ht(i);if(a.childCount>0)throw new P("writer-wrap-element-not-empty",this);if(a.parent!==null)throw new P("writer-wrap-element-attached",this);this.insert(a,n.start);const c=new ie(n.start.getShiftedBy(1),n.end.getShiftedBy(1));this.move(c,pe._createAt(a,0))}unwrap(n){if(this._assertWriterUsedCorrectly(),n.parent===null)throw new P("writer-unwrap-element-no-parent",this);this.move(ie._createIn(n),this.createPositionAfter(n)),this.remove(n)}addMarker(n,i){if(this._assertWriterUsedCorrectly(),!i||typeof i.usingOperation!="boolean")throw new P("writer-addmarker-no-usingoperation",this);const a=i.usingOperation,c=i.range,d=i.affectsData!==void 0&&i.affectsData;if(this.model.markers.has(n))throw new P("writer-addmarker-marker-exists",this);if(!c)throw new P("writer-addmarker-no-range",this);return a?(Ep(this,n,null,c,d),this.model.markers.get(n)):this.model.markers._set(n,c,a,d)}updateMarker(n,i){this._assertWriterUsedCorrectly();const a=typeof n=="string"?n:n.name,c=this.model.markers.get(a);if(!c)throw new P("writer-updatemarker-marker-not-exists",this);if(!i)return z("writer-updatemarker-reconvert-using-editingcontroller",{markerName:a}),void this.model.markers._refresh(c);const d=typeof i.usingOperation=="boolean",p=typeof i.affectsData=="boolean",g=p?i.affectsData:c.affectsData;if(!d&&!i.range&&!p)throw new P("writer-updatemarker-wrong-options",this);const b=c.getRange(),w=i.range?i.range:b;d&&i.usingOperation!==c.managedUsingOperations?i.usingOperation?Ep(this,a,null,w,g):(Ep(this,a,b,null,g),this.model.markers._set(a,w,void 0,g)):c.managedUsingOperations?Ep(this,a,b,w,g):this.model.markers._set(a,w,void 0,g)}removeMarker(n){this._assertWriterUsedCorrectly();const i=typeof n=="string"?n:n.name;if(!this.model.markers.has(i))throw new P("writer-removemarker-no-marker",this);const a=this.model.markers.get(i);if(!a.managedUsingOperations)return void this.model.markers._remove(i);Ep(this,i,a.getRange(),null,a.affectsData)}addRoot(n,i="$root"){this._assertWriterUsedCorrectly();const a=this.model.document.getRoot(n);if(a&&a.isAttached())throw new P("writer-addroot-root-exists",this);const c=this.model.document,d=new es(n,i,!0,c,c.version);return this.batch.addOperation(d),this.model.applyOperation(d),this.model.document.getRoot(n)}detachRoot(n){this._assertWriterUsedCorrectly();const i=typeof n=="string"?this.model.document.getRoot(n):n;if(!i||!i.isAttached())throw new P("writer-detachroot-no-root",this);for(const d of this.model.markers)d.getRange().root===i&&this.removeMarker(d);for(const d of i.getAttributeKeys())this.removeAttribute(d,i);this.remove(this.createRangeIn(i));const a=this.model.document,c=new es(i.rootName,i.name,!1,a,a.version);this.batch.addOperation(c),this.model.applyOperation(c)}setSelection(...n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...n)}setSelectionFocus(n,i){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(n,i)}setSelectionAttribute(n,i){if(this._assertWriterUsedCorrectly(),typeof n=="string")this._setSelectionAttribute(n,i);else for(const[a,c]of Qi(n))this._setSelectionAttribute(a,c)}removeSelectionAttribute(n){if(this._assertWriterUsedCorrectly(),typeof n=="string")this._removeSelectionAttribute(n);else for(const i of n)this._removeSelectionAttribute(i)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(n){this.model.document.selection._restoreGravity(n)}_setSelectionAttribute(n,i){const a=this.model.document.selection;if(a.isCollapsed&&a.anchor.parent.isEmpty){const c=Ri._getStoreAttributeKey(n);this.setAttribute(c,i,a.anchor.parent)}a._setAttribute(n,i)}_removeSelectionAttribute(n){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const a=Ri._getStoreAttributeKey(n);this.removeAttribute(a,i.anchor.parent)}i._removeAttribute(n)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new P("writer-incorrect-use",this)}_addOperationForAffectedMarkers(n,i){for(const a of this.model.markers){if(!a.managedUsingOperations)continue;const c=a.getRange();let d=!1;if(n==="move"){const p=i;d=p.containsPosition(c.start)||p.start.isEqual(c.start)||p.containsPosition(c.end)||p.end.isEqual(c.end)}else{const p=i,g=p.nodeBefore,b=p.nodeAfter,w=c.start.parent==g&&c.start.isAtEnd,C=c.end.parent==b&&c.end.offset==0,x=c.end.nodeAfter==b,D=c.start.nodeAfter==b;d=w||C||x||D}d&&this.updateMarker(a.name,{range:c})}}}function IP(l,n,i,a){const c=l.model,d=c.document;let p,g,b,w=a.start;for(const x of a.getWalker({shallow:!0}))b=x.item.getAttribute(n),p&&g!=b&&(g!=i&&C(),w=p),p=x.nextPosition,g=b;function C(){const x=new ie(w,p),D=x.root.document?d.version:null,N=new $n(x,n,g,i,D);l.batch.addOperation(N),c.applyOperation(N)}p instanceof pe&&p!=w&&g!=i&&C()}function MP(l,n,i,a){const c=l.model,d=c.document,p=a.getAttribute(n);let g,b;if(p!=i){if(a.root===a){const w=a.document?d.version:null;b=new js(a,n,p,i,w)}else{g=new ie(pe._createBefore(a),l.createPositionAfter(a));const w=g.root.document?d.version:null;b=new $n(g,n,p,i,w)}l.batch.addOperation(b),c.applyOperation(b)}}function Ep(l,n,i,a,c){const d=l.model,p=d.document,g=new io(n,i,a,d.markers,!!c,p.version);l.batch.addOperation(g),d.applyOperation(g)}function wJ(l,n,i,a){let c;if(l.root.document){const d=a.document,p=new pe(d.graveyard,[0]);c=new It(l,n,p,d.version)}else c=new kJ(l,n);i.addOperation(c),a.applyOperation(c)}function PP(l,n){return l===n||l instanceof zb&&n instanceof zb}function yJ(l,n,i={}){if(n.isCollapsed)return;const a=n.getFirstRange();if(a.root.rootName=="$graveyard")return;const c=l.schema;l.change(d=>{if(!i.doNotResetEntireContent&&function(w,C){const x=w.getLimitElement(C);if(!C.containsEntireContent(x))return!1;const D=C.getFirstRange();return D.start.parent==D.end.parent?!1:w.checkChild(x,"paragraph")}(c,n))return void function(w,C){const x=w.model.schema.getLimitElement(C);w.remove(w.createRangeIn(x)),OP(w,w.createPositionAt(x,0),C)}(d,n);const p={};if(!i.doNotAutoparagraph){const w=n.getSelectedElement();w&&Object.assign(p,c.getAttributesWithProperty(w,"copyOnReplace",!0))}const[g,b]=function(w){const C=w.root.document.model,x=w.start;let D=w.end;if(C.hasContent(w,{ignoreMarkers:!0})){const N=function(B){const F=B.parent,U=F.root.document.model.schema,W=F.getAncestors({parentFirst:!0,includeSelf:!0});for(const Y of W){if(U.isLimit(Y))return null;if(U.isBlock(Y))return Y}}(D);if(N&&D.isTouching(C.createPositionAt(N,0))){const B=C.createSelection(w);C.modifySelection(B,{direction:"backward"});const F=B.getLastPosition(),U=C.createRange(F,D);C.hasContent(U,{ignoreMarkers:!0})||(D=F)}}return[yr.fromPosition(x,"toPrevious"),yr.fromPosition(D,"toNext")]}(a);g.isTouching(b)||d.remove(d.createRange(g,b)),i.leaveUnmerged||(function(w,C,x){const D=w.model;if(!LC(w.model.schema,C,x))return;const[N,B]=function(F,U){const W=F.getAncestors(),Y=U.getAncestors();let oe=0;for(;W[oe]&&W[oe]==Y[oe];)oe++;return[W[oe],Y[oe]]}(C,x);!N||!B||(!D.hasContent(N,{ignoreMarkers:!0})&&D.hasContent(B,{ignoreMarkers:!0})?RP(w,C,x,N.parent):NP(w,C,x,N.parent))}(d,g,b),c.removeDisallowedAttributes(g.parent.getChildren(),d)),BP(d,n,g),!i.doNotAutoparagraph&&function(w,C){const x=w.checkChild(C,"$text"),D=w.checkChild(C,"paragraph");return!x&&D}(c,g)&&OP(d,g,n,p),g.detach(),b.detach()})}function NP(l,n,i,a){const c=n.parent,d=i.parent;if(c!=a&&d!=a){for(n=l.createPositionAfter(c),(i=l.createPositionBefore(d)).isEqual(n)||l.insert(d,n),l.merge(n);i.parent.isEmpty;){const p=i.parent;i=l.createPositionBefore(p),l.remove(p)}LC(l.model.schema,n,i)&&NP(l,n,i,a)}}function RP(l,n,i,a){const c=n.parent,d=i.parent;if(c!=a&&d!=a){for(n=l.createPositionAfter(c),(i=l.createPositionBefore(d)).isEqual(n)||l.insert(c,i);n.parent.isEmpty;){const p=n.parent;n=l.createPositionBefore(p),l.remove(p)}i=l.createPositionBefore(d),function(p,g){const b=g.nodeBefore,w=g.nodeAfter;b.name!=w.name&&p.rename(b,w.name),p.clearAttributes(b),p.setAttributes(Object.fromEntries(w.getAttributes()),b),p.merge(g)}(l,i),LC(l.model.schema,n,i)&&RP(l,n,i,a)}}function LC(l,n,i){const a=n.parent,c=i.parent;return a!=c&&!l.isLimit(a)&&!l.isLimit(c)&&function(d,p,g){const b=new ie(d,p);for(const w of b.getWalker())if(g.isLimit(w.item))return!1;return!0}(n,i,l)}function OP(l,n,i,a={}){const c=l.createElement("paragraph");l.model.schema.setAllowedAttributes(c,a,l),l.insert(c,n),BP(l,i,l.createPositionAt(c,0))}function BP(l,n,i){n instanceof Ri?l.setSelection(i):n.setTo(i)}function LP(l,n){const i=[];Array.from(l.getItems({direction:"backward"})).map(a=>n.createRangeOn(a)).filter(a=>(a.start.isAfter(l.start)||a.start.isEqual(l.start))&&(a.end.isBefore(l.end)||a.end.isEqual(l.end))).forEach(a=>{i.push(a.start.parent),n.remove(a)}),i.forEach(a=>{let c=a;for(;c.parent&&c.isEmpty;){const d=n.createRangeOn(c);c=c.parent,n.remove(d)}})}class _J{constructor(n,i,a){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=n,this.writer=i,this.position=a,this.canMergeWith=new Set([this.position.parent]),this.schema=n.schema,this._documentFragment=i.createDocumentFragment(),this._documentFragmentPosition=i.createPositionAt(this._documentFragment,0)}handleNodes(n){for(const i of Array.from(n))this._handleNode(i);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(n){const i=this.writer.createPositionAfter(this._lastNode),a=this.writer.createPositionAfter(n);if(a.isAfter(i)){if(this._lastNode=n,this.position.parent!=n||!this.position.isAtEnd)throw new P("insertcontent-invalid-insertion-position",this);this.position=a,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?ie._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new ie(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(n){if(this.schema.isObject(n))return void this._handleObject(n);let i=this._checkAndAutoParagraphToAllowedPosition(n);i||(i=this._checkAndSplitToAllowedPosition(n),i)?(this._appendToFragment(n),this._firstNode||(this._firstNode=n),this._lastNode=n):this._handleDisallowedNode(n)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const n=yr.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=n.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=n.toPosition(),n.detach()}_handleObject(n){this._checkAndSplitToAllowedPosition(n)?this._appendToFragment(n):this._tryAutoparagraphing(n)}_handleDisallowedNode(n){n.is("element")?this.handleNodes(n.getChildren()):this._tryAutoparagraphing(n)}_appendToFragment(n){if(!this.schema.checkChild(this.position,n))throw new P("insertcontent-wrong-position",this,{node:n,position:this.position});this.writer.insert(n,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(n.offsetSize),this.schema.isObject(n)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=n:this._nodeToSelect=null,this._filterAttributesOf.push(n)}_setAffectedBoundaries(n){this._affectedStart||(this._affectedStart=yr.fromPosition(n,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(n)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=yr.fromPosition(n,"toNext"))}_mergeOnLeft(){const n=this._firstNode;if(!(n instanceof Ht)||!this._canMergeLeft(n))return;const i=yr._createBefore(n);i.stickiness="toNext";const a=yr.fromPosition(this.position,"toNext");this._affectedStart.isEqual(i)&&(this._affectedStart.detach(),this._affectedStart=yr._createAt(i.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=yr._createAt(i.nodeBefore,"end","toNext")),this.position=a.toPosition(),a.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_mergeOnRight(){const n=this._lastNode;if(!(n instanceof Ht)||!this._canMergeRight(n))return;const i=yr._createAfter(n);if(i.stickiness="toNext",!this.position.isEqual(i))throw new P("insertcontent-invalid-insertion-position",this);this.position=pe._createAt(i.nodeBefore,"end");const a=yr.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(i)&&(this._affectedEnd.detach(),this._affectedEnd=yr._createAt(i.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=yr._createAt(i.nodeBefore,0,"toPrevious")),this.position=a.toPosition(),a.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_canMergeLeft(n){const i=n.previousSibling;return i instanceof Ht&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(i,n)}_canMergeRight(n){const i=n.nextSibling;return i instanceof Ht&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(n,i)}_tryAutoparagraphing(n){const i=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,i)&&this.schema.checkChild(i,n)&&(i._appendChild(n),this._handleNode(i))}_checkAndAutoParagraphToAllowedPosition(n){if(this.schema.checkChild(this.position.parent,n))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",n))return!1;this._insertPartialFragment();const i=this.writer.createElement("paragraph");return this.writer.insert(i,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=i,this.position=this.writer.createPositionAt(i,0),!0}_checkAndSplitToAllowedPosition(n){const i=this._getAllowedIn(this.position.parent,n);if(!i)return!1;for(i!=this.position.parent&&this._insertPartialFragment();i!=this.position.parent;)if(this.position.isAtStart){const a=this.position.parent;this.position=this.writer.createPositionBefore(a),a.isEmpty&&a.parent===i&&this.writer.remove(a)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const a=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=a,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(n,i){return this.schema.checkChild(n,i)?n:this.schema.isLimit(n)?null:this._getAllowedIn(n.parent,i)}}function CJ(l,n,i,a={}){if(!l.schema.isObject(n))throw new P("insertobject-element-not-an-object",l,{object:n});const c=i||l.document.selection;let d=c;a.findOptimalPosition&&l.schema.isBlock(n)&&(d=l.createSelection(l.schema.findOptimalInsertionRange(c,a.findOptimalPosition)));const p=ur(c.getSelectedBlocks()),g={};return p&&Object.assign(g,l.schema.getAttributesWithProperty(p,"copyOnReplace",!0)),l.change(b=>{d.isCollapsed||l.deleteContent(d,{doNotAutoparagraph:!0});let w=n;const C=d.anchor.parent;!l.schema.checkChild(C,n)&&l.schema.checkChild(C,"paragraph")&&l.schema.checkChild("paragraph",n)&&(w=b.createElement("paragraph"),b.insert(n,w)),l.schema.setAllowedAttributes(w,g,b);const x=l.insertContent(w,d);return x.isCollapsed||a.setSelection&&function(D,N,B,F){const U=D.model;if(B=="on")return void D.setSelection(N,"on");if(B!="after")throw new P("insertobject-invalid-place-parameter-value",U);let W=N.nextSibling;if(U.schema.isInline(N))return void D.setSelection(N,"after");!(W&&U.schema.checkChild(W,"$text"))&&U.schema.checkChild(N.parent,"paragraph")&&(W=D.createElement("paragraph"),U.schema.setAllowedAttributes(W,F,D),U.insertContent(W,D.createPositionAfter(N))),W&&D.setSelection(W,0)}(b,n,a.setSelection,g),x})}const AJ=' ,.?!:;"-()';function xJ(l,n){const{isForward:i,walker:a,unit:c,schema:d,treatEmojiAsSingleUnit:p}=l,{type:g,item:b,nextPosition:w}=n;if(g=="text")return l.unit==="word"?function(C,x){let D=C.position.textNode;for(D||(D=x?C.position.nodeAfter:C.position.nodeBefore);D&&D.is("$text");){const N=C.position.offset-D.startOffset;if(DJ(D,N,x))D=x?C.position.nodeAfter:C.position.nodeBefore;else{if(SJ(D.data,N,x))break;C.next()}}return C.position}(a,i):function(C,x,D){const N=C.position.textNode;if(N){const B=N.data;let F=C.position.offset-N.startOffset;for(;nC(B,F)||x=="character"&&rC(B,F)||D&&xM(B,F);)C.next(),F=C.position.offset-N.startOffset}return C.position}(a,c,p);if(g==(i?"elementStart":"elementEnd")){if(d.isSelectable(b))return pe._createAt(b,i?"after":"before");if(d.checkChild(w,"$text"))return w}else{if(d.isLimit(b))return void a.skip(()=>!0);if(d.checkChild(w,"$text"))return w}}function EJ(l,n){const i=l.root,a=pe._createAt(i,n?"end":0);return n?new ie(l,a):new ie(a,l)}function SJ(l,n,i){const a=n+(i?0:-1);return AJ.includes(l.charAt(a))}function DJ(l,n,i){return n===(i?l.offsetSize:0)}class TJ extends be(){constructor(){super(),this.markers=new bJ,this.document=new dJ(this),this.schema=new CZ,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(n=>this.decorate(n)),this.on("applyOperation",(n,i)=>{i[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((n,i)=>{if(i.name==="$marker")return!0}),wZ(this),this.document.registerPostFixer(K5),this.on("insertContent",(n,[i,a])=>{n.return=function(c,d,p){return c.change(g=>{const b=p||c.document.selection;b.isCollapsed||c.deleteContent(b,{doNotAutoparagraph:!0});const w=new _J(c,g,b.anchor),C=[];let x;if(d.is("documentFragment")){if(d.markers.size){const B=[];for(const[F,U]of d.markers){const{start:W,end:Y}=U,oe=W.isEqual(Y);B.push({position:W,name:F,isCollapsed:oe},{position:Y,name:F,isCollapsed:oe})}B.sort(({position:F},{position:U})=>F.isBefore(U)?1:-1);for(const{position:F,name:U,isCollapsed:W}of B){let Y=null,oe=null;const ue=F.parent===d&&F.isAtStart,Ee=F.parent===d&&F.isAtEnd;ue||Ee?W&&(oe=ue?"start":"end"):(Y=g.createElement("$marker"),g.insert(Y,F)),C.push({name:U,element:Y,collapsed:oe})}}x=d.getChildren()}else x=[d];w.handleNodes(x);let D=w.getSelectionRange();if(d.is("documentFragment")&&C.length){const B=D?To.fromRange(D):null,F={};for(let U=C.length-1;U>=0;U--){const{name:W,element:Y,collapsed:oe}=C[U],ue=!F[W];if(ue&&(F[W]=[]),Y){const Ee=g.createPositionAt(Y,"before");F[W].push(Ee),g.remove(Y)}else{const Ee=w.getAffectedRange();if(!Ee){oe&&F[W].push(w.position);continue}oe?F[W].push(Ee[oe]):F[W].push(ue?Ee.start:Ee.end)}}for(const[U,[W,Y]]of Object.entries(F))W&&Y&&W.root===Y.root&&W.root.document&&!g.model.markers.has(U)&&g.addMarker(U,{usingOperation:!0,affectsData:!0,range:new ie(W,Y)});B&&(D=B.toRange(),B.detach())}D&&(b instanceof Ri?g.setSelection(D):b.setTo(D));const N=w.getAffectedRange()||c.createRange(b.anchor);return w.destroy(),N})}(this,i,a)}),this.on("insertObject",(n,[i,a,c])=>{n.return=CJ(this,i,a,c)}),this.on("canEditAt",n=>{const i=!this.document.isReadOnly;n.return=i,i||n.stop()})}change(n){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Fu,callback:n}),this._runPendingChanges()[0]):n(this._currentWriter)}catch(i){P.rethrowUnexpectedError(i,this)}}enqueueChange(n,i){try{n?typeof n=="function"?(i=n,n=new Fu):n instanceof Fu||(n=new Fu(n)):n=new Fu,this._pendingChanges.push({batch:n,callback:i}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(a){P.rethrowUnexpectedError(a,this)}}applyOperation(n){n._execute()}insertContent(n,i,a,...c){const d=jC(i,a);return this.fire("insertContent",[n,d,a,...c])}insertObject(n,i,a,c,...d){const p=jC(i,a);return this.fire("insertObject",[n,p,c,c,...d])}deleteContent(n,i){yJ(this,n,i)}modifySelection(n,i){(function(a,c,d={}){const p=a.schema,g=d.direction!="backward",b=d.unit?d.unit:"character",w=!!d.treatEmojiAsSingleUnit,C=c.focus,x=new Ls({boundaries:EJ(C,g),singleCharacters:!0,direction:g?"forward":"backward"}),D={walker:x,schema:p,isForward:g,unit:b,treatEmojiAsSingleUnit:w};let N;for(;N=x.next();){if(N.done)return;const B=xJ(D,N.value);if(B)return void(c instanceof Ri?a.change(F=>{F.setSelectionFocus(B)}):c.setFocus(B))}})(this,n,i)}getSelectedContent(n){return function(i,a){return i.change(c=>{const d=c.createDocumentFragment(),p=a.getFirstRange();if(!p||p.isCollapsed)return d;const g=p.start.root,b=p.start.getCommonPath(p.end),w=g.getNodeByPath(b);let C;C=p.start.parent==p.end.parent?p:c.createRange(c.createPositionAt(w,p.start.path[b.length]),c.createPositionAt(w,p.end.path[b.length]+1));const x=C.end.offset-C.start.offset;for(const D of C.getItems({shallow:!0}))D.is("$textProxy")?c.appendText(D.data,D.getAttributes(),d):c.append(c.cloneElement(D,!0),d);if(C!=p){const D=p._getTransformedByMove(C.start,c.createPositionAt(d,0),x)[0],N=c.createRange(c.createPositionAt(d,0),D.start);LP(c.createRange(D.end,c.createPositionAt(d,"end")),c),LP(N,c)}return d})}(this,n)}hasContent(n,i={}){const a=n instanceof ie?n:ie._createIn(n);if(a.isCollapsed)return!1;const{ignoreWhitespaces:c=!1,ignoreMarkers:d=!1}=i;if(!d){for(const p of this.markers.getMarkersIntersectingRange(a))if(p.affectsData)return!0}for(const p of a.getItems())if(this.schema.isContent(p)&&(!p.is("$textProxy")||!c||p.data.search(/\S/)!==-1))return!0;return!1}canEditAt(n){const i=jC(n);return this.fire("canEditAt",[i])}createPositionFromPath(n,i,a){return new pe(n,i,a)}createPositionAt(n,i){return pe._createAt(n,i)}createPositionAfter(n){return pe._createAfter(n)}createPositionBefore(n){return pe._createBefore(n)}createRange(n,i){return new ie(n,i)}createRangeIn(n){return ie._createIn(n)}createRangeOn(n){return ie._createOn(n)}createSelection(...n){return new Do(...n)}createBatch(n){return new Fu(n)}createOperationFromJSON(n){return WZ.fromJSON(n,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const n=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const i=this._pendingChanges[0].batch;this._currentWriter=new vJ(this,i);const a=this._pendingChanges[0].callback(this._currentWriter);n.push(a),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return n}}function jC(l,n){if(l)return l instanceof Do||l instanceof Ri?l:l instanceof Ql?n||n===0?new Do(l,n):l.is("rootElement")?new Do(l,"in"):new Do(l,"on"):new Do(l)}class IJ extends Ta{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(n){this.fire(n.type,n)}}class FC extends Ta{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(n){this.fire(n.type,n)}}class zs{constructor(n){this.document=n}createDocumentFragment(n){return new Yl(this.document,n)}createElement(n,i,a){return new Eo(this.document,n,i,a)}createText(n){return new en(this.document,n)}clone(n,i=!1){return n._clone(i)}appendChild(n,i){return i._appendChild(n)}insertChild(n,i,a){return a._insertChild(n,i)}removeChildren(n,i,a){return a._removeChildren(n,i)}remove(n){const i=n.parent;return i?this.removeChildren(i.getChildIndex(n),1,i):[]}replace(n,i){const a=n.parent;if(a){const c=a.getChildIndex(n);return this.removeChildren(c,1,a),this.insertChild(c,i,a),!0}return!1}unwrapElement(n){const i=n.parent;if(i){const a=i.getChildIndex(n);this.remove(n),this.insertChild(a,n.getChildren(),i)}}rename(n,i){const a=new Eo(this.document,n,i.getAttributes(),i.getChildren());return this.replace(i,a)?a:null}setAttribute(n,i,a){a._setAttribute(n,i)}removeAttribute(n,i){i._removeAttribute(n)}addClass(n,i){i._addClass(n)}removeClass(n,i){i._removeClass(n)}setStyle(n,i,a){qr(n)&&a===void 0?i._setStyle(n):a._setStyle(n,i)}removeStyle(n,i){i._removeStyle(n)}setCustomProperty(n,i,a){a._setCustomProperty(n,i)}removeCustomProperty(n,i){return i._removeCustomProperty(n)}createPositionAt(n,i){return xe._createAt(n,i)}createPositionAfter(n){return xe._createAfter(n)}createPositionBefore(n){return xe._createBefore(n)}createRange(n,i){return new et(n,i)}createRangeOn(n){return et._createOn(n)}createRangeIn(n){return et._createIn(n)}createSelection(...n){return new Ii(...n)}}class MJ{constructor(){this._commands=new Map}add(n,i){this._commands.set(n,i)}get(n){return this._commands.get(n)}execute(n,...i){const a=this.get(n);if(!a)throw new P("commandcollection-command-not-found",this,{commandName:n});return a.execute(...i)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const n of this.commands())n.destroy()}}var PJ=Object.defineProperty,jP=Object.getOwnPropertySymbols,NJ=Object.prototype.hasOwnProperty,RJ=Object.prototype.propertyIsEnumerable,FP=(l,n,i)=>n in l?PJ(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i;const zC="contentEditing",zP="common";class OJ{constructor(n){this.keystrokeInfos=new Map,this._editor=n;const i=n.config.get("menuBar.isVisible"),a=n.locale.t;this.addKeystrokeInfoCategory({id:zC,label:a("Content editing keystrokes"),description:a("These keyboard shortcuts allow for quick access to content editing features.")});const c=[{label:a("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:a("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:a("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:a("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:a("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:a("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];i&&c.push({label:a("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:a("User interface and content navigation keystrokes"),description:a("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:c}]})}addKeystrokeInfoCategory({id:n,label:i,description:a,groups:c}){this.keystrokeInfos.set(n,{id:n,label:i,description:a,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:n,id:zP}),c&&c.forEach(d=>{this.addKeystrokeInfoGroup(((p,g)=>{for(var b in g||(g={}))NJ.call(g,b)&&FP(p,b,g[b]);if(jP)for(var b of jP(g))RJ.call(g,b)&&FP(p,b,g[b]);return p})({categoryId:n},d))})}addKeystrokeInfoGroup({categoryId:n=zC,id:i,label:a,keystrokes:c}){const d=this.keystrokeInfos.get(n);if(!d)throw new P("accessibility-unknown-keystroke-info-category",this._editor,{groupId:i,categoryId:n});d.groups.set(i,{id:i,label:a,keystrokes:c||[]})}addKeystrokeInfos({categoryId:n=zC,groupId:i=zP,keystrokes:a}){if(!this.keystrokeInfos.has(n))throw new P("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:n,keystrokes:a});const c=this.keystrokeInfos.get(n);if(!c.groups.has(i))throw new P("accessibility-unknown-keystroke-info-group",this._editor,{groupId:i,categoryId:n,keystrokes:a});c.groups.get(i).keystrokes.push(...a)}}var $P=Object.getOwnPropertySymbols,BJ=Object.prototype.hasOwnProperty,LJ=Object.prototype.propertyIsEnumerable,VP=(l,n)=>{var i={};for(var a in l)BJ.call(l,a)&&n.indexOf(a)<0&&(i[a]=l[a]);if(l!=null&&$P)for(var a of $P(l))n.indexOf(a)<0&&LJ.call(l,a)&&(i[a]=l[a]);return i};class jJ extends be(){constructor(n={}){super();const i=this.constructor,a=i.defaultConfig||{},{translations:c}=a,d=VP(a,["translations"]),p=n,{translations:g=c}=p,b=VP(p,["translations"]),w=n.language||d.language;this._context=n.context||new VM({language:w,translations:g}),this._context._addEditor(this,!n.context);const C=Array.from(i.builtinPlugins||[]);this.config=new XI(b,d),this.config.define("plugins",C),this.config.define(this._context._getEditorConfig()),this.plugins=new zM(this,C,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new MJ,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new TJ,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const x=new XY;this.data=new UZ(this.model,x),this.editing=new yZ(this.model,x),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new HZ([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new MY(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new OJ(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(n){throw new P("editor-isreadonly-has-no-setter")}enableReadOnlyMode(n){if(typeof n!="string"&&typeof n!="symbol")throw new P("editor-read-only-lock-id-invalid",null,{lockId:n});this._readOnlyLocks.has(n)||(this._readOnlyLocks.add(n),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(n){if(typeof n!="string"&&typeof n!="symbol")throw new P("editor-read-only-lock-id-invalid",null,{lockId:n});this._readOnlyLocks.has(n)&&(this._readOnlyLocks.delete(n),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(n){this.data.set(n)}getData(n){return this.data.get(n)}initPlugins(){const n=this.config,i=n.get("plugins"),a=n.get("removePlugins")||[],c=n.get("extraPlugins")||[],d=n.get("substitutePlugins")||[];return this.plugins.init(i.concat(c),a,d)}destroy(){let n=Promise.resolve();return this.state=="initializing"&&(n=new Promise(i=>this.once("ready",i))),n.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(n,...i){try{return this.commands.execute(n,...i)}catch(a){P.rethrowUnexpectedError(a,this)}}focus(){this.editing.view.focus()}static create(...n){throw new Error("This is an abstract method.")}}function $C(l){return class extends l{updateSourceElement(n){if(!this.sourceElement)throw new P("editor-missing-sourceelement",this);const i=this.config.get("updateSourceElementOnDestroy"),a=this.sourceElement instanceof HTMLTextAreaElement;if(!i&&!a)return void lM(this.sourceElement,"");const c=typeof n=="string"?n:this.data.get();lM(this.sourceElement,c)}}}$C.updateSourceElement=$C(Object).prototype.updateSourceElement;class UP extends Cb{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Di({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(n){if(typeof n!="string")throw new P("pendingactions-add-invalid-message",this);const i=new(be());return i.set("message",n),this._actions.add(i),this.hasAny=!0,i}remove(n){this._actions.remove(n),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const rt={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',colorPalette:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',imageUrl:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.401 5.401 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023c.449.131.887.32 1.307.573l.058.033c.046.028.09.057.135.086V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.118 2.118 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.647.647 0 0 0-.096.492.664.664 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.741 1.741 0 0 1 2.478-.463 1.869 1.869 0 0 1 .476 2.55.637.637 0 0 0-.071.5.646.646 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.228 3.228 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.626.626 0 0 0 .092-.475.638.638 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.741 1.741 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236l1.268-1.907Z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeCustom:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:v="https://vecta.io/nano" viewBox="0 0 20 20"><path d="M.95 1.43a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h.75v6.3H.95a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-.65h1.932l1.539-1.5H5v-.95a.95.95 0 0 0-.95-.95H3.2v-6.3h.85A.95.95 0 0 0 5 5.48v-.55h10v.55a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-3.1a.95.95 0 0 0-.95-.95h-3.1a.95.95 0 0 0-.95.95v1.05H5V2.38a.95.95 0 0 0-.95-.95H.95zm.55 3.5v-2h2v2h-2zm0 9.3v2h2v-2h-2zm15-11.3v2h2v-2h-2z"/><path d="M8.139 20.004v-2.388l7.045-7.048 2.391 2.391-7.046 7.046h-2.39zm11.421-9.101a.64.64 0 0 1-.138.206l-1.165 1.168-2.391-2.391 1.167-1.163a.63.63 0 0 1 .206-.138.635.635 0 0 1 .243-.049.63.63 0 0 1 .449.187l1.491 1.488c.059.059.108.129.138.206s.049.16.049.243a.6.6 0 0 1-.049.243z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2ZM13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7h11Z"/></svg>',objectSizeSmall:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2ZM7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11h5Z"/></svg>',objectSizeMedium:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2ZM10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9h8Z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',todoList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',codeBlock:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',heading1:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',heading2:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',heading3:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',heading4:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',heading5:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',heading6:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>',horizontalLine:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',html:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'};var HP=s(7801),FJ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(HP.A,FJ),HP.A.locals;class $b extends We{constructor(n){super(n),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${O()}`;const i=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:i.to("for")},children:[{text:i.to("text")}]})}}class zJ extends We{constructor(n,i){super(n);const a=n.t,c=new $b;c.text=a("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":c.id,role:"document",tabindex:-1},children:[oo(document,"p",{},a("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(i.values())),c]})}focus(){this.element.focus()}_createCategories(n){return n.map(i=>{const a=[oo(document,"h3",{},i.label),...Array.from(i.groups.values()).map(c=>this._createGroup(c)).flat()];return i.description&&a.splice(1,0,oo(document,"p",{},i.description)),oo(document,"section",{},a)})}_createGroup(n){const i=n.keystrokes.sort((c,d)=>c.label.localeCompare(d.label)).map(c=>this._createGroupRow(c)).flat(),a=[oo(document,"dl",{},i)];return n.label&&a.unshift(oo(document,"h4",{},n.label)),a}_createGroupRow(n){const i=this.locale.t,a=oo(document,"dt"),c=oo(document,"dd"),d=function(g){return typeof g=="string"?[[g]]:typeof g[0]=="string"?[g]:g}(n.keystroke),p=[];for(const g of d)p.push(g.map($J).join(""));return a.innerHTML=n.label,c.innerHTML=p.join(", ")+(n.mayRequireFn&&v.isMac?` ${i("(may require <kbd>Fn</kbd>)")}`:""),[a,c]}}function $J(l){return kb(l).split("+").map(n=>`<kbd>${n}</kbd>`).join("+")}const WP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var qP=s(8527),VJ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(qP.A,VJ),qP.A.locals;class UJ extends me{constructor(){super(...arguments),this.contentView=null}static get requires(){return[Us]}static get pluginName(){return"AccessibilityHelp"}init(){const n=this.editor,i=n.locale.t;n.ui.componentFactory.add("accessibilityHelp",()=>{const a=this._createButton(Mt);return a.set({tooltip:!0,withText:!1,label:i("Accessibility help")}),a}),n.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const a=this._createButton(Mo);return a.label=i("Accessibility"),a}),n.keystrokes.set("Alt+0",(a,c)=>{this._showDialog(),c()}),this._setupRootLabels()}_createButton(n){const i=new n(this.editor.locale);return i.set({keystroke:"Alt+0",icon:WP}),i.on("execute",()=>this._showDialog()),i}_setupRootLabels(){const n=this.editor,i=n.editing.view,a=n.t;function c(d,p){const g=`${p.getAttribute("aria-label")}. ${a("Press %0 for help.",[kb("Alt+0")])}`;d.setAttribute("aria-label",g,p)}n.ui.on("ready",()=>{i.change(d=>{for(const p of i.document.roots)c(d,p)}),n.on("addRoot",(d,p)=>{const g=n.editing.view.document.getRoot(p.rootName);i.change(b=>c(b,g))},{priority:"low"})})}_showDialog(){const n=this.editor,i=n.plugins.get("Dialog"),a=n.locale.t;this.contentView||(this.contentView=new zJ(n.locale,n.accessibility.keystrokeInfos)),i.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:a("Accessibility help"),icon:WP,hasCloseButton:!0,content:this.contentView})}}class HJ extends ti{constructor(n,i=[]){super(i),this.locale=n}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Ti({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let n=document.querySelector(".ck-body-wrapper");n||(n=oo(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(n)),n.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const n=document.querySelector(".ck-body-wrapper");n&&n.childElementCount==0&&n.remove()}}var GP=s(7621),WJ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(GP.A,WJ),GP.A.locals;const KP=class extends We{constructor(){super();const l=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",l.if("isVisible","ck-hidden",n=>!n),"ck-reset_all-excluded",l.if("isColorInherited","ck-icon_inherit-color")],viewBox:l.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const l=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),n=l.getAttribute("viewBox");n&&(this.viewBox=n);for(const{name:i,value:a}of Array.from(l.attributes))KP.presentationalAttributeNames.includes(i)&&this.element.setAttribute(i,a);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;l.childNodes.length>0;)this.element.appendChild(l.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(l=>{l.style.fill=this.fillColor})}};let $s=KP;$s.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class qJ extends We{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const n=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("style"),id:n.to("id")},children:[{text:n.to("text")}]})}}var YP=s(9715),GJ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(YP.A,GJ),YP.A.locals;class Mt extends We{constructor(n,i=new qJ){super(n),this._focusDelayed=null;const a=this.bindTemplate,c=O();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${c}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(i),this.iconView=new $s,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const d={tag:"button",attributes:{class:["ck","ck-button",a.to("class"),a.if("isEnabled","ck-disabled",p=>!p),a.if("isVisible","ck-hidden",p=>!p),a.to("isOn",p=>p?"ck-on":"ck-off"),a.if("withText","ck-button_with-text"),a.if("withKeystroke","ck-button_with-keystroke")],role:a.to("role"),type:a.to("type",p=>p||"button"),tabindex:a.to("tabindex"),"aria-checked":a.to("ariaChecked"),"aria-label":a.to("ariaLabel"),"aria-labelledby":a.to("ariaLabelledBy"),"aria-disabled":a.if("isEnabled",!0,p=>!p),"aria-pressed":a.to("isOn",p=>!!this.isToggleable&&String(!!p)),"data-cke-tooltip-text":a.to("_tooltipString"),"data-cke-tooltip-position":a.to("tooltipPosition")},children:this.children,on:{click:a.to(p=>{this.isEnabled?this.fire("execute"):p.preventDefault()})}};v.isSafari&&(this._focusDelayed||(this._focusDelayed=tC(()=>this.focus(),0)),d.on.mousedown=a.to(()=>{this._focusDelayed()}),d.on.mouseup=a.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(d)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(n){return n.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),n}_createKeystrokeView(){const n=new We;return n.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",i=>kb(i))}]}),n}_getTooltipString(n,i,a){return n?typeof n=="string"?n:(a&&(a=kb(a)),n instanceof Function?n(i,a):`${i}${a?` (${a})`:""}`):""}}var QP=s(4391),KJ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(QP.A,KJ),QP.A.locals;class Vb extends Mt{constructor(n){super(n),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const n=new We;return n.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),n}}class ZP extends Mt{constructor(n){super(n),this.buttonView=this,this._fileInputView=new YJ(n),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class YJ extends We{constructor(n){super(n),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:i.to("acceptedType"),multiple:i.to("allowMultipleFiles")},on:{change:i.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const Ub='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var JP=s(25),QJ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(JP.A,QJ),JP.A.locals;class ZJ extends We{constructor(n,i){super(n);const a=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),i&&this.children.addMany(i),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",a.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:a.if("isCollapsed","hidden"),"aria-labelledby":a.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const n=new Mt(this.locale),i=n.bindTemplate;return n.set({withText:!0,icon:Ub}),n.extendTemplate({attributes:{"aria-expanded":i.to("isOn",a=>String(a))}}),n.bind("label").to(this),n.bind("isOn").to(this,"isCollapsed",a=>!a),n.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),n}}var XP=s(7317),JJ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(XP.A,JJ),XP.A.locals,s(6931),s(9047);var eN=s(4962),XJ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(eN.A,XJ),eN.A.locals;class Hb extends We{constructor(n,i){super(n);const a=`ck-labeled-field-view-${O()}`,c=`ck-labeled-field-view-status-${O()}`;this.fieldView=i(this,a,c),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(a),this.statusView=this._createStatusView(c),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(p,g)=>p||g);const d=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",d.to("class"),d.if("isEnabled","ck-disabled",p=>!p),d.if("isEmpty","ck-labeled-field-view_empty"),d.if("isFocused","ck-labeled-field-view_focused"),d.if("placeholder","ck-labeled-field-view_placeholder"),d.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(n){const i=new $b(this.locale);return i.for=n,i.bind("text").to(this,"label"),i}_createStatusView(n){const i=new We(this.locale),a=this.bindTemplate;return i.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",a.if("errorText","ck-labeled-field-view__status_error"),a.if("_statusText","ck-hidden",c=>!c)],id:n,role:a.if("errorText","alert")},children:[{text:a.to("_statusText")}]}),i}focus(n){this.fieldView.focus(n)}}class eX extends We{constructor(n){super(n),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new dr,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",i.if("isFocused","ck-input_focused"),i.if("isEmpty","ck-input-text_empty"),i.if("hasError","ck-error")],id:i.to("id"),placeholder:i.to("placeholder"),tabindex:i.to("tabIndex"),readonly:i.to("isReadOnly"),"aria-invalid":i.if("hasError",!0),"aria-describedby":i.to("ariaDescribedById"),"aria-label":i.to("ariaLabel")},on:{input:i.to((...a)=>{this.fire("input",...a),this._updateIsEmpty()}),change:i.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(n,i,a)=>{this._setDomElementValue(a),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(n){this.element.value=n||n===0?n:""}}var tN=s(253),tX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(tN.A,tX),tN.A.locals;class nX extends eX{constructor(n){super(n),this.set("inputMode","text");const i=this.bindTemplate;this.extendTemplate({attributes:{inputmode:i.to("inputMode")}})}}class rX extends nX{constructor(n){super(n),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var nN=s(1671),oX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(nN.A,oX),nN.A.locals;class iX extends We{constructor(n){super(n);const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",i.to("position",a=>`ck-dropdown__panel_${a}`),i.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:i.to(a=>{a.target.tagName.toLocaleLowerCase()!=="input"&&a.preventDefault()})}})}focus(){if(this.children.length){const n=this.children.first;typeof n.focus=="function"?n.focus():z("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const n=this.children.last;typeof n.focusLast=="function"?n.focusLast():n.focus()}}}var rN=s(8149),sX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(rN.A,sX),rN.A.locals;const VC=class extends We{constructor(l,n,i){super(l);const a=this.bindTemplate;this.buttonView=n,this.panelView=i,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Gr,this.focusTracker=new dr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",a.to("class"),a.if("isEnabled","ck-disabled",c=>!c)],id:a.to("id"),"aria-describedby":a.to("ariaDescribedById")},children:[n,i]}),n.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":a.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(n,i,a)=>{if(a)if(this.panelPosition==="auto"){const c=VC._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=c?c.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const l=(n,i)=>{this.isOpen&&(this.isOpen=!1,i())};this.keystrokes.set("arrowdown",(n,i)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,i())}),this.keystrokes.set("arrowright",(n,i)=>{this.isOpen&&i()}),this.keystrokes.set("arrowleft",l),this.keystrokes.set("esc",l)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:l,north:n,southEast:i,southWest:a,northEast:c,northWest:d,southMiddleEast:p,southMiddleWest:g,northMiddleEast:b,northMiddleWest:w}=VC.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[i,a,p,g,l,c,d,b,w,n]:[a,i,g,p,l,d,c,w,b,n]}};let UC=VC;UC.defaultPanelPositions={south:(l,n)=>({top:l.bottom,left:l.left-(n.width-l.width)/2,name:"s"}),southEast:l=>({top:l.bottom,left:l.left,name:"se"}),southWest:(l,n)=>({top:l.bottom,left:l.left-n.width+l.width,name:"sw"}),southMiddleEast:(l,n)=>({top:l.bottom,left:l.left-(n.width-l.width)/4,name:"sme"}),southMiddleWest:(l,n)=>({top:l.bottom,left:l.left-3*(n.width-l.width)/4,name:"smw"}),north:(l,n)=>({top:l.top-n.height,left:l.left-(n.width-l.width)/2,name:"n"}),northEast:(l,n)=>({top:l.top-n.height,left:l.left,name:"ne"}),northWest:(l,n)=>({top:l.top-n.height,left:l.left-n.width+l.width,name:"nw"}),northMiddleEast:(l,n)=>({top:l.top-n.height,left:l.left-(n.width-l.width)/4,name:"nme"}),northMiddleWest:(l,n)=>({top:l.top-n.height,left:l.left-3*(n.width-l.width)/4,name:"nmw"})},UC._getOptimalPosition=bb;class aX extends Mt{constructor(n){super(n),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",i=>String(i))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const n=new $s;return n.content=Ub,n.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),n}}class ri extends G(){constructor(n){if(super(),this.focusables=n.focusables,this.focusTracker=n.focusTracker,this.keystrokeHandler=n.keystrokeHandler,this.actions=n.actions,n.actions&&n.keystrokeHandler)for(const i in n.actions){let a=n.actions[i];typeof a=="string"&&(a=[a]);for(const c of a)n.keystrokeHandler.set(c,(d,p)=>{this[i](),p()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(HC)||null}get last(){return this.focusables.filter(HC).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let n=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((i,a)=>{const c=i.element===this.focusTracker.focusedElement;return c&&(n=a),c}),n)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const n=this.next;n&&this.focusables.getIndex(n)===this.current||n===this.first?this.fire("forwardCycle"):this._focus(n,1)}focusPrevious(){const n=this.previous;n&&this.focusables.getIndex(n)===this.current||n===this.last?this.fire("backwardCycle"):this._focus(n,-1)}_focus(n,i){n&&this.focusTracker.focusedElement!==n.element&&n.focus(i)}_getDomFocusableItem(n){const i=this.focusables.length;if(!i)return null;const a=this.current;if(a===null)return this[n===1?"first":"last"];let c=this.focusables.get(a),d=(a+i+n)%i;do{const p=this.focusables.get(d);if(HC(p)){c=p;break}d=(d+i+n)%i}while(d!==a);return c}}function HC(l){return Sp(l)&&Hl(l.element)}function Sp(l){return!(!("focus"in l)||typeof l.focus!="function")}class oN extends We{constructor(n){super(n),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class lX extends We{constructor(n){super(n),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var cX=Object.defineProperty,iN=Object.getOwnPropertySymbols,uX=Object.prototype.hasOwnProperty,dX=Object.prototype.propertyIsEnumerable,sN=(l,n,i)=>n in l?cX(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,aN=(l,n)=>{for(var i in n||(n={}))uX.call(n,i)&&sN(l,i,n[i]);if(iN)for(var i of iN(n))dX.call(n,i)&&sN(l,i,n[i]);return l};function lN(l){if(Array.isArray(l))return{items:l,removeItems:[]};const n={items:[],removeItems:[]};return l?aN(aN({},n),l):n}var cN=s(9677),hX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(cN.A,hX),cN.A.locals;const pX={alignLeft:rt.alignLeft,bold:rt.bold,importExport:rt.importExport,paragraph:rt.paragraph,plus:rt.plus,text:rt.text,threeVerticalDots:rt.threeVerticalDots,pilcrow:rt.pilcrow,dragIndicator:rt.dragIndicator};class WC extends We{constructor(n,i){super(n);const a=this.bindTemplate,c=this.t;this.options=i||{},this.set("ariaLabel",c("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new dr,this.keystrokes=new Gr,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new fX(n),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const d=n.uiLanguageDirection==="rtl";this._focusCycler=new ri({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[d?"arrowright":"arrowleft","arrowup"],focusNext:[d?"arrowleft":"arrowright","arrowdown"]}});const p=["ck","ck-toolbar",a.to("class"),a.if("isCompact","ck-toolbar_compact")];var g;this.options.shouldGroupWhenFull&&this.options.isFloating&&p.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:p,role:"toolbar","aria-label":a.to("ariaLabel"),style:{maxWidth:a.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(g=this,g.bindTemplate.to(b=>{b.target===g.element&&b.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new gX(this):new mX(this)}render(){super.render(),this.focusTracker.add(this.element);for(const n of this.items)this.focusTracker.add(n.element);this.items.on("add",(n,i)=>{this.focusTracker.add(i.element)}),this.items.on("remove",(n,i)=>{this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(n,i,a){this.items.addMany(this._buildItemsFromConfig(n,i,a))}_buildItemsFromConfig(n,i,a){const c=lN(n),d=a||c.removeItems;return this._cleanItemsConfiguration(c.items,i,d).map(p=>Se(p)?this._createNestedToolbarDropdown(p,i,d):p==="|"?new oN:p==="-"?new lX:i.create(p)).filter(p=>!!p)}_cleanItemsConfiguration(n,i,a){const c=n.filter((d,p,g)=>d==="|"||a.indexOf(d)===-1&&(d==="-"?!this.options.shouldGroupWhenFull||(z("toolbarview-line-break-ignored-when-grouping-items",g),!1):!(!Se(d)&&!i.has(d))||(z("toolbarview-item-unavailable",{item:d}),!1)));return this._cleanSeparatorsAndLineBreaks(c)}_cleanSeparatorsAndLineBreaks(n){const i=p=>p!=="-"&&p!=="|",a=n.length,c=n.findIndex(i);if(c===-1)return[];const d=a-n.slice().reverse().findIndex(i);return n.slice(c,d).filter((p,g,b)=>i(p)?!0:!(g>0&&b[g-1]===p))}_createNestedToolbarDropdown(n,i,a){let{label:c,icon:d,items:p,tooltip:g=!0,withText:b=!1}=n;if(p=this._cleanItemsConfiguration(p,i,a),!p.length)return null;const w=Vs(this.locale);return c||z("toolbarview-nested-toolbar-dropdown-missing-label",n),w.class="ck-toolbar__nested-toolbar-dropdown",w.buttonView.set({label:c,tooltip:g,withText:!!b}),d!==!1?w.buttonView.icon=pX[d]||d||rt.threeVerticalDots:w.buttonView.withText=!0,KC(w,()=>w.toolbarView._buildItemsFromConfig(p,i,a)),w}}class fX extends We{constructor(n){super(n),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class mX{constructor(n){const i=n.bindTemplate;n.set("isVertical",!1),n.itemsView.children.bindTo(n.items).using(a=>a),n.focusables.bindTo(n.items).using(a=>Sp(a)?a:null),n.extendTemplate({attributes:{class:[i.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class gX{constructor(n){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=n,this.viewChildren=n.children,this.viewFocusables=n.focusables,this.viewItemsView=n.itemsView,this.viewFocusTracker=n.focusTracker,this.viewLocale=n.locale,this.ungroupedItems=n.createCollection(),this.groupedItems=n.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),n.itemsView.children.bindTo(this.ungroupedItems).using(i=>i),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),n.children.on("change",this._updateFocusCyclableItems.bind(this)),n.items.on("change",(i,a)=>{const c=a.index,d=Array.from(a.added);for(const p of a.removed)c>=this.ungroupedItems.length?this.groupedItems.remove(p):this.ungroupedItems.remove(p);for(let p=c;p<c+d.length;p++){const g=d[p-c];p>this.ungroupedItems.length?this.groupedItems.add(g,p-this.ungroupedItems.length):this.ungroupedItems.add(g,p)}this._updateGrouping()}),n.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(n){this.viewElement=n.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(n)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Hl(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const n=this.groupedItems.length;let i;for(;this._areItemsOverflowing;)this._groupLastItem(),i=!0;if(!i&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==n&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const n=this.viewElement,i=this.viewLocale.uiLanguageDirection,a=new kt(n.lastChild),c=new kt(n);if(!this.cachedPadding){const d=m.window.getComputedStyle(n),p=i==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(d[p])}return i==="ltr"?a.right>c.right-this.cachedPadding:a.left<c.left+this.cachedPadding}_enableGroupingOnResize(){let n;this.resizeObserver=new lp(this.viewElement,i=>{n&&n===i.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),n=i.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(n){n.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new oN),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const n=this.viewLocale,i=n.t,a=Vs(n);return a.class="ck-toolbar__grouped-dropdown",a.panelPosition=n.uiLanguageDirection==="ltr"?"sw":"se",KC(a,this.groupedItems),a.buttonView.set({label:i("Show more items"),tooltip:!0,tooltipPosition:n.uiLanguageDirection==="rtl"?"se":"sw",icon:rt.threeVerticalDots}),a}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(n=>{Sp(n)&&this.viewFocusables.add(n)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class $u extends We{constructor(n){super(n);const i=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",i.if("isVisible","ck-hidden",a=>!a)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class qC extends We{constructor(n){super(n),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class Wb extends We{constructor(n,i=new $b){super(n);const a=this.bindTemplate,c=new GC(n);this.set({label:"",isVisible:!0}),this.labelView=i,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,c]),c.set({role:"group",ariaLabelledBy:i.id}),c.focusTracker.destroy(),c.keystrokes.destroy(),this.items=c.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",a.if("isVisible","ck-hidden",d=>!d)]},children:this.children})}focus(){if(this.items){const n=this.items.find(i=>!(i instanceof qC));n&&n.focus()}}}var uN=s(5199),bX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(uN.A,bX),uN.A.locals;class GC extends We{constructor(n){super(n),this._listItemGroupToChangeListeners=new WeakMap;const i=this.bindTemplate;this.focusables=new ti,this.items=this.createCollection(),this.focusTracker=new dr,this.keystrokes=new Gr,this._focusCycler=new ri({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:i.to("role"),"aria-label":i.to("ariaLabel"),"aria-labelledby":i.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const n of this.items)n instanceof Wb?this._registerFocusableItemsGroup(n):n instanceof $u&&this._registerFocusableListItem(n);this.items.on("change",(n,i)=>{for(const a of i.removed)a instanceof Wb?this._deregisterFocusableItemsGroup(a):a instanceof $u&&this._deregisterFocusableListItem(a);for(const a of Array.from(i.added).reverse())a instanceof Wb?this._registerFocusableItemsGroup(a,i.index):this._registerFocusableListItem(a,i.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(n,i){this.focusTracker.add(n.element),this.focusables.add(n,i)}_deregisterFocusableListItem(n){this.focusTracker.remove(n.element),this.focusables.remove(n)}_getOnGroupItemsChangeCallback(n){return(i,a)=>{for(const c of a.removed)this._deregisterFocusableListItem(c);for(const c of Array.from(a.added).reverse())this._registerFocusableListItem(c,this.items.getIndex(n)+a.index)}}_registerFocusableItemsGroup(n,i){Array.from(n.items).forEach((c,d)=>{const p=i!==void 0?i+d:void 0;this._registerFocusableListItem(c,p)});const a=this._getOnGroupItemsChangeCallback(n);this._listItemGroupToChangeListeners.set(n,a),n.items.on("change",a)}_deregisterFocusableItemsGroup(n){for(const i of n.items)this._deregisterFocusableListItem(i);n.items.off("change",this._listItemGroupToChangeListeners.get(n)),this._listItemGroupToChangeListeners.delete(n)}}var dN=s(1792),kX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(dN.A,kX),dN.A.locals;class qb extends We{constructor(n,i){super(n);const a=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(i),this.arrowView=this._createArrowView(),this.keystrokes=new Gr,this.focusTracker=new dr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",a.to("class"),a.if("isVisible","ck-hidden",c=>!c),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(n,i)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),i())}),this.keystrokes.set("arrowleft",(n,i)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),i())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(n){const i=n||new Mt;return n||i.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),i.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),i.delegate("execute").to(this),i}_createArrowView(){const n=new Mt,i=n.bindTemplate;return n.icon=Ub,n.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":i.to("isOn"),"aria-haspopup":!0,"aria-expanded":i.to("isOn",a=>String(a))}}),n.bind("isEnabled").to(this),n.bind("label").to(this),n.bind("tooltip").to(this),n.delegate("execute").to(this,"open"),n}}var hN=s(1666),vX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(hN.A,vX),hN.A.locals;var pN=s(3629),wX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(pN.A,wX),pN.A.locals;function Vs(l,n=aX){const i=typeof n=="function"?new n(l):n,a=new iX(l),c=new UC(l,i,a);return i.bind("isEnabled").to(c),i instanceof qb?i.arrowView.bind("isOn").to(c,"isOpen"):i.bind("isOn").to(c,"isOpen"),function(d){(function(p){p.on("render",()=>{yb({emitter:p,activator:()=>p.isOpen,callback:()=>{p.isOpen=!1},contextElements:()=>[p.element,...p.focusTracker._elements]})})})(d),function(p){p.on("execute",g=>{g.source instanceof Vb||(p.isOpen=!1)})}(d),function(p){p.focusTracker.on("change:isFocused",(g,b,w)=>{p.isOpen&&!w&&(p.isOpen=!1)})}(d),function(p){p.keystrokes.set("arrowdown",(g,b)=>{p.isOpen&&(p.panelView.focus(),b())}),p.keystrokes.set("arrowup",(g,b)=>{p.isOpen&&(p.panelView.focusLast(),b())})}(d),function(p){p.on("change:isOpen",(g,b,w)=>{if(w)return;const C=p.panelView.element;C&&C.contains(m.document.activeElement)&&p.buttonView.focus()})}(d),function(p){p.on("change:isOpen",(g,b,w)=>{w&&p.panelView.focus()},{priority:"low"})}(d)}(c),c}function KC(l,n,i={}){l.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),l.isOpen?fN(l,n,i):l.once("change:isOpen",()=>fN(l,n,i),{priority:"highest"}),i.enableActiveItemFocusOnDropdownOpen&&bN(l,()=>l.toolbarView.items.find(a=>a.isOn))}function fN(l,n,i){const a=l.locale,c=a.t,d=l.toolbarView=new WC(a),p=typeof n=="function"?n():n;d.ariaLabel=i.ariaLabel||c("Dropdown toolbar"),i.maxWidth&&(d.maxWidth=i.maxWidth),i.class&&(d.class=i.class),i.isCompact&&(d.isCompact=i.isCompact),i.isVertical&&(d.isVertical=!0),p instanceof ti?d.items.bindTo(p).using(g=>g):d.items.addMany(p),l.panelView.children.add(d),d.items.delegate("execute").to(l)}function mN(l,n,i={}){l.isOpen?gN(l,n,i):l.once("change:isOpen",()=>gN(l,n,i),{priority:"highest"}),bN(l,()=>l.listView.items.find(a=>a instanceof $u&&a.children.first.isOn))}function gN(l,n,i){const a=l.locale,c=l.listView=new GC(a),d=typeof n=="function"?n():n;c.ariaLabel=i.ariaLabel,c.role=i.role,kN(l,c.items,d,a),l.panelView.children.add(c),c.items.delegate("execute").to(l)}function bN(l,n){l.on("change:isOpen",()=>{if(!l.isOpen)return;const i=n();i&&(typeof i.focus=="function"?i.focus():z("ui-dropdown-focus-child-on-open-child-missing-focus",{view:i}))},{priority:j.low-10})}function kN(l,n,i,a){n.bindTo(i).using(c=>{if(c.type==="separator")return new qC(a);if(c.type==="group"){const d=new Wb(a);return d.set({label:c.label}),kN(l,d.items,c.items,a),d.items.delegate("execute").to(l),d}if(c.type==="button"||c.type==="switchbutton"){const d=new $u(a);let p;return c.type==="button"?(p=new Mt(a),p.bind("ariaChecked").to(p,"isOn")):p=new Vb(a),p.bind(...Object.keys(c.model)).to(c.model),p.delegate("execute").to(d),d.children.add(p),d}return null})}const Gb=(l,n,i)=>{const a=new rX(l.locale);return a.set({id:n,ariaDescribedById:i}),a.bind("isReadOnly").to(l,"isEnabled",c=>!c),a.bind("hasError").to(l,"errorText",c=>!!c),a.on("input",()=>{l.errorText=null}),l.bind("isEmpty","isFocused","placeholder").to(a),a};var vN=s(1905),yX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(vN.A,yX),vN.A.locals;var wN=s(6309),_X={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(wN.A,_X),wN.A.locals;class CX{constructor(n){this._components=new Map,this.editor=n}*names(){for(const n of this._components.values())yield n.originalName}add(n,i){this._components.set(YC(n),{callback:i,originalName:n})}create(n){if(!this.has(n))throw new P("componentfactory-item-missing",this,{name:n});return this._components.get(YC(n)).callback(this.editor.locale)}has(n){return this._components.has(YC(n))}}function YC(l){return String(l).toLowerCase()}var yN=s(7913),AX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(yN.A,AX),yN.A.locals;class xX extends We{constructor(n,i={}){super(n);const a=this.bindTemplate;this.set("label",i.label||""),this.set("class",i.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",a.to("class")]},children:this.children}),i.icon&&(this.iconView=new $s,this.iconView.content=i.icon,this.children.add(this.iconView));const c=new We(n);c.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:a.to("label")}]}),this.children.add(c)}}var _N=s(9822),EX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(_N.A,EX),_N.A.locals;class SX extends We{constructor(n){super(n),this.children=this.createCollection(),this.keystrokes=new Gr,this._focusTracker=new dr,this._focusables=new ti,this.focusCycler=new ri({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(n){for(const i of n){const a=new Mt(this.locale);let c;for(c in a.on("execute",()=>i.onExecute()),i.onCreate&&i.onCreate(a),i)c!="onExecute"&&c!="onCreate"&&a.set(c,i[c]);this.children.add(a)}this._updateFocusCyclableItems()}focus(n){n===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(n=>{this._focusables.add(n),this._focusTracker.add(n.element)})}}class DX extends We{constructor(n){super(n),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var CN=s(9819),TX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(CN.A,TX),CN.A.locals;const Kb="screen-center",AN="editor-center",IX="editor-top-side",MX="editor-top-center",PX="editor-bottom-center",NX="editor-above-center",RX="editor-below-center",xN=Tu("px"),EN=class extends function(l){return class extends l{constructor(...n){super(...n),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(m.document,"mouseup",this._onDragEndBound),this.listenTo(m.document,"touchend",this._onDragEndBound),this.listenTo(m.document,"mousemove",this._onDragBound),this.listenTo(m.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(m.document,"mouseup",this._onDragEndBound),this.stopListening(m.document,"touchend",this._onDragEndBound),this.stopListening(m.document,"mousemove",this._onDragBound),this.stopListening(m.document,"touchmove",this._onDragBound)}_onDragStart(n,i){if(!this._isHandleElementPressed(i))return;this._attachDragListeners();let a=0,c=0;i instanceof MouseEvent?(a=i.clientX,c=i.clientY):(a=i.touches[0].clientX,c=i.touches[0].clientY),this._lastDraggingCoordinates={x:a,y:c},this.isDragging=!0}_onDrag(n,i){if(!this.isDragging)return void this._detachDragListeners();let a=0,c=0;i instanceof MouseEvent?(a=i.clientX,c=i.clientY):(a=i.touches[0].clientX,c=i.touches[0].clientY),i.preventDefault(),this.fire("drag",{deltaX:Math.round(a-this._lastDraggingCoordinates.x),deltaY:Math.round(c-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:a,y:c}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(n){return!!this.dragHandleElement&&(this.dragHandleElement===n.target||n.target instanceof HTMLElement&&this.dragHandleElement.contains(n.target))}}}(We){constructor(l,{getCurrentDomRoot:n,getViewportOffset:i}){super(l),this.wasMoved=!1;const a=this.bindTemplate,c=l.t;this.set("className",""),this.set("ariaLabel",c("Editor dialog")),this.set("isModal",!1),this.set("position",Kb),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=n,this._getViewportOffset=i,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new Gr,this.focusTracker=new dr,this._focusables=new ti,this._focusCycler=new ri({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",a.if("isModal","ck-dialog-overlay__transparent",d=>!d),a.if("_isVisible","ck-hidden",d=>!d)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",a.to("className")],role:"dialog","aria-label":a.to("ariaLabel"),style:{top:a.to("_top",d=>xN(d)),left:a.to("_left",d=>xN(d)),visibility:a.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(l,n)=>{this.fire("close",{source:"escKeyPress"}),n()}),this.on("drag",(l,{deltaX:n,deltaY:i})=>{this.wasMoved=!0,this.moveBy(n,i)}),this.listenTo(m.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(m.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(l,n,i)=>{i&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:l,title:n,hasCloseButton:i=!0,content:a,actionButtons:c}){n&&(this.headerView=new xX(this.locale,{icon:l}),i&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=n,this.ariaLabel=n,this.parts.add(this.headerView,0)),a&&(a instanceof We&&(a=[a]),this.contentView=new DX(this.locale),this.contentView.children.addMany(a),this.parts.add(this.contentView)),c&&(this.actionsView=new SX(this.locale),this.actionsView.setButtons(c),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(l,n){const i=this._getViewportRect(),a=this._getDialogRect();l+a.width>i.right&&(l=i.right-a.width),l<i.left&&(l=i.left),n<i.top&&(n=i.top),this._moveTo(l,n)}_moveTo(l,n){this._left=l,this._top=n}moveBy(l,n){this.moveTo(this._left+l,this._top+n)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const l=this._getViewportRect();let n,i=this.position;this._getCurrentDomRoot()?n=this._getVisibleDomRootRect(l):i=Kb;const a=EN.defaultOffset,c=this._getDialogRect();switch(i){case IX:if(n){const d=this.locale.contentLanguageDirection==="ltr"?n.right-c.width-a:n.left+a;this.moveTo(d,n.top+a)}else this._moveOffScreen();break;case AN:n?this.moveTo(Math.round(n.left+n.width/2-c.width/2),Math.round(n.top+n.height/2-c.height/2)):this._moveOffScreen();break;case Kb:this.moveTo(Math.round((l.width-c.width)/2),Math.round((l.height-c.height)/2));break;case MX:n?this.moveTo(Math.round(n.left+n.width/2-c.width/2),n.top+a):this._moveOffScreen();break;case PX:n?this.moveTo(Math.round(n.left+n.width/2-c.width/2),n.bottom-c.height-a):this._moveOffScreen();break;case NX:n?this.moveTo(Math.round(n.left+n.width/2-c.width/2),n.top-c.height-a):this._moveOffScreen();break;case RX:n?this.moveTo(Math.round(n.left+n.width/2-c.width/2),n.bottom+a):this._moveOffScreen()}}_getVisibleDomRootRect(l){let n=new kt(this._getCurrentDomRoot()).getVisible();return n?(n=l.getIntersection(n),n||null):null}_getDialogRect(){return new kt(this.element.firstElementChild)}_getViewportRect(){return function(l){l=Object.assign({top:0,bottom:0,left:0,right:0},l);const n=new kt(m.window);return n.top+=l.top,n.height-=l.top,n.bottom-=l.bottom,n.height-=l.bottom,n.left+=l.left,n.right-=l.right,n.width-=l.left+l.right,n}(this._getViewportOffset())}_updateFocusCyclableItems(){const l=[];if(this.contentView)for(const n of this.contentView.children)Sp(n)&&l.push(n);this.actionsView&&l.push(this.actionsView),this.closeButtonView&&l.push(this.closeButtonView),l.forEach(n=>{var i;this._focusables.add(n),this.focusTracker.add(n.element),Sp(i=n)&&"focusCycler"in i&&i.focusCycler instanceof ri&&(this.listenTo(n.focusCycler,"forwardCycle",a=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&a.stop()}),this.listenTo(n.focusCycler,"backwardCycle",a=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&a.stop()}))})}_createCloseButton(){const l=new Mt(this.locale),n=this.locale.t;return l.set({label:n("Close"),tooltip:!0,icon:rt.cancel}),l.on("execute",()=>this.fire("close",{source:"closeButton"})),l}};let Yb=EN;Yb.defaultOffset=15;class Us extends me{constructor(n){super(n);const i=n.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),n.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:i("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}_initShowHideListeners(){this.on("show",(n,i)=>{this._show(i)}),this.on("show",(n,i)=>{i.onShow&&i.onShow(this)},{priority:"low"}),this.on("hide",()=>{Us._visibleDialogPlugin&&Us._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const n=this.editor;n.keystrokes.set("Ctrl+F6",(i,a)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?n.editing.view.focus():this.view.focus(),a())})}_initMultiRootIntegration(){const n=this.editor.model;n.document.on("change:data",()=>{if(!this.view)return;const i=n.document.differ.getChangedRoots();for(const a of i)a.state&&this.view.updatePosition()})}show(n){this.hide(),this.fire(`show:${n.id}`,n)}_show({id:n,icon:i,title:a,hasCloseButton:c=!0,content:d,actionButtons:p,className:g,isModal:b,position:w,onHide:C}){const x=this.editor;this.view=new Yb(x.locale,{getCurrentDomRoot:()=>x.editing.view.getDomRoot(x.model.document.selection.anchor.root.rootName),getViewportOffset:()=>x.ui.viewportOffset});const D=this.view;D.on("close",()=>{this.hide()}),x.ui.view.body.add(D),x.ui.focusTracker.add(D.element),x.keystrokes.listenTo(D.element),w||(w=b?Kb:AN),D.set({position:w,_isVisible:!0,className:g,isModal:b}),D.setupParts({icon:i,title:a,hasCloseButton:c,content:d,actionButtons:p}),this.id=n,C&&(this._onHide=C),this.isOpen=!0,Us._visibleDialogPlugin=this}hide(){Us._visibleDialogPlugin&&Us._visibleDialogPlugin.fire(`hide:${Us._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const n=this.editor,i=this.view;i.contentView&&i.contentView.reset(),n.ui.view.body.remove(i),n.ui.focusTracker.remove(i.element),n.keystrokes.stopListening(i.element),i.destroy(),n.editing.view.focus(),this.id=null,this.isOpen=!1,Us._visibleDialogPlugin=null}}var SN=s(3710),OX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(SN.A,OX),SN.A.locals;var BX=Object.defineProperty,DN=Object.getOwnPropertySymbols,LX=Object.prototype.hasOwnProperty,jX=Object.prototype.propertyIsEnumerable,TN=(l,n,i)=>n in l?BX(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,Pt=(l,n)=>{for(var i in n||(n={}))LX.call(n,i)&&TN(l,i,n[i]);if(DN)for(var i of DN(n))jX.call(n,i)&&TN(l,i,n[i]);return l};const IN=Tu("px"),MN=m.document.body,FX={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},QC=class extends We{constructor(l){super(l);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",n.to("position",i=>`ck-balloon-panel_${i}`),n.if("isVisible","ck-balloon-panel_visible"),n.if("withArrow","ck-balloon-panel_with-arrow"),n.to("class")],style:{top:n.to("top",IN),left:n.to("left",IN)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(l){this.show();const n=QC.defaultPositions,i=Object.assign({},{element:this.element,positions:[n.southArrowNorth,n.southArrowNorthMiddleWest,n.southArrowNorthMiddleEast,n.southArrowNorthWest,n.southArrowNorthEast,n.northArrowSouth,n.northArrowSouthMiddleWest,n.northArrowSouthMiddleEast,n.northArrowSouthWest,n.northArrowSouthEast,n.viewportStickyNorth],limiter:MN,fitInViewport:!0},l),a=QC._getOptimalPosition(i)||FX,c=parseInt(a.left),d=parseInt(a.top),p=a.name,g=a.config||{},{withArrow:b=!0}=g;this.top=d,this.left=c,this.position=p,this.withArrow=b}pin(l){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(l):this._stopPinning()},this._startPinning(l),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(l){this.attachTo(l);const n=ZC(l.target),i=l.limiter?ZC(l.limiter):MN;this.listenTo(m.document,"scroll",(a,c)=>{const d=c.target,p=n&&d.contains(n),g=i&&d.contains(i);!p&&!g&&n&&i||this.attachTo(l)},{useCapture:!0}),this.listenTo(m.window,"resize",()=>{this.attachTo(l)})}_stopPinning(){this.stopListening(m.document,"scroll"),this.stopListening(m.window,"resize")}};let ao=QC;function ZC(l){return Ul(l)?l:mb(l)?l.commonAncestorContainer:typeof l=="function"?ZC(l()):null}function PN(l={}){const{sideOffset:n=ao.arrowSideOffset,heightOffset:i=ao.arrowHeightOffset,stickyVerticalOffset:a=ao.stickyVerticalOffset,config:c}=l;return{northWestArrowSouthWest:(g,b)=>Pt({top:d(g,b),left:g.left-n,name:"arrow_sw"},c&&{config:c}),northWestArrowSouthMiddleWest:(g,b)=>Pt({top:d(g,b),left:g.left-.25*b.width-n,name:"arrow_smw"},c&&{config:c}),northWestArrowSouth:(g,b)=>Pt({top:d(g,b),left:g.left-b.width/2,name:"arrow_s"},c&&{config:c}),northWestArrowSouthMiddleEast:(g,b)=>Pt({top:d(g,b),left:g.left-.75*b.width+n,name:"arrow_sme"},c&&{config:c}),northWestArrowSouthEast:(g,b)=>Pt({top:d(g,b),left:g.left-b.width+n,name:"arrow_se"},c&&{config:c}),northArrowSouthWest:(g,b)=>Pt({top:d(g,b),left:g.left+g.width/2-n,name:"arrow_sw"},c&&{config:c}),northArrowSouthMiddleWest:(g,b)=>Pt({top:d(g,b),left:g.left+g.width/2-.25*b.width-n,name:"arrow_smw"},c&&{config:c}),northArrowSouth:(g,b)=>Pt({top:d(g,b),left:g.left+g.width/2-b.width/2,name:"arrow_s"},c&&{config:c}),northArrowSouthMiddleEast:(g,b)=>Pt({top:d(g,b),left:g.left+g.width/2-.75*b.width+n,name:"arrow_sme"},c&&{config:c}),northArrowSouthEast:(g,b)=>Pt({top:d(g,b),left:g.left+g.width/2-b.width+n,name:"arrow_se"},c&&{config:c}),northEastArrowSouthWest:(g,b)=>Pt({top:d(g,b),left:g.right-n,name:"arrow_sw"},c&&{config:c}),northEastArrowSouthMiddleWest:(g,b)=>Pt({top:d(g,b),left:g.right-.25*b.width-n,name:"arrow_smw"},c&&{config:c}),northEastArrowSouth:(g,b)=>Pt({top:d(g,b),left:g.right-b.width/2,name:"arrow_s"},c&&{config:c}),northEastArrowSouthMiddleEast:(g,b)=>Pt({top:d(g,b),left:g.right-.75*b.width+n,name:"arrow_sme"},c&&{config:c}),northEastArrowSouthEast:(g,b)=>Pt({top:d(g,b),left:g.right-b.width+n,name:"arrow_se"},c&&{config:c}),southWestArrowNorthWest:g=>Pt({top:p(g),left:g.left-n,name:"arrow_nw"},c&&{config:c}),southWestArrowNorthMiddleWest:(g,b)=>Pt({top:p(g),left:g.left-.25*b.width-n,name:"arrow_nmw"},c&&{config:c}),southWestArrowNorth:(g,b)=>Pt({top:p(g),left:g.left-b.width/2,name:"arrow_n"},c&&{config:c}),southWestArrowNorthMiddleEast:(g,b)=>Pt({top:p(g),left:g.left-.75*b.width+n,name:"arrow_nme"},c&&{config:c}),southWestArrowNorthEast:(g,b)=>Pt({top:p(g),left:g.left-b.width+n,name:"arrow_ne"},c&&{config:c}),southArrowNorthWest:g=>Pt({top:p(g),left:g.left+g.width/2-n,name:"arrow_nw"},c&&{config:c}),southArrowNorthMiddleWest:(g,b)=>Pt({top:p(g),left:g.left+g.width/2-.25*b.width-n,name:"arrow_nmw"},c&&{config:c}),southArrowNorth:(g,b)=>Pt({top:p(g),left:g.left+g.width/2-b.width/2,name:"arrow_n"},c&&{config:c}),southArrowNorthMiddleEast:(g,b)=>Pt({top:p(g),left:g.left+g.width/2-.75*b.width+n,name:"arrow_nme"},c&&{config:c}),southArrowNorthEast:(g,b)=>Pt({top:p(g),left:g.left+g.width/2-b.width+n,name:"arrow_ne"},c&&{config:c}),southEastArrowNorthWest:g=>Pt({top:p(g),left:g.right-n,name:"arrow_nw"},c&&{config:c}),southEastArrowNorthMiddleWest:(g,b)=>Pt({top:p(g),left:g.right-.25*b.width-n,name:"arrow_nmw"},c&&{config:c}),southEastArrowNorth:(g,b)=>Pt({top:p(g),left:g.right-b.width/2,name:"arrow_n"},c&&{config:c}),southEastArrowNorthMiddleEast:(g,b)=>Pt({top:p(g),left:g.right-.75*b.width+n,name:"arrow_nme"},c&&{config:c}),southEastArrowNorthEast:(g,b)=>Pt({top:p(g),left:g.right-b.width+n,name:"arrow_ne"},c&&{config:c}),westArrowEast:(g,b)=>Pt({top:g.top+g.height/2-b.height/2,left:g.left-b.width-i,name:"arrow_e"},c&&{config:c}),eastArrowWest:(g,b)=>Pt({top:g.top+g.height/2-b.height/2,left:g.right+i,name:"arrow_w"},c&&{config:c}),viewportStickyNorth:(g,b,w,C)=>{const x=C||w;return g.getIntersection(x)?x.height-g.height>a?null:{top:x.top+a,left:g.left+g.width/2-b.width/2,name:"arrowless",config:Pt({withArrow:!1},c)}:null}};function d(g,b){return g.top-b.height-i}function p(g){return g.bottom+i}}ao.arrowSideOffset=25,ao.arrowHeightOffset=10,ao.stickyVerticalOffset=20,ao._getOptimalPosition=bb,ao.defaultPositions=PN();var NN=s(9205),zX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(NN.A,zX),NN.A.locals;const RN="ck-tooltip",lo=class extends ei(){constructor(l){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,this._mutationObserver=null,lo._editors.add(l),lo._instance)return lo._instance;lo._instance=this,this.tooltipTextView=new We(l.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new ao(l.locale),this.balloonPanelView.class=RN,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(n){const i=new MutationObserver(()=>{n()});return{attach(a){i.observe(a,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){i.disconnect()}}}(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=Lu(this._pinTooltip,600),this._unpinTooltipDebounced=Lu(this._unpinTooltip,400),this.listenTo(m.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(m.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(m.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(m.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(m.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(m.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(l){const n=l.ui.view&&l.ui.view.body;lo._editors.delete(l),this.stopListening(l.ui),n&&n.has(this.balloonPanelView)&&n.remove(this.balloonPanelView),lo._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),lo._instance=null)}static getPositioningFunctions(l){const n=lo.defaultBalloonPositions;return{s:[n.southArrowNorth,n.southArrowNorthEast,n.southArrowNorthWest],n:[n.northArrowSouth],e:[n.eastArrowWest],w:[n.westArrowEast],sw:[n.southArrowNorthEast],se:[n.southArrowNorthWest]}[l]}_onKeyDown(l,n){n.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),n.stopPropagation())}_onEnterOrFocus(l,{target:n}){const i=JC(n);i?i!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(i,ON(i))):l.name==="focus"&&this._unpinTooltip()}_onLeaveOrBlur(l,{target:n,relatedTarget:i}){if(l.name==="mouseleave"){if(!Ul(n))return;const a=this.balloonPanelView.element,c=a&&(a===i||a.contains(i)),d=!c&&n===a;if(c)return void this._unpinTooltipDebounced.cancel();if(!d&&this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;const p=JC(n),g=JC(i);(d||p&&p!==g)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(l,{target:n}){this._currentElementWithTooltip&&(n.contains(this.balloonPanelView.element)&&n.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(l,{text:n,position:i,cssClass:a}){this._unpinTooltip();const c=ur(lo._editors.values()).ui.view.body;c.has(this.balloonPanelView)||c.add(this.balloonPanelView),this.tooltipTextView.text=n,this.balloonPanelView.pin({target:l,positions:lo.getPositioningFunctions(i)}),this._resizeObserver=new lp(l,()=>{Hl(l)||this._unpinTooltip()}),this._mutationObserver.attach(l),this.balloonPanelView.class=[RN,a].filter(d=>d).join(" ");for(const d of lo._editors)this.listenTo(d.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=l,this._currentTooltipPosition=i}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const l of lo._editors)this.stopListening(l.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const l=ON(this._currentElementWithTooltip);Hl(this._currentElementWithTooltip)&&l.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:lo.getPositioningFunctions(l.position)}):this._unpinTooltip()}};let Qb=lo;function JC(l){return Ul(l)?l.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function ON(l){return{text:l.dataset.ckeTooltipText,position:l.dataset.ckeTooltipPosition||"s",cssClass:l.dataset.ckeTooltipClass||""}}Qb.defaultBalloonPositions=PN({heightOffset:5,sideOffset:13}),Qb._editors=new Set,Qb._instance=null;const Zb=function(l,n,i){var a=!0,c=!0;if(typeof l!="function")throw new TypeError("Expected a function");return Se(i)&&(a="leading"in i?!!i.leading:a,c="trailing"in i?!!i.trailing:c),Lu(l,n,{leading:a,maxWait:n,trailing:c})};var $X=Object.defineProperty,BN=Object.getOwnPropertySymbols,VX=Object.prototype.hasOwnProperty,UX=Object.prototype.propertyIsEnumerable,LN=(l,n,i)=>n in l?$X(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,HX=(l,n)=>{for(var i in n||(n={}))VX.call(n,i)&&LN(l,i,n[i]);if(BN)for(var i of BN(n))UX.call(n,i)&&LN(l,i,n[i]);return l};const WX=50,qX=350,GX="Powered by";class KX extends ei(){constructor(n){super(),this.editor=n,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=Zb(this._showBalloon.bind(this),50,{leading:!0}),n.on("ready",this._handleEditorReady.bind(this))}destroy(){const n=this._balloonView;n&&(n.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const n=this.editor;(n.config.get("ui.poweredBy.forceVisible")||function(i){function a(N){return N.length>=40&&N.length<=255?"VALID":"INVALID"}if(!i)return"INVALID";let c="";try{c=atob(i)}catch{return"INVALID"}const d=c.split("-"),p=d[0],g=d[1];if(!g)return a(i);try{atob(g)}catch{try{if(atob(p),!atob(p).length)return a(i)}catch{return a(i)}}if(p.length<40||p.length>255)return"INVALID";let b="";try{atob(p),b=atob(g)}catch{return"INVALID"}if(b.length!==8)return"INVALID";const w=Number(b.substring(0,4)),C=Number(b.substring(4,6))-1,x=Number(b.substring(6,8)),D=new Date(w,C,x);return D<X||isNaN(Number(D))?"INVALID":"VALID"}(n.config.get("licenseKey"))!=="VALID")&&n.ui.view&&(n.ui.focusTracker.on("change:isFocused",(i,a,c)=>{this._updateLastFocusedEditableElement(),c?this._showBalloon():this._hideBalloon()}),n.ui.focusTracker.on("change:focusedElement",(i,a,c)=>{this._updateLastFocusedEditableElement(),c&&this._showBalloon()}),n.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const n=this.editor,i=this._balloonView=new ao,a=FN(n),c=new YX(n.locale,a.label);i.content.add(c),i.set({class:"ck-powered-by-balloon"}),n.ui.view.body.add(i),n.ui.focusTracker.add(i.element),this._balloonView=i}_showBalloon(){if(!this._lastFocusedEditableElement)return;const n=function(i,a){const c=FN(i),d=c.side==="right"?function(p,g){return jN(p,g,(b,w)=>b.left+b.width-w.width-g.horizontalOffset)}(a,c):function(p,g){return jN(p,g,b=>b.left+g.horizontalOffset)}(a,c);return{target:a,positions:[d]}}(this.editor,this._lastFocusedEditableElement);n&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(n))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const n=this.editor,i=n.ui.focusTracker.isFocused,a=n.ui.focusTracker.focusedElement;if(!i||!a)return void(this._lastFocusedEditableElement=null);const c=Array.from(n.ui.getEditableElementsNames()).map(d=>n.ui.getEditableElement(d));c.includes(a)?this._lastFocusedEditableElement=a:this._lastFocusedEditableElement=c[0]}}class YX extends We{constructor(n,i){super(n);const a=new $s,c=this.bindTemplate;a.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),a.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...i?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[i]}]:[],a],on:{dragstart:c.to(d=>d.preventDefault())}}]})}}function jN(l,n,i){return(a,c)=>{const d=new kt(l);if(d.width<qX||d.height<WX)return null;let p;p=n.position==="inside"?d.bottom-c.height:d.bottom-c.height/2,p-=n.verticalOffset;const g=i(d,c),b=a.clone().moveTo(g,p).getIntersection(c.clone().moveTo(g,p)).getVisible();return!b||b.getArea()<c.getArea()?null:{top:p,left:g,name:`position_${n.position}-side_${n.side}`,config:{withArrow:!1}}}}function FN(l){const n=l.config.get("ui.poweredBy"),i=n&&n.position||"border";return HX({position:i,label:GX,verticalOffset:i==="inside"?5:0,horizontalOffset:5,side:l.locale.contentLanguageDirection==="ltr"?"right":"left"},n)}var zN=s(1801),QX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(zN.A,QX),zN.A.locals;const $N={POLITE:"polite",ASSERTIVE:"assertive"};class ZX{constructor(n){this.editor=n,n.once("ready",()=>{for(const i of Object.values($N))this.announce("",i)})}announce(n,i=$N.POLITE){const a=this.editor;if(!a.ui.view)return;this.view||(this.view=new JX(a.locale),a.ui.view.body.add(this.view));const{politeness:c,isUnsafeHTML:d}=typeof i=="string"?{politeness:i}:i;let p=this.view.regionViews.find(g=>g.politeness===c);p||(p=new XX(a,c),this.view.regionViews.add(p)),p.announce({announcement:n,isUnsafeHTML:d})}}class JX extends We{constructor(n){super(n),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class XX extends We{constructor(n,i){super(n.locale),this.setTemplate({tag:"div",attributes:{role:"region","aria-live":i,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),n.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=i,this._domConverter=n.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:n,isUnsafeHTML:i}){if(!n.trim().length)return;const a=document.createElement("li");i?this._domConverter.setContentOf(a,n):a.innerText=n,this._listElement.appendChild(a)}get _listElement(){return this.element.querySelector("ul")}}var eee=Object.defineProperty,VN=Object.getOwnPropertySymbols,tee=Object.prototype.hasOwnProperty,nee=Object.prototype.propertyIsEnumerable,UN=(l,n,i)=>n in l?eee(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i;class ree extends be(){constructor(n){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const i=n.editing.view;this.editor=n,this.componentFactory=new CX(n),this.focusTracker=new dr,this.tooltipManager=new Qb(n),this.poweredBy=new KX(n),this.ariaLiveAnnouncer=new ZX(n),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(i.document,"layoutChanged",this.update.bind(this)),this.listenTo(i,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const n of this._editableElementsMap.values())n.ckeditorInstance=null,this.editor.keystrokes.stopListening(n);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(n,i){this._editableElementsMap.set(n,i),i.ckeditorInstance||(i.ckeditorInstance=this.editor),this.focusTracker.add(i);const a=()=>{this.editor.editing.view.getDomRoot(n)||this.editor.keystrokes.listenTo(i)};this.isReady?a():this.once("ready",a)}removeEditableElement(n){const i=this._editableElementsMap.get(n);i&&(this._editableElementsMap.delete(n),this.editor.keystrokes.stopListening(i),this.focusTracker.remove(i),i.ckeditorInstance=null)}getEditableElement(n="main"){return this._editableElementsMap.get(n)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(n,i={}){n.isRendered?(this.focusTracker.add(n.element),this.editor.keystrokes.listenTo(n.element)):n.once("render",()=>{this.focusTracker.add(n.element),this.editor.keystrokes.listenTo(n.element)}),this._focusableToolbarDefinitions.push({toolbarView:n,options:i})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const n=this.editor,i=n.config.get("ui.viewportOffset");if(i)return i;const a=n.config.get("toolbar.viewportTopOffset");return a?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:a}):{top:0}}_initFocusTracking(){const n=this.editor,i=n.editing.view;let a,c;n.keystrokes.set("Alt+F10",(d,p)=>{const g=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(g)&&!Array.from(i.domRoots.values()).includes(g)&&(a=g);const b=this._getCurrentFocusedToolbarDefinition();b&&c||(c=this._getFocusableCandidateToolbarDefinitions());for(let w=0;w<c.length;w++){const C=c.shift();if(c.push(C),C!==b&&this._focusFocusableCandidateToolbar(C)){b&&b.options.afterBlur&&b.options.afterBlur();break}}p()}),n.keystrokes.set("Esc",(d,p)=>{const g=this._getCurrentFocusedToolbarDefinition();g&&(a?(a.focus(),a=null):n.editing.view.focus(),g.options.afterBlur&&g.options.afterBlur(),p())})}_getFocusableCandidateToolbarDefinitions(){const n=[];for(const i of this._focusableToolbarDefinitions){const{toolbarView:a,options:c}=i;(Hl(a.element)||c.beforeFocus)&&n.push(i)}return n.sort((i,a)=>HN(i)-HN(a)),n}_getCurrentFocusedToolbarDefinition(){for(const n of this._focusableToolbarDefinitions)if(n.toolbarView.element&&n.toolbarView.element.contains(this.focusTracker.focusedElement))return n;return null}_focusFocusableCandidateToolbar(n){const{toolbarView:i,options:{beforeFocus:a}}=n;return a&&a(),!!Hl(i.element)&&(i.focus(),!0)}_handleScrollToTheSelection(n,i){const a=((c,d)=>{for(var p in d||(d={}))tee.call(d,p)&&UN(c,p,d[p]);if(VN)for(var p of VN(d))nee.call(d,p)&&UN(c,p,d[p]);return c})({top:0,bottom:0,left:0,right:0},this.viewportOffset);i.viewportOffset.top+=a.top,i.viewportOffset.bottom+=a.bottom,i.viewportOffset.left+=a.left,i.viewportOffset.right+=a.right}}function HN(l){const{toolbarView:n,options:i}=l;let a=10;return Hl(n.element)&&a--,i.isContextual&&a--,a}var WN=s(1185),oee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(WN.A,oee),WN.A.locals;class iee extends We{constructor(n){super(n),this.body=new HJ(n)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class see extends iee{constructor(n){super(n),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:n.uiLanguageDirection,lang:n.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const n=this.t,i=new $b;return i.text=n("Rich Text Editor"),i.extendTemplate({attributes:{class:"ck-voice-label"}}),i}}class aee extends We{constructor(n,i,a){super(n),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:n.contentLanguage,dir:n.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=a,this._hasExternalElement=!!this._editableElement,this._editingView=i}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const n=this._editingView;function i(a){n.change(c=>{const d=n.document.getRoot(a.name);c.addClass(a.isFocused?"ck-focused":"ck-blurred",d),c.removeClass(a.isFocused?"ck-blurred":"ck-focused",d)})}n.isRenderingInProgress?function a(c){n.once("change:isRenderingInProgress",(d,p,g)=>{g?a(c):i(c)})}(this):i(this)}}class lee extends aee{constructor(n,i,a,c={}){super(n,i,a);const d=n.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=c.label||(()=>d("Editor editing area: %0",this.name))}render(){super.render();const n=this._editingView;n.change(i=>{const a=n.document.getRoot(this.name);i.setAttribute("aria-label",this._generateLabel(this),a)})}}class XC extends Cb{static get pluginName(){return"Notification"}init(){this.on("show:warning",(n,i)=>{window.alert(i.message)},{priority:"lowest"})}showSuccess(n,i={}){this._showNotification({message:n,type:"success",namespace:i.namespace,title:i.title})}showInfo(n,i={}){this._showNotification({message:n,type:"info",namespace:i.namespace,title:i.title})}showWarning(n,i={}){this._showNotification({message:n,type:"warning",namespace:i.namespace,title:i.title})}_showNotification(n){const i=n.namespace?`show:${n.type}:${n.namespace}`:`show:${n.type}`;this.fire(i,{message:n.message,type:n.type,title:n.title||""})}}class qN extends be(){constructor(n,i){super(),i&&k5(this,i),n&&this.set(n)}}var GN=s(991),cee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(GN.A,cee),GN.A.locals;var KN=s(5380),uee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(KN.A,uee),KN.A.locals;const Jb=Tu("px");class Xb extends me{constructor(n){super(n),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const i=this.editor.editing.view,a=i.document.selection.editableElement;return a?i.domConverter.mapViewToDom(a.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(n){return Array.from(this._viewToStack.keys()).includes(n)}add(n){if(this._view||this._createPanelView(),this.hasView(n.view))throw new P("contextualballoon-add-view-exist",[this,n]);const i=n.stackId||"main";if(!this._idToStack.has(i))return this._idToStack.set(i,new Map([[n.view,n]])),this._viewToStack.set(n.view,this._idToStack.get(i)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!n.singleViewMode||this.showStack(i));const a=this._idToStack.get(i);n.singleViewMode&&this.showStack(i),a.set(n.view,n),this._viewToStack.set(n.view,a),a===this._visibleStack&&this._showView(n)}remove(n){if(!this.hasView(n))throw new P("contextualballoon-remove-view-not-exist",[this,n]);const i=this._viewToStack.get(n);this._singleViewMode&&this.visibleView===n&&(this._singleViewMode=!1),this.visibleView===n&&(i.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(i.values())[i.size-2])),i.size===1?(this._idToStack.delete(this._getStackId(i)),this._numberOfStacks=this._idToStack.size):i.delete(n),this._viewToStack.delete(n)}updatePosition(n){n&&(this._visibleStack.get(this.visibleView).position=n),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(n){this.visibleStack=n;const i=this._idToStack.get(n);if(!i)throw new P("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==i&&this._showView(Array.from(i.values()).pop())}_createPanelView(){this._view=new ao(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(n){return Array.from(this._idToStack.entries()).find(i=>i[1]===n)[0]}_showNextStack(){const n=Array.from(this._idToStack.values());let i=n.indexOf(this._visibleStack)+1;n[i]||(i=0),this.showStack(this._getStackId(n[i]))}_showPrevStack(){const n=Array.from(this._idToStack.values());let i=n.indexOf(this._visibleStack)-1;n[i]||(i=n.length-1),this.showStack(this._getStackId(n[i]))}_createRotatorView(){const n=new dee(this.editor.locale),i=this.editor.locale.t;return this.view.content.add(n),n.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(a,c)=>!c&&a>1),n.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),n.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(a,c)=>{if(c<2)return"";const d=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return i("%0 of %1",[d,c])}),n.buttonNextView.on("execute",()=>{n.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),n.buttonPrevView.on("execute",()=>{n.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),n}_createFakePanelsView(){const n=new hee(this.editor.locale,this.view);return n.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(i,a)=>!a&&i>=2?Math.min(i-1,2):0),n.listenTo(this.view,"change:top",()=>n.updatePosition()),n.listenTo(this.view,"change:left",()=>n.updatePosition()),this.editor.ui.view.body.add(n),n}_showView({view:n,balloonClassName:i="",withArrow:a=!0,singleViewMode:c=!1}){this.view.class=i,this.view.withArrow=a,this._rotatorView.showView(n),this.visibleView=n,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),c&&(this._singleViewMode=!0)}_getBalloonPosition(){let n=Array.from(this._visibleStack.values()).pop().position;return n&&(n.limiter||(n=Object.assign({},n,{limiter:this.positionLimiter})),n=Object.assign({},n,{viewportOffsetConfig:this.editor.ui.viewportOffset})),n}}class dee extends We{constructor(n){super(n);const i=n.t,a=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new dr,this.buttonPrevView=this._createButtonView(i("Previous"),rt.previousArrow),this.buttonNextView=this._createButtonView(i("Next"),rt.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",a.to("isNavigationVisible",c=>c?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:a.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(n){this.hideView(),this.content.add(n)}hideView(){this.content.clear()}_createButtonView(n,i){const a=new Mt(this.locale);return a.set({label:n,icon:i,tooltip:!0}),a}}class hee extends We{constructor(n,i){super(n);const a=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=i,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",a.to("numberOfPanels",c=>c?"":"ck-hidden")],style:{top:a.to("top",Jb),left:a.to("left",Jb),width:a.to("width",Jb),height:a.to("height",Jb)}},children:this.content}),this.on("change:numberOfPanels",(c,d,p,g)=>{p>g?this._addPanels(p-g):this._removePanels(g-p),this.updatePosition()})}_addPanels(n){for(;n--;){const i=new We;i.setTemplate({tag:"div"}),this.content.add(i),this.registerChild(i)}}_removePanels(n){for(;n--;){const i=this.content.last;this.content.remove(i),this.deregisterChild(i),i.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:n,left:i}=this._balloonPanelView,{width:a,height:c}=new kt(this._balloonPanelView.element);Object.assign(this,{top:n,left:i,width:a,height:c})}}}var YN=s(8298),pee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(YN.A,pee),YN.A.locals;const Vu=Tu("px");class fee extends We{constructor(n){super(n);const i=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new Ti({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:i.to("isSticky",a=>a?"block":"none"),height:i.to("isSticky",a=>a?Vu(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new Ti({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",i.if("isSticky","ck-sticky-panel__content_sticky"),i.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:i.to("isSticky",a=>a?Vu(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:i.to("_stickyTopOffset",a=>a&&Vu(a)),bottom:i.to("_stickyBottomOffset",a=>a&&Vu(a)),marginLeft:i.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(m.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const n=new kt(this.limiterElement);let i=n.getVisible();if(i){const a=new kt(m.window);a.top+=this.viewportTopOffset,a.height-=this.viewportTopOffset,i=i.getIntersection(a)}if(i&&n.top<i.top){const a=i.top;if(a+this._contentPanelRect.height+this.limiterBottomOffset>i.bottom){const c=Math.max(n.bottom-i.bottom,0)+this.limiterBottomOffset;n.bottom-c>n.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(c):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<n.height?this._stickToTopOfAncestors(a):this._unstick()}else this._unstick()}_stickToTopOfAncestors(n){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=n,this._stickyBottomOffset=null,this._marginLeft=Vu(-m.window.scrollX)}_stickToBottomOfLimiter(n){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=n,this._marginLeft=Vu(-m.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new kt(this.contentPanelElement)}}class mee extends Hb{constructor(n,i){const a=n.t,c=Object.assign({},{showResetButton:!0,showIcon:!0,creator:Gb},i);super(n,c.creator),this.label=i.label,this._viewConfig=c,this._viewConfig.showIcon&&(this.iconView=new $s,this.iconView.content=rt.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new Mt(n),this.resetButtonView.set({label:a("Clear"),icon:rt.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",d=>!d),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class gee extends We{constructor(){super();const n=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",n.if("isVisible","ck-hidden",i=>!i)],tabindex:-1},children:[{tag:"span",children:[{text:[n.to("primaryText")]}]},{tag:"span",children:[{text:[n.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class bee extends We{constructor(n){super(n),this.children=this.createCollection(),this.focusTracker=new dr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new ri({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const n of this.children)this.focusTracker.add(n.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var QN=/[\\^$.*+?()[\]{}|]/g,kee=RegExp(QN.source);const ZN=function(l){return(l=dC(l))&&kee.test(l)?l.replace(QN,"\\$&"):l};var JN=s(8107),vee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(JN.A,vee),JN.A.locals;var wee=Object.defineProperty,XN=Object.getOwnPropertySymbols,yee=Object.prototype.hasOwnProperty,_ee=Object.prototype.propertyIsEnumerable,e4=(l,n,i)=>n in l?wee(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i;class Cee extends We{constructor(n,i){super(n),this._config=i,this.filteredView=i.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new dr,this.keystrokes=new Gr,this.resultsView=new bee(n),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),i.infoView&&i.infoView.instance?this.infoView=i.infoView.instance:(this.infoView=new gee,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new ri({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(a,{resultsCount:c,totalItemsCount:d})=>{this.resultsCount=c,this.totalItemsCount=d}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",i.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const n=i=>i.stopPropagation();for(const i of this.focusableChildren)this.focusTracker.add(i.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",n),this.keystrokes.set("arrowleft",n),this.keystrokes.set("arrowup",n),this.keystrokes.set("arrowdown",n)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(n){const i=n?new RegExp(ZN(n),"ig"):null,a=this.filteredView.filter(i);this.fire("search",((c,d)=>{for(var p in d||(d={}))yee.call(d,p)&&e4(c,p,d[p]);if(XN)for(var p of XN(d))_ee.call(d,p)&&e4(c,p,d[p]);return c})({query:n},a))}_createSearchTextQueryView(){const n=new mee(this.locale,this._config.queryView);return this.listenTo(n.fieldView,"input",()=>{this.search(n.fieldView.element.value)}),n.on("reset",()=>this.reset()),n.bind("isEnabled").to(this),n}_enableDefaultInfoViewBehavior(){const n=this.locale.t,i=this.infoView;function a(c,{query:d,resultsCount:p,totalItemsCount:g}){return typeof c=="function"?c(d,p,g):c}this.on("search",(c,d)=>{if(d.resultsCount)i.set({isVisible:!1});else{const p=this._config.infoView&&this._config.infoView.text;let g,b;d.totalItemsCount?p&&p.notFound?(g=p.notFound.primary,b=p.notFound.secondary):(g=n("No results found"),b=""):p&&p.noSearchableItems?(g=p.noSearchableItems.primary,b=p.noSearchableItems.secondary):(g=n("No searchable items"),b=""),i.set({primaryText:a(g,d),secondaryText:a(b,d),isVisible:!0})}})}}var t4=s(5727),Aee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(t4.A,Aee),t4.A.locals;const eA=class extends Cee{constructor(l,n){super(l,n),this._config=n;const i=Tu("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const a=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[a.if("isVisible","ck-hidden",c=>!c),a.to("_position",c=>`ck-search__results_${c}`)],style:{width:a.to("_width",i)}}}),this.focusTracker.on("change:isFocused",(c,d,p)=>{this._updateResultsVisibility(),p?this.resultsView.element.scrollTop=0:n.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(c,d)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,d())}),this.listenTo(m.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(c,{value:d})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=d,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new kt(this.queryView.fieldView.element).width;const l=eA._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:eA.defaultResultsPositions});this.resultsView._position=l?l.name:"s"}_updateResultsVisibility(){const l=this._config.queryMinChars===void 0?0:this._config.queryMinChars,n=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&n>=l}};let n4=eA;n4.defaultResultsPositions=[l=>({top:l.bottom,left:l.left,name:"s"}),(l,n)=>({top:l.top-n.height,left:l.left,name:"n"})],n4._getOptimalPosition=bb;var r4=s(9529),xee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(r4.A,xee),r4.A.locals;var o4=s(109),Eee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(o4.A,Eee),o4.A.locals;var i4=s(2710),See={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(i4.A,See),i4.A.locals;var s4=s(3344),Dee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(s4.A,Dee),s4.A.locals;class Tee extends Mt{constructor(n){super(n);const i=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",a=>String(a)),"data-cke-tooltip-disabled":i.to("isOn")},on:{mouseenter:i.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const n=new $s;return n.content=Ub,n.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),n}}var a4=s(9481),Iee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(a4.A,Iee),a4.A.locals;class tA extends $u{constructor(n,i){super(n);const a=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:a.to("mouseenter")}}),this.delegate("mouseenter").to(i)}}var Mee=Object.defineProperty,l4=Object.getOwnPropertySymbols,Pee=Object.prototype.hasOwnProperty,Nee=Object.prototype.propertyIsEnumerable,c4=(l,n,i)=>n in l?Mee(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,u4=(l,n)=>{for(var i in n||(n={}))Pee.call(n,i)&&c4(l,i,n[i]);if(l4)for(var i of l4(n))Nee.call(n,i)&&c4(l,i,n[i]);return l};const Dp={toggleMenusAndFocusItemsOnHover(l){l.on("menu:mouseenter",n=>{if(l.isOpen){for(const i of l.menus){const a=n.path[0],c=a instanceof tA&&a.children.first===i;i.isOpen=(n.path.includes(i)||c)&&i.isEnabled}n.source.focus()}})},focusCycleMenusOnArrows(l){const n=l.locale.uiLanguageDirection==="rtl";function i(a,c){const d=l.children.getIndex(a),p=a.isOpen,g=l.children.length,b=l.children.get((d+g+c)%g);a.isOpen=!1,p&&(b.isOpen=!0),b.buttonView.focus()}l.on("menu:arrowright",a=>{i(a.source,n?-1:1)}),l.on("menu:arrowleft",a=>{i(a.source,n?1:-1)})},closeMenusWhenTheBarCloses(l){l.on("change:isOpen",()=>{l.isOpen||l.menus.forEach(n=>{n.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(l){l.on("menu:change:isOpen",(n,i,a)=>{a&&l.menus.filter(c=>n.source.parentMenuView===c.parentMenuView&&n.source!==c&&c.isOpen).forEach(c=>{c.isOpen=!1})})},closeOnClickOutside(l){yb({emitter:l,activator:()=>l.isOpen,callback:()=>l.close(),contextElements:()=>l.children.map(n=>n.element)})}},ec={openAndFocusPanelOnArrowDownKey(l){l.keystrokes.set("arrowdown",(n,i)=>{l.focusTracker.focusedElement===l.buttonView.element&&(l.isOpen||(l.isOpen=!0),l.panelView.focus(),i())})},openOnArrowRightKey(l){const n=l.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";l.keystrokes.set(n,(i,a)=>{l.focusTracker.focusedElement===l.buttonView.element&&l.isEnabled&&(l.isOpen||(l.isOpen=!0),l.panelView.focus(),a())})},openOnButtonClick(l){l.buttonView.on("execute",()=>{l.isOpen=!0,l.panelView.focus()})},toggleOnButtonClick(l){l.buttonView.on("execute",()=>{l.isOpen=!l.isOpen,l.isOpen&&l.panelView.focus()})},closeOnArrowLeftKey(l){const n=l.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";l.keystrokes.set(n,(i,a)=>{l.isOpen&&(l.isOpen=!1,l.focus(),a())})},closeOnEscKey(l){l.keystrokes.set("esc",(n,i)=>{l.isOpen&&(l.isOpen=!1,l.focus(),i())})},closeOnParentClose(l){l.parentMenuView.on("change:isOpen",(n,i,a)=>{a||n.source!==l.parentMenuView||(l.isOpen=!1)})}},Ree={southEast:l=>({top:l.bottom,left:l.left,name:"se"}),southWest:(l,n)=>({top:l.bottom,left:l.left-n.width+l.width,name:"sw"}),northEast:(l,n)=>({top:l.top-n.height,left:l.left,name:"ne"}),northWest:(l,n)=>({top:l.top-n.height,left:l.left-n.width+l.width,name:"nw"}),eastSouth:l=>({top:l.top,left:l.right-5,name:"es"}),eastNorth:(l,n)=>({top:l.top-n.height,left:l.right-5,name:"en"}),westSouth:(l,n)=>({top:l.top,left:l.left-n.width+5,name:"ws"}),westNorth:(l,n)=>({top:l.top-n.height,left:l.left-n.width+5,name:"wn"})},Oee=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:uploadImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment"]},{groupId:"insertMinorWidgets",items:["menuBar:insertTemplate","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function Bee({normalizedConfig:l,locale:n,componentFactory:i}){const a=Pi(l);return function(c,d){const p=d.removeItems,g=[];d.items=d.items.filter(({menuId:b})=>!p.includes(b)||(g.push(b),!1)),Uu(d.items,b=>{b.groups=b.groups.filter(({groupId:w})=>!p.includes(w)||(g.push(w),!1));for(const w of b.groups)w.items=w.items.filter(C=>{const x=p4(C);return!p.includes(x)||(g.push(x),!1)})});for(const b of p)g.includes(b)||z("menu-bar-item-could-not-be-removed",{menuBarConfig:c,itemName:b})}(l,a),function(c,d){const p=d.addItems,g=[];for(const b of p){const w=Fee(b.position),C=zee(b.position);if(Lee(b))if(C){const x=d.items.findIndex(D=>D.menuId===C);x!=-1?w==="before"?(d.items.splice(x,0,b.menu),g.push(b)):w==="after"&&(d.items.splice(x+1,0,b.menu),g.push(b)):d4(d,b.menu,C,w)&&g.push(b)}else w==="start"?(d.items.unshift(b.menu),g.push(b)):w==="end"&&(d.items.push(b.menu),g.push(b));else jee(b)?Uu(d.items,x=>{if(x.menuId===C)w==="start"?(x.groups.unshift(b.group),g.push(b)):w==="end"&&(x.groups.push(b.group),g.push(b));else{const D=x.groups.findIndex(N=>N.groupId===C);D!==-1&&(w==="before"?(x.groups.splice(D,0,b.group),g.push(b)):w==="after"&&(x.groups.splice(D+1,0,b.group),g.push(b)))}}):d4(d,b.item,C,w)&&g.push(b)}for(const b of p)g.includes(b)||z("menu-bar-item-could-not-be-added",{menuBarConfig:c,addedItemConfig:b})}(l,a),function(c,d,p){Uu(d.items,g=>{for(const b of g.groups)b.items=b.items.filter(w=>{const C=typeof w=="string"&&!p.has(w);return C&&!d.isUsingDefaultConfig&&z("menu-bar-item-unavailable",{menuBarConfig:c,parentMenuConfig:Pi(g),componentName:w}),!C})})}(l,a,i),h4(l,a),function(c,d){const p=d.t,g={File:p({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:p({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:p({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:p({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:p({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:p({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:p({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:p({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:p({string:"Font",id:"MENU_BAR_MENU_FONT"})};Uu(c.items,b=>{b.label in g&&(b.label=g[b.label])})}(a,n),a}function d4(l,n,i,a){let c=!1;return Uu(l.items,d=>{for(const{groupId:p,items:g}of d.groups){if(c)return;if(p===i)a==="start"?(g.unshift(n),c=!0):a==="end"&&(g.push(n),c=!0);else{const b=g.findIndex(w=>p4(w)===i);b!==-1&&(a==="before"?(g.splice(b,0,n),c=!0):a==="after"&&(g.splice(b+1,0,n),c=!0))}}}),c}function h4(l,n){const i=n.isUsingDefaultConfig;let a=!1;n.items=n.items.filter(c=>!!c.groups.length||(nA(l,c,i),!1)),n.items.length?(Uu(n.items,c=>{c.groups=c.groups.filter(d=>!!d.items.length||(a=!0,!1));for(const d of c.groups)d.items=d.items.filter(p=>!(f4(p)&&!p.groups.length)||(nA(l,p,i),a=!0,!1))}),a&&h4(l,n)):nA(l,l,i)}function nA(l,n,i){i||z("menu-bar-menu-empty",{menuBarConfig:l,emptyMenuConfig:n})}function Uu(l,n){if(Array.isArray(l))for(const a of l)i(a);function i(a){n(a);for(const c of a.groups)for(const d of c.items)f4(d)&&i(d)}}function Lee(l){return typeof l=="object"&&"menu"in l}function jee(l){return typeof l=="object"&&"group"in l}function Fee(l){return l.startsWith("start")?"start":l.startsWith("end")?"end":l.startsWith("after")?"after":"before"}function zee(l){const n=l.match(/^[^:]+:(.+)/);return n?n[1]:null}function p4(l){return typeof l=="string"?l:l.menuId}function f4(l){return typeof l=="object"&&"menuId"in l}function $ee(l,n){const i=n.element;l.ui.focusTracker.add(i),l.keystrokes.listenTo(i);const a=function(c){let d;return d="items"in c&&c.items?u4({items:c.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1},c):u4({items:Pi(Oee),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0},c),d}(l.config.get("menuBar")||{});n.fillFromConfig(a,l.ui.componentFactory),l.keystrokes.set("Esc",(c,d)=>{i.contains(l.ui.focusTracker.focusedElement)&&(l.editing.view.focus(),d())}),l.keystrokes.set("Alt+F9",(c,d)=>{i.contains(l.ui.focusTracker.focusedElement)||(n.focus(),d())})}var m4=s(9108),Vee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(m4.A,Vee),m4.A.locals;class Uee extends We{constructor(n){super(n);const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",i.to("position",a=>`ck-menu-bar__menu__panel_position_${a}`),i.if("isVisible","ck-hidden",a=>!a)],tabindex:"-1"},children:this.children,on:{selectstart:i.to(a=>{a.target.tagName.toLocaleLowerCase()!=="input"&&a.preventDefault()})}})}focus(n=1){this.children.length&&(n===1?this.children.first.focus():this.children.last.focus())}}var g4=s(4),Hee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(g4.A,Hee),g4.A.locals;const b4=class extends We{constructor(l){super(l);const n=this.bindTemplate;this.buttonView=new Tee(l),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new Uee(l),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Gr,this.focusTracker=new dr,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",n.to("class"),n.if("isEnabled","ck-disabled",i=>!i),n.if("parentMenuView","ck-menu-bar__menu_top-level",i=>!i)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),ec.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(ec.openOnButtonClick(this),ec.openOnArrowRightKey(this),ec.closeOnArrowLeftKey(this),ec.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),ec.openAndFocusPanelOnArrowDownKey(this),ec.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(l,n)=>{this.fire("arrowright"),n()}),this.keystrokes.set("arrowleft",(l,n)=>{this.fire("arrowleft"),n()})}_repositionPanelOnOpen(){this.on("change:isOpen",(l,n,i)=>{if(!i)return;const a=b4._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=a?a.name:this._panelPositions[0].name})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:l,southWest:n,northEast:i,northWest:a,westSouth:c,eastSouth:d,westNorth:p,eastNorth:g}=Ree;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[d,g,c,p]:[l,n,i,a]:this.parentMenuView?[c,p,d,g]:[n,l,a,i]}};let Hu=b4;Hu._getOptimalPosition=bb;class rA extends GC{constructor(n){super(n),this.role="menu"}}var k4=s(977),Wee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(k4.A,Wee),k4.A.locals;class Mo extends Mt{constructor(n){super(n),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class v4 extends ZP{constructor(n){super(n),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var w4=s(497),qee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(w4.A,qee),w4.A.locals;const y4=["mouseenter","arrowleft","arrowright","change:isOpen"];class Gee extends We{constructor(n){super(n),this.menus=[];const i=n.t;this.set("isOpen",!1),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar"],"aria-label":i("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(n,i){const a=Bee({normalizedConfig:n,locale:this.locale,componentFactory:i}).items.map(c=>this._createMenu({componentFactory:i,menuDefinition:c}));this.children.addMany(a)}render(){super.render(),Dp.toggleMenusAndFocusItemsOnHover(this),Dp.closeMenusWhenTheBarCloses(this),Dp.closeMenuWhenAnotherOnTheSameLevelOpens(this),Dp.focusCycleMenusOnArrows(this),Dp.closeOnClickOutside(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const n of this.children)n.isOpen=!1}registerMenu(n,i=null){i?(n.delegate(...y4).to(i),n.parentMenuView=i):n.delegate(...y4).to(this,a=>"menu:"+a),n._attachBehaviors(),this.menus.push(n)}_createMenu({componentFactory:n,menuDefinition:i,parentMenuView:a}){const c=this.locale,d=new Hu(c);return this.registerMenu(d,a),d.buttonView.set({label:i.label}),d.once("change:isOpen",()=>{const p=new rA(c);p.ariaLabel=i.label,d.panelView.children.add(p),p.items.addMany(this._createMenuItems({menuDefinition:i,parentMenuView:d,componentFactory:n}))}),d}_createMenuItems({menuDefinition:n,parentMenuView:i,componentFactory:a}){const c=this.locale,d=[];for(const p of n.groups){for(const g of p.items){const b=new tA(c,i);if(Se(g))b.children.add(this._createMenu({componentFactory:a,menuDefinition:g,parentMenuView:i}));else{const w=this._createMenuItemContentFromFactory({componentName:g,componentFactory:a,parentMenuView:i});if(!w)continue;b.children.add(w)}d.push(b)}p!==n.groups[n.groups.length-1]&&d.push(new qC(c))}return d}_createMenuItemContentFromFactory({componentName:n,parentMenuView:i,componentFactory:a}){const c=a.create(n);return c instanceof Hu||c instanceof Mo||c instanceof v4?(this._registerMenuTree(c,i),c.on("execute",()=>{this.close()}),c):(z("menu-bar-component-unsupported",{componentName:n,componentView:c}),null)}_registerMenuTree(n,i){if(!(n instanceof Hu))return void n.delegate("mouseenter").to(i);this.registerMenu(n,i);const a=n.panelView.children.filter(d=>d instanceof rA)[0];if(!a)return void n.delegate("mouseenter").to(i);const c=a.items.filter(d=>d instanceof $u);for(const d of c)this._registerMenuTree(d.children.get(0),n)}_setupIsOpenUpdater(){let n;this.on("menu:change:isOpen",(i,a,c)=>{clearTimeout(n),c?this.isOpen=!0:n=setTimeout(()=>{this.isOpen=Array.from(this.children).some(d=>d.isOpen)},0)})}}class Kee extends ree{constructor(n,i){super(n),this.view=i,this._toolbarConfig=lN(n.config.get("toolbar")),this._elementReplacer=new Ot,this.listenTo(n.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(n){const i=this.editor,a=this.view,c=i.editing.view,d=a.editable,p=c.document.getRoot();d.name=p.rootName,a.render();const g=d.element;this.setEditableElement(d.name,g),a.editable.bind("isFocused").to(this.focusTracker),c.attachDomRoot(g),n&&this._elementReplacer.replace(n,this.element),this._initPlaceholder(),this._initToolbar(),a.menuBarView&&$ee(i,a.menuBarView),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const n=this.view,i=this.editor.editing.view;this._elementReplacer.restore(),i.detachDomRoot(n.editable.name),n.destroy()}_initToolbar(){const n=this.view;n.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),n.stickyPanel.limiterElement=n.element,n.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:i})=>i||0),n.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(n.toolbar)}_initPlaceholder(){const n=this.editor,i=n.editing.view,a=i.document.getRoot(),c=n.sourceElement;let d;const p=n.config.get("placeholder");p&&(d=typeof p=="string"?p:p[this.view.editable.name]),!d&&c&&c.tagName.toLowerCase()==="textarea"&&(d=c.getAttribute("placeholder")),d&&(a.placeholder=d),WM({view:i,element:a,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(n,i,a){const c=this.view.stickyPanel;if(c.isSticky){const d=new kt(c.element).height;i.viewportOffset.top+=d}else{const d=()=>{this.editor.editing.view.scrollToTheSelection(a)};this.listenTo(c,"change:isSticky",d),setTimeout(()=>{this.stopListening(c,"change:isSticky",d)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const n=this.view.stickyPanel,i=this.editor.plugins.get("Dialog");i.on("show",()=>{const a=i.view;a.on("moveTo",(c,d)=>{if(!n.isSticky||a.wasMoved)return;const p=new kt(n.contentPanelElement);d[1]<p.bottom+Yb.defaultOffset&&(d[1]=p.bottom+Yb.defaultOffset)},{priority:"high"})},{priority:"low"})}}var _4=s(7388),Yee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(_4.A,Yee),_4.A.locals;class Qee extends see{constructor(n,i,a={}){super(n),this.stickyPanel=new fee(n),this.toolbar=new WC(n,{shouldGroupWhenFull:a.shouldToolbarGroupWhenFull}),a.useMenuBar&&(this.menuBarView=new Gee(n)),this.editable=new lee(n,i)}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class C4{constructor(n){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof n.crashNumberLimit=="number"?n.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof n.minimumNonErrorTimePeriod=="number"?n.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=i=>{const a="error"in i?i.error:i.reason;a instanceof Error&&this._handleError(a,i)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(n,i){this._listeners[n]||(this._listeners[n]=[]),this._listeners[n].push(i)}off(n,i){this._listeners[n]=this._listeners[n].filter(a=>a!==i)}_fire(n,...i){const a=this._listeners[n]||[];for(const c of a)c.apply(this,[null,...i])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(n,i){if(this._shouldReactToError(n)){this.crashes.push({message:n.message,stack:n.stack,filename:i instanceof ErrorEvent?i.filename:void 0,lineno:i instanceof ErrorEvent?i.lineno:void 0,colno:i instanceof ErrorEvent?i.colno:void 0,date:this._now()});const a=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:n,causesRestart:a}),a?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(n){return n.is&&n.is("CKEditorError")&&n.context!==void 0&&n.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(n)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function oA(l,n=new Set){const i=[l],a=new Set;let c=0;for(;i.length>c;){const d=i[c++];if(!a.has(d)&&Zee(d)&&!n.has(d))if(a.add(d),Symbol.iterator in d)try{for(const p of d)i.push(p)}catch{}else for(const p in d)p!=="defaultValue"&&i.push(d[p])}return a}function Zee(l){const n=Object.prototype.toString.call(l),i=typeof l;return!(i==="number"||i==="boolean"||i==="string"||i==="symbol"||i==="function"||n==="[object Date]"||n==="[object RegExp]"||n==="[object Module]"||l==null||l._watchdogExcluded||l instanceof EventTarget||l instanceof Event)}function A4(l,n,i=new Set){if(l===n&&typeof(a=l)=="object"&&a!==null)return!0;var a;const c=oA(l,i),d=oA(n,i);for(const p of c)if(d.has(p))return!0;return!1}var Jee=Object.defineProperty,Xee=Object.defineProperties,ete=Object.getOwnPropertyDescriptors,ek=Object.getOwnPropertySymbols,x4=Object.prototype.hasOwnProperty,E4=Object.prototype.propertyIsEnumerable,S4=(l,n,i)=>n in l?Jee(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,iA=(l,n)=>{for(var i in n||(n={}))x4.call(n,i)&&S4(l,i,n[i]);if(ek)for(var i of ek(n))E4.call(n,i)&&S4(l,i,n[i]);return l};class D4 extends C4{constructor(n,i={}){super(i),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=Zb(this._save.bind(this),typeof i.saveInterval=="number"?i.saveInterval:5e3),n&&(this._creator=(a,c)=>n.create(a,c)),this._destructor=a=>a.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(n){this._creator=n}setDestructor(n){this._destructor=n}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(n=>{console.error("An error happened during the editor destroying.",n)}).then(()=>{const n={},i=[],a=this._config.rootsAttributes||{},c={};for(const[b,w]of Object.entries(this._data.roots))w.isLoaded?(n[b]="",c[b]=a[b]||{}):i.push(b);const d=(p=iA({},this._config),g={extraPlugins:this._config.extraPlugins||[],lazyRoots:i,rootsAttributes:c,_watchdogInitialData:this._data},Xee(p,ete(g)));var p,g;return delete d.initialData,d.extraPlugins.push(tte),this._initUsingData?this.create(n,d,d.context):Ul(this._elementOrData)?this.create(this._elementOrData,d,d.context):this.create(this._editables,d,d.context)}).then(()=>{this._fire("restart")})}create(n=this._elementOrData,i=this._config,a){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=n,this._initUsingData=typeof n=="string"||Object.keys(n).length>0&&typeof Object.values(n)[0]=="string",this._config=this._cloneEditorConfiguration(i)||{},this._config.context=a,this._creator(n,this._config))).then(c=>{this._editor=c,c.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=c.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const n=this._editor;return this._editor=null,n.model.document.off("change:data",this._throttledSave),this._destructor(n)})}_save(){const n=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=n}catch(i){console.error(i,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(n){this._excludedProps=n}_getData(){const n=this._editor,i=n.model.document.roots.filter(g=>g.isAttached()&&g.rootName!="$graveyard"),{plugins:a}=n,c=a.has("CommentsRepository")&&a.get("CommentsRepository"),d=a.has("TrackChanges")&&a.get("TrackChanges"),p={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};i.forEach(g=>{p.roots[g.rootName]={content:JSON.stringify(Array.from(g.getChildren())),attributes:JSON.stringify(Array.from(g.getAttributes())),isLoaded:g._isLoaded}});for(const g of n.model.markers)g._affectsData&&(p.markers[g.name]={rangeJSON:g.getRange().toJSON(),usingOperation:g._managedUsingOperations,affectsData:g._affectsData});return c&&(p.commentThreads=JSON.stringify(c.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),d&&(p.suggestions=JSON.stringify(d.getSuggestions({toJSON:!0,skipNotAttached:!0}))),p}_getEditables(){const n={};for(const i of this.editor.model.document.getRootNames()){const a=this.editor.ui.getEditableElement(i);a&&(n[i]=a)}return n}_isErrorComingFromThisItem(n){return A4(this._editor,n.context,this._excludedProps)}_cloneEditorConfiguration(n){return Y_(n,(i,a)=>Ul(i)||a==="context"?i:void 0)}}class tte{constructor(n){this.editor=n,this._data=n.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",n=>{n.stop(),this.editor.model.enqueueChange({isUndoable:!1},i=>{this._restoreCollaborationData(),this._restoreEditorData(i)}),this.editor.data.fire("ready")},{priority:999})}_createNode(n,i){if("name"in i){const a=n.createElement(i.name,i.attributes);if(i.children)for(const c of i.children)a._appendChild(this._createNode(n,c));return a}return n.createText(i.data,i.attributes)}_restoreEditorData(n){const i=this.editor;Object.entries(this._data.roots).forEach(([a,{content:c,attributes:d}])=>{const p=JSON.parse(c),g=JSON.parse(d),b=i.model.document.getRoot(a);for(const[w,C]of g)n.setAttribute(w,C,b);for(const w of p){const C=this._createNode(n,w);n.insert(C,b,"end")}}),Object.entries(this._data.markers).forEach(([a,c])=>{const{document:d}=i.model,p=c,{rangeJSON:{start:g,end:b}}=p,w=((B,F)=>{var U={};for(var W in B)x4.call(B,W)&&F.indexOf(W)<0&&(U[W]=B[W]);if(B!=null&&ek)for(var W of ek(B))F.indexOf(W)<0&&E4.call(B,W)&&(U[W]=B[W]);return U})(p,["rangeJSON"]),C=d.getRoot(g.root),x=n.createPositionFromPath(C,g.path,g.stickiness),D=n.createPositionFromPath(C,b.path,b.stickiness),N=n.createRange(x,D);n.addMarker(a,iA({range:N},w))})}_restoreCollaborationData(){const n=JSON.parse(this._data.commentThreads),i=JSON.parse(this._data.suggestions);n.forEach(a=>{const c=this.editor.config.get("collaboration.channelId"),d=this.editor.plugins.get("CommentsRepository");d.hasCommentThread(a.threadId)&&d.getCommentThread(a.threadId).remove(),d.addCommentThread(iA({channelId:c},a))}),i.forEach(a=>{const c=this.editor.plugins.get("TrackChangesEditing");c.hasSuggestion(a.id)?c.getSuggestion(a.id).attributes=a.attributes:c.addSuggestionData(a)})}}const Tp=Symbol("MainQueueId");class nte{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(n){this._onEmptyCallbacks.push(n)}enqueue(n,i){const a=n===Tp;this._activeActions++,this._queues.get(n)||this._queues.set(n,Promise.resolve());const c=(a?Promise.all(this._queues.values()):Promise.all([this._queues.get(Tp),this._queues.get(n)])).then(i),d=c.catch(()=>{});return this._queues.set(n,d),c.finally(()=>{this._activeActions--,this._queues.get(n)===d&&this._activeActions===0&&this._onEmptyCallbacks.forEach(p=>p())})}}function T4(l){return Array.isArray(l)?l:[l]}class tk extends $C(jJ){constructor(n,i={}){if(!nk(n)&&i.initialData!==void 0)throw new P("editor-create-initial-data",null);super(i),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",function(p){return nk(p)?(g=p,g instanceof HTMLTextAreaElement?g.value:g.innerHTML):p;var g}(n)),nk(n)&&(this.sourceElement=n),this.model.document.createRoot();const a=!this.config.get("toolbar.shouldNotGroupWhenFull"),c=this.config.get("menuBar"),d=new Qee(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:a,useMenuBar:c.isVisible});this.ui=new Kee(this,d),function(p){if(!Bs(p.updateSourceElement))throw new P("attachtoform-missing-elementapi-interface",p);const g=p.sourceElement;if(function(b){return!!b&&b.tagName.toLowerCase()==="textarea"}(g)&&g.form){let b;const w=g.form,C=()=>p.updateSourceElement();Bs(w.submit)&&(b=w.submit,w.submit=()=>{C(),b.apply(w)}),w.addEventListener("submit",C),p.on("destroy",()=>{w.removeEventListener("submit",C),b&&(w.submit=b)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(n,i={}){return new Promise(a=>{const c=new this(n,i);a(c.initPlugins().then(()=>c.ui.init(nk(n)?n:null)).then(()=>c.data.init(c.config.get("initialData"))).then(()=>c.fire("ready")).then(()=>c))})}}function nk(l){return Ul(l)}tk.Context=VM,tk.EditorWatchdog=D4,tk.ContextWatchdog=class extends C4{constructor(l,n={}){super(n),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new nte,this._watchdogConfig=n,this._creator=i=>l.create(i),this._destructor=i=>i.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(l){this._creator=l}setDestructor(l){this._destructor=l}get context(){return this._context}create(l={}){return this._actionQueues.enqueue(Tp,()=>(this._contextConfig=l,this._create()))}getItem(l){return this._getWatchdog(l)._item}getItemState(l){return this._getWatchdog(l).state}add(l){const n=T4(l);return Promise.all(n.map(i=>this._actionQueues.enqueue(i.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let a;if(this._watchdogs.has(i.id))throw new Error(`Item with the given id is already added: '${i.id}'.`);if(i.type==="editor")return a=new D4(null,this._watchdogConfig),a.setCreator(i.creator),a._setExcludedProperties(this._contextProps),i.destructor&&a.setDestructor(i.destructor),this._watchdogs.set(i.id,a),a.on("error",(c,{error:d,causesRestart:p})=>{this._fire("itemError",{itemId:i.id,error:d}),p&&this._actionQueues.enqueue(i.id,()=>new Promise(g=>{const b=()=>{a.off("restart",b),this._fire("itemRestart",{itemId:i.id}),g()};a.on("restart",b)}))}),a.create(i.sourceElementOrData,i.config,this._context);throw new Error(`Not supported item type: '${i.type}'.`)})))}remove(l){const n=T4(l);return Promise.all(n.map(i=>this._actionQueues.enqueue(i,()=>{const a=this._getWatchdog(i);return this._watchdogs.delete(i),a.destroy()})))}destroy(){return this._actionQueues.enqueue(Tp,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Tp,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(l=>{console.error("An error happened during destroying the context or items.",l)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(l=>(this._context=l,this._contextProps=oA(this._context),Promise.all(Array.from(this._watchdogs.values()).map(n=>(n._setExcludedProperties(this._contextProps),n.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const l=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(n=>n.destroy())).then(()=>this._destructor(l))})}_getWatchdog(l){const n=this._watchdogs.get(l);if(!n)throw new Error(`Item with the given id was not registered: ${l}.`);return n}_isErrorComingFromThisItem(l){for(const n of this._watchdogs.values())if(n._isErrorComingFromThisItem(l))return!1;return A4(this._context,l.context)}};class Ip extends Ta{constructor(n){super(n),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const i=this.document;function a(c){return(d,p)=>{p.preventDefault();const g=p.dropRange?[p.dropRange]:null,b=new T(i,c);i.fire(b,{dataTransfer:p.dataTransfer,method:d.name,targetRanges:g,target:p.target,domEvent:p.domEvent}),b.stop.called&&p.stopPropagation()}}this.listenTo(i,"paste",a("clipboardInput"),{priority:"low"}),this.listenTo(i,"drop",a("clipboardInput"),{priority:"low"}),this.listenTo(i,"dragover",a("dragging"),{priority:"low"})}onDomEvent(n){const i="clipboardData"in n?n.clipboardData:n.dataTransfer,a=n.type=="drop"||n.type=="paste",c={dataTransfer:new E5(i,{cacheFiles:a})};n.type!="drop"&&n.type!="dragover"||(c.dropRange=function(d,p){const g=p.target.ownerDocument,b=p.clientX,w=p.clientY;let C;return g.caretRangeFromPoint&&g.caretRangeFromPoint(b,w)?C=g.caretRangeFromPoint(b,w):p.rangeParent&&(C=g.createRange(),C.setStart(p.rangeParent,p.rangeOffset),C.collapse(!0)),C?d.domConverter.domRangeToView(C):null}(this.view,n)),this.fire(n.type,n,c)}}const I4=["figcaption","li"],M4=["ol","ul"];function P4(l){if(l.is("$text")||l.is("$textProxy"))return l.data;if(l.is("element","img")&&l.hasAttribute("alt"))return l.getAttribute("alt");if(l.is("element","br"))return`
`;let n="",i=null;for(const a of l.getChildren())n+=rte(a,i)+P4(a),i=a;return n}function rte(l,n){return n?l.is("element","li")&&!l.isEmpty&&l.getChild(0).is("containerElement")||M4.includes(l.name)&&M4.includes(n.name)?`

`:l.is("containerElement")||n.is("containerElement")?I4.includes(l.name)||I4.includes(n.name)?`
`:`

`:"":""}const ote=function(l,n){return l&&wM(l,n,sp)},ite=function(l,n,i,a){var c=i.length,d=c;if(l==null)return!d;for(l=Object(l);c--;){var p=i[c];if(p[2]?p[1]!==l[p[0]]:!(p[0]in l))return!1}for(;++c<d;){var g=(p=i[c])[0],b=l[g],w=p[1];if(p[2]){if(b===void 0&&!(g in l))return!1}else{var C=new xu,x;if(!(x===void 0?Ob(w,b,3,a,C):x))return!1}}return!0},N4=function(l){return l==l&&!Se(l)},ste=function(l){for(var n=sp(l),i=n.length;i--;){var a=n[i],c=l[a];n[i]=[a,c,N4(c)]}return n},R4=function(l,n){return function(i){return i!=null&&i[l]===n&&(n!==void 0||l in Object(i))}},ate=function(l){var n=ste(l);return n.length==1&&n[0][2]?R4(n[0][0],n[0][1]):function(i){return i===l||ite(i,l,n)}},lte=function(l,n){return l!=null&&n in Object(l)},cte=function(l,n,i){for(var a=-1,c=(n=Eb(n,l)).length,d=!1;++a<c;){var p=Pu(n[a]);if(!(d=l!=null&&i(l,p)))break;l=l[p]}return d||++a!=c?d:!!(c=l==null?0:l.length)&&B_(c)&&db(p,c)&&(un(l)||ub(l))},ute=function(l,n){return l!=null&&cte(l,n,lte)},dte=function(l,n){return cC(l)&&N4(n)?R4(Pu(l),n):function(i){var a=pp(i,l);return a===void 0&&a===n?ute(i,l):Ob(n,a,3)}},hte=function(l){return function(n){return n==null?void 0:n[l]}},pte=function(l){return function(n){return hC(n,l)}},fte=function(l){return cC(l)?hte(Pu(l)):pte(l)},mte=function(l){return typeof l=="function"?l:l==null?Da:typeof l=="object"?un(l)?dte(l[0],l[1]):ate(l):fte(l)},gte=function(l,n){var i={};return n=mte(n),ote(l,function(a,c,d){cb(i,c,n(a,c,d))}),i};var bte=Object.defineProperty,kte=Object.defineProperties,vte=Object.getOwnPropertyDescriptors,O4=Object.getOwnPropertySymbols,wte=Object.prototype.hasOwnProperty,yte=Object.prototype.propertyIsEnumerable,B4=(l,n,i)=>n in l?bte(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i;class Mp extends me{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(n,i){this._markersToCopy.set(n,i)}_copySelectedFragmentWithMarkers(n,i,a=c=>c.model.getSelectedContent(c.model.document.selection)){return this.editor.model.change(c=>{const d=c.model.document.selection;c.setSelection(i);const p=this._insertFakeMarkersIntoSelection(c,c.model.document.selection,n),g=a(c),b=this._removeFakeMarkersInsideElement(c,g);for(const[w,C]of Object.entries(p)){b[w]||(b[w]=c.createRangeIn(g));for(const x of C)c.remove(x)}g.markers.clear();for(const[w,C]of Object.entries(b))g.markers.set(w,C);return c.setSelection(d),g})}_pasteMarkersIntoTransformedElement(n,i){const a=this._getPasteMarkersFromRangeMap(n);return this.editor.model.change(c=>{const d=this._insertFakeMarkersElements(c,a),p=i(c),g=this._removeFakeMarkersInsideElement(c,p);for(const b of Object.values(d).flat())c.remove(b);for(const[b,w]of Object.entries(g))c.model.markers.has(b)||c.addMarker(b,{usingOperation:!0,affectsData:!0,range:w});return p})}_pasteFragmentWithMarkers(n){const i=this._getPasteMarkersFromRangeMap(n.markers);n.markers.clear();for(const a of i)n.markers.set(a.name,a.range);return this.editor.model.insertContent(n)}_forceMarkersCopy(n,i,a={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const c=this._markersToCopy.get(n);this._markersToCopy.set(n,a),i(),c?this._markersToCopy.set(n,c):this._markersToCopy.delete(n)}_isMarkerCopyable(n,i){const a=this._getMarkerClipboardConfig(n);if(!a)return!1;if(!i)return!0;const{allowedActions:c}=a;return c==="all"||c.includes(i)}_hasMarkerConfiguration(n){return!!this._getMarkerClipboardConfig(n)}_getMarkerClipboardConfig(n){const[i]=n.split(":");return this._markersToCopy.get(i)||null}_insertFakeMarkersIntoSelection(n,i,a){const c=this._getCopyableMarkersFromSelection(n,i,a);return this._insertFakeMarkersElements(n,c)}_getCopyableMarkersFromSelection(n,i,a){const c=Array.from(i.getRanges()),d=new Set(c.flatMap(p=>Array.from(n.model.markers.getMarkersIntersectingRange(p))));return Array.from(d).filter(p=>{if(!this._isMarkerCopyable(p.name,a))return!1;const{copyPartiallySelected:g}=this._getMarkerClipboardConfig(p.name);if(!g){const b=p.getRange();return c.some(w=>w.containsRange(b,!0))}return!0}).map(p=>({name:a==="dragstart"?this._getUniqueMarkerName(p.name):p.name,range:p.getRange()}))}_getPasteMarkersFromRangeMap(n,i=null){const{model:a}=this.editor;return(n instanceof Map?Array.from(n.entries()):Object.entries(n)).flatMap(([c,d])=>{if(!this._hasMarkerConfiguration(c))return[{name:c,range:d}];if(this._isMarkerCopyable(c,i)){const p=this._getMarkerClipboardConfig(c),g=a.markers.has(c)&&a.markers.get(c).getRange().root.rootName==="$graveyard";return(p.duplicateOnPaste||g)&&(c=this._getUniqueMarkerName(c)),[{name:c,range:d}]}return[]})}_insertFakeMarkersElements(n,i){const a={},c=i.flatMap(d=>{const{start:p,end:g}=d.range;return[{position:p,marker:d,type:"start"},{position:g,marker:d,type:"end"}]}).sort(({position:d},{position:p})=>d.isBefore(p)?1:-1);for(const{position:d,marker:p,type:g}of c){const b=n.createElement("$marker",{"data-name":p.name,"data-type":g});a[p.name]||(a[p.name]=[]),a[p.name].push(b),n.insert(b,d)}return a}_removeFakeMarkersInsideElement(n,i){const a=this._getAllFakeMarkersFromElement(n,i).reduce((c,d)=>{const p=d.markerElement&&n.createPositionBefore(d.markerElement);let g=c[d.name],b=!1;g&&g.start&&g.end&&(this._getMarkerClipboardConfig(d.name).duplicateOnPaste?c[this._getUniqueMarkerName(d.name)]=c[d.name]:b=!0,g=null);var w,C;return b||(c[d.name]=(w=((x,D)=>{for(var N in D||(D={}))wte.call(D,N)&&B4(x,N,D[N]);if(O4)for(var N of O4(D))yte.call(D,N)&&B4(x,N,D[N]);return x})({},g),C={[d.type]:p},kte(w,vte(C)))),d.markerElement&&n.remove(d.markerElement),c},{});return gte(a,c=>new ie(c.start||n.createPositionFromPath(i,[0]),c.end||n.createPositionAt(i,"end")))}_getAllFakeMarkersFromElement(n,i){const a=Array.from(n.createRangeIn(i)).flatMap(({item:p})=>{if(!p.is("element","$marker"))return[];const g=p.getAttribute("data-name"),b=p.getAttribute("data-type");return[{markerElement:p,name:g,type:b}]}),c=[],d=[];for(const p of a)p.type==="end"&&(a.some(g=>g.name===p.name&&g.type==="start")||c.push({markerElement:null,name:p.name,type:"start"})),p.type==="start"&&(a.some(g=>g.name===p.name&&g.type==="end")||d.unshift({markerElement:null,name:p.name,type:"end"}));return[...c,...a,...d]}_getUniqueMarkerName(n){const i=n.split(":"),a=O().substring(1,6);return i.length===3?`${i.slice(0,2).join(":")}:${a}`:`${i.join(":")}:${a}`}}class oi extends me{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[Mp]}init(){this.editor.editing.view.addObserver(Ip),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(n,i,a){const c=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:a==="cut"},()=>{const d=c._copySelectedFragmentWithMarkers(a,i);this.fire("outputTransformation",{dataTransfer:n,content:d,method:a})})}_setupPasteDrop(){const n=this.editor,i=n.model,a=n.editing.view,c=a.document,d=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(c,"clipboardInput",(p,g)=>{g.method!="paste"||n.model.canEditAt(n.model.document.selection)||p.stop()},{priority:"highest"}),this.listenTo(c,"clipboardInput",(p,g)=>{const b=g.dataTransfer;let w;if(g.content)w=g.content;else{let D="";b.getData("text/html")?D=function(N){return N.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(B,F)=>F.length==1?" ":F).replace(/<!--[\s\S]*?-->/g,"")}(b.getData("text/html")):b.getData("text/plain")&&(((C=(C=b.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||C.includes("<br>"))&&(C=`<p>${C}</p>`),D=C),w=this.editor.data.htmlProcessor.toView(D)}var C;const x=new T(this,"inputTransformation");this.fire(x,{content:w,dataTransfer:b,targetRanges:g.targetRanges,method:g.method}),x.stop.called&&p.stop(),a.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(p,g)=>{if(g.content.isEmpty)return;const b=this.editor.data.toModel(g.content,"$clipboardHolder");b.childCount!=0&&(p.stop(),i.change(()=>{this.fire("contentInsertion",{content:b,method:g.method,dataTransfer:g.dataTransfer,targetRanges:g.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(p,g)=>{g.resultRange=d._pasteFragmentWithMarkers(g.content)},{priority:"low"})}_setupCopyCut(){const n=this.editor,i=n.model.document,a=n.editing.view.document,c=(d,p)=>{const g=p.dataTransfer;p.preventDefault(),this._fireOutputTransformationEvent(g,i.selection,d.name)};this.listenTo(a,"copy",c,{priority:"low"}),this.listenTo(a,"cut",(d,p)=>{n.model.canEditAt(n.model.document.selection)?c(d,p):p.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(d,p)=>{const g=n.data.toView(p.content);a.fire("clipboardOutput",{dataTransfer:p.dataTransfer,content:g,method:p.method})},{priority:"low"}),this.listenTo(a,"clipboardOutput",(d,p)=>{p.content.isEmpty||(p.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(p.content)),p.dataTransfer.setData("text/plain",P4(p.content))),p.method=="cut"&&n.model.deleteContent(i.selection)},{priority:"low"})}}class L4{constructor(n,i=20){this._batch=null,this.model=n,this._size=0,this.limit=i,this._isLocked=!1,this._changeCallback=(a,c)=>{c.isLocal&&c.isUndoable&&c!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(n){this._size+=n,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(n=!1){this.isLocked&&!n||(this._batch=null,this._size=0)}}class _te extends ft{constructor(n,i){super(n),this._buffer=new L4(n.model,i),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(n={}){const i=this.editor.model,a=i.document,c=n.text||"",d=c.length;let p=a.selection;if(n.selection?p=n.selection:n.range&&(p=i.createSelection(n.range)),!i.canEditAt(p))return;const g=n.resultRange;i.enqueueChange(this._buffer.batch,b=>{this._buffer.lock();const w=Array.from(a.selection.getAttributes());i.deleteContent(p),c&&i.insertContent(b.createText(c,w),p),g?b.setSelection(g):p.is("documentSelection")||b.setSelection(p),this._buffer.unlock(),this._buffer.input(d)})}}const j4=["insertText","insertReplacementText"];class Cte extends Xi{constructor(n){super(n),this.focusObserver=n.getObserver(Bb),v.isAndroid&&j4.push("insertCompositionText");const i=n.document;i.on("beforeinput",(a,c)=>{if(!this.isEnabled)return;const{data:d,targetRanges:p,inputType:g,domEvent:b}=c;if(!j4.includes(g))return;this.focusObserver.flush();const w=new T(i,"insertText");i.fire(w,new Bu(n,b,{text:d,selection:n.createSelection(p)})),w.stop.called&&a.stop()}),i.on("compositionend",(a,{data:c,domEvent:d})=>{this.isEnabled&&!v.isAndroid&&c&&i.fire("insertText",new Bu(n,d,{text:c,selection:i.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class F4 extends me{static get pluginName(){return"Input"}init(){const n=this.editor,i=n.model,a=n.editing.view,c=i.document.selection;a.addObserver(Cte);const d=new _te(n,n.config.get("typing.undoStep")||20);n.commands.add("insertText",d),n.commands.add("input",d),this.listenTo(a.document,"insertText",(p,g)=>{a.document.isComposing||g.preventDefault();const{text:b,selection:w,resultRange:C}=g,x=Array.from(w.getRanges()).map(B=>n.editing.mapper.toModelRange(B));let D=b;if(v.isAndroid){const B=Array.from(x[0].getItems()).reduce((F,U)=>F+(U.is("$textProxy")?U.data:""),"");B&&(B.length<=D.length?D.startsWith(B)&&(D=D.substring(B.length),x[0].start=x[0].start.getShiftedBy(B.length)):B.startsWith(D)&&(x[0].start=x[0].start.getShiftedBy(D.length),D=""))}const N={text:D,selection:i.createSelection(x)};C&&(N.resultRange=n.editing.mapper.toModelRange(C)),n.execute("insertText",N),a.scrollToTheSelection()}),v.isAndroid?this.listenTo(a.document,"keydown",(p,g)=>{!c.isCollapsed&&g.keyCode==229&&a.document.isComposing&&z4(i,d)}):this.listenTo(a.document,"compositionstart",()=>{c.isCollapsed||z4(i,d)})}}function z4(l,n){if(!n.isEnabled)return;const i=n.buffer;i.lock(),l.enqueueChange(i.batch,()=>{l.deleteContent(l.document.selection)}),i.unlock()}class $4 extends ft{constructor(n,i){super(n),this.direction=i,this._buffer=new L4(n.model,n.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(n={}){const i=this.editor.model,a=i.document;i.enqueueChange(this._buffer.batch,c=>{this._buffer.lock();const d=c.createSelection(n.selection||a.selection);if(!i.canEditAt(d))return;const p=n.sequence||1,g=d.isCollapsed;if(d.isCollapsed&&i.modifySelection(d,{direction:this.direction,unit:n.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(p))return void this._replaceEntireContentWithParagraph(c);if(this._shouldReplaceFirstBlockWithParagraph(d,p))return void this.editor.execute("paragraph",{selection:d});if(d.isCollapsed)return;let b=0;d.getFirstRange().getMinimalFlatRanges().forEach(w=>{b+=nt(w.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),i.deleteContent(d,{doNotResetEntireContent:g,direction:this.direction}),this._buffer.input(b),c.setSelection(d),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(n){if(n>1)return!1;const i=this.editor.model,a=i.document.selection,c=i.schema.getLimitElement(a);if(!(a.isCollapsed&&a.containsEntireContent(c))||!i.schema.checkChild(c,"paragraph"))return!1;const d=c.getChild(0);return!d||!d.is("element","paragraph")}_replaceEntireContentWithParagraph(n){const i=this.editor.model,a=i.document.selection,c=i.schema.getLimitElement(a),d=n.createElement("paragraph");n.remove(n.createRangeIn(c)),n.insert(d,c),n.setSelection(d,0)}_shouldReplaceFirstBlockWithParagraph(n,i){const a=this.editor.model;if(i>1||this.direction!="backward"||!n.isCollapsed)return!1;const c=n.getFirstPosition(),d=a.schema.getLimitElement(c),p=d.getChild(0);return c.parent==p&&!!n.containsEntireContent(p)&&!!a.schema.checkChild(d,"paragraph")&&p.name!="paragraph"}}const V4="word",Ma="selection",Wu="backward",Pp="forward",U4={deleteContent:{unit:Ma,direction:Wu},deleteContentBackward:{unit:"codePoint",direction:Wu},deleteWordBackward:{unit:V4,direction:Wu},deleteHardLineBackward:{unit:Ma,direction:Wu},deleteSoftLineBackward:{unit:Ma,direction:Wu},deleteContentForward:{unit:"character",direction:Pp},deleteWordForward:{unit:V4,direction:Pp},deleteHardLineForward:{unit:Ma,direction:Pp},deleteSoftLineForward:{unit:Ma,direction:Pp}};class Ate extends Xi{constructor(n){super(n);const i=n.document;let a=0;i.on("keydown",()=>{a++}),i.on("keyup",()=>{a=0}),i.on("beforeinput",(c,d)=>{if(!this.isEnabled)return;const{targetRanges:p,domEvent:g,inputType:b}=d,w=U4[b];if(!w)return;const C={direction:w.direction,unit:w.unit,sequence:a};C.unit==Ma&&(C.selectionToRemove=n.createSelection(p[0])),b==="deleteContentBackward"&&(v.isAndroid&&(C.sequence=1),function(D){if(D.length!=1||D[0].isCollapsed)return!1;const N=D[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let B=0;for(const{nextPosition:F,item:U}of N){if(F.parent.is("$text")){const W=F.parent.data,Y=F.offset;if(nC(W,Y)||rC(W,Y)||xM(W,Y))continue;B++}else(U.is("containerElement")||U.is("emptyElement"))&&B++;if(B>1)return!0}return!1}(p)&&(C.unit=Ma,C.selectionToRemove=n.createSelection(p)));const x=new Nu(i,"delete",p[0]);i.fire(x,new Bu(n,g,C)),x.stop.called&&c.stop()}),v.isBlink&&function(c){const d=c.view,p=d.document;let g=null,b=!1;function w(x){return x==_t.backspace||x==_t.delete}function C(x){return x==_t.backspace?Wu:Pp}p.on("keydown",(x,{keyCode:D})=>{g=D,b=!1}),p.on("keyup",(x,{keyCode:D,domEvent:N})=>{const B=p.selection,F=c.isEnabled&&D==g&&w(D)&&!B.isCollapsed&&!b;if(g=null,F){const U=B.getFirstRange(),W=new Nu(p,"delete",U),Y={unit:Ma,direction:C(D),selectionToRemove:B};p.fire(W,new Bu(d,N,Y))}}),p.on("beforeinput",(x,{inputType:D})=>{const N=U4[D];w(g)&&N&&N.direction==C(g)&&(b=!0)},{priority:"high"}),p.on("beforeinput",(x,{inputType:D,data:N})=>{g==_t.delete&&D=="insertText"&&N==""&&x.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class Hs extends me{static get pluginName(){return"Delete"}init(){const n=this.editor,i=n.editing.view,a=i.document,c=n.model.document;i.addObserver(Ate),this._undoOnBackspace=!1;const d=new $4(n,"forward");n.commands.add("deleteForward",d),n.commands.add("forwardDelete",d),n.commands.add("delete",new $4(n,"backward")),this.listenTo(a,"delete",(p,g)=>{a.isComposing||g.preventDefault();const{direction:b,sequence:w,selectionToRemove:C,unit:x}=g,D=b==="forward"?"deleteForward":"delete",N={sequence:w};if(x=="selection"){const B=Array.from(C.getRanges()).map(F=>n.editing.mapper.toModelRange(F));N.selection=n.model.createSelection(B)}else N.unit=x;n.execute(D,N),i.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(a,"delete",(p,g)=>{this._undoOnBackspace&&g.direction=="backward"&&g.sequence==1&&g.unit=="codePoint"&&(this._undoOnBackspace=!1,n.execute("undo"),g.preventDefault(),p.stop())},{context:"$capture"}),this.listenTo(c,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class xte extends me{static get requires(){return[F4,Hs]}static get pluginName(){return"Typing"}}function H4(l,n){let i=l.start;return{text:Array.from(l.getWalker({ignoreElementEnd:!1})).reduce((a,{item:c})=>c.is("$text")||c.is("$textProxy")?a+c.data:(i=n.createPositionAfter(c),""),""),range:n.createRange(i,l.end)}}class W4 extends be(){constructor(n,i){super(),this.model=n,this.testCallback=i,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(n.document.selection),this.stopListening(n.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const n=this.model.document;this.listenTo(n.selection,"change:range",(i,{directChange:a})=>{a&&(n.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(n,"change:data",(i,a)=>{!a.isUndo&&a.isLocal&&this._evaluateTextBeforeSelection("data",{batch:a})})}_evaluateTextBeforeSelection(n,i={}){const a=this.model,c=a.document.selection,d=a.createRange(a.createPositionAt(c.focus.parent,0),c.focus),{text:p,range:g}=H4(d,a),b=this.testCallback(p);if(!b&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!b,b){const w=Object.assign(i,{text:p,range:g});typeof b=="object"&&Object.assign(w,b),this.fire(`matched:${n}`,w)}}}class q4 extends me{constructor(n){super(n),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const n=this.editor,i=n.model,a=n.editing.view,c=n.locale,d=i.document.selection;this.listenTo(a.document,"arrowKey",(p,g)=>{if(!d.isCollapsed||g.shiftKey||g.altKey||g.ctrlKey)return;const b=g.keyCode==_t.arrowright,w=g.keyCode==_t.arrowleft;if(!b&&!w)return;const C=c.contentLanguageDirection;let x=!1;x=C==="ltr"&&b||C==="rtl"&&w?this._handleForwardMovement(g):this._handleBackwardMovement(g),x===!0&&p.stop()},{context:"$text",priority:"highest"}),this.listenTo(d,"change:range",(p,g)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!g.directChange&&ii(d.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(n){this.attributes.add(n)}_handleForwardMovement(n){const i=this.attributes,a=this.editor.model,c=a.document.selection,d=c.getFirstPosition();return!this._isGravityOverridden&&(!d.isAtStart||!Ws(c,i))&&!!ii(d,i)&&(Rp(n),Ws(c,i)&&ii(d,i,!0)?Np(a,i):this._overrideGravity(),!0)}_handleBackwardMovement(n){const i=this.attributes,a=this.editor.model,c=a.document.selection,d=c.getFirstPosition();return this._isGravityOverridden?(Rp(n),this._restoreGravity(),ii(d,i,!0)?Np(a,i):rk(a,i,d),!0):d.isAtStart?!!Ws(c,i)&&(Rp(n),rk(a,i,d),!0):!Ws(c,i)&&ii(d,i,!0)?(Rp(n),rk(a,i,d),!0):!!G4(d,i)&&(d.isAtEnd&&!Ws(c,i)&&ii(d,i)?(Rp(n),rk(a,i,d),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const n=this.editor,i=n.model,a=i.document.selection,c=n.editing.view.document;n.editing.view.addObserver(FC);let d=!1;this.listenTo(c,"mousedown",()=>{d=!0}),this.listenTo(c,"selectionChange",()=>{const p=this.attributes;if(!d||(d=!1,!a.isCollapsed)||!Ws(a,p))return;const g=a.getFirstPosition();ii(g,p)&&(g.isAtStart||ii(g,p,!0)?Np(i,p):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const n=this.editor.model,i=n.document.selection,a=this.attributes;this.listenTo(n,"insertContent",()=>{const c=i.getFirstPosition();Ws(i,a)&&ii(c,a)&&Np(n,a)},{priority:"low"})}_handleDeleteContentAfterNode(){const n=this.editor,i=n.model,a=i.document.selection,c=n.editing.view;let d=!1,p=!1;this.listenTo(c.document,"delete",(g,b)=>{d=b.direction==="backward"},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{if(!d)return;const g=a.getFirstPosition();p=Ws(a,this.attributes)&&!G4(g,this.attributes)},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{d&&(d=!1,p||n.model.enqueueChange(()=>{const g=a.getFirstPosition();Ws(a,this.attributes)&&ii(g,this.attributes)&&(g.isAtStart||ii(g,this.attributes,!0)?Np(i,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(n=>n.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(n=>{n.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Ws(l,n){for(const i of n)if(l.hasAttribute(i))return!0;return!1}function rk(l,n,i){const a=i.nodeBefore;l.change(c=>{if(a){const d=[],p=l.schema.isObject(a)&&l.schema.isInline(a);for(const[g,b]of a.getAttributes())!l.schema.checkAttribute("$text",g)||p&&l.schema.getAttributeProperties(g).copyFromObject===!1||d.push([g,b]);c.setSelectionAttribute(d)}else c.removeSelectionAttribute(n)})}function Np(l,n){l.change(i=>{i.removeSelectionAttribute(n)})}function Rp(l){l.preventDefault()}function G4(l,n){return ii(l.getShiftedBy(-1),n)}function ii(l,n,i=!1){const{nodeBefore:a,nodeAfter:c}=l;for(const d of n){const p=a?a.getAttribute(d):void 0,g=c?c.getAttribute(d):void 0;if((!i||p!==void 0&&g!==void 0)&&g!==p)return!0}return!1}const K4={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:qu('"'),to:[null,"",null,""]},quotesSecondary:{from:qu("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:qu("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:qu('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:qu('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:qu("'"),to:[null,"",null,""]}},Y4={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Ete=["symbols","mathematical","typography","quotes"];function Ste(l){return typeof l=="string"?new RegExp(`(${ZN(l)})$`):l}function Dte(l){return typeof l=="string"?()=>[l]:l instanceof Array?()=>l:l}function Tte(l){return(l.textNode?l.textNode:l.nodeAfter).getAttributes()}function qu(l){return new RegExp(`(^|\\s)(${l})([^${l}]*)(${l})$`)}function ok(l,n,i,a){return a.createRange(Q4(l,n,i,!0,a),Q4(l,n,i,!1,a))}function Q4(l,n,i,a,c){let d=l.textNode||(a?l.nodeBefore:l.nodeAfter),p=null;for(;d&&d.getAttribute(n)==i;)p=d,d=a?d.previousSibling:d.nextSibling;return p?c.createPositionAt(p,a?"before":"after"):l}function*Z4(l,n){for(const i of n)i&&l.getAttributeProperties(i[0]).copyOnEnter&&(yield i)}class Ite extends ft{execute(){this.editor.model.change(n=>{this.enterBlock(n),this.fire("afterExecute",{writer:n})})}enterBlock(n){const i=this.editor.model,a=i.document.selection,c=i.schema,d=a.isCollapsed,p=a.getFirstRange(),g=p.start.parent,b=p.end.parent;if(c.isLimit(g)||c.isLimit(b))return d||g!=b||i.deleteContent(a),!1;if(d){const w=Z4(n.model.schema,a.getAttributes());return J4(n,p.start),n.setSelectionAttribute(w),!0}{const w=!(p.start.isAtStart&&p.end.isAtEnd),C=g==b;if(i.deleteContent(a,{leaveUnmerged:w}),w){if(C)return J4(n,a.focus),!0;n.setSelection(b,0)}}return!1}}function J4(l,n){l.split(n),l.setSelection(n.parent.nextSibling,0)}const Mte={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class X4 extends Xi{constructor(n){super(n);const i=this.document;let a=!1;i.on("keydown",(c,d)=>{a=d.shiftKey}),i.on("beforeinput",(c,d)=>{if(!this.isEnabled)return;let p=d.inputType;v.isSafari&&a&&p=="insertParagraph"&&(p="insertLineBreak");const g=d.domEvent,b=Mte[p];if(!b)return;const w=new Nu(i,"enter",d.targetRanges[0]);i.fire(w,new Bu(n,g,{isSoft:b.isSoft})),w.stop.called&&c.stop()})}observe(){}stopObserving(){}}class ik extends me{static get pluginName(){return"Enter"}init(){const n=this.editor,i=n.editing.view,a=i.document,c=this.editor.t;i.addObserver(X4),n.commands.add("enter",new Ite(n)),this.listenTo(a,"enter",(d,p)=>{a.isComposing||p.preventDefault(),p.isSoft||(n.execute("enter"),i.scrollToTheSelection())},{priority:"low"}),n.accessibility.addKeystrokeInfos({keystrokes:[{label:c("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class Pte extends ft{execute(){const n=this.editor.model,i=n.document;n.change(a=>{(function(c,d,p){const g=p.isCollapsed,b=p.getFirstRange(),w=b.start.parent,C=b.end.parent,x=w==C;if(g){const D=Z4(c.schema,p.getAttributes());eR(c,d,b.end),d.removeSelectionAttribute(p.getAttributeKeys()),d.setSelectionAttribute(D)}else{const D=!(b.start.isAtStart&&b.end.isAtEnd);c.deleteContent(p,{leaveUnmerged:D}),x?eR(c,d,p.focus):D&&d.setSelection(C,0)}})(n,a,i.selection),this.fire("afterExecute",{writer:a})})}refresh(){const n=this.editor.model,i=n.document;this.isEnabled=function(a,c){if(c.rangeCount>1)return!1;const d=c.anchor;if(!d||!a.checkChild(d,"softBreak"))return!1;const p=c.getFirstRange(),g=p.start.parent,b=p.end.parent;return!((sA(g,a)||sA(b,a))&&g!==b)}(n.schema,i.selection)}}function eR(l,n,i){const a=n.createElement("softBreak");l.insertContent(a,i),n.setSelection(a,"after")}function sA(l,n){return!l.is("rootElement")&&(n.isLimit(l)||sA(l.parent,n))}class Nte extends me{static get pluginName(){return"ShiftEnter"}init(){const n=this.editor,i=n.model.schema,a=n.conversion,c=n.editing.view,d=c.document,p=this.editor.t;i.register("softBreak",{allowWhere:"$text",isInline:!0}),a.for("upcast").elementToElement({model:"softBreak",view:"br"}),a.for("downcast").elementToElement({model:"softBreak",view:(g,{writer:b})=>b.createEmptyElement("br")}),c.addObserver(X4),n.commands.add("shiftEnter",new Pte(n)),this.listenTo(d,"enter",(g,b)=>{d.isComposing||b.preventDefault(),b.isSoft&&(n.execute("shiftEnter"),c.scrollToTheSelection())},{priority:"low"}),n.accessibility.addKeystrokeInfos({keystrokes:[{label:p("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class Rte extends G(){constructor(){super(...arguments),this._stack=[]}add(n,i){const a=this._stack,c=a[0];this._insertDescriptor(n);const d=a[0];c===d||aA(c,d)||this.fire("change:top",{oldDescriptor:c,newDescriptor:d,writer:i})}remove(n,i){const a=this._stack,c=a[0];this._removeDescriptor(n);const d=a[0];c===d||aA(c,d)||this.fire("change:top",{oldDescriptor:c,newDescriptor:d,writer:i})}_insertDescriptor(n){const i=this._stack,a=i.findIndex(d=>d.id===n.id);if(aA(n,i[a]))return;a>-1&&i.splice(a,1);let c=0;for(;i[c]&&Ote(i[c],n);)c++;i.splice(c,0,n)}_removeDescriptor(n){const i=this._stack,a=i.findIndex(c=>c.id===n);a>-1&&i.splice(a,1)}}function aA(l,n){return l&&n&&l.priority==n.priority&&sk(l.classes)==sk(n.classes)}function Ote(l,n){return l.priority>n.priority||!(l.priority<n.priority)&&sk(l.classes)>sk(n.classes)}function sk(l){return Array.isArray(l)?l.sort().join(","):l}const Bte='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',Lte="ck-widget",tR="ck-widget_selected";function Vn(l){return!!l.is("element")&&!!l.getCustomProperty("widget")}function lA(l,n,i={}){if(!l.is("containerElement"))throw new P("widget-to-widget-wrong-element-type",null,{element:l});return n.setAttribute("contenteditable","false",l),n.addClass(Lte,l),n.setCustomProperty("widget",!0,l),l.getFillerOffset=zte,n.setCustomProperty("widgetLabel",[],l),i.label&&function(a,c){a.getCustomProperty("widgetLabel").push(c)}(l,i.label),i.hasSelectionHandle&&function(a,c){const d=c.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(p){const g=this.toDomElement(p),b=new $s;return b.set("content",Bte),b.render(),g.appendChild(b.element),g});c.insert(c.createPositionAt(a,0),d),c.addClass(["ck-widget_with-selection-handle"],a)}(l,n),nR(l,n),l}function jte(l,n,i){if(n.classes&&i.addClass(rn(n.classes),l),n.attributes)for(const a in n.attributes)i.setAttribute(a,n.attributes[a],l)}function Fte(l,n,i){if(n.classes&&i.removeClass(rn(n.classes),l),n.attributes)for(const a in n.attributes)i.removeAttribute(a,l)}function nR(l,n,i=jte,a=Fte){const c=new Rte;c.on("change:top",(d,p)=>{p.oldDescriptor&&a(l,p.oldDescriptor,p.writer),p.newDescriptor&&i(l,p.newDescriptor,p.writer)}),n.setCustomProperty("addHighlight",(d,p,g)=>c.add(p,g),l),n.setCustomProperty("removeHighlight",(d,p,g)=>c.remove(p,g),l)}function rR(l,n,i={}){return n.addClass(["ck-editor__editable","ck-editor__nested-editable"],l),n.setAttribute("role","textbox",l),n.setAttribute("tabindex","-1",l),i.label&&n.setAttribute("aria-label",i.label,l),n.setAttribute("contenteditable",l.isReadOnly?"false":"true",l),l.on("change:isReadOnly",(a,c,d)=>{n.setAttribute("contenteditable",d?"false":"true",l)}),l.on("change:isFocused",(a,c,d)=>{d?n.addClass("ck-editor__nested-editable_focused",l):n.removeClass("ck-editor__nested-editable_focused",l)}),nR(l,n),l}function oR(l,n){const i=l.getSelectedElement();if(i){const a=Pa(l);if(a)return n.createRange(n.createPositionAt(i,a))}return n.schema.findOptimalInsertionRange(l)}function zte(){return null}const qs="widget-type-around";function tc(l,n,i){return!!l&&Vn(l)&&!i.isInline(n)}function Pa(l){return l.getAttribute(qs)}var iR=s(8508),$te={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(iR.A,$te),iR.A.locals;const sR=["before","after"],Vte=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,aR="ck-widget__type-around_disabled";class Ute extends me{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[ik,Hs]}init(){const n=this.editor,i=n.editing.view;this.on("change:isEnabled",(a,c,d)=>{i.change(p=>{for(const g of i.document.roots)d?p.removeClass(aR,g):p.addClass(aR,g)}),d||n.model.change(p=>{p.removeSelectionAttribute(qs)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(n,i){const a=this.editor,c=a.editing.view,d=a.model.schema.getAttributesWithProperty(n,"copyOnReplace",!0);a.execute("insertParagraph",{position:a.model.createPositionAt(n,i),attributes:d}),c.focus(),c.scrollToTheSelection()}_listenToIfEnabled(n,i,a,c){this.listenTo(n,i,(...d)=>{this.isEnabled&&a(...d)},c)}_insertParagraphAccordingToFakeCaretPosition(){const n=this.editor.model.document.selection,i=Pa(n);if(!i)return!1;const a=n.getSelectedElement();return this._insertParagraph(a,i),!0}_enableTypeAroundUIInjection(){const n=this.editor,i=n.model.schema,a=n.locale.t,c={before:a("Insert paragraph before block"),after:a("Insert paragraph after block")};n.editing.downcastDispatcher.on("insert",(d,p,g)=>{const b=g.mapper.toViewElement(p.item);b&&tc(b,p.item,i)&&(function(w,C,x){const D=w.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(N){const B=this.toDomElement(N);return function(F,U){for(const W of sR){const Y=new Ti({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${W}`],title:U[W],"aria-hidden":"true"},children:[F.ownerDocument.importNode(Vte,!0)]});F.appendChild(Y.render())}}(B,C),function(F){const U=new Ti({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});F.appendChild(U.render())}(B),B});w.insert(w.createPositionAt(x,"end"),D)}(g.writer,c,b),b.getCustomProperty("widgetLabel").push(()=>this.isEnabled?a("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const n=this.editor,i=n.model,a=i.document.selection,c=i.schema,d=n.editing.view;function p(g){return`ck-widget_type-around_show-fake-caret_${g}`}this._listenToIfEnabled(d.document,"arrowKey",(g,b)=>{this._handleArrowKeyPress(g,b)},{context:[Vn,"$text"],priority:"high"}),this._listenToIfEnabled(a,"change:range",(g,b)=>{b.directChange&&n.model.change(w=>{w.removeSelectionAttribute(qs)})}),this._listenToIfEnabled(i.document,"change:data",()=>{const g=a.getSelectedElement();g&&tc(n.editing.mapper.toViewElement(g),g,c)||n.model.change(b=>{b.removeSelectionAttribute(qs)})}),this._listenToIfEnabled(n.editing.downcastDispatcher,"selection",(g,b,w)=>{const C=w.writer;if(this._currentFakeCaretModelElement){const B=w.mapper.toViewElement(this._currentFakeCaretModelElement);B&&(C.removeClass(sR.map(p),B),this._currentFakeCaretModelElement=null)}const x=b.selection.getSelectedElement();if(!x)return;const D=w.mapper.toViewElement(x);if(!tc(D,x,c))return;const N=Pa(b.selection);N&&(C.addClass(p(N),D),this._currentFakeCaretModelElement=x)}),this._listenToIfEnabled(n.ui.focusTracker,"change:isFocused",(g,b,w)=>{w||n.model.change(C=>{C.removeSelectionAttribute(qs)})})}_handleArrowKeyPress(n,i){const a=this.editor,c=a.model,d=c.document.selection,p=c.schema,g=a.editing.view,b=function(x,D){const N=J_(x,D);return N==="down"||N==="right"}(i.keyCode,a.locale.contentLanguageDirection),w=g.document.selection.getSelectedElement();let C;tc(w,a.editing.mapper.toModelElement(w),p)?C=this._handleArrowKeyPressOnSelectedWidget(b):d.isCollapsed?C=this._handleArrowKeyPressWhenSelectionNextToAWidget(b):i.shiftKey||(C=this._handleArrowKeyPressWhenNonCollapsedSelection(b)),C&&(i.preventDefault(),n.stop())}_handleArrowKeyPressOnSelectedWidget(n){const i=this.editor.model,a=Pa(i.document.selection);return i.change(c=>a?a!==(n?"after":"before")?(c.removeSelectionAttribute(qs),!0):!1:(c.setSelectionAttribute(qs,n?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(n){const i=this.editor,a=i.model,c=a.schema,d=i.plugins.get("Widget"),p=d._getObjectElementNextToSelection(n);return!!tc(i.editing.mapper.toViewElement(p),p,c)&&(a.change(g=>{d._setSelectionOverElement(p),g.setSelectionAttribute(qs,n?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(n){const i=this.editor,a=i.model,c=a.schema,d=i.editing.mapper,p=a.document.selection,g=n?p.getLastPosition().nodeBefore:p.getFirstPosition().nodeAfter;return!!tc(d.toViewElement(g),g,c)&&(a.change(b=>{b.setSelection(g,"on"),b.setSelectionAttribute(qs,n?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const n=this.editor,i=n.editing.view;this._listenToIfEnabled(i.document,"mousedown",(a,c)=>{const d=c.domTarget.closest(".ck-widget__type-around__button");if(!d)return;const p=function(w){return w.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(d),g=function(w,C){const x=w.closest(".ck-widget");return C.mapDomToView(x)}(d,i.domConverter),b=n.editing.mapper.toModelElement(g);this._insertParagraph(b,p),c.preventDefault(),a.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const n=this.editor,i=n.model.document.selection,a=n.editing.view;this._listenToIfEnabled(a.document,"enter",(c,d)=>{if(c.eventPhase!="atTarget")return;const p=i.getSelectedElement(),g=n.editing.mapper.toViewElement(p),b=n.model.schema;let w;this._insertParagraphAccordingToFakeCaretPosition()?w=!0:tc(g,p,b)&&(this._insertParagraph(p,d.isSoft?"before":"after"),w=!0),w&&(d.preventDefault(),c.stop())},{context:Vn})}_enableInsertingParagraphsOnTypingKeystroke(){const n=this.editor.editing.view.document;this._listenToIfEnabled(n,"insertText",(i,a)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(a.selection=n.selection)},{priority:"high"}),v.isAndroid?this._listenToIfEnabled(n,"keydown",(i,a)=>{a.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(n,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const n=this.editor,i=n.editing.view,a=n.model,c=a.schema;this._listenToIfEnabled(i.document,"delete",(d,p)=>{if(d.eventPhase!="atTarget")return;const g=Pa(a.document.selection);if(!g)return;const b=p.direction,w=a.document.selection.getSelectedElement(),C=b=="forward";if(g==="before"===C)n.execute("delete",{selection:a.createSelection(w,"on")});else{const x=c.getNearestSelectionRange(a.createPositionAt(w,g),b);if(x)if(x.isCollapsed){const D=a.createSelection(x.start);if(a.modifySelection(D,{direction:b}),D.focus.isEqual(x.start)){const N=function(B,F){let U=F;for(const W of F.getAncestors({parentFirst:!0})){if(W.childCount>1||B.isLimit(W))break;U=W}return U}(c,x.start.parent);a.deleteContent(a.createSelection(N,"on"),{doNotAutoparagraph:!0})}else a.change(N=>{N.setSelection(x),n.execute(C?"deleteForward":"delete")})}else a.change(D=>{D.setSelection(x),n.execute(C?"deleteForward":"delete")})}p.preventDefault(),d.stop()},{context:Vn})}_enableInsertContentIntegration(){const n=this.editor,i=this.editor.model,a=i.document.selection;this._listenToIfEnabled(n.model,"insertContent",(c,[d,p])=>{if(p&&!p.is("documentSelection"))return;const g=Pa(a);return g?(c.stop(),i.change(b=>{const w=a.getSelectedElement(),C=i.createPositionAt(w,g),x=b.createSelection(C),D=i.insertContent(d,x);return b.setSelection(x),D})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const n=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(n.model,"insertObject",(a,c)=>{const[,d,p={}]=c;if(d&&!d.is("documentSelection"))return;const g=Pa(i);g&&(p.findOptimalPosition=g,c[3]=p)},{priority:"high"})}_enableDeleteContentIntegration(){const n=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(n.model,"deleteContent",(a,[c])=>{c&&!c.is("documentSelection")||Pa(i)&&a.stop()},{priority:"high"})}}function Hte(l){const n=l.model;return(i,a)=>{const c=a.keyCode==_t.arrowup,d=a.keyCode==_t.arrowdown,p=a.shiftKey,g=n.document.selection;if(!c&&!d)return;const b=d;if(p&&function(C,x){return!C.isCollapsed&&C.isBackward==x}(g,b))return;const w=function(C,x,D){const N=C.model;if(D){const B=x.isCollapsed?x.focus:x.getLastPosition(),F=lR(N,B,"forward");if(!F)return null;const U=N.createRange(B,F),W=cR(N.schema,U,"backward");return W?N.createRange(B,W):null}{const B=x.isCollapsed?x.focus:x.getFirstPosition(),F=lR(N,B,"backward");if(!F)return null;const U=N.createRange(F,B),W=cR(N.schema,U,"forward");return W?N.createRange(W,B):null}}(l,g,b);if(w){if(w.isCollapsed&&(g.isCollapsed||p))return;(w.isCollapsed||function(C,x,D){const N=C.model,B=C.view.domConverter;if(D){const oe=N.createSelection(x.start);N.modifySelection(oe),oe.focus.isAtEnd||x.start.isEqual(oe.focus)||(x=N.createRange(oe.focus,x.end))}const F=C.mapper.toViewRange(x),U=B.viewRangeToDom(F),W=kt.getDomRangeRects(U);let Y;for(const oe of W)if(Y!==void 0){if(Math.round(oe.top)>=Y)return!1;Y=Math.max(Y,Math.round(oe.bottom))}else Y=Math.round(oe.bottom);return!0}(l,w,b))&&(n.change(C=>{const x=b?w.end:w.start;if(p){const D=n.createSelection(g.anchor);D.setFocus(x),C.setSelection(D)}else C.setSelection(x)}),i.stop(),a.preventDefault(),a.stopPropagation())}}}function lR(l,n,i){const a=l.schema,c=l.createRangeIn(n.root),d=i=="forward"?"elementStart":"elementEnd";for(const{previousPosition:p,item:g,type:b}of c.getWalker({startPosition:n,direction:i})){if(a.isLimit(g)&&!a.isInline(g))return p;if(b==d&&a.isBlock(g))return null}return null}function cR(l,n,i){const a=i=="backward"?n.end:n.start;if(l.checkChild(a,"$text"))return a;for(const{nextPosition:c}of n.getWalker({direction:i}))if(l.checkChild(c,"$text"))return c;return null}var uR=s(695),Wte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(uR.A,Wte),uR.A.locals;class Op extends me{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[Ute,Hs]}init(){const n=this.editor,i=n.editing.view,a=i.document,c=n.t;this.editor.editing.downcastDispatcher.on("selection",(d,p,g)=>{const b=g.writer,w=p.selection;if(w.isCollapsed)return;const C=w.getSelectedElement();if(!C)return;const x=n.editing.mapper.toViewElement(C);var D;Vn(x)&&g.consumable.consume(w,"selection")&&b.setSelection(b.createRangeOn(x),{fake:!0,label:(D=x,D.getCustomProperty("widgetLabel").reduce((N,B)=>typeof B=="function"?N?N+". "+B():B():N?N+". "+B:B,""))})}),this.editor.editing.downcastDispatcher.on("selection",(d,p,g)=>{this._clearPreviouslySelectedWidgets(g.writer);const b=g.writer,w=b.document.selection;let C=null;for(const x of w.getRanges())for(const D of x){const N=D.item;Vn(N)&&!qte(N,C)&&(b.addClass(tR,N),this._previouslySelected.add(N),C=N)}},{priority:"low"}),i.addObserver(FC),this.listenTo(a,"mousedown",(...d)=>this._onMousedown(...d)),this.listenTo(a,"arrowKey",(...d)=>{this._handleSelectionChangeOnArrowKeyPress(...d)},{context:[Vn,"$text"]}),this.listenTo(a,"arrowKey",(...d)=>{this._preventDefaultOnArrowKeyPress(...d)},{context:"$root"}),this.listenTo(a,"arrowKey",Hte(this.editor.editing),{context:"$text"}),this.listenTo(a,"delete",(d,p)=>{this._handleDelete(p.direction=="forward")&&(p.preventDefault(),d.stop())},{context:"$root"}),this.listenTo(a,"tab",(d,p)=>{d.eventPhase=="atTarget"&&(p.shiftKey||this._selectFirstNestedEditable()&&(p.preventDefault(),d.stop()))},{context:Vn,priority:"low"}),this.listenTo(a,"tab",(d,p)=>{p.shiftKey&&this._selectAncestorWidget()&&(p.preventDefault(),d.stop())},{priority:"low"}),this.listenTo(a,"keydown",(d,p)=>{p.keystroke==_t.esc&&this._selectAncestorWidget()&&(p.preventDefault(),d.stop())},{priority:"low"}),n.accessibility.addKeystrokeInfoGroup({id:"widget",label:c("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:c("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:c("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:c("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:c("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(n,i){const a=this.editor,c=a.editing.view,d=c.document;let p=i.target;if(i.domEvent.detail>=3)return void(this._selectBlockContent(p)&&i.preventDefault());if(function(b){let w=b;for(;w;){if(w.is("editableElement")&&!w.is("rootElement"))return!0;if(Vn(w))return!1;w=w.parent}return!1}(p)||!Vn(p)&&(p=p.findAncestor(Vn),!p))return;v.isAndroid&&i.preventDefault(),d.isFocused||c.focus();const g=a.editing.mapper.toModelElement(p);this._setSelectionOverElement(g)}_selectBlockContent(n){const i=this.editor,a=i.model,c=i.editing.mapper,d=a.schema,p=c.findMappedViewAncestor(this.editor.editing.view.createPositionAt(n,0)),g=function(b,w){for(const C of b.getAncestors({includeSelf:!0,parentFirst:!0})){if(w.checkChild(C,"$text"))return C;if(w.isLimit(C)&&!w.isObject(C))break}return null}(c.toModelElement(p),a.schema);return!!g&&(a.change(b=>{const w=d.isLimit(g)?null:function(D,N){const B=new Ls({startPosition:D});for(const{item:F}of B){if(N.isLimit(F)||!F.is("element"))return null;if(N.checkChild(F,"$text"))return F}return null}(b.createPositionAfter(g),d),C=b.createPositionAt(g,0),x=w?b.createPositionAt(w,0):b.createPositionAt(g,"end");b.setSelection(b.createRange(C,x))}),!0)}_handleSelectionChangeOnArrowKeyPress(n,i){const a=i.keyCode,c=this.editor.model,d=c.schema,p=c.document.selection,g=p.getSelectedElement(),b=J_(a,this.editor.locale.contentLanguageDirection),w=b=="down"||b=="right",C=b=="up"||b=="down";if(g&&d.isObject(g)){const D=w?p.getLastPosition():p.getFirstPosition(),N=d.getNearestSelectionRange(D,w?"forward":"backward");return void(N&&(c.change(B=>{B.setSelection(N)}),i.preventDefault(),n.stop()))}if(!p.isCollapsed&&!i.shiftKey){const D=p.getFirstPosition(),N=p.getLastPosition(),B=D.nodeAfter,F=N.nodeBefore;return void((B&&d.isObject(B)||F&&d.isObject(F))&&(c.change(U=>{U.setSelection(w?N:D)}),i.preventDefault(),n.stop()))}if(!p.isCollapsed)return;const x=this._getObjectElementNextToSelection(w);if(x&&d.isObject(x)){if(d.isInline(x)&&C)return;this._setSelectionOverElement(x),i.preventDefault(),n.stop()}}_preventDefaultOnArrowKeyPress(n,i){const a=this.editor.model,c=a.schema,d=a.document.selection.getSelectedElement();d&&c.isObject(d)&&(i.preventDefault(),n.stop())}_handleDelete(n){const i=this.editor.model.document.selection;if(!this.editor.model.canEditAt(i)||!i.isCollapsed)return;const a=this._getObjectElementNextToSelection(n);return a?(this.editor.model.change(c=>{let d=i.anchor.parent;for(;d.isEmpty;){const p=d;d=p.parent,c.remove(p)}this._setSelectionOverElement(a)}),!0):void 0}_setSelectionOverElement(n){this.editor.model.change(i=>{i.setSelection(i.createRangeOn(n))})}_getObjectElementNextToSelection(n){const i=this.editor.model,a=i.schema,c=i.document.selection,d=i.createSelection(c);if(i.modifySelection(d,{direction:n?"forward":"backward"}),d.isEqual(c))return null;const p=n?d.focus.nodeBefore:d.focus.nodeAfter;return p&&a.isObject(p)?p:null}_clearPreviouslySelectedWidgets(n){for(const i of this._previouslySelected)n.removeClass(tR,i);this._previouslySelected.clear()}_selectFirstNestedEditable(){const n=this.editor,i=this.editor.editing.view.document;for(const a of i.selection.getFirstRange().getItems())if(a.is("editableElement")){const c=n.editing.mapper.toModelElement(a);if(!c)continue;const d=n.model.createPositionAt(c,0),p=n.model.schema.getNearestSelectionRange(d,"forward");return n.model.change(g=>{g.setSelection(p)}),!0}return!1}_selectAncestorWidget(){const n=this.editor,i=n.editing.mapper,a=n.editing.view.document.selection.getFirstPosition().parent,c=(a.is("$text")?a.parent:a).findAncestor(Vn);if(!c)return!1;const d=i.toModelElement(c);return!!d&&(n.model.change(p=>{p.setSelection(d,"on")}),!0)}}function qte(l,n){return!!n&&Array.from(l.getAncestors()).includes(n)}class ak extends me{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[Xb]}static get pluginName(){return"WidgetToolbarRepository"}init(){const n=this.editor;if(n.plugins.has("BalloonToolbar")){const i=n.plugins.get("BalloonToolbar");this.listenTo(i,"show",a=>{(function(c){const d=c.getSelectedElement();return!(!d||!Vn(d))})(n.editing.view.document.selection)&&a.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(n.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(n.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const n of this._toolbarDefinitions.values())n.view.destroy()}register(n,{ariaLabel:i,items:a,getRelatedElement:c,balloonClassName:d="ck-toolbar-container"}){if(!a.length)return void z("widget-toolbar-no-items",{toolbarId:n});const p=this.editor,g=p.t,b=new WC(p.locale);if(b.ariaLabel=i||g("Widget toolbar"),this._toolbarDefinitions.has(n))throw new P("widget-toolbar-duplicated",this,{toolbarId:n});const w={view:b,getRelatedElement:c,balloonClassName:d,itemsConfig:a,initialized:!1};p.ui.addToolbar(b,{isContextual:!0,beforeFocus:()=>{const C=c(p.editing.view.document.selection);C&&this._showToolbar(w,C)},afterBlur:()=>{this._hideToolbar(w)}}),this._toolbarDefinitions.set(n,w)}_updateToolbarsVisibility(){let n=0,i=null,a=null;for(const c of this._toolbarDefinitions.values()){const d=c.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&d)if(this.editor.ui.focusTracker.isFocused){const p=d.getAncestors().length;p>n&&(n=p,i=d,a=c)}else this._isToolbarVisible(c)&&this._hideToolbar(c);else this._isToolbarInBalloon(c)&&this._hideToolbar(c)}a&&this._showToolbar(a,i)}_hideToolbar(n){this._balloon.remove(n.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(n,i){this._isToolbarVisible(n)?dR(this.editor,i):this._isToolbarInBalloon(n)||(n.initialized||(n.initialized=!0,n.view.fillFromConfig(n.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:n.view,position:hR(this.editor,i),balloonClassName:n.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const a of this._toolbarDefinitions.values())if(this._isToolbarVisible(a)){const c=a.getRelatedElement(this.editor.editing.view.document.selection);dR(this.editor,c)}}))}_isToolbarVisible(n){return this._balloon.visibleView===n.view}_isToolbarInBalloon(n){return this._balloon.hasView(n.view)}}function dR(l,n){const i=l.plugins.get("ContextualBalloon"),a=hR(l,n);i.updatePosition(a)}function hR(l,n){const i=l.editing.view,a=ao.defaultPositions;return{target:i.domConverter.mapViewToDom(n),positions:[a.northArrowSouth,a.northArrowSouthWest,a.northArrowSouthEast,a.southArrowNorth,a.southArrowNorthWest,a.southArrowNorthEast,a.viewportStickyNorth]}}var pR=s(4095),Gte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(pR.A,Gte),pR.A.locals;const cA=Tu("px");class Kte extends We{constructor(){super();const n=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",n.if("isVisible","ck-hidden",i=>!i)],style:{left:n.to("left",i=>cA(i)),top:n.to("top",i=>cA(i)),width:n.to("width",i=>cA(i))}}})}}class lk extends me{constructor(){super(...arguments),this.removeDropMarkerDelayed=tC(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=Zb(n=>this._updateDropMarker(n),40),this._reconvertMarkerThrottled=Zb(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new Kte,this._domEmitter=new(ei()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:n}of this._scrollables.values())n.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(n,i,a,c,d,p){this.removeDropMarkerDelayed.cancel();const g=fR(this.editor,n,i,a,c,d,p);if(g)return p&&p.containsRange(g)?this.removeDropMarker():void this._updateDropMarkerThrottled(g)}getFinalDropRange(n,i,a,c,d,p){const g=fR(this.editor,n,i,a,c,d,p);return this.removeDropMarker(),g}removeDropMarker(){const n=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,n.markers.has("drop-target")&&n.change(i=>{i.removeMarker("drop-target")})}_setupDropMarker(){const n=this.editor;n.ui.view.body.add(this._dropTargetLineView),n.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),n.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(i,{writer:a})=>{if(n.model.schema.checkChild(i.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(a);i.markerRange.isCollapsed?this._updateDropTargetLine(i.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(n){const i=this.editor,a=i.model.markers;i.model.change(c=>{a.has("drop-target")?a.get("drop-target").getRange().isEqual(n)||c.updateMarker("drop-target",{range:n}):c.addMarker("drop-target",{range:n,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(n){return n.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(i){const a=this.toDomElement(i);return a.append("",i.createElement("span"),""),a})}_updateDropTargetLine(n){const i=this.editor.editing,a=n.start.nodeBefore,c=n.start.nodeAfter,d=n.start.parent,p=a?i.mapper.toViewElement(a):null,g=p?i.view.domConverter.mapViewToDom(p):null,b=c?i.mapper.toViewElement(c):null,w=b?i.view.domConverter.mapViewToDom(b):null,C=i.mapper.toViewElement(d);if(!C)return;const x=i.view.domConverter.mapViewToDom(C),D=this._getScrollableRect(C),{scrollX:N,scrollY:B}=m.window,F=g?new kt(g):null,U=w?new kt(w):null,W=new kt(x).excludeScrollbarsAndBorders(),Y=F?F.bottom:W.top,oe=U?U.top:W.bottom,ue=m.window.getComputedStyle(x),Ee=Y<=oe?(Y+oe)/2:oe;if(D.top<Ee&&Ee<D.bottom){const Ze=W.left+parseFloat(ue.paddingLeft),st=W.right-parseFloat(ue.paddingRight),on=Math.max(Ze+N,D.left),or=Math.min(st+N,D.right);this._dropTargetLineView.set({isVisible:!0,left:on,top:Ee+B,width:or-on})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(n){const i=n.root.rootName;let a;if(this._scrollables.has(i))a=this._scrollables.get(i).domElement;else{a=function(d){let p=d;do{p=p.parentElement;const g=m.window.getComputedStyle(p).overflowY;if(g=="auto"||g=="scroll")break}while(p.tagName!="BODY");return p}(this.editor.editing.view.domConverter.mapViewToDom(n)),this._domEmitter.listenTo(a,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const c=new lp(a,this._reconvertMarkerThrottled);this._scrollables.set(i,{domElement:a,resizeObserver:c})}return new kt(a).excludeScrollbarsAndBorders()}}function fR(l,n,i,a,c,d,p){const g=l.model,b=l.editing.mapper;let w=gR(l,n);for(;w;){if(!d){if(g.schema.checkChild(w,"$text")){if(i){const C=i[0].start,x=b.toModelPosition(C);if(!p||Array.from(p.getItems()).every(D=>g.schema.checkChild(x,D))){if(g.schema.checkChild(x,"$text"))return g.createRange(x);if(C)return ck(l,gR(l,C.parent),a,c)}}}else if(g.schema.isInline(w))return ck(l,w,a,c)}if(g.schema.isBlock(w))return ck(l,w,a,c);if(g.schema.checkChild(w,"$block")){const C=Array.from(w.getChildren()).filter(N=>N.is("element")&&!Yte(l,N));let x=0,D=C.length;if(D==0)return g.createRange(g.createPositionAt(w,"end"));for(;x<D-1;){const N=Math.floor((x+D)/2);mR(l,C[N],a,c)=="before"?D=N:x=N}return ck(l,C[x],a,c)}w=w.parent}return null}function Yte(l,n){const i=l.editing.mapper,a=l.editing.view.domConverter,c=i.toViewElement(n);if(!c)return!0;const d=a.mapViewToDom(c);return m.window.getComputedStyle(d).float!="none"}function ck(l,n,i,a){const c=l.model;return c.createRange(c.createPositionAt(n,mR(l,n,i,a)))}function mR(l,n,i,a){const c=l.editing.mapper,d=l.editing.view.domConverter,p=c.toViewElement(n),g=d.mapViewToDom(p),b=new kt(g);return l.model.schema.isInline(n)?i<(b.left+b.right)/2?"before":"after":a<(b.top+b.bottom)/2?"before":"after"}function gR(l,n){const i=l.editing.mapper,a=l.editing.view,c=i.toModelElement(n);if(c)return c;const d=a.createPositionBefore(n),p=i.findMappedViewAncestor(d);return i.toModelElement(p)}var Qte=Object.defineProperty,Zte=Object.defineProperties,Jte=Object.getOwnPropertyDescriptors,bR=Object.getOwnPropertySymbols,Xte=Object.prototype.hasOwnProperty,ene=Object.prototype.propertyIsEnumerable,kR=(l,n,i)=>n in l?Qte(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i;class tne extends me{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(ei())}static get pluginName(){return"DragDropBlockToolbar"}init(){const n=this.editor;if(this.listenTo(n,"change:isReadOnly",(i,a,c)=>{c?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),v.isAndroid&&this.forceDisabled("noAndroidSupport"),n.plugins.has("BlockToolbar")){const i=n.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(i,"dragstart",(a,c)=>this._handleBlockDragStart(c)),this._domEmitter.listenTo(m.document,"dragover",(a,c)=>this._handleBlockDragging(c)),this._domEmitter.listenTo(m.document,"drop",(a,c)=>this._handleBlockDragging(c)),this._domEmitter.listenTo(m.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&i.setAttribute("draggable","true"),this.on("change:isEnabled",(a,c,d)=>{i.setAttribute("draggable",d?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(n){if(!this.isEnabled)return;const i=this.editor.model,a=i.document.selection,c=this.editor.editing.view,d=Array.from(a.getSelectedBlocks()),p=i.createRange(i.createPositionBefore(d[0]),i.createPositionAfter(d[d.length-1]));i.change(g=>g.setSelection(p)),this._isBlockDragging=!0,c.focus(),c.getObserver(Ip).onDomEvent(n)}_handleBlockDragging(n){if(!this.isEnabled||!this._isBlockDragging)return;const i=n.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),a=n.clientY,c=document.elementFromPoint(i,a),d=this.editor.editing.view;var p,g;c&&c.closest(".ck-editor__editable")&&d.getObserver(Ip).onDomEvent((p=((b,w)=>{for(var C in w||(w={}))Xte.call(w,C)&&kR(b,C,w[C]);if(bR)for(var C of bR(w))ene.call(w,C)&&kR(b,C,w[C]);return b})({},n),g={type:n.type,dataTransfer:n.dataTransfer,target:c,clientX:i,clientY:a,preventDefault:()=>n.preventDefault(),stopPropagation:()=>n.stopPropagation()},Zte(p,Jte(g))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}var vR=s(7793),nne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(vR.A,nne),vR.A.locals;class rne extends me{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=tC(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(ei())}static get pluginName(){return"DragDrop"}static get requires(){return[oi,Op,lk,tne]}init(){const n=this.editor,i=n.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,i.addObserver(Ip),i.addObserver(FC),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(n,"change:isReadOnly",(a,c,d)=>{d?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(a,c,d)=>{d||this._finalizeDragging(!1)}),v.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const n=this.editor,i=n.model,a=n.editing.view,c=a.document,d=n.plugins.get(lk);this.listenTo(c,"dragstart",(p,g)=>{if(g.target&&g.target.is("editableElement")||(this._prepareDraggedRange(g.target),!this._draggedRange))return void g.preventDefault();this._draggingUid=O(),g.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",g.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const b=i.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(g.dataTransfer,b,"dragstart");const{dataTransfer:w,domTarget:C,domEvent:x}=g,{clientX:D}=x;this._updatePreview({dataTransfer:w,domTarget:C,clientX:D}),g.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(c,"dragend",(p,g)=>{this._finalizeDragging(!g.dataTransfer.isCanceled&&g.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(m.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(c,"dragenter",()=>{this.isEnabled&&a.focus()}),this.listenTo(c,"dragleave",()=>{d.removeDropMarkerDelayed()}),this.listenTo(c,"dragging",(p,g)=>{if(!this.isEnabled)return void(g.dataTransfer.dropEffect="none");const{clientX:b,clientY:w}=g.domEvent;d.updateDropMarker(g.target,g.targetRanges,b,w,this._blockMode,this._draggedRange),this._draggedRange||(g.dataTransfer.dropEffect="copy"),v.isGecko||(g.dataTransfer.effectAllowed=="copy"?g.dataTransfer.dropEffect="copy":["all","copyMove"].includes(g.dataTransfer.effectAllowed)&&(g.dataTransfer.dropEffect="move")),p.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const n=this.editor,i=n.editing.view.document,a=n.plugins.get(lk);this.listenTo(i,"clipboardInput",(c,d)=>{if(d.method!="drop")return;const{clientX:p,clientY:g}=d.domEvent,b=a.getFinalDropRange(d.target,d.targetRanges,p,g,this._blockMode,this._draggedRange);if(!b)return this._finalizeDragging(!1),void c.stop();if(this._draggedRange&&this._draggingUid!=d.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),wR(d.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(b,!0))return this._finalizeDragging(!1),void c.stop();d.targetRanges=[n.editing.mapper.toViewRange(b)]},{priority:"high"})}_setupContentInsertionIntegration(){const n=this.editor.plugins.get(oi);n.on("contentInsertion",(i,a)=>{if(!this.isEnabled||a.method!=="drop")return;const c=a.targetRanges.map(d=>this.editor.editing.mapper.toModelRange(d));this.editor.model.change(d=>d.setSelection(c))},{priority:"high"}),n.on("contentInsertion",(i,a)=>{if(!this.isEnabled||a.method!=="drop")return;const c=wR(a.dataTransfer)=="move",d=!a.resultRange||!a.resultRange.isCollapsed;this._finalizeDragging(d&&c)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const n=this.editor,i=n.editing.view,a=i.document;this.listenTo(a,"mousedown",(c,d)=>{if(v.isAndroid||!d)return;this._clearDraggableAttributesDelayed.cancel();let p=yR(d.target);if(v.isBlink&&!n.isReadOnly&&!p&&!a.selection.isCollapsed){const g=a.selection.getSelectedElement();g&&Vn(g)||(p=a.selection.editableElement)}p&&(i.change(g=>{g.setAttribute("draggable","true",p)}),this._draggableElement=n.editing.mapper.toModelElement(p))}),this.listenTo(a,"mouseup",()=>{v.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const n=this.editor.editing;n.view.change(i=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&i.removeAttribute("draggable",n.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(n){const i=this.editor,a=i.model;i.plugins.get(lk).removeDropMarker(),this._clearDraggableAttributes(),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(n&&this.isEnabled&&a.change(c=>{const d=a.createSelection(this._draggedRange);a.deleteContent(d,{doNotAutoparagraph:!0});const p=d.getFirstPosition().parent;p.isEmpty&&!a.schema.checkChild(p,"$text")&&a.schema.checkChild(p,"paragraph")&&c.insertElement("paragraph",p,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(n){const i=this.editor,a=i.model,c=a.document.selection,d=n?yR(n):null;if(d){const w=i.editing.mapper.toModelElement(d);this._draggedRange=To.fromRange(a.createRangeOn(w)),this._blockMode=a.schema.isBlock(w),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(c.isCollapsed&&!c.getFirstPosition().parent.isEmpty)return;const p=Array.from(c.getSelectedBlocks()),g=c.getFirstRange();if(p.length==0)return void(this._draggedRange=To.fromRange(g));const b=_R(a,p);if(p.length>1)this._draggedRange=To.fromRange(b),this._blockMode=!0;else if(p.length==1){const w=g.start.isTouching(b.start)&&g.end.isTouching(b.end);this._draggedRange=To.fromRange(w?b:g),this._blockMode=w}a.change(w=>w.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:n,domTarget:i,clientX:a}){const c=this.editor.editing.view,d=c.document.selection.editableElement,p=c.domConverter.mapViewToDom(d),g=m.window.getComputedStyle(p);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=oo(m.document,"div",{style:"position: fixed; left: -999999px;"}),m.document.body.appendChild(this._previewContainer));const b=new kt(p);if(p.contains(i))return;const w=parseFloat(g.paddingLeft),C=oo(m.document,"div");C.className="ck ck-content",C.style.width=g.width,C.style.paddingLeft=`${b.left-a+w}px`,v.isiOS&&(C.style.backgroundColor="white"),C.innerHTML=n.getData("text/html"),n.setDragImage(C,0,0),this._previewContainer.appendChild(C)}}function wR(l){return v.isGecko?l.dropEffect:["all","copyMove"].includes(l.effectAllowed)?"move":"copy"}function yR(l){if(l.is("editableElement"))return null;if(l.hasClass("ck-widget__selection-handle"))return l.findAncestor(Vn);if(Vn(l))return l;const n=l.findAncestor(i=>Vn(i)||i.is("editableElement"));return Vn(n)?n:null}function _R(l,n){const i=n[0],a=n[n.length-1],c=i.getCommonAncestor(a),d=l.createPositionBefore(i),p=l.createPositionAfter(a);if(c&&c.is("element")&&!l.schema.isLimit(c)){const g=l.createRangeOn(c),b=d.isTouching(g.start),w=p.isTouching(g.end);if(b&&w)return _R(l,[c])}return l.createRange(d,p)}class one extends me{static get pluginName(){return"PastePlainText"}static get requires(){return[oi]}init(){const n=this.editor,i=n.model,a=n.editing.view,c=a.document,d=i.document.selection;let p=!1;a.addObserver(Ip),this.listenTo(c,"keydown",(g,b)=>{p=b.shiftKey}),n.plugins.get(oi).on("contentInsertion",(g,b)=>{(p||function(w,C){if(w.childCount>1)return!1;const x=w.getChild(0);return C.isObject(x)?!1:Array.from(x.getAttributeKeys()).length==0}(b.content,i.schema))&&i.change(w=>{const C=Array.from(d.getAttributes()).filter(([D])=>i.schema.getAttributeProperties(D).isFormatting);d.isCollapsed||i.deleteContent(d,{doNotAutoparagraph:!0}),C.push(...d.getAttributes());const x=w.createRangeIn(b.content);for(const D of x.getItems())D.is("$textProxy")&&w.setAttributes(C,D)})})}}class CR extends me{static get pluginName(){return"Clipboard"}static get requires(){return[Mp,oi,rne,one]}init(){const n=this.editor,i=this.editor.t;n.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Copy selected content"),keystroke:"CTRL+C"},{label:i("Paste content"),keystroke:"CTRL+V"},{label:i("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class ine extends ft{constructor(n){super(n),this.affectsData=!1}execute(){const n=this.editor.model,i=n.document.selection;let a=n.schema.getLimitElement(i);if(i.containsEntireContent(a)||!AR(n.schema,a))do if(a=a.parent,!a)return;while(!AR(n.schema,a));n.change(c=>{c.setSelection(a,"in")})}}function AR(l,n){return l.isLimit(n)&&(l.checkChild(n,"$text")||l.checkChild(n,"paragraph"))}const sne=dp("Ctrl+A");class ane extends me{static get pluginName(){return"SelectAllEditing"}init(){const n=this.editor,i=n.t,a=n.editing.view.document;n.commands.add("selectAll",new ine(n)),this.listenTo(a,"keydown",(c,d)=>{Iu(d)===sne&&(n.execute("selectAll"),d.preventDefault())}),n.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Select all"),keystroke:"CTRL+A"}]})}}class lne extends me{static get pluginName(){return"SelectAllUI"}init(){const n=this.editor;n.ui.componentFactory.add("selectAll",()=>{const i=this._createButton(Mt);return i.set({tooltip:!0}),i}),n.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(Mo))}_createButton(n){const i=this.editor,a=i.locale,c=i.commands.get("selectAll"),d=new n(i.locale),p=a.t;return d.set({label:p("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),d.bind("isEnabled").to(c,"isEnabled"),this.listenTo(d,"execute",()=>{i.execute("selectAll"),i.editing.view.focus()}),d}}class cne extends me{static get requires(){return[ane,lne]}static get pluginName(){return"SelectAll"}}var une=Object.defineProperty,xR=Object.getOwnPropertySymbols,dne=Object.prototype.hasOwnProperty,hne=Object.prototype.propertyIsEnumerable,ER=(l,n,i)=>n in l?une(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i;class SR extends ft{constructor(n){super(n),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(n.data,"set",(i,a)=>{a[1]=((d,p)=>{for(var g in p||(p={}))dne.call(p,g)&&ER(d,g,p[g]);if(xR)for(var g of xR(p))hne.call(p,g)&&ER(d,g,p[g]);return d})({},a[1]);const c=a[1];c.batchType||(c.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(n.data,"set",(i,a)=>{a[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(n){const i=this.editor.model.document.selection,a={ranges:i.hasOwnRange?Array.from(i.getRanges()):[],isBackward:i.isBackward};this._stack.push({batch:n,selection:a}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(n,i,a){const c=this.editor.model,d=c.document,p=[],g=n.map(w=>w.getTransformedByOperations(a)),b=g.flat();for(const w of g){const C=w.filter(x=>x.root!=d.graveyard).filter(x=>!fne(x,b));C.length&&(pne(C),p.push(C[0]))}p.length&&c.change(w=>{w.setSelection(p,{backward:i})})}_undo(n,i){const a=this.editor.model,c=a.document;this._createdBatches.add(i);const d=n.operations.slice().filter(p=>p.isDocumentOperation);d.reverse();for(const p of d){const g=p.baseVersion+1,b=Array.from(c.history.getOperations(g)),w=GZ([p.getReversed()],b,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let C of w){const x=C.affectedSelectable;x&&!a.canEditAt(x)&&(C=new nr(C.baseVersion)),i.addOperation(C),a.applyOperation(C),c.history.setOperationAsUndone(p,C)}}}}function pne(l){l.sort((n,i)=>n.start.isBefore(i.start)?-1:1);for(let n=1;n<l.length;n++){const i=l[n-1].getJoined(l[n],!0);i&&(n--,l.splice(n,2,i))}}function fne(l,n){return n.some(i=>i!==l&&i.containsRange(l,!0))}class mne extends SR{execute(n=null){const i=n?this._stack.findIndex(d=>d.batch==n):this._stack.length-1,a=this._stack.splice(i,1)[0],c=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(c,()=>{this._undo(a.batch,c);const d=this.editor.model.document.history.getOperations(a.batch.baseVersion);this._restoreSelection(a.selection.ranges,a.selection.isBackward,d)}),this.fire("revert",a.batch,c),this.refresh()}}class gne extends SR{execute(){const n=this._stack.pop(),i=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(i,()=>{const a=n.batch.operations[n.batch.operations.length-1].baseVersion+1,c=this.editor.model.document.history.getOperations(a);this._restoreSelection(n.selection.ranges,n.selection.isBackward,c),this._undo(n.batch,i)}),this.refresh()}}class bne extends me{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const n=this.editor,i=n.t;this._undoCommand=new mne(n),this._redoCommand=new gne(n),n.commands.add("undo",this._undoCommand),n.commands.add("redo",this._redoCommand),this.listenTo(n.model,"applyOperation",(a,c)=>{const d=c[0];if(!d.isDocumentOperation)return;const p=d.batch,g=this._redoCommand.createdBatches.has(p),b=this._undoCommand.createdBatches.has(p);this._batchRegistry.has(p)||(this._batchRegistry.add(p),p.isUndoable&&(g?this._undoCommand.addBatch(p):b||(this._undoCommand.addBatch(p),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(a,c,d)=>{this._redoCommand.addBatch(d)}),n.keystrokes.set("CTRL+Z","undo"),n.keystrokes.set("CTRL+Y","redo"),n.keystrokes.set("CTRL+SHIFT+Z","redo"),n.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Undo"),keystroke:"CTRL+Z"},{label:i("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class kne extends me{static get pluginName(){return"UndoUI"}init(){const n=this.editor,i=n.locale,a=n.t,c=i.uiLanguageDirection=="ltr"?rt.undo:rt.redo,d=i.uiLanguageDirection=="ltr"?rt.redo:rt.undo;this._addButtonsToFactory("undo",a("Undo"),"CTRL+Z",c),this._addButtonsToFactory("redo",a("Redo"),"CTRL+Y",d)}_addButtonsToFactory(n,i,a,c){const d=this.editor;d.ui.componentFactory.add(n,()=>{const p=this._createButton(Mt,n,i,a,c);return p.set({tooltip:!0}),p}),d.ui.componentFactory.add("menuBar:"+n,()=>this._createButton(Mo,n,i,a,c))}_createButton(n,i,a,c,d){const p=this.editor,g=p.locale,b=p.commands.get(i),w=new n(g);return w.set({label:a,icon:d,keystroke:c}),w.bind("isEnabled").to(b,"isEnabled"),this.listenTo(w,"execute",()=>{p.execute(i),p.editing.view.focus()}),w}}class DR extends me{static get requires(){return[bne,kne]}static get pluginName(){return"Undo"}}class vne extends be(){constructor(){super();const n=new window.FileReader;this._reader=n,this._data=void 0,this.set("loaded",0),n.onprogress=i=>{this.loaded=i.loaded}}get error(){return this._reader.error}get data(){return this._data}read(n){const i=this._reader;return this.total=n.size,new Promise((a,c)=>{i.onload=()=>{const d=i.result;this._data=d,a(d)},i.onerror=()=>{c("error")},i.onabort=()=>{c("aborted")},this._reader.readAsDataURL(n)})}abort(){this._reader.abort()}}class Oi extends me{constructor(){super(...arguments),this.loaders=new Di,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[UP]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(n,i)=>i?n/i*100:0)}getLoader(n){return this._loadersMap.get(n)||null}createLoader(n){if(!this.createUploadAdapter)return z("filerepository-no-upload-adapter"),null;const i=new TR(Promise.resolve(n),this.createUploadAdapter);return this.loaders.add(i),this._loadersMap.set(n,i),n instanceof Promise&&i.file.then(a=>{this._loadersMap.set(a,i)}).catch(()=>{}),i.on("change:uploaded",()=>{let a=0;for(const c of this.loaders)a+=c.uploaded;this.uploaded=a}),i.on("change:uploadTotal",()=>{let a=0;for(const c of this.loaders)c.uploadTotal&&(a+=c.uploadTotal);this.uploadTotal=a}),i}destroyLoader(n){const i=n instanceof TR?n:this.getLoader(n);i._destroy(),this.loaders.remove(i),this._loadersMap.forEach((a,c)=>{a===i&&this._loadersMap.delete(c)})}_updatePendingAction(){const n=this.editor.plugins.get(UP);if(this.loaders.length){if(!this._pendingAction){const i=this.editor.t,a=c=>`${i("Upload in progress")} ${parseInt(c)}%.`;this._pendingAction=n.add(a(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",a)}}else n.remove(this._pendingAction),this._pendingAction=null}}class TR extends be(){constructor(n,i){super(),this.id=O(),this._filePromiseWrapper=this._createFilePromiseWrapper(n),this._adapter=i(this),this._reader=new vne,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(a,c)=>c?a/c*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(n=>this._filePromiseWrapper?n:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new P("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(n=>this._reader.read(n)).then(n=>{if(this.status!=="reading")throw this.status;return this.status="idle",n}).catch(n=>{throw n==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:n)})}upload(){if(this.status!="idle")throw new P("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(n=>(this.uploadResponse=n,this.status="idle",n)).catch(n=>{throw this.status==="aborted"?"aborted":(this.status="error",n)})}abort(){const n=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?n=="reading"?this._reader.abort():n=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(n){const i={};return i.promise=new Promise((a,c)=>{i.rejecter=c,i.isFulfilled=!1,n.then(d=>{i.isFulfilled=!0,a(d)}).catch(d=>{i.isFulfilled=!0,c(d)})}),i}}const IR="ckCsrfToken",MR="abcdefghijklmnopqrstuvwxyz0123456789";function wne(){let l=function(a){a=a.toLowerCase();const c=document.cookie.split(";");for(const d of c){const p=d.split("=");if(decodeURIComponent(p[0].trim().toLowerCase())===a)return decodeURIComponent(p[1])}return null}(IR);var n,i;return l&&l.length==40||(l=function(a){let c="";const d=new Uint8Array(a);window.crypto.getRandomValues(d);for(let p=0;p<d.length;p++){const g=MR.charAt(d[p]%MR.length);c+=Math.random()>.5?g.toUpperCase():g}return c}(40),n=IR,i=l,document.cookie=encodeURIComponent(n)+"="+encodeURIComponent(i)+";path=/"),l}class yne{constructor(n,i,a){this.loader=n,this.url=i,this.t=a}upload(){return this.loader.file.then(n=>new Promise((i,a)=>{this._initRequest(),this._initListeners(i,a,n),this._sendRequest(n)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const n=this.xhr=new XMLHttpRequest;n.open("POST",this.url,!0),n.responseType="json"}_initListeners(n,i,a){const c=this.xhr,d=this.loader,p=(0,this.t)("Cannot upload file:")+` ${a.name}.`;c.addEventListener("error",()=>i(p)),c.addEventListener("abort",()=>i()),c.addEventListener("load",()=>{const g=c.response;if(!g||!g.uploaded)return i(g&&g.error&&g.error.message?g.error.message:p);n({default:g.url})}),c.upload&&c.upload.addEventListener("progress",g=>{g.lengthComputable&&(d.uploadTotal=g.total,d.uploaded=g.loaded)})}_sendRequest(n){const i=new FormData;i.append("upload",n),i.append("ckCsrfToken",wne()),this.xhr.send(i)}}function Na(l,n,i,a){let c,d=null;typeof a=="function"?c=a:(d=l.commands.get(a),c=()=>{l.execute(a)}),l.model.document.on("change:data",(p,g)=>{if(d&&!d.isEnabled||!n.isEnabled)return;const b=ur(l.model.document.selection.getRanges());if(!b.isCollapsed||g.isUndo||!g.isLocal)return;const w=Array.from(l.model.document.differ.getChanges()),C=w[0];if(w.length!=1||C.type!=="insert"||C.name!="$text"||C.length!=1)return;const x=C.position.parent;if(x.is("element","codeBlock")||x.is("element","listItem")&&typeof a!="function"&&!["numberedList","bulletedList","todoList"].includes(a)||d&&d.value===!0)return;const D=x.getChild(0),N=l.model.createRangeOn(D);if(!N.containsRange(b)&&!b.end.isEqual(N.end))return;const B=i.exec(D.data.substr(0,b.end.offset));B&&l.model.enqueueChange(F=>{const U=F.createPositionAt(x,0),W=F.createPositionAt(x,B[0].length),Y=new To(U,W);if(c({match:B})!==!1){F.remove(Y);const oe=l.model.document.selection.getFirstRange(),ue=F.createRangeIn(x);!x.isEmpty||ue.isEqual(oe)||ue.containsRange(oe,!0)||F.remove(x)}Y.detach(),l.model.enqueueChange(()=>{l.plugins.get("Delete").requestUndoOnBackspace()})})})}function Gu(l,n,i,a){let c,d;i instanceof RegExp?c=i:d=i,d=d||(p=>{let g;const b=[],w=[];for(;(g=c.exec(p))!==null&&!(g&&g.length<4);){let{index:C,1:x,2:D,3:N}=g;const B=x+D+N;C+=g[0].length-B.length;const F=[C,C+x.length],U=[C+x.length+D.length,C+x.length+D.length+N.length];b.push(F),b.push(U),w.push([C+x.length,C+x.length+D.length])}return{remove:b,format:w}}),l.model.document.on("change:data",(p,g)=>{if(g.isUndo||!g.isLocal||!n.isEnabled)return;const b=l.model,w=b.document.selection;if(!w.isCollapsed)return;const C=Array.from(b.document.differ.getChanges()),x=C[0];if(C.length!=1||x.type!=="insert"||x.name!="$text"||x.length!=1)return;const D=w.focus,N=D.parent,{text:B,range:F}=function(oe,ue){let Ee=oe.start;return{text:Array.from(oe.getItems()).reduce((st,on)=>!on.is("$text")&&!on.is("$textProxy")||on.getAttribute("code")?(Ee=ue.createPositionAfter(on),""):st+on.data,""),range:ue.createRange(Ee,oe.end)}}(b.createRange(b.createPositionAt(N,0),D),b),U=d(B),W=PR(F.start,U.format,b),Y=PR(F.start,U.remove,b);W.length&&Y.length&&b.enqueueChange(oe=>{if(a(oe,W)!==!1){for(const ue of Y.reverse())oe.remove(ue);b.enqueueChange(()=>{l.plugins.get("Delete").requestUndoOnBackspace()})}})})}function PR(l,n,i){return n.filter(a=>a[0]!==void 0&&a[1]!==void 0).map(a=>i.createRange(l.getShiftedBy(a[0]),l.getShiftedBy(a[1])))}function uk(l,n){return(i,a)=>{if(!l.commands.get(n).isEnabled)return!1;const c=l.model.schema.getValidRanges(a,n);for(const d of c)i.setAttribute(n,!0,d);i.removeSelectionAttribute(n)}}class NR extends ft{constructor(n,i){super(n),this.attributeKey=i}refresh(){const n=this.editor.model,i=n.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=n.schema.checkAttributeInSelection(i.selection,this.attributeKey)}execute(n={}){const i=this.editor.model,a=i.document.selection,c=n.forceValue===void 0?!this.value:n.forceValue;i.change(d=>{if(a.isCollapsed)c?d.setSelectionAttribute(this.attributeKey,!0):d.removeSelectionAttribute(this.attributeKey);else{const p=i.schema.getValidRanges(a.getRanges(),this.attributeKey);for(const g of p)c?d.setAttribute(this.attributeKey,c,g):d.removeAttribute(this.attributeKey,g)}})}_getValueFromFirstAllowedNode(){const n=this.editor.model,i=n.schema,a=n.document.selection;if(a.isCollapsed)return a.hasAttribute(this.attributeKey);for(const c of a.getRanges())for(const d of c.getItems())if(i.checkAttribute(d,this.attributeKey))return d.hasAttribute(this.attributeKey);return!1}}const Ku="bold";class _ne extends me{static get pluginName(){return"BoldEditing"}init(){const n=this.editor,i=this.editor.t;n.model.schema.extend("$text",{allowAttributes:Ku}),n.model.schema.setAttributeProperties(Ku,{isFormatting:!0,copyOnEnter:!0}),n.conversion.attributeToElement({model:Ku,view:"strong",upcastAlso:["b",a=>{const c=a.getStyle("font-weight");return c&&(c=="bold"||Number(c)>=600)?{name:!0,styles:["font-weight"]}:null}]}),n.commands.add(Ku,new NR(n,Ku)),n.keystrokes.set("CTRL+B",Ku),n.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Bold text"),keystroke:"CTRL+B"}]})}}function RR({editor:l,commandName:n,plugin:i,icon:a,label:c,keystroke:d}){return p=>{const g=l.commands.get(n),b=new p(l.locale);return b.set({label:c,icon:a,keystroke:d,isToggleable:!0}),b.bind("isEnabled").to(g,"isEnabled"),i.listenTo(b,"execute",()=>{l.execute(n),l.editing.view.focus()}),b}}const dk="bold";class Cne extends me{static get pluginName(){return"BoldUI"}init(){const n=this.editor,i=n.locale.t,a=n.commands.get(dk),c=RR({editor:n,commandName:dk,plugin:this,icon:rt.bold,label:i("Bold"),keystroke:"CTRL+B"});n.ui.componentFactory.add(dk,()=>{const d=c(Mt);return d.set({tooltip:!0}),d.bind("isOn").to(a,"value"),d}),n.ui.componentFactory.add("menuBar:"+dk,()=>c(Mo))}}var OR=s(4199),Ane={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(OR.A,Ane),OR.A.locals;const Yu="italic";class xne extends me{static get pluginName(){return"ItalicEditing"}init(){const n=this.editor,i=this.editor.t;n.model.schema.extend("$text",{allowAttributes:Yu}),n.model.schema.setAttributeProperties(Yu,{isFormatting:!0,copyOnEnter:!0}),n.conversion.attributeToElement({model:Yu,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),n.commands.add(Yu,new NR(n,Yu)),n.keystrokes.set("CTRL+I",Yu),n.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Italic text"),keystroke:"CTRL+I"}]})}}const hk="italic";class Ene extends me{static get pluginName(){return"ItalicUI"}init(){const n=this.editor,i=n.commands.get(hk),a=n.locale.t,c=RR({editor:n,commandName:hk,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:a("Italic")});n.ui.componentFactory.add(hk,()=>{const d=c(Mt);return d.set({tooltip:!0}),d.bind("isOn").to(i,"value"),d}),n.ui.componentFactory.add("menuBar:"+hk,()=>c(Mo))}}class Sne extends ft{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(n={}){const i=this.editor.model,a=i.schema,c=i.document.selection,d=Array.from(c.getSelectedBlocks()),p=n.forceValue===void 0?!this.value:n.forceValue;i.change(g=>{if(p){const b=d.filter(w=>pk(w)||LR(a,w));this._applyQuote(g,b)}else this._removeQuote(g,d.filter(pk))})}_getValue(){const n=ur(this.editor.model.document.selection.getSelectedBlocks());return!(!n||!pk(n))}_checkEnabled(){if(this.value)return!0;const n=this.editor.model.document.selection,i=this.editor.model.schema,a=ur(n.getSelectedBlocks());return!!a&&LR(i,a)}_removeQuote(n,i){BR(n,i).reverse().forEach(a=>{if(a.start.isAtStart&&a.end.isAtEnd)return void n.unwrap(a.start.parent);if(a.start.isAtStart){const d=n.createPositionBefore(a.start.parent);return void n.move(a,d)}a.end.isAtEnd||n.split(a.end);const c=n.createPositionAfter(a.end.parent);n.move(a,c)})}_applyQuote(n,i){const a=[];BR(n,i).reverse().forEach(c=>{let d=pk(c.start);d||(d=n.createElement("blockQuote"),n.wrap(c,d)),a.push(d)}),a.reverse().reduce((c,d)=>c.nextSibling==d?(n.merge(n.createPositionAfter(c)),c):d)}}function pk(l){return l.parent.name=="blockQuote"?l.parent:null}function BR(l,n){let i,a=0;const c=[];for(;a<n.length;){const d=n[a],p=n[a+1];i||(i=l.createPositionBefore(d)),p&&d.nextSibling==p||(c.push(l.createRange(i,l.createPositionAfter(d))),i=null),a++}return c}function LR(l,n){const i=l.checkChild(n.parent,"blockQuote"),a=l.checkChild(["$root","blockQuote"],n);return i&&a}class Dne extends me{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[ik,Hs]}init(){const n=this.editor,i=n.model.schema;n.commands.add("blockQuote",new Sne(n)),i.register("blockQuote",{inheritAllFrom:"$container"}),n.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),n.model.document.registerPostFixer(p=>{const g=n.model.document.differ.getChanges();for(const b of g)if(b.type=="insert"){const w=b.position.nodeAfter;if(!w)continue;if(w.is("element","blockQuote")&&w.isEmpty)return p.remove(w),!0;if(w.is("element","blockQuote")&&!i.checkChild(b.position,w))return p.unwrap(w),!0;if(w.is("element")){const C=p.createRangeIn(w);for(const x of C.getItems())if(x.is("element","blockQuote")&&!i.checkChild(p.createPositionBefore(x),x))return p.unwrap(x),!0}}else if(b.type=="remove"){const w=b.position.parent;if(w.is("element","blockQuote")&&w.isEmpty)return p.remove(w),!0}return!1});const a=this.editor.editing.view.document,c=n.model.document.selection,d=n.commands.get("blockQuote");this.listenTo(a,"enter",(p,g)=>{!c.isCollapsed||!d.value||c.getLastPosition().parent.isEmpty&&(n.execute("blockQuote"),n.editing.view.scrollToTheSelection(),g.preventDefault(),p.stop())},{context:"blockquote"}),this.listenTo(a,"delete",(p,g)=>{if(g.direction!="backward"||!c.isCollapsed||!d.value)return;const b=c.getLastPosition().parent;b.isEmpty&&!b.previousSibling&&(n.execute("blockQuote"),n.editing.view.scrollToTheSelection(),g.preventDefault(),p.stop())},{context:"blockquote"})}}var jR=s(8708),Tne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(jR.A,Tne),jR.A.locals;class Ine extends me{static get pluginName(){return"BlockQuoteUI"}init(){const n=this.editor,i=n.commands.get("blockQuote");n.ui.componentFactory.add("blockQuote",()=>{const a=this._createButton(Mt);return a.set({tooltip:!0}),a.bind("isOn").to(i,"value"),a}),n.ui.componentFactory.add("menuBar:blockQuote",()=>this._createButton(Mo))}_createButton(n){const i=this.editor,a=i.locale,c=i.commands.get("blockQuote"),d=new n(i.locale),p=a.t;return d.set({label:p("Block quote"),icon:rt.quote,isToggleable:!0}),d.bind("isEnabled").to(c,"isEnabled"),this.listenTo(d,"execute",()=>{i.execute("blockQuote"),i.editing.view.focus()}),d}}class Mne extends me{static get pluginName(){return"CKBoxUI"}afterInit(){const n=this.editor;if(!n.commands.get("ckbox"))return;const i=n.t,a=n.ui.componentFactory;if(a.add("ckbox",()=>{const c=this._createButton(Mt);return c.tooltip=!0,c}),a.add("menuBar:ckbox",()=>this._createButton(Mo)),n.plugins.has("ImageInsertUI")){const c=n.plugins.get("ImageInsertUI");c.registerIntegration({name:"assetManager",observable:()=>n.commands.get("ckbox"),buttonViewCreator:()=>{const d=this.editor.ui.componentFactory.create("ckbox");return d.icon=rt.imageAssetManager,d.bind("label").to(c,"isImageSelected",p=>i(p?"Replace image with file manager":"Insert image with file manager")),d},formViewCreator:()=>{const d=this.editor.ui.componentFactory.create("ckbox");return d.icon=rt.imageAssetManager,d.withText=!0,d.bind("label").to(c,"isImageSelected",p=>i(p?"Replace with file manager":"Insert with file manager")),d.on("execute",()=>{c.dropdownView.isOpen=!1}),d}})}}_createButton(n){const i=this.editor,a=i.locale,c=new n(a),d=i.commands.get("ckbox"),p=a.t;return c.set({label:p("Open file manager"),icon:rt.browseFiles}),c.bind("isOn","isEnabled").to(d,"value","isEnabled"),c.on("execute",()=>{i.execute("ckbox")}),c}}var Pne=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],Bp=l=>{let n=0;for(let i=0;i<l.length;i++){let a=l[i];n=83*n+Pne.indexOf(a)}return n},uA=l=>{let n=l/255;return n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)},dA=l=>{let n=Math.max(0,Math.min(1,l));return n<=.0031308?Math.trunc(12.92*n*255+.5):Math.trunc(255*(1.055*Math.pow(n,.4166666666666667)-.055)+.5)},hA=(l,n)=>(i=>i<0?-1:1)(l)*Math.pow(Math.abs(l),n),FR=class extends Error{constructor(l){super(l),this.name="ValidationError",this.message=l}},Nne=l=>{if(!l||l.length<6)throw new FR("The blurhash string must be at least 6 characters");let n=Bp(l[0]),i=Math.floor(n/9)+1,a=n%9+1;if(l.length!==4+2*a*i)throw new FR(`blurhash length mismatch: length is ${l.length} but it should be ${4+2*a*i}`)},Rne=l=>{let n=l>>8&255,i=255&l;return[uA(l>>16),uA(n),uA(i)]},One=(l,n)=>{let i=Math.floor(l/361),a=Math.floor(l/19)%19,c=l%19;return[hA((i-9)/9,2)*n,hA((a-9)/9,2)*n,hA((c-9)/9,2)*n]},Bne=(l,n,i,a)=>{Nne(l),a|=1;let c=Bp(l[0]),d=Math.floor(c/9)+1,p=c%9+1,g=(Bp(l[1])+1)/166,b=new Array(p*d);for(let x=0;x<b.length;x++)if(x===0){let D=Bp(l.substring(2,6));b[x]=Rne(D)}else{let D=Bp(l.substring(4+2*x,6+2*x));b[x]=One(D,g*a)}let w=4*n,C=new Uint8ClampedArray(w*i);for(let x=0;x<i;x++)for(let D=0;D<n;D++){let N=0,B=0,F=0;for(let oe=0;oe<d;oe++)for(let ue=0;ue<p;ue++){let Ee=Math.cos(Math.PI*D*ue/n)*Math.cos(Math.PI*x*oe/i),Ze=b[ue+oe*p];N+=Ze[0]*Ee,B+=Ze[1]*Ee,F+=Ze[2]*Ee}let U=dA(N),W=dA(B),Y=dA(F);C[4*D+0+x*w]=U,C[4*D+1+x*w]=W,C[4*D+2+x*w]=Y,C[4*D+3+x*w]=255}return C},Lne=Object.defineProperty,zR=Object.getOwnPropertySymbols,jne=Object.prototype.hasOwnProperty,Fne=Object.prototype.propertyIsEnumerable,$R=(l,n,i)=>n in l?Lne(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i;function VR(l){const n=[];let i=0;for(const c in l){const d=parseInt(c,10);isNaN(d)||(d>i&&(i=d),n.push(`${l[c]} ${c}w`))}const a=[{srcset:n.join(","),sizes:`(max-width: ${i}px) 100vw, ${i}px`,type:"image/webp"}];return{imageFallbackUrl:l.default,imageSources:a}}const Lp=32;function UR({url:l,method:n="GET",data:i,onUploadProgress:a,signal:c,authorization:d}){const p=new XMLHttpRequest;p.open(n,l.toString()),p.setRequestHeader("Authorization",d),p.setRequestHeader("CKBox-Version","CKEditor 5"),p.responseType="json";const g=()=>{p.abort()};return new Promise((b,w)=>{c.throwIfAborted(),c.addEventListener("abort",g),p.addEventListener("loadstart",()=>{c.addEventListener("abort",g)}),p.addEventListener("loadend",()=>{c.removeEventListener("abort",g)}),p.addEventListener("error",()=>{w()}),p.addEventListener("abort",()=>{w()}),p.addEventListener("load",()=>{const C=p.response;if(!C||C.statusCode>=400)return w(C&&C.message);b(C)}),a&&p.upload.addEventListener("progress",C=>{a(C)}),p.send(i)})}const zne={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};function $ne(l,n){return i=this,a=null,c=function*(){try{const d=yield fetch(l,((p,g)=>{for(var b in g||(g={}))jne.call(g,b)&&$R(p,b,g[b]);if(zR)for(var b of zR(g))Fne.call(g,b)&&$R(p,b,g[b]);return p})({method:"HEAD",cache:"force-cache"},n));return d.ok&&d.headers.get("content-type")||""}catch{return""}},new Promise((d,p)=>{var g=C=>{try{w(c.next(C))}catch(x){p(x)}},b=C=>{try{w(c.throw(C))}catch(x){p(x)}},w=C=>C.done?d(C.value):Promise.resolve(C.value).then(g,b);w((c=c.apply(i,a)).next())});var i,a,c}var Vne=Object.defineProperty,HR=Object.getOwnPropertySymbols,Une=Object.prototype.hasOwnProperty,Hne=Object.prototype.propertyIsEnumerable,WR=(l,n,i)=>n in l?Vne(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,qR=(l,n)=>{for(var i in n||(n={}))Une.call(n,i)&&WR(l,i,n[i]);if(HR)for(var i of HR(n))Hne.call(n,i)&&WR(l,i,n[i]);return l};class Wne extends ft{constructor(n){super(n),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const n=this.editor.commands.get("insertImage"),i=this.editor.commands.get("link");return!(!n.isEnabled&&!i.isEnabled)}_prepareOptions(){const n=this.editor.config.get("ckbox");return{theme:n.theme,language:n.language,tokenUrl:n.tokenUrl,serviceOrigin:n.serviceOrigin,forceDemoLabel:n.forceDemoLabel,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:i=>this.fire("ckbox:choose",i)}}}_initListeners(){const n=this.editor,i=n.model,a=!n.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=oo(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null,n.editing.view.focus())}),this.on("ckbox:choose",(c,d)=>{if(!this.isEnabled)return;const p=n.commands.get("insertImage"),g=n.commands.get("link"),b=function({assets:C,isImageAllowed:x,isLinkAllowed:D}){return C.map(N=>function(B){const F=B.data.metadata;return F?F.width&&F.height:!1}(N)?{id:N.data.id,type:"image",attributes:qne(N)}:{id:N.data.id,type:"link",attributes:Gne(N)}).filter(N=>N.type==="image"?x:D)}({assets:d,isImageAllowed:p.isEnabled,isLinkAllowed:g.isEnabled}),w=b.length;w!==0&&(i.change(C=>{for(const x of b){const D=x===b[w-1],N=w===1;this._insertAsset(x,D,C,N),a&&(setTimeout(()=>this._chosenAssets.delete(x),1e3),this._chosenAssets.add(x))}}),n.editing.view.focus())}),this.listenTo(n,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(n,i,a,c){const d=this.editor.model.document.selection;a.removeSelectionAttribute("linkHref"),n.type==="image"?this._insertImage(n):this._insertLink(n,a,c),i||a.setSelection(d.getLastPosition())}_insertImage(n){const i=this.editor,{imageFallbackUrl:a,imageSources:c,imageTextAlternative:d,imageWidth:p,imageHeight:g,imagePlaceholder:b}=n.attributes;i.execute("insertImage",{source:qR({src:a,sources:c,alt:d,width:p,height:g},b?{placeholder:b}:null)})}_insertLink(n,i,a){const c=this.editor,d=c.model,p=d.document.selection,{linkName:g,linkHref:b}=n.attributes;if(p.isCollapsed){const w=Qi(p.getAttributes()),C=i.createText(g,w);if(!a){const D=p.getLastPosition(),N=D.parent;N.name==="paragraph"&&N.isEmpty||c.execute("insertParagraph",{position:D});const B=d.insertContent(C);return i.setSelection(B),void c.execute("link",b)}const x=d.insertContent(C);i.setSelection(x)}c.execute("link",b)}}function qne(l){const{imageFallbackUrl:n,imageSources:i}=VR(l.data.imageUrls),{description:a,width:c,height:d,blurHash:p}=l.data.metadata,g=function(b){if(b)try{const w=`${Lp}px`,C=document.createElement("canvas");C.setAttribute("width",w),C.setAttribute("height",w);const x=C.getContext("2d");if(!x)return;const D=x.createImageData(Lp,Lp),N=Bne(b,Lp,Lp);return D.data.set(N),x.putImageData(D,0,0),C.toDataURL()}catch{return}}(p);return qR({imageFallbackUrl:n,imageSources:i,imageTextAlternative:a||"",imageWidth:c,imageHeight:d},g?{imagePlaceholder:g}:null)}function Gne(l){return{linkName:l.data.name,linkHref:Kne(l)}}function Kne(l){const n=new URL(l.data.url);return n.searchParams.set("download","true"),n.toString()}var pA=(l,n,i)=>new Promise((a,c)=>{var d=b=>{try{g(i.next(b))}catch(w){c(w)}},p=b=>{try{g(i.throw(b))}catch(w){c(w)}},g=b=>b.done?a(b.value):Promise.resolve(b.value).then(d,p);g((i=i.apply(l,n)).next())});class GR extends me{static get pluginName(){return"CKBoxUtils"}static get requires(){return["CloudServices"]}init(){return pA(this,null,function*(){const n=this.editor,i=!!n.config.get("ckbox"),a=!!window.CKBox;if(!i&&!a)return;n.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:n.locale.uiLanguage,theme:"lark",tokenUrl:n.config.get("cloudServices.tokenUrl")});const c=n.plugins.get("CloudServices"),d=n.config.get("cloudServices.tokenUrl"),p=n.config.get("ckbox.tokenUrl");if(!p)throw new P("ckbox-plugin-missing-token-url",this);this._token=p==d?c.token:yield c.registerTokenUrl(p)})}getToken(){return this._token}getWorkspaceId(){const n=(0,this.editor.t)("Cannot access default workspace."),i=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),a=function(c,d){const[,p]=c.value.split("."),g=JSON.parse(atob(p)),b=g.auth&&g.auth.ckbox&&g.auth.ckbox.workspaces||[g.aud];return d?(g.auth&&g.auth.ckbox&&g.auth.ckbox.role)=="superadmin"||b.includes(d)?d:null:b[0]}(this._token,i);if(a==null)throw q("ckbox-access-default-workspace-error"),n;return a}getCategoryIdForFile(n,i){return pA(this,null,function*(){const a=(0,this.editor.t)("Cannot determine a category for the uploaded file."),c=this.editor.config.get("ckbox.defaultUploadCategories"),d=this._getAvailableCategories(i),p=typeof n=="string"?(g=yield $ne(n,i),zne[g]):function(C){const x=C.name,D=new RegExp("\\.(?<ext>[^.]+)$");return x.match(D).groups.ext.toLowerCase()}(n);var g;const b=yield d;if(!b)throw a;if(c){const C=Object.keys(c).find(x=>c[x].find(D=>D.toLowerCase()==p));if(C){const x=b.find(D=>D.id===C||D.name===C);if(!x)throw a;return x.id}}const w=b.find(C=>C.extensions.find(x=>x.toLowerCase()==p));if(!w)throw a;return w.id})}_getAvailableCategories(n){return pA(this,null,function*(){const i=this.editor,a=this._token,{signal:c}=n,d=i.config.get("ckbox.serviceOrigin"),p=this.getWorkspaceId();try{const b=[];let w,C=0;do{const x=yield g(C);b.push(...x.items),w=x.totalCount-(C+50),C+=50}while(w>0);return b}catch{return c.throwIfAborted(),void q("ckbox-fetch-category-http-error")}function g(b){const w=new URL("categories",d);return w.searchParams.set("limit","50"),w.searchParams.set("offset",b.toString()),w.searchParams.set("workspaceId",p),UR({url:w,signal:c,authorization:a.value})}})}}var fA=(l,n,i)=>new Promise((a,c)=>{var d=b=>{try{g(i.next(b))}catch(w){c(w)}},p=b=>{try{g(i.throw(b))}catch(w){c(w)}},g=b=>b.done?a(b.value):Promise.resolve(b.value).then(d,p);g((i=i.apply(l,n)).next())});class Yne extends me{static get requires(){return["ImageUploadEditing","ImageUploadProgress",Oi,KR]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return fA(this,null,function*(){const n=this.editor,i=!!n.config.get("ckbox"),a=!!window.CKBox;if(!i&&!a)return;const c=n.plugins.get(Oi),d=n.plugins.get(GR);c.createUploadAdapter=b=>new Qne(b,n,d);const p=!n.config.get("ckbox.ignoreDataId"),g=n.plugins.get("ImageUploadEditing");p&&g.on("uploadComplete",(b,{imageElement:w,data:C})=>{n.model.change(x=>{x.setAttribute("ckboxImageId",C.ckboxImageId,w)})})})}}class Qne{constructor(n,i,a){this.loader=n,this.token=a.getToken(),this.ckboxUtils=a,this.editor=i,this.controller=new AbortController,this.serviceOrigin=i.config.get("ckbox.serviceOrigin")}upload(){return fA(this,null,function*(){const n=this.ckboxUtils,i=this.editor.t,a=yield this.loader.file,c=yield n.getCategoryIdForFile(a,{signal:this.controller.signal}),d=new URL("assets",this.serviceOrigin),p=new FormData;return d.searchParams.set("workspaceId",n.getWorkspaceId()),p.append("categoryId",c),p.append("file",a),UR({method:"POST",url:d,data:p,onUploadProgress:g=>{g.lengthComputable&&(this.loader.uploadTotal=g.total,this.loader.uploaded=g.loaded)},signal:this.controller.signal,authorization:this.token.value}).then(g=>fA(this,null,function*(){const b=VR(g.imageUrls);return{ckboxImageId:g.id,default:b.imageFallbackUrl,sources:b.imageSources}})).catch(()=>{const g=i("Cannot upload file:")+` ${a.name}.`;return Promise.reject(g)})})}abort(){this.controller.abort()}}class KR extends me{static get pluginName(){return"CKBoxEditing"}static get requires(){return["LinkEditing","PictureEditing",Yne,GR]}init(){const n=this.editor;this._shouldBeInitialised()&&(this._checkImagePlugins(),QR()&&n.commands.add("ckbox",new Wne(n)))}afterInit(){const n=this.editor;this._shouldBeInitialised()&&(n.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()))}_shouldBeInitialised(){return!!this.editor.config.get("ckbox")||QR()}_checkImagePlugins(){const n=this.editor;n.plugins.has("ImageBlockEditing")||n.plugins.has("ImageInlineEditing")||q("ckbox-plugin-image-feature-missing",n)}_initSchema(){const n=this.editor.model.schema;n.extend("$text",{allowAttributes:"ckboxLinkId"}),n.isRegistered("imageBlock")&&n.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),n.isRegistered("imageInline")&&n.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),n.addAttributeCheck((i,a)=>{if(!i.last.getAttribute("linkHref")&&a==="ckboxLinkId")return!1})}_initConversion(){const n=this.editor;n.conversion.for("downcast").add(a=>{a.on("attribute:ckboxLinkId:imageBlock",(c,d,p)=>{const{writer:g,mapper:b,consumable:w}=p;if(!w.consume(d.item,c.name))return;const C=[...b.toViewElement(d.item).getChildren()].find(x=>x.name==="a");C&&(d.item.hasAttribute("ckboxLinkId")?g.setAttribute("data-ckbox-resource-id",d.item.getAttribute("ckboxLinkId"),C):g.removeAttribute("data-ckbox-resource-id",C))},{priority:"low"}),a.on("attribute:ckboxLinkId",(c,d,p)=>{const{writer:g,mapper:b,consumable:w}=p;if(w.consume(d.item,c.name)){if(d.attributeOldValue){const C=YR(g,d.attributeOldValue);g.unwrap(b.toViewRange(d.range),C)}if(d.attributeNewValue){const C=YR(g,d.attributeNewValue);if(d.item.is("selection")){const x=g.document.selection;g.wrap(x.getFirstRange(),C)}else g.wrap(b.toViewRange(d.range),C)}}},{priority:"low"})}),n.conversion.for("upcast").add(a=>{a.on("element:a",(c,d,p)=>{const{writer:g,consumable:b}=p;if(!d.viewItem.getAttribute("href")||!b.consume(d.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const w=d.viewItem.getAttribute("data-ckbox-resource-id");if(w)if(d.modelRange)for(let C of d.modelRange.getItems())C.is("$textProxy")&&(C=C.textNode),Jne(C)&&g.setAttribute("ckboxLinkId",w,C);else{const C=d.modelCursor.nodeBefore||d.modelCursor.parent;g.setAttribute("ckboxLinkId",w,C)}},{priority:"low"})}),n.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),n.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:a=>a.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}});const i=n.commands.get("replaceImageSource");i&&this.listenTo(i,"cleanupImage",(a,[c,d])=>{c.removeAttribute("ckboxImageId",d)})}_initFixers(){const n=this.editor,i=n.model,a=i.document.selection;i.document.registerPostFixer(function(c){return d=>{let p=!1;const g=c.model,b=c.commands.get("ckbox");if(!b)return p;for(const w of g.document.differ.getChanges()){if(w.type!=="insert"&&w.type!=="attribute")continue;const C=w.type==="insert"?new ie(w.position,w.position.getShiftedBy(w.length)):w.range,x=w.type==="attribute"&&w.attributeKey==="linkHref"&&w.attributeNewValue===null;for(const D of C.getItems()){if(x&&D.hasAttribute("ckboxLinkId")){d.removeAttribute("ckboxLinkId",D),p=!0;continue}const N=Zne(D,b._chosenAssets);for(const B of N){const F=B.type==="image"?"ckboxImageId":"ckboxLinkId";B.id!==D.getAttribute(F)&&(d.setAttribute(F,B.id,D),p=!0)}}}return p}}(n)),i.document.registerPostFixer(function(c){return d=>!(c.hasAttribute("linkHref")||!c.hasAttribute("ckboxLinkId"))&&(d.removeSelectionAttribute("ckboxLinkId"),!0)}(a))}}function Zne(l,n){const i=l.is("element","imageInline")||l.is("element","imageBlock"),a=l.hasAttribute("linkHref");return[...n].filter(c=>c.type==="image"&&i?c.attributes.imageFallbackUrl===l.getAttribute("src"):c.type==="link"&&a?c.attributes.linkHref===l.getAttribute("linkHref"):void 0)}function YR(l,n){const i=l.createAttributeElement("a",{"data-ckbox-resource-id":n},{priority:5});return l.setCustomProperty("link",!0,i),i}function Jne(l){return!!l.is("$text")||!(!l.is("element","imageInline")&&!l.is("element","imageBlock"))}function QR(){return!!window.CKBox}var ZR=s(1866),Xne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(ZR.A,Xne),ZR.A.locals;class ere extends me{static get pluginName(){return"CKFinderUI"}init(){const n=this.editor,i=n.ui.componentFactory,a=n.t;if(i.add("ckfinder",c=>{const d=this._createButton(Mt),p=c.t;return d.set({label:p("Insert image or file"),tooltip:!0}),d}),i.add("menuBar:ckfinder",c=>{const d=this._createButton(Mo),p=c.t;return d.label=p("Image or file"),d}),n.plugins.has("ImageInsertUI")){const c=n.plugins.get("ImageInsertUI");c.registerIntegration({name:"assetManager",observable:()=>n.commands.get("ckfinder"),buttonViewCreator:()=>{const d=this.editor.ui.componentFactory.create("ckfinder");return d.icon=rt.imageAssetManager,d.bind("label").to(c,"isImageSelected",p=>a(p?"Replace image with file manager":"Insert image with file manager")),d},formViewCreator:()=>{const d=this.editor.ui.componentFactory.create("ckfinder");return d.icon=rt.imageAssetManager,d.withText=!0,d.bind("label").to(c,"isImageSelected",p=>a(p?"Replace with file manager":"Insert with file manager")),d.on("execute",()=>{c.dropdownView.isOpen=!1}),d}})}}_createButton(n){const i=this.editor,a=new n(i.locale),c=i.commands.get("ckfinder");return a.icon=rt.browseFiles,a.bind("isEnabled").to(c),a.on("execute",()=>{i.execute("ckfinder"),i.editing.view.focus()}),a}}class tre extends ft{constructor(n){super(n),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const n=this.editor.commands.get("insertImage"),i=this.editor.commands.get("link");this.isEnabled=n.isEnabled||i.isEnabled}execute(){const n=this.editor,i=this.editor.config.get("ckfinder.openerMethod")||"modal";if(i!="popup"&&i!="modal")throw new P("ckfinder-unknown-openermethod",n);const a=this.editor.config.get("ckfinder.options")||{};a.chooseFiles=!0;const c=a.onInit;a.language||(a.language=n.locale.uiLanguage),a.onInit=d=>{c&&c(d),d.on("files:choose",p=>{const g=p.data.files.toArray(),b=g.filter(x=>!x.isImage()),w=g.filter(x=>x.isImage());for(const x of b)n.execute("link",x.getUrl());const C=[];for(const x of w){const D=x.getUrl();C.push(D||d.request("file:getProxyUrl",{file:x}))}C.length&&JR(n,C)}),d.on("file:choose:resizedImage",p=>{const g=p.data.resizedUrl;if(g)JR(n,[g]);else{const b=n.plugins.get("Notification"),w=n.locale.t;b.showWarning(w("Could not obtain resized image URL."),{title:w("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[i](a)}}function JR(l,n){if(l.commands.get("insertImage").isEnabled)l.execute("insertImage",{source:n});else{const i=l.plugins.get("Notification"),a=l.locale.t;i.showWarning(a("Could not insert image at the current position."),{title:a("Inserting image failed"),namespace:"ckfinder"})}}class nre extends me{static get pluginName(){return"CKFinderEditing"}static get requires(){return[XC,"LinkEditing"]}init(){const n=this.editor;if(!n.plugins.has("ImageBlockEditing")&&!n.plugins.has("ImageInlineEditing"))throw new P("ckfinder-missing-image-plugin",n);n.commands.add("ckfinder",new tre(n))}}class rre extends me{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",Oi]}init(){const n=this.editor,i=n.plugins.get("CloudServices"),a=i.token,c=i.uploadUrl;if(!a)return;const d=n.plugins.get("CloudServicesCore");this._uploadGateway=d.createUploadGateway(a,c),n.plugins.get(Oi).createUploadAdapter=p=>new ore(this._uploadGateway,p)}}class ore{constructor(n,i){this.uploadGateway=n,this.loader=i}upload(){return this.loader.file.then(n=>(this.fileUploader=this.uploadGateway.upload(n),this.fileUploader.on("progress",(i,a)=>{this.loader.uploadTotal=a.total,this.loader.uploaded=a.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class ire extends ft{constructor(n){super(n),this._isEnabledBasedOnSelection=!1}refresh(){const n=this.editor.model,i=ur(n.document.selection.getSelectedBlocks());this.value=!!i&&i.is("element","paragraph"),this.isEnabled=!!i&&XR(i,n.schema)}execute(n={}){const i=this.editor.model,a=i.document,c=n.selection||a.selection;i.canEditAt(c)&&i.change(d=>{const p=c.getSelectedBlocks();for(const g of p)!g.is("element","paragraph")&&XR(g,i.schema)&&d.rename(g,"paragraph")})}}function XR(l,n){return n.checkChild(l.parent,"paragraph")&&!n.isObject(l)}class sre extends ft{constructor(n){super(n),this._isEnabledBasedOnSelection=!1}execute(n){const i=this.editor.model,a=n.attributes;let c=n.position;i.canEditAt(c)&&i.change(d=>{if(c=this._findPositionToInsertParagraph(c,d),!c)return;const p=d.createElement("paragraph");a&&i.schema.setAllowedAttributes(p,a,d),i.insertContent(p,c),d.setSelection(p,"in")})}_findPositionToInsertParagraph(n,i){const a=this.editor.model;if(a.schema.checkChild(n,"paragraph"))return n;const c=a.schema.findAllowedParent(n,"paragraph");if(!c)return null;const d=n.parent,p=a.schema.checkChild(d,"$text");return d.isEmpty||p&&n.isAtEnd?a.createPositionAfter(d):!d.isEmpty&&p&&n.isAtStart?a.createPositionBefore(d):i.split(n,c).position}}const eO=class extends me{static get pluginName(){return"Paragraph"}init(){const l=this.editor,n=l.model;l.commands.add("paragraph",new ire(l)),l.commands.add("insertParagraph",new sre(l)),n.schema.register("paragraph",{inheritAllFrom:"$block"}),l.conversion.elementToElement({model:"paragraph",view:"p"}),l.conversion.for("upcast").elementToElement({model:(i,{writer:a})=>eO.paragraphLikeElements.has(i.name)?i.isEmpty?null:a.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let mA=eO;mA.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class are extends ft{constructor(n,i){super(n),this.modelElements=i}refresh(){const n=ur(this.editor.model.document.selection.getSelectedBlocks());this.value=!!n&&this.modelElements.includes(n.name)&&n.name,this.isEnabled=!!n&&this.modelElements.some(i=>tO(n,i,this.editor.model.schema))}execute(n){const i=this.editor.model,a=i.document,c=n.value;i.change(d=>{const p=Array.from(a.selection.getSelectedBlocks()).filter(g=>tO(g,c,i.schema));for(const g of p)g.is("element",c)||d.rename(g,c)})}}function tO(l,n,i){return i.checkChild(l.parent,n)&&!i.isObject(l)}const nO="paragraph";class lre extends me{static get pluginName(){return"HeadingEditing"}constructor(n){super(n),n.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[mA]}init(){const n=this.editor,i=n.config.get("heading.options"),a=[];for(const c of i)c.model!=="paragraph"&&(n.model.schema.register(c.model,{inheritAllFrom:"$block"}),n.conversion.elementToElement(c),a.push(c.model));this._addDefaultH1Conversion(n),n.commands.add("heading",new are(n,a))}afterInit(){const n=this.editor,i=n.commands.get("enter"),a=n.config.get("heading.options");i&&this.listenTo(i,"afterExecute",(c,d)=>{const p=n.model.document.selection.getFirstPosition().parent;a.some(g=>p.is("element",g.model))&&!p.is("element",nO)&&p.childCount===0&&d.writer.rename(p,nO)})}_addDefaultH1Conversion(n){n.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:j.low+1})}}var rO=s(6269),cre={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(rO.A,cre),rO.A.locals;class ure extends me{static get pluginName(){return"HeadingUI"}init(){const n=this.editor,i=n.t,a=function(p){const g=p.t,b={Paragraph:g("Paragraph"),"Heading 1":g("Heading 1"),"Heading 2":g("Heading 2"),"Heading 3":g("Heading 3"),"Heading 4":g("Heading 4"),"Heading 5":g("Heading 5"),"Heading 6":g("Heading 6")};return p.config.get("heading.options").map(w=>{const C=b[w.title];return C&&C!=w.title&&(w.title=C),w})}(n),c=i("Choose heading"),d=i("Heading");n.ui.componentFactory.add("heading",p=>{const g={},b=new Di,w=n.commands.get("heading"),C=n.commands.get("paragraph"),x=[w];for(const N of a){const B={type:"button",model:new qN({label:N.title,class:N.class,role:"menuitemradio",withText:!0})};N.model==="paragraph"?(B.model.bind("isOn").to(C,"value"),B.model.set("commandName","paragraph"),x.push(C)):(B.model.bind("isOn").to(w,"value",F=>F===N.model),B.model.set({commandName:"heading",commandValue:N.model})),b.add(B),g[N.model]=N.title}const D=Vs(p);return mN(D,b,{ariaLabel:d,role:"menu"}),D.buttonView.set({ariaLabel:d,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:d}),D.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),D.bind("isEnabled").toMany(x,"isEnabled",(...N)=>N.some(B=>B)),D.buttonView.bind("label").to(w,"value",C,"value",(N,B)=>{const F=B?"paragraph":N;return typeof F=="boolean"?c:g[F]?g[F]:c}),D.buttonView.bind("ariaLabel").to(w,"value",C,"value",(N,B)=>{const F=B?"paragraph":N;return typeof F=="boolean"?d:g[F]?`${g[F]}, ${d}`:d}),this.listenTo(D,"execute",N=>{const{commandName:B,commandValue:F}=N.source;n.execute(B,F?{value:F}:void 0),n.editing.view.focus()}),D}),n.ui.componentFactory.add("menuBar:heading",p=>{const g=new Hu(p),b=n.commands.get("heading"),w=n.commands.get("paragraph"),C=[b],x=new rA(p);g.set({class:"ck-heading-dropdown"}),x.set({ariaLabel:i("Heading"),role:"menu"}),g.buttonView.set({label:i("Heading")}),g.panelView.children.add(x);for(const D of a){const N=new tA(p,g),B=new Mo(p);N.children.add(B),x.items.add(N),B.set({label:D.title,role:"menuitemradio",class:D.class}),B.bind("ariaChecked").to(B,"isOn"),B.delegate("execute").to(g),B.on("execute",()=>{const F=D.model==="paragraph"?"paragraph":"heading";n.execute(F,{value:D.model}),n.editing.view.focus()}),D.model==="paragraph"?(B.bind("isOn").to(w,"value"),C.push(w)):B.bind("isOn").to(b,"value",F=>F===D.model)}return g.bind("isEnabled").toMany(C,"isEnabled",(...D)=>D.some(N=>N)),g})}}function oO(l){return l.createContainerElement("figure",{class:"image"},[l.createEmptyElement("img"),l.createSlot("children")])}function iO(l,n){const i=l.plugins.get("ImageUtils"),a=l.plugins.has("ImageInlineEditing")&&l.plugins.has("ImageBlockEditing");return d=>i.isInlineImageView(d)?a&&(d.getStyle("display")=="block"||d.findAncestor(i.isBlockImageView)?"imageBlock":"imageInline")!==n?null:c(d):null;function c(d){const p={name:!0};return d.hasAttribute("src")&&(p.attributes=["src"]),p}}function gA(l,n){const i=ur(n.getSelectedBlocks());return!i||l.isObject(i)||i.isEmpty&&i.name!="listItem"?"imageBlock":"imageInline"}function fk(l){return l&&l.endsWith("px")?parseInt(l):null}function sO(l){const n=fk(l.getStyle("width")),i=fk(l.getStyle("height"));return!(!n||!i)}var dre=Object.defineProperty,aO=Object.getOwnPropertySymbols,hre=Object.prototype.hasOwnProperty,pre=Object.prototype.propertyIsEnumerable,lO=(l,n,i)=>n in l?dre(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,cO=(l,n)=>{for(var i in n||(n={}))hre.call(n,i)&&lO(l,i,n[i]);if(aO)for(var i of aO(n))pre.call(n,i)&&lO(l,i,n[i]);return l};const fre=/^(image|image-inline)$/;class co extends me{constructor(){super(...arguments),this._domEmitter=new(ei())}static get pluginName(){return"ImageUtils"}isImage(n){return this.isInlineImage(n)||this.isBlockImage(n)}isInlineImageView(n){return!!n&&n.is("element","img")}isBlockImageView(n){return!!n&&n.is("element","figure")&&n.hasClass("image")}insertImage(n={},i=null,a=null,c={}){const d=this.editor,p=d.model,g=p.document.selection,b=uO(d,i||g,a);n=cO(cO({},Object.fromEntries(g.getAttributes())),n);for(const w in n)p.schema.checkAttribute(b,w)||delete n[w];return p.change(w=>{const{setImageSizes:C=!0}=c,x=w.createElement(b,n);return p.insertObject(x,i,null,{setSelection:"on",findOptimalPosition:i||b=="imageInline"?void 0:"auto"}),x.parent?(C&&this.setImageNaturalSizeAttributes(x),x):null})}setImageNaturalSizeAttributes(n){const i=n.getAttribute("src");i&&(n.getAttribute("width")||n.getAttribute("height")||this.editor.model.change(a=>{const c=new m.window.Image;this._domEmitter.listenTo(c,"load",()=>{n.getAttribute("width")||n.getAttribute("height")||this.editor.model.enqueueChange(a.batch,d=>{d.setAttribute("width",c.naturalWidth,n),d.setAttribute("height",c.naturalHeight,n)}),this._domEmitter.stopListening(c,"load")}),c.src=i}))}getClosestSelectedImageWidget(n){const i=n.getFirstPosition();if(!i)return null;const a=n.getSelectedElement();if(a&&this.isImageWidget(a))return a;let c=i.parent;for(;c;){if(c.is("element")&&this.isImageWidget(c))return c;c=c.parent}return null}getClosestSelectedImageElement(n){const i=n.getSelectedElement();return this.isImage(i)?i:n.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(n){return n.findAncestor({classes:fre})}isImageAllowed(){const n=this.editor.model.document.selection;return function(i,a){if(uO(i,a,null)=="imageBlock"){const d=function(p,g){const b=oR(p,g),w=b.start.parent;return w.isEmpty&&!w.is("element","$root")?w.parent:w}(a,i.model);if(i.model.schema.checkChild(d,"imageBlock"))return!0}else if(i.model.schema.checkChild(a.focus,"imageInline"))return!0;return!1}(this.editor,n)&&function(i){return[...i.focus.getAncestors()].every(a=>!a.is("element","imageBlock"))}(n)}toImageWidget(n,i,a){return i.setCustomProperty("image",!0,n),lA(n,i,{label:()=>{const c=this.findViewImgElement(n).getAttribute("alt");return c?`${c} ${a}`:a}})}isImageWidget(n){return!!n.getCustomProperty("image")&&Vn(n)}isBlockImage(n){return!!n&&n.is("element","imageBlock")}isInlineImage(n){return!!n&&n.is("element","imageInline")}findViewImgElement(n){if(this.isInlineImageView(n))return n;const i=this.editor.editing.view;for(const{item:a}of i.createRangeIn(n))if(this.isInlineImageView(a))return a}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function uO(l,n,i){const a=l.model.schema,c=l.config.get("image.insert.type");return l.plugins.has("ImageBlockEditing")?l.plugins.has("ImageInlineEditing")?i||(c==="inline"?"imageInline":c!=="auto"?"imageBlock":n.is("selection")?gA(a,n):a.checkChild(n,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class mre extends ft{refresh(){const n=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled&&n.hasAttribute("alt")?this.value=n.getAttribute("alt"):this.value=!1}execute(n){const i=this.editor,a=i.plugins.get("ImageUtils"),c=i.model,d=a.getClosestSelectedImageElement(c.document.selection);c.change(p=>{p.setAttribute("alt",n.newValue,d)})}}class gre extends me{static get requires(){return[co]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new mre(this.editor))}}var dO=s(4062),bre={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(dO.A,bre),dO.A.locals;var hO=s(2722),kre={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(hO.A,kre),hO.A.locals;class vre extends We{constructor(n){super(n);const i=this.locale.t;this.focusTracker=new dr,this.keystrokes=new Gr,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(i("Save"),rt.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),rt.cancel,"ck-button-cancel","cancel"),this._focusables=new ti,this._focusCycler=new ri({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),_b({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(n,i,a,c){const d=new Mt(this.locale);return d.set({label:n,icon:i,tooltip:!0}),d.extendTemplate({attributes:{class:a}}),c&&d.delegate("execute").to(this,c),d}_createLabeledInputView(){const n=this.locale.t,i=new Hb(this.locale,Gb);return i.label=n("Text alternative"),i}}function pO(l){const n=l.editing.view,i=ao.defaultPositions,a=l.plugins.get("ImageUtils");return{target:n.domConverter.mapViewToDom(a.getClosestSelectedImageWidget(n.document.selection)),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}class wre extends me{static get requires(){return[Xb]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const n=this.editor,i=n.t;n.ui.componentFactory.add("imageTextAlternative",a=>{const c=n.commands.get("imageTextAlternative"),d=new Mt(a);return d.set({label:i("Change image text alternative"),icon:rt.textAlternative,tooltip:!0}),d.bind("isEnabled").to(c,"isEnabled"),d.bind("isOn").to(c,"value",p=>!!p),this.listenTo(d,"execute",()=>{this._showForm()}),d})}_createForm(){const n=this.editor,i=n.editing.view.document,a=n.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(sC(vre))(n.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{n.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(c,d)=>{this._hideForm(!0),d()}),this.listenTo(n.ui,"update",()=>{a.getClosestSelectedImageWidget(i.selection)?this._isVisible&&function(c){const d=c.plugins.get("ContextualBalloon");if(c.plugins.get("ImageUtils").getClosestSelectedImageWidget(c.editing.view.document.selection)){const p=pO(c);d.updatePosition(p)}}(n):this._hideForm(!0)}),yb({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const n=this.editor,i=n.commands.get("imageTextAlternative"),a=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:pO(n)}),a.fieldView.value=a.fieldView.element.value=i.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(n=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),n&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class fO extends me{static get requires(){return[gre,wre]}static get pluginName(){return"ImageTextAlternative"}}function mO(l,n){const i=(a,c,d)=>{if(!d.consumable.consume(c.item,a.name))return;const p=d.writer,g=d.mapper.toViewElement(c.item),b=l.findViewImgElement(g);c.attributeNewValue===null?(p.removeAttribute("srcset",b),p.removeAttribute("sizes",b)):c.attributeNewValue&&(p.setAttribute("srcset",c.attributeNewValue,b),p.setAttribute("sizes","100vw",b))};return a=>{a.on(`attribute:srcset:${n}`,i)}}function mk(l,n,i){const a=(c,d,p)=>{if(!p.consumable.consume(d.item,c.name))return;const g=p.writer,b=p.mapper.toViewElement(d.item),w=l.findViewImgElement(b);g.setAttribute(d.attributeKey,d.attributeNewValue||"",w)};return c=>{c.on(`attribute:${i}:${n}`,a)}}class gO extends Xi{observe(n){this.listenTo(n,"load",(i,a)=>{const c=a.target;this.checkShouldIgnoreEventFromTarget(c)||c.tagName=="IMG"&&this._fireEvents(a)},{useCapture:!0})}stopObserving(n){this.stopListening(n)}_fireEvents(n){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",n))}}var yre=Object.defineProperty,bO=Object.getOwnPropertySymbols,_re=Object.prototype.hasOwnProperty,Cre=Object.prototype.propertyIsEnumerable,kO=(l,n,i)=>n in l?yre(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,gk=(l,n)=>{for(var i in n||(n={}))_re.call(n,i)&&kO(l,i,n[i]);if(bO)for(var i of bO(n))Cre.call(n,i)&&kO(l,i,n[i]);return l};class Are extends ft{constructor(n){super(n);const i=n.config.get("image.insert.type");n.plugins.has("ImageBlockEditing")||i==="block"&&z("image-block-plugin-required"),n.plugins.has("ImageInlineEditing")||i==="inline"&&z("image-inline-plugin-required")}refresh(){const n=this.editor.plugins.get("ImageUtils");this.isEnabled=n.isImageAllowed()}execute(n){const i=rn(n.source),a=this.editor.model.document.selection,c=this.editor.plugins.get("ImageUtils"),d=Object.fromEntries(a.getAttributes());i.forEach((p,g)=>{const b=a.getSelectedElement();if(typeof p=="string"&&(p={src:p}),g&&b&&c.isImage(b)){const w=this.editor.model.createPositionAfter(b);c.insertImage(gk(gk({},p),d),w)}else c.insertImage(gk(gk({},p),d))})}}class xre extends ft{constructor(n){super(n),this.decorate("cleanupImage")}refresh(){const n=this.editor.plugins.get("ImageUtils"),i=this.editor.model.document.selection.getSelectedElement();this.isEnabled=n.isImage(i),this.value=this.isEnabled?i.getAttribute("src"):null}execute(n){const i=this.editor.model.document.selection.getSelectedElement(),a=this.editor.plugins.get("ImageUtils");this.editor.model.change(c=>{c.setAttribute("src",n.source,i),this.cleanupImage(c,i),a.setImageNaturalSizeAttributes(i)})}cleanupImage(n,i){n.removeAttribute("srcset",i),n.removeAttribute("sizes",i),n.removeAttribute("sources",i),n.removeAttribute("width",i),n.removeAttribute("height",i),n.removeAttribute("alt",i)}}class bA extends me{static get requires(){return[co]}static get pluginName(){return"ImageEditing"}init(){const n=this.editor,i=n.conversion;n.editing.view.addObserver(gO),i.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const a=new Are(n),c=new xre(n);n.commands.add("insertImage",a),n.commands.add("replaceImageSource",c),n.commands.add("imageInsert",a)}}class vO extends me{static get requires(){return[co]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(n){const i=this.editor,a=i.plugins.get("ImageUtils"),c=n==="imageBlock"?"figure":"img";function d(p,g,b,w){p.on(`attribute:${g}:${n}`,(C,x,D)=>{if(!D.consumable.consume(x.item,C.name))return;const N=D.writer,B=D.mapper.toViewElement(x.item),F=a.findViewImgElement(B);if(x.attributeNewValue!==null?N.setAttribute(b,x.attributeNewValue,F):N.removeAttribute(b,F),x.item.hasAttribute("sources"))return;const U=x.item.hasAttribute("resizedWidth");if(n==="imageInline"&&!U&&!w)return;const W=x.item.getAttribute("width"),Y=x.item.getAttribute("height");W&&Y&&N.setStyle("aspect-ratio",`${W}/${Y}`,F)})}i.conversion.for("upcast").attributeToAttribute({view:{name:c,styles:{width:/.+/}},model:{key:"width",value:p=>sO(p)?fk(p.getStyle("width")):null}}).attributeToAttribute({view:{name:c,key:"width"},model:"width"}).attributeToAttribute({view:{name:c,styles:{height:/.+/}},model:{key:"height",value:p=>sO(p)?fk(p.getStyle("height")):null}}).attributeToAttribute({view:{name:c,key:"height"},model:"height"}),i.conversion.for("editingDowncast").add(p=>{d(p,"width","width",!0),d(p,"height","height",!0)}),i.conversion.for("dataDowncast").add(p=>{d(p,"width","width",!1),d(p,"height","height",!1)})}}class wO extends ft{constructor(n,i){super(n),this._modelElementName=i}refresh(){const n=this.editor.plugins.get("ImageUtils"),i=n.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=n.isInlineImage(i):this.isEnabled=n.isBlockImage(i)}execute(n={}){const i=this.editor,a=this.editor.model,c=i.plugins.get("ImageUtils"),d=c.getClosestSelectedImageElement(a.document.selection),p=Object.fromEntries(d.getAttributes());return p.src||p.uploadId?a.change(g=>{const{setImageSizes:b=!0}=n,w=Array.from(a.markers).filter(D=>D.getRange().containsItem(d)),C=c.insertImage(p,a.createSelection(d,"on"),this._modelElementName,{setImageSizes:b});if(!C)return null;const x=g.createRangeOn(C);for(const D of w){const N=D.getRange(),B=N.root.rootName!="$graveyard"?N.getJoined(x,!0):x;g.updateMarker(D,{range:B})}return{oldElement:d,newElement:C}}):null}}var yO=s(7378),Ere={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(yO.A,Ere),yO.A.locals;class _O extends me{static get requires(){return[co]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const n=this.editor.model.schema;n.isRegistered("imageBlock")&&n.extend("imageBlock",{allowAttributes:["placeholder"]}),n.isRegistered("imageInline")&&n.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const n=this.editor,i=n.conversion,a=n.plugins.get("ImageUtils");i.for("editingDowncast").add(c=>{c.on("attribute:placeholder",(d,p,g)=>{if(!g.consumable.test(p.item,d.name)||!p.item.is("element","imageBlock")&&!p.item.is("element","imageInline"))return;g.consumable.consume(p.item,d.name);const b=g.writer,w=g.mapper.toViewElement(p.item),C=a.findViewImgElement(w);p.attributeNewValue?(b.addClass("image_placeholder",C),b.setStyle("background-image",`url(${p.attributeNewValue})`,C),b.setCustomProperty("editingPipeline:doNotReuseOnce",!0,C)):(b.removeClass("image_placeholder",C),b.removeStyle("background-image",C))})})}_setupLoadListener(){const n=this.editor,i=n.model,a=n.editing,c=a.view,d=n.plugins.get("ImageUtils");c.addObserver(gO),this.listenTo(c.document,"imageLoaded",(p,g)=>{const b=c.domConverter.mapDomToView(g.target);if(!b)return;const w=d.getImageWidgetFromImageView(b);if(!w)return;const C=a.mapper.toModelElement(w);C&&C.hasAttribute("placeholder")&&i.enqueueChange({isUndoable:!1},x=>{x.removeAttribute("placeholder",C)})})}}class CO extends me{static get requires(){return[bA,vO,co,_O,oi]}static get pluginName(){return"ImageBlockEditing"}init(){const n=this.editor;n.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),n.plugins.has("ImageInlineEditing")&&(n.commands.add("imageTypeBlock",new wO(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const n=this.editor,i=n.t,a=n.conversion,c=n.plugins.get("ImageUtils");a.for("dataDowncast").elementToStructure({model:"imageBlock",view:(d,{writer:p})=>oO(p)}),a.for("editingDowncast").elementToStructure({model:"imageBlock",view:(d,{writer:p})=>c.toImageWidget(oO(p),p,i("image widget"))}),a.for("downcast").add(mk(c,"imageBlock","src")).add(mk(c,"imageBlock","alt")).add(mO(c,"imageBlock")),a.for("upcast").elementToElement({view:iO(n,"imageBlock"),model:(d,{writer:p})=>p.createElement("imageBlock",d.hasAttribute("src")?{src:d.getAttribute("src")}:void 0)}).add(function(d){const p=(g,b,w)=>{if(!w.consumable.test(b.viewItem,{name:!0,classes:"image"}))return;const C=d.findViewImgElement(b.viewItem);if(!C||!w.consumable.test(C,{name:!0}))return;w.consumable.consume(b.viewItem,{name:!0,classes:"image"});const x=ur(w.convertItem(C,b.modelCursor).modelRange.getItems());x?(w.convertChildren(b.viewItem,x),w.updateConversionResult(x,b)):w.consumable.revert(b.viewItem,{name:!0,classes:"image"})};return g=>{g.on("element:figure",p)}}(c))}_setupClipboardIntegration(){const n=this.editor,i=n.model,a=n.editing.view,c=n.plugins.get("ImageUtils"),d=n.plugins.get("ClipboardPipeline");this.listenTo(d,"inputTransformation",(p,g)=>{const b=Array.from(g.content.getChildren());let w;if(!b.every(c.isInlineImageView))return;w=g.targetRanges?n.editing.mapper.toModelRange(g.targetRanges[0]):i.document.selection.getFirstRange();const C=i.createSelection(w);if(gA(i.schema,C)==="imageBlock"){const x=new zs(a.document),D=b.map(N=>x.createElement("figure",{class:"image"},N));g.content=x.createDocumentFragment(D)}}),this.listenTo(d,"contentInsertion",(p,g)=>{g.method==="paste"&&i.change(b=>{const w=b.createRangeIn(g.content);for(const C of w.getItems())C.is("element","imageBlock")&&c.setImageNaturalSizeAttributes(C)})})}}var AO=s(3350),Sre={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(AO.A,Sre),AO.A.locals;class Dre extends We{constructor(n,i=[]){super(n),this.focusTracker=new dr,this.keystrokes=new Gr,this._focusables=new ti,this.children=this.createCollection(),this._focusCycler=new ri({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const a of i)this.children.add(a),this._focusables.add(a),a instanceof ZJ&&this._focusables.addMany(a.children);if(this._focusables.length>1)for(const a of this._focusables)Tre(a)&&(a.focusCycler.on("forwardCycle",c=>{this._focusCycler.focusNext(),c.stop()}),a.focusCycler.on("backwardCycle",c=>{this._focusCycler.focusPrevious(),c.stop()}));this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),_b({view:this});for(const i of this._focusables)this.focusTracker.add(i.element);this.keystrokes.listenTo(this.element);const n=i=>i.stopPropagation();this.keystrokes.set("arrowright",n),this.keystrokes.set("arrowleft",n),this.keystrokes.set("arrowup",n),this.keystrokes.set("arrowdown",n)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}function Tre(l){return"focusCycler"in l}class xO extends me{constructor(n){super(n),this._integrations=new Map,n.config.define("image.insert.integrations",["upload","assetManager","url"])}static get pluginName(){return"ImageInsertUI"}static get requires(){return[co]}init(){const n=this.editor,i=n.model.document.selection,a=n.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(n.model.document,"change",()=>{this.isImageSelected=a.isImage(i.getSelectedElement())});const c=d=>this._createToolbarComponent(d);n.ui.componentFactory.add("insertImage",c),n.ui.componentFactory.add("imageInsert",c)}registerIntegration({name:n,observable:i,buttonViewCreator:a,formViewCreator:c,requiresForm:d}){this._integrations.has(n)&&z("image-insert-integration-exists",{name:n}),this._integrations.set(n,{observable:i,buttonViewCreator:a,formViewCreator:c,requiresForm:!!d})}_createToolbarComponent(n){const i=this.editor,a=n.t,c=this._prepareIntegrations();if(!c.length)return null;let d;const p=c[0];if(c.length==1){if(!p.requiresForm)return p.buttonViewCreator(!0);d=p.buttonViewCreator(!0)}else{const w=p.buttonViewCreator(!1);d=new qb(n,w),d.tooltip=!0,d.bind("label").to(this,"isImageSelected",C=>a(C?"Replace image":"Insert image"))}const g=this.dropdownView=Vs(n,d),b=c.map(({observable:w})=>typeof w=="function"?w():w);return g.bind("isEnabled").toMany(b,"isEnabled",(...w)=>w.some(C=>C)),g.once("change:isOpen",()=>{const w=c.map(({formViewCreator:x})=>x(c.length==1)),C=new Dre(i.locale,w);g.panelView.children.add(C)}),g}_prepareIntegrations(){const n=this.editor.config.get("image.insert.integrations"),i=[];if(!n.length)return z("image-insert-integrations-not-specified"),i;for(const a of n)this._integrations.has(a)?i.push(this._integrations.get(a)):["upload","assetManager","url"].includes(a)||z("image-insert-unknown-integration",{item:a});return i.length||z("image-insert-integrations-not-registered"),i}}var EO=s(265),Ire={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(EO.A,Ire),EO.A.locals;class Mre extends me{static get requires(){return[CO,Op,fO,xO]}static get pluginName(){return"ImageBlock"}}class Pre extends me{static get requires(){return[bA,vO,co,_O,oi]}static get pluginName(){return"ImageInlineEditing"}init(){const n=this.editor,i=n.model.schema;i.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),i.addChildCheck((a,c)=>{if(a.endsWith("caption")&&c.name==="imageInline")return!1}),this._setupConversion(),n.plugins.has("ImageBlockEditing")&&(n.commands.add("imageTypeInline",new wO(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const n=this.editor,i=n.t,a=n.conversion,c=n.plugins.get("ImageUtils");a.for("dataDowncast").elementToElement({model:"imageInline",view:(d,{writer:p})=>p.createEmptyElement("img")}),a.for("editingDowncast").elementToStructure({model:"imageInline",view:(d,{writer:p})=>c.toImageWidget(function(g){return g.createContainerElement("span",{class:"image-inline"},g.createEmptyElement("img"))}(p),p,i("image widget"))}),a.for("downcast").add(mk(c,"imageInline","src")).add(mk(c,"imageInline","alt")).add(mO(c,"imageInline")),a.for("upcast").elementToElement({view:iO(n,"imageInline"),model:(d,{writer:p})=>p.createElement("imageInline",d.hasAttribute("src")?{src:d.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const n=this.editor,i=n.model,a=n.editing.view,c=n.plugins.get("ImageUtils"),d=n.plugins.get("ClipboardPipeline");this.listenTo(d,"inputTransformation",(p,g)=>{const b=Array.from(g.content.getChildren());let w;if(!b.every(c.isBlockImageView))return;w=g.targetRanges?n.editing.mapper.toModelRange(g.targetRanges[0]):i.document.selection.getFirstRange();const C=i.createSelection(w);if(gA(i.schema,C)==="imageInline"){const x=new zs(a.document),D=b.map(N=>N.childCount===1?(Array.from(N.getAttributes()).forEach(B=>x.setAttribute(...B,c.findViewImgElement(N))),N.getChild(0)):N);g.content=x.createDocumentFragment(D)}}),this.listenTo(d,"contentInsertion",(p,g)=>{g.method==="paste"&&i.change(b=>{const w=b.createRangeIn(g.content);for(const C of w.getItems())C.is("element","imageInline")&&c.setImageNaturalSizeAttributes(C)})})}}class Nre extends me{static get requires(){return[Pre,Op,fO,xO]}static get pluginName(){return"ImageInline"}}class SO extends me{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[co]}getCaptionFromImageModelElement(n){for(const i of n.getChildren())if(i&&i.is("element","caption"))return i;return null}getCaptionFromModelSelection(n){const i=this.editor.plugins.get("ImageUtils"),a=n.getFirstPosition().findAncestor("caption");return a&&i.isBlockImage(a.parent)?a:null}matchImageCaptionViewElement(n){const i=this.editor.plugins.get("ImageUtils");return n.name=="figcaption"&&i.isBlockImageView(n.parent)?{name:!0}:null}}class Rre extends ft{refresh(){const n=this.editor,i=n.plugins.get("ImageCaptionUtils"),a=n.plugins.get("ImageUtils");if(!n.plugins.has(CO))return this.isEnabled=!1,void(this.value=!1);const c=n.model.document.selection,d=c.getSelectedElement();if(!d){const p=i.getCaptionFromModelSelection(c);return this.isEnabled=!!p,void(this.value=!!p)}this.isEnabled=a.isImage(d),this.isEnabled?this.value=!!i.getCaptionFromImageModelElement(d):this.value=!1}execute(n={}){const{focusCaptionOnShow:i}=n;this.editor.model.change(a=>{this.value?this._hideImageCaption(a):this._showImageCaption(a,i)})}_showImageCaption(n,i){const a=this.editor.model.document.selection,c=this.editor.plugins.get("ImageCaptionEditing"),d=this.editor.plugins.get("ImageUtils");let p=a.getSelectedElement();const g=c._getSavedCaption(p);d.isInlineImage(p)&&(this.editor.execute("imageTypeBlock"),p=a.getSelectedElement());const b=g||n.createElement("caption");n.append(b,p),i&&n.setSelection(b,"in")}_hideImageCaption(n){const i=this.editor,a=i.model.document.selection,c=i.plugins.get("ImageCaptionEditing"),d=i.plugins.get("ImageCaptionUtils");let p,g=a.getSelectedElement();g?p=d.getCaptionFromImageModelElement(g):(p=d.getCaptionFromModelSelection(a),g=p.parent),c._saveCaption(g,p),n.setSelection(g,"on"),n.remove(p)}}class Ore extends me{constructor(n){super(n),this._savedCaptionsMap=new WeakMap}static get requires(){return[co,SO]}static get pluginName(){return"ImageCaptionEditing"}init(){const n=this.editor,i=n.model.schema;i.isRegistered("caption")?i.extend("caption",{allowIn:"imageBlock"}):i.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),n.commands.add("toggleImageCaption",new Rre(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const n=this.editor,i=n.editing.view,a=n.plugins.get("ImageUtils"),c=n.plugins.get("ImageCaptionUtils"),d=n.t;n.conversion.for("upcast").elementToElement({view:p=>c.matchImageCaptionViewElement(p),model:"caption"}),n.conversion.for("dataDowncast").elementToElement({model:"caption",view:(p,{writer:g})=>a.isBlockImage(p.parent)?g.createContainerElement("figcaption"):null}),n.conversion.for("editingDowncast").elementToElement({model:"caption",view:(p,{writer:g})=>{if(!a.isBlockImage(p.parent))return null;const b=g.createEditableElement("figcaption");g.setCustomProperty("imageCaption",!0,b),b.placeholder=d("Enter image caption"),WM({view:i,element:b,keepOnFocus:!0});const w=p.parent.getAttribute("alt");return rR(b,g,{label:w?d("Caption for image: %0",[w]):d("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const n=this.editor,i=n.plugins.get("ImageUtils"),a=n.plugins.get("ImageCaptionUtils"),c=n.commands.get("imageTypeInline"),d=n.commands.get("imageTypeBlock"),p=g=>{if(!g.return)return;const{oldElement:b,newElement:w}=g.return;if(!b)return;if(i.isBlockImage(b)){const x=a.getCaptionFromImageModelElement(b);if(x)return void this._saveCaption(w,x)}const C=this._getSavedCaption(b);C&&this._saveCaption(w,C)};c&&this.listenTo(c,"execute",p,{priority:"low"}),d&&this.listenTo(d,"execute",p,{priority:"low"})}_getSavedCaption(n){const i=this._savedCaptionsMap.get(n);return i?Ht.fromJSON(i):null}_saveCaption(n,i){this._savedCaptionsMap.set(n,i.toJSON())}_registerCaptionReconversion(){const n=this.editor,i=n.model,a=n.plugins.get("ImageUtils"),c=n.plugins.get("ImageCaptionUtils");i.document.on("change:data",()=>{const d=i.document.differ.getChanges();for(const p of d){if(p.attributeKey!=="alt")continue;const g=p.range.start.nodeAfter;if(a.isBlockImage(g)){const b=c.getCaptionFromImageModelElement(g);if(!b)return;n.editing.reconvertItem(b)}}})}}class Bre extends me{static get requires(){return[SO]}static get pluginName(){return"ImageCaptionUI"}init(){const n=this.editor,i=n.editing.view,a=n.plugins.get("ImageCaptionUtils"),c=n.t;n.ui.componentFactory.add("toggleImageCaption",d=>{const p=n.commands.get("toggleImageCaption"),g=new Mt(d);return g.set({icon:rt.caption,tooltip:!0,isToggleable:!0}),g.bind("isOn","isEnabled").to(p,"value","isEnabled"),g.bind("label").to(p,"value",b=>c(b?"Toggle caption off":"Toggle caption on")),this.listenTo(g,"execute",()=>{n.execute("toggleImageCaption",{focusCaptionOnShow:!0});const b=a.getCaptionFromModelSelection(n.model.document.selection);if(b){const w=n.editing.mapper.toViewElement(b);i.scrollToTheSelection(),i.change(C=>{C.addClass("image__caption_highlighted",w)})}n.editing.view.focus()}),g})}}var DO=s(5247),Lre={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(DO.A,Lre),DO.A.locals;function TO(l){const n=l.map(i=>i.replace("+","\\+"));return new RegExp(`^image\\/(${n.join("|")})$`)}function jre(l){return new Promise((n,i)=>{const a=l.getAttribute("src");fetch(a).then(c=>c.blob()).then(c=>{const d=IO(c,a),p=d.replace("image/",""),g=new File([c],`image.${p}`,{type:d});n(g)}).catch(c=>c&&c.name==="TypeError"?function(d){return function(p){return new Promise((g,b)=>{const w=m.document.createElement("img");w.addEventListener("load",()=>{const C=m.document.createElement("canvas");C.width=w.width,C.height=w.height,C.getContext("2d").drawImage(w,0,0),C.toBlob(x=>x?g(x):b())}),w.addEventListener("error",()=>b()),w.src=p})}(d).then(p=>{const g=IO(p,d),b=g.replace("image/","");return new File([p],`image.${b}`,{type:g})})}(a).then(n).catch(i):i(c))})}function IO(l,n){return l.type?l.type:n.match(/data:(image\/\w+);base64/)?n.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class Fre extends me{static get pluginName(){return"ImageUploadUI"}init(){const n=this.editor,i=n.t,a=()=>{const c=this._createButton(ZP);return c.set({label:i("Upload image from computer"),tooltip:!0}),c};if(n.ui.componentFactory.add("uploadImage",a),n.ui.componentFactory.add("imageUpload",a),n.ui.componentFactory.add("menuBar:uploadImage",()=>{const c=this._createButton(v4);return c.label=i("Image from computer"),c}),n.plugins.has("ImageInsertUI")){const c=n.plugins.get("ImageInsertUI");c.registerIntegration({name:"upload",observable:()=>n.commands.get("uploadImage"),buttonViewCreator:()=>{const d=n.ui.componentFactory.create("uploadImage");return d.bind("label").to(c,"isImageSelected",p=>i(p?"Replace image from computer":"Upload image from computer")),d},formViewCreator:()=>{const d=n.ui.componentFactory.create("uploadImage");return d.withText=!0,d.bind("label").to(c,"isImageSelected",p=>i(p?"Replace from computer":"Upload from computer")),d.on("execute",()=>{c.dropdownView.isOpen=!1}),d}})}}_createButton(n){const i=this.editor,a=i.locale,c=i.commands.get("uploadImage"),d=i.config.get("image.upload.types"),p=TO(d),g=new n(i.locale),b=a.t;return g.set({acceptedType:d.map(w=>`image/${w}`).join(","),allowMultipleFiles:!0,label:b("Upload image from computer"),icon:rt.imageUpload}),g.bind("isEnabled").to(c),g.on("done",(w,C)=>{const x=Array.from(C).filter(D=>p.test(D.type));x.length&&(i.execute("uploadImage",{file:x}),i.editing.view.focus())}),g}}var MO=s(2267),zre={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(MO.A,zre),MO.A.locals;var PO=s(7693),$re={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(PO.A,$re),PO.A.locals;var NO=s(1559),Vre={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(NO.A,Vre),NO.A.locals;class Ure extends me{constructor(n){super(n),this.uploadStatusChange=(i,a,c)=>{const d=this.editor,p=a.item,g=p.getAttribute("uploadId");if(!c.consumable.consume(a.item,i.name))return;const b=d.plugins.get("ImageUtils"),w=d.plugins.get(Oi),C=g?a.attributeNewValue:null,x=this.placeholder,D=d.editing.mapper.toViewElement(p),N=c.writer;if(C=="reading")return RO(D,N),void OO(b,x,D,N);if(C=="uploading"){const B=w.loaders.get(g);return RO(D,N),void(B?(BO(D,N),function(F,U,W,Y){const oe=function(ue){const Ee=ue.createUIElement("div",{class:"ck-progress-bar"});return ue.setCustomProperty("progressBar",!0,Ee),Ee}(U);U.insert(U.createPositionAt(F,"end"),oe),W.on("change:uploadedPercent",(ue,Ee,Ze)=>{Y.change(st=>{st.setStyle("width",Ze+"%",oe)})})}(D,N,B,d.editing.view),function(F,U,W,Y){if(Y.data){const oe=F.findViewImgElement(U);W.setAttribute("src",Y.data,oe)}}(b,D,N,B)):OO(b,x,D,N))}C=="complete"&&w.loaders.get(g)&&function(B,F,U){const W=F.createUIElement("div",{class:"ck-image-upload-complete-icon"});F.insert(F.createPositionAt(B,"end"),W),setTimeout(()=>{U.change(Y=>Y.remove(Y.createRangeOn(W)))},3e3)}(D,N,d.editing.view),function(B,F){jO(B,F,"progressBar")}(D,N),BO(D,N),function(B,F){F.removeClass("ck-appear",B)}(D,N)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const n=this.editor;n.plugins.has("ImageBlockEditing")&&n.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),n.plugins.has("ImageInlineEditing")&&n.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function RO(l,n){l.hasClass("ck-appear")||n.addClass("ck-appear",l)}function OO(l,n,i,a){i.hasClass("ck-image-upload-placeholder")||a.addClass("ck-image-upload-placeholder",i);const c=l.findViewImgElement(i);c.getAttribute("src")!==n&&a.setAttribute("src",n,c),LO(i,"placeholder")||a.insert(a.createPositionAfter(c),function(d){const p=d.createUIElement("div",{class:"ck-upload-placeholder-loader"});return d.setCustomProperty("placeholder",!0,p),p}(a))}function BO(l,n){l.hasClass("ck-image-upload-placeholder")&&n.removeClass("ck-image-upload-placeholder",l),jO(l,n,"placeholder")}function LO(l,n){for(const i of l.getChildren())if(i.getCustomProperty(n))return i}function jO(l,n,i){const a=LO(l,i);a&&n.remove(n.createRangeOn(a))}var Hre=Object.defineProperty,Wre=Object.defineProperties,qre=Object.getOwnPropertyDescriptors,FO=Object.getOwnPropertySymbols,Gre=Object.prototype.hasOwnProperty,Kre=Object.prototype.propertyIsEnumerable,zO=(l,n,i)=>n in l?Hre(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i;class Yre extends ft{refresh(){const n=this.editor,i=n.plugins.get("ImageUtils"),a=n.model.document.selection.getSelectedElement();this.isEnabled=i.isImageAllowed()||i.isImage(a)}execute(n){const i=rn(n.file),a=this.editor.model.document.selection,c=this.editor.plugins.get("ImageUtils"),d=Object.fromEntries(a.getAttributes());i.forEach((p,g)=>{const b=a.getSelectedElement();if(g&&b&&c.isImage(b)){const w=this.editor.model.createPositionAfter(b);this._uploadImage(p,d,w)}else this._uploadImage(p,d)})}_uploadImage(n,i,a){const c=this.editor,d=c.plugins.get(Oi).createLoader(n),p=c.plugins.get("ImageUtils");var g,b;d&&p.insertImage((g=((w,C)=>{for(var x in C||(C={}))Gre.call(C,x)&&zO(w,x,C[x]);if(FO)for(var x of FO(C))Kre.call(C,x)&&zO(w,x,C[x]);return w})({},i),b={uploadId:d.id},Wre(g,qre(b))),a)}}class Qre extends me{constructor(n){super(n),n.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[Oi,XC,oi,co]}static get pluginName(){return"ImageUploadEditing"}init(){const n=this.editor,i=n.model.document,a=n.conversion,c=n.plugins.get(Oi),d=n.plugins.get("ImageUtils"),p=n.plugins.get("ClipboardPipeline"),g=TO(n.config.get("image.upload.types")),b=new Yre(n);n.commands.add("uploadImage",b),n.commands.add("imageUpload",b),a.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(n.editing.view.document,"clipboardInput",(w,C)=>{if(x=C.dataTransfer,Array.from(x.types).includes("text/html")&&x.getData("text/html")!=="")return;var x;const D=Array.from(C.dataTransfer.files).filter(N=>!!N&&g.test(N.type));D.length&&(w.stop(),n.model.change(N=>{C.targetRanges&&N.setSelection(C.targetRanges.map(B=>n.editing.mapper.toModelRange(B))),n.execute("uploadImage",{file:D})}))}),this.listenTo(p,"inputTransformation",(w,C)=>{const x=Array.from(n.editing.view.createRangeIn(C.content)).map(N=>N.item).filter(N=>function(B,F){return!(!B.isInlineImageView(F)||!F.getAttribute("src")||!F.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!F.getAttribute("src").match(/^blob:/g))}(d,N)&&!N.getAttribute("uploadProcessed")).map(N=>({promise:jre(N),imageElement:N}));if(!x.length)return;const D=new zs(n.editing.view.document);for(const N of x){D.setAttribute("uploadProcessed",!0,N.imageElement);const B=c.createLoader(N.promise);B&&(D.setAttribute("src","",N.imageElement),D.setAttribute("uploadId",B.id,N.imageElement))}}),n.editing.view.document.on("dragover",(w,C)=>{C.preventDefault()}),i.on("change",()=>{const w=i.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),C=new Set;for(const x of w)if(x.type=="insert"&&x.name!="$text"){const D=x.position.nodeAfter,N=x.position.root.rootName=="$graveyard";for(const B of Zre(n,D)){const F=B.getAttribute("uploadId");if(!F)continue;const U=c.loaders.get(F);U&&(N?C.has(F)||U.abort():(C.add(F),this._uploadImageElements.set(F,B),U.status=="idle"&&this._readAndUpload(U)))}}}),this.on("uploadComplete",(w,{imageElement:C,data:x})=>{const D=x.urls?x.urls:x;this.editor.model.change(N=>{N.setAttribute("src",D.default,C),this._parseAndSetSrcsetAttributeOnImage(D,C,N),d.setImageNaturalSizeAttributes(C)})},{priority:"low"})}afterInit(){const n=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&n.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&n.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(n){const i=this.editor,a=i.model,c=i.locale.t,d=i.plugins.get(Oi),p=i.plugins.get(XC),g=i.plugins.get("ImageUtils"),b=this._uploadImageElements;return a.enqueueChange({isUndoable:!1},C=>{C.setAttribute("uploadStatus","reading",b.get(n.id))}),n.read().then(()=>{const C=n.upload(),x=b.get(n.id);if(v.isSafari){const D=i.editing.mapper.toViewElement(x),N=g.findViewImgElement(D);i.editing.view.once("render",()=>{if(!N.parent)return;const B=i.editing.view.domConverter.mapViewToDom(N.parent);if(!B)return;const F=B.style.display;B.style.display="none",B._ckHack=B.offsetHeight,B.style.display=F})}return i.ui&&i.ui.ariaLiveAnnouncer.announce(c("Uploading image")),a.enqueueChange({isUndoable:!1},D=>{D.setAttribute("uploadStatus","uploading",x)}),C}).then(C=>{a.enqueueChange({isUndoable:!1},x=>{const D=b.get(n.id);x.setAttribute("uploadStatus","complete",D),i.ui&&i.ui.ariaLiveAnnouncer.announce(c("Image upload complete")),this.fire("uploadComplete",{data:C,imageElement:D})}),w()}).catch(C=>{if(i.ui&&i.ui.ariaLiveAnnouncer.announce(c("Error during image upload")),n.status!=="error"&&n.status!=="aborted")throw C;n.status=="error"&&C&&p.showWarning(C,{title:c("Upload failed"),namespace:"upload"}),a.enqueueChange({isUndoable:!1},x=>{x.remove(b.get(n.id))}),w()});function w(){a.enqueueChange({isUndoable:!1},C=>{const x=b.get(n.id);C.removeAttribute("uploadId",x),C.removeAttribute("uploadStatus",x),b.delete(n.id)}),d.destroyLoader(n)}}_parseAndSetSrcsetAttributeOnImage(n,i,a){let c=0;const d=Object.keys(n).filter(p=>{const g=parseInt(p,10);if(!isNaN(g))return c=Math.max(c,g),!0}).map(p=>`${n[p]} ${p}w`).join(", ");if(d!=""){const p={srcset:d};i.hasAttribute("width")||i.hasAttribute("height")||(p.width=c),a.setAttributes(p,i)}}}function Zre(l,n){const i=l.plugins.get("ImageUtils");return Array.from(l.model.createRangeOn(n)).filter(a=>i.isImage(a.item)).map(a=>a.item)}var $O=s(4642),Jre={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()($O.A,Jre),$O.A.locals;var VO=s(3469),Xre={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(VO.A,Xre),VO.A.locals;class eoe extends ft{constructor(n,i){super(n),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(i.map(a=>{if(a.isDefault)for(const c of a.modelElements)this._defaultStyles[c]=a.name;return[a.name,a]}))}refresh(){const n=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled?n.hasAttribute("imageStyle")?this.value=n.getAttribute("imageStyle"):this.value=this._defaultStyles[n.name]:this.value=!1}execute(n={}){const i=this.editor,a=i.model,c=i.plugins.get("ImageUtils");a.change(d=>{const p=n.value,{setImageSizes:g=!0}=n;let b=c.getClosestSelectedImageElement(a.document.selection);p&&this.shouldConvertImageType(p,b)&&(this.editor.execute(c.isBlockImage(b)?"imageTypeInline":"imageTypeBlock",{setImageSizes:g}),b=c.getClosestSelectedImageElement(a.document.selection)),!p||this._styles.get(p).isDefault?d.removeAttribute("imageStyle",b):d.setAttribute("imageStyle",p,b),g&&c.setImageNaturalSizeAttributes(b)})}shouldConvertImageType(n,i){return!this._styles.get(n).modelElements.includes(i.name)}}var toe=Object.defineProperty,UO=Object.getOwnPropertySymbols,noe=Object.prototype.hasOwnProperty,roe=Object.prototype.propertyIsEnumerable,HO=(l,n,i)=>n in l?toe(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,WO=(l,n)=>{for(var i in n||(n={}))noe.call(n,i)&&HO(l,i,n[i]);if(UO)for(var i of UO(n))roe.call(n,i)&&HO(l,i,n[i]);return l};const{objectFullWidth:ooe,objectInline:qO,objectLeft:GO,objectRight:kA,objectCenter:vA,objectBlockLeft:KO,objectBlockRight:YO}=rt,bk={get inline(){return{name:"inline",title:"In line",icon:qO,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:GO,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:KO,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:vA,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:kA,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:YO,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:vA,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:kA,modelElements:["imageBlock"],className:"image-style-side"}}},QO={full:ooe,left:KO,right:YO,center:vA,inlineLeft:GO,inlineRight:kA,inline:qO},ZO=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function JO(l){z("image-style-configuration-definition-invalid",l)}const wA={normalizeStyles:function(l){return(l.configuredStyles.options||[]).map(n=>function(i){return i=typeof i=="string"?bk[i]?WO({},bk[i]):{name:i}:function(a,c){const d=WO({},c);for(const p in a)Object.prototype.hasOwnProperty.call(c,p)||(d[p]=a[p]);return d}(bk[i.name],i),typeof i.icon=="string"&&(i.icon=QO[i.icon]||i.icon),i}(n)).filter(n=>function(i,{isBlockPluginLoaded:a,isInlinePluginLoaded:c}){const{modelElements:d,name:p}=i;if(!(d&&d.length&&p))return JO({style:i}),!1;{const g=[a?"imageBlock":null,c?"imageInline":null];if(!d.some(b=>g.includes(b)))return z("image-style-missing-dependency",{style:i,missingPlugins:d.map(b=>b==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(n,l))},getDefaultStylesConfiguration:function(l,n){return l&&n?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:l?{options:["block","side"]}:n?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(l){return l.has("ImageBlockEditing")&&l.has("ImageInlineEditing")?[...ZO]:[]},warnInvalidStyle:JO,DEFAULT_OPTIONS:bk,DEFAULT_ICONS:QO,DEFAULT_DROPDOWN_DEFINITIONS:ZO};function XO(l,n){for(const i of n)if(i.name===l)return i}class eB extends me{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[co]}init(){const{normalizeStyles:n,getDefaultStylesConfiguration:i}=wA,a=this.editor,c=a.plugins.has("ImageBlockEditing"),d=a.plugins.has("ImageInlineEditing");a.config.define("image.styles",i(c,d)),this.normalizedStyles=n({configuredStyles:a.config.get("image.styles"),isBlockPluginLoaded:c,isInlinePluginLoaded:d}),this._setupConversion(c,d),this._setupPostFixer(),a.commands.add("imageStyle",new eoe(a,this.normalizedStyles))}_setupConversion(n,i){const a=this.editor,c=a.model.schema,d=(p=this.normalizedStyles,(b,w,C)=>{if(!C.consumable.consume(w.item,b.name))return;const x=XO(w.attributeNewValue,p),D=XO(w.attributeOldValue,p),N=C.mapper.toViewElement(w.item),B=C.writer;D&&B.removeClass(D.className,N),x&&B.addClass(x.className,N)});var p;const g=function(b){const w={imageInline:b.filter(C=>!C.isDefault&&C.modelElements.includes("imageInline")),imageBlock:b.filter(C=>!C.isDefault&&C.modelElements.includes("imageBlock"))};return(C,x,D)=>{if(!x.modelRange)return;const N=x.viewItem,B=ur(x.modelRange.getItems());if(B&&D.schema.checkAttribute(B,"imageStyle"))for(const F of w[B.name])D.consumable.consume(N,{classes:F.className})&&D.writer.setAttribute("imageStyle",F.name,B)}}(this.normalizedStyles);a.editing.downcastDispatcher.on("attribute:imageStyle",d),a.data.downcastDispatcher.on("attribute:imageStyle",d),n&&(c.extend("imageBlock",{allowAttributes:"imageStyle"}),a.data.upcastDispatcher.on("element:figure",g,{priority:"low"})),i&&(c.extend("imageInline",{allowAttributes:"imageStyle"}),a.data.upcastDispatcher.on("element:img",g,{priority:"low"}))}_setupPostFixer(){const n=this.editor,i=n.model.document,a=n.plugins.get(co),c=new Map(this.normalizedStyles.map(d=>[d.name,d]));i.registerPostFixer(d=>{let p=!1;for(const g of i.differ.getChanges())if(g.type=="insert"||g.type=="attribute"&&g.attributeKey=="imageStyle"){let b=g.type=="insert"?g.position.nodeAfter:g.range.start.nodeAfter;if(b&&b.is("element","paragraph")&&b.childCount>0&&(b=b.getChild(0)),!a.isImage(b))continue;const w=b.getAttribute("imageStyle");if(!w)continue;const C=c.get(w);C&&C.modelElements.includes(b.name)||(d.removeAttribute("imageStyle",b),p=!0)}return p})}}var tB=s(6386),ioe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(tB.A,ioe),tB.A.locals;class soe extends me{static get requires(){return[eB]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const n=this.editor.t;return{"Wrap text":n("Wrap text"),"Break text":n("Break text"),"In line":n("In line"),"Full size image":n("Full size image"),"Side image":n("Side image"),"Left aligned image":n("Left aligned image"),"Centered image":n("Centered image"),"Right aligned image":n("Right aligned image")}}init(){const n=this.editor.plugins,i=this.editor.config.get("image.toolbar")||[],a=nB(n.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const d of a)this._createButton(d);const c=nB([...i.filter(Se),...wA.getDefaultDropdownDefinitions(n)],this.localizedDefaultStylesTitles);for(const d of c)this._createDropdown(d,a)}_createDropdown(n,i){const a=this.editor.ui.componentFactory;a.add(n.name,c=>{let d;const{defaultItem:p,items:g,title:b}=n,w=g.filter(N=>i.find(({name:B})=>rB(B)===N)).map(N=>{const B=a.create(N);return N===p&&(d=B),B});g.length!==w.length&&wA.warnInvalidStyle({dropdown:n});const C=Vs(c,qb),x=C.buttonView,D=x.arrowView;return KC(C,w,{enableActiveItemFocusOnDropdownOpen:!0}),x.set({label:oB(b,d.label),class:null,tooltip:!0}),D.unbind("label"),D.set({label:b}),x.bind("icon").toMany(w,"isOn",(...N)=>{const B=N.findIndex(Da);return B<0?d.icon:w[B].icon}),x.bind("label").toMany(w,"isOn",(...N)=>{const B=N.findIndex(Da);return oB(b,B<0?d.label:w[B].label)}),x.bind("isOn").toMany(w,"isOn",(...N)=>N.some(Da)),x.bind("class").toMany(w,"isOn",(...N)=>N.some(Da)?"ck-splitbutton_flatten":void 0),x.on("execute",()=>{w.some(({isOn:N})=>N)?C.isOpen=!C.isOpen:d.fire("execute")}),C.bind("isEnabled").toMany(w,"isEnabled",(...N)=>N.some(Da)),this.listenTo(C,"execute",()=>{this.editor.editing.view.focus()}),C})}_createButton(n){const i=n.name;this.editor.ui.componentFactory.add(rB(i),a=>{const c=this.editor.commands.get("imageStyle"),d=new Mt(a);return d.set({label:n.title,icon:n.icon,tooltip:!0,isToggleable:!0}),d.bind("isEnabled").to(c,"isEnabled"),d.bind("isOn").to(c,"value",p=>p===i),d.on("execute",this._executeCommand.bind(this,i)),d})}_executeCommand(n){this.editor.execute("imageStyle",{value:n}),this.editor.editing.view.focus()}}function nB(l,n){for(const i of l)n[i.title]&&(i.title=n[i.title]);return l}function rB(l){return`imageStyle:${l}`}function oB(l,n){return(l?l+": ":"")+n}class aoe extends me{static get pluginName(){return"IndentEditing"}init(){const n=this.editor;n.commands.add("indent",new FM(n)),n.commands.add("outdent",new FM(n))}}class loe extends me{static get pluginName(){return"IndentUI"}init(){const n=this.editor,i=n.locale,a=n.t,c=i.uiLanguageDirection=="ltr"?rt.indent:rt.outdent,d=i.uiLanguageDirection=="ltr"?rt.outdent:rt.indent;this._defineButton("indent",a("Increase indent"),c),this._defineButton("outdent",a("Decrease indent"),d)}_defineButton(n,i,a){const c=this.editor;c.ui.componentFactory.add(n,()=>{const d=this._createButton(Mt,n,i,a);return d.set({tooltip:!0}),d}),c.ui.componentFactory.add("menuBar:"+n,()=>this._createButton(Mo,n,i,a))}_createButton(n,i,a,c){const d=this.editor,p=d.commands.get(i),g=new n(d.locale);return g.set({label:a,icon:c}),g.bind("isEnabled").to(p,"isEnabled"),this.listenTo(g,"execute",()=>{d.execute(i),d.editing.view.focus()}),g}}class coe{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(n){Array.isArray(n)?n.forEach(i=>this._definitions.add(i)):this._definitions.add(n)}getDispatcher(){return n=>{n.on("attribute:linkHref",(i,a,c)=>{if(!c.consumable.test(a.item,"attribute:linkHref")||!a.item.is("selection")&&!c.schema.isInline(a.item))return;const d=c.writer,p=d.document.selection;for(const g of this._definitions){const b=d.createAttributeElement("a",g.attributes,{priority:5});g.classes&&d.addClass(g.classes,b);for(const w in g.styles)d.setStyle(w,g.styles[w],b);d.setCustomProperty("link",!0,b),g.callback(a.attributeNewValue)?a.item.is("selection")?d.wrap(p.getFirstRange(),b):d.wrap(c.mapper.toViewRange(a.range),b):d.unwrap(c.mapper.toViewRange(a.range),b)}},{priority:"high"})}}getDispatcherForLinkedImage(){return n=>{n.on("attribute:linkHref:imageBlock",(i,a,{writer:c,mapper:d})=>{const p=d.toViewElement(a.item),g=Array.from(p.getChildren()).find(b=>b.is("element","a"));for(const b of this._definitions){const w=Qi(b.attributes);if(b.callback(a.attributeNewValue)){for(const[C,x]of w)C==="class"?c.addClass(x,g):c.setAttribute(C,x,g);b.classes&&c.addClass(b.classes,g);for(const C in b.styles)c.setStyle(C,b.styles[C],g)}else{for(const[C,x]of w)C==="class"?c.removeClass(x,g):c.removeAttribute(C,g);b.classes&&c.removeClass(b.classes,g);for(const C in b.styles)c.removeStyle(C,g)}}})}}}const uoe=function(l,n,i){var a=l.length;return i=i===void 0?a:i,!n&&i>=a?l:ZM(l,n,i)};var doe=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const iB=function(l){return doe.test(l)},hoe=function(l){return l.split("")};var sB="\\ud800-\\udfff",poe="["+sB+"]",yA="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",_A="\\ud83c[\\udffb-\\udfff]",aB="[^"+sB+"]",lB="(?:\\ud83c[\\udde6-\\uddff]){2}",cB="[\\ud800-\\udbff][\\udc00-\\udfff]",uB="(?:"+yA+"|"+_A+")?",dB="[\\ufe0e\\ufe0f]?",foe=dB+uB+("(?:\\u200d(?:"+[aB,lB,cB].join("|")+")"+dB+uB+")*"),moe="(?:"+[aB+yA+"?",yA,lB,cB,poe].join("|")+")",goe=RegExp(_A+"(?="+_A+")|"+moe+foe,"g");const boe=function(l){return l.match(goe)||[]},koe=function(l){return iB(l)?boe(l):hoe(l)},voe=function(l){return function(n){n=dC(n);var i=iB(n)?koe(n):void 0,a=i?i[0]:n.charAt(0),c=i?uoe(i,1).join(""):n.slice(1);return a[l]()+c}}("toUpperCase"),woe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,yoe=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,_oe=/^((\w+:(\/{2,})?)|(\W))/i,Coe=["https?","ftps?","mailto"],kk="Ctrl+K";function hB(l,{writer:n}){const i=n.createAttributeElement("a",{href:l},{priority:5});return n.setCustomProperty("link",!0,i),i}function pB(l,n=Coe){const i=String(l),a=n.join("|");return function(c,d){return!!c.replace(woe,"").match(d)}(i,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",a)}`,"i"))?i:"#"}function CA(l,n){return!!l&&n.checkAttribute(l.name,"linkHref")}function AA(l,n){const i=(a=l,yoe.test(a)?"mailto:":n);var a;const c=!!i&&!fB(l);return l&&c?i+l:l}function fB(l){return _oe.test(l)}function mB(l){window.open(l,"_blank","noopener")}class Aoe extends ft{constructor(){super(...arguments),this.manualDecorators=new Di,this.automaticDecorators=new coe}restoreManualDecoratorStates(){for(const n of this.manualDecorators)n.value=this._getDecoratorStateFromModel(n.id)}refresh(){const n=this.editor.model,i=n.document.selection,a=i.getSelectedElement()||ur(i.getSelectedBlocks());CA(a,n.schema)?(this.value=a.getAttribute("linkHref"),this.isEnabled=n.schema.checkAttribute(a,"linkHref")):(this.value=i.getAttribute("linkHref"),this.isEnabled=n.schema.checkAttributeInSelection(i,"linkHref"));for(const c of this.manualDecorators)c.value=this._getDecoratorStateFromModel(c.id)}execute(n,i={}){const a=this.editor.model,c=a.document.selection,d=[],p=[];for(const g in i)i[g]?d.push(g):p.push(g);a.change(g=>{if(c.isCollapsed){const b=c.getFirstPosition();if(c.hasAttribute("linkHref")){const w=gB(c);let C=ok(b,"linkHref",c.getAttribute("linkHref"),a);c.getAttribute("linkHref")===w&&(C=this._updateLinkContent(a,g,C,n)),g.setAttribute("linkHref",n,C),d.forEach(x=>{g.setAttribute(x,!0,C)}),p.forEach(x=>{g.removeAttribute(x,C)}),g.setSelection(g.createPositionAfter(C.end.nodeBefore))}else if(n!==""){const w=Qi(c.getAttributes());w.set("linkHref",n),d.forEach(x=>{w.set(x,!0)});const{end:C}=a.insertContent(g.createText(n,w),b);g.setSelection(C)}["linkHref",...d,...p].forEach(w=>{g.removeSelectionAttribute(w)})}else{const b=a.schema.getValidRanges(c.getRanges(),"linkHref"),w=[];for(const x of c.getSelectedBlocks())a.schema.checkAttribute(x,"linkHref")&&w.push(g.createRangeOn(x));const C=w.slice();for(const x of b)this._isRangeToUpdate(x,w)&&C.push(x);for(const x of C){let D=x;if(C.length===1){const N=gB(c);c.getAttribute("linkHref")===N&&(D=this._updateLinkContent(a,g,x,n),g.setSelection(g.createSelection(D)))}g.setAttribute("linkHref",n,D),d.forEach(N=>{g.setAttribute(N,!0,D)}),p.forEach(N=>{g.removeAttribute(N,D)})}}})}_getDecoratorStateFromModel(n){const i=this.editor.model,a=i.document.selection,c=a.getSelectedElement();return CA(c,i.schema)?c.getAttribute(n):a.getAttribute(n)}_isRangeToUpdate(n,i){for(const a of i)if(a.containsRange(n))return!1;return!0}_updateLinkContent(n,i,a,c){const d=i.createText(c,{linkHref:c});return n.insertContent(d,a)}}function gB(l){if(l.isCollapsed){const n=l.getFirstPosition();return n.textNode&&n.textNode.data}{const n=Array.from(l.getFirstRange().getItems());if(n.length>1)return null;const i=n[0];return i.is("$text")||i.is("$textProxy")?i.data:null}}class xoe extends ft{refresh(){const n=this.editor.model,i=n.document.selection,a=i.getSelectedElement();CA(a,n.schema)?this.isEnabled=n.schema.checkAttribute(a,"linkHref"):this.isEnabled=n.schema.checkAttributeInSelection(i,"linkHref")}execute(){const n=this.editor,i=this.editor.model,a=i.document.selection,c=n.commands.get("link");i.change(d=>{const p=a.isCollapsed?[ok(a.getFirstPosition(),"linkHref",a.getAttribute("linkHref"),i)]:i.schema.getValidRanges(a.getRanges(),"linkHref");for(const g of p)if(d.removeAttribute("linkHref",g),c)for(const b of c.manualDecorators)d.removeAttribute(b.id,g)})}}class Eoe extends be(){constructor({id:n,label:i,attributes:a,classes:c,styles:d,defaultValue:p}){super(),this.id=n,this.set("value",void 0),this.defaultValue=p,this.label=i,this.attributes=a,this.classes=c,this.styles=d}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var bB=s(7719),Soe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(bB.A,Soe),bB.A.locals;var Doe=Object.defineProperty,kB=Object.getOwnPropertySymbols,Toe=Object.prototype.hasOwnProperty,Ioe=Object.prototype.propertyIsEnumerable,vB=(l,n,i)=>n in l?Doe(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,Moe=(l,n)=>{for(var i in n||(n={}))Toe.call(n,i)&&vB(l,i,n[i]);if(kB)for(var i of kB(n))Ioe.call(n,i)&&vB(l,i,n[i]);return l};const wB="automatic",Poe=/^(https?:)?\/\//;class yB extends me{static get pluginName(){return"LinkEditing"}static get requires(){return[q4,F4,oi]}constructor(n){super(n),n.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const n=this.editor,i=this.editor.config.get("link.allowedProtocols");n.model.schema.extend("$text",{allowAttributes:"linkHref"}),n.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:hB}),n.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(c,d)=>hB(pB(c,i),d)}),n.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:c=>c.getAttribute("href")}}),n.commands.add("link",new Aoe(n)),n.commands.add("unlink",new xoe(n));const a=function(c,d){const p={"Open in a new tab":c("Open in a new tab"),Downloadable:c("Downloadable")};return d.forEach(g=>("label"in g&&p[g.label]&&(g.label=p[g.label]),g)),d}(n.t,function(c){const d=[];if(c)for(const[p,g]of Object.entries(c)){const b=Object.assign({},g,{id:`link${voe(p)}`});d.push(b)}return d}(n.config.get("link.decorators")));this._enableAutomaticDecorators(a.filter(c=>c.mode===wB)),this._enableManualDecorators(a.filter(c=>c.mode==="manual")),n.plugins.get(q4).registerAttribute("linkHref"),function(c,d,p,g){const b=c.editing.view,w=new Set;b.document.registerPostFixer(C=>{const x=c.model.document.selection;let D=!1;if(x.hasAttribute(d)){const N=ok(x.getFirstPosition(),d,x.getAttribute(d),c.model),B=c.editing.mapper.toViewRange(N);for(const F of B.getItems())F.is("element",p)&&!F.hasClass(g)&&(C.addClass(g,F),w.add(F),D=!0)}return D}),c.conversion.for("editingDowncast").add(C=>{function x(){b.change(D=>{for(const N of w.values())D.removeClass(g,N),w.delete(N)})}C.on("insert",x,{priority:"highest"}),C.on("remove",x,{priority:"highest"}),C.on("attribute",x,{priority:"highest"}),C.on("selection",x,{priority:"highest"})})}(n,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(n){const i=this.editor,a=i.commands.get("link").automaticDecorators;i.config.get("link.addTargetToExternalLinks")&&a.add({id:"linkIsExternal",mode:wB,callback:c=>!!c&&Poe.test(c),attributes:{target:"_blank",rel:"noopener noreferrer"}}),a.add(n),a.length&&i.conversion.for("downcast").add(a.getDispatcher())}_enableManualDecorators(n){if(!n.length)return;const i=this.editor,a=i.commands.get("link").manualDecorators;n.forEach(c=>{i.model.schema.extend("$text",{allowAttributes:c.id});const d=new Eoe(c);a.add(d),i.conversion.for("downcast").attributeToElement({model:d.id,view:(p,{writer:g,schema:b},{item:w})=>{if((w.is("selection")||b.isInline(w))&&p){const C=g.createAttributeElement("a",d.attributes,{priority:5});d.classes&&g.addClass(d.classes,C);for(const x in d.styles)g.setStyle(x,d.styles[x],C);return g.setCustomProperty("link",!0,C),C}}}),i.conversion.for("upcast").elementToAttribute({view:Moe({name:"a"},d._createPattern()),model:{key:d.id}})})}_enableLinkOpen(){const n=this.editor,i=n.editing.view.document;this.listenTo(i,"click",(a,c)=>{if(!(v.isMac?c.domEvent.metaKey:c.domEvent.ctrlKey))return;let d=c.domTarget;if(d.tagName.toLowerCase()!="a"&&(d=d.closest("a")),!d)return;const p=d.getAttribute("href");p&&(a.stop(),c.preventDefault(),mB(p))},{context:"$capture"}),this.listenTo(i,"keydown",(a,c)=>{const d=n.commands.get("link").value;d&&c.keyCode===_t.enter&&c.altKey&&(a.stop(),mB(d))})}_enableSelectionAttributesFixer(){const n=this.editor.model,i=n.document.selection;this.listenTo(i,"change:attribute",(a,{attributeKeys:c})=>{c.includes("linkHref")&&!i.hasAttribute("linkHref")&&n.change(d=>{var p;(function(g,b){g.removeSelectionAttribute("linkHref");for(const w of b)g.removeSelectionAttribute(w)})(d,(p=n.schema,p.getDefinition("$text").allowAttributes.filter(g=>g.startsWith("link"))))})})}_enableClipboardIntegration(){const n=this.editor,i=n.model,a=this.editor.config.get("link.defaultProtocol");a&&this.listenTo(n.plugins.get("ClipboardPipeline"),"contentInsertion",(c,d)=>{i.change(p=>{const g=p.createRangeIn(d.content);for(const b of g.getItems())if(b.hasAttribute("linkHref")){const w=AA(b.getAttribute("linkHref"),a);p.setAttribute("linkHref",w,b)}})})}}var _B=s(3817),Noe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(_B.A,Noe),_B.A.locals;class Roe extends We{constructor(n,i,a){super(n),this.focusTracker=new dr,this.keystrokes=new Gr,this._focusables=new ti;const c=n.t;this._validators=a,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(c("Save"),rt.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(c("Cancel"),rt.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(i),this.children=this._createFormChildren(i.manualDecorators),this._focusCycler=new ri({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const d=["ck","ck-link-form","ck-responsive-form"];i.manualDecorators.length&&d.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:d,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((n,i)=>(n[i.name]=i.isOn,n),{})}render(){super.render(),_b({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const n of this._validators){const i=n(this);if(i)return this.urlInputView.errorText=i,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const n=this.locale.t,i=new Hb(this.locale,Gb);return i.label=n("Link URL"),i}_createButton(n,i,a,c){const d=new Mt(this.locale);return d.set({label:n,icon:i,tooltip:!0}),d.extendTemplate({attributes:{class:a}}),c&&d.delegate("execute").to(this,c),d}_createManualDecoratorSwitches(n){const i=this.createCollection();for(const a of n.manualDecorators){const c=new Vb(this.locale);c.set({name:a.id,label:a.label,withText:!0}),c.bind("isOn").toMany([a,n],"value",(d,p)=>p===void 0&&d===void 0?!!a.defaultValue:!!d),c.on("execute",()=>{a.set("value",!c.isOn)}),i.add(c)}return i}_createFormChildren(n){const i=this.createCollection();if(i.add(this.urlInputView),n.length){const a=new We;a.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(c=>({tag:"li",children:[c],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),i.add(a)}return i.add(this.saveButtonView),i.add(this.cancelButtonView),i}get url(){const{element:n}=this.urlInputView.fieldView;return n?n.value.trim():null}}var CB=s(8762),Ooe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(CB.A,Ooe),CB.A.locals;class Boe extends We{constructor(n,i={}){super(n),this.focusTracker=new dr,this.keystrokes=new Gr,this._focusables=new ti;const a=n.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(a("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(a("Edit link"),rt.pencil,"edit"),this.set("href",void 0),this._linkConfig=i,this._focusCycler=new ri({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(n,i,a){const c=new Mt(this.locale);return c.set({label:n,icon:i,tooltip:!0}),c.delegate("execute").to(this,a),c}_createPreviewButton(){const n=new Mt(this.locale),i=this.bindTemplate,a=this.t;return n.set({withText:!0,tooltip:a("Open link in new tab")}),n.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:i.to("href",c=>c&&pB(c,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"}}),n.bind("label").to(this,"href",c=>c||a("This link has no URL")),n.bind("isEnabled").to(this,"href",c=>!!c),n.template.tag="a",n.template.eventListeners={},n}}const ts="link-ui";class Loe extends me{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[Xb]}static get pluginName(){return"LinkUI"}init(){const n=this.editor,i=this.editor.t;n.editing.view.addObserver(IJ),this._balloon=n.plugins.get(Xb),this._createToolbarLinkButton(),this._enableBalloonActivators(),n.conversion.for("editingDowncast").markerToHighlight({model:ts,view:{classes:["ck-fake-link-selection"]}}),n.conversion.for("editingDowncast").markerToElement({model:ts,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}}),n.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Create link"),keystroke:kk},{label:i("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const n=this.editor,i=new Boe(n.locale,n.config.get("link")),a=n.commands.get("link"),c=n.commands.get("unlink");return i.bind("href").to(a,"value"),i.editButtonView.bind("isEnabled").to(a),i.unlinkButtonView.bind("isEnabled").to(c),this.listenTo(i,"edit",()=>{this._addFormView()}),this.listenTo(i,"unlink",()=>{n.execute("unlink"),this._hideUI()}),i.keystrokes.set("Esc",(d,p)=>{this._hideUI(),p()}),i.keystrokes.set(kk,(d,p)=>{this._addFormView(),p()}),i}_createFormView(){const n=this.editor,i=n.commands.get("link"),a=n.config.get("link.defaultProtocol"),c=new(sC(Roe))(n.locale,i,function(d){const p=d.t,g=d.config.get("link.allowCreatingEmptyLinks");return[b=>{if(!g&&!b.url.length)return p("Link URL must not be empty.")}]}(n));return c.urlInputView.fieldView.bind("value").to(i,"value"),c.urlInputView.bind("isEnabled").to(i,"isEnabled"),c.saveButtonView.bind("isEnabled").to(i,"isEnabled"),this.listenTo(c,"submit",()=>{if(c.isValid()){const{value:d}=c.urlInputView.fieldView.element,p=AA(d,a);n.execute("link",p,c.getDecoratorSwitchesState()),this._closeFormView()}}),this.listenTo(c.urlInputView,"change:errorText",()=>{n.ui.update()}),this.listenTo(c,"cancel",()=>{this._closeFormView()}),c.keystrokes.set("Esc",(d,p)=>{this._closeFormView(),p()}),c}_createToolbarLinkButton(){const n=this.editor,i=n.commands.get("link");n.ui.componentFactory.add("link",()=>{const a=this._createButton(Mt);return a.set({tooltip:!0,isToggleable:!0}),a.bind("isOn").to(i,"value",c=>!!c),a}),n.ui.componentFactory.add("menuBar:link",()=>this._createButton(Mo))}_createButton(n){const i=this.editor,a=i.locale,c=i.commands.get("link"),d=new n(i.locale),p=a.t;return d.set({label:p("Link"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',keystroke:kk}),d.bind("isEnabled").to(c,"isEnabled"),this.listenTo(d,"execute",()=>this._showUI(!0)),d}_enableBalloonActivators(){const n=this.editor,i=n.editing.view.document;this.listenTo(i,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),n.keystrokes.set(kk,(a,c)=>{c(),n.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(n,i)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),i())},{priority:"high"}),this.editor.keystrokes.set("Esc",(n,i)=>{this._isUIVisible&&(this._hideUI(),i())}),yb({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const n=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=n.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const n=this.editor.commands.get("link");n.restoreManualDecoratorStates(),n.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(n=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),n&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),n&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const n=this.editor;this.stopListening(n.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),n.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const n=this.editor,i=n.editing.view.document;let a=this._getSelectedLinkElement(),c=p();const d=()=>{const g=this._getSelectedLinkElement(),b=p();a&&!g||!a&&b!==c?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),a=g,c=b};function p(){return i.selection.focus.getAncestors().reverse().find(g=>g.is("element"))}this.listenTo(n.ui,"update",d),this.listenTo(this._balloon,"change:visibleView",d)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const n=this._balloon.visibleView;return!!this.formView&&n==this.formView||this._areActionsVisible}_getBalloonPositionData(){const n=this.editor.editing.view,i=this.editor.model,a=n.document;let c;if(i.markers.has(ts)){const d=Array.from(this.editor.editing.mapper.markerNameToElements(ts)),p=n.createRange(n.createPositionBefore(d[0]),n.createPositionAfter(d[d.length-1]));c=n.domConverter.viewRangeToDom(p)}else c=()=>{const d=this._getSelectedLinkElement();return d?n.domConverter.mapViewToDom(d):n.domConverter.viewRangeToDom(a.selection.getFirstRange())};return{target:c}}_getSelectedLinkElement(){const n=this.editor.editing.view,i=n.document.selection,a=i.getSelectedElement();if(i.isCollapsed||a&&Vn(a))return xA(i.getFirstPosition());{const c=i.getFirstRange().getTrimmed(),d=xA(c.start),p=xA(c.end);return d&&d==p&&n.createRangeIn(d).getTrimmed().isEqual(c)?d:null}}_showFakeVisualSelection(){const n=this.editor.model;n.change(i=>{const a=n.document.selection.getFirstRange();if(n.markers.has(ts))i.updateMarker(ts,{range:a});else if(a.start.isAtEnd){const c=a.start.getLastMatchingPosition(({item:d})=>!n.schema.isContent(d),{boundaries:a});i.addMarker(ts,{usingOperation:!1,affectsData:!1,range:i.createRange(c,a.end)})}else i.addMarker(ts,{usingOperation:!1,affectsData:!1,range:a})})}_hideFakeVisualSelection(){const n=this.editor.model;n.markers.has(ts)&&n.change(i=>{i.removeMarker(ts)})}}function xA(l){return l.getAncestors().find(n=>{return(i=n).is("attributeElement")&&!!i.getCustomProperty("link");var i})||null}const AB=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class joe extends me{static get requires(){return[Hs,yB]}static get pluginName(){return"AutoLink"}init(){const n=this.editor.model.document.selection;n.on("change:range",()=>{this.isEnabled=!n.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(n,i){return i.textNode&&i.textNode.hasAttribute("linkHref")?ok(i,"linkHref",i.textNode.getAttribute("linkHref"),n):null}_selectEntireLinks(n,i){const a=this.editor.model,c=a.document.selection,d=c.getFirstPosition(),p=c.getLastPosition();let g=i.getJoined(this._expandLinkRange(a,d)||i);g&&(g=g.getJoined(this._expandLinkRange(a,p)||i)),g&&(g.start.isBefore(d)||g.end.isAfter(p))&&n.setSelection(g)}_enablePasteLinking(){const n=this.editor,i=n.model,a=i.document.selection,c=n.plugins.get("ClipboardPipeline"),d=n.commands.get("link");c.on("inputTransformation",(p,g)=>{if(!this.isEnabled||!d.isEnabled||a.isCollapsed||g.method!=="paste"||a.rangeCount>1)return;const b=a.getFirstRange(),w=g.dataTransfer.getData("text/plain");if(!w)return;const C=w.match(AB);C&&C[2]===w&&(i.change(x=>{this._selectEntireLinks(x,b),d.execute(w)}),p.stop())},{priority:"high"})}_enableTypingHandling(){const n=this.editor,i=new W4(n.model,a=>{if(!function(d){return d.length>4&&d[d.length-1]===" "&&d[d.length-2]!==" "}(a))return;const c=xB(a.substr(0,a.length-1));return c?{url:c}:void 0});i.on("matched:data",(a,c)=>{const{batch:d,range:p,url:g}=c;if(!d.isTyping)return;const b=p.end.getShiftedBy(-1),w=b.getShiftedBy(-g.length),C=n.model.createRange(w,b);this._applyAutoLink(g,C)}),i.bind("isEnabled").to(this)}_enableEnterHandling(){const n=this.editor,i=n.model,a=n.commands.get("enter");a&&a.on("execute",()=>{const c=i.document.selection.getFirstPosition();if(!c.parent.previousSibling)return;const d=i.createRangeIn(c.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(d)})}_enableShiftEnterHandling(){const n=this.editor,i=n.model,a=n.commands.get("shiftEnter");a&&a.on("execute",()=>{const c=i.document.selection.getFirstPosition(),d=i.createRange(i.createPositionAt(c.parent,0),c.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(d)})}_checkAndApplyAutoLinkOnRange(n){const i=this.editor.model,{text:a,range:c}=H4(n,i),d=xB(a);if(d){const p=i.createRange(c.end.getShiftedBy(-d.length),c.end);this._applyAutoLink(d,p)}}_applyAutoLink(n,i){const a=this.editor.model,c=AA(n,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(d,p){return p.schema.checkAttributeInSelection(p.createSelection(d),"linkHref")}(i,a)&&fB(c)&&!function(d){const p=d.start.nodeAfter;return!!p&&p.hasAttribute("linkHref")}(i)&&this._persistAutoLink(c,i)}_persistAutoLink(n,i){const a=this.editor.model,c=this.editor.plugins.get("Delete");a.enqueueChange(d=>{d.setAttribute("linkHref",n,i),a.enqueueChange(()=>{c.requestUndoOnBackspace()})})}}function xB(l){const n=AB.exec(l);return n?n[2]:null}var EB=s(4808),Foe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(EB.A,Foe),EB.A.locals;class si{constructor(n,i){this._startElement=n,this._referenceIndent=n.getAttribute("listIndent"),this._isForward=i.direction=="forward",this._includeSelf=!!i.includeSelf,this._sameAttributes=rn(i.sameAttributes||[]),this._sameIndent=!!i.sameIndent,this._lowerIndent=!!i.lowerIndent,this._higherIndent=!!i.higherIndent}static first(n,i){return ur(new this(n,i)[Symbol.iterator]())}*[Symbol.iterator](){const n=[];for(const{node:i}of jp(this._getStartNode(),this._isForward?"forward":"backward")){const a=i.getAttribute("listIndent");if(a<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=a}else if(a>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){n.push(i);continue}}else{if(!this._sameIndent){if(this._higherIndent){n.length&&(yield*n,n.length=0);break}continue}if(this._sameAttributes.some(c=>i.getAttribute(c)!==this._startElement.getAttribute(c)))break}n.length&&(yield*n,n.length=0),yield i}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*jp(l,n="forward"){const i=n=="forward",a=[];let c=null;for(;rr(l);){let d=null;if(c){const p=l.getAttribute("listIndent"),g=c.getAttribute("listIndent");p>g?a[g]=c:p<g?(d=a[p],a.length=p):d=c}yield{node:l,previous:c,previousNodeInList:d},c=l,l=i?l.nextSibling:l.previousSibling}}class zoe{constructor(n){this._listHead=n}[Symbol.iterator](){return jp(this._listHead,"forward")}}var $oe=Object.defineProperty,Voe=Object.defineProperties,Uoe=Object.getOwnPropertyDescriptors,SB=Object.getOwnPropertySymbols,Hoe=Object.prototype.hasOwnProperty,Woe=Object.prototype.propertyIsEnumerable,DB=(l,n,i)=>n in l?$oe(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,Fp=(l,n)=>{for(var i in n||(n={}))Hoe.call(n,i)&&DB(l,i,n[i]);if(SB)for(var i of SB(n))Woe.call(n,i)&&DB(l,i,n[i]);return l},EA=(l,n)=>Voe(l,Uoe(n));class Qu{static next(){return O()}}function rr(l){return!!l&&l.is("element")&&l.hasAttribute("listItemId")}function SA(l,n={}){return[...Ra(l,EA(Fp({},n),{direction:"backward"})),...Ra(l,EA(Fp({},n),{direction:"forward"}))]}function Ra(l,n={}){const i=n.direction=="forward",a=Array.from(new si(l,EA(Fp({},n),{includeSelf:i,sameIndent:!0,sameAttributes:"listItemId"})));return i?a:a.reverse()}function TB(l,n){const i=new si(l,Fp({sameIndent:!0,sameAttributes:"listType"},n)),a=new si(l,Fp({sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"},n));return[...Array.from(i).reverse(),...a]}function nc(l){return!si.first(l,{sameIndent:!0,sameAttributes:"listItemId"})}function IB(l){return!si.first(l,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function zp(l,n={}){l=rn(l);const i=n.withNested!==!1,a=new Set;for(const c of l)for(const d of SA(c,{higherIndent:i}))a.add(d);return rc(a)}function qoe(l){l=rn(l);const n=new Set;for(const i of l)for(const a of TB(i))n.add(a);return rc(n)}function DA(l,n){const i=Ra(l,{direction:"forward"}),a=Qu.next();for(const c of i)n.setAttribute("listItemId",a,c);return i}function TA(l,n,i){const a={};for(const[d,p]of n.getAttributes())d.startsWith("list")&&(a[d]=p);const c=Ra(l,{direction:"forward"});for(const d of c)i.setAttributes(a,d);return c}function IA(l,n,{expand:i,indentBy:a=1}={}){l=rn(l);const c=i?zp(l):l;for(const d of c){const p=d.getAttribute("listIndent")+a;p<0?vk(d,n):n.setAttribute("listIndent",p,d)}return c}function vk(l,n){l=rn(l);for(const i of l)i.is("element","listItem")&&n.rename(i,"paragraph");for(const i of l)for(const a of i.getAttributeKeys())a.startsWith("list")&&n.removeAttribute(a,i);return l}function $p(l){if(!l.length)return!1;const n=l[0].getAttribute("listItemId");return!!n&&!l.some(i=>i.getAttribute("listItemId")!=n)}function rc(l){return Array.from(l).filter(n=>n.root.rootName!=="$graveyard").sort((n,i)=>n.index-i.index)}function Vp(l){const n=l.document.selection.getSelectedElement();return n&&l.schema.isObject(n)&&l.schema.isBlock(n)?n:null}function MA(l,n){return n.checkChild(l.parent,"listItem")&&n.checkChild(l,"$text")&&!n.isObject(l)}function Goe(l){return l=="numbered"||l=="customNumbered"}function Koe(l,n,i){return Ra(n,{direction:"forward"}).pop().index>l.index?TA(l,n,i):[]}class MB extends ft{constructor(n,i){super(n),this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute(){const n=this.editor.model,i=PB(n.document.selection);n.change(a=>{const c=[];$p(i)&&!nc(i[0])?(this._direction=="forward"&&c.push(...IA(i,a)),c.push(...DA(i[0],a))):this._direction=="forward"?c.push(...IA(i,a,{expand:!0})):c.push(...function(d,p){const g=zp(d=rn(d)),b=new Set,w=Math.min(...g.map(x=>x.getAttribute("listIndent"))),C=new Map;for(const x of g)C.set(x,si.first(x,{lowerIndent:!0}));for(const x of g){if(b.has(x))continue;b.add(x);const D=x.getAttribute("listIndent")-1;if(D<0)vk(x,p);else{if(x.getAttribute("listIndent")==w){const N=Koe(x,C.get(x),p);for(const B of N)b.add(B);if(N.length)continue}p.setAttribute("listIndent",D,x)}}return rc(b)}(i,a));for(const d of c){if(!d.hasAttribute("listType"))continue;const p=si.first(d,{sameIndent:!0});p&&a.setAttribute("listType",p.getAttribute("listType"),d)}this._fireAfterExecute(c)})}_fireAfterExecute(n){this.fire("afterExecute",rc(new Set(n)))}_checkEnabled(){let n=PB(this.editor.model.document.selection),i=n[0];if(!i)return!1;if(this._direction=="backward"||$p(n)&&!nc(n[0]))return!0;n=zp(n),i=n[0];const a=si.first(i,{sameIndent:!0});return!!a&&a.getAttribute("listType")==i.getAttribute("listType")}}function PB(l){const n=Array.from(l.getSelectedBlocks()),i=n.findIndex(a=>!rr(a));return i!=-1&&(n.length=i),n}var Yoe=Object.defineProperty,Qoe=Object.defineProperties,Zoe=Object.getOwnPropertyDescriptors,NB=Object.getOwnPropertySymbols,Joe=Object.prototype.hasOwnProperty,Xoe=Object.prototype.propertyIsEnumerable,RB=(l,n,i)=>n in l?Yoe(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,PA=(l,n)=>{for(var i in n||(n={}))Joe.call(n,i)&&RB(l,i,n[i]);if(NB)for(var i of NB(n))Xoe.call(n,i)&&RB(l,i,n[i]);return l},NA=(l,n)=>Qoe(l,Zoe(n));class wk extends ft{constructor(n,i,a={}){super(n),this.type=i,this._listWalkerOptions=a.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(n={}){const i=this.editor.model,a=i.document,c=Vp(i),d=Array.from(a.selection.getSelectedBlocks()).filter(g=>i.schema.checkAttribute(g,"listType")||MA(g,i.schema)),p=n.forceValue!==void 0?!n.forceValue:this.value;i.change(g=>{if(p){const b=d[d.length-1],w=Ra(b,{direction:"forward"}),C=[];w.length>1&&C.push(...DA(w[1],g)),C.push(...vk(d,g)),C.push(...function(x,D){const N=[];let B=Number.POSITIVE_INFINITY;for(const{node:F}of jp(x.nextSibling,"forward")){const U=F.getAttribute("listIndent");if(U==0)break;U<B&&(B=U);const W=U-B;D.setAttribute("listIndent",W,F),N.push(F)}return N}(b,g)),this._fireAfterExecute(C)}else if((c||a.selection.isCollapsed)&&rr(d[0])){const b=TB(c||d[0],this._listWalkerOptions);for(const w of b)g.setAttributes(NA(PA({},n.additionalAttributes),{listType:this.type}),w);this._fireAfterExecute(b)}else{const b=[];for(const w of d)if(w.hasAttribute("listType"))for(const C of zp(w,{withNested:!1}))C.getAttribute("listType")!=this.type&&(g.setAttributes(NA(PA({},n.additionalAttributes),{listType:this.type}),C),b.push(C));else!w.is("element","listItem")&&MA(w,i.schema)&&g.rename(w,"listItem"),g.setAttributes(NA(PA({},n.additionalAttributes),{listIndent:0,listItemId:Qu.next(),listType:this.type}),w),b.push(w);this._fireAfterExecute(b)}})}_fireAfterExecute(n){this.fire("afterExecute",rc(new Set(n)))}_getValue(){const n=this.editor.model.document.selection,i=Array.from(n.getSelectedBlocks());if(!i.length)return!1;for(const a of i)if(a.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const n=this.editor.model,i=n.schema,a=n.document.selection,c=Array.from(a.getSelectedBlocks());if(!c.length)return!1;if(this.value)return!0;for(const d of c)if(i.checkAttribute(d,"listType")||MA(d,i))return!0;return!1}}class OB extends ft{constructor(n,i){super(n),this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:n=!1}={}){const i=this.editor.model,a=i.document.selection,c=[];i.change(d=>{const{firstElement:p,lastElement:g}=this._getMergeSubjectElements(a,n),b=p.getAttribute("listIndent")||0,w=g.getAttribute("listIndent"),C=g.getAttribute("listItemId");if(b!=w){const D=(x=g,Array.from(new si(x,{direction:"forward",higherIndent:!0})));c.push(...IA([g,...D],d,{indentBy:b-w,expand:b<w}))}var x;if(n){let D=a;a.isCollapsed&&(D=d.createSelection(d.createRange(d.createPositionAt(p,"end"),d.createPositionAt(g,0)))),i.deleteContent(D,{doNotResetEntireContent:a.isCollapsed});const N=D.getLastPosition().parent,B=N.nextSibling;c.push(N),B&&B!==g&&B.getAttribute("listItemId")==C&&c.push(...TA(B,N,d))}else c.push(...TA(g,p,d));this._fireAfterExecute(c)})}_fireAfterExecute(n){this.fire("afterExecute",rc(new Set(n)))}_checkEnabled(){const n=this.editor.model,i=n.document.selection,a=Vp(n);if(i.isCollapsed||a){const c=a||i.getFirstPosition().parent;if(!rr(c))return!1;const d=this._direction=="backward"?c.previousSibling:c.nextSibling;if(!d||$p([c,d]))return!1}else{const c=i.getLastPosition(),d=i.getFirstPosition();if(c.parent===d.parent||!rr(c.parent))return!1}return!0}_getMergeSubjectElements(n,i){const a=Vp(this.editor.model);let c,d;if(n.isCollapsed||a){const p=a||n.getFirstPosition().parent,g=nc(p);this._direction=="backward"?(d=p,c=g&&!i?si.first(p,{sameIndent:!0,lowerIndent:!0}):p.previousSibling):(c=p,d=p.nextSibling)}else c=n.getFirstPosition().parent,d=n.getLastPosition().parent;return{firstElement:c,lastElement:d}}}class BB extends ft{constructor(n,i){super(n),this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(n=>{const i=DA(this._getStartBlock(),n);this._fireAfterExecute(i)})}_fireAfterExecute(n){this.fire("afterExecute",rc(new Set(n)))}_checkEnabled(){const n=this.editor.model.document.selection,i=this._getStartBlock();return n.isCollapsed&&rr(i)&&!nc(i)}_getStartBlock(){const n=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?n:n.nextSibling}}class eie extends me{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(n){return qoe(n)}isFirstBlockOfListItem(n){return nc(n)}isListItemBlock(n){return rr(n)}expandListBlocksToCompleteItems(n,i={}){return zp(n,i)}isNumberedListType(n){return Goe(n)}}function LB(l){return l.is("element","ol")||l.is("element","ul")}function yk(l){return l.is("element","li")}function tie(l,n,i,a=FB(i,n)){return l.createAttributeElement(jB(i),null,{priority:2*n/100-100,id:a})}function nie(l,n,i){return l.createAttributeElement("li",null,{priority:(2*n+1)/100-100,id:i})}function jB(l){return l=="numbered"||l=="customNumbered"?"ol":"ul"}function FB(l,n){return`list-${l}-${n}`}function Bi(l,n){const i=l.nodeBefore;if(rr(i)){let a=i;for(const{node:c}of jp(a,"backward"))if(a=c,n.has(a))return;n.set(i,a)}else{const a=l.nodeAfter;rr(a)&&n.set(a,a)}}function rie(){return(l,n,i)=>{const{writer:a,schema:c}=i;if(!n.modelRange)return;const d=Array.from(n.modelRange.getItems({shallow:!0})).filter(x=>c.checkAttribute(x,"listItemId"));if(!d.length)return;const p=Qu.next(),g=function(x){let D=0,N=x.parent;for(;N;){if(yk(N))D++;else{const B=N.previousSibling;B&&yk(B)&&D++}N=N.parent}return D}(n.viewItem);let b=n.viewItem.parent&&n.viewItem.parent.is("element","ol")?"numbered":"bulleted";const w=d[0].getAttribute("listType");w&&(b=w);const C={listItemId:p,listIndent:g,listType:b};for(const x of d)x.hasAttribute("listItemId")||a.setAttributes(C,x);d.length>1&&d[1].getAttribute("listItemId")!=C.listItemId&&i.keepEmptyElement(d[0])}}function zB(){return(l,n,i)=>{if(!i.consumable.test(n.viewItem,{name:!0}))return;const a=new zs(n.viewItem.document);for(const c of Array.from(n.viewItem.getChildren()))yk(c)||LB(c)||a.remove(c)}}function $B(l,n,i,{dataPipeline:a}={}){const c=function(d){return(p,g)=>{const b=[];for(const w of d)p.hasAttribute(w)&&b.push(`attribute:${w}`);return!!b.every(w=>g.test(p,w)!==!1)&&(b.forEach(w=>g.consume(p,w)),!0)}}(l);return(d,p,g)=>{const{writer:b,mapper:w,consumable:C}=g,x=p.item;if(!l.includes(p.attributeKey)||!c(x,C))return;const D=function(B,F,U){const W=U.createRangeOn(B);return F.toViewRange(W).getTrimmed().end.nodeBefore}(x,w,i);UB(D,b,w),function(B,F){let U=B.parent;for(;U.is("attributeElement")&&["ul","ol","li"].includes(U.name);){const W=U.parent;F.unwrap(F.createRangeOn(B),U),U=W}}(D,b);const N=function(B,F,U,W,{dataPipeline:Y}){let oe=W.createRangeOn(F);if(!nc(B))return oe;for(const ue of U){if(ue.scope!="itemMarker")continue;const Ee=ue.createElement(W,B,{dataPipeline:Y});if(!Ee||(W.setCustomProperty("listItemMarker",!0,Ee),ue.canInjectMarkerIntoElement&&ue.canInjectMarkerIntoElement(B)?W.insert(W.createPositionAt(F,0),Ee):(W.insert(oe.start,Ee),oe=W.createRange(W.createPositionBefore(Ee),W.createPositionAfter(F))),!ue.createWrapperElement||!ue.canWrapElement))continue;const Ze=ue.createWrapperElement(W,B,{dataPipeline:Y});W.setCustomProperty("listItemWrapper",!0,Ze),ue.canWrapElement(B)?oe=W.wrap(oe,Ze):(oe=W.wrap(W.createRangeOn(Ee),Ze),oe=W.createRange(oe.start,W.createPositionAfter(F)))}return oe}(x,D,n,b,{dataPipeline:a});(function(B,F,U,W){if(!B.hasAttribute("listIndent"))return;const Y=B.getAttribute("listIndent");let oe=B;for(let ue=Y;ue>=0;ue--){const Ee=nie(W,ue,oe.getAttribute("listItemId")),Ze=tie(W,ue,oe.getAttribute("listType"));for(const st of U)st.scope!="list"&&st.scope!="item"||!oe.hasAttribute(st.attributeName)||st.setAttributeOnDowncast(W,oe.getAttribute(st.attributeName),st.scope=="list"?Ze:Ee);if(F=W.wrap(F,Ee),F=W.wrap(F,Ze),ue==0||(oe=si.first(oe,{lowerIndent:!0}),!oe))break}})(x,N,n,b)}}function VB(l,{dataPipeline:n}={}){return(i,{writer:a})=>{if(!HB(i,l))return null;if(!n)return a.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const c=a.createContainerElement("p");return a.setCustomProperty("dataPipeline:transparentRendering",!0,c),c}}function UB(l,n,i){for(;l.parent.is("attributeElement")&&l.parent.getCustomProperty("listItemWrapper");)n.unwrap(n.createRangeOn(l),l.parent);const a=[];c(n.createPositionBefore(l).getWalker({direction:"backward"})),c(n.createRangeIn(l).getWalker());for(const d of a)n.remove(d);function c(d){for(const{item:p}of d){if(p.is("element")&&i.toModelElement(p))break;p.is("element")&&p.getCustomProperty("listItemMarker")&&a.push(p)}}}function HB(l,n,i=SA(l)){if(!rr(l))return!1;for(const a of l.getAttributeKeys())if(!a.startsWith("selection:")&&!n.includes(a))return!1;return i.length<2}var WB=s(1232),oie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(WB.A,oie),WB.A.locals;var qB=s(6903),iie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(qB.A,iie),qB.A.locals;const _k=["listType","listIndent","listItemId"];class sie extends me{constructor(n){super(n),this._downcastStrategies=[],n.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get requires(){return[ik,Hs,eie,oi]}init(){const n=this.editor,i=n.model,a=n.config.get("list.multiBlock");if(n.plugins.has("LegacyListEditing"))throw new P("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});i.schema.register("$listItem",{allowAttributes:_k}),a?(i.schema.extend("$container",{allowAttributesOf:"$listItem"}),i.schema.extend("$block",{allowAttributesOf:"$listItem"}),i.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):i.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const c of _k)i.schema.setAttributeProperties(c,{copyOnReplace:!0});n.commands.add("numberedList",new wk(n,"numbered")),n.commands.add("bulletedList",new wk(n,"bulleted")),n.commands.add("customNumberedList",new wk(n,"customNumbered",{multiLevel:!0})),n.commands.add("customBulletedList",new wk(n,"customBulleted",{multiLevel:!0})),n.commands.add("indentList",new MB(n,"forward")),n.commands.add("outdentList",new MB(n,"backward")),n.commands.add("splitListItemBefore",new BB(n,"before")),n.commands.add("splitListItemAfter",new BB(n,"after")),a&&(n.commands.add("mergeListItemBackward",new OB(n,"backward")),n.commands.add("mergeListItemForward",new OB(n,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const n=this.editor.commands,i=n.get("indent"),a=n.get("outdent");i&&i.registerChildCommand(n.get("indentList"),{priority:"high"}),a&&a.registerChildCommand(n.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(n){this._downcastStrategies.push(n)}getListAttributeNames(){return[..._k,...this._downcastStrategies.map(n=>n.attributeName)]}_setupDeleteIntegration(){const n=this.editor,i=n.commands.get("mergeListItemBackward"),a=n.commands.get("mergeListItemForward");this.listenTo(n.editing.view.document,"delete",(c,d)=>{const p=n.model.document.selection;Vp(n.model)||n.model.change(()=>{const g=p.getFirstPosition();if(p.isCollapsed&&d.direction=="backward"){if(!g.isAtStart)return;const b=g.parent;if(!rr(b))return;if(si.first(b,{sameAttributes:"listType",sameIndent:!0})||b.getAttribute("listIndent")!==0){if(!i||!i.isEnabled)return;i.execute({shouldMergeOnBlocksContentLevel:GB(n.model,"backward")})}else IB(b)||n.execute("splitListItemAfter"),n.execute("outdentList");d.preventDefault(),c.stop()}else{if(p.isCollapsed&&!p.getLastPosition().isAtEnd||!a||!a.isEnabled)return;a.execute({shouldMergeOnBlocksContentLevel:GB(n.model,"forward")}),d.preventDefault(),c.stop()}})},{context:"li"})}_setupEnterIntegration(){const n=this.editor,i=n.model,a=n.commands,c=a.get("enter");this.listenTo(n.editing.view.document,"enter",(d,p)=>{const g=i.document,b=g.selection.getFirstPosition().parent;if(g.selection.isCollapsed&&rr(b)&&b.isEmpty&&!p.isSoft){const w=nc(b),C=IB(b);w&&C?(n.execute("outdentList"),p.preventDefault(),d.stop()):w&&!C?(n.execute("splitListItemAfter"),p.preventDefault(),d.stop()):C&&(n.execute("splitListItemBefore"),p.preventDefault(),d.stop())}},{context:"li"}),this.listenTo(c,"afterExecute",()=>{const d=a.get("splitListItemBefore");d.refresh(),d.isEnabled&&SA(n.model.document.selection.getLastPosition().parent).length===2&&d.execute()})}_setupTabIntegration(){const n=this.editor;this.listenTo(n.editing.view.document,"tab",(i,a)=>{const c=a.shiftKey?"outdentList":"indentList";this.editor.commands.get(c).isEnabled&&(n.execute(c),a.stopPropagation(),a.preventDefault(),i.stop())},{context:"li"})}_setupConversion(){const n=this.editor,i=n.model,a=this.getListAttributeNames(),c=n.config.get("list.multiBlock"),d=c?"paragraph":"listItem";n.conversion.for("upcast").elementToElement({view:"li",model:(w,{writer:C})=>C.createElement(d,{listType:""})}).elementToElement({view:"p",model:(w,{writer:C})=>w.parent&&w.parent.is("element","li")?C.createElement(d,{listType:""}):null,converterPriority:"high"}).add(w=>{w.on("element:li",rie()),w.on("element:ul",zB(),{priority:"high"}),w.on("element:ol",zB(),{priority:"high"})}),c||n.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),n.conversion.for("editingDowncast").elementToElement({model:d,view:VB(a),converterPriority:"high"}).add(w=>{var C;w.on("attribute",$B(a,this._downcastStrategies,i)),w.on("remove",(C=i.schema,(x,D,N)=>{const{writer:B,mapper:F}=N,U=x.name.split(":")[1];if(!C.checkAttribute(U,"listItemId"))return;const W=F.toViewPosition(D.position),Y=D.position.getShiftedBy(D.length),oe=F.toViewPosition(Y,{isPhantom:!0}),ue=B.createRange(W,oe).getTrimmed().end.nodeBefore;ue&&UB(ue,B,F)}))}),n.conversion.for("dataDowncast").elementToElement({model:d,view:VB(a,{dataPipeline:!0}),converterPriority:"high"}).add(w=>{w.on("attribute",$B(a,this._downcastStrategies,i,{dataPipeline:!0}))});const p=(g=this._downcastStrategies,b=n.editing.view,(w,C)=>{if(C.modelPosition.offset>0)return;const x=C.modelPosition.parent;if(!rr(x)||!g.some(U=>U.scope=="itemMarker"&&U.canInjectMarkerIntoElement&&U.canInjectMarkerIntoElement(x)))return;const D=C.mapper.toViewElement(x),N=b.createRangeIn(D),B=N.getWalker();let F=N.start;for(const{item:U}of B){if(U.is("element")&&C.mapper.toModelElement(U)||U.is("$textProxy"))break;U.is("element")&&U.getCustomProperty("listItemMarker")&&(F=b.createPositionAfter(U),B.skip(({previousPosition:W})=>!W.isEqual(F)))}C.viewPosition=F});var g,b;n.editing.mapper.on("modelToViewPosition",p),n.data.mapper.on("modelToViewPosition",p),this.listenTo(i.document,"change:data",function(w,C,x,D){return()=>{const U=w.document.differ.getChanges(),W=[],Y=new Map,oe=new Set;for(const ue of U)if(ue.type=="insert"&&ue.name!="$text")Bi(ue.position,Y),ue.attributes.has("listItemId")?oe.add(ue.position.nodeAfter):Bi(ue.position.getShiftedBy(ue.length),Y);else if(ue.type=="remove"&&ue.attributes.has("listItemId"))Bi(ue.position,Y);else if(ue.type=="attribute"){const Ee=ue.range.start.nodeAfter;x.includes(ue.attributeKey)?(Bi(ue.range.start,Y),ue.attributeNewValue===null?(Bi(ue.range.start.getShiftedBy(1),Y),B(Ee)&&W.push(Ee)):oe.add(Ee)):rr(Ee)&&B(Ee)&&W.push(Ee)}for(const ue of Y.values())W.push(...N(ue,oe));for(const ue of new Set(W))C.reconvertItem(ue)};function N(U,W){const Y=[],oe=new Set,ue=[];for(const{node:Ee,previous:Ze}of jp(U,"forward")){if(oe.has(Ee))continue;const st=Ee.getAttribute("listIndent");Ze&&st<Ze.getAttribute("listIndent")&&(ue.length=st+1),ue[st]=Object.fromEntries(Array.from(Ee.getAttributes()).filter(([or])=>x.includes(or)));const on=Ra(Ee,{direction:"forward"});for(const or of on)oe.add(or),(B(or,on)||F(or,ue,W))&&Y.push(or)}return Y}function B(U,W){const Y=C.mapper.toViewElement(U);if(!Y)return!1;if(D.fire("checkElement",{modelElement:U,viewElement:Y}))return!0;if(!U.is("element","paragraph")&&!U.is("element","listItem"))return!1;const oe=HB(U,x,W);return!(!oe||!Y.is("element","p"))||!(oe||!Y.is("element","span"))}function F(U,W,Y){if(Y.has(U))return!1;const oe=C.mapper.toViewElement(U);let ue=W.length-1;for(let Ee=oe.parent;!Ee.is("editableElement");Ee=Ee.parent){const Ze=yk(Ee),st=LB(Ee);if(!st&&!Ze)continue;const on="checkAttributes:"+(Ze?"item":"list");if(D.fire(on,{viewElement:Ee,modelAttributes:W[ue]}))break;if(st&&(ue--,ue<0))return!1}return!0}}(i,n.editing,a,this),{priority:"high"}),this.on("checkAttributes:item",(w,{viewElement:C,modelAttributes:x})=>{C.id!=x.listItemId&&(w.return=!0,w.stop())}),this.on("checkAttributes:list",(w,{viewElement:C,modelAttributes:x})=>{C.name==jB(x.listType)&&C.id==FB(x.listType,x.listIndent)||(w.return=!0,w.stop())})}_setupModelPostFixing(){const n=this.editor.model,i=this.getListAttributeNames();n.document.registerPostFixer(a=>function(c,d,p,g){const b=c.document.differ.getChanges(),w=new Map,C=g.editor.config.get("list.multiBlock");let x=!1;for(const N of b){if(N.type=="insert"&&N.name!="$text"){const B=N.position.nodeAfter;if(!c.schema.checkAttribute(B,"listItemId"))for(const F of Array.from(B.getAttributeKeys()))p.includes(F)&&(d.removeAttribute(F,B),x=!0);Bi(N.position,w),N.attributes.has("listItemId")||Bi(N.position.getShiftedBy(N.length),w);for(const{item:F,previousPosition:U}of c.createRangeIn(B))rr(F)&&Bi(U,w)}else N.type=="remove"?Bi(N.position,w):N.type=="attribute"&&p.includes(N.attributeKey)&&(Bi(N.range.start,w),N.attributeNewValue===null&&Bi(N.range.start.getShiftedBy(1),w));if(!C&&N.type=="attribute"&&_k.includes(N.attributeKey)){const B=N.range.start.nodeAfter;N.attributeNewValue===null&&B&&B.is("element","listItem")?(d.rename(B,"paragraph"),x=!0):N.attributeOldValue===null&&B&&B.is("element")&&B.name!="listItem"&&(d.rename(B,"listItem"),x=!0)}}const D=new Set;for(const N of w.values())x=g.fire("postFixer",{listNodes:new zoe(N),listHead:N,writer:d,seenIds:D})||x;return x}(n,a,i,this)),this.on("postFixer",(a,{listNodes:c,writer:d})=>{a.return=function(p,g){let b=0,w=-1,C=null,x=!1;for(const{node:D}of p){const N=D.getAttribute("listIndent");if(N>b){let B;C===null?(C=N-b,B=b):(C>N&&(C=N),B=N-C),B>w+1&&(B=w+1),g.setAttribute("listIndent",B,D),x=!0,w=B}else C=null,b=N+1,w=N}return x}(c,d)||a.return},{priority:"high"}),this.on("postFixer",(a,{listNodes:c,writer:d,seenIds:p})=>{a.return=function(g,b,w){const C=new Set;let x=!1;for(const{node:D}of g){if(C.has(D))continue;let N=D.getAttribute("listType"),B=D.getAttribute("listItemId");if(b.has(B)&&(B=Qu.next()),b.add(B),D.is("element","listItem"))D.getAttribute("listItemId")!=B&&(w.setAttribute("listItemId",B,D),x=!0);else for(const F of Ra(D,{direction:"forward"}))C.add(F),F.getAttribute("listType")!=N&&(B=Qu.next(),N=F.getAttribute("listType")),F.getAttribute("listItemId")!=B&&(w.setAttribute("listItemId",B,F),x=!0)}return x}(c,p,d)||a.return},{priority:"high"})}_setupClipboardIntegration(){const n=this.editor.model,i=this.editor.plugins.get("ClipboardPipeline");this.listenTo(n,"insertContent",function(a){return(c,[d,p])=>{const g=d.is("documentFragment")?Array.from(d.getChildren()):[d];if(!g.length)return;const b=(p?a.createSelection(p):a.document.selection).getFirstPosition();let w;if(rr(b.parent))w=b.parent;else{if(!rr(b.nodeBefore))return;w=b.nodeBefore}a.change(C=>{const x=w.getAttribute("listType"),D=w.getAttribute("listIndent"),N=g[0].getAttribute("listIndent")||0,B=Math.max(D-N,0);for(const F of g){const U=rr(F);w.is("element","listItem")&&F.is("element","paragraph")&&C.rename(F,"listItem"),C.setAttributes({listIndent:(U?F.getAttribute("listIndent"):0)+B,listItemId:U?F.getAttribute("listItemId"):Qu.next(),listType:x},F)}})}}(n),{priority:"high"}),this.listenTo(i,"outputTransformation",(a,c)=>{n.change(d=>{const p=Array.from(c.content.getChildren()),g=p[p.length-1];if(p.length>1&&g.is("element")&&g.isEmpty&&p.slice(0,-1).every(rr)&&d.remove(g),c.method=="copy"||c.method=="cut"){const b=Array.from(c.content.getChildren());$p(b)&&vk(b,d)}})})}_setupAccessibilityIntegration(){const n=this.editor,i=n.t;n.accessibility.addKeystrokeInfoGroup({id:"list",label:i("Keystrokes that can be used in a list"),keystrokes:[{label:i("Increase list item indent"),keystroke:"Tab"},{label:i("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function GB(l,n){const i=l.document.selection;if(!i.isCollapsed)return!Vp(l);if(n==="forward")return!0;const a=i.getFirstPosition().parent,c=a.previousSibling;return!l.schema.isObject(c)&&(!!c.isEmpty||$p([a,c]))}function KB(l,n,i,a){l.ui.componentFactory.add(n,()=>{const c=YB(Mt,l,n,i,a);return c.set({tooltip:!0,isToggleable:!0}),c}),l.ui.componentFactory.add(`menuBar:${n}`,()=>YB(Mo,l,n,i,a))}function YB(l,n,i,a,c){const d=n.commands.get(i),p=new l(n.locale);return p.set({label:a,icon:c}),p.bind("isOn","isEnabled").to(d,"value","isEnabled"),p.on("execute",()=>{n.execute(i),n.editing.view.focus()}),p}class aie extends me{static get pluginName(){return"ListUI"}init(){const n=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||KB(this.editor,"numberedList",n("Numbered List"),rt.numberedList),this.editor.ui.componentFactory.has("bulletedList")||KB(this.editor,"bulletedList",n("Bulleted List"),rt.bulletedList)}}class lie extends me{static get requires(){return[sie,aie]}static get pluginName(){return"List"}}const cie=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:l,typeAttribute:n,listType:i}of cie);var QB=s(9968),uie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(QB.A,uie),QB.A.locals;var ZB=s(7141),die={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(ZB.A,die),ZB.A.locals,dp("Ctrl+Enter");var JB=s(8991),hie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(JB.A,hie),JB.A.locals,dp("Ctrl+Enter");function XB(l,n){const i=(a,c,d)=>{if(!d.consumable.consume(c.item,a.name))return;const p=c.attributeNewValue,g=d.writer,b=d.mapper.toViewElement(c.item),w=[...b.getChildren()].find(x=>x.getCustomProperty("media-content"));g.remove(w);const C=l.getMediaViewElement(g,p,n);g.insert(g.createPositionAt(b,0),C)};return a=>{a.on("attribute:url:media",i)}}function e3(l,n,i,a){return l.createContainerElement("figure",{class:"media"},[n.getMediaViewElement(l,i,a),l.createSlot()])}function t3(l){const n=l.getSelectedElement();return n&&n.is("element","media")?n:null}function n3(l,n,i,a){l.change(c=>{const d=c.createElement("media",{url:n});l.insertObject(d,i,null,{setSelection:"on",findOptimalPosition:a?"auto":void 0})})}class pie extends ft{refresh(){const n=this.editor.model,i=n.document.selection,a=t3(i);this.value=a?a.getAttribute("url"):void 0,this.isEnabled=function(c){const d=c.getSelectedElement();return!!d&&d.name==="media"}(i)||function(c,d){let g=oR(c,d).start.parent;return g.isEmpty&&!d.schema.isLimit(g)&&(g=g.parent),d.schema.checkChild(g,"media")}(i,n)}execute(n){const i=this.editor.model,a=i.document.selection,c=t3(a);c?i.change(d=>{d.setAttribute("url",n,c)}):n3(i,n,a,!0)}}class fie{constructor(n,i){const a=i.providers,c=i.extraProviders||[],d=new Set(i.removeProviders),p=a.concat(c).filter(g=>{const b=g.name;return b?!d.has(b):(z("media-embed-no-provider-name",{provider:g}),!1)});this.locale=n,this.providerDefinitions=p}hasMedia(n){return!!this._getMedia(n)}getMediaViewElement(n,i,a){return this._getMedia(i).getViewElement(n,a)}_getMedia(n){if(!n)return new r3(this.locale);n=n.trim();for(const i of this.providerDefinitions){const a=i.html,c=rn(i.url);for(const d of c){const p=this._getUrlMatches(n,d);if(p)return new r3(this.locale,n,p,a)}}return null}_getUrlMatches(n,i){let a=n.match(i);if(a)return a;let c=n.replace(/^https?:\/\//,"");return a=c.match(i),a||(c=c.replace(/^www\./,""),a=c.match(i),a||null)}}class r3{constructor(n,i,a,c){this.url=this._getValidUrl(i),this._locale=n,this._match=a,this._previewRenderer=c}getViewElement(n,i){const a={};let c;if(i.renderForEditingView||i.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(a["data-oembed-url"]=this.url),i.renderForEditingView&&(a.class="ck-media__wrapper");const d=this._getPreviewHtml(i);c=n.createRawElement("div",a,(p,g)=>{g.setContentOf(p,d)})}else this.url&&(a.url=this.url),c=n.createEmptyElement(i.elementName,a);return n.setCustomProperty("media-content",!0,c),c}_getPreviewHtml(n){return this._previewRenderer?this._previewRenderer(this._match):this.url&&n.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const n=new $s,i=this._locale.t;return n.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',n.viewBox="0 0 64 42",new Ti({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[n]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":i("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(n){return n?n.match(/^https?/)?n:"https://"+n:null}}var o3=s(7048),mie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(o3.A,mie),o3.A.locals;class Ck extends me{constructor(n){super(n),n.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:i=>{const a=i[1],c=i[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${a}${c?`?start=${c}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new fie(n.locale,n.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const n=this.editor,i=n.model.schema,a=n.t,c=n.conversion,d=n.config.get("mediaEmbed.previewsInData"),p=n.config.get("mediaEmbed.elementName"),g=this.registry;n.commands.add("mediaEmbed",new pie(n)),i.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),c.for("dataDowncast").elementToStructure({model:"media",view:(b,{writer:w})=>{const C=b.getAttribute("url");return e3(w,g,C,{elementName:p,renderMediaPreview:!!C&&d})}}),c.for("dataDowncast").add(XB(g,{elementName:p,renderMediaPreview:d})),c.for("editingDowncast").elementToStructure({model:"media",view:(b,{writer:w})=>{const C=b.getAttribute("url");return function(x,D,N){return D.setCustomProperty("media",!0,x),lA(x,D,{label:N})}(e3(w,g,C,{elementName:p,renderForEditingView:!0}),w,a("media widget"))}}),c.for("editingDowncast").add(XB(g,{elementName:p,renderForEditingView:!0})),c.for("upcast").elementToElement({view:b=>["oembed",p].includes(b.name)&&b.getAttribute("url")?{name:!0}:null,model:(b,{writer:w})=>{const C=b.getAttribute("url");return g.hasMedia(C)?w.createElement("media",{url:C}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(b,{writer:w})=>{const C=b.getAttribute("data-oembed-url");return g.hasMedia(C)?w.createElement("media",{url:C}):null}}).add(b=>{b.on("element:figure",(w,C,x)=>{if(!x.consumable.consume(C.viewItem,{name:!0,classes:"media"}))return;const{modelRange:D,modelCursor:N}=x.convertChildren(C.viewItem,C.modelCursor);C.modelRange=D,C.modelCursor=N,ur(D.getItems())||x.consumable.revert(C.viewItem,{name:!0,classes:"media"})})})}}const gie=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class bie extends me{constructor(n){super(n),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[CR,Hs,DR]}static get pluginName(){return"AutoMediaEmbed"}init(){const n=this.editor,i=n.model.document,a=n.plugins.get("ClipboardPipeline");this.listenTo(a,"inputTransformation",()=>{const c=i.selection.getFirstRange(),d=yr.fromPosition(c.start);d.stickiness="toPrevious";const p=yr.fromPosition(c.end);p.stickiness="toNext",i.once("change:data",()=>{this._embedMediaBetweenPositions(d,p),d.detach(),p.detach()},{priority:"high"})}),n.commands.get("undo").on("execute",()=>{this._timeoutId&&(m.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(n,i){const a=this.editor,c=a.plugins.get(Ck).registry,d=new To(n,i),p=d.getWalker({ignoreElementEnd:!0});let g="";for(const b of p)b.item.is("$textProxy")&&(g+=b.item.data);if(g=g.trim(),!g.match(gie)||!c.hasMedia(g))return void d.detach();a.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=yr.fromPosition(n),this._timeoutId=m.window.setTimeout(()=>{a.model.change(b=>{this._timeoutId=null,b.remove(d),d.detach();let w=null;this._positionToInsert.root.rootName!=="$graveyard"&&(w=this._positionToInsert),n3(a.model,g,w,!1),this._positionToInsert.detach(),this._positionToInsert=null}),a.plugins.get(Hs).requestUndoOnBackspace()},100)):d.detach()}}var i3=s(5651),kie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(i3.A,kie),i3.A.locals;class vie extends We{constructor(n,i){super(i);const a=i.t;this.focusTracker=new dr,this.keystrokes=new Gr,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(a("Save"),rt.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(a("Cancel"),rt.cancel,"ck-button-cancel","cancel"),this._focusables=new ti,this._focusCycler=new ri({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=n,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),_b({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element);const n=i=>i.stopPropagation();this.keystrokes.set("arrowright",n),this.keystrokes.set("arrowleft",n),this.keystrokes.set("arrowup",n),this.keystrokes.set("arrowdown",n)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(n){this.urlInputView.fieldView.element.value=n.trim()}isValid(){this.resetFormStatus();for(const n of this._validators){const i=n(this);if(i)return this.urlInputView.errorText=i,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const n=this.locale.t,i=new Hb(this.locale,Gb),a=i.fieldView;return this._urlInputViewInfoDefault=n("Paste the media URL in the input."),this._urlInputViewInfoTip=n("Tip: Paste the URL into the content to embed faster."),i.label=n("Media URL"),i.infoText=this._urlInputViewInfoDefault,a.on("input",()=>{i.infoText=a.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=a.element.value.trim()}),i}_createButton(n,i,a,c){const d=new Mt(this.locale);return d.set({label:n,icon:i,tooltip:!0}),d.extendTemplate({attributes:{class:a}}),c&&d.delegate("execute").to(this,c),d}}class wie extends me{static get requires(){return[Ck]}static get pluginName(){return"MediaEmbedUI"}init(){const n=this.editor,i=n.commands.get("mediaEmbed");n.ui.componentFactory.add("mediaEmbed",a=>{const c=Vs(a);return this._setUpDropdown(c,i),c})}_setUpDropdown(n,i){const a=this.editor,c=a.t,d=n.buttonView,p=a.plugins.get(Ck).registry;n.once("change:isOpen",()=>{const g=new(sC(vie))(function(b,w){return[C=>{if(!C.url.length)return b("The URL must not be empty.")},C=>{if(!w.hasMedia(C.url))return b("This media URL is not supported.")}]}(a.t,p),a.locale);n.panelView.children.add(g),d.on("open",()=>{g.disableCssTransitions(),g.url=i.value||"",g.urlInputView.fieldView.select(),g.enableCssTransitions()},{priority:"low"}),n.on("submit",()=>{g.isValid()&&(a.execute("mediaEmbed",g.url),a.editing.view.focus())}),n.on("change:isOpen",()=>g.resetFormStatus()),n.on("cancel",()=>{a.editing.view.focus()}),g.delegate("submit","cancel").to(n),g.urlInputView.fieldView.bind("value").to(i,"value"),g.urlInputView.on("change:errorText",()=>{a.ui.update()}),g.urlInputView.bind("isEnabled").to(i,"isEnabled")}),n.bind("isEnabled").to(i),d.set({label:c("Insert media"),icon:'<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',tooltip:!0})}}var s3=s(70),yie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(s3.A,yie),s3.A.locals;function a3(l){return l!==void 0&&l.endsWith("px")}function Zu(l){return l.toFixed(2).replace(/\.?0+$/,"")+"px"}var _ie=Object.defineProperty,Cie=Object.defineProperties,Aie=Object.getOwnPropertyDescriptors,l3=Object.getOwnPropertySymbols,xie=Object.prototype.hasOwnProperty,Eie=Object.prototype.propertyIsEnumerable,c3=(l,n,i)=>n in l?_ie(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,Sie=(l,n)=>{for(var i in n||(n={}))xie.call(n,i)&&c3(l,i,n[i]);if(l3)for(var i of l3(n))Eie.call(n,i)&&c3(l,i,n[i]);return l};function Die(l,n,i){if(!l.childCount)return;const a=new zs(l.document),c=function(b,w){const C=w.createRangeIn(b),x=[],D=new Set;for(const N of C.getItems()){if(!N.is("element")||!N.name.match(/^(p|h\d+|li|div)$/))continue;let B=Bie(N);if(B===void 0||parseFloat(B)!=0||Array.from(N.getClassNames()).find(F=>F.startsWith("MsoList"))||(B=void 0),N.hasStyle("mso-list")||B!==void 0&&D.has(B)){const F=Rie(N);x.push({element:N,id:F.id,order:F.order,indent:F.indent,marginLeft:B}),B!==void 0&&D.add(B)}else D.clear()}return x}(l,a);if(!c.length)return;const d={},p=[];for(const b of c)if(b.indent!==void 0){Tie(b)||(p.length=0);const w=`${b.id}:${b.indent}`,C=Math.min(b.indent-1,p.length);if(C<p.length&&p[C].id!==b.id&&(p.length=C),C<p.length-1)p.length=C+1;else{const D=Mie(b,n);if(C>p.length-1||p[C].listElement.name!=D.type){C==0&&D.type=="ol"&&b.id!==void 0&&d[w]&&(D.startIndex=d[w]);const N=Nie(D,a,i);if(a3(b.marginLeft)&&(C==0||a3(p[C-1].marginLeft))){let B=b.marginLeft;C>0&&(B=Zu(parseFloat(B)-parseFloat(p[C-1].marginLeft))),a.setStyle("padding-left",B,N)}if(p.length==0){const B=b.element.parent,F=B.getChildIndex(b.element)+1;a.insertChild(F,N,B)}else{const B=p[C-1].listItemElements;a.appendChild(N,B[B.length-1])}p[C]=(g=Sie({},b),Cie(g,Aie({listElement:N,listItemElements:[]}))),C==0&&b.id!==void 0&&(d[w]=D.startIndex||1)}}const x=b.element.name=="li"?b.element:a.createElement("li");a.appendChild(x,p[C].listElement),p[C].listItemElements.push(x),C==0&&b.id!==void 0&&d[w]++,b.element!=x&&a.appendChild(b.element,x),Oie(b.element,a),a.removeStyle("text-indent",b.element),a.removeStyle("margin-left",b.element)}else{const w=p.find(C=>C.marginLeft==b.marginLeft);if(w){const C=w.listItemElements;a.appendChild(b.element,C[C.length-1]),a.removeStyle("margin-left",b.element)}else p.length=0}var g}function Tie(l){const n=l.element.previousSibling;return Iie(n||l.element.parent)}function Iie(l){return l.is("element","ol")||l.is("element","ul")}function Mie(l,n){const i=new RegExp(`@list l${l.id}:level${l.indent}\\s*({[^}]*)`,"gi"),a=/mso-level-number-format:([^;]{0,100});/gi,c=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,d=new RegExp(`@list\\s+l${l.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),p=new RegExp(`@list l${l.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),g=d.exec(n),b=p.exec(n),w=g&&!b,C=i.exec(n);let x="decimal",D="ol",N=null;if(C&&C[1]){const B=a.exec(C[1]);if(B&&B[1]&&(x=B[1].trim(),D=x!=="bullet"&&x!=="image"?"ol":"ul"),x==="bullet"){const F=function(U){if(U.name=="li"&&U.parent.name=="ul"&&U.parent.hasAttribute("type"))return U.parent.getAttribute("type");const W=function(oe){if(oe.getChild(0).is("$text"))return null;for(const ue of oe.getChildren()){if(!ue.is("element","span"))continue;const Ee=ue.getChild(0);if(Ee)return Ee.is("$text")?Ee:Ee.getChild(0)}return null}(U);if(!W)return null;const Y=W._data;return Y==="o"?"circle":Y===""?"disc":Y===""?"square":null}(l.element);F&&(x=F)}else{const F=c.exec(C[1]);F&&F[1]&&(N=parseInt(F[1]))}w&&(D="ol")}return{type:D,startIndex:N,style:Pie(x),isLegalStyleList:w}}function Pie(l){if(l.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(l){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return l;default:return null}}function Nie(l,n,i){const a=n.createElement(l.type);return l.style&&n.setStyle("list-style-type",l.style,a),l.startIndex&&l.startIndex>1&&n.setAttribute("start",l.startIndex,a),l.isLegalStyleList&&i&&n.addClass("legal-list",a),a}function Rie(l){const n=l.getStyle("mso-list");if(n===void 0)return{};const i=n.match(/(^|\s{1,100})l(\d+)/i),a=n.match(/\s{0,100}lfo(\d+)/i),c=n.match(/\s{0,100}level(\d+)/i);return i&&a&&c?{id:i[2],order:a[1],indent:parseInt(c[1])}:{indent:1}}function Oie(l,n){const i=new Ji({name:"span",styles:{"mso-list":"Ignore"}}),a=n.createRangeIn(l);for(const c of a)c.type==="elementStart"&&i.match(c.item)&&n.remove(c.item)}function Bie(l){const n=l.getStyle("margin-left");return n===void 0||n.endsWith("px")?n:function(i){const a=parseFloat(i);return i.endsWith("pt")?Zu(96*a/72):i.endsWith("pc")?Zu(12*a*96/72):i.endsWith("in")?Zu(96*a):i.endsWith("cm")?Zu(96*a/2.54):i.endsWith("mm")?Zu(a/10*96/2.54):i}(n)}function Lie(l,n){if(!l.childCount)return;const i=new zs(l.document),a=function(d,p){const g=p.createRangeIn(d),b=new Ji({name:/v:(.+)/}),w=[];for(const C of g){if(C.type!="elementStart")continue;const x=C.item,D=x.previousSibling,N=D&&D.is("element")?D.name:null,B=["Chart"],F=b.match(x),U=x.getAttribute("o:gfxdata"),W=N==="v:shapetype",Y=U&&B.some(oe=>x.getAttribute("id").includes(oe));F&&U&&!W&&!Y&&w.push(C.item.getAttribute("id"))}return w}(l,i);(function(d,p,g){const b=g.createRangeIn(p),w=new Ji({name:"img"}),C=[];for(const x of b)if(x.item.is("element")&&w.match(x.item)){const D=x.item,N=D.getAttribute("v:shapes")?D.getAttribute("v:shapes").split(" "):[];N.length&&N.every(B=>d.indexOf(B)>-1)?C.push(D):D.getAttribute("src")||C.push(D)}for(const x of C)g.remove(x)})(a,l,i),function(d,p,g){const b=g.createRangeIn(p),w=[];for(const D of b)if(D.type=="elementStart"&&D.item.is("element","v:shape")){const N=D.item.getAttribute("id");if(d.includes(N))continue;C(D.item.parent.getChildren(),N)||w.push(D.item)}for(const D of w){const N={src:x(D)};D.hasAttribute("alt")&&(N.alt=D.getAttribute("alt"));const B=g.createElement("img",N);g.insertChild(D.index+1,B,D.parent)}function C(D,N){for(const B of D)if(B.is("element")&&(B.name=="img"&&B.getAttribute("v:shapes")==N||C(B.getChildren(),N)))return!0;return!1}function x(D){for(const N of D.getChildren())if(N.is("element")&&N.getAttribute("src"))return N.getAttribute("src")}}(a,l,i),function(d,p){const g=p.createRangeIn(d),b=new Ji({name:/v:(.+)/}),w=[];for(const C of g)C.type=="elementStart"&&b.match(C.item)&&w.push(C.item);for(const C of w)p.remove(C)}(l,i);const c=function(d,p){const g=p.createRangeIn(d),b=new Ji({name:"img"}),w=[];for(const C of g)C.item.is("element")&&b.match(C.item)&&C.item.getAttribute("src").startsWith("file://")&&w.push(C.item);return w}(l,i);c.length&&function(d,p,g){if(d.length===p.length)for(let b=0;b<d.length;b++){const w=`data:${p[b].type};base64,${jie(p[b].hex)}`;g.setAttribute("src",w,d[b])}}(c,function(d){if(!d)return[];const p=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,g=new RegExp("(?:("+p.source+"))([\\da-fA-F\\s]+)\\}","g"),b=d.match(g),w=[];if(b)for(const C of b){let x=!1;C.includes("\\pngblip")?x="image/png":C.includes("\\jpegblip")&&(x="image/jpeg"),x&&w.push({hex:C.replace(p,"").replace(/[^\da-fA-F]/g,""),type:x})}return w}(n),i)}function jie(l){return btoa(l.match(/\w{2}/g).map(n=>String.fromCharCode(parseInt(n,16))).join(""))}const Fie=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,zie=/xmlns:o="urn:schemas-microsoft-com/i;class $ie{constructor(n,i=!1){this.document=n,this.hasMultiLevelListPlugin=i}isActive(n){return Fie.test(n)||zie.test(n)}execute(n){const{body:i,stylesString:a}=n._parsedData;Die(i,a,this.hasMultiLevelListPlugin),Lie(i,n.dataTransfer.getData("text/rtf")),function(c){const d=[],p=new zs(c.document);for(const{item:g}of p.createRangeIn(c))if(g.is("element")){for(const b of g.getClassNames())/\bmso/gi.exec(b)&&p.removeClass(b,g);for(const b of g.getStyleNames())/\bmso/gi.exec(b)&&p.removeStyle(b,g);(g.is("element","w:sdt")||g.is("element","w:sdtpr")&&g.isEmpty||g.is("element","o:p")&&g.isEmpty)&&d.push(g)}for(const g of d){const b=g.parent,w=b.getChildIndex(g);p.insertChild(w,g.getChildren(),b),p.remove(g)}}(i),n.content=i}}function u3(l,n,i,{blockElements:a,inlineObjectElements:c}){let d=i.createPositionAt(l,n=="forward"?"after":"before");return d=d.getLastMatchingPosition(({item:p})=>p.is("element")&&!a.includes(p.name)&&!c.includes(p.name),{direction:n}),n=="forward"?d.nodeAfter:d.nodeBefore}function d3(l,n){return!!l&&l.is("element")&&n.includes(l.name)}const Vie=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class Uie{constructor(n){this.document=n}isActive(n){return Vie.test(n)}execute(n){const i=new zs(this.document),{body:a}=n._parsedData;(function(c,d){for(const p of c.getChildren())if(p.is("element","b")&&p.getStyle("font-weight")==="normal"){const g=c.getChildIndex(p);d.remove(p),d.insertChild(g,p.getChildren(),c)}})(a,i),function(c,d){for(const p of d.createRangeIn(c)){const g=p.item;if(g.is("element","li")){const b=g.getChild(0);b&&b.is("element","p")&&d.unwrapElement(b)}}}(a,i),function(c,d){const p=new Tb(d.document.stylesProcessor),g=new Pb(p,{renderingMode:"data"}),b=g.blockElements,w=g.inlineObjectElements,C=[];for(const x of d.createRangeIn(c)){const D=x.item;if(D.is("element","br")){const N=u3(D,"forward",d,{blockElements:b,inlineObjectElements:w}),B=u3(D,"backward",d,{blockElements:b,inlineObjectElements:w}),F=d3(N,b);(d3(B,b)||F)&&C.push(D)}}for(const x of C)x.hasClass("Apple-interchange-newline")?d.remove(x):d.replace(x,d.createElement("p"))}(a,i),n.content=a}}const Hie=/<google-sheets-html-origin/i;class Wie{constructor(n){this.document=n}isActive(n){return Hie.test(n)}execute(n){const i=new zs(this.document),{body:a}=n._parsedData;(function(c,d){for(const p of c.getChildren())if(p.is("element","google-sheets-html-origin")){const g=c.getChildIndex(p);d.remove(p),d.insertChild(g,p.getChildren(),c)}})(a,i),function(c,d){for(const p of c.getChildren())p.is("element","table")&&p.hasAttribute("xmlns")&&d.removeAttribute("xmlns",p)}(a,i),function(c,d){for(const p of c.getChildren())p.is("element","table")&&p.getStyle("width")==="0px"&&d.removeStyle("width",p)}(a,i),function(c,d){for(const p of Array.from(c.getChildren()))p.is("element","style")&&d.remove(p)}(a,i),n.content=a}}function h3(l){return l.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(n,i)=>i.length===1?" ":Array(i.length+1).join(" ").substr(0,i.length))}function qie(l,n){const i=new DOMParser,a=function(b){return h3(h3(b)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(b){const w="</body>",C="</html>",x=b.indexOf(w);if(x<0)return b;const D=b.indexOf(C,x+w.length);return b.substring(0,x+w.length)+(D>=0?b.substring(D):"")}(l=(l=l.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),c=i.parseFromString(a,"text/html");(function(b){b.querySelectorAll("span[style*=spacerun]").forEach(w=>{const C=w,x=C.innerText.length||0;C.innerText=Array(x+1).join(" ").substr(0,x)})})(c);const d=c.body.innerHTML,p=function(b,w){const C=new Tb(w),x=new Pb(C,{renderingMode:"data"}),D=b.createDocumentFragment(),N=b.body.childNodes;for(;N.length>0;)D.appendChild(N[0]);return x.domToView(D,{skipComments:!0})}(c,n),g=function(b){const w=[],C=[],x=Array.from(b.getElementsByTagName("style"));for(const D of x)D.sheet&&D.sheet.cssRules&&D.sheet.cssRules.length&&(w.push(D.sheet),C.push(D.innerHTML));return{styles:w,stylesString:C.join(" ")}}(c);return{body:p,bodyString:d,styles:g.styles,stylesString:g.stylesString}}function Mn(l,n,i,a,c=1){n!=null&&c!=null&&n>c?a.setAttribute(l,n,i):a.removeAttribute(l,i)}function oc(l,n,i={}){const a=l.createElement("tableCell",i);return l.insertElement("paragraph",a),l.insert(a,n),a}function RA(l,n){const i=n.parent.parent,a=parseInt(i.getAttribute("headingColumns")||"0"),{column:c}=l.getCellLocation(n);return!!a&&c<a}function Gie(){return l=>{l.on("element:table",(n,i,a)=>{const c=i.viewItem;if(!a.consumable.test(c,{name:!0}))return;const{rows:d,headingRows:p,headingColumns:g}=function(C){let x,D=0;const N=[],B=[];let F;for(const U of Array.from(C.getChildren())){if(U.name!=="tbody"&&U.name!=="thead"&&U.name!=="tfoot")continue;U.name!=="thead"||F||(F=U);const W=Array.from(U.getChildren()).filter(Y=>Y.is("element","tr"));for(const Y of W)if(F&&U===F||U.name==="tbody"&&Array.from(Y.getChildren()).length&&Array.from(Y.getChildren()).every(oe=>oe.is("element","th")))D++,N.push(Y);else{B.push(Y);const oe=Kie(Y);(!x||oe<x)&&(x=oe)}}return{headingRows:D,headingColumns:x||0,rows:[...N,...B]}}(c),b={};g&&(b.headingColumns=g),p&&(b.headingRows=p);const w=a.writer.createElement("table",b);if(a.safeInsert(w,i.modelCursor)){if(a.consumable.consume(c,{name:!0}),d.forEach(C=>a.convertItem(C,a.writer.createPositionAt(w,"end"))),a.convertChildren(c,a.writer.createPositionAt(w,"end")),w.isEmpty){const C=a.writer.createElement("tableRow");a.writer.insert(C,a.writer.createPositionAt(w,"end")),oc(a.writer,a.writer.createPositionAt(C,"end"))}a.updateConversionResult(w,i)}})}}function p3(l){return n=>{n.on(`element:${l}`,(i,a,{writer:c})=>{if(!a.modelRange)return;const d=a.modelRange.start.nodeAfter,p=c.createPositionAt(d,0);if(a.viewItem.isEmpty)return void c.insertElement("paragraph",p);const g=Array.from(d.getChildren());if(g.every(b=>b.is("element","$marker"))){const b=c.createElement("paragraph");c.insert(b,c.createPositionAt(d,0));for(const w of g)c.move(c.createRangeOn(w),c.createPositionAt(b,"end"))}},{priority:"low"})}}function Kie(l){let n=0,i=0;const a=Array.from(l.getChildren()).filter(c=>c.name==="th"||c.name==="td");for(;i<a.length&&a[i].name==="th";){const c=a[i];n+=parseInt(c.getAttribute("colspan")||"1"),i++}return n}class Wt{constructor(n,i={}){this._jumpedToStartRow=!1,this._table=n,this._startRow=i.row!==void 0?i.row:i.startRow||0,this._endRow=i.row!==void 0?i.row:i.endRow,this._startColumn=i.column!==void 0?i.column:i.startColumn||0,this._endColumn=i.column!==void 0?i.column:i.endColumn,this._includeAllSlots=!!i.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const n=this._table.getChild(this._rowIndex);if(!n||this._isOverEndRow())return{done:!0,value:void 0};if(!n.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let i=null;const a=this._getSpanned();if(a)this._includeAllSlots&&!this._shouldSkipSlot()&&(i=this._formatOutValue(a.cell,a.row,a.column));else{const c=n.getChild(this._cellIndex);if(!c)return this._advanceToNextRow();const d=parseInt(c.getAttribute("colspan")||"1"),p=parseInt(c.getAttribute("rowspan")||"1");(d>1||p>1)&&this._recordSpans(c,p,d),this._shouldSkipSlot()||(i=this._formatOutValue(c)),this._nextCellAtColumn=this._column+d}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,i||this.next()}skipRow(n){this._skipRows.add(n)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(n,i=this._row,a=this._column){return{done:!1,value:new Yie(this,n,i,a)}}_shouldSkipSlot(){const n=this._skipRows.has(this._row),i=this._row<this._startRow,a=this._column<this._startColumn,c=this._endColumn!==void 0&&this._column>this._endColumn;return n||i||a||c}_getSpanned(){const n=this._spannedCells.get(this._row);return n&&n.get(this._column)||null}_recordSpans(n,i,a){const c={cell:n,row:this._row,column:this._column};for(let d=this._row;d<this._row+i;d++)for(let p=this._column;p<this._column+a;p++)d==this._row&&p==this._column||this._markSpannedCell(d,p,c)}_markSpannedCell(n,i,a){this._spannedCells.has(n)||this._spannedCells.set(n,new Map),this._spannedCells.get(n).set(i,a)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const n=this._getRowLength(0);for(let i=this._startRow;!this._jumpedToStartRow;i--)n===this._getRowLength(i)&&(this._row=i,this._rowIndex=i,this._jumpedToStartRow=!0)}_getRowLength(n){return[...this._table.getChild(n).getChildren()].reduce((i,a)=>i+parseInt(a.getAttribute("colspan")||"1"),0)}}class Yie{constructor(n,i,a,c){this.cell=i,this.row=n._row,this.column=n._column,this.cellAnchorRow=a,this.cellAnchorColumn=c,this._cellIndex=n._cellIndex,this._rowIndex=n._rowIndex,this._table=n._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function f3(l,n){return(i,{writer:a})=>{const c=i.getAttribute("headingRows")||0,d=a.createContainerElement("table",null,[]),p=a.createContainerElement("figure",{class:"table"},d);c>0&&a.insert(a.createPositionAt(d,"end"),a.createContainerElement("thead",null,a.createSlot(g=>g.is("element","tableRow")&&g.index<c))),c<l.getRows(i)&&a.insert(a.createPositionAt(d,"end"),a.createContainerElement("tbody",null,a.createSlot(g=>g.is("element","tableRow")&&g.index>=c)));for(const{positionOffset:g,filter:b}of n.additionalSlots)a.insert(a.createPositionAt(d,g),a.createSlot(b));return a.insert(a.createPositionAt(d,"after"),a.createSlot(g=>!g.is("element","tableRow")&&!n.additionalSlots.some(({filter:b})=>b(g)))),n.asWidget?function(g,b){return b.setCustomProperty("table",!0,g),lA(g,b,{hasSelectionHandle:!0})}(p,a):p}}function m3(l={}){return(n,{writer:i})=>{const a=n.parent,c=a.parent,d=c.getChildIndex(a),p=new Wt(c,{row:d}),g=c.getAttribute("headingRows")||0,b=c.getAttribute("headingColumns")||0;let w=null;for(const C of p)if(C.cell==n){const x=C.row<g||C.column<b?"th":"td";w=l.asWidget?rR(i.createEditableElement(x),i):i.createContainerElement(x);break}return w}}function g3(l={}){return(n,{writer:i})=>{if(!n.parent.is("element","tableCell")||!b3(n))return null;if(l.asWidget)return i.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const a=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,a),a}}}function b3(l){return l.parent.childCount==1&&!!l.getAttributeKeys().next().done}class Qie extends ft{refresh(){const n=this.editor.model,i=n.document.selection,a=n.schema;this.isEnabled=function(c,d){const p=c.getFirstPosition().parent,g=p===p.root?p:p.parent;return d.checkChild(g,"table")}(i,a)}execute(n={}){const i=this.editor,a=i.model,c=i.plugins.get("TableUtils"),d=i.config.get("table.defaultHeadings.rows"),p=i.config.get("table.defaultHeadings.columns");n.headingRows===void 0&&d&&(n.headingRows=d),n.headingColumns===void 0&&p&&(n.headingColumns=p),a.change(g=>{const b=c.createTable(g,n);a.insertObject(b,null,null,{findOptimalPosition:"auto"}),g.setSelection(g.createPositionAt(b.getNodeByPath([0,0,0]),0))})}}class k3 extends ft{constructor(n,i={}){super(n),this.order=i.order||"below"}refresh(){const n=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(n).length;this.isEnabled=i}execute(){const n=this.editor,i=n.model.document.selection,a=n.plugins.get("TableUtils"),c=this.order==="above",d=a.getSelectionAffectedTableCells(i),p=a.getRowIndexes(d),g=c?p.first:p.last,b=d[0].findAncestor("table");a.insertRows(b,{at:c?g:g+1,copyStructureFromAbove:!c})}}class v3 extends ft{constructor(n,i={}){super(n),this.order=i.order||"right"}refresh(){const n=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(n).length;this.isEnabled=i}execute(){const n=this.editor,i=n.model.document.selection,a=n.plugins.get("TableUtils"),c=this.order==="left",d=a.getSelectionAffectedTableCells(i),p=a.getColumnIndexes(d),g=c?p.first:p.last,b=d[0].findAncestor("table");a.insertColumns(b,{columns:1,at:c?g:g+1})}}class w3 extends ft{constructor(n,i={}){super(n),this.direction=i.direction||"horizontally"}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length===1}execute(){const n=this.editor.plugins.get("TableUtils"),i=n.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?n.splitCellHorizontally(i,2):n.splitCellVertically(i,2)}}function y3(l,n,i){const{startRow:a,startColumn:c,endRow:d,endColumn:p}=n,g=i.createElement("table"),b=d-a+1;for(let C=0;C<b;C++)i.insertElement("tableRow",g,"end");const w=[...new Wt(l,{startRow:a,endRow:d,startColumn:c,endColumn:p,includeAllSlots:!0})];for(const{row:C,column:x,cell:D,isAnchor:N,cellAnchorRow:B,cellAnchorColumn:F}of w){const U=C-a,W=g.getChild(U);if(N){const Y=i.cloneElement(D);i.append(Y,W),E3(Y,C,x,d,p,i)}else(B<a||F<c)&&oc(i,i.createPositionAt(W,"end"))}return function(C,x,D,N,B){const F=parseInt(x.getAttribute("headingRows")||"0");F>0&&Mn("headingRows",F-D,C,B,0);const U=parseInt(x.getAttribute("headingColumns")||"0");U>0&&Mn("headingColumns",U-N,C,B,0)}(g,l,a,c,i),g}function _3(l,n,i=0){const a=[],c=new Wt(l,{startRow:i,endRow:n-1});for(const d of c){const{row:p,cellHeight:g}=d;p<n&&n<=p+g-1&&a.push(d)}return a}function C3(l,n,i){const a=l.parent,c=a.parent,d=a.index,p=n-d,g={},b=parseInt(l.getAttribute("rowspan"))-p;b>1&&(g.rowspan=b);const w=parseInt(l.getAttribute("colspan")||"1");w>1&&(g.colspan=w);const C=d+p,x=[...new Wt(c,{startRow:d,endRow:C,includeAllSlots:!0})];let D,N=null;for(const B of x){const{row:F,column:U,cell:W}=B;W===l&&D===void 0&&(D=U),D!==void 0&&D===U&&F===C&&(N=oc(i,B.getPositionBefore(),g))}return Mn("rowspan",p,l,i),N}function A3(l,n){const i=[],a=new Wt(l);for(const c of a){const{column:d,cellWidth:p}=c;d<n&&n<=d+p-1&&i.push(c)}return i}function x3(l,n,i,a){const c=i-n,d={},p=parseInt(l.getAttribute("colspan"))-c;p>1&&(d.colspan=p);const g=parseInt(l.getAttribute("rowspan")||"1");g>1&&(d.rowspan=g);const b=oc(a,a.createPositionAfter(l),d);return Mn("colspan",c,l,a),b}function E3(l,n,i,a,c,d){const p=parseInt(l.getAttribute("colspan")||"1"),g=parseInt(l.getAttribute("rowspan")||"1");i+p-1>c&&Mn("colspan",c-i+1,l,d,1),n+g-1>a&&Mn("rowspan",a-n+1,l,d,1)}function OA(l,n){const i=n.getColumns(l),a=new Array(i).fill(0);for(const{column:d}of new Wt(l))a[d]++;const c=a.reduce((d,p,g)=>p?d:[...d,g],[]);if(c.length>0){const d=c[c.length-1];return n.removeColumns(l,{at:d}),!0}return!1}function BA(l,n){const i=[],a=n.getRows(l);for(let c=0;c<a;c++)l.getChild(c).isEmpty&&i.push(c);if(i.length>0){const c=i[i.length-1];return n.removeRows(l,{at:c}),!0}return!1}function LA(l,n){OA(l,n)||BA(l,n)}function S3(l,n){const i=Array.from(new Wt(l,{startColumn:n.firstColumn,endColumn:n.lastColumn,row:n.lastRow}));if(i.every(({cellHeight:c})=>c===1))return n.lastRow;const a=i[0].cellHeight-1;return n.lastRow+a}function D3(l,n){const i=Array.from(new Wt(l,{startRow:n.firstRow,endRow:n.lastRow,column:n.lastColumn}));if(i.every(({cellWidth:c})=>c===1))return n.lastColumn;const a=i[0].cellWidth-1;return n.lastColumn+a}class Ak extends ft{constructor(n,i){super(n),this.direction=i.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const n=this._getMergeableCell();this.value=n,this.isEnabled=!!n}execute(){const n=this.editor.model,i=n.document,a=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(i.selection)[0],c=this.value,d=this.direction;n.change(p=>{const g=d=="right"||d=="down",b=g?a:c,w=g?c:a,C=w.parent;(function(F,U,W){T3(F)||(T3(U)&&W.remove(W.createRangeIn(U)),W.move(W.createRangeIn(F),W.createPositionAt(U,"end"))),W.remove(F)})(w,b,p);const x=this.isHorizontal?"colspan":"rowspan",D=parseInt(a.getAttribute(x)||"1"),N=parseInt(c.getAttribute(x)||"1");p.setAttribute(x,D+N,b),p.setSelection(p.createRangeIn(b));const B=this.editor.plugins.get("TableUtils");LA(C.findAncestor("table"),B)})}_getMergeableCell(){const n=this.editor.model.document,i=this.editor.plugins.get("TableUtils"),a=i.getTableCellsContainingSelection(n.selection)[0];if(!a)return;const c=this.isHorizontal?function(g,b,w){const C=g.parent,x=C.parent,D=b=="right"?g.nextSibling:g.previousSibling,N=(x.getAttribute("headingColumns")||0)>0;if(!D)return;const B=b=="right"?g:D,F=b=="right"?D:g,{column:U}=w.getCellLocation(B),{column:W}=w.getCellLocation(F),Y=parseInt(B.getAttribute("colspan")||"1"),oe=RA(w,B),ue=RA(w,F);if(!(N&&oe!=ue))return U+Y===W?D:void 0}(a,this.direction,i):function(g,b,w){const C=g.parent,x=C.parent,D=x.getChildIndex(C);if(b=="down"&&D===w.getRows(x)-1||b=="up"&&D===0)return null;const N=parseInt(g.getAttribute("rowspan")||"1"),B=x.getAttribute("headingRows")||0,F=b=="down"&&D+N===B,U=b=="up"&&D===B;if(B&&(F||U))return null;const W=parseInt(g.getAttribute("rowspan")||"1"),Y=b=="down"?D+W:D,oe=[...new Wt(x,{endRow:Y})],ue=oe.find(st=>st.cell===g),Ee=ue.column,Ze=oe.find(({row:st,cellHeight:on,column:or})=>or===Ee&&(b=="down"?st===Y:Y===st+on));return Ze&&Ze.cell?Ze.cell:null}(a,this.direction,i);if(!c)return;const d=this.isHorizontal?"rowspan":"colspan",p=parseInt(a.getAttribute(d)||"1");return parseInt(c.getAttribute(d)||"1")===p?c:void 0}}function T3(l){const n=l.getChild(0);return l.childCount==1&&n.is("element","paragraph")&&n.isEmpty}class Zie extends ft{refresh(){const n=this.editor.plugins.get("TableUtils"),i=n.getSelectionAffectedTableCells(this.editor.model.document.selection),a=i[0];if(a){const c=a.findAncestor("table"),d=n.getRows(c)-1,p=n.getRowIndexes(i),g=p.first===0&&p.last===d;this.isEnabled=!g}else this.isEnabled=!1}execute(){const n=this.editor.model,i=this.editor.plugins.get("TableUtils"),a=i.getSelectionAffectedTableCells(n.document.selection),c=i.getRowIndexes(a),d=a[0],p=d.findAncestor("table"),g=i.getCellLocation(d).column;n.change(b=>{const w=c.last-c.first+1;i.removeRows(p,{at:c.first,rows:w});const C=function(x,D,N,B){const F=x.getChild(Math.min(D,B-1));let U=F.getChild(0),W=0;for(const Y of F.getChildren()){if(W>N)return U;U=Y,W+=parseInt(Y.getAttribute("colspan")||"1")}return U}(p,c.first,g,i.getRows(p));b.setSelection(b.createPositionAt(C,0))})}}class Jie extends ft{refresh(){const n=this.editor.plugins.get("TableUtils"),i=n.getSelectionAffectedTableCells(this.editor.model.document.selection),a=i[0];if(a){const c=a.findAncestor("table"),d=n.getColumns(c),{first:p,last:g}=n.getColumnIndexes(i);this.isEnabled=g-p<d-1}else this.isEnabled=!1}execute(){const n=this.editor.plugins.get("TableUtils"),[i,a]=function(b,w){const C=w.getSelectionAffectedTableCells(b),x=C[0],D=C.pop(),N=[x,D];return x.isBefore(D)?N:N.reverse()}(this.editor.model.document.selection,n),c=i.parent.parent,d=[...new Wt(c)],p={first:d.find(b=>b.cell===i).column,last:d.find(b=>b.cell===a).column},g=function(b,w,C,x){return parseInt(C.getAttribute("colspan")||"1")>1?C:w.previousSibling||C.nextSibling?C.nextSibling||w.previousSibling:x.first?b.reverse().find(({column:N})=>N<x.first).cell:b.reverse().find(({column:N})=>N>x.last).cell}(d,i,a,p);this.editor.model.change(b=>{const w=p.last-p.first+1;n.removeColumns(c,{at:p.first,columns:w}),b.setSelection(b.createPositionAt(g,0))})}}class Xie extends ft{refresh(){const n=this.editor.plugins.get("TableUtils"),i=this.editor.model,a=n.getSelectionAffectedTableCells(i.document.selection),c=a.length>0;this.isEnabled=c,this.value=c&&a.every(d=>this._isInHeading(d,d.parent.parent))}execute(n={}){if(n.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),a=this.editor.model,c=i.getSelectionAffectedTableCells(a.document.selection),d=c[0].findAncestor("table"),{first:p,last:g}=i.getRowIndexes(c),b=this.value?p:g+1,w=d.getAttribute("headingRows")||0;a.change(C=>{if(b){const x=_3(d,b,b>w?w:0);for(const{cell:D}of x)C3(D,b,C)}Mn("headingRows",b,d,C,0)})}_isInHeading(n,i){const a=parseInt(i.getAttribute("headingRows")||"0");return!!a&&n.parent.index<a}}class ese extends ft{refresh(){const n=this.editor.model,i=this.editor.plugins.get("TableUtils"),a=i.getSelectionAffectedTableCells(n.document.selection),c=a.length>0;this.isEnabled=c,this.value=c&&a.every(d=>RA(i,d))}execute(n={}){if(n.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),a=this.editor.model,c=i.getSelectionAffectedTableCells(a.document.selection),d=c[0].findAncestor("table"),{first:p,last:g}=i.getColumnIndexes(c),b=this.value?p:g+1;a.change(w=>{if(b){const C=A3(d,b);for(const{cell:x,column:D}of C)x3(x,D,b,w)}Mn("headingColumns",b,d,w,0)})}}function tse(l){if(l.is("element","tableColumnGroup"))return l;const n=l.getChildren();return Array.from(n).find(i=>i.is("element","tableColumnGroup"))}function nse(l){const n=tse(l);return n?Array.from(n.getChildren()):[]}class _r extends me{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(n){const i=n.parent,a=i.parent,c=a.getChildIndex(i),d=new Wt(a,{row:c});for(const{cell:p,row:g,column:b}of d)if(p===n)return{row:g,column:b}}createTable(n,i){const a=n.createElement("table"),c=i.rows||2,d=i.columns||2;return jA(n,a,0,c,d),i.headingRows&&Mn("headingRows",Math.min(i.headingRows,c),a,n,0),i.headingColumns&&Mn("headingColumns",Math.min(i.headingColumns,d),a,n,0),a}insertRows(n,i={}){const a=this.editor.model,c=i.at||0,d=i.rows||1,p=i.copyStructureFromAbove!==void 0,g=i.copyStructureFromAbove?c-1:c,b=this.getRows(n),w=this.getColumns(n);if(c>b)throw new P("tableutils-insertrows-insert-out-of-range",this,{options:i});a.change(C=>{const x=n.getAttribute("headingRows")||0;if(x>c&&Mn("headingRows",x+d,n,C,0),!p&&(c===0||c===b))return void jA(C,n,c,d,w);const D=p?Math.max(c,g):c,N=new Wt(n,{endRow:D}),B=new Array(w).fill(1);for(const{row:F,column:U,cellHeight:W,cellWidth:Y,cell:oe}of N){const ue=F+W-1,Ee=F<=g&&g<=ue;F<c&&c<=ue?(C.setAttribute("rowspan",W+d,oe),B[U]=-Y):p&&Ee&&(B[U]=Y)}for(let F=0;F<d;F++){const U=C.createElement("tableRow");C.insert(U,n,c);for(let W=0;W<B.length;W++){const Y=B[W],oe=C.createPositionAt(U,"end");Y>0&&oc(C,oe,Y>1?{colspan:Y}:void 0),W+=Math.abs(Y)-1}}})}insertColumns(n,i={}){const a=this.editor.model,c=i.at||0,d=i.columns||1;a.change(p=>{const g=n.getAttribute("headingColumns");c<g&&p.setAttribute("headingColumns",g+d,n);const b=this.getColumns(n);if(c===0||b===c){for(const C of n.getChildren())C.is("element","tableRow")&&Ju(d,p,p.createPositionAt(C,c?"end":0));return}const w=new Wt(n,{column:c,includeAllSlots:!0});for(const C of w){const{row:x,cell:D,cellAnchorColumn:N,cellAnchorRow:B,cellWidth:F,cellHeight:U}=C;if(N<c){p.setAttribute("colspan",F+d,D);const W=B+U-1;for(let Y=x;Y<=W;Y++)w.skipRow(Y)}else Ju(d,p,C.getPositionBefore())}})}removeRows(n,i){const a=this.editor.model,c=i.rows||1,d=this.getRows(n),p=i.at,g=p+c-1;if(g>d-1)throw new P("tableutils-removerows-row-index-out-of-range",this,{table:n,options:i});a.change(b=>{const w={first:p,last:g},{cellsToMove:C,cellsToTrim:x}=function(D,{first:N,last:B}){const F=new Map,U=[];for(const{row:W,column:Y,cellHeight:oe,cell:ue}of new Wt(D,{endRow:B})){const Ee=W+oe-1;if(W>=N&&W<=B&&Ee>B){const Ze=oe-(B-W+1);F.set(Y,{cell:ue,rowspan:Ze})}if(W<N&&Ee>=N){let Ze;Ze=Ee>=B?B-N+1:Ee-N+1,U.push({cell:ue,rowspan:oe-Ze})}}return{cellsToMove:F,cellsToTrim:U}}(n,w);C.size&&function(D,N,B,F){const U=new Wt(D,{includeAllSlots:!0,row:N}),W=[...U],Y=D.getChild(N);let oe;for(const{column:ue,cell:Ee,isAnchor:Ze}of W)if(B.has(ue)){const{cell:st,rowspan:on}=B.get(ue),or=oe?F.createPositionAfter(oe):F.createPositionAt(Y,0);F.move(F.createRangeOn(st),or),Mn("rowspan",on,st,F),oe=st}else Ze&&(oe=Ee)}(n,g+1,C,b);for(let D=g;D>=p;D--)b.remove(n.getChild(D));for(const{rowspan:D,cell:N}of x)Mn("rowspan",D,N,b);(function(D,{first:N,last:B},F){const U=D.getAttribute("headingRows")||0;N<U&&Mn("headingRows",B<U?U-(B-N+1):N,D,F,0)})(n,w,b),OA(n,this)||BA(n,this)})}removeColumns(n,i){const a=this.editor.model,c=i.at,d=i.columns||1,p=i.at+d-1;a.change(g=>{(function(w,C,x){const D=w.getAttribute("headingColumns")||0;if(D&&C.first<D){const N=Math.min(D-1,C.last)-C.first+1;x.setAttribute("headingColumns",D-N,w)}})(n,{first:c,last:p},g);const b=nse(n);for(let w=p;w>=c;w--){for(const{cell:C,column:x,cellWidth:D}of[...new Wt(n)])x<=w&&D>1&&x+D>w?Mn("colspan",D-1,C,g):x===w&&g.remove(C);if(b[w]){const C=w===0?b[1]:b[w-1],x=parseFloat(b[w].getAttribute("columnWidth")),D=parseFloat(C.getAttribute("columnWidth"));g.remove(b[w]),g.setAttribute("columnWidth",x+D+"%",C)}}BA(n,this)||OA(n,this)})}splitCellVertically(n,i=2){const a=this.editor.model,c=n.parent.parent,d=parseInt(n.getAttribute("rowspan")||"1"),p=parseInt(n.getAttribute("colspan")||"1");a.change(g=>{if(p>1){const{newCellsSpan:b,updatedSpan:w}=I3(p,i);Mn("colspan",w,n,g);const C={};b>1&&(C.colspan=b),d>1&&(C.rowspan=d),Ju(p>i?i-1:p-1,g,g.createPositionAfter(n),C)}if(p<i){const b=i-p,w=[...new Wt(c)],{column:C}=w.find(({cell:B})=>B===n),x=w.filter(({cell:B,cellWidth:F,column:U})=>B!==n&&U===C||U<C&&U+F>C);for(const{cell:B,cellWidth:F}of x)g.setAttribute("colspan",F+b,B);const D={};d>1&&(D.rowspan=d),Ju(b,g,g.createPositionAfter(n),D);const N=c.getAttribute("headingColumns")||0;N>C&&Mn("headingColumns",N+b,c,g)}})}splitCellHorizontally(n,i=2){const a=this.editor.model,c=n.parent,d=c.parent,p=d.getChildIndex(c),g=parseInt(n.getAttribute("rowspan")||"1"),b=parseInt(n.getAttribute("colspan")||"1");a.change(w=>{if(g>1){const C=[...new Wt(d,{startRow:p,endRow:p+g-1,includeAllSlots:!0})],{newCellsSpan:x,updatedSpan:D}=I3(g,i);Mn("rowspan",D,n,w);const{column:N}=C.find(({cell:F})=>F===n),B={};x>1&&(B.rowspan=x),b>1&&(B.colspan=b);for(const F of C){const{column:U,row:W}=F;W>=p+D&&U===N&&(W+p+D)%x==0&&Ju(1,w,F.getPositionBefore(),B)}}if(g<i){const C=i-g,x=[...new Wt(d,{startRow:0,endRow:p})];for(const{cell:B,cellHeight:F,row:U}of x)if(B!==n&&U+F>p){const W=F+C;w.setAttribute("rowspan",W,B)}const D={};b>1&&(D.colspan=b),jA(w,d,p+1,C,1,D);const N=d.getAttribute("headingRows")||0;N>p&&Mn("headingRows",N+C,d,w)}})}getColumns(n){return[...n.getChild(0).getChildren()].filter(i=>i.is("element","tableCell")).reduce((i,a)=>i+parseInt(a.getAttribute("colspan")||"1"),0)}getRows(n){return Array.from(n.getChildren()).reduce((i,a)=>a.is("element","tableRow")?i+1:i,0)}createTableWalker(n,i={}){return new Wt(n,i)}getSelectedTableCells(n){const i=[];for(const a of this.sortRanges(n.getRanges())){const c=a.getContainedElement();c&&c.is("element","tableCell")&&i.push(c)}return i}getTableCellsContainingSelection(n){const i=[];for(const a of n.getRanges()){const c=a.start.findAncestor("tableCell");c&&i.push(c)}return i}getSelectionAffectedTableCells(n){const i=this.getSelectedTableCells(n);return i.length?i:this.getTableCellsContainingSelection(n)}getRowIndexes(n){const i=n.map(a=>a.parent.index);return this._getFirstLastIndexesObject(i)}getColumnIndexes(n){const i=n[0].findAncestor("table"),a=[...new Wt(i)].filter(c=>n.includes(c.cell)).map(c=>c.column);return this._getFirstLastIndexesObject(a)}isSelectionRectangular(n){if(n.length<2||!this._areCellInTheSameTableSection(n))return!1;const i=new Set,a=new Set;let c=0;for(const p of n){const{row:g,column:b}=this.getCellLocation(p),w=parseInt(p.getAttribute("rowspan"))||1,C=parseInt(p.getAttribute("colspan"))||1;i.add(g),a.add(b),w>1&&i.add(g+w-1),C>1&&a.add(b+C-1),c+=w*C}return function(p,g){const b=Array.from(p.values()),w=Array.from(g.values()),C=Math.max(...b),x=Math.min(...b),D=Math.max(...w),N=Math.min(...w);return(C-x+1)*(D-N+1)}(i,a)==c}sortRanges(n){return Array.from(n).sort(rse)}_getFirstLastIndexesObject(n){const i=n.sort((a,c)=>a-c);return{first:i[0],last:i[i.length-1]}}_areCellInTheSameTableSection(n){const i=n[0].findAncestor("table"),a=this.getRowIndexes(n),c=parseInt(i.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(a,c))return!1;const d=this.getColumnIndexes(n),p=parseInt(i.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(d,p)}_areIndexesInSameSection({first:n,last:i},a){return n<a==i<a}}function jA(l,n,i,a,c,d={}){for(let p=0;p<a;p++){const g=l.createElement("tableRow");l.insert(g,n,i),Ju(c,l,l.createPositionAt(g,"end"),d)}}function Ju(l,n,i,a={}){for(let c=0;c<l;c++)oc(n,i,a)}function I3(l,n){if(l<n)return{newCellsSpan:1,updatedSpan:1};const i=Math.floor(l/n);return{newCellsSpan:i,updatedSpan:l-i*n+i}}function rse(l,n){const i=l.start,a=n.start;return i.isBefore(a)?-1:1}class ose extends ft{refresh(){const n=this.editor.plugins.get(_r),i=n.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=n.isSelectionRectangular(i)}execute(){const n=this.editor.model,i=this.editor.plugins.get(_r);n.change(a=>{const c=i.getSelectedTableCells(n.document.selection),d=c.shift(),{mergeWidth:p,mergeHeight:g}=function(b,w,C){let x=0,D=0;for(const W of w){const{row:Y,column:oe}=C.getCellLocation(W);x=P3(W,oe,x,"colspan"),D=P3(W,Y,D,"rowspan")}const{row:N,column:B}=C.getCellLocation(b),F=x-B,U=D-N;return{mergeWidth:F,mergeHeight:U}}(d,c,i);Mn("colspan",p,d,a),Mn("rowspan",g,d,a);for(const b of c)ise(b,d,a);LA(d.findAncestor("table"),i),a.setSelection(d,"in")})}}function ise(l,n,i){M3(l)||(M3(n)&&i.remove(i.createRangeIn(n)),i.move(i.createRangeIn(l),i.createPositionAt(n,"end"))),i.remove(l)}function M3(l){const n=l.getChild(0);return l.childCount==1&&n.is("element","paragraph")&&n.isEmpty}function P3(l,n,i,a){const c=parseInt(l.getAttribute(a)||"1");return Math.max(i,n+c)}class sse extends ft{constructor(n){super(n),this.affectsData=!1}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length>0}execute(){const n=this.editor.model,i=this.editor.plugins.get("TableUtils"),a=i.getSelectionAffectedTableCells(n.document.selection),c=i.getRowIndexes(a),d=a[0].findAncestor("table"),p=[];for(let g=c.first;g<=c.last;g++)for(const b of d.getChild(g).getChildren())p.push(n.createRangeOn(b));n.change(g=>{g.setSelection(p)})}}class ase extends ft{constructor(n){super(n),this.affectsData=!1}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length>0}execute(){const n=this.editor.plugins.get("TableUtils"),i=this.editor.model,a=n.getSelectionAffectedTableCells(i.document.selection),c=a[0],d=a.pop(),p=c.findAncestor("table"),g=n.getCellLocation(c),b=n.getCellLocation(d),w=Math.min(g.column,b.column),C=Math.max(g.column,b.column),x=[];for(const D of new Wt(p,{startColumn:w,endColumn:C}))x.push(i.createRangeOn(D.cell));i.change(D=>{D.setSelection(x)})}}function lse(l){l.document.registerPostFixer(n=>function(i,a){const c=a.document.differ.getChanges();let d=!1;const p=new Set;for(const g of c){let b=null;g.type=="insert"&&g.name=="table"&&(b=g.position.nodeAfter),g.type!="insert"&&g.type!="remove"||g.name!="tableRow"&&g.name!="tableCell"||(b=g.position.findAncestor("table")),dse(g)&&(b=g.range.start.findAncestor("table")),b&&!p.has(b)&&(d=cse(b,i)||d,d=use(b,i)||d,p.add(b))}return d}(n,l))}function cse(l,n){let i=!1;const a=function(c){const d=parseInt(c.getAttribute("headingRows")||"0"),p=Array.from(c.getChildren()).reduce((b,w)=>w.is("element","tableRow")?b+1:b,0),g=[];for(const{row:b,cell:w,cellHeight:C}of new Wt(c)){if(C<2)continue;const x=b<d?d:p;if(b+C>x){const D=x-b;g.push({cell:w,rowspan:D})}}return g}(l);if(a.length){i=!0;for(const c of a)Mn("rowspan",c.rowspan,c.cell,n,1)}return i}function use(l,n){let i=!1;const a=function(g){const b=new Array(g.childCount).fill(0);for(const{rowIndex:w}of new Wt(g,{includeAllSlots:!0}))b[w]++;return b}(l),c=[];for(const[g,b]of a.entries())!b&&l.getChild(g).is("element","tableRow")&&c.push(g);if(c.length){i=!0;for(const g of c.reverse())n.remove(l.getChild(g)),a.splice(g,1)}const d=a.filter((g,b)=>l.getChild(b).is("element","tableRow")),p=d[0];if(!d.every(g=>g===p)){const g=d.reduce((b,w)=>w>b?w:b,0);for(const[b,w]of d.entries()){const C=g-w;if(C){for(let x=0;x<C;x++)oc(n,n.createPositionAt(l.getChild(b),"end"));i=!0}}}return i}function dse(l){if(l.type!=="attribute")return!1;const n=l.attributeKey;return n==="headingRows"||n==="colspan"||n==="rowspan"}function hse(l){l.document.registerPostFixer(n=>function(i,a){const c=a.document.differ.getChanges();let d=!1;for(const p of c)p.type=="insert"&&p.name=="table"&&(d=pse(p.position.nodeAfter,i)||d),p.type=="insert"&&p.name=="tableRow"&&(d=N3(p.position.nodeAfter,i)||d),p.type=="insert"&&p.name=="tableCell"&&(d=FA(p.position.nodeAfter,i)||d),p.type!="remove"&&p.type!="insert"||!fse(p)||(d=FA(p.position.parent,i)||d);return d}(n,l))}function pse(l,n){let i=!1;for(const a of l.getChildren())a.is("element","tableRow")&&(i=N3(a,n)||i);return i}function N3(l,n){let i=!1;for(const a of l.getChildren())i=FA(a,n)||i;return i}function FA(l,n){if(l.childCount==0)return n.insertElement("paragraph",l),!0;const i=Array.from(l.getChildren()).filter(a=>a.is("$text"));for(const a of i)n.wrap(n.createRangeOn(a),"paragraph");return!!i.length}function fse(l){return!!l.position.parent.is("element","tableCell")&&(l.type=="insert"&&l.name=="$text"||l.type=="remove")}function mse(l,n){if(!l.is("element","paragraph"))return!1;const i=n.toViewElement(l);return!!i&&b3(l)!==i.is("element","span")}var R3=s(8137),gse={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(R3.A,gse),R3.A.locals;class bse extends me{constructor(n){super(n),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[_r]}init(){const n=this.editor,i=n.model,a=i.schema,c=n.conversion,d=n.plugins.get(_r);a.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),a.register("tableRow",{allowIn:"table",isLimit:!0}),a.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),c.for("upcast").add(p=>{p.on("element:figure",(g,b,w)=>{if(!w.consumable.test(b.viewItem,{name:!0,classes:"table"}))return;const C=function(D){for(const N of D.getChildren())if(N.is("element","table"))return N}(b.viewItem);if(!C||!w.consumable.test(C,{name:!0}))return;w.consumable.consume(b.viewItem,{name:!0,classes:"table"});const x=ur(w.convertItem(C,b.modelCursor).modelRange.getItems());x?(w.convertChildren(b.viewItem,w.writer.createPositionAt(x,"end")),w.updateConversionResult(x,b)):w.consumable.revert(b.viewItem,{name:!0,classes:"table"})})}),c.for("upcast").add(Gie()),c.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:f3(d,{asWidget:!0,additionalSlots:this._additionalSlots})}),c.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:f3(d,{additionalSlots:this._additionalSlots})}),c.for("upcast").elementToElement({model:"tableRow",view:"tr"}),c.for("upcast").add(p=>{p.on("element:tr",(g,b)=>{b.viewItem.isEmpty&&b.modelCursor.index==0&&g.stop()},{priority:"high"})}),c.for("downcast").elementToElement({model:"tableRow",view:(p,{writer:g})=>p.isEmpty?g.createEmptyElement("tr"):g.createContainerElement("tr")}),c.for("upcast").elementToElement({model:"tableCell",view:"td"}),c.for("upcast").elementToElement({model:"tableCell",view:"th"}),c.for("upcast").add(p3("td")),c.for("upcast").add(p3("th")),c.for("editingDowncast").elementToElement({model:"tableCell",view:m3({asWidget:!0})}),c.for("dataDowncast").elementToElement({model:"tableCell",view:m3()}),c.for("editingDowncast").elementToElement({model:"paragraph",view:g3({asWidget:!0}),converterPriority:"high"}),c.for("dataDowncast").elementToElement({model:"paragraph",view:g3(),converterPriority:"high"}),c.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),c.for("upcast").attributeToAttribute({model:{key:"colspan",value:O3("colspan")},view:"colspan"}),c.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),c.for("upcast").attributeToAttribute({model:{key:"rowspan",value:O3("rowspan")},view:"rowspan"}),n.config.define("table.defaultHeadings.rows",0),n.config.define("table.defaultHeadings.columns",0),n.commands.add("insertTable",new Qie(n)),n.commands.add("insertTableRowAbove",new k3(n,{order:"above"})),n.commands.add("insertTableRowBelow",new k3(n,{order:"below"})),n.commands.add("insertTableColumnLeft",new v3(n,{order:"left"})),n.commands.add("insertTableColumnRight",new v3(n,{order:"right"})),n.commands.add("removeTableRow",new Zie(n)),n.commands.add("removeTableColumn",new Jie(n)),n.commands.add("splitTableCellVertically",new w3(n,{direction:"vertically"})),n.commands.add("splitTableCellHorizontally",new w3(n,{direction:"horizontally"})),n.commands.add("mergeTableCells",new ose(n)),n.commands.add("mergeTableCellRight",new Ak(n,{direction:"right"})),n.commands.add("mergeTableCellLeft",new Ak(n,{direction:"left"})),n.commands.add("mergeTableCellDown",new Ak(n,{direction:"down"})),n.commands.add("mergeTableCellUp",new Ak(n,{direction:"up"})),n.commands.add("setTableColumnHeader",new ese(n)),n.commands.add("setTableRowHeader",new Xie(n)),n.commands.add("selectTableRow",new sse(n)),n.commands.add("selectTableColumn",new ase(n)),lse(i),hse(i),this.listenTo(i.document,"change:data",()=>{(function(p,g){const b=p.document.differ;for(const w of b.getChanges()){let C,x=!1;if(w.type=="attribute"){const F=w.range.start.nodeAfter;if(!F||!F.is("element","table")||w.attributeKey!="headingRows"&&w.attributeKey!="headingColumns")continue;C=F,x=w.attributeKey=="headingRows"}else w.name!="tableRow"&&w.name!="tableCell"||(C=w.position.findAncestor("table"),x=w.name=="tableRow");if(!C)continue;const D=C.getAttribute("headingRows")||0,N=C.getAttribute("headingColumns")||0,B=new Wt(C);for(const F of B){const U=F.row<D||F.column<N?"th":"td",W=g.mapper.toViewElement(F.cell);W&&W.is("element")&&W.name!=U&&g.reconvertItem(x?F.cell.parent:F.cell)}}})(i,n.editing),function(p,g){const b=p.document.differ,w=new Set;for(const C of b.getChanges()){const x=C.type=="attribute"?C.range.start.parent:C.position.parent;x.is("element","tableCell")&&w.add(x)}for(const C of w.values()){const x=Array.from(C.getChildren()).filter(D=>mse(D,g.mapper));for(const D of x)g.reconvertItem(D)}}(i,n.editing)})}registerAdditionalSlot(n){this._additionalSlots.push(n)}}function O3(l){return n=>{const i=parseInt(n.getAttribute(l));return Number.isNaN(i)||i<=0?null:i}}var B3=s(5032),kse={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(B3.A,kse),B3.A.locals;class L3 extends We{constructor(n){super(n);const i=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new Gr,this.focusTracker=new dr,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(a,c)=>`${c}  ${a}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":i.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:i.to("label")}]}],on:{mousedown:i.to(a=>{a.preventDefault()}),click:i.to(()=>{this.fire("execute")})}}),this.on("boxover",(a,c)=>{const{row:d,column:p}=c.target.dataset;this.items.get(10*(parseInt(d,10)-1)+(parseInt(p,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(a,c,d)=>{if(!d)return;const{row:p,column:g}=d.dataset;this.set({rows:parseInt(p),columns:parseInt(g)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),DY({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const n of this.items)this.focusTracker.add(n.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const n=this.rows,i=this.columns;this.items.map((a,c)=>{const d=Math.floor(c/10)<n&&c%10<i;a.set("isOn",d)})}_createGridButton(n,i,a,c){const d=new Mt(n);return d.set({label:c,class:"ck-insert-table-dropdown-grid-box"}),d.extendTemplate({attributes:{"data-row":i,"data-column":a}}),d}_createGridCollection(){const n=[];for(let i=0;i<100;i++){const a=Math.floor(i/10),c=i%10,d=`${a+1}  ${c+1}`;n.push(this._createGridButton(this.locale,a+1,c+1,d))}return this.createCollection(n)}}class vse extends me{static get pluginName(){return"TableUI"}init(){const n=this.editor,i=this.editor.t,a=n.locale.contentLanguageDirection==="ltr";n.ui.componentFactory.add("insertTable",c=>{const d=n.commands.get("insertTable"),p=Vs(c);let g;return p.bind("isEnabled").to(d),p.buttonView.set({icon:rt.table,label:i("Insert table"),tooltip:!0}),p.on("change:isOpen",()=>{g||(g=new L3(c),p.panelView.children.add(g),g.delegate("execute").to(p),p.on("execute",()=>{n.execute("insertTable",{rows:g.rows,columns:g.columns}),n.editing.view.focus()}))}),p}),n.ui.componentFactory.add("menuBar:insertTable",c=>{const d=n.commands.get("insertTable"),p=new Hu(c),g=new L3(c);return g.delegate("execute").to(p),p.on("change:isOpen",(b,w,C)=>{C||g.reset()}),g.on("execute",()=>{n.execute("insertTable",{rows:g.rows,columns:g.columns}),n.editing.view.focus()}),p.buttonView.set({label:i("Table"),icon:rt.table}),p.panelView.children.add(g),p.bind("isEnabled").to(d),p}),n.ui.componentFactory.add("tableColumn",c=>{const d=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:i("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:a?"insertTableColumnLeft":"insertTableColumnRight",label:i("Insert column left")}},{type:"button",model:{commandName:a?"insertTableColumnRight":"insertTableColumnLeft",label:i("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:i("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:i("Select column")}}];return this._prepareDropdown(i("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',d,c)}),n.ui.componentFactory.add("tableRow",c=>{const d=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:i("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:i("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:i("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:i("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:i("Select row")}}];return this._prepareDropdown(i("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',d,c)}),n.ui.componentFactory.add("mergeTableCells",c=>{const d=[{type:"button",model:{commandName:"mergeTableCellUp",label:i("Merge cell up")}},{type:"button",model:{commandName:a?"mergeTableCellRight":"mergeTableCellLeft",label:i("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:i("Merge cell down")}},{type:"button",model:{commandName:a?"mergeTableCellLeft":"mergeTableCellRight",label:i("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:i("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:i("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(i("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',d,c)})}_prepareDropdown(n,i,a,c){const d=this.editor,p=Vs(c),g=this._fillDropdownWithListOptions(p,a);return p.buttonView.set({label:n,icon:i,tooltip:!0}),p.bind("isEnabled").toMany(g,"isEnabled",(...b)=>b.some(w=>w)),this.listenTo(p,"execute",b=>{d.execute(b.source.commandName),b.source instanceof Vb||d.editing.view.focus()}),p}_prepareMergeSplitButtonDropdown(n,i,a,c){const d=this.editor,p=Vs(c,qb),g="mergeTableCells",b=d.commands.get(g),w=this._fillDropdownWithListOptions(p,a);return p.buttonView.set({label:n,icon:i,tooltip:!0,isEnabled:!0}),p.bind("isEnabled").toMany([b,...w],"isEnabled",(...C)=>C.some(x=>x)),this.listenTo(p.buttonView,"execute",()=>{d.execute(g),d.editing.view.focus()}),this.listenTo(p,"execute",C=>{d.execute(C.source.commandName),d.editing.view.focus()}),p}_fillDropdownWithListOptions(n,i){const a=this.editor,c=[],d=new Di;for(const p of i)wse(p,a,c,d);return mN(n,d),c}}function wse(l,n,i,a){if(l.type==="button"||l.type==="switchbutton"){const c=l.model=new qN(l.model),{commandName:d,bindIsOn:p}=l.model,g=n.commands.get(d);i.push(g),c.set({commandName:d}),c.bind("isEnabled").to(g),p&&c.bind("isOn").to(g,"value"),c.set({withText:!0})}a.add(l)}var j3=s(8423),yse={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(j3.A,yse),j3.A.locals;class ic extends me{static get pluginName(){return"TableSelection"}static get requires(){return[_r,_r]}init(){const n=this.editor,i=n.model,a=n.editing.view;this.listenTo(i,"deleteContent",(c,d)=>this._handleDeleteContent(c,d),{priority:"high"}),this.listenTo(a.document,"insertText",(c,d)=>this._handleInsertTextEvent(c,d),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const n=this.editor.plugins.get(_r),i=this.editor.model.document.selection,a=n.getSelectedTableCells(i);return a.length==0?null:a}getSelectionAsFragment(){const n=this.editor.plugins.get(_r),i=this.getSelectedTableCells();return i?this.editor.model.change(a=>{const c=a.createDocumentFragment(),{first:d,last:p}=n.getColumnIndexes(i),{first:g,last:b}=n.getRowIndexes(i),w=i[0].findAncestor("table");let C=b,x=p;if(n.isSelectionRectangular(i)){const N={firstColumn:d,lastColumn:p,firstRow:g,lastRow:b};C=S3(w,N),x=D3(w,N)}const D=y3(w,{startRow:g,startColumn:d,endRow:C,endColumn:x},a);return a.insert(D,c,0),c}):null}setCellSelection(n,i){const a=this._getCellsToSelect(n,i);this.editor.model.change(c=>{c.setSelection(a.cells.map(d=>c.createRangeOn(d)),{backward:a.backward})})}getFocusCell(){const n=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return n&&n.is("element","tableCell")?n:null}getAnchorCell(){const n=ur(this.editor.model.document.selection.getRanges()).getContainedElement();return n&&n.is("element","tableCell")?n:null}_defineSelectionConverter(){const n=this.editor,i=new Set;n.conversion.for("editingDowncast").add(a=>a.on("selection",(c,d,p)=>{const g=p.writer;(function(C){for(const x of i)C.removeClass("ck-editor__editable_selected",x);i.clear()})(g);const b=this.getSelectedTableCells();if(!b)return;for(const C of b){const x=p.mapper.toViewElement(C);g.addClass("ck-editor__editable_selected",x),i.add(x)}const w=p.mapper.toViewElement(b[b.length-1]);g.setSelection(w,0)},{priority:"lowest"}))}_enablePluginDisabling(){const n=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const i=this.getSelectedTableCells();if(!i)return;n.model.change(a=>{const c=a.createPositionAt(i[0],0),d=n.model.schema.getNearestSelectionRange(c);a.setSelection(d)})}})}_handleDeleteContent(n,i){const a=this.editor.plugins.get(_r),c=i[0],d=i[1],p=this.editor.model,g=!d||d.direction=="backward",b=a.getSelectedTableCells(c);b.length&&(n.stop(),p.change(w=>{const C=b[g?b.length-1:0];p.change(D=>{for(const N of b)p.deleteContent(D.createSelection(N,"in"))});const x=p.schema.getNearestSelectionRange(w.createPositionAt(C,0));c.is("documentSelection")?w.setSelection(x):c.setTo(x)}))}_handleInsertTextEvent(n,i){const a=this.editor,c=this.getSelectedTableCells();if(!c)return;const d=a.editing.view,p=a.editing.mapper,g=c.map(b=>d.createRangeOn(p.toViewElement(b)));i.selection=d.createSelection(g)}_getCellsToSelect(n,i){const a=this.editor.plugins.get("TableUtils"),c=a.getCellLocation(n),d=a.getCellLocation(i),p=Math.min(c.row,d.row),g=Math.max(c.row,d.row),b=Math.min(c.column,d.column),w=Math.max(c.column,d.column),C=new Array(g-p+1).fill(null).map(()=>[]),x={startRow:p,endRow:g,startColumn:b,endColumn:w};for(const{row:B,cell:F}of new Wt(n.findAncestor("table"),x))C[B-p].push(F);const D=d.row<c.row,N=d.column<c.column;return D&&C.reverse(),N&&C.forEach(B=>B.reverse()),{cells:C.flat(),backward:D||N}}}class _se extends me{static get pluginName(){return"TableClipboard"}static get requires(){return[Mp,oi,ic,_r]}init(){const n=this.editor,i=n.editing.view.document;this.listenTo(i,"copy",(a,c)=>this._onCopyCut(a,c)),this.listenTo(i,"cut",(a,c)=>this._onCopyCut(a,c)),this.listenTo(n.model,"insertContent",(a,[c,d])=>this._onInsertContent(a,c,d),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(n,i){const a=this.editor.editing.view,c=this.editor.plugins.get(ic),d=this.editor.plugins.get(Mp);c.getSelectedTableCells()&&(n.name!="cut"||this.editor.model.canEditAt(this.editor.model.document.selection))&&(i.preventDefault(),n.stop(),this.editor.model.enqueueChange({isUndoable:n.name==="cut"},()=>{const p=d._copySelectedFragmentWithMarkers(n.name,this.editor.model.document.selection,()=>c.getSelectionAsFragment());a.document.fire("clipboardOutput",{dataTransfer:i.dataTransfer,content:this.editor.data.toView(p),method:n.name})}))}_onInsertContent(n,i,a){if(a&&!a.is("documentSelection"))return;const c=this.editor.model,d=this.editor.plugins.get(_r),p=this.editor.plugins.get(Mp),g=this.getTableIfOnlyTableInContent(i,c);if(!g)return;const b=d.getSelectionAffectedTableCells(c.document.selection);b.length?(n.stop(),i.is("documentFragment")?p._pasteMarkersIntoTransformedElement(i.markers,w=>this._replaceSelectedCells(g,b,w)):this.editor.model.change(w=>{this._replaceSelectedCells(g,b,w)})):LA(g,d)}_replaceSelectedCells(n,i,a){const c=this.editor.plugins.get(_r),d={width:c.getColumns(n),height:c.getRows(n)},p=function(x,D,N,B){const F=x[0].findAncestor("table"),U=B.getColumnIndexes(x),W=B.getRowIndexes(x),Y={firstColumn:U.first,lastColumn:U.last,firstRow:W.first,lastRow:W.last},oe=x.length===1;return oe&&(Y.lastRow+=D.height-1,Y.lastColumn+=D.width-1,function(ue,Ee,Ze,st){const on=st.getColumns(ue),or=st.getRows(ue);Ze>on&&st.insertColumns(ue,{at:on,columns:Ze-on}),Ee>or&&st.insertRows(ue,{at:or,rows:Ee-or})}(F,Y.lastRow+1,Y.lastColumn+1,B)),oe||!B.isSelectionRectangular(x)?function(ue,Ee,Ze){const{firstRow:st,lastRow:on,firstColumn:or,lastColumn:nL}=Ee,rL={first:st,last:on},oL={first:or,last:nL};$A(ue,or,rL,Ze),$A(ue,nL+1,rL,Ze),zA(ue,st,oL,Ze),zA(ue,on+1,oL,Ze,st)}(F,Y,N):(Y.lastRow=S3(F,Y),Y.lastColumn=D3(F,Y)),Y}(i,d,a,c),g=p.lastRow-p.firstRow+1,b=p.lastColumn-p.firstColumn+1;n=y3(n,{startRow:0,startColumn:0,endRow:Math.min(g,d.height)-1,endColumn:Math.min(b,d.width)-1},a);const w=i[0].findAncestor("table"),C=this._replaceSelectedCellsWithPasted(n,d,w,p,a);if(this.editor.plugins.get("TableSelection").isEnabled){const x=c.sortRanges(C.map(D=>a.createRangeOn(D)));a.setSelection(x)}else a.setSelection(C[0],0);return w}_replaceSelectedCellsWithPasted(n,i,a,c,d){const{width:p,height:g}=i,b=function(U,W,Y){const oe=new Array(Y).fill(null).map(()=>new Array(W).fill(null));for(const{column:ue,row:Ee,cell:Ze}of new Wt(U))oe[Ee][ue]=Ze;return oe}(n,p,g),w=[...new Wt(a,{startRow:c.firstRow,endRow:c.lastRow,startColumn:c.firstColumn,endColumn:c.lastColumn,includeAllSlots:!0})],C=[];let x;for(const U of w){const{row:W,column:Y}=U;Y===c.firstColumn&&(x=U.getPositionBefore());const oe=W-c.firstRow,ue=Y-c.firstColumn,Ee=b[oe%g][ue%p],Ze=Ee?d.cloneElement(Ee):null,st=this._replaceTableSlotCell(U,Ze,x,d);st&&(E3(st,W,Y,c.lastRow,c.lastColumn,d),C.push(st),x=d.createPositionAfter(st))}const D=parseInt(a.getAttribute("headingRows")||"0"),N=parseInt(a.getAttribute("headingColumns")||"0"),B=c.firstRow<D&&D<=c.lastRow,F=c.firstColumn<N&&N<=c.lastColumn;if(B){const U=zA(a,D,{first:c.firstColumn,last:c.lastColumn},d,c.firstRow);C.push(...U)}if(F){const U=$A(a,N,{first:c.firstRow,last:c.lastRow},d);C.push(...U)}return C}_replaceTableSlotCell(n,i,a,c){const{cell:d,isAnchor:p}=n;return p&&c.remove(d),i?(c.insert(i,a),i):null}getTableIfOnlyTableInContent(n,i){if(!n.is("documentFragment")&&!n.is("element"))return null;if(n.is("element","table"))return n;if(n.childCount==1&&n.getChild(0).is("element","table"))return n.getChild(0);const a=i.createRangeIn(n);for(const c of a.getItems())if(c.is("element","table")){const d=i.createRange(a.start,i.createPositionBefore(c));if(i.hasContent(d,{ignoreWhitespaces:!0}))return null;const p=i.createRange(i.createPositionAfter(c),a.end);return i.hasContent(p,{ignoreWhitespaces:!0})?null:c}return null}}function zA(l,n,i,a,c=0){if(!(n<1))return _3(l,n,c).filter(({column:d,cellWidth:p})=>F3(d,p,i)).map(({cell:d})=>C3(d,n,a))}function $A(l,n,i,a){if(!(n<1))return A3(l,n).filter(({row:c,cellHeight:d})=>F3(c,d,i)).map(({cell:c,column:d})=>x3(c,d,n,a))}function F3(l,n,i){const a=l+n-1,{first:c,last:d}=i;return l>=c&&l<=d||l<c&&a>=c}class Cse extends me{static get pluginName(){return"TableKeyboard"}static get requires(){return[ic,_r]}init(){const n=this.editor,i=n.editing.view.document,a=n.t;this.listenTo(i,"arrowKey",(...c)=>this._onArrowKey(...c),{context:"table"}),this.listenTo(i,"tab",(...c)=>this._handleTabOnSelectedTable(...c),{context:"figure"}),this.listenTo(i,"tab",(...c)=>this._handleTab(...c),{context:["th","td"]}),n.accessibility.addKeystrokeInfoGroup({id:"table",label:a("Keystrokes that can be used in a table cell"),keystrokes:[{label:a("Move the selection to the next cell"),keystroke:"Tab"},{label:a("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:a("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:a("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(n,i){const a=this.editor,c=a.model.document.selection.getSelectedElement();c&&c.is("element","table")&&(i.preventDefault(),i.stopPropagation(),n.stop(),a.model.change(d=>{d.setSelection(d.createRangeIn(c.getChild(0).getChild(0)))}))}_handleTab(n,i){const a=this.editor,c=this.editor.plugins.get(_r),d=this.editor.plugins.get("TableSelection"),p=a.model.document.selection,g=!i.shiftKey;let b=c.getTableCellsContainingSelection(p)[0];if(b||(b=d.getFocusCell()),!b)return;i.preventDefault(),i.stopPropagation(),n.stop();const w=b.parent,C=w.parent,x=C.getChildIndex(w),D=w.getChildIndex(b),N=D===0;if(!g&&N&&x===0)return void a.model.change(W=>{W.setSelection(W.createRangeOn(C))});const B=D===w.childCount-1,F=x===c.getRows(C)-1;if(g&&F&&B&&(a.execute("insertTableRowBelow"),x===c.getRows(C)-1))return void a.model.change(W=>{W.setSelection(W.createRangeOn(C))});let U;if(g&&B)U=C.getChild(x+1).getChild(0);else if(!g&&N){const W=C.getChild(x-1);U=W.getChild(W.childCount-1)}else U=w.getChild(D+(g?1:-1));a.model.change(W=>{W.setSelection(W.createRangeIn(U))})}_onArrowKey(n,i){const a=this.editor,c=J_(i.keyCode,a.locale.contentLanguageDirection);this._handleArrowKeys(c,i.shiftKey)&&(i.preventDefault(),i.stopPropagation(),n.stop())}_handleArrowKeys(n,i){const a=this.editor.plugins.get(_r),c=this.editor.plugins.get("TableSelection"),d=this.editor.model,p=d.document.selection,g=["right","down"].includes(n),b=a.getSelectedTableCells(p);if(b.length){let C;return C=i?c.getFocusCell():g?b[b.length-1]:b[0],this._navigateFromCellInDirection(C,n,i),!0}const w=p.focus.findAncestor("tableCell");if(!w)return!1;if(!p.isCollapsed)if(i){if(p.isBackward==g&&!p.containsEntireContent(w))return!1}else{const C=p.getSelectedElement();if(!C||!d.schema.isObject(C))return!1}return!!this._isSelectionAtCellEdge(p,w,g)&&(this._navigateFromCellInDirection(w,n,i),!0)}_isSelectionAtCellEdge(n,i,a){const c=this.editor.model,d=this.editor.model.schema,p=a?n.getLastPosition():n.getFirstPosition();if(!d.getLimitElement(p).is("element","tableCell"))return c.createPositionAt(i,a?"end":0).isTouching(p);const g=c.createSelection(p);return c.modifySelection(g,{direction:a?"forward":"backward"}),p.isEqual(g.focus)}_navigateFromCellInDirection(n,i,a=!1){const c=this.editor.model,d=n.findAncestor("table"),p=[...new Wt(d,{includeAllSlots:!0})],{row:g,column:b}=p[p.length-1],w=p.find(({cell:F})=>F==n);let{row:C,column:x}=w;switch(i){case"left":x--;break;case"up":C--;break;case"right":x+=w.cellWidth;break;case"down":C+=w.cellHeight}if(C<0||C>g||x<0&&C<=0||x>b&&C>=g)return void c.change(F=>{F.setSelection(F.createRangeOn(d))});x<0?(x=a?0:b,C--):x>b&&(x=a?b:0,C++);const D=p.find(F=>F.row==C&&F.column==x).cell,N=["right","down"].includes(i),B=this.editor.plugins.get("TableSelection");if(a&&B.isEnabled){const F=B.getAnchorCell()||n;B.setCellSelection(F,D)}else{const F=c.createPositionAt(D,N?0:"end");c.change(U=>{U.setSelection(F)})}}}class Ase extends Ta{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(n){this.fire(n.type,n)}}class xse extends me{static get pluginName(){return"TableMouse"}static get requires(){return[ic,_r]}init(){this.editor.editing.view.addObserver(Ase),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const n=this.editor,i=n.plugins.get(_r);let a=!1;const c=n.plugins.get(ic);this.listenTo(n.editing.view.document,"mousedown",(d,p)=>{const g=n.model.document.selection;if(!this.isEnabled||!c.isEnabled||!p.domEvent.shiftKey)return;const b=c.getAnchorCell()||i.getTableCellsContainingSelection(g)[0];if(!b)return;const w=this._getModelTableCellFromDomEvent(p);w&&z3(b,w)&&(a=!0,c.setCellSelection(b,w),p.preventDefault())}),this.listenTo(n.editing.view.document,"mouseup",()=>{a=!1}),this.listenTo(n.editing.view.document,"selectionChange",d=>{a&&d.stop()},{priority:"highest"})}_enableMouseDragSelection(){const n=this.editor;let i,a,c=!1,d=!1;const p=n.plugins.get(ic);this.listenTo(n.editing.view.document,"mousedown",(g,b)=>{this.isEnabled&&p.isEnabled&&(b.domEvent.shiftKey||b.domEvent.ctrlKey||b.domEvent.altKey||(i=this._getModelTableCellFromDomEvent(b)))}),this.listenTo(n.editing.view.document,"mousemove",(g,b)=>{if(!b.domEvent.buttons||!i)return;const w=this._getModelTableCellFromDomEvent(b);w&&z3(i,w)&&(a=w,c||a==i||(c=!0)),c&&(d=!0,p.setCellSelection(i,a),b.preventDefault())}),this.listenTo(n.editing.view.document,"mouseup",()=>{c=!1,d=!1,i=null,a=null}),this.listenTo(n.editing.view.document,"selectionChange",g=>{d&&g.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(n){const i=n.target,a=this.editor.editing.view.createPositionAt(i,0);return this.editor.editing.mapper.toModelPosition(a).parent.findAncestor("tableCell",{includeSelf:!0})}}function z3(l,n){return l.parent.parent==n.parent.parent}var $3=s(2329),Ese={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()($3.A,Ese),$3.A.locals;function Sse(l){const n=l.getSelectedElement();return n&&V3(n)?n:null}function Dse(l){const n=l.getFirstPosition();if(!n)return null;let i=n.parent;for(;i;){if(i.is("element")&&V3(i))return i;i=i.parent}return null}function V3(l){return!!l.getCustomProperty("table")&&Vn(l)}var U3=s(5506),Tse={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(U3.A,Tse),U3.A.locals;var H3=s(2655),Ise={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(H3.A,Ise),H3.A.locals;var W3=s(4043),Mse={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(W3.A,Mse),W3.A.locals;var q3=s(1623),Pse={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(q3.A,Pse),q3.A.locals;var G3=s(8986),Nse={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(G3.A,Nse),G3.A.locals;const sc=ao.defaultPositions;sc.northArrowSouth,sc.northArrowSouthWest,sc.northArrowSouthEast,sc.southArrowNorth,sc.southArrowNorthWest,sc.southArrowNorthEast,sc.viewportStickyNorth;var K3=s(5562),Rse={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(K3.A,Rse),K3.A.locals;var Y3=s(4143),Ose={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(Y3.A,Ose),Y3.A.locals;var Q3=s(8795),Bse={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ce()(Q3.A,Bse),Q3.A.locals;var Lse=Object.defineProperty,Z3=Object.getOwnPropertySymbols,jse=Object.prototype.hasOwnProperty,Fse=Object.prototype.propertyIsEnumerable,J3=(l,n,i)=>n in l?Lse(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,X3=(l,n)=>{for(var i in n||(n={}))jse.call(n,i)&&J3(l,i,n[i]);if(Z3)for(var i of Z3(n))Fse.call(n,i)&&J3(l,i,n[i]);return l};const zse={autoRefresh:!0},eL=36e5;class VA extends be(){constructor(n,i={}){if(super(),!n)throw new P("token-missing-token-url",this);i.initValue&&this._validateTokenValue(i.initValue),this.set("value",i.initValue),this._refresh=typeof n=="function"?n:()=>{return a=n,new Promise((c,d)=>{const p=new XMLHttpRequest;p.open("GET",a),p.addEventListener("load",()=>{const g=p.status,b=p.response;return g<200||g>299?d(new P("token-cannot-download-new-token",null)):c(b)}),p.addEventListener("error",()=>d(new Error("Network Error"))),p.addEventListener("abort",()=>d(new Error("Abort"))),p.send()});var a},this._options=X3(X3({},zse),i)}init(){return new Promise((n,i)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),n(this)):this.refreshToken().then(n).catch(i)})}refreshToken(){return this._refresh().then(n=>(this._validateTokenValue(n),this.set("value",n),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(n){const i=typeof n=="string",a=!/^".*"$/.test(n),c=i&&n.split(".").length===3;if(!a||!c)throw new P("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const n=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},n)}_getTokenRefreshTimeoutTime(){try{const[,n]=this.value.split("."),{exp:i}=JSON.parse(atob(n));return i?Math.floor((1e3*i-Date.now())/2):eL}catch{return eL}}static create(n,i={}){return new VA(n,i).init()}}const UA=/^data:(\S*?);base64,/;class $se extends G(){constructor(n,i,a){if(super(),!n)throw new P("fileuploader-missing-file",null);if(!i)throw new P("fileuploader-missing-token",null);if(!a)throw new P("fileuploader-missing-api-address",null);this.file=function(c){if(typeof c!="string")return!1;const d=c.match(UA);return!(!d||!d.length)}(n)?function(c,d=512){try{const p=c.match(UA)[1],g=atob(c.replace(UA,"")),b=[];for(let w=0;w<g.length;w+=d){const C=g.slice(w,w+d),x=new Array(C.length);for(let D=0;D<C.length;D++)x[D]=C.charCodeAt(D);b.push(new Uint8Array(x))}return new Blob(b,{type:p})}catch{throw new P("fileuploader-decoding-image-data-error",null)}}(n):n,this._token=i,this._apiAddress=a}onProgress(n){return this.on("progress",(i,a)=>n(a)),this}onError(n){return this.once("error",(i,a)=>n(a)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const n=new XMLHttpRequest;n.open("POST",this._apiAddress),n.setRequestHeader("Authorization",this._token.value),n.responseType="json",this.xhr=n}_attachXHRListeners(){const n=this.xhr,i=a=>()=>this.fire("error",a);n.addEventListener("error",i("Network Error")),n.addEventListener("abort",i("Abort")),n.upload&&n.upload.addEventListener("progress",a=>{a.lengthComputable&&this.fire("progress",{total:a.total,uploaded:a.loaded})}),n.addEventListener("load",()=>{const a=n.status,c=n.response;if(a<200||a>299)return this.fire("error",c.message||c.error)})}_sendRequest(){const n=new FormData,i=this.xhr;return n.append("file",this.file),new Promise((a,c)=>{i.addEventListener("load",()=>{const d=i.status,p=i.response;return d<200||d>299?p.message?c(new P("fileuploader-uploading-data-failed",this,{message:p.message})):c(p.error):a(p)}),i.addEventListener("error",()=>c(new Error("Network Error"))),i.addEventListener("abort",()=>c(new Error("Abort"))),i.send(n)})}}class Vse{constructor(n,i){if(!n)throw new P("uploadgateway-missing-token",null);if(!i)throw new P("uploadgateway-missing-api-address",null);this._token=n,this._apiAddress=i}upload(n){return new $se(n,this._token,this._apiAddress)}}class Use extends Cb{static get pluginName(){return"CloudServicesCore"}createToken(n,i){return new VA(n,i)}createUploadGateway(n,i){return new Vse(n,i)}}var tL=(l,n,i)=>new Promise((a,c)=>{var d=b=>{try{g(i.next(b))}catch(w){c(w)}},p=b=>{try{g(i.throw(b))}catch(w){c(w)}},g=b=>b.done?a(b.value):Promise.resolve(b.value).then(d,p);g((i=i.apply(l,n)).next())});class HA extends tk{}HA.builtinPlugins=[class extends me{static get requires(){return[UJ,CR,ik,cne,Nte,xte,DR]}static get pluginName(){return"Essentials"}},class extends me{static get requires(){return[Oi]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const l=this.editor.config.get("ckfinder.uploadUrl");l&&(this.editor.plugins.get(Oi).createUploadAdapter=n=>new yne(n,l,this.editor.t))}},class extends me{static get requires(){return[Hs]}static get pluginName(){return"Autoformat"}afterInit(){const l=this.editor,n=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),l.accessibility.addKeystrokeInfos({keystrokes:[{label:n("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const l=this.editor.commands;l.get("bulletedList")&&Na(this.editor,this,/^[*-]\s$/,"bulletedList"),l.get("numberedList")&&Na(this.editor,this,/^1[.|)]\s$/,"numberedList"),l.get("todoList")&&Na(this.editor,this,/^\[\s?\]\s$/,"todoList"),l.get("checkTodoList")&&Na(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const l=this.editor.commands;if(l.get("bold")){const n=uk(this.editor,"bold");Gu(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,n),Gu(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,n)}if(l.get("italic")){const n=uk(this.editor,"italic");Gu(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,n),Gu(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,n)}if(l.get("code")){const n=uk(this.editor,"code");Gu(this.editor,this,/(`)([^`]+)(`)$/g,n)}if(l.get("strikethrough")){const n=uk(this.editor,"strikethrough");Gu(this.editor,this,/(~~)([^~]+)(~~)$/g,n)}}_addHeadingAutoformats(){const l=this.editor.commands.get("heading");l&&l.modelElements.filter(n=>n.match(/^heading[1-6]$/)).forEach(n=>{const i=n[7],a=new RegExp(`^(#{${i}})\\s$`);Na(this.editor,this,a,()=>{if(!l.isEnabled||l.value===n)return!1;this.editor.execute("heading",{value:n})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Na(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const l=this.editor,n=l.model.document.selection;l.commands.get("codeBlock")&&Na(l,this,/^```$/,()=>{if(n.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Na(this.editor,this,/^---$/,"horizontalLine")}},class extends me{static get requires(){return[_ne,Cne]}static get pluginName(){return"Bold"}},class extends me{static get requires(){return[xne,Ene]}static get pluginName(){return"Italic"}},class extends me{static get requires(){return[Dne,Ine]}static get pluginName(){return"BlockQuote"}},class extends me{static get pluginName(){return"CKBox"}static get requires(){return[KR,Mne]}},class extends me{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",nre,ere]}},class extends Cb{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[Use]}init(){return tL(this,null,function*(){const l=this.context.config.get("cloudServices")||{};for(const[i,a]of Object.entries(l))this[i]=a;if(!this.tokenUrl)return void(this.token=null);const n=this.context.plugins.get("CloudServicesCore");this.token=yield n.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(l){return tL(this,null,function*(){if(this._tokens.has(l))return this.getTokenFor(l);const n=this.context.plugins.get("CloudServicesCore"),i=yield n.createToken(l).init();return this._tokens.set(l,i),i})}getTokenFor(l){const n=this._tokens.get(l);if(!n)throw new P("cloudservices-token-not-registered",this);return n}destroy(){super.destroy();for(const l of this._tokens.values())l.destroy()}},class extends me{static get pluginName(){return"EasyImage"}static get requires(){return[rre,"ImageUpload"]}init(){const l=this.editor;l.plugins.has("ImageBlockEditing")||l.plugins.has("ImageInlineEditing")||z("easy-image-image-feature-missing",l)}},class extends me{static get requires(){return[lre,ure]}static get pluginName(){return"Heading"}},class extends me{static get requires(){return[Mre,Nre]}static get pluginName(){return"Image"}},class extends me{static get requires(){return[Ore,Bre]}static get pluginName(){return"ImageCaption"}},class extends me{static get requires(){return[eB,soe]}static get pluginName(){return"ImageStyle"}},class extends me{static get requires(){return[ak,co]}static get pluginName(){return"ImageToolbar"}afterInit(){const l=this.editor,n=l.t,i=l.plugins.get(ak),a=l.plugins.get("ImageUtils");var c;i.register("image",{ariaLabel:n("Image toolbar"),items:(c=l.config.get("image.toolbar")||[],c.map(d=>Se(d)?d.name:d)),getRelatedElement:d=>a.getClosestSelectedImageWidget(d)})}},class extends me{static get pluginName(){return"ImageUpload"}static get requires(){return[Qre,Fre,Ure]}},class extends me{static get pluginName(){return"Indent"}static get requires(){return[aoe,loe]}},class extends me{static get requires(){return[yB,Loe,joe]}static get pluginName(){return"Link"}},lie,class extends me{static get requires(){return[Ck,wie,bie,Op]}static get pluginName(){return"MediaEmbed"}},mA,class extends me{static get pluginName(){return"PasteFromOffice"}static get requires(){return[oi]}init(){const l=this.editor,n=l.plugins.get("ClipboardPipeline"),i=l.editing.view.document,a=[],c=this.editor.plugins.has("MultiLevelList");a.push(new $ie(i,c)),a.push(new Uie(i)),a.push(new Wie(i)),n.on("inputTransformation",(d,p)=>{if(p._isTransformedWithPasteFromOffice||l.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const g=p.dataTransfer.getData("text/html"),b=a.find(w=>w.isActive(g));b&&(p._parsedData||(p._parsedData=qie(g,i.stylesProcessor)),b.execute(p),p._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends me{static get requires(){return[bA,co]}static get pluginName(){return"PictureEditing"}afterInit(){const l=this.editor;l.plugins.has("ImageBlockEditing")&&l.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),l.plugins.has("ImageInlineEditing")&&l.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const l=this.editor,n=l.conversion,i=l.plugins.get("ImageUtils");n.for("upcast").add(function(a){const c=["srcset","media","type","sizes"],d=(p,g,b)=>{const w=g.viewItem;if(!b.consumable.test(w,{name:!0}))return;const C=new Map;for(const N of w.getChildren())if(N.is("element","source")){const B={};for(const F of c)N.hasAttribute(F)&&b.consumable.test(N,{attributes:F})&&(B[F]=N.getAttribute(F));Object.keys(B).length&&C.set(N,B)}const x=a.findViewImgElement(w);if(!x)return;let D=g.modelCursor.parent;if(!D.is("element","imageBlock")){const N=b.convertItem(x,g.modelCursor);g.modelRange=N.modelRange,g.modelCursor=N.modelCursor,D=ur(N.modelRange.getItems())}b.consumable.consume(w,{name:!0});for(const[N,B]of C)b.consumable.consume(N,{attributes:Object.keys(B)});C.size&&b.writer.setAttribute("sources",Array.from(C.values()),D),b.convertChildren(w,D)};return p=>{p.on("element:picture",d)}}(i)),n.for("downcast").add(function(a){const c=(d,p,g)=>{if(!g.consumable.consume(p.item,d.name))return;const b=g.writer,w=g.mapper.toViewElement(p.item),C=a.findViewImgElement(w),x=p.attributeNewValue;if(x&&x.length){const D=b.createContainerElement("picture",null,x.map(F=>b.createEmptyElement("source",F))),N=[];let B=C.parent;for(;B&&B.is("attributeElement");){const F=B.parent;b.unwrap(b.createRangeOn(C),B),N.unshift(B),B=F}b.insert(b.createPositionBefore(C),D),b.move(b.createRangeOn(C),b.createPositionAt(D,"end"));for(const F of N)b.wrap(b.createRangeOn(D),F)}else if(C.parent.is("element","picture")){const D=C.parent;b.move(b.createRangeOn(C),b.createPositionBefore(D)),b.remove(D)}};return d=>{d.on("attribute:sources:imageBlock",c),d.on("attribute:sources:imageInline",c)}}(i))}_setupImageUploadEditingIntegration(){const l=this.editor;if(!l.plugins.has("ImageUploadEditing"))return;const n=l.plugins.get("ImageUploadEditing");this.listenTo(n,"uploadComplete",(i,{imageElement:a,data:c})=>{const d=c.sources;d&&l.model.change(p=>{p.setAttributes({sources:d},a)})})}},class extends me{static get requires(){return[bse,vse,ic,xse,Cse,_se,Op]}static get pluginName(){return"Table"}},class extends me{static get requires(){return[ak]}static get pluginName(){return"TableToolbar"}afterInit(){const l=this.editor,n=l.t,i=l.plugins.get(ak),a=l.config.get("table.contentToolbar"),c=l.config.get("table.tableToolbar");a&&i.register("tableContent",{ariaLabel:n("Table toolbar"),items:a,getRelatedElement:Dse}),c&&i.register("table",{ariaLabel:n("Table toolbar"),items:c,getRelatedElement:Sse})}},class extends me{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(l){super(l),l.config.define("typing",{transformations:{include:Ete}})}init(){const l=this.editor.model.document.selection;l.on("change:range",()=>{this.isEnabled=!l.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const l=this.editor,n=l.model,i=l.plugins.get("Delete"),a=function(d){const p=d.extra||[],g=d.remove||[],b=w=>!g.includes(w);return function(w){const C=new Set;for(const x of w)if(typeof x=="string"&&Y4[x])for(const D of Y4[x])C.add(D);else C.add(x);return Array.from(C)}(d.include.concat(p).filter(b)).filter(b).map(w=>typeof w=="string"&&K4[w]?K4[w]:w).filter(w=>typeof w=="object").map(w=>({from:Ste(w.from),to:Dte(w.to)}))}(l.config.get("typing.transformations")),c=new W4(l.model,d=>{for(const p of a)if(p.from.test(d))return{normalizedTransformation:p}});c.on("matched:data",(d,p)=>{if(!p.batch.isTyping)return;const{from:g,to:b}=p.normalizedTransformation,w=g.exec(p.text),C=b(w.slice(1)),x=p.range;let D=w.index;n.enqueueChange(N=>{for(let B=1;B<w.length;B++){const F=w[B],U=C[B-1];if(U==null){D+=F.length;continue}const W=x.start.getShiftedBy(D),Y=n.createRange(W,W.getShiftedBy(F.length)),oe=Tte(W);n.insertContent(N.createText(U,oe),Y),D+=U.length}n.enqueueChange(()=>{i.requestUndoOnBackspace()})})}),c.bind("isEnabled").to(this)}}],HA.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),u=u.default})())})(sw,sw.exports);var DPe=sw.exports;const aG=yw(DPe),TPe=({content:e,onChange:t})=>M.jsx(sG.CKEditor,{editor:aG,data:e,onChange:(r,o)=>{const s=o.getData();t(s)},config:{toolbar:["undo","redo","|","heading","|","bold","italic","|","blockQuote","numberedList","bulletedList","|","insertTable","link","|"],table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},link:{defaultProtocol:"https://",decorators:{addTargetToExternalLinks:{mode:"automatic",callback:r=>/^(https?:)?\/\//.test(r||""),attributes:{target:"_blank",rel:"noopener noreferrer"}}}}}}),e9=({content:e,onChange:t})=>M.jsx(sG.CKEditor,{editor:aG,data:e,onChange:(r,o)=>{const s=o.getData();t(s)},config:{toolbar:["heading","|","bold","italic","|","blockQuote","numberedList","bulletedList","|","link"],link:{defaultProtocol:"https://",decorators:{addTargetToExternalLinks:{mode:"automatic",callback:r=>/^(https?:)?\/\//.test(r||""),attributes:{target:"_blank",rel:"noopener noreferrer"}}}}}}),IPe=({value:e,onChange:t})=>{const[r,o]=L.useState([]),{userDetails:s}=pu(),u=Co();return L.useEffect(()=>{(async()=>{if(s!=null&&s.class){const m=s.class,k=(await Rg(uu(u,"courses"))).docs.map(v=>v.data().name).filter(v=>m.includes(v));o(k)}})()},[u,s]),M.jsx(lr,{select:!0,label:"Select Course",value:e,onChange:h=>t(h.target.value),fullWidth:!0,sx:{mb:2},children:r.map(h=>M.jsx(Nc,{value:h,children:h},h))})};function MPe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,mS(e,t)}function mS(e,t){return mS=Object.setPrototypeOf||function(o,s){return o.__proto__=s,o},mS(e,t)}function PPe(e,t){if(e==null)return{};var r={},o=Object.keys(e),s,u;for(u=0;u<o.length;u++)s=o[u],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function t9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NPe(e,t,r){return e===t?!0:e.correspondingElement?e.correspondingElement.classList.contains(r):e.classList.contains(r)}function RPe(e,t,r){if(e===t)return!0;for(;e.parentNode||e.host;){if(e.parentNode&&NPe(e,t,r))return!0;e=e.parentNode||e.host}return e}function OPe(e){return document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY}var BPe=function(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var t=!1,r=Object.defineProperty({},"passive",{get:function(){t=!0}}),o=function(){};return window.addEventListener("testPassiveEventSupport",o,r),window.removeEventListener("testPassiveEventSupport",o,r),t}};function LPe(e){return e===void 0&&(e=0),function(){return++e}}var jPe=LPe(),gS,dv={},ax={},FPe=["touchstart","touchmove"],zPe="ignore-react-onclickoutside";function n9(e,t){var r={},o=FPe.indexOf(t)!==-1;return o&&gS&&(r.passive=!e.props.preventDefault),r}function A_(e,t){var r,o,s=e.displayName||e.name||"Component";return o=r=function(u){MPe(h,u);function h(f){var k;return k=u.call(this,f)||this,k.__outsideClickHandler=function(v){if(typeof k.__clickOutsideHandlerProp=="function"){k.__clickOutsideHandlerProp(v);return}var _=k.getInstance();if(typeof _.props.handleClickOutside=="function"){_.props.handleClickOutside(v);return}if(typeof _.handleClickOutside=="function"){_.handleClickOutside(v);return}throw new Error("WrappedComponent: "+s+" lacks a handleClickOutside(event) function for processing outside click events.")},k.__getComponentNode=function(){var v=k.getInstance();return typeof v.setClickOutsideRef=="function"?v.setClickOutsideRef():ug.findDOMNode(v)},k.enableOnClickOutside=function(){if(!(typeof document>"u"||ax[k._uid])){typeof gS>"u"&&(gS=BPe()),ax[k._uid]=!0;var v=k.props.eventTypes;v.forEach||(v=[v]),dv[k._uid]=function(_){if(k.componentNode!==null&&!(k.initTimeStamp>_.timeStamp)&&(k.props.preventDefault&&_.preventDefault(),k.props.stopPropagation&&_.stopPropagation(),!(k.props.excludeScrollbar&&OPe(_)))){var y=_.composed&&_.composedPath&&_.composedPath().shift()||_.target;RPe(y,k.componentNode,k.props.outsideClickIgnoreClass)===document&&k.__outsideClickHandler(_)}},v.forEach(function(_){document.addEventListener(_,dv[k._uid],n9(t9(k),_))})}},k.disableOnClickOutside=function(){delete ax[k._uid];var v=dv[k._uid];if(v&&typeof document<"u"){var _=k.props.eventTypes;_.forEach||(_=[_]),_.forEach(function(y){return document.removeEventListener(y,v,n9(t9(k),y))}),delete dv[k._uid]}},k.getRef=function(v){return k.instanceRef=v},k._uid=jPe(),k.initTimeStamp=performance.now(),k}var m=h.prototype;return m.getInstance=function(){if(e.prototype&&!e.prototype.isReactComponent)return this;var k=this.instanceRef;return k.getInstance?k.getInstance():k},m.componentDidMount=function(){typeof document>"u"||!document.createElement||(this.getInstance(),this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside())},m.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},m.componentWillUnmount=function(){this.disableOnClickOutside()},m.render=function(){var k=this.props;k.excludeScrollbar;var v=PPe(k,["excludeScrollbar"]);return e.prototype&&e.prototype.isReactComponent?v.ref=this.getRef:v.wrappedRef=this.getRef,v.disableOnClickOutside=this.disableOnClickOutside,v.enableOnClickOutside=this.enableOnClickOutside,L.createElement(e,v)},h}(L.Component),r.displayName="OnClickOutside("+s+")",r.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:!1,outsideClickIgnoreClass:zPe,preventDefault:!1,stopPropagation:!1},r.getClass=function(){return e.getClass?e.getClass():e},o}function Le(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Gt(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function jl(e,t){const r=Le(e);return isNaN(t)?Gt(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function iI(e,t){const r=+Le(e);return Gt(e,r+t)}const lG=6048e5,$Pe=864e5,x_=6e4,E_=36e5,VPe=1e3;function UPe(e,t){return iI(e,t*E_)}function bS(e,t){return iI(e,t*x_)}function qi(e,t){const r=Le(e);if(isNaN(t))return Gt(e,NaN);if(!t)return r;const o=r.getDate(),s=Gt(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const u=s.getDate();return o>=u?s:(r.setFullYear(s.getFullYear(),s.getMonth(),o),r)}function sI(e,t){const r=t*3;return qi(e,r)}function HPe(e,t){return iI(e,t*1e3)}function aw(e,t){const r=t*7;return jl(e,r)}function aa(e,t){return qi(e,t*12)}function eu(e){const t=Le(e);return t.setHours(0,0,0,0),t}function lw(e){const t=Le(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function tg(e,t){const r=eu(e),o=eu(t),s=+r-lw(r),u=+o-lw(o);return Math.round((s-u)/$Pe)}function cw(e,t){const r=Le(e),o=Le(t),s=r.getFullYear()-o.getFullYear(),u=r.getMonth()-o.getMonth();return s*12+u}function Rc(e){const t=Le(e);return Math.trunc(t.getMonth()/3)+1}function uw(e,t){const r=Le(e),o=Le(t),s=r.getFullYear()-o.getFullYear(),u=Rc(r)-Rc(o);return s*4+u}function dw(e,t){const r=Le(e),o=Le(t);return r.getFullYear()-o.getFullYear()}function cG(e){const t=Le(e);return t.setHours(23,59,59,999),t}function WPe(e){const t=Le(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}let qPe={};function wu(){return qPe}function GPe(e,t){var m,f;const r=wu(),o=r.weekStartsOn??((f=(m=r.locale)==null?void 0:m.options)==null?void 0:f.weekStartsOn)??0,s=Le(e),u=s.getDay(),h=(u<o?-7:0)+6-(u-o);return s.setDate(s.getDate()+h),s.setHours(23,59,59,999),s}function uG(e){const t=Le(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}const KPe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},YPe=(e,t,r)=>{let o;const s=KPe[e];return typeof s=="string"?o=s:t===1?o=s.one:o=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};function lx(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const QPe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ZPe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},JPe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},XPe={date:lx({formats:QPe,defaultWidth:"full"}),time:lx({formats:ZPe,defaultWidth:"full"}),dateTime:lx({formats:JPe,defaultWidth:"full"})},eNe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tNe=(e,t,r,o)=>eNe[e];function gf(e){return(t,r)=>{const o=r!=null&&r.context?String(r.context):"standalone";let s;if(o==="formatting"&&e.formattingValues){const h=e.defaultFormattingWidth||e.defaultWidth,m=r!=null&&r.width?String(r.width):h;s=e.formattingValues[m]||e.formattingValues[h]}else{const h=e.defaultWidth,m=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[m]||e.values[h]}const u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}const nNe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rNe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oNe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},iNe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},sNe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},aNe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lNe=(e,t)=>{const r=Number(e),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},cNe={ordinalNumber:lNe,era:gf({values:nNe,defaultWidth:"wide"}),quarter:gf({values:rNe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:gf({values:oNe,defaultWidth:"wide"}),day:gf({values:iNe,defaultWidth:"wide"}),dayPeriod:gf({values:sNe,defaultWidth:"wide",formattingValues:aNe,defaultFormattingWidth:"wide"})};function bf(e){return(t,r={})=>{const o=r.width,s=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],u=t.match(s);if(!u)return null;const h=u[0],m=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(m)?dNe(m,_=>_.test(h)):uNe(m,_=>_.test(h));let k;k=e.valueCallback?e.valueCallback(f):f,k=r.valueCallback?r.valueCallback(k):k;const v=t.slice(h.length);return{value:k,rest:v}}}function uNe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function dNe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function hNe(e){return(t,r={})=>{const o=t.match(e.matchPattern);if(!o)return null;const s=o[0],u=t.match(e.parsePattern);if(!u)return null;let h=e.valueCallback?e.valueCallback(u[0]):u[0];h=r.valueCallback?r.valueCallback(h):h;const m=t.slice(s.length);return{value:h,rest:m}}}const pNe=/^(\d+)(th|st|nd|rd)?/i,fNe=/\d+/i,mNe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gNe={any:[/^b/i,/^(a|c)/i]},bNe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kNe={any:[/1/i,/2/i,/3/i,/4/i]},vNe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wNe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},yNe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_Ne={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},CNe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ANe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xNe={ordinalNumber:hNe({matchPattern:pNe,parsePattern:fNe,valueCallback:e=>parseInt(e,10)}),era:bf({matchPatterns:mNe,defaultMatchWidth:"wide",parsePatterns:gNe,defaultParseWidth:"any"}),quarter:bf({matchPatterns:bNe,defaultMatchWidth:"wide",parsePatterns:kNe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:bf({matchPatterns:vNe,defaultMatchWidth:"wide",parsePatterns:wNe,defaultParseWidth:"any"}),day:bf({matchPatterns:yNe,defaultMatchWidth:"wide",parsePatterns:_Ne,defaultParseWidth:"any"}),dayPeriod:bf({matchPatterns:CNe,defaultMatchWidth:"any",parsePatterns:ANe,defaultParseWidth:"any"})},dG={code:"en-US",formatDistance:YPe,formatLong:XPe,formatRelative:tNe,localize:cNe,match:xNe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function S_(e){const t=Le(e),r=Gt(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function ENe(e){const t=Le(e);return tg(t,S_(t))+1}function _a(e,t){var m,f,k,v;const r=wu(),o=(t==null?void 0:t.weekStartsOn)??((f=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((v=(k=r.locale)==null?void 0:k.options)==null?void 0:v.weekStartsOn)??0,s=Le(e),u=s.getDay(),h=(u<o?7:0)+u-o;return s.setDate(s.getDate()-h),s.setHours(0,0,0,0),s}function _h(e){return _a(e,{weekStartsOn:1})}function hG(e){const t=Le(e),r=t.getFullYear(),o=Gt(e,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const s=_h(o),u=Gt(e,0);u.setFullYear(r,0,4),u.setHours(0,0,0,0);const h=_h(u);return t.getTime()>=s.getTime()?r+1:t.getTime()>=h.getTime()?r:r-1}function SNe(e){const t=hG(e),r=Gt(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),_h(r)}function aI(e){const t=Le(e),r=+_h(t)-+SNe(t);return Math.round(r/lG)+1}function lI(e,t){var v,_,y,A;const r=Le(e),o=r.getFullYear(),s=wu(),u=(t==null?void 0:t.firstWeekContainsDate)??((_=(v=t==null?void 0:t.locale)==null?void 0:v.options)==null?void 0:_.firstWeekContainsDate)??s.firstWeekContainsDate??((A=(y=s.locale)==null?void 0:y.options)==null?void 0:A.firstWeekContainsDate)??1,h=Gt(e,0);h.setFullYear(o+1,0,u),h.setHours(0,0,0,0);const m=_a(h,t),f=Gt(e,0);f.setFullYear(o,0,u),f.setHours(0,0,0,0);const k=_a(f,t);return r.getTime()>=m.getTime()?o+1:r.getTime()>=k.getTime()?o:o-1}function DNe(e,t){var m,f,k,v;const r=wu(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((v=(k=r.locale)==null?void 0:k.options)==null?void 0:v.firstWeekContainsDate)??1,s=lI(e,t),u=Gt(e,0);return u.setFullYear(s,0,o),u.setHours(0,0,0,0),_a(u,t)}function pG(e,t){const r=Le(e),o=+_a(r,t)-+DNe(r,t);return Math.round(o/lG)+1}function qt(e,t){const r=e<0?"-":"",o=Math.abs(e).toString().padStart(t,"0");return r+o}const Fa={y(e,t){const r=e.getFullYear(),o=r>0?r:1-r;return qt(t==="yy"?o%100:o,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):qt(r+1,2)},d(e,t){return qt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return qt(e.getHours()%12||12,t.length)},H(e,t){return qt(e.getHours(),t.length)},m(e,t){return qt(e.getMinutes(),t.length)},s(e,t){return qt(e.getSeconds(),t.length)},S(e,t){const r=t.length,o=e.getMilliseconds(),s=Math.trunc(o*Math.pow(10,r-3));return qt(s,t.length)}},ld={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},r9={G:function(e,t,r){const o=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const o=e.getFullYear(),s=o>0?o:1-o;return r.ordinalNumber(s,{unit:"year"})}return Fa.y(e,t)},Y:function(e,t,r,o){const s=lI(e,o),u=s>0?s:1-s;if(t==="YY"){const h=u%100;return qt(h,2)}return t==="Yo"?r.ordinalNumber(u,{unit:"year"}):qt(u,t.length)},R:function(e,t){const r=hG(e);return qt(r,t.length)},u:function(e,t){const r=e.getFullYear();return qt(r,t.length)},Q:function(e,t,r){const o=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(o);case"QQ":return qt(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(e,t,r){const o=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(o);case"qq":return qt(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(e,t,r){const o=e.getMonth();switch(t){case"M":case"MM":return Fa.M(e,t);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(e,t,r){const o=e.getMonth();switch(t){case"L":return String(o+1);case"LL":return qt(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(e,t,r,o){const s=pG(e,o);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):qt(s,t.length)},I:function(e,t,r){const o=aI(e);return t==="Io"?r.ordinalNumber(o,{unit:"week"}):qt(o,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Fa.d(e,t)},D:function(e,t,r){const o=ENe(e);return t==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):qt(o,t.length)},E:function(e,t,r){const o=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(e,t,r,o){const s=e.getDay(),u=(s-o.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return qt(u,2);case"eo":return r.ordinalNumber(u,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,o){const s=e.getDay(),u=(s-o.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return qt(u,t.length);case"co":return r.ordinalNumber(u,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const o=e.getDay(),s=o===0?7:o;switch(t){case"i":return String(s);case"ii":return qt(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const o=e.getHours();let s;switch(o===12?s=ld.noon:o===0?s=ld.midnight:s=o/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const o=e.getHours();let s;switch(o>=17?s=ld.evening:o>=12?s=ld.afternoon:o>=4?s=ld.morning:s=ld.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let o=e.getHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return Fa.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Fa.H(e,t)},K:function(e,t,r){const o=e.getHours()%12;return t==="Ko"?r.ordinalNumber(o,{unit:"hour"}):qt(o,t.length)},k:function(e,t,r){let o=e.getHours();return o===0&&(o=24),t==="ko"?r.ordinalNumber(o,{unit:"hour"}):qt(o,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Fa.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Fa.s(e,t)},S:function(e,t){return Fa.S(e,t)},X:function(e,t,r){const o=e.getTimezoneOffset();if(o===0)return"Z";switch(t){case"X":return i9(o);case"XXXX":case"XX":return pc(o);case"XXXXX":case"XXX":default:return pc(o,":")}},x:function(e,t,r){const o=e.getTimezoneOffset();switch(t){case"x":return i9(o);case"xxxx":case"xx":return pc(o);case"xxxxx":case"xxx":default:return pc(o,":")}},O:function(e,t,r){const o=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+o9(o,":");case"OOOO":default:return"GMT"+pc(o,":")}},z:function(e,t,r){const o=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+o9(o,":");case"zzzz":default:return"GMT"+pc(o,":")}},t:function(e,t,r){const o=Math.trunc(e.getTime()/1e3);return qt(o,t.length)},T:function(e,t,r){const o=e.getTime();return qt(o,t.length)}};function o9(e,t=""){const r=e>0?"-":"+",o=Math.abs(e),s=Math.trunc(o/60),u=o%60;return u===0?r+String(s):r+String(s)+t+qt(u,2)}function i9(e,t){return e%60===0?(e>0?"-":"+")+qt(Math.abs(e)/60,2):pc(e,t)}function pc(e,t=""){const r=e>0?"-":"+",o=Math.abs(e),s=qt(Math.trunc(o/60),2),u=qt(o%60,2);return r+s+t+u}const s9=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},fG=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},TNe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],o=r[1],s=r[2];if(!s)return s9(e,t);let u;switch(o){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;case"PPPP":default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",s9(o,t)).replace("{{time}}",fG(s,t))},hw={p:fG,P:TNe},INe=/^D+$/,MNe=/^Y+$/,PNe=["D","DD","YY","YYYY"];function mG(e){return INe.test(e)}function gG(e){return MNe.test(e)}function kS(e,t,r){const o=NNe(e,t,r);if(console.warn(o),PNe.includes(e))throw new RangeError(o)}function NNe(e,t,r){const o=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${o} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function la(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function pw(e){if(!la(e)&&typeof e!="number")return!1;const t=Le(e);return!isNaN(Number(t))}const RNe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ONe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,BNe=/^'([^]*?)'?$/,LNe=/''/g,jNe=/[a-zA-Z]/;function a9(e,t,r){var v,_,y,A,S,E,I,T;const o=wu(),s=(r==null?void 0:r.locale)??o.locale??dG,u=(r==null?void 0:r.firstWeekContainsDate)??((_=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:_.firstWeekContainsDate)??o.firstWeekContainsDate??((A=(y=o.locale)==null?void 0:y.options)==null?void 0:A.firstWeekContainsDate)??1,h=(r==null?void 0:r.weekStartsOn)??((E=(S=r==null?void 0:r.locale)==null?void 0:S.options)==null?void 0:E.weekStartsOn)??o.weekStartsOn??((T=(I=o.locale)==null?void 0:I.options)==null?void 0:T.weekStartsOn)??0,m=Le(e);if(!pw(m))throw new RangeError("Invalid time value");let f=t.match(ONe).map(R=>{const O=R[0];if(O==="p"||O==="P"){const j=hw[O];return j(R,s.formatLong)}return R}).join("").match(RNe).map(R=>{if(R==="''")return{isToken:!1,value:"'"};const O=R[0];if(O==="'")return{isToken:!1,value:FNe(R)};if(r9[O])return{isToken:!0,value:R};if(O.match(jNe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return{isToken:!1,value:R}});s.localize.preprocessor&&(f=s.localize.preprocessor(m,f));const k={firstWeekContainsDate:u,weekStartsOn:h,locale:s};return f.map(R=>{if(!R.isToken)return R.value;const O=R.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&gG(O)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&mG(O))&&kS(O,t,String(e));const j=r9[O[0]];return j(m,O,s.localize,k)}).join("")}function FNe(e){const t=e.match(BNe);return t?t[1].replace(LNe,"'"):e}function l9(e){return Le(e).getDate()}function zNe(e){return Le(e).getDay()}function xs(e){return Le(e).getHours()}function Es(e){return Le(e).getMinutes()}function Jr(e){return Le(e).getMonth()}function ca(e){return Le(e).getSeconds()}function vS(e){return Le(e).getTime()}function gt(e){return Le(e).getFullYear()}function Al(e,t){const r=Le(e),o=Le(t);return r.getTime()>o.getTime()}function tu(e,t){const r=Le(e),o=Le(t);return+r<+o}function $Ne(e,t){const r=Le(e),o=Le(t);return+r==+o}function VNe(e,t){const r=eu(e),o=eu(t);return+r==+o}function UNe(e,t){const r=Le(e),o=Le(t);return r.getFullYear()===o.getFullYear()&&r.getMonth()===o.getMonth()}function wS(e){const t=Le(e),r=t.getMonth(),o=r-r%3;return t.setMonth(o,1),t.setHours(0,0,0,0),t}function HNe(e,t){const r=wS(e),o=wS(t);return+r==+o}function WNe(e,t){const r=Le(e),o=Le(t);return r.getFullYear()===o.getFullYear()}function ng(e,t){const r=+Le(e),[o,s]=[+Le(t.start),+Le(t.end)].sort((u,h)=>u-h);return r>=o&&r<=s}function c9(e){let t;return e.forEach(function(r){const o=Le(r);(t===void 0||t<o||isNaN(Number(o)))&&(t=o)}),t||new Date(NaN)}function u9(e){let t;return e.forEach(r=>{const o=Le(r);(!t||t>o||isNaN(+o))&&(t=o)}),t||new Date(NaN)}function qNe(){return Object.assign({},wu())}function GNe(e,t){const r=t instanceof Date?Gt(t,0):new t(0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}const KNe=10;class bG{constructor(){Oe(this,"subPriority",0)}validate(t,r){return!0}}class YNe extends bG{constructor(t,r,o,s,u){super(),this.value=t,this.validateValue=r,this.setValue=o,this.priority=s,u&&(this.subPriority=u)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,o){return this.setValue(t,r,this.value,o)}}class QNe extends bG{constructor(){super(...arguments);Oe(this,"priority",KNe);Oe(this,"subPriority",-1)}set(r,o){return o.timestampIsSet?r:Gt(r,GNe(r,Date))}}class Ut{run(t,r,o,s){const u=this.parse(t,r,o,s);return u?{setter:new YNe(u.value,this.validate,this.set,this.priority,this.subPriority),rest:u.rest}:null}validate(t,r,o){return!0}}class ZNe extends Ut{constructor(){super(...arguments);Oe(this,"priority",140);Oe(this,"incompatibleTokens",["R","u","t","T"])}parse(r,o,s){switch(o){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})||s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"})}}set(r,o,s){return o.era=s,r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}const Hn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ds={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Wn(e,t){return e&&{value:t(e.value),rest:e.rest}}function xn(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function hs(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const o=r[1]==="+"?1:-1,s=r[2]?parseInt(r[2],10):0,u=r[3]?parseInt(r[3],10):0,h=r[5]?parseInt(r[5],10):0;return{value:o*(s*E_+u*x_+h*VPe),rest:t.slice(r[0].length)}}function kG(e){return xn(Hn.anyDigitsSigned,e)}function Ln(e,t){switch(e){case 1:return xn(Hn.singleDigit,t);case 2:return xn(Hn.twoDigits,t);case 3:return xn(Hn.threeDigits,t);case 4:return xn(Hn.fourDigits,t);default:return xn(new RegExp("^\\d{1,"+e+"}"),t)}}function fw(e,t){switch(e){case 1:return xn(Hn.singleDigitSigned,t);case 2:return xn(Hn.twoDigitsSigned,t);case 3:return xn(Hn.threeDigitsSigned,t);case 4:return xn(Hn.fourDigitsSigned,t);default:return xn(new RegExp("^-?\\d{1,"+e+"}"),t)}}function cI(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function vG(e,t){const r=t>0,o=r?t:1-t;let s;if(o<=50)s=e||100;else{const u=o+50,h=Math.trunc(u/100)*100,m=e>=u%100;s=e+h-(m?100:0)}return r?s:1-s}function wG(e){return e%400===0||e%4===0&&e%100!==0}class JNe extends Ut{constructor(){super(...arguments);Oe(this,"priority",130);Oe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,o,s){const u=h=>({year:h,isTwoDigitYear:o==="yy"});switch(o){case"y":return Wn(Ln(4,r),u);case"yo":return Wn(s.ordinalNumber(r,{unit:"year"}),u);default:return Wn(Ln(o.length,r),u)}}validate(r,o){return o.isTwoDigitYear||o.year>0}set(r,o,s){const u=r.getFullYear();if(s.isTwoDigitYear){const m=vG(s.year,u);return r.setFullYear(m,0,1),r.setHours(0,0,0,0),r}const h=!("era"in o)||o.era===1?s.year:1-s.year;return r.setFullYear(h,0,1),r.setHours(0,0,0,0),r}}class XNe extends Ut{constructor(){super(...arguments);Oe(this,"priority",130);Oe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,o,s){const u=h=>({year:h,isTwoDigitYear:o==="YY"});switch(o){case"Y":return Wn(Ln(4,r),u);case"Yo":return Wn(s.ordinalNumber(r,{unit:"year"}),u);default:return Wn(Ln(o.length,r),u)}}validate(r,o){return o.isTwoDigitYear||o.year>0}set(r,o,s,u){const h=lI(r,u);if(s.isTwoDigitYear){const f=vG(s.year,h);return r.setFullYear(f,0,u.firstWeekContainsDate),r.setHours(0,0,0,0),_a(r,u)}const m=!("era"in o)||o.era===1?s.year:1-s.year;return r.setFullYear(m,0,u.firstWeekContainsDate),r.setHours(0,0,0,0),_a(r,u)}}class e4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",130);Oe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,o){return fw(o==="R"?4:o.length,r)}set(r,o,s){const u=Gt(r,0);return u.setFullYear(s,0,4),u.setHours(0,0,0,0),_h(u)}}class t4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",130);Oe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,o){return fw(o==="u"?4:o.length,r)}set(r,o,s){return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}class n4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",120);Oe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,o,s){switch(o){case"Q":case"QQ":return Ln(o.length,r);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})||s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,o){return o>=1&&o<=4}set(r,o,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}class r4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",120);Oe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,o,s){switch(o){case"q":case"qq":return Ln(o.length,r);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})||s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,o){return o>=1&&o<=4}set(r,o,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}class o4e extends Ut{constructor(){super(...arguments);Oe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Oe(this,"priority",110)}parse(r,o,s){const u=h=>h-1;switch(o){case"M":return Wn(xn(Hn.month,r),u);case"MM":return Wn(Ln(2,r),u);case"Mo":return Wn(s.ordinalNumber(r,{unit:"month"}),u);case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})||s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"})}}validate(r,o){return o>=0&&o<=11}set(r,o,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}class i4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",110);Oe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,o,s){const u=h=>h-1;switch(o){case"L":return Wn(xn(Hn.month,r),u);case"LL":return Wn(Ln(2,r),u);case"Lo":return Wn(s.ordinalNumber(r,{unit:"month"}),u);case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})||s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"})}}validate(r,o){return o>=0&&o<=11}set(r,o,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}function s4e(e,t,r){const o=Le(e),s=pG(o,r)-t;return o.setDate(o.getDate()-s*7),o}class a4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",100);Oe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,o,s){switch(o){case"w":return xn(Hn.week,r);case"wo":return s.ordinalNumber(r,{unit:"week"});default:return Ln(o.length,r)}}validate(r,o){return o>=1&&o<=53}set(r,o,s,u){return _a(s4e(r,s,u),u)}}function l4e(e,t){const r=Le(e),o=aI(r)-t;return r.setDate(r.getDate()-o*7),r}class c4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",100);Oe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,o,s){switch(o){case"I":return xn(Hn.week,r);case"Io":return s.ordinalNumber(r,{unit:"week"});default:return Ln(o.length,r)}}validate(r,o){return o>=1&&o<=53}set(r,o,s){return _h(l4e(r,s))}}const u4e=[31,28,31,30,31,30,31,31,30,31,30,31],d4e=[31,29,31,30,31,30,31,31,30,31,30,31];class h4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",90);Oe(this,"subPriority",1);Oe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,o,s){switch(o){case"d":return xn(Hn.date,r);case"do":return s.ordinalNumber(r,{unit:"date"});default:return Ln(o.length,r)}}validate(r,o){const s=r.getFullYear(),u=wG(s),h=r.getMonth();return u?o>=1&&o<=d4e[h]:o>=1&&o<=u4e[h]}set(r,o,s){return r.setDate(s),r.setHours(0,0,0,0),r}}class p4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",90);Oe(this,"subpriority",1);Oe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,o,s){switch(o){case"D":case"DD":return xn(Hn.dayOfYear,r);case"Do":return s.ordinalNumber(r,{unit:"date"});default:return Ln(o.length,r)}}validate(r,o){const s=r.getFullYear();return wG(s)?o>=1&&o<=366:o>=1&&o<=365}set(r,o,s){return r.setMonth(0,s),r.setHours(0,0,0,0),r}}function uI(e,t,r){var _,y,A,S;const o=wu(),s=(r==null?void 0:r.weekStartsOn)??((y=(_=r==null?void 0:r.locale)==null?void 0:_.options)==null?void 0:y.weekStartsOn)??o.weekStartsOn??((S=(A=o.locale)==null?void 0:A.options)==null?void 0:S.weekStartsOn)??0,u=Le(e),h=u.getDay(),f=(t%7+7)%7,k=7-s,v=t<0||t>6?t-(h+k)%7:(f+k)%7-(h+k)%7;return jl(u,v)}class f4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",90);Oe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,o,s){switch(o){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,o){return o>=0&&o<=6}set(r,o,s,u){return r=uI(r,s,u),r.setHours(0,0,0,0),r}}class m4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",90);Oe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,o,s,u){const h=m=>{const f=Math.floor((m-1)/7)*7;return(m+u.weekStartsOn+6)%7+f};switch(o){case"e":case"ee":return Wn(Ln(o.length,r),h);case"eo":return Wn(s.ordinalNumber(r,{unit:"day"}),h);case"eee":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,o){return o>=0&&o<=6}set(r,o,s,u){return r=uI(r,s,u),r.setHours(0,0,0,0),r}}class g4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",90);Oe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,o,s,u){const h=m=>{const f=Math.floor((m-1)/7)*7;return(m+u.weekStartsOn+6)%7+f};switch(o){case"c":case"cc":return Wn(Ln(o.length,r),h);case"co":return Wn(s.ordinalNumber(r,{unit:"day"}),h);case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(r,{width:"wide",context:"standalone"})||s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"})}}validate(r,o){return o>=0&&o<=6}set(r,o,s,u){return r=uI(r,s,u),r.setHours(0,0,0,0),r}}function b4e(e){let r=Le(e).getDay();return r===0&&(r=7),r}function k4e(e,t){const r=Le(e),o=b4e(r),s=t-o;return jl(r,s)}class v4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",90);Oe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,o,s){const u=h=>h===0?7:h;switch(o){case"i":case"ii":return Ln(o.length,r);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return Wn(s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),u);case"iiiii":return Wn(s.day(r,{width:"narrow",context:"formatting"}),u);case"iiiiii":return Wn(s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),u);case"iiii":default:return Wn(s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),u)}}validate(r,o){return o>=1&&o<=7}set(r,o,s){return r=k4e(r,s),r.setHours(0,0,0,0),r}}class w4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",80);Oe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,o,s){switch(o){case"a":case"aa":case"aaa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,o,s){return r.setHours(cI(s),0,0,0),r}}class y4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",80);Oe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,o,s){switch(o){case"b":case"bb":case"bbb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,o,s){return r.setHours(cI(s),0,0,0),r}}class _4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",80);Oe(this,"incompatibleTokens",["a","b","t","T"])}parse(r,o,s){switch(o){case"B":case"BB":case"BBB":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,o,s){return r.setHours(cI(s),0,0,0),r}}class C4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",70);Oe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,o,s){switch(o){case"h":return xn(Hn.hour12h,r);case"ho":return s.ordinalNumber(r,{unit:"hour"});default:return Ln(o.length,r)}}validate(r,o){return o>=1&&o<=12}set(r,o,s){const u=r.getHours()>=12;return u&&s<12?r.setHours(s+12,0,0,0):!u&&s===12?r.setHours(0,0,0,0):r.setHours(s,0,0,0),r}}class A4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",70);Oe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,o,s){switch(o){case"H":return xn(Hn.hour23h,r);case"Ho":return s.ordinalNumber(r,{unit:"hour"});default:return Ln(o.length,r)}}validate(r,o){return o>=0&&o<=23}set(r,o,s){return r.setHours(s,0,0,0),r}}class x4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",70);Oe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,o,s){switch(o){case"K":return xn(Hn.hour11h,r);case"Ko":return s.ordinalNumber(r,{unit:"hour"});default:return Ln(o.length,r)}}validate(r,o){return o>=0&&o<=11}set(r,o,s){return r.getHours()>=12&&s<12?r.setHours(s+12,0,0,0):r.setHours(s,0,0,0),r}}class E4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",70);Oe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,o,s){switch(o){case"k":return xn(Hn.hour24h,r);case"ko":return s.ordinalNumber(r,{unit:"hour"});default:return Ln(o.length,r)}}validate(r,o){return o>=1&&o<=24}set(r,o,s){const u=s<=24?s%24:s;return r.setHours(u,0,0,0),r}}class S4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",60);Oe(this,"incompatibleTokens",["t","T"])}parse(r,o,s){switch(o){case"m":return xn(Hn.minute,r);case"mo":return s.ordinalNumber(r,{unit:"minute"});default:return Ln(o.length,r)}}validate(r,o){return o>=0&&o<=59}set(r,o,s){return r.setMinutes(s,0,0),r}}class D4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",50);Oe(this,"incompatibleTokens",["t","T"])}parse(r,o,s){switch(o){case"s":return xn(Hn.second,r);case"so":return s.ordinalNumber(r,{unit:"second"});default:return Ln(o.length,r)}}validate(r,o){return o>=0&&o<=59}set(r,o,s){return r.setSeconds(s,0),r}}class T4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",30);Oe(this,"incompatibleTokens",["t","T"])}parse(r,o){const s=u=>Math.trunc(u*Math.pow(10,-o.length+3));return Wn(Ln(o.length,r),s)}set(r,o,s){return r.setMilliseconds(s),r}}class I4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",10);Oe(this,"incompatibleTokens",["t","T","x"])}parse(r,o){switch(o){case"X":return hs(ds.basicOptionalMinutes,r);case"XX":return hs(ds.basic,r);case"XXXX":return hs(ds.basicOptionalSeconds,r);case"XXXXX":return hs(ds.extendedOptionalSeconds,r);case"XXX":default:return hs(ds.extended,r)}}set(r,o,s){return o.timestampIsSet?r:Gt(r,r.getTime()-lw(r)-s)}}class M4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",10);Oe(this,"incompatibleTokens",["t","T","X"])}parse(r,o){switch(o){case"x":return hs(ds.basicOptionalMinutes,r);case"xx":return hs(ds.basic,r);case"xxxx":return hs(ds.basicOptionalSeconds,r);case"xxxxx":return hs(ds.extendedOptionalSeconds,r);case"xxx":default:return hs(ds.extended,r)}}set(r,o,s){return o.timestampIsSet?r:Gt(r,r.getTime()-lw(r)-s)}}class P4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",40);Oe(this,"incompatibleTokens","*")}parse(r){return kG(r)}set(r,o,s){return[Gt(r,s*1e3),{timestampIsSet:!0}]}}class N4e extends Ut{constructor(){super(...arguments);Oe(this,"priority",20);Oe(this,"incompatibleTokens","*")}parse(r){return kG(r)}set(r,o,s){return[Gt(r,s),{timestampIsSet:!0}]}}const R4e={G:new ZNe,y:new JNe,Y:new XNe,R:new e4e,u:new t4e,Q:new n4e,q:new r4e,M:new o4e,L:new i4e,w:new a4e,I:new c4e,d:new h4e,D:new p4e,E:new f4e,e:new m4e,c:new g4e,i:new v4e,a:new w4e,b:new y4e,B:new _4e,h:new C4e,H:new A4e,K:new x4e,k:new E4e,m:new S4e,s:new D4e,S:new T4e,X:new I4e,x:new M4e,t:new P4e,T:new N4e},O4e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,B4e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,L4e=/^'([^]*?)'?$/,j4e=/''/g,F4e=/\S/,z4e=/[a-zA-Z]/;function cx(e,t,r,o){var E,I,T,R,O,j,$,H;const s=qNe(),u=(o==null?void 0:o.locale)??s.locale??dG,h=(o==null?void 0:o.firstWeekContainsDate)??((I=(E=o==null?void 0:o.locale)==null?void 0:E.options)==null?void 0:I.firstWeekContainsDate)??s.firstWeekContainsDate??((R=(T=s.locale)==null?void 0:T.options)==null?void 0:R.firstWeekContainsDate)??1,m=(o==null?void 0:o.weekStartsOn)??((j=(O=o==null?void 0:o.locale)==null?void 0:O.options)==null?void 0:j.weekStartsOn)??s.weekStartsOn??((H=($=s.locale)==null?void 0:$.options)==null?void 0:H.weekStartsOn)??0;if(t==="")return e===""?Le(r):Gt(r,NaN);const f={firstWeekContainsDate:h,weekStartsOn:m,locale:u},k=[new QNe],v=t.match(B4e).map(P=>{const z=P[0];if(z in hw){const q=hw[z];return q(P,u.formatLong)}return P}).join("").match(O4e),_=[];for(let P of v){!(o!=null&&o.useAdditionalWeekYearTokens)&&gG(P)&&kS(P,t,e),!(o!=null&&o.useAdditionalDayOfYearTokens)&&mG(P)&&kS(P,t,e);const z=P[0],q=R4e[z];if(q){const{incompatibleTokens:K}=q;if(Array.isArray(K)){const te=_.find(X=>K.includes(X.token)||X.token===z);if(te)throw new RangeError(`The format string mustn't contain \`${te.fullToken}\` and \`${P}\` at the same time`)}else if(q.incompatibleTokens==="*"&&_.length>0)throw new RangeError(`The format string mustn't contain \`${P}\` and any other token at the same time`);_.push({token:z,fullToken:P});const Q=q.run(e,P,u.match,f);if(!Q)return Gt(r,NaN);k.push(Q.setter),e=Q.rest}else{if(z.match(z4e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+z+"`");if(P==="''"?P="'":z==="'"&&(P=$4e(P)),e.indexOf(P)===0)e=e.slice(P.length);else return Gt(r,NaN)}}if(e.length>0&&F4e.test(e))return Gt(r,NaN);const y=k.map(P=>P.priority).sort((P,z)=>z-P).filter((P,z,q)=>q.indexOf(P)===z).map(P=>k.filter(z=>z.priority===P).sort((z,q)=>q.subPriority-z.subPriority)).map(P=>P[0]);let A=Le(r);if(isNaN(A.getTime()))return Gt(r,NaN);const S={};for(const P of y){if(!P.validate(A,f))return Gt(r,NaN);const z=P.set(A,S,f);Array.isArray(z)?(A=z[0],Object.assign(S,z[1])):A=z}return Gt(r,A)}function $4e(e){return e.match(L4e)[1].replace(j4e,"'")}function V4e(e,t){const o=q4e(e);let s;if(o.date){const f=G4e(o.date,2);s=K4e(f.restDateString,f.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const u=s.getTime();let h=0,m;if(o.time&&(h=Y4e(o.time),isNaN(h)))return new Date(NaN);if(o.timezone){if(m=Q4e(o.timezone),isNaN(m))return new Date(NaN)}else{const f=new Date(u+h),k=new Date(0);return k.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),k.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),k}return new Date(u+h+m)}const hv={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},U4e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,H4e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,W4e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function q4e(e){const t={},r=e.split(hv.dateTimeDelimiter);let o;if(r.length>2)return t;if(/:/.test(r[0])?o=r[0]:(t.date=r[0],o=r[1],hv.timeZoneDelimiter.test(t.date)&&(t.date=e.split(hv.timeZoneDelimiter)[0],o=e.substr(t.date.length,e.length))),o){const s=hv.timezone.exec(o);s?(t.time=o.replace(s[1],""),t.timezone=s[1]):t.time=o}return t}function G4e(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),o=e.match(r);if(!o)return{year:NaN,restDateString:""};const s=o[1]?parseInt(o[1]):null,u=o[2]?parseInt(o[2]):null;return{year:u===null?s:u*100,restDateString:e.slice((o[1]||o[2]).length)}}function K4e(e,t){if(t===null)return new Date(NaN);const r=e.match(U4e);if(!r)return new Date(NaN);const o=!!r[4],s=kf(r[1]),u=kf(r[2])-1,h=kf(r[3]),m=kf(r[4]),f=kf(r[5])-1;if(o)return tRe(t,m,f)?Z4e(t,m,f):new Date(NaN);{const k=new Date(0);return!X4e(t,u,h)||!eRe(t,s)?new Date(NaN):(k.setUTCFullYear(t,u,Math.max(s,h)),k)}}function kf(e){return e?parseInt(e):1}function Y4e(e){const t=e.match(H4e);if(!t)return NaN;const r=ux(t[1]),o=ux(t[2]),s=ux(t[3]);return nRe(r,o,s)?r*E_+o*x_+s*1e3:NaN}function ux(e){return e&&parseFloat(e.replace(",","."))||0}function Q4e(e){if(e==="Z")return 0;const t=e.match(W4e);if(!t)return 0;const r=t[1]==="+"?-1:1,o=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return rRe(o,s)?r*(o*E_+s*x_):NaN}function Z4e(e,t,r){const o=new Date(0);o.setUTCFullYear(e,0,4);const s=o.getUTCDay()||7,u=(t-1)*7+r+1-s;return o.setUTCDate(o.getUTCDate()+u),o}const J4e=[31,null,31,30,31,30,31,31,30,31,30,31];function yG(e){return e%400===0||e%4===0&&e%100!==0}function X4e(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(J4e[t]||(yG(e)?29:28))}function eRe(e,t){return t>=1&&t<=(yG(e)?366:365)}function tRe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function nRe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function rRe(e,t){return t>=0&&t<=59}function oRe(e){const t=Le(e),r=t.getFullYear(),o=t.getMonth(),s=Gt(e,0);return s.setFullYear(r,o+1,0),s.setHours(0,0,0,0),s.getDate()}function Oo(e,t){const r=Le(e),o=r.getFullYear(),s=r.getDate(),u=Gt(e,0);u.setFullYear(o,t,15),u.setHours(0,0,0,0);const h=oRe(u);return r.setMonth(t,Math.min(s,h)),r}function iRe(e,t){let r=Le(e);return isNaN(+r)?Gt(e,NaN):(t.year!=null&&r.setFullYear(t.year),t.month!=null&&(r=Oo(r,t.month)),t.date!=null&&r.setDate(t.date),t.hours!=null&&r.setHours(t.hours),t.minutes!=null&&r.setMinutes(t.minutes),t.seconds!=null&&r.setSeconds(t.seconds),t.milliseconds!=null&&r.setMilliseconds(t.milliseconds),r)}function Kv(e,t){const r=Le(e);return r.setHours(t),r}function Yv(e,t){const r=Le(e);return r.setMinutes(t),r}function pd(e,t){const r=Le(e),o=Math.trunc(r.getMonth()/3)+1,s=t-o;return Oo(r,r.getMonth()+s*3)}function Qv(e,t){const r=Le(e);return r.setSeconds(t),r}function is(e,t){const r=Le(e);return isNaN(+r)?Gt(e,NaN):(r.setFullYear(t),r)}function _G(e){const t=Le(e);return t.setDate(1),t.setHours(0,0,0,0),t}function sRe(e,t){return jl(e,-t)}function Ch(e,t){return qi(e,-t)}function CG(e,t){return sI(e,-t)}function d9(e,t){return aw(e,-t)}function Ah(e,t){return aa(e,-t)}function Qh(e){return AG(e)?(e.nodeName||"").toLowerCase():"#document"}function Vo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function xa(e){var t;return(t=(AG(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function AG(e){return e instanceof Node||e instanceof Vo(e).Node}function Xr(e){return e instanceof Element||e instanceof Vo(e).Element}function Is(e){return e instanceof HTMLElement||e instanceof Vo(e).HTMLElement}function h9(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Vo(e).ShadowRoot}function Gg(e){const{overflow:t,overflowX:r,overflowY:o,display:s}=Ai(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+r)&&!["inline","contents"].includes(s)}function aRe(e){return["table","td","th"].includes(Qh(e))}function D_(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function dI(e){const t=hI(),r=Xr(e)?Ai(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(r.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(r.contain||"").includes(o))}function lRe(e){let t=xl(e);for(;Is(t)&&!xh(t);){if(dI(t))return t;if(D_(t))return null;t=xl(t)}return null}function hI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xh(e){return["html","body","#document"].includes(Qh(e))}function Ai(e){return Vo(e).getComputedStyle(e)}function T_(e){return Xr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xl(e){if(Qh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||h9(e)&&e.host||xa(e);return h9(t)?t.host:t}function xG(e){const t=xl(e);return xh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Is(t)&&Gg(t)?t:xG(t)}function rg(e,t,r){var o;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=xG(e),u=s===((o=e.ownerDocument)==null?void 0:o.body),h=Vo(s);return u?t.concat(h,h.visualViewport||[],Gg(s)?s:[],h.frameElement&&r?rg(h.frameElement):[]):t.concat(s,rg(s,[],r))}const Eh=Math.min,Oc=Math.max,mw=Math.round,pv=Math.floor,El=e=>({x:e,y:e}),cRe={left:"right",right:"left",bottom:"top",top:"bottom"},uRe={start:"end",end:"start"};function dRe(e,t,r){return Oc(e,Eh(t,r))}function I_(e,t){return typeof e=="function"?e(t):e}function Sh(e){return e.split("-")[0]}function Kg(e){return e.split("-")[1]}function hRe(e){return e==="x"?"y":"x"}function pI(e){return e==="y"?"height":"width"}function og(e){return["top","bottom"].includes(Sh(e))?"y":"x"}function fI(e){return hRe(og(e))}function pRe(e,t,r){r===void 0&&(r=!1);const o=Kg(e),s=fI(e),u=pI(s);let h=s==="x"?o===(r?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[u]>t.floating[u]&&(h=gw(h)),[h,gw(h)]}function fRe(e){const t=gw(e);return[yS(e),t,yS(t)]}function yS(e){return e.replace(/start|end/g,t=>uRe[t])}function mRe(e,t,r){const o=["left","right"],s=["right","left"],u=["top","bottom"],h=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:o:t?o:s;case"left":case"right":return t?u:h;default:return[]}}function gRe(e,t,r,o){const s=Kg(e);let u=mRe(Sh(e),r==="start",o);return s&&(u=u.map(h=>h+"-"+s),t&&(u=u.concat(u.map(yS)))),u}function gw(e){return e.replace(/left|right|bottom|top/g,t=>cRe[t])}function bRe(e){return{top:0,right:0,bottom:0,left:0,...e}}function EG(e){return typeof e!="number"?bRe(e):{top:e,right:e,bottom:e,left:e}}function bw(e){const{x:t,y:r,width:o,height:s}=e;return{width:o,height:s,top:r,left:t,right:t+o,bottom:r+s,x:t,y:r}}function p9(e,t,r){let{reference:o,floating:s}=e;const u=og(t),h=fI(t),m=pI(h),f=Sh(t),k=u==="y",v=o.x+o.width/2-s.width/2,_=o.y+o.height/2-s.height/2,y=o[m]/2-s[m]/2;let A;switch(f){case"top":A={x:v,y:o.y-s.height};break;case"bottom":A={x:v,y:o.y+o.height};break;case"right":A={x:o.x+o.width,y:_};break;case"left":A={x:o.x-s.width,y:_};break;default:A={x:o.x,y:o.y}}switch(Kg(t)){case"start":A[h]-=y*(r&&k?-1:1);break;case"end":A[h]+=y*(r&&k?-1:1);break}return A}const kRe=async(e,t,r)=>{const{placement:o="bottom",strategy:s="absolute",middleware:u=[],platform:h}=r,m=u.filter(Boolean),f=await(h.isRTL==null?void 0:h.isRTL(t));let k=await h.getElementRects({reference:e,floating:t,strategy:s}),{x:v,y:_}=p9(k,o,f),y=o,A={},S=0;for(let E=0;E<m.length;E++){const{name:I,fn:T}=m[E],{x:R,y:O,data:j,reset:$}=await T({x:v,y:_,initialPlacement:o,placement:y,strategy:s,middlewareData:A,rects:k,platform:h,elements:{reference:e,floating:t}});v=R??v,_=O??_,A={...A,[I]:{...A[I],...j}},$&&S<=50&&(S++,typeof $=="object"&&($.placement&&(y=$.placement),$.rects&&(k=$.rects===!0?await h.getElementRects({reference:e,floating:t,strategy:s}):$.rects),{x:v,y:_}=p9(k,y,f)),E=-1)}return{x:v,y:_,placement:y,strategy:s,middlewareData:A}};async function vRe(e,t){var r;t===void 0&&(t={});const{x:o,y:s,platform:u,rects:h,elements:m,strategy:f}=e,{boundary:k="clippingAncestors",rootBoundary:v="viewport",elementContext:_="floating",altBoundary:y=!1,padding:A=0}=I_(t,e),S=EG(A),I=m[y?_==="floating"?"reference":"floating":_],T=bw(await u.getClippingRect({element:(r=await(u.isElement==null?void 0:u.isElement(I)))==null||r?I:I.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(m.floating)),boundary:k,rootBoundary:v,strategy:f})),R=_==="floating"?{x:o,y:s,width:h.floating.width,height:h.floating.height}:h.reference,O=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m.floating)),j=await(u.isElement==null?void 0:u.isElement(O))?await(u.getScale==null?void 0:u.getScale(O))||{x:1,y:1}:{x:1,y:1},$=bw(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:R,offsetParent:O,strategy:f}):R);return{top:(T.top-$.top+S.top)/j.y,bottom:($.bottom-T.bottom+S.bottom)/j.y,left:(T.left-$.left+S.left)/j.x,right:($.right-T.right+S.right)/j.x}}const wRe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:o,placement:s,rects:u,platform:h,elements:m,middlewareData:f}=t,{element:k,padding:v=0}=I_(e,t)||{};if(k==null)return{};const _=EG(v),y={x:r,y:o},A=fI(s),S=pI(A),E=await h.getDimensions(k),I=A==="y",T=I?"top":"left",R=I?"bottom":"right",O=I?"clientHeight":"clientWidth",j=u.reference[S]+u.reference[A]-y[A]-u.floating[S],$=y[A]-u.reference[A],H=await(h.getOffsetParent==null?void 0:h.getOffsetParent(k));let P=H?H[O]:0;(!P||!await(h.isElement==null?void 0:h.isElement(H)))&&(P=m.floating[O]||u.floating[S]);const z=j/2-$/2,q=P/2-E[S]/2-1,K=Eh(_[T],q),Q=Eh(_[R],q),te=K,X=P-E[S]-Q,Z=P/2-E[S]/2+z,J=dRe(te,Z,X),ee=!f.arrow&&Kg(s)!=null&&Z!==J&&u.reference[S]/2-(Z<te?K:Q)-E[S]/2<0,ne=ee?Z<te?Z-te:Z-X:0;return{[A]:y[A]+ne,data:{[A]:J,centerOffset:Z-J-ne,...ee&&{alignmentOffset:ne}},reset:ee}}}),yRe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,o;const{placement:s,middlewareData:u,rects:h,initialPlacement:m,platform:f,elements:k}=t,{mainAxis:v=!0,crossAxis:_=!0,fallbackPlacements:y,fallbackStrategy:A="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:E=!0,...I}=I_(e,t);if((r=u.arrow)!=null&&r.alignmentOffset)return{};const T=Sh(s),R=og(m),O=Sh(m)===m,j=await(f.isRTL==null?void 0:f.isRTL(k.floating)),$=y||(O||!E?[gw(m)]:fRe(m)),H=S!=="none";!y&&H&&$.push(...gRe(m,E,S,j));const P=[m,...$],z=await vRe(t,I),q=[];let K=((o=u.flip)==null?void 0:o.overflows)||[];if(v&&q.push(z[T]),_){const Z=pRe(s,h,j);q.push(z[Z[0]],z[Z[1]])}if(K=[...K,{placement:s,overflows:q}],!q.every(Z=>Z<=0)){var Q,te;const Z=(((Q=u.flip)==null?void 0:Q.index)||0)+1,J=P[Z];if(J)return{data:{index:Z,overflows:K},reset:{placement:J}};let ee=(te=K.filter(ne=>ne.overflows[0]<=0).sort((ne,G)=>ne.overflows[1]-G.overflows[1])[0])==null?void 0:te.placement;if(!ee)switch(A){case"bestFit":{var X;const ne=(X=K.filter(G=>{if(H){const re=og(G.placement);return re===R||re==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(re=>re>0).reduce((re,de)=>re+de,0)]).sort((G,re)=>G[1]-re[1])[0])==null?void 0:X[0];ne&&(ee=ne);break}case"initialPlacement":ee=m;break}if(s!==ee)return{reset:{placement:ee}}}return{}}}};async function _Re(e,t){const{placement:r,platform:o,elements:s}=e,u=await(o.isRTL==null?void 0:o.isRTL(s.floating)),h=Sh(r),m=Kg(r),f=og(r)==="y",k=["left","top"].includes(h)?-1:1,v=u&&f?-1:1,_=I_(t,e);let{mainAxis:y,crossAxis:A,alignmentAxis:S}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,..._};return m&&typeof S=="number"&&(A=m==="end"?S*-1:S),f?{x:A*v,y:y*k}:{x:y*k,y:A*v}}const CRe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,o;const{x:s,y:u,placement:h,middlewareData:m}=t,f=await _Re(t,e);return h===((r=m.offset)==null?void 0:r.placement)&&(o=m.arrow)!=null&&o.alignmentOffset?{}:{x:s+f.x,y:u+f.y,data:{...f,placement:h}}}}};function SG(e){const t=Ai(e);let r=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const s=Is(e),u=s?e.offsetWidth:r,h=s?e.offsetHeight:o,m=mw(r)!==u||mw(o)!==h;return m&&(r=u,o=h),{width:r,height:o,$:m}}function mI(e){return Xr(e)?e:e.contextElement}function Hd(e){const t=mI(e);if(!Is(t))return El(1);const r=t.getBoundingClientRect(),{width:o,height:s,$:u}=SG(t);let h=(u?mw(r.width):r.width)/o,m=(u?mw(r.height):r.height)/s;return(!h||!Number.isFinite(h))&&(h=1),(!m||!Number.isFinite(m))&&(m=1),{x:h,y:m}}const ARe=El(0);function DG(e){const t=Vo(e);return!hI()||!t.visualViewport?ARe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function xRe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Vo(e)?!1:t}function nu(e,t,r,o){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),u=mI(e);let h=El(1);t&&(o?Xr(o)&&(h=Hd(o)):h=Hd(e));const m=xRe(u,r,o)?DG(u):El(0);let f=(s.left+m.x)/h.x,k=(s.top+m.y)/h.y,v=s.width/h.x,_=s.height/h.y;if(u){const y=Vo(u),A=o&&Xr(o)?Vo(o):o;let S=y,E=S.frameElement;for(;E&&o&&A!==S;){const I=Hd(E),T=E.getBoundingClientRect(),R=Ai(E),O=T.left+(E.clientLeft+parseFloat(R.paddingLeft))*I.x,j=T.top+(E.clientTop+parseFloat(R.paddingTop))*I.y;f*=I.x,k*=I.y,v*=I.x,_*=I.y,f+=O,k+=j,S=Vo(E),E=S.frameElement}}return bw({width:v,height:_,x:f,y:k})}function ERe(e){let{elements:t,rect:r,offsetParent:o,strategy:s}=e;const u=s==="fixed",h=xa(o),m=t?D_(t.floating):!1;if(o===h||m&&u)return r;let f={scrollLeft:0,scrollTop:0},k=El(1);const v=El(0),_=Is(o);if((_||!_&&!u)&&((Qh(o)!=="body"||Gg(h))&&(f=T_(o)),Is(o))){const y=nu(o);k=Hd(o),v.x=y.x+o.clientLeft,v.y=y.y+o.clientTop}return{width:r.width*k.x,height:r.height*k.y,x:r.x*k.x-f.scrollLeft*k.x+v.x,y:r.y*k.y-f.scrollTop*k.y+v.y}}function SRe(e){return Array.from(e.getClientRects())}function TG(e){return nu(xa(e)).left+T_(e).scrollLeft}function DRe(e){const t=xa(e),r=T_(e),o=e.ownerDocument.body,s=Oc(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),u=Oc(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let h=-r.scrollLeft+TG(e);const m=-r.scrollTop;return Ai(o).direction==="rtl"&&(h+=Oc(t.clientWidth,o.clientWidth)-s),{width:s,height:u,x:h,y:m}}function TRe(e,t){const r=Vo(e),o=xa(e),s=r.visualViewport;let u=o.clientWidth,h=o.clientHeight,m=0,f=0;if(s){u=s.width,h=s.height;const k=hI();(!k||k&&t==="fixed")&&(m=s.offsetLeft,f=s.offsetTop)}return{width:u,height:h,x:m,y:f}}function IRe(e,t){const r=nu(e,!0,t==="fixed"),o=r.top+e.clientTop,s=r.left+e.clientLeft,u=Is(e)?Hd(e):El(1),h=e.clientWidth*u.x,m=e.clientHeight*u.y,f=s*u.x,k=o*u.y;return{width:h,height:m,x:f,y:k}}function f9(e,t,r){let o;if(t==="viewport")o=TRe(e,r);else if(t==="document")o=DRe(xa(e));else if(Xr(t))o=IRe(t,r);else{const s=DG(e);o={...t,x:t.x-s.x,y:t.y-s.y}}return bw(o)}function IG(e,t){const r=xl(e);return r===t||!Xr(r)||xh(r)?!1:Ai(r).position==="fixed"||IG(r,t)}function MRe(e,t){const r=t.get(e);if(r)return r;let o=rg(e,[],!1).filter(m=>Xr(m)&&Qh(m)!=="body"),s=null;const u=Ai(e).position==="fixed";let h=u?xl(e):e;for(;Xr(h)&&!xh(h);){const m=Ai(h),f=dI(h);!f&&m.position==="fixed"&&(s=null),(u?!f&&!s:!f&&m.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Gg(h)&&!f&&IG(e,h))?o=o.filter(v=>v!==h):s=m,h=xl(h)}return t.set(e,o),o}function PRe(e){let{element:t,boundary:r,rootBoundary:o,strategy:s}=e;const h=[...r==="clippingAncestors"?D_(t)?[]:MRe(t,this._c):[].concat(r),o],m=h[0],f=h.reduce((k,v)=>{const _=f9(t,v,s);return k.top=Oc(_.top,k.top),k.right=Eh(_.right,k.right),k.bottom=Eh(_.bottom,k.bottom),k.left=Oc(_.left,k.left),k},f9(t,m,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function NRe(e){const{width:t,height:r}=SG(e);return{width:t,height:r}}function RRe(e,t,r){const o=Is(t),s=xa(t),u=r==="fixed",h=nu(e,!0,u,t);let m={scrollLeft:0,scrollTop:0};const f=El(0);if(o||!o&&!u)if((Qh(t)!=="body"||Gg(s))&&(m=T_(t)),o){const _=nu(t,!0,u,t);f.x=_.x+t.clientLeft,f.y=_.y+t.clientTop}else s&&(f.x=TG(s));const k=h.left+m.scrollLeft-f.x,v=h.top+m.scrollTop-f.y;return{x:k,y:v,width:h.width,height:h.height}}function dx(e){return Ai(e).position==="static"}function m9(e,t){return!Is(e)||Ai(e).position==="fixed"?null:t?t(e):e.offsetParent}function MG(e,t){const r=Vo(e);if(D_(e))return r;if(!Is(e)){let s=xl(e);for(;s&&!xh(s);){if(Xr(s)&&!dx(s))return s;s=xl(s)}return r}let o=m9(e,t);for(;o&&aRe(o)&&dx(o);)o=m9(o,t);return o&&xh(o)&&dx(o)&&!dI(o)?r:o||lRe(e)||r}const ORe=async function(e){const t=this.getOffsetParent||MG,r=this.getDimensions,o=await r(e.floating);return{reference:RRe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function BRe(e){return Ai(e).direction==="rtl"}const LRe={convertOffsetParentRelativeRectToViewportRelativeRect:ERe,getDocumentElement:xa,getClippingRect:PRe,getOffsetParent:MG,getElementRects:ORe,getClientRects:SRe,getDimensions:NRe,getScale:Hd,isElement:Xr,isRTL:BRe};function jRe(e,t){let r=null,o;const s=xa(e);function u(){var m;clearTimeout(o),(m=r)==null||m.disconnect(),r=null}function h(m,f){m===void 0&&(m=!1),f===void 0&&(f=1),u();const{left:k,top:v,width:_,height:y}=e.getBoundingClientRect();if(m||t(),!_||!y)return;const A=pv(v),S=pv(s.clientWidth-(k+_)),E=pv(s.clientHeight-(v+y)),I=pv(k),R={rootMargin:-A+"px "+-S+"px "+-E+"px "+-I+"px",threshold:Oc(0,Eh(1,f))||1};let O=!0;function j($){const H=$[0].intersectionRatio;if(H!==f){if(!O)return h();H?h(!1,H):o=setTimeout(()=>{h(!1,1e-7)},1e3)}O=!1}try{r=new IntersectionObserver(j,{...R,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,R)}r.observe(e)}return h(!0),u}function FRe(e,t,r,o){o===void 0&&(o={});const{ancestorScroll:s=!0,ancestorResize:u=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:f=!1}=o,k=mI(e),v=s||u?[...k?rg(k):[],...rg(t)]:[];v.forEach(T=>{s&&T.addEventListener("scroll",r,{passive:!0}),u&&T.addEventListener("resize",r)});const _=k&&m?jRe(k,r):null;let y=-1,A=null;h&&(A=new ResizeObserver(T=>{let[R]=T;R&&R.target===k&&A&&(A.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var O;(O=A)==null||O.observe(t)})),r()}),k&&!f&&A.observe(k),A.observe(t));let S,E=f?nu(e):null;f&&I();function I(){const T=nu(e);E&&(T.x!==E.x||T.y!==E.y||T.width!==E.width||T.height!==E.height)&&r(),E=T,S=requestAnimationFrame(I)}return r(),()=>{var T;v.forEach(R=>{s&&R.removeEventListener("scroll",r),u&&R.removeEventListener("resize",r)}),_==null||_(),(T=A)==null||T.disconnect(),A=null,f&&cancelAnimationFrame(S)}}const zRe=CRe,$Re=yRe,g9=wRe,VRe=(e,t,r)=>{const o=new Map,s={platform:LRe,...r},u={...s.platform,_c:o};return kRe(e,t,{...s,platform:u})};var Zv=typeof document<"u"?L.useLayoutEffect:L.useEffect;function kw(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,o,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(o=r;o--!==0;)if(!kw(e[o],t[o]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!{}.hasOwnProperty.call(t,s[o]))return!1;for(o=r;o--!==0;){const u=s[o];if(!(u==="_owner"&&e.$$typeof)&&!kw(e[u],t[u]))return!1}return!0}return e!==e&&t!==t}function PG(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function b9(e,t){const r=PG(e);return Math.round(t*r)/r}function k9(e){const t=L.useRef(e);return Zv(()=>{t.current=e}),t}function URe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:o=[],platform:s,elements:{reference:u,floating:h}={},transform:m=!0,whileElementsMounted:f,open:k}=e,[v,_]=L.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[y,A]=L.useState(o);kw(y,o)||A(o);const[S,E]=L.useState(null),[I,T]=L.useState(null),R=L.useCallback(ne=>{ne!==H.current&&(H.current=ne,E(ne))},[]),O=L.useCallback(ne=>{ne!==P.current&&(P.current=ne,T(ne))},[]),j=u||S,$=h||I,H=L.useRef(null),P=L.useRef(null),z=L.useRef(v),q=f!=null,K=k9(f),Q=k9(s),te=L.useCallback(()=>{if(!H.current||!P.current)return;const ne={placement:t,strategy:r,middleware:y};Q.current&&(ne.platform=Q.current),VRe(H.current,P.current,ne).then(G=>{const re={...G,isPositioned:!0};X.current&&!kw(z.current,re)&&(z.current=re,ug.flushSync(()=>{_(re)}))})},[y,t,r,Q]);Zv(()=>{k===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,_(ne=>({...ne,isPositioned:!1})))},[k]);const X=L.useRef(!1);Zv(()=>(X.current=!0,()=>{X.current=!1}),[]),Zv(()=>{if(j&&(H.current=j),$&&(P.current=$),j&&$){if(K.current)return K.current(j,$,te);te()}},[j,$,te,K,q]);const Z=L.useMemo(()=>({reference:H,floating:P,setReference:R,setFloating:O}),[R,O]),J=L.useMemo(()=>({reference:j,floating:$}),[j,$]),ee=L.useMemo(()=>{const ne={position:r,left:0,top:0};if(!J.floating)return ne;const G=b9(J.floating,v.x),re=b9(J.floating,v.y);return m?{...ne,transform:"translate("+G+"px, "+re+"px)",...PG(J.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:G,top:re}},[r,m,J.floating,v.x,v.y]);return L.useMemo(()=>({...v,update:te,refs:Z,elements:J,floatingStyles:ee}),[v,te,Z,J,ee])}const HRe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:o,padding:s}=typeof e=="function"?e(r):e;return o&&t(o)?o.current!=null?g9({element:o.current,padding:s}).fn(r):{}:o?g9({element:o,padding:s}).fn(r):{}}}},WRe=(e,t)=>({...zRe(e),options:[e,t]}),qRe=(e,t)=>({...$Re(e),options:[e,t]}),GRe=(e,t)=>({...HRe(e),options:[e,t]}),NG={...sm},KRe=NG.useInsertionEffect,YRe=KRe||(e=>e());function QRe(e){const t=L.useRef(()=>{});return YRe(()=>{t.current=e}),L.useCallback(function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t.current==null?void 0:t.current(...o)},[])}var vw=typeof document<"u"?L.useLayoutEffect:L.useEffect;function _S(){return _S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},_S.apply(this,arguments)}let v9=!1,ZRe=0;const w9=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+ZRe++;function JRe(){const[e,t]=L.useState(()=>v9?w9():void 0);return vw(()=>{e==null&&t(w9())},[]),L.useEffect(()=>{v9=!0},[]),e}const XRe=NG.useId,RG=XRe||JRe,eOe=L.forwardRef(function(t,r){const{context:{placement:o,elements:{floating:s},middlewareData:{arrow:u}},width:h=14,height:m=7,tipRadius:f=0,strokeWidth:k=0,staticOffset:v,stroke:_,d:y,style:{transform:A,...S}={},...E}=t,I=RG(),[T,R]=L.useState(!1);if(vw(()=>{if(!s)return;Ai(s).direction==="rtl"&&R(!0)},[s]),!s)return null;const O=k*2,j=O/2,$=h/2*(f/-8+1),H=m/2*f/4,[P,z]=o.split("-"),q=!!y,K=P==="top"||P==="bottom",Q=v&&z==="end"?"bottom":"top";let te=v&&z==="end"?"right":"left";v&&T&&(te=z==="end"?"left":"right");const X=(u==null?void 0:u.x)!=null?v||u.x:"",Z=(u==null?void 0:u.y)!=null?v||u.y:"",J=y||"M0,0"+(" H"+h)+(" L"+(h-$)+","+(m-H))+(" Q"+h/2+","+m+" "+$+","+(m-H))+" Z",ee={top:q?"rotate(180deg)":"",left:q?"rotate(90deg)":"rotate(-90deg)",bottom:q?"":"rotate(180deg)",right:q?"rotate(-90deg)":"rotate(90deg)"}[P];return L.createElement("svg",_S({},E,{"aria-hidden":!0,ref:r,width:q?h:h+O,height:h,viewBox:"0 0 "+h+" "+(m>h?m:h),style:{position:"absolute",pointerEvents:"none",[te]:X,[Q]:Z,[P]:K||q?"100%":"calc(100% - "+O/2+"px)",transform:""+ee+(A??""),...S}}),O>0&&L.createElement("path",{clipPath:"url(#"+I+")",fill:"none",stroke:_,strokeWidth:O+(y?0:1),d:J}),L.createElement("path",{stroke:O&&!y?E.fill:"none",d:J}),L.createElement("clipPath",{id:I},L.createElement("rect",{x:-j,y:j*(q?-1:1),width:h+O,height:h})))});function tOe(){const e=new Map;return{emit(t,r){var o;(o=e.get(t))==null||o.forEach(s=>s(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var o;e.set(t,((o=e.get(t))==null?void 0:o.filter(s=>s!==r))||[])}}}const nOe=L.createContext(null),rOe=L.createContext(null),oOe=()=>{var e;return((e=L.useContext(nOe))==null?void 0:e.id)||null},iOe=()=>L.useContext(rOe);function sOe(e){const{open:t=!1,onOpenChange:r,elements:o}=e,s=RG(),u=L.useRef({}),[h]=L.useState(()=>tOe()),m=oOe()!=null,[f,k]=L.useState(o.reference),v=QRe((A,S,E)=>{u.current.openEvent=A?S:void 0,h.emit("openchange",{open:A,event:S,reason:E,nested:m}),r==null||r(A,S,E)}),_=L.useMemo(()=>({setPositionReference:k}),[]),y=L.useMemo(()=>({reference:f||o.reference||null,floating:o.floating||null,domReference:o.reference}),[f,o.reference,o.floating]);return L.useMemo(()=>({dataRef:u,open:t,onOpenChange:v,elements:y,events:h,floatingId:s,refs:_}),[t,v,y,h,s,_])}function aOe(e){e===void 0&&(e={});const{nodeId:t}=e,r=sOe({...e,elements:{reference:null,floating:null,...e.elements}}),o=e.rootContext||r,s=o.elements,[u,h]=L.useState(null),[m,f]=L.useState(null),v=(s==null?void 0:s.reference)||u,_=L.useRef(null),y=iOe();vw(()=>{v&&(_.current=v)},[v]);const A=URe({...e,elements:{...s,...m&&{reference:m}}}),S=L.useCallback(O=>{const j=Xr(O)?{getBoundingClientRect:()=>O.getBoundingClientRect(),contextElement:O}:O;f(j),A.refs.setReference(j)},[A.refs]),E=L.useCallback(O=>{(Xr(O)||O===null)&&(_.current=O,h(O)),(Xr(A.refs.reference.current)||A.refs.reference.current===null||O!==null&&!Xr(O))&&A.refs.setReference(O)},[A.refs]),I=L.useMemo(()=>({...A.refs,setReference:E,setPositionReference:S,domReference:_}),[A.refs,E,S]),T=L.useMemo(()=>({...A.elements,domReference:v}),[A.elements,v]),R=L.useMemo(()=>({...A,...o,refs:I,elements:T,nodeId:t}),[A,I,T,t,o]);return vw(()=>{o.dataRef.current.floatingContext=R;const O=y==null?void 0:y.nodesRef.current.find(j=>j.id===t);O&&(O.context=R)}),L.useMemo(()=>({...A,context:R,refs:I,elements:T}),[A,I,T,R])}/*!
  react-datepicker v7.3.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var CS=function(t,r){return CS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(o[u]=s[u])},CS(t,r)};function wr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");CS(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Nt=function(){return Nt=Object.assign||function(r){for(var o,s=1,u=arguments.length;s<u;s++){o=arguments[s];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(r[h]=o[h])}return r},Nt.apply(this,arguments)};function gs(e,t,r){if(r||arguments.length===2)for(var o=0,s=t.length,u;o<s;o++)(u||!(o in t))&&(u||(u=Array.prototype.slice.call(t,0,o)),u[o]=t[o]);return e.concat(u||Array.prototype.slice.call(t))}var lOe=function(e){var t=e.showTimeSelectOnly,r=t===void 0?!1:t,o=e.showTime,s=o===void 0?!1:o,u=e.className,h=e.children,m=r?"Choose Time":"Choose Date".concat(s?" and Time":"");return le.createElement("div",{className:u,role:"dialog","aria-label":m,"aria-modal":"true"},h)},Ie;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Ie||(Ie={}));function OG(){var e=typeof window<"u"?window:globalThis;return e}var Yg=12,cOe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Kt(e){if(e==null)return new Date;var t=typeof e=="string"?V4e(e):Le(e);return Qs(t)?t:new Date}function uOe(e,t,r,o,s){var u,h=null,m=Bc(r)||Bc(im()),f=!0;if(Array.isArray(t))return t.forEach(function(v){var _=cx(e,v,new Date,{locale:m,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});o&&(f=Qs(_,s)&&e===bn(_,v,r)),Qs(_,s)&&f&&(h=_)}),h;if(h=cx(e,t,new Date,{locale:m,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),o)f=Qs(h)&&e===bn(h,t,r);else if(!Qs(h)){var k=((u=t.match(cOe))!==null&&u!==void 0?u:[]).map(function(v){var _=v[0];if(_==="p"||_==="P"){var y=hw[_];return m?y(v,m.formatLong):_}return v}).join("");e.length>0&&(h=cx(e,k.slice(0,e.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Qs(h)||(h=new Date(e))}return Qs(h)&&f?h:null}function Qs(e,t){return pw(e)&&!tu(e,t??new Date("1/1/1800"))}function bn(e,t,r){if(r==="en")return a9(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var o=r?Bc(r):void 0;return r&&!o&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),!o&&im()&&Bc(im())&&(o=Bc(im())),a9(e,t,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function li(e,t){var r=t.dateFormat,o=t.locale,s=Array.isArray(r)&&r.length>0?r[0]:r;return e&&bn(e,s,o)||""}function dOe(e,t,r){if(!e)return"";var o=li(e,r),s=t?li(t,r):"";return"".concat(o," - ").concat(s)}function hOe(e,t){if(!(e!=null&&e.length))return"";var r=e[0]?li(e[0],t):"";if(e.length===1)return r;if(e.length===2&&e[1]){var o=li(e[1],t);return"".concat(r,", ").concat(o)}var s=e.length-1;return"".concat(r," (+").concat(s,")")}function hx(e,t){var r=t.hour,o=r===void 0?0:r,s=t.minute,u=s===void 0?0:s,h=t.second,m=h===void 0?0:h;return Kv(Yv(Qv(e,m),u),o)}function pOe(e){return aI(e)}function fOe(e,t){return bn(e,"ddd",t)}function Jv(e){return eu(e)}function fl(e,t,r){var o=Bc(t||im());return _a(e,{locale:o,weekStartsOn:r})}function ml(e){return _G(e)}function Pf(e){return S_(e)}function y9(e){return wS(e)}function _9(){return eu(Kt())}function C9(e){return cG(e)}function mOe(e){return GPe(e)}function ls(e,t){return e&&t?WNe(e,t):!e&&!t}function Qr(e,t){return e&&t?UNe(e,t):!e&&!t}function ww(e,t){return e&&t?HNe(e,t):!e&&!t}function xt(e,t){return e&&t?VNe(e,t):!e&&!t}function Ac(e,t){return e&&t?$Ne(e,t):!e&&!t}function Nf(e,t,r){var o,s=eu(t),u=cG(r);try{o=ng(e,{start:s,end:u})}catch{o=!1}return o}function im(){var e=OG();return e.__localeId__}function Bc(e){if(typeof e=="string"){var t=OG();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function gOe(e,t,r){return t(bn(e,"EEEE",r))}function bOe(e,t){return bn(e,"EEEEEE",t)}function kOe(e,t){return bn(e,"EEE",t)}function gI(e,t){return bn(Oo(Kt(),e),"LLLL",t)}function BG(e,t){return bn(Oo(Kt(),e),"LLL",t)}function vOe(e,t){return bn(pd(Kt(),e),"QQQ",t)}function el(e,t){var r=t===void 0?{}:t,o=r.minDate,s=r.maxDate,u=r.excludeDates,h=r.excludeDateIntervals,m=r.includeDates,f=r.includeDateIntervals,k=r.filterDate;return Qg(e,{minDate:o,maxDate:s})||u&&u.some(function(v){var _;return v instanceof Date?xt(e,v):xt(e,(_=v.date)!==null&&_!==void 0?_:new Date)})||h&&h.some(function(v){var _=v.start,y=v.end;return ng(e,{start:_,end:y})})||m&&!m.some(function(v){return xt(e,v)})||f&&!f.some(function(v){var _=v.start,y=v.end;return ng(e,{start:_,end:y})})||k&&!k(Kt(e))||!1}function bI(e,t){var r=t===void 0?{}:t,o=r.excludeDates,s=r.excludeDateIntervals;return s&&s.length>0?s.some(function(u){var h=u.start,m=u.end;return ng(e,{start:h,end:m})}):o&&o.some(function(u){var h;return u instanceof Date?xt(e,u):xt(e,(h=u.date)!==null&&h!==void 0?h:new Date)})||!1}function LG(e,t){var r=t===void 0?{}:t,o=r.minDate,s=r.maxDate,u=r.excludeDates,h=r.includeDates,m=r.filterDate;return Qg(e,{minDate:o?_G(o):void 0,maxDate:s?WPe(s):void 0})||(u==null?void 0:u.some(function(f){return Qr(e,f instanceof Date?f:f.date)}))||h&&!h.some(function(f){return Qr(e,f)})||m&&!m(Kt(e))||!1}function fv(e,t,r,o){var s=gt(e),u=Jr(e),h=gt(t),m=Jr(t),f=gt(o);return s===h&&s===f?u<=r&&r<=m:s<h?f===s&&u<=r||f===h&&m>=r||f<h&&f>s:!1}function wOe(e,t){var r=t===void 0?{}:t,o=r.minDate,s=r.maxDate,u=r.excludeDates,h=r.includeDates;return Qg(e,{minDate:o,maxDate:s})||u&&u.some(function(m){return Qr(m instanceof Date?m:m.date,e)})||h&&!h.some(function(m){return Qr(m,e)})||!1}function px(e,t){var r=t===void 0?{}:t,o=r.minDate,s=r.maxDate,u=r.excludeDates,h=r.includeDates,m=r.filterDate;return Qg(e,{minDate:o,maxDate:s})||(u==null?void 0:u.some(function(f){return ww(e,f instanceof Date?f:f.date)}))||h&&!h.some(function(f){return ww(e,f)})||m&&!m(Kt(e))||!1}function mv(e,t,r){if(!t||!r||!pw(t)||!pw(r))return!1;var o=gt(t),s=gt(r);return o<=e&&s>=e}function AS(e,t){var r=t===void 0?{}:t,o=r.minDate,s=r.maxDate,u=r.excludeDates,h=r.includeDates,m=r.filterDate,f=new Date(e,0,1);return Qg(f,{minDate:o?S_(o):void 0,maxDate:s?uG(s):void 0})||(u==null?void 0:u.some(function(k){return ls(f,k instanceof Date?k:k.date)}))||h&&!h.some(function(k){return ls(f,k)})||m&&!m(Kt(f))||!1}function gv(e,t,r,o){var s=gt(e),u=Rc(e),h=gt(t),m=Rc(t),f=gt(o);return s===h&&s===f?u<=r&&r<=m:s<h?f===s&&u<=r||f===h&&m>=r||f<h&&f>s:!1}function Qg(e,t){var r,o=t===void 0?{}:t,s=o.minDate,u=o.maxDate;return(r=s&&tg(e,s)<0||u&&tg(e,u)>0)!==null&&r!==void 0?r:!1}function A9(e,t){return t.some(function(r){return xs(r)===xs(e)&&Es(r)===Es(e)&&ca(r)===ca(e)})}function x9(e,t){var r=t===void 0?{}:t,o=r.excludeTimes,s=r.includeTimes,u=r.filterTime;return o&&A9(e,o)||s&&!A9(e,s)||u&&!u(e)||!1}function E9(e,t){var r=t.minTime,o=t.maxTime;if(!r||!o)throw new Error("Both minTime and maxTime props required");var s=Kt();s=Kv(s,xs(e)),s=Yv(s,Es(e)),s=Qv(s,ca(e));var u=Kt();u=Kv(u,xs(r)),u=Yv(u,Es(r)),u=Qv(u,ca(r));var h=Kt();h=Kv(h,xs(o)),h=Yv(h,Es(o)),h=Qv(h,ca(o));var m;try{m=!ng(s,{start:u,end:h})}catch{m=!1}return m}function S9(e,t){var r=t===void 0?{}:t,o=r.minDate,s=r.includeDates,u=Ch(e,1);return o&&cw(o,u)>0||s&&s.every(function(h){return cw(h,u)>0})||!1}function D9(e,t){var r=t===void 0?{}:t,o=r.maxDate,s=r.includeDates,u=qi(e,1);return o&&cw(u,o)>0||s&&s.every(function(h){return cw(u,h)>0})||!1}function yOe(e,t){var r=t===void 0?{}:t,o=r.minDate,s=r.includeDates,u=S_(e),h=CG(u,1);return o&&uw(o,h)>0||s&&s.every(function(m){return uw(m,h)>0})||!1}function _Oe(e,t){var r=t===void 0?{}:t,o=r.maxDate,s=r.includeDates,u=uG(e),h=sI(u,1);return o&&uw(h,o)>0||s&&s.every(function(m){return uw(h,m)>0})||!1}function T9(e,t){var r=t===void 0?{}:t,o=r.minDate,s=r.includeDates,u=Ah(e,1);return o&&dw(o,u)>0||s&&s.every(function(h){return dw(h,u)>0})||!1}function COe(e,t){var r=t===void 0?{}:t,o=r.minDate,s=r.yearItemNumber,u=s===void 0?Yg:s,h=Pf(Ah(e,u)),m=tl(h,u).endPeriod,f=o&&gt(o);return f&&f>m||!1}function I9(e,t){var r=t===void 0?{}:t,o=r.maxDate,s=r.includeDates,u=aa(e,1);return o&&dw(u,o)>0||s&&s.every(function(h){return dw(u,h)>0})||!1}function AOe(e,t){var r=t===void 0?{}:t,o=r.maxDate,s=r.yearItemNumber,u=s===void 0?Yg:s,h=aa(e,u),m=tl(h,u).startPeriod,f=o&&gt(o);return f&&f<m||!1}function jG(e){var t=e.minDate,r=e.includeDates;if(r&&t){var o=r.filter(function(s){return tg(s,t)>=0});return u9(o)}else return r?u9(r):t}function FG(e){var t=e.maxDate,r=e.includeDates;if(r&&t){var o=r.filter(function(s){return tg(s,t)<=0});return c9(o)}else return r?c9(r):t}function M9(e,t){var r;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var o=new Map,s=0,u=e.length;s<u;s++){var h=e[s];if(la(h)){var m=bn(h,"MM.dd.yyyy"),f=o.get(m)||[];f.includes(t)||(f.push(t),o.set(m,f))}else if(typeof h=="object"){var k=Object.keys(h),v=(r=k[0])!==null&&r!==void 0?r:"",_=h[v];if(typeof v=="string"&&Array.isArray(_))for(var y=0,A=_.length;y<A;y++){var S=_[y];if(S){var m=bn(S,"MM.dd.yyyy"),f=o.get(m)||[];f.includes(v)||(f.push(v),o.set(m,f))}}}}return o}function xOe(e,t){return e.length!==t.length?!1:e.every(function(r,o){return r===t[o]})}function EOe(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var r=new Map;return e.forEach(function(o){var s=o.date,u=o.holidayName;if(la(s)){var h=bn(s,"MM.dd.yyyy"),m=r.get(h)||{className:"",holidayNames:[]};if(!("className"in m&&m.className===t&&xOe(m.holidayNames,[u]))){m.className=t;var f=m.holidayNames;m.holidayNames=f?gs(gs([],f,!0),[u],!1):[u],r.set(h,m)}}}),r}function SOe(e,t,r,o,s){for(var u=s.length,h=[],m=0;m<u;m++){var f=e,k=s[m];k&&(f=UPe(f,xs(k)),f=bS(f,Es(k)),f=HPe(f,ca(k)));var v=bS(e,(r+1)*o);Al(f,t)&&tu(f,v)&&k!=null&&h.push(k)}return h}function P9(e){return e<10?"0".concat(e):"".concat(e)}function tl(e,t){t===void 0&&(t=Yg);var r=Math.ceil(gt(e)/t)*t,o=r-(t-1);return{startPeriod:o,endPeriod:r}}function DOe(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+r-+t)/36e5)}function N9(e){var t=e.getSeconds(),r=e.getMilliseconds();return Le(e.getTime()-t*1e3-r)}function TOe(e,t){return N9(e).getTime()===N9(t).getTime()}function R9(e){if(!la(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function O9(e,t){if(!la(e)||!la(t))throw new Error("Invalid date received");var r=R9(e),o=R9(t);return tu(r,o)}function zG(e){return e.key===Ie.Space}var IOe=function(e){wr(t,e);function t(r){var o=e.call(this,r)||this;return o.onTimeChange=function(s){var u,h;o.setState({time:s});var m=o.props.date,f=m instanceof Date&&!isNaN(+m),k=f?m:new Date;if(s!=null&&s.includes(":")){var v=s.split(":"),_=v[0],y=v[1];k.setHours(Number(_)),k.setMinutes(Number(y))}(h=(u=o.props).onChange)===null||h===void 0||h.call(u,k)},o.renderTimeInput=function(){var s=o.state.time,u=o.props,h=u.date,m=u.timeString,f=u.customTimeInput;return f?L.cloneElement(f,{date:h,value:s,onChange:o.onTimeChange}):le.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:s,onChange:function(k){o.onTimeChange(k.target.value||m)}})},o.state={time:o.props.timeString},o}return t.getDerivedStateFromProps=function(r,o){return r.timeString!==o.time?{time:r.timeString}:null},t.prototype.render=function(){return le.createElement("div",{className:"react-datepicker__input-time-container"},le.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),le.createElement("div",{className:"react-datepicker-time__input-container"},le.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(L.Component),MOe=function(e){wr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.dayEl=L.createRef(),r.handleClick=function(o){!r.isDisabled()&&r.props.onClick&&r.props.onClick(o)},r.handleMouseEnter=function(o){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(o)},r.handleOnKeyDown=function(o){var s,u,h=o.key;h===Ie.Space&&(o.preventDefault(),o.key=Ie.Enter),(u=(s=r.props).handleOnKeyDown)===null||u===void 0||u.call(s,o)},r.isSameDay=function(o){return xt(r.props.day,o)},r.isKeyboardSelected=function(){var o;if(r.props.disabledKeyboardNavigation)return!1;var s=r.props.selectsMultiple?(o=r.props.selectedDates)===null||o===void 0?void 0:o.some(function(h){return r.isSameDayOrWeek(h)}):r.isSameDayOrWeek(r.props.selected),u=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!s&&r.isSameDayOrWeek(r.props.preSelection)&&!u},r.isDisabled=function(o){return o===void 0&&(o=r.props.day),el(o,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(){return bI(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return xt(r.props.day,fl(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(o){return r.props.showWeekPicker&&xt(o,fl(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(o){return r.isSameDay(o)||r.isSameWeek(o)},r.getHighLightedClass=function(){var o=r.props,s=o.day,u=o.highlightDates;if(!u)return!1;var h=bn(s,"MM.dd.yyyy");return u.get(h)},r.getHolidaysClass=function(){var o,s=r.props,u=s.day,h=s.holidays;if(!h)return[void 0];var m=bn(u,"MM.dd.yyyy");return h.has(m)?[(o=h.get(m))===null||o===void 0?void 0:o.className]:[void 0]},r.isInRange=function(){var o=r.props,s=o.day,u=o.startDate,h=o.endDate;return!u||!h?!1:Nf(s,u,h)},r.isInSelectingRange=function(){var o,s=r.props,u=s.day,h=s.selectsStart,m=s.selectsEnd,f=s.selectsRange,k=s.selectsDisabledDaysInRange,v=s.startDate,_=s.endDate,y=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return!(h||m||f)||!y||!k&&r.isDisabled()?!1:h&&_&&(tu(y,_)||Ac(y,_))?Nf(u,y,_):m&&v&&(Al(y,v)||Ac(y,v))||f&&v&&!_&&(Al(y,v)||Ac(y,v))?Nf(u,v,y):!1},r.isSelectingRangeStart=function(){var o;if(!r.isInSelectingRange())return!1;var s=r.props,u=s.day,h=s.startDate,m=s.selectsStart,f=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return m?xt(u,f):xt(u,h)},r.isSelectingRangeEnd=function(){var o;if(!r.isInSelectingRange())return!1;var s=r.props,u=s.day,h=s.endDate,m=s.selectsEnd,f=s.selectsRange,k=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return m||f?xt(u,k):xt(u,h)},r.isRangeStart=function(){var o=r.props,s=o.day,u=o.startDate,h=o.endDate;return!u||!h?!1:xt(u,s)},r.isRangeEnd=function(){var o=r.props,s=o.day,u=o.startDate,h=o.endDate;return!u||!h?!1:xt(h,s)},r.isWeekend=function(){var o=zNe(r.props.day);return o===0||o===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===Jr(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(Jr(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(Kt())},r.isSelected=function(){var o;return r.props.selectsMultiple?(o=r.props.selectedDates)===null||o===void 0?void 0:o.some(function(s){return r.isSameDayOrWeek(s)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(o){var s=r.props.dayClassName?r.props.dayClassName(o):void 0;return ke("react-datepicker__day",s,"react-datepicker__day--"+fOe(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var o=r.props,s=o.day,u=o.ariaLabelPrefixWhenEnabled,h=u===void 0?"Choose":u,m=o.ariaLabelPrefixWhenDisabled,f=m===void 0?"Not available":m,k=r.isDisabled()||r.isExcluded()?f:h;return"".concat(k," ").concat(bn(s,"PPPP",r.props.locale))},r.getTitle=function(){var o=r.props,s=o.day,u=o.holidays,h=u===void 0?new Map:u,m=o.excludeDates,f=bn(s,"MM.dd.yyyy"),k=[];return h.has(f)&&k.push.apply(k,h.get(f).holidayNames),r.isExcluded()&&k.push(m==null?void 0:m.filter(function(v){return v instanceof Date?xt(v,s):xt(v==null?void 0:v.date,s)}).map(function(v){if(!(v instanceof Date))return v==null?void 0:v.message})),k.join(", ")},r.getTabIndex=function(){var o=r.props.selected,s=r.props.preSelection,u=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(o)&&xt(s,o))?0:-1;return u},r.handleFocusDay=function(){var o;r.shouldFocusDay()&&((o=r.dayEl.current)===null||o===void 0||o.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(l9(r.props.day),r.props.day):l9(r.props.day)},r.render=function(){return le.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"option",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&le.createElement("span",{className:"overlay"},r.getTitle()))},r}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},t.prototype.isDayActiveElement=function(){var r,o,s;return((o=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||o===void 0?void 0:o.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(L.Component),POe=function(e){wr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.weekNumberEl=L.createRef(),r.handleClick=function(o){r.props.onClick&&r.props.onClick(o)},r.handleOnKeyDown=function(o){var s,u,h=o.key;h===Ie.Space&&(o.preventDefault(),o.key=Ie.Enter),(u=(s=r.props).handleOnKeyDown)===null||u===void 0||u.call(s,o)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!xt(r.props.date,r.props.selected)&&xt(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||xt(r.props.date,r.props.selected)&&xt(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(o){var s=!1;r.getTabIndex()===0&&!(o!=null&&o.isInputFocused)&&xt(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(s=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},t.prototype.render=function(){var r=this.props,o=r.weekNumber,s=r.ariaLabelPrefix,u=s===void 0?t.defaultProps.ariaLabelPrefix:s,h=r.onClick,m={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!h,"react-datepicker__week-number--selected":!!h&&xt(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return le.createElement("div",{ref:this.weekNumberEl,className:ke(m),"aria-label":"".concat(u," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},o)},t}(L.Component),NOe=function(e){wr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isDisabled=function(o){return el(o,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(o,s){r.props.onDayClick&&r.props.onDayClick(o,s)},r.handleDayMouseEnter=function(o){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(o)},r.handleWeekClick=function(o,s,u){for(var h,m,f,k=new Date(o),v=0;v<7;v++){var _=new Date(o);_.setDate(_.getDate()+v);var y=!r.isDisabled(_);if(y){k=_;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(k,s,u),r.props.showWeekPicker&&r.handleDayClick(k,u),((h=r.props.shouldCloseOnSelect)!==null&&h!==void 0?h:t.defaultProps.shouldCloseOnSelect)&&((f=(m=r.props).setOpen)===null||f===void 0||f.call(m,!1))},r.formatWeekNumber=function(o){return r.props.formatWeekNumber?r.props.formatWeekNumber(o):pOe(o)},r.renderDays=function(){var o=r.startOfWeek(),s=[],u=r.formatWeekNumber(o);if(r.props.showWeekNumber){var h=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,o,u):void 0;s.push(le.createElement(POe,Nt({key:"W"},t.defaultProps,r.props,{weekNumber:u,date:o,onClick:h})))}return s.concat([0,1,2,3,4,5,6].map(function(m){var f=jl(o,m);return le.createElement(MOe,Nt({},t.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:f.valueOf(),day:f,onClick:r.handleDayClick.bind(r,f),onMouseEnter:r.handleDayMouseEnter.bind(r,f)}))}))},r.startOfWeek=function(){return fl(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!xt(r.startOfWeek(),r.props.selected)&&xt(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":xt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return le.createElement("div",{className:ke(r)},this.renderDays())},t}(L.Component),vf,ROe=6,Wd={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},fx=(vf={},vf[Wd.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},vf[Wd.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},vf[Wd.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},vf),bv=1;function B9(e,t){return e?Wd.FOUR_COLUMNS:t?Wd.TWO_COLUMNS:Wd.THREE_COLUMNS}var OOe=function(e){wr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.MONTH_REFS=gs([],Array(12),!0).map(function(){return L.createRef()}),r.QUARTER_REFS=gs([],Array(4),!0).map(function(){return L.createRef()}),r.isDisabled=function(o){return el(o,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(o){return bI(o,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(o,s){var u,h;(h=(u=r.props).onDayClick)===null||h===void 0||h.call(u,o,s,r.props.orderInDisplay)},r.handleDayMouseEnter=function(o){var s,u;(u=(s=r.props).onDayMouseEnter)===null||u===void 0||u.call(s,o)},r.handleMouseLeave=function(){var o,s;(s=(o=r.props).onMouseLeave)===null||s===void 0||s.call(o)},r.isRangeStartMonth=function(o){var s=r.props,u=s.day,h=s.startDate,m=s.endDate;return!h||!m?!1:Qr(Oo(u,o),h)},r.isRangeStartQuarter=function(o){var s=r.props,u=s.day,h=s.startDate,m=s.endDate;return!h||!m?!1:ww(pd(u,o),h)},r.isRangeEndMonth=function(o){var s=r.props,u=s.day,h=s.startDate,m=s.endDate;return!h||!m?!1:Qr(Oo(u,o),m)},r.isRangeEndQuarter=function(o){var s=r.props,u=s.day,h=s.startDate,m=s.endDate;return!h||!m?!1:ww(pd(u,o),m)},r.isInSelectingRangeMonth=function(o){var s,u=r.props,h=u.day,m=u.selectsStart,f=u.selectsEnd,k=u.selectsRange,v=u.startDate,_=u.endDate,y=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return!(m||f||k)||!y?!1:m&&_?fv(y,_,o,h):f&&v||k&&v&&!_?fv(v,y,o,h):!1},r.isSelectingMonthRangeStart=function(o){var s;if(!r.isInSelectingRangeMonth(o))return!1;var u=r.props,h=u.day,m=u.startDate,f=u.selectsStart,k=Oo(h,o),v=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return f?Qr(k,v):Qr(k,m)},r.isSelectingMonthRangeEnd=function(o){var s;if(!r.isInSelectingRangeMonth(o))return!1;var u=r.props,h=u.day,m=u.endDate,f=u.selectsEnd,k=u.selectsRange,v=Oo(h,o),_=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return f||k?Qr(v,_):Qr(v,m)},r.isInSelectingRangeQuarter=function(o){var s,u=r.props,h=u.day,m=u.selectsStart,f=u.selectsEnd,k=u.selectsRange,v=u.startDate,_=u.endDate,y=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return!(m||f||k)||!y?!1:m&&_?gv(y,_,o,h):f&&v||k&&v&&!_?gv(v,y,o,h):!1},r.isWeekInMonth=function(o){var s=r.props.day,u=jl(o,6);return Qr(o,s)||Qr(u,s)},r.isCurrentMonth=function(o,s){return gt(o)===gt(Kt())&&s===Jr(Kt())},r.isCurrentQuarter=function(o,s){return gt(o)===gt(Kt())&&s===Rc(Kt())},r.isSelectedMonth=function(o,s,u){return Jr(u)===s&&gt(o)===gt(u)},r.isSelectMonthInList=function(o,s,u){return u.some(function(h){return r.isSelectedMonth(o,s,h)})},r.isSelectedQuarter=function(o,s,u){return Rc(o)===s&&gt(o)===gt(u)},r.renderWeeks=function(){for(var o=[],s=r.props.fixedHeight,u=0,h=!1,m=fl(ml(r.props.day),r.props.locale,r.props.calendarStartDay),f=function(S){return r.props.showWeekPicker?fl(S,r.props.locale,r.props.calendarStartDay):r.props.preSelection},k=function(S){return r.props.showWeekPicker?fl(S,r.props.locale,r.props.calendarStartDay):r.props.selected},v=r.props.selected?k(r.props.selected):void 0,_=r.props.preSelection?f(r.props.preSelection):void 0;o.push(le.createElement(NOe,Nt({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:u,day:m,month:Jr(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:v,preSelection:_,showWeekNumber:r.props.showWeekNumbers}))),!h;){u++,m=aw(m,1);var y=s&&u>=ROe,A=!s&&!r.isWeekInMonth(m);if(y||A)if(r.props.peekNextMonth)h=!0;else break}return o},r.onMonthClick=function(o,s){var u=r.isMonthDisabledForLabelDate(s),h=u.isDisabled,m=u.labelDate;h||r.handleDayClick(ml(m),o)},r.onMonthMouseEnter=function(o){var s=r.isMonthDisabledForLabelDate(o),u=s.isDisabled,h=s.labelDate;u||r.handleDayMouseEnter(ml(h))},r.handleMonthNavigation=function(o,s){var u,h,m,f;(h=(u=r.props).setPreSelection)===null||h===void 0||h.call(u,s),(f=(m=r.MONTH_REFS[o])===null||m===void 0?void 0:m.current)===null||f===void 0||f.focus()},r.handleKeyboardNavigation=function(o,s,u){var h,m=r.props,f=m.selected,k=m.preSelection,v=m.setPreSelection,_=m.minDate,y=m.maxDate,A=m.showFourColumnMonthYearPicker,S=m.showTwoColumnMonthYearPicker;if(k){var E=B9(A,S),I=r.getVerticalOffset(E),T=(h=fx[E])===null||h===void 0?void 0:h.grid,R=function(P,z,q){var K,Q,te=z,X=q;switch(P){case Ie.ArrowRight:te=qi(z,bv),X=q===11?0:q+bv;break;case Ie.ArrowLeft:te=Ch(z,bv),X=q===0?11:q-bv;break;case Ie.ArrowUp:te=Ch(z,I),X=!((K=T==null?void 0:T[0])===null||K===void 0)&&K.includes(q)?q+12-I:q-I;break;case Ie.ArrowDown:te=qi(z,I),X=!((Q=T==null?void 0:T[T.length-1])===null||Q===void 0)&&Q.includes(q)?q-12+I:q+I;break}return{newCalculatedDate:te,newCalculatedMonth:X}},O=function(P,z,q){for(var K=40,Q=P,te=!1,X=0,Z=R(Q,z,q),J=Z.newCalculatedDate,ee=Z.newCalculatedMonth;!te;){if(X>=K){J=z,ee=q;break}if(_&&J<_){Q=Ie.ArrowRight;var ne=R(Q,J,ee);J=ne.newCalculatedDate,ee=ne.newCalculatedMonth}if(y&&J>y){Q=Ie.ArrowLeft;var ne=R(Q,J,ee);J=ne.newCalculatedDate,ee=ne.newCalculatedMonth}if(wOe(J,r.props)){var ne=R(Q,J,ee);J=ne.newCalculatedDate,ee=ne.newCalculatedMonth}else te=!0;X++}return{newCalculatedDate:J,newCalculatedMonth:ee}};if(s===Ie.Enter){r.isMonthDisabled(u)||(r.onMonthClick(o,u),v==null||v(f));return}var j=O(s,k,u),$=j.newCalculatedDate,H=j.newCalculatedMonth;switch(s){case Ie.ArrowRight:case Ie.ArrowLeft:case Ie.ArrowUp:case Ie.ArrowDown:r.handleMonthNavigation(H,$);break}}},r.getVerticalOffset=function(o){var s,u;return(u=(s=fx[o])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&u!==void 0?u:0},r.onMonthKeyDown=function(o,s){var u=r.props,h=u.disabledKeyboardNavigation,m=u.handleOnMonthKeyDown,f=o.key;f!==Ie.Tab&&o.preventDefault(),h||r.handleKeyboardNavigation(o,f,s),m&&m(o)},r.onQuarterClick=function(o,s){var u=pd(r.props.day,s);px(u,r.props)||r.handleDayClick(y9(u),o)},r.onQuarterMouseEnter=function(o){var s=pd(r.props.day,o);px(s,r.props)||r.handleDayMouseEnter(y9(s))},r.handleQuarterNavigation=function(o,s){var u,h,m,f;r.isDisabled(s)||r.isExcluded(s)||((h=(u=r.props).setPreSelection)===null||h===void 0||h.call(u,s),(f=(m=r.QUARTER_REFS[o-1])===null||m===void 0?void 0:m.current)===null||f===void 0||f.focus())},r.onQuarterKeyDown=function(o,s){var u,h,m=o.key;if(!r.props.disabledKeyboardNavigation)switch(m){case Ie.Enter:r.onQuarterClick(o,s),(h=(u=r.props).setPreSelection)===null||h===void 0||h.call(u,r.props.selected);break;case Ie.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(s===4?1:s+1,sI(r.props.preSelection,1));break;case Ie.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(s===1?4:s-1,CG(r.props.preSelection,1));break}},r.isMonthDisabledForLabelDate=function(o){var s,u=r.props,h=u.day,m=u.minDate,f=u.maxDate,k=u.excludeDates,v=u.includeDates,_=Oo(h,o);return{isDisabled:(s=(m||f||k||v)&&LG(_,r.props))!==null&&s!==void 0?s:!1,labelDate:_}},r.isMonthDisabled=function(o){var s=r.isMonthDisabledForLabelDate(o).isDisabled;return s},r.getMonthClassNames=function(o){var s=r.props,u=s.day,h=s.startDate,m=s.endDate,f=s.preSelection,k=s.monthClassName,v=k?k(Oo(u,o)):void 0,_=r.getSelection();return ke("react-datepicker__month-text","react-datepicker__month-".concat(o),v,{"react-datepicker__month-text--disabled":r.isMonthDisabled(o),"react-datepicker__month-text--selected":_?r.isSelectMonthInList(u,o,_):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&f&&r.isSelectedMonth(u,o,f)&&!r.isMonthDisabled(o),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(o),"react-datepicker__month-text--in-range":h&&m?fv(h,m,o,u):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(o),"react-datepicker__month-text--range-end":r.isRangeEndMonth(o),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(o),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(o),"react-datepicker__month-text--today":r.isCurrentMonth(u,o)})},r.getTabIndex=function(o){if(r.props.preSelection==null)return"-1";var s=Jr(r.props.preSelection),u=!r.props.disabledKeyboardNavigation&&o===s?"0":"-1";return u},r.getQuarterTabIndex=function(o){if(r.props.preSelection==null)return"-1";var s=Rc(r.props.preSelection),u=!r.props.disabledKeyboardNavigation&&o===s?"0":"-1";return u},r.getAriaLabel=function(o){var s=r.props,u=s.chooseDayAriaLabelPrefix,h=u===void 0?"Choose":u,m=s.disabledDayAriaLabelPrefix,f=m===void 0?"Not available":m,k=s.day,v=s.locale,_=Oo(k,o),y=r.isDisabled(_)||r.isExcluded(_)?f:h;return"".concat(y," ").concat(bn(_,"MMMM yyyy",v))},r.getQuarterClassNames=function(o){var s=r.props,u=s.day,h=s.startDate,m=s.endDate,f=s.selected,k=s.minDate,v=s.maxDate,_=s.excludeDates,y=s.includeDates,A=s.filterDate,S=s.preSelection,E=s.disabledKeyboardNavigation,I=(k||v||_||y||A)&&px(pd(u,o),r.props);return ke("react-datepicker__quarter-text","react-datepicker__quarter-".concat(o),{"react-datepicker__quarter-text--disabled":I,"react-datepicker__quarter-text--selected":f?r.isSelectedQuarter(u,o,f):void 0,"react-datepicker__quarter-text--keyboard-selected":!E&&S&&r.isSelectedQuarter(u,o,S)&&!I,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(o),"react-datepicker__quarter-text--in-range":h&&m?gv(h,m,o,u):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(o),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(o)})},r.getMonthContent=function(o){var s=r.props,u=s.showFullMonthYearPicker,h=s.renderMonthContent,m=s.locale,f=s.day,k=BG(o,m),v=gI(o,m);return h?h(o,k,v,f):u?v:k},r.getQuarterContent=function(o){var s,u=r.props,h=u.renderQuarterContent,m=u.locale,f=vOe(o,m);return(s=h==null?void 0:h(o,f))!==null&&s!==void 0?s:f},r.renderMonths=function(){var o,s=r.props,u=s.showTwoColumnMonthYearPicker,h=s.showFourColumnMonthYearPicker,m=s.day,f=s.selected,k=(o=fx[B9(h,u)])===null||o===void 0?void 0:o.grid;return k==null?void 0:k.map(function(v,_){return le.createElement("div",{className:"react-datepicker__month-wrapper",key:_},v.map(function(y,A){return le.createElement("div",{ref:r.MONTH_REFS[y],key:A,onClick:function(S){r.onMonthClick(S,y)},onKeyDown:function(S){zG(S)&&(S.preventDefault(),S.key=Ie.Enter),r.onMonthKeyDown(S,y)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(y)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(y)}:void 0,tabIndex:Number(r.getTabIndex(y)),className:r.getMonthClassNames(y),"aria-disabled":r.isMonthDisabled(y),role:"option","aria-label":r.getAriaLabel(y),"aria-current":r.isCurrentMonth(m,y)?"date":void 0,"aria-selected":f?r.isSelectedMonth(m,y,f):void 0},r.getMonthContent(y))}))})},r.renderQuarters=function(){var o=r.props,s=o.day,u=o.selected,h=[1,2,3,4];return le.createElement("div",{className:"react-datepicker__quarter-wrapper"},h.map(function(m,f){return le.createElement("div",{key:f,ref:r.QUARTER_REFS[f],role:"option",onClick:function(k){r.onQuarterClick(k,m)},onKeyDown:function(k){r.onQuarterKeyDown(k,m)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(m)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(m)}:void 0,className:r.getQuarterClassNames(m),"aria-selected":u?r.isSelectedQuarter(s,m,u):void 0,tabIndex:Number(r.getQuarterTabIndex(m)),"aria-current":r.isCurrentQuarter(s,m)?"date":void 0},r.getQuarterContent(m))}))},r.getClassNames=function(){var o=r.props,s=o.selectingDate,u=o.selectsStart,h=o.selectsEnd,m=o.showMonthYearPicker,f=o.showQuarterYearPicker,k=o.showWeekPicker;return ke("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(u||h)},{"react-datepicker__monthPicker":m},{"react-datepicker__quarterPicker":f},{"react-datepicker__weekPicker":k})},r}return t.prototype.getSelection=function(){var r=this.props,o=r.selected,s=r.selectedDates,u=r.selectsMultiple;if(u)return s;if(o)return[o]},t.prototype.render=function(){var r=this.props,o=r.showMonthYearPicker,s=r.showQuarterYearPicker,u=r.day,h=r.ariaLabelPrefix,m=h===void 0?"Month ":h,f=m?m.trim()+" ":"";return le.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(f).concat(bn(u,"MMMM, yyyy",this.props.locale)),role:"listbox"},o?this.renderMonths():s?this.renderQuarters():this.renderWeeks())},t}(L.Component),BOe=function(e){wr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isSelectedMonth=function(o){return r.props.month===o},r.renderOptions=function(){return r.props.monthNames.map(function(o,s){return le.createElement("div",{className:r.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:o,onClick:r.onChange.bind(r,s),"aria-selected":r.isSelectedMonth(s)?"true":void 0},r.isSelectedMonth(s)?le.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",o)})},r.onChange=function(o){return r.props.onChange(o)},r.handleClickOutside=function(){return r.props.onCancel()},r}return t.prototype.render=function(){return le.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())},t}(L.Component),LOe=A_(BOe),jOe=function(e){wr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(o){return o.map(function(s,u){return le.createElement("option",{key:s,value:u},s)})},r.renderSelectMode=function(o){return le.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(s){return r.onChange(parseInt(s.target.value))}},r.renderSelectOptions(o))},r.renderReadView=function(o,s){return le.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},le.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),le.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[r.props.month]))},r.renderDropdown=function(o){return le.createElement(LOe,Nt({key:"dropdown"},r.props,{monthNames:o,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(o){var s=r.state.dropdownVisible,u=[r.renderReadView(!s,o)];return s&&u.unshift(r.renderDropdown(o)),u},r.onChange=function(o){r.toggleDropdown(),o!==r.props.month&&r.props.onChange(o)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r=this,o=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(u){return BG(u,r.props.locale)}:function(u){return gI(u,r.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(o);break;case"select":s=this.renderSelectMode(o);break}return le.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},t}(L.Component);function FOe(e,t){for(var r=[],o=ml(e),s=ml(t);!Al(o,s);)r.push(Kt(o)),o=qi(o,1);return r}var zOe=function(e){wr(t,e);function t(r){var o=e.call(this,r)||this;return o.renderOptions=function(){return o.state.monthYearsList.map(function(s){var u=vS(s),h=ls(o.props.date,s)&&Qr(o.props.date,s);return le.createElement("div",{className:h?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:u,onClick:o.onChange.bind(o,u),"aria-selected":h?"true":void 0},h?le.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",bn(s,o.props.dateFormat,o.props.locale))})},o.onChange=function(s){return o.props.onChange(s)},o.handleClickOutside=function(){o.props.onCancel()},o.state={monthYearsList:FOe(o.props.minDate,o.props.maxDate)},o}return t.prototype.render=function(){var r=ke({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return le.createElement("div",{className:r},this.renderOptions())},t}(L.Component),$Oe=A_(zOe),VOe=function(e){wr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var o=ml(r.props.minDate),s=ml(r.props.maxDate),u=[];!Al(o,s);){var h=vS(o);u.push(le.createElement("option",{key:h,value:h},bn(o,r.props.dateFormat,r.props.locale))),o=qi(o,1)}return u},r.onSelectChange=function(o){r.onChange(parseInt(o.target.value))},r.renderSelectMode=function(){return le.createElement("select",{value:vS(ml(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(o){var s=bn(r.props.date,r.props.dateFormat,r.props.locale);return le.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},le.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),le.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},r.renderDropdown=function(){return le.createElement($Oe,Nt({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var o=r.state.dropdownVisible,s=[r.renderReadView(!o)];return o&&s.unshift(r.renderDropdown()),s},r.onChange=function(o){r.toggleDropdown();var s=Kt(o);ls(r.props.date,s)&&Qr(r.props.date,s)||r.props.onChange(s)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return le.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(L.Component),UOe=function(e){wr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var o,s,u;r.list&&(r.list.scrollTop=(u=r.centerLi&&t.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((s=(o=r.header)===null||o===void 0?void 0:o.clientHeight)!==null&&s!==void 0?s:0):r.list.clientHeight,r.centerLi))!==null&&u!==void 0?u:0)})},r.handleClick=function(o){var s,u;(r.props.minTime||r.props.maxTime)&&E9(o,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&x9(o,r.props)||(u=(s=r.props).onChange)===null||u===void 0||u.call(s,o)},r.isSelectedTime=function(o){return r.props.selected&&TOe(r.props.selected,o)},r.isDisabledTime=function(o){return(r.props.minTime||r.props.maxTime)&&E9(o,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&x9(o,r.props)},r.liClasses=function(o){var s,u=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(o):void 0];return r.isSelectedTime(o)&&u.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(o)&&u.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(xs(o)*3600+Es(o)*60+ca(o))%(((s=r.props.intervals)!==null&&s!==void 0?s:t.defaultProps.intervals)*60)!==0&&u.push("react-datepicker__time-list-item--injected"),u.join(" ")},r.handleOnKeyDown=function(o,s){var u,h;o.key===Ie.Space&&(o.preventDefault(),o.key=Ie.Enter),(o.key===Ie.ArrowUp||o.key===Ie.ArrowLeft)&&o.target instanceof HTMLElement&&o.target.previousSibling&&(o.preventDefault(),o.target.previousSibling instanceof HTMLElement&&o.target.previousSibling.focus()),(o.key===Ie.ArrowDown||o.key===Ie.ArrowRight)&&o.target instanceof HTMLElement&&o.target.nextSibling&&(o.preventDefault(),o.target.nextSibling instanceof HTMLElement&&o.target.nextSibling.focus()),o.key===Ie.Enter&&r.handleClick(s),(h=(u=r.props).handleOnKeyDown)===null||h===void 0||h.call(u,o)},r.renderTimes=function(){for(var o,s=[],u=r.props.format?r.props.format:"p",h=(o=r.props.intervals)!==null&&o!==void 0?o:t.defaultProps.intervals,m=r.props.selected||r.props.openToDate||Kt(),f=Jv(m),k=r.props.injectTimes&&r.props.injectTimes.sort(function(I,T){return I.getTime()-T.getTime()}),v=60*DOe(m),_=v/h,y=0;y<_;y++){var A=bS(f,y*h);if(s.push(A),k){var S=SOe(f,A,y,h,k);s=s.concat(S)}}var E=s.reduce(function(I,T){return T.getTime()<=m.getTime()?T:I},s[0]);return s.map(function(I){return le.createElement("li",{key:I.valueOf(),onClick:r.handleClick.bind(r,I),className:r.liClasses(I),ref:function(T){I===E&&(r.centerLi=T)},onKeyDown:function(T){r.handleOnKeyDown(T,I)},tabIndex:I===E?0:-1,role:"option","aria-selected":r.isSelectedTime(I)?"true":void 0,"aria-disabled":r.isDisabledTime(I)?"true":void 0},bn(I,u,r.props.locale))})},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time"}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var r=this,o,s=this.state.height;return le.createElement("div",{className:"react-datepicker__time-container ".concat(((o=this.props.todayButton)!==null&&o!==void 0?o:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},le.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(u){r.header=u}},le.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),le.createElement("div",{className:"react-datepicker__time"},le.createElement("div",{className:"react-datepicker__time-box"},le.createElement("ul",{className:"react-datepicker__time-list",ref:function(u){r.list=u},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(r,o){return o.offsetTop-(r/2-o.clientHeight/2)},t}(L.Component),L9=3,HOe=function(e){wr(t,e);function t(r){var o=e.call(this,r)||this;return o.YEAR_REFS=gs([],Array(o.props.yearItemNumber),!0).map(function(){return L.createRef()}),o.isDisabled=function(s){return el(s,{minDate:o.props.minDate,maxDate:o.props.maxDate,excludeDates:o.props.excludeDates,includeDates:o.props.includeDates,filterDate:o.props.filterDate})},o.isExcluded=function(s){return bI(s,{excludeDates:o.props.excludeDates})},o.selectingDate=function(){var s;return(s=o.props.selectingDate)!==null&&s!==void 0?s:o.props.preSelection},o.updateFocusOnPaginate=function(s){var u=function(){var h,m;(m=(h=o.YEAR_REFS[s])===null||h===void 0?void 0:h.current)===null||m===void 0||m.focus()};window.requestAnimationFrame(u)},o.handleYearClick=function(s,u){o.props.onDayClick&&o.props.onDayClick(s,u)},o.handleYearNavigation=function(s,u){var h,m,f,k,v=o.props,_=v.date,y=v.yearItemNumber;if(!(_===void 0||y===void 0)){var A=tl(_,y).startPeriod;o.isDisabled(u)||o.isExcluded(u)||((m=(h=o.props).setPreSelection)===null||m===void 0||m.call(h,u),s-A<0?o.updateFocusOnPaginate(y-(A-s)):s-A>=y?o.updateFocusOnPaginate(Math.abs(y-(s-A))):(k=(f=o.YEAR_REFS[s-A])===null||f===void 0?void 0:f.current)===null||k===void 0||k.focus())}},o.isSameDay=function(s,u){return xt(s,u)},o.isCurrentYear=function(s){return s===gt(Kt())},o.isRangeStart=function(s){return o.props.startDate&&o.props.endDate&&ls(is(Kt(),s),o.props.startDate)},o.isRangeEnd=function(s){return o.props.startDate&&o.props.endDate&&ls(is(Kt(),s),o.props.endDate)},o.isInRange=function(s){return mv(s,o.props.startDate,o.props.endDate)},o.isInSelectingRange=function(s){var u=o.props,h=u.selectsStart,m=u.selectsEnd,f=u.selectsRange,k=u.startDate,v=u.endDate;return!(h||m||f)||!o.selectingDate()?!1:h&&v?mv(s,o.selectingDate(),v):m&&k||f&&k&&!v?mv(s,k,o.selectingDate()):!1},o.isSelectingRangeStart=function(s){var u;if(!o.isInSelectingRange(s))return!1;var h=o.props,m=h.startDate,f=h.selectsStart,k=is(Kt(),s);return f?ls(k,(u=o.selectingDate())!==null&&u!==void 0?u:null):ls(k,m??null)},o.isSelectingRangeEnd=function(s){var u;if(!o.isInSelectingRange(s))return!1;var h=o.props,m=h.endDate,f=h.selectsEnd,k=h.selectsRange,v=is(Kt(),s);return f||k?ls(v,(u=o.selectingDate())!==null&&u!==void 0?u:null):ls(v,m??null)},o.isKeyboardSelected=function(s){if(!(o.props.date===void 0||o.props.selected==null||o.props.preSelection==null)){var u=o.props,h=u.minDate,m=u.maxDate,f=u.excludeDates,k=u.includeDates,v=u.filterDate,_=Pf(is(o.props.date,s)),y=(h||m||f||k||v)&&AS(s,o.props);return!o.props.disabledKeyboardNavigation&&!o.props.inline&&!xt(_,Pf(o.props.selected))&&xt(_,Pf(o.props.preSelection))&&!y}},o.onYearClick=function(s,u){var h=o.props.date;h!==void 0&&o.handleYearClick(Pf(is(h,u)),s)},o.onYearKeyDown=function(s,u){var h,m,f=s.key,k=o.props,v=k.date,_=k.yearItemNumber,y=k.handleOnKeyDown;if(f!==Ie.Tab&&s.preventDefault(),!o.props.disabledKeyboardNavigation)switch(f){case Ie.Enter:if(o.props.selected==null)break;o.onYearClick(s,u),(m=(h=o.props).setPreSelection)===null||m===void 0||m.call(h,o.props.selected);break;case Ie.ArrowRight:if(o.props.preSelection==null)break;o.handleYearNavigation(u+1,aa(o.props.preSelection,1));break;case Ie.ArrowLeft:if(o.props.preSelection==null)break;o.handleYearNavigation(u-1,Ah(o.props.preSelection,1));break;case Ie.ArrowUp:{if(v===void 0||_===void 0||o.props.preSelection==null)break;var A=tl(v,_).startPeriod,S=L9,E=u-S;if(E<A){var I=_%S;u>=A&&u<A+I?S=I:S+=I,E=u-S}o.handleYearNavigation(E,Ah(o.props.preSelection,S));break}case Ie.ArrowDown:{if(v===void 0||_===void 0||o.props.preSelection==null)break;var T=tl(v,_).endPeriod,S=L9,E=u+S;if(E>T){var I=_%S;u<=T&&u>T-I?S=I:S+=I,E=u+S}o.handleYearNavigation(E,aa(o.props.preSelection,S));break}}y&&y(s)},o.getYearClassNames=function(s){var u=o.props,h=u.date,m=u.minDate,f=u.maxDate,k=u.selected,v=u.excludeDates,_=u.includeDates,y=u.filterDate,A=u.yearClassName;return ke("react-datepicker__year-text","react-datepicker__year-".concat(s),h?A==null?void 0:A(is(h,s)):void 0,{"react-datepicker__year-text--selected":k?s===gt(k):void 0,"react-datepicker__year-text--disabled":(m||f||v||_||y)&&AS(s,o.props),"react-datepicker__year-text--keyboard-selected":o.isKeyboardSelected(s),"react-datepicker__year-text--range-start":o.isRangeStart(s),"react-datepicker__year-text--range-end":o.isRangeEnd(s),"react-datepicker__year-text--in-range":o.isInRange(s),"react-datepicker__year-text--in-selecting-range":o.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":o.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":o.isSelectingRangeEnd(s),"react-datepicker__year-text--today":o.isCurrentYear(s)})},o.getYearTabIndex=function(s){if(o.props.disabledKeyboardNavigation||o.props.preSelection==null)return"-1";var u=gt(o.props.preSelection);return s===u?"0":"-1"},o.getYearContainerClassNames=function(){var s=o.props,u=s.selectingDate,h=s.selectsStart,m=s.selectsEnd,f=s.selectsRange;return ke("react-datepicker__year",{"react-datepicker__year--selecting-range":u&&(h||m||f)})},o.getYearContent=function(s){return o.props.renderYearContent?o.props.renderYearContent(s):s},o}return t.prototype.render=function(){var r=this,o=[],s=this.props,u=s.date,h=s.yearItemNumber,m=s.onYearMouseEnter,f=s.onYearMouseLeave;if(u===void 0)return null;for(var k=tl(u,h),v=k.startPeriod,_=k.endPeriod,y=function(E){o.push(le.createElement("div",{ref:A.YEAR_REFS[E-v],onClick:function(I){r.onYearClick(I,E)},onKeyDown:function(I){zG(I)&&(I.preventDefault(),I.key=Ie.Enter),r.onYearKeyDown(I,E)},tabIndex:Number(A.getYearTabIndex(E)),className:A.getYearClassNames(E),onMouseEnter:A.props.usePointerEvent?void 0:function(I){return m(I,E)},onPointerEnter:A.props.usePointerEvent?function(I){return m(I,E)}:void 0,onMouseLeave:A.props.usePointerEvent?void 0:function(I){return f(I,E)},onPointerLeave:A.props.usePointerEvent?function(I){return f(I,E)}:void 0,key:E,"aria-current":A.isCurrentYear(E)?"date":void 0},A.getYearContent(E)))},A=this,S=v;S<=_;S++)y(S);return le.createElement("div",{className:this.getYearContainerClassNames()},le.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},o))},t}(L.Component);function WOe(e,t,r,o){for(var s=[],u=0;u<2*t+1;u++){var h=e+t-u,m=!0;r&&(m=gt(r)<=h),o&&m&&(m=gt(o)>=h),m&&s.push(h)}return s}var qOe=function(e){wr(t,e);function t(r){var o=e.call(this,r)||this;o.renderOptions=function(){var m=o.props.year,f=o.state.yearsList.map(function(_){return le.createElement("div",{className:m===_?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:_,onClick:o.onChange.bind(o,_),"aria-selected":m===_?"true":void 0},m===_?le.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",_)}),k=o.props.minDate?gt(o.props.minDate):null,v=o.props.maxDate?gt(o.props.maxDate):null;return(!v||!o.state.yearsList.find(function(_){return _===v}))&&f.unshift(le.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:o.incrementYears},le.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!k||!o.state.yearsList.find(function(_){return _===k}))&&f.push(le.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:o.decrementYears},le.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),f},o.onChange=function(m){o.props.onChange(m)},o.handleClickOutside=function(){o.props.onCancel()},o.shiftYears=function(m){var f=o.state.yearsList.map(function(k){return k+m});o.setState({yearsList:f})},o.incrementYears=function(){return o.shiftYears(1)},o.decrementYears=function(){return o.shiftYears(-1)};var s=r.yearDropdownItemNumber,u=r.scrollableYearDropdown,h=s||(u?10:5);return o.state={yearsList:WOe(o.props.year,h,o.props.minDate,o.props.maxDate)},o.dropdownRef=L.createRef(),o}return t.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var o=r.children?Array.from(r.children):null,s=o?o.find(function(u){return u.ariaSelected}):null;r.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},t.prototype.render=function(){var r=ke({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return le.createElement("div",{className:r,ref:this.dropdownRef},this.renderOptions())},t}(L.Component),GOe=A_(qOe),KOe=function(e){wr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var o=r.props.minDate?gt(r.props.minDate):1900,s=r.props.maxDate?gt(r.props.maxDate):2100,u=[],h=o;h<=s;h++)u.push(le.createElement("option",{key:h,value:h},h));return u},r.onSelectChange=function(o){r.onChange(parseInt(o.target.value))},r.renderSelectMode=function(){return le.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(o){return le.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(s){return r.toggleDropdown(s)}},le.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),le.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return le.createElement(GOe,Nt({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var o=r.state.dropdownVisible,s=[r.renderReadView(!o)];return o&&s.unshift(r.renderDropdown()),s},r.onChange=function(o){r.toggleDropdown(),o!==r.props.year&&r.props.onChange(o)},r.toggleDropdown=function(o){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,o)})},r.handleYearChange=function(o,s){r.onSelect(o,s),r.setOpen()},r.onSelect=function(o,s){r.props.onSelect&&r.props.onSelect(o,s)},r.setOpen=function(){r.props.setOpen&&r.props.setOpen(!0)},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return le.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(L.Component),YOe=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],QOe=function(e){var t=(e.className||"").split(/\s+/);return YOe.some(function(r){return t.indexOf(r)>=0})},ZOe=function(e){wr(t,e);function t(r){var o=e.call(this,r)||this;return o.monthContainer=void 0,o.handleClickOutside=function(s){o.props.onClickOutside(s)},o.setClickOutsideRef=function(){return o.containerRef.current},o.handleDropdownFocus=function(s){var u,h;QOe(s.target)&&((h=(u=o.props).onDropdownFocus)===null||h===void 0||h.call(u,s))},o.getDateInView=function(){var s=o.props,u=s.preSelection,h=s.selected,m=s.openToDate,f=jG(o.props),k=FG(o.props),v=Kt(),_=m||h||u;return _||(f&&tu(v,f)?f:k&&Al(v,k)?k:v)},o.increaseMonth=function(){o.setState(function(s){var u=s.date;return{date:qi(u,1)}},function(){return o.handleMonthChange(o.state.date)})},o.decreaseMonth=function(){o.setState(function(s){var u=s.date;return{date:Ch(u,1)}},function(){return o.handleMonthChange(o.state.date)})},o.handleDayClick=function(s,u,h){o.props.onSelect(s,u,h),o.props.setPreSelection&&o.props.setPreSelection(s)},o.handleDayMouseEnter=function(s){o.setState({selectingDate:s}),o.props.onDayMouseEnter&&o.props.onDayMouseEnter(s)},o.handleMonthMouseLeave=function(){o.setState({selectingDate:void 0}),o.props.onMonthMouseLeave&&o.props.onMonthMouseLeave()},o.handleYearMouseEnter=function(s,u){o.setState({selectingDate:is(Kt(),u)}),o.props.onYearMouseEnter&&o.props.onYearMouseEnter(s,u)},o.handleYearMouseLeave=function(s,u){o.props.onYearMouseLeave&&o.props.onYearMouseLeave(s,u)},o.handleYearChange=function(s){o.props.onYearChange&&(o.props.onYearChange(s),o.setState({isRenderAriaLiveMessage:!0})),o.props.adjustDateOnChange&&(o.props.onSelect&&o.props.onSelect(s),o.props.setOpen&&o.props.setOpen(!0)),o.props.setPreSelection&&o.props.setPreSelection(s)},o.handleMonthChange=function(s){o.handleCustomMonthChange(s),o.props.adjustDateOnChange&&(o.props.onSelect&&o.props.onSelect(s),o.props.setOpen&&o.props.setOpen(!0)),o.props.setPreSelection&&o.props.setPreSelection(s)},o.handleCustomMonthChange=function(s){o.props.onMonthChange&&(o.props.onMonthChange(s),o.setState({isRenderAriaLiveMessage:!0}))},o.handleMonthYearChange=function(s){o.handleYearChange(s),o.handleMonthChange(s)},o.changeYear=function(s){o.setState(function(u){var h=u.date;return{date:is(h,Number(s))}},function(){return o.handleYearChange(o.state.date)})},o.changeMonth=function(s){o.setState(function(u){var h=u.date;return{date:Oo(h,Number(s))}},function(){return o.handleMonthChange(o.state.date)})},o.changeMonthYear=function(s){o.setState(function(u){var h=u.date;return{date:is(Oo(h,Jr(s)),gt(s))}},function(){return o.handleMonthYearChange(o.state.date)})},o.header=function(s){s===void 0&&(s=o.state.date);var u=fl(s,o.props.locale,o.props.calendarStartDay),h=[];return o.props.showWeekNumbers&&h.push(le.createElement("div",{key:"W",className:"react-datepicker__day-name"},o.props.weekLabel||"#")),h.concat([0,1,2,3,4,5,6].map(function(m){var f=jl(u,m),k=o.formatWeekday(f,o.props.locale),v=o.props.weekDayClassName?o.props.weekDayClassName(f):void 0;return le.createElement("div",{key:m,"aria-label":bn(f,"EEEE",o.props.locale),className:ke("react-datepicker__day-name",v)},k)}))},o.formatWeekday=function(s,u){return o.props.formatWeekDay?gOe(s,o.props.formatWeekDay,u):o.props.useWeekdaysShort?kOe(s,u):bOe(s,u)},o.decreaseYear=function(){o.setState(function(s){var u,h=s.date;return{date:Ah(h,o.props.showYearPicker?(u=o.props.yearItemNumber)!==null&&u!==void 0?u:t.defaultProps.yearItemNumber:1)}},function(){return o.handleYearChange(o.state.date)})},o.clearSelectingDate=function(){o.setState({selectingDate:void 0})},o.renderPreviousButton=function(){var s;if(!o.props.renderCustomHeader){var u;switch(!0){case o.props.showMonthYearPicker:u=T9(o.state.date,o.props);break;case o.props.showYearPicker:u=COe(o.state.date,o.props);break;case o.props.showQuarterYearPicker:u=yOe(o.state.date,o.props);break;default:u=S9(o.state.date,o.props);break}if(!(!((s=o.props.forceShowMonthNavigation)!==null&&s!==void 0?s:t.defaultProps.forceShowMonthNavigation)&&!o.props.showDisabledMonthNavigation&&u||o.props.showTimeSelectOnly)){var h=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],m=["react-datepicker__navigation","react-datepicker__navigation--previous"],f=o.decreaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(f=o.decreaseYear),u&&o.props.showDisabledMonthNavigation&&(m.push("react-datepicker__navigation--previous--disabled"),f=void 0);var k=o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker,v=o.props,_=v.previousMonthButtonLabel,y=_===void 0?t.defaultProps.previousMonthButtonLabel:_,A=v.previousYearButtonLabel,S=A===void 0?t.defaultProps.previousYearButtonLabel:A,E=o.props,I=E.previousMonthAriaLabel,T=I===void 0?typeof y=="string"?y:"Previous Month":I,R=E.previousYearAriaLabel,O=R===void 0?typeof S=="string"?S:"Previous Year":R;return le.createElement("button",{type:"button",className:m.join(" "),onClick:f,onKeyDown:o.props.handleOnKeyDown,"aria-label":k?O:T},le.createElement("span",{className:h.join(" ")},k?S:y))}}},o.increaseYear=function(){o.setState(function(s){var u,h=s.date;return{date:aa(h,o.props.showYearPicker?(u=o.props.yearItemNumber)!==null&&u!==void 0?u:t.defaultProps.yearItemNumber:1)}},function(){return o.handleYearChange(o.state.date)})},o.renderNextButton=function(){var s;if(!o.props.renderCustomHeader){var u;switch(!0){case o.props.showMonthYearPicker:u=I9(o.state.date,o.props);break;case o.props.showYearPicker:u=AOe(o.state.date,o.props);break;case o.props.showQuarterYearPicker:u=_Oe(o.state.date,o.props);break;default:u=D9(o.state.date,o.props);break}if(!(!((s=o.props.forceShowMonthNavigation)!==null&&s!==void 0?s:t.defaultProps.forceShowMonthNavigation)&&!o.props.showDisabledMonthNavigation&&u||o.props.showTimeSelectOnly)){var h=["react-datepicker__navigation","react-datepicker__navigation--next"],m=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];o.props.showTimeSelect&&h.push("react-datepicker__navigation--next--with-time"),o.props.todayButton&&h.push("react-datepicker__navigation--next--with-today-button");var f=o.increaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(f=o.increaseYear),u&&o.props.showDisabledMonthNavigation&&(h.push("react-datepicker__navigation--next--disabled"),f=void 0);var k=o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker,v=o.props,_=v.nextMonthButtonLabel,y=_===void 0?t.defaultProps.nextMonthButtonLabel:_,A=v.nextYearButtonLabel,S=A===void 0?t.defaultProps.nextYearButtonLabel:A,E=o.props,I=E.nextMonthAriaLabel,T=I===void 0?typeof y=="string"?y:"Next Month":I,R=E.nextYearAriaLabel,O=R===void 0?typeof S=="string"?S:"Next Year":R;return le.createElement("button",{type:"button",className:h.join(" "),onClick:f,onKeyDown:o.props.handleOnKeyDown,"aria-label":k?O:T},le.createElement("span",{className:m.join(" ")},k?S:y))}}},o.renderCurrentMonth=function(s){s===void 0&&(s=o.state.date);var u=["react-datepicker__current-month"];return o.props.showYearDropdown&&u.push("react-datepicker__current-month--hasYearDropdown"),o.props.showMonthDropdown&&u.push("react-datepicker__current-month--hasMonthDropdown"),o.props.showMonthYearDropdown&&u.push("react-datepicker__current-month--hasMonthYearDropdown"),le.createElement("h2",{className:u.join(" ")},bn(s,o.props.dateFormat,o.props.locale))},o.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!o.props.showYearDropdown||s))return le.createElement(KOe,Nt({},t.defaultProps,o.props,{date:o.state.date,onChange:o.changeYear,year:gt(o.state.date)}))},o.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!o.props.showMonthDropdown||s))return le.createElement(jOe,Nt({},t.defaultProps,o.props,{month:Jr(o.state.date),onChange:o.changeMonth}))},o.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!o.props.showMonthYearDropdown||s))return le.createElement(VOe,Nt({},t.defaultProps,o.props,{date:o.state.date,onChange:o.changeMonthYear}))},o.handleTodayButtonClick=function(s){o.props.onSelect(_9(),s),o.props.setPreSelection&&o.props.setPreSelection(_9())},o.renderTodayButton=function(){if(!(!o.props.todayButton||o.props.showTimeSelectOnly))return le.createElement("div",{className:"react-datepicker__today-button",onClick:o.handleTodayButtonClick},o.props.todayButton)},o.renderDefaultHeader=function(s){var u=s.monthDate,h=s.i;return le.createElement("div",{className:"react-datepicker__header ".concat(o.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},o.renderCurrentMonth(u),le.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(o.props.dropdownMode),onFocus:o.handleDropdownFocus},o.renderMonthDropdown(h!==0),o.renderMonthYearDropdown(h!==0),o.renderYearDropdown(h!==0)),le.createElement("div",{className:"react-datepicker__day-names"},o.header(u)))},o.renderCustomHeader=function(s){var u,h,m=s.monthDate,f=s.i;if(o.props.showTimeSelect&&!o.state.monthContainer||o.props.showTimeSelectOnly)return null;var k=S9(o.state.date,o.props),v=D9(o.state.date,o.props),_=T9(o.state.date,o.props),y=I9(o.state.date,o.props),A=!o.props.showMonthYearPicker&&!o.props.showQuarterYearPicker&&!o.props.showYearPicker;return le.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:o.props.onDropdownFocus},(h=(u=o.props).renderCustomHeader)===null||h===void 0?void 0:h.call(u,Nt(Nt({},o.state),{customHeaderCount:f,monthDate:m,changeMonth:o.changeMonth,changeYear:o.changeYear,decreaseMonth:o.decreaseMonth,increaseMonth:o.increaseMonth,decreaseYear:o.decreaseYear,increaseYear:o.increaseYear,prevMonthButtonDisabled:k,nextMonthButtonDisabled:v,prevYearButtonDisabled:_,nextYearButtonDisabled:y})),A&&le.createElement("div",{className:"react-datepicker__day-names"},o.header(m)))},o.renderYearHeader=function(s){var u=s.monthDate,h=o.props,m=h.showYearPicker,f=h.yearItemNumber,k=f===void 0?t.defaultProps.yearItemNumber:f,v=tl(u,k),_=v.startPeriod,y=v.endPeriod;return le.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},m?"".concat(_," - ").concat(y):gt(u))},o.renderHeader=function(s){var u=s.monthDate,h=s.i,m=h===void 0?0:h,f={monthDate:u,i:m};switch(!0){case o.props.renderCustomHeader!==void 0:return o.renderCustomHeader(f);case(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker):return o.renderYearHeader(f);default:return o.renderDefaultHeader(f)}},o.renderMonths=function(){var s,u;if(!(o.props.showTimeSelectOnly||o.props.showYearPicker)){for(var h=[],m=(s=o.props.monthsShown)!==null&&s!==void 0?s:t.defaultProps.monthsShown,f=o.props.showPreviousMonths?m-1:0,k=o.props.showMonthYearPicker||o.props.showQuarterYearPicker?aa(o.state.date,f):Ch(o.state.date,f),v=(u=o.props.monthSelectedIn)!==null&&u!==void 0?u:f,_=0;_<m;++_){var y=_-v+f,A=o.props.showMonthYearPicker||o.props.showQuarterYearPicker?aa(k,y):qi(k,y),S="month-".concat(_),E=_<m-1,I=_>0;h.push(le.createElement("div",{key:S,ref:function(T){o.monthContainer=T??void 0},className:"react-datepicker__month-container"},o.renderHeader({monthDate:A,i:_}),le.createElement(OOe,Nt({},t.defaultProps,o.props,{ariaLabelPrefix:o.props.monthAriaLabelPrefix,day:A,onDayClick:o.handleDayClick,handleOnKeyDown:o.props.handleOnDayKeyDown,handleOnMonthKeyDown:o.props.handleOnKeyDown,onDayMouseEnter:o.handleDayMouseEnter,onMouseLeave:o.handleMonthMouseLeave,orderInDisplay:_,selectingDate:o.state.selectingDate,monthShowsDuplicateDaysEnd:E,monthShowsDuplicateDaysStart:I}))))}return h}},o.renderYears=function(){if(!o.props.showTimeSelectOnly&&o.props.showYearPicker)return le.createElement("div",{className:"react-datepicker__year--container"},o.renderHeader({monthDate:o.state.date}),le.createElement(HOe,Nt({},t.defaultProps,o.props,{selectingDate:o.state.selectingDate,date:o.state.date,onDayClick:o.handleDayClick,clearSelectingDate:o.clearSelectingDate,onYearMouseEnter:o.handleYearMouseEnter,onYearMouseLeave:o.handleYearMouseLeave})))},o.renderTimeSection=function(){if(o.props.showTimeSelect&&(o.state.monthContainer||o.props.showTimeSelectOnly))return le.createElement(UOe,Nt({},t.defaultProps,o.props,{onChange:o.props.onTimeChange,format:o.props.timeFormat,intervals:o.props.timeIntervals,monthRef:o.state.monthContainer}))},o.renderInputTimeSection=function(){var s=o.props.selected?new Date(o.props.selected):void 0,u=s&&Qs(s)&&!!o.props.selected,h=u?"".concat(P9(s.getHours()),":").concat(P9(s.getMinutes())):"";if(o.props.showTimeInput)return le.createElement(IOe,Nt({},t.defaultProps,o.props,{date:s,timeString:h,onChange:o.props.onTimeChange}))},o.renderAriaLiveRegion=function(){var s,u=tl(o.state.date,(s=o.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber),h=u.startPeriod,m=u.endPeriod,f;return o.props.showYearPicker?f="".concat(h," - ").concat(m):o.props.showMonthYearPicker||o.props.showQuarterYearPicker?f=gt(o.state.date):f="".concat(gI(Jr(o.state.date),o.props.locale)," ").concat(gt(o.state.date)),le.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},o.state.isRenderAriaLiveMessage&&f)},o.renderChildren=function(){if(o.props.children)return le.createElement("div",{className:"react-datepicker__children-container"},o.props.children)},o.containerRef=L.createRef(),o.state={date:o.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},o}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Yg}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){r.setState({monthContainer:r.monthContainer})}())},t.prototype.componentDidUpdate=function(r){var o=this;if(this.props.preSelection&&(!xt(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var s=!Qr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&o.handleCustomMonthChange(o.state.date)})}else this.props.openToDate&&!xt(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var r=this.props.container||lOe;return le.createElement("div",{style:{display:"contents"},ref:this.containerRef},le.createElement(r,{className:ke("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},t}(L.Component),JOe=function(e){var t=e.icon,r=e.className,o=r===void 0?"":r,s=e.onClick,u="react-datepicker__calendar-icon";return typeof t=="string"?le.createElement("i",{className:"".concat(u," ").concat(t," ").concat(o),"aria-hidden":"true",onClick:s}):le.isValidElement(t)?le.cloneElement(t,{className:"".concat(t.props.className||""," ").concat(u," ").concat(o),onClick:function(h){typeof t.props.onClick=="function"&&t.props.onClick(h),typeof s=="function"&&s(h)}}):le.createElement("svg",{className:"".concat(u," ").concat(o),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},le.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},$G=function(e){wr(t,e);function t(r){var o=e.call(this,r)||this;return o.portalRoot=null,o.el=document.createElement("div"),o}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return Af.createPortal(this.props.children,this.el)},t}(L.Component),XOe="[tabindex], a, button, input, select, textarea",eBe=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},VG=function(e){wr(t,e);function t(r){var o=e.call(this,r)||this;return o.getTabChildren=function(){var s;return Array.prototype.slice.call((s=o.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(XOe),1,-1).filter(eBe)},o.handleFocusStart=function(){var s=o.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},o.handleFocusEnd=function(){var s=o.getTabChildren();s&&s.length>1&&s[0].focus()},o.tabLoopRef=L.createRef(),o}return t.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:t.defaultProps.enableTabLoop)?le.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},le.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,le.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(L.Component);function tBe(e){var t=function(r){var o,s=typeof r.hidePopper=="boolean"?r.hidePopper:!0,u=L.useRef(null),h=aOe(Nt({open:!s,whileElementsMounted:FRe,placement:r.popperPlacement,middleware:gs([qRe({padding:15}),WRe(10),GRe({element:u})],(o=r.popperModifiers)!==null&&o!==void 0?o:[],!0)},r.popperProps)),m=Nt(Nt({},r),{hidePopper:s,popperProps:Nt(Nt({},h),{arrowRef:u})});return le.createElement(e,Nt({},m))};return t}var nBe=function(e){wr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r=this.props,o=r.className,s=r.wrapperClassName,u=r.hidePopper,h=u===void 0?t.defaultProps.hidePopper:u,m=r.popperComponent,f=r.targetComponent,k=r.enableTabLoop,v=r.popperOnKeyDown,_=r.portalId,y=r.portalHost,A=r.popperProps,S=r.showArrow,E=void 0;if(!h){var I=ke("react-datepicker-popper",o);E=le.createElement(VG,{enableTabLoop:k},le.createElement("div",{ref:A.refs.setFloating,style:A.floatingStyles,className:I,"data-placement":A.placement,onKeyDown:v},m,S&&le.createElement(eOe,{ref:A.arrowRef,context:A.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(E=L.createElement(this.props.popperContainer,{},E)),_&&!h&&(E=le.createElement($G,{portalId:_,portalHost:y},E));var T=ke("react-datepicker-wrapper",s);return le.createElement(le.Fragment,null,le.createElement("div",{ref:A.refs.setReference,className:T},f),E)},t}(L.Component),rBe=tBe(nBe),j9="react-datepicker-ignore-onclickoutside",oBe=A_(ZOe);function iBe(e,t){return e&&t?Jr(e)!==Jr(t)||gt(e)!==gt(t):e!==t}var mx="Date input not valid.",sBe=function(e){wr(t,e);function t(r){var o=e.call(this,r)||this;return o.calendar=null,o.input=null,o.getPreSelection=function(){return o.props.openToDate?o.props.openToDate:o.props.selectsEnd&&o.props.startDate?o.props.startDate:o.props.selectsStart&&o.props.endDate?o.props.endDate:Kt()},o.modifyHolidays=function(){var s;return(s=o.props.holidays)===null||s===void 0?void 0:s.reduce(function(u,h){var m=new Date(h.date);return Qs(m)?gs(gs([],u,!0),[Nt(Nt({},h),{date:m})],!1):u},[])},o.calcInitialState=function(){var s,u=o.getPreSelection(),h=jG(o.props),m=FG(o.props),f=h&&tu(u,Jv(h))?h:m&&Al(u,C9(m))?m:u;return{open:o.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=o.props.selectsRange?o.props.startDate:o.props.selected)!==null&&s!==void 0?s:f,highlightDates:M9(o.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},o.resetHiddenStatus=function(){o.setState(Nt(Nt({},o.state),{wasHidden:!1}))},o.setHiddenStatus=function(){o.setState(Nt(Nt({},o.state),{wasHidden:!0}))},o.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&o.setHiddenStatus()},o.clearPreventFocusTimeout=function(){o.preventFocusTimeout&&clearTimeout(o.preventFocusTimeout)},o.setFocus=function(){o.input&&o.input.focus&&o.input.focus({preventScroll:!0})},o.setBlur=function(){o.input&&o.input.blur&&o.input.blur(),o.cancelFocusInput()},o.setOpen=function(s,u){u===void 0&&(u=!1),o.setState({open:s,preSelection:s&&o.state.open?o.state.preSelection:o.calcInitialState().preSelection,lastPreSelectChange:gx},function(){s||o.setState(function(h){return{focused:u?h.focused:!1}},function(){!u&&o.setBlur(),o.setState({inputValue:null})})})},o.inputOk=function(){return la(o.state.preSelection)},o.isCalendarOpen=function(){return o.props.open===void 0?o.state.open&&!o.props.disabled&&!o.props.readOnly:o.props.open},o.handleFocus=function(s){var u,h,m=o.state.wasHidden,f=m?o.state.open:!0;m&&o.resetHiddenStatus(),!o.state.preventFocus&&f&&((h=(u=o.props).onFocus)===null||h===void 0||h.call(u,s),!o.props.preventOpenOnFocus&&!o.props.readOnly&&o.setOpen(!0)),o.setState({focused:!0})},o.sendFocusBackToInput=function(){o.preventFocusTimeout&&o.clearPreventFocusTimeout(),o.setState({preventFocus:!0},function(){o.preventFocusTimeout=setTimeout(function(){o.setFocus(),o.setState({preventFocus:!1})})})},o.cancelFocusInput=function(){clearTimeout(o.inputFocusTimeout),o.inputFocusTimeout=void 0},o.deferFocusInput=function(){o.cancelFocusInput(),o.inputFocusTimeout=setTimeout(function(){return o.setFocus()},1)},o.handleDropdownFocus=function(){o.cancelFocusInput()},o.handleBlur=function(s){var u,h;(!o.state.open||o.props.withPortal||o.props.showTimeInput)&&((h=(u=o.props).onBlur)===null||h===void 0||h.call(u,s)),o.setState({focused:!1})},o.handleCalendarClickOutside=function(s){var u,h;o.props.inline||o.setOpen(!1),(h=(u=o.props).onClickOutside)===null||h===void 0||h.call(u,s),o.props.withPortal&&s.preventDefault()},o.handleChange=function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];var h=s[0];if(!(o.props.onChangeRaw&&(o.props.onChangeRaw.apply(o,s),!h||typeof h.isDefaultPrevented!="function"||h.isDefaultPrevented()))){o.setState({inputValue:(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:null,lastPreSelectChange:aBe});var m=o.props,f=m.dateFormat,k=f===void 0?t.defaultProps.dateFormat:f,v=m.strictParsing,_=v===void 0?t.defaultProps.strictParsing:v,y=uOe((h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:"",k,o.props.locale,_,o.props.minDate);o.props.showTimeSelectOnly&&o.props.selected&&y&&!xt(y,o.props.selected)&&(y=iRe(o.props.selected,{hours:xs(y),minutes:Es(y),seconds:ca(y)})),(y||!((h==null?void 0:h.target)instanceof HTMLInputElement)||!(h!=null&&h.target.value))&&o.setSelected(y,h,!0)}},o.handleSelect=function(s,u,h){if(o.props.shouldCloseOnSelect&&!o.props.showTimeSelect&&o.sendFocusBackToInput(),o.props.onChangeRaw&&o.props.onChangeRaw(u),o.setSelected(s,u,!1,h),o.props.showDateSelect&&o.setState({isRenderAriaLiveMessage:!0}),!o.props.shouldCloseOnSelect||o.props.showTimeSelect)o.setPreSelection(s);else if(!o.props.inline){o.props.selectsRange||o.setOpen(!1);var m=o.props,f=m.startDate,k=m.endDate;f&&!k&&(o.props.swapRange||!O9(s,f))&&o.setOpen(!1)}},o.setSelected=function(s,u,h,m){var f,k=s;if(o.props.showYearPicker){if(k!==null&&AS(gt(k),o.props))return}else if(o.props.showMonthYearPicker){if(k!==null&&LG(k,o.props))return}else if(k!==null&&el(k,o.props))return;var v=o.props,_=v.onChange,y=v.selectsRange,A=v.startDate,S=v.endDate,E=v.selectsMultiple,I=v.selectedDates,T=v.minTime,R=v.swapRange;if(!Ac(o.props.selected,k)||o.props.allowSameDay||y||E)if(k!==null&&(o.props.selected&&(!h||!o.props.showTimeSelect&&!o.props.showTimeSelectOnly&&!o.props.showTimeInput)&&(k=hx(k,{hour:xs(o.props.selected),minute:Es(o.props.selected),second:ca(o.props.selected)})),!h&&(o.props.showTimeSelect||o.props.showTimeSelectOnly)&&T&&(k=hx(k,{hour:T.getHours(),minute:T.getMinutes(),second:T.getSeconds()})),o.props.inline||o.setState({preSelection:k}),o.props.focusSelectedMonth||o.setState({monthSelectedIn:m})),y){var O=!A&&!S,j=A&&!S,$=A&&S;O?_?_([k,null],u):t.defaultProps.onChange:j&&(k===null?_?_([null,null],u):t.defaultProps.onChange:O9(k,A)?R?_?_([k,A],u):t.defaultProps.onChange:_?_([k,null],u):t.defaultProps.onChange:_?_([A,k],u):t.defaultProps.onChange),$&&(_?_([k,null],u):t.defaultProps.onChange)}else if(E){if(k!==null)if(!(I!=null&&I.length))_?_([k],u):t.defaultProps.onChange;else{var H=I.some(function(q){return xt(q,k)});if(H){var P=I.filter(function(q){return!xt(q,k)});_?_(P,u):t.defaultProps.onChange}else _?_(gs(gs([],I,!0),[k],!1),u):t.defaultProps.onChange}}else _?_(k,u):t.defaultProps.onChange;if(!h){var z=(f=o.props.onSelect)!==null&&f!==void 0?f:t.defaultProps.onSelect;z(k,u),o.setState({inputValue:null})}},o.setPreSelection=function(s){var u=la(o.props.minDate),h=la(o.props.maxDate),m=!0;if(s){var f=Jv(s);if(u&&h)m=Nf(s,o.props.minDate,o.props.maxDate);else if(u){var k=Jv(o.props.minDate);m=Al(s,k)||Ac(f,k)}else if(h){var v=C9(o.props.maxDate);m=tu(s,v)||Ac(f,v)}}m&&o.setState({preSelection:s})},o.toggleCalendar=function(){o.setOpen(!o.state.open)},o.handleTimeChange=function(s){var u;if(!(o.props.selectsRange||o.props.selectsMultiple)){var h=o.props.selected?o.props.selected:o.getPreSelection(),m=o.props.selected?s:hx(h,{hour:xs(s),minute:Es(s)});o.setState({preSelection:m});var f=(u=o.props.onChange)!==null&&u!==void 0?u:t.defaultProps.onChange;f(m),o.props.shouldCloseOnSelect&&!o.props.showTimeInput&&(o.sendFocusBackToInput(),o.setOpen(!1)),o.props.showTimeInput&&o.setOpen(!0),(o.props.showTimeSelectOnly||o.props.showTimeSelect)&&o.setState({isRenderAriaLiveMessage:!0}),o.setState({inputValue:null})}},o.onInputClick=function(){var s,u;!o.props.disabled&&!o.props.readOnly&&o.setOpen(!0),(u=(s=o.props).onInputClick)===null||u===void 0||u.call(s)},o.onInputKeyDown=function(s){var u,h,m,f,k;(h=(u=o.props).onKeyDown)===null||h===void 0||h.call(u,s);var v=s.key;if(!o.state.open&&!o.props.inline&&!o.props.preventOpenOnFocus){(v===Ie.ArrowDown||v===Ie.ArrowUp||v===Ie.Enter)&&o.onInputClick();return}if(o.state.open){if(v===Ie.ArrowDown||v===Ie.ArrowUp){s.preventDefault();var _=o.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":o.props.showWeekPicker&&o.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':o.props.showFullMonthYearPicker||o.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',y=((m=o.calendar)===null||m===void 0?void 0:m.componentNode)instanceof Element&&o.calendar.componentNode.querySelector(_);y instanceof HTMLElement&&y.focus({preventScroll:!0});return}var A=Kt(o.state.preSelection);v===Ie.Enter?(s.preventDefault(),o.inputOk()&&o.state.lastPreSelectChange===gx?(o.handleSelect(A,s),!o.props.shouldCloseOnSelect&&o.setPreSelection(A)):o.setOpen(!1)):v===Ie.Escape?(s.preventDefault(),o.sendFocusBackToInput(),o.setOpen(!1)):v===Ie.Tab&&o.setOpen(!1),o.inputOk()||(k=(f=o.props).onInputError)===null||k===void 0||k.call(f,{code:1,msg:mx})}},o.onPortalKeyDown=function(s){var u=s.key;u===Ie.Escape&&(s.preventDefault(),o.setState({preventFocus:!0},function(){o.setOpen(!1),setTimeout(function(){o.setFocus(),o.setState({preventFocus:!1})})}))},o.onDayKeyDown=function(s){var u,h,m,f,k=o.props,v=k.minDate,_=k.maxDate,y=k.disabledKeyboardNavigation,A=k.showWeekPicker,S=k.shouldCloseOnSelect,E=k.locale,I=k.calendarStartDay,T=k.adjustDateOnChange,R=k.inline;if((h=(u=o.props).onKeyDown)===null||h===void 0||h.call(u,s),!y){var O=s.key,j=s.shiftKey,$=Kt(o.state.preSelection),H=function(X,Z){var J=Z;switch(X){case Ie.ArrowRight:J=A?aw(Z,1):jl(Z,1);break;case Ie.ArrowLeft:J=A?d9(Z,1):sRe(Z,1);break;case Ie.ArrowUp:J=d9(Z,1);break;case Ie.ArrowDown:J=aw(Z,1);break;case Ie.PageUp:J=j?Ah(Z,1):Ch(Z,1);break;case Ie.PageDown:J=j?aa(Z,1):qi(Z,1);break;case Ie.Home:J=fl(Z,E,I);break;case Ie.End:J=mOe(Z);break}return J},P=function(X,Z){for(var J=40,ee=X,ne=!1,G=0,re=H(X,Z);!ne;){if(G>=J){re=Z;break}v&&re<v&&(ee=Ie.ArrowRight,re=el(v,o.props)?H(ee,re):v),_&&re>_&&(ee=Ie.ArrowLeft,re=el(_,o.props)?H(ee,re):_),el(re,o.props)?((ee===Ie.PageUp||ee===Ie.Home)&&(ee=Ie.ArrowRight),(ee===Ie.PageDown||ee===Ie.End)&&(ee=Ie.ArrowLeft),re=H(ee,re)):ne=!0,G++}return re};if(O===Ie.Enter){s.preventDefault(),o.handleSelect($,s),!S&&o.setPreSelection($);return}else if(O===Ie.Escape){s.preventDefault(),o.setOpen(!1),o.inputOk()||(f=(m=o.props).onInputError)===null||f===void 0||f.call(m,{code:1,msg:mx});return}var z=null;switch(O){case Ie.ArrowLeft:case Ie.ArrowRight:case Ie.ArrowUp:case Ie.ArrowDown:case Ie.PageUp:case Ie.PageDown:case Ie.Home:case Ie.End:z=P(O,$);break}if(!z){o.props.onInputError&&o.props.onInputError({code:1,msg:mx});return}if(s.preventDefault(),o.setState({lastPreSelectChange:gx}),T&&o.setSelected(z),o.setPreSelection(z),R){var q=Jr($),K=Jr(z),Q=gt($),te=gt(z);q!==K||Q!==te?o.setState({shouldFocusDayInline:!0}):o.setState({shouldFocusDayInline:!1})}}},o.onPopperKeyDown=function(s){var u=s.key;u===Ie.Escape&&(s.preventDefault(),o.sendFocusBackToInput())},o.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),o.sendFocusBackToInput();var u=o.props,h=u.selectsRange,m=u.onChange;h?m?m([null,null],s):t.defaultProps.onChange():m?m(null,s):t.defaultProps.onChange(),o.setState({inputValue:null})},o.clear=function(){o.onClearClick()},o.onScroll=function(s){typeof o.props.closeOnScroll=="boolean"&&o.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&o.setOpen(!1):typeof o.props.closeOnScroll=="function"&&o.props.closeOnScroll(s)&&o.setOpen(!1)},o.renderCalendar=function(){var s,u;return!o.props.inline&&!o.isCalendarOpen()?null:le.createElement(oBe,Nt({ref:function(h){o.calendar=h}},o.props,o.state,{setOpen:o.setOpen,dateFormat:(s=o.props.dateFormatCalendar)!==null&&s!==void 0?s:t.defaultProps.dateFormatCalendar,onSelect:o.handleSelect,onClickOutside:o.handleCalendarClickOutside,holidays:EOe(o.modifyHolidays()),outsideClickIgnoreClass:j9,onDropdownFocus:o.handleDropdownFocus,onTimeChange:o.handleTimeChange,className:o.props.calendarClassName,container:o.props.calendarContainer,handleOnKeyDown:o.props.onKeyDown,handleOnDayKeyDown:o.onDayKeyDown,setPreSelection:o.setPreSelection,dropdownMode:(u=o.props.dropdownMode)!==null&&u!==void 0?u:t.defaultProps.dropdownMode}),o.props.children)},o.renderAriaLiveRegion=function(){var s=o.props,u=s.dateFormat,h=u===void 0?t.defaultProps.dateFormat:u,m=s.locale,f=o.props.showTimeInput||o.props.showTimeSelect,k=f?"PPPPp":"PPPP",v;return o.props.selectsRange?v="Selected start date: ".concat(li(o.props.startDate,{dateFormat:k,locale:m}),". ").concat(o.props.endDate?"End date: "+li(o.props.endDate,{dateFormat:k,locale:m}):""):o.props.showTimeSelectOnly?v="Selected time: ".concat(li(o.props.selected,{dateFormat:h,locale:m})):o.props.showYearPicker?v="Selected year: ".concat(li(o.props.selected,{dateFormat:"yyyy",locale:m})):o.props.showMonthYearPicker?v="Selected month: ".concat(li(o.props.selected,{dateFormat:"MMMM yyyy",locale:m})):o.props.showQuarterYearPicker?v="Selected quarter: ".concat(li(o.props.selected,{dateFormat:"yyyy, QQQ",locale:m})):v="Selected date: ".concat(li(o.props.selected,{dateFormat:k,locale:m})),le.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},v)},o.renderDateInput=function(){var s,u,h,m=ke(o.props.className,(s={},s[j9]=o.state.open,s)),f=o.props.customInput||le.createElement("input",{type:"text"}),k=o.props.customInputRef||"ref",v=o.props,_=v.dateFormat,y=_===void 0?t.defaultProps.dateFormat:_,A=v.locale,S=typeof o.props.value=="string"?o.props.value:typeof o.state.inputValue=="string"?o.state.inputValue:o.props.selectsRange?dOe(o.props.startDate,o.props.endDate,{dateFormat:y,locale:A}):o.props.selectsMultiple?hOe((h=o.props.selectedDates)!==null&&h!==void 0?h:[],{dateFormat:y,locale:A}):li(o.props.selected,{dateFormat:y,locale:A});return L.cloneElement(f,(u={},u[k]=function(E){o.input=E},u.value=S,u.onBlur=o.handleBlur,u.onChange=o.handleChange,u.onClick=o.onInputClick,u.onFocus=o.handleFocus,u.onKeyDown=o.onInputKeyDown,u.id=o.props.id,u.name=o.props.name,u.form=o.props.form,u.autoFocus=o.props.autoFocus,u.placeholder=o.props.placeholderText,u.disabled=o.props.disabled,u.autoComplete=o.props.autoComplete,u.className=ke(f.props.className,m),u.title=o.props.title,u.readOnly=o.props.readOnly,u.required=o.props.required,u.tabIndex=o.props.tabIndex,u["aria-describedby"]=o.props.ariaDescribedBy,u["aria-invalid"]=o.props.ariaInvalid,u["aria-labelledby"]=o.props.ariaLabelledBy,u["aria-required"]=o.props.ariaRequired,u))},o.renderClearButton=function(){var s=o.props,u=s.isClearable,h=s.disabled,m=s.selected,f=s.startDate,k=s.endDate,v=s.clearButtonTitle,_=s.clearButtonClassName,y=_===void 0?"":_,A=s.ariaLabelClose,S=A===void 0?"Close":A,E=s.selectedDates;return u&&(m!=null||f!=null||k!=null||E!=null&&E.length)?le.createElement("button",{type:"button",className:ke("react-datepicker__close-icon",y,{"react-datepicker__close-icon--disabled":h}),disabled:h,"aria-label":S,onClick:o.onClearClick,title:v,tabIndex:-1}):null},o.state=o.calcInitialState(),o.preventFocusTimeout=void 0,o}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Yg,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(r,o){var s,u,h,m;r.inline&&iBe(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:M9(this.props.highlightDates)}),!o.focused&&!Ac(r.selected,this.props.selected)&&this.setState({inputValue:null}),o.open!==this.state.open&&(o.open===!1&&this.state.open===!0&&((u=(s=this.props).onCalendarOpen)===null||u===void 0||u.call(s)),o.open===!0&&this.state.open===!1&&((m=(h=this.props).onCalendarClose)===null||m===void 0||m.call(h)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var r=this.props,o=r.showIcon,s=r.icon,u=r.calendarIconClassname,h=r.calendarIconClassName,m=r.toggleCalendarOnIconClick,f=this.state.open;return u&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),le.createElement("div",{className:"react-datepicker__input-container".concat(o?" react-datepicker__view-calendar-icon":"")},o&&le.createElement(JOe,Nt({icon:s,className:ke(h,!h&&u,f&&"react-datepicker-ignore-onclickoutside")},m?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var o=this.state.open?le.createElement(VG,{enableTabLoop:this.props.enableTabLoop},le.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(o=le.createElement($G,Nt({portalId:this.props.portalId},this.props),o)),le.createElement("div",null,this.renderInputContainer(),o)}return le.createElement(rBe,Nt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(L.Component),aBe="input",gx="navigate";const lBe=we(lr)({width:"100%"}),cBe=le.forwardRef((e,t)=>M.jsx(lBe,{...e,inputRef:t,fullWidth:!0})),uBe=({value:e,onChange:t})=>M.jsx(Be,{sx:{mb:2},children:M.jsx(sBe,{selected:e,onChange:r=>t(r),showTimeSelect:!0,dateFormat:"Pp",customInput:M.jsx(cBe,{label:"Schedule Publish Date & Time"})})}),UG=({materialData:e,onSubmit:t})=>{var Te,Ye,Xt,Dt,bt,Ot,nt;const r=Ps(),{userDetails:o}=pu(),s=Co(),[u,h]=L.useState((e==null?void 0:e.course)||""),[m,f]=L.useState((e==null?void 0:e.title)||""),[k,v]=L.useState((e==null?void 0:e.header)||{title:"Header",content:""}),[_,y]=L.useState((e==null?void 0:e.footer)||{title:"Footer",content:""}),[A,S]=L.useState((e==null?void 0:e.sections)||[{id:Mf(),title:"Section 1",content:"",subsections:[],images:[],links:[]}]),[E,I]=L.useState({sectionIndex:0}),[T,R]=L.useState(!1),[O,j]=L.useState(""),[$,H]=L.useState("success"),[P,z]=L.useState(((Te=e==null?void 0:e.scheduledTimestamp)==null?void 0:Te.toDate())||null),[q,K]=L.useState(!1);L.useEffect(()=>{const se=ae=>{ae.key==="ArrowLeft"?yt("prev"):ae.key==="ArrowRight"&&yt("next")};return window.addEventListener("keydown",se),()=>{window.removeEventListener("keydown",se)}},[E,A]);const Q=async(se,ae=!1,ce)=>{se.preventDefault();try{if(e){const fe=Wo(s,"materials",e.id);await du(fe,{course:u,title:m,header:k,footer:_,sections:A,published:ae,scheduledTimestamp:ce?qn.fromDate(ce):null}),j("Material updated successfully")}else{const fe=await yH(uu(s,"materials"),{course:u,title:m,header:k,footer:_,sections:A,author:(o==null?void 0:o.uid)||"",timestamp:Kf(),published:ae,scheduledTimestamp:ce?qn.fromDate(ce):null});j("Material saved successfully")}H("success"),R(!0),r("/supplemental-materials")}catch{j("Failed to save material"),H("error"),R(!0)}},te=()=>{r("/supplemental-materials")},X=se=>{Q(se,!0)},Z=se=>{q&&P?Q(se,!1,P):K(!0)},J=()=>{S([...A,{id:Mf(),title:`Section ${A.length+1}`,content:"",subsections:[],images:[],links:[]}])},ee=se=>{const ae=[...A],ce=ae[se];ce.subsections.push({id:Mf(),title:`Subsection ${ce.subsections.length+1}`,content:"",subSubsections:[],images:[],links:[]}),S(ae),I({sectionIndex:se,subsectionIndex:ce.subsections.length-1})},ne=(se,ae)=>{const ce=[...A],fe=ce[se].subsections[ae];fe.subSubsections.push({id:Mf(),title:`Sub-Subsection ${fe.subSubsections.length+1}`,content:"",images:[],links:[]}),S(ce),I({sectionIndex:se,subsectionIndex:ae,subSubsectionIndex:fe.subSubsections.length-1})},G=(se,ae,ce,fe)=>{const Pe=[...A];fe!==void 0?Pe[se].subsections[ce].subSubsections[fe].images=[...Pe[se].subsections[ce].subSubsections[fe].images,...ae]:ce!==void 0?Pe[se].subsections[ce].images=[...Pe[se].subsections[ce].images,...ae]:Pe[se].images=[...Pe[se].images,...ae],S(Pe)},re=(se,ae,ce,fe)=>{const Pe=[...A];fe!==void 0?Pe[se].subsections[ce].subSubsections[fe].links=ae:ce!==void 0?Pe[se].subsections[ce].links=ae:Pe[se].links=ae,S(Pe)},de=(se,ae,ce)=>{I({sectionIndex:typeof se=="number"?se:void 0,subsectionIndex:ae,subSubsectionIndex:ce,type:typeof se=="string"?se:void 0})},Ae=(se,ae)=>{const ce=[...A];ce[se].title=ae,S(ce)},Me=(se,ae,ce)=>{const fe=[...A];fe[se].subsections[ae].title=ce,S(fe)},Je=(se,ae,ce,fe)=>{const Pe=[...A];Pe[se].subsections[ae].subSubsections[ce].title=fe,S(Pe)},Fe=(se,ae,ce,fe)=>{const Pe=[...A];fe!==void 0?Pe[se].subsections[ce].subSubsections[fe].content=ae:ce!==void 0?Pe[se].subsections[ce].content=ae:Pe[se].content=ae,S(Pe)},Xe=se=>{v({...k,content:se})},Se=se=>{y({..._,content:se})},ct=se=>{const ae=A.filter((ce,fe)=>fe!==se);S(ae),ae.length===0?I({sectionIndex:void 0,type:"header"}):se>=ae.length?I({sectionIndex:ae.length-1}):I({sectionIndex:se})},pt=(se,ae)=>{const ce=[...A];ce[se].subsections=ce[se].subsections.filter((fe,Pe)=>Pe!==ae),S(ce),ce[se].subsections.length===0?I({sectionIndex:se}):ae>=ce[se].subsections.length?I({sectionIndex:se,subsectionIndex:ce[se].subsections.length-1}):I({sectionIndex:se,subsectionIndex:ae})},ut=(se,ae,ce)=>{const fe=[...A];fe[se].subsections[ae].subSubsections=fe[se].subsections[ae].subSubsections.filter((Pe,ht)=>ht!==ce),S(fe),fe[se].subsections[ae].subSubsections.length===0?I({sectionIndex:se,subsectionIndex:ae}):ce>=fe[se].subsections[ae].subSubsections.length?I({sectionIndex:se,subsectionIndex:ae,subSubsectionIndex:fe[se].subsections[ae].subSubsections.length-1}):I({sectionIndex:se,subsectionIndex:ae,subSubsectionIndex:ce})},yt=se=>{const{sectionIndex:ae,subsectionIndex:ce,subSubsectionIndex:fe,type:Pe}=E;if(se==="prev")if(fe!==void 0&&fe>0)I({sectionIndex:ae,subsectionIndex:ce,subSubsectionIndex:fe-1});else if(fe!==void 0&&fe===0)I({sectionIndex:ae,subsectionIndex:ce});else if(ce!==void 0&&ce>0)I({sectionIndex:ae,subsectionIndex:ce-1});else if(ce!==void 0&&ce===0)I({sectionIndex:ae});else if(ae>0){const ht=A[ae-1];I({sectionIndex:ae-1,subsectionIndex:ht.subsections.length?ht.subsections.length-1:void 0,subSubsectionIndex:ht.subsections.length?ht.subsections[ht.subsections.length-1].subSubsections.length-1:void 0})}else Pe==="footer"?I({sectionIndex:A.length-1,type:"footer"}):ae===void 0&&Pe==="header"&&I({sectionIndex:A.length-1});else se==="next"&&(fe===void 0&&ce!==void 0&&A[ae].subsections[ce].subSubsections.length?I({sectionIndex:ae,subsectionIndex:ce,subSubsectionIndex:0}):fe!==void 0&&fe<A[ae].subsections[ce].subSubsections.length-1?I({sectionIndex:ae,subsectionIndex:ce,subSubsectionIndex:fe+1}):fe!==void 0&&fe===A[ae].subsections[ce].subSubsections.length-1&&ce<A[ae].subsections.length-1?I({sectionIndex:ae,subsectionIndex:ce+1}):ce===void 0&&A[ae].subsections.length?I({sectionIndex:ae,subsectionIndex:0}):ce!==void 0&&ce<A[ae].subsections.length-1?I({sectionIndex:ae,subsectionIndex:ce+1}):ce!==void 0&&ce===A[ae].subsections.length-1&&ae<A.length-1?I({sectionIndex:ae+1}):ae<A.length-1?I({sectionIndex:ae+1}):ae===A.length-1&&ce===void 0&&I({sectionIndex:void 0,type:"footer"}))},tt=E.type==="header"||E.type==="footer"?"":E.sectionIndex!==void 0?E.subSubsectionIndex!==void 0?((Ye=A[E.sectionIndex].subsections[E.subsectionIndex].subSubsections[E.subSubsectionIndex])==null?void 0:Ye.content)||"":E.subsectionIndex!==void 0?((Xt=A[E.sectionIndex].subsections[E.subsectionIndex])==null?void 0:Xt.content)||"":((Dt=A[E.sectionIndex])==null?void 0:Dt.content)||"":"",Re=E.type==="header"||E.type==="footer"?"":E.sectionIndex!==void 0?E.subSubsectionIndex!==void 0?((bt=A[E.sectionIndex].subsections[E.subsectionIndex].subSubsections[E.subSubsectionIndex])==null?void 0:bt.title)||"":E.subsectionIndex!==void 0?((Ot=A[E.sectionIndex].subsections[E.subsectionIndex])==null?void 0:Ot.title)||"":((nt=A[E.sectionIndex])==null?void 0:nt.title)||"":"",be=(se,ae,ce,fe)=>{const Pe=[...A];fe!==void 0?Pe[se].subsections[ce].subSubsections[fe].images=Pe[se].subsections[ce].subSubsections[fe].images.filter(ht=>ht.url!==ae):ce!==void 0?Pe[se].subsections[ce].images=Pe[se].subsections[ce].images.filter(ht=>ht.url!==ae):Pe[se].images=Pe[se].images.filter(ht=>ht.url!==ae),S(Pe)};return M.jsxs(Be,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:[M.jsxs(Be,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[M.jsx(Be,{sx:{width:"450px",ml:2,mt:2},children:M.jsx(Iq,{})}),M.jsxs(Be,{sx:{display:"flex",flexGrow:1},children:[M.jsx(Dq,{sections:A,selected:E,onAddSection:J,onAddSubsection:ee,onAddSubSubsection:ne,onSelectSection:de,onUpdateSectionTitle:Ae,onUpdateSubsectionTitle:Me,onUpdateSubSubsectionTitle:Je,onDeleteSection:ct,onDeleteSubsection:pt,onDeleteSubSubsection:ut}),M.jsxs(Be,{sx:{flexGrow:1,padding:3},children:[M.jsx(lr,{label:"Material Title",variant:"outlined",fullWidth:!0,value:m,onChange:se=>f(se.target.value),sx:{mb:2}}),M.jsx(IPe,{value:u,onChange:h}),P&&M.jsxs($e,{variant:"body1",gutterBottom:!0,children:["Scheduled Publish Date & Time: ",P.toLocaleString()]}),M.jsxs(Be,{sx:{border:E.type==="header"?"2px solid blue":"none",borderRadius:1,padding:2,mb:2},children:[M.jsx(Be,{sx:{mt:2,display:"flex",justifyContent:"center",alignItems:"center"},children:M.jsx($e,{variant:"h6",sx:{color:"gray",textAlign:"center"},children:"Header"})}),M.jsx(e9,{content:k.content,onChange:Xe})]}),M.jsx($e,{variant:"h4",align:"center",gutterBottom:!0,children:Re}),E.type!=="header"&&E.type!=="footer"&&M.jsxs(M.Fragment,{children:[M.jsx(TPe,{content:tt,onChange:se=>Fe(E.sectionIndex,se,E.subsectionIndex,E.subSubsectionIndex)},`${E.sectionIndex}-${E.subsectionIndex}-${E.subSubsectionIndex}`),M.jsx(bTe,{sectionId:E.subSubsectionIndex!==void 0?A[E.sectionIndex].subsections[E.subsectionIndex].subSubsections[E.subSubsectionIndex].id:E.subsectionIndex!==void 0?A[E.sectionIndex].subsections[E.subsectionIndex].id:A[E.sectionIndex].id,onImagesUploaded:se=>G(E.sectionIndex,se,E.subsectionIndex,E.subSubsectionIndex)}),(E.subSubsectionIndex!==void 0?A[E.sectionIndex].subsections[E.subsectionIndex].subSubsections[E.subSubsectionIndex].images:E.subsectionIndex!==void 0?A[E.sectionIndex].subsections[E.subsectionIndex].images:A[E.sectionIndex].images).map((se,ae)=>M.jsxs(Be,{sx:{position:"relative",mt:2},children:[M.jsx("img",{src:se.url,alt:`Section ${E.sectionIndex+1} Image ${ae+1}`,style:{maxWidth:"50%",marginBottom:"16px"}}),M.jsx(kTe,{imageTitle:se.title,onTitleChange:ce=>{const fe=[...A];E.subSubsectionIndex!==void 0?fe[E.sectionIndex].subsections[E.subsectionIndex].subSubsections[E.subSubsectionIndex].images[ae].title=ce:E.subsectionIndex!==void 0?fe[E.sectionIndex].subsections[E.subsectionIndex].images[ae].title=ce:fe[E.sectionIndex].images[ae].title=ce,S(fe)}}),M.jsx(mr,{sx:{position:"absolute",top:0,right:0,backgroundColor:"rgba(255, 255, 255, 0.7)"},onClick:()=>be(E.sectionIndex,se.url,E.subsectionIndex,E.subSubsectionIndex),children:M.jsx(qg,{})})]},ae)),M.jsx(_Te,{links:E.subSubsectionIndex!==void 0?A[E.sectionIndex].subsections[E.subsectionIndex].subSubsections[E.subSubsectionIndex].links:E.subsectionIndex!==void 0?A[E.sectionIndex].subsections[E.subsectionIndex].links:A[E.sectionIndex].links,onLinksChange:se=>re(E.sectionIndex,se,E.subsectionIndex,E.subSubsectionIndex)})]}),M.jsxs(Be,{sx:{border:E.type==="footer"?"2px solid blue":"none",borderRadius:1,padding:2,mt:2},children:[M.jsx(Be,{sx:{mt:2,display:"flex",justifyContent:"center",alignItems:"center"},children:M.jsx($e,{variant:"h6",sx:{color:"gray",textAlign:"center"},children:"Footer"})}),M.jsx(e9,{content:_.content,onChange:Se})]}),M.jsxs(Be,{sx:{display:"flex",justifyContent:"space-between"},children:[M.jsx(Jm,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:M.jsx("span",{children:M.jsx(mr,{onClick:()=>yt("prev"),disabled:E.sectionIndex===0&&E.subsectionIndex===void 0&&E.type==="header",children:M.jsx(HT,{})})})}),M.jsx(Jm,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:M.jsx("span",{children:M.jsx(mr,{onClick:()=>yt("next"),disabled:E.sectionIndex===A.length-1&&(E.subsectionIndex===void 0||E.subsectionIndex===A[E.sectionIndex].subsections.length-1)&&E.type==="footer",children:M.jsx(qT,{})})})})]}),M.jsxs(Be,{sx:{mt:2,display:"flex",justifyContent:"space-between"},children:[M.jsx(St,{type:"button",variant:"outlined",color:"secondary",onClick:te,children:"Cancel"}),M.jsx(St,{type:"submit",variant:"contained",color:"primary",onClick:se=>Q(se,!1),children:"Save"}),M.jsx(St,{type:"button",variant:"contained",color:"primary",onClick:X,sx:{backgroundColor:"green"},children:"Publish"}),M.jsxs("div",{children:[q&&M.jsx(uBe,{value:P,onChange:z}),M.jsx(St,{type:"button",variant:"contained",color:"primary",onClick:Z,sx:{backgroundColor:"blue"},children:"Schedule Publish"})]})]})]})]})]}),M.jsx(gu,{open:T,autoHideDuration:6e3,onClose:()=>R(!1),children:M.jsx(mu,{onClose:()=>R(!1),severity:$,sx:{width:"100%"},children:O})})]})},dBe=()=>{const{id:e}=C2(),t=Co(),[r,o]=L.useState(null);L.useEffect(()=>{e&&(async()=>{const h=Wo(t,"materials",e),m=await jh(h);if(m.exists()){const f={id:m.id,...m.data()};f.sections=f.sections.map(k=>({...k,images:k.images.map(v=>({...v,title:v.title||""})),subsections:k.subsections.map(v=>({...v,images:v.images.map(_=>({..._,title:_.title||""})),subSubsections:v.subSubsections.map(_=>({..._,images:_.images.map(y=>({...y,title:y.title||""}))}))}))})),o(f)}})()},[e,t]);const s=async u=>{if(e){const h=Wo(t,"materials",e);await du(h,{...u})}};return r?M.jsx(UG,{materialData:r,onSubmit:s}):M.jsx(Be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:M.jsx(kh,{})})},bx=({images:e})=>M.jsx(Be,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:2},children:e.map((t,r)=>M.jsxs(Be,{sx:{mb:4,textAlign:"center"},children:[M.jsx("img",{src:t.url,alt:`Image ${r+1}`,style:{maxWidth:"100%",maxHeight:"500px",marginBottom:"8px"}}),M.jsx($e,{variant:"body2",sx:{fontStyle:"italic"},children:t.title})]},r))}),hBe=e=>!e.startsWith("http://")&&!e.startsWith("https://")?`https://${e}`:e,pBe=({links:e})=>e.length===0?null:M.jsxs(Be,{sx:{mt:2,width:"50%"},children:[M.jsx($e,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Links"}),M.jsxs(Be,{sx:{display:"flex",mb:1,borderBottom:"1px solid gray"},children:[M.jsx($e,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"Title"}),M.jsx($e,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"URL"}),M.jsx($e,{sx:{flexBasis:"40%",fontWeight:"bold"},children:"Description"})]}),e.map((t,r)=>M.jsx(Be,{children:M.jsxs(Be,{sx:{display:"flex",alignItems:"center",mb:1,flexWrap:"wrap",borderBottom:"1px solid lightgray"},children:[M.jsx($e,{sx:{flexBasis:"30%",fontStyle:"italic",wordWrap:"break-word",paddingRight:"8px"},children:t.title}),M.jsx(wq,{sx:{flexBasis:"30%",wordWrap:"break-word",paddingRight:"8px"},href:hBe(t.url),target:"_blank",rel:"noopener",children:t.url}),M.jsx($e,{sx:{flexBasis:"40%",wordWrap:"break-word"},children:t.description})]})},r))]}),fBe=()=>{var _,y,A,S,E,I,T,R,O,j,$,H,P,z,q,K,Q,te;const{id:e}=C2(),t=Co(),[r,o]=L.useState(null),[s,u]=L.useState({sectionIndex:0});L.useEffect(()=>{e&&(async()=>{const Z=Wo(t,"materials",e),J=await jh(Z);J.exists()&&o({id:J.id,...J.data()})})()},[e,t]);const h=(X,Z,J)=>{u({sectionIndex:typeof X=="number"?X:void 0,subsectionIndex:Z,subSubsectionIndex:J,type:typeof X=="string"?X:void 0})},m=X=>{const{sectionIndex:Z,subsectionIndex:J,subSubsectionIndex:ee,type:ne}=s;if(X==="prev")if(ee!==void 0&&ee>0)u({sectionIndex:Z,subsectionIndex:J,subSubsectionIndex:ee-1});else if(ee!==void 0&&ee===0)u({sectionIndex:Z,subsectionIndex:J});else if(J!==void 0&&J>0)u({sectionIndex:Z,subsectionIndex:J-1});else if(J!==void 0&&J===0)u({sectionIndex:Z});else if(Z>0){const G=r==null?void 0:r.sections[Z-1];u({sectionIndex:Z-1,subsectionIndex:G!=null&&G.subsections.length?G.subsections.length-1:void 0,subSubsectionIndex:G!=null&&G.subsections.length?G.subsections[G.subsections.length-1].subSubsections.length-1:void 0})}else ne==="footer"?u({sectionIndex:(r==null?void 0:r.sections.length)-1,type:"footer"}):Z===void 0&&ne==="header"&&u({sectionIndex:(r==null?void 0:r.sections.length)-1});else X==="next"&&(ee===void 0&&J!==void 0&&(r!=null&&r.sections[Z].subsections[J].subSubsections.length)?u({sectionIndex:Z,subsectionIndex:J,subSubsectionIndex:0}):ee!==void 0&&ee<(r==null?void 0:r.sections[Z].subsections[J].subSubsections.length)-1?u({sectionIndex:Z,subsectionIndex:J,subSubsectionIndex:ee+1}):ee!==void 0&&ee===(r==null?void 0:r.sections[Z].subsections[J].subSubsections.length)-1&&J<(r==null?void 0:r.sections[Z].subsections.length)-1?u({sectionIndex:Z,subsectionIndex:J+1}):J===void 0&&(r!=null&&r.sections[Z].subsections.length)?u({sectionIndex:Z,subsectionIndex:0}):J!==void 0&&J<(r==null?void 0:r.sections[Z].subsections.length)-1?u({sectionIndex:Z,subsectionIndex:J+1}):J!==void 0&&J===(r==null?void 0:r.sections[Z].subsections.length)-1&&Z<(r==null?void 0:r.sections.length)-1?u({sectionIndex:Z+1}):Z<(r==null?void 0:r.sections.length)-1?u({sectionIndex:Z+1}):Z===(r==null?void 0:r.sections.length)-1&&J===void 0&&u({sectionIndex:void 0,type:"footer"}))};if(!r)return M.jsx(kh,{});const f=s.type==="header"||s.type==="footer"?"":s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((A=(y=(_=r.sections[s.sectionIndex])==null?void 0:_.subsections[s.subsectionIndex])==null?void 0:y.subSubsections[s.subSubsectionIndex])==null?void 0:A.content)||"":s.subsectionIndex!==void 0?((E=(S=r.sections[s.sectionIndex])==null?void 0:S.subsections[s.subsectionIndex])==null?void 0:E.content)||"":((I=r.sections[s.sectionIndex])==null?void 0:I.content)||"":"",k=s.type==="header"||s.type==="footer"?"":s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((O=(R=(T=r.sections[s.sectionIndex])==null?void 0:T.subsections[s.subsectionIndex])==null?void 0:R.subSubsections[s.subSubsectionIndex])==null?void 0:O.title)||"":s.subsectionIndex!==void 0?(($=(j=r.sections[s.sectionIndex])==null?void 0:j.subsections[s.subsectionIndex])==null?void 0:$.title)||"":((H=r.sections[s.sectionIndex])==null?void 0:H.title)||"":"",v=s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((q=(z=(P=r.sections[s.sectionIndex])==null?void 0:P.subsections[s.subsectionIndex])==null?void 0:z.subSubsections[s.subSubsectionIndex])==null?void 0:q.links)||[]:s.subsectionIndex!==void 0?((Q=(K=r.sections[s.sectionIndex])==null?void 0:K.subsections[s.subsectionIndex])==null?void 0:Q.links)||[]:((te=r.sections[s.sectionIndex])==null?void 0:te.links)||[]:[];return M.jsx(Be,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:M.jsxs(Be,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[M.jsx(Be,{sx:{width:"450px",ml:2,mt:2},children:M.jsx(Iq,{})}),M.jsxs(Be,{sx:{display:"flex",flexGrow:1},children:[M.jsx(Be,{sx:{width:"450px",minWidth:"450px",maxWidth:"450px",borderRight:"1px solid #ddd",padding:2},children:M.jsx(Dq,{sections:r.sections,selected:s,onAddSection:()=>{},onAddSubsection:()=>{},onAddSubSubsection:()=>{},onSelectSection:h,onUpdateSectionTitle:()=>{},onUpdateSubsectionTitle:()=>{},onUpdateSubSubsectionTitle:()=>{},onDeleteSection:()=>{},onDeleteSubsection:()=>{},onDeleteSubSubsection:()=>{},isViewMode:!0})}),M.jsxs(Be,{sx:{flexGrow:1,padding:3},children:[M.jsx("hr",{})," ",M.jsx(Be,{sx:{border:s.type==="header"?"2px solid blue":"none",borderRadius:1,padding:2,mb:2},children:M.jsx($e,{dangerouslySetInnerHTML:{__html:r.header.content.replace(/\n/g,"<br />")}})}),M.jsx("hr",{})," ",M.jsx($e,{variant:"h3",align:"center",gutterBottom:!0,children:r.title}),M.jsx("hr",{})," ",M.jsx($e,{variant:"h4",align:"center",gutterBottom:!0,children:k}),s.type!=="header"&&s.type!=="footer"&&M.jsxs(M.Fragment,{children:[M.jsxs(Be,{sx:{mb:2,border:s.sectionIndex!==void 0&&s.subsectionIndex===void 0?"2px solid blue":s.subSubsectionIndex!==void 0?"2px solid red":s.subsectionIndex!==void 0?"2px solid green":"none",borderRadius:1,padding:2},children:[M.jsx($e,{dangerouslySetInnerHTML:{__html:f.replace(/\n/g,"<br />")}}),M.jsx(Be,{children:s.sectionIndex!==void 0&&M.jsx(M.Fragment,{children:s.subSubsectionIndex!==void 0?r.sections[s.sectionIndex].subsections[s.subsectionIndex].subSubsections[s.subSubsectionIndex].images.length>0&&M.jsx(bx,{images:r.sections[s.sectionIndex].subsections[s.subsectionIndex].subSubsections[s.subSubsectionIndex].images}):s.subsectionIndex!==void 0?r.sections[s.sectionIndex].subsections[s.subsectionIndex].images.length>0&&M.jsx(bx,{images:r.sections[s.sectionIndex].subsections[s.subsectionIndex].images}):r.sections[s.sectionIndex].images.length>0&&M.jsx(bx,{images:r.sections[s.sectionIndex].images})})})]}),M.jsx(pBe,{links:v})]}),M.jsxs(Be,{sx:{display:"flex",justifyContent:"space-between"},children:[M.jsx(Jm,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:M.jsx("span",{children:M.jsx(mr,{onClick:()=>m("prev"),disabled:s.sectionIndex===0&&s.subsectionIndex===void 0&&s.type==="header",children:M.jsx(HT,{})})})}),M.jsx(Jm,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:M.jsx("span",{children:M.jsx(mr,{onClick:()=>m("next"),disabled:s.sectionIndex===r.sections.length-1&&(s.subsectionIndex===void 0||s.subsectionIndex===r.sections[s.sectionIndex].subsections.length-1)&&s.type==="footer",children:M.jsx(qT,{})})})})]}),M.jsx("hr",{})," ",M.jsx(Be,{sx:{border:s.type==="footer"?"2px solid blue":"none",borderRadius:1,padding:2,mt:2},children:M.jsx($e,{dangerouslySetInnerHTML:{__html:r.footer.content.replace(/\n/g,"<br />")}})}),M.jsx("hr",{})," "]})]})]})})},rs=({element:e})=>{const{userDetails:t}=pu();return t?M.jsx(e,{}):M.jsx(l8,{to:"/"})},mBe=()=>{const[e,t]=L.useState(""),[r,o]=L.useState(""),[s,u]=L.useState([{title:"",url:""}]),h=Ps(),m=Co(),f=async()=>{try{await yH(uu(m,"messages"),{title:e,description:r,links:s,postedOn:Kf()}),h("/")}catch(y){console.error("Error adding message: ",y)}},k=()=>{h("/")},v=(y,A,S)=>{const E=[...s];E[y][A]=S,u(E)},_=()=>{u([...s,{title:"",url:""}])};return M.jsx(fq,{maxWidth:"sm",children:M.jsxs(Be,{sx:{mt:4},children:[M.jsx($e,{variant:"h4",component:"h1",gutterBottom:!0,children:"Add New Message"}),M.jsx(lr,{label:"Title",fullWidth:!0,value:e,onChange:y=>t(y.target.value),sx:{mb:2}}),M.jsx(CT,{"aria-label":"description",minRows:4,placeholder:"Description",style:{width:"100%",padding:"16.5px 14px",fontSize:"1rem",borderRadius:"4px",borderColor:"rgba(0, 0, 0, 0.23)",marginBottom:"16px"},value:r,onChange:y=>o(y.target.value)}),M.jsx($e,{variant:"h6",component:"h2",sx:{mb:2},children:"Links"}),s.map((y,A)=>M.jsxs(Be,{sx:{mb:2},children:[M.jsx(lr,{label:`Link Title ${A+1}`,fullWidth:!0,value:y.title,onChange:S=>v(A,"title",S.target.value),sx:{mb:1}}),M.jsx(lr,{label:`Link URL ${A+1}`,fullWidth:!0,value:y.url,onChange:S=>v(A,"url",S.target.value)})]},A)),M.jsx(St,{variant:"text",onClick:_,sx:{mb:2},children:"+ Add another link"}),M.jsxs(Be,{sx:{display:"flex",justifyContent:"flex-end"},children:[M.jsx(St,{variant:"outlined",onClick:k,sx:{marginRight:"8px",borderColor:"#A5D6A7",color:"#424242","&:hover":{borderColor:"#81C784",backgroundColor:"rgba(165, 214, 167, 0.1)"}},children:"Cancel"}),M.jsx(St,{variant:"contained",onClick:f,sx:{backgroundColor:"#A5D6A7",color:"#424242","&:hover":{backgroundColor:"#81C784"}},children:"Save Changes"})]})]})})},gBe=()=>{const{id:e}=C2(),[t,r]=L.useState(""),[o,s]=L.useState(""),[u,h]=L.useState([{title:"",url:""}]),m=Ps(),f=Co();L.useEffect(()=>{(async()=>{const S=Wo(f,"messages",e),E=await jh(S);if(E.exists()){const I=E.data();r(I.title),s(I.description),h(I.links||[{title:"",url:""}])}else console.log("No such document!")})()},[f,e]);const k=async()=>{try{const A=Wo(f,"messages",e);await du(A,{title:t,description:o,links:u}),m("/")}catch(A){console.error("Error editing message: ",A)}},v=()=>{m("/")},_=(A,S,E)=>{const I=[...u];I[A][S]=E,h(I)},y=()=>{h([...u,{title:"",url:""}])};return M.jsx(fq,{maxWidth:"sm",children:M.jsxs(Be,{sx:{mt:4},children:[M.jsx($e,{variant:"h4",component:"h1",gutterBottom:!0,children:"Edit Message"}),M.jsx(lr,{label:"Title",fullWidth:!0,value:t,onChange:A=>r(A.target.value),sx:{mb:2}}),M.jsx(CT,{"aria-label":"description",minRows:4,placeholder:"Description",style:{width:"100%",padding:"16.5px 14px",fontSize:"1rem",borderRadius:"4px",borderColor:"rgba(0, 0, 0, 0.23)",marginBottom:"16px"},value:o,onChange:A=>s(A.target.value)}),M.jsx($e,{variant:"h6",component:"h2",sx:{mb:2},children:"Links"}),u.map((A,S)=>M.jsxs(Be,{sx:{mb:2},children:[M.jsx(lr,{label:`Link Title ${S+1}`,fullWidth:!0,value:A.title,onChange:E=>_(S,"title",E.target.value),sx:{mb:1}}),M.jsx(lr,{label:`Link URL ${S+1}`,fullWidth:!0,value:A.url,onChange:E=>_(S,"url",E.target.value)})]},S)),M.jsx(St,{variant:"text",onClick:y,sx:{mb:2},children:"+ Add another link"}),M.jsxs(Be,{sx:{display:"flex",justifyContent:"flex-end"},children:[M.jsx(St,{variant:"outlined",onClick:v,sx:{marginRight:"8px",borderColor:"#A5D6A7",color:"#424242","&:hover":{borderColor:"#81C784",backgroundColor:"rgba(165, 214, 167, 0.1)"}},children:"Cancel"}),M.jsx(St,{variant:"contained",onClick:k,sx:{backgroundColor:"#A5D6A7",color:"#424242","&:hover":{backgroundColor:"#81C784"}},children:"Save Changes"})]})]})})},bBe=({users:e})=>M.jsx(OT,{component:Gi,children:M.jsxs(NT,{children:[M.jsx(BT,{children:M.jsxs(vh,{children:[M.jsx(On,{children:"ID"}),M.jsx(On,{children:"Status"}),M.jsx(On,{children:"Last Login"}),M.jsx(On,{children:"Courses"})]})}),M.jsx(RT,{children:e.map(t=>M.jsxs(vh,{children:[M.jsx(On,{children:t.id}),M.jsx(On,{children:t.isSuperAdmin?M.jsx(Cc,{label:"Super Admin",color:"secondary"}):t.isAdmin?M.jsx(Cc,{label:"Educator (Admin)",color:"primary"}):M.jsx(Cc,{label:"Student (Regular)"})}),M.jsx(On,{children:t.lastLogin?t.lastLogin.toDate().toLocaleString():"No data available"}),M.jsx(On,{children:t.class?t.class.join(", "):"None"})]},t.id))})]})}),kBe=({userId:e,userClass:t})=>{const[r,o]=L.useState(""),[s,u]=L.useState(!1),[h,m]=L.useState(""),[f,k]=L.useState(!1),v=Co(),_=async()=>{if(!e||!r){m("Please enter a User ID and select a course."),k(!0);return}u(!0);try{const A=Wo(v,"users",e);await du(A,{class:CH(r)}),m(`Course ${r} assigned successfully to user ${e}.`)}catch(A){console.error("Error assigning course:",A),m("Error assigning course.")}u(!1),k(!0)},y=()=>{k(!1)};return M.jsxs(M.Fragment,{children:[M.jsxs(Be,{sx:{display:"flex",alignItems:"center",mt:2},children:[M.jsxs($e,{variant:"h6",component:"h2",sx:{mr:2},children:["Current Courses: ",t?t.join(", "):"None"]}),M.jsxs(ST,{sx:{minWidth:200,mr:2},children:[M.jsx(TT,{children:"Course"}),M.jsxs(v_,{value:r,onChange:A=>o(A.target.value),children:[M.jsx(Nc,{value:"MICRO230",children:"MICRO230"}),M.jsx(Nc,{value:"MICRO240",children:"MICRO240"})]})]}),M.jsx(St,{variant:"contained",color:"primary",onClick:_,disabled:s,children:s?M.jsx(kh,{size:24}):"Assign Course"})]}),M.jsx(gu,{open:f,autoHideDuration:6e3,onClose:y,children:M.jsx(mu,{onClose:y,severity:"info",children:h})})]})},vBe=()=>{const[e,t]=L.useState(""),[r,o]=L.useState(!1),[s,u]=L.useState(!1),[h,m]=L.useState(void 0),[f,k]=L.useState(!1),[v,_]=L.useState(""),[y,A]=L.useState(!1),[S,E]=L.useState(!1),[I,T]=L.useState(!1),[R,O]=L.useState([]),[j,$]=L.useState([]),[H,P]=L.useState([]),[z,q]=L.useState(""),K=Co(),Q=Ps(),te=()=>{Q("/")},X=async()=>{if(e){k(!0),u(!1);try{const Ae=Wo(K,"users",e),Me=await jh(Ae);if(Me.exists()){const Je=Me.data();o(Je.isAdmin),m(Je.class),u(!0)}else _("User not found."),A(!0)}catch(Ae){console.error("Error fetching user:",Ae),_("Error fetching user."),A(!0)}k(!1)}},Z=async()=>{k(!0);try{const Ae=uu(K,"users"),Me=await Rg(Ae),Je=[],Fe=[],Xe=[];Me.forEach(Se=>{const ct={id:Se.id,...Se.data()};ct.isSuperAdmin?Je.push(ct):ct.isAdmin?Fe.push(ct):Xe.push(ct)}),O(Je),$(Fe),P(Xe)}catch(Ae){console.error("Error fetching users:",Ae),_("Error fetching users."),A(!0)}k(!1)};L.useEffect(()=>{Z()},[]);const J=async()=>{try{const Ae=Wo(K,"users",e);await du(Ae,{isAdmin:I}),_(`User ${I?"granted":"revoked"} admin privileges successfully.`),o(I)}catch(Ae){console.error("Error updating user:",Ae),_("Error updating user.")}A(!0),E(!1)},ee=Ae=>{Ae.preventDefault(),s?(T(!r),E(!0)):(_("User not found."),A(!0))},ne=()=>{A(!1)},G=()=>{E(!1)},re=Ae=>{q(Ae.target.value)},de=Ae=>z?Ae.filter(Me=>Me.class&&Me.class.includes(z)):Ae;return M.jsxs(Be,{sx:{padding:3},children:[M.jsx(Be,{sx:{display:"flex",alignItems:"center"},children:M.jsx(St,{variant:"text",onClick:te,sx:{mr:2},children:" Home Page"})}),M.jsx($e,{variant:"h4",component:"h1",gutterBottom:!0,children:"User Management"}),M.jsx($e,{variant:"body1",gutterBottom:!0,children:"Use this page to view and manage user permissions. Enter the User ID to grant or revoke admin privileges."}),M.jsx(Be,{sx:{display:"flex",justifyContent:"flex-start"},children:M.jsxs("form",{onSubmit:ee,children:[M.jsx(lr,{label:"User ID",value:e,onChange:Ae=>t(Ae.target.value),fullWidth:!0,required:!0,margin:"normal",onBlur:X,sx:{minWidth:"300px"}}),f?M.jsx(kh,{}):s&&M.jsxs(Gi,{variant:"outlined",sx:{padding:2,borderRadius:"15px",mb:2},children:[M.jsxs(Be,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[M.jsxs($e,{variant:"h6",component:"h2",sx:{mr:2},children:["Current Status: ",r?"Educator (Admin)":"Student (Non-Admin)"]}),M.jsx(St,{type:"submit",variant:"contained",color:r?"secondary":"primary",sx:{mt:2},children:r?"Revoke Admin":"Make Admin"})]}),M.jsx(kBe,{userId:e,userClass:h})]})]})}),M.jsx($e,{variant:"h5",component:"h2",gutterBottom:!0,children:"Current Users"}),M.jsxs(ST,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[M.jsx(TT,{children:"Filter by Course"})," ",M.jsxs(v_,{value:z,onChange:re,children:[M.jsx(Nc,{value:"",children:"All Courses"}),M.jsx(Nc,{value:"MICRO230",children:"MICRO230"}),M.jsx(Nc,{value:"MICRO240",children:"MICRO240"})]})]}),M.jsx(bBe,{users:de([...R,...j,...H])}),M.jsxs(f_,{open:S,onClose:G,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[M.jsx(k_,{id:"alert-dialog-title",children:r?"Revoke Admin Privileges":"Grant Admin Privileges"}),M.jsx(g_,{children:M.jsxs(b_,{id:"alert-dialog-description",children:["Are you sure you want to ",r?"revoke":"grant"," admin privileges for this user?"]})}),M.jsxs(m_,{children:[M.jsx(St,{onClick:G,color:"primary",children:"Cancel"}),M.jsx(St,{onClick:J,color:"primary",autoFocus:!0,children:"Confirm"})]})]}),M.jsx(gu,{open:y,autoHideDuration:6e3,onClose:ne,children:M.jsx(mu,{onClose:ne,severity:"info",children:v})})]})},wBe=()=>{const{userDetails:e,setUserDetails:t}=pu(),[r,o]=L.useState(""),[s,u]=L.useState(""),[h,m]=L.useState(!1),[f,k]=L.useState(""),[v,_]=L.useState("success"),[y,A]=L.useState([]),S=Co(),E=Ps(),I=()=>{E("/")};L.useEffect(()=>{(async()=>{const z=(await Rg(uu(S,"courses"))).docs.map(q=>q.data());A(z)})()},[S]);const T=H=>{o(H.target.value)},R=H=>{u(H.target.value)},O=async()=>{const H=y.find(P=>P.name===r);if(H&&H.passcode===s)try{if(e)if((e.class||[]).includes(r))k(`Course access for ${r} already added to your account!`),_("info");else{const z=Wo(S,"users",e.uid);await du(z,{class:CH(r)});const q=await jh(z);if(q.exists()){const K=q.data();t({...K,uid:e.uid})}k(`Course access for ${r} added to your account successfully!`),_("success")}}catch(P){console.error("Error updating document: ",P),k("Error adding course access to your account."),_("error")}else k("Invalid passcode. Course not added."),_("error");m(!0)},j=()=>{m(!1)},$=()=>e!=null&&e.isSuperAdmin?"Super Admin":e!=null&&e.isAdmin?"Educator":"Student";return M.jsxs(Be,{sx:{padding:3},children:[M.jsx(Be,{sx:{display:"flex",alignItems:"center"},children:M.jsx(St,{variant:"text",onClick:I,sx:{mr:2},children:" Home Page"})}),M.jsx($e,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:3},children:"My Account"}),e&&M.jsxs(M.Fragment,{children:[M.jsxs($e,{variant:"h6",component:"h2",sx:{mb:2},children:["User ID: ",e.uid]}),M.jsxs($e,{variant:"h6",component:"h2",sx:{mb:2},children:["Account Status: ",$()]}),M.jsxs($e,{variant:"h6",component:"h2",sx:{mb:2},children:["Current Courses: ",e.class?e.class.join(", "):"None"]})]}),M.jsx($e,{variant:"body1",sx:{mb:2},children:"Use the area below to add a course access to your account."}),M.jsxs(No,{container:!0,spacing:2,sx:{maxWidth:"50%"},children:[M.jsx(No,{item:!0,xs:5,children:M.jsx(lr,{select:!0,label:"Select Course",value:r,onChange:T,fullWidth:!0,sx:{mb:2},children:y.map(H=>M.jsx(Nc,{value:H.name,children:H.name},H.name))})}),M.jsx(No,{item:!0,xs:5,children:M.jsx(lr,{label:"Enter Passcode",value:s,onChange:R,fullWidth:!0,sx:{mb:2}})}),M.jsx(No,{item:!0,xs:2,sx:{display:"flex",alignItems:"center"},children:M.jsx(St,{variant:"contained",onClick:O,children:"Add Course"})})]}),M.jsx(gu,{open:h,autoHideDuration:6e3,onClose:j,children:M.jsx(mu,{onClose:j,severity:v,sx:{width:"100%"},children:f})})]})},yBe=()=>{const{userDetails:e}=pu(),[t,r]=L.useState([]),[o,s]=L.useState(""),u=Co(),h=Ps();L.useEffect(()=>{(async()=>{if(e){const _=e.class||[],y=mH(uu(u,"users"),WF("class","array-contains-any",_),WF("isAdmin","==",!1)),S=(await Rg(y)).docs.map(E=>({id:E.id,...E.data()}));r(S),s(_[0]||"")}})()},[e,u]);const m=()=>{h("/")},f=v=>{s(v)},k=t.filter(v=>v.class.includes(o));return M.jsxs(Be,{sx:{flexGrow:1,padding:3},children:[M.jsx(Be,{sx:{display:"flex",alignItems:"center",mb:2},children:M.jsx(St,{variant:"text",onClick:m,sx:{mr:2},children:" Home Page"})}),M.jsx($e,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:2},children:"Course Management"}),M.jsx($e,{variant:"h6",component:"h2",sx:{fontWeight:"bold",textDecoration:"underline",mb:2},children:"Students Enrolled in Your Courses"}),(e==null?void 0:e.class)&&e.class.length>1&&M.jsx(bEe,{direction:"row",spacing:2,sx:{mb:2},children:e.class.map(v=>M.jsx(St,{variant:o===v?"contained":"outlined",onClick:()=>f(v),children:v},v))}),k.length===0?M.jsxs($e,{children:["No students enrolled in ",o,"."]}):M.jsx(OT,{component:Gi,children:M.jsxs(NT,{children:[M.jsx(BT,{children:M.jsxs(vh,{children:[M.jsx(On,{sx:{fontWeight:"bold"},children:"User ID"}),M.jsx(On,{sx:{fontWeight:"bold"},children:"Courses"}),M.jsx(On,{sx:{fontWeight:"bold"},children:"Last Login"})]})}),M.jsx(RT,{children:k.map(v=>M.jsxs(vh,{children:[M.jsx(On,{children:v.id}),M.jsx(On,{children:v.class.join(", ")}),M.jsx(On,{children:v.lastLogin?new Date(v.lastLogin.seconds*1e3).toLocaleString():"No data available"})]},v.id))})]})})]})},_Be=L.lazy(()=>v2(()=>import("./index-kMooxteh.js"),[])),CBe=L.lazy(()=>v2(()=>import("./index-YiObdW8q.js"),__vite__mapDeps([0,1]))),ABe=L.lazy(()=>v2(()=>import("./SupplementalMaterials-nkXRx-VW.js"),__vite__mapDeps([2,1]))),xBe=()=>{const{userDetails:e,loading:t,isSuperAdmin:r}=pu();if(t)return M.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:M.jsx(kh,{})});const o=dT({breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}}});return console.log("App loaded"),M.jsxs(D_e,{theme:o,children:[M.jsx(hxe,{}),M.jsxs(cue,{children:[M.jsx("div",{className:"content",children:M.jsx(L.Suspense,{fallback:M.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:M.jsx(kh,{})}),children:M.jsxs(sue,{children:[M.jsx(Po,{path:"/",element:e?M.jsx(UDe,{}):M.jsx(_Be,{})}),M.jsx(Po,{path:"/laboratory-notebooks",element:M.jsx(rs,{element:CBe})}),M.jsx(Po,{path:"/supplemental-materials",element:M.jsx(rs,{element:ABe})}),M.jsx(Po,{path:"/my-profile",element:M.jsx(rs,{element:wBe})}),M.jsx(Po,{path:"/add-material",element:M.jsx(rs,{element:UG})}),M.jsx(Po,{path:"/edit-material/:id",element:M.jsx(rs,{element:dBe})}),M.jsx(Po,{path:"/view-material/:id",element:M.jsx(rs,{element:fBe})}),M.jsx(Po,{path:"/add-message",element:M.jsx(rs,{element:mBe})}),M.jsx(Po,{path:"/edit-message/:id",element:M.jsx(rs,{element:gBe})}),r&&M.jsx(Po,{path:"/user-management",element:M.jsx(rs,{element:vBe})}),M.jsx(Po,{path:"/course-management",element:M.jsx(rs,{element:yBe})}),M.jsx(Po,{path:"*",element:M.jsx(l8,{to:"/"})})]})})}),M.jsx(NDe,{}),M.jsx(SDe,{})]})]})},EBe=document.getElementById("root"),SBe=kx.createRoot(EBe);SBe.render(M.jsx(le.StrictMode,{children:M.jsx(ive,{children:M.jsx(xBe,{})})}));export{nm as $,mu as A,Zc as B,fq as C,bq as D,IBe as E,Ihe as F,No as G,K8 as H,Wa as I,MBe as J,LBe as K,pl as L,pu as M,Ps as N,Cc as O,ODe as P,OT as Q,Gi as R,bEe as S,$e as T,NT as U,BT as V,vh as W,On as X,RT as Y,mr as Z,V as _,He as a,qg as a0,qn as a1,xk as a2,yw as a3,f_ as a4,g_ as a5,UH as a6,eve as a7,RBe as a8,Xke as a9,Fbe as aA,le as aB,Co as aC,NBe as aD,kh as aE,OBe as aa,TT as ab,ST as ac,v_ as ad,Nc as ae,sG as af,aG as ag,Wv as ah,cf as ai,uf as aj,qv as ak,k_ as al,b_ as am,m_ as an,Kf as ao,yH as ap,uu as aq,BBe as ar,jbe as as,Wo as at,jh as au,du as av,mH as aw,WF as ax,Obe as ay,Rg as az,L as b,_e as c,Gh as d,ke as e,ge as f,Ue as g,Ke as h,Ol as i,M as j,Et as k,qe as l,qh as m,Ki as n,Zo as o,nV as p,fu as q,Jo as r,we as s,q1 as t,Q0 as u,lr as v,Be as w,St as x,Jm as y,gu as z};
