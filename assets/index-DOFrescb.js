const __vite__fileDeps=["assets/index-kRLD0b5A.js","assets/vendor-C6cIYn5-.js","assets/index-DHAvPNE3.js","assets/Visibility-CF8xc0_a.js","assets/SupplementalMaterials-Clb31tad.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{r as O,a as H4,R as tf,g as Vi,b as Go,c as fp,d as W4,e as gp}from"./vendor-C6cIYn5-.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&c(f)}).observe(document,{childList:!0,subtree:!0});function i(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function c(d){if(d.ep)return;d.ep=!0;const h=i(d);fetch(d.href,h)}})();var q4={exports:{}},Vf={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iq=O,rq=Symbol.for("react.element"),sq=Symbol.for("react.fragment"),aq=Object.prototype.hasOwnProperty,cq=iq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lq={key:!0,ref:!0,__self:!0,__source:!0};function G4(n,t,i){var c,d={},h=null,f=null;i!==void 0&&(h=""+i),t.key!==void 0&&(h=""+t.key),t.ref!==void 0&&(f=t.ref);for(c in t)aq.call(t,c)&&!lq.hasOwnProperty(c)&&(d[c]=t[c]);if(n&&n.defaultProps)for(c in t=n.defaultProps,t)d[c]===void 0&&(d[c]=t[c]);return{$$typeof:rq,type:n,key:h,ref:f,props:d,_owner:cq.current}}Vf.Fragment=sq;Vf.jsx=G4;Vf.jsxs=G4;q4.exports=Vf;var R=q4.exports,P0={},sD=H4;P0.createRoot=sD.createRoot,P0.hydrateRoot=sD.hydrateRoot;const dq="modulepreload",uq=function(n){return"/ate-micr/"+n},aD={},Lw=function(t,i,c){let d=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));d=Promise.all(i.map(b=>{if(b=uq(b),b in aD)return;aD[b]=!0;const m=b.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${v}`))return;const C=document.createElement("link");if(C.rel=m?"stylesheet":dq,m||(C.as="script",C.crossOrigin=""),C.href=b,f&&C.setAttribute("nonce",f),document.head.appendChild(C),m)return new Promise((y,_)=>{C.addEventListener("load",y),C.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${b}`)))})}))}return d.then(()=>t()).catch(h=>{const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=h,window.dispatchEvent(f),!f.defaultPrevented)throw h})};/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Td(){return Td=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(n[c]=i[c])}return n},Td.apply(this,arguments)}var Fr;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Fr||(Fr={}));const cD="popstate";function hq(n){n===void 0&&(n={});function t(c,d){let{pathname:h,search:f,hash:b}=c.location;return R0("",{pathname:h,search:f,hash:b},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function i(c,d){return typeof d=="string"?d:Y4(d)}return fq(t,i,null,n)}function _n(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function K4(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pq(){return Math.random().toString(36).substr(2,8)}function lD(n,t){return{usr:n.state,key:n.key,idx:t}}function R0(n,t,i,c){return i===void 0&&(i=null),Td({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof t=="string"?Bc(t):t,{state:i,key:t&&t.key||c||pq()})}function Y4(n){let{pathname:t="/",search:i="",hash:c=""}=n;return i&&i!=="?"&&(t+=i.charAt(0)==="?"?i:"?"+i),c&&c!=="#"&&(t+=c.charAt(0)==="#"?c:"#"+c),t}function Bc(n){let t={};if(n){let i=n.indexOf("#");i>=0&&(t.hash=n.substr(i),n=n.substr(0,i));let c=n.indexOf("?");c>=0&&(t.search=n.substr(c),n=n.substr(0,c)),n&&(t.pathname=n)}return t}function fq(n,t,i,c){c===void 0&&(c={});let{window:d=document.defaultView,v5Compat:h=!1}=c,f=d.history,b=Fr.Pop,m=null,v=C();v==null&&(v=0,f.replaceState(Td({},f.state,{idx:v}),""));function C(){return(f.state||{idx:null}).idx}function y(){b=Fr.Pop;let M=C(),N=M==null?null:M-v;v=M,m&&m({action:b,location:S.location,delta:N})}function _(M,N){b=Fr.Push;let j=R0(S.location,M,N);v=C()+1;let L=lD(j,v),V=S.createHref(j);try{f.pushState(L,"",V)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;d.location.assign(V)}h&&m&&m({action:b,location:S.location,delta:1})}function x(M,N){b=Fr.Replace;let j=R0(S.location,M,N);v=C();let L=lD(j,v),V=S.createHref(j);f.replaceState(L,"",V),h&&m&&m({action:b,location:S.location,delta:0})}function I(M){let N=d.location.origin!=="null"?d.location.origin:d.location.href,j=typeof M=="string"?M:Y4(M);return j=j.replace(/ $/,"%20"),_n(N,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,N)}let S={get action(){return b},get location(){return n(d,f)},listen(M){if(m)throw new Error("A history only accepts one active listener");return d.addEventListener(cD,y),m=M,()=>{d.removeEventListener(cD,y),m=null}},createHref(M){return t(d,M)},createURL:I,encodeLocation(M){let N=I(M);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:_,replace:x,go(M){return f.go(M)}};return S}var dD;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(dD||(dD={}));function gq(n,t,i){i===void 0&&(i="/");let c=typeof t=="string"?Bc(t):t,d=J4(c.pathname||"/",i);if(d==null)return null;let h=Q4(n);mq(h);let f=null;for(let b=0;f==null&&b<h.length;++b){let m=Iq(d);f=xq(h[b],m)}return f}function Q4(n,t,i,c){t===void 0&&(t=[]),i===void 0&&(i=[]),c===void 0&&(c="");let d=(h,f,b)=>{let m={relativePath:b===void 0?h.path||"":b,caseSensitive:h.caseSensitive===!0,childrenIndex:f,route:h};m.relativePath.startsWith("/")&&(_n(m.relativePath.startsWith(c),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+c+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(c.length));let v=zs([c,m.relativePath]),C=i.concat(m);h.children&&h.children.length>0&&(_n(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),Q4(h.children,t,C,v)),!(h.path==null&&!h.index)&&t.push({path:v,score:Aq(v,h.index),routesMeta:C})};return n.forEach((h,f)=>{var b;if(h.path===""||!((b=h.path)!=null&&b.includes("?")))d(h,f);else for(let m of Z4(h.path))d(h,f,m)}),t}function Z4(n){let t=n.split("/");if(t.length===0)return[];let[i,...c]=t,d=i.endsWith("?"),h=i.replace(/\?$/,"");if(c.length===0)return d?[h,""]:[h];let f=Z4(c.join("/")),b=[];return b.push(...f.map(m=>m===""?h:[h,m].join("/"))),d&&b.push(...f),b.map(m=>n.startsWith("/")&&m===""?"/":m)}function mq(n){n.sort((t,i)=>t.score!==i.score?i.score-t.score:yq(t.routesMeta.map(c=>c.childrenIndex),i.routesMeta.map(c=>c.childrenIndex)))}const bq=/^:[\w-]+$/,kq=3,wq=2,vq=1,_q=10,Cq=-2,uD=n=>n==="*";function Aq(n,t){let i=n.split("/"),c=i.length;return i.some(uD)&&(c+=Cq),t&&(c+=wq),i.filter(d=>!uD(d)).reduce((d,h)=>d+(bq.test(h)?kq:h===""?vq:_q),c)}function yq(n,t){return n.length===t.length&&n.slice(0,-1).every((c,d)=>c===t[d])?n[n.length-1]-t[t.length-1]:0}function xq(n,t){let{routesMeta:i}=n,c={},d="/",h=[];for(let f=0;f<i.length;++f){let b=i[f],m=f===i.length-1,v=d==="/"?t:t.slice(d.length)||"/",C=Eq({path:b.relativePath,caseSensitive:b.caseSensitive,end:m},v);if(!C)return null;Object.assign(c,C.params);let y=b.route;h.push({params:c,pathname:zs([d,C.pathname]),pathnameBase:Pq(zs([d,C.pathnameBase])),route:y}),C.pathnameBase!=="/"&&(d=zs([d,C.pathnameBase]))}return h}function Eq(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,c]=Tq(n.path,n.caseSensitive,n.end),d=t.match(i);if(!d)return null;let h=d[0],f=h.replace(/(.)\/+$/,"$1"),b=d.slice(1);return{params:c.reduce((v,C,y)=>{let{paramName:_,isOptional:x}=C;if(_==="*"){let S=b[y]||"";f=h.slice(0,h.length-S.length).replace(/(.)\/+$/,"$1")}const I=b[y];return x&&!I?v[_]=void 0:v[_]=(I||"").replace(/%2F/g,"/"),v},{}),pathname:h,pathnameBase:f,pattern:n}}function Tq(n,t,i){t===void 0&&(t=!1),i===void 0&&(i=!0),K4(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let c=[],d="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,b,m)=>(c.push({paramName:b,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(c.push({paramName:"*"}),d+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?d+="\\/*$":n!==""&&n!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,t?void 0:"i"),c]}function Iq(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return K4(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),n}}function J4(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,c=n.charAt(i);return c&&c!=="/"?null:n.slice(i)||"/"}function Sq(n,t){t===void 0&&(t="/");let{pathname:i,search:c="",hash:d=""}=typeof n=="string"?Bc(n):n;return{pathname:i?i.startsWith("/")?i:Dq(i,t):t,search:Rq(c),hash:Bq(d)}}function Dq(n,t){let i=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(d=>{d===".."?i.length>1&&i.pop():d!=="."&&i.push(d)}),i.length>1?i.join("/"):"/"}function Wk(n,t,i,c){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(c)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Mq(n){return n.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function X4(n,t){let i=Mq(n);return t?i.map((c,d)=>d===n.length-1?c.pathname:c.pathnameBase):i.map(c=>c.pathnameBase)}function eP(n,t,i,c){c===void 0&&(c=!1);let d;typeof n=="string"?d=Bc(n):(d=Td({},n),_n(!d.pathname||!d.pathname.includes("?"),Wk("?","pathname","search",d)),_n(!d.pathname||!d.pathname.includes("#"),Wk("#","pathname","hash",d)),_n(!d.search||!d.search.includes("#"),Wk("#","search","hash",d)));let h=n===""||d.pathname==="",f=h?"/":d.pathname,b;if(f==null)b=i;else{let y=t.length-1;if(!c&&f.startsWith("..")){let _=f.split("/");for(;_[0]==="..";)_.shift(),y-=1;d.pathname=_.join("/")}b=y>=0?t[y]:"/"}let m=Sq(d,b),v=f&&f!=="/"&&f.endsWith("/"),C=(h||f===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(v||C)&&(m.pathname+="/"),m}const zs=n=>n.join("/").replace(/\/\/+/g,"/"),Pq=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Rq=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Bq=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Nq(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const tP=["post","put","patch","delete"];new Set(tP);const Oq=["get",...tP];new Set(Oq);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Id(){return Id=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(n[c]=i[c])}return n},Id.apply(this,arguments)}const jw=O.createContext(null),Lq=O.createContext(null),iu=O.createContext(null),$f=O.createContext(null),Jr=O.createContext({outlet:null,matches:[],isDataRoute:!1}),nP=O.createContext(null);function ru(){return O.useContext($f)!=null}function zw(){return ru()||_n(!1),O.useContext($f).location}function oP(n){O.useContext(iu).static||O.useLayoutEffect(n)}function ea(){let{isDataRoute:n}=O.useContext(Jr);return n?Qq():jq()}function jq(){ru()||_n(!1);let n=O.useContext(jw),{basename:t,future:i,navigator:c}=O.useContext(iu),{matches:d}=O.useContext(Jr),{pathname:h}=zw(),f=JSON.stringify(X4(d,i.v7_relativeSplatPath)),b=O.useRef(!1);return oP(()=>{b.current=!0}),O.useCallback(function(v,C){if(C===void 0&&(C={}),!b.current)return;if(typeof v=="number"){c.go(v);return}let y=eP(v,JSON.parse(f),h,C.relative==="path");n==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:zs([t,y.pathname])),(C.replace?c.replace:c.push)(y,C.state,C)},[t,c,f,h,n])}function Fw(){let{matches:n}=O.useContext(Jr),t=n[n.length-1];return t?t.params:{}}function zq(n,t){return Fq(n,t)}function Fq(n,t,i,c){ru()||_n(!1);let{navigator:d}=O.useContext(iu),{matches:h}=O.useContext(Jr),f=h[h.length-1],b=f?f.params:{};f&&f.pathname;let m=f?f.pathnameBase:"/";f&&f.route;let v=zw(),C;if(t){var y;let M=typeof t=="string"?Bc(t):t;m==="/"||(y=M.pathname)!=null&&y.startsWith(m)||_n(!1),C=M}else C=v;let _=C.pathname||"/",x=_;if(m!=="/"){let M=m.replace(/^\//,"").split("/");x="/"+_.replace(/^\//,"").split("/").slice(M.length).join("/")}let I=gq(n,{pathname:x}),S=Wq(I&&I.map(M=>Object.assign({},M,{params:Object.assign({},b,M.params),pathname:zs([m,d.encodeLocation?d.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:zs([m,d.encodeLocation?d.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),h,i,c);return t&&S?O.createElement($f.Provider,{value:{location:Id({pathname:"/",search:"",hash:"",state:null,key:"default"},C),navigationType:Fr.Pop}},S):S}function Vq(){let n=Yq(),t=Nq(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,d={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),i?O.createElement("pre",{style:d},i):null,null)}const $q=O.createElement(Vq,null);class Uq extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,i){return i.location!==t.location||i.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:i.error,location:i.location,revalidation:t.revalidation||i.revalidation}}componentDidCatch(t,i){console.error("React Router caught the following error during render",t,i)}render(){return this.state.error!==void 0?O.createElement(Jr.Provider,{value:this.props.routeContext},O.createElement(nP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Hq(n){let{routeContext:t,match:i,children:c}=n,d=O.useContext(jw);return d&&d.static&&d.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=i.route.id),O.createElement(Jr.Provider,{value:t},c)}function Wq(n,t,i,c){var d;if(t===void 0&&(t=[]),i===void 0&&(i=null),c===void 0&&(c=null),n==null){var h;if((h=i)!=null&&h.errors)n=i.matches;else return null}let f=n,b=(d=i)==null?void 0:d.errors;if(b!=null){let C=f.findIndex(y=>y.route.id&&(b==null?void 0:b[y.route.id])!==void 0);C>=0||_n(!1),f=f.slice(0,Math.min(f.length,C+1))}let m=!1,v=-1;if(i&&c&&c.v7_partialHydration)for(let C=0;C<f.length;C++){let y=f[C];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(v=C),y.route.id){let{loaderData:_,errors:x}=i,I=y.route.loader&&_[y.route.id]===void 0&&(!x||x[y.route.id]===void 0);if(y.route.lazy||I){m=!0,v>=0?f=f.slice(0,v+1):f=[f[0]];break}}}return f.reduceRight((C,y,_)=>{let x,I=!1,S=null,M=null;i&&(x=b&&y.route.id?b[y.route.id]:void 0,S=y.route.errorElement||$q,m&&(v<0&&_===0?(I=!0,M=null):v===_&&(I=!0,M=y.route.hydrateFallbackElement||null)));let N=t.concat(f.slice(0,_+1)),j=()=>{let L;return x?L=S:I?L=M:y.route.Component?L=O.createElement(y.route.Component,null):y.route.element?L=y.route.element:L=C,O.createElement(Hq,{match:y,routeContext:{outlet:C,matches:N,isDataRoute:i!=null},children:L})};return i&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?O.createElement(Uq,{location:i.location,revalidation:i.revalidation,component:S,error:x,children:j(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):j()},null)}var iP=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(iP||{}),nf=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(nf||{});function qq(n){let t=O.useContext(jw);return t||_n(!1),t}function Gq(n){let t=O.useContext(Lq);return t||_n(!1),t}function Kq(n){let t=O.useContext(Jr);return t||_n(!1),t}function rP(n){let t=Kq(),i=t.matches[t.matches.length-1];return i.route.id||_n(!1),i.route.id}function Yq(){var n;let t=O.useContext(nP),i=Gq(nf.UseRouteError),c=rP(nf.UseRouteError);return t!==void 0?t:(n=i.errors)==null?void 0:n[c]}function Qq(){let{router:n}=qq(iP.UseNavigateStable),t=rP(nf.UseNavigateStable),i=O.useRef(!1);return oP(()=>{i.current=!0}),O.useCallback(function(d,h){h===void 0&&(h={}),i.current&&(typeof d=="number"?n.navigate(d):n.navigate(d,Id({fromRouteId:t},h)))},[n,t])}function sP(n){let{to:t,replace:i,state:c,relative:d}=n;ru()||_n(!1);let{future:h,static:f}=O.useContext(iu),{matches:b}=O.useContext(Jr),{pathname:m}=zw(),v=ea(),C=eP(t,X4(b,h.v7_relativeSplatPath),m,d==="path"),y=JSON.stringify(C);return O.useEffect(()=>v(JSON.parse(y),{replace:i,state:c,relative:d}),[v,y,d,i,c]),null}function xi(n){_n(!1)}function Zq(n){let{basename:t="/",children:i=null,location:c,navigationType:d=Fr.Pop,navigator:h,static:f=!1,future:b}=n;ru()&&_n(!1);let m=t.replace(/^\/*/,"/"),v=O.useMemo(()=>({basename:m,navigator:h,static:f,future:Id({v7_relativeSplatPath:!1},b)}),[m,b,h,f]);typeof c=="string"&&(c=Bc(c));let{pathname:C="/",search:y="",hash:_="",state:x=null,key:I="default"}=c,S=O.useMemo(()=>{let M=J4(C,m);return M==null?null:{location:{pathname:M,search:y,hash:_,state:x,key:I},navigationType:d}},[m,C,y,_,x,I,d]);return S==null?null:O.createElement(iu.Provider,{value:v},O.createElement($f.Provider,{children:i,value:S}))}function Jq(n){let{children:t,location:i}=n;return zq(B0(t),i)}new Promise(()=>{});function B0(n,t){t===void 0&&(t=[]);let i=[];return O.Children.forEach(n,(c,d)=>{if(!O.isValidElement(c))return;let h=[...t,d];if(c.type===O.Fragment){i.push.apply(i,B0(c.props.children,h));return}c.type!==xi&&_n(!1),!c.props.index||!c.props.children||_n(!1);let f={id:c.props.id||h.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(f.children=B0(c.props.children,h)),i.push(f)}),i}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Xq="6";try{window.__reactRouterVersion=Xq}catch{}const eG="startTransition",hD=tf[eG];function tG(n){let{basename:t,children:i,future:c,window:d}=n,h=O.useRef();h.current==null&&(h.current=hq({window:d,v5Compat:!0}));let f=h.current,[b,m]=O.useState({action:f.action,location:f.location}),{v7_startTransition:v}=c||{},C=O.useCallback(y=>{v&&hD?hD(()=>m(y)):m(y)},[m,v]);return O.useLayoutEffect(()=>f.listen(C),[f,C]),O.createElement(Zq,{basename:t,children:i,location:b.location,navigationType:b.action,navigator:f,future:c})}var pD;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(pD||(pD={}));var fD;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(fD||(fD={}));var gD={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=function(n){const t=[];let i=0;for(let c=0;c<n.length;c++){let d=n.charCodeAt(c);d<128?t[i++]=d:d<2048?(t[i++]=d>>6|192,t[i++]=d&63|128):(d&64512)===55296&&c+1<n.length&&(n.charCodeAt(c+1)&64512)===56320?(d=65536+((d&1023)<<10)+(n.charCodeAt(++c)&1023),t[i++]=d>>18|240,t[i++]=d>>12&63|128,t[i++]=d>>6&63|128,t[i++]=d&63|128):(t[i++]=d>>12|224,t[i++]=d>>6&63|128,t[i++]=d&63|128)}return t},nG=function(n){const t=[];let i=0,c=0;for(;i<n.length;){const d=n[i++];if(d<128)t[c++]=String.fromCharCode(d);else if(d>191&&d<224){const h=n[i++];t[c++]=String.fromCharCode((d&31)<<6|h&63)}else if(d>239&&d<365){const h=n[i++],f=n[i++],b=n[i++],m=((d&7)<<18|(h&63)<<12|(f&63)<<6|b&63)-65536;t[c++]=String.fromCharCode(55296+(m>>10)),t[c++]=String.fromCharCode(56320+(m&1023))}else{const h=n[i++],f=n[i++];t[c++]=String.fromCharCode((d&15)<<12|(h&63)<<6|f&63)}}return t.join("")},cP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,c=[];for(let d=0;d<n.length;d+=3){const h=n[d],f=d+1<n.length,b=f?n[d+1]:0,m=d+2<n.length,v=m?n[d+2]:0,C=h>>2,y=(h&3)<<4|b>>4;let _=(b&15)<<2|v>>6,x=v&63;m||(x=64,f||(_=64)),c.push(i[C],i[y],i[_],i[x])}return c.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(aP(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):nG(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,c=[];for(let d=0;d<n.length;){const h=i[n.charAt(d++)],b=d<n.length?i[n.charAt(d)]:0;++d;const v=d<n.length?i[n.charAt(d)]:64;++d;const y=d<n.length?i[n.charAt(d)]:64;if(++d,h==null||b==null||v==null||y==null)throw new oG;const _=h<<2|b>>4;if(c.push(_),v!==64){const x=b<<4&240|v>>2;if(c.push(x),y!==64){const I=v<<6&192|y;c.push(I)}}}return c},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class oG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iG=function(n){const t=aP(n);return cP.encodeByteArray(t,!0)},of=function(n){return iG(n).replace(/\./g,"")},lP=function(n){try{return cP.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG=()=>rG().__FIREBASE_DEFAULTS__,aG=()=>{if(typeof process>"u"||typeof gD>"u")return;const n=gD.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},cG=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&lP(n[1]);return t&&JSON.parse(t)},Uf=()=>{try{return sG()||aG()||cG()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},dP=n=>{var t,i;return(i=(t=Uf())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[n]},uP=n=>{const t=dP(n);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const c=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),c]:[t.substring(0,i),c]},hP=()=>{var n;return(n=Uf())===null||n===void 0?void 0:n.config},pP=n=>{var t;return(t=Uf())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lG{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,c)=>{i?this.reject(i):this.resolve(c),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,c))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},c=t||"demo-project",d=n.iat||0,h=n.sub||n.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${c}`,aud:c,iat:d,exp:d+3600,auth_time:d,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},n);return[of(JSON.stringify(i)),of(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dG(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xn())}function uG(){var n;const t=(n=Uf())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hG(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function pG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fG(){const n=Xn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function gG(){try{return typeof indexedDB=="object"}catch{return!1}}function mG(){return new Promise((n,t)=>{try{let i=!0;const c="validate-browser-context-for-indexeddb-analytics-module",d=self.indexedDB.open(c);d.onsuccess=()=>{d.result.close(),i||self.indexedDB.deleteDatabase(c),n(!0)},d.onupgradeneeded=()=>{i=!1},d.onerror=()=>{var h;t(((h=d.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bG="FirebaseError";class $i extends Error{constructor(t,i,c){super(i),this.code=t,this.customData=c,this.name=bG,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,su.prototype.create)}}class su{constructor(t,i,c){this.service=t,this.serviceName=i,this.errors=c}create(t,...i){const c=i[0]||{},d=`${this.service}/${t}`,h=this.errors[t],f=h?kG(h,c):"Error",b=`${this.serviceName}: ${f} (${d}).`;return new $i(d,b,c)}}function kG(n,t){return n.replace(wG,(i,c)=>{const d=t[c];return d!=null?String(d):`<${c}?>`})}const wG=/\{\$([^}]+)}/g;function vG(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function rf(n,t){if(n===t)return!0;const i=Object.keys(n),c=Object.keys(t);for(const d of i){if(!c.includes(d))return!1;const h=n[d],f=t[d];if(mD(h)&&mD(f)){if(!rf(h,f))return!1}else if(h!==f)return!1}for(const d of c)if(!i.includes(d))return!1;return!0}function mD(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(n){const t=[];for(const[i,c]of Object.entries(n))Array.isArray(c)?c.forEach(d=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(d))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(c));return t.length?"&"+t.join("&"):""}function _G(n,t){const i=new CG(n,t);return i.subscribe.bind(i)}class CG{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(c=>{this.error(c)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,c){let d;if(t===void 0&&i===void 0&&c===void 0)throw new Error("Missing Observer.");AG(t,["next","error","complete"])?d=t:d={next:t,error:i,complete:c},d.next===void 0&&(d.next=qk),d.error===void 0&&(d.error=qk),d.complete===void 0&&(d.complete=qk);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?d.error(this.finalError):d.complete()}catch{}}),this.observers.push(d),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(c){typeof console<"u"&&console.error&&console.error(c)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AG(n,t){if(typeof n!="object"||n===null)return!1;for(const i of t)if(i in n&&typeof n[i]=="function")return!0;return!1}function qk(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(n){return n&&n._delegate?n._delegate:n}class qr{constructor(t,i,c){this.name=t,this.instanceFactory=i,this.type=c,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const c=new lG;if(this.instancesDeferred.set(i,c),this.isInitialized(i)||this.shouldAutoInitialize())try{const d=this.getOrInitializeService({instanceIdentifier:i});d&&c.resolve(d)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const c=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),d=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(c)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:c})}catch(h){if(d)return null;throw h}else{if(d)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(EG(t))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[i,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:d});c.resolve(h)}catch{}}}}clearInstance(t=Ds){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ds){return this.instances.has(t)}getOptions(t=Ds){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,c=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(c))throw Error(`${this.name}(${c}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const d=this.getOrInitializeService({instanceIdentifier:c,options:i});for(const[h,f]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(h);c===b&&f.resolve(d)}return d}onInit(t,i){var c;const d=this.normalizeInstanceIdentifier(i),h=(c=this.onInitCallbacks.get(d))!==null&&c!==void 0?c:new Set;h.add(t),this.onInitCallbacks.set(d,h);const f=this.instances.get(d);return f&&t(f,d),()=>{h.delete(t)}}invokeOnInitCallbacks(t,i){const c=this.onInitCallbacks.get(i);if(c)for(const d of c)try{d(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let c=this.instances.get(t);if(!c&&this.component&&(c=this.component.instanceFactory(this.container,{instanceIdentifier:xG(t),options:i}),this.instances.set(t,c),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(c,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,c)}catch{}return c||null}normalizeInstanceIdentifier(t=Ds){return this.component?this.component.multipleInstances?t:Ds:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xG(n){return n===Ds?void 0:n}function EG(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new yG(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(At||(At={}));const IG={debug:At.DEBUG,verbose:At.VERBOSE,info:At.INFO,warn:At.WARN,error:At.ERROR,silent:At.SILENT},SG=At.INFO,DG={[At.DEBUG]:"log",[At.VERBOSE]:"log",[At.INFO]:"info",[At.WARN]:"warn",[At.ERROR]:"error"},MG=(n,t,...i)=>{if(t<n.logLevel)return;const c=new Date().toISOString(),d=DG[t];if(d)console[d](`[${c}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Vw{constructor(t){this.name=t,this._logLevel=SG,this._logHandler=MG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in At))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?IG[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,At.DEBUG,...t),this._logHandler(this,At.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,At.VERBOSE,...t),this._logHandler(this,At.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,At.INFO,...t),this._logHandler(this,At.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,At.WARN,...t),this._logHandler(this,At.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,At.ERROR,...t),this._logHandler(this,At.ERROR,...t)}}const PG=(n,t)=>t.some(i=>n instanceof i);let bD,kD;function RG(){return bD||(bD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BG(){return kD||(kD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gP=new WeakMap,N0=new WeakMap,mP=new WeakMap,Gk=new WeakMap,$w=new WeakMap;function NG(n){const t=new Promise((i,c)=>{const d=()=>{n.removeEventListener("success",h),n.removeEventListener("error",f)},h=()=>{i(Ur(n.result)),d()},f=()=>{c(n.error),d()};n.addEventListener("success",h),n.addEventListener("error",f)});return t.then(i=>{i instanceof IDBCursor&&gP.set(i,n)}).catch(()=>{}),$w.set(t,n),t}function OG(n){if(N0.has(n))return;const t=new Promise((i,c)=>{const d=()=>{n.removeEventListener("complete",h),n.removeEventListener("error",f),n.removeEventListener("abort",f)},h=()=>{i(),d()},f=()=>{c(n.error||new DOMException("AbortError","AbortError")),d()};n.addEventListener("complete",h),n.addEventListener("error",f),n.addEventListener("abort",f)});N0.set(n,t)}let O0={get(n,t,i){if(n instanceof IDBTransaction){if(t==="done")return N0.get(n);if(t==="objectStoreNames")return n.objectStoreNames||mP.get(n);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ur(n[t])},set(n,t,i){return n[t]=i,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function LG(n){O0=n(O0)}function jG(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const c=n.call(Kk(this),t,...i);return mP.set(c,t.sort?t.sort():[t]),Ur(c)}:BG().includes(n)?function(...t){return n.apply(Kk(this),t),Ur(gP.get(this))}:function(...t){return Ur(n.apply(Kk(this),t))}}function zG(n){return typeof n=="function"?jG(n):(n instanceof IDBTransaction&&OG(n),PG(n,RG())?new Proxy(n,O0):n)}function Ur(n){if(n instanceof IDBRequest)return NG(n);if(Gk.has(n))return Gk.get(n);const t=zG(n);return t!==n&&(Gk.set(n,t),$w.set(t,n)),t}const Kk=n=>$w.get(n);function FG(n,t,{blocked:i,upgrade:c,blocking:d,terminated:h}={}){const f=indexedDB.open(n,t),b=Ur(f);return c&&f.addEventListener("upgradeneeded",m=>{c(Ur(f.result),m.oldVersion,m.newVersion,Ur(f.transaction),m)}),i&&f.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),b.then(m=>{h&&m.addEventListener("close",()=>h()),d&&m.addEventListener("versionchange",v=>d(v.oldVersion,v.newVersion,v))}).catch(()=>{}),b}const VG=["get","getKey","getAll","getAllKeys","count"],$G=["put","add","delete","clear"],Yk=new Map;function wD(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Yk.get(t))return Yk.get(t);const i=t.replace(/FromIndex$/,""),c=t!==i,d=$G.includes(i);if(!(i in(c?IDBIndex:IDBObjectStore).prototype)||!(d||VG.includes(i)))return;const h=async function(f,...b){const m=this.transaction(f,d?"readwrite":"readonly");let v=m.store;return c&&(v=v.index(b.shift())),(await Promise.all([v[i](...b),d&&m.done]))[0]};return Yk.set(t,h),h}LG(n=>({...n,get:(t,i,c)=>wD(t,i)||n.get(t,i,c),has:(t,i)=>!!wD(t,i)||n.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(HG(i)){const c=i.getImmediate();return`${c.library}/${c.version}`}else return null}).filter(i=>i).join(" ")}}function HG(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const L0="@firebase/app",vD="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new Vw("@firebase/app"),WG="@firebase/app-compat",qG="@firebase/analytics-compat",GG="@firebase/analytics",KG="@firebase/app-check-compat",YG="@firebase/app-check",QG="@firebase/auth",ZG="@firebase/auth-compat",JG="@firebase/database",XG="@firebase/database-compat",eK="@firebase/functions",tK="@firebase/functions-compat",nK="@firebase/installations",oK="@firebase/installations-compat",iK="@firebase/messaging",rK="@firebase/messaging-compat",sK="@firebase/performance",aK="@firebase/performance-compat",cK="@firebase/remote-config",lK="@firebase/remote-config-compat",dK="@firebase/storage",uK="@firebase/storage-compat",hK="@firebase/firestore",pK="@firebase/firestore-compat",fK="firebase",gK="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="[DEFAULT]",mK={[L0]:"fire-core",[WG]:"fire-core-compat",[GG]:"fire-analytics",[qG]:"fire-analytics-compat",[YG]:"fire-app-check",[KG]:"fire-app-check-compat",[QG]:"fire-auth",[ZG]:"fire-auth-compat",[JG]:"fire-rtdb",[XG]:"fire-rtdb-compat",[eK]:"fire-fn",[tK]:"fire-fn-compat",[nK]:"fire-iid",[oK]:"fire-iid-compat",[iK]:"fire-fcm",[rK]:"fire-fcm-compat",[sK]:"fire-perf",[aK]:"fire-perf-compat",[cK]:"fire-rc",[lK]:"fire-rc-compat",[dK]:"fire-gcs",[uK]:"fire-gcs-compat",[hK]:"fire-fst",[pK]:"fire-fst-compat","fire-js":"fire-js",[fK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf=new Map,z0=new Map;function bK(n,t){try{n.container.addComponent(t)}catch(i){Hs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,i)}}function Ws(n){const t=n.name;if(z0.has(t))return Hs.debug(`There were multiple attempts to register component ${t}.`),!1;z0.set(t,n);for(const i of sf.values())bK(i,n);return!0}function Hf(n,t){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Hr=new su("app","Firebase",kK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{constructor(t,i,c){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=c,this.container.addComponent(new qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=gK;function bP(n,t={}){let i=n;typeof t!="object"&&(t={name:t});const c=Object.assign({name:j0,automaticDataCollectionEnabled:!1},t),d=c.name;if(typeof d!="string"||!d)throw Hr.create("bad-app-name",{appName:String(d)});if(i||(i=hP()),!i)throw Hr.create("no-options");const h=sf.get(d);if(h){if(rf(i,h.options)&&rf(c,h.config))return h;throw Hr.create("duplicate-app",{appName:d})}const f=new TG(d);for(const m of z0.values())f.addComponent(m);const b=new wK(i,c,f);return sf.set(d,b),b}function Uw(n=j0){const t=sf.get(n);if(!t&&n===j0&&hP())return bP();if(!t)throw Hr.create("no-app",{appName:n});return t}function Pi(n,t,i){var c;let d=(c=mK[n])!==null&&c!==void 0?c:n;i&&(d+=`-${i}`);const h=d.match(/\s|\//),f=t.match(/\s|\//);if(h||f){const b=[`Unable to register library "${d}" with version "${t}":`];h&&b.push(`library name "${d}" contains illegal characters (whitespace or "/")`),h&&f&&b.push("and"),f&&b.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hs.warn(b.join(" "));return}Ws(new qr(`${d}-version`,()=>({library:d,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vK="firebase-heartbeat-database",_K=1,Sd="firebase-heartbeat-store";let Qk=null;function kP(){return Qk||(Qk=FG(vK,_K,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(Sd)}}}).catch(n=>{throw Hr.create("idb-open",{originalErrorMessage:n.message})})),Qk}async function CK(n){try{return await(await kP()).transaction(Sd).objectStore(Sd).get(wP(n))}catch(t){if(t instanceof $i)Hs.warn(t.message);else{const i=Hr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Hs.warn(i.message)}}}async function _D(n,t){try{const c=(await kP()).transaction(Sd,"readwrite");await c.objectStore(Sd).put(t,wP(n)),await c.done}catch(i){if(i instanceof $i)Hs.warn(i.message);else{const c=Hr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Hs.warn(c.message)}}}function wP(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AK=1024,yK=30*24*60*60*1e3;class xK{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new TK(i),this._heartbeatsCachePromise=this._storage.read().then(c=>(this._heartbeatsCache=c,c))}async triggerHeartbeat(){const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=CD();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c)))return this._heartbeatsCache.heartbeats.push({date:c,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const h=new Date(d.date).valueOf();return Date.now()-h<=yK}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=CD(),{heartbeatsToSend:i,unsentEntries:c}=EK(this._heartbeatsCache.heartbeats),d=of(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,c.length>0?(this._heartbeatsCache.heartbeats=c,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),d}}function CD(){return new Date().toISOString().substring(0,10)}function EK(n,t=AK){const i=[];let c=n.slice();for(const d of n){const h=i.find(f=>f.agent===d.agent);if(h){if(h.dates.push(d.date),AD(i)>t){h.dates.pop();break}}else if(i.push({agent:d.agent,dates:[d.date]}),AD(i)>t){i.pop();break}c=c.slice(1)}return{heartbeatsToSend:i,unsentEntries:c}}class TK{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gG()?mG().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await CK(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const d=await this.read();return _D(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:d.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const d=await this.read();return _D(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:d.lastSentHeartbeatDate,heartbeats:[...d.heartbeats,...t.heartbeats]})}else return}}function AD(n){return of(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IK(n){Ws(new qr("platform-logger",t=>new UG(t),"PRIVATE")),Ws(new qr("heartbeat",t=>new xK(t),"PRIVATE")),Pi(L0,vD,n),Pi(L0,vD,"esm2017"),Pi("fire-js","")}IK("");function Hw(n,t){var i={};for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&t.indexOf(c)<0&&(i[c]=n[c]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,c=Object.getOwnPropertySymbols(n);d<c.length;d++)t.indexOf(c[d])<0&&Object.prototype.propertyIsEnumerable.call(n,c[d])&&(i[c[d]]=n[c[d]]);return i}function vP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SK=vP,_P=new su("auth","Firebase",vP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=new Vw("@firebase/auth");function DK(n,...t){af.logLevel<=At.WARN&&af.warn(`Auth (${ta}): ${n}`,...t)}function Lp(n,...t){af.logLevel<=At.ERROR&&af.error(`Auth (${ta}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(n,...t){throw Ww(n,...t)}function Ri(n,...t){return Ww(n,...t)}function CP(n,t,i){const c=Object.assign(Object.assign({},SK()),{[t]:i});return new su("auth","Firebase",c).create(t,{appName:n.name})}function MK(n,t,i){const c=i;if(!(t instanceof c))throw c.name!==t.constructor.name&&ji(n,"argument-error"),CP(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ww(n,...t){if(typeof n!="string"){const i=t[0],c=[...t.slice(1)];return c[0]&&(c[0].appName=n.name),n._errorFactory.create(i,...c)}return _P.create(n,...t)}function et(n,t,...i){if(!n)throw Ww(t,...i)}function sr(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Lp(t),new Error(t)}function ur(n,t){n||sr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function PK(){return yD()==="http:"||yD()==="https:"}function yD(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PK()||hG()||"connection"in navigator)?navigator.onLine:!0}function BK(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(t,i){this.shortDelay=t,this.longDelay=i,ur(i>t,"Short delay should be less than long delay!"),this.isMobile=dG()||pG()}get(){return RK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(n,t){ur(n.emulator,"Emulator should always be set here");const{url:i}=n.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{static initialize(t,i,c){this.fetchImpl=t,i&&(this.headersImpl=i),c&&(this.responseImpl=c)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OK=new cu(3e4,6e4);function yP(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function lu(n,t,i,c,d={}){return xP(n,d,async()=>{let h={},f={};c&&(t==="GET"?f=c:h={body:JSON.stringify(c)});const b=au(Object.assign({key:n.config.apiKey},f)).slice(1),m=await n._getAdditionalHeaders();return m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode),AP.fetch()(EP(n,n.config.apiHost,i,b),Object.assign({method:t,headers:m,referrerPolicy:"no-referrer"},h))})}async function xP(n,t,i){n._canInitEmulator=!1;const c=Object.assign(Object.assign({},NK),t);try{const d=new jK(n),h=await Promise.race([i(),d.promise]);d.clearNetworkTimeout();const f=await h.json();if("needConfirmation"in f)throw mp(n,"account-exists-with-different-credential",f);if(h.ok&&!("errorMessage"in f))return f;{const b=h.ok?f.errorMessage:f.error.message,[m,v]=b.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw mp(n,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw mp(n,"email-already-in-use",f);if(m==="USER_DISABLED")throw mp(n,"user-disabled",f);const C=c[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw CP(n,C,v);ji(n,C)}}catch(d){if(d instanceof $i)throw d;ji(n,"network-request-failed",{message:String(d)})}}async function LK(n,t,i,c,d={}){const h=await lu(n,t,i,c,d);return"mfaPendingCredential"in h&&ji(n,"multi-factor-auth-required",{_serverResponse:h}),h}function EP(n,t,i,c){const d=`${t}${i}?${c}`;return n.config.emulator?qw(n.config,d):`${n.config.apiScheme}://${d}`}class jK{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,c)=>{this.timer=setTimeout(()=>c(Ri(this.auth,"network-request-failed")),OK.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mp(n,t,i){const c={appName:n.name};i.email&&(c.email=i.email),i.phoneNumber&&(c.phoneNumber=i.phoneNumber);const d=Ri(n,t,c);return d.customData._tokenResponse=i,d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zK(n,t){return lu(n,"POST","/v1/accounts:delete",t)}async function FK(n,t){return lu(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function VK(n,t=!1){const i=Zt(n),c=await i.getIdToken(t),d=Gw(c);et(d&&d.exp&&d.auth_time&&d.iat,i.auth,"internal-error");const h=typeof d.firebase=="object"?d.firebase:void 0,f=h==null?void 0:h.sign_in_provider;return{claims:d,token:c,authTime:ud(Zk(d.auth_time)),issuedAtTime:ud(Zk(d.iat)),expirationTime:ud(Zk(d.exp)),signInProvider:f||null,signInSecondFactor:(h==null?void 0:h.sign_in_second_factor)||null}}function Zk(n){return Number(n)*1e3}function Gw(n){const[t,i,c]=n.split(".");if(t===void 0||i===void 0||c===void 0)return Lp("JWT malformed, contained fewer than 3 sections"),null;try{const d=lP(i);return d?JSON.parse(d):(Lp("Failed to decode base64 JWT payload"),null)}catch(d){return Lp("Caught error parsing JWT payload as JSON",d==null?void 0:d.toString()),null}}function $K(n){const t=Gw(n);return et(t,"internal-error"),et(typeof t.exp<"u","internal-error"),et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dd(n,t,i=!1){if(i)return t;try{return await t}catch(c){throw c instanceof $i&&UK(c)&&n.auth.currentUser===n&&await n.auth.signOut(),c}}function UK({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HK{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const c=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),c}else{this.errorBackoff=3e4;const d=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,d)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=ud(this.lastLoginAt),this.creationTime=ud(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(n){var t;const i=n.auth,c=await n.getIdToken(),d=await Dd(n,FK(i,{idToken:c}));et(d==null?void 0:d.users.length,i,"internal-error");const h=d.users[0];n._notifyReloadListener(h);const f=!((t=h.providerUserInfo)===null||t===void 0)&&t.length?GK(h.providerUserInfo):[],b=qK(n.providerData,f),m=n.isAnonymous,v=!(n.email&&h.passwordHash)&&!(b!=null&&b.length),C=m?v:!1,y={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:b,metadata:new TP(h.createdAt,h.lastLoginAt),isAnonymous:C};Object.assign(n,y)}async function WK(n){const t=Zt(n);await cf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function qK(n,t){return[...n.filter(c=>!t.some(d=>d.providerId===c.providerId)),...t]}function GK(n){return n.map(t=>{var{providerId:i}=t,c=Hw(t,["providerId"]);return{providerId:i,uid:c.rawId||"",displayName:c.displayName||null,email:c.email||null,phoneNumber:c.phoneNumber||null,photoURL:c.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KK(n,t){const i=await xP(n,{},async()=>{const c=au({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:d,apiKey:h}=n.config,f=EP(n,d,"/v1/token",`key=${h}`),b=await n._getAdditionalHeaders();return b["Content-Type"]="application/x-www-form-urlencoded",AP.fetch()(f,{method:"POST",headers:b,body:c})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){et(t.idToken,"internal-error"),et(typeof t.idToken<"u","internal-error"),et(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):$K(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}async getToken(t,i=!1){return et(!this.accessToken||this.refreshToken,t,"user-token-expired"),!i&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:c,refreshToken:d,expiresIn:h}=await KK(t,i);this.updateTokensAndExpiration(c,d,Number(h))}updateTokensAndExpiration(t,i,c){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+c*1e3}static fromJSON(t,i){const{refreshToken:c,accessToken:d,expirationTime:h}=i,f=new Md;return c&&(et(typeof c=="string","internal-error",{appName:t}),f.refreshToken=c),d&&(et(typeof d=="string","internal-error",{appName:t}),f.accessToken=d),h&&(et(typeof h=="number","internal-error",{appName:t}),f.expirationTime=h),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Md,this.toJSON())}_performRefresh(){return sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(n,t){et(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Fs{constructor(t){var{uid:i,auth:c,stsTokenManager:d}=t,h=Hw(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=c,this.stsTokenManager=d,this.accessToken=d.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new TP(h.createdAt||void 0,h.lastLoginAt||void 0)}async getIdToken(t){const i=await Dd(this,this.stsTokenManager.getToken(this.auth,t));return et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return VK(this,t)}reload(){return WK(this)}_assign(t){this!==t&&(et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Fs(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let c=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),c=!0),i&&await cf(this),await this.auth._persistUserIfCurrent(this),c&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Dd(this,zK(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var c,d,h,f,b,m,v,C;const y=(c=i.displayName)!==null&&c!==void 0?c:void 0,_=(d=i.email)!==null&&d!==void 0?d:void 0,x=(h=i.phoneNumber)!==null&&h!==void 0?h:void 0,I=(f=i.photoURL)!==null&&f!==void 0?f:void 0,S=(b=i.tenantId)!==null&&b!==void 0?b:void 0,M=(m=i._redirectEventId)!==null&&m!==void 0?m:void 0,N=(v=i.createdAt)!==null&&v!==void 0?v:void 0,j=(C=i.lastLoginAt)!==null&&C!==void 0?C:void 0,{uid:L,emailVerified:V,isAnonymous:H,providerData:W,stsTokenManager:P}=i;et(L&&P,t,"internal-error");const U=Md.fromJSON(this.name,P);et(typeof L=="string",t,"internal-error"),Mr(y,t.name),Mr(_,t.name),et(typeof V=="boolean",t,"internal-error"),et(typeof H=="boolean",t,"internal-error"),Mr(x,t.name),Mr(I,t.name),Mr(S,t.name),Mr(M,t.name),Mr(N,t.name),Mr(j,t.name);const G=new Fs({uid:L,auth:t,email:_,emailVerified:V,displayName:y,isAnonymous:H,photoURL:I,phoneNumber:x,tenantId:S,stsTokenManager:U,createdAt:N,lastLoginAt:j});return W&&Array.isArray(W)&&(G.providerData=W.map(Q=>Object.assign({},Q))),M&&(G._redirectEventId=M),G}static async _fromIdTokenResponse(t,i,c=!1){const d=new Md;d.updateFromServerResponse(i);const h=new Fs({uid:i.localId,auth:t,stsTokenManager:d,isAnonymous:c});return await cf(h),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=new Map;function ar(n){ur(n instanceof Function,"Expected a class definition");let t=xD.get(n);return t?(ur(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,xD.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}IP.type="NONE";const ED=IP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(n,t,i){return`firebase:${n}:${t}:${i}`}class oc{constructor(t,i,c){this.persistence=t,this.auth=i,this.userKey=c;const{config:d,name:h}=this.auth;this.fullUserKey=jp(this.userKey,d.apiKey,h),this.fullPersistenceKey=jp("persistence",d.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Fs._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,c="authUser"){if(!i.length)return new oc(ar(ED),t,c);const d=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let h=d[0]||ar(ED);const f=jp(c,t.config.apiKey,t.name);let b=null;for(const v of i)try{const C=await v._get(f);if(C){const y=Fs._fromJSON(t,C);v!==h&&(b=y),h=v;break}}catch{}const m=d.filter(v=>v._shouldAllowMigration);return!h._shouldAllowMigration||!m.length?new oc(h,t,c):(h=m[0],b&&await h._set(f,b.toJSON()),await Promise.all(i.map(async v=>{if(v!==h)try{await v._remove(f)}catch{}})),new oc(h,t,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(MP(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(SP(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(RP(t))return"Blackberry";if(BP(t))return"Webos";if(Kw(t))return"Safari";if((t.includes("chrome/")||DP(t))&&!t.includes("edge/"))return"Chrome";if(PP(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,c=n.match(i);if((c==null?void 0:c.length)===2)return c[1]}return"Other"}function SP(n=Xn()){return/firefox\//i.test(n)}function Kw(n=Xn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function DP(n=Xn()){return/crios\//i.test(n)}function MP(n=Xn()){return/iemobile/i.test(n)}function PP(n=Xn()){return/android/i.test(n)}function RP(n=Xn()){return/blackberry/i.test(n)}function BP(n=Xn()){return/webos/i.test(n)}function Wf(n=Xn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function YK(n=Xn()){var t;return Wf(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function QK(){return fG()&&document.documentMode===10}function NP(n=Xn()){return Wf(n)||PP(n)||BP(n)||RP(n)||/windows phone/i.test(n)||MP(n)}function ZK(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(n,t=[]){let i;switch(n){case"Browser":i=TD(Xn());break;case"Worker":i=`${TD(Xn())}-${n}`;break;default:i=n}const c=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ta}/${c}`}async function LP(n,t){return lu(n,"GET","/v2/recaptchaConfig",yP(n,t))}function ID(n){return n!==void 0&&n.enterprise!==void 0}class jP{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(i=>i.provider==="EMAIL_PASSWORD_PROVIDER"&&i.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JK(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}function zP(n){return new Promise((t,i)=>{const c=document.createElement("script");c.setAttribute("src",n),c.onload=t,c.onerror=d=>{const h=Ri("internal-error");h.customData=d,i(h)},c.type="text/javascript",c.charset="UTF-8",JK().appendChild(c)})}function XK(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const eY="https://www.google.com/recaptcha/enterprise.js?render=",tY="recaptcha-enterprise",nY="NO_RECAPTCHA";class oY{constructor(t){this.type=tY,this.auth=du(t)}async verify(t="verify",i=!1){async function c(h){if(!i){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(f,b)=>{LP(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)b(new Error("recaptcha Enterprise site key undefined"));else{const v=new jP(m);return h.tenantId==null?h._agentRecaptchaConfig=v:h._tenantRecaptchaConfigs[h.tenantId]=v,f(v.siteKey)}}).catch(m=>{b(m)})})}function d(h,f,b){const m=window.grecaptcha;ID(m)?m.enterprise.ready(()=>{m.enterprise.execute(h,{action:t}).then(v=>{f(v)}).catch(()=>{f(nY)})}):b(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((h,f)=>{c(this.auth).then(b=>{if(!i&&ID(window.grecaptcha))d(b,h,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}zP(eY+b).then(()=>{d(b,h,f)}).catch(m=>{f(m)})}}).catch(b=>{f(b)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iY{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const c=h=>new Promise((f,b)=>{try{const m=t(h);f(m)}catch(m){b(m)}});c.onAbort=i,this.queue.push(c);const d=this.queue.length-1;return()=>{this.queue[d]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const c of this.queue)await c(t),c.onAbort&&i.push(c.onAbort)}catch(c){i.reverse();for(const d of i)try{d()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:c==null?void 0:c.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rY{constructor(t,i,c,d){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=c,this.config=d,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SD(this),this.idTokenSubscription=new SD(this),this.beforeStateQueue=new iY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_P,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=d.sdkClientVersion}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ar(i)),this._initializationPromise=this.queue(async()=>{var c,d;if(!this._deleted&&(this.persistenceManager=await oc.create(this,t),!this._deleted)){if(!((c=this._popupRedirectResolver)===null||c===void 0)&&c._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((d=this.currentUser)===null||d===void 0?void 0:d.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var i;const c=await this.assertedPersistence.getCurrentUser();let d=c,h=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,b=d==null?void 0:d._redirectEventId,m=await this.tryRedirectSignIn(t);(!f||f===b)&&(m!=null&&m.user)&&(d=m.user,h=!0)}if(!d)return this.directlySetCurrentUser(null);if(!d._redirectEventId){if(h)try{await this.beforeStateQueue.runMiddleware(d)}catch(f){d=c,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return d?this.reloadAndSetCurrentUserOrClear(d):this.directlySetCurrentUser(null)}return et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===d._redirectEventId?this.directlySetCurrentUser(d):this.reloadAndSetCurrentUserOrClear(d)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await cf(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=BK()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const i=t?Zt(t):null;return i&&et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(t))})}async initializeRecaptchaConfig(){const t=await LP(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new jP(t);this.tenantId==null?this._agentRecaptchaConfig=i:this._tenantRecaptchaConfigs[this.tenantId]=i,i.emailPasswordEnabled&&new oY(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new su("auth","Firebase",t())}onAuthStateChanged(t,i,c){return this.registerStateListener(this.authStateSubscription,t,i,c)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,c){return this.registerStateListener(this.idTokenSubscription,t,i,c)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const c=await this.getOrInitRedirectPersistenceManager(i);return t===null?c.removeCurrentUser():c.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ar(t)||this._popupRedirectResolver;et(i,this,"argument-error"),this.redirectPersistenceManager=await oc.create(this,[ar(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,c;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((c=this.redirectUser)===null||c===void 0?void 0:c._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const c=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==c&&(this.lastNotifiedUid=c,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,c,d){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i),f=this._isInitialized?Promise.resolve():this._initializationPromise;return et(f,this,"internal-error"),f.then(()=>h(this.currentUser)),typeof i=="function"?t.addObserver(i,c,d):t.addObserver(i)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=OP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const c=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());c&&(i["X-Firebase-Client"]=c);const d=await this._getAppCheckToken();return d&&(i["X-Firebase-AppCheck"]=d),i}async _getAppCheckToken(){var t;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&DK(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function du(n){return Zt(n)}class SD{constructor(t){this.auth=t,this.observer=null,this.addObserver=_G(i=>this.observer=i)}get next(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sY(n,t){const i=Hf(n,"auth");if(i.isInitialized()){const d=i.getImmediate(),h=i.getOptions();if(rf(h,t??{}))return d;ji(d,"already-initialized")}return i.initialize({options:t})}function aY(n,t){const i=(t==null?void 0:t.persistence)||[],c=(Array.isArray(i)?i:[i]).map(ar);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(c,t==null?void 0:t.popupRedirectResolver)}function cY(n,t,i){const c=du(n);et(c._canInitEmulator,c,"emulator-config-failed"),et(/^https?:\/\//.test(t),c,"invalid-emulator-scheme");const d=!1,h=FP(t),{host:f,port:b}=lY(t),m=b===null?"":`:${b}`;c.config.emulator={url:`${h}//${f}${m}/`},c.settings.appVerificationDisabledForTesting=!0,c.emulatorConfig=Object.freeze({host:f,port:b,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:d})}),dY()}function FP(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function lY(n){const t=FP(n),i=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!i)return{host:"",port:null};const c=i[2].split("@").pop()||"",d=/^(\[[^\]]+\])(:|$)/.exec(c);if(d){const h=d[1];return{host:h,port:DD(c.substr(h.length+1))}}else{const[h,f]=c.split(":");return{host:h,port:DD(f)}}}function DD(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function dY(){function n(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return sr("not implemented")}_getIdTokenResponse(t){return sr("not implemented")}_linkToIdToken(t,i){return sr("not implemented")}_getReauthenticationResolver(t){return sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(n,t){return LK(n,"POST","/v1/accounts:signInWithIdp",yP(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uY="http://localhost";class qs extends VP{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new qs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ji("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:c,signInMethod:d}=i,h=Hw(i,["providerId","signInMethod"]);if(!c||!d)return null;const f=new qs(c,d);return f.idToken=h.idToken||void 0,f.accessToken=h.accessToken||void 0,f.secret=h.secret,f.nonce=h.nonce,f.pendingToken=h.pendingToken||null,f}_getIdTokenResponse(t){const i=this.buildRequest();return ic(t,i)}_linkToIdToken(t,i){const c=this.buildRequest();return c.idToken=i,ic(t,c)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ic(t,i)}buildRequest(){const t={requestUri:uY,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=au(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends Yw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends uu{constructor(){super("facebook.com")}static credential(t){return qs._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Nr.credentialFromTaggedObject(t)}static credentialFromError(t){return Nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Nr.credential(t.oauthAccessToken)}catch{return null}}}Nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return qs._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Or.credentialFromTaggedObject(t)}static credentialFromError(t){return Or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:c}=t;if(!i&&!c)return null;try{return Or.credential(i,c)}catch{return null}}}Or.GOOGLE_SIGN_IN_METHOD="google.com";Or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends uu{constructor(){super("github.com")}static credential(t){return qs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Lr.credential(t.oauthAccessToken)}catch{return null}}}Lr.GITHUB_SIGN_IN_METHOD="github.com";Lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends uu{constructor(){super("twitter.com")}static credential(t,i){return qs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:c}=t;if(!i||!c)return null;try{return jr.credential(i,c)}catch{return null}}}jr.TWITTER_SIGN_IN_METHOD="twitter.com";jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,c,d=!1){const h=await Fs._fromIdTokenResponse(t,c,d),f=MD(c);return new fc({user:h,providerId:f,_tokenResponse:c,operationType:i})}static async _forOperation(t,i,c){await t._updateTokensIfNecessary(c,!0);const d=MD(c);return new fc({user:t,providerId:d,_tokenResponse:c,operationType:i})}}function MD(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends $i{constructor(t,i,c,d){var h;super(i.code,i.message),this.operationType=c,this.user=d,Object.setPrototypeOf(this,lf.prototype),this.customData={appName:t.name,tenantId:(h=t.tenantId)!==null&&h!==void 0?h:void 0,_serverResponse:i.customData._serverResponse,operationType:c}}static _fromErrorAndOperation(t,i,c,d){return new lf(t,i,c,d)}}function $P(n,t,i,c){return(t==="reauthenticate"?i._getReauthenticationResolver(n):i._getIdTokenResponse(n)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?lf._fromErrorAndOperation(n,h,t,c):h})}async function hY(n,t,i=!1){const c=await Dd(n,t._linkToIdToken(n.auth,await n.getIdToken()),i);return fc._forOperation(n,"link",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pY(n,t,i=!1){const{auth:c}=n,d="reauthenticate";try{const h=await Dd(n,$P(c,d,t,n),i);et(h.idToken,c,"internal-error");const f=Gw(h.idToken);et(f,c,"internal-error");const{sub:b}=f;return et(n.uid===b,c,"user-mismatch"),fc._forOperation(n,d,h)}catch(h){throw(h==null?void 0:h.code)==="auth/user-not-found"&&ji(c,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fY(n,t,i=!1){const c="signIn",d=await $P(n,c,t),h=await fc._fromIdTokenResponse(n,c,d);return i||await n._updateCurrentUser(h.user),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0e(n,t){return Zt(n).setPersistence(t)}function gY(n,t,i,c){return Zt(n).onIdTokenChanged(t,i,c)}function mY(n,t,i){return Zt(n).beforeAuthStateChanged(t,i)}function bY(n,t,i,c){return Zt(n).onAuthStateChanged(t,i,c)}function kY(n){return Zt(n).signOut()}const df="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(df,"1"),this.storage.removeItem(df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wY(){const n=Xn();return Kw(n)||Wf(n)}const vY=1e3,_Y=10;class HP extends UP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=wY()&&ZK(),this.fallbackToPolling=NP(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const c=this.storage.getItem(i),d=this.localCache[i];c!==d&&t(i,d,c)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((f,b,m)=>{this.notifyListeners(f,m)});return}const c=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const f=this.storage.getItem(c);if(t.newValue!==f)t.newValue!==null?this.storage.setItem(c,t.newValue):this.storage.removeItem(c);else if(this.localCache[c]===t.newValue&&!i)return}const d=()=>{const f=this.storage.getItem(c);!i&&this.localCache[c]===f||this.notifyListeners(c,f)},h=this.storage.getItem(c);QK()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(d,_Y):d()}notifyListeners(t,i){this.localCache[t]=i;const c=this.listeners[t];if(c)for(const d of Array.from(c))d(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,c)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:c}),!0)})},vY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}HP.type="LOCAL";const CY=HP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP extends UP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}WP.type="SESSION";const qP=WP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AY(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(d=>d.isListeningto(t));if(i)return i;const c=new qf(t);return this.receivers.push(c),c}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:c,eventType:d,data:h}=i.data,f=this.handlersMap[d];if(!(f!=null&&f.size))return;i.ports[0].postMessage({status:"ack",eventId:c,eventType:d});const b=Array.from(f).map(async v=>v(i.origin,h)),m=await AY(b);i.ports[0].postMessage({status:"done",eventId:c,eventType:d,response:m})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(n="",t=10){let i="";for(let c=0;c<t;c++)i+=Math.floor(Math.random()*10);return n+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yY{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,c=50){const d=typeof MessageChannel<"u"?new MessageChannel:null;if(!d)throw new Error("connection_unavailable");let h,f;return new Promise((b,m)=>{const v=Qw("",20);d.port1.start();const C=setTimeout(()=>{m(new Error("unsupported_event"))},c);f={messageChannel:d,onMessage(y){const _=y;if(_.data.eventId===v)switch(_.data.status){case"ack":clearTimeout(C),h=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),b(_.data.response);break;default:clearTimeout(C),clearTimeout(h),m(new Error("invalid_response"));break}}},this.handlers.add(f),d.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[d.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(){return window}function xY(n){Bi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function EY(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TY(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function IY(){return GP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="firebaseLocalStorageDb",SY=1,uf="firebaseLocalStorage",YP="fbase_key";class hu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Gf(n,t){return n.transaction([uf],t?"readwrite":"readonly").objectStore(uf)}function DY(){const n=indexedDB.deleteDatabase(KP);return new hu(n).toPromise()}function V0(){const n=indexedDB.open(KP,SY);return new Promise((t,i)=>{n.addEventListener("error",()=>{i(n.error)}),n.addEventListener("upgradeneeded",()=>{const c=n.result;try{c.createObjectStore(uf,{keyPath:YP})}catch(d){i(d)}}),n.addEventListener("success",async()=>{const c=n.result;c.objectStoreNames.contains(uf)?t(c):(c.close(),await DY(),t(await V0()))})})}async function PD(n,t,i){const c=Gf(n,!0).put({[YP]:t,value:i});return new hu(c).toPromise()}async function MY(n,t){const i=Gf(n,!1).get(t),c=await new hu(i).toPromise();return c===void 0?null:c.value}function RD(n,t){const i=Gf(n,!0).delete(t);return new hu(i).toPromise()}const PY=800,RY=3;class QP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await V0(),this.db)}async _withRetries(t){let i=0;for(;;)try{const c=await this._openDb();return await t(c)}catch(c){if(i++>RY)throw c;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qf._getInstance(IY()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await EY(),!this.activeServiceWorker)return;this.sender=new yY(this.activeServiceWorker);const c=await this.sender._send("ping",{},800);c&&!((t=c[0])===null||t===void 0)&&t.fulfilled&&!((i=c[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||TY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await V0();return await PD(t,df,"1"),await RD(t,df),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(c=>PD(c,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(c=>MY(c,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>RD(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(d=>{const h=Gf(d,!1).getAll();return new hu(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],c=new Set;for(const{fbase_key:d,value:h}of t)c.add(d),JSON.stringify(this.localCache[d])!==JSON.stringify(h)&&(this.notifyListeners(d,h),i.push(d));for(const d of Object.keys(this.localCache))this.localCache[d]&&!c.has(d)&&(this.notifyListeners(d,null),i.push(d));return i}notifyListeners(t,i){this.localCache[t]=i;const c=this.listeners[t];if(c)for(const d of Array.from(c))d(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QP.type="LOCAL";const BY=QP;new cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(n,t){return t?ar(t):(et(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw extends VP{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ic(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ic(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ic(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function NY(n){return fY(n.auth,new Zw(n),n.bypassAuthState)}function OY(n){const{auth:t,user:i}=n;return et(i,t,"internal-error"),pY(i,new Zw(n),n.bypassAuthState)}async function LY(n){const{auth:t,user:i}=n;return et(i,t,"internal-error"),hY(i,new Zw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(t,i,c,d,h=!1){this.auth=t,this.resolver=c,this.user=d,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(c){this.reject(c)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:c,postBody:d,tenantId:h,error:f,type:b}=t;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:i,sessionId:c,tenantId:h||void 0,postBody:d||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(m))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return NY;case"linkViaPopup":case"linkViaRedirect":return LY;case"reauthViaPopup":case"reauthViaRedirect":return OY;default:ji(this.auth,"internal-error")}}resolve(t){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jY=new cu(2e3,1e4);async function s0e(n,t,i){const c=du(n);MK(n,t,Yw);const d=ZP(c,i);return new Rs(c,"signInViaPopup",t,d).executeNotNull()}class Rs extends JP{constructor(t,i,c,d,h){super(t,i,d,h),this.provider=c,this.authWindow=null,this.pollId=null,Rs.currentPopupAction&&Rs.currentPopupAction.cancel(),Rs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return et(t,this.auth,"internal-error"),t}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const t=Qw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,c;if(!((c=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||c===void 0)&&c.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,jY.get())};t()}}Rs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zY="pendingRedirect",zp=new Map;class FY extends JP{constructor(t,i,c=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,c),this.eventId=null}async execute(){let t=zp.get(this.auth._key());if(!t){try{const c=await VY(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(c)}catch(i){t=()=>Promise.reject(i)}zp.set(this.auth._key(),t)}return this.bypassAuthState||zp.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VY(n,t){const i=HY(t),c=UY(n);if(!await c._isAvailable())return!1;const d=await c._get(i)==="true";return await c._remove(i),d}function $Y(n,t){zp.set(n._key(),t)}function UY(n){return ar(n._redirectPersistence)}function HY(n){return jp(zY,n.config.apiKey,n.name)}async function WY(n,t,i=!1){const c=du(n),d=ZP(c,t),f=await new FY(c,d,i).execute();return f&&!i&&(delete f.user._redirectEventId,await c._persistUserIfCurrent(f.user),await c._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qY=10*60*1e3;class GY{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(c=>{this.isEventForConsumer(t,c)&&(i=!0,this.sendToConsumer(t,c),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!KY(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var c;if(t.error&&!XP(t)){const d=((c=t.error.code)===null||c===void 0?void 0:c.split("auth/")[1])||"internal-error";i.onError(Ri(this.auth,d))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const c=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&c}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=qY&&this.cachedEventUids.clear(),this.cachedEventUids.has(BD(t))}saveEventToCache(t){this.cachedEventUids.add(BD(t)),this.lastProcessedEventTime=Date.now()}}function BD(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function XP({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function KY(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XP(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YY(n,t={}){return lu(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZY=/^https?/;async function JY(n){if(n.config.emulator)return;const{authorizedDomains:t}=await YY(n);for(const i of t)try{if(XY(i))return}catch{}ji(n,"unauthorized-domain")}function XY(n){const t=F0(),{protocol:i,hostname:c}=new URL(t);if(n.startsWith("chrome-extension://")){const f=new URL(n);return f.hostname===""&&c===""?i==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===c}if(!ZY.test(i))return!1;if(QY.test(n))return c===n;const d=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+d+"|"+d+")$","i").test(c)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eQ=new cu(3e4,6e4);function ND(){const n=Bi().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let i=0;i<n.CP.length;i++)n.CP[i]=null}}function tQ(n){return new Promise((t,i)=>{var c,d,h;function f(){ND(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ND(),i(Ri(n,"network-request-failed"))},timeout:eQ.get()})}if(!((d=(c=Bi().gapi)===null||c===void 0?void 0:c.iframes)===null||d===void 0)&&d.Iframe)t(gapi.iframes.getContext());else if(!((h=Bi().gapi)===null||h===void 0)&&h.load)f();else{const b=XK("iframefcb");return Bi()[b]=()=>{gapi.load?f():i(Ri(n,"network-request-failed"))},zP(`https://apis.google.com/js/api.js?onload=${b}`).catch(m=>i(m))}}).catch(t=>{throw Fp=null,t})}let Fp=null;function nQ(n){return Fp=Fp||tQ(n),Fp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oQ=new cu(5e3,15e3),iQ="__/auth/iframe",rQ="emulator/auth/iframe",sQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cQ(n){const t=n.config;et(t.authDomain,n,"auth-domain-config-required");const i=t.emulator?qw(t,rQ):`https://${n.config.authDomain}/${iQ}`,c={apiKey:t.apiKey,appName:n.name,v:ta},d=aQ.get(n.config.apiHost);d&&(c.eid=d);const h=n._getFrameworks();return h.length&&(c.fw=h.join(",")),`${i}?${au(c).slice(1)}`}async function lQ(n){const t=await nQ(n),i=Bi().gapi;return et(i,n,"internal-error"),t.open({where:document.body,url:cQ(n),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sQ,dontclear:!0},c=>new Promise(async(d,h)=>{await c.restyle({setHideOnLeave:!1});const f=Ri(n,"network-request-failed"),b=Bi().setTimeout(()=>{h(f)},oQ.get());function m(){Bi().clearTimeout(b),d(c)}c.ping(m).then(m,()=>{h(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uQ=500,hQ=600,pQ="_blank",fQ="http://localhost";class OD{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gQ(n,t,i,c=uQ,d=hQ){const h=Math.max((window.screen.availHeight-d)/2,0).toString(),f=Math.max((window.screen.availWidth-c)/2,0).toString();let b="";const m=Object.assign(Object.assign({},dQ),{width:c.toString(),height:d.toString(),top:h,left:f}),v=Xn().toLowerCase();i&&(b=DP(v)?pQ:i),SP(v)&&(t=t||fQ,m.scrollbars="yes");const C=Object.entries(m).reduce((_,[x,I])=>`${_}${x}=${I},`,"");if(YK(v)&&b!=="_self")return mQ(t||"",b),new OD(null);const y=window.open(t||"",b,C);et(y,n,"popup-blocked");try{y.focus()}catch{}return new OD(y)}function mQ(n,t){const i=document.createElement("a");i.href=n,i.target=t;const c=document.createEvent("MouseEvent");c.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bQ="__/auth/handler",kQ="emulator/auth/handler",wQ=encodeURIComponent("fac");async function LD(n,t,i,c,d,h){et(n.config.authDomain,n,"auth-domain-config-required"),et(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:i,redirectUrl:c,v:ta,eventId:d};if(t instanceof Yw){t.setDefaultLanguage(n.languageCode),f.providerId=t.providerId||"",vG(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[C,y]of Object.entries({}))f[C]=y}if(t instanceof uu){const C=t.getScopes().filter(y=>y!=="");C.length>0&&(f.scopes=C.join(","))}n.tenantId&&(f.tid=n.tenantId);const b=f;for(const C of Object.keys(b))b[C]===void 0&&delete b[C];const m=await n._getAppCheckToken(),v=m?`#${wQ}=${encodeURIComponent(m)}`:"";return`${vQ(n)}?${au(b).slice(1)}${v}`}function vQ({config:n}){return n.emulator?qw(n,kQ):`https://${n.authDomain}/${bQ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk="webStorageSupport";class _Q{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qP,this._completeRedirectFn=WY,this._overrideRedirectResult=$Y}async _openPopup(t,i,c,d){var h;ur((h=this.eventManagers[t._key()])===null||h===void 0?void 0:h.manager,"_initialize() not called before _openPopup()");const f=await LD(t,i,c,F0(),d);return gQ(t,f,Qw())}async _openRedirect(t,i,c,d){await this._originValidation(t);const h=await LD(t,i,c,F0(),d);return xY(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:d,promise:h}=this.eventManagers[i];return d?Promise.resolve(d):(ur(h,"If manager is not set, promise should be"),h)}const c=this.initAndGetManager(t);return this.eventManagers[i]={promise:c},c.catch(()=>{delete this.eventManagers[i]}),c}async initAndGetManager(t){const i=await lQ(t),c=new GY(t);return i.register("authEvent",d=>(et(d==null?void 0:d.authEvent,t,"invalid-auth-event"),{status:c.onEvent(d.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:c},this.iframes[t._key()]=i,c}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Jk,{type:Jk},d=>{var h;const f=(h=d==null?void 0:d[0])===null||h===void 0?void 0:h[Jk];f!==void 0&&i(!!f),ji(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=JY(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return NP()||Kw()||Wf()}}const CQ=_Q;var jD="@firebase/auth",zD="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AQ{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(c=>{t((c==null?void 0:c.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yQ(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function xQ(n){Ws(new qr("auth",(t,{options:i})=>{const c=t.getProvider("app").getImmediate(),d=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:f,authDomain:b}=c.options;et(f&&!f.includes(":"),"invalid-api-key",{appName:c.name});const m={apiKey:f,authDomain:b,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OP(n)},v=new rY(c,d,h,m);return aY(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,c)=>{t.getProvider("auth-internal").initialize()})),Ws(new qr("auth-internal",t=>{const i=du(t.getProvider("auth").getImmediate());return(c=>new AQ(c))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(jD,zD,yQ(n)),Pi(jD,zD,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EQ=5*60,TQ=pP("authIdTokenMaxAge")||EQ;let FD=null;const IQ=n=>async t=>{const i=t&&await t.getIdTokenResult(),c=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(c&&c>TQ)return;const d=i==null?void 0:i.token;FD!==d&&(FD=d,await fetch(n,{method:d?"POST":"DELETE",headers:d?{Authorization:`Bearer ${d}`}:{}}))};function eR(n=Uw()){const t=Hf(n,"auth");if(t.isInitialized())return t.getImmediate();const i=sY(n,{popupRedirectResolver:CQ,persistence:[BY,CY,qP]}),c=pP("authTokenSyncURL");if(c){const h=IQ(c);mY(i,h,()=>h(i.currentUser)),gY(i,f=>h(f))}const d=dP("auth");return d&&cY(i,`http://${d}`),i}xQ("Browser");var SQ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ce,Jw=Jw||{},Qe=SQ||self;function Kf(n){var t=typeof n;return t=t!="object"?t:n?Array.isArray(n)?"array":t:"null",t=="array"||t=="object"&&typeof n.length=="number"}function Yf(n){var t=typeof n;return t=="object"&&n!=null||t=="function"}function DQ(n){return Object.prototype.hasOwnProperty.call(n,Xk)&&n[Xk]||(n[Xk]=++MQ)}var Xk="closure_uid_"+(1e9*Math.random()>>>0),MQ=0;function PQ(n,t,i){return n.call.apply(n.bind,arguments)}function RQ(n,t,i){if(!n)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,c),n.apply(t,d)}}return function(){return n.apply(t,arguments)}}function Yn(n,t,i){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Yn=PQ:Yn=RQ,Yn.apply(null,arguments)}function bp(n,t){var i=Array.prototype.slice.call(arguments,1);return function(){var c=i.slice();return c.push.apply(c,arguments),n.apply(this,c)}}function Nn(n,t){function i(){}i.prototype=t.prototype,n.$=t.prototype,n.prototype=new i,n.prototype.constructor=n,n.ac=function(c,d,h){for(var f=Array(arguments.length-2),b=2;b<arguments.length;b++)f[b-2]=arguments[b];return t.prototype[d].apply(c,f)}}function Xr(){this.s=this.s,this.o=this.o}var BQ=0;Xr.prototype.s=!1;Xr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),BQ!=0)&&DQ(this)};Xr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const tR=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if(typeof n=="string")return typeof t!="string"||t.length!=1?-1:n.indexOf(t,0);for(let i=0;i<n.length;i++)if(i in n&&n[i]===t)return i;return-1};function Xw(n){const t=n.length;if(0<t){const i=Array(t);for(let c=0;c<t;c++)i[c]=n[c];return i}return[]}function VD(n,t){for(let i=1;i<arguments.length;i++){const c=arguments[i];if(Kf(c)){const d=n.length||0,h=c.length||0;n.length=d+h;for(let f=0;f<h;f++)n[d+f]=c[f]}else n.push(c)}}function Qn(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Qn.prototype.h=function(){this.defaultPrevented=!0};var NQ=function(){if(!Qe.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Qe.addEventListener("test",()=>{},t),Qe.removeEventListener("test",()=>{},t)}catch{}return n}();function Pd(n){return/^[\s\xa0]*$/.test(n)}function Qf(){var n=Qe.navigator;return n&&(n=n.userAgent)?n:""}function Ii(n){return Qf().indexOf(n)!=-1}function ev(n){return ev[" "](n),n}ev[" "]=function(){};function OQ(n,t){var i=SZ;return Object.prototype.hasOwnProperty.call(i,n)?i[n]:i[n]=t(n)}var LQ=Ii("Opera"),gc=Ii("Trident")||Ii("MSIE"),nR=Ii("Edge"),$0=nR||gc,oR=Ii("Gecko")&&!(Qf().toLowerCase().indexOf("webkit")!=-1&&!Ii("Edge"))&&!(Ii("Trident")||Ii("MSIE"))&&!Ii("Edge"),jQ=Qf().toLowerCase().indexOf("webkit")!=-1&&!Ii("Edge");function iR(){var n=Qe.document;return n?n.documentMode:void 0}var U0;e:{var e0="",t0=function(){var n=Qf();if(oR)return/rv:([^\);]+)(\)|;)/.exec(n);if(nR)return/Edge\/([\d\.]+)/.exec(n);if(gc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n);if(jQ)return/WebKit\/(\S+)/.exec(n);if(LQ)return/(?:Version)[ \/]?(\S+)/.exec(n)}();if(t0&&(e0=t0?t0[1]:""),gc){var n0=iR();if(n0!=null&&n0>parseFloat(e0)){U0=String(n0);break e}}U0=e0}var H0;if(Qe.document&&gc){var $D=iR();H0=$D||parseInt(U0,10)||void 0}else H0=void 0;var zQ=H0;function Rd(n,t){if(Qn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var i=this.type=n.type,c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(oR){e:{try{ev(t.nodeName);var d=!0;break e}catch{}d=!1}d||(t=null)}}else i=="mouseover"?t=n.fromElement:i=="mouseout"&&(t=n.toElement);this.relatedTarget=t,c?(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:FQ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Rd.$.h.call(this)}}Nn(Rd,Qn);var FQ={2:"touch",3:"pen",4:"mouse"};Rd.prototype.h=function(){Rd.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Zf="closure_listenable_"+(1e6*Math.random()|0),VQ=0;function $Q(n,t,i,c,d){this.listener=n,this.proxy=null,this.src=t,this.type=i,this.capture=!!c,this.la=d,this.key=++VQ,this.fa=this.ia=!1}function Jf(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function tv(n,t,i){for(const c in n)t.call(i,n[c],c,n)}function UQ(n,t){for(const i in n)t.call(void 0,n[i],i,n)}function rR(n){const t={};for(const i in n)t[i]=n[i];return t}const UD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sR(n,t){let i,c;for(let d=1;d<arguments.length;d++){c=arguments[d];for(i in c)n[i]=c[i];for(let h=0;h<UD.length;h++)i=UD[h],Object.prototype.hasOwnProperty.call(c,i)&&(n[i]=c[i])}}function Xf(n){this.src=n,this.g={},this.h=0}Xf.prototype.add=function(n,t,i,c,d){var h=n.toString();n=this.g[h],n||(n=this.g[h]=[],this.h++);var f=q0(n,t,c,d);return-1<f?(t=n[f],i||(t.ia=!1)):(t=new $Q(t,this.src,h,!!c,d),t.ia=i,n.push(t)),t};function W0(n,t){var i=t.type;if(i in n.g){var c=n.g[i],d=tR(c,t),h;(h=0<=d)&&Array.prototype.splice.call(c,d,1),h&&(Jf(t),n.g[i].length==0&&(delete n.g[i],n.h--))}}function q0(n,t,i,c){for(var d=0;d<n.length;++d){var h=n[d];if(!h.fa&&h.listener==t&&h.capture==!!i&&h.la==c)return d}return-1}var nv="closure_lm_"+(1e6*Math.random()|0),o0={};function aR(n,t,i,c,d){if(Array.isArray(t)){for(var h=0;h<t.length;h++)aR(n,t[h],i,c,d);return null}return i=dR(i),n&&n[Zf]?n.O(t,i,Yf(c)?!!c.capture:!!c,d):HQ(n,t,i,!1,c,d)}function HQ(n,t,i,c,d,h){if(!t)throw Error("Invalid event type");var f=Yf(d)?!!d.capture:!!d,b=iv(n);if(b||(n[nv]=b=new Xf(n)),i=b.add(t,i,c,f,h),i.proxy)return i;if(c=WQ(),i.proxy=c,c.src=n,c.listener=i,n.addEventListener)NQ||(d=f),d===void 0&&(d=!1),n.addEventListener(t.toString(),c,d);else if(n.attachEvent)n.attachEvent(lR(t.toString()),c);else if(n.addListener&&n.removeListener)n.addListener(c);else throw Error("addEventListener and attachEvent are unavailable.");return i}function WQ(){function n(i){return t.call(n.src,n.listener,i)}const t=qQ;return n}function cR(n,t,i,c,d){if(Array.isArray(t))for(var h=0;h<t.length;h++)cR(n,t[h],i,c,d);else c=Yf(c)?!!c.capture:!!c,i=dR(i),n&&n[Zf]?(n=n.i,t=String(t).toString(),t in n.g&&(h=n.g[t],i=q0(h,i,c,d),-1<i&&(Jf(h[i]),Array.prototype.splice.call(h,i,1),h.length==0&&(delete n.g[t],n.h--)))):n&&(n=iv(n))&&(t=n.g[t.toString()],n=-1,t&&(n=q0(t,i,c,d)),(i=-1<n?t[n]:null)&&ov(i))}function ov(n){if(typeof n!="number"&&n&&!n.fa){var t=n.src;if(t&&t[Zf])W0(t.i,n);else{var i=n.type,c=n.proxy;t.removeEventListener?t.removeEventListener(i,c,n.capture):t.detachEvent?t.detachEvent(lR(i),c):t.addListener&&t.removeListener&&t.removeListener(c),(i=iv(t))?(W0(i,n),i.h==0&&(i.src=null,t[nv]=null)):Jf(n)}}}function lR(n){return n in o0?o0[n]:o0[n]="on"+n}function qQ(n,t){if(n.fa)n=!0;else{t=new Rd(t,this);var i=n.listener,c=n.la||n.src;n.ia&&ov(n),n=i.call(c,t)}return n}function iv(n){return n=n[nv],n instanceof Xf?n:null}var i0="__closure_events_fn_"+(1e9*Math.random()>>>0);function dR(n){return typeof n=="function"?n:(n[i0]||(n[i0]=function(t){return n.handleEvent(t)}),n[i0])}function Bn(){Xr.call(this),this.i=new Xf(this),this.S=this,this.J=null}Nn(Bn,Xr);Bn.prototype[Zf]=!0;Bn.prototype.removeEventListener=function(n,t,i,c){cR(this,n,t,i,c)};function Un(n,t){var i,c=n.J;if(c)for(i=[];c;c=c.J)i.push(c);if(n=n.S,c=t.type||t,typeof t=="string")t=new Qn(t,n);else if(t instanceof Qn)t.target=t.target||n;else{var d=t;t=new Qn(c,n),sR(t,d)}if(d=!0,i)for(var h=i.length-1;0<=h;h--){var f=t.g=i[h];d=kp(f,c,!0,t)&&d}if(f=t.g=n,d=kp(f,c,!0,t)&&d,d=kp(f,c,!1,t)&&d,i)for(h=0;h<i.length;h++)f=t.g=i[h],d=kp(f,c,!1,t)&&d}Bn.prototype.N=function(){if(Bn.$.N.call(this),this.i){var n=this.i,t;for(t in n.g){for(var i=n.g[t],c=0;c<i.length;c++)Jf(i[c]);delete n.g[t],n.h--}}this.J=null};Bn.prototype.O=function(n,t,i,c){return this.i.add(String(n),t,!1,i,c)};Bn.prototype.P=function(n,t,i,c){return this.i.add(String(n),t,!0,i,c)};function kp(n,t,i,c){if(t=n.i.g[String(t)],!t)return!0;t=t.concat();for(var d=!0,h=0;h<t.length;++h){var f=t[h];if(f&&!f.fa&&f.capture==i){var b=f.listener,m=f.la||f.src;f.ia&&W0(n.i,f),d=b.call(m,c)!==!1&&d}}return d&&!c.defaultPrevented}var rv=Qe.JSON.stringify;class GQ{constructor(t,i){this.i=t,this.j=i,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function KQ(){var n=sv;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}class YQ{constructor(){this.h=this.g=null}add(t,i){const c=uR.get();c.set(t,i),this.h?this.h.next=c:this.g=c,this.h=c}}var uR=new GQ(()=>new QQ,n=>n.reset());class QQ{constructor(){this.next=this.g=this.h=null}set(t,i){this.h=t,this.g=i,this.next=null}reset(){this.next=this.g=this.h=null}}function ZQ(n){var t=1;n=n.split(":");const i=[];for(;0<t&&n.length;)i.push(n.shift()),t--;return n.length&&i.push(n.join(":")),i}function JQ(n){Qe.setTimeout(()=>{throw n},0)}let Bd,Nd=!1,sv=new YQ,hR=()=>{const n=Qe.Promise.resolve(void 0);Bd=()=>{n.then(XQ)}};var XQ=()=>{for(var n;n=KQ();){try{n.h.call(n.g)}catch(i){JQ(i)}var t=uR;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Nd=!1};function eg(n,t){Bn.call(this),this.h=n||1,this.g=t||Qe,this.j=Yn(this.qb,this),this.l=Date.now()}Nn(eg,Bn);Ce=eg.prototype;Ce.ga=!1;Ce.T=null;Ce.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Un(this,"tick"),this.ga&&(av(this),this.start()))}};Ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function av(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}Ce.N=function(){eg.$.N.call(this),av(this),delete this.g};function cv(n,t,i){if(typeof n=="function")i&&(n=Yn(n,i));else if(n&&typeof n.handleEvent=="function")n=Yn(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Qe.setTimeout(n,t||0)}function pR(n){n.g=cv(()=>{n.g=null,n.i&&(n.i=!1,pR(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}class eZ extends Xr{constructor(t,i){super(),this.m=t,this.j=i,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:pR(this)}N(){super.N(),this.g&&(Qe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Od(n){Xr.call(this),this.h=n,this.g={}}Nn(Od,Xr);var HD=[];function fR(n,t,i,c){Array.isArray(i)||(i&&(HD[0]=i.toString()),i=HD);for(var d=0;d<i.length;d++){var h=aR(t,i[d],c||n.handleEvent,!1,n.h||n);if(!h)break;n.g[h.key]=h}}function gR(n){tv(n.g,function(t,i){this.g.hasOwnProperty(i)&&ov(t)},n),n.g={}}Od.prototype.N=function(){Od.$.N.call(this),gR(this)};Od.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function tg(){this.g=!0}tg.prototype.Ea=function(){this.g=!1};function tZ(n,t,i,c,d,h){n.info(function(){if(n.g)if(h)for(var f="",b=h.split("&"),m=0;m<b.length;m++){var v=b[m].split("=");if(1<v.length){var C=v[0];v=v[1];var y=C.split("_");f=2<=y.length&&y[1]=="type"?f+(C+"="+v+"&"):f+(C+"=redacted&")}}else f=null;else f=h;return"XMLHTTP REQ ("+c+") [attempt "+d+"]: "+t+`
`+i+`
`+f})}function nZ(n,t,i,c,d,h,f){n.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+d+"]: "+t+`
`+i+`
`+h+" "+f})}function tc(n,t,i,c){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+iZ(n,i)+(c?" "+c:"")})}function oZ(n,t){n.info(function(){return"TIMEOUT: "+t})}tg.prototype.info=function(){};function iZ(n,t){if(!n.g)return t;if(!t)return null;try{var i=JSON.parse(t);if(i){for(n=0;n<i.length;n++)if(Array.isArray(i[n])){var c=i[n];if(!(2>c.length)){var d=c[1];if(Array.isArray(d)&&!(1>d.length)){var h=d[0];if(h!="noop"&&h!="stop"&&h!="close")for(var f=1;f<d.length;f++)d[f]=""}}}}return rv(i)}catch{return t}}var na={},WD=null;function ng(){return WD=WD||new Bn}na.Ta="serverreachability";function mR(n){Qn.call(this,na.Ta,n)}Nn(mR,Qn);function Ld(n){const t=ng();Un(t,new mR(t))}na.STAT_EVENT="statevent";function bR(n,t){Qn.call(this,na.STAT_EVENT,n),this.stat=t}Nn(bR,Qn);function io(n){const t=ng();Un(t,new bR(t,n))}na.Ua="timingevent";function kR(n,t){Qn.call(this,na.Ua,n),this.size=t}Nn(kR,Qn);function pu(n,t){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return Qe.setTimeout(function(){n()},t)}var og={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},wR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function lv(){}lv.prototype.h=null;function qD(n){return n.h||(n.h=n.i())}function vR(){}var fu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function dv(){Qn.call(this,"d")}Nn(dv,Qn);function uv(){Qn.call(this,"c")}Nn(uv,Qn);var G0;function ig(){}Nn(ig,lv);ig.prototype.g=function(){return new XMLHttpRequest};ig.prototype.i=function(){return{}};G0=new ig;function gu(n,t,i,c){this.l=n,this.j=t,this.m=i,this.W=c||1,this.U=new Od(this),this.P=rZ,n=$0?125:void 0,this.V=new eg(n),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new _R}function _R(){this.i=null,this.g="",this.h=!1}var rZ=45e3,K0={},hf={};Ce=gu.prototype;Ce.setTimeout=function(n){this.P=n};function Y0(n,t,i){n.L=1,n.v=sg(hr(t)),n.s=i,n.S=!0,CR(n,null)}function CR(n,t){n.G=Date.now(),mu(n),n.A=hr(n.v);var i=n.A,c=n.W;Array.isArray(c)||(c=[String(c)]),DR(i.i,"t",c),n.C=0,i=n.l.J,n.h=new _R,n.g=ZR(n.l,i?t:null,!n.s),0<n.O&&(n.M=new eZ(Yn(n.Pa,n,n.g),n.O)),fR(n.U,n.g,"readystatechange",n.nb),t=n.I?rR(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Ld(),tZ(n.j,n.u,n.A,n.m,n.W,n.s)}Ce.nb=function(n){n=n.target;const t=this.M;t&&Si(n)==3?t.l():this.Pa(n)};Ce.Pa=function(n){try{if(n==this.g)e:{const C=Si(this.g);var t=this.g.Ia();const y=this.g.da();if(!(3>C)&&(C!=3||$0||this.g&&(this.h.h||this.g.ja()||QD(this.g)))){this.J||C!=4||t==7||(t==8||0>=y?Ld(3):Ld(2)),rg(this);var i=this.g.da();this.ca=i;t:if(AR(this)){var c=QD(this.g);n="";var d=c.length,h=Si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bs(this),hd(this);var f="";break t}this.h.i=new Qe.TextDecoder}for(t=0;t<d;t++)this.h.h=!0,n+=this.h.i.decode(c[t],{stream:h&&t==d-1});c.splice(0,d),this.h.g+=n,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=i==200,nZ(this.j,this.u,this.A,this.m,this.W,C,i),this.i){if(this.aa&&!this.K){t:{if(this.g){var b,m=this.g;if((b=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pd(b)){var v=b;break t}}v=null}if(i=v)tc(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Q0(this,i);else{this.i=!1,this.o=3,io(12),Bs(this),hd(this);break e}}this.S?(yR(this,C,f),$0&&this.i&&C==3&&(fR(this.U,this.V,"tick",this.mb),this.V.start())):(tc(this.j,this.m,f,null),Q0(this,f)),C==4&&Bs(this),this.i&&!this.J&&(C==4?GR(this.l,this):(this.i=!1,mu(this)))}else EZ(this.g),i==400&&0<f.indexOf("Unknown SID")?(this.o=3,io(12)):(this.o=0,io(13)),Bs(this),hd(this)}}}catch{}finally{}};function AR(n){return n.g?n.u=="GET"&&n.L!=2&&n.l.Ha:!1}function yR(n,t,i){let c=!0,d;for(;!n.J&&n.C<i.length;)if(d=sZ(n,i),d==hf){t==4&&(n.o=4,io(14),c=!1),tc(n.j,n.m,null,"[Incomplete Response]");break}else if(d==K0){n.o=4,io(15),tc(n.j,n.m,i,"[Invalid Chunk]"),c=!1;break}else tc(n.j,n.m,d,null),Q0(n,d);AR(n)&&d!=hf&&d!=K0&&(n.h.g="",n.C=0),t!=4||i.length!=0||n.h.h||(n.o=1,io(16),c=!1),n.i=n.i&&c,c?0<i.length&&!n.ba&&(n.ba=!0,t=n.l,t.g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+i.length),bv(t),t.M=!0,io(11))):(tc(n.j,n.m,i,"[Invalid Chunked Response]"),Bs(n),hd(n))}Ce.mb=function(){if(this.g){var n=Si(this.g),t=this.g.ja();this.C<t.length&&(rg(this),yR(this,n,t),this.i&&n!=4&&mu(this))}};function sZ(n,t){var i=n.C,c=t.indexOf(`
`,i);return c==-1?hf:(i=Number(t.substring(i,c)),isNaN(i)?K0:(c+=1,c+i>t.length?hf:(t=t.slice(c,c+i),n.C=c+i,t)))}Ce.cancel=function(){this.J=!0,Bs(this)};function mu(n){n.Y=Date.now()+n.P,xR(n,n.P)}function xR(n,t){if(n.B!=null)throw Error("WatchDog timer not null");n.B=pu(Yn(n.lb,n),t)}function rg(n){n.B&&(Qe.clearTimeout(n.B),n.B=null)}Ce.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(oZ(this.j,this.A),this.L!=2&&(Ld(),io(17)),Bs(this),this.o=2,hd(this)):xR(this,this.Y-n)};function hd(n){n.l.H==0||n.J||GR(n.l,n)}function Bs(n){rg(n);var t=n.M;t&&typeof t.sa=="function"&&t.sa(),n.M=null,av(n.V),gR(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function Q0(n,t){try{var i=n.l;if(i.H!=0&&(i.g==n||Z0(i.i,n))){if(!n.K&&Z0(i.i,n)&&i.H==3){try{var c=i.Ja.g.parse(t)}catch{c=null}if(Array.isArray(c)&&c.length==3){var d=c;if(d[0]==0){e:if(!i.u){if(i.g)if(i.g.G+3e3<n.G)gf(i),lg(i);else break e;mv(i),io(18)}}else i.Fa=d[1],0<i.Fa-i.V&&37500>d[2]&&i.G&&i.A==0&&!i.v&&(i.v=pu(Yn(i.ib,i),6e3));if(1>=RR(i.i)&&i.oa){try{i.oa()}catch{}i.oa=void 0}}else Ns(i,11)}else if((n.K||i.g==n)&&gf(i),!Pd(t))for(d=i.Ja.g.parse(t),t=0;t<d.length;t++){let v=d[t];if(i.V=v[0],v=v[1],i.H==2)if(v[0]=="c"){i.K=v[1],i.pa=v[2];const C=v[3];C!=null&&(i.ra=C,i.l.info("VER="+i.ra));const y=v[4];y!=null&&(i.Ga=y,i.l.info("SVER="+i.Ga));const _=v[5];_!=null&&typeof _=="number"&&0<_&&(c=1.5*_,i.L=c,i.l.info("backChannelRequestTimeoutMs_="+c)),c=i;const x=n.g;if(x){const I=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(I){var h=c.i;h.g||I.indexOf("spdy")==-1&&I.indexOf("quic")==-1&&I.indexOf("h2")==-1||(h.j=h.l,h.g=new Set,h.h&&(hv(h,h.h),h.h=null))}if(c.F){const S=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;S&&(c.Da=S,Kt(c.I,c.F,S))}}i.H=3,i.h&&i.h.Ba(),i.ca&&(i.S=Date.now()-n.G,i.l.info("Handshake RTT: "+i.S+"ms")),c=i;var f=n;if(c.wa=QR(c,c.J?c.pa:null,c.Y),f.K){BR(c.i,f);var b=f,m=c.L;m&&b.setTimeout(m),b.B&&(rg(b),mu(b)),c.g=f}else WR(c);0<i.j.length&&dg(i)}else v[0]!="stop"&&v[0]!="close"||Ns(i,7);else i.H==3&&(v[0]=="stop"||v[0]=="close"?v[0]=="stop"?Ns(i,7):gv(i):v[0]!="noop"&&i.h&&i.h.Aa(v),i.A=0)}}Ld(4)}catch{}}function aZ(n){if(n.Z&&typeof n.Z=="function")return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if(typeof n=="string")return n.split("");if(Kf(n)){for(var t=[],i=n.length,c=0;c<i;c++)t.push(n[c]);return t}t=[],i=0;for(c in n)t[i++]=n[c];return t}function cZ(n){if(n.ta&&typeof n.ta=="function")return n.ta();if(!n.Z||typeof n.Z!="function"){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Kf(n)||typeof n=="string"){var t=[];n=n.length;for(var i=0;i<n;i++)t.push(i);return t}t=[],i=0;for(const c in n)t[i++]=c;return t}}}function ER(n,t){if(n.forEach&&typeof n.forEach=="function")n.forEach(t,void 0);else if(Kf(n)||typeof n=="string")Array.prototype.forEach.call(n,t,void 0);else for(var i=cZ(n),c=aZ(n),d=c.length,h=0;h<d;h++)t.call(void 0,c[h],i&&i[h],n)}var TR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lZ(n,t){if(n){n=n.split("&");for(var i=0;i<n.length;i++){var c=n[i].indexOf("="),d=null;if(0<=c){var h=n[i].substring(0,c);d=n[i].substring(c+1)}else h=n[i];t(h,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}function Vs(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Vs){this.h=n.h,pf(this,n.j),this.s=n.s,this.g=n.g,ff(this,n.m),this.l=n.l;var t=n.i,i=new jd;i.i=t.i,t.g&&(i.g=new Map(t.g),i.h=t.h),GD(this,i),this.o=n.o}else n&&(t=String(n).match(TR))?(this.h=!1,pf(this,t[1]||"",!0),this.s=id(t[2]||""),this.g=id(t[3]||"",!0),ff(this,t[4]),this.l=id(t[5]||"",!0),GD(this,t[6]||"",!0),this.o=id(t[7]||"")):(this.h=!1,this.i=new jd(null,this.h))}Vs.prototype.toString=function(){var n=[],t=this.j;t&&n.push(rd(t,KD,!0),":");var i=this.g;return(i||t=="file")&&(n.push("//"),(t=this.s)&&n.push(rd(t,KD,!0),"@"),n.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i=this.m,i!=null&&n.push(":",String(i))),(i=this.l)&&(this.g&&i.charAt(0)!="/"&&n.push("/"),n.push(rd(i,i.charAt(0)=="/"?hZ:uZ,!0))),(i=this.i.toString())&&n.push("?",i),(i=this.o)&&n.push("#",rd(i,fZ)),n.join("")};function hr(n){return new Vs(n)}function pf(n,t,i){n.j=i?id(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function ff(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function GD(n,t,i){t instanceof jd?(n.i=t,gZ(n.i,n.h)):(i||(t=rd(t,pZ)),n.i=new jd(t,n.h))}function Kt(n,t,i){n.i.set(t,i)}function sg(n){return Kt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function id(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function rd(n,t,i){return typeof n=="string"?(n=encodeURI(n).replace(t,dZ),i&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function dZ(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var KD=/[#\/\?@]/g,uZ=/[#\?:]/g,hZ=/[#\?]/g,pZ=/[#\?@]/g,fZ=/#/g;function jd(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function es(n){n.g||(n.g=new Map,n.h=0,n.i&&lZ(n.i,function(t,i){n.add(decodeURIComponent(t.replace(/\+/g," ")),i)}))}Ce=jd.prototype;Ce.add=function(n,t){es(this),this.i=null,n=Nc(this,n);var i=this.g.get(n);return i||this.g.set(n,i=[]),i.push(t),this.h+=1,this};function IR(n,t){es(n),t=Nc(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function SR(n,t){return es(n),t=Nc(n,t),n.g.has(t)}Ce.forEach=function(n,t){es(this),this.g.forEach(function(i,c){i.forEach(function(d){n.call(t,d,c,this)},this)},this)};Ce.ta=function(){es(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),i=[];for(let c=0;c<t.length;c++){const d=n[c];for(let h=0;h<d.length;h++)i.push(t[c])}return i};Ce.Z=function(n){es(this);let t=[];if(typeof n=="string")SR(this,n)&&(t=t.concat(this.g.get(Nc(this,n))));else{n=Array.from(this.g.values());for(let i=0;i<n.length;i++)t=t.concat(n[i])}return t};Ce.set=function(n,t){return es(this),this.i=null,n=Nc(this,n),SR(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this};Ce.get=function(n,t){return n?(n=this.Z(n),0<n.length?String(n[0]):t):t};function DR(n,t,i){IR(n,t),0<i.length&&(n.i=null,n.g.set(Nc(n,t),Xw(i)),n.h+=i.length)}Ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var i=0;i<t.length;i++){var c=t[i];const h=encodeURIComponent(String(c)),f=this.Z(c);for(c=0;c<f.length;c++){var d=h;f[c]!==""&&(d+="="+encodeURIComponent(String(f[c]))),n.push(d)}}return this.i=n.join("&")};function Nc(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function gZ(n,t){t&&!n.j&&(es(n),n.i=null,n.g.forEach(function(i,c){var d=c.toLowerCase();c!=d&&(IR(this,c),DR(this,d,i))},n)),n.j=t}var mZ=class{constructor(n,t){this.g=n,this.map=t}};function MR(n){this.l=n||bZ,Qe.PerformanceNavigationTiming?(n=Qe.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(Qe.g&&Qe.g.Ka&&Qe.g.Ka()&&Qe.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bZ=10;function PR(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function RR(n){return n.h?1:n.g?n.g.size:0}function Z0(n,t){return n.h?n.h==t:n.g?n.g.has(t):!1}function hv(n,t){n.g?n.g.add(t):n.h=t}function BR(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}MR.prototype.cancel=function(){if(this.i=NR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const n of this.g.values())n.cancel();this.g.clear()}};function NR(n){if(n.h!=null)return n.i.concat(n.h.F);if(n.g!=null&&n.g.size!==0){let t=n.i;for(const i of n.g.values())t=t.concat(i.F);return t}return Xw(n.i)}var kZ=class{stringify(n){return Qe.JSON.stringify(n,void 0)}parse(n){return Qe.JSON.parse(n,void 0)}};function wZ(){this.g=new kZ}function vZ(n,t,i){const c=i||"";try{ER(n,function(d,h){let f=d;Yf(d)&&(f=rv(d)),t.push(c+h+"="+encodeURIComponent(f))})}catch(d){throw t.push(c+"type="+encodeURIComponent("_badmap")),d}}function _Z(n,t){const i=new tg;if(Qe.Image){const c=new Image;c.onload=bp(wp,i,c,"TestLoadImage: loaded",!0,t),c.onerror=bp(wp,i,c,"TestLoadImage: error",!1,t),c.onabort=bp(wp,i,c,"TestLoadImage: abort",!1,t),c.ontimeout=bp(wp,i,c,"TestLoadImage: timeout",!1,t),Qe.setTimeout(function(){c.ontimeout&&c.ontimeout()},1e4),c.src=n}else t(!1)}function wp(n,t,i,c,d){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,d(c)}catch{}}function bu(n){this.l=n.fc||null,this.j=n.ob||!1}Nn(bu,lv);bu.prototype.g=function(){return new ag(this.l,this.j)};bu.prototype.i=function(n){return function(){return n}}({});function ag(n,t){Bn.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=pv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nn(ag,Bn);var pv=0;Ce=ag.prototype;Ce.open=function(n,t){if(this.readyState!=pv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,zd(this)};Ce.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Qe).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};Ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ku(this)),this.readyState=pv};Ce.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,zd(this)),this.g&&(this.readyState=3,zd(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Qe.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;OR(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))};function OR(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}Ce.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?ku(this):zd(this),this.readyState==3&&OR(this)}};Ce.Za=function(n){this.g&&(this.response=this.responseText=n,ku(this))};Ce.Ya=function(n){this.g&&(this.response=n,ku(this))};Ce.ka=function(){this.g&&ku(this)};function ku(n){n.readyState=4,n.l=null,n.j=null,n.A=null,zd(n)}Ce.setRequestHeader=function(n,t){this.v.append(n,t)};Ce.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""};Ce.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var i=t.next();!i.done;)i=i.value,n.push(i[0]+": "+i[1]),i=t.next();return n.join(`\r
`)};function zd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(ag.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});var CZ=Qe.JSON.parse;function ln(n){Bn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=LR,this.L=this.M=!1}Nn(ln,Bn);var LR="",AZ=/^https?$/i,yZ=["POST","PUT"];Ce=ln.prototype;Ce.Oa=function(n){this.M=n};Ce.ha=function(n,t,i,c){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():G0.g(),this.C=this.u?qD(this.u):qD(G0),this.g.onreadystatechange=Yn(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(h){YD(this,h);return}if(n=i||"",i=new Map(this.headers),c)if(Object.getPrototypeOf(c)===Object.prototype)for(var d in c)i.set(d,c[d]);else if(typeof c.keys=="function"&&typeof c.get=="function")for(const h of c.keys())i.set(h,c.get(h));else throw Error("Unknown input type for opt_headers: "+String(c));c=Array.from(i.keys()).find(h=>h.toLowerCase()=="content-type"),d=Qe.FormData&&n instanceof Qe.FormData,!(0<=tR(yZ,t))||c||d||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[h,f]of i)this.g.setRequestHeader(h,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{FR(this),0<this.B&&((this.L=xZ(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yn(this.ua,this)):this.A=cv(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(h){YD(this,h)}};function xZ(n){return gc&&typeof n.timeout=="number"&&n.ontimeout!==void 0}Ce.ua=function(){typeof Jw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Un(this,"timeout"),this.abort(8))};function YD(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,jR(n),cg(n)}function jR(n){n.F||(n.F=!0,Un(n,"complete"),Un(n,"error"))}Ce.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Un(this,"complete"),Un(this,"abort"),cg(this))};Ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cg(this,!0)),ln.$.N.call(this)};Ce.La=function(){this.s||(this.G||this.v||this.l?zR(this):this.kb())};Ce.kb=function(){zR(this)};function zR(n){if(n.h&&typeof Jw<"u"&&(!n.C[1]||Si(n)!=4||n.da()!=2)){if(n.v&&Si(n)==4)cv(n.La,0,n);else if(Un(n,"readystatechange"),Si(n)==4){n.h=!1;try{const f=n.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var i;if(!(i=t)){var c;if(c=f===0){var d=String(n.I).match(TR)[1]||null;!d&&Qe.self&&Qe.self.location&&(d=Qe.self.location.protocol.slice(0,-1)),c=!AZ.test(d?d.toLowerCase():"")}i=c}if(i)Un(n,"complete"),Un(n,"success");else{n.m=6;try{var h=2<Si(n)?n.g.statusText:""}catch{h=""}n.j=h+" ["+n.da()+"]",jR(n)}}finally{cg(n)}}}}function cg(n,t){if(n.g){FR(n);const i=n.g,c=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||Un(n,"ready");try{i.onreadystatechange=c}catch{}}}function FR(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Qe.clearTimeout(n.A),n.A=null)}Ce.isActive=function(){return!!this.g};function Si(n){return n.g?n.g.readyState:0}Ce.da=function(){try{return 2<Si(this)?this.g.status:-1}catch{return-1}};Ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ce.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&t.indexOf(n)==0&&(t=t.substring(n.length)),CZ(t)}};function QD(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case LR:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function EZ(n){const t={};n=(n.g&&2<=Si(n)&&n.g.getAllResponseHeaders()||"").split(`\r
`);for(let c=0;c<n.length;c++){if(Pd(n[c]))continue;var i=ZQ(n[c]);const d=i[0];if(i=i[1],typeof i!="string")continue;i=i.trim();const h=t[d]||[];t[d]=h,h.push(i)}UQ(t,function(c){return c.join(", ")})}Ce.Ia=function(){return this.m};Ce.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function VR(n){let t="";return tv(n,function(i,c){t+=c,t+=":",t+=i,t+=`\r
`}),t}function fv(n,t,i){e:{for(c in i){var c=!1;break e}c=!0}c||(i=VR(i),typeof n=="string"?i!=null&&encodeURIComponent(String(i)):Kt(n,t,i))}function Hl(n,t,i){return i&&i.internalChannelParams&&i.internalChannelParams[n]||t}function $R(n){this.Ga=0,this.j=[],this.l=new tg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Hl("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Hl("baseRetryDelayMs",5e3,n),this.hb=Hl("retryDelaySeedMs",1e4,n),this.eb=Hl("forwardChannelMaxRetries",2,n),this.xa=Hl("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new MR(n&&n.concurrentRequestLimit),this.Ja=new wZ,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ce=$R.prototype;Ce.ra=8;Ce.H=1;function gv(n){if(UR(n),n.H==3){var t=n.W++,i=hr(n.I);if(Kt(i,"SID",n.K),Kt(i,"RID",t),Kt(i,"TYPE","terminate"),wu(n,i),t=new gu(n,n.l,t),t.L=2,t.v=sg(hr(i)),i=!1,Qe.navigator&&Qe.navigator.sendBeacon)try{i=Qe.navigator.sendBeacon(t.v.toString(),"")}catch{}!i&&Qe.Image&&(new Image().src=t.v,i=!0),i||(t.g=ZR(t.l,null),t.g.ha(t.v)),t.G=Date.now(),mu(t)}YR(n)}function lg(n){n.g&&(bv(n),n.g.cancel(),n.g=null)}function UR(n){lg(n),n.u&&(Qe.clearTimeout(n.u),n.u=null),gf(n),n.i.cancel(),n.m&&(typeof n.m=="number"&&Qe.clearTimeout(n.m),n.m=null)}function dg(n){if(!PR(n.i)&&!n.m){n.m=!0;var t=n.Na;Bd||hR(),Nd||(Bd(),Nd=!0),sv.add(t,n),n.C=0}}function TZ(n,t){return RR(n.i)>=n.i.j-(n.m?1:0)?!1:n.m?(n.j=t.F.concat(n.j),!0):n.H==1||n.H==2||n.C>=(n.cb?0:n.eb)?!1:(n.m=pu(Yn(n.Na,n,t),KR(n,n.C)),n.C++,!0)}Ce.Na=function(n){if(this.m)if(this.m=null,this.H==1){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const d=new gu(this,this.l,n);let h=this.s;if(this.U&&(h?(h=rR(h),sR(h,this.U)):h=this.U),this.o!==null||this.O||(d.I=h,h=null),this.P)e:{for(var t=0,i=0;i<this.j.length;i++){t:{var c=this.j[i];if("__data__"in c.map&&(c=c.map.__data__,typeof c=="string")){c=c.length;break t}c=void 0}if(c===void 0)break;if(t+=c,4096<t){t=i;break e}if(t===4096||i===this.j.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=HR(this,d,t),i=hr(this.I),Kt(i,"RID",n),Kt(i,"CVER",22),this.F&&Kt(i,"X-HTTP-Session-Id",this.F),wu(this,i),h&&(this.O?t="headers="+encodeURIComponent(String(VR(h)))+"&"+t:this.o&&fv(i,this.o,h)),hv(this.i,d),this.bb&&Kt(i,"TYPE","init"),this.P?(Kt(i,"$req",t),Kt(i,"SID","null"),d.aa=!0,Y0(d,i,null)):Y0(d,i,t),this.H=2}}else this.H==3&&(n?ZD(this,n):this.j.length==0||PR(this.i)||ZD(this))};function ZD(n,t){var i;t?i=t.m:i=n.W++;const c=hr(n.I);Kt(c,"SID",n.K),Kt(c,"RID",i),Kt(c,"AID",n.V),wu(n,c),n.o&&n.s&&fv(c,n.o,n.s),i=new gu(n,n.l,i,n.C+1),n.o===null&&(i.I=n.s),t&&(n.j=t.F.concat(n.j)),t=HR(n,i,1e3),i.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),hv(n.i,i),Y0(i,c,t)}function wu(n,t){n.na&&tv(n.na,function(i,c){Kt(t,c,i)}),n.h&&ER({},function(i,c){Kt(t,c,i)})}function HR(n,t,i){i=Math.min(n.j.length,i);var c=n.h?Yn(n.h.Va,n.h,n):null;e:{var d=n.j;let h=-1;for(;;){const f=["count="+i];h==-1?0<i?(h=d[0].g,f.push("ofs="+h)):h=0:f.push("ofs="+h);let b=!0;for(let m=0;m<i;m++){let v=d[m].g;const C=d[m].map;if(v-=h,0>v)h=Math.max(0,d[m].g-100),b=!1;else try{vZ(C,f,"req"+v+"_")}catch{c&&c(C)}}if(b){c=f.join("&");break e}}}return n=n.j.splice(0,i),t.F=n,c}function WR(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;Bd||hR(),Nd||(Bd(),Nd=!0),sv.add(t,n),n.A=0}}function mv(n){return n.g||n.u||3<=n.A?!1:(n.ba++,n.u=pu(Yn(n.Ma,n),KR(n,n.A)),n.A++,!0)}Ce.Ma=function(){if(this.u=null,qR(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=pu(Yn(this.jb,this),n)}};Ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,io(10),lg(this),qR(this))};function bv(n){n.B!=null&&(Qe.clearTimeout(n.B),n.B=null)}function qR(n){n.g=new gu(n,n.l,"rpc",n.ba),n.o===null&&(n.g.I=n.s),n.g.O=0;var t=hr(n.wa);Kt(t,"RID","rpc"),Kt(t,"SID",n.K),Kt(t,"AID",n.V),Kt(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&Kt(t,"TO",n.qa),Kt(t,"TYPE","xmlhttp"),wu(n,t),n.o&&n.s&&fv(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var i=n.g;n=n.pa,i.L=1,i.v=sg(hr(t)),i.s=null,i.S=!0,CR(i,n)}Ce.ib=function(){this.v!=null&&(this.v=null,lg(this),mv(this),io(19))};function gf(n){n.v!=null&&(Qe.clearTimeout(n.v),n.v=null)}function GR(n,t){var i=null;if(n.g==t){gf(n),bv(n),n.g=null;var c=2}else if(Z0(n.i,t))i=t.F,BR(n.i,t),c=1;else return;if(n.H!=0){if(t.i)if(c==1){i=t.s?t.s.length:0,t=Date.now()-t.G;var d=n.C;c=ng(),Un(c,new kR(c,i)),dg(n)}else WR(n);else if(d=t.o,d==3||d==0&&0<t.ca||!(c==1&&TZ(n,t)||c==2&&mv(n)))switch(i&&0<i.length&&(t=n.i,t.i=t.i.concat(i)),d){case 1:Ns(n,5);break;case 4:Ns(n,10);break;case 3:Ns(n,6);break;default:Ns(n,2)}}}function KR(n,t){let i=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(i*=2),i*t}function Ns(n,t){if(n.l.info("Error code "+t),t==2){var i=null;n.h&&(i=null);var c=Yn(n.pb,n);i||(i=new Vs("//www.google.com/images/cleardot.gif"),Qe.location&&Qe.location.protocol=="http"||pf(i,"https"),sg(i)),_Z(i.toString(),c)}else io(2);n.H=0,n.h&&n.h.za(t),YR(n),UR(n)}Ce.pb=function(n){n?(this.l.info("Successfully pinged google.com"),io(2)):(this.l.info("Failed to ping google.com"),io(1))};function YR(n){if(n.H=0,n.ma=[],n.h){const t=NR(n.i);(t.length!=0||n.j.length!=0)&&(VD(n.ma,t),VD(n.ma,n.j),n.i.i.length=0,Xw(n.j),n.j.length=0),n.h.ya()}}function QR(n,t,i){var c=i instanceof Vs?hr(i):new Vs(i);if(c.g!="")t&&(c.g=t+"."+c.g),ff(c,c.m);else{var d=Qe.location;c=d.protocol,t=t?t+"."+d.hostname:d.hostname,d=+d.port;var h=new Vs(null);c&&pf(h,c),t&&(h.g=t),d&&ff(h,d),i&&(h.l=i),c=h}return i=n.F,t=n.Da,i&&t&&Kt(c,i,t),Kt(c,"VER",n.ra),wu(n,c),c}function ZR(n,t,i){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=i&&n.Ha&&!n.va?new ln(new bu({ob:!0})):new ln(n.va),t.Oa(n.J),t}Ce.isActive=function(){return!!this.h&&this.h.isActive(this)};function JR(){}Ce=JR.prototype;Ce.Ba=function(){};Ce.Aa=function(){};Ce.za=function(){};Ce.ya=function(){};Ce.isActive=function(){return!0};Ce.Va=function(){};function mf(){if(gc&&!(10<=Number(zQ)))throw Error("Environmental error: no available transport.")}mf.prototype.g=function(n,t){return new Po(n,t)};function Po(n,t){Bn.call(this),this.g=new $R(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!Pd(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Pd(t)&&(this.g.F=t,n=this.h,n!==null&&t in n&&(n=this.h,t in n&&delete n[t])),this.j=new Oc(this)}Nn(Po,Bn);Po.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,i=this.h||void 0;io(0),n.Y=t,n.na=i||{},n.G=n.aa,n.I=QR(n,null,n.Y),dg(n)};Po.prototype.close=function(){gv(this.g)};Po.prototype.u=function(n){var t=this.g;if(typeof n=="string"){var i={};i.__data__=n,n=i}else this.v&&(i={},i.__data__=rv(n),n=i);t.j.push(new mZ(t.fb++,n)),t.H==3&&dg(t)};Po.prototype.N=function(){this.g.h=null,delete this.j,gv(this.g),delete this.g,Po.$.N.call(this)};function XR(n){dv.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const i in t){n=i;break e}n=void 0}(this.i=n)&&(n=this.i,t=t!==null&&n in t?t[n]:void 0),this.data=t}else this.data=n}Nn(XR,dv);function eB(){uv.call(this),this.status=1}Nn(eB,uv);function Oc(n){this.g=n}Nn(Oc,JR);Oc.prototype.Ba=function(){Un(this.g,"a")};Oc.prototype.Aa=function(n){Un(this.g,new XR(n))};Oc.prototype.za=function(n){Un(this.g,new eB)};Oc.prototype.ya=function(){Un(this.g,"b")};function IZ(){this.blockSize=-1}function gi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Nn(gi,IZ);gi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function r0(n,t,i){i||(i=0);var c=Array(16);if(typeof t=="string")for(var d=0;16>d;++d)c[d]=t.charCodeAt(i++)|t.charCodeAt(i++)<<8|t.charCodeAt(i++)<<16|t.charCodeAt(i++)<<24;else for(d=0;16>d;++d)c[d]=t[i++]|t[i++]<<8|t[i++]<<16|t[i++]<<24;t=n.g[0],i=n.g[1],d=n.g[2];var h=n.g[3],f=t+(h^i&(d^h))+c[0]+3614090360&4294967295;t=i+(f<<7&4294967295|f>>>25),f=h+(d^t&(i^d))+c[1]+3905402710&4294967295,h=t+(f<<12&4294967295|f>>>20),f=d+(i^h&(t^i))+c[2]+606105819&4294967295,d=h+(f<<17&4294967295|f>>>15),f=i+(t^d&(h^t))+c[3]+3250441966&4294967295,i=d+(f<<22&4294967295|f>>>10),f=t+(h^i&(d^h))+c[4]+4118548399&4294967295,t=i+(f<<7&4294967295|f>>>25),f=h+(d^t&(i^d))+c[5]+1200080426&4294967295,h=t+(f<<12&4294967295|f>>>20),f=d+(i^h&(t^i))+c[6]+2821735955&4294967295,d=h+(f<<17&4294967295|f>>>15),f=i+(t^d&(h^t))+c[7]+4249261313&4294967295,i=d+(f<<22&4294967295|f>>>10),f=t+(h^i&(d^h))+c[8]+1770035416&4294967295,t=i+(f<<7&4294967295|f>>>25),f=h+(d^t&(i^d))+c[9]+2336552879&4294967295,h=t+(f<<12&4294967295|f>>>20),f=d+(i^h&(t^i))+c[10]+4294925233&4294967295,d=h+(f<<17&4294967295|f>>>15),f=i+(t^d&(h^t))+c[11]+2304563134&4294967295,i=d+(f<<22&4294967295|f>>>10),f=t+(h^i&(d^h))+c[12]+1804603682&4294967295,t=i+(f<<7&4294967295|f>>>25),f=h+(d^t&(i^d))+c[13]+4254626195&4294967295,h=t+(f<<12&4294967295|f>>>20),f=d+(i^h&(t^i))+c[14]+2792965006&4294967295,d=h+(f<<17&4294967295|f>>>15),f=i+(t^d&(h^t))+c[15]+1236535329&4294967295,i=d+(f<<22&4294967295|f>>>10),f=t+(d^h&(i^d))+c[1]+4129170786&4294967295,t=i+(f<<5&4294967295|f>>>27),f=h+(i^d&(t^i))+c[6]+3225465664&4294967295,h=t+(f<<9&4294967295|f>>>23),f=d+(t^i&(h^t))+c[11]+643717713&4294967295,d=h+(f<<14&4294967295|f>>>18),f=i+(h^t&(d^h))+c[0]+3921069994&4294967295,i=d+(f<<20&4294967295|f>>>12),f=t+(d^h&(i^d))+c[5]+3593408605&4294967295,t=i+(f<<5&4294967295|f>>>27),f=h+(i^d&(t^i))+c[10]+38016083&4294967295,h=t+(f<<9&4294967295|f>>>23),f=d+(t^i&(h^t))+c[15]+3634488961&4294967295,d=h+(f<<14&4294967295|f>>>18),f=i+(h^t&(d^h))+c[4]+3889429448&4294967295,i=d+(f<<20&4294967295|f>>>12),f=t+(d^h&(i^d))+c[9]+568446438&4294967295,t=i+(f<<5&4294967295|f>>>27),f=h+(i^d&(t^i))+c[14]+3275163606&4294967295,h=t+(f<<9&4294967295|f>>>23),f=d+(t^i&(h^t))+c[3]+4107603335&4294967295,d=h+(f<<14&4294967295|f>>>18),f=i+(h^t&(d^h))+c[8]+1163531501&4294967295,i=d+(f<<20&4294967295|f>>>12),f=t+(d^h&(i^d))+c[13]+2850285829&4294967295,t=i+(f<<5&4294967295|f>>>27),f=h+(i^d&(t^i))+c[2]+4243563512&4294967295,h=t+(f<<9&4294967295|f>>>23),f=d+(t^i&(h^t))+c[7]+1735328473&4294967295,d=h+(f<<14&4294967295|f>>>18),f=i+(h^t&(d^h))+c[12]+2368359562&4294967295,i=d+(f<<20&4294967295|f>>>12),f=t+(i^d^h)+c[5]+4294588738&4294967295,t=i+(f<<4&4294967295|f>>>28),f=h+(t^i^d)+c[8]+2272392833&4294967295,h=t+(f<<11&4294967295|f>>>21),f=d+(h^t^i)+c[11]+1839030562&4294967295,d=h+(f<<16&4294967295|f>>>16),f=i+(d^h^t)+c[14]+4259657740&4294967295,i=d+(f<<23&4294967295|f>>>9),f=t+(i^d^h)+c[1]+2763975236&4294967295,t=i+(f<<4&4294967295|f>>>28),f=h+(t^i^d)+c[4]+1272893353&4294967295,h=t+(f<<11&4294967295|f>>>21),f=d+(h^t^i)+c[7]+4139469664&4294967295,d=h+(f<<16&4294967295|f>>>16),f=i+(d^h^t)+c[10]+3200236656&4294967295,i=d+(f<<23&4294967295|f>>>9),f=t+(i^d^h)+c[13]+681279174&4294967295,t=i+(f<<4&4294967295|f>>>28),f=h+(t^i^d)+c[0]+3936430074&4294967295,h=t+(f<<11&4294967295|f>>>21),f=d+(h^t^i)+c[3]+3572445317&4294967295,d=h+(f<<16&4294967295|f>>>16),f=i+(d^h^t)+c[6]+76029189&4294967295,i=d+(f<<23&4294967295|f>>>9),f=t+(i^d^h)+c[9]+3654602809&4294967295,t=i+(f<<4&4294967295|f>>>28),f=h+(t^i^d)+c[12]+3873151461&4294967295,h=t+(f<<11&4294967295|f>>>21),f=d+(h^t^i)+c[15]+530742520&4294967295,d=h+(f<<16&4294967295|f>>>16),f=i+(d^h^t)+c[2]+3299628645&4294967295,i=d+(f<<23&4294967295|f>>>9),f=t+(d^(i|~h))+c[0]+4096336452&4294967295,t=i+(f<<6&4294967295|f>>>26),f=h+(i^(t|~d))+c[7]+1126891415&4294967295,h=t+(f<<10&4294967295|f>>>22),f=d+(t^(h|~i))+c[14]+2878612391&4294967295,d=h+(f<<15&4294967295|f>>>17),f=i+(h^(d|~t))+c[5]+4237533241&4294967295,i=d+(f<<21&4294967295|f>>>11),f=t+(d^(i|~h))+c[12]+1700485571&4294967295,t=i+(f<<6&4294967295|f>>>26),f=h+(i^(t|~d))+c[3]+2399980690&4294967295,h=t+(f<<10&4294967295|f>>>22),f=d+(t^(h|~i))+c[10]+4293915773&4294967295,d=h+(f<<15&4294967295|f>>>17),f=i+(h^(d|~t))+c[1]+2240044497&4294967295,i=d+(f<<21&4294967295|f>>>11),f=t+(d^(i|~h))+c[8]+1873313359&4294967295,t=i+(f<<6&4294967295|f>>>26),f=h+(i^(t|~d))+c[15]+4264355552&4294967295,h=t+(f<<10&4294967295|f>>>22),f=d+(t^(h|~i))+c[6]+2734768916&4294967295,d=h+(f<<15&4294967295|f>>>17),f=i+(h^(d|~t))+c[13]+1309151649&4294967295,i=d+(f<<21&4294967295|f>>>11),f=t+(d^(i|~h))+c[4]+4149444226&4294967295,t=i+(f<<6&4294967295|f>>>26),f=h+(i^(t|~d))+c[11]+3174756917&4294967295,h=t+(f<<10&4294967295|f>>>22),f=d+(t^(h|~i))+c[2]+718787259&4294967295,d=h+(f<<15&4294967295|f>>>17),f=i+(h^(d|~t))+c[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(d+(f<<21&4294967295|f>>>11))&4294967295,n.g[2]=n.g[2]+d&4294967295,n.g[3]=n.g[3]+h&4294967295}gi.prototype.j=function(n,t){t===void 0&&(t=n.length);for(var i=t-this.blockSize,c=this.m,d=this.h,h=0;h<t;){if(d==0)for(;h<=i;)r0(this,n,h),h+=this.blockSize;if(typeof n=="string"){for(;h<t;)if(c[d++]=n.charCodeAt(h++),d==this.blockSize){r0(this,c),d=0;break}}else for(;h<t;)if(c[d++]=n[h++],d==this.blockSize){r0(this,c),d=0;break}}this.h=d,this.i+=t};gi.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var i=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=i&255,i/=256;for(this.j(n),n=Array(16),t=i=0;4>t;++t)for(var c=0;32>c;c+=8)n[i++]=this.g[t]>>>c&255;return n};function Rt(n,t){this.h=t;for(var i=[],c=!0,d=n.length-1;0<=d;d--){var h=n[d]|0;c&&h==t||(i[d]=h,c=!1)}this.g=i}var SZ={};function kv(n){return-128<=n&&128>n?OQ(n,function(t){return new Rt([t|0],0>t?-1:0)}):new Rt([n|0],0>n?-1:0)}function Di(n){if(isNaN(n)||!isFinite(n))return rc;if(0>n)return $n(Di(-n));for(var t=[],i=1,c=0;n>=i;c++)t[c]=n/i|0,i*=J0;return new Rt(t,0)}function tB(n,t){if(n.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(n.charAt(0)=="-")return $n(tB(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=Di(Math.pow(t,8)),c=rc,d=0;d<n.length;d+=8){var h=Math.min(8,n.length-d),f=parseInt(n.substring(d,d+h),t);8>h?(h=Di(Math.pow(t,h)),c=c.R(h).add(Di(f))):(c=c.R(i),c=c.add(Di(f)))}return c}var J0=4294967296,rc=kv(0),X0=kv(1),JD=kv(16777216);Ce=Rt.prototype;Ce.ea=function(){if(qo(this))return-$n(this).ea();for(var n=0,t=1,i=0;i<this.g.length;i++){var c=this.D(i);n+=(0<=c?c:J0+c)*t,t*=J0}return n};Ce.toString=function(n){if(n=n||10,2>n||36<n)throw Error("radix out of range: "+n);if(cr(this))return"0";if(qo(this))return"-"+$n(this).toString(n);for(var t=Di(Math.pow(n,6)),i=this,c="";;){var d=kf(i,t).g;i=bf(i,d.R(t));var h=((0<i.g.length?i.g[0]:i.h)>>>0).toString(n);if(i=d,cr(i))return h+c;for(;6>h.length;)h="0"+h;c=h+c}};Ce.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h};function cr(n){if(n.h!=0)return!1;for(var t=0;t<n.g.length;t++)if(n.g[t]!=0)return!1;return!0}function qo(n){return n.h==-1}Ce.X=function(n){return n=bf(this,n),qo(n)?-1:cr(n)?0:1};function $n(n){for(var t=n.g.length,i=[],c=0;c<t;c++)i[c]=~n.g[c];return new Rt(i,~n.h).add(X0)}Ce.abs=function(){return qo(this)?$n(this):this};Ce.add=function(n){for(var t=Math.max(this.g.length,n.g.length),i=[],c=0,d=0;d<=t;d++){var h=c+(this.D(d)&65535)+(n.D(d)&65535),f=(h>>>16)+(this.D(d)>>>16)+(n.D(d)>>>16);c=f>>>16,h&=65535,f&=65535,i[d]=f<<16|h}return new Rt(i,i[i.length-1]&-2147483648?-1:0)};function bf(n,t){return n.add($n(t))}Ce.R=function(n){if(cr(this)||cr(n))return rc;if(qo(this))return qo(n)?$n(this).R($n(n)):$n($n(this).R(n));if(qo(n))return $n(this.R($n(n)));if(0>this.X(JD)&&0>n.X(JD))return Di(this.ea()*n.ea());for(var t=this.g.length+n.g.length,i=[],c=0;c<2*t;c++)i[c]=0;for(c=0;c<this.g.length;c++)for(var d=0;d<n.g.length;d++){var h=this.D(c)>>>16,f=this.D(c)&65535,b=n.D(d)>>>16,m=n.D(d)&65535;i[2*c+2*d]+=f*m,vp(i,2*c+2*d),i[2*c+2*d+1]+=h*m,vp(i,2*c+2*d+1),i[2*c+2*d+1]+=f*b,vp(i,2*c+2*d+1),i[2*c+2*d+2]+=h*b,vp(i,2*c+2*d+2)}for(c=0;c<t;c++)i[c]=i[2*c+1]<<16|i[2*c];for(c=t;c<2*t;c++)i[c]=0;return new Rt(i,0)};function vp(n,t){for(;(n[t]&65535)!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Wl(n,t){this.g=n,this.h=t}function kf(n,t){if(cr(t))throw Error("division by zero");if(cr(n))return new Wl(rc,rc);if(qo(n))return t=kf($n(n),t),new Wl($n(t.g),$n(t.h));if(qo(t))return t=kf(n,$n(t)),new Wl($n(t.g),t.h);if(30<n.g.length){if(qo(n)||qo(t))throw Error("slowDivide_ only works with positive integers.");for(var i=X0,c=t;0>=c.X(n);)i=XD(i),c=XD(c);var d=$a(i,1),h=$a(c,1);for(c=$a(c,2),i=$a(i,2);!cr(c);){var f=h.add(c);0>=f.X(n)&&(d=d.add(i),h=f),c=$a(c,1),i=$a(i,1)}return t=bf(n,d.R(t)),new Wl(d,t)}for(d=rc;0<=n.X(t);){for(i=Math.max(1,Math.floor(n.ea()/t.ea())),c=Math.ceil(Math.log(i)/Math.LN2),c=48>=c?1:Math.pow(2,c-48),h=Di(i),f=h.R(t);qo(f)||0<f.X(n);)i-=c,h=Di(i),f=h.R(t);cr(h)&&(h=X0),d=d.add(h),n=bf(n,f)}return new Wl(d,n)}Ce.gb=function(n){return kf(this,n).h};Ce.and=function(n){for(var t=Math.max(this.g.length,n.g.length),i=[],c=0;c<t;c++)i[c]=this.D(c)&n.D(c);return new Rt(i,this.h&n.h)};Ce.or=function(n){for(var t=Math.max(this.g.length,n.g.length),i=[],c=0;c<t;c++)i[c]=this.D(c)|n.D(c);return new Rt(i,this.h|n.h)};Ce.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),i=[],c=0;c<t;c++)i[c]=this.D(c)^n.D(c);return new Rt(i,this.h^n.h)};function XD(n){for(var t=n.g.length+1,i=[],c=0;c<t;c++)i[c]=n.D(c)<<1|n.D(c-1)>>>31;return new Rt(i,n.h)}function $a(n,t){var i=t>>5;t%=32;for(var c=n.g.length-i,d=[],h=0;h<c;h++)d[h]=0<t?n.D(h+i)>>>t|n.D(h+i+1)<<32-t:n.D(h+i);return new Rt(d,n.h)}mf.prototype.createWebChannel=mf.prototype.g;Po.prototype.send=Po.prototype.u;Po.prototype.open=Po.prototype.m;Po.prototype.close=Po.prototype.close;og.NO_ERROR=0;og.TIMEOUT=8;og.HTTP_ERROR=6;wR.COMPLETE="complete";vR.EventType=fu;fu.OPEN="a";fu.CLOSE="b";fu.ERROR="c";fu.MESSAGE="d";Bn.prototype.listen=Bn.prototype.O;ln.prototype.listenOnce=ln.prototype.P;ln.prototype.getLastError=ln.prototype.Sa;ln.prototype.getLastErrorCode=ln.prototype.Ia;ln.prototype.getStatus=ln.prototype.da;ln.prototype.getResponseJson=ln.prototype.Wa;ln.prototype.getResponseText=ln.prototype.ja;ln.prototype.send=ln.prototype.ha;ln.prototype.setWithCredentials=ln.prototype.Oa;gi.prototype.digest=gi.prototype.l;gi.prototype.reset=gi.prototype.reset;gi.prototype.update=gi.prototype.j;Rt.prototype.add=Rt.prototype.add;Rt.prototype.multiply=Rt.prototype.R;Rt.prototype.modulo=Rt.prototype.gb;Rt.prototype.compare=Rt.prototype.X;Rt.prototype.toNumber=Rt.prototype.ea;Rt.prototype.toString=Rt.prototype.toString;Rt.prototype.getBits=Rt.prototype.D;Rt.fromNumber=Di;Rt.fromString=tB;var DZ=function(){return new mf},MZ=function(){return ng()},s0=og,PZ=wR,RZ=na,e5={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},BZ=bu,_p=vR,NZ=ln,OZ=gi,sc=Rt;const t5="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new Vw("@firebase/firestore");function n5(){return Gs.logLevel}function Ie(n,...t){if(Gs.logLevel<=At.DEBUG){const i=t.map(wv);Gs.debug(`Firestore (${Lc}): ${n}`,...i)}}function pr(n,...t){if(Gs.logLevel<=At.ERROR){const i=t.map(wv);Gs.error(`Firestore (${Lc}): ${n}`,...i)}}function mc(n,...t){if(Gs.logLevel<=At.WARN){const i=t.map(wv);Gs.warn(`Firestore (${Lc}): ${n}`,...i)}}function wv(n){if(typeof n=="string")return n;try{return t=n,JSON.stringify(t)}catch{return n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(n="Unexpected state"){const t=`FIRESTORE (${Lc}) INTERNAL ASSERTION FAILED: `+n;throw pr(t),new Error(t)}function Qt(n,t){n||Ge()}function rt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends $i{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class LZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(qn.UNAUTHENTICATED))}shutdown(){}}class jZ{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}let zZ=class{constructor(t){this.t=t,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){let c=this.i;const d=m=>this.i!==c?(c=this.i,i(m)):Promise.resolve();let h=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new lr,t.enqueueRetryable(()=>d(this.currentUser))};const f=()=>{const m=h;t.enqueueRetryable(async()=>{await m.promise,await d(this.currentUser)})},b=m=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(m=>b(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?b(m):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new lr)}},0),f()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(c=>this.i!==t?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):c?(Qt(typeof c.accessToken=="string"),new nB(c.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string"),new qn(t)}};class FZ{constructor(t,i,c){this.h=t,this.l=i,this.m=c,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class VZ{constructor(t,i,c){this.h=t,this.l=i,this.m=c}getToken(){return Promise.resolve(new FZ(this.h,this.l,this.m))}start(t,i){t.enqueueRetryable(()=>i(qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $Z{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UZ{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,i){const c=h=>{h.error!=null&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const f=h.token!==this.T;return this.T=h.token,Ie("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable(()=>c(h))};const d=h=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.I.onInit(h=>d(h)),setTimeout(()=>{if(!this.appCheck){const h=this.I.getImmediate({optional:!0});h?d(h):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Qt(typeof i.token=="string"),this.T=i.token,new $Z(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HZ(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let c=0;c<n;c++)i[c]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/t.length)*t.length;let c="";for(;c.length<20;){const d=HZ(40);for(let h=0;h<d.length;++h)c.length<20&&d[h]<i&&(c+=t.charAt(d[h]%t.length))}return c}}function It(n,t){return n<t?-1:n>t?1:0}function bc(n,t,i){return n.length===t.length&&n.every((c,d)=>i(c,t[d]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return En.fromMillis(Date.now())}static fromDate(t){return En.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),c=Math.floor(1e6*(t-1e3*i));return new En(i,c)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Xe(t)}static min(){return new Xe(new En(0,0))}static max(){return new Xe(new En(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t,i,c){i===void 0?i=0:i>t.length&&Ge(),c===void 0?c=t.length-i:c>t.length-i&&Ge(),this.segments=t,this.offset=i,this.len=c}get length(){return this.len}isEqual(t){return Fd.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Fd?t.forEach(c=>{i.push(c)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,c=this.limit();i<c;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const c=Math.min(t.length,i.length);for(let d=0;d<c;d++){const h=t.get(d),f=i.get(d);if(h<f)return-1;if(h>f)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class Yt extends Fd{construct(t,i,c){return new Yt(t,i,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const i=[];for(const c of t){if(c.indexOf("//")>=0)throw new xe(le.INVALID_ARGUMENT,`Invalid segment (${c}). Paths must not contain // in them.`);i.push(...c.split("/").filter(d=>d.length>0))}return new Yt(i)}static emptyPath(){return new Yt([])}}const WZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kn extends Fd{construct(t,i,c){return new Kn(t,i,c)}static isValidIdentifier(t){return WZ.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Kn(["__name__"])}static fromServerFormat(t){const i=[];let c="",d=0;const h=()=>{if(c.length===0)throw new xe(le.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(c),c=""};let f=!1;for(;d<t.length;){const b=t[d];if(b==="\\"){if(d+1===t.length)throw new xe(le.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[d+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new xe(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);c+=m,d+=2}else b==="`"?(f=!f,d++):b!=="."||f?(c+=b,d++):(h(),d++)}if(h(),f)throw new xe(le.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Kn(i)}static emptyPath(){return new Kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.path=t}static fromPath(t){return new Re(Yt.fromString(t))}static fromName(t){return new Re(Yt.fromString(t).popFirst(5))}static empty(){return new Re(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Yt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Yt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Re(new Yt(t.slice()))}}function qZ(n,t){const i=n.toTimestamp().seconds,c=n.toTimestamp().nanoseconds+1,d=Xe.fromTimestamp(c===1e9?new En(i+1,0):new En(i,c));return new Gr(d,Re.empty(),t)}function GZ(n){return new Gr(n.readTime,n.key,-1)}class Gr{constructor(t,i,c){this.readTime=t,this.documentKey=i,this.largestBatchId=c}static min(){return new Gr(Xe.min(),Re.empty(),-1)}static max(){return new Gr(Xe.max(),Re.empty(),-1)}}function KZ(n,t){let i=n.readTime.compareTo(t.readTime);return i!==0?i:(i=Re.comparator(n.documentKey,t.documentKey),i!==0?i:It(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YZ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QZ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==YZ)throw n;Ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new fe((c,d)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(c,d)},this.catchCallback=h=>{this.wrapFailure(i,h).next(c,d)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof fe?i:fe.resolve(i)}catch(i){return fe.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):fe.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):fe.reject(i)}static resolve(t){return new fe((i,c)=>{i(t)})}static reject(t){return new fe((i,c)=>{c(t)})}static waitFor(t){return new fe((i,c)=>{let d=0,h=0,f=!1;t.forEach(b=>{++d,b.next(()=>{++h,f&&h===d&&i()},m=>c(m))}),f=!0,h===d&&i()})}static or(t){let i=fe.resolve(!1);for(const c of t)i=i.next(d=>d?fe.resolve(d):c());return i}static forEach(t,i){const c=[];return t.forEach((d,h)=>{c.push(i.call(this,d,h))}),this.waitFor(c)}static mapArray(t,i){return new fe((c,d)=>{const h=t.length,f=new Array(h);let b=0;for(let m=0;m<h;m++){const v=m;i(t[v]).next(C=>{f[v]=C,++b,b===h&&c(f)},C=>d(C))}})}static doWhile(t,i){return new fe((c,d)=>{const h=()=>{t()===!0?i().next(()=>{h()},d):c()};h()})}}function _u(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=c=>this.ot(c),this.ut=c=>i.writeSequenceNumber(c))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}vv.ct=-1;function ug(n){return n==null}function wf(n){return n===0&&1/n==-1/0}function ZZ(n){return typeof n=="number"&&Number.isInteger(n)&&!wf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(n){let t=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t++;return t}function oa(n,t){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(i,n[i])}function iB(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t,i){this.comparator=t,this.root=i||Fn.EMPTY}insert(t,i){return new tn(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(t){return new tn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const c=this.comparator(t,i.key);if(c===0)return i.value;c<0?i=i.left:c>0&&(i=i.right)}return null}indexOf(t){let i=0,c=this.root;for(;!c.isEmpty();){const d=this.comparator(t,c.key);if(d===0)return i+c.left.size;d<0?c=c.left:(i+=c.left.size+1,c=c.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,c)=>(t(i,c),!1))}toString(){const t=[];return this.inorderTraversal((i,c)=>(t.push(`${i}:${c}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cp(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cp(this.root,t,this.comparator,!0)}}class Cp{constructor(t,i,c,d){this.isReverse=d,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?c(t.key,i):1,i&&d&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fn{constructor(t,i,c,d,h){this.key=t,this.value=i,this.color=c??Fn.RED,this.left=d??Fn.EMPTY,this.right=h??Fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,c,d,h){return new Fn(t??this.key,i??this.value,c??this.color,d??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,c){let d=this;const h=c(t,d.key);return d=h<0?d.copy(null,null,null,d.left.insert(t,i,c),null):h===0?d.copy(null,i,null,null,null):d.copy(null,null,null,null,d.right.insert(t,i,c)),d.fixUp()}removeMin(){if(this.left.isEmpty())return Fn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let c,d=this;if(i(t,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(t,i),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),i(t,d.key)===0){if(d.right.isEmpty())return Fn.EMPTY;c=d.right.min(),d=d.copy(c.key,c.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(t,i))}return d.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ge();const t=this.left.check();if(t!==this.right.check())throw Ge();return t+(this.isRed()?0:1)}}Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge()}get value(){throw Ge()}get color(){throw Ge()}get left(){throw Ge()}get right(){throw Ge()}copy(n,t,i,c,d){return this}insert(n,t,i){return new Fn(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this.comparator=t,this.data=new tn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,c)=>(t(i),!1))}forEachInRange(t,i){const c=this.data.getIteratorFrom(t[0]);for(;c.hasNext();){const d=c.getNext();if(this.comparator(d.key,t[1])>=0)return;i(d.key)}}forEachWhile(t,i){let c;for(c=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();c.hasNext();)if(!t(c.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new i5(this.data.getIterator())}getIteratorFrom(t){return new i5(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(c=>{i=i.add(c)}),i}isEqual(t){if(!(t instanceof Zn)||this.size!==t.size)return!1;const i=this.data.getIterator(),c=t.data.getIterator();for(;i.hasNext();){const d=i.getNext().key,h=c.getNext().key;if(this.comparator(d,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Zn(this.comparator);return i.data=t,i}}class i5{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(t){this.fields=t,t.sort(Kn.comparator)}static empty(){return new So([])}unionWith(t){let i=new Zn(Kn.comparator);for(const c of this.fields)i=i.add(c);for(const c of t)i=i.add(c);return new So(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return bc(this.fields,t.fields,(i,c)=>i.isEqual(c))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(c){try{return atob(c)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new rB("Invalid base64 string: "+d):d}}(t);return new eo(i)}static fromUint8Array(t){const i=function(c){let d="";for(let h=0;h<c.length;++h)d+=String.fromCharCode(c[h]);return d}(t);return new eo(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let c=0;c<t.length;c++)i[c]=t.charCodeAt(c);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}eo.EMPTY_BYTE_STRING=new eo("");const JZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(n){if(Qt(!!n),typeof n=="string"){let t=0;const i=JZ.exec(n);if(Qt(!!i),i[1]){let d=i[1];d=(d+"000000000").substr(0,9),t=Number(d)}const c=new Date(n);return{seconds:Math.floor(c.getTime()/1e3),nanos:t}}return{seconds:kn(n.seconds),nanos:kn(n.nanos)}}function kn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ks(n){return typeof n=="string"?eo.fromBase64String(n):eo.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function Cv(n){const t=n.mapValue.fields.__previous_value__;return _v(t)?Cv(t):t}function Vd(n){const t=Kr(n.mapValue.fields.__local_write_time__.timestampValue);return new En(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XZ{constructor(t,i,c,d,h,f,b,m,v){this.databaseId=t,this.appId=i,this.persistenceKey=c,this.host=d,this.ssl=h,this.forceLongPolling=f,this.autoDetectLongPolling=b,this.longPollingOptions=m,this.useFetchStreams=v}}class $d{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new $d("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof $d&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ys(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_v(n)?4:eJ(n)?9007199254740991:10:Ge()}function zi(n,t){if(n===t)return!0;const i=Ys(n);if(i!==Ys(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Vd(n).isEqual(Vd(t));case 3:return function(c,d){if(typeof c.timestampValue=="string"&&typeof d.timestampValue=="string"&&c.timestampValue.length===d.timestampValue.length)return c.timestampValue===d.timestampValue;const h=Kr(c.timestampValue),f=Kr(d.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(c,d){return Ks(c.bytesValue).isEqual(Ks(d.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(c,d){return kn(c.geoPointValue.latitude)===kn(d.geoPointValue.latitude)&&kn(c.geoPointValue.longitude)===kn(d.geoPointValue.longitude)}(n,t);case 2:return function(c,d){if("integerValue"in c&&"integerValue"in d)return kn(c.integerValue)===kn(d.integerValue);if("doubleValue"in c&&"doubleValue"in d){const h=kn(c.doubleValue),f=kn(d.doubleValue);return h===f?wf(h)===wf(f):isNaN(h)&&isNaN(f)}return!1}(n,t);case 9:return bc(n.arrayValue.values||[],t.arrayValue.values||[],zi);case 10:return function(c,d){const h=c.mapValue.fields||{},f=d.mapValue.fields||{};if(o5(h)!==o5(f))return!1;for(const b in h)if(h.hasOwnProperty(b)&&(f[b]===void 0||!zi(h[b],f[b])))return!1;return!0}(n,t);default:return Ge()}}function Ud(n,t){return(n.values||[]).find(i=>zi(i,t))!==void 0}function kc(n,t){if(n===t)return 0;const i=Ys(n),c=Ys(t);if(i!==c)return It(i,c);switch(i){case 0:case 9007199254740991:return 0;case 1:return It(n.booleanValue,t.booleanValue);case 2:return function(d,h){const f=kn(d.integerValue||d.doubleValue),b=kn(h.integerValue||h.doubleValue);return f<b?-1:f>b?1:f===b?0:isNaN(f)?isNaN(b)?0:-1:1}(n,t);case 3:return r5(n.timestampValue,t.timestampValue);case 4:return r5(Vd(n),Vd(t));case 5:return It(n.stringValue,t.stringValue);case 6:return function(d,h){const f=Ks(d),b=Ks(h);return f.compareTo(b)}(n.bytesValue,t.bytesValue);case 7:return function(d,h){const f=d.split("/"),b=h.split("/");for(let m=0;m<f.length&&m<b.length;m++){const v=It(f[m],b[m]);if(v!==0)return v}return It(f.length,b.length)}(n.referenceValue,t.referenceValue);case 8:return function(d,h){const f=It(kn(d.latitude),kn(h.latitude));return f!==0?f:It(kn(d.longitude),kn(h.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(d,h){const f=d.values||[],b=h.values||[];for(let m=0;m<f.length&&m<b.length;++m){const v=kc(f[m],b[m]);if(v)return v}return It(f.length,b.length)}(n.arrayValue,t.arrayValue);case 10:return function(d,h){if(d===Ap.mapValue&&h===Ap.mapValue)return 0;if(d===Ap.mapValue)return 1;if(h===Ap.mapValue)return-1;const f=d.fields||{},b=Object.keys(f),m=h.fields||{},v=Object.keys(m);b.sort(),v.sort();for(let C=0;C<b.length&&C<v.length;++C){const y=It(b[C],v[C]);if(y!==0)return y;const _=kc(f[b[C]],m[v[C]]);if(_!==0)return _}return It(b.length,v.length)}(n.mapValue,t.mapValue);default:throw Ge()}}function r5(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return It(n,t);const i=Kr(n),c=Kr(t),d=It(i.seconds,c.seconds);return d!==0?d:It(i.nanos,c.nanos)}function wc(n){return ew(n)}function ew(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(c){const d=Kr(c);return`time(${d.seconds},${d.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ks(n.bytesValue).toBase64():"referenceValue"in n?(i=n.referenceValue,Re.fromName(i).toString()):"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(c){let d="[",h=!0;for(const f of c.values||[])h?h=!1:d+=",",d+=ew(f);return d+"]"}(n.arrayValue):"mapValue"in n?function(c){const d=Object.keys(c.fields||{}).sort();let h="{",f=!0;for(const b of d)f?f=!1:h+=",",h+=`${b}:${ew(c.fields[b])}`;return h+"}"}(n.mapValue):Ge();var t,i}function s5(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function tw(n){return!!n&&"integerValue"in n}function Av(n){return!!n&&"arrayValue"in n}function a5(n){return!!n&&"nullValue"in n}function c5(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vp(n){return!!n&&"mapValue"in n}function pd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return oa(n.mapValue.fields,(i,c)=>t.mapValue.fields[i]=pd(c)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=pd(n.arrayValue.values[i]);return t}return Object.assign({},n)}function eJ(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(t){this.value=t}static empty(){return new po({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let c=0;c<t.length-1;++c)if(i=(i.mapValue.fields||{})[t.get(c)],!Vp(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=pd(i)}setAll(t){let i=Kn.emptyPath(),c={},d=[];t.forEach((f,b)=>{if(!i.isImmediateParentOf(b)){const m=this.getFieldsMap(i);this.applyChanges(m,c,d),c={},d=[],i=b.popLast()}f?c[b.lastSegment()]=pd(f):d.push(b.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,c,d)}delete(t){const i=this.field(t.popLast());Vp(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return zi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let c=0;c<t.length;++c){let d=i.mapValue.fields[t.get(c)];Vp(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},i.mapValue.fields[t.get(c)]=d),i=d}return i.mapValue.fields}applyChanges(t,i,c){oa(i,(d,h)=>t[d]=h);for(const d of c)delete t[d]}clone(){return new po(pd(this.value))}}function sB(n){const t=[];return oa(n.fields,(i,c)=>{const d=new Kn([i]);if(Vp(c)){const h=sB(c.mapValue).fields;if(h.length===0)t.push(d);else for(const f of h)t.push(d.child(f))}else t.push(d)}),new So(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t,i,c,d,h,f,b){this.key=t,this.documentType=i,this.version=c,this.readTime=d,this.createTime=h,this.data=f,this.documentState=b}static newInvalidDocument(t){return new Gn(t,0,Xe.min(),Xe.min(),Xe.min(),po.empty(),0)}static newFoundDocument(t,i,c,d){return new Gn(t,1,i,Xe.min(),c,d,0)}static newNoDocument(t,i){return new Gn(t,2,i,Xe.min(),Xe.min(),po.empty(),0)}static newUnknownDocument(t,i){return new Gn(t,3,i,Xe.min(),Xe.min(),po.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=po.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=po.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Gn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,i){this.position=t,this.inclusive=i}}function l5(n,t,i){let c=0;for(let d=0;d<n.position.length;d++){const h=t[d],f=n.position[d];if(h.field.isKeyField()?c=Re.comparator(Re.fromName(f.referenceValue),i.key):c=kc(f,i.data.field(h.field)),h.dir==="desc"&&(c*=-1),c!==0)break}return c}function d5(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!zi(n.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(t,i="asc"){this.field=t,this.dir=i}}function tJ(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{}class vn extends aB{constructor(t,i,c){super(),this.field=t,this.op=i,this.value=c}static create(t,i,c){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,c):new oJ(t,i,c):i==="array-contains"?new sJ(t,c):i==="in"?new aJ(t,c):i==="not-in"?new cJ(t,c):i==="array-contains-any"?new lJ(t,c):new vn(t,i,c)}static createKeyFieldInFilter(t,i,c){return i==="in"?new iJ(t,c):new rJ(t,c)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(kc(i,this.value)):i!==null&&Ys(this.value)===Ys(i)&&this.matchesComparison(kc(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class mi extends aB{constructor(t,i){super(),this.filters=t,this.op=i,this.lt=null}static create(t,i){return new mi(t,i)}matches(t){return cB(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(i=>i.isInequality());return t!==null?t.field:null}ft(t){for(const i of this.getFlattenedFilters())if(t(i))return i;return null}}function cB(n){return n.op==="and"}function lB(n){return nJ(n)&&cB(n)}function nJ(n){for(const t of n.filters)if(t instanceof mi)return!1;return!0}function nw(n){if(n instanceof vn)return n.field.canonicalString()+n.op.toString()+wc(n.value);if(lB(n))return n.filters.map(t=>nw(t)).join(",");{const t=n.filters.map(i=>nw(i)).join(",");return`${n.op}(${t})`}}function dB(n,t){return n instanceof vn?function(i,c){return c instanceof vn&&i.op===c.op&&i.field.isEqual(c.field)&&zi(i.value,c.value)}(n,t):n instanceof mi?function(i,c){return c instanceof mi&&i.op===c.op&&i.filters.length===c.filters.length?i.filters.reduce((d,h,f)=>d&&dB(h,c.filters[f]),!0):!1}(n,t):void Ge()}function uB(n){return n instanceof vn?function(t){return`${t.field.canonicalString()} ${t.op} ${wc(t.value)}`}(n):n instanceof mi?function(t){return t.op.toString()+" {"+t.getFilters().map(uB).join(" ,")+"}"}(n):"Filter"}class oJ extends vn{constructor(t,i,c){super(t,i,c),this.key=Re.fromName(c.referenceValue)}matches(t){const i=Re.comparator(t.key,this.key);return this.matchesComparison(i)}}class iJ extends vn{constructor(t,i){super(t,"in",i),this.keys=hB("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class rJ extends vn{constructor(t,i){super(t,"not-in",i),this.keys=hB("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function hB(n,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(c=>Re.fromName(c.referenceValue))}class sJ extends vn{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Av(i)&&Ud(i.arrayValue,this.value)}}class aJ extends vn{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ud(this.value.arrayValue,i)}}class cJ extends vn{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ud(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!Ud(this.value.arrayValue,i)}}class lJ extends vn{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Av(i)||!i.arrayValue.values)&&i.arrayValue.values.some(c=>Ud(this.value.arrayValue,c))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dJ{constructor(t,i=null,c=[],d=[],h=null,f=null,b=null){this.path=t,this.collectionGroup=i,this.orderBy=c,this.filters=d,this.limit=h,this.startAt=f,this.endAt=b,this.dt=null}}function u5(n,t=null,i=[],c=[],d=null,h=null,f=null){return new dJ(n,t,i,c,d,h,f)}function yv(n){const t=rt(n);if(t.dt===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(c=>nw(c)).join(","),i+="|ob:",i+=t.orderBy.map(c=>function(d){return d.field.canonicalString()+d.dir}(c)).join(","),ug(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(c=>wc(c)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(c=>wc(c)).join(",")),t.dt=i}return t.dt}function xv(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!tJ(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!dB(n.filters[i],t.filters[i]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!d5(n.startAt,t.startAt)&&d5(n.endAt,t.endAt)}function ow(n){return Re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,i=null,c=[],d=[],h=null,f="F",b=null,m=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=c,this.filters=d,this.limit=h,this.limitType=f,this.startAt=b,this.endAt=m,this.wt=null,this._t=null,this.startAt,this.endAt}}function uJ(n,t,i,c,d,h,f,b){return new jc(n,t,i,c,d,h,f,b)}function hg(n){return new jc(n)}function h5(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Ev(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function pg(n){for(const t of n.filters){const i=t.getFirstInequalityField();if(i!==null)return i}return null}function pB(n){return n.collectionGroup!==null}function cc(n){const t=rt(n);if(t.wt===null){t.wt=[];const i=pg(t),c=Ev(t);if(i!==null&&c===null)i.isKeyField()||t.wt.push(new ac(i)),t.wt.push(new ac(Kn.keyField(),"asc"));else{let d=!1;for(const h of t.explicitOrderBy)t.wt.push(h),h.field.isKeyField()&&(d=!0);if(!d){const h=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new ac(Kn.keyField(),h))}}}return t.wt}function fr(n){const t=rt(n);if(!t._t)if(t.limitType==="F")t._t=u5(t.path,t.collectionGroup,cc(t),t.filters,t.limit,t.startAt,t.endAt);else{const i=[];for(const h of cc(t)){const f=h.dir==="desc"?"asc":"desc";i.push(new ac(h.field,f))}const c=t.endAt?new vf(t.endAt.position,t.endAt.inclusive):null,d=t.startAt?new vf(t.startAt.position,t.startAt.inclusive):null;t._t=u5(t.path,t.collectionGroup,i,t.filters,t.limit,c,d)}return t._t}function iw(n,t){t.getFirstInequalityField(),pg(n);const i=n.filters.concat([t]);return new jc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),i,n.limit,n.limitType,n.startAt,n.endAt)}function rw(n,t,i){return new jc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,i,n.startAt,n.endAt)}function fg(n,t){return xv(fr(n),fr(t))&&n.limitType===t.limitType}function fB(n){return`${yv(fr(n))}|lt:${n.limitType}`}function sw(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(c=>uB(c)).join(", ")}]`),ug(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(c=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(c)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(c=>wc(c)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(c=>wc(c)).join(",")),`Target(${i})`}(fr(n))}; limitType=${n.limitType})`}function gg(n,t){return t.isFoundDocument()&&function(i,c){const d=c.key.path;return i.collectionGroup!==null?c.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(d):Re.isDocumentKey(i.path)?i.path.isEqual(d):i.path.isImmediateParentOf(d)}(n,t)&&function(i,c){for(const d of cc(i))if(!d.field.isKeyField()&&c.data.field(d.field)===null)return!1;return!0}(n,t)&&function(i,c){for(const d of i.filters)if(!d.matches(c))return!1;return!0}(n,t)&&function(i,c){return!(i.startAt&&!function(d,h,f){const b=l5(d,h,f);return d.inclusive?b<=0:b<0}(i.startAt,cc(i),c)||i.endAt&&!function(d,h,f){const b=l5(d,h,f);return d.inclusive?b>=0:b>0}(i.endAt,cc(i),c))}(n,t)}function hJ(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gB(n){return(t,i)=>{let c=!1;for(const d of cc(n)){const h=pJ(d,t,i);if(h!==0)return h;c=c||d.field.isKeyField()}return 0}}function pJ(n,t,i){const c=n.field.isKeyField()?Re.comparator(t.key,i.key):function(d,h,f){const b=h.data.field(d),m=f.data.field(d);return b!==null&&m!==null?kc(b,m):Ge()}(n.field,t,i);switch(n.dir){case"asc":return c;case"desc":return-1*c;default:return Ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),c=this.inner[i];if(c!==void 0){for(const[d,h]of c)if(this.equalsFn(d,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const c=this.mapKeyFn(t),d=this.inner[c];if(d===void 0)return this.inner[c]=[[t,i]],void this.innerSize++;for(let h=0;h<d.length;h++)if(this.equalsFn(d[h][0],t))return void(d[h]=[t,i]);d.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),c=this.inner[i];if(c===void 0)return!1;for(let d=0;d<c.length;d++)if(this.equalsFn(c[d][0],t))return c.length===1?delete this.inner[i]:c.splice(d,1),this.innerSize--,!0;return!1}forEach(t){oa(this.inner,(i,c)=>{for(const[d,h]of c)t(d,h)})}isEmpty(){return iB(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fJ=new tn(Re.comparator);function gr(){return fJ}const mB=new tn(Re.comparator);function sd(...n){let t=mB;for(const i of n)t=t.insert(i.key,i);return t}function bB(n){let t=mB;return n.forEach((i,c)=>t=t.insert(i,c.overlayedDocument)),t}function Os(){return fd()}function kB(){return fd()}function fd(){return new zc(n=>n.toString(),(n,t)=>n.isEqual(t))}const gJ=new tn(Re.comparator),mJ=new Zn(Re.comparator);function ht(...n){let t=mJ;for(const i of n)t=t.add(i);return t}const bJ=new Zn(It);function kJ(){return bJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wf(t)?"-0":t}}function vB(n){return{integerValue:""+n}}function wJ(n,t){return ZZ(t)?vB(t):wB(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(){this._=void 0}}function vJ(n,t,i){return n instanceof Hd?function(c,d){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return d&&_v(d)&&(d=Cv(d)),d&&(h.fields.__previous_value__=d),{mapValue:h}}(i,t):n instanceof Wd?CB(n,t):n instanceof qd?AB(n,t):function(c,d){const h=_B(c,d),f=p5(h)+p5(c.gt);return tw(h)&&tw(c.gt)?vB(f):wB(c.serializer,f)}(n,t)}function _J(n,t,i){return n instanceof Wd?CB(n,t):n instanceof qd?AB(n,t):i}function _B(n,t){return n instanceof _f?tw(i=t)||function(c){return!!c&&"doubleValue"in c}(i)?t:{integerValue:0}:null;var i}class Hd extends mg{}class Wd extends mg{constructor(t){super(),this.elements=t}}function CB(n,t){const i=yB(t);for(const c of n.elements)i.some(d=>zi(d,c))||i.push(c);return{arrayValue:{values:i}}}class qd extends mg{constructor(t){super(),this.elements=t}}function AB(n,t){let i=yB(t);for(const c of n.elements)i=i.filter(d=>!zi(d,c));return{arrayValue:{values:i}}}class _f extends mg{constructor(t,i){super(),this.serializer=t,this.gt=i}}function p5(n){return kn(n.integerValue||n.doubleValue)}function yB(n){return Av(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CJ{constructor(t,i){this.field=t,this.transform=i}}function AJ(n,t){return n.field.isEqual(t.field)&&function(i,c){return i instanceof Wd&&c instanceof Wd||i instanceof qd&&c instanceof qd?bc(i.elements,c.elements,zi):i instanceof _f&&c instanceof _f?zi(i.gt,c.gt):i instanceof Hd&&c instanceof Hd}(n.transform,t.transform)}class yJ{constructor(t,i){this.version=t,this.transformResults=i}}class Yo{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Yo}static exists(t){return new Yo(void 0,t)}static updateTime(t){return new Yo(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $p(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class bg{}function xB(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Tv(n.key,Yo.none()):new Cu(n.key,n.data,Yo.none());{const i=n.data,c=po.empty();let d=new Zn(Kn.comparator);for(let h of t.fields)if(!d.has(h)){let f=i.field(h);f===null&&h.length>1&&(h=h.popLast(),f=i.field(h)),f===null?c.delete(h):c.set(h,f),d=d.add(h)}return new ts(n.key,c,new So(d.toArray()),Yo.none())}}function xJ(n,t,i){n instanceof Cu?function(c,d,h){const f=c.value.clone(),b=g5(c.fieldTransforms,d,h.transformResults);f.setAll(b),d.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(n,t,i):n instanceof ts?function(c,d,h){if(!$p(c.precondition,d))return void d.convertToUnknownDocument(h.version);const f=g5(c.fieldTransforms,d,h.transformResults),b=d.data;b.setAll(EB(c)),b.setAll(f),d.convertToFoundDocument(h.version,b).setHasCommittedMutations()}(n,t,i):function(c,d,h){d.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,i)}function gd(n,t,i,c){return n instanceof Cu?function(d,h,f,b){if(!$p(d.precondition,h))return f;const m=d.value.clone(),v=m5(d.fieldTransforms,b,h);return m.setAll(v),h.convertToFoundDocument(h.version,m).setHasLocalMutations(),null}(n,t,i,c):n instanceof ts?function(d,h,f,b){if(!$p(d.precondition,h))return f;const m=m5(d.fieldTransforms,b,h),v=h.data;return v.setAll(EB(d)),v.setAll(m),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),f===null?null:f.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(C=>C.field))}(n,t,i,c):function(d,h,f){return $p(d.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(n,t,i)}function EJ(n,t){let i=null;for(const c of n.fieldTransforms){const d=t.data.field(c.field),h=_B(c.transform,d||null);h!=null&&(i===null&&(i=po.empty()),i.set(c.field,h))}return i||null}function f5(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,c){return i===void 0&&c===void 0||!(!i||!c)&&bc(i,c,(d,h)=>AJ(d,h))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Cu extends bg{constructor(t,i,c,d=[]){super(),this.key=t,this.value=i,this.precondition=c,this.fieldTransforms=d,this.type=0}getFieldMask(){return null}}class ts extends bg{constructor(t,i,c,d,h=[]){super(),this.key=t,this.data=i,this.fieldMask=c,this.precondition=d,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function EB(n){const t=new Map;return n.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const c=n.data.field(i);t.set(i,c)}}),t}function g5(n,t,i){const c=new Map;Qt(n.length===i.length);for(let d=0;d<i.length;d++){const h=n[d],f=h.transform,b=t.data.field(h.field);c.set(h.field,_J(f,b,i[d]))}return c}function m5(n,t,i){const c=new Map;for(const d of n){const h=d.transform,f=i.data.field(d.field);c.set(d.field,vJ(h,f,t))}return c}class Tv extends bg{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TJ extends bg{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IJ{constructor(t,i,c,d){this.batchId=t,this.localWriteTime=i,this.baseMutations=c,this.mutations=d}applyToRemoteDocument(t,i){const c=i.mutationResults;for(let d=0;d<this.mutations.length;d++){const h=this.mutations[d];h.key.isEqual(t.key)&&xJ(h,t,c[d])}}applyToLocalView(t,i){for(const c of this.baseMutations)c.key.isEqual(t.key)&&(i=gd(c,t,i,this.localWriteTime));for(const c of this.mutations)c.key.isEqual(t.key)&&(i=gd(c,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const c=kB();return this.mutations.forEach(d=>{const h=t.get(d.key),f=h.overlayedDocument;let b=this.applyToLocalView(f,h.mutatedFields);b=i.has(d.key)?null:b;const m=xB(f,b);m!==null&&c.set(d.key,m),f.isValidDocument()||f.convertToNoDocument(Xe.min())}),c}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),ht())}isEqual(t){return this.batchId===t.batchId&&bc(this.mutations,t.mutations,(i,c)=>f5(i,c))&&bc(this.baseMutations,t.baseMutations,(i,c)=>f5(i,c))}}class Iv{constructor(t,i,c,d){this.batch=t,this.commitVersion=i,this.mutationResults=c,this.docVersions=d}static from(t,i,c){Qt(t.mutations.length===c.length);let d=gJ;const h=t.mutations;for(let f=0;f<h.length;f++)d=d.insert(h[f].key,c[f].version);return new Iv(t,i,c,d)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SJ{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DJ{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bn,gt;function MJ(n){switch(n){default:return Ge();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function TB(n){if(n===void 0)return pr("GRPC error has no .code"),le.UNKNOWN;switch(n){case bn.OK:return le.OK;case bn.CANCELLED:return le.CANCELLED;case bn.UNKNOWN:return le.UNKNOWN;case bn.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case bn.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case bn.INTERNAL:return le.INTERNAL;case bn.UNAVAILABLE:return le.UNAVAILABLE;case bn.UNAUTHENTICATED:return le.UNAUTHENTICATED;case bn.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case bn.NOT_FOUND:return le.NOT_FOUND;case bn.ALREADY_EXISTS:return le.ALREADY_EXISTS;case bn.PERMISSION_DENIED:return le.PERMISSION_DENIED;case bn.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case bn.ABORTED:return le.ABORTED;case bn.OUT_OF_RANGE:return le.OUT_OF_RANGE;case bn.UNIMPLEMENTED:return le.UNIMPLEMENTED;case bn.DATA_LOSS:return le.DATA_LOSS;default:return Ge()}}(gt=bn||(bn={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return yp}static getOrCreateInstance(){return yp===null&&(yp=new Sv),yp}onExistenceFilterMismatch(t){const i=Symbol();return this.onExistenceFilterMismatchCallbacks.set(i,t),()=>this.onExistenceFilterMismatchCallbacks.delete(i)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(i=>i(t))}}let yp=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PJ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RJ=new sc([4294967295,4294967295],0);function b5(n){const t=PJ().encode(n),i=new OZ;return i.update(t),new Uint8Array(i.digest())}function k5(n){const t=new DataView(n.buffer),i=t.getUint32(0,!0),c=t.getUint32(4,!0),d=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new sc([i,c],0),new sc([d,h],0)]}class Dv{constructor(t,i,c){if(this.bitmap=t,this.padding=i,this.hashCount=c,i<0||i>=8)throw new ad(`Invalid padding: ${i}`);if(c<0)throw new ad(`Invalid hash count: ${c}`);if(t.length>0&&this.hashCount===0)throw new ad(`Invalid hash count: ${c}`);if(t.length===0&&i!==0)throw new ad(`Invalid padding when bitmap length is 0: ${i}`);this.It=8*t.length-i,this.Tt=sc.fromNumber(this.It)}Et(t,i,c){let d=t.add(i.multiply(sc.fromNumber(c)));return d.compare(RJ)===1&&(d=new sc([d.getBits(0),d.getBits(1)],0)),d.modulo(this.Tt).toNumber()}At(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}vt(t){if(this.It===0)return!1;const i=b5(t),[c,d]=k5(i);for(let h=0;h<this.hashCount;h++){const f=this.Et(c,d,h);if(!this.At(f))return!1}return!0}static create(t,i,c){const d=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),f=new Dv(h,d,i);return c.forEach(b=>f.insert(b)),f}insert(t){if(this.It===0)return;const i=b5(t),[c,d]=k5(i);for(let h=0;h<this.hashCount;h++){const f=this.Et(c,d,h);this.Rt(f)}}Rt(t){const i=Math.floor(t/8),c=t%8;this.bitmap[i]|=1<<c}}class ad extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(t,i,c,d,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=c,this.documentUpdates=d,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,c){const d=new Map;return d.set(t,Au.createSynthesizedTargetChangeForCurrentChange(t,i,c)),new kg(Xe.min(),d,new tn(It),gr(),ht())}}class Au{constructor(t,i,c,d,h){this.resumeToken=t,this.current=i,this.addedDocuments=c,this.modifiedDocuments=d,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,c){return new Au(c,i,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(t,i,c,d){this.Pt=t,this.removedTargetIds=i,this.key=c,this.bt=d}}class IB{constructor(t,i){this.targetId=t,this.Vt=i}}class SB{constructor(t,i,c=eo.EMPTY_BYTE_STRING,d=null){this.state=t,this.targetIds=i,this.resumeToken=c,this.cause=d}}class w5{constructor(){this.St=0,this.Dt=_5(),this.Ct=eo.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=ht(),i=ht(),c=ht();return this.Dt.forEach((d,h)=>{switch(h){case 0:t=t.add(d);break;case 2:i=i.add(d);break;case 1:c=c.add(d);break;default:Ge()}}),new Au(this.Ct,this.xt,t,i,c)}Ft(){this.Nt=!1,this.Dt=_5()}Bt(t,i){this.Nt=!0,this.Dt=this.Dt.insert(t,i)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class BJ{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=gr(),this.zt=v5(),this.Wt=new tn(It)}Ht(t){for(const i of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(i,t.bt):this.Yt(i,t.key,t.bt);for(const i of t.removedTargetIds)this.Yt(i,t.key,t.bt)}Xt(t){this.forEachTarget(t,i=>{const c=this.Zt(i);switch(t.state){case 0:this.te(i)&&c.$t(t.resumeToken);break;case 1:c.Ut(),c.kt||c.Ft(),c.$t(t.resumeToken);break;case 2:c.Ut(),c.kt||this.removeTarget(i);break;case 3:this.te(i)&&(c.Kt(),c.$t(t.resumeToken));break;case 4:this.te(i)&&(this.ee(i),c.$t(t.resumeToken));break;default:Ge()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Qt.forEach((c,d)=>{this.te(d)&&i(d)})}ne(t){var i;const c=t.targetId,d=t.Vt.count,h=this.se(c);if(h){const f=h.target;if(ow(f))if(d===0){const b=new Re(f.path);this.Yt(c,b,Gn.newNoDocument(b,Xe.min()))}else Qt(d===1);else{const b=this.ie(c);if(b!==d){const m=this.re(t,b);if(m!==0){this.ee(c);const v=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(c,v)}(i=Sv.instance)===null||i===void 0||i.notifyOnExistenceFilterMismatch(function(v,C,y){var _,x,I,S,M,N;const j={localCacheCount:C,existenceFilterCount:y.count},L=y.unchangedNames;return L&&(j.bloomFilter={applied:v===0,hashCount:(_=L==null?void 0:L.hashCount)!==null&&_!==void 0?_:0,bitmapLength:(S=(I=(x=L==null?void 0:L.bits)===null||x===void 0?void 0:x.bitmap)===null||I===void 0?void 0:I.length)!==null&&S!==void 0?S:0,padding:(N=(M=L==null?void 0:L.bits)===null||M===void 0?void 0:M.padding)!==null&&N!==void 0?N:0}),j}(m,b,t.Vt))}}}}re(t,i){const{unchangedNames:c,count:d}=t.Vt;if(!c||!c.bits)return 1;const{bits:{bitmap:h="",padding:f=0},hashCount:b=0}=c;let m,v;try{m=Ks(h).toUint8Array()}catch(C){if(C instanceof rB)return mc("Decoding the base64 bloom filter in existence filter failed ("+C.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw C}try{v=new Dv(m,f,b)}catch(C){return mc(C instanceof ad?"BloomFilter error: ":"Applying bloom filter failed: ",C),1}return v.It===0?1:d!==i-this.oe(t.targetId,v)?2:0}oe(t,i){const c=this.Gt.getRemoteKeysForTarget(t);let d=0;return c.forEach(h=>{const f=this.Gt.ue(),b=`projects/${f.projectId}/databases/${f.database}/documents/${h.path.canonicalString()}`;i.vt(b)||(this.Yt(t,h,null),d++)}),d}ce(t){const i=new Map;this.Qt.forEach((h,f)=>{const b=this.se(f);if(b){if(h.current&&ow(b.target)){const m=new Re(b.target.path);this.jt.get(m)!==null||this.ae(f,m)||this.Yt(f,m,Gn.newNoDocument(m,t))}h.Mt&&(i.set(f,h.Ot()),h.Ft())}});let c=ht();this.zt.forEach((h,f)=>{let b=!0;f.forEachWhile(m=>{const v=this.se(m);return!v||v.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)}),b&&(c=c.add(h))}),this.jt.forEach((h,f)=>f.setReadTime(t));const d=new kg(t,i,this.Wt,this.jt,c);return this.jt=gr(),this.zt=v5(),this.Wt=new tn(It),d}Jt(t,i){if(!this.te(t))return;const c=this.ae(t,i.key)?2:0;this.Zt(t).Bt(i.key,c),this.jt=this.jt.insert(i.key,i),this.zt=this.zt.insert(i.key,this.he(i.key).add(t))}Yt(t,i,c){if(!this.te(t))return;const d=this.Zt(t);this.ae(t,i)?d.Bt(i,1):d.Lt(i),this.zt=this.zt.insert(i,this.he(i).delete(t)),c&&(this.jt=this.jt.insert(i,c))}removeTarget(t){this.Qt.delete(t)}ie(t){const i=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let i=this.Qt.get(t);return i||(i=new w5,this.Qt.set(t,i)),i}he(t){let i=this.zt.get(t);return i||(i=new Zn(It),this.zt=this.zt.insert(t,i)),i}te(t){const i=this.se(t)!==null;return i||Ie("WatchChangeAggregator","Detected inactive target",t),i}se(t){const i=this.Qt.get(t);return i&&i.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new w5),this.Gt.getRemoteKeysForTarget(t).forEach(i=>{this.Yt(t,i,null)})}ae(t,i){return this.Gt.getRemoteKeysForTarget(t).has(i)}}function v5(){return new tn(Re.comparator)}function _5(){return new tn(Re.comparator)}const NJ={asc:"ASCENDING",desc:"DESCENDING"},OJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LJ={and:"AND",or:"OR"};class jJ{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function aw(n,t){return n.useProto3Json||ug(t)?t:{value:t}}function Cf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function DB(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function zJ(n,t){return Cf(n,t.toTimestamp())}function Ni(n){return Qt(!!n),Xe.fromTimestamp(function(t){const i=Kr(t);return new En(i.seconds,i.nanos)}(n))}function Mv(n,t){return function(i){return new Yt(["projects",i.projectId,"databases",i.database])}(n).child("documents").child(t).canonicalString()}function MB(n){const t=Yt.fromString(n);return Qt(NB(t)),t}function cw(n,t){return Mv(n.databaseId,t.path)}function a0(n,t){const i=MB(t);if(i.get(1)!==n.databaseId.projectId)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new Re(PB(i))}function lw(n,t){return Mv(n.databaseId,t)}function FJ(n){const t=MB(n);return t.length===4?Yt.emptyPath():PB(t)}function dw(n){return new Yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PB(n){return Qt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function C5(n,t,i){return{name:cw(n,t),fields:i.value.mapValue.fields}}function VJ(n,t){let i;if("targetChange"in t){t.targetChange;const c=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ge()}(t.targetChange.targetChangeType||"NO_CHANGE"),d=t.targetChange.targetIds||[],h=function(m,v){return m.useProto3Json?(Qt(v===void 0||typeof v=="string"),eo.fromBase64String(v||"")):(Qt(v===void 0||v instanceof Uint8Array),eo.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),f=t.targetChange.cause,b=f&&function(m){const v=m.code===void 0?le.UNKNOWN:TB(m.code);return new xe(v,m.message||"")}(f);i=new SB(c,d,h,b||null)}else if("documentChange"in t){t.documentChange;const c=t.documentChange;c.document,c.document.name,c.document.updateTime;const d=a0(n,c.document.name),h=Ni(c.document.updateTime),f=c.document.createTime?Ni(c.document.createTime):Xe.min(),b=new po({mapValue:{fields:c.document.fields}}),m=Gn.newFoundDocument(d,h,f,b),v=c.targetIds||[],C=c.removedTargetIds||[];i=new Up(v,C,m.key,m)}else if("documentDelete"in t){t.documentDelete;const c=t.documentDelete;c.document;const d=a0(n,c.document),h=c.readTime?Ni(c.readTime):Xe.min(),f=Gn.newNoDocument(d,h),b=c.removedTargetIds||[];i=new Up([],b,f.key,f)}else if("documentRemove"in t){t.documentRemove;const c=t.documentRemove;c.document;const d=a0(n,c.document),h=c.removedTargetIds||[];i=new Up([],h,d,null)}else{if(!("filter"in t))return Ge();{t.filter;const c=t.filter;c.targetId;const{count:d=0,unchangedNames:h}=c,f=new DJ(d,h),b=c.targetId;i=new IB(b,f)}}return i}function $J(n,t){let i;if(t instanceof Cu)i={update:C5(n,t.key,t.value)};else if(t instanceof Tv)i={delete:cw(n,t.key)};else if(t instanceof ts)i={update:C5(n,t.key,t.data),updateMask:ZJ(t.fieldMask)};else{if(!(t instanceof TJ))return Ge();i={verify:cw(n,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(c=>function(d,h){const f=h.transform;if(f instanceof Hd)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Wd)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof qd)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof _f)return{fieldPath:h.field.canonicalString(),increment:f.gt};throw Ge()}(0,c))),t.precondition.isNone||(i.currentDocument=function(c,d){return d.updateTime!==void 0?{updateTime:zJ(c,d.updateTime)}:d.exists!==void 0?{exists:d.exists}:Ge()}(n,t.precondition)),i}function UJ(n,t){return n&&n.length>0?(Qt(t!==void 0),n.map(i=>function(c,d){let h=c.updateTime?Ni(c.updateTime):Ni(d);return h.isEqual(Xe.min())&&(h=Ni(d)),new yJ(h,c.transformResults||[])}(i,t))):[]}function HJ(n,t){return{documents:[lw(n,t.path)]}}function WJ(n,t){const i={structuredQuery:{}},c=t.path;t.collectionGroup!==null?(i.parent=lw(n,c),i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i.parent=lw(n,c.popLast()),i.structuredQuery.from=[{collectionId:c.lastSegment()}]);const d=function(m){if(m.length!==0)return BB(mi.create(m,"and"))}(t.filters);d&&(i.structuredQuery.where=d);const h=function(m){if(m.length!==0)return m.map(v=>function(C){return{field:Za(C.field),direction:KJ(C.dir)}}(v))}(t.orderBy);h&&(i.structuredQuery.orderBy=h);const f=aw(n,t.limit);var b;return f!==null&&(i.structuredQuery.limit=f),t.startAt&&(i.structuredQuery.startAt={before:(b=t.startAt).inclusive,values:b.position}),t.endAt&&(i.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(t.endAt)),i}function qJ(n){let t=FJ(n.parent);const i=n.structuredQuery,c=i.from?i.from.length:0;let d=null;if(c>0){Qt(c===1);const C=i.from[0];C.allDescendants?d=C.collectionId:t=t.child(C.collectionId)}let h=[];i.where&&(h=function(C){const y=RB(C);return y instanceof mi&&lB(y)?y.getFilters():[y]}(i.where));let f=[];i.orderBy&&(f=i.orderBy.map(C=>function(y){return new ac(Ja(y.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(C)));let b=null;i.limit&&(b=function(C){let y;return y=typeof C=="object"?C.value:C,ug(y)?null:y}(i.limit));let m=null;i.startAt&&(m=function(C){const y=!!C.before,_=C.values||[];return new vf(_,y)}(i.startAt));let v=null;return i.endAt&&(v=function(C){const y=!C.before,_=C.values||[];return new vf(_,y)}(i.endAt)),uJ(t,d,f,h,b,"F",m,v)}function GJ(n,t){const i=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function RB(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Ja(t.unaryFilter.field);return vn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const c=Ja(t.unaryFilter.field);return vn.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=Ja(t.unaryFilter.field);return vn.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ja(t.unaryFilter.field);return vn.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ge()}}(n):n.fieldFilter!==void 0?function(t){return vn.create(Ja(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ge()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return mi.create(t.compositeFilter.filters.map(i=>RB(i)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ge()}}(t.compositeFilter.op))}(n):Ge()}function KJ(n){return NJ[n]}function YJ(n){return OJ[n]}function QJ(n){return LJ[n]}function Za(n){return{fieldPath:n.canonicalString()}}function Ja(n){return Kn.fromServerFormat(n.fieldPath)}function BB(n){return n instanceof vn?function(t){if(t.op==="=="){if(c5(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NAN"}};if(a5(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(c5(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NOT_NAN"}};if(a5(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(t.field),op:YJ(t.op),value:t.value}}}(n):n instanceof mi?function(t){const i=t.getFilters().map(c=>BB(c));return i.length===1?i[0]:{compositeFilter:{op:QJ(t.op),filters:i}}}(n):Ge()}function ZJ(n){const t=[];return n.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function NB(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(t,i,c,d,h=Xe.min(),f=Xe.min(),b=eo.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=i,this.purpose=c,this.sequenceNumber=d,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=b,this.expectedCount=m}withSequenceNumber(t){return new Vr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JJ{constructor(t){this.fe=t}}function XJ(n){const t=qJ({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?rw(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(){this.rn=new tX}addToCollectionParentIndex(t,i){return this.rn.add(i),fe.resolve()}getCollectionParents(t,i){return fe.resolve(this.rn.getEntries(i))}addFieldIndex(t,i){return fe.resolve()}deleteFieldIndex(t,i){return fe.resolve()}getDocumentsMatchingTarget(t,i){return fe.resolve(null)}getIndexType(t,i){return fe.resolve(0)}getFieldIndexes(t,i){return fe.resolve([])}getNextCollectionGroupToUpdate(t){return fe.resolve(null)}getMinOffset(t,i){return fe.resolve(Gr.min())}getMinOffsetFromCollectionGroup(t,i){return fe.resolve(Gr.min())}updateCollectionGroup(t,i,c){return fe.resolve()}updateIndexEntries(t,i){return fe.resolve()}}class tX{constructor(){this.index={}}add(t){const i=t.lastSegment(),c=t.popLast(),d=this.index[i]||new Zn(Yt.comparator),h=!d.has(c);return this.index[i]=d.add(c),h}has(t){const i=t.lastSegment(),c=t.popLast(),d=this.index[i];return d&&d.has(c)}getEntries(t){return(this.index[t]||new Zn(Yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new vc(0)}static Mn(){return new vc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nX{constructor(){this.changes=new zc(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Gn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const c=this.changes.get(i);return c!==void 0?fe.resolve(c):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oX{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{constructor(t,i,c,d){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=c,this.indexManager=d}getDocument(t,i){let c=null;return this.documentOverlayCache.getOverlay(t,i).next(d=>(c=d,this.remoteDocumentCache.getEntry(t,i))).next(d=>(c!==null&&gd(c.mutation,d,So.empty(),En.now()),d))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(c=>this.getLocalViewOfDocuments(t,c,ht()).next(()=>c))}getLocalViewOfDocuments(t,i,c=ht()){const d=Os();return this.populateOverlays(t,d,i).next(()=>this.computeViews(t,i,d,c).next(h=>{let f=sd();return h.forEach((b,m)=>{f=f.insert(b,m.overlayedDocument)}),f}))}getOverlayedDocuments(t,i){const c=Os();return this.populateOverlays(t,c,i).next(()=>this.computeViews(t,i,c,ht()))}populateOverlays(t,i,c){const d=[];return c.forEach(h=>{i.has(h)||d.push(h)}),this.documentOverlayCache.getOverlays(t,d).next(h=>{h.forEach((f,b)=>{i.set(f,b)})})}computeViews(t,i,c,d){let h=gr();const f=fd(),b=fd();return i.forEach((m,v)=>{const C=c.get(v.key);d.has(v.key)&&(C===void 0||C.mutation instanceof ts)?h=h.insert(v.key,v):C!==void 0?(f.set(v.key,C.mutation.getFieldMask()),gd(C.mutation,v,C.mutation.getFieldMask(),En.now())):f.set(v.key,So.empty())}),this.recalculateAndSaveOverlays(t,h).next(m=>(m.forEach((v,C)=>f.set(v,C)),i.forEach((v,C)=>{var y;return b.set(v,new oX(C,(y=f.get(v))!==null&&y!==void 0?y:null))}),b))}recalculateAndSaveOverlays(t,i){const c=fd();let d=new tn((f,b)=>f-b),h=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(f=>{for(const b of f)b.keys().forEach(m=>{const v=i.get(m);if(v===null)return;let C=c.get(m)||So.empty();C=b.applyToLocalView(v,C),c.set(m,C);const y=(d.get(b.batchId)||ht()).add(m);d=d.insert(b.batchId,y)})}).next(()=>{const f=[],b=d.getReverseIterator();for(;b.hasNext();){const m=b.getNext(),v=m.key,C=m.value,y=kB();C.forEach(_=>{if(!h.has(_)){const x=xB(i.get(_),c.get(_));x!==null&&y.set(_,x),h=h.add(_)}}),f.push(this.documentOverlayCache.saveOverlays(t,v,y))}return fe.waitFor(f)}).next(()=>c)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(c=>this.recalculateAndSaveOverlays(t,c))}getDocumentsMatchingQuery(t,i,c){return function(d){return Re.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):pB(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,c):this.getDocumentsMatchingCollectionQuery(t,i,c)}getNextDocuments(t,i,c,d){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,c,d).next(h=>{const f=d-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,c.largestBatchId,d-h.size):fe.resolve(Os());let b=-1,m=h;return f.next(v=>fe.forEach(v,(C,y)=>(b<y.largestBatchId&&(b=y.largestBatchId),h.get(C)?fe.resolve():this.remoteDocumentCache.getEntry(t,C).next(_=>{m=m.insert(C,_)}))).next(()=>this.populateOverlays(t,v,h)).next(()=>this.computeViews(t,m,v,ht())).next(C=>({batchId:b,changes:bB(C)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Re(i)).next(c=>{let d=sd();return c.isFoundDocument()&&(d=d.insert(c.key,c)),d})}getDocumentsMatchingCollectionGroupQuery(t,i,c){const d=i.collectionGroup;let h=sd();return this.indexManager.getCollectionParents(t,d).next(f=>fe.forEach(f,b=>{const m=function(v,C){return new jc(C,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(i,b.child(d));return this.getDocumentsMatchingCollectionQuery(t,m,c).next(v=>{v.forEach((C,y)=>{h=h.insert(C,y)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,i,c){let d;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,c.largestBatchId).next(h=>(d=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,c,d))).next(h=>{d.forEach((b,m)=>{const v=m.getKey();h.get(v)===null&&(h=h.insert(v,Gn.newInvalidDocument(v)))});let f=sd();return h.forEach((b,m)=>{const v=d.get(b);v!==void 0&&gd(v.mutation,m,So.empty(),En.now()),gg(i,m)&&(f=f.insert(b,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rX{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,i){return fe.resolve(this.cs.get(i))}saveBundleMetadata(t,i){var c;return this.cs.set(i.id,{id:(c=i).id,version:c.version,createTime:Ni(c.createTime)}),fe.resolve()}getNamedQuery(t,i){return fe.resolve(this.hs.get(i))}saveNamedQuery(t,i){return this.hs.set(i.name,function(c){return{name:c.name,query:XJ(c.bundledQuery),readTime:Ni(c.readTime)}}(i)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sX{constructor(){this.overlays=new tn(Re.comparator),this.ls=new Map}getOverlay(t,i){return fe.resolve(this.overlays.get(i))}getOverlays(t,i){const c=Os();return fe.forEach(i,d=>this.getOverlay(t,d).next(h=>{h!==null&&c.set(d,h)})).next(()=>c)}saveOverlays(t,i,c){return c.forEach((d,h)=>{this.we(t,i,h)}),fe.resolve()}removeOverlaysForBatchId(t,i,c){const d=this.ls.get(c);return d!==void 0&&(d.forEach(h=>this.overlays=this.overlays.remove(h)),this.ls.delete(c)),fe.resolve()}getOverlaysForCollection(t,i,c){const d=Os(),h=i.length+1,f=new Re(i.child("")),b=this.overlays.getIteratorFrom(f);for(;b.hasNext();){const m=b.getNext().value,v=m.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&m.largestBatchId>c&&d.set(m.getKey(),m)}return fe.resolve(d)}getOverlaysForCollectionGroup(t,i,c,d){let h=new tn((v,C)=>v-C);const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>c){let C=h.get(v.largestBatchId);C===null&&(C=Os(),h=h.insert(v.largestBatchId,C)),C.set(v.getKey(),v)}}const b=Os(),m=h.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,C)=>b.set(v,C)),!(b.size()>=d)););return fe.resolve(b)}we(t,i,c){const d=this.overlays.get(c.key);if(d!==null){const f=this.ls.get(d.largestBatchId).delete(c.key);this.ls.set(d.largestBatchId,f)}this.overlays=this.overlays.insert(c.key,new SJ(i,c));let h=this.ls.get(i);h===void 0&&(h=ht(),this.ls.set(i,h)),this.ls.set(i,h.add(c.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(){this.fs=new Zn(Pn.ds),this.ws=new Zn(Pn._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,i){const c=new Pn(t,i);this.fs=this.fs.add(c),this.ws=this.ws.add(c)}gs(t,i){t.forEach(c=>this.addReference(c,i))}removeReference(t,i){this.ys(new Pn(t,i))}ps(t,i){t.forEach(c=>this.removeReference(c,i))}Is(t){const i=new Re(new Yt([])),c=new Pn(i,t),d=new Pn(i,t+1),h=[];return this.ws.forEachInRange([c,d],f=>{this.ys(f),h.push(f.key)}),h}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const i=new Re(new Yt([])),c=new Pn(i,t),d=new Pn(i,t+1);let h=ht();return this.ws.forEachInRange([c,d],f=>{h=h.add(f.key)}),h}containsKey(t){const i=new Pn(t,0),c=this.fs.firstAfterOrEqual(i);return c!==null&&t.isEqual(c.key)}}class Pn{constructor(t,i){this.key=t,this.As=i}static ds(t,i){return Re.comparator(t.key,i.key)||It(t.As,i.As)}static _s(t,i){return It(t.As,i.As)||Re.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aX{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.vs=1,this.Rs=new Zn(Pn.ds)}checkEmpty(t){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,c,d){const h=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new IJ(h,i,c,d);this.mutationQueue.push(f);for(const b of d)this.Rs=this.Rs.add(new Pn(b.key,h)),this.indexManager.addToCollectionParentIndex(t,b.key.path.popLast());return fe.resolve(f)}lookupMutationBatch(t,i){return fe.resolve(this.Ps(i))}getNextMutationBatchAfterBatchId(t,i){const c=i+1,d=this.bs(c),h=d<0?0:d;return fe.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(t){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const c=new Pn(i,0),d=new Pn(i,Number.POSITIVE_INFINITY),h=[];return this.Rs.forEachInRange([c,d],f=>{const b=this.Ps(f.As);h.push(b)}),fe.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let c=new Zn(It);return i.forEach(d=>{const h=new Pn(d,0),f=new Pn(d,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([h,f],b=>{c=c.add(b.As)})}),fe.resolve(this.Vs(c))}getAllMutationBatchesAffectingQuery(t,i){const c=i.path,d=c.length+1;let h=c;Re.isDocumentKey(h)||(h=h.child(""));const f=new Pn(new Re(h),0);let b=new Zn(It);return this.Rs.forEachWhile(m=>{const v=m.key.path;return!!c.isPrefixOf(v)&&(v.length===d&&(b=b.add(m.As)),!0)},f),fe.resolve(this.Vs(b))}Vs(t){const i=[];return t.forEach(c=>{const d=this.Ps(c);d!==null&&i.push(d)}),i}removeMutationBatch(t,i){Qt(this.Ss(i.batchId,"removed")===0),this.mutationQueue.shift();let c=this.Rs;return fe.forEach(i.mutations,d=>{const h=new Pn(d.key,i.batchId);return c=c.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,d.key)}).next(()=>{this.Rs=c})}Cn(t){}containsKey(t,i){const c=new Pn(i,0),d=this.Rs.firstAfterOrEqual(c);return fe.resolve(i.isEqual(d&&d.key))}performConsistencyCheck(t){return this.mutationQueue.length,fe.resolve()}Ss(t,i){return this.bs(t)}bs(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Ps(t){const i=this.bs(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{constructor(t){this.Ds=t,this.docs=new tn(Re.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const c=i.key,d=this.docs.get(c),h=d?d.size:0,f=this.Ds(i);return this.docs=this.docs.insert(c,{document:i.mutableCopy(),size:f}),this.size+=f-h,this.indexManager.addToCollectionParentIndex(t,c.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const c=this.docs.get(i);return fe.resolve(c?c.document.mutableCopy():Gn.newInvalidDocument(i))}getEntries(t,i){let c=gr();return i.forEach(d=>{const h=this.docs.get(d);c=c.insert(d,h?h.document.mutableCopy():Gn.newInvalidDocument(d))}),fe.resolve(c)}getDocumentsMatchingQuery(t,i,c,d){let h=gr();const f=i.path,b=new Re(f.child("")),m=this.docs.getIteratorFrom(b);for(;m.hasNext();){const{key:v,value:{document:C}}=m.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||KZ(GZ(C),c)<=0||(d.has(C.key)||gg(i,C))&&(h=h.insert(C.key,C.mutableCopy()))}return fe.resolve(h)}getAllFromCollectionGroup(t,i,c,d){Ge()}Cs(t,i){return fe.forEach(this.docs,c=>i(c))}newChangeBuffer(t){return new lX(this)}getSize(t){return fe.resolve(this.size)}}class lX extends nX{constructor(t){super(),this.os=t}applyChanges(t){const i=[];return this.changes.forEach((c,d)=>{d.isValidDocument()?i.push(this.os.addEntry(t,d)):this.os.removeEntry(c)}),fe.waitFor(i)}getFromCache(t,i){return this.os.getEntry(t,i)}getAllFromCache(t,i){return this.os.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dX{constructor(t){this.persistence=t,this.xs=new zc(i=>yv(i),xv),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Pv,this.targetCount=0,this.Ms=vc.kn()}forEachTarget(t,i){return this.xs.forEach((c,d)=>i(d)),fe.resolve()}getLastRemoteSnapshotVersion(t){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return fe.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(t,i,c){return c&&(this.lastRemoteSnapshotVersion=c),i>this.Ns&&(this.Ns=i),fe.resolve()}Fn(t){this.xs.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Ms=new vc(i),this.highestTargetId=i),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,i){return this.Fn(i),this.targetCount+=1,fe.resolve()}updateTargetData(t,i){return this.Fn(i),fe.resolve()}removeTargetData(t,i){return this.xs.delete(i.target),this.ks.Is(i.targetId),this.targetCount-=1,fe.resolve()}removeTargets(t,i,c){let d=0;const h=[];return this.xs.forEach((f,b)=>{b.sequenceNumber<=i&&c.get(b.targetId)===null&&(this.xs.delete(f),h.push(this.removeMatchingKeysForTargetId(t,b.targetId)),d++)}),fe.waitFor(h).next(()=>d)}getTargetCount(t){return fe.resolve(this.targetCount)}getTargetData(t,i){const c=this.xs.get(i)||null;return fe.resolve(c)}addMatchingKeys(t,i,c){return this.ks.gs(i,c),fe.resolve()}removeMatchingKeys(t,i,c){this.ks.ps(i,c);const d=this.persistence.referenceDelegate,h=[];return d&&i.forEach(f=>{h.push(d.markPotentiallyOrphaned(t,f))}),fe.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this.ks.Is(i),fe.resolve()}getMatchingKeysForTargetId(t,i){const c=this.ks.Es(i);return fe.resolve(c)}containsKey(t,i){return fe.resolve(this.ks.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{constructor(t,i){this.$s={},this.overlays={},this.Os=new vv(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new dX(this),this.indexManager=new eX,this.remoteDocumentCache=function(c){return new cX(c)}(c=>this.referenceDelegate.Ls(c)),this.serializer=new JJ(i),this.qs=new rX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new sX,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let c=this.$s[t.toKey()];return c||(c=new aX(i,this.referenceDelegate),this.$s[t.toKey()]=c),c}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,i,c){Ie("MemoryPersistence","Starting transaction:",t);const d=new hX(this.Os.next());return this.referenceDelegate.Us(),c(d).next(h=>this.referenceDelegate.Ks(d).next(()=>h)).toPromise().then(h=>(d.raiseOnCommittedEvent(),h))}Gs(t,i){return fe.or(Object.values(this.$s).map(c=>()=>c.containsKey(t,i)))}}class hX extends QZ{constructor(t){super(),this.currentSequenceNumber=t}}class Rv{constructor(t){this.persistence=t,this.Qs=new Pv,this.js=null}static zs(t){return new Rv(t)}get Ws(){if(this.js)return this.js;throw Ge()}addReference(t,i,c){return this.Qs.addReference(c,i),this.Ws.delete(c.toString()),fe.resolve()}removeReference(t,i,c){return this.Qs.removeReference(c,i),this.Ws.add(c.toString()),fe.resolve()}markPotentiallyOrphaned(t,i){return this.Ws.add(i.toString()),fe.resolve()}removeTarget(t,i){this.Qs.Is(i.targetId).forEach(d=>this.Ws.add(d.toString()));const c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(t,i.targetId).next(d=>{d.forEach(h=>this.Ws.add(h.toString()))}).next(()=>c.removeTargetData(t,i))}Us(){this.js=new Set}Ks(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Ws,c=>{const d=Re.fromPath(c);return this.Hs(t,d).next(h=>{h||i.removeEntry(d,Xe.min())})}).next(()=>(this.js=null,i.apply(t)))}updateLimboDocument(t,i){return this.Hs(t,i).next(c=>{c?this.Ws.delete(i.toString()):this.Ws.add(i.toString())})}Ls(t){return 0}Hs(t,i){return fe.or([()=>fe.resolve(this.Qs.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Gs(t,i)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(t,i,c,d){this.targetId=t,this.fromCache=i,this.Fi=c,this.Bi=d}static Li(t,i){let c=ht(),d=ht();for(const h of i.docChanges)switch(h.type){case 0:c=c.add(h.doc.key);break;case 1:d=d.add(h.doc.key)}return new Bv(t,i.fromCache,c,d)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pX{constructor(){this.qi=!1}initialize(t,i){this.Ui=t,this.indexManager=i,this.qi=!0}getDocumentsMatchingQuery(t,i,c,d){return this.Ki(t,i).next(h=>h||this.Gi(t,i,d,c)).next(h=>h||this.Qi(t,i))}Ki(t,i){if(h5(i))return fe.resolve(null);let c=fr(i);return this.indexManager.getIndexType(t,c).next(d=>d===0?null:(i.limit!==null&&d===1&&(i=rw(i,null,"F"),c=fr(i)),this.indexManager.getDocumentsMatchingTarget(t,c).next(h=>{const f=ht(...h);return this.Ui.getDocuments(t,f).next(b=>this.indexManager.getMinOffset(t,c).next(m=>{const v=this.ji(i,b);return this.zi(i,v,f,m.readTime)?this.Ki(t,rw(i,null,"F")):this.Wi(t,v,i,m)}))})))}Gi(t,i,c,d){return h5(i)||d.isEqual(Xe.min())?this.Qi(t,i):this.Ui.getDocuments(t,c).next(h=>{const f=this.ji(i,h);return this.zi(i,f,c,d)?this.Qi(t,i):(n5()<=At.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),sw(i)),this.Wi(t,f,i,qZ(d,-1)))})}ji(t,i){let c=new Zn(gB(t));return i.forEach((d,h)=>{gg(t,h)&&(c=c.add(h))}),c}zi(t,i,c,d){if(t.limit===null)return!1;if(c.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(d)>0)}Qi(t,i){return n5()<=At.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",sw(i)),this.Ui.getDocumentsMatchingQuery(t,i,Gr.min())}Wi(t,i,c,d){return this.Ui.getDocumentsMatchingQuery(t,c,d).next(h=>(i.forEach(f=>{h=h.insert(f.key,f)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fX{constructor(t,i,c,d){this.persistence=t,this.Hi=i,this.serializer=d,this.Ji=new tn(It),this.Yi=new zc(h=>yv(h),xv),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(c)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new iX(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ji))}}function gX(n,t,i,c){return new fX(n,t,i,c)}async function OB(n,t){const i=rt(n);return await i.persistence.runTransaction("Handle user change","readonly",c=>{let d;return i.mutationQueue.getAllMutationBatches(c).next(h=>(d=h,i.tr(t),i.mutationQueue.getAllMutationBatches(c))).next(h=>{const f=[],b=[];let m=ht();for(const v of d){f.push(v.batchId);for(const C of v.mutations)m=m.add(C.key)}for(const v of h){b.push(v.batchId);for(const C of v.mutations)m=m.add(C.key)}return i.localDocuments.getDocuments(c,m).next(v=>({er:v,removedBatchIds:f,addedBatchIds:b}))})})}function mX(n,t){const i=rt(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",c=>{const d=t.batch.keys(),h=i.Zi.newChangeBuffer({trackRemovals:!0});return function(f,b,m,v){const C=m.batch,y=C.keys();let _=fe.resolve();return y.forEach(x=>{_=_.next(()=>v.getEntry(b,x)).next(I=>{const S=m.docVersions.get(x);Qt(S!==null),I.version.compareTo(S)<0&&(C.applyToRemoteDocument(I,m),I.isValidDocument()&&(I.setReadTime(m.commitVersion),v.addEntry(I)))})}),_.next(()=>f.mutationQueue.removeMutationBatch(b,C))}(i,c,t,h).next(()=>h.apply(c)).next(()=>i.mutationQueue.performConsistencyCheck(c)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(c,d,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,function(f){let b=ht();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(b=b.add(f.batch.mutations[m].key));return b}(t))).next(()=>i.localDocuments.getDocuments(c,d))})}function LB(n){const t=rt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Bs.getLastRemoteSnapshotVersion(i))}function bX(n,t){const i=rt(n),c=t.snapshotVersion;let d=i.Ji;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const f=i.Zi.newChangeBuffer({trackRemovals:!0});d=i.Ji;const b=[];t.targetChanges.forEach((C,y)=>{const _=d.get(y);if(!_)return;b.push(i.Bs.removeMatchingKeys(h,C.removedDocuments,y).next(()=>i.Bs.addMatchingKeys(h,C.addedDocuments,y)));let x=_.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(y)!==null?x=x.withResumeToken(eo.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):C.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(C.resumeToken,c)),d=d.insert(y,x),function(I,S,M){return I.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(_,x,C)&&b.push(i.Bs.updateTargetData(h,x))});let m=gr(),v=ht();if(t.documentUpdates.forEach(C=>{t.resolvedLimboDocuments.has(C)&&b.push(i.persistence.referenceDelegate.updateLimboDocument(h,C))}),b.push(kX(h,f,t.documentUpdates).next(C=>{m=C.nr,v=C.sr})),!c.isEqual(Xe.min())){const C=i.Bs.getLastRemoteSnapshotVersion(h).next(y=>i.Bs.setTargetsMetadata(h,h.currentSequenceNumber,c));b.push(C)}return fe.waitFor(b).next(()=>f.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,m,v)).next(()=>m)}).then(h=>(i.Ji=d,h))}function kX(n,t,i){let c=ht(),d=ht();return i.forEach(h=>c=c.add(h)),t.getEntries(n,c).next(h=>{let f=gr();return i.forEach((b,m)=>{const v=h.get(b);m.isFoundDocument()!==v.isFoundDocument()&&(d=d.add(b)),m.isNoDocument()&&m.version.isEqual(Xe.min())?(t.removeEntry(b,m.readTime),f=f.insert(b,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||m.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(m),f=f.insert(b,m)):Ie("LocalStore","Ignoring outdated watch update for ",b,". Current version:",v.version," Watch version:",m.version)}),{nr:f,sr:d}})}function wX(n,t){const i=rt(n);return i.persistence.runTransaction("Get next mutation batch","readonly",c=>(t===void 0&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(c,t)))}function vX(n,t){const i=rt(n);return i.persistence.runTransaction("Allocate target","readwrite",c=>{let d;return i.Bs.getTargetData(c,t).next(h=>h?(d=h,fe.resolve(d)):i.Bs.allocateTargetId(c).next(f=>(d=new Vr(t,f,"TargetPurposeListen",c.currentSequenceNumber),i.Bs.addTargetData(c,d).next(()=>d))))}).then(c=>{const d=i.Ji.get(c.targetId);return(d===null||c.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(i.Ji=i.Ji.insert(c.targetId,c),i.Yi.set(t,c.targetId)),c})}async function uw(n,t,i){const c=rt(n),d=c.Ji.get(t),h=i?"readwrite":"readwrite-primary";try{i||await c.persistence.runTransaction("Release target",h,f=>c.persistence.referenceDelegate.removeTarget(f,d))}catch(f){if(!_u(f))throw f;Ie("LocalStore",`Failed to update sequence numbers for target ${t}: ${f}`)}c.Ji=c.Ji.remove(t),c.Yi.delete(d.target)}function A5(n,t,i){const c=rt(n);let d=Xe.min(),h=ht();return c.persistence.runTransaction("Execute query","readonly",f=>function(b,m,v){const C=rt(b),y=C.Yi.get(v);return y!==void 0?fe.resolve(C.Ji.get(y)):C.Bs.getTargetData(m,v)}(c,f,fr(t)).next(b=>{if(b)return d=b.lastLimboFreeSnapshotVersion,c.Bs.getMatchingKeysForTargetId(f,b.targetId).next(m=>{h=m})}).next(()=>c.Hi.getDocumentsMatchingQuery(f,t,i?d:Xe.min(),i?h:ht())).next(b=>(_X(c,hJ(t),b),{documents:b,ir:h})))}function _X(n,t,i){let c=n.Xi.get(t)||Xe.min();i.forEach((d,h)=>{h.readTime.compareTo(c)>0&&(c=h.readTime)}),n.Xi.set(t,c)}class y5{constructor(){this.activeTargetIds=kJ()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class CX{constructor(){this.Hr=new y5,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,c){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,i,c){this.Jr[t]=i}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new y5,Promise.resolve()}handleUserChange(t,i,c){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AX{Yr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){Ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xp=null;function c0(){return xp===null?xp=268435456+Math.round(2147483648*Math.random()):xp++,"0x"+xp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xX{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn="WebChannelConnection";class EX extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http";this.mo=i+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,i,c,d,h){const f=c0(),b=this.To(t,i);Ie("RestConnection",`Sending RPC '${t}' ${f}:`,b,c);const m={};return this.Eo(m,d,h),this.Ao(t,b,m,c).then(v=>(Ie("RestConnection",`Received RPC '${t}' ${f}: `,v),v),v=>{throw mc("RestConnection",`RPC '${t}' ${f} failed with error: `,v,"url: ",b,"request:",c),v})}vo(t,i,c,d,h,f){return this.Io(t,i,c,d,h)}Eo(t,i,c){t["X-Goog-Api-Client"]="gl-js/ fire/"+Lc,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((d,h)=>t[h]=d),c&&c.headers.forEach((d,h)=>t[h]=d)}To(t,i){const c=yX[t];return`${this.mo}/v1/${i}:${c}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,i,c,d){const h=c0();return new Promise((f,b)=>{const m=new NZ;m.setWithCredentials(!0),m.listenOnce(PZ.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case s0.NO_ERROR:const C=m.getResponseJson();Ie(Hn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(C)),f(C);break;case s0.TIMEOUT:Ie(Hn,`RPC '${t}' ${h} timed out`),b(new xe(le.DEADLINE_EXCEEDED,"Request time out"));break;case s0.HTTP_ERROR:const y=m.getStatus();if(Ie(Hn,`RPC '${t}' ${h} failed with status:`,y,"response text:",m.getResponseText()),y>0){let _=m.getResponseJson();Array.isArray(_)&&(_=_[0]);const x=_==null?void 0:_.error;if(x&&x.status&&x.message){const I=function(S){const M=S.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(M)>=0?M:le.UNKNOWN}(x.status);b(new xe(I,x.message))}else b(new xe(le.UNKNOWN,"Server responded with status "+m.getStatus()))}else b(new xe(le.UNAVAILABLE,"Connection failed."));break;default:Ge()}}finally{Ie(Hn,`RPC '${t}' ${h} completed.`)}});const v=JSON.stringify(d);Ie(Hn,`RPC '${t}' ${h} sending request:`,d),m.send(i,"POST",v,c,15)})}Ro(t,i,c){const d=c0(),h=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=DZ(),b=MZ(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.xmlHttpFactory=new BZ({})),this.Eo(m.initMessageHeaders,i,c),m.encodeInitMessageHeaders=!0;const C=h.join("");Ie(Hn,`Creating RPC '${t}' stream ${d}: ${C}`,m);const y=f.createWebChannel(C,m);let _=!1,x=!1;const I=new xX({ro:M=>{x?Ie(Hn,`Not sending because RPC '${t}' stream ${d} is closed:`,M):(_||(Ie(Hn,`Opening RPC '${t}' stream ${d} transport.`),y.open(),_=!0),Ie(Hn,`RPC '${t}' stream ${d} sending:`,M),y.send(M))},oo:()=>y.close()}),S=(M,N,j)=>{M.listen(N,L=>{try{j(L)}catch(V){setTimeout(()=>{throw V},0)}})};return S(y,_p.EventType.OPEN,()=>{x||Ie(Hn,`RPC '${t}' stream ${d} transport opened.`)}),S(y,_p.EventType.CLOSE,()=>{x||(x=!0,Ie(Hn,`RPC '${t}' stream ${d} transport closed`),I.wo())}),S(y,_p.EventType.ERROR,M=>{x||(x=!0,mc(Hn,`RPC '${t}' stream ${d} transport errored:`,M),I.wo(new xe(le.UNAVAILABLE,"The operation could not be completed")))}),S(y,_p.EventType.MESSAGE,M=>{var N;if(!x){const j=M.data[0];Qt(!!j);const L=j,V=L.error||((N=L[0])===null||N===void 0?void 0:N.error);if(V){Ie(Hn,`RPC '${t}' stream ${d} received error:`,V);const H=V.status;let W=function(U){const G=bn[U];if(G!==void 0)return TB(G)}(H),P=V.message;W===void 0&&(W=le.INTERNAL,P="Unknown error status: "+H+" with message "+V.message),x=!0,I.wo(new xe(W,P)),y.close()}else Ie(Hn,`RPC '${t}' stream ${d} received:`,j),I._o(j)}}),S(b,RZ.STAT_EVENT,M=>{M.stat===e5.PROXY?Ie(Hn,`RPC '${t}' stream ${d} detected buffering proxy`):M.stat===e5.NOPROXY&&Ie(Hn,`RPC '${t}' stream ${d} detected no buffering proxy`)}),setTimeout(()=>{I.fo()},0),I}}function l0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(n){return new jJ(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(t,i,c=1e3,d=1.5,h=6e4){this.ii=t,this.timerId=i,this.Po=c,this.bo=d,this.Vo=h,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const i=Math.floor(this.So+this.ko()),c=Math.max(0,Date.now()-this.Co),d=Math.max(0,i-c);d>0&&Ie("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.So} ms, delay with jitter: ${i} ms, last attempt: ${c} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,d,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(t,i,c,d,h,f,b,m){this.ii=t,this.$o=c,this.Oo=d,this.connection=h,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=b,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new jB(t,i)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(t,i){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,t!==4?this.qo.reset():i&&i.code===le.RESOURCE_EXHAUSTED?(pr(i.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):i&&i.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.ao(i)}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),i=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([c,d])=>{this.Fo===i&&this.Zo(c,d)},c=>{t(()=>{const d=new xe(le.UNKNOWN,"Fetching auth token failed: "+c.message);return this.tu(d)})})}Zo(t,i){const c=this.Xo(this.Fo);this.stream=this.eu(t,i),this.stream.uo(()=>{c(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(d=>{c(()=>this.tu(d))}),this.stream.onMessage(d=>{c(()=>this.onMessage(d))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(t){return Ie("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return i=>{this.ii.enqueueAndForget(()=>this.Fo===t?i():(Ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TX extends zB{constructor(t,i,c,d,h,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,c,d,f),this.serializer=h}eu(t,i){return this.connection.Ro("Listen",t,i)}onMessage(t){this.qo.reset();const i=VJ(this.serializer,t),c=function(d){if(!("targetChange"in d))return Xe.min();const h=d.targetChange;return h.targetIds&&h.targetIds.length?Xe.min():h.readTime?Ni(h.readTime):Xe.min()}(t);return this.listener.nu(i,c)}su(t){const i={};i.database=dw(this.serializer),i.addTarget=function(d,h){let f;const b=h.target;if(f=ow(b)?{documents:HJ(d,b)}:{query:WJ(d,b)},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=DB(d,h.resumeToken);const m=aw(d,h.expectedCount);m!==null&&(f.expectedCount=m)}else if(h.snapshotVersion.compareTo(Xe.min())>0){f.readTime=Cf(d,h.snapshotVersion.toTimestamp());const m=aw(d,h.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,t);const c=GJ(this.serializer,t);c&&(i.labels=c),this.Wo(i)}iu(t){const i={};i.database=dw(this.serializer),i.removeTarget=t,this.Wo(i)}}class IX extends zB{constructor(t,i,c,d,h,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,c,d,f),this.serializer=h,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,i){return this.connection.Ro("Write",t,i)}onMessage(t){if(Qt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const i=UJ(t.writeResults,t.commitTime),c=Ni(t.commitTime);return this.listener.cu(c,i)}return Qt(!t.writeResults||t.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const t={};t.database=dw(this.serializer),this.Wo(t)}uu(t){const i={streamToken:this.lastStreamToken,writes:t.map(c=>$J(this.serializer,c))};this.Wo(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SX extends class{}{constructor(t,i,c,d){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=c,this.serializer=d,this.lu=!1}fu(){if(this.lu)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,i,c){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,h])=>this.connection.Io(t,i,c,d,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new xe(le.UNKNOWN,d.toString())})}vo(t,i,c,d){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.vo(t,i,c,h,f,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new xe(le.UNKNOWN,h.toString())})}terminate(){this.lu=!0}}class DX{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,t==="Online"&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(pr(i),this.mu=!1):Ie("OnlineStateTracker",i)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MX{constructor(t,i,c,d,h){this.localStore=t,this.datastore=i,this.asyncQueue=c,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=h,this.Pu.Yr(f=>{c.enqueueAndForget(async()=>{ia(this)&&(Ie("RemoteStore","Restarting streams for network reachability change."),await async function(b){const m=rt(b);m.vu.add(4),await yu(m),m.bu.set("Unknown"),m.vu.delete(4),await vg(m)}(this))})}),this.bu=new DX(c,d)}}async function vg(n){if(ia(n))for(const t of n.Ru)await t(!0)}async function yu(n){for(const t of n.Ru)await t(!1)}function FB(n,t){const i=rt(n);i.Au.has(t.targetId)||(i.Au.set(t.targetId,t),Lv(i)?Ov(i):Fc(i).Ko()&&Nv(i,t))}function VB(n,t){const i=rt(n),c=Fc(i);i.Au.delete(t),c.Ko()&&$B(i,t),i.Au.size===0&&(c.Ko()?c.jo():ia(i)&&i.bu.set("Unknown"))}function Nv(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Xe.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Fc(n).su(t)}function $B(n,t){n.Vu.qt(t),Fc(n).iu(t)}function Ov(n){n.Vu=new BJ({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),Fc(n).start(),n.bu.gu()}function Lv(n){return ia(n)&&!Fc(n).Uo()&&n.Au.size>0}function ia(n){return rt(n).vu.size===0}function UB(n){n.Vu=void 0}async function PX(n){n.Au.forEach((t,i)=>{Nv(n,t)})}async function RX(n,t){UB(n),Lv(n)?(n.bu.Iu(t),Ov(n)):n.bu.set("Unknown")}async function BX(n,t,i){if(n.bu.set("Online"),t instanceof SB&&t.state===2&&t.cause)try{await async function(c,d){const h=d.cause;for(const f of d.targetIds)c.Au.has(f)&&(await c.remoteSyncer.rejectListen(f,h),c.Au.delete(f),c.Vu.removeTarget(f))}(n,t)}catch(c){Ie("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),c),await Af(n,c)}else if(t instanceof Up?n.Vu.Ht(t):t instanceof IB?n.Vu.ne(t):n.Vu.Xt(t),!i.isEqual(Xe.min()))try{const c=await LB(n.localStore);i.compareTo(c)>=0&&await function(d,h){const f=d.Vu.ce(h);return f.targetChanges.forEach((b,m)=>{if(b.resumeToken.approximateByteSize()>0){const v=d.Au.get(m);v&&d.Au.set(m,v.withResumeToken(b.resumeToken,h))}}),f.targetMismatches.forEach((b,m)=>{const v=d.Au.get(b);if(!v)return;d.Au.set(b,v.withResumeToken(eo.EMPTY_BYTE_STRING,v.snapshotVersion)),$B(d,b);const C=new Vr(v.target,b,m,v.sequenceNumber);Nv(d,C)}),d.remoteSyncer.applyRemoteEvent(f)}(n,i)}catch(c){Ie("RemoteStore","Failed to raise snapshot:",c),await Af(n,c)}}async function Af(n,t,i){if(!_u(t))throw t;n.vu.add(1),await yu(n),n.bu.set("Offline"),i||(i=()=>LB(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ie("RemoteStore","Retrying IndexedDB access"),await i(),n.vu.delete(1),await vg(n)})}function HB(n,t){return t().catch(i=>Af(n,i,t))}async function _g(n){const t=rt(n),i=Yr(t);let c=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;NX(t);)try{const d=await wX(t.localStore,c);if(d===null){t.Eu.length===0&&i.jo();break}c=d.batchId,OX(t,d)}catch(d){await Af(t,d)}WB(t)&&qB(t)}function NX(n){return ia(n)&&n.Eu.length<10}function OX(n,t){n.Eu.push(t);const i=Yr(n);i.Ko()&&i.ou&&i.uu(t.mutations)}function WB(n){return ia(n)&&!Yr(n).Uo()&&n.Eu.length>0}function qB(n){Yr(n).start()}async function LX(n){Yr(n).hu()}async function jX(n){const t=Yr(n);for(const i of n.Eu)t.uu(i.mutations)}async function zX(n,t,i){const c=n.Eu.shift(),d=Iv.from(c,t,i);await HB(n,()=>n.remoteSyncer.applySuccessfulWrite(d)),await _g(n)}async function FX(n,t){t&&Yr(n).ou&&await async function(i,c){if(d=c.code,MJ(d)&&d!==le.ABORTED){const h=i.Eu.shift();Yr(i).Qo(),await HB(i,()=>i.remoteSyncer.rejectFailedWrite(h.batchId,c)),await _g(i)}var d}(n,t),WB(n)&&qB(n)}async function E5(n,t){const i=rt(n);i.asyncQueue.verifyOperationInProgress(),Ie("RemoteStore","RemoteStore received new credentials");const c=ia(i);i.vu.add(3),await yu(i),c&&i.bu.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.vu.delete(3),await vg(i)}async function VX(n,t){const i=rt(n);t?(i.vu.delete(2),await vg(i)):t||(i.vu.add(2),await yu(i),i.bu.set("Unknown"))}function Fc(n){return n.Su||(n.Su=function(t,i,c){const d=rt(t);return d.fu(),new TX(i,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,c)}(n.datastore,n.asyncQueue,{uo:PX.bind(null,n),ao:RX.bind(null,n),nu:BX.bind(null,n)}),n.Ru.push(async t=>{t?(n.Su.Qo(),Lv(n)?Ov(n):n.bu.set("Unknown")):(await n.Su.stop(),UB(n))})),n.Su}function Yr(n){return n.Du||(n.Du=function(t,i,c){const d=rt(t);return d.fu(),new IX(i,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,c)}(n.datastore,n.asyncQueue,{uo:LX.bind(null,n),ao:FX.bind(null,n),au:jX.bind(null,n),cu:zX.bind(null,n)}),n.Ru.push(async t=>{t?(n.Du.Qo(),await _g(n)):(await n.Du.stop(),n.Eu.length>0&&(Ie("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))})),n.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(t,i,c,d,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=c,this.op=d,this.removalCallback=h,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(t,i,c,d,h){const f=Date.now()+c,b=new jv(t,i,f,d,h);return b.start(c),b}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(le.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zv(n,t){if(pr("AsyncQueue",`${t}: ${n}`),_u(n))return new xe(le.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(t){this.comparator=t?(i,c)=>t(i,c)||Re.comparator(i.key,c.key):(i,c)=>Re.comparator(i.key,c.key),this.keyedMap=sd(),this.sortedSet=new tn(this.comparator)}static emptySet(t){return new lc(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,c)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof lc)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),c=t.sortedSet.getIterator();for(;i.hasNext();){const d=i.getNext().key,h=c.getNext().key;if(!d.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const c=new lc;return c.comparator=this.comparator,c.keyedMap=t,c.sortedSet=i,c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(){this.Cu=new tn(Re.comparator)}track(t){const i=t.doc.key,c=this.Cu.get(i);c?t.type!==0&&c.type===3?this.Cu=this.Cu.insert(i,t):t.type===3&&c.type!==1?this.Cu=this.Cu.insert(i,{type:c.type,doc:t.doc}):t.type===2&&c.type===2?this.Cu=this.Cu.insert(i,{type:2,doc:t.doc}):t.type===2&&c.type===0?this.Cu=this.Cu.insert(i,{type:0,doc:t.doc}):t.type===1&&c.type===0?this.Cu=this.Cu.remove(i):t.type===1&&c.type===2?this.Cu=this.Cu.insert(i,{type:1,doc:c.doc}):t.type===0&&c.type===1?this.Cu=this.Cu.insert(i,{type:2,doc:t.doc}):Ge():this.Cu=this.Cu.insert(i,t)}xu(){const t=[];return this.Cu.inorderTraversal((i,c)=>{t.push(c)}),t}}class _c{constructor(t,i,c,d,h,f,b,m,v){this.query=t,this.docs=i,this.oldDocs=c,this.docChanges=d,this.mutatedKeys=h,this.fromCache=f,this.syncStateChanged=b,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(t,i,c,d,h){const f=[];return i.forEach(b=>{f.push({type:0,doc:b})}),new _c(t,i,lc.emptySet(i),f,c,d,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,c=t.docChanges;if(i.length!==c.length)return!1;for(let d=0;d<i.length;d++)if(i[d].type!==c[d].type||!i[d].doc.isEqual(c[d].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $X{constructor(){this.Nu=void 0,this.listeners=[]}}class UX{constructor(){this.queries=new zc(t=>fB(t),fg),this.onlineState="Unknown",this.ku=new Set}}async function Fv(n,t){const i=rt(n),c=t.query;let d=!1,h=i.queries.get(c);if(h||(d=!0,h=new $X),d)try{h.Nu=await i.onListen(c)}catch(f){const b=zv(f,`Initialization of query '${sw(t.query)}' failed`);return void t.onError(b)}i.queries.set(c,h),h.listeners.push(t),t.Mu(i.onlineState),h.Nu&&t.$u(h.Nu)&&$v(i)}async function Vv(n,t){const i=rt(n),c=t.query;let d=!1;const h=i.queries.get(c);if(h){const f=h.listeners.indexOf(t);f>=0&&(h.listeners.splice(f,1),d=h.listeners.length===0)}if(d)return i.queries.delete(c),i.onUnlisten(c)}function HX(n,t){const i=rt(n);let c=!1;for(const d of t){const h=d.query,f=i.queries.get(h);if(f){for(const b of f.listeners)b.$u(d)&&(c=!0);f.Nu=d}}c&&$v(i)}function WX(n,t,i){const c=rt(n),d=c.queries.get(t);if(d)for(const h of d.listeners)h.onError(i);c.queries.delete(t)}function $v(n){n.ku.forEach(t=>{t.next()})}class Uv{constructor(t,i,c){this.query=t,this.Ou=i,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=c||{}}$u(t){if(!this.options.includeMetadataChanges){const c=[];for(const d of t.docChanges)d.type!==3&&c.push(d);t=new _c(t.query,t.docs,t.oldDocs,c,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),i=!0):this.qu(t,this.onlineState)&&(this.Uu(t),i=!0),this.Bu=t,i}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let i=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),i=!0),i}qu(t,i){if(!t.fromCache)return!0;const c=i!=="Offline";return(!this.options.Ku||!c)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Lu(t){if(t.docChanges.length>0)return!0;const i=this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Uu(t){t=_c.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(t){this.key=t}}class KB{constructor(t){this.key=t}}class qX{constructor(t,i){this.query=t,this.Yu=i,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ht(),this.mutatedKeys=ht(),this.tc=gB(t),this.ec=new lc(this.tc)}get nc(){return this.Yu}sc(t,i){const c=i?i.ic:new T5,d=i?i.ec:this.ec;let h=i?i.mutatedKeys:this.mutatedKeys,f=d,b=!1;const m=this.query.limitType==="F"&&d.size===this.query.limit?d.last():null,v=this.query.limitType==="L"&&d.size===this.query.limit?d.first():null;if(t.inorderTraversal((C,y)=>{const _=d.get(C),x=gg(this.query,y)?y:null,I=!!_&&this.mutatedKeys.has(_.key),S=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let M=!1;_&&x?_.data.isEqual(x.data)?I!==S&&(c.track({type:3,doc:x}),M=!0):this.rc(_,x)||(c.track({type:2,doc:x}),M=!0,(m&&this.tc(x,m)>0||v&&this.tc(x,v)<0)&&(b=!0)):!_&&x?(c.track({type:0,doc:x}),M=!0):_&&!x&&(c.track({type:1,doc:_}),M=!0,(m||v)&&(b=!0)),M&&(x?(f=f.add(x),h=S?h.add(C):h.delete(C)):(f=f.delete(C),h=h.delete(C)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const C=this.query.limitType==="F"?f.last():f.first();f=f.delete(C.key),h=h.delete(C.key),c.track({type:1,doc:C})}return{ec:f,ic:c,zi:b,mutatedKeys:h}}rc(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,c){const d=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const h=t.ic.xu();h.sort((v,C)=>function(y,_){const x=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge()}};return x(y)-x(_)}(v.type,C.type)||this.tc(v.doc,C.doc)),this.oc(c);const f=i?this.uc():[],b=this.Zu.size===0&&this.current?1:0,m=b!==this.Xu;return this.Xu=b,h.length!==0||m?{snapshot:new _c(this.query,t.ec,d,h,t.mutatedKeys,b===0,m,!1,!!c&&c.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new T5,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(i=>this.Yu=this.Yu.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Yu=this.Yu.delete(i)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=ht(),this.ec.forEach(c=>{this.ac(c.key)&&(this.Zu=this.Zu.add(c.key))});const i=[];return t.forEach(c=>{this.Zu.has(c)||i.push(new KB(c))}),this.Zu.forEach(c=>{t.has(c)||i.push(new GB(c))}),i}hc(t){this.Yu=t.ir,this.Zu=ht();const i=this.sc(t.documents);return this.applyChanges(i,!0)}lc(){return _c.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class GX{constructor(t,i,c){this.query=t,this.targetId=i,this.view=c}}class KX{constructor(t){this.key=t,this.fc=!1}}class YX{constructor(t,i,c,d,h,f){this.localStore=t,this.remoteStore=i,this.eventManager=c,this.sharedClientState=d,this.currentUser=h,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new zc(b=>fB(b),fg),this._c=new Map,this.mc=new Set,this.gc=new tn(Re.comparator),this.yc=new Map,this.Ic=new Pv,this.Tc={},this.Ec=new Map,this.Ac=vc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function QX(n,t){const i=see(n);let c,d;const h=i.wc.get(t);if(h)c=h.targetId,i.sharedClientState.addLocalQueryTarget(c),d=h.view.lc();else{const f=await vX(i.localStore,fr(t)),b=i.sharedClientState.addLocalQueryTarget(f.targetId);c=f.targetId,d=await ZX(i,t,c,b==="current",f.resumeToken),i.isPrimaryClient&&FB(i.remoteStore,f)}return d}async function ZX(n,t,i,c,d){n.Rc=(y,_,x)=>async function(I,S,M,N){let j=S.view.sc(M);j.zi&&(j=await A5(I.localStore,S.query,!1).then(({documents:H})=>S.view.sc(H,j)));const L=N&&N.targetChanges.get(S.targetId),V=S.view.applyChanges(j,I.isPrimaryClient,L);return S5(I,S.targetId,V.cc),V.snapshot}(n,y,_,x);const h=await A5(n.localStore,t,!0),f=new qX(t,h.ir),b=f.sc(h.documents),m=Au.createSynthesizedTargetChangeForCurrentChange(i,c&&n.onlineState!=="Offline",d),v=f.applyChanges(b,n.isPrimaryClient,m);S5(n,i,v.cc);const C=new GX(t,i,f);return n.wc.set(t,C),n._c.has(i)?n._c.get(i).push(t):n._c.set(i,[t]),v.snapshot}async function JX(n,t){const i=rt(n),c=i.wc.get(t),d=i._c.get(c.targetId);if(d.length>1)return i._c.set(c.targetId,d.filter(h=>!fg(h,t))),void i.wc.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(c.targetId),i.sharedClientState.isActiveQueryTarget(c.targetId)||await uw(i.localStore,c.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(c.targetId),VB(i.remoteStore,c.targetId),hw(i,c.targetId)}).catch(vu)):(hw(i,c.targetId),await uw(i.localStore,c.targetId,!0))}async function XX(n,t,i){const c=aee(n);try{const d=await function(h,f){const b=rt(h),m=En.now(),v=f.reduce((_,x)=>_.add(x.key),ht());let C,y;return b.persistence.runTransaction("Locally write mutations","readwrite",_=>{let x=gr(),I=ht();return b.Zi.getEntries(_,v).next(S=>{x=S,x.forEach((M,N)=>{N.isValidDocument()||(I=I.add(M))})}).next(()=>b.localDocuments.getOverlayedDocuments(_,x)).next(S=>{C=S;const M=[];for(const N of f){const j=EJ(N,C.get(N.key).overlayedDocument);j!=null&&M.push(new ts(N.key,j,sB(j.value.mapValue),Yo.exists(!0)))}return b.mutationQueue.addMutationBatch(_,m,M,f)}).next(S=>{y=S;const M=S.applyToLocalDocumentSet(C,I);return b.documentOverlayCache.saveOverlays(_,S.batchId,M)})}).then(()=>({batchId:y.batchId,changes:bB(C)}))}(c.localStore,t);c.sharedClientState.addPendingMutation(d.batchId),function(h,f,b){let m=h.Tc[h.currentUser.toKey()];m||(m=new tn(It)),m=m.insert(f,b),h.Tc[h.currentUser.toKey()]=m}(c,d.batchId,i),await xu(c,d.changes),await _g(c.remoteStore)}catch(d){const h=zv(d,"Failed to persist write");i.reject(h)}}async function YB(n,t){const i=rt(n);try{const c=await bX(i.localStore,t);t.targetChanges.forEach((d,h)=>{const f=i.yc.get(h);f&&(Qt(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?f.fc=!0:d.modifiedDocuments.size>0?Qt(f.fc):d.removedDocuments.size>0&&(Qt(f.fc),f.fc=!1))}),await xu(i,c,t)}catch(c){await vu(c)}}function I5(n,t,i){const c=rt(n);if(c.isPrimaryClient&&i===0||!c.isPrimaryClient&&i===1){const d=[];c.wc.forEach((h,f)=>{const b=f.view.Mu(t);b.snapshot&&d.push(b.snapshot)}),function(h,f){const b=rt(h);b.onlineState=f;let m=!1;b.queries.forEach((v,C)=>{for(const y of C.listeners)y.Mu(f)&&(m=!0)}),m&&$v(b)}(c.eventManager,t),d.length&&c.dc.nu(d),c.onlineState=t,c.isPrimaryClient&&c.sharedClientState.setOnlineState(t)}}async function eee(n,t,i){const c=rt(n);c.sharedClientState.updateQueryState(t,"rejected",i);const d=c.yc.get(t),h=d&&d.key;if(h){let f=new tn(Re.comparator);f=f.insert(h,Gn.newNoDocument(h,Xe.min()));const b=ht().add(h),m=new kg(Xe.min(),new Map,new tn(It),f,b);await YB(c,m),c.gc=c.gc.remove(h),c.yc.delete(t),Hv(c)}else await uw(c.localStore,t,!1).then(()=>hw(c,t,i)).catch(vu)}async function tee(n,t){const i=rt(n),c=t.batch.batchId;try{const d=await mX(i.localStore,t);ZB(i,c,null),QB(i,c),i.sharedClientState.updateMutationState(c,"acknowledged"),await xu(i,d)}catch(d){await vu(d)}}async function nee(n,t,i){const c=rt(n);try{const d=await function(h,f){const b=rt(h);return b.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return b.mutationQueue.lookupMutationBatch(m,f).next(C=>(Qt(C!==null),v=C.keys(),b.mutationQueue.removeMutationBatch(m,C))).next(()=>b.mutationQueue.performConsistencyCheck(m)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(m,v,f)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>b.localDocuments.getDocuments(m,v))})}(c.localStore,t);ZB(c,t,i),QB(c,t),c.sharedClientState.updateMutationState(t,"rejected",i),await xu(c,d)}catch(d){await vu(d)}}function QB(n,t){(n.Ec.get(t)||[]).forEach(i=>{i.resolve()}),n.Ec.delete(t)}function ZB(n,t,i){const c=rt(n);let d=c.Tc[c.currentUser.toKey()];if(d){const h=d.get(t);h&&(i?h.reject(i):h.resolve(),d=d.remove(t)),c.Tc[c.currentUser.toKey()]=d}}function hw(n,t,i=null){n.sharedClientState.removeLocalQueryTarget(t);for(const c of n._c.get(t))n.wc.delete(c),i&&n.dc.Pc(c,i);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(c=>{n.Ic.containsKey(c)||JB(n,c)})}function JB(n,t){n.mc.delete(t.path.canonicalString());const i=n.gc.get(t);i!==null&&(VB(n.remoteStore,i),n.gc=n.gc.remove(t),n.yc.delete(i),Hv(n))}function S5(n,t,i){for(const c of i)c instanceof GB?(n.Ic.addReference(c.key,t),oee(n,c)):c instanceof KB?(Ie("SyncEngine","Document no longer in limbo: "+c.key),n.Ic.removeReference(c.key,t),n.Ic.containsKey(c.key)||JB(n,c.key)):Ge()}function oee(n,t){const i=t.key,c=i.path.canonicalString();n.gc.get(i)||n.mc.has(c)||(Ie("SyncEngine","New document in limbo: "+i),n.mc.add(c),Hv(n))}function Hv(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const i=new Re(Yt.fromString(t)),c=n.Ac.next();n.yc.set(c,new KX(i)),n.gc=n.gc.insert(i,c),FB(n.remoteStore,new Vr(fr(hg(i.path)),c,"TargetPurposeLimboResolution",vv.ct))}}async function xu(n,t,i){const c=rt(n),d=[],h=[],f=[];c.wc.isEmpty()||(c.wc.forEach((b,m)=>{f.push(c.Rc(m,t,i).then(v=>{if((v||i)&&c.isPrimaryClient&&c.sharedClientState.updateQueryState(m.targetId,v!=null&&v.fromCache?"not-current":"current"),v){d.push(v);const C=Bv.Li(m.targetId,v);h.push(C)}}))}),await Promise.all(f),c.dc.nu(d),await async function(b,m){const v=rt(b);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>fe.forEach(m,y=>fe.forEach(y.Fi,_=>v.persistence.referenceDelegate.addReference(C,y.targetId,_)).next(()=>fe.forEach(y.Bi,_=>v.persistence.referenceDelegate.removeReference(C,y.targetId,_)))))}catch(C){if(!_u(C))throw C;Ie("LocalStore","Failed to update sequence numbers: "+C)}for(const C of m){const y=C.targetId;if(!C.fromCache){const _=v.Ji.get(y),x=_.snapshotVersion,I=_.withLastLimboFreeSnapshotVersion(x);v.Ji=v.Ji.insert(y,I)}}}(c.localStore,h))}async function iee(n,t){const i=rt(n);if(!i.currentUser.isEqual(t)){Ie("SyncEngine","User change. New user:",t.toKey());const c=await OB(i.localStore,t);i.currentUser=t,function(d,h){d.Ec.forEach(f=>{f.forEach(b=>{b.reject(new xe(le.CANCELLED,h))})}),d.Ec.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,c.removedBatchIds,c.addedBatchIds),await xu(i,c.er)}}function ree(n,t){const i=rt(n),c=i.yc.get(t);if(c&&c.fc)return ht().add(c.key);{let d=ht();const h=i._c.get(t);if(!h)return d;for(const f of h){const b=i.wc.get(f);d=d.unionWith(b.view.nc)}return d}}function see(n){const t=rt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=YB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ree.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=eee.bind(null,t),t.dc.nu=HX.bind(null,t.eventManager),t.dc.Pc=WX.bind(null,t.eventManager),t}function aee(n){const t=rt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tee.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=nee.bind(null,t),t}class D5{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=wg(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,i){return null}createIndexBackfillerScheduler(t,i){return null}createLocalStore(t){return gX(this.persistence,new pX,t.initialUser,this.serializer)}createPersistence(t){return new uX(Rv.zs,this.serializer)}createSharedClientState(t){return new CX}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class cee{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=c=>I5(this.syncEngine,c,1),this.remoteStore.remoteSyncer.handleCredentialChange=iee.bind(null,this.syncEngine),await VX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new UX}createDatastore(t){const i=wg(t.databaseInfo.databaseId),c=(d=t.databaseInfo,new EX(d));var d;return function(h,f,b,m){return new SX(h,f,b,m)}(t.authCredentials,t.appCheckCredentials,c,i)}createRemoteStore(t){return i=this.localStore,c=this.datastore,d=t.asyncQueue,h=b=>I5(this.syncEngine,b,0),f=x5.D()?new x5:new AX,new MX(i,c,d,h,f);var i,c,d,h,f}createSyncEngine(t,i){return function(c,d,h,f,b,m,v){const C=new YX(c,d,h,f,b,m);return v&&(C.vc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return async function(t){const i=rt(t);Ie("RemoteStore","RemoteStore shutting down."),i.vu.add(5),await yu(i),i.Pu.shutdown(),i.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):pr("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,i){this.muted||setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lee{constructor(t,i,c,d){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=c,this.databaseInfo=d,this.user=qn.UNAUTHENTICATED,this.clientId=oB.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(c,async h=>{Ie("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(c,h=>(Ie("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const c=zv(i,"Failed to shutdown persistence");t.reject(c)}}),t.promise}}async function d0(n,t){n.asyncQueue.verifyOperationInProgress(),Ie("FirestoreClient","Initializing OfflineComponentProvider");const i=await n.getConfiguration();await t.initialize(i);let c=i.initialUser;n.setCredentialChangeListener(async d=>{c.isEqual(d)||(await OB(t.localStore,d),c=d)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function M5(n,t){n.asyncQueue.verifyOperationInProgress();const i=await uee(n);Ie("FirestoreClient","Initializing OnlineComponentProvider");const c=await n.getConfiguration();await t.initialize(i,c),n.setCredentialChangeListener(d=>E5(t.remoteStore,d)),n.setAppCheckTokenChangeListener((d,h)=>E5(t.remoteStore,h)),n._onlineComponents=t}function dee(n){return n.name==="FirebaseError"?n.code===le.FAILED_PRECONDITION||n.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}async function uee(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await d0(n,n._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!dee(i))throw i;mc("Error using user provided cache. Falling back to memory cache: "+i),await d0(n,new D5)}}else Ie("FirestoreClient","Using default OfflineComponentProvider"),await d0(n,new D5);return n._offlineComponents}async function XB(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ie("FirestoreClient","Using user provided OnlineComponentProvider"),await M5(n,n._uninitializedComponentsProvider._online)):(Ie("FirestoreClient","Using default OnlineComponentProvider"),await M5(n,new cee))),n._onlineComponents}function hee(n){return XB(n).then(t=>t.syncEngine)}async function yf(n){const t=await XB(n),i=t.eventManager;return i.onListen=QX.bind(null,t.syncEngine),i.onUnlisten=JX.bind(null,t.syncEngine),i}function pee(n,t,i={}){const c=new lr;return n.asyncQueue.enqueueAndForget(async()=>function(d,h,f,b,m){const v=new Wv({next:y=>{h.enqueueAndForget(()=>Vv(d,C));const _=y.docs.has(f);!_&&y.fromCache?m.reject(new xe(le.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&y.fromCache&&b&&b.source==="server"?m.reject(new xe(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(y)},error:y=>m.reject(y)}),C=new Uv(hg(f.path),v,{includeMetadataChanges:!0,Ku:!0});return Fv(d,C)}(await yf(n),n.asyncQueue,t,i,c)),c.promise}function fee(n,t,i={}){const c=new lr;return n.asyncQueue.enqueueAndForget(async()=>function(d,h,f,b,m){const v=new Wv({next:y=>{h.enqueueAndForget(()=>Vv(d,C)),y.fromCache&&b.source==="server"?m.reject(new xe(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(y)},error:y=>m.reject(y)}),C=new Uv(f,v,{includeMetadataChanges:!0,Ku:!0});return Fv(d,C)}(await yf(n),n.asyncQueue,t,i,c)),c.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(n,t,i){if(!i)throw new xe(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function gee(n,t,i,c){if(t===!0&&c===!0)throw new xe(le.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function R5(n){if(!Re.isDocumentKey(n))throw new xe(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function B5(n){if(Re.isDocumentKey(n))throw new xe(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Cg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Ge()}function fo(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new xe(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Cg(n);throw new xe(le.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(t){var i,c;if(t.host===void 0){if(t.ssl!==void 0)throw new xe(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(i=t.ssl)===null||i===void 0||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new xe(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}gee("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eN((c=t.experimentalLongPollingOptions)!==null&&c!==void 0?c:{}),function(d){if(d.timeoutSeconds!==void 0){if(isNaN(d.timeoutSeconds))throw new xe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (must not be NaN)`);if(d.timeoutSeconds<5)throw new xe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (minimum allowed value is 5)`);if(d.timeoutSeconds>30)throw new xe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(i=this.experimentalLongPollingOptions,c=t.experimentalLongPollingOptions,i.timeoutSeconds===c.timeoutSeconds)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams;var i,c}}class Ag{constructor(t,i,c,d){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=c,this._app=d,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N5({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new xe(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new xe(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N5(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new LZ;switch(i.type){case"firstParty":return new VZ(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new xe(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=P5.get(t);i&&(Ie("ComponentProvider","Removing Datastore"),P5.delete(t),i.terminate())}(this),Promise.resolve()}}function mee(n,t,i,c={}){var d;const h=(n=fo(n,Ag))._getSettings(),f=`${t}:${i}`;if(h.host!=="firestore.googleapis.com"&&h.host!==f&&mc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},h),{host:f,ssl:!1})),c.mockUserToken){let b,m;if(typeof c.mockUserToken=="string")b=c.mockUserToken,m=qn.MOCK_USER;else{b=fP(c.mockUserToken,(d=n._app)===null||d===void 0?void 0:d.options.projectId);const v=c.mockUserToken.sub||c.mockUserToken.user_id;if(!v)throw new xe(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new qn(v)}n._authCredentials=new jZ(new nB(b,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t,i,c){this.converter=i,this._key=c,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Jn(this.firestore,t,this._key)}}class ns{constructor(t,i,c){this.converter=i,this._query=c,this.type="query",this.firestore=t}withConverter(t){return new ns(this.firestore,t,this._query)}}class Wr extends ns{constructor(t,i,c){super(t,i,hg(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Jn(this.firestore,null,new Re(t))}withConverter(t){return new Wr(this.firestore,t,this._path)}}function qv(n,t,...i){if(n=Zt(n),tN("collection","path",t),n instanceof Ag){const c=Yt.fromString(t,...i);return B5(c),new Wr(n,null,c)}{if(!(n instanceof Jn||n instanceof Wr))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=n._path.child(Yt.fromString(t,...i));return B5(c),new Wr(n.firestore,null,c)}}function mr(n,t,...i){if(n=Zt(n),arguments.length===1&&(t=oB.A()),tN("doc","path",t),n instanceof Ag){const c=Yt.fromString(t,...i);return R5(c),new Jn(n,null,new Re(c))}{if(!(n instanceof Jn||n instanceof Wr))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=n._path.child(Yt.fromString(t,...i));return R5(c),new Jn(n.firestore,n instanceof Wr?n.converter:null,new Re(c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bee{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new jB(this,"async_queue_retry"),this.Xc=()=>{const i=l0();i&&Ie("AsyncQueue","Visibility state changed to "+i.visibilityState),this.qo.Mo()};const t=l0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const i=l0();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const i=new lr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(t){if(!_u(t))throw t;Ie("AsyncQueue","Operation failed with retryable error: "+t)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(t){const i=this.Gc.then(()=>(this.Hc=!0,t().catch(c=>{this.Wc=c,this.Hc=!1;const d=function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f}(c);throw pr("INTERNAL UNHANDLED ERROR: ",d),c}).then(c=>(this.Hc=!1,c))));return this.Gc=i,i}enqueueAfterDelay(t,i,c){this.Zc(),this.Yc.indexOf(t)>-1&&(i=0);const d=jv.createAndSchedule(this,t,i,c,h=>this.na(h));return this.zc.push(d),d}Zc(){this.Wc&&Ge()}verifyOperationInProgress(){}async sa(){let t;do t=this.Gc,await t;while(t!==this.Gc)}ia(t){for(const i of this.zc)if(i.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((i,c)=>i.targetTimeMs-c.targetTimeMs);for(const i of this.zc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const i=this.zc.indexOf(t);this.zc.splice(i,1)}}function O5(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const c=t;for(const d of i)if(d in c&&typeof c[d]=="function")return!0;return!1}(n,["next","error","complete"])}class br extends Ag{constructor(t,i,c,d){super(t,i,c,d),this.type="firestore",this._queue=new bee,this._persistenceKey=(d==null?void 0:d.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||nN(this),this._firestoreClient.terminate()}}function vr(n,t){const i=typeof n=="object"?n:Uw(),c=typeof n=="string"?n:"(default)",d=Hf(i,"firestore").getImmediate({identifier:c});if(!d._initialized){const h=uP("firestore");h&&mee(d,...h)}return d}function yg(n){return n._firestoreClient||nN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function nN(n){var t,i,c;const d=n._freezeSettings(),h=function(f,b,m,v){return new XZ(f,b,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,eN(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,d);n._firestoreClient=new lee(n._authCredentials,n._appCheckCredentials,n._queue,h),!((i=d.cache)===null||i===void 0)&&i._offlineComponentProvider&&(!((c=d.cache)===null||c===void 0)&&c._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:d.cache.kind,_offline:d.cache._offlineComponentProvider,_online:d.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Cc(eo.fromBase64String(t))}catch(i){throw new xe(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Cc(eo.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new xe(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new xe(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new xe(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kee=/^__.*__$/;class wee{constructor(t,i,c){this.data=t,this.fieldMask=i,this.fieldTransforms=c}toMutation(t,i){return this.fieldMask!==null?new ts(t,this.data,this.fieldMask,i,this.fieldTransforms):new Cu(t,this.data,i,this.fieldTransforms)}}class oN{constructor(t,i,c){this.data=t,this.fieldMask=i,this.fieldTransforms=c}toMutation(t,i){return new ts(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function iN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge()}}class Kv{constructor(t,i,c,d,h,f){this.settings=t,this.databaseId=i,this.serializer=c,this.ignoreUndefinedProperties=d,h===void 0&&this.ua(),this.fieldTransforms=h||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new Kv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var i;const c=(i=this.path)===null||i===void 0?void 0:i.child(t),d=this.aa({path:c,la:!1});return d.fa(t),d}da(t){var i;const c=(i=this.path)===null||i===void 0?void 0:i.child(t),d=this.aa({path:c,la:!1});return d.ua(),d}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return xf(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(t.length===0)throw this._a("Document fields must not be empty");if(iN(this.ca)&&kee.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class vee{constructor(t,i,c){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=c||wg(t)}ya(t,i,c,d=!1){return new Kv({ca:t,methodName:i,ga:c,path:Kn.emptyPath(),la:!1,ma:d},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tg(n){const t=n._freezeSettings(),i=wg(n._databaseId);return new vee(n._databaseId,!!t.ignoreUndefinedProperties,i)}function rN(n,t,i,c,d,h={}){const f=n.ya(h.merge||h.mergeFields?2:0,t,i,d);Qv("Data must be an object, but it was:",f,c);const b=sN(c,f);let m,v;if(h.merge)m=new So(f.fieldMask),v=f.fieldTransforms;else if(h.mergeFields){const C=[];for(const y of h.mergeFields){const _=pw(t,y,i);if(!f.contains(_))throw new xe(le.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);cN(C,_)||C.push(_)}m=new So(C),v=f.fieldTransforms.filter(y=>m.covers(y.field))}else m=null,v=f.fieldTransforms;return new wee(new po(b),m,v)}class Ig extends Eg{_toFieldTransform(t){if(t.ca!==2)throw t.ca===1?t._a(`${this._methodName}() can only appear at the top level of your update data`):t._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ig}}class Yv extends Eg{_toFieldTransform(t){return new CJ(t.path,new Hd)}isEqual(t){return t instanceof Yv}}function _ee(n,t,i,c){const d=n.ya(1,t,i);Qv("Data must be an object, but it was:",d,c);const h=[],f=po.empty();oa(c,(m,v)=>{const C=Zv(t,m,i);v=Zt(v);const y=d.da(C);if(v instanceof Ig)h.push(C);else{const _=Eu(v,y);_!=null&&(h.push(C),f.set(C,_))}});const b=new So(h);return new oN(f,b,d.fieldTransforms)}function Cee(n,t,i,c,d,h){const f=n.ya(1,t,i),b=[pw(t,c,i)],m=[d];if(h.length%2!=0)throw new xe(le.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<h.length;_+=2)b.push(pw(t,h[_])),m.push(h[_+1]);const v=[],C=po.empty();for(let _=b.length-1;_>=0;--_)if(!cN(v,b[_])){const x=b[_];let I=m[_];I=Zt(I);const S=f.da(x);if(I instanceof Ig)v.push(x);else{const M=Eu(I,S);M!=null&&(v.push(x),C.set(x,M))}}const y=new So(v);return new oN(C,y,f.fieldTransforms)}function Aee(n,t,i,c=!1){return Eu(i,n.ya(c?4:3,t))}function Eu(n,t){if(aN(n=Zt(n)))return Qv("Unsupported field value:",t,n),sN(n,t);if(n instanceof Eg)return function(i,c){if(!iN(c.ca))throw c._a(`${i._methodName}() can only be used with update() and set()`);if(!c.path)throw c._a(`${i._methodName}() is not currently supported inside arrays`);const d=i._toFieldTransform(c);d&&c.fieldTransforms.push(d)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&t.ca!==4)throw t._a("Nested arrays are not supported");return function(i,c){const d=[];let h=0;for(const f of i){let b=Eu(f,c.wa(h));b==null&&(b={nullValue:"NULL_VALUE"}),d.push(b),h++}return{arrayValue:{values:d}}}(n,t)}return function(i,c){if((i=Zt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return wJ(c.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const d=En.fromDate(i);return{timestampValue:Cf(c.serializer,d)}}if(i instanceof En){const d=new En(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Cf(c.serializer,d)}}if(i instanceof Gv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Cc)return{bytesValue:DB(c.serializer,i._byteString)};if(i instanceof Jn){const d=c.databaseId,h=i.firestore._databaseId;if(!h.isEqual(d))throw c._a(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:Mv(i.firestore._databaseId||c.databaseId,i._key.path)}}throw c._a(`Unsupported field value: ${Cg(i)}`)}(n,t)}function sN(n,t){const i={};return iB(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):oa(n,(c,d)=>{const h=Eu(d,t.ha(c));h!=null&&(i[c]=h)}),{mapValue:{fields:i}}}function aN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof En||n instanceof Gv||n instanceof Cc||n instanceof Jn||n instanceof Eg)}function Qv(n,t,i){if(!aN(i)||!function(c){return typeof c=="object"&&c!==null&&(Object.getPrototypeOf(c)===Object.prototype||Object.getPrototypeOf(c)===null)}(i)){const c=Cg(i);throw c==="an object"?t._a(n+" a custom object"):t._a(n+" "+c)}}function pw(n,t,i){if((t=Zt(t))instanceof xg)return t._internalPath;if(typeof t=="string")return Zv(n,t);throw xf("Field path arguments must be of type string or ",n,!1,void 0,i)}const yee=new RegExp("[~\\*/\\[\\]]");function Zv(n,t,i){if(t.search(yee)>=0)throw xf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new xg(...t.split("."))._internalPath}catch{throw xf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function xf(n,t,i,c,d){const h=c&&!c.isEmpty(),f=d!==void 0;let b=`Function ${t}() called with invalid data`;i&&(b+=" (via `toFirestore()`)"),b+=". ";let m="";return(h||f)&&(m+=" (found",h&&(m+=` in field ${c}`),f&&(m+=` in document ${d}`),m+=")"),new xe(le.INVALID_ARGUMENT,b+n+m)}function cN(n,t){return n.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(t,i,c,d,h){this._firestore=t,this._userDataWriter=i,this._key=c,this._document=d,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new xee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Sg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class xee extends lN{data(){return super.data()}}function Sg(n,t){return typeof t=="string"?Zv(n,t):t instanceof xg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new xe(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jv{}class uN extends Jv{}function Eee(n,t,...i){let c=[];t instanceof Jv&&c.push(t),c=c.concat(i),function(d){const h=d.filter(b=>b instanceof Xv).length,f=d.filter(b=>b instanceof Dg).length;if(h>1||h>0&&f>0)throw new xe(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(c);for(const d of c)n=d._apply(n);return n}class Dg extends uN{constructor(t,i,c){super(),this._field=t,this._op=i,this._value=c,this.type="where"}static _create(t,i,c){return new Dg(t,i,c)}_apply(t){const i=this._parse(t);return hN(t._query,i),new ns(t.firestore,t.converter,iw(t._query,i))}_parse(t){const i=Tg(t.firestore);return function(d,h,f,b,m,v,C){let y;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new xe(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){j5(C,v);const _=[];for(const x of C)_.push(L5(b,d,x));y={arrayValue:{values:_}}}else y=L5(b,d,C)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||j5(C,v),y=Aee(f,h,C,v==="in"||v==="not-in");return vn.create(m,v,y)}(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function c0e(n,t,i){const c=t,d=Sg("where",n);return Dg._create(d,c,i)}class Xv extends Jv{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Xv(t,i)}_parse(t){const i=this._queryConstraints.map(c=>c._parse(t)).filter(c=>c.getFilters().length>0);return i.length===1?i[0]:mi.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:(function(c,d){let h=c;const f=d.getFlattenedFilters();for(const b of f)hN(h,b),h=iw(h,b)}(t._query,i),new ns(t.firestore,t.converter,iw(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class e_ extends uN{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new e_(t,i)}_apply(t){const i=function(c,d,h){if(c.startAt!==null)throw new xe(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(c.endAt!==null)throw new xe(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new ac(d,h);return function(b,m){if(Ev(b)===null){const v=pg(b);v!==null&&pN(b,v,m.field)}}(c,f),f}(t._query,this._field,this._direction);return new ns(t.firestore,t.converter,function(c,d){const h=c.explicitOrderBy.concat([d]);return new jc(c.path,c.collectionGroup,h,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(t._query,i))}}function Tee(n,t="asc"){const i=t,c=Sg("orderBy",n);return e_._create(c,i)}function L5(n,t,i){if(typeof(i=Zt(i))=="string"){if(i==="")throw new xe(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pB(t)&&i.indexOf("/")!==-1)throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const c=t.path.child(Yt.fromString(i));if(!Re.isDocumentKey(c))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${c}' is not because it has an odd number of segments (${c.length}).`);return s5(n,new Re(c))}if(i instanceof Jn)return s5(n,i._key);throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cg(i)}.`)}function j5(n,t){if(!Array.isArray(n)||n.length===0)throw new xe(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function hN(n,t){if(t.isInequality()){const c=pg(n),d=t.field;if(c!==null&&!c.isEqual(d))throw new xe(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${c.toString()}' and '${d.toString()}'`);const h=Ev(n);h!==null&&pN(n,d,h)}const i=function(c,d){for(const h of c)for(const f of h.getFlattenedFilters())if(d.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(i!==null)throw i===t.op?new xe(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new xe(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function pN(n,t,i){if(!i.isEqual(t))throw new xe(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class Iee{convertValue(t,i="none"){switch(Ys(t)){case 0:return null;case 1:return t.booleanValue;case 2:return kn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ks(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 10:return this.convertObject(t.mapValue,i);default:throw Ge()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const c={};return oa(t,(d,h)=>{c[d]=this.convertValue(h,i)}),c}convertGeoPoint(t){return new Gv(kn(t.latitude),kn(t.longitude))}convertArray(t,i){return(t.values||[]).map(c=>this.convertValue(c,i))}convertServerTimestamp(t,i){switch(i){case"previous":const c=Cv(t);return c==null?null:this.convertValue(c,i);case"estimate":return this.convertTimestamp(Vd(t));default:return null}}convertTimestamp(t){const i=Kr(t);return new En(i.seconds,i.nanos)}convertDocumentKey(t,i){const c=Yt.fromString(t);Qt(NB(c));const d=new $d(c.get(1),c.get(3)),h=new Re(c.popFirst(5));return d.isEqual(i)||pr(`Document ${h} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(n,t,i){let c;return c=n?i&&(i.merge||i.mergeFields)?n.toFirestore(t,i):n.toFirestore(t):t,c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class gN extends lN{constructor(t,i,c,d,h,f){super(t,i,c,d,f),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Hp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const c=this._document.data.field(Sg("DocumentSnapshot.get",t));if(c!==null)return this._userDataWriter.convertValue(c,i.serverTimestamps)}}}class Hp extends gN{data(t={}){return super.data(t)}}class mN{constructor(t,i,c,d){this._firestore=t,this._userDataWriter=i,this._snapshot=d,this.metadata=new cd(d.hasPendingWrites,d.fromCache),this.query=c}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(c=>{t.call(i,new Hp(this._firestore,this._userDataWriter,c.key,c,new cd(this._snapshot.mutatedKeys.has(c.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new xe(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(c,d){if(c._snapshot.oldDocs.isEmpty()){let h=0;return c._snapshot.docChanges.map(f=>{const b=new Hp(c._firestore,c._userDataWriter,f.doc.key,f.doc,new cd(c._snapshot.mutatedKeys.has(f.doc.key),c._snapshot.fromCache),c.query.converter);return f.doc,{type:"added",doc:b,oldIndex:-1,newIndex:h++}})}{let h=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(f=>d||f.type!==3).map(f=>{const b=new Hp(c._firestore,c._userDataWriter,f.doc.key,f.doc,new cd(c._snapshot.mutatedKeys.has(f.doc.key),c._snapshot.fromCache),c.query.converter);let m=-1,v=-1;return f.type!==0&&(m=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),v=h.indexOf(f.doc.key)),{type:See(f.type),doc:b,oldIndex:m,newIndex:v}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function See(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(n){n=fo(n,Jn);const t=fo(n.firestore,br);return pee(yg(t),n._key).then(i=>kN(t,n,i))}class t_ extends Iee{constructor(t){super(),this.firestore=t}convertBytes(t){return new Cc(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Jn(this.firestore,null,i)}}function Dee(n){n=fo(n,ns);const t=fo(n.firestore,br),i=yg(t),c=new t_(t);return dN(n._query),fee(i,n._query).then(d=>new mN(t,c,n,d))}function Mee(n,t,i){n=fo(n,Jn);const c=fo(n.firestore,br),d=fN(n.converter,t,i);return Rg(c,[rN(Tg(c),"setDoc",n._key,d,n.converter!==null,i).toMutation(n._key,Yo.none())])}function Pg(n,t,i,...c){n=fo(n,Jn);const d=fo(n.firestore,br),h=Tg(d);let f;return f=typeof(t=Zt(t))=="string"||t instanceof xg?Cee(h,"updateDoc",n._key,t,i,c):_ee(h,"updateDoc",n._key,t),Rg(d,[f.toMutation(n._key,Yo.exists(!0))])}function Pee(n){return Rg(fo(n.firestore,br),[new Tv(n._key,Yo.none())])}function bN(n,t){const i=fo(n.firestore,br),c=mr(n),d=fN(n.converter,t);return Rg(i,[rN(Tg(n.firestore),"addDoc",c._key,d,n.converter!==null,{}).toMutation(c._key,Yo.exists(!1))]).then(()=>c)}function l0e(n,...t){var i,c,d;n=Zt(n);let h={includeMetadataChanges:!1},f=0;typeof t[f]!="object"||O5(t[f])||(h=t[f],f++);const b={includeMetadataChanges:h.includeMetadataChanges};if(O5(t[f])){const y=t[f];t[f]=(i=y.next)===null||i===void 0?void 0:i.bind(y),t[f+1]=(c=y.error)===null||c===void 0?void 0:c.bind(y),t[f+2]=(d=y.complete)===null||d===void 0?void 0:d.bind(y)}let m,v,C;if(n instanceof Jn)v=fo(n.firestore,br),C=hg(n._key.path),m={next:y=>{t[f]&&t[f](kN(v,n,y))},error:t[f+1],complete:t[f+2]};else{const y=fo(n,ns);v=fo(y.firestore,br),C=y._query;const _=new t_(v);m={next:x=>{t[f]&&t[f](new mN(v,_,y,x))},error:t[f+1],complete:t[f+2]},dN(n._query)}return function(y,_,x,I){const S=new Wv(I),M=new Uv(_,S,x);return y.asyncQueue.enqueueAndForget(async()=>Fv(await yf(y),M)),()=>{S.Dc(),y.asyncQueue.enqueueAndForget(async()=>Vv(await yf(y),M))}}(yg(v),C,b,m)}function Rg(n,t){return function(i,c){const d=new lr;return i.asyncQueue.enqueueAndForget(async()=>XX(await hee(i),c,d)),d.promise}(yg(n),t)}function kN(n,t,i){const c=i.docs.get(t._key),d=new t_(n);return new gN(n,d,t._key,c,new cd(i.hasPendingWrites,i.fromCache),t.converter)}function md(){return new Yv("serverTimestamp")}(function(n,t=!0){(function(i){Lc=i})(ta),Ws(new qr("firestore",(i,{instanceIdentifier:c,options:d})=>{const h=i.getProvider("app").getImmediate(),f=new br(new zZ(i.getProvider("auth-internal")),new UZ(i.getProvider("app-check-internal")),function(b,m){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new xe(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $d(b.options.projectId,m)}(h,c),h);return d=Object.assign({useFetchStreams:t},d),f._setSettings(d),f},"PUBLIC").setMultipleInstances(!0)),Pi(t5,"3.13.0",n),Pi(t5,"3.13.0","esm2017")})();var Ree="firebase",Bee="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pi(Ree,Bee,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="firebasestorage.googleapis.com",vN="storageBucket",Nee=2*60*1e3,Oee=10*60*1e3,Lee=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on extends $i{constructor(t,i,c=0){super(u0(t),`Firebase Storage: ${i} (${u0(t)})`),this.status_=c,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,on.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return u0(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Jt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Jt||(Jt={}));function u0(n){return"storage/"+n}function n_(){const n="An unknown error occurred, please check the error payload for server response.";return new on(Jt.UNKNOWN,n)}function jee(n){return new on(Jt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function zee(n){return new on(Jt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Fee(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new on(Jt.UNAUTHENTICATED,n)}function Vee(){return new on(Jt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function $ee(n){return new on(Jt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function _N(){return new on(Jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function CN(){return new on(Jt.CANCELED,"User canceled the upload/download.")}function Uee(n){return new on(Jt.INVALID_URL,"Invalid URL '"+n+"'.")}function Hee(n){return new on(Jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Wee(){return new on(Jt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+vN+"' property when initializing the app?")}function AN(){return new on(Jt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function qee(){return new on(Jt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Gee(){return new on(Jt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Kee(n){return new on(Jt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function fw(n){return new on(Jt.INVALID_ARGUMENT,n)}function yN(){return new on(Jt.APP_DELETED,"The Firebase app was deleted.")}function Yee(n){return new on(Jt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bd(n,t){return new on(Jt.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function ql(n){throw new on(Jt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let c;try{c=Do.makeFromUrl(t,i)}catch{return new Do(t,"")}if(c.path==="")return c;throw Hee(t)}static makeFromUrl(t,i){let c=null;const d="([A-Za-z0-9.\\-_]+)";function h(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}const f="(/(.*))?$",b=new RegExp("^gs://"+d+f,"i"),m={bucket:1,path:3};function v(V){V.path_=decodeURIComponent(V.path)}const C="v[A-Za-z0-9_]+",y=i.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",x=new RegExp(`^https?://${y}/${C}/b/${d}/o${_}`,"i"),I={bucket:1,path:3},S=i===wN?"(?:storage.googleapis.com|storage.cloud.google.com)":i,M="([^?#]*)",N=new RegExp(`^https?://${S}/${d}/${M}`,"i"),L=[{regex:b,indices:m,postModify:h},{regex:x,indices:I,postModify:v},{regex:N,indices:{bucket:1,path:2},postModify:v}];for(let V=0;V<L.length;V++){const H=L[V],W=H.regex.exec(t);if(W){const P=W[H.indices.bucket];let U=W[H.indices.path];U||(U=""),c=new Do(P,U),H.postModify(c);break}}if(c==null)throw Uee(t);return c}}class Qee{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zee(n,t,i){let c=1,d=null,h=null,f=!1,b=0;function m(){return b===2}let v=!1;function C(...M){v||(v=!0,t.apply(null,M))}function y(M){d=setTimeout(()=>{d=null,n(x,m())},M)}function _(){h&&clearTimeout(h)}function x(M,...N){if(v){_();return}if(M){_(),C.call(null,M,...N);return}if(m()||f){_(),C.call(null,M,...N);return}c<64&&(c*=2);let L;b===1?(b=2,L=0):L=(c+Math.random())*1e3,y(L)}let I=!1;function S(M){I||(I=!0,_(),!v&&(d!==null?(M||(b=2),clearTimeout(d),y(0)):M||(b=1)))}return y(0),h=setTimeout(()=>{f=!0,S(!0)},i),S}function Jee(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xee(n){return n!==void 0}function ete(n){return typeof n=="function"}function tte(n){return typeof n=="object"&&!Array.isArray(n)}function Bg(n){return typeof n=="string"||n instanceof String}function z5(n){return o_()&&n instanceof Blob}function o_(){return typeof Blob<"u"&&!uG()}function F5(n,t,i,c){if(c<t)throw fw(`Invalid value for '${n}'. Expected ${t} or greater.`);if(c>i)throw fw(`Invalid value for '${n}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(n,t,i){let c=t;return i==null&&(c=`https://${t}`),`${i}://${c}/v0${n}`}function xN(n){const t=encodeURIComponent;let i="?";for(const c in n)if(n.hasOwnProperty(c)){const d=t(c)+"="+t(n[c]);i=i+d+"&"}return i=i.slice(0,-1),i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $s;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})($s||($s={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(n,t){const i=n>=500&&n<600,d=[408,429].indexOf(n)!==-1,h=t.indexOf(n)!==-1;return i||d||h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nte{constructor(t,i,c,d,h,f,b,m,v,C,y,_=!0){this.url_=t,this.method_=i,this.headers_=c,this.body_=d,this.successCodes_=h,this.additionalRetryCodes_=f,this.callback_=b,this.errorCallback_=m,this.timeout_=v,this.progressCallback_=C,this.connectionFactory_=y,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,I)=>{this.resolve_=x,this.reject_=I,this.start_()})}start_(){const t=(c,d)=>{if(d){c(!1,new Ep(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const f=b=>{const m=b.loaded,v=b.lengthComputable?b.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,v)};this.progressCallback_!==null&&h.addUploadProgressListener(f),h.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(f),this.pendingConnection_=null;const b=h.getErrorCode()===$s.NO_ERROR,m=h.getStatus();if(!b||EN(m,this.additionalRetryCodes_)&&this.retry){const C=h.getErrorCode()===$s.ABORT;c(!1,new Ep(!1,null,C));return}const v=this.successCodes_.indexOf(m)!==-1;c(!0,new Ep(v,h))})},i=(c,d)=>{const h=this.resolve_,f=this.reject_,b=d.connection;if(d.wasSuccessCode)try{const m=this.callback_(b,b.getResponse());Xee(m)?h(m):h()}catch(m){f(m)}else if(b!==null){const m=n_();m.serverResponse=b.getErrorText(),this.errorCallback_?f(this.errorCallback_(b,m)):f(m)}else if(d.canceled){const m=this.appDelete_?yN():CN();f(m)}else{const m=_N();f(m)}};this.canceled_?i(!1,new Ep(!1,null,!0)):this.backoffId_=Zee(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Jee(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ep{constructor(t,i,c){this.wasSuccessCode=t,this.connection=i,this.canceled=!!c}}function ote(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function ite(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function rte(n,t){t&&(n["X-Firebase-GMPID"]=t)}function ste(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function ate(n,t,i,c,d,h,f=!0){const b=xN(n.urlParams),m=n.url+b,v=Object.assign({},n.headers);return rte(v,t),ote(v,i),ite(v,h),ste(v,c),new nte(m,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,d,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cte(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function lte(...n){const t=cte();if(t!==void 0){const i=new t;for(let c=0;c<n.length;c++)i.append(n[c]);return i.getBlob()}else{if(o_())return new Blob(n);throw new on(Jt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function dte(n,t,i){return n.webkitSlice?n.webkitSlice(t,i):n.mozSlice?n.mozSlice(t,i):n.slice?n.slice(t,i):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ute(n){if(typeof atob>"u")throw Kee("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class h0{constructor(t,i){this.data=t,this.contentType=i||null}}function hte(n,t){switch(n){case Mi.RAW:return new h0(TN(t));case Mi.BASE64:case Mi.BASE64URL:return new h0(IN(n,t));case Mi.DATA_URL:return new h0(fte(t),gte(t))}throw n_()}function TN(n){const t=[];for(let i=0;i<n.length;i++){let c=n.charCodeAt(i);if(c<=127)t.push(c);else if(c<=2047)t.push(192|c>>6,128|c&63);else if((c&64512)===55296)if(!(i<n.length-1&&(n.charCodeAt(i+1)&64512)===56320))t.push(239,191,189);else{const h=c,f=n.charCodeAt(++i);c=65536|(h&1023)<<10|f&1023,t.push(240|c>>18,128|c>>12&63,128|c>>6&63,128|c&63)}else(c&64512)===56320?t.push(239,191,189):t.push(224|c>>12,128|c>>6&63,128|c&63)}return new Uint8Array(t)}function pte(n){let t;try{t=decodeURIComponent(n)}catch{throw bd(Mi.DATA_URL,"Malformed data URL.")}return TN(t)}function IN(n,t){switch(n){case Mi.BASE64:{const d=t.indexOf("-")!==-1,h=t.indexOf("_")!==-1;if(d||h)throw bd(n,"Invalid character '"+(d?"-":"_")+"' found: is it base64url encoded?");break}case Mi.BASE64URL:{const d=t.indexOf("+")!==-1,h=t.indexOf("/")!==-1;if(d||h)throw bd(n,"Invalid character '"+(d?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=ute(t)}catch(d){throw d.message.includes("polyfill")?d:bd(n,"Invalid character found")}const c=new Uint8Array(i.length);for(let d=0;d<i.length;d++)c[d]=i.charCodeAt(d);return c}class SN{constructor(t){this.base64=!1,this.contentType=null;const i=t.match(/^data:([^,]+)?,/);if(i===null)throw bd(Mi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const c=i[1]||null;c!=null&&(this.base64=mte(c,";base64"),this.contentType=this.base64?c.substring(0,c.length-7):c),this.rest=t.substring(t.indexOf(",")+1)}}function fte(n){const t=new SN(n);return t.base64?IN(Mi.BASE64,t.rest):pte(t.rest)}function gte(n){return new SN(n).contentType}function mte(n,t){return n.length>=t.length?n.substring(n.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t,i){let c=0,d="";z5(t)?(this.data_=t,c=t.size,d=t.type):t instanceof ArrayBuffer?(i?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),c=this.data_.length):t instanceof Uint8Array&&(i?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),c=t.length),this.size_=c,this.type_=d}size(){return this.size_}type(){return this.type_}slice(t,i){if(z5(this.data_)){const c=this.data_,d=dte(c,t,i);return d===null?null:new ir(d)}else{const c=new Uint8Array(this.data_.buffer,t,i-t);return new ir(c,!0)}}static getBlob(...t){if(o_()){const i=t.map(c=>c instanceof ir?c.data_:c);return new ir(lte.apply(null,i))}else{const i=t.map(f=>Bg(f)?hte(Mi.RAW,f).data:f.data_);let c=0;i.forEach(f=>{c+=f.byteLength});const d=new Uint8Array(c);let h=0;return i.forEach(f=>{for(let b=0;b<f.length;b++)d[h++]=f[b]}),new ir(d,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(n){let t;try{t=JSON.parse(n)}catch{return null}return tte(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bte(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function kte(n,t){const i=t.split("/").filter(c=>c.length>0).join("/");return n.length===0?i:n+"/"+i}function MN(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wte(n,t){return t}class oo{constructor(t,i,c,d){this.server=t,this.local=i||t,this.writable=!!c,this.xform=d||wte}}let Tp=null;function vte(n){return!Bg(n)||n.length<2?n:MN(n)}function i_(){if(Tp)return Tp;const n=[];n.push(new oo("bucket")),n.push(new oo("generation")),n.push(new oo("metageneration")),n.push(new oo("name","fullPath",!0));function t(h,f){return vte(f)}const i=new oo("name");i.xform=t,n.push(i);function c(h,f){return f!==void 0?Number(f):f}const d=new oo("size");return d.xform=c,n.push(d),n.push(new oo("timeCreated")),n.push(new oo("updated")),n.push(new oo("md5Hash",null,!0)),n.push(new oo("cacheControl",null,!0)),n.push(new oo("contentDisposition",null,!0)),n.push(new oo("contentEncoding",null,!0)),n.push(new oo("contentLanguage",null,!0)),n.push(new oo("contentType",null,!0)),n.push(new oo("metadata","customMetadata",!0)),Tp=n,Tp}function _te(n,t){function i(){const c=n.bucket,d=n.fullPath,h=new Do(c,d);return t._makeStorageReference(h)}Object.defineProperty(n,"ref",{get:i})}function Cte(n,t,i){const c={};c.type="file";const d=i.length;for(let h=0;h<d;h++){const f=i[h];c[f.local]=f.xform(c,t[f.server])}return _te(c,n),c}function PN(n,t,i){const c=DN(t);return c===null?null:Cte(n,c,i)}function Ate(n,t,i,c){const d=DN(t);if(d===null||!Bg(d.downloadTokens))return null;const h=d.downloadTokens;if(h.length===0)return null;const f=encodeURIComponent;return h.split(",").map(v=>{const C=n.bucket,y=n.fullPath,_="/b/"+f(C)+"/o/"+f(y),x=Vc(_,i,c),I=xN({alt:"media",token:v});return x+I})[0]}function RN(n,t){const i={},c=t.length;for(let d=0;d<c;d++){const h=t[d];h.writable&&(i[h.server]=n[h.local])}return JSON.stringify(i)}class ra{constructor(t,i,c,d){this.url=t,this.method=i,this.handler=c,this.timeout=d,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(n){if(!n)throw n_()}function r_(n,t){function i(c,d){const h=PN(n,d,t);return dr(h!==null),h}return i}function yte(n,t){function i(c,d){const h=PN(n,d,t);return dr(h!==null),Ate(h,d,n.host,n._protocol)}return i}function Tu(n){function t(i,c){let d;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?d=Vee():d=Fee():i.getStatus()===402?d=zee(n.bucket):i.getStatus()===403?d=$ee(n.path):d=c,d.status=i.getStatus(),d.serverResponse=c.serverResponse,d}return t}function s_(n){const t=Tu(n);function i(c,d){let h=t(c,d);return c.getStatus()===404&&(h=jee(n.path)),h.serverResponse=d.serverResponse,h}return i}function xte(n,t,i){const c=t.fullServerUrl(),d=Vc(c,n.host,n._protocol),h="GET",f=n.maxOperationRetryTime,b=new ra(d,h,r_(n,i),f);return b.errorHandler=s_(t),b}function Ete(n,t,i){const c=t.fullServerUrl(),d=Vc(c,n.host,n._protocol),h="GET",f=n.maxOperationRetryTime,b=new ra(d,h,yte(n,i),f);return b.errorHandler=s_(t),b}function Tte(n,t){const i=t.fullServerUrl(),c=Vc(i,n.host,n._protocol),d="DELETE",h=n.maxOperationRetryTime;function f(m,v){}const b=new ra(c,d,f,h);return b.successCodes=[200,204],b.errorHandler=s_(t),b}function Ite(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}function BN(n,t,i){const c=Object.assign({},i);return c.fullPath=n.path,c.size=t.size(),c.contentType||(c.contentType=Ite(null,t)),c}function NN(n,t,i,c,d){const h=t.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function b(){let L="";for(let V=0;V<2;V++)L=L+Math.random().toString().slice(2);return L}const m=b();f["Content-Type"]="multipart/related; boundary="+m;const v=BN(t,c,d),C=RN(v,i),y="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+C+`\r
--`+m+`\r
Content-Type: `+v.contentType+`\r
\r
`,_=`\r
--`+m+"--",x=ir.getBlob(y,c,_);if(x===null)throw AN();const I={name:v.fullPath},S=Vc(h,n.host,n._protocol),M="POST",N=n.maxUploadRetryTime,j=new ra(S,M,r_(n,i),N);return j.urlParams=I,j.headers=f,j.body=x.uploadData(),j.errorHandler=Tu(t),j}class Ef{constructor(t,i,c,d){this.current=t,this.total=i,this.finalized=!!c,this.metadata=d||null}}function a_(n,t){let i=null;try{i=n.getResponseHeader("X-Goog-Upload-Status")}catch{dr(!1)}return dr(!!i&&(t||["active"]).indexOf(i)!==-1),i}function Ste(n,t,i,c,d){const h=t.bucketOnlyServerUrl(),f=BN(t,c,d),b={name:f.fullPath},m=Vc(h,n.host,n._protocol),v="POST",C={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${c.size()}`,"X-Goog-Upload-Header-Content-Type":f.contentType,"Content-Type":"application/json; charset=utf-8"},y=RN(f,i),_=n.maxUploadRetryTime;function x(S){a_(S);let M;try{M=S.getResponseHeader("X-Goog-Upload-URL")}catch{dr(!1)}return dr(Bg(M)),M}const I=new ra(m,v,x,_);return I.urlParams=b,I.headers=C,I.body=y,I.errorHandler=Tu(t),I}function Dte(n,t,i,c){const d={"X-Goog-Upload-Command":"query"};function h(v){const C=a_(v,["active","final"]);let y=null;try{y=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{dr(!1)}y||dr(!1);const _=Number(y);return dr(!isNaN(_)),new Ef(_,c.size(),C==="final")}const f="POST",b=n.maxUploadRetryTime,m=new ra(i,f,h,b);return m.headers=d,m.errorHandler=Tu(t),m}const V5=256*1024;function Mte(n,t,i,c,d,h,f,b){const m=new Ef(0,0);if(f?(m.current=f.current,m.total=f.total):(m.current=0,m.total=c.size()),c.size()!==m.total)throw qee();const v=m.total-m.current;let C=v;d>0&&(C=Math.min(C,d));const y=m.current,_=y+C;let x="";C===0?x="finalize":v===C?x="upload, finalize":x="upload";const I={"X-Goog-Upload-Command":x,"X-Goog-Upload-Offset":`${m.current}`},S=c.slice(y,_);if(S===null)throw AN();function M(V,H){const W=a_(V,["active","final"]),P=m.current+C,U=c.size();let G;return W==="final"?G=r_(t,h)(V,H):G=null,new Ef(P,U,W==="final",G)}const N="POST",j=t.maxUploadRetryTime,L=new ra(i,N,M,j);return L.headers=I,L.body=S.uploadData(),L.progressCallback=b||null,L.errorHandler=Tu(n),L}const ho={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function p0(n){switch(n){case"running":case"pausing":case"canceling":return ho.RUNNING;case"paused":return ho.PAUSED;case"success":return ho.SUCCESS;case"canceled":return ho.CANCELED;case"error":return ho.ERROR;default:return ho.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pte{constructor(t,i,c){if(ete(t)||i!=null||c!=null)this.next=t,this.error=i??void 0,this.complete=c??void 0;else{const h=t;this.next=h.next,this.error=h.error,this.complete=h.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class Rte{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$s.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$s.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$s.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,i,c,d){if(this.sent_)throw ql("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,t,!0),d!==void 0)for(const h in d)d.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,d[h].toString());return c!==void 0?this.xhr_.send(c):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ql("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ql("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ql("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ql("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Bte extends Rte{initXhr(){this.xhr_.responseType="text"}}function zr(){return new Bte}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nte{constructor(t,i,c=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=i,this._metadata=c,this._mappings=i_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=d=>{if(this._request=void 0,this._chunkMultiplier=1,d._codeEquals(Jt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const h=this.isExponentialBackoffExpired();if(EN(d.status,[]))if(h)d=_N();else{this.sleepTime=Math.max(this.sleepTime*2,Lee),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=d,this._transition("error")}},this._metadataErrorHandler=d=>{this._request=void 0,d._codeEquals(Jt.CANCELED)?this.completeTransitions_():(this._error=d,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((d,h)=>{this._resolve=d,this._reject=h,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return i=>this._updateProgress(t+i)}_shouldDoResumable(t){return t.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([i,c])=>{switch(this._state){case"running":t(i,c);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((t,i)=>{const c=Ste(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),d=this._ref.storage._makeRequest(c,zr,t,i);this._request=d,d.getPromise().then(h=>{this._request=void 0,this._uploadUrl=h,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((i,c)=>{const d=Dte(this._ref.storage,this._ref._location,t,this._blob),h=this._ref.storage._makeRequest(d,zr,i,c);this._request=h,h.getPromise().then(f=>{f=f,this._request=void 0,this._updateProgress(f.current),this._needToFetchStatus=!1,f.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=V5*this._chunkMultiplier,i=new Ef(this._transferred,this._blob.size()),c=this._uploadUrl;this._resolveToken((d,h)=>{let f;try{f=Mte(this._ref._location,this._ref.storage,c,this._blob,t,this._mappings,i,this._makeProgressCallback())}catch(m){this._error=m,this._transition("error");return}const b=this._ref.storage._makeRequest(f,zr,d,h,!1);this._request=b,b.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){V5*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,i)=>{const c=xte(this._ref.storage,this._ref._location,this._mappings),d=this._ref.storage._makeRequest(c,zr,t,i);this._request=d,d.getPromise().then(h=>{this._request=void 0,this._metadata=h,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,i)=>{const c=NN(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),d=this._ref.storage._makeRequest(c,zr,t,i);this._request=d,d.getPromise().then(h=>{this._request=void 0,this._metadata=h,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const i=this._transferred;this._transferred=t,this._transferred!==i&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const i=this._state==="paused";this._state=t,i&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=CN(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const t=p0(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,i,c,d){const h=new Pte(i||void 0,c||void 0,d||void 0);return this._addObserver(h),()=>{this._removeObserver(h)}}then(t,i){return this._promise.then(t,i)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const i=this._observers.indexOf(t);i!==-1&&this._observers.splice(i,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(i=>{this._notifyObserver(i)})}_finishPromise(){if(this._resolve!==void 0){let t=!0;switch(p0(this._state)){case ho.SUCCESS:Ua(this._resolve.bind(null,this.snapshot))();break;case ho.CANCELED:case ho.ERROR:const i=this._reject;Ua(i.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(p0(this._state)){case ho.RUNNING:case ho.PAUSED:t.next&&Ua(t.next.bind(t,this.snapshot))();break;case ho.SUCCESS:t.complete&&Ua(t.complete.bind(t))();break;case ho.CANCELED:case ho.ERROR:t.error&&Ua(t.error.bind(t,this._error))();break;default:t.error&&Ua(t.error.bind(t,this._error))()}}resume(){const t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t}pause(){const t=this._state==="running";return t&&this._transition("pausing"),t}cancel(){const t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t,i){this._service=t,i instanceof Do?this._location=i:this._location=Do.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new Qs(t,i)}get root(){const t=new Do(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return MN(this._location.path)}get storage(){return this._service}get parent(){const t=bte(this._location.path);if(t===null)return null;const i=new Do(this._location.bucket,t);return new Qs(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw Yee(t)}}function Ote(n,t,i){n._throwIfRoot("uploadBytes");const c=NN(n.storage,n._location,i_(),new ir(t,!0),i);return n.storage.makeRequestWithTokens(c,zr).then(d=>({metadata:d,ref:n}))}function Lte(n,t,i){return n._throwIfRoot("uploadBytesResumable"),new Nte(n,new ir(t),i)}function jte(n){n._throwIfRoot("getDownloadURL");const t=Ete(n.storage,n._location,i_());return n.storage.makeRequestWithTokens(t,zr).then(i=>{if(i===null)throw Gee();return i})}function zte(n){n._throwIfRoot("deleteObject");const t=Tte(n.storage,n._location);return n.storage.makeRequestWithTokens(t,zr)}function Fte(n,t){const i=kte(n._location.path,t),c=new Do(n._location.bucket,i);return new Qs(n.storage,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vte(n){return/^[A-Za-z]+:\/\//.test(n)}function $te(n,t){return new Qs(n,t)}function ON(n,t){if(n instanceof c_){const i=n;if(i._bucket==null)throw Wee();const c=new Qs(i,i._bucket);return t!=null?ON(c,t):c}else return t!==void 0?Fte(n,t):n}function Ute(n,t){if(t&&Vte(t)){if(n instanceof c_)return $te(n,t);throw fw("To use ref(service, url), the first argument must be a Storage instance.")}else return ON(n,t)}function $5(n,t){const i=t==null?void 0:t[vN];return i==null?null:Do.makeFromBucketSpec(i,n)}function Hte(n,t,i,c={}){n.host=`${t}:${i}`,n._protocol="http";const{mockUserToken:d}=c;d&&(n._overrideAuthToken=typeof d=="string"?d:fP(d,n.app.options.projectId))}class c_{constructor(t,i,c,d,h){this.app=t,this._authProvider=i,this._appCheckProvider=c,this._url=d,this._firebaseVersion=h,this._bucket=null,this._host=wN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Nee,this._maxUploadRetryTime=Oee,this._requests=new Set,d!=null?this._bucket=Do.makeFromBucketSpec(d,this._host):this._bucket=$5(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Do.makeFromBucketSpec(this._url,t):this._bucket=$5(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){F5("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){F5("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const i=await t.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Qs(this,t)}_makeRequest(t,i,c,d,h=!0){if(this._deleted)return new Qee(yN());{const f=ate(t,this._appId,c,d,i,this._firebaseVersion,h);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,i){const[c,d]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,c,d).getPromise()}}const U5="@firebase/storage",H5="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="storage";function Wte(n,t,i){return n=Zt(n),Ote(n,t,i)}function d0e(n,t,i){return n=Zt(n),Lte(n,t,i)}function qte(n){return n=Zt(n),jte(n)}function u0e(n){return n=Zt(n),zte(n)}function Gte(n,t){return n=Zt(n),Ute(n,t)}function jN(n=Uw(),t){n=Zt(n);const c=Hf(n,LN).getImmediate({identifier:t}),d=uP("storage");return d&&Kte(c,...d),c}function Kte(n,t,i,c={}){Hte(n,t,i,c)}function Yte(n,{instanceIdentifier:t}){const i=n.getProvider("app").getImmediate(),c=n.getProvider("auth-internal"),d=n.getProvider("app-check-internal");return new c_(i,c,d,t,ta)}function Qte(){Ws(new qr(LN,Yte,"PUBLIC").setMultipleInstances(!0)),Pi(U5,H5,""),Pi(U5,H5,"esm2017")}Qte();const Zte={apiKey:"AIzaSyAx9jl025E5CSh9P03WbAO9YzYVpcZoOxI",authDomain:"ate-vite-firestore-app.firebaseapp.com",projectId:"ate-vite-firestore-app",storageBucket:"ate-vite-firestore-app.appspot.com",messagingSenderId:"590673229876",appId:"1:590673229876:web:f2841a139a3bf0ffed3261"},zN=bP(Zte),h0e=vr(zN);jN(zN);const FN=O.createContext(void 0),Ng=()=>{const n=O.useContext(FN);if(n===void 0)throw new Error("useUser must be used within a UserProvider");return n},Jte=({children:n})=>{const[t,i]=O.useState(null),[c,d]=O.useState(null),[h,f]=O.useState(!0),[b,m]=O.useState(null);return console.log("UserContext loaded"),O.useEffect(()=>{const v=eR(),C=vr(),y=bY(v,async _=>{if(f(!0),m(null),_){const x=mr(C,"users",_.uid);try{const I=await Mg(x);I.exists()?(console.log("User document exists."),console.log("User is signed in with UID:",_.uid),await Pg(x,{lastLogin:md()}),d({...I.data(),uid:_.uid})):(console.error("User document does not exist. Creating a new one..."),await Mee(x,{isAdmin:!1,lastLogin:md()}),d({uid:_.uid,isAdmin:!1,lastLogin:md()}))}catch(I){console.error("Error managing user document:",I),m(I instanceof Error?I:new Error("Failed to manage user document"))}}else d(null);i(_),f(!1)});return()=>y()},[]),R.jsx(FN.Provider,{value:{user:t,userDetails:c,loading:h,error:b},children:n})},Gd={black:"#000",white:"#fff"},Ha={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Wa={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},qa={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ga={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ka={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Gl={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Xte={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Zs(n){let t="https://mui.com/production-error/?code="+n;for(let i=1;i<arguments.length;i+=1)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified MUI error #"+n+"; visit "+t+" for the full message."}const ene=Object.freeze(Object.defineProperty({__proto__:null,default:Zs},Symbol.toStringTag,{value:"Module"})),Iu="$$material";function F(){return F=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var c in i)({}).hasOwnProperty.call(i,c)&&(n[c]=i[c])}return n},F.apply(null,arguments)}function we(n,t){if(n==null)return{};var i={};for(var c in n)if({}.hasOwnProperty.call(n,c)){if(t.indexOf(c)>=0)continue;i[c]=n[c]}return i}function VN(n){var t=Object.create(null);return function(i){return t[i]===void 0&&(t[i]=n(i)),t[i]}}var tne=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,nne=VN(function(n){return tne.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91});function one(n){if(n.sheet)return n.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===n)return document.styleSheets[t]}function ine(n){var t=document.createElement("style");return t.setAttribute("data-emotion",n.key),n.nonce!==void 0&&t.setAttribute("nonce",n.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var rne=function(){function n(i){var c=this;this._insertTag=function(d){var h;c.tags.length===0?c.insertionPoint?h=c.insertionPoint.nextSibling:c.prepend?h=c.container.firstChild:h=c.before:h=c.tags[c.tags.length-1].nextSibling,c.container.insertBefore(d,h),c.tags.push(d)},this.isSpeedy=i.speedy===void 0?!0:i.speedy,this.tags=[],this.ctr=0,this.nonce=i.nonce,this.key=i.key,this.container=i.container,this.prepend=i.prepend,this.insertionPoint=i.insertionPoint,this.before=null}var t=n.prototype;return t.hydrate=function(c){c.forEach(this._insertTag)},t.insert=function(c){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ine(this));var d=this.tags[this.tags.length-1];if(this.isSpeedy){var h=one(d);try{h.insertRule(c,h.cssRules.length)}catch{}}else d.appendChild(document.createTextNode(c));this.ctr++},t.flush=function(){this.tags.forEach(function(c){return c.parentNode&&c.parentNode.removeChild(c)}),this.tags=[],this.ctr=0},n}(),Wn="-ms-",Tf="-moz-",Et="-webkit-",$N="comm",l_="rule",d_="decl",sne="@import",UN="@keyframes",ane="@layer",cne=Math.abs,Og=String.fromCharCode,lne=Object.assign;function dne(n,t){return Vn(n,0)^45?(((t<<2^Vn(n,0))<<2^Vn(n,1))<<2^Vn(n,2))<<2^Vn(n,3):0}function HN(n){return n.trim()}function une(n,t){return(n=t.exec(n))?n[0]:n}function Tt(n,t,i){return n.replace(t,i)}function gw(n,t){return n.indexOf(t)}function Vn(n,t){return n.charCodeAt(t)|0}function Kd(n,t,i){return n.slice(t,i)}function Ei(n){return n.length}function u_(n){return n.length}function Ip(n,t){return t.push(n),n}function hne(n,t){return n.map(t).join("")}var Lg=1,Ac=1,WN=0,wo=0,wn=0,$c="";function jg(n,t,i,c,d,h,f){return{value:n,root:t,parent:i,type:c,props:d,children:h,line:Lg,column:Ac,length:f,return:""}}function Kl(n,t){return lne(jg("",null,null,"",null,null,0),n,{length:-n.length},t)}function pne(){return wn}function fne(){return wn=wo>0?Vn($c,--wo):0,Ac--,wn===10&&(Ac=1,Lg--),wn}function Mo(){return wn=wo<WN?Vn($c,wo++):0,Ac++,wn===10&&(Ac=1,Lg++),wn}function Oi(){return Vn($c,wo)}function Wp(){return wo}function Su(n,t){return Kd($c,n,t)}function Yd(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qN(n){return Lg=Ac=1,WN=Ei($c=n),wo=0,[]}function GN(n){return $c="",n}function qp(n){return HN(Su(wo-1,mw(n===91?n+2:n===40?n+1:n)))}function gne(n){for(;(wn=Oi())&&wn<33;)Mo();return Yd(n)>2||Yd(wn)>3?"":" "}function mne(n,t){for(;--t&&Mo()&&!(wn<48||wn>102||wn>57&&wn<65||wn>70&&wn<97););return Su(n,Wp()+(t<6&&Oi()==32&&Mo()==32))}function mw(n){for(;Mo();)switch(wn){case n:return wo;case 34:case 39:n!==34&&n!==39&&mw(wn);break;case 40:n===41&&mw(n);break;case 92:Mo();break}return wo}function bne(n,t){for(;Mo()&&n+wn!==57;)if(n+wn===84&&Oi()===47)break;return"/*"+Su(t,wo-1)+"*"+Og(n===47?n:Mo())}function kne(n){for(;!Yd(Oi());)Mo();return Su(n,wo)}function wne(n){return GN(Gp("",null,null,null,[""],n=qN(n),0,[0],n))}function Gp(n,t,i,c,d,h,f,b,m){for(var v=0,C=0,y=f,_=0,x=0,I=0,S=1,M=1,N=1,j=0,L="",V=d,H=h,W=c,P=L;M;)switch(I=j,j=Mo()){case 40:if(I!=108&&Vn(P,y-1)==58){gw(P+=Tt(qp(j),"&","&\f"),"&\f")!=-1&&(N=-1);break}case 34:case 39:case 91:P+=qp(j);break;case 9:case 10:case 13:case 32:P+=gne(I);break;case 92:P+=mne(Wp()-1,7);continue;case 47:switch(Oi()){case 42:case 47:Ip(vne(bne(Mo(),Wp()),t,i),m);break;default:P+="/"}break;case 123*S:b[v++]=Ei(P)*N;case 125*S:case 59:case 0:switch(j){case 0:case 125:M=0;case 59+C:N==-1&&(P=Tt(P,/\f/g,"")),x>0&&Ei(P)-y&&Ip(x>32?q5(P+";",c,i,y-1):q5(Tt(P," ","")+";",c,i,y-2),m);break;case 59:P+=";";default:if(Ip(W=W5(P,t,i,v,C,d,b,L,V=[],H=[],y),h),j===123)if(C===0)Gp(P,t,W,W,V,h,y,b,H);else switch(_===99&&Vn(P,3)===110?100:_){case 100:case 108:case 109:case 115:Gp(n,W,W,c&&Ip(W5(n,W,W,0,0,d,b,L,d,V=[],y),H),d,H,y,b,c?V:H);break;default:Gp(P,W,W,W,[""],H,0,b,H)}}v=C=x=0,S=N=1,L=P="",y=f;break;case 58:y=1+Ei(P),x=I;default:if(S<1){if(j==123)--S;else if(j==125&&S++==0&&fne()==125)continue}switch(P+=Og(j),j*S){case 38:N=C>0?1:(P+="\f",-1);break;case 44:b[v++]=(Ei(P)-1)*N,N=1;break;case 64:Oi()===45&&(P+=qp(Mo())),_=Oi(),C=y=Ei(L=P+=kne(Wp())),j++;break;case 45:I===45&&Ei(P)==2&&(S=0)}}return h}function W5(n,t,i,c,d,h,f,b,m,v,C){for(var y=d-1,_=d===0?h:[""],x=u_(_),I=0,S=0,M=0;I<c;++I)for(var N=0,j=Kd(n,y+1,y=cne(S=f[I])),L=n;N<x;++N)(L=HN(S>0?_[N]+" "+j:Tt(j,/&\f/g,_[N])))&&(m[M++]=L);return jg(n,t,i,d===0?l_:b,m,v,C)}function vne(n,t,i){return jg(n,t,i,$N,Og(pne()),Kd(n,2,-2),0)}function q5(n,t,i,c){return jg(n,t,i,d_,Kd(n,0,c),Kd(n,c+1,-1),c)}function dc(n,t){for(var i="",c=u_(n),d=0;d<c;d++)i+=t(n[d],d,n,t)||"";return i}function _ne(n,t,i,c){switch(n.type){case ane:if(n.children.length)break;case sne:case d_:return n.return=n.return||n.value;case $N:return"";case UN:return n.return=n.value+"{"+dc(n.children,c)+"}";case l_:n.value=n.props.join(",")}return Ei(i=dc(n.children,c))?n.return=n.value+"{"+i+"}":""}function Cne(n){var t=u_(n);return function(i,c,d,h){for(var f="",b=0;b<t;b++)f+=n[b](i,c,d,h)||"";return f}}function Ane(n){return function(t){t.root||(t=t.return)&&n(t)}}var yne=function(t,i,c){for(var d=0,h=0;d=h,h=Oi(),d===38&&h===12&&(i[c]=1),!Yd(h);)Mo();return Su(t,wo)},xne=function(t,i){var c=-1,d=44;do switch(Yd(d)){case 0:d===38&&Oi()===12&&(i[c]=1),t[c]+=yne(wo-1,i,c);break;case 2:t[c]+=qp(d);break;case 4:if(d===44){t[++c]=Oi()===58?"&\f":"",i[c]=t[c].length;break}default:t[c]+=Og(d)}while(d=Mo());return t},Ene=function(t,i){return GN(xne(qN(t),i))},G5=new WeakMap,Tne=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var i=t.value,c=t.parent,d=t.column===c.column&&t.line===c.line;c.type!=="rule";)if(c=c.parent,!c)return;if(!(t.props.length===1&&i.charCodeAt(0)!==58&&!G5.get(c))&&!d){G5.set(t,!0);for(var h=[],f=Ene(i,h),b=c.props,m=0,v=0;m<f.length;m++)for(var C=0;C<b.length;C++,v++)t.props[v]=h[m]?f[m].replace(/&\f/g,b[C]):b[C]+" "+f[m]}}},Ine=function(t){if(t.type==="decl"){var i=t.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(t.return="",t.value="")}};function KN(n,t){switch(dne(n,t)){case 5103:return Et+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Et+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Et+n+Tf+n+Wn+n+n;case 6828:case 4268:return Et+n+Wn+n+n;case 6165:return Et+n+Wn+"flex-"+n+n;case 5187:return Et+n+Tt(n,/(\w+).+(:[^]+)/,Et+"box-$1$2"+Wn+"flex-$1$2")+n;case 5443:return Et+n+Wn+"flex-item-"+Tt(n,/flex-|-self/,"")+n;case 4675:return Et+n+Wn+"flex-line-pack"+Tt(n,/align-content|flex-|-self/,"")+n;case 5548:return Et+n+Wn+Tt(n,"shrink","negative")+n;case 5292:return Et+n+Wn+Tt(n,"basis","preferred-size")+n;case 6060:return Et+"box-"+Tt(n,"-grow","")+Et+n+Wn+Tt(n,"grow","positive")+n;case 4554:return Et+Tt(n,/([^-])(transform)/g,"$1"+Et+"$2")+n;case 6187:return Tt(Tt(Tt(n,/(zoom-|grab)/,Et+"$1"),/(image-set)/,Et+"$1"),n,"")+n;case 5495:case 3959:return Tt(n,/(image-set\([^]*)/,Et+"$1$`$1");case 4968:return Tt(Tt(n,/(.+:)(flex-)?(.*)/,Et+"box-pack:$3"+Wn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Et+n+n;case 4095:case 3583:case 4068:case 2532:return Tt(n,/(.+)-inline(.+)/,Et+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ei(n)-1-t>6)switch(Vn(n,t+1)){case 109:if(Vn(n,t+4)!==45)break;case 102:return Tt(n,/(.+:)(.+)-([^]+)/,"$1"+Et+"$2-$3$1"+Tf+(Vn(n,t+3)==108?"$3":"$2-$3"))+n;case 115:return~gw(n,"stretch")?KN(Tt(n,"stretch","fill-available"),t)+n:n}break;case 4949:if(Vn(n,t+1)!==115)break;case 6444:switch(Vn(n,Ei(n)-3-(~gw(n,"!important")&&10))){case 107:return Tt(n,":",":"+Et)+n;case 101:return Tt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Et+(Vn(n,14)===45?"inline-":"")+"box$3$1"+Et+"$2$3$1"+Wn+"$2box$3")+n}break;case 5936:switch(Vn(n,t+11)){case 114:return Et+n+Wn+Tt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Et+n+Wn+Tt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Et+n+Wn+Tt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Et+n+Wn+n+n}return n}var Sne=function(t,i,c,d){if(t.length>-1&&!t.return)switch(t.type){case d_:t.return=KN(t.value,t.length);break;case UN:return dc([Kl(t,{value:Tt(t.value,"@","@"+Et)})],d);case l_:if(t.length)return hne(t.props,function(h){switch(une(h,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return dc([Kl(t,{props:[Tt(h,/:(read-\w+)/,":"+Tf+"$1")]})],d);case"::placeholder":return dc([Kl(t,{props:[Tt(h,/:(plac\w+)/,":"+Et+"input-$1")]}),Kl(t,{props:[Tt(h,/:(plac\w+)/,":"+Tf+"$1")]}),Kl(t,{props:[Tt(h,/:(plac\w+)/,Wn+"input-$1")]})],d)}return""})}},Dne=[Sne],YN=function(t){var i=t.key;if(i==="css"){var c=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(c,function(S){var M=S.getAttribute("data-emotion");M.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var d=t.stylisPlugins||Dne,h={},f,b=[];f=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(S){for(var M=S.getAttribute("data-emotion").split(" "),N=1;N<M.length;N++)h[M[N]]=!0;b.push(S)});var m,v=[Tne,Ine];{var C,y=[_ne,Ane(function(S){C.insert(S)})],_=Cne(v.concat(d,y)),x=function(M){return dc(wne(M),_)};m=function(M,N,j,L){C=j,x(M?M+"{"+N.styles+"}":N.styles),L&&(I.inserted[N.name]=!0)}}var I={key:i,sheet:new rne({key:i,container:f,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:h,registered:{},insert:m};return I.sheet.hydrate(b),I},QN={exports:{}},Bt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var On=typeof Symbol=="function"&&Symbol.for,h_=On?Symbol.for("react.element"):60103,p_=On?Symbol.for("react.portal"):60106,zg=On?Symbol.for("react.fragment"):60107,Fg=On?Symbol.for("react.strict_mode"):60108,Vg=On?Symbol.for("react.profiler"):60114,$g=On?Symbol.for("react.provider"):60109,Ug=On?Symbol.for("react.context"):60110,f_=On?Symbol.for("react.async_mode"):60111,Hg=On?Symbol.for("react.concurrent_mode"):60111,Wg=On?Symbol.for("react.forward_ref"):60112,qg=On?Symbol.for("react.suspense"):60113,Mne=On?Symbol.for("react.suspense_list"):60120,Gg=On?Symbol.for("react.memo"):60115,Kg=On?Symbol.for("react.lazy"):60116,Pne=On?Symbol.for("react.block"):60121,Rne=On?Symbol.for("react.fundamental"):60117,Bne=On?Symbol.for("react.responder"):60118,Nne=On?Symbol.for("react.scope"):60119;function Bo(n){if(typeof n=="object"&&n!==null){var t=n.$$typeof;switch(t){case h_:switch(n=n.type,n){case f_:case Hg:case zg:case Vg:case Fg:case qg:return n;default:switch(n=n&&n.$$typeof,n){case Ug:case Wg:case Kg:case Gg:case $g:return n;default:return t}}case p_:return t}}}function ZN(n){return Bo(n)===Hg}Bt.AsyncMode=f_;Bt.ConcurrentMode=Hg;Bt.ContextConsumer=Ug;Bt.ContextProvider=$g;Bt.Element=h_;Bt.ForwardRef=Wg;Bt.Fragment=zg;Bt.Lazy=Kg;Bt.Memo=Gg;Bt.Portal=p_;Bt.Profiler=Vg;Bt.StrictMode=Fg;Bt.Suspense=qg;Bt.isAsyncMode=function(n){return ZN(n)||Bo(n)===f_};Bt.isConcurrentMode=ZN;Bt.isContextConsumer=function(n){return Bo(n)===Ug};Bt.isContextProvider=function(n){return Bo(n)===$g};Bt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===h_};Bt.isForwardRef=function(n){return Bo(n)===Wg};Bt.isFragment=function(n){return Bo(n)===zg};Bt.isLazy=function(n){return Bo(n)===Kg};Bt.isMemo=function(n){return Bo(n)===Gg};Bt.isPortal=function(n){return Bo(n)===p_};Bt.isProfiler=function(n){return Bo(n)===Vg};Bt.isStrictMode=function(n){return Bo(n)===Fg};Bt.isSuspense=function(n){return Bo(n)===qg};Bt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===zg||n===Hg||n===Vg||n===Fg||n===qg||n===Mne||typeof n=="object"&&n!==null&&(n.$$typeof===Kg||n.$$typeof===Gg||n.$$typeof===$g||n.$$typeof===Ug||n.$$typeof===Wg||n.$$typeof===Rne||n.$$typeof===Bne||n.$$typeof===Nne||n.$$typeof===Pne)};Bt.typeOf=Bo;QN.exports=Bt;var One=QN.exports,JN=One,Lne={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},jne={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},XN={};XN[JN.ForwardRef]=Lne;XN[JN.Memo]=jne;var zne=!0;function Fne(n,t,i){var c="";return i.split(" ").forEach(function(d){n[d]!==void 0?t.push(n[d]+";"):c+=d+" "}),c}var eO=function(t,i,c){var d=t.key+"-"+i.name;(c===!1||zne===!1)&&t.registered[d]===void 0&&(t.registered[d]=i.styles)},tO=function(t,i,c){eO(t,i,c);var d=t.key+"-"+i.name;if(t.inserted[i.name]===void 0){var h=i;do t.insert(i===h?"."+d:"",h,t.sheet,!0),h=h.next;while(h!==void 0)}};function Vne(n){for(var t=0,i,c=0,d=n.length;d>=4;++c,d-=4)i=n.charCodeAt(c)&255|(n.charCodeAt(++c)&255)<<8|(n.charCodeAt(++c)&255)<<16|(n.charCodeAt(++c)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,t=(i&65535)*1540483477+((i>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(d){case 3:t^=(n.charCodeAt(c+2)&255)<<16;case 2:t^=(n.charCodeAt(c+1)&255)<<8;case 1:t^=n.charCodeAt(c)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var $ne={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Une=/[A-Z]|^ms/g,Hne=/_EMO_([^_]+?)_([^]*?)_EMO_/g,nO=function(t){return t.charCodeAt(1)===45},K5=function(t){return t!=null&&typeof t!="boolean"},f0=VN(function(n){return nO(n)?n:n.replace(Une,"-$&").toLowerCase()}),Y5=function(t,i){switch(t){case"animation":case"animationName":if(typeof i=="string")return i.replace(Hne,function(c,d,h){return Ti={name:d,styles:h,next:Ti},d})}return $ne[t]!==1&&!nO(t)&&typeof i=="number"&&i!==0?i+"px":i};function Qd(n,t,i){if(i==null)return"";if(i.__emotion_styles!==void 0)return i;switch(typeof i){case"boolean":return"";case"object":{if(i.anim===1)return Ti={name:i.name,styles:i.styles,next:Ti},i.name;if(i.styles!==void 0){var c=i.next;if(c!==void 0)for(;c!==void 0;)Ti={name:c.name,styles:c.styles,next:Ti},c=c.next;var d=i.styles+";";return d}return Wne(n,t,i)}case"function":{if(n!==void 0){var h=Ti,f=i(n);return Ti=h,Qd(n,t,f)}break}}if(t==null)return i;var b=t[i];return b!==void 0?b:i}function Wne(n,t,i){var c="";if(Array.isArray(i))for(var d=0;d<i.length;d++)c+=Qd(n,t,i[d])+";";else for(var h in i){var f=i[h];if(typeof f!="object")t!=null&&t[f]!==void 0?c+=h+"{"+t[f]+"}":K5(f)&&(c+=f0(h)+":"+Y5(h,f)+";");else if(Array.isArray(f)&&typeof f[0]=="string"&&(t==null||t[f[0]]===void 0))for(var b=0;b<f.length;b++)K5(f[b])&&(c+=f0(h)+":"+Y5(h,f[b])+";");else{var m=Qd(n,t,f);switch(h){case"animation":case"animationName":{c+=f0(h)+":"+m+";";break}default:c+=h+"{"+m+"}"}}}return c}var Q5=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ti,g_=function(t,i,c){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var d=!0,h="";Ti=void 0;var f=t[0];f==null||f.raw===void 0?(d=!1,h+=Qd(c,i,f)):h+=f[0];for(var b=1;b<t.length;b++)h+=Qd(c,i,t[b]),d&&(h+=f[b]);Q5.lastIndex=0;for(var m="",v;(v=Q5.exec(h))!==null;)m+="-"+v[1];var C=Vne(h)+m;return{name:C,styles:h,next:Ti}},qne=function(t){return t()},oO=tf.useInsertionEffect?tf.useInsertionEffect:!1,Gne=oO||qne,Z5=oO||O.useLayoutEffect,iO=O.createContext(typeof HTMLElement<"u"?YN({key:"css"}):null),Kne=iO.Provider,rO=function(t){return O.forwardRef(function(i,c){var d=O.useContext(iO);return t(i,d,c)})},Yg=O.createContext({}),g0={exports:{}},J5;function sO(){return J5||(J5=1,function(n){function t(){return n.exports=t=Object.assign?Object.assign.bind():function(i){for(var c=1;c<arguments.length;c++){var d=arguments[c];for(var h in d)({}).hasOwnProperty.call(d,h)&&(i[h]=d[h])}return i},n.exports.__esModule=!0,n.exports.default=n.exports,t.apply(null,arguments)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(g0)),g0.exports}sO();var Yne=rO(function(n,t){var i=n.styles,c=g_([i],void 0,O.useContext(Yg)),d=O.useRef();return Z5(function(){var h=t.key+"-global",f=new t.sheet.constructor({key:h,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),b=!1,m=document.querySelector('style[data-emotion="'+h+" "+c.name+'"]');return t.sheet.tags.length&&(f.before=t.sheet.tags[0]),m!==null&&(b=!0,m.setAttribute("data-emotion",h),f.hydrate([m])),d.current=[f,b],function(){f.flush()}},[t]),Z5(function(){var h=d.current,f=h[0],b=h[1];if(b){h[1]=!1;return}if(c.next!==void 0&&tO(t,c.next,!0),f.tags.length){var m=f.tags[f.tags.length-1].nextElementSibling;f.before=m,f.flush()}t.insert("",c,f,!1)},[t,c.name]),null});function Qg(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return g_(t)}var Uc=function(){var t=Qg.apply(void 0,arguments),i="animation-"+t.name;return{name:i,styles:"@keyframes "+i+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Qne=nne,Zne=function(t){return t!=="theme"},X5=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Qne:Zne},eM=function(t,i,c){var d;if(i){var h=i.shouldForwardProp;d=t.__emotion_forwardProp&&h?function(f){return t.__emotion_forwardProp(f)&&h(f)}:h}return typeof d!="function"&&c&&(d=t.__emotion_forwardProp),d},Jne=function(t){var i=t.cache,c=t.serialized,d=t.isStringTag;return eO(i,c,d),Gne(function(){return tO(i,c,d)}),null},Xne=function n(t,i){var c=t.__emotion_real===t,d=c&&t.__emotion_base||t,h,f;i!==void 0&&(h=i.label,f=i.target);var b=eM(t,i,c),m=b||X5(d),v=!m("as");return function(){var C=arguments,y=c&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(h!==void 0&&y.push("label:"+h+";"),C[0]==null||C[0].raw===void 0)y.push.apply(y,C);else{y.push(C[0][0]);for(var _=C.length,x=1;x<_;x++)y.push(C[x],C[0][x])}var I=rO(function(S,M,N){var j=v&&S.as||d,L="",V=[],H=S;if(S.theme==null){H={};for(var W in S)H[W]=S[W];H.theme=O.useContext(Yg)}typeof S.className=="string"?L=Fne(M.registered,V,S.className):S.className!=null&&(L=S.className+" ");var P=g_(y.concat(V),M.registered,H);L+=M.key+"-"+P.name,f!==void 0&&(L+=" "+f);var U=v&&b===void 0?X5(j):m,G={};for(var Q in S)v&&Q==="as"||U(Q)&&(G[Q]=S[Q]);return G.className=L,G.ref=N,O.createElement(O.Fragment,null,O.createElement(Jne,{cache:M,serialized:P,isStringTag:typeof j=="string"}),O.createElement(j,G))});return I.displayName=h!==void 0?h:"Styled("+(typeof d=="string"?d:d.displayName||d.name||"Component")+")",I.defaultProps=t.defaultProps,I.__emotion_real=I,I.__emotion_base=d,I.__emotion_styles=y,I.__emotion_forwardProp=b,Object.defineProperty(I,"toString",{value:function(){return"."+f}}),I.withComponent=function(S,M){return n(S,F({},i,M,{shouldForwardProp:eM(I,M,!0)})).apply(void 0,y)},I}},eoe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],bw=Xne.bind();eoe.forEach(function(n){bw[n]=bw(n)});var aO={exports:{}},toe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",noe=toe,ooe=noe;function cO(){}function lO(){}lO.resetWarningCache=cO;var ioe=function(){function n(c,d,h,f,b,m){if(m!==ooe){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function t(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:t,element:n,elementType:n,instanceOf:t,node:n,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:lO,resetWarningCache:cO};return i.PropTypes=i,i};aO.exports=ioe();var roe=aO.exports;let kw;typeof document=="object"&&(kw=YN({key:"css",prepend:!0}));function soe(n){const{injectFirst:t,children:i}=n;return t&&kw?R.jsx(Kne,{value:kw,children:i}):i}function aoe(n){return n==null||Object.keys(n).length===0}function dO(n){const{styles:t,defaultTheme:i={}}=n,c=typeof t=="function"?d=>t(aoe(d)?i:d):t;return R.jsx(Yne,{styles:c})}function m_(n,t){return bw(n,t)}const uO=(n,t)=>{Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=t(n.__emotion_styles))},coe=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:dO,StyledEngineProvider:soe,ThemeContext:Yg,css:Qg,default:m_,internal_processStyles:uO,keyframes:Uc},Symbol.toStringTag,{value:"Module"}));function rr(n){if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function hO(n){if(!rr(n))return n;const t={};return Object.keys(n).forEach(i=>{t[i]=hO(n[i])}),t}function go(n,t,i={clone:!0}){const c=i.clone?F({},n):n;return rr(n)&&rr(t)&&Object.keys(t).forEach(d=>{rr(t[d])&&Object.prototype.hasOwnProperty.call(n,d)&&rr(n[d])?c[d]=go(n[d],t[d],i):i.clone?c[d]=rr(t[d])?hO(t[d]):t[d]:c[d]=t[d]}),c}const loe=Object.freeze(Object.defineProperty({__proto__:null,default:go,isPlainObject:rr},Symbol.toStringTag,{value:"Module"})),doe=["values","unit","step"],uoe=n=>{const t=Object.keys(n).map(i=>({key:i,val:n[i]}))||[];return t.sort((i,c)=>i.val-c.val),t.reduce((i,c)=>F({},i,{[c.key]:c.val}),{})};function pO(n){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:i="px",step:c=5}=n,d=we(n,doe),h=uoe(t),f=Object.keys(h);function b(_){return`@media (min-width:${typeof t[_]=="number"?t[_]:_}${i})`}function m(_){return`@media (max-width:${(typeof t[_]=="number"?t[_]:_)-c/100}${i})`}function v(_,x){const I=f.indexOf(x);return`@media (min-width:${typeof t[_]=="number"?t[_]:_}${i}) and (max-width:${(I!==-1&&typeof t[f[I]]=="number"?t[f[I]]:x)-c/100}${i})`}function C(_){return f.indexOf(_)+1<f.length?v(_,f[f.indexOf(_)+1]):b(_)}function y(_){const x=f.indexOf(_);return x===0?b(f[1]):x===f.length-1?m(f[x]):v(_,f[f.indexOf(_)+1]).replace("@media","@media not all and")}return F({keys:f,values:h,up:b,down:m,between:v,only:C,not:y,unit:i},d)}const hoe={borderRadius:4};function kd(n,t){return t?go(n,t,{clone:!1}):n}const b_={xs:0,sm:600,md:900,lg:1200,xl:1536},tM={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${b_[n]}px)`};function Zo(n,t,i){const c=n.theme||{};if(Array.isArray(t)){const h=c.breakpoints||tM;return t.reduce((f,b,m)=>(f[h.up(h.keys[m])]=i(t[m]),f),{})}if(typeof t=="object"){const h=c.breakpoints||tM;return Object.keys(t).reduce((f,b)=>{if(Object.keys(h.values||b_).indexOf(b)!==-1){const m=h.up(b);f[m]=i(t[b],b)}else{const m=b;f[m]=t[m]}return f},{})}return i(t)}function fO(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((c,d)=>{const h=n.up(d);return c[h]={},c},{}))||{}}function gO(n,t){return n.reduce((i,c)=>{const d=i[c];return(!d||Object.keys(d).length===0)&&delete i[c],i},t)}function p0e(n,...t){const i=fO(n),c=[i,...t].reduce((d,h)=>go(d,h),{});return gO(Object.keys(i),c)}function poe(n,t){if(typeof n!="object")return{};const i={},c=Object.keys(t);return Array.isArray(n)?c.forEach((d,h)=>{h<n.length&&(i[d]=!0)}):c.forEach(d=>{n[d]!=null&&(i[d]=!0)}),i}function Zg({values:n,breakpoints:t,base:i}){const c=i||poe(n,t),d=Object.keys(c);if(d.length===0)return n;let h;return d.reduce((f,b,m)=>(Array.isArray(n)?(f[b]=n[m]!=null?n[m]:n[h],h=m):typeof n=="object"?(f[b]=n[b]!=null?n[b]:n[h],h=b):f[b]=n,f),{})}function pe(n){if(typeof n!="string")throw new Error(Zs(7));return n.charAt(0).toUpperCase()+n.slice(1)}const foe=Object.freeze(Object.defineProperty({__proto__:null,default:pe},Symbol.toStringTag,{value:"Module"}));function yc(n,t,i=!0){if(!t||typeof t!="string")return null;if(n&&n.vars&&i){const c=`vars.${t}`.split(".").reduce((d,h)=>d&&d[h]?d[h]:null,n);if(c!=null)return c}return t.split(".").reduce((c,d)=>c&&c[d]!=null?c[d]:null,n)}function If(n,t,i,c=i){let d;return typeof n=="function"?d=n(i):Array.isArray(n)?d=n[i]||c:d=yc(n,i)||c,t&&(d=t(d,c,n)),d}function gn(n){const{prop:t,cssProperty:i=n.prop,themeKey:c,transform:d}=n,h=f=>{if(f[t]==null)return null;const b=f[t],m=f.theme,v=yc(m,c)||{};return Zo(f,b,y=>{let _=If(v,d,y);return y===_&&typeof y=="string"&&(_=If(v,d,`${t}${y==="default"?"":pe(y)}`,y)),i===!1?_:{[i]:_}})};return h.propTypes={},h.filterProps=[t],h}function goe(n){const t={};return i=>(t[i]===void 0&&(t[i]=n(i)),t[i])}const moe={m:"margin",p:"padding"},boe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},nM={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},koe=goe(n=>{if(n.length>2)if(nM[n])n=nM[n];else return[n];const[t,i]=n.split(""),c=moe[t],d=boe[i]||"";return Array.isArray(d)?d.map(h=>c+h):[c+d]}),k_=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],w_=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...k_,...w_];function Du(n,t,i,c){var d;const h=(d=yc(n,t,!1))!=null?d:i;return typeof h=="number"?f=>typeof f=="string"?f:h*f:Array.isArray(h)?f=>typeof f=="string"?f:h[f]:typeof h=="function"?h:()=>{}}function mO(n){return Du(n,"spacing",8)}function Mu(n,t){if(typeof t=="string"||t==null)return t;const i=Math.abs(t),c=n(i);return t>=0?c:typeof c=="number"?-c:`-${c}`}function woe(n,t){return i=>n.reduce((c,d)=>(c[d]=Mu(t,i),c),{})}function voe(n,t,i,c){if(t.indexOf(i)===-1)return null;const d=koe(i),h=woe(d,c),f=n[i];return Zo(n,f,h)}function bO(n,t){const i=mO(n.theme);return Object.keys(n).map(c=>voe(n,t,c,i)).reduce(kd,{})}function an(n){return bO(n,k_)}an.propTypes={};an.filterProps=k_;function cn(n){return bO(n,w_)}cn.propTypes={};cn.filterProps=w_;function _oe(n=8){if(n.mui)return n;const t=mO({spacing:n}),i=(...c)=>(c.length===0?[1]:c).map(h=>{const f=t(h);return typeof f=="number"?`${f}px`:f}).join(" ");return i.mui=!0,i}function Jg(...n){const t=n.reduce((c,d)=>(d.filterProps.forEach(h=>{c[h]=d}),c),{}),i=c=>Object.keys(c).reduce((d,h)=>t[h]?kd(d,t[h](c)):d,{});return i.propTypes={},i.filterProps=n.reduce((c,d)=>c.concat(d.filterProps),[]),i}function Wo(n){return typeof n!="number"?n:`${n}px solid`}function ti(n,t){return gn({prop:n,themeKey:"borders",transform:t})}const Coe=ti("border",Wo),Aoe=ti("borderTop",Wo),yoe=ti("borderRight",Wo),xoe=ti("borderBottom",Wo),Eoe=ti("borderLeft",Wo),Toe=ti("borderColor"),Ioe=ti("borderTopColor"),Soe=ti("borderRightColor"),Doe=ti("borderBottomColor"),Moe=ti("borderLeftColor"),Poe=ti("outline",Wo),Roe=ti("outlineColor"),Xg=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const t=Du(n.theme,"shape.borderRadius",4),i=c=>({borderRadius:Mu(t,c)});return Zo(n,n.borderRadius,i)}return null};Xg.propTypes={};Xg.filterProps=["borderRadius"];Jg(Coe,Aoe,yoe,xoe,Eoe,Toe,Ioe,Soe,Doe,Moe,Xg,Poe,Roe);const em=n=>{if(n.gap!==void 0&&n.gap!==null){const t=Du(n.theme,"spacing",8),i=c=>({gap:Mu(t,c)});return Zo(n,n.gap,i)}return null};em.propTypes={};em.filterProps=["gap"];const tm=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const t=Du(n.theme,"spacing",8),i=c=>({columnGap:Mu(t,c)});return Zo(n,n.columnGap,i)}return null};tm.propTypes={};tm.filterProps=["columnGap"];const nm=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const t=Du(n.theme,"spacing",8),i=c=>({rowGap:Mu(t,c)});return Zo(n,n.rowGap,i)}return null};nm.propTypes={};nm.filterProps=["rowGap"];const Boe=gn({prop:"gridColumn"}),Noe=gn({prop:"gridRow"}),Ooe=gn({prop:"gridAutoFlow"}),Loe=gn({prop:"gridAutoColumns"}),joe=gn({prop:"gridAutoRows"}),zoe=gn({prop:"gridTemplateColumns"}),Foe=gn({prop:"gridTemplateRows"}),Voe=gn({prop:"gridTemplateAreas"}),$oe=gn({prop:"gridArea"});Jg(em,tm,nm,Boe,Noe,Ooe,Loe,joe,zoe,Foe,Voe,$oe);function uc(n,t){return t==="grey"?t:n}const Uoe=gn({prop:"color",themeKey:"palette",transform:uc}),Hoe=gn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:uc}),Woe=gn({prop:"backgroundColor",themeKey:"palette",transform:uc});Jg(Uoe,Hoe,Woe);function Io(n){return n<=1&&n!==0?`${n*100}%`:n}const qoe=gn({prop:"width",transform:Io}),v_=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const t=i=>{var c,d;const h=((c=n.theme)==null||(c=c.breakpoints)==null||(c=c.values)==null?void 0:c[i])||b_[i];return h?((d=n.theme)==null||(d=d.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${h}${n.theme.breakpoints.unit}`}:{maxWidth:h}:{maxWidth:Io(i)}};return Zo(n,n.maxWidth,t)}return null};v_.filterProps=["maxWidth"];const Goe=gn({prop:"minWidth",transform:Io}),Koe=gn({prop:"height",transform:Io}),Yoe=gn({prop:"maxHeight",transform:Io}),Qoe=gn({prop:"minHeight",transform:Io});gn({prop:"size",cssProperty:"width",transform:Io});gn({prop:"size",cssProperty:"height",transform:Io});const Zoe=gn({prop:"boxSizing"});Jg(qoe,v_,Goe,Koe,Yoe,Qoe,Zoe);const Pu={border:{themeKey:"borders",transform:Wo},borderTop:{themeKey:"borders",transform:Wo},borderRight:{themeKey:"borders",transform:Wo},borderBottom:{themeKey:"borders",transform:Wo},borderLeft:{themeKey:"borders",transform:Wo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Wo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Xg},color:{themeKey:"palette",transform:uc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:uc},backgroundColor:{themeKey:"palette",transform:uc},p:{style:cn},pt:{style:cn},pr:{style:cn},pb:{style:cn},pl:{style:cn},px:{style:cn},py:{style:cn},padding:{style:cn},paddingTop:{style:cn},paddingRight:{style:cn},paddingBottom:{style:cn},paddingLeft:{style:cn},paddingX:{style:cn},paddingY:{style:cn},paddingInline:{style:cn},paddingInlineStart:{style:cn},paddingInlineEnd:{style:cn},paddingBlock:{style:cn},paddingBlockStart:{style:cn},paddingBlockEnd:{style:cn},m:{style:an},mt:{style:an},mr:{style:an},mb:{style:an},ml:{style:an},mx:{style:an},my:{style:an},margin:{style:an},marginTop:{style:an},marginRight:{style:an},marginBottom:{style:an},marginLeft:{style:an},marginX:{style:an},marginY:{style:an},marginInline:{style:an},marginInlineStart:{style:an},marginInlineEnd:{style:an},marginBlock:{style:an},marginBlockStart:{style:an},marginBlockEnd:{style:an},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:em},rowGap:{style:nm},columnGap:{style:tm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Io},maxWidth:{style:v_},minWidth:{transform:Io},height:{transform:Io},maxHeight:{transform:Io},minHeight:{transform:Io},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Joe(...n){const t=n.reduce((c,d)=>c.concat(Object.keys(d)),[]),i=new Set(t);return n.every(c=>i.size===Object.keys(c).length)}function Xoe(n,t){return typeof n=="function"?n(t):n}function kO(){function n(i,c,d,h){const f={[i]:c,theme:d},b=h[i];if(!b)return{[i]:c};const{cssProperty:m=i,themeKey:v,transform:C,style:y}=b;if(c==null)return null;if(v==="typography"&&c==="inherit")return{[i]:c};const _=yc(d,v)||{};return y?y(f):Zo(f,c,I=>{let S=If(_,C,I);return I===S&&typeof I=="string"&&(S=If(_,C,`${i}${I==="default"?"":pe(I)}`,I)),m===!1?S:{[m]:S}})}function t(i){var c;const{sx:d,theme:h={}}=i||{};if(!d)return null;const f=(c=h.unstable_sxConfig)!=null?c:Pu;function b(m){let v=m;if(typeof m=="function")v=m(h);else if(typeof m!="object")return m;if(!v)return null;const C=fO(h.breakpoints),y=Object.keys(C);let _=C;return Object.keys(v).forEach(x=>{const I=Xoe(v[x],h);if(I!=null)if(typeof I=="object")if(f[x])_=kd(_,n(x,I,h,f));else{const S=Zo({theme:h},I,M=>({[x]:M}));Joe(S,I)?_[x]=t({sx:I,theme:h}):_=kd(_,S)}else _=kd(_,n(x,I,h,f))}),gO(y,_)}return Array.isArray(d)?d.map(b):b(d)}return t}const Hc=kO();Hc.filterProps=["sx"];function wO(n,t){const i=this;return i.vars&&typeof i.getColorSchemeSelector=="function"?{[i.getColorSchemeSelector(n).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:i.palette.mode===n?t:{}}const eie=["breakpoints","palette","spacing","shape"];function Ru(n={},...t){const{breakpoints:i={},palette:c={},spacing:d,shape:h={}}=n,f=we(n,eie),b=pO(i),m=_oe(d);let v=go({breakpoints:b,direction:"ltr",components:{},palette:F({mode:"light"},c),spacing:m,shape:F({},hoe,h)},f);return v.applyStyles=wO,v=t.reduce((C,y)=>go(C,y),v),v.unstable_sxConfig=F({},Pu,f==null?void 0:f.unstable_sxConfig),v.unstable_sx=function(y){return Hc({sx:y,theme:this})},v}const tie=Object.freeze(Object.defineProperty({__proto__:null,default:Ru,private_createBreakpoints:pO,unstable_applyStyles:wO},Symbol.toStringTag,{value:"Module"}));function nie(n){return Object.keys(n).length===0}function oie(n=null){const t=O.useContext(Yg);return!t||nie(t)?n:t}const iie=Ru();function om(n=iie){return oie(n)}function rie({styles:n,themeId:t,defaultTheme:i={}}){const c=om(i),d=typeof n=="function"?n(t&&c[t]||c):n;return R.jsx(dO,{styles:d})}const sie=["sx"],aie=n=>{var t,i;const c={systemProps:{},otherProps:{}},d=(t=n==null||(i=n.theme)==null?void 0:i.unstable_sxConfig)!=null?t:Pu;return Object.keys(n).forEach(h=>{d[h]?c.systemProps[h]=n[h]:c.otherProps[h]=n[h]}),c};function im(n){const{sx:t}=n,i=we(n,sie),{systemProps:c,otherProps:d}=aie(i);let h;return Array.isArray(t)?h=[c,...t]:typeof t=="function"?h=(...f)=>{const b=t(...f);return rr(b)?F({},c,b):c}:h=F({},c,t),F({},d,{sx:h})}const cie=Object.freeze(Object.defineProperty({__proto__:null,default:Hc,extendSxProp:im,unstable_createStyleFunctionSx:kO,unstable_defaultSxConfig:Pu},Symbol.toStringTag,{value:"Module"})),oM=n=>n,lie=()=>{let n=oM;return{configure(t){n=t},generate(t){return n(t)},reset(){n=oM}}},__=lie();function vO(n){var t,i,c="";if(typeof n=="string"||typeof n=="number")c+=n;else if(typeof n=="object")if(Array.isArray(n)){var d=n.length;for(t=0;t<d;t++)n[t]&&(i=vO(n[t]))&&(c&&(c+=" "),c+=i)}else for(i in n)n[i]&&(c&&(c+=" "),c+=i);return c}function _e(){for(var n,t,i=0,c="",d=arguments.length;i<d;i++)(n=arguments[i])&&(t=vO(n))&&(c&&(c+=" "),c+=t);return c}const die=["className","component"];function uie(n={}){const{themeId:t,defaultTheme:i,defaultClassName:c="MuiBox-root",generateClassName:d}=n,h=m_("div",{shouldForwardProp:b=>b!=="theme"&&b!=="sx"&&b!=="as"})(Hc);return O.forwardRef(function(m,v){const C=om(i),y=im(m),{className:_,component:x="div"}=y,I=we(y,die);return R.jsx(h,F({as:x,ref:v,className:_e(_,d?d(c):c),theme:t&&C[t]||C},I))})}const _O={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ze(n,t,i="Mui"){const c=_O[t];return c?`${i}-${c}`:`${__.generate(n)}-${t}`}function Le(n,t,i="Mui"){const c={};return t.forEach(d=>{c[d]=ze(n,d,i)}),c}var CO={exports:{}},Nt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_=Symbol.for("react.element"),A_=Symbol.for("react.portal"),rm=Symbol.for("react.fragment"),sm=Symbol.for("react.strict_mode"),am=Symbol.for("react.profiler"),cm=Symbol.for("react.provider"),lm=Symbol.for("react.context"),hie=Symbol.for("react.server_context"),dm=Symbol.for("react.forward_ref"),um=Symbol.for("react.suspense"),hm=Symbol.for("react.suspense_list"),pm=Symbol.for("react.memo"),fm=Symbol.for("react.lazy"),pie=Symbol.for("react.offscreen"),AO;AO=Symbol.for("react.module.reference");function ni(n){if(typeof n=="object"&&n!==null){var t=n.$$typeof;switch(t){case C_:switch(n=n.type,n){case rm:case am:case sm:case um:case hm:return n;default:switch(n=n&&n.$$typeof,n){case hie:case lm:case dm:case fm:case pm:case cm:return n;default:return t}}case A_:return t}}}Nt.ContextConsumer=lm;Nt.ContextProvider=cm;Nt.Element=C_;Nt.ForwardRef=dm;Nt.Fragment=rm;Nt.Lazy=fm;Nt.Memo=pm;Nt.Portal=A_;Nt.Profiler=am;Nt.StrictMode=sm;Nt.Suspense=um;Nt.SuspenseList=hm;Nt.isAsyncMode=function(){return!1};Nt.isConcurrentMode=function(){return!1};Nt.isContextConsumer=function(n){return ni(n)===lm};Nt.isContextProvider=function(n){return ni(n)===cm};Nt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===C_};Nt.isForwardRef=function(n){return ni(n)===dm};Nt.isFragment=function(n){return ni(n)===rm};Nt.isLazy=function(n){return ni(n)===fm};Nt.isMemo=function(n){return ni(n)===pm};Nt.isPortal=function(n){return ni(n)===A_};Nt.isProfiler=function(n){return ni(n)===am};Nt.isStrictMode=function(n){return ni(n)===sm};Nt.isSuspense=function(n){return ni(n)===um};Nt.isSuspenseList=function(n){return ni(n)===hm};Nt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===rm||n===am||n===sm||n===um||n===hm||n===pie||typeof n=="object"&&n!==null&&(n.$$typeof===fm||n.$$typeof===pm||n.$$typeof===cm||n.$$typeof===lm||n.$$typeof===dm||n.$$typeof===AO||n.getModuleId!==void 0)};Nt.typeOf=ni;CO.exports=Nt;var iM=CO.exports;const fie=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function yO(n){const t=`${n}`.match(fie);return t&&t[1]||""}function xO(n,t=""){return n.displayName||n.name||yO(n)||t}function rM(n,t,i){const c=xO(t);return n.displayName||(c!==""?`${i}(${c})`:i)}function gie(n){if(n!=null){if(typeof n=="string")return n;if(typeof n=="function")return xO(n,"Component");if(typeof n=="object")switch(n.$$typeof){case iM.ForwardRef:return rM(n,n.render,"ForwardRef");case iM.Memo:return rM(n,n.type,"memo");default:return}}}const mie=Object.freeze(Object.defineProperty({__proto__:null,default:gie,getFunctionName:yO},Symbol.toStringTag,{value:"Module"})),bie=["ownerState"],kie=["variants"],wie=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function vie(n){return Object.keys(n).length===0}function _ie(n){return typeof n=="string"&&n.charCodeAt(0)>96}function m0(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Cie=Ru(),Aie=n=>n&&n.charAt(0).toLowerCase()+n.slice(1);function Sp({defaultTheme:n,theme:t,themeId:i}){return vie(t)?n:t[i]||t}function yie(n){return n?(t,i)=>i[n]:null}function Kp(n,t){let{ownerState:i}=t,c=we(t,bie);const d=typeof n=="function"?n(F({ownerState:i},c)):n;if(Array.isArray(d))return d.flatMap(h=>Kp(h,F({ownerState:i},c)));if(d&&typeof d=="object"&&Array.isArray(d.variants)){const{variants:h=[]}=d;let b=we(d,kie);return h.forEach(m=>{let v=!0;typeof m.props=="function"?v=m.props(F({ownerState:i},c,i)):Object.keys(m.props).forEach(C=>{(i==null?void 0:i[C])!==m.props[C]&&c[C]!==m.props[C]&&(v=!1)}),v&&(Array.isArray(b)||(b=[b]),b.push(typeof m.style=="function"?m.style(F({ownerState:i},c,i)):m.style))}),b}return d}function xie(n={}){const{themeId:t,defaultTheme:i=Cie,rootShouldForwardProp:c=m0,slotShouldForwardProp:d=m0}=n,h=f=>Hc(F({},f,{theme:Sp(F({},f,{defaultTheme:i,themeId:t}))}));return h.__mui_systemSx=!0,(f,b={})=>{uO(f,H=>H.filter(W=>!(W!=null&&W.__mui_systemSx)));const{name:m,slot:v,skipVariantsResolver:C,skipSx:y,overridesResolver:_=yie(Aie(v))}=b,x=we(b,wie),I=C!==void 0?C:v&&v!=="Root"&&v!=="root"||!1,S=y||!1;let M,N=m0;v==="Root"||v==="root"?N=c:v?N=d:_ie(f)&&(N=void 0);const j=m_(f,F({shouldForwardProp:N,label:M},x)),L=H=>typeof H=="function"&&H.__emotion_real!==H||rr(H)?W=>Kp(H,F({},W,{theme:Sp({theme:W.theme,defaultTheme:i,themeId:t})})):H,V=(H,...W)=>{let P=L(H);const U=W?W.map(L):[];m&&_&&U.push(ee=>{const re=Sp(F({},ee,{defaultTheme:i,themeId:t}));if(!re.components||!re.components[m]||!re.components[m].styleOverrides)return null;const J=re.components[m].styleOverrides,X={};return Object.entries(J).forEach(([oe,ie])=>{X[oe]=Kp(ie,F({},ee,{theme:re}))}),_(ee,X)}),m&&!I&&U.push(ee=>{var re;const J=Sp(F({},ee,{defaultTheme:i,themeId:t})),X=J==null||(re=J.components)==null||(re=re[m])==null?void 0:re.variants;return Kp({variants:X},F({},ee,{theme:J}))}),S||U.push(h);const G=U.length-W.length;if(Array.isArray(H)&&G>0){const ee=new Array(G).fill("");P=[...H,...ee],P.raw=[...H.raw,...ee]}const Q=j(P,...U);return f.muiName&&(Q.muiName=f.muiName),Q};return j.withConfig&&(V.withConfig=j.withConfig),V}}const Eie=xie();function y_(n,t){const i=F({},t);return Object.keys(n).forEach(c=>{if(c.toString().match(/^(components|slots)$/))i[c]=F({},n[c],i[c]);else if(c.toString().match(/^(componentsProps|slotProps)$/)){const d=n[c]||{},h=t[c];i[c]={},!h||!Object.keys(h)?i[c]=d:!d||!Object.keys(d)?i[c]=h:(i[c]=F({},h),Object.keys(d).forEach(f=>{i[c][f]=y_(d[f],h[f])}))}else i[c]===void 0&&(i[c]=n[c])}),i}function Tie(n){const{theme:t,name:i,props:c}=n;return!t||!t.components||!t.components[i]||!t.components[i].defaultProps?c:y_(t.components[i].defaultProps,c)}function EO({props:n,name:t,defaultTheme:i,themeId:c}){let d=om(i);return c&&(d=d[c]||d),Tie({theme:d,name:t,props:n})}const bi=typeof window<"u"?O.useLayoutEffect:O.useEffect;function Iie(n,t=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(n,i))}const Sie=Object.freeze(Object.defineProperty({__proto__:null,default:Iie},Symbol.toStringTag,{value:"Module"}));function ww(...n){return n.reduce((t,i)=>i==null?t:function(...d){t.apply(this,d),i.apply(this,d)},()=>{})}function x_(n,t=166){let i;function c(...d){const h=()=>{n.apply(this,d)};clearTimeout(i),i=setTimeout(h,t)}return c.clear=()=>{clearTimeout(i)},c}function Die(n,t){return()=>null}function wd(n,t){var i,c;return O.isValidElement(n)&&t.indexOf((i=n.type.muiName)!=null?i:(c=n.type)==null||(c=c._payload)==null||(c=c.value)==null?void 0:c.muiName)!==-1}function Tn(n){return n&&n.ownerDocument||document}function Qr(n){return Tn(n).defaultView||window}function Mie(n,t){return()=>null}function Sf(n,t){typeof n=="function"?n(t):n&&(n.current=t)}let sM=0;function Pie(n){const[t,i]=O.useState(n),c=n||t;return O.useEffect(()=>{t==null&&(sM+=1,i(`mui-${sM}`))},[t]),c}const aM=tf.useId;function Bu(n){if(aM!==void 0){const t=aM();return n??t}return Pie(n)}function Rie(n,t,i,c,d){return null}function Df({controlled:n,default:t,name:i,state:c="value"}){const{current:d}=O.useRef(n!==void 0),[h,f]=O.useState(t),b=d?n:h,m=O.useCallback(v=>{d||f(v)},[]);return[b,m]}function Ko(n){const t=O.useRef(n);return bi(()=>{t.current=n}),O.useRef((...i)=>(0,t.current)(...i)).current}function nn(...n){return O.useMemo(()=>n.every(t=>t==null)?null:t=>{n.forEach(i=>{Sf(i,t)})},n)}const cM={};function Bie(n,t){const i=O.useRef(cM);return i.current===cM&&(i.current=n(t)),i}const Nie=[];function Oie(n){O.useEffect(n,Nie)}class Nu{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Nu}start(t,i){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,i()},t)}}function Ls(){const n=Bie(Nu.create).current;return Oie(n.disposeEffect),n}let gm=!0,vw=!1;const Lie=new Nu,jie={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function zie(n){const{type:t,tagName:i}=n;return!!(i==="INPUT"&&jie[t]&&!n.readOnly||i==="TEXTAREA"&&!n.readOnly||n.isContentEditable)}function Fie(n){n.metaKey||n.altKey||n.ctrlKey||(gm=!0)}function b0(){gm=!1}function Vie(){this.visibilityState==="hidden"&&vw&&(gm=!0)}function $ie(n){n.addEventListener("keydown",Fie,!0),n.addEventListener("mousedown",b0,!0),n.addEventListener("pointerdown",b0,!0),n.addEventListener("touchstart",b0,!0),n.addEventListener("visibilitychange",Vie,!0)}function Uie(n){const{target:t}=n;try{return t.matches(":focus-visible")}catch{}return gm||zie(t)}function mm(){const n=O.useCallback(d=>{d!=null&&$ie(d.ownerDocument)},[]),t=O.useRef(!1);function i(){return t.current?(vw=!0,Lie.start(100,()=>{vw=!1}),t.current=!1,!0):!1}function c(d){return Uie(d)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:c,onBlur:i,ref:n}}function TO(n){const t=n.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function Fe(n,t,i=void 0){const c={};return Object.keys(n).forEach(d=>{c[d]=n[d].reduce((h,f)=>{if(f){const b=t(f);b!==""&&h.push(b),i&&i[f]&&h.push(i[f])}return h},[]).join(" ")}),c}const Hie=O.createContext(),IO=()=>{const n=O.useContext(Hie);return n??!1},Wie=["className","component","disableGutters","fixed","maxWidth","classes"],qie=Ru(),Gie=Eie("div",{name:"MuiContainer",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.root,t[`maxWidth${pe(String(i.maxWidth))}`],i.fixed&&t.fixed,i.disableGutters&&t.disableGutters]}}),Kie=n=>EO({props:n,name:"MuiContainer",defaultTheme:qie}),Yie=(n,t)=>{const i=m=>ze(t,m),{classes:c,fixed:d,disableGutters:h,maxWidth:f}=n,b={root:["root",f&&`maxWidth${pe(String(f))}`,d&&"fixed",h&&"disableGutters"]};return Fe(b,i,c)};function Qie(n={}){const{createStyledComponent:t=Gie,useThemeProps:i=Kie,componentName:c="MuiContainer"}=n,d=t(({theme:f,ownerState:b})=>F({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!b.disableGutters&&{paddingLeft:f.spacing(2),paddingRight:f.spacing(2),[f.breakpoints.up("sm")]:{paddingLeft:f.spacing(3),paddingRight:f.spacing(3)}}),({theme:f,ownerState:b})=>b.fixed&&Object.keys(f.breakpoints.values).reduce((m,v)=>{const C=v,y=f.breakpoints.values[C];return y!==0&&(m[f.breakpoints.up(C)]={maxWidth:`${y}${f.breakpoints.unit}`}),m},{}),({theme:f,ownerState:b})=>F({},b.maxWidth==="xs"&&{[f.breakpoints.up("xs")]:{maxWidth:Math.max(f.breakpoints.values.xs,444)}},b.maxWidth&&b.maxWidth!=="xs"&&{[f.breakpoints.up(b.maxWidth)]:{maxWidth:`${f.breakpoints.values[b.maxWidth]}${f.breakpoints.unit}`}}));return O.forwardRef(function(b,m){const v=i(b),{className:C,component:y="div",disableGutters:_=!1,fixed:x=!1,maxWidth:I="lg"}=v,S=we(v,Wie),M=F({},v,{component:y,disableGutters:_,fixed:x,maxWidth:I}),N=Yie(M,c);return R.jsx(d,F({as:y,ownerState:M,className:_e(N.root,C),ref:m},S))})}function Zie(n,t){return F({toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}}},t)}var mn={},SO={exports:{}};(function(n){function t(i){return i&&i.__esModule?i:{default:i}}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(SO);var oi=SO.exports;const Jie=Vi(ene),Xie=Vi(Sie);var DO=oi;Object.defineProperty(mn,"__esModule",{value:!0});var St=mn.alpha=BO;mn.blend=ure;mn.colorChannel=void 0;var Mf=mn.darken=T_;mn.decomposeColor=Jo;var ere=mn.emphasize=NO,tre=mn.getContrastRatio=sre;mn.getLuminance=Rf;mn.hexToRgb=MO;mn.hslToRgb=RO;var Pf=mn.lighten=I_;mn.private_safeAlpha=are;mn.private_safeColorChannel=void 0;mn.private_safeDarken=cre;mn.private_safeEmphasize=dre;mn.private_safeLighten=lre;mn.recomposeColor=Wc;mn.rgbToHex=rre;var lM=DO(Jie),nre=DO(Xie);function E_(n,t=0,i=1){return(0,nre.default)(n,t,i)}function MO(n){n=n.slice(1);const t=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let i=n.match(t);return i&&i[0].length===1&&(i=i.map(c=>c+c)),i?`rgb${i.length===4?"a":""}(${i.map((c,d)=>d<3?parseInt(c,16):Math.round(parseInt(c,16)/255*1e3)/1e3).join(", ")})`:""}function ore(n){const t=n.toString(16);return t.length===1?`0${t}`:t}function Jo(n){if(n.type)return n;if(n.charAt(0)==="#")return Jo(MO(n));const t=n.indexOf("("),i=n.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(i)===-1)throw new Error((0,lM.default)(9,n));let c=n.substring(t+1,n.length-1),d;if(i==="color"){if(c=c.split(" "),d=c.shift(),c.length===4&&c[3].charAt(0)==="/"&&(c[3]=c[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(d)===-1)throw new Error((0,lM.default)(10,d))}else c=c.split(",");return c=c.map(h=>parseFloat(h)),{type:i,values:c,colorSpace:d}}const PO=n=>{const t=Jo(n);return t.values.slice(0,3).map((i,c)=>t.type.indexOf("hsl")!==-1&&c!==0?`${i}%`:i).join(" ")};mn.colorChannel=PO;const ire=(n,t)=>{try{return PO(n)}catch{return n}};mn.private_safeColorChannel=ire;function Wc(n){const{type:t,colorSpace:i}=n;let{values:c}=n;return t.indexOf("rgb")!==-1?c=c.map((d,h)=>h<3?parseInt(d,10):d):t.indexOf("hsl")!==-1&&(c[1]=`${c[1]}%`,c[2]=`${c[2]}%`),t.indexOf("color")!==-1?c=`${i} ${c.join(" ")}`:c=`${c.join(", ")}`,`${t}(${c})`}function rre(n){if(n.indexOf("#")===0)return n;const{values:t}=Jo(n);return`#${t.map((i,c)=>ore(c===3?Math.round(255*i):i)).join("")}`}function RO(n){n=Jo(n);const{values:t}=n,i=t[0],c=t[1]/100,d=t[2]/100,h=c*Math.min(d,1-d),f=(v,C=(v+i/30)%12)=>d-h*Math.max(Math.min(C-3,9-C,1),-1);let b="rgb";const m=[Math.round(f(0)*255),Math.round(f(8)*255),Math.round(f(4)*255)];return n.type==="hsla"&&(b+="a",m.push(t[3])),Wc({type:b,values:m})}function Rf(n){n=Jo(n);let t=n.type==="hsl"||n.type==="hsla"?Jo(RO(n)).values:n.values;return t=t.map(i=>(n.type!=="color"&&(i/=255),i<=.03928?i/12.92:((i+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function sre(n,t){const i=Rf(n),c=Rf(t);return(Math.max(i,c)+.05)/(Math.min(i,c)+.05)}function BO(n,t){return n=Jo(n),t=E_(t),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${t}`:n.values[3]=t,Wc(n)}function are(n,t,i){try{return BO(n,t)}catch{return n}}function T_(n,t){if(n=Jo(n),t=E_(t),n.type.indexOf("hsl")!==-1)n.values[2]*=1-t;else if(n.type.indexOf("rgb")!==-1||n.type.indexOf("color")!==-1)for(let i=0;i<3;i+=1)n.values[i]*=1-t;return Wc(n)}function cre(n,t,i){try{return T_(n,t)}catch{return n}}function I_(n,t){if(n=Jo(n),t=E_(t),n.type.indexOf("hsl")!==-1)n.values[2]+=(100-n.values[2])*t;else if(n.type.indexOf("rgb")!==-1)for(let i=0;i<3;i+=1)n.values[i]+=(255-n.values[i])*t;else if(n.type.indexOf("color")!==-1)for(let i=0;i<3;i+=1)n.values[i]+=(1-n.values[i])*t;return Wc(n)}function lre(n,t,i){try{return I_(n,t)}catch{return n}}function NO(n,t=.15){return Rf(n)>.5?T_(n,t):I_(n,t)}function dre(n,t,i){try{return NO(n,t)}catch{return n}}function ure(n,t,i,c=1){const d=(m,v)=>Math.round((m**(1/c)*(1-i)+v**(1/c)*i)**c),h=Jo(n),f=Jo(t),b=[d(h.values[0],f.values[0]),d(h.values[1],f.values[1]),d(h.values[2],f.values[2])];return Wc({type:"rgb",values:b})}const hre=["mode","contrastThreshold","tonalOffset"],dM={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Gd.white,default:Gd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},k0={text:{primary:Gd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Gd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function uM(n,t,i,c){const d=c.light||c,h=c.dark||c*1.5;n[t]||(n.hasOwnProperty(i)?n[t]=n[i]:t==="light"?n.light=Pf(n.main,d):t==="dark"&&(n.dark=Mf(n.main,h)))}function pre(n="light"){return n==="dark"?{main:qa[200],light:qa[50],dark:qa[400]}:{main:qa[700],light:qa[400],dark:qa[800]}}function fre(n="light"){return n==="dark"?{main:Wa[200],light:Wa[50],dark:Wa[400]}:{main:Wa[500],light:Wa[300],dark:Wa[700]}}function gre(n="light"){return n==="dark"?{main:Ha[500],light:Ha[300],dark:Ha[700]}:{main:Ha[700],light:Ha[400],dark:Ha[800]}}function mre(n="light"){return n==="dark"?{main:Ga[400],light:Ga[300],dark:Ga[700]}:{main:Ga[700],light:Ga[500],dark:Ga[900]}}function bre(n="light"){return n==="dark"?{main:Ka[400],light:Ka[300],dark:Ka[700]}:{main:Ka[800],light:Ka[500],dark:Ka[900]}}function kre(n="light"){return n==="dark"?{main:Gl[400],light:Gl[300],dark:Gl[700]}:{main:"#ed6c02",light:Gl[500],dark:Gl[900]}}function wre(n){const{mode:t="light",contrastThreshold:i=3,tonalOffset:c=.2}=n,d=we(n,hre),h=n.primary||pre(t),f=n.secondary||fre(t),b=n.error||gre(t),m=n.info||mre(t),v=n.success||bre(t),C=n.warning||kre(t);function y(S){return tre(S,k0.text.primary)>=i?k0.text.primary:dM.text.primary}const _=({color:S,name:M,mainShade:N=500,lightShade:j=300,darkShade:L=700})=>{if(S=F({},S),!S.main&&S[N]&&(S.main=S[N]),!S.hasOwnProperty("main"))throw new Error(Zs(11,M?` (${M})`:"",N));if(typeof S.main!="string")throw new Error(Zs(12,M?` (${M})`:"",JSON.stringify(S.main)));return uM(S,"light",j,c),uM(S,"dark",L,c),S.contrastText||(S.contrastText=y(S.main)),S},x={dark:k0,light:dM};return go(F({common:F({},Gd),mode:t,primary:_({color:h,name:"primary"}),secondary:_({color:f,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:_({color:b,name:"error"}),warning:_({color:C,name:"warning"}),info:_({color:m,name:"info"}),success:_({color:v,name:"success"}),grey:Xte,contrastThreshold:i,getContrastText:y,augmentColor:_,tonalOffset:c},x[t]),d)}const vre=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function _re(n){return Math.round(n*1e5)/1e5}const hM={textTransform:"uppercase"},pM='"Roboto", "Helvetica", "Arial", sans-serif';function Cre(n,t){const i=typeof t=="function"?t(n):t,{fontFamily:c=pM,fontSize:d=14,fontWeightLight:h=300,fontWeightRegular:f=400,fontWeightMedium:b=500,fontWeightBold:m=700,htmlFontSize:v=16,allVariants:C,pxToRem:y}=i,_=we(i,vre),x=d/14,I=y||(N=>`${N/v*x}rem`),S=(N,j,L,V,H)=>F({fontFamily:c,fontWeight:N,fontSize:I(j),lineHeight:L},c===pM?{letterSpacing:`${_re(V/j)}em`}:{},H,C),M={h1:S(h,96,1.167,-1.5),h2:S(h,60,1.2,-.5),h3:S(f,48,1.167,0),h4:S(f,34,1.235,.25),h5:S(f,24,1.334,0),h6:S(b,20,1.6,.15),subtitle1:S(f,16,1.75,.15),subtitle2:S(b,14,1.57,.1),body1:S(f,16,1.5,.15),body2:S(f,14,1.43,.15),button:S(b,14,1.75,.4,hM),caption:S(f,12,1.66,.4),overline:S(f,12,2.66,1,hM),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return go(F({htmlFontSize:v,pxToRem:I,fontFamily:c,fontSize:d,fontWeightLight:h,fontWeightRegular:f,fontWeightMedium:b,fontWeightBold:m},M),_,{clone:!1})}const Are=.2,yre=.14,xre=.12;function Xt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${Are})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${yre})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${xre})`].join(",")}const Ere=["none",Xt(0,2,1,-1,0,1,1,0,0,1,3,0),Xt(0,3,1,-2,0,2,2,0,0,1,5,0),Xt(0,3,3,-2,0,3,4,0,0,1,8,0),Xt(0,2,4,-1,0,4,5,0,0,1,10,0),Xt(0,3,5,-1,0,5,8,0,0,1,14,0),Xt(0,3,5,-1,0,6,10,0,0,1,18,0),Xt(0,4,5,-2,0,7,10,1,0,2,16,1),Xt(0,5,5,-3,0,8,10,1,0,3,14,2),Xt(0,5,6,-3,0,9,12,1,0,3,16,2),Xt(0,6,6,-3,0,10,14,1,0,4,18,3),Xt(0,6,7,-4,0,11,15,1,0,4,20,3),Xt(0,7,8,-4,0,12,17,2,0,5,22,4),Xt(0,7,8,-4,0,13,19,2,0,5,24,4),Xt(0,7,9,-4,0,14,21,2,0,5,26,4),Xt(0,8,9,-5,0,15,22,2,0,6,28,5),Xt(0,8,10,-5,0,16,24,2,0,6,30,5),Xt(0,8,11,-5,0,17,26,2,0,6,32,5),Xt(0,9,11,-5,0,18,28,2,0,7,34,6),Xt(0,9,12,-6,0,19,29,2,0,7,36,6),Xt(0,10,13,-6,0,20,31,3,0,8,38,7),Xt(0,10,13,-6,0,21,33,3,0,8,40,7),Xt(0,10,14,-6,0,22,35,3,0,8,42,7),Xt(0,11,14,-7,0,23,36,3,0,9,44,8),Xt(0,11,15,-7,0,24,38,3,0,9,46,8)],Tre=["duration","easing","delay"],Ire={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Sre={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function fM(n){return`${Math.round(n)}ms`}function Dre(n){if(!n)return 0;const t=n/36;return Math.round((4+15*t**.25+t/5)*10)}function Mre(n){const t=F({},Ire,n.easing),i=F({},Sre,n.duration);return F({getAutoHeightDuration:Dre,create:(d=["all"],h={})=>{const{duration:f=i.standard,easing:b=t.easeInOut,delay:m=0}=h;return we(h,Tre),(Array.isArray(d)?d:[d]).map(v=>`${v} ${typeof f=="string"?f:fM(f)} ${b} ${typeof m=="string"?m:fM(m)}`).join(",")}},n,{easing:t,duration:i})}const Pre={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Rre=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function OO(n={},...t){const{mixins:i={},palette:c={},transitions:d={},typography:h={}}=n,f=we(n,Rre);if(n.vars)throw new Error(Zs(18));const b=wre(c),m=Ru(n);let v=go(m,{mixins:Zie(m.breakpoints,i),palette:b,shadows:Ere.slice(),typography:Cre(b,h),transitions:Mre(d),zIndex:F({},Pre)});return v=go(v,f),v=t.reduce((C,y)=>go(C,y),v),v.unstable_sxConfig=F({},Pu,f==null?void 0:f.unstable_sxConfig),v.unstable_sx=function(y){return Hc({sx:y,theme:this})},v}const bm=OO();function qc(){const n=om(bm);return n[Iu]||n}function Ve({props:n,name:t}){return EO({props:n,name:t,defaultTheme:bm,themeId:Iu})}var Ou={},w0={exports:{}},gM;function Bre(){return gM||(gM=1,function(n){function t(i,c){if(i==null)return{};var d={};for(var h in i)if({}.hasOwnProperty.call(i,h)){if(c.indexOf(h)>=0)continue;d[h]=i[h]}return d}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(w0)),w0.exports}const LO=Vi(coe),Nre=Vi(loe),Ore=Vi(foe),Lre=Vi(mie),jre=Vi(tie),zre=Vi(cie);var Gc=oi;Object.defineProperty(Ou,"__esModule",{value:!0});var Fre=Ou.default=Xre;Ou.shouldForwardProp=Yp;Ou.systemDefaultTheme=void 0;var Uo=Gc(sO()),_w=Gc(Bre()),mM=Gre(LO),Vre=Nre;Gc(Ore);Gc(Lre);var $re=Gc(jre),Ure=Gc(zre);const Hre=["ownerState"],Wre=["variants"],qre=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function jO(n){if(typeof WeakMap!="function")return null;var t=new WeakMap,i=new WeakMap;return(jO=function(c){return c?i:t})(n)}function Gre(n,t){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var i=jO(t);if(i&&i.has(n))return i.get(n);var c={__proto__:null},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in n)if(h!=="default"&&Object.prototype.hasOwnProperty.call(n,h)){var f=d?Object.getOwnPropertyDescriptor(n,h):null;f&&(f.get||f.set)?Object.defineProperty(c,h,f):c[h]=n[h]}return c.default=n,i&&i.set(n,c),c}function Kre(n){return Object.keys(n).length===0}function Yre(n){return typeof n=="string"&&n.charCodeAt(0)>96}function Yp(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Qre=Ou.systemDefaultTheme=(0,$re.default)(),Zre=n=>n&&n.charAt(0).toLowerCase()+n.slice(1);function Dp({defaultTheme:n,theme:t,themeId:i}){return Kre(t)?n:t[i]||t}function Jre(n){return n?(t,i)=>i[n]:null}function Qp(n,t){let{ownerState:i}=t,c=(0,_w.default)(t,Hre);const d=typeof n=="function"?n((0,Uo.default)({ownerState:i},c)):n;if(Array.isArray(d))return d.flatMap(h=>Qp(h,(0,Uo.default)({ownerState:i},c)));if(d&&typeof d=="object"&&Array.isArray(d.variants)){const{variants:h=[]}=d;let b=(0,_w.default)(d,Wre);return h.forEach(m=>{let v=!0;typeof m.props=="function"?v=m.props((0,Uo.default)({ownerState:i},c,i)):Object.keys(m.props).forEach(C=>{(i==null?void 0:i[C])!==m.props[C]&&c[C]!==m.props[C]&&(v=!1)}),v&&(Array.isArray(b)||(b=[b]),b.push(typeof m.style=="function"?m.style((0,Uo.default)({ownerState:i},c,i)):m.style))}),b}return d}function Xre(n={}){const{themeId:t,defaultTheme:i=Qre,rootShouldForwardProp:c=Yp,slotShouldForwardProp:d=Yp}=n,h=f=>(0,Ure.default)((0,Uo.default)({},f,{theme:Dp((0,Uo.default)({},f,{defaultTheme:i,themeId:t}))}));return h.__mui_systemSx=!0,(f,b={})=>{(0,mM.internal_processStyles)(f,H=>H.filter(W=>!(W!=null&&W.__mui_systemSx)));const{name:m,slot:v,skipVariantsResolver:C,skipSx:y,overridesResolver:_=Jre(Zre(v))}=b,x=(0,_w.default)(b,qre),I=C!==void 0?C:v&&v!=="Root"&&v!=="root"||!1,S=y||!1;let M,N=Yp;v==="Root"||v==="root"?N=c:v?N=d:Yre(f)&&(N=void 0);const j=(0,mM.default)(f,(0,Uo.default)({shouldForwardProp:N,label:M},x)),L=H=>typeof H=="function"&&H.__emotion_real!==H||(0,Vre.isPlainObject)(H)?W=>Qp(H,(0,Uo.default)({},W,{theme:Dp({theme:W.theme,defaultTheme:i,themeId:t})})):H,V=(H,...W)=>{let P=L(H);const U=W?W.map(L):[];m&&_&&U.push(ee=>{const re=Dp((0,Uo.default)({},ee,{defaultTheme:i,themeId:t}));if(!re.components||!re.components[m]||!re.components[m].styleOverrides)return null;const J=re.components[m].styleOverrides,X={};return Object.entries(J).forEach(([oe,ie])=>{X[oe]=Qp(ie,(0,Uo.default)({},ee,{theme:re}))}),_(ee,X)}),m&&!I&&U.push(ee=>{var re;const J=Dp((0,Uo.default)({},ee,{defaultTheme:i,themeId:t})),X=J==null||(re=J.components)==null||(re=re[m])==null?void 0:re.variants;return Qp({variants:X},(0,Uo.default)({},ee,{theme:J}))}),S||U.push(h);const G=U.length-W.length;if(Array.isArray(H)&&G>0){const ee=new Array(G).fill("");P=[...H,...ee],P.raw=[...H.raw,...ee]}const Q=j(P,...U);return f.muiName&&(Q.muiName=f.muiName),Q};return j.withConfig&&(V.withConfig=j.withConfig),V}}function zO(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const ii=n=>zO(n)&&n!=="classes",ge=Fre({themeId:Iu,defaultTheme:bm,rootShouldForwardProp:ii}),bM=n=>{let t;return n<1?t=5.11916*n**2:t=4.5*Math.log(n+1)+2,(t/100).toFixed(2)};function ese(n){return ze("MuiSvgIcon",n)}Le("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const tse=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],nse=n=>{const{color:t,fontSize:i,classes:c}=n,d={root:["root",t!=="inherit"&&`color${pe(t)}`,`fontSize${pe(i)}`]};return Fe(d,ese,c)},ose=ge("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.root,i.color!=="inherit"&&t[`color${pe(i.color)}`],t[`fontSize${pe(i.fontSize)}`]]}})(({theme:n,ownerState:t})=>{var i,c,d,h,f,b,m,v,C,y,_,x,I;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(i=n.transitions)==null||(c=i.create)==null?void 0:c.call(i,"fill",{duration:(d=n.transitions)==null||(d=d.duration)==null?void 0:d.shorter}),fontSize:{inherit:"inherit",small:((h=n.typography)==null||(f=h.pxToRem)==null?void 0:f.call(h,20))||"1.25rem",medium:((b=n.typography)==null||(m=b.pxToRem)==null?void 0:m.call(b,24))||"1.5rem",large:((v=n.typography)==null||(C=v.pxToRem)==null?void 0:C.call(v,35))||"2.1875rem"}[t.fontSize],color:(y=(_=(n.vars||n).palette)==null||(_=_[t.color])==null?void 0:_.main)!=null?y:{action:(x=(n.vars||n).palette)==null||(x=x.action)==null?void 0:x.active,disabled:(I=(n.vars||n).palette)==null||(I=I.action)==null?void 0:I.disabled,inherit:void 0}[t.color]}}),Cw=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiSvgIcon"}),{children:d,className:h,color:f="inherit",component:b="svg",fontSize:m="medium",htmlColor:v,inheritViewBox:C=!1,titleAccess:y,viewBox:_="0 0 24 24"}=c,x=we(c,tse),I=O.isValidElement(d)&&d.type==="svg",S=F({},c,{color:f,component:b,fontSize:m,instanceFontSize:t.fontSize,inheritViewBox:C,viewBox:_,hasSvgAsChild:I}),M={};C||(M.viewBox=_);const N=nse(S);return R.jsxs(ose,F({as:b,className:_e(N.root,h),focusable:"false",color:v,"aria-hidden":y?void 0:!0,role:y?"img":void 0,ref:i},M,x,I&&d.props,{ownerState:S,children:[I?d.props.children:d,y?R.jsx("title",{children:y}):null]}))});Cw.muiName="SvgIcon";function os(n,t){function i(c,d){return R.jsx(Cw,F({"data-testid":`${t}Icon`,ref:d},c,{children:n}))}return i.muiName=Cw.muiName,O.memo(O.forwardRef(i))}const ise={configure:n=>{__.configure(n)}},rse=Object.freeze(Object.defineProperty({__proto__:null,capitalize:pe,createChainedFunction:ww,createSvgIcon:os,debounce:x_,deprecatedPropType:Die,isMuiElement:wd,ownerDocument:Tn,ownerWindow:Qr,requirePropFactory:Mie,setRef:Sf,unstable_ClassNameGenerator:ise,unstable_useEnhancedEffect:bi,unstable_useId:Bu,unsupportedProp:Rie,useControlled:Df,useEventCallback:Ko,useForkRef:nn,useIsFocusVisible:mm},Symbol.toStringTag,{value:"Module"}));function sse(n){return Ve}function Aw(n,t){return Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},Aw(n,t)}function FO(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,Aw(n,t)}const kM={disabled:!1},Bf=Go.createContext(null);var ase=function(t){return t.scrollTop},ld="unmounted",Ms="exited",Ps="entering",Xa="entered",yw="exiting",Ui=function(n){FO(t,n);function t(c,d){var h;h=n.call(this,c,d)||this;var f=d,b=f&&!f.isMounting?c.enter:c.appear,m;return h.appearStatus=null,c.in?b?(m=Ms,h.appearStatus=Ps):m=Xa:c.unmountOnExit||c.mountOnEnter?m=ld:m=Ms,h.state={status:m},h.nextCallback=null,h}t.getDerivedStateFromProps=function(d,h){var f=d.in;return f&&h.status===ld?{status:Ms}:null};var i=t.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(d){var h=null;if(d!==this.props){var f=this.state.status;this.props.in?f!==Ps&&f!==Xa&&(h=Ps):(f===Ps||f===Xa)&&(h=yw)}this.updateStatus(!1,h)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var d=this.props.timeout,h,f,b;return h=f=b=d,d!=null&&typeof d!="number"&&(h=d.exit,f=d.enter,b=d.appear!==void 0?d.appear:f),{exit:h,enter:f,appear:b}},i.updateStatus=function(d,h){if(d===void 0&&(d=!1),h!==null)if(this.cancelNextCallback(),h===Ps){if(this.props.unmountOnExit||this.props.mountOnEnter){var f=this.props.nodeRef?this.props.nodeRef.current:fp.findDOMNode(this);f&&ase(f)}this.performEnter(d)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ms&&this.setState({status:ld})},i.performEnter=function(d){var h=this,f=this.props.enter,b=this.context?this.context.isMounting:d,m=this.props.nodeRef?[b]:[fp.findDOMNode(this),b],v=m[0],C=m[1],y=this.getTimeouts(),_=b?y.appear:y.enter;if(!d&&!f||kM.disabled){this.safeSetState({status:Xa},function(){h.props.onEntered(v)});return}this.props.onEnter(v,C),this.safeSetState({status:Ps},function(){h.props.onEntering(v,C),h.onTransitionEnd(_,function(){h.safeSetState({status:Xa},function(){h.props.onEntered(v,C)})})})},i.performExit=function(){var d=this,h=this.props.exit,f=this.getTimeouts(),b=this.props.nodeRef?void 0:fp.findDOMNode(this);if(!h||kM.disabled){this.safeSetState({status:Ms},function(){d.props.onExited(b)});return}this.props.onExit(b),this.safeSetState({status:yw},function(){d.props.onExiting(b),d.onTransitionEnd(f.exit,function(){d.safeSetState({status:Ms},function(){d.props.onExited(b)})})})},i.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(d,h){h=this.setNextCallback(h),this.setState(d,h)},i.setNextCallback=function(d){var h=this,f=!0;return this.nextCallback=function(b){f&&(f=!1,h.nextCallback=null,d(b))},this.nextCallback.cancel=function(){f=!1},this.nextCallback},i.onTransitionEnd=function(d,h){this.setNextCallback(h);var f=this.props.nodeRef?this.props.nodeRef.current:fp.findDOMNode(this),b=d==null&&!this.props.addEndListener;if(!f||b){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var m=this.props.nodeRef?[this.nextCallback]:[f,this.nextCallback],v=m[0],C=m[1];this.props.addEndListener(v,C)}d!=null&&setTimeout(this.nextCallback,d)},i.render=function(){var d=this.state.status;if(d===ld)return null;var h=this.props,f=h.children;h.in,h.mountOnEnter,h.unmountOnExit,h.appear,h.enter,h.exit,h.timeout,h.addEndListener,h.onEnter,h.onEntering,h.onEntered,h.onExit,h.onExiting,h.onExited,h.nodeRef;var b=we(h,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Go.createElement(Bf.Provider,{value:null},typeof f=="function"?f(d,b):Go.cloneElement(Go.Children.only(f),b))},t}(Go.Component);Ui.contextType=Bf;Ui.propTypes={};function Ya(){}Ui.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ya,onEntering:Ya,onEntered:Ya,onExit:Ya,onExiting:Ya,onExited:Ya};Ui.UNMOUNTED=ld;Ui.EXITED=Ms;Ui.ENTERING=Ps;Ui.ENTERED=Xa;Ui.EXITING=yw;function cse(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function S_(n,t){var i=function(h){return t&&O.isValidElement(h)?t(h):h},c=Object.create(null);return n&&O.Children.map(n,function(d){return d}).forEach(function(d){c[d.key]=i(d)}),c}function lse(n,t){n=n||{},t=t||{};function i(C){return C in t?t[C]:n[C]}var c=Object.create(null),d=[];for(var h in n)h in t?d.length&&(c[h]=d,d=[]):d.push(h);var f,b={};for(var m in t){if(c[m])for(f=0;f<c[m].length;f++){var v=c[m][f];b[c[m][f]]=i(v)}b[m]=i(m)}for(f=0;f<d.length;f++)b[d[f]]=i(d[f]);return b}function js(n,t,i){return i[t]!=null?i[t]:n.props[t]}function dse(n,t){return S_(n.children,function(i){return O.cloneElement(i,{onExited:t.bind(null,i),in:!0,appear:js(i,"appear",n),enter:js(i,"enter",n),exit:js(i,"exit",n)})})}function use(n,t,i){var c=S_(n.children),d=lse(t,c);return Object.keys(d).forEach(function(h){var f=d[h];if(O.isValidElement(f)){var b=h in t,m=h in c,v=t[h],C=O.isValidElement(v)&&!v.props.in;m&&(!b||C)?d[h]=O.cloneElement(f,{onExited:i.bind(null,f),in:!0,exit:js(f,"exit",n),enter:js(f,"enter",n)}):!m&&b&&!C?d[h]=O.cloneElement(f,{in:!1}):m&&b&&O.isValidElement(v)&&(d[h]=O.cloneElement(f,{onExited:i.bind(null,f),in:v.props.in,exit:js(f,"exit",n),enter:js(f,"enter",n)}))}}),d}var hse=Object.values||function(n){return Object.keys(n).map(function(t){return n[t]})},pse={component:"div",childFactory:function(t){return t}},D_=function(n){FO(t,n);function t(c,d){var h;h=n.call(this,c,d)||this;var f=h.handleExited.bind(cse(h));return h.state={contextValue:{isMounting:!0},handleExited:f,firstRender:!0},h}var i=t.prototype;return i.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},i.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(d,h){var f=h.children,b=h.handleExited,m=h.firstRender;return{children:m?dse(d,b):use(d,f,b),firstRender:!1}},i.handleExited=function(d,h){var f=S_(this.props.children);d.key in f||(d.props.onExited&&d.props.onExited(h),this.mounted&&this.setState(function(b){var m=F({},b.children);return delete m[d.key],{children:m}}))},i.render=function(){var d=this.props,h=d.component,f=d.childFactory,b=we(d,["component","childFactory"]),m=this.state.contextValue,v=hse(this.state.children).map(f);return delete b.appear,delete b.enter,delete b.exit,h===null?Go.createElement(Bf.Provider,{value:m},v):Go.createElement(Bf.Provider,{value:m},Go.createElement(h,b,v))},t}(Go.Component);D_.propTypes={};D_.defaultProps=pse;const VO=n=>n.scrollTop;function Nf(n,t){var i,c;const{timeout:d,easing:h,style:f={}}=n;return{duration:(i=f.transitionDuration)!=null?i:typeof d=="number"?d:d[t.mode]||0,easing:(c=f.transitionTimingFunction)!=null?c:typeof h=="object"?h[t.mode]:h,delay:f.transitionDelay}}function fse(n){return ze("MuiPaper",n)}Le("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const gse=["className","component","elevation","square","variant"],mse=n=>{const{square:t,elevation:i,variant:c,classes:d}=n,h={root:["root",c,!t&&"rounded",c==="elevation"&&`elevation${i}`]};return Fe(h,fse,d)},bse=ge("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.root,t[i.variant],!i.square&&t.rounded,i.variant==="elevation"&&t[`elevation${i.elevation}`]]}})(({theme:n,ownerState:t})=>{var i;return F({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!t.square&&{borderRadius:n.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(n.vars||n).palette.divider}`},t.variant==="elevation"&&F({boxShadow:(n.vars||n).shadows[t.elevation]},!n.vars&&n.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${St("#fff",bM(t.elevation))}, ${St("#fff",bM(t.elevation))})`},n.vars&&{backgroundImage:(i=n.vars.overlays)==null?void 0:i[t.elevation]}))}),sa=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiPaper"}),{className:d,component:h="div",elevation:f=1,square:b=!1,variant:m="elevation"}=c,v=we(c,gse),C=F({},c,{component:h,elevation:f,square:b,variant:m}),y=mse(C);return R.jsx(bse,F({as:h,ownerState:C,className:_e(y.root,d),ref:i},v))});function xc(n){return typeof n=="string"}function nc(n,t,i){return n===void 0||xc(n)?t:F({},t,{ownerState:F({},t.ownerState,i)})}const kse={disableDefaultClasses:!1},wse=O.createContext(kse);function vse(n){const{disableDefaultClasses:t}=O.useContext(wse);return i=>t?"":n(i)}function Of(n,t=[]){if(n===void 0)return{};const i={};return Object.keys(n).filter(c=>c.match(/^on[A-Z]/)&&typeof n[c]=="function"&&!t.includes(c)).forEach(c=>{i[c]=n[c]}),i}function $O(n,t,i){return typeof n=="function"?n(t,i):n}function wM(n){if(n===void 0)return{};const t={};return Object.keys(n).filter(i=>!(i.match(/^on[A-Z]/)&&typeof n[i]=="function")).forEach(i=>{t[i]=n[i]}),t}function UO(n){const{getSlotProps:t,additionalProps:i,externalSlotProps:c,externalForwardedProps:d,className:h}=n;if(!t){const x=_e(i==null?void 0:i.className,h,d==null?void 0:d.className,c==null?void 0:c.className),I=F({},i==null?void 0:i.style,d==null?void 0:d.style,c==null?void 0:c.style),S=F({},i,d,c);return x.length>0&&(S.className=x),Object.keys(I).length>0&&(S.style=I),{props:S,internalRef:void 0}}const f=Of(F({},d,c)),b=wM(c),m=wM(d),v=t(f),C=_e(v==null?void 0:v.className,i==null?void 0:i.className,h,d==null?void 0:d.className,c==null?void 0:c.className),y=F({},v==null?void 0:v.style,i==null?void 0:i.style,d==null?void 0:d.style,c==null?void 0:c.style),_=F({},v,i,m,b);return C.length>0&&(_.className=C),Object.keys(y).length>0&&(_.style=y),{props:_,internalRef:v.ref}}const _se=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Zr(n){var t;const{elementType:i,externalSlotProps:c,ownerState:d,skipResolvingSlotProps:h=!1}=n,f=we(n,_se),b=h?{}:$O(c,d),{props:m,internalRef:v}=UO(F({},f,{externalSlotProps:b})),C=nn(v,b==null?void 0:b.ref,(t=n.additionalProps)==null?void 0:t.ref);return nc(i,F({},m,{ref:C}),d)}const Cse=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],Ase=["component","slots","slotProps"],yse=["component"];function vM(n,t){const{className:i,elementType:c,ownerState:d,externalForwardedProps:h,getSlotOwnerState:f,internalForwardedProps:b}=t,m=we(t,Cse),{component:v,slots:C={[n]:void 0},slotProps:y={[n]:void 0}}=h,_=we(h,Ase),x=C[n]||c,I=$O(y[n],d),S=UO(F({className:i},m,{externalForwardedProps:n==="root"?_:void 0,externalSlotProps:I})),{props:{component:M},internalRef:N}=S,j=we(S.props,yse),L=nn(N,I==null?void 0:I.ref,t.ref),V=f?f(j):{},H=F({},d,V),W=n==="root"?M||v:M,P=nc(x,F({},n==="root"&&!v&&!C[n]&&b,n!=="root"&&!C[n]&&b,j,W&&{as:W},{ref:L}),H);return Object.keys(V).forEach(U=>{delete P[U]}),[x,P]}function xse(n){const{className:t,classes:i,pulsate:c=!1,rippleX:d,rippleY:h,rippleSize:f,in:b,onExited:m,timeout:v}=n,[C,y]=O.useState(!1),_=_e(t,i.ripple,i.rippleVisible,c&&i.ripplePulsate),x={width:f,height:f,top:-(f/2)+h,left:-(f/2)+d},I=_e(i.child,C&&i.childLeaving,c&&i.childPulsate);return!b&&!C&&y(!0),O.useEffect(()=>{if(!b&&m!=null){const S=setTimeout(m,v);return()=>{clearTimeout(S)}}},[m,b,v]),R.jsx("span",{className:_,style:x,children:R.jsx("span",{className:I})})}const Ho=Le("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Ese=["center","classes","className"];let km=n=>n,_M,CM,AM,yM;const xw=550,Tse=80,Ise=Uc(_M||(_M=km`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Sse=Uc(CM||(CM=km`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Dse=Uc(AM||(AM=km`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Mse=ge("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Pse=ge(xse,{name:"MuiTouchRipple",slot:"Ripple"})(yM||(yM=km`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Ho.rippleVisible,Ise,xw,({theme:n})=>n.transitions.easing.easeInOut,Ho.ripplePulsate,({theme:n})=>n.transitions.duration.shorter,Ho.child,Ho.childLeaving,Sse,xw,({theme:n})=>n.transitions.easing.easeInOut,Ho.childPulsate,Dse,({theme:n})=>n.transitions.easing.easeInOut),Rse=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiTouchRipple"}),{center:d=!1,classes:h={},className:f}=c,b=we(c,Ese),[m,v]=O.useState([]),C=O.useRef(0),y=O.useRef(null);O.useEffect(()=>{y.current&&(y.current(),y.current=null)},[m]);const _=O.useRef(!1),x=Ls(),I=O.useRef(null),S=O.useRef(null),M=O.useCallback(V=>{const{pulsate:H,rippleX:W,rippleY:P,rippleSize:U,cb:G}=V;v(Q=>[...Q,R.jsx(Pse,{classes:{ripple:_e(h.ripple,Ho.ripple),rippleVisible:_e(h.rippleVisible,Ho.rippleVisible),ripplePulsate:_e(h.ripplePulsate,Ho.ripplePulsate),child:_e(h.child,Ho.child),childLeaving:_e(h.childLeaving,Ho.childLeaving),childPulsate:_e(h.childPulsate,Ho.childPulsate)},timeout:xw,pulsate:H,rippleX:W,rippleY:P,rippleSize:U},C.current)]),C.current+=1,y.current=G},[h]),N=O.useCallback((V={},H={},W=()=>{})=>{const{pulsate:P=!1,center:U=d||H.pulsate,fakeElement:G=!1}=H;if((V==null?void 0:V.type)==="mousedown"&&_.current){_.current=!1;return}(V==null?void 0:V.type)==="touchstart"&&(_.current=!0);const Q=G?null:S.current,ee=Q?Q.getBoundingClientRect():{width:0,height:0,left:0,top:0};let re,J,X;if(U||V===void 0||V.clientX===0&&V.clientY===0||!V.clientX&&!V.touches)re=Math.round(ee.width/2),J=Math.round(ee.height/2);else{const{clientX:oe,clientY:ie}=V.touches&&V.touches.length>0?V.touches[0]:V;re=Math.round(oe-ee.left),J=Math.round(ie-ee.top)}if(U)X=Math.sqrt((2*ee.width**2+ee.height**2)/3),X%2===0&&(X+=1);else{const oe=Math.max(Math.abs((Q?Q.clientWidth:0)-re),re)*2+2,ie=Math.max(Math.abs((Q?Q.clientHeight:0)-J),J)*2+2;X=Math.sqrt(oe**2+ie**2)}V!=null&&V.touches?I.current===null&&(I.current=()=>{M({pulsate:P,rippleX:re,rippleY:J,rippleSize:X,cb:W})},x.start(Tse,()=>{I.current&&(I.current(),I.current=null)})):M({pulsate:P,rippleX:re,rippleY:J,rippleSize:X,cb:W})},[d,M,x]),j=O.useCallback(()=>{N({},{pulsate:!0})},[N]),L=O.useCallback((V,H)=>{if(x.clear(),(V==null?void 0:V.type)==="touchend"&&I.current){I.current(),I.current=null,x.start(0,()=>{L(V,H)});return}I.current=null,v(W=>W.length>0?W.slice(1):W),y.current=H},[x]);return O.useImperativeHandle(i,()=>({pulsate:j,start:N,stop:L}),[j,N,L]),R.jsx(Mse,F({className:_e(Ho.root,h.root,f),ref:S},b,{children:R.jsx(D_,{component:null,exit:!0,children:m})}))});function Bse(n){return ze("MuiButtonBase",n)}const Nse=Le("MuiButtonBase",["root","disabled","focusVisible"]),Ose=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Lse=n=>{const{disabled:t,focusVisible:i,focusVisibleClassName:c,classes:d}=n,f=Fe({root:["root",t&&"disabled",i&&"focusVisible"]},Bse,d);return i&&c&&(f.root+=` ${c}`),f},jse=ge("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(n,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Nse.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Ec=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiButtonBase"}),{action:d,centerRipple:h=!1,children:f,className:b,component:m="button",disabled:v=!1,disableRipple:C=!1,disableTouchRipple:y=!1,focusRipple:_=!1,LinkComponent:x="a",onBlur:I,onClick:S,onContextMenu:M,onDragLeave:N,onFocus:j,onFocusVisible:L,onKeyDown:V,onKeyUp:H,onMouseDown:W,onMouseLeave:P,onMouseUp:U,onTouchEnd:G,onTouchMove:Q,onTouchStart:ee,tabIndex:re=0,TouchRippleProps:J,touchRippleRef:X,type:oe}=c,ie=we(c,Ose),ce=O.useRef(null),K=O.useRef(null),he=nn(K,X),{isFocusVisibleRef:Ae,onFocus:tt,onBlur:Ke,ref:it}=mm(),[Ne,nt]=O.useState(!1);v&&Ne&&nt(!1),O.useImperativeHandle(d,()=>({focusVisible:()=>{nt(!0),ce.current.focus()}}),[]);const[Te,mt]=O.useState(!1);O.useEffect(()=>{mt(!0)},[]);const st=Te&&!C&&!v;O.useEffect(()=>{Ne&&_&&!C&&Te&&K.current.pulsate()},[C,_,Ne,Te]);function ot(Be,Ht,ri=y){return Ko(vo=>(Ht&&Ht(vo),!ri&&K.current&&K.current[Be](vo),!0))}const bt=ot("start",W),$e=ot("stop",M),ye=ot("stop",N),Y=ot("stop",U),te=ot("stop",Be=>{Ne&&Be.preventDefault(),P&&P(Be)}),se=ot("start",ee),ve=ot("stop",G),Ee=ot("stop",Q),He=ot("stop",Be=>{Ke(Be),Ae.current===!1&&nt(!1),I&&I(Be)},!1),Dt=Ko(Be=>{ce.current||(ce.current=Be.currentTarget),tt(Be),Ae.current===!0&&(nt(!0),L&&L(Be)),j&&j(Be)}),Ze=()=>{const Be=ce.current;return m&&m!=="button"&&!(Be.tagName==="A"&&Be.href)},De=O.useRef(!1),Ye=Ko(Be=>{_&&!De.current&&Ne&&K.current&&Be.key===" "&&(De.current=!0,K.current.stop(Be,()=>{K.current.start(Be)})),Be.target===Be.currentTarget&&Ze()&&Be.key===" "&&Be.preventDefault(),V&&V(Be),Be.target===Be.currentTarget&&Ze()&&Be.key==="Enter"&&!v&&(Be.preventDefault(),S&&S(Be))}),qe=Ko(Be=>{_&&Be.key===" "&&K.current&&Ne&&!Be.defaultPrevented&&(De.current=!1,K.current.stop(Be,()=>{K.current.pulsate(Be)})),H&&H(Be),S&&Be.target===Be.currentTarget&&Ze()&&Be.key===" "&&!Be.defaultPrevented&&S(Be)});let je=m;je==="button"&&(ie.href||ie.to)&&(je=x);const ut={};je==="button"?(ut.type=oe===void 0?"button":oe,ut.disabled=v):(!ie.href&&!ie.to&&(ut.role="button"),v&&(ut["aria-disabled"]=v));const zt=nn(i,it,ce),In=F({},c,{centerRipple:h,component:m,disabled:v,disableRipple:C,disableTouchRipple:y,focusRipple:_,tabIndex:re,focusVisible:Ne}),kt=Lse(In);return R.jsxs(jse,F({as:je,className:_e(kt.root,b),ownerState:In,onBlur:He,onClick:S,onContextMenu:$e,onFocus:Dt,onKeyDown:Ye,onKeyUp:qe,onMouseDown:bt,onMouseLeave:te,onMouseUp:Y,onDragLeave:ye,onTouchEnd:ve,onTouchMove:Ee,onTouchStart:se,ref:zt,tabIndex:v?-1:re,type:oe},ut,ie,{children:[f,st?R.jsx(Rse,F({ref:he,center:h},J)):null]}))});function zse(n){return ze("MuiAlert",n)}const xM=Le("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function Fse(n){return ze("MuiIconButton",n)}const Vse=Le("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),$se=["edge","children","className","color","disabled","disableFocusRipple","size"],Use=n=>{const{classes:t,disabled:i,color:c,edge:d,size:h}=n,f={root:["root",i&&"disabled",c!=="default"&&`color${pe(c)}`,d&&`edge${pe(d)}`,`size${pe(h)}`]};return Fe(f,Fse,t)},Hse=ge(Ec,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.root,i.color!=="default"&&t[`color${pe(i.color)}`],i.edge&&t[`edge${pe(i.edge)}`],t[`size${pe(i.size)}`]]}})(({theme:n,ownerState:t})=>F({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:St(n.palette.action.active,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:n,ownerState:t})=>{var i;const c=(i=(n.vars||n).palette)==null?void 0:i[t.color];return F({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&F({color:c==null?void 0:c.main},!t.disableRipple&&{"&:hover":F({},c&&{backgroundColor:n.vars?`rgba(${c.mainChannel} / ${n.vars.palette.action.hoverOpacity})`:St(c.main,n.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:n.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:n.typography.pxToRem(28)},{[`&.${Vse.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled}})}),Rn=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiIconButton"}),{edge:d=!1,children:h,className:f,color:b="default",disabled:m=!1,disableFocusRipple:v=!1,size:C="medium"}=c,y=we(c,$se),_=F({},c,{edge:d,color:b,disabled:m,disableFocusRipple:v,size:C}),x=Use(_);return R.jsx(Hse,F({className:_e(x.root,f),centerRipple:!0,focusRipple:!v,disabled:m,ref:i},y,{ownerState:_,children:h}))}),Wse=os(R.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),qse=os(R.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Gse=os(R.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Kse=os(R.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),Yse=os(R.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Qse=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],Zse=sse(),Jse=n=>{const{variant:t,color:i,severity:c,classes:d}=n,h={root:["root",`color${pe(i||c)}`,`${t}${pe(i||c)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return Fe(h,zse,d)},Xse=ge(sa,{name:"MuiAlert",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.root,t[i.variant],t[`${i.variant}${pe(i.color||i.severity)}`]]}})(({theme:n})=>{const t=n.palette.mode==="light"?Mf:Pf,i=n.palette.mode==="light"?Pf:Mf;return F({},n.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(n.palette).filter(([,c])=>c.main&&c.light).map(([c])=>({props:{colorSeverity:c,variant:"standard"},style:{color:n.vars?n.vars.palette.Alert[`${c}Color`]:t(n.palette[c].light,.6),backgroundColor:n.vars?n.vars.palette.Alert[`${c}StandardBg`]:i(n.palette[c].light,.9),[`& .${xM.icon}`]:n.vars?{color:n.vars.palette.Alert[`${c}IconColor`]}:{color:n.palette[c].main}}})),...Object.entries(n.palette).filter(([,c])=>c.main&&c.light).map(([c])=>({props:{colorSeverity:c,variant:"outlined"},style:{color:n.vars?n.vars.palette.Alert[`${c}Color`]:t(n.palette[c].light,.6),border:`1px solid ${(n.vars||n).palette[c].light}`,[`& .${xM.icon}`]:n.vars?{color:n.vars.palette.Alert[`${c}IconColor`]}:{color:n.palette[c].main}}})),...Object.entries(n.palette).filter(([,c])=>c.main&&c.dark).map(([c])=>({props:{colorSeverity:c,variant:"filled"},style:F({fontWeight:n.typography.fontWeightMedium},n.vars?{color:n.vars.palette.Alert[`${c}FilledColor`],backgroundColor:n.vars.palette.Alert[`${c}FilledBg`]}:{backgroundColor:n.palette.mode==="dark"?n.palette[c].dark:n.palette[c].main,color:n.palette.getContrastText(n.palette[c].main)})}))]})}),eae=ge("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(n,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),tae=ge("div",{name:"MuiAlert",slot:"Message",overridesResolver:(n,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),EM=ge("div",{name:"MuiAlert",slot:"Action",overridesResolver:(n,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),TM={success:R.jsx(Wse,{fontSize:"inherit"}),warning:R.jsx(qse,{fontSize:"inherit"}),error:R.jsx(Gse,{fontSize:"inherit"}),info:R.jsx(Kse,{fontSize:"inherit"})},wm=O.forwardRef(function(t,i){const c=Zse({props:t,name:"MuiAlert"}),{action:d,children:h,className:f,closeText:b="Close",color:m,components:v={},componentsProps:C={},icon:y,iconMapping:_=TM,onClose:x,role:I="alert",severity:S="success",slotProps:M={},slots:N={},variant:j="standard"}=c,L=we(c,Qse),V=F({},c,{color:m,severity:S,variant:j,colorSeverity:m||S}),H=Jse(V),W={slots:F({closeButton:v.CloseButton,closeIcon:v.CloseIcon},N),slotProps:F({},C,M)},[P,U]=vM("closeButton",{elementType:Rn,externalForwardedProps:W,ownerState:V}),[G,Q]=vM("closeIcon",{elementType:Yse,externalForwardedProps:W,ownerState:V});return R.jsxs(Xse,F({role:I,elevation:0,ownerState:V,className:_e(H.root,f),ref:i},L,{children:[y!==!1?R.jsx(eae,{ownerState:V,className:H.icon,children:y||_[S]||TM[S]}):null,R.jsx(tae,{ownerState:V,className:H.message,children:h}),d!=null?R.jsx(EM,{ownerState:V,className:H.action,children:d}):null,d==null&&x?R.jsx(EM,{ownerState:V,className:H.action,children:R.jsx(P,F({size:"small","aria-label":b,title:b,color:"inherit",onClick:x},U,{children:R.jsx(G,F({fontSize:"small"},Q))}))}):null]}))});function nae(n){return ze("MuiTypography",n)}Le("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const oae=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],iae=n=>{const{align:t,gutterBottom:i,noWrap:c,paragraph:d,variant:h,classes:f}=n,b={root:["root",h,n.align!=="inherit"&&`align${pe(t)}`,i&&"gutterBottom",c&&"noWrap",d&&"paragraph"]};return Fe(b,nae,f)},rae=ge("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.root,i.variant&&t[i.variant],i.align!=="inherit"&&t[`align${pe(i.align)}`],i.noWrap&&t.noWrap,i.gutterBottom&&t.gutterBottom,i.paragraph&&t.paragraph]}})(({theme:n,ownerState:t})=>F({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&n.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),IM={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},sae={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},aae=n=>sae[n]||n,ct=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiTypography"}),d=aae(c.color),h=im(F({},c,{color:d})),{align:f="inherit",className:b,component:m,gutterBottom:v=!1,noWrap:C=!1,paragraph:y=!1,variant:_="body1",variantMapping:x=IM}=h,I=we(h,oae),S=F({},h,{align:f,color:d,className:b,component:m,gutterBottom:v,noWrap:C,paragraph:y,variant:_,variantMapping:x}),M=m||(y?"p":x[_]||IM[_])||"span",N=iae(S);return R.jsx(rae,F({as:M,ref:i,ownerState:S,className:_e(N.root,b)},I))}),HO="base";function cae(n){return`${HO}--${n}`}function lae(n,t){return`${HO}-${n}-${t}`}function WO(n,t){const i=_O[t];return i?cae(i):lae(n,t)}function dae(n,t){const i={};return t.forEach(c=>{i[c]=WO(n,c)}),i}function SM(n){return n.substring(2).toLowerCase()}function uae(n,t){return t.documentElement.clientWidth<n.clientX||t.documentElement.clientHeight<n.clientY}function hae(n){const{children:t,disableReactTree:i=!1,mouseEvent:c="onClick",onClickAway:d,touchEvent:h="onTouchEnd"}=n,f=O.useRef(!1),b=O.useRef(null),m=O.useRef(!1),v=O.useRef(!1);O.useEffect(()=>(setTimeout(()=>{m.current=!0},0),()=>{m.current=!1}),[]);const C=nn(t.ref,b),y=Ko(I=>{const S=v.current;v.current=!1;const M=Tn(b.current);if(!m.current||!b.current||"clientX"in I&&uae(I,M))return;if(f.current){f.current=!1;return}let N;I.composedPath?N=I.composedPath().indexOf(b.current)>-1:N=!M.documentElement.contains(I.target)||b.current.contains(I.target),!N&&(i||!S)&&d(I)}),_=I=>S=>{v.current=!0;const M=t.props[I];M&&M(S)},x={ref:C};return h!==!1&&(x[h]=_(h)),O.useEffect(()=>{if(h!==!1){const I=SM(h),S=Tn(b.current),M=()=>{f.current=!0};return S.addEventListener(I,y),S.addEventListener("touchmove",M),()=>{S.removeEventListener(I,y),S.removeEventListener("touchmove",M)}}},[y,h]),c!==!1&&(x[c]=_(c)),O.useEffect(()=>{if(c!==!1){const I=SM(c),S=Tn(b.current);return S.addEventListener(I,y),()=>{S.removeEventListener(I,y)}}},[y,c]),R.jsx(O.Fragment,{children:O.cloneElement(t,x)})}const pae=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function fae(n){const t=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(t)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:t}function gae(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const t=c=>n.ownerDocument.querySelector(`input[type="radio"]${c}`);let i=t(`[name="${n.name}"]:checked`);return i||(i=t(`[name="${n.name}"]`)),i!==n}function mae(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||gae(n))}function bae(n){const t=[],i=[];return Array.from(n.querySelectorAll(pae)).forEach((c,d)=>{const h=fae(c);h===-1||!mae(c)||(h===0?t.push(c):i.push({documentOrder:d,tabIndex:h,node:c}))}),i.sort((c,d)=>c.tabIndex===d.tabIndex?c.documentOrder-d.documentOrder:c.tabIndex-d.tabIndex).map(c=>c.node).concat(t)}function kae(){return!0}function wae(n){const{children:t,disableAutoFocus:i=!1,disableEnforceFocus:c=!1,disableRestoreFocus:d=!1,getTabbable:h=bae,isEnabled:f=kae,open:b}=n,m=O.useRef(!1),v=O.useRef(null),C=O.useRef(null),y=O.useRef(null),_=O.useRef(null),x=O.useRef(!1),I=O.useRef(null),S=nn(t.ref,I),M=O.useRef(null);O.useEffect(()=>{!b||!I.current||(x.current=!i)},[i,b]),O.useEffect(()=>{if(!b||!I.current)return;const L=Tn(I.current);return I.current.contains(L.activeElement)||(I.current.hasAttribute("tabIndex")||I.current.setAttribute("tabIndex","-1"),x.current&&I.current.focus()),()=>{d||(y.current&&y.current.focus&&(m.current=!0,y.current.focus()),y.current=null)}},[b]),O.useEffect(()=>{if(!b||!I.current)return;const L=Tn(I.current),V=P=>{M.current=P,!(c||!f()||P.key!=="Tab")&&L.activeElement===I.current&&P.shiftKey&&(m.current=!0,C.current&&C.current.focus())},H=()=>{const P=I.current;if(P===null)return;if(!L.hasFocus()||!f()||m.current){m.current=!1;return}if(P.contains(L.activeElement)||c&&L.activeElement!==v.current&&L.activeElement!==C.current)return;if(L.activeElement!==_.current)_.current=null;else if(_.current!==null)return;if(!x.current)return;let U=[];if((L.activeElement===v.current||L.activeElement===C.current)&&(U=h(I.current)),U.length>0){var G,Q;const ee=!!((G=M.current)!=null&&G.shiftKey&&((Q=M.current)==null?void 0:Q.key)==="Tab"),re=U[0],J=U[U.length-1];typeof re!="string"&&typeof J!="string"&&(ee?J.focus():re.focus())}else P.focus()};L.addEventListener("focusin",H),L.addEventListener("keydown",V,!0);const W=setInterval(()=>{L.activeElement&&L.activeElement.tagName==="BODY"&&H()},50);return()=>{clearInterval(W),L.removeEventListener("focusin",H),L.removeEventListener("keydown",V,!0)}},[i,c,d,f,b,h]);const N=L=>{y.current===null&&(y.current=L.relatedTarget),x.current=!0,_.current=L.target;const V=t.props.onFocus;V&&V(L)},j=L=>{y.current===null&&(y.current=L.relatedTarget),x.current=!0};return R.jsxs(O.Fragment,{children:[R.jsx("div",{tabIndex:b?0:-1,onFocus:j,ref:v,"data-testid":"sentinelStart"}),O.cloneElement(t,{ref:S,onFocus:N}),R.jsx("div",{tabIndex:b?0:-1,onFocus:j,ref:C,"data-testid":"sentinelEnd"})]})}function vae(n){return typeof n=="function"?n():n}const qO=O.forwardRef(function(t,i){const{children:c,container:d,disablePortal:h=!1}=t,[f,b]=O.useState(null),m=nn(O.isValidElement(c)?c.ref:null,i);if(bi(()=>{h||b(vae(d)||document.body)},[d,h]),bi(()=>{if(f&&!h)return Sf(i,f),()=>{Sf(i,null)}},[i,f,h]),h){if(O.isValidElement(c)){const v={ref:m};return O.cloneElement(c,v)}return R.jsx(O.Fragment,{children:c})}return R.jsx(O.Fragment,{children:f&&H4.createPortal(c,f)})});function _ae(n){const t=Tn(n);return t.body===n?Qr(n).innerWidth>t.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function vd(n,t){t?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function DM(n){return parseInt(Qr(n).getComputedStyle(n).paddingRight,10)||0}function Cae(n){const i=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(n.tagName)!==-1,c=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return i||c}function MM(n,t,i,c,d){const h=[t,i,...c];[].forEach.call(n.children,f=>{const b=h.indexOf(f)===-1,m=!Cae(f);b&&m&&vd(f,d)})}function v0(n,t){let i=-1;return n.some((c,d)=>t(c)?(i=d,!0):!1),i}function Aae(n,t){const i=[],c=n.container;if(!t.disableScrollLock){if(_ae(c)){const f=TO(Tn(c));i.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${DM(c)+f}px`;const b=Tn(c).querySelectorAll(".mui-fixed");[].forEach.call(b,m=>{i.push({value:m.style.paddingRight,property:"padding-right",el:m}),m.style.paddingRight=`${DM(m)+f}px`})}let h;if(c.parentNode instanceof DocumentFragment)h=Tn(c).body;else{const f=c.parentElement,b=Qr(c);h=(f==null?void 0:f.nodeName)==="HTML"&&b.getComputedStyle(f).overflowY==="scroll"?f:c}i.push({value:h.style.overflow,property:"overflow",el:h},{value:h.style.overflowX,property:"overflow-x",el:h},{value:h.style.overflowY,property:"overflow-y",el:h}),h.style.overflow="hidden"}return()=>{i.forEach(({value:h,el:f,property:b})=>{h?f.style.setProperty(b,h):f.style.removeProperty(b)})}}function yae(n){const t=[];return[].forEach.call(n.children,i=>{i.getAttribute("aria-hidden")==="true"&&t.push(i)}),t}class xae{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,i){let c=this.modals.indexOf(t);if(c!==-1)return c;c=this.modals.length,this.modals.push(t),t.modalRef&&vd(t.modalRef,!1);const d=yae(i);MM(i,t.mount,t.modalRef,d,!0);const h=v0(this.containers,f=>f.container===i);return h!==-1?(this.containers[h].modals.push(t),c):(this.containers.push({modals:[t],container:i,restore:null,hiddenSiblings:d}),c)}mount(t,i){const c=v0(this.containers,h=>h.modals.indexOf(t)!==-1),d=this.containers[c];d.restore||(d.restore=Aae(d,i))}remove(t,i=!0){const c=this.modals.indexOf(t);if(c===-1)return c;const d=v0(this.containers,f=>f.modals.indexOf(t)!==-1),h=this.containers[d];if(h.modals.splice(h.modals.indexOf(t),1),this.modals.splice(c,1),h.modals.length===0)h.restore&&h.restore(),t.modalRef&&vd(t.modalRef,i),MM(h.container,t.mount,t.modalRef,h.hiddenSiblings,!1),this.containers.splice(d,1);else{const f=h.modals[h.modals.length-1];f.modalRef&&vd(f.modalRef,!1)}return c}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function Eae(n){return typeof n=="function"?n():n}function Tae(n){return n?n.props.hasOwnProperty("in"):!1}const Iae=new xae;function Sae(n){const{container:t,disableEscapeKeyDown:i=!1,disableScrollLock:c=!1,manager:d=Iae,closeAfterTransition:h=!1,onTransitionEnter:f,onTransitionExited:b,children:m,onClose:v,open:C,rootRef:y}=n,_=O.useRef({}),x=O.useRef(null),I=O.useRef(null),S=nn(I,y),[M,N]=O.useState(!C),j=Tae(m);let L=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(L=!1);const V=()=>Tn(x.current),H=()=>(_.current.modalRef=I.current,_.current.mount=x.current,_.current),W=()=>{d.mount(H(),{disableScrollLock:c}),I.current&&(I.current.scrollTop=0)},P=Ko(()=>{const ie=Eae(t)||V().body;d.add(H(),ie),I.current&&W()}),U=O.useCallback(()=>d.isTopModal(H()),[d]),G=Ko(ie=>{x.current=ie,ie&&(C&&U()?W():I.current&&vd(I.current,L))}),Q=O.useCallback(()=>{d.remove(H(),L)},[L,d]);O.useEffect(()=>()=>{Q()},[Q]),O.useEffect(()=>{C?P():(!j||!h)&&Q()},[C,Q,j,h,P]);const ee=ie=>ce=>{var K;(K=ie.onKeyDown)==null||K.call(ie,ce),!(ce.key!=="Escape"||ce.which===229||!U())&&(i||(ce.stopPropagation(),v&&v(ce,"escapeKeyDown")))},re=ie=>ce=>{var K;(K=ie.onClick)==null||K.call(ie,ce),ce.target===ce.currentTarget&&v&&v(ce,"backdropClick")};return{getRootProps:(ie={})=>{const ce=Of(n);delete ce.onTransitionEnter,delete ce.onTransitionExited;const K=F({},ce,ie);return F({role:"presentation"},K,{onKeyDown:ee(K),ref:S})},getBackdropProps:(ie={})=>{const ce=ie;return F({"aria-hidden":!0},ce,{onClick:re(ce),open:C})},getTransitionProps:()=>{const ie=()=>{N(!1),f&&f()},ce=()=>{N(!0),b&&b(),h&&Q()};return{onEnter:ww(ie,m==null?void 0:m.props.onEnter),onExited:ww(ce,m==null?void 0:m.props.onExited)}},rootRef:S,portalRef:G,isTopModal:U,exited:M,hasTransition:j}}var mo="top",Xo="bottom",ei="right",bo="left",M_="auto",Lu=[mo,Xo,ei,bo],Tc="start",Zd="end",Dae="clippingParents",GO="viewport",Yl="popper",Mae="reference",PM=Lu.reduce(function(n,t){return n.concat([t+"-"+Tc,t+"-"+Zd])},[]),KO=[].concat(Lu,[M_]).reduce(function(n,t){return n.concat([t,t+"-"+Tc,t+"-"+Zd])},[]),Pae="beforeRead",Rae="read",Bae="afterRead",Nae="beforeMain",Oae="main",Lae="afterMain",jae="beforeWrite",zae="write",Fae="afterWrite",Vae=[Pae,Rae,Bae,Nae,Oae,Lae,jae,zae,Fae];function Fi(n){return n?(n.nodeName||"").toLowerCase():null}function Ro(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function Js(n){var t=Ro(n).Element;return n instanceof t||n instanceof Element}function Qo(n){var t=Ro(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function P_(n){if(typeof ShadowRoot>"u")return!1;var t=Ro(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}function $ae(n){var t=n.state;Object.keys(t.elements).forEach(function(i){var c=t.styles[i]||{},d=t.attributes[i]||{},h=t.elements[i];!Qo(h)||!Fi(h)||(Object.assign(h.style,c),Object.keys(d).forEach(function(f){var b=d[f];b===!1?h.removeAttribute(f):h.setAttribute(f,b===!0?"":b)}))})}function Uae(n){var t=n.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(c){var d=t.elements[c],h=t.attributes[c]||{},f=Object.keys(t.styles.hasOwnProperty(c)?t.styles[c]:i[c]),b=f.reduce(function(m,v){return m[v]="",m},{});!Qo(d)||!Fi(d)||(Object.assign(d.style,b),Object.keys(h).forEach(function(m){d.removeAttribute(m)}))})}}const Hae={name:"applyStyles",enabled:!0,phase:"write",fn:$ae,effect:Uae,requires:["computeStyles"]};function Li(n){return n.split("-")[0]}var Us=Math.max,Lf=Math.min,Ic=Math.round;function Ew(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function YO(){return!/^((?!chrome|android).)*safari/i.test(Ew())}function Sc(n,t,i){t===void 0&&(t=!1),i===void 0&&(i=!1);var c=n.getBoundingClientRect(),d=1,h=1;t&&Qo(n)&&(d=n.offsetWidth>0&&Ic(c.width)/n.offsetWidth||1,h=n.offsetHeight>0&&Ic(c.height)/n.offsetHeight||1);var f=Js(n)?Ro(n):window,b=f.visualViewport,m=!YO()&&i,v=(c.left+(m&&b?b.offsetLeft:0))/d,C=(c.top+(m&&b?b.offsetTop:0))/h,y=c.width/d,_=c.height/h;return{width:y,height:_,top:C,right:v+y,bottom:C+_,left:v,x:v,y:C}}function R_(n){var t=Sc(n),i=n.offsetWidth,c=n.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-c)<=1&&(c=t.height),{x:n.offsetLeft,y:n.offsetTop,width:i,height:c}}function QO(n,t){var i=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(i&&P_(i)){var c=t;do{if(c&&n.isSameNode(c))return!0;c=c.parentNode||c.host}while(c)}return!1}function kr(n){return Ro(n).getComputedStyle(n)}function Wae(n){return["table","td","th"].indexOf(Fi(n))>=0}function is(n){return((Js(n)?n.ownerDocument:n.document)||window.document).documentElement}function vm(n){return Fi(n)==="html"?n:n.assignedSlot||n.parentNode||(P_(n)?n.host:null)||is(n)}function RM(n){return!Qo(n)||kr(n).position==="fixed"?null:n.offsetParent}function qae(n){var t=/firefox/i.test(Ew()),i=/Trident/i.test(Ew());if(i&&Qo(n)){var c=kr(n);if(c.position==="fixed")return null}var d=vm(n);for(P_(d)&&(d=d.host);Qo(d)&&["html","body"].indexOf(Fi(d))<0;){var h=kr(d);if(h.transform!=="none"||h.perspective!=="none"||h.contain==="paint"||["transform","perspective"].indexOf(h.willChange)!==-1||t&&h.willChange==="filter"||t&&h.filter&&h.filter!=="none")return d;d=d.parentNode}return null}function ju(n){for(var t=Ro(n),i=RM(n);i&&Wae(i)&&kr(i).position==="static";)i=RM(i);return i&&(Fi(i)==="html"||Fi(i)==="body"&&kr(i).position==="static")?t:i||qae(n)||t}function B_(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function _d(n,t,i){return Us(n,Lf(t,i))}function Gae(n,t,i){var c=_d(n,t,i);return c>i?i:c}function ZO(){return{top:0,right:0,bottom:0,left:0}}function JO(n){return Object.assign({},ZO(),n)}function XO(n,t){return t.reduce(function(i,c){return i[c]=n,i},{})}var Kae=function(t,i){return t=typeof t=="function"?t(Object.assign({},i.rects,{placement:i.placement})):t,JO(typeof t!="number"?t:XO(t,Lu))};function Yae(n){var t,i=n.state,c=n.name,d=n.options,h=i.elements.arrow,f=i.modifiersData.popperOffsets,b=Li(i.placement),m=B_(b),v=[bo,ei].indexOf(b)>=0,C=v?"height":"width";if(!(!h||!f)){var y=Kae(d.padding,i),_=R_(h),x=m==="y"?mo:bo,I=m==="y"?Xo:ei,S=i.rects.reference[C]+i.rects.reference[m]-f[m]-i.rects.popper[C],M=f[m]-i.rects.reference[m],N=ju(h),j=N?m==="y"?N.clientHeight||0:N.clientWidth||0:0,L=S/2-M/2,V=y[x],H=j-_[C]-y[I],W=j/2-_[C]/2+L,P=_d(V,W,H),U=m;i.modifiersData[c]=(t={},t[U]=P,t.centerOffset=P-W,t)}}function Qae(n){var t=n.state,i=n.options,c=i.element,d=c===void 0?"[data-popper-arrow]":c;d!=null&&(typeof d=="string"&&(d=t.elements.popper.querySelector(d),!d)||QO(t.elements.popper,d)&&(t.elements.arrow=d))}const Zae={name:"arrow",enabled:!0,phase:"main",fn:Yae,effect:Qae,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Dc(n){return n.split("-")[1]}var Jae={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Xae(n,t){var i=n.x,c=n.y,d=t.devicePixelRatio||1;return{x:Ic(i*d)/d||0,y:Ic(c*d)/d||0}}function BM(n){var t,i=n.popper,c=n.popperRect,d=n.placement,h=n.variation,f=n.offsets,b=n.position,m=n.gpuAcceleration,v=n.adaptive,C=n.roundOffsets,y=n.isFixed,_=f.x,x=_===void 0?0:_,I=f.y,S=I===void 0?0:I,M=typeof C=="function"?C({x,y:S}):{x,y:S};x=M.x,S=M.y;var N=f.hasOwnProperty("x"),j=f.hasOwnProperty("y"),L=bo,V=mo,H=window;if(v){var W=ju(i),P="clientHeight",U="clientWidth";if(W===Ro(i)&&(W=is(i),kr(W).position!=="static"&&b==="absolute"&&(P="scrollHeight",U="scrollWidth")),W=W,d===mo||(d===bo||d===ei)&&h===Zd){V=Xo;var G=y&&W===H&&H.visualViewport?H.visualViewport.height:W[P];S-=G-c.height,S*=m?1:-1}if(d===bo||(d===mo||d===Xo)&&h===Zd){L=ei;var Q=y&&W===H&&H.visualViewport?H.visualViewport.width:W[U];x-=Q-c.width,x*=m?1:-1}}var ee=Object.assign({position:b},v&&Jae),re=C===!0?Xae({x,y:S},Ro(i)):{x,y:S};if(x=re.x,S=re.y,m){var J;return Object.assign({},ee,(J={},J[V]=j?"0":"",J[L]=N?"0":"",J.transform=(H.devicePixelRatio||1)<=1?"translate("+x+"px, "+S+"px)":"translate3d("+x+"px, "+S+"px, 0)",J))}return Object.assign({},ee,(t={},t[V]=j?S+"px":"",t[L]=N?x+"px":"",t.transform="",t))}function ece(n){var t=n.state,i=n.options,c=i.gpuAcceleration,d=c===void 0?!0:c,h=i.adaptive,f=h===void 0?!0:h,b=i.roundOffsets,m=b===void 0?!0:b,v={placement:Li(t.placement),variation:Dc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:d,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,BM(Object.assign({},v,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:f,roundOffsets:m})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,BM(Object.assign({},v,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:m})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const tce={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ece,data:{}};var Mp={passive:!0};function nce(n){var t=n.state,i=n.instance,c=n.options,d=c.scroll,h=d===void 0?!0:d,f=c.resize,b=f===void 0?!0:f,m=Ro(t.elements.popper),v=[].concat(t.scrollParents.reference,t.scrollParents.popper);return h&&v.forEach(function(C){C.addEventListener("scroll",i.update,Mp)}),b&&m.addEventListener("resize",i.update,Mp),function(){h&&v.forEach(function(C){C.removeEventListener("scroll",i.update,Mp)}),b&&m.removeEventListener("resize",i.update,Mp)}}const oce={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:nce,data:{}};var ice={left:"right",right:"left",bottom:"top",top:"bottom"};function Zp(n){return n.replace(/left|right|bottom|top/g,function(t){return ice[t]})}var rce={start:"end",end:"start"};function NM(n){return n.replace(/start|end/g,function(t){return rce[t]})}function N_(n){var t=Ro(n),i=t.pageXOffset,c=t.pageYOffset;return{scrollLeft:i,scrollTop:c}}function O_(n){return Sc(is(n)).left+N_(n).scrollLeft}function sce(n,t){var i=Ro(n),c=is(n),d=i.visualViewport,h=c.clientWidth,f=c.clientHeight,b=0,m=0;if(d){h=d.width,f=d.height;var v=YO();(v||!v&&t==="fixed")&&(b=d.offsetLeft,m=d.offsetTop)}return{width:h,height:f,x:b+O_(n),y:m}}function ace(n){var t,i=is(n),c=N_(n),d=(t=n.ownerDocument)==null?void 0:t.body,h=Us(i.scrollWidth,i.clientWidth,d?d.scrollWidth:0,d?d.clientWidth:0),f=Us(i.scrollHeight,i.clientHeight,d?d.scrollHeight:0,d?d.clientHeight:0),b=-c.scrollLeft+O_(n),m=-c.scrollTop;return kr(d||i).direction==="rtl"&&(b+=Us(i.clientWidth,d?d.clientWidth:0)-h),{width:h,height:f,x:b,y:m}}function L_(n){var t=kr(n),i=t.overflow,c=t.overflowX,d=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+d+c)}function e3(n){return["html","body","#document"].indexOf(Fi(n))>=0?n.ownerDocument.body:Qo(n)&&L_(n)?n:e3(vm(n))}function Cd(n,t){var i;t===void 0&&(t=[]);var c=e3(n),d=c===((i=n.ownerDocument)==null?void 0:i.body),h=Ro(c),f=d?[h].concat(h.visualViewport||[],L_(c)?c:[]):c,b=t.concat(f);return d?b:b.concat(Cd(vm(f)))}function Tw(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function cce(n,t){var i=Sc(n,!1,t==="fixed");return i.top=i.top+n.clientTop,i.left=i.left+n.clientLeft,i.bottom=i.top+n.clientHeight,i.right=i.left+n.clientWidth,i.width=n.clientWidth,i.height=n.clientHeight,i.x=i.left,i.y=i.top,i}function OM(n,t,i){return t===GO?Tw(sce(n,i)):Js(t)?cce(t,i):Tw(ace(is(n)))}function lce(n){var t=Cd(vm(n)),i=["absolute","fixed"].indexOf(kr(n).position)>=0,c=i&&Qo(n)?ju(n):n;return Js(c)?t.filter(function(d){return Js(d)&&QO(d,c)&&Fi(d)!=="body"}):[]}function dce(n,t,i,c){var d=t==="clippingParents"?lce(n):[].concat(t),h=[].concat(d,[i]),f=h[0],b=h.reduce(function(m,v){var C=OM(n,v,c);return m.top=Us(C.top,m.top),m.right=Lf(C.right,m.right),m.bottom=Lf(C.bottom,m.bottom),m.left=Us(C.left,m.left),m},OM(n,f,c));return b.width=b.right-b.left,b.height=b.bottom-b.top,b.x=b.left,b.y=b.top,b}function t3(n){var t=n.reference,i=n.element,c=n.placement,d=c?Li(c):null,h=c?Dc(c):null,f=t.x+t.width/2-i.width/2,b=t.y+t.height/2-i.height/2,m;switch(d){case mo:m={x:f,y:t.y-i.height};break;case Xo:m={x:f,y:t.y+t.height};break;case ei:m={x:t.x+t.width,y:b};break;case bo:m={x:t.x-i.width,y:b};break;default:m={x:t.x,y:t.y}}var v=d?B_(d):null;if(v!=null){var C=v==="y"?"height":"width";switch(h){case Tc:m[v]=m[v]-(t[C]/2-i[C]/2);break;case Zd:m[v]=m[v]+(t[C]/2-i[C]/2);break}}return m}function Jd(n,t){t===void 0&&(t={});var i=t,c=i.placement,d=c===void 0?n.placement:c,h=i.strategy,f=h===void 0?n.strategy:h,b=i.boundary,m=b===void 0?Dae:b,v=i.rootBoundary,C=v===void 0?GO:v,y=i.elementContext,_=y===void 0?Yl:y,x=i.altBoundary,I=x===void 0?!1:x,S=i.padding,M=S===void 0?0:S,N=JO(typeof M!="number"?M:XO(M,Lu)),j=_===Yl?Mae:Yl,L=n.rects.popper,V=n.elements[I?j:_],H=dce(Js(V)?V:V.contextElement||is(n.elements.popper),m,C,f),W=Sc(n.elements.reference),P=t3({reference:W,element:L,strategy:"absolute",placement:d}),U=Tw(Object.assign({},L,P)),G=_===Yl?U:W,Q={top:H.top-G.top+N.top,bottom:G.bottom-H.bottom+N.bottom,left:H.left-G.left+N.left,right:G.right-H.right+N.right},ee=n.modifiersData.offset;if(_===Yl&&ee){var re=ee[d];Object.keys(Q).forEach(function(J){var X=[ei,Xo].indexOf(J)>=0?1:-1,oe=[mo,Xo].indexOf(J)>=0?"y":"x";Q[J]+=re[oe]*X})}return Q}function uce(n,t){t===void 0&&(t={});var i=t,c=i.placement,d=i.boundary,h=i.rootBoundary,f=i.padding,b=i.flipVariations,m=i.allowedAutoPlacements,v=m===void 0?KO:m,C=Dc(c),y=C?b?PM:PM.filter(function(I){return Dc(I)===C}):Lu,_=y.filter(function(I){return v.indexOf(I)>=0});_.length===0&&(_=y);var x=_.reduce(function(I,S){return I[S]=Jd(n,{placement:S,boundary:d,rootBoundary:h,padding:f})[Li(S)],I},{});return Object.keys(x).sort(function(I,S){return x[I]-x[S]})}function hce(n){if(Li(n)===M_)return[];var t=Zp(n);return[NM(n),t,NM(t)]}function pce(n){var t=n.state,i=n.options,c=n.name;if(!t.modifiersData[c]._skip){for(var d=i.mainAxis,h=d===void 0?!0:d,f=i.altAxis,b=f===void 0?!0:f,m=i.fallbackPlacements,v=i.padding,C=i.boundary,y=i.rootBoundary,_=i.altBoundary,x=i.flipVariations,I=x===void 0?!0:x,S=i.allowedAutoPlacements,M=t.options.placement,N=Li(M),j=N===M,L=m||(j||!I?[Zp(M)]:hce(M)),V=[M].concat(L).reduce(function(Ne,nt){return Ne.concat(Li(nt)===M_?uce(t,{placement:nt,boundary:C,rootBoundary:y,padding:v,flipVariations:I,allowedAutoPlacements:S}):nt)},[]),H=t.rects.reference,W=t.rects.popper,P=new Map,U=!0,G=V[0],Q=0;Q<V.length;Q++){var ee=V[Q],re=Li(ee),J=Dc(ee)===Tc,X=[mo,Xo].indexOf(re)>=0,oe=X?"width":"height",ie=Jd(t,{placement:ee,boundary:C,rootBoundary:y,altBoundary:_,padding:v}),ce=X?J?ei:bo:J?Xo:mo;H[oe]>W[oe]&&(ce=Zp(ce));var K=Zp(ce),he=[];if(h&&he.push(ie[re]<=0),b&&he.push(ie[ce]<=0,ie[K]<=0),he.every(function(Ne){return Ne})){G=ee,U=!1;break}P.set(ee,he)}if(U)for(var Ae=I?3:1,tt=function(nt){var Te=V.find(function(mt){var st=P.get(mt);if(st)return st.slice(0,nt).every(function(ot){return ot})});if(Te)return G=Te,"break"},Ke=Ae;Ke>0;Ke--){var it=tt(Ke);if(it==="break")break}t.placement!==G&&(t.modifiersData[c]._skip=!0,t.placement=G,t.reset=!0)}}const fce={name:"flip",enabled:!0,phase:"main",fn:pce,requiresIfExists:["offset"],data:{_skip:!1}};function LM(n,t,i){return i===void 0&&(i={x:0,y:0}),{top:n.top-t.height-i.y,right:n.right-t.width+i.x,bottom:n.bottom-t.height+i.y,left:n.left-t.width-i.x}}function jM(n){return[mo,ei,Xo,bo].some(function(t){return n[t]>=0})}function gce(n){var t=n.state,i=n.name,c=t.rects.reference,d=t.rects.popper,h=t.modifiersData.preventOverflow,f=Jd(t,{elementContext:"reference"}),b=Jd(t,{altBoundary:!0}),m=LM(f,c),v=LM(b,d,h),C=jM(m),y=jM(v);t.modifiersData[i]={referenceClippingOffsets:m,popperEscapeOffsets:v,isReferenceHidden:C,hasPopperEscaped:y},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":C,"data-popper-escaped":y})}const mce={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:gce};function bce(n,t,i){var c=Li(n),d=[bo,mo].indexOf(c)>=0?-1:1,h=typeof i=="function"?i(Object.assign({},t,{placement:n})):i,f=h[0],b=h[1];return f=f||0,b=(b||0)*d,[bo,ei].indexOf(c)>=0?{x:b,y:f}:{x:f,y:b}}function kce(n){var t=n.state,i=n.options,c=n.name,d=i.offset,h=d===void 0?[0,0]:d,f=KO.reduce(function(C,y){return C[y]=bce(y,t.rects,h),C},{}),b=f[t.placement],m=b.x,v=b.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=m,t.modifiersData.popperOffsets.y+=v),t.modifiersData[c]=f}const wce={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:kce};function vce(n){var t=n.state,i=n.name;t.modifiersData[i]=t3({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const _ce={name:"popperOffsets",enabled:!0,phase:"read",fn:vce,data:{}};function Cce(n){return n==="x"?"y":"x"}function Ace(n){var t=n.state,i=n.options,c=n.name,d=i.mainAxis,h=d===void 0?!0:d,f=i.altAxis,b=f===void 0?!1:f,m=i.boundary,v=i.rootBoundary,C=i.altBoundary,y=i.padding,_=i.tether,x=_===void 0?!0:_,I=i.tetherOffset,S=I===void 0?0:I,M=Jd(t,{boundary:m,rootBoundary:v,padding:y,altBoundary:C}),N=Li(t.placement),j=Dc(t.placement),L=!j,V=B_(N),H=Cce(V),W=t.modifiersData.popperOffsets,P=t.rects.reference,U=t.rects.popper,G=typeof S=="function"?S(Object.assign({},t.rects,{placement:t.placement})):S,Q=typeof G=="number"?{mainAxis:G,altAxis:G}:Object.assign({mainAxis:0,altAxis:0},G),ee=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,re={x:0,y:0};if(W){if(h){var J,X=V==="y"?mo:bo,oe=V==="y"?Xo:ei,ie=V==="y"?"height":"width",ce=W[V],K=ce+M[X],he=ce-M[oe],Ae=x?-U[ie]/2:0,tt=j===Tc?P[ie]:U[ie],Ke=j===Tc?-U[ie]:-P[ie],it=t.elements.arrow,Ne=x&&it?R_(it):{width:0,height:0},nt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:ZO(),Te=nt[X],mt=nt[oe],st=_d(0,P[ie],Ne[ie]),ot=L?P[ie]/2-Ae-st-Te-Q.mainAxis:tt-st-Te-Q.mainAxis,bt=L?-P[ie]/2+Ae+st+mt+Q.mainAxis:Ke+st+mt+Q.mainAxis,$e=t.elements.arrow&&ju(t.elements.arrow),ye=$e?V==="y"?$e.clientTop||0:$e.clientLeft||0:0,Y=(J=ee==null?void 0:ee[V])!=null?J:0,te=ce+ot-Y-ye,se=ce+bt-Y,ve=_d(x?Lf(K,te):K,ce,x?Us(he,se):he);W[V]=ve,re[V]=ve-ce}if(b){var Ee,He=V==="x"?mo:bo,Dt=V==="x"?Xo:ei,Ze=W[H],De=H==="y"?"height":"width",Ye=Ze+M[He],qe=Ze-M[Dt],je=[mo,bo].indexOf(N)!==-1,ut=(Ee=ee==null?void 0:ee[H])!=null?Ee:0,zt=je?Ye:Ze-P[De]-U[De]-ut+Q.altAxis,In=je?Ze+P[De]+U[De]-ut-Q.altAxis:qe,kt=x&&je?Gae(zt,Ze,In):_d(x?zt:Ye,Ze,x?In:qe);W[H]=kt,re[H]=kt-Ze}t.modifiersData[c]=re}}const yce={name:"preventOverflow",enabled:!0,phase:"main",fn:Ace,requiresIfExists:["offset"]};function xce(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function Ece(n){return n===Ro(n)||!Qo(n)?N_(n):xce(n)}function Tce(n){var t=n.getBoundingClientRect(),i=Ic(t.width)/n.offsetWidth||1,c=Ic(t.height)/n.offsetHeight||1;return i!==1||c!==1}function Ice(n,t,i){i===void 0&&(i=!1);var c=Qo(t),d=Qo(t)&&Tce(t),h=is(t),f=Sc(n,d,i),b={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(c||!c&&!i)&&((Fi(t)!=="body"||L_(h))&&(b=Ece(t)),Qo(t)?(m=Sc(t,!0),m.x+=t.clientLeft,m.y+=t.clientTop):h&&(m.x=O_(h))),{x:f.left+b.scrollLeft-m.x,y:f.top+b.scrollTop-m.y,width:f.width,height:f.height}}function Sce(n){var t=new Map,i=new Set,c=[];n.forEach(function(h){t.set(h.name,h)});function d(h){i.add(h.name);var f=[].concat(h.requires||[],h.requiresIfExists||[]);f.forEach(function(b){if(!i.has(b)){var m=t.get(b);m&&d(m)}}),c.push(h)}return n.forEach(function(h){i.has(h.name)||d(h)}),c}function Dce(n){var t=Sce(n);return Vae.reduce(function(i,c){return i.concat(t.filter(function(d){return d.phase===c}))},[])}function Mce(n){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(n())})})),t}}function Pce(n){var t=n.reduce(function(i,c){var d=i[c.name];return i[c.name]=d?Object.assign({},d,c,{options:Object.assign({},d.options,c.options),data:Object.assign({},d.data,c.data)}):c,i},{});return Object.keys(t).map(function(i){return t[i]})}var zM={placement:"bottom",modifiers:[],strategy:"absolute"};function FM(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return!t.some(function(c){return!(c&&typeof c.getBoundingClientRect=="function")})}function Rce(n){n===void 0&&(n={});var t=n,i=t.defaultModifiers,c=i===void 0?[]:i,d=t.defaultOptions,h=d===void 0?zM:d;return function(b,m,v){v===void 0&&(v=h);var C={placement:"bottom",orderedModifiers:[],options:Object.assign({},zM,h),modifiersData:{},elements:{reference:b,popper:m},attributes:{},styles:{}},y=[],_=!1,x={state:C,setOptions:function(N){var j=typeof N=="function"?N(C.options):N;S(),C.options=Object.assign({},h,C.options,j),C.scrollParents={reference:Js(b)?Cd(b):b.contextElement?Cd(b.contextElement):[],popper:Cd(m)};var L=Dce(Pce([].concat(c,C.options.modifiers)));return C.orderedModifiers=L.filter(function(V){return V.enabled}),I(),x.update()},forceUpdate:function(){if(!_){var N=C.elements,j=N.reference,L=N.popper;if(FM(j,L)){C.rects={reference:Ice(j,ju(L),C.options.strategy==="fixed"),popper:R_(L)},C.reset=!1,C.placement=C.options.placement,C.orderedModifiers.forEach(function(Q){return C.modifiersData[Q.name]=Object.assign({},Q.data)});for(var V=0;V<C.orderedModifiers.length;V++){if(C.reset===!0){C.reset=!1,V=-1;continue}var H=C.orderedModifiers[V],W=H.fn,P=H.options,U=P===void 0?{}:P,G=H.name;typeof W=="function"&&(C=W({state:C,options:U,name:G,instance:x})||C)}}}},update:Mce(function(){return new Promise(function(M){x.forceUpdate(),M(C)})}),destroy:function(){S(),_=!0}};if(!FM(b,m))return x;x.setOptions(v).then(function(M){!_&&v.onFirstUpdate&&v.onFirstUpdate(M)});function I(){C.orderedModifiers.forEach(function(M){var N=M.name,j=M.options,L=j===void 0?{}:j,V=M.effect;if(typeof V=="function"){var H=V({state:C,name:N,instance:x,options:L}),W=function(){};y.push(H||W)}})}function S(){y.forEach(function(M){return M()}),y=[]}return x}}var Bce=[oce,_ce,tce,Hae,wce,fce,yce,Zae,mce],Nce=Rce({defaultModifiers:Bce});const n3="Popper";function Oce(n){return WO(n3,n)}dae(n3,["root"]);const Lce=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],jce=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function zce(n,t){if(t==="ltr")return n;switch(n){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return n}}function Iw(n){return typeof n=="function"?n():n}function Fce(n){return n.nodeType!==void 0}const Vce=()=>Fe({root:["root"]},vse(Oce)),$ce={},Uce=O.forwardRef(function(t,i){var c;const{anchorEl:d,children:h,direction:f,disablePortal:b,modifiers:m,open:v,placement:C,popperOptions:y,popperRef:_,slotProps:x={},slots:I={},TransitionProps:S}=t,M=we(t,Lce),N=O.useRef(null),j=nn(N,i),L=O.useRef(null),V=nn(L,_),H=O.useRef(V);bi(()=>{H.current=V},[V]),O.useImperativeHandle(_,()=>L.current,[]);const W=zce(C,f),[P,U]=O.useState(W),[G,Q]=O.useState(Iw(d));O.useEffect(()=>{L.current&&L.current.forceUpdate()}),O.useEffect(()=>{d&&Q(Iw(d))},[d]),bi(()=>{if(!G||!v)return;const oe=K=>{U(K.placement)};let ie=[{name:"preventOverflow",options:{altBoundary:b}},{name:"flip",options:{altBoundary:b}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:K})=>{oe(K)}}];m!=null&&(ie=ie.concat(m)),y&&y.modifiers!=null&&(ie=ie.concat(y.modifiers));const ce=Nce(G,N.current,F({placement:W},y,{modifiers:ie}));return H.current(ce),()=>{ce.destroy(),H.current(null)}},[G,b,m,v,y,W]);const ee={placement:P};S!==null&&(ee.TransitionProps=S);const re=Vce(),J=(c=I.root)!=null?c:"div",X=Zr({elementType:J,externalSlotProps:x.root,externalForwardedProps:M,additionalProps:{role:"tooltip",ref:j},ownerState:t,className:re.root});return R.jsx(J,F({},X,{children:typeof h=="function"?h(ee):h}))}),Hce=O.forwardRef(function(t,i){const{anchorEl:c,children:d,container:h,direction:f="ltr",disablePortal:b=!1,keepMounted:m=!1,modifiers:v,open:C,placement:y="bottom",popperOptions:_=$ce,popperRef:x,style:I,transition:S=!1,slotProps:M={},slots:N={}}=t,j=we(t,jce),[L,V]=O.useState(!0),H=()=>{V(!1)},W=()=>{V(!0)};if(!m&&!C&&(!S||L))return null;let P;if(h)P=h;else if(c){const Q=Iw(c);P=Q&&Fce(Q)?Tn(Q).body:Tn(null).body}const U=!C&&m&&(!S||L)?"none":void 0,G=S?{in:C,onEnter:H,onExited:W}:void 0;return R.jsx(qO,{disablePortal:b,container:P,children:R.jsx(Uce,F({anchorEl:c,direction:f,disablePortal:b,modifiers:v,ref:i,open:S?!L:C,placement:y,popperOptions:_,popperRef:x,slotProps:M,slots:N},j,{style:F({position:"fixed",top:0,left:0,display:U},I),TransitionProps:G,children:d}))})});function Wce(n={}){const{autoHideDuration:t=null,disableWindowBlurListener:i=!1,onClose:c,open:d,resumeHideDuration:h}=n,f=Ls();O.useEffect(()=>{if(!d)return;function N(j){j.defaultPrevented||(j.key==="Escape"||j.key==="Esc")&&(c==null||c(j,"escapeKeyDown"))}return document.addEventListener("keydown",N),()=>{document.removeEventListener("keydown",N)}},[d,c]);const b=Ko((N,j)=>{c==null||c(N,j)}),m=Ko(N=>{!c||N==null||f.start(N,()=>{b(null,"timeout")})});O.useEffect(()=>(d&&m(t),f.clear),[d,t,m,f]);const v=N=>{c==null||c(N,"clickaway")},C=f.clear,y=O.useCallback(()=>{t!=null&&m(h??t*.5)},[t,h,m]),_=N=>j=>{const L=N.onBlur;L==null||L(j),y()},x=N=>j=>{const L=N.onFocus;L==null||L(j),C()},I=N=>j=>{const L=N.onMouseEnter;L==null||L(j),C()},S=N=>j=>{const L=N.onMouseLeave;L==null||L(j),y()};return O.useEffect(()=>{if(!i&&d)return window.addEventListener("focus",y),window.addEventListener("blur",C),()=>{window.removeEventListener("focus",y),window.removeEventListener("blur",C)}},[i,d,y,C]),{getRootProps:(N={})=>{const j=F({},Of(n),Of(N));return F({role:"presentation"},N,j,{onBlur:_(j),onFocus:x(j),onMouseEnter:I(j),onMouseLeave:S(j)})},onClickAway:v}}const qce=["onChange","maxRows","minRows","style","value"];function Pp(n){return parseInt(n,10)||0}const Gce={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Kce(n){return n==null||Object.keys(n).length===0||n.outerHeightStyle===0&&!n.overflowing}const j_=O.forwardRef(function(t,i){const{onChange:c,maxRows:d,minRows:h=1,style:f,value:b}=t,m=we(t,qce),{current:v}=O.useRef(b!=null),C=O.useRef(null),y=nn(i,C),_=O.useRef(null),x=O.useCallback(()=>{const M=C.current,j=Qr(M).getComputedStyle(M);if(j.width==="0px")return{outerHeightStyle:0,overflowing:!1};const L=_.current;L.style.width=j.width,L.value=M.value||t.placeholder||"x",L.value.slice(-1)===`
`&&(L.value+=" ");const V=j.boxSizing,H=Pp(j.paddingBottom)+Pp(j.paddingTop),W=Pp(j.borderBottomWidth)+Pp(j.borderTopWidth),P=L.scrollHeight;L.value="x";const U=L.scrollHeight;let G=P;h&&(G=Math.max(Number(h)*U,G)),d&&(G=Math.min(Number(d)*U,G)),G=Math.max(G,U);const Q=G+(V==="border-box"?H+W:0),ee=Math.abs(G-P)<=1;return{outerHeightStyle:Q,overflowing:ee}},[d,h,t.placeholder]),I=O.useCallback(()=>{const M=x();if(Kce(M))return;const N=C.current;N.style.height=`${M.outerHeightStyle}px`,N.style.overflow=M.overflowing?"hidden":""},[x]);bi(()=>{const M=()=>{I()};let N;const j=x_(M),L=C.current,V=Qr(L);V.addEventListener("resize",j);let H;return typeof ResizeObserver<"u"&&(H=new ResizeObserver(M),H.observe(L)),()=>{j.clear(),cancelAnimationFrame(N),V.removeEventListener("resize",j),H&&H.disconnect()}},[x,I]),bi(()=>{I()});const S=M=>{v||I(),c&&c(M)};return R.jsxs(O.Fragment,{children:[R.jsx("textarea",F({value:b,onChange:S,ref:y,rows:h,style:f},m)),R.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:_,tabIndex:-1,style:F({},Gce.shadow,f,{paddingTop:0,paddingBottom:0})})]})});var z_={};Object.defineProperty(z_,"__esModule",{value:!0});var o3=z_.default=void 0,Yce=Zce(O),Qce=LO;function i3(n){if(typeof WeakMap!="function")return null;var t=new WeakMap,i=new WeakMap;return(i3=function(c){return c?i:t})(n)}function Zce(n,t){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var i=i3(t);if(i&&i.has(n))return i.get(n);var c={__proto__:null},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in n)if(h!=="default"&&Object.prototype.hasOwnProperty.call(n,h)){var f=d?Object.getOwnPropertyDescriptor(n,h):null;f&&(f.get||f.set)?Object.defineProperty(c,h,f):c[h]=n[h]}return c.default=n,i&&i.set(n,c),c}function Jce(n){return Object.keys(n).length===0}function Xce(n=null){const t=Yce.useContext(Qce.ThemeContext);return!t||Jce(t)?n:t}o3=z_.default=Xce;const ele=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],tle=ge(Hce,{name:"MuiPopper",slot:"Root",overridesResolver:(n,t)=>t.root})({}),r3=O.forwardRef(function(t,i){var c;const d=o3(),h=Ve({props:t,name:"MuiPopper"}),{anchorEl:f,component:b,components:m,componentsProps:v,container:C,disablePortal:y,keepMounted:_,modifiers:x,open:I,placement:S,popperOptions:M,popperRef:N,transition:j,slots:L,slotProps:V}=h,H=we(h,ele),W=(c=L==null?void 0:L.root)!=null?c:m==null?void 0:m.Root,P=F({anchorEl:f,container:C,disablePortal:y,keepMounted:_,modifiers:x,open:I,placement:S,popperOptions:M,popperRef:N,transition:j},H);return R.jsx(tle,F({as:b,direction:d==null?void 0:d.direction,slots:{root:W},slotProps:V??v},P,{ref:i}))}),nle=os(R.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function ole(n){return ze("MuiChip",n)}const Ct=Le("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),ile=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],rle=n=>{const{classes:t,disabled:i,size:c,color:d,iconColor:h,onDelete:f,clickable:b,variant:m}=n,v={root:["root",m,i&&"disabled",`size${pe(c)}`,`color${pe(d)}`,b&&"clickable",b&&`clickableColor${pe(d)}`,f&&"deletable",f&&`deletableColor${pe(d)}`,`${m}${pe(d)}`],label:["label",`label${pe(c)}`],avatar:["avatar",`avatar${pe(c)}`,`avatarColor${pe(d)}`],icon:["icon",`icon${pe(c)}`,`iconColor${pe(h)}`],deleteIcon:["deleteIcon",`deleteIcon${pe(c)}`,`deleteIconColor${pe(d)}`,`deleteIcon${pe(m)}Color${pe(d)}`]};return Fe(v,ole,t)},sle=ge("div",{name:"MuiChip",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n,{color:c,iconColor:d,clickable:h,onDelete:f,size:b,variant:m}=i;return[{[`& .${Ct.avatar}`]:t.avatar},{[`& .${Ct.avatar}`]:t[`avatar${pe(b)}`]},{[`& .${Ct.avatar}`]:t[`avatarColor${pe(c)}`]},{[`& .${Ct.icon}`]:t.icon},{[`& .${Ct.icon}`]:t[`icon${pe(b)}`]},{[`& .${Ct.icon}`]:t[`iconColor${pe(d)}`]},{[`& .${Ct.deleteIcon}`]:t.deleteIcon},{[`& .${Ct.deleteIcon}`]:t[`deleteIcon${pe(b)}`]},{[`& .${Ct.deleteIcon}`]:t[`deleteIconColor${pe(c)}`]},{[`& .${Ct.deleteIcon}`]:t[`deleteIcon${pe(m)}Color${pe(c)}`]},t.root,t[`size${pe(b)}`],t[`color${pe(c)}`],h&&t.clickable,h&&c!=="default"&&t[`clickableColor${pe(c)})`],f&&t.deletable,f&&c!=="default"&&t[`deletableColor${pe(c)}`],t[m],t[`${m}${pe(c)}`]]}})(({theme:n,ownerState:t})=>{const i=n.palette.mode==="light"?n.palette.grey[700]:n.palette.grey[300];return F({maxWidth:"100%",fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(n.vars||n).palette.text.primary,backgroundColor:(n.vars||n).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:n.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Ct.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Ct.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:n.vars?n.vars.palette.Chip.defaultAvatarColor:i,fontSize:n.typography.pxToRem(12)},[`& .${Ct.avatarColorPrimary}`]:{color:(n.vars||n).palette.primary.contrastText,backgroundColor:(n.vars||n).palette.primary.dark},[`& .${Ct.avatarColorSecondary}`]:{color:(n.vars||n).palette.secondary.contrastText,backgroundColor:(n.vars||n).palette.secondary.dark},[`& .${Ct.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:n.typography.pxToRem(10)},[`& .${Ct.icon}`]:F({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&F({color:n.vars?n.vars.palette.Chip.defaultIconColor:i},t.color!=="default"&&{color:"inherit"})),[`& .${Ct.deleteIcon}`]:F({WebkitTapHighlightColor:"transparent",color:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / 0.26)`:St(n.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / 0.4)`:St(n.palette.text.primary,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:n.vars?`rgba(${n.vars.palette[t.color].contrastTextChannel} / 0.7)`:St(n.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(n.vars||n).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(n.vars||n).palette[t.color].main,color:(n.vars||n).palette[t.color].contrastText},t.onDelete&&{[`&.${Ct.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:St(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${Ct.focusVisible}`]:{backgroundColor:(n.vars||n).palette[t.color].dark}})},({theme:n,ownerState:t})=>F({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:St(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)},[`&.${Ct.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:St(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)},"&:active":{boxShadow:(n.vars||n).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${Ct.focusVisible}`]:{backgroundColor:(n.vars||n).palette[t.color].dark}}),({theme:n,ownerState:t})=>F({},t.variant==="outlined"&&{backgroundColor:"transparent",border:n.vars?`1px solid ${n.vars.palette.Chip.defaultBorder}`:`1px solid ${n.palette.mode==="light"?n.palette.grey[400]:n.palette.grey[700]}`,[`&.${Ct.clickable}:hover`]:{backgroundColor:(n.vars||n).palette.action.hover},[`&.${Ct.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`& .${Ct.avatar}`]:{marginLeft:4},[`& .${Ct.avatarSmall}`]:{marginLeft:2},[`& .${Ct.icon}`]:{marginLeft:4},[`& .${Ct.iconSmall}`]:{marginLeft:2},[`& .${Ct.deleteIcon}`]:{marginRight:5},[`& .${Ct.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(n.vars||n).palette[t.color].main,border:`1px solid ${n.vars?`rgba(${n.vars.palette[t.color].mainChannel} / 0.7)`:St(n.palette[t.color].main,.7)}`,[`&.${Ct.clickable}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette[t.color].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:St(n.palette[t.color].main,n.palette.action.hoverOpacity)},[`&.${Ct.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette[t.color].mainChannel} / ${n.vars.palette.action.focusOpacity})`:St(n.palette[t.color].main,n.palette.action.focusOpacity)},[`& .${Ct.deleteIcon}`]:{color:n.vars?`rgba(${n.vars.palette[t.color].mainChannel} / 0.7)`:St(n.palette[t.color].main,.7),"&:hover, &:active":{color:(n.vars||n).palette[t.color].main}}})),ale=ge("span",{name:"MuiChip",slot:"Label",overridesResolver:(n,t)=>{const{ownerState:i}=n,{size:c}=i;return[t.label,t[`label${pe(c)}`]]}})(({ownerState:n})=>F({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},n.variant==="outlined"&&{paddingLeft:11,paddingRight:11},n.size==="small"&&{paddingLeft:8,paddingRight:8},n.size==="small"&&n.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function VM(n){return n.key==="Backspace"||n.key==="Delete"}const _0=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiChip"}),{avatar:d,className:h,clickable:f,color:b="default",component:m,deleteIcon:v,disabled:C=!1,icon:y,label:_,onClick:x,onDelete:I,onKeyDown:S,onKeyUp:M,size:N="medium",variant:j="filled",tabIndex:L,skipFocusWhenDisabled:V=!1}=c,H=we(c,ile),W=O.useRef(null),P=nn(W,i),U=he=>{he.stopPropagation(),I&&I(he)},G=he=>{he.currentTarget===he.target&&VM(he)&&he.preventDefault(),S&&S(he)},Q=he=>{he.currentTarget===he.target&&(I&&VM(he)?I(he):he.key==="Escape"&&W.current&&W.current.blur()),M&&M(he)},ee=f!==!1&&x?!0:f,re=ee||I?Ec:m||"div",J=F({},c,{component:re,disabled:C,size:N,color:b,iconColor:O.isValidElement(y)&&y.props.color||b,onDelete:!!I,clickable:ee,variant:j}),X=rle(J),oe=re===Ec?F({component:m||"div",focusVisibleClassName:X.focusVisible},I&&{disableRipple:!0}):{};let ie=null;I&&(ie=v&&O.isValidElement(v)?O.cloneElement(v,{className:_e(v.props.className,X.deleteIcon),onClick:U}):R.jsx(nle,{className:_e(X.deleteIcon),onClick:U}));let ce=null;d&&O.isValidElement(d)&&(ce=O.cloneElement(d,{className:_e(X.avatar,d.props.className)}));let K=null;return y&&O.isValidElement(y)&&(K=O.cloneElement(y,{className:_e(X.icon,y.props.className)})),R.jsxs(sle,F({as:re,className:_e(X.root,h),disabled:ee&&C?!0:void 0,onClick:x,onKeyDown:G,onKeyUp:Q,ref:P,tabIndex:V&&C?-1:L,ownerState:J},oe,H,{children:[ce||K,R.jsx(ale,{className:_e(X.label),ownerState:J,children:_}),ie]}))});function Kc({props:n,states:t,muiFormControl:i}){return t.reduce((c,d)=>(c[d]=n[d],i&&typeof n[d]>"u"&&(c[d]=i[d]),c),{})}const F_=O.createContext(void 0);function Yc(){return O.useContext(F_)}function cle(n){return R.jsx(rie,F({},n,{defaultTheme:bm,themeId:Iu}))}function $M(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function jf(n,t=!1){return n&&($M(n.value)&&n.value!==""||t&&$M(n.defaultValue)&&n.defaultValue!=="")}function lle(n){return n.startAdornment}function dle(n){return ze("MuiInputBase",n)}const Mc=Le("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),ule=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],_m=(n,t)=>{const{ownerState:i}=n;return[t.root,i.formControl&&t.formControl,i.startAdornment&&t.adornedStart,i.endAdornment&&t.adornedEnd,i.error&&t.error,i.size==="small"&&t.sizeSmall,i.multiline&&t.multiline,i.color&&t[`color${pe(i.color)}`],i.fullWidth&&t.fullWidth,i.hiddenLabel&&t.hiddenLabel]},Cm=(n,t)=>{const{ownerState:i}=n;return[t.input,i.size==="small"&&t.inputSizeSmall,i.multiline&&t.inputMultiline,i.type==="search"&&t.inputTypeSearch,i.startAdornment&&t.inputAdornedStart,i.endAdornment&&t.inputAdornedEnd,i.hiddenLabel&&t.inputHiddenLabel]},hle=n=>{const{classes:t,color:i,disabled:c,error:d,endAdornment:h,focused:f,formControl:b,fullWidth:m,hiddenLabel:v,multiline:C,readOnly:y,size:_,startAdornment:x,type:I}=n,S={root:["root",`color${pe(i)}`,c&&"disabled",d&&"error",m&&"fullWidth",f&&"focused",b&&"formControl",_&&_!=="medium"&&`size${pe(_)}`,C&&"multiline",x&&"adornedStart",h&&"adornedEnd",v&&"hiddenLabel",y&&"readOnly"],input:["input",c&&"disabled",I==="search"&&"inputTypeSearch",C&&"inputMultiline",_==="small"&&"inputSizeSmall",v&&"inputHiddenLabel",x&&"inputAdornedStart",h&&"inputAdornedEnd",y&&"readOnly"]};return Fe(S,dle,t)},Am=ge("div",{name:"MuiInputBase",slot:"Root",overridesResolver:_m})(({theme:n,ownerState:t})=>F({},n.typography.body1,{color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Mc.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"}},t.multiline&&F({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),ym=ge("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Cm})(({theme:n,ownerState:t})=>{const i=n.palette.mode==="light",c=F({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),d={opacity:"0 !important"},h=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return F({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":c,"&::-moz-placeholder":c,"&:-ms-input-placeholder":c,"&::-ms-input-placeholder":c,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Mc.formControl} &`]:{"&::-webkit-input-placeholder":d,"&::-moz-placeholder":d,"&:-ms-input-placeholder":d,"&::-ms-input-placeholder":d,"&:focus::-webkit-input-placeholder":h,"&:focus::-moz-placeholder":h,"&:focus:-ms-input-placeholder":h,"&:focus::-ms-input-placeholder":h},[`&.${Mc.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),ple=R.jsx(cle,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),fle=O.forwardRef(function(t,i){var c;const d=Ve({props:t,name:"MuiInputBase"}),{"aria-describedby":h,autoComplete:f,autoFocus:b,className:m,components:v={},componentsProps:C={},defaultValue:y,disabled:_,disableInjectingGlobalStyles:x,endAdornment:I,fullWidth:S=!1,id:M,inputComponent:N="input",inputProps:j={},inputRef:L,maxRows:V,minRows:H,multiline:W=!1,name:P,onBlur:U,onChange:G,onClick:Q,onFocus:ee,onKeyDown:re,onKeyUp:J,placeholder:X,readOnly:oe,renderSuffix:ie,rows:ce,slotProps:K={},slots:he={},startAdornment:Ae,type:tt="text",value:Ke}=d,it=we(d,ule),Ne=j.value!=null?j.value:Ke,{current:nt}=O.useRef(Ne!=null),Te=O.useRef(),mt=O.useCallback(kt=>{},[]),st=nn(Te,L,j.ref,mt),[ot,bt]=O.useState(!1),$e=Yc(),ye=Kc({props:d,muiFormControl:$e,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ye.focused=$e?$e.focused:ot,O.useEffect(()=>{!$e&&_&&ot&&(bt(!1),U&&U())},[$e,_,ot,U]);const Y=$e&&$e.onFilled,te=$e&&$e.onEmpty,se=O.useCallback(kt=>{jf(kt)?Y&&Y():te&&te()},[Y,te]);bi(()=>{nt&&se({value:Ne})},[Ne,se,nt]);const ve=kt=>{if(ye.disabled){kt.stopPropagation();return}ee&&ee(kt),j.onFocus&&j.onFocus(kt),$e&&$e.onFocus?$e.onFocus(kt):bt(!0)},Ee=kt=>{U&&U(kt),j.onBlur&&j.onBlur(kt),$e&&$e.onBlur?$e.onBlur(kt):bt(!1)},He=(kt,...Be)=>{if(!nt){const Ht=kt.target||Te.current;if(Ht==null)throw new Error(Zs(1));se({value:Ht.value})}j.onChange&&j.onChange(kt,...Be),G&&G(kt,...Be)};O.useEffect(()=>{se(Te.current)},[]);const Dt=kt=>{Te.current&&kt.currentTarget===kt.target&&Te.current.focus(),Q&&Q(kt)};let Ze=N,De=j;W&&Ze==="input"&&(ce?De=F({type:void 0,minRows:ce,maxRows:ce},De):De=F({type:void 0,maxRows:V,minRows:H},De),Ze=j_);const Ye=kt=>{se(kt.animationName==="mui-auto-fill-cancel"?Te.current:{value:"x"})};O.useEffect(()=>{$e&&$e.setAdornedStart(!!Ae)},[$e,Ae]);const qe=F({},d,{color:ye.color||"primary",disabled:ye.disabled,endAdornment:I,error:ye.error,focused:ye.focused,formControl:$e,fullWidth:S,hiddenLabel:ye.hiddenLabel,multiline:W,size:ye.size,startAdornment:Ae,type:tt}),je=hle(qe),ut=he.root||v.Root||Am,zt=K.root||C.root||{},In=he.input||v.Input||ym;return De=F({},De,(c=K.input)!=null?c:C.input),R.jsxs(O.Fragment,{children:[!x&&ple,R.jsxs(ut,F({},zt,!xc(ut)&&{ownerState:F({},qe,zt.ownerState)},{ref:i,onClick:Dt},it,{className:_e(je.root,zt.className,m,oe&&"MuiInputBase-readOnly"),children:[Ae,R.jsx(F_.Provider,{value:null,children:R.jsx(In,F({ownerState:qe,"aria-invalid":ye.error,"aria-describedby":h,autoComplete:f,autoFocus:b,defaultValue:y,disabled:ye.disabled,id:M,onAnimationStart:Ye,name:P,placeholder:X,readOnly:oe,required:ye.required,rows:ce,value:Ne,onKeyDown:re,onKeyUp:J,type:tt},De,!xc(In)&&{as:Ze,ownerState:F({},qe,De.ownerState)},{ref:st,className:_e(je.input,De.className,oe&&"MuiInputBase-readOnly"),onBlur:Ee,onChange:He,onFocus:ve}))}),I,ie?ie(F({},ye,{startAdornment:Ae})):null]}))]})}),V_=fle;function gle(n){return ze("MuiInput",n)}const Ql=F({},Mc,Le("MuiInput",["root","underline","input"]));function mle(n){return ze("MuiOutlinedInput",n)}const Pr=F({},Mc,Le("MuiOutlinedInput",["root","notchedOutline","input"]));function ble(n){return ze("MuiFilledInput",n)}const Is=F({},Mc,Le("MuiFilledInput",["root","underline","input"])),kle=os(R.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),wle=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],vle={entering:{opacity:1},entered:{opacity:1}},s3=O.forwardRef(function(t,i){const c=qc(),d={enter:c.transitions.duration.enteringScreen,exit:c.transitions.duration.leavingScreen},{addEndListener:h,appear:f=!0,children:b,easing:m,in:v,onEnter:C,onEntered:y,onEntering:_,onExit:x,onExited:I,onExiting:S,style:M,timeout:N=d,TransitionComponent:j=Ui}=t,L=we(t,wle),V=O.useRef(null),H=nn(V,b.ref,i),W=X=>oe=>{if(X){const ie=V.current;oe===void 0?X(ie):X(ie,oe)}},P=W(_),U=W((X,oe)=>{VO(X);const ie=Nf({style:M,timeout:N,easing:m},{mode:"enter"});X.style.webkitTransition=c.transitions.create("opacity",ie),X.style.transition=c.transitions.create("opacity",ie),C&&C(X,oe)}),G=W(y),Q=W(S),ee=W(X=>{const oe=Nf({style:M,timeout:N,easing:m},{mode:"exit"});X.style.webkitTransition=c.transitions.create("opacity",oe),X.style.transition=c.transitions.create("opacity",oe),x&&x(X)}),re=W(I),J=X=>{h&&h(V.current,X)};return R.jsx(j,F({appear:f,in:v,nodeRef:V,onEnter:U,onEntered:G,onEntering:P,onExit:ee,onExited:re,onExiting:Q,addEndListener:J,timeout:N},L,{children:(X,oe)=>O.cloneElement(b,F({style:F({opacity:0,visibility:X==="exited"&&!v?"hidden":void 0},vle[X],M,b.props.style),ref:H},oe))}))});function _le(n){return ze("MuiBackdrop",n)}Le("MuiBackdrop",["root","invisible"]);const Cle=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Ale=n=>{const{classes:t,invisible:i}=n;return Fe({root:["root",i&&"invisible"]},_le,t)},yle=ge("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.root,i.invisible&&t.invisible]}})(({ownerState:n})=>F({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},n.invisible&&{backgroundColor:"transparent"})),a3=O.forwardRef(function(t,i){var c,d,h;const f=Ve({props:t,name:"MuiBackdrop"}),{children:b,className:m,component:v="div",components:C={},componentsProps:y={},invisible:_=!1,open:x,slotProps:I={},slots:S={},TransitionComponent:M=s3,transitionDuration:N}=f,j=we(f,Cle),L=F({},f,{component:v,invisible:_}),V=Ale(L),H=(c=I.root)!=null?c:y.root;return R.jsx(M,F({in:x,timeout:N},j,{children:R.jsx(yle,F({"aria-hidden":!0},H,{as:(d=(h=S.root)!=null?h:C.Root)!=null?d:v,className:_e(V.root,m,H==null?void 0:H.className),ownerState:F({},L,H==null?void 0:H.ownerState),classes:V,ref:i,children:b}))}))}),xle=Le("MuiBox",["root"]),Ele=OO(),Se=uie({themeId:Iu,defaultTheme:Ele,defaultClassName:xle.root,generateClassName:__.generate});function Tle(n){return ze("MuiButton",n)}const Rp=Le("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Ile=O.createContext({}),Sle=O.createContext(void 0),Dle=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Mle=n=>{const{color:t,disableElevation:i,fullWidth:c,size:d,variant:h,classes:f}=n,b={root:["root",h,`${h}${pe(t)}`,`size${pe(d)}`,`${h}Size${pe(d)}`,`color${pe(t)}`,i&&"disableElevation",c&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${pe(d)}`],endIcon:["icon","endIcon",`iconSize${pe(d)}`]},m=Fe(b,Tle,f);return F({},f,m)},c3=n=>F({},n.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},n.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},n.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Ple=ge(Ec,{shouldForwardProp:n=>ii(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.root,t[i.variant],t[`${i.variant}${pe(i.color)}`],t[`size${pe(i.size)}`],t[`${i.variant}Size${pe(i.size)}`],i.color==="inherit"&&t.colorInherit,i.disableElevation&&t.disableElevation,i.fullWidth&&t.fullWidth]}})(({theme:n,ownerState:t})=>{var i,c;const d=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],h=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return F({},n.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":F({textDecoration:"none",backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:St(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:n.vars?`rgba(${n.vars.palette[t.color].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:St(n.palette[t.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(n.vars||n).palette[t.color].main}`,backgroundColor:n.vars?`rgba(${n.vars.palette[t.color].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:St(n.palette[t.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:n.vars?n.vars.palette.Button.inheritContainedHoverBg:h,boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2],backgroundColor:(n.vars||n).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(n.vars||n).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(n.vars||n).palette[t.color].main}}),"&:active":F({},t.variant==="contained"&&{boxShadow:(n.vars||n).shadows[8]}),[`&.${Rp.focusVisible}`]:F({},t.variant==="contained"&&{boxShadow:(n.vars||n).shadows[6]}),[`&.${Rp.disabled}`]:F({color:(n.vars||n).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(n.vars||n).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(n.vars||n).palette[t.color].main,border:n.vars?`1px solid rgba(${n.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${St(n.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:n.vars?n.vars.palette.text.primary:(i=(c=n.palette).getContrastText)==null?void 0:i.call(c,n.palette.grey[300]),backgroundColor:n.vars?n.vars.palette.Button.inheritContainedBg:d,boxShadow:(n.vars||n).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(n.vars||n).palette[t.color].contrastText,backgroundColor:(n.vars||n).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:n.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:n.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:n.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:n.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:n.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:n.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:n})=>n.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Rp.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Rp.disabled}`]:{boxShadow:"none"}}),Rle=ge("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.startIcon,t[`iconSize${pe(i.size)}`]]}})(({ownerState:n})=>F({display:"inherit",marginRight:8,marginLeft:-4},n.size==="small"&&{marginLeft:-2},c3(n))),Ble=ge("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.endIcon,t[`iconSize${pe(i.size)}`]]}})(({ownerState:n})=>F({display:"inherit",marginRight:-4,marginLeft:8},n.size==="small"&&{marginRight:-2},c3(n))),en=O.forwardRef(function(t,i){const c=O.useContext(Ile),d=O.useContext(Sle),h=y_(c,t),f=Ve({props:h,name:"MuiButton"}),{children:b,color:m="primary",component:v="button",className:C,disabled:y=!1,disableElevation:_=!1,disableFocusRipple:x=!1,endIcon:I,focusVisibleClassName:S,fullWidth:M=!1,size:N="medium",startIcon:j,type:L,variant:V="text"}=f,H=we(f,Dle),W=F({},f,{color:m,component:v,disabled:y,disableElevation:_,disableFocusRipple:x,fullWidth:M,size:N,type:L,variant:V}),P=Mle(W),U=j&&R.jsx(Rle,{className:P.startIcon,ownerState:W,children:j}),G=I&&R.jsx(Ble,{className:P.endIcon,ownerState:W,children:I}),Q=d||"";return R.jsxs(Ple,F({ownerState:W,className:_e(c.className,P.root,C,Q),component:v,disabled:y,focusRipple:!x,focusVisibleClassName:_e(P.focusVisible,S),ref:i,type:L},H,{classes:P,children:[U,b,G]}))});function Nle(n){return ze("MuiCard",n)}Le("MuiCard",["root"]);const Ole=["className","raised"],Lle=n=>{const{classes:t}=n;return Fe({root:["root"]},Nle,t)},jle=ge(sa,{name:"MuiCard",slot:"Root",overridesResolver:(n,t)=>t.root})(()=>({overflow:"hidden"})),UM=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiCard"}),{className:d,raised:h=!1}=c,f=we(c,Ole),b=F({},c,{raised:h}),m=Lle(b);return R.jsx(jle,F({className:_e(m.root,d),elevation:h?8:void 0,ref:i,ownerState:b},f))});function zle(n){return ze("MuiCardActionArea",n)}const C0=Le("MuiCardActionArea",["root","focusVisible","focusHighlight"]),Fle=["children","className","focusVisibleClassName"],Vle=n=>{const{classes:t}=n;return Fe({root:["root"],focusHighlight:["focusHighlight"]},zle,t)},$le=ge(Ec,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(n,t)=>t.root})(({theme:n})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${C0.focusHighlight}`]:{opacity:(n.vars||n).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${C0.focusVisible} .${C0.focusHighlight}`]:{opacity:(n.vars||n).palette.action.focusOpacity}})),Ule=ge("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(n,t)=>t.focusHighlight})(({theme:n})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:n.transitions.create("opacity",{duration:n.transitions.duration.short})})),HM=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiCardActionArea"}),{children:d,className:h,focusVisibleClassName:f}=c,b=we(c,Fle),m=c,v=Vle(m);return R.jsxs($le,F({className:_e(v.root,h),focusVisibleClassName:_e(f,v.focusVisible),ref:i,ownerState:m},b,{children:[d,R.jsx(Ule,{className:v.focusHighlight,ownerState:m})]}))});function Hle(n){return ze("MuiCardContent",n)}Le("MuiCardContent",["root"]);const Wle=["className","component"],qle=n=>{const{classes:t}=n;return Fe({root:["root"]},Hle,t)},Gle=ge("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(n,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),WM=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiCardContent"}),{className:d,component:h="div"}=c,f=we(c,Wle),b=F({},c,{component:h}),m=qle(b);return R.jsx(Gle,F({as:h,className:_e(m.root,d),ownerState:b,ref:i},f))});function Kle(n){return ze("MuiCircularProgress",n)}Le("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Yle=["className","color","disableShrink","size","style","thickness","value","variant"];let xm=n=>n,qM,GM,KM,YM;const Rr=44,Qle=Uc(qM||(qM=xm`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Zle=Uc(GM||(GM=xm`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Jle=n=>{const{classes:t,variant:i,color:c,disableShrink:d}=n,h={root:["root",i,`color${pe(c)}`],svg:["svg"],circle:["circle",`circle${pe(i)}`,d&&"circleDisableShrink"]};return Fe(h,Kle,t)},Xle=ge("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.root,t[i.variant],t[`color${pe(i.color)}`]]}})(({ownerState:n,theme:t})=>F({display:"inline-block"},n.variant==="determinate"&&{transition:t.transitions.create("transform")},n.color!=="inherit"&&{color:(t.vars||t).palette[n.color].main}),({ownerState:n})=>n.variant==="indeterminate"&&Qg(KM||(KM=xm`
      animation: ${0} 1.4s linear infinite;
    `),Qle)),ede=ge("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(n,t)=>t.svg})({display:"block"}),tde=ge("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.circle,t[`circle${pe(i.variant)}`],i.disableShrink&&t.circleDisableShrink]}})(({ownerState:n,theme:t})=>F({stroke:"currentColor"},n.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},n.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:n})=>n.variant==="indeterminate"&&!n.disableShrink&&Qg(YM||(YM=xm`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Zle)),zf=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiCircularProgress"}),{className:d,color:h="primary",disableShrink:f=!1,size:b=40,style:m,thickness:v=3.6,value:C=0,variant:y="indeterminate"}=c,_=we(c,Yle),x=F({},c,{color:h,disableShrink:f,size:b,thickness:v,value:C,variant:y}),I=Jle(x),S={},M={},N={};if(y==="determinate"){const j=2*Math.PI*((Rr-v)/2);S.strokeDasharray=j.toFixed(3),N["aria-valuenow"]=Math.round(C),S.strokeDashoffset=`${((100-C)/100*j).toFixed(3)}px`,M.transform="rotate(-90deg)"}return R.jsx(Xle,F({className:_e(I.root,d),style:F({width:b,height:b},M,m),ownerState:x,ref:i,role:"progressbar"},N,_,{children:R.jsx(ede,{className:I.svg,ownerState:x,viewBox:`${Rr/2} ${Rr/2} ${Rr} ${Rr}`,children:R.jsx(tde,{className:I.circle,style:S,ownerState:x,cx:Rr,cy:Rr,r:(Rr-v)/2,fill:"none",strokeWidth:v})})}))}),l3=Qie({createStyledComponent:ge("div",{name:"MuiContainer",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.root,t[`maxWidth${pe(String(i.maxWidth))}`],i.fixed&&t.fixed,i.disableGutters&&t.disableGutters]}}),useThemeProps:n=>Ve({props:n,name:"MuiContainer"})});function nde(n){return ze("MuiModal",n)}Le("MuiModal",["root","hidden","backdrop"]);const ode=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],ide=n=>{const{open:t,exited:i,classes:c}=n;return Fe({root:["root",!t&&i&&"hidden"],backdrop:["backdrop"]},nde,c)},rde=ge("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.root,!i.open&&i.exited&&t.hidden]}})(({theme:n,ownerState:t})=>F({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),sde=ge(a3,{name:"MuiModal",slot:"Backdrop",overridesResolver:(n,t)=>t.backdrop})({zIndex:-1}),d3=O.forwardRef(function(t,i){var c,d,h,f,b,m;const v=Ve({name:"MuiModal",props:t}),{BackdropComponent:C=sde,BackdropProps:y,className:_,closeAfterTransition:x=!1,children:I,container:S,component:M,components:N={},componentsProps:j={},disableAutoFocus:L=!1,disableEnforceFocus:V=!1,disableEscapeKeyDown:H=!1,disablePortal:W=!1,disableRestoreFocus:P=!1,disableScrollLock:U=!1,hideBackdrop:G=!1,keepMounted:Q=!1,onBackdropClick:ee,open:re,slotProps:J,slots:X}=v,oe=we(v,ode),ie=F({},v,{closeAfterTransition:x,disableAutoFocus:L,disableEnforceFocus:V,disableEscapeKeyDown:H,disablePortal:W,disableRestoreFocus:P,disableScrollLock:U,hideBackdrop:G,keepMounted:Q}),{getRootProps:ce,getBackdropProps:K,getTransitionProps:he,portalRef:Ae,isTopModal:tt,exited:Ke,hasTransition:it}=Sae(F({},ie,{rootRef:i})),Ne=F({},ie,{exited:Ke}),nt=ide(Ne),Te={};if(I.props.tabIndex===void 0&&(Te.tabIndex="-1"),it){const{onEnter:Y,onExited:te}=he();Te.onEnter=Y,Te.onExited=te}const mt=(c=(d=X==null?void 0:X.root)!=null?d:N.Root)!=null?c:rde,st=(h=(f=X==null?void 0:X.backdrop)!=null?f:N.Backdrop)!=null?h:C,ot=(b=J==null?void 0:J.root)!=null?b:j.root,bt=(m=J==null?void 0:J.backdrop)!=null?m:j.backdrop,$e=Zr({elementType:mt,externalSlotProps:ot,externalForwardedProps:oe,getSlotProps:ce,additionalProps:{ref:i,as:M},ownerState:Ne,className:_e(_,ot==null?void 0:ot.className,nt==null?void 0:nt.root,!Ne.open&&Ne.exited&&(nt==null?void 0:nt.hidden))}),ye=Zr({elementType:st,externalSlotProps:bt,additionalProps:y,getSlotProps:Y=>K(F({},Y,{onClick:te=>{ee&&ee(te),Y!=null&&Y.onClick&&Y.onClick(te)}})),className:_e(bt==null?void 0:bt.className,y==null?void 0:y.className,nt==null?void 0:nt.backdrop),ownerState:Ne});return!Q&&!re&&(!it||Ke)?null:R.jsx(qO,{ref:Ae,container:S,disablePortal:W,children:R.jsxs(mt,F({},$e,{children:[!G&&C?R.jsx(st,F({},ye)):null,R.jsx(wae,{disableEnforceFocus:V,disableAutoFocus:L,disableRestoreFocus:P,isEnabled:tt,open:re,children:O.cloneElement(I,Te)})]}))})});function ade(n){return ze("MuiDialog",n)}const A0=Le("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),u3=O.createContext({}),cde=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],lde=ge(a3,{name:"MuiDialog",slot:"Backdrop",overrides:(n,t)=>t.backdrop})({zIndex:-1}),dde=n=>{const{classes:t,scroll:i,maxWidth:c,fullWidth:d,fullScreen:h}=n,f={root:["root"],container:["container",`scroll${pe(i)}`],paper:["paper",`paperScroll${pe(i)}`,`paperWidth${pe(String(c))}`,d&&"paperFullWidth",h&&"paperFullScreen"]};return Fe(f,ade,t)},ude=ge(d3,{name:"MuiDialog",slot:"Root",overridesResolver:(n,t)=>t.root})({"@media print":{position:"absolute !important"}}),hde=ge("div",{name:"MuiDialog",slot:"Container",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.container,t[`scroll${pe(i.scroll)}`]]}})(({ownerState:n})=>F({height:"100%","@media print":{height:"auto"},outline:0},n.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},n.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),pde=ge(sa,{name:"MuiDialog",slot:"Paper",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.paper,t[`scrollPaper${pe(i.scroll)}`],t[`paperWidth${pe(String(i.maxWidth))}`],i.fullWidth&&t.paperFullWidth,i.fullScreen&&t.paperFullScreen]}})(({theme:n,ownerState:t})=>F({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:n.breakpoints.unit==="px"?Math.max(n.breakpoints.values.xs,444):`max(${n.breakpoints.values.xs}${n.breakpoints.unit}, 444px)`,[`&.${A0.paperScrollBody}`]:{[n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${n.breakpoints.values[t.maxWidth]}${n.breakpoints.unit}`,[`&.${A0.paperScrollBody}`]:{[n.breakpoints.down(n.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${A0.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),$_=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiDialog"}),d=qc(),h={enter:d.transitions.duration.enteringScreen,exit:d.transitions.duration.leavingScreen},{"aria-describedby":f,"aria-labelledby":b,BackdropComponent:m,BackdropProps:v,children:C,className:y,disableEscapeKeyDown:_=!1,fullScreen:x=!1,fullWidth:I=!1,maxWidth:S="sm",onBackdropClick:M,onClick:N,onClose:j,open:L,PaperComponent:V=sa,PaperProps:H={},scroll:W="paper",TransitionComponent:P=s3,transitionDuration:U=h,TransitionProps:G}=c,Q=we(c,cde),ee=F({},c,{disableEscapeKeyDown:_,fullScreen:x,fullWidth:I,maxWidth:S,scroll:W}),re=dde(ee),J=O.useRef(),X=K=>{J.current=K.target===K.currentTarget},oe=K=>{N&&N(K),J.current&&(J.current=null,M&&M(K),j&&j(K,"backdropClick"))},ie=Bu(b),ce=O.useMemo(()=>({titleId:ie}),[ie]);return R.jsx(ude,F({className:_e(re.root,y),closeAfterTransition:!0,components:{Backdrop:lde},componentsProps:{backdrop:F({transitionDuration:U,as:m},v)},disableEscapeKeyDown:_,onClose:j,open:L,ref:i,onClick:oe,ownerState:ee},Q,{children:R.jsx(P,F({appear:!0,in:L,timeout:U,role:"presentation"},G,{children:R.jsx(hde,{className:_e(re.container),onMouseDown:X,ownerState:ee,children:R.jsx(pde,F({as:V,elevation:24,role:"dialog","aria-describedby":f,"aria-labelledby":ie},H,{className:_e(re.paper,H.className),ownerState:ee,children:R.jsx(u3.Provider,{value:ce,children:C})}))})}))}))});function fde(n){return ze("MuiDialogActions",n)}Le("MuiDialogActions",["root","spacing"]);const gde=["className","disableSpacing"],mde=n=>{const{classes:t,disableSpacing:i}=n;return Fe({root:["root",!i&&"spacing"]},fde,t)},bde=ge("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.root,!i.disableSpacing&&t.spacing]}})(({ownerState:n})=>F({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!n.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),U_=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiDialogActions"}),{className:d,disableSpacing:h=!1}=c,f=we(c,gde),b=F({},c,{disableSpacing:h}),m=mde(b);return R.jsx(bde,F({className:_e(m.root,d),ownerState:b,ref:i},f))});function kde(n){return ze("MuiDialogContent",n)}Le("MuiDialogContent",["root","dividers"]);function wde(n){return ze("MuiDialogTitle",n)}const vde=Le("MuiDialogTitle",["root"]),_de=["className","dividers"],Cde=n=>{const{classes:t,dividers:i}=n;return Fe({root:["root",i&&"dividers"]},kde,t)},Ade=ge("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.root,i.dividers&&t.dividers]}})(({theme:n,ownerState:t})=>F({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(n.vars||n).palette.divider}`,borderBottom:`1px solid ${(n.vars||n).palette.divider}`}:{[`.${vde.root} + &`]:{paddingTop:0}})),H_=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiDialogContent"}),{className:d,dividers:h=!1}=c,f=we(c,_de),b=F({},c,{dividers:h}),m=Cde(b);return R.jsx(Ade,F({className:_e(m.root,d),ownerState:b,ref:i},f))});function yde(n){return ze("MuiDialogContentText",n)}Le("MuiDialogContentText",["root"]);const xde=["children","className"],Ede=n=>{const{classes:t}=n,c=Fe({root:["root"]},yde,t);return F({},t,c)},Tde=ge(ct,{shouldForwardProp:n=>ii(n)||n==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(n,t)=>t.root})({}),W_=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiDialogContentText"}),{className:d}=c,h=we(c,xde),f=Ede(h);return R.jsx(Tde,F({component:"p",variant:"body1",color:"text.secondary",ref:i,ownerState:h,className:_e(f.root,d)},c,{classes:f}))}),Ide=["className","id"],Sde=n=>{const{classes:t}=n;return Fe({root:["root"]},wde,t)},Dde=ge(ct,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(n,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),q_=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiDialogTitle"}),{className:d,id:h}=c,f=we(c,Ide),b=c,m=Sde(b),{titleId:v=h}=O.useContext(u3);return R.jsx(Dde,F({component:"h2",className:_e(m.root,d),ownerState:b,ref:i,variant:"h6",id:h??v},f))});function Mde(n){return ze("MuiDivider",n)}const f0e=Le("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Pde=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],Rde=n=>{const{absolute:t,children:i,classes:c,flexItem:d,light:h,orientation:f,textAlign:b,variant:m}=n;return Fe({root:["root",t&&"absolute",m,h&&"light",f==="vertical"&&"vertical",d&&"flexItem",i&&"withChildren",i&&f==="vertical"&&"withChildrenVertical",b==="right"&&f!=="vertical"&&"textAlignRight",b==="left"&&f!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",f==="vertical"&&"wrapperVertical"]},Mde,c)},Bde=ge("div",{name:"MuiDivider",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.root,i.absolute&&t.absolute,t[i.variant],i.light&&t.light,i.orientation==="vertical"&&t.vertical,i.flexItem&&t.flexItem,i.children&&t.withChildren,i.children&&i.orientation==="vertical"&&t.withChildrenVertical,i.textAlign==="right"&&i.orientation!=="vertical"&&t.textAlignRight,i.textAlign==="left"&&i.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:n,ownerState:t})=>F({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(n.vars||n).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:n.vars?`rgba(${n.vars.palette.dividerChannel} / 0.08)`:St(n.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:n.spacing(2),marginRight:n.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:n.spacing(1),marginBottom:n.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:n})=>F({},n.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:n,ownerState:t})=>F({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(n.vars||n).palette.divider}`}}),({theme:n,ownerState:t})=>F({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(n.vars||n).palette.divider}`}}),({ownerState:n})=>F({},n.textAlign==="right"&&n.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},n.textAlign==="left"&&n.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),Nde=ge("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.wrapper,i.orientation==="vertical"&&t.wrapperVertical]}})(({theme:n,ownerState:t})=>F({display:"inline-block",paddingLeft:`calc(${n.spacing(1)} * 1.2)`,paddingRight:`calc(${n.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${n.spacing(1)} * 1.2)`,paddingBottom:`calc(${n.spacing(1)} * 1.2)`})),h3=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiDivider"}),{absolute:d=!1,children:h,className:f,component:b=h?"div":"hr",flexItem:m=!1,light:v=!1,orientation:C="horizontal",role:y=b!=="hr"?"separator":void 0,textAlign:_="center",variant:x="fullWidth"}=c,I=we(c,Pde),S=F({},c,{absolute:d,component:b,flexItem:m,light:v,orientation:C,role:y,textAlign:_,variant:x}),M=Rde(S);return R.jsx(Bde,F({as:b,className:_e(M.root,f),role:y,ref:i,ownerState:S},I,{children:h?R.jsx(Nde,{className:M.wrapper,ownerState:S,children:h}):null}))});h3.muiSkipListHighlight=!0;const Ode=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Lde=n=>{const{classes:t,disableUnderline:i}=n,d=Fe({root:["root",!i&&"underline"],input:["input"]},ble,t);return F({},t,d)},jde=ge(Am,{shouldForwardProp:n=>ii(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[..._m(n,t),!i.disableUnderline&&t.underline]}})(({theme:n,ownerState:t})=>{var i;const c=n.palette.mode==="light",d=c?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",h=c?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",f=c?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",b=c?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return F({position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:h,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:f,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:h}},[`&.${Is.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:h},[`&.${Is.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:b}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(i=(n.vars||n).palette[t.color||"primary"])==null?void 0:i.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Is.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Is.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`:d}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Is.disabled}, .${Is.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${Is.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&F({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),zde=ge(ym,{name:"MuiFilledInput",slot:"Input",overridesResolver:Cm})(({theme:n,ownerState:t})=>F({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),G_=O.forwardRef(function(t,i){var c,d,h,f;const b=Ve({props:t,name:"MuiFilledInput"}),{components:m={},componentsProps:v,fullWidth:C=!1,inputComponent:y="input",multiline:_=!1,slotProps:x,slots:I={},type:S="text"}=b,M=we(b,Ode),N=F({},b,{fullWidth:C,inputComponent:y,multiline:_,type:S}),j=Lde(b),L={root:{ownerState:N},input:{ownerState:N}},V=x??v?go(L,x??v):L,H=(c=(d=I.root)!=null?d:m.Root)!=null?c:jde,W=(h=(f=I.input)!=null?f:m.Input)!=null?h:zde;return R.jsx(V_,F({slots:{root:H,input:W},componentsProps:V,fullWidth:C,inputComponent:y,multiline:_,ref:i,type:S},M,{classes:j}))});G_.muiName="Input";function Fde(n){return ze("MuiFormControl",n)}Le("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Vde=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],$de=n=>{const{classes:t,margin:i,fullWidth:c}=n,d={root:["root",i!=="none"&&`margin${pe(i)}`,c&&"fullWidth"]};return Fe(d,Fde,t)},Ude=ge("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:n},t)=>F({},t.root,t[`margin${pe(n.margin)}`],n.fullWidth&&t.fullWidth)})(({ownerState:n})=>F({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},n.margin==="normal"&&{marginTop:16,marginBottom:8},n.margin==="dense"&&{marginTop:8,marginBottom:4},n.fullWidth&&{width:"100%"})),Hde=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiFormControl"}),{children:d,className:h,color:f="primary",component:b="div",disabled:m=!1,error:v=!1,focused:C,fullWidth:y=!1,hiddenLabel:_=!1,margin:x="none",required:I=!1,size:S="medium",variant:M="outlined"}=c,N=we(c,Vde),j=F({},c,{color:f,component:b,disabled:m,error:v,fullWidth:y,hiddenLabel:_,margin:x,required:I,size:S,variant:M}),L=$de(j),[V,H]=O.useState(()=>{let J=!1;return d&&O.Children.forEach(d,X=>{if(!wd(X,["Input","Select"]))return;const oe=wd(X,["Select"])?X.props.input:X;oe&&lle(oe.props)&&(J=!0)}),J}),[W,P]=O.useState(()=>{let J=!1;return d&&O.Children.forEach(d,X=>{wd(X,["Input","Select"])&&(jf(X.props,!0)||jf(X.props.inputProps,!0))&&(J=!0)}),J}),[U,G]=O.useState(!1);m&&U&&G(!1);const Q=C!==void 0&&!m?C:U;let ee;const re=O.useMemo(()=>({adornedStart:V,setAdornedStart:H,color:f,disabled:m,error:v,filled:W,focused:Q,fullWidth:y,hiddenLabel:_,size:S,onBlur:()=>{G(!1)},onEmpty:()=>{P(!1)},onFilled:()=>{P(!0)},onFocus:()=>{G(!0)},registerEffect:ee,required:I,variant:M}),[V,f,m,v,W,Q,y,_,ee,I,S,M]);return R.jsx(F_.Provider,{value:re,children:R.jsx(Ude,F({as:b,ownerState:j,className:_e(L.root,h),ref:i},N,{children:d}))})});function Wde(n){return ze("MuiFormHelperText",n)}const QM=Le("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var ZM;const qde=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Gde=n=>{const{classes:t,contained:i,size:c,disabled:d,error:h,filled:f,focused:b,required:m}=n,v={root:["root",d&&"disabled",h&&"error",c&&`size${pe(c)}`,i&&"contained",b&&"focused",f&&"filled",m&&"required"]};return Fe(v,Wde,t)},Kde=ge("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.root,i.size&&t[`size${pe(i.size)}`],i.contained&&t.contained,i.filled&&t.filled]}})(({theme:n,ownerState:t})=>F({color:(n.vars||n).palette.text.secondary},n.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${QM.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${QM.error}`]:{color:(n.vars||n).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),Yde=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiFormHelperText"}),{children:d,className:h,component:f="p"}=c,b=we(c,qde),m=Yc(),v=Kc({props:c,muiFormControl:m,states:["variant","size","disabled","error","filled","focused","required"]}),C=F({},c,{component:f,contained:v.variant==="filled"||v.variant==="outlined",variant:v.variant,size:v.size,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required}),y=Gde(C);return R.jsx(Kde,F({as:f,ownerState:C,className:_e(y.root,h),ref:i},b,{children:d===" "?ZM||(ZM=R.jsx("span",{className:"notranslate",children:""})):d}))});function Qde(n){return ze("MuiFormLabel",n)}const Ad=Le("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Zde=["children","className","color","component","disabled","error","filled","focused","required"],Jde=n=>{const{classes:t,color:i,focused:c,disabled:d,error:h,filled:f,required:b}=n,m={root:["root",`color${pe(i)}`,d&&"disabled",h&&"error",f&&"filled",c&&"focused",b&&"required"],asterisk:["asterisk",h&&"error"]};return Fe(m,Qde,t)},Xde=ge("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:n},t)=>F({},t.root,n.color==="secondary"&&t.colorSecondary,n.filled&&t.filled)})(({theme:n,ownerState:t})=>F({color:(n.vars||n).palette.text.secondary},n.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Ad.focused}`]:{color:(n.vars||n).palette[t.color].main},[`&.${Ad.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${Ad.error}`]:{color:(n.vars||n).palette.error.main}})),eue=ge("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(n,t)=>t.asterisk})(({theme:n})=>({[`&.${Ad.error}`]:{color:(n.vars||n).palette.error.main}})),tue=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiFormLabel"}),{children:d,className:h,component:f="label"}=c,b=we(c,Zde),m=Yc(),v=Kc({props:c,muiFormControl:m,states:["color","required","focused","disabled","error","filled"]}),C=F({},c,{color:v.color||"primary",component:f,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required}),y=Jde(C);return R.jsxs(Xde,F({as:f,ownerState:C,className:_e(y.root,h),ref:i},b,{children:[d,v.required&&R.jsxs(eue,{ownerState:C,"aria-hidden":!0,className:y.asterisk,children:["","*"]})]}))}),JM=O.createContext();function nue(n){return ze("MuiGrid",n)}const oue=[0,1,2,3,4,5,6,7,8,9,10],iue=["column-reverse","column","row-reverse","row"],rue=["nowrap","wrap-reverse","wrap"],Zl=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Xd=Le("MuiGrid",["root","container","item","zeroMinWidth",...oue.map(n=>`spacing-xs-${n}`),...iue.map(n=>`direction-xs-${n}`),...rue.map(n=>`wrap-xs-${n}`),...Zl.map(n=>`grid-xs-${n}`),...Zl.map(n=>`grid-sm-${n}`),...Zl.map(n=>`grid-md-${n}`),...Zl.map(n=>`grid-lg-${n}`),...Zl.map(n=>`grid-xl-${n}`)]),sue=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function hc(n){const t=parseFloat(n);return`${t}${String(n).replace(String(t),"")||"px"}`}function aue({theme:n,ownerState:t}){let i;return n.breakpoints.keys.reduce((c,d)=>{let h={};if(t[d]&&(i=t[d]),!i)return c;if(i===!0)h={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(i==="auto")h={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const f=Zg({values:t.columns,breakpoints:n.breakpoints.values}),b=typeof f=="object"?f[d]:f;if(b==null)return c;const m=`${Math.round(i/b*1e8)/1e6}%`;let v={};if(t.container&&t.item&&t.columnSpacing!==0){const C=n.spacing(t.columnSpacing);if(C!=="0px"){const y=`calc(${m} + ${hc(C)})`;v={flexBasis:y,maxWidth:y}}}h=F({flexBasis:m,flexGrow:0,maxWidth:m},v)}return n.breakpoints.values[d]===0?Object.assign(c,h):c[n.breakpoints.up(d)]=h,c},{})}function cue({theme:n,ownerState:t}){const i=Zg({values:t.direction,breakpoints:n.breakpoints.values});return Zo({theme:n},i,c=>{const d={flexDirection:c};return c.indexOf("column")===0&&(d[`& > .${Xd.item}`]={maxWidth:"none"}),d})}function p3({breakpoints:n,values:t}){let i="";Object.keys(t).forEach(d=>{i===""&&t[d]!==0&&(i=d)});const c=Object.keys(n).sort((d,h)=>n[d]-n[h]);return c.slice(0,c.indexOf(i))}function lue({theme:n,ownerState:t}){const{container:i,rowSpacing:c}=t;let d={};if(i&&c!==0){const h=Zg({values:c,breakpoints:n.breakpoints.values});let f;typeof h=="object"&&(f=p3({breakpoints:n.breakpoints.values,values:h})),d=Zo({theme:n},h,(b,m)=>{var v;const C=n.spacing(b);return C!=="0px"?{marginTop:`-${hc(C)}`,[`& > .${Xd.item}`]:{paddingTop:hc(C)}}:(v=f)!=null&&v.includes(m)?{}:{marginTop:0,[`& > .${Xd.item}`]:{paddingTop:0}}})}return d}function due({theme:n,ownerState:t}){const{container:i,columnSpacing:c}=t;let d={};if(i&&c!==0){const h=Zg({values:c,breakpoints:n.breakpoints.values});let f;typeof h=="object"&&(f=p3({breakpoints:n.breakpoints.values,values:h})),d=Zo({theme:n},h,(b,m)=>{var v;const C=n.spacing(b);return C!=="0px"?{width:`calc(100% + ${hc(C)})`,marginLeft:`-${hc(C)}`,[`& > .${Xd.item}`]:{paddingLeft:hc(C)}}:(v=f)!=null&&v.includes(m)?{}:{width:"100%",marginLeft:0,[`& > .${Xd.item}`]:{paddingLeft:0}}})}return d}function uue(n,t,i={}){if(!n||n<=0)return[];if(typeof n=="string"&&!Number.isNaN(Number(n))||typeof n=="number")return[i[`spacing-xs-${String(n)}`]];const c=[];return t.forEach(d=>{const h=n[d];Number(h)>0&&c.push(i[`spacing-${d}-${String(h)}`])}),c}const hue=ge("div",{name:"MuiGrid",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n,{container:c,direction:d,item:h,spacing:f,wrap:b,zeroMinWidth:m,breakpoints:v}=i;let C=[];c&&(C=uue(f,v,t));const y=[];return v.forEach(_=>{const x=i[_];x&&y.push(t[`grid-${_}-${String(x)}`])}),[t.root,c&&t.container,h&&t.item,m&&t.zeroMinWidth,...C,d!=="row"&&t[`direction-xs-${String(d)}`],b!=="wrap"&&t[`wrap-xs-${String(b)}`],...y]}})(({ownerState:n})=>F({boxSizing:"border-box"},n.container&&{display:"flex",flexWrap:"wrap",width:"100%"},n.item&&{margin:0},n.zeroMinWidth&&{minWidth:0},n.wrap!=="wrap"&&{flexWrap:n.wrap}),cue,lue,due,aue);function pue(n,t){if(!n||n<=0)return[];if(typeof n=="string"&&!Number.isNaN(Number(n))||typeof n=="number")return[`spacing-xs-${String(n)}`];const i=[];return t.forEach(c=>{const d=n[c];if(Number(d)>0){const h=`spacing-${c}-${String(d)}`;i.push(h)}}),i}const fue=n=>{const{classes:t,container:i,direction:c,item:d,spacing:h,wrap:f,zeroMinWidth:b,breakpoints:m}=n;let v=[];i&&(v=pue(h,m));const C=[];m.forEach(_=>{const x=n[_];x&&C.push(`grid-${_}-${String(x)}`)});const y={root:["root",i&&"container",d&&"item",b&&"zeroMinWidth",...v,c!=="row"&&`direction-xs-${String(c)}`,f!=="wrap"&&`wrap-xs-${String(f)}`,...C]};return Fe(y,nue,t)},Qa=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiGrid"}),{breakpoints:d}=qc(),h=im(c),{className:f,columns:b,columnSpacing:m,component:v="div",container:C=!1,direction:y="row",item:_=!1,rowSpacing:x,spacing:I=0,wrap:S="wrap",zeroMinWidth:M=!1}=h,N=we(h,sue),j=x||I,L=m||I,V=O.useContext(JM),H=C?b||12:V,W={},P=F({},N);d.keys.forEach(Q=>{N[Q]!=null&&(W[Q]=N[Q],delete P[Q])});const U=F({},h,{columns:H,container:C,direction:y,item:_,rowSpacing:j,columnSpacing:L,wrap:S,zeroMinWidth:M,spacing:I},W,{breakpoints:d.keys}),G=fue(U);return R.jsx(JM.Provider,{value:H,children:R.jsx(hue,F({ownerState:U,className:_e(G.root,f),as:v,ref:i},P))})}),gue=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Sw(n){return`scale(${n}, ${n**2})`}const mue={entering:{opacity:1,transform:Sw(1)},entered:{opacity:1,transform:"none"}},y0=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),eu=O.forwardRef(function(t,i){const{addEndListener:c,appear:d=!0,children:h,easing:f,in:b,onEnter:m,onEntered:v,onEntering:C,onExit:y,onExited:_,onExiting:x,style:I,timeout:S="auto",TransitionComponent:M=Ui}=t,N=we(t,gue),j=Ls(),L=O.useRef(),V=qc(),H=O.useRef(null),W=nn(H,h.ref,i),P=oe=>ie=>{if(oe){const ce=H.current;ie===void 0?oe(ce):oe(ce,ie)}},U=P(C),G=P((oe,ie)=>{VO(oe);const{duration:ce,delay:K,easing:he}=Nf({style:I,timeout:S,easing:f},{mode:"enter"});let Ae;S==="auto"?(Ae=V.transitions.getAutoHeightDuration(oe.clientHeight),L.current=Ae):Ae=ce,oe.style.transition=[V.transitions.create("opacity",{duration:Ae,delay:K}),V.transitions.create("transform",{duration:y0?Ae:Ae*.666,delay:K,easing:he})].join(","),m&&m(oe,ie)}),Q=P(v),ee=P(x),re=P(oe=>{const{duration:ie,delay:ce,easing:K}=Nf({style:I,timeout:S,easing:f},{mode:"exit"});let he;S==="auto"?(he=V.transitions.getAutoHeightDuration(oe.clientHeight),L.current=he):he=ie,oe.style.transition=[V.transitions.create("opacity",{duration:he,delay:ce}),V.transitions.create("transform",{duration:y0?he:he*.666,delay:y0?ce:ce||he*.333,easing:K})].join(","),oe.style.opacity=0,oe.style.transform=Sw(.75),y&&y(oe)}),J=P(_),X=oe=>{S==="auto"&&j.start(L.current||0,oe),c&&c(H.current,oe)};return R.jsx(M,F({appear:d,in:b,nodeRef:H,onEnter:G,onEntered:Q,onEntering:U,onExit:re,onExited:J,onExiting:ee,addEndListener:X,timeout:S==="auto"?null:S},N,{children:(oe,ie)=>O.cloneElement(h,F({style:F({opacity:0,transform:Sw(.75),visibility:oe==="exited"&&!b?"hidden":void 0},mue[oe],I,h.props.style),ref:W},ie))}))});eu.muiSupportAuto=!0;const bue=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],kue=n=>{const{classes:t,disableUnderline:i}=n,d=Fe({root:["root",!i&&"underline"],input:["input"]},gle,t);return F({},t,d)},wue=ge(Am,{shouldForwardProp:n=>ii(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[..._m(n,t),!i.disableUnderline&&t.underline]}})(({theme:n,ownerState:t})=>{let c=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(c=`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`),F({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ql.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ql.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${c}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ql.disabled}, .${Ql.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${c}`}},[`&.${Ql.disabled}:before`]:{borderBottomStyle:"dotted"}})}),vue=ge(ym,{name:"MuiInput",slot:"Input",overridesResolver:Cm})({}),K_=O.forwardRef(function(t,i){var c,d,h,f;const b=Ve({props:t,name:"MuiInput"}),{disableUnderline:m,components:v={},componentsProps:C,fullWidth:y=!1,inputComponent:_="input",multiline:x=!1,slotProps:I,slots:S={},type:M="text"}=b,N=we(b,bue),j=kue(b),V={root:{ownerState:{disableUnderline:m}}},H=I??C?go(I??C,V):V,W=(c=(d=S.root)!=null?d:v.Root)!=null?c:wue,P=(h=(f=S.input)!=null?f:v.Input)!=null?h:vue;return R.jsx(V_,F({slots:{root:W,input:P},slotProps:H,fullWidth:y,inputComponent:_,multiline:x,ref:i,type:M},N,{classes:j}))});K_.muiName="Input";function _ue(n){return ze("MuiInputLabel",n)}Le("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Cue=["disableAnimation","margin","shrink","variant","className"],Aue=n=>{const{classes:t,formControl:i,size:c,shrink:d,disableAnimation:h,variant:f,required:b}=n,m={root:["root",i&&"formControl",!h&&"animated",d&&"shrink",c&&c!=="normal"&&`size${pe(c)}`,f],asterisk:[b&&"asterisk"]},v=Fe(m,_ue,t);return F({},t,v)},yue=ge(tue,{shouldForwardProp:n=>ii(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[{[`& .${Ad.asterisk}`]:t.asterisk},t.root,i.formControl&&t.formControl,i.size==="small"&&t.sizeSmall,i.shrink&&t.shrink,!i.disableAnimation&&t.animated,i.focused&&t.focused,t[i.variant]]}})(({theme:n,ownerState:t})=>F({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})},t.variant==="filled"&&F({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&F({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&F({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),xue=O.forwardRef(function(t,i){const c=Ve({name:"MuiInputLabel",props:t}),{disableAnimation:d=!1,shrink:h,className:f}=c,b=we(c,Cue),m=Yc();let v=h;typeof v>"u"&&m&&(v=m.filled||m.focused||m.adornedStart);const C=Kc({props:c,muiFormControl:m,states:["size","variant","required","focused"]}),y=F({},c,{disableAnimation:d,formControl:m,shrink:v,size:C.size,variant:C.variant,required:C.required,focused:C.focused}),_=Aue(y);return R.jsx(yue,F({"data-shrink":v,ownerState:y,ref:i,className:_e(_.root,f)},b,{classes:_}))});function Eue(n){return ze("MuiLink",n)}const Tue=Le("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),f3={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Iue=n=>f3[n]||n,Sue=({theme:n,ownerState:t})=>{const i=Iue(t.color),c=yc(n,`palette.${i}`,!1)||t.color,d=yc(n,`palette.${i}Channel`);return"vars"in n&&d?`rgba(${d} / 0.4)`:St(c,.4)},Due=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],Mue=n=>{const{classes:t,component:i,focusVisible:c,underline:d}=n,h={root:["root",`underline${pe(d)}`,i==="button"&&"button",c&&"focusVisible"]};return Fe(h,Eue,t)},Pue=ge(ct,{name:"MuiLink",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.root,t[`underline${pe(i.underline)}`],i.component==="button"&&t.button]}})(({theme:n,ownerState:t})=>F({},t.underline==="none"&&{textDecoration:"none"},t.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},t.underline==="always"&&F({textDecoration:"underline"},t.color!=="inherit"&&{textDecorationColor:Sue({theme:n,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),t.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Tue.focusVisible}`]:{outline:"auto"}})),g3=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiLink"}),{className:d,color:h="primary",component:f="a",onBlur:b,onFocus:m,TypographyClasses:v,underline:C="always",variant:y="inherit",sx:_}=c,x=we(c,Due),{isFocusVisibleRef:I,onBlur:S,onFocus:M,ref:N}=mm(),[j,L]=O.useState(!1),V=nn(i,N),H=G=>{S(G),I.current===!1&&L(!1),b&&b(G)},W=G=>{M(G),I.current===!0&&L(!0),m&&m(G)},P=F({},c,{color:h,component:f,focusVisible:j,underline:C,variant:y}),U=Mue(P);return R.jsx(Pue,F({color:h,className:_e(U.root,d),classes:v,component:f,onBlur:H,onFocus:W,ref:V,ownerState:P,variant:y,sx:[...Object.keys(f3).includes(h)?[]:[{color:h}],...Array.isArray(_)?_:[_]]},x))}),pc=O.createContext({});function Rue(n){return ze("MuiList",n)}Le("MuiList",["root","padding","dense","subheader"]);const Bue=["children","className","component","dense","disablePadding","subheader"],Nue=n=>{const{classes:t,disablePadding:i,dense:c,subheader:d}=n;return Fe({root:["root",!i&&"padding",c&&"dense",d&&"subheader"]},Rue,t)},Oue=ge("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.root,!i.disablePadding&&t.padding,i.dense&&t.dense,i.subheader&&t.subheader]}})(({ownerState:n})=>F({listStyle:"none",margin:0,padding:0,position:"relative"},!n.disablePadding&&{paddingTop:8,paddingBottom:8},n.subheader&&{paddingTop:0})),Jp=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiList"}),{children:d,className:h,component:f="ul",dense:b=!1,disablePadding:m=!1,subheader:v}=c,C=we(c,Bue),y=O.useMemo(()=>({dense:b}),[b]),_=F({},c,{component:f,dense:b,disablePadding:m}),x=Nue(_);return R.jsx(pc.Provider,{value:y,children:R.jsxs(Oue,F({as:f,className:_e(x.root,h),ref:i,ownerState:_},C,{children:[v,d]}))})});function Lue(n){return ze("MuiListItem",n)}const ec=Le("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),jue=Le("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function zue(n){return ze("MuiListItemSecondaryAction",n)}Le("MuiListItemSecondaryAction",["root","disableGutters"]);const Fue=["className"],Vue=n=>{const{disableGutters:t,classes:i}=n;return Fe({root:["root",t&&"disableGutters"]},zue,i)},$ue=ge("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.root,i.disableGutters&&t.disableGutters]}})(({ownerState:n})=>F({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},n.disableGutters&&{right:0})),m3=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiListItemSecondaryAction"}),{className:d}=c,h=we(c,Fue),f=O.useContext(pc),b=F({},c,{disableGutters:f.disableGutters}),m=Vue(b);return R.jsx($ue,F({className:_e(m.root,d),ownerState:b,ref:i},h))});m3.muiName="ListItemSecondaryAction";const Uue=["className"],Hue=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Wue=(n,t)=>{const{ownerState:i}=n;return[t.root,i.dense&&t.dense,i.alignItems==="flex-start"&&t.alignItemsFlexStart,i.divider&&t.divider,!i.disableGutters&&t.gutters,!i.disablePadding&&t.padding,i.button&&t.button,i.hasSecondaryAction&&t.secondaryAction]},que=n=>{const{alignItems:t,button:i,classes:c,dense:d,disabled:h,disableGutters:f,disablePadding:b,divider:m,hasSecondaryAction:v,selected:C}=n;return Fe({root:["root",d&&"dense",!f&&"gutters",!b&&"padding",m&&"divider",h&&"disabled",i&&"button",t==="flex-start"&&"alignItemsFlexStart",v&&"secondaryAction",C&&"selected"],container:["container"]},Lue,c)},Gue=ge("div",{name:"MuiListItem",slot:"Root",overridesResolver:Wue})(({theme:n,ownerState:t})=>F({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&F({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${jue.root}`]:{paddingRight:48}},{[`&.${ec.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${ec.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:St(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${ec.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:St(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}},[`&.${ec.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ec.selected}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:St(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:St(n.palette.primary.main,n.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),Kue=ge("li",{name:"MuiListItem",slot:"Container",overridesResolver:(n,t)=>t.container})({position:"relative"}),Jl=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiListItem"}),{alignItems:d="center",autoFocus:h=!1,button:f=!1,children:b,className:m,component:v,components:C={},componentsProps:y={},ContainerComponent:_="li",ContainerProps:{className:x}={},dense:I=!1,disabled:S=!1,disableGutters:M=!1,disablePadding:N=!1,divider:j=!1,focusVisibleClassName:L,secondaryAction:V,selected:H=!1,slotProps:W={},slots:P={}}=c,U=we(c.ContainerProps,Uue),G=we(c,Hue),Q=O.useContext(pc),ee=O.useMemo(()=>({dense:I||Q.dense||!1,alignItems:d,disableGutters:M}),[d,Q.dense,I,M]),re=O.useRef(null);bi(()=>{h&&re.current&&re.current.focus()},[h]);const J=O.Children.toArray(b),X=J.length&&wd(J[J.length-1],["ListItemSecondaryAction"]),oe=F({},c,{alignItems:d,autoFocus:h,button:f,dense:ee.dense,disabled:S,disableGutters:M,disablePadding:N,divider:j,hasSecondaryAction:X,selected:H}),ie=que(oe),ce=nn(re,i),K=P.root||C.Root||Gue,he=W.root||y.root||{},Ae=F({className:_e(ie.root,he.className,m),disabled:S},G);let tt=v||"li";return f&&(Ae.component=v||"div",Ae.focusVisibleClassName=_e(ec.focusVisible,L),tt=Ec),X?(tt=!Ae.component&&!v?"div":tt,_==="li"&&(tt==="li"?tt="div":Ae.component==="li"&&(Ae.component="div")),R.jsx(pc.Provider,{value:ee,children:R.jsxs(Kue,F({as:_,className:_e(ie.container,x),ref:ce,ownerState:oe},U,{children:[R.jsx(K,F({},he,!xc(K)&&{as:tt,ownerState:F({},oe,he.ownerState)},Ae,{children:J})),J.pop()]}))})):R.jsx(pc.Provider,{value:ee,children:R.jsxs(K,F({},he,{as:tt,ref:ce},!xc(K)&&{ownerState:F({},oe,he.ownerState)},Ae,{children:[J,V&&R.jsx(m3,{children:V})]}))})});function Yue(n){return ze("MuiListItemText",n)}const XM=Le("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Que=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Zue=n=>{const{classes:t,inset:i,primary:c,secondary:d,dense:h}=n;return Fe({root:["root",i&&"inset",h&&"dense",c&&d&&"multiline"],primary:["primary"],secondary:["secondary"]},Yue,t)},Jue=ge("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[{[`& .${XM.primary}`]:t.primary},{[`& .${XM.secondary}`]:t.secondary},t.root,i.inset&&t.inset,i.primary&&i.secondary&&t.multiline,i.dense&&t.dense]}})(({ownerState:n})=>F({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},n.primary&&n.secondary&&{marginTop:6,marginBottom:6},n.inset&&{paddingLeft:56})),Xl=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiListItemText"}),{children:d,className:h,disableTypography:f=!1,inset:b=!1,primary:m,primaryTypographyProps:v,secondary:C,secondaryTypographyProps:y}=c,_=we(c,Que),{dense:x}=O.useContext(pc);let I=m??d,S=C;const M=F({},c,{disableTypography:f,inset:b,primary:!!I,secondary:!!S,dense:x}),N=Zue(M);return I!=null&&I.type!==ct&&!f&&(I=R.jsx(ct,F({variant:x?"body2":"body1",className:N.primary,component:v!=null&&v.variant?void 0:"span",display:"block"},v,{children:I}))),S!=null&&S.type!==ct&&!f&&(S=R.jsx(ct,F({variant:"body2",className:N.secondary,color:"text.secondary",display:"block"},y,{children:S}))),R.jsxs(Jue,F({className:_e(N.root,h),ownerState:M,ref:i},_,{children:[I,S]}))}),Xue=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function x0(n,t,i){return n===t?n.firstChild:t&&t.nextElementSibling?t.nextElementSibling:i?null:n.firstChild}function e4(n,t,i){return n===t?i?n.firstChild:n.lastChild:t&&t.previousElementSibling?t.previousElementSibling:i?null:n.lastChild}function b3(n,t){if(t===void 0)return!0;let i=n.innerText;return i===void 0&&(i=n.textContent),i=i.trim().toLowerCase(),i.length===0?!1:t.repeating?i[0]===t.keys[0]:i.indexOf(t.keys.join(""))===0}function ed(n,t,i,c,d,h){let f=!1,b=d(n,t,t?i:!1);for(;b;){if(b===n.firstChild){if(f)return!1;f=!0}const m=c?!1:b.disabled||b.getAttribute("aria-disabled")==="true";if(!b.hasAttribute("tabindex")||!b3(b,h)||m)b=d(n,b,i);else return b.focus(),!0}return!1}const ehe=O.forwardRef(function(t,i){const{actions:c,autoFocus:d=!1,autoFocusItem:h=!1,children:f,className:b,disabledItemsFocusable:m=!1,disableListWrap:v=!1,onKeyDown:C,variant:y="selectedMenu"}=t,_=we(t,Xue),x=O.useRef(null),I=O.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});bi(()=>{d&&x.current.focus()},[d]),O.useImperativeHandle(c,()=>({adjustStyleForScrollbar:(L,{direction:V})=>{const H=!x.current.style.width;if(L.clientHeight<x.current.clientHeight&&H){const W=`${TO(Tn(L))}px`;x.current.style[V==="rtl"?"paddingLeft":"paddingRight"]=W,x.current.style.width=`calc(100% + ${W})`}return x.current}}),[]);const S=L=>{const V=x.current,H=L.key,W=Tn(V).activeElement;if(H==="ArrowDown")L.preventDefault(),ed(V,W,v,m,x0);else if(H==="ArrowUp")L.preventDefault(),ed(V,W,v,m,e4);else if(H==="Home")L.preventDefault(),ed(V,null,v,m,x0);else if(H==="End")L.preventDefault(),ed(V,null,v,m,e4);else if(H.length===1){const P=I.current,U=H.toLowerCase(),G=performance.now();P.keys.length>0&&(G-P.lastTime>500?(P.keys=[],P.repeating=!0,P.previousKeyMatched=!0):P.repeating&&U!==P.keys[0]&&(P.repeating=!1)),P.lastTime=G,P.keys.push(U);const Q=W&&!P.repeating&&b3(W,P);P.previousKeyMatched&&(Q||ed(V,W,!1,m,x0,P))?L.preventDefault():P.previousKeyMatched=!1}C&&C(L)},M=nn(x,i);let N=-1;O.Children.forEach(f,(L,V)=>{if(!O.isValidElement(L)){N===V&&(N+=1,N>=f.length&&(N=-1));return}L.props.disabled||(y==="selectedMenu"&&L.props.selected||N===-1)&&(N=V),N===V&&(L.props.disabled||L.props.muiSkipListHighlight||L.type.muiSkipListHighlight)&&(N+=1,N>=f.length&&(N=-1))});const j=O.Children.map(f,(L,V)=>{if(V===N){const H={};return h&&(H.autoFocus=!0),L.props.tabIndex===void 0&&y==="selectedMenu"&&(H.tabIndex=0),O.cloneElement(L,H)}return L});return R.jsx(Jp,F({role:"menu",ref:M,className:b,onKeyDown:S,tabIndex:d?0:-1},_,{children:j}))});function the(n){return ze("MuiPopover",n)}Le("MuiPopover",["root","paper"]);const nhe=["onEntering"],ohe=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],ihe=["slotProps"];function t4(n,t){let i=0;return typeof t=="number"?i=t:t==="center"?i=n.height/2:t==="bottom"&&(i=n.height),i}function n4(n,t){let i=0;return typeof t=="number"?i=t:t==="center"?i=n.width/2:t==="right"&&(i=n.width),i}function o4(n){return[n.horizontal,n.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function E0(n){return typeof n=="function"?n():n}const rhe=n=>{const{classes:t}=n;return Fe({root:["root"],paper:["paper"]},the,t)},she=ge(d3,{name:"MuiPopover",slot:"Root",overridesResolver:(n,t)=>t.root})({}),k3=ge(sa,{name:"MuiPopover",slot:"Paper",overridesResolver:(n,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),ahe=O.forwardRef(function(t,i){var c,d,h;const f=Ve({props:t,name:"MuiPopover"}),{action:b,anchorEl:m,anchorOrigin:v={vertical:"top",horizontal:"left"},anchorPosition:C,anchorReference:y="anchorEl",children:_,className:x,container:I,elevation:S=8,marginThreshold:M=16,open:N,PaperProps:j={},slots:L,slotProps:V,transformOrigin:H={vertical:"top",horizontal:"left"},TransitionComponent:W=eu,transitionDuration:P="auto",TransitionProps:{onEntering:U}={},disableScrollLock:G=!1}=f,Q=we(f.TransitionProps,nhe),ee=we(f,ohe),re=(c=V==null?void 0:V.paper)!=null?c:j,J=O.useRef(),X=nn(J,re.ref),oe=F({},f,{anchorOrigin:v,anchorReference:y,elevation:S,marginThreshold:M,externalPaperSlotProps:re,transformOrigin:H,TransitionComponent:W,transitionDuration:P,TransitionProps:Q}),ie=rhe(oe),ce=O.useCallback(()=>{if(y==="anchorPosition")return C;const Y=E0(m),se=(Y&&Y.nodeType===1?Y:Tn(J.current).body).getBoundingClientRect();return{top:se.top+t4(se,v.vertical),left:se.left+n4(se,v.horizontal)}},[m,v.horizontal,v.vertical,C,y]),K=O.useCallback(Y=>({vertical:t4(Y,H.vertical),horizontal:n4(Y,H.horizontal)}),[H.horizontal,H.vertical]),he=O.useCallback(Y=>{const te={width:Y.offsetWidth,height:Y.offsetHeight},se=K(te);if(y==="none")return{top:null,left:null,transformOrigin:o4(se)};const ve=ce();let Ee=ve.top-se.vertical,He=ve.left-se.horizontal;const Dt=Ee+te.height,Ze=He+te.width,De=Qr(E0(m)),Ye=De.innerHeight-M,qe=De.innerWidth-M;if(M!==null&&Ee<M){const je=Ee-M;Ee-=je,se.vertical+=je}else if(M!==null&&Dt>Ye){const je=Dt-Ye;Ee-=je,se.vertical+=je}if(M!==null&&He<M){const je=He-M;He-=je,se.horizontal+=je}else if(Ze>qe){const je=Ze-qe;He-=je,se.horizontal+=je}return{top:`${Math.round(Ee)}px`,left:`${Math.round(He)}px`,transformOrigin:o4(se)}},[m,y,ce,K,M]),[Ae,tt]=O.useState(N),Ke=O.useCallback(()=>{const Y=J.current;if(!Y)return;const te=he(Y);te.top!==null&&(Y.style.top=te.top),te.left!==null&&(Y.style.left=te.left),Y.style.transformOrigin=te.transformOrigin,tt(!0)},[he]);O.useEffect(()=>(G&&window.addEventListener("scroll",Ke),()=>window.removeEventListener("scroll",Ke)),[m,G,Ke]);const it=(Y,te)=>{U&&U(Y,te),Ke()},Ne=()=>{tt(!1)};O.useEffect(()=>{N&&Ke()}),O.useImperativeHandle(b,()=>N?{updatePosition:()=>{Ke()}}:null,[N,Ke]),O.useEffect(()=>{if(!N)return;const Y=x_(()=>{Ke()}),te=Qr(m);return te.addEventListener("resize",Y),()=>{Y.clear(),te.removeEventListener("resize",Y)}},[m,N,Ke]);let nt=P;P==="auto"&&!W.muiSupportAuto&&(nt=void 0);const Te=I||(m?Tn(E0(m)).body:void 0),mt=(d=L==null?void 0:L.root)!=null?d:she,st=(h=L==null?void 0:L.paper)!=null?h:k3,ot=Zr({elementType:st,externalSlotProps:F({},re,{style:Ae?re.style:F({},re.style,{opacity:0})}),additionalProps:{elevation:S,ref:X},ownerState:oe,className:_e(ie.paper,re==null?void 0:re.className)}),bt=Zr({elementType:mt,externalSlotProps:(V==null?void 0:V.root)||{},externalForwardedProps:ee,additionalProps:{ref:i,slotProps:{backdrop:{invisible:!0}},container:Te,open:N},ownerState:oe,className:_e(ie.root,x)}),{slotProps:$e}=bt,ye=we(bt,ihe);return R.jsx(mt,F({},ye,!xc(mt)&&{slotProps:$e,disableScrollLock:G},{children:R.jsx(W,F({appear:!0,in:N,onEntering:it,onExited:Ne,timeout:nt},Q,{children:R.jsx(st,F({},ot,{children:_}))}))}))});function che(n){return ze("MuiMenu",n)}Le("MuiMenu",["root","paper","list"]);const lhe=["onEntering"],dhe=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],uhe={vertical:"top",horizontal:"right"},hhe={vertical:"top",horizontal:"left"},phe=n=>{const{classes:t}=n;return Fe({root:["root"],paper:["paper"],list:["list"]},che,t)},fhe=ge(ahe,{shouldForwardProp:n=>ii(n)||n==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(n,t)=>t.root})({}),ghe=ge(k3,{name:"MuiMenu",slot:"Paper",overridesResolver:(n,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),mhe=ge(ehe,{name:"MuiMenu",slot:"List",overridesResolver:(n,t)=>t.list})({outline:0}),bhe=O.forwardRef(function(t,i){var c,d;const h=Ve({props:t,name:"MuiMenu"}),{autoFocus:f=!0,children:b,className:m,disableAutoFocusItem:v=!1,MenuListProps:C={},onClose:y,open:_,PaperProps:x={},PopoverClasses:I,transitionDuration:S="auto",TransitionProps:{onEntering:M}={},variant:N="selectedMenu",slots:j={},slotProps:L={}}=h,V=we(h.TransitionProps,lhe),H=we(h,dhe),W=IO(),P=F({},h,{autoFocus:f,disableAutoFocusItem:v,MenuListProps:C,onEntering:M,PaperProps:x,transitionDuration:S,TransitionProps:V,variant:N}),U=phe(P),G=f&&!v&&_,Q=O.useRef(null),ee=(K,he)=>{Q.current&&Q.current.adjustStyleForScrollbar(K,{direction:W?"rtl":"ltr"}),M&&M(K,he)},re=K=>{K.key==="Tab"&&(K.preventDefault(),y&&y(K,"tabKeyDown"))};let J=-1;O.Children.map(b,(K,he)=>{O.isValidElement(K)&&(K.props.disabled||(N==="selectedMenu"&&K.props.selected||J===-1)&&(J=he))});const X=(c=j.paper)!=null?c:ghe,oe=(d=L.paper)!=null?d:x,ie=Zr({elementType:j.root,externalSlotProps:L.root,ownerState:P,className:[U.root,m]}),ce=Zr({elementType:X,externalSlotProps:oe,ownerState:P,className:U.paper});return R.jsx(fhe,F({onClose:y,anchorOrigin:{vertical:"bottom",horizontal:W?"right":"left"},transformOrigin:W?uhe:hhe,slots:{paper:X,root:j.root},slotProps:{root:ie,paper:ce},open:_,ref:i,transitionDuration:S,TransitionProps:F({onEntering:ee},V),ownerState:P},H,{classes:I,children:R.jsx(mhe,F({onKeyDown:re,actions:Q,autoFocus:f&&(J===-1||v),autoFocusItem:G,variant:N},C,{className:_e(U.list,C.className),children:b}))}))});function khe(n){return ze("MuiNativeSelect",n)}const Y_=Le("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),whe=["className","disabled","error","IconComponent","inputRef","variant"],vhe=n=>{const{classes:t,variant:i,disabled:c,multiple:d,open:h,error:f}=n,b={select:["select",i,c&&"disabled",d&&"multiple",f&&"error"],icon:["icon",`icon${pe(i)}`,h&&"iconOpen",c&&"disabled"]};return Fe(b,khe,t)},w3=({ownerState:n,theme:t})=>F({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":F({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Y_.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},n.variant==="filled"&&{"&&&":{paddingRight:32}},n.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),_he=ge("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ii,overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.select,t[i.variant],i.error&&t.error,{[`&.${Y_.multiple}`]:t.multiple}]}})(w3),v3=({ownerState:n,theme:t})=>F({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${Y_.disabled}`]:{color:(t.vars||t).palette.action.disabled}},n.open&&{transform:"rotate(180deg)"},n.variant==="filled"&&{right:7},n.variant==="outlined"&&{right:7}),Che=ge("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.icon,i.variant&&t[`icon${pe(i.variant)}`],i.open&&t.iconOpen]}})(v3),Ahe=O.forwardRef(function(t,i){const{className:c,disabled:d,error:h,IconComponent:f,inputRef:b,variant:m="standard"}=t,v=we(t,whe),C=F({},t,{disabled:d,variant:m,error:h}),y=vhe(C);return R.jsxs(O.Fragment,{children:[R.jsx(_he,F({ownerState:C,className:_e(y.select,c),disabled:d,ref:b||i},v)),t.multiple?null:R.jsx(Che,{as:f,ownerState:C,className:y.icon})]})});var i4;const yhe=["children","classes","className","label","notched"],xhe=ge("fieldset",{shouldForwardProp:ii})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Ehe=ge("legend",{shouldForwardProp:ii})(({ownerState:n,theme:t})=>F({float:"unset",width:"auto",overflow:"hidden"},!n.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},n.withLabel&&F({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},n.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function The(n){const{className:t,label:i,notched:c}=n,d=we(n,yhe),h=i!=null&&i!=="",f=F({},n,{notched:c,withLabel:h});return R.jsx(xhe,F({"aria-hidden":!0,className:t,ownerState:f},d,{children:R.jsx(Ehe,{ownerState:f,children:h?R.jsx("span",{children:i}):i4||(i4=R.jsx("span",{className:"notranslate",children:""}))})}))}const Ihe=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],She=n=>{const{classes:t}=n,c=Fe({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},mle,t);return F({},t,c)},Dhe=ge(Am,{shouldForwardProp:n=>ii(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:_m})(({theme:n,ownerState:t})=>{const i=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return F({position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${Pr.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${Pr.notchedOutline}`]:{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:i}},[`&.${Pr.focused} .${Pr.notchedOutline}`]:{borderColor:(n.vars||n).palette[t.color].main,borderWidth:2},[`&.${Pr.error} .${Pr.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${Pr.disabled} .${Pr.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&F({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),Mhe=ge(The,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(n,t)=>t.notchedOutline})(({theme:n})=>{const t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),Phe=ge(ym,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Cm})(({theme:n,ownerState:t})=>F({padding:"16.5px 14px"},!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),Q_=O.forwardRef(function(t,i){var c,d,h,f,b;const m=Ve({props:t,name:"MuiOutlinedInput"}),{components:v={},fullWidth:C=!1,inputComponent:y="input",label:_,multiline:x=!1,notched:I,slots:S={},type:M="text"}=m,N=we(m,Ihe),j=She(m),L=Yc(),V=Kc({props:m,muiFormControl:L,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),H=F({},m,{color:V.color||"primary",disabled:V.disabled,error:V.error,focused:V.focused,formControl:L,fullWidth:C,hiddenLabel:V.hiddenLabel,multiline:x,size:V.size,type:M}),W=(c=(d=S.root)!=null?d:v.Root)!=null?c:Dhe,P=(h=(f=S.input)!=null?f:v.Input)!=null?h:Phe;return R.jsx(V_,F({slots:{root:W,input:P},renderSuffix:U=>R.jsx(Mhe,{ownerState:H,className:j.notchedOutline,label:_!=null&&_!==""&&V.required?b||(b=R.jsxs(O.Fragment,{children:[_,"","*"]})):_,notched:typeof I<"u"?I:!!(U.startAdornment||U.filled||U.focused)}),fullWidth:C,inputComponent:y,multiline:x,ref:i,type:M},N,{classes:F({},j,{notchedOutline:null})}))});Q_.muiName="Input";function Rhe(n){return ze("MuiSelect",n)}const td=Le("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var r4;const Bhe=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Nhe=ge("div",{name:"MuiSelect",slot:"Select",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[{[`&.${td.select}`]:t.select},{[`&.${td.select}`]:t[i.variant]},{[`&.${td.error}`]:t.error},{[`&.${td.multiple}`]:t.multiple}]}})(w3,{[`&.${td.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Ohe=ge("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.icon,i.variant&&t[`icon${pe(i.variant)}`],i.open&&t.iconOpen]}})(v3),Lhe=ge("input",{shouldForwardProp:n=>zO(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(n,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function s4(n,t){return typeof t=="object"&&t!==null?n===t:String(n)===String(t)}function jhe(n){return n==null||typeof n=="string"&&!n.trim()}const zhe=n=>{const{classes:t,variant:i,disabled:c,multiple:d,open:h,error:f}=n,b={select:["select",i,c&&"disabled",d&&"multiple",f&&"error"],icon:["icon",`icon${pe(i)}`,h&&"iconOpen",c&&"disabled"],nativeInput:["nativeInput"]};return Fe(b,Rhe,t)},Fhe=O.forwardRef(function(t,i){var c;const{"aria-describedby":d,"aria-label":h,autoFocus:f,autoWidth:b,children:m,className:v,defaultOpen:C,defaultValue:y,disabled:_,displayEmpty:x,error:I=!1,IconComponent:S,inputRef:M,labelId:N,MenuProps:j={},multiple:L,name:V,onBlur:H,onChange:W,onClose:P,onFocus:U,onOpen:G,open:Q,readOnly:ee,renderValue:re,SelectDisplayProps:J={},tabIndex:X,value:oe,variant:ie="standard"}=t,ce=we(t,Bhe),[K,he]=Df({controlled:oe,default:y,name:"Select"}),[Ae,tt]=Df({controlled:Q,default:C,name:"Select"}),Ke=O.useRef(null),it=O.useRef(null),[Ne,nt]=O.useState(null),{current:Te}=O.useRef(Q!=null),[mt,st]=O.useState(),ot=nn(i,M),bt=O.useCallback(Me=>{it.current=Me,Me&&nt(Me)},[]),$e=Ne==null?void 0:Ne.parentNode;O.useImperativeHandle(ot,()=>({focus:()=>{it.current.focus()},node:Ke.current,value:K}),[K]),O.useEffect(()=>{C&&Ae&&Ne&&!Te&&(st(b?null:$e.clientWidth),it.current.focus())},[Ne,b]),O.useEffect(()=>{f&&it.current.focus()},[f]),O.useEffect(()=>{if(!N)return;const Me=Tn(it.current).getElementById(N);if(Me){const yt=()=>{getSelection().isCollapsed&&it.current.focus()};return Me.addEventListener("click",yt),()=>{Me.removeEventListener("click",yt)}}},[N]);const ye=(Me,yt)=>{Me?G&&G(yt):P&&P(yt),Te||(st(b?null:$e.clientWidth),tt(Me))},Y=Me=>{Me.button===0&&(Me.preventDefault(),it.current.focus(),ye(!0,Me))},te=Me=>{ye(!1,Me)},se=O.Children.toArray(m),ve=Me=>{const yt=se.find(xt=>xt.props.value===Me.target.value);yt!==void 0&&(he(yt.props.value),W&&W(Me,yt))},Ee=Me=>yt=>{let xt;if(yt.currentTarget.hasAttribute("tabindex")){if(L){xt=Array.isArray(K)?K.slice():[];const Wt=K.indexOf(Me.props.value);Wt===-1?xt.push(Me.props.value):xt.splice(Wt,1)}else xt=Me.props.value;if(Me.props.onClick&&Me.props.onClick(yt),K!==xt&&(he(xt),W)){const Wt=yt.nativeEvent||yt,Cn=new Wt.constructor(Wt.type,Wt);Object.defineProperty(Cn,"target",{writable:!0,value:{value:xt,name:V}}),W(Cn,Me)}L||ye(!1,yt)}},He=Me=>{ee||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Me.key)!==-1&&(Me.preventDefault(),ye(!0,Me))},Dt=Ne!==null&&Ae,Ze=Me=>{!Dt&&H&&(Object.defineProperty(Me,"target",{writable:!0,value:{value:K,name:V}}),H(Me))};delete ce["aria-invalid"];let De,Ye;const qe=[];let je=!1;(jf({value:K})||x)&&(re?De=re(K):je=!0);const ut=se.map(Me=>{if(!O.isValidElement(Me))return null;let yt;if(L){if(!Array.isArray(K))throw new Error(Zs(2));yt=K.some(xt=>s4(xt,Me.props.value)),yt&&je&&qe.push(Me.props.children)}else yt=s4(K,Me.props.value),yt&&je&&(Ye=Me.props.children);return O.cloneElement(Me,{"aria-selected":yt?"true":"false",onClick:Ee(Me),onKeyUp:xt=>{xt.key===" "&&xt.preventDefault(),Me.props.onKeyUp&&Me.props.onKeyUp(xt)},role:"option",selected:yt,value:void 0,"data-value":Me.props.value})});je&&(L?qe.length===0?De=null:De=qe.reduce((Me,yt,xt)=>(Me.push(yt),xt<qe.length-1&&Me.push(", "),Me),[]):De=Ye);let zt=mt;!b&&Te&&Ne&&(zt=$e.clientWidth);let In;typeof X<"u"?In=X:In=_?null:0;const kt=J.id||(V?`mui-component-select-${V}`:void 0),Be=F({},t,{variant:ie,value:K,open:Dt,error:I}),Ht=zhe(Be),ri=F({},j.PaperProps,(c=j.slotProps)==null?void 0:c.paper),vo=Bu();return R.jsxs(O.Fragment,{children:[R.jsx(Nhe,F({ref:bt,tabIndex:In,role:"combobox","aria-controls":vo,"aria-disabled":_?"true":void 0,"aria-expanded":Dt?"true":"false","aria-haspopup":"listbox","aria-label":h,"aria-labelledby":[N,kt].filter(Boolean).join(" ")||void 0,"aria-describedby":d,onKeyDown:He,onMouseDown:_||ee?null:Y,onBlur:Ze,onFocus:U},J,{ownerState:Be,className:_e(J.className,Ht.select,v),id:kt,children:jhe(De)?r4||(r4=R.jsx("span",{className:"notranslate",children:""})):De})),R.jsx(Lhe,F({"aria-invalid":I,value:Array.isArray(K)?K.join(","):K,name:V,ref:Ke,"aria-hidden":!0,onChange:ve,tabIndex:-1,disabled:_,className:Ht.nativeInput,autoFocus:f,ownerState:Be},ce)),R.jsx(Ohe,{as:S,className:Ht.icon,ownerState:Be}),R.jsx(bhe,F({id:`menu-${V||""}`,anchorEl:$e,open:Dt,onClose:te,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},j,{MenuListProps:F({"aria-labelledby":N,role:"listbox","aria-multiselectable":L?"true":void 0,disableListWrap:!0,id:vo},j.MenuListProps),slotProps:F({},j.slotProps,{paper:F({},ri,{style:F({minWidth:zt},ri!=null?ri.style:null)})}),children:ut}))]})}),Vhe=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],$he=["root"],Uhe=n=>{const{classes:t}=n;return t},Z_={name:"MuiSelect",overridesResolver:(n,t)=>t.root,shouldForwardProp:n=>ii(n)&&n!=="variant",slot:"Root"},Hhe=ge(K_,Z_)(""),Whe=ge(Q_,Z_)(""),qhe=ge(G_,Z_)(""),_3=O.forwardRef(function(t,i){const c=Ve({name:"MuiSelect",props:t}),{autoWidth:d=!1,children:h,classes:f={},className:b,defaultOpen:m=!1,displayEmpty:v=!1,IconComponent:C=kle,id:y,input:_,inputProps:x,label:I,labelId:S,MenuProps:M,multiple:N=!1,native:j=!1,onClose:L,onOpen:V,open:H,renderValue:W,SelectDisplayProps:P,variant:U="outlined"}=c,G=we(c,Vhe),Q=j?Ahe:Fhe,ee=Yc(),re=Kc({props:c,muiFormControl:ee,states:["variant","error"]}),J=re.variant||U,X=F({},c,{variant:J,classes:f}),oe=Uhe(X),ie=we(oe,$he),ce=_||{standard:R.jsx(Hhe,{ownerState:X}),outlined:R.jsx(Whe,{label:I,ownerState:X}),filled:R.jsx(qhe,{ownerState:X})}[J],K=nn(i,ce.ref);return R.jsx(O.Fragment,{children:O.cloneElement(ce,F({inputComponent:Q,inputProps:F({children:h,error:re.error,IconComponent:C,variant:J,type:void 0,multiple:N},j?{id:y}:{autoWidth:d,defaultOpen:m,displayEmpty:v,labelId:S,MenuProps:M,onClose:L,onOpen:V,open:H,renderValue:W,SelectDisplayProps:F({id:y},P)},x,{classes:x?go(ie,x.classes):ie},_?_.props.inputProps:{})},(N&&j||v)&&J==="outlined"?{notched:!0}:{},{ref:K,className:_e(ce.props.className,b,oe.root)},!_&&{variant:J},G))})});_3.muiName="Select";function Ghe(n){return ze("MuiSnackbarContent",n)}Le("MuiSnackbarContent",["root","message","action"]);const Khe=["action","className","message","role"],Yhe=n=>{const{classes:t}=n;return Fe({root:["root"],action:["action"],message:["message"]},Ghe,t)},Qhe=ge(sa,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(n,t)=>t.root})(({theme:n})=>{const t=n.palette.mode==="light"?.8:.98,i=ere(n.palette.background.default,t);return F({},n.typography.body2,{color:n.vars?n.vars.palette.SnackbarContent.color:n.palette.getContrastText(i),backgroundColor:n.vars?n.vars.palette.SnackbarContent.bg:i,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(n.vars||n).shape.borderRadius,flexGrow:1,[n.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),Zhe=ge("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(n,t)=>t.message})({padding:"8px 0"}),Jhe=ge("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(n,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Xhe=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiSnackbarContent"}),{action:d,className:h,message:f,role:b="alert"}=c,m=we(c,Khe),v=c,C=Yhe(v);return R.jsxs(Qhe,F({role:b,square:!0,elevation:6,className:_e(C.root,h),ownerState:v,ref:i},m,{children:[R.jsx(Zhe,{className:C.message,ownerState:v,children:f}),d?R.jsx(Jhe,{className:C.action,ownerState:v,children:d}):null]}))});function epe(n){return ze("MuiSnackbar",n)}Le("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const tpe=["onEnter","onExited"],npe=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],ope=n=>{const{classes:t,anchorOrigin:i}=n,c={root:["root",`anchorOrigin${pe(i.vertical)}${pe(i.horizontal)}`]};return Fe(c,epe,t)},a4=ge("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.root,t[`anchorOrigin${pe(i.anchorOrigin.vertical)}${pe(i.anchorOrigin.horizontal)}`]]}})(({theme:n,ownerState:t})=>{const i={left:"50%",right:"auto",transform:"translateX(-50%)"};return F({zIndex:(n.vars||n).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[n.breakpoints.up("sm")]:F({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&i,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),Em=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiSnackbar"}),d=qc(),h={enter:d.transitions.duration.enteringScreen,exit:d.transitions.duration.leavingScreen},{action:f,anchorOrigin:{vertical:b,horizontal:m}={vertical:"bottom",horizontal:"left"},autoHideDuration:v=null,children:C,className:y,ClickAwayListenerProps:_,ContentProps:x,disableWindowBlurListener:I=!1,message:S,open:M,TransitionComponent:N=eu,transitionDuration:j=h,TransitionProps:{onEnter:L,onExited:V}={}}=c,H=we(c.TransitionProps,tpe),W=we(c,npe),P=F({},c,{anchorOrigin:{vertical:b,horizontal:m},autoHideDuration:v,disableWindowBlurListener:I,TransitionComponent:N,transitionDuration:j}),U=ope(P),{getRootProps:G,onClickAway:Q}=Wce(F({},P)),[ee,re]=O.useState(!0),J=Zr({elementType:a4,getSlotProps:G,externalForwardedProps:W,ownerState:P,additionalProps:{ref:i},className:[U.root,y]}),X=ie=>{re(!0),V&&V(ie)},oe=(ie,ce)=>{re(!1),L&&L(ie,ce)};return!M&&ee?null:R.jsx(hae,F({onClickAway:Q},_,{children:R.jsx(a4,F({},J,{children:R.jsx(N,F({appear:!0,in:M,timeout:j,direction:b==="top"?"down":"up",onEnter:oe,onExited:X},H,{children:C||R.jsx(Xhe,F({message:S,action:f},x))}))}))}))});function ipe(n){return ze("MuiTooltip",n)}const $r=Le("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),rpe=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function spe(n){return Math.round(n*1e5)/1e5}const ape=n=>{const{classes:t,disableInteractive:i,arrow:c,touch:d,placement:h}=n,f={popper:["popper",!i&&"popperInteractive",c&&"popperArrow"],tooltip:["tooltip",c&&"tooltipArrow",d&&"touch",`tooltipPlacement${pe(h.split("-")[0])}`],arrow:["arrow"]};return Fe(f,ipe,t)},cpe=ge(r3,{name:"MuiTooltip",slot:"Popper",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.popper,!i.disableInteractive&&t.popperInteractive,i.arrow&&t.popperArrow,!i.open&&t.popperClose]}})(({theme:n,ownerState:t,open:i})=>F({zIndex:(n.vars||n).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!i&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${$r.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${$r.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${$r.arrow}`]:F({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${$r.arrow}`]:F({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),lpe=ge("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.tooltip,i.touch&&t.touch,i.arrow&&t.tooltipArrow,t[`tooltipPlacement${pe(i.placement.split("-")[0])}`]]}})(({theme:n,ownerState:t})=>F({backgroundColor:n.vars?n.vars.palette.Tooltip.bg:St(n.palette.grey[700],.92),borderRadius:(n.vars||n).shape.borderRadius,color:(n.vars||n).palette.common.white,fontFamily:n.typography.fontFamily,padding:"4px 8px",fontSize:n.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:n.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:n.typography.pxToRem(14),lineHeight:`${spe(16/14)}em`,fontWeight:n.typography.fontWeightRegular},{[`.${$r.popper}[data-popper-placement*="left"] &`]:F({transformOrigin:"right center"},t.isRtl?F({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):F({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${$r.popper}[data-popper-placement*="right"] &`]:F({transformOrigin:"left center"},t.isRtl?F({marginRight:"14px"},t.touch&&{marginRight:"24px"}):F({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${$r.popper}[data-popper-placement*="top"] &`]:F({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${$r.popper}[data-popper-placement*="bottom"] &`]:F({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),dpe=ge("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(n,t)=>t.arrow})(({theme:n})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:n.vars?n.vars.palette.Tooltip.bg:St(n.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Bp=!1;const c4=new Nu;let nd={x:0,y:0};function Np(n,t){return(i,...c)=>{t&&t(i,...c),n(i,...c)}}const tu=O.forwardRef(function(t,i){var c,d,h,f,b,m,v,C,y,_,x,I,S,M,N,j,L,V,H;const W=Ve({props:t,name:"MuiTooltip"}),{arrow:P=!1,children:U,components:G={},componentsProps:Q={},describeChild:ee=!1,disableFocusListener:re=!1,disableHoverListener:J=!1,disableInteractive:X=!1,disableTouchListener:oe=!1,enterDelay:ie=100,enterNextDelay:ce=0,enterTouchDelay:K=700,followCursor:he=!1,id:Ae,leaveDelay:tt=0,leaveTouchDelay:Ke=1500,onClose:it,onOpen:Ne,open:nt,placement:Te="bottom",PopperComponent:mt,PopperProps:st={},slotProps:ot={},slots:bt={},title:$e,TransitionComponent:ye=eu,TransitionProps:Y}=W,te=we(W,rpe),se=O.isValidElement(U)?U:R.jsx("span",{children:U}),ve=qc(),Ee=IO(),[He,Dt]=O.useState(),[Ze,De]=O.useState(null),Ye=O.useRef(!1),qe=X||he,je=Ls(),ut=Ls(),zt=Ls(),In=Ls(),[kt,Be]=Df({controlled:nt,default:!1,name:"Tooltip",state:"open"});let Ht=kt;const ri=Bu(Ae),vo=O.useRef(),Me=Ko(()=>{vo.current!==void 0&&(document.body.style.WebkitUserSelect=vo.current,vo.current=void 0),In.clear()});O.useEffect(()=>Me,[Me]);const yt=lt=>{c4.clear(),Bp=!0,Be(!0),Ne&&!Ht&&Ne(lt)},xt=Ko(lt=>{c4.start(800+tt,()=>{Bp=!1}),Be(!1),it&&Ht&&it(lt),je.start(ve.transitions.duration.shortest,()=>{Ye.current=!1})}),Wt=lt=>{Ye.current&&lt.type!=="touchstart"||(He&&He.removeAttribute("title"),ut.clear(),zt.clear(),ie||Bp&&ce?ut.start(Bp?ce:ie,()=>{yt(lt)}):yt(lt))},Cn=lt=>{ut.clear(),zt.start(tt,()=>{xt(lt)})},{isFocusVisibleRef:Jc,onBlur:ro,onFocus:Fu,ref:Xc}=mm(),[,Vu]=O.useState(!1),$u=lt=>{ro(lt),Jc.current===!1&&(Vu(!1),Cn(lt))},el=lt=>{He||Dt(lt.currentTarget),Fu(lt),Jc.current===!0&&(Vu(!0),Wt(lt))},Uu=lt=>{Ye.current=!0;const dn=se.props;dn.onTouchStart&&dn.onTouchStart(lt)},Mm=lt=>{Uu(lt),zt.clear(),je.clear(),Me(),vo.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",In.start(K,()=>{document.body.style.WebkitUserSelect=vo.current,Wt(lt)})},to=lt=>{se.props.onTouchEnd&&se.props.onTouchEnd(lt),Me(),zt.start(Ke,()=>{xt(lt)})};O.useEffect(()=>{if(!Ht)return;function lt(dn){(dn.key==="Escape"||dn.key==="Esc")&&xt(dn)}return document.addEventListener("keydown",lt),()=>{document.removeEventListener("keydown",lt)}},[xt,Ht]);const Pm=nn(se.ref,Xc,Dt,i);!$e&&$e!==0&&(Ht=!1);const Wi=O.useRef(),da=lt=>{const dn=se.props;dn.onMouseMove&&dn.onMouseMove(lt),nd={x:lt.clientX,y:lt.clientY},Wi.current&&Wi.current.update()},ss={},tl=typeof $e=="string";ee?(ss.title=!Ht&&tl&&!J?$e:null,ss["aria-describedby"]=Ht?ri:null):(ss["aria-label"]=tl?$e:null,ss["aria-labelledby"]=Ht&&!tl?ri:null);const _o=F({},ss,te,se.props,{className:_e(te.className,se.props.className),onTouchStart:Uu,ref:Pm},he?{onMouseMove:da}:{}),as={};oe||(_o.onTouchStart=Mm,_o.onTouchEnd=to),J||(_o.onMouseOver=Np(Wt,_o.onMouseOver),_o.onMouseLeave=Np(Cn,_o.onMouseLeave),qe||(as.onMouseOver=Wt,as.onMouseLeave=Cn)),re||(_o.onFocus=Np(el,_o.onFocus),_o.onBlur=Np($u,_o.onBlur),qe||(as.onFocus=el,as.onBlur=$u));const Rm=O.useMemo(()=>{var lt;let dn=[{name:"arrow",enabled:!!Ze,options:{element:Ze,padding:4}}];return(lt=st.popperOptions)!=null&&lt.modifiers&&(dn=dn.concat(st.popperOptions.modifiers)),F({},st.popperOptions,{modifiers:dn})},[Ze,st]),No=F({},W,{isRtl:Ee,arrow:P,disableInteractive:qe,placement:Te,PopperComponentProp:mt,touch:Ye.current}),Cr=ape(No),Hu=(c=(d=bt.popper)!=null?d:G.Popper)!=null?c:cpe,Wu=(h=(f=(b=bt.transition)!=null?b:G.Transition)!=null?f:ye)!=null?h:eu,qu=(m=(v=bt.tooltip)!=null?v:G.Tooltip)!=null?m:lpe,Gu=(C=(y=bt.arrow)!=null?y:G.Arrow)!=null?C:dpe,qi=nc(Hu,F({},st,(_=ot.popper)!=null?_:Q.popper,{className:_e(Cr.popper,st==null?void 0:st.className,(x=(I=ot.popper)!=null?I:Q.popper)==null?void 0:x.className)}),No),nl=nc(Wu,F({},Y,(S=ot.transition)!=null?S:Q.transition),No),Ku=nc(qu,F({},(M=ot.tooltip)!=null?M:Q.tooltip,{className:_e(Cr.tooltip,(N=(j=ot.tooltip)!=null?j:Q.tooltip)==null?void 0:N.className)}),No),Bm=nc(Gu,F({},(L=ot.arrow)!=null?L:Q.arrow,{className:_e(Cr.arrow,(V=(H=ot.arrow)!=null?H:Q.arrow)==null?void 0:V.className)}),No);return R.jsxs(O.Fragment,{children:[O.cloneElement(se,_o),R.jsx(Hu,F({as:mt??r3,placement:Te,anchorEl:he?{getBoundingClientRect:()=>({top:nd.y,left:nd.x,right:nd.x,bottom:nd.y,width:0,height:0})}:He,popperRef:Wi,open:He?Ht:!1,id:ri,transition:!0},as,qi,{popperOptions:Rm,children:({TransitionProps:lt})=>R.jsx(Wu,F({timeout:ve.transitions.duration.shorter},lt,nl,{children:R.jsxs(qu,F({},Ku,{children:[$e,P?R.jsx(Gu,F({},Bm,{ref:De})):null]}))}))}))]})}),C3=O.createContext();function upe(n){return ze("MuiTable",n)}Le("MuiTable",["root","stickyHeader"]);const hpe=["className","component","padding","size","stickyHeader"],ppe=n=>{const{classes:t,stickyHeader:i}=n;return Fe({root:["root",i&&"stickyHeader"]},upe,t)},fpe=ge("table",{name:"MuiTable",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.root,i.stickyHeader&&t.stickyHeader]}})(({theme:n,ownerState:t})=>F({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":F({},n.typography.body2,{padding:n.spacing(2),color:(n.vars||n).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),l4="table",gpe=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiTable"}),{className:d,component:h=l4,padding:f="normal",size:b="medium",stickyHeader:m=!1}=c,v=we(c,hpe),C=F({},c,{component:h,padding:f,size:b,stickyHeader:m}),y=ppe(C),_=O.useMemo(()=>({padding:f,size:b,stickyHeader:m}),[f,b,m]);return R.jsx(C3.Provider,{value:_,children:R.jsx(fpe,F({as:h,role:h===l4?null:"table",ref:i,className:_e(y.root,d),ownerState:C},v))})}),Tm=O.createContext();function mpe(n){return ze("MuiTableBody",n)}Le("MuiTableBody",["root"]);const bpe=["className","component"],kpe=n=>{const{classes:t}=n;return Fe({root:["root"]},mpe,t)},wpe=ge("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(n,t)=>t.root})({display:"table-row-group"}),vpe={variant:"body"},d4="tbody",_pe=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiTableBody"}),{className:d,component:h=d4}=c,f=we(c,bpe),b=F({},c,{component:h}),m=kpe(b);return R.jsx(Tm.Provider,{value:vpe,children:R.jsx(wpe,F({className:_e(m.root,d),as:h,ref:i,role:h===d4?null:"rowgroup",ownerState:b},f))})});function Cpe(n){return ze("MuiTableCell",n)}const Ape=Le("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),ype=["align","className","component","padding","scope","size","sortDirection","variant"],xpe=n=>{const{classes:t,variant:i,align:c,padding:d,size:h,stickyHeader:f}=n,b={root:["root",i,f&&"stickyHeader",c!=="inherit"&&`align${pe(c)}`,d!=="normal"&&`padding${pe(d)}`,`size${pe(h)}`]};return Fe(b,Cpe,t)},Epe=ge("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.root,t[i.variant],t[`size${pe(i.size)}`],i.padding!=="normal"&&t[`padding${pe(i.padding)}`],i.align!=="inherit"&&t[`align${pe(i.align)}`],i.stickyHeader&&t.stickyHeader]}})(({theme:n,ownerState:t})=>F({},n.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:n.vars?`1px solid ${n.vars.palette.TableCell.border}`:`1px solid
    ${n.palette.mode==="light"?Pf(St(n.palette.divider,1),.88):Mf(St(n.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(n.vars||n).palette.text.primary,lineHeight:n.typography.pxToRem(24),fontWeight:n.typography.fontWeightMedium},t.variant==="body"&&{color:(n.vars||n).palette.text.primary},t.variant==="footer"&&{color:(n.vars||n).palette.text.secondary,lineHeight:n.typography.pxToRem(21),fontSize:n.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${Ape.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(n.vars||n).palette.background.default})),Br=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiTableCell"}),{align:d="inherit",className:h,component:f,padding:b,scope:m,size:v,sortDirection:C,variant:y}=c,_=we(c,ype),x=O.useContext(C3),I=O.useContext(Tm),S=I&&I.variant==="head";let M;f?M=f:M=S?"th":"td";let N=m;M==="td"?N=void 0:!N&&S&&(N="col");const j=y||I&&I.variant,L=F({},c,{align:d,component:M,padding:b||(x&&x.padding?x.padding:"normal"),size:v||(x&&x.size?x.size:"medium"),sortDirection:C,stickyHeader:j==="head"&&x&&x.stickyHeader,variant:j}),V=xpe(L);let H=null;return C&&(H=C==="asc"?"ascending":"descending"),R.jsx(Epe,F({as:M,ref:i,className:_e(V.root,h),"aria-sort":H,scope:N,ownerState:L},_))});function Tpe(n){return ze("MuiTableContainer",n)}Le("MuiTableContainer",["root"]);const Ipe=["className","component"],Spe=n=>{const{classes:t}=n;return Fe({root:["root"]},Tpe,t)},Dpe=ge("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(n,t)=>t.root})({width:"100%",overflowX:"auto"}),Mpe=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiTableContainer"}),{className:d,component:h="div"}=c,f=we(c,Ipe),b=F({},c,{component:h}),m=Spe(b);return R.jsx(Dpe,F({ref:i,as:h,className:_e(m.root,d),ownerState:b},f))});function Ppe(n){return ze("MuiTableHead",n)}Le("MuiTableHead",["root"]);const Rpe=["className","component"],Bpe=n=>{const{classes:t}=n;return Fe({root:["root"]},Ppe,t)},Npe=ge("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(n,t)=>t.root})({display:"table-header-group"}),Ope={variant:"head"},u4="thead",Lpe=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiTableHead"}),{className:d,component:h=u4}=c,f=we(c,Rpe),b=F({},c,{component:h}),m=Bpe(b);return R.jsx(Tm.Provider,{value:Ope,children:R.jsx(Npe,F({as:h,className:_e(m.root,d),ref:i,role:h===u4?null:"rowgroup",ownerState:b},f))})});function jpe(n){return ze("MuiTableRow",n)}const h4=Le("MuiTableRow",["root","selected","hover","head","footer"]),zpe=["className","component","hover","selected"],Fpe=n=>{const{classes:t,selected:i,hover:c,head:d,footer:h}=n;return Fe({root:["root",i&&"selected",c&&"hover",d&&"head",h&&"footer"]},jpe,t)},Vpe=ge("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.root,i.head&&t.head,i.footer&&t.footer]}})(({theme:n})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${h4.hover}:hover`]:{backgroundColor:(n.vars||n).palette.action.hover},[`&.${h4.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:St(n.palette.primary.main,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:St(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)}}})),p4="tr",f4=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiTableRow"}),{className:d,component:h=p4,hover:f=!1,selected:b=!1}=c,m=we(c,zpe),v=O.useContext(Tm),C=F({},c,{component:h,hover:f,selected:b,head:v&&v.variant==="head",footer:v&&v.variant==="footer"}),y=Fpe(C);return R.jsx(Vpe,F({as:h,ref:i,className:_e(y.root,d),role:h===p4?null:"row",ownerState:C},m))});function $pe(n){return ze("MuiTextField",n)}Le("MuiTextField",["root"]);const Upe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Hpe={standard:K_,filled:G_,outlined:Q_},Wpe=n=>{const{classes:t}=n;return Fe({root:["root"]},$pe,t)},qpe=ge(Hde,{name:"MuiTextField",slot:"Root",overridesResolver:(n,t)=>t.root})({}),ko=O.forwardRef(function(t,i){const c=Ve({props:t,name:"MuiTextField"}),{autoComplete:d,autoFocus:h=!1,children:f,className:b,color:m="primary",defaultValue:v,disabled:C=!1,error:y=!1,FormHelperTextProps:_,fullWidth:x=!1,helperText:I,id:S,InputLabelProps:M,inputProps:N,InputProps:j,inputRef:L,label:V,maxRows:H,minRows:W,multiline:P=!1,name:U,onBlur:G,onChange:Q,onFocus:ee,placeholder:re,required:J=!1,rows:X,select:oe=!1,SelectProps:ie,type:ce,value:K,variant:he="outlined"}=c,Ae=we(c,Upe),tt=F({},c,{autoFocus:h,color:m,disabled:C,error:y,fullWidth:x,multiline:P,required:J,select:oe,variant:he}),Ke=Wpe(tt),it={};he==="outlined"&&(M&&typeof M.shrink<"u"&&(it.notched=M.shrink),it.label=V),oe&&((!ie||!ie.native)&&(it.id=void 0),it["aria-describedby"]=void 0);const Ne=Bu(S),nt=I&&Ne?`${Ne}-helper-text`:void 0,Te=V&&Ne?`${Ne}-label`:void 0,mt=Hpe[he],st=R.jsx(mt,F({"aria-describedby":nt,autoComplete:d,autoFocus:h,defaultValue:v,fullWidth:x,multiline:P,name:U,rows:X,maxRows:H,minRows:W,type:ce,value:K,id:Ne,inputRef:L,onBlur:G,onChange:Q,onFocus:ee,placeholder:re,inputProps:N},it,j));return R.jsxs(qpe,F({className:_e(Ke.root,b),disabled:C,error:y,fullWidth:x,ref:i,required:J,color:m,variant:he,ownerState:tt},Ae,{children:[V!=null&&V!==""&&R.jsx(xue,F({htmlFor:Ne,id:Te},M,{children:V})),oe?R.jsx(_3,F({"aria-describedby":nt,id:Ne,labelId:Te,value:K,input:st},ie,{children:f})):st,I&&R.jsx(Yde,F({id:nt},_,{children:I}))]}))});function Gpe(){return R.jsxs(Se,{component:"footer",sx:{width:"100%",textAlign:"center",py:2},children:[R.jsx(h3,{}),R.jsxs(Se,{sx:{my:2},children:[R.jsx("img",{src:"/ate-micr/FooterLogoLong.png",alt:"Logo",style:{maxWidth:"500px",maxHeight:"400px",width:"auto",height:"auto"}}),R.jsx(ct,{variant:"body2",children:" 2024 Institute for Future Intelligence and Kapiolani Community College Antibody Engineering & Research Projects"})]})]})}const Kpe=Go.forwardRef(function(t,i){return R.jsx(wm,{elevation:6,ref:i,variant:"filled",...t})}),Ype=()=>{const[n,t]=O.useState(!1),[i,c]=O.useState(!1),[d,h]=O.useState(""),f=ea();console.log("Logout loaded");const b=()=>{t(!0)},m=()=>{t(!1)},v=()=>{const C=eR();kY(C).then(()=>{t(!1),c(!0),h("Logged out successfully"),f("/")}).catch(y=>{t(!1),c(!0),h("Logout failed: "+y.message)})};return R.jsxs(R.Fragment,{children:[R.jsx(en,{variant:"outlined",onClick:b,sx:{fontSize:"1rem",mt:2,textTransform:"none",minWidth:"100px",color:"currentColor",borderColor:"rgba(255, 0, 0, 0.5)",boxShadow:"none","&:hover":{borderColor:"rgba(255, 0, 0, 0.7)",backgroundColor:"rgba(255, 0, 0, 0.1)",boxShadow:"0px 0px 10px rgba(0, 0, 0, 0.2)",color:"currentColor",transform:"scale(1.05)"},transition:"transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, border-color 0.3s ease-in-out, background-color 0.3s ease-in-out"},children:"Logout"}),R.jsxs($_,{open:n,onClose:m,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[R.jsx(q_,{id:"alert-dialog-title",children:"Logging Out"}),R.jsx(H_,{children:R.jsx(W_,{id:"alert-dialog-description",children:"Are you sure you want to log out?"})}),R.jsxs(U_,{children:[R.jsx(en,{onClick:v,autoFocus:!0,children:"Yes"}),R.jsx(en,{onClick:m,children:"No"})]})]}),R.jsx(Em,{open:i,autoHideDuration:6e3,onClose:()=>c(!1),children:R.jsx(Kpe,{onClose:()=>c(!1),severity:"info",sx:{width:"100%"},children:d})})]})};var J_={},T0={};const Qpe=Vi(rse);var g4;function Hi(){return g4||(g4=1,function(n){"use client";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=Qpe}(T0)),T0}var Zpe=oi;Object.defineProperty(J_,"__esModule",{value:!0});var yd=J_.default=void 0,Jpe=Zpe(Hi()),Xpe=R;yd=J_.default=(0,Jpe.default)((0,Xpe.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");var X_={},efe=oi;Object.defineProperty(X_,"__esModule",{value:!0});var zu=X_.default=void 0,tfe=efe(Hi()),nfe=R;zu=X_.default=(0,tfe.default)((0,nfe.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");const ofe=({messageId:n,onDelete:t})=>{const[i,c]=O.useState(!1),d=vr(),h=()=>{c(!0)},f=()=>{c(!1)},b=async()=>{try{await Pee(mr(d,"messages",n)),t(n),f()}catch(m){console.error("Error deleting message: ",m)}};return R.jsxs(R.Fragment,{children:[R.jsx(Rn,{onClick:h,children:R.jsx(zu,{})}),R.jsxs($_,{open:i,onClose:f,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[R.jsx(q_,{id:"alert-dialog-title",children:"Confirm Delete"}),R.jsx(H_,{children:R.jsx(W_,{id:"alert-dialog-description",children:"Are you sure you want to delete this message? This action cannot be undone."})}),R.jsxs(U_,{children:[R.jsx(en,{onClick:f,color:"primary",children:"Cancel"}),R.jsx(en,{onClick:b,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})},ife=()=>{const n=ea(),{userDetails:t}=Ng(),[i,c]=O.useState(!1),[d,h]=O.useState(!1),[f,b]=O.useState([]),m=vr();O.useEffect(()=>{(async()=>{const x=Eee(qv(m,"messages"),Tee("postedOn","desc")),S=(await Dee(x)).docs.map(M=>({id:M.id,...M.data()}));b(S)})()},[m]);const v=()=>{t!=null&&t.uid?navigator.clipboard.writeText(t.uid).then(()=>{c(!0),h(!0)}).catch(_=>{console.error("Could not copy text: ",_)}):console.error("User details are null or undefined")},C=(_,x)=>{x!=="clickaway"&&c(!1)},y=_=>{b(f.filter(x=>x.id!==_))};return R.jsxs(Se,{sx:{flexGrow:1,padding:3},children:[R.jsxs(Se,{sx:{display:"flex",justifyContent:"space-between",mb:2,alignItems:"center"},children:[R.jsx(ct,{variant:"h4",component:"h1",sx:{fontWeight:"bold"},children:"Home Page / ATE 2.0"}),R.jsxs(Se,{sx:{display:"flex",alignItems:"center"},children:[(t==null?void 0:t.isAdmin)&&R.jsx(_0,{label:"Educator (Admin User)",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:1}}),!(t!=null&&t.isAdmin)&&R.jsx(_0,{label:"Student (Regular User)",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#bbdefb",color:"#1e88e5",mr:1}}),t&&R.jsx(tu,{title:d?"Copied!":"Click to Copy",enterDelay:300,leaveDelay:200,children:R.jsx(_0,{label:`User ID: ${t.uid}`,variant:"outlined",onClick:v,sx:{borderRadius:"15px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",mr:2}})}),R.jsx(Ype,{})]})]}),R.jsxs(Qa,{container:!0,spacing:3,children:[R.jsxs(Qa,{item:!0,xs:12,md:8,children:[R.jsx(Se,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:R.jsx(ct,{variant:"h6",component:"h2",sx:{fontWeight:"bold",textDecoration:"underline"},children:"Educator Messages"})}),(t==null?void 0:t.isAdmin)&&R.jsx(Se,{sx:{mb:2},children:R.jsx(en,{variant:"contained",onClick:()=>n("/add-message"),sx:{backgroundColor:"#FFF9C4",color:"#6D4C41","&:hover":{backgroundColor:"#FFF176"}},children:"+ Add Message"})}),R.jsx(Mpe,{component:sa,children:R.jsxs(gpe,{children:[R.jsx(Lpe,{sx:{backgroundColor:"#FFF9C4"},children:R.jsxs(f4,{children:[R.jsx(Br,{sx:{fontWeight:"bold",color:"#6D4C41",width:"10%"},children:"Posted On"}),R.jsx(Br,{sx:{fontWeight:"bold",color:"#6D4C41",width:"30%"},children:"Subject"}),R.jsx(Br,{sx:{fontWeight:"bold",color:"#6D4C41",width:"50%",whiteSpace:"pre-wrap"},children:"Description"}),(t==null?void 0:t.isAdmin)&&R.jsx(Br,{sx:{fontWeight:"bold",color:"#6D4C41",width:"10%"},children:"Actions"})]})}),R.jsx(_pe,{children:f.map(_=>R.jsxs(f4,{sx:{backgroundColor:"#FFFDE7"},children:[R.jsx(Br,{children:new Date(_.postedOn.seconds*1e3).toLocaleString()}),R.jsx(Br,{sx:{fontStyle:"italic"},children:_.title}),R.jsxs(Br,{sx:{whiteSpace:"pre-wrap"},children:[_.description,_.links&&_.links.some(x=>x.title&&x.url)&&R.jsxs(Se,{sx:{mt:2},children:[R.jsx(ct,{variant:"subtitle2",sx:{fontWeight:"bold"},children:"Links:"}),_.links.map((x,I)=>x.title&&x.url&&R.jsxs(Se,{sx:{mb:1},children:[R.jsxs(ct,{variant:"body2",component:"span",children:[" ",x.title,": "]}),R.jsx(g3,{href:x.url,target:"_blank",rel:"noopener",children:x.url})]},I))]})]}),(t==null?void 0:t.isAdmin)&&R.jsxs(Br,{children:[R.jsx(Rn,{onClick:()=>n(`/edit-message/${_.id}`),children:R.jsx(yd,{})}),R.jsx(ofe,{messageId:_.id,onDelete:y})]})]},_.id))})]})})]}),R.jsxs(Qa,{item:!0,xs:12,md:4,children:[R.jsx(ct,{variant:"h6",align:"left",component:"h2",sx:{fontWeight:"bold",textDecoration:"underline"},gutterBottom:!0,children:"Navigation"}),R.jsxs(Qa,{container:!0,spacing:3,justifyContent:"center",children:[R.jsx(Qa,{item:!0,xs:12,children:R.jsx(UM,{children:R.jsx(HM,{onClick:()=>n("/laboratory-notebooks"),children:R.jsx(WM,{children:R.jsx(ct,{variant:"h5",component:"div",children:"My Laboratory Notebook"})})})})}),R.jsx(Qa,{item:!0,xs:12,children:R.jsx(UM,{children:R.jsx(HM,{onClick:()=>n("/supplemental-materials"),children:R.jsx(WM,{children:R.jsx(ct,{variant:"h5",component:"div",children:"Course Materials"})})})})})]})]})]}),R.jsx(Em,{open:i,autoHideDuration:6e3,onClose:C,children:R.jsx(wm,{onClose:C,severity:"success",sx:{width:"100%"},children:"User ID copied to clipboard!"})})]})};let Op;const rfe=new Uint8Array(16);function sfe(){if(!Op&&(Op=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Op))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Op(rfe)}const zn=[];for(let n=0;n<256;++n)zn.push((n+256).toString(16).slice(1));function afe(n,t=0){return zn[n[t+0]]+zn[n[t+1]]+zn[n[t+2]]+zn[n[t+3]]+"-"+zn[n[t+4]]+zn[n[t+5]]+"-"+zn[n[t+6]]+zn[n[t+7]]+"-"+zn[n[t+8]]+zn[n[t+9]]+"-"+zn[n[t+10]]+zn[n[t+11]]+zn[n[t+12]]+zn[n[t+13]]+zn[n[t+14]]+zn[n[t+15]]}const cfe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),m4={randomUUID:cfe};function dd(n,t,i){if(m4.randomUUID&&!t&&!n)return m4.randomUUID();n=n||{};const c=n.random||(n.rng||sfe)();return c[6]=c[6]&15|64,c[8]=c[8]&63|128,afe(c)}var eC={},lfe=oi;Object.defineProperty(eC,"__esModule",{value:!0});var Xp=eC.default=void 0,dfe=lfe(Hi()),ufe=R;Xp=eC.default=(0,dfe.default)((0,ufe.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save");const I0=({onDelete:n,itemType:t})=>{const[i,c]=Go.useState(!1),d=()=>{c(!0)},h=()=>{c(!1)},f=()=>{n(),h()};return R.jsxs(R.Fragment,{children:[R.jsx(Rn,{onClick:d,size:"small",children:R.jsx(zu,{})}),R.jsxs($_,{open:i,onClose:h,children:[R.jsx(q_,{children:`Delete ${t}`}),R.jsx(H_,{children:R.jsx(W_,{children:`Are you sure you want to delete this ${t}? This action cannot be undone.`})}),R.jsxs(U_,{children:[R.jsx(en,{onClick:h,color:"primary",children:"Cancel"}),R.jsx(en,{onClick:f,color:"secondary",children:"Delete"})]})]})]})};var tC={},hfe=oi;Object.defineProperty(tC,"__esModule",{value:!0});var Dw=tC.default=void 0,pfe=hfe(Hi()),ffe=R;Dw=tC.default=(0,pfe.default)((0,ffe.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");var nC={},gfe=oi;Object.defineProperty(nC,"__esModule",{value:!0});var Mw=nC.default=void 0,mfe=gfe(Hi()),bfe=R;Mw=nC.default=(0,mfe.default)((0,bfe.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");const A3=({sections:n,selected:t,onAddSection:i,onAddSubsection:c,onAddSubSubsection:d,onSelectSection:h,onUpdateSectionTitle:f,onUpdateSubsectionTitle:b,onUpdateSubSubsectionTitle:m,onDeleteSection:v,onDeleteSubsection:C,onDeleteSubSubsection:y,isViewMode:_})=>{const[x,I]=O.useState(null),[S,M]=O.useState(null),[N,j]=O.useState(null),[L,V]=O.useState(""),[H,W]=O.useState(n.map(()=>!0)),[P,U]=O.useState(n.reduce((ce,K,he)=>(ce[he]=K.subsections.map(()=>!0),ce),{}));O.useEffect(()=>{W(n.map(()=>!0))},[n]),O.useEffect(()=>{const ce=n.reduce((K,he,Ae)=>(K[Ae]=he.subsections.map(()=>!0),K),{});U(ce)},[n]);const G=ce=>{const K=[...H];K[ce]=!K[ce],W(K)},Q=(ce,K)=>{const he={...P};he[ce][K]=!he[ce][K],U(he)},ee=(ce,K)=>{x!==null?f(x,L):S?b(S.section,S.subsection,L):N&&m(N.section,N.subsection,N.subSubsection,L),I(ce),M(null),j(null),V(K)},re=ce=>{f(ce,L),I(null),V("")},J=(ce,K,he)=>{x!==null?f(x,L):S?b(S.section,S.subsection,L):N&&m(N.section,N.subsection,N.subSubsection,L),I(null),M({section:ce,subsection:K}),j(null),V(he)},X=(ce,K)=>{b(ce,K,L),M(null),V("")},oe=(ce,K,he,Ae)=>{x!==null?f(x,L):S?b(S.section,S.subsection,L):N&&m(N.section,N.subsection,N.subSubsection,L),I(null),M(null),j({section:ce,subsection:K,subSubsection:he}),V(Ae)},ie=(ce,K,he)=>{m(ce,K,he,L),j(null),V("")};return R.jsxs(Se,{sx:{width:"450px",borderRight:"1px solid #ddd",padding:2},children:[R.jsx(ct,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Outline"}),!_&&R.jsx(en,{variant:"contained",color:"primary",onClick:i,sx:{mb:2},children:"+ Add Section"}),R.jsxs(Jp,{children:[R.jsx(Jl,{button:!0,onClick:()=>h("header"),sx:{backgroundColor:t.type==="header"?"lightgray":"transparent"},children:R.jsx(Xl,{primary:"Header"})}),n.map((ce,K)=>R.jsxs(Se,{children:[R.jsxs(Jl,{button:!0,onClick:()=>h(K),sx:{backgroundColor:t.sectionIndex===K&&t.subsectionIndex===void 0?"lightgray":"transparent"},children:[x===K?R.jsxs(R.Fragment,{children:[R.jsx(ko,{value:L,onChange:he=>V(he.target.value),size:"small",sx:{mr:1},disabled:_}),!_&&R.jsx(Rn,{onClick:()=>re(K),size:"small",children:R.jsx(Xp,{})})]}):R.jsxs(R.Fragment,{children:[R.jsx(Xl,{primary:ce.title}),!_&&R.jsxs(R.Fragment,{children:[R.jsx(Rn,{onClick:()=>ee(K,ce.title),size:"small",children:R.jsx(yd,{})}),R.jsx(I0,{onDelete:()=>v(K),itemType:"section"})]})]}),ce.subsections.length>0&&R.jsx(Rn,{onClick:()=>G(K),sx:{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"},width:"24px",height:"24px"},children:H[K]?R.jsx(Dw,{sx:{fontSize:"20px"}}):R.jsx(Mw,{sx:{fontSize:"20px"}})}),!_&&R.jsx(en,{variant:"text",onClick:()=>c(K),size:"small",children:"+ Add Subsection"})]}),H[K]&&R.jsx(Jp,{sx:{pl:4},children:ce.subsections.map((he,Ae)=>R.jsxs(Se,{children:[R.jsxs(Jl,{button:!0,onClick:()=>h(K,Ae),sx:{backgroundColor:t.sectionIndex===K&&t.subsectionIndex===Ae&&t.subSubsectionIndex===void 0?"lightgray":"transparent"},children:[S&&S.section===K&&S.subsection===Ae?R.jsxs(R.Fragment,{children:[R.jsx(ko,{value:L,onChange:tt=>V(tt.target.value),size:"small",sx:{mr:1},disabled:_}),!_&&R.jsx(Rn,{onClick:()=>X(K,Ae),size:"small",children:R.jsx(Xp,{})})]}):R.jsxs(R.Fragment,{children:[R.jsx(Xl,{primary:he.title}),!_&&R.jsxs(R.Fragment,{children:[R.jsx(Rn,{onClick:()=>J(K,Ae,he.title),size:"small",children:R.jsx(yd,{})}),R.jsx(I0,{onDelete:()=>C(K,Ae),itemType:"subsection"})]})]}),he.subSubsections.length>0&&R.jsx(Rn,{onClick:()=>Q(K,Ae),sx:{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"},width:"24px",height:"24px"},children:P[K][Ae]?R.jsx(Dw,{sx:{fontSize:"20px"}}):R.jsx(Mw,{sx:{fontSize:"20px"}})}),!_&&R.jsx(en,{variant:"text",onClick:()=>d(K,Ae),size:"small",children:"+ Add Sub-Subsection"})]}),P[K][Ae]&&R.jsx(Jp,{sx:{pl:4},children:he.subSubsections.map((tt,Ke)=>R.jsx(Jl,{button:!0,onClick:()=>h(K,Ae,Ke),sx:{backgroundColor:t.sectionIndex===K&&t.subsectionIndex===Ae&&t.subSubsectionIndex===Ke?"lightgray":"transparent"},children:N&&N.section===K&&N.subsection===Ae&&N.subSubsection===Ke?R.jsxs(R.Fragment,{children:[R.jsx(ko,{value:L,onChange:it=>V(it.target.value),size:"small",sx:{mr:1},disabled:_}),!_&&R.jsx(Rn,{onClick:()=>ie(K,Ae,Ke),size:"small",children:R.jsx(Xp,{})})]}):R.jsxs(R.Fragment,{children:[R.jsx(Xl,{primary:tt.title}),!_&&R.jsxs(R.Fragment,{children:[R.jsx(Rn,{onClick:()=>oe(K,Ae,Ke,tt.title),size:"small",children:R.jsx(yd,{})}),R.jsx(I0,{onDelete:()=>y(K,Ae,Ke),itemType:"subSubsection"})]})]})},tt.id))})]},he.id))})]},ce.id)),R.jsx(Jl,{button:!0,onClick:()=>h("footer"),sx:{backgroundColor:t.type==="footer"?"lightgray":"transparent"},children:R.jsx(Xl,{primary:"Footer"})})]})]})};var oC={},kfe=oi;Object.defineProperty(oC,"__esModule",{value:!0});var iC=oC.default=void 0,wfe=kfe(Hi()),vfe=R;iC=oC.default=(0,wfe.default)((0,vfe.jsx)("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos");var rC={},_fe=oi;Object.defineProperty(rC,"__esModule",{value:!0});var sC=rC.default=void 0,Cfe=_fe(Hi()),Afe=R;sC=rC.default=(0,Cfe.default)((0,Afe.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos");var aC={},yfe=oi;Object.defineProperty(aC,"__esModule",{value:!0});var y3=aC.default=void 0,xfe=yfe(Hi()),Efe=R;y3=aC.default=(0,xfe.default)((0,Efe.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");const x3=()=>{const n=ea(),t=()=>{n("/supplemental-materials")};return R.jsx(en,{variant:"outlined",color:"primary",startIcon:R.jsx(y3,{}),onClick:t,sx:{mb:2,padding:"4px 8px",backgroundColor:"transparent",borderColor:"blue",color:"blue"},children:"All Materials"})};var E3={exports:{}};(()=>{var n={d:(h,f)=>{for(var b in f)n.o(f,b)&&!n.o(h,b)&&Object.defineProperty(h,b,{enumerable:!0,get:f[b]})},o:(h,f)=>Object.prototype.hasOwnProperty.call(h,f),r:h=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})}},t={};function i(h,f){for(var b=0;b<f.length;b++){var m=f[b];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}n.r(t),n.d(t,{default:()=>d});var c=function(){function h(){(function(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h)}var f,b;return f=h,b=[{key:"changeHeightWidth",value:function(m,v,C,y,_,x){return C>y&&(m=Math.round(m*y/C),C=y),m>v&&(C=Math.round(C*v/m),m=v),_&&C<_&&(m=Math.round(m*_/C),C=_),x&&m<x&&(C=Math.round(C*x/m),m=x),{height:m,width:C}}},{key:"resizeAndRotateImage",value:function(m,v,C,y,_){var x=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"jpeg",I=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,S=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,M=I/100,N=document.createElement("canvas"),j=m.width,L=m.height,V=this.changeHeightWidth(L,C,j,v,y,_);!S||S!==90&&S!==270?(N.width=V.width,N.height=V.height):(N.width=V.height,N.height=V.width),j=V.width,L=V.height;var H=N.getContext("2d");return H.fillStyle="rgba(0, 0, 0, 0)",H.fillRect(0,0,j,L),H.imageSmoothingEnabled&&H.imageSmoothingQuality&&(H.imageSmoothingQuality="high"),S&&(H.rotate(S*Math.PI/180),S===90?H.translate(0,-N.width):S===180?H.translate(-N.width,-N.height):S===270?H.translate(-N.height,0):S!==0&&S!==360||H.translate(0,0)),H.drawImage(m,0,0,j,L),N.toDataURL("image/".concat(x),M)}},{key:"b64toByteArrays",value:function(m,v){for(var C=atob(m.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),y=[],_=0;_<C.length;_+=512){for(var x=C.slice(_,_+512),I=new Array(x.length),S=0;S<x.length;S++)I[S]=x.charCodeAt(S);var M=new Uint8Array(I);y.push(M)}return y}},{key:"b64toBlob",value:function(m,v){var C=this.b64toByteArrays(m,v);return new Blob(C,{type:v,lastModified:new Date})}},{key:"b64toFile",value:function(m,v,C){var y=this.b64toByteArrays(m,C);return new File(y,v,{type:C,lastModified:new Date})}},{key:"createResizedImage",value:function(m,v,C,y,_,x,I){var S=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"base64",M=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,N=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,j=new FileReader;if(!m)throw Error("File Not Found!");if(m.type&&!m.type.includes("image"))throw Error("File Is NOT Image!");j.readAsDataURL(m),j.onload=function(){var L=new Image;L.src=j.result,L.onload=function(){var V=h.resizeAndRotateImage(L,v,C,M,N,y,_,x),H="image/".concat(y);switch(S){case"blob":var W=h.b64toBlob(V,H);I(W);break;case"base64":I(V);break;case"file":var P=m.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(y.toString()),U=h.b64toFile(V,P,H);I(U);break;default:I(V)}}},j.onerror=function(L){throw Error(L)}}}],b&&i(f,b),h}();const d={imageFileResizer:function(h,f,b,m,v,C,y,_,x,I){return c.createResizedImage(h,f,b,m,v,C,y,_,x,I)}};E3.exports=t})();var Tfe=E3.exports;const Ife=W4(Tfe);var cC={},Sfe=oi;Object.defineProperty(cC,"__esModule",{value:!0});var T3=cC.default=void 0,Dfe=Sfe(Hi()),Mfe=R;T3=cC.default=(0,Dfe.default)((0,Mfe.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image");const Pfe=({sectionId:n,onImagesUploaded:t})=>{const[i,c]=O.useState(!1),[d,h]=O.useState(""),[f,b]=O.useState("success"),m=jN(),v=async _=>{if(_.target.files){const x=Array.from(_.target.files),I=[];for(const S of x)try{const M=await C(S),N=await y(M);I.push({url:N.url,title:`Image ${dd()}`})}catch{h("Failed to upload images"),b("error"),c(!0)}t(I),h("Image(s) uploaded successfully"),b("success"),c(!0)}},C=_=>new Promise((x,I)=>{_.size>5*1024*1024?Ife.imageFileResizer(_,500,500,"JPEG",70,0,S=>{typeof S=="string"?I(new Error("Compression returned a string instead of a file")):x(S)},"file"):x(_)}),y=_=>new Promise((x,I)=>{const S=Gte(m,`materials/${n}/${_.name}`);Wte(S,_).then(M=>{qte(M.ref).then(N=>{x({url:N,path:M.ref.fullPath})})}).catch(M=>I(M))});return R.jsxs(Se,{children:[R.jsxs(Se,{sx:{mt:2,display:"flex",alignItems:"center"},children:[R.jsx(T3,{sx:{mr:1}}),R.jsx(ct,{variant:"h6",children:"Images"})]}),R.jsxs(Se,{sx:{mt:2},children:[R.jsxs(en,{variant:"contained",component:"label",color:"primary",children:["Add Image",R.jsx("input",{type:"file",hidden:!0,accept:"image/*",multiple:!0,onChange:v})]}),R.jsx(Em,{open:i,autoHideDuration:6e3,onClose:()=>c(!1),children:R.jsx(wm,{onClose:()=>c(!1),severity:f,sx:{width:"100%"},children:d})})]})]})},Rfe=({imageTitle:n,onTitleChange:t})=>R.jsx(ko,{variant:"outlined",fullWidth:!0,value:n,onChange:i=>t(i.target.value),placeholder:"Image Title",sx:{mt:1}});var lC={},Bfe=oi;Object.defineProperty(lC,"__esModule",{value:!0});var I3=lC.default=void 0,Nfe=Bfe(Hi()),Ofe=R;I3=lC.default=(0,Nfe.default)((0,Ofe.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link");const Lfe=({links:n,onLinksChange:t})=>{const i=()=>{const d={title:"",url:"",description:""};t([...n,d])},c=d=>{const h=n.filter((f,b)=>b!==d);t(h)};return R.jsxs(Se,{children:[R.jsxs(Se,{sx:{mt:2,display:"flex",alignItems:"center"},children:[R.jsx(I3,{sx:{mr:1}}),R.jsx(ct,{variant:"h6",children:"Links"})]}),R.jsx(Se,{sx:{mt:1},children:n.map((d,h)=>R.jsxs(Se,{sx:{display:"flex",alignItems:"center",mb:1},children:[R.jsx(ko,{label:"Title",value:d.title,onChange:f=>{const b=[...n];b[h].title=f.target.value,t(b)},sx:{flexBasis:"20%",mr:1}}),R.jsx(ko,{label:"URL",value:d.url,onChange:f=>{const b=[...n];b[h].url=f.target.value,t(b)},sx:{flexBasis:"40%",mr:1}}),R.jsx(ko,{label:"Description",value:d.description,onChange:f=>{const b=[...n];b[h].description=f.target.value,t(b)},sx:{flexBasis:"40%"}}),R.jsx(Rn,{onClick:()=>c(h),children:R.jsx(zu,{})})]},h))}),R.jsx(en,{variant:"contained",onClick:i,sx:{mt:2},children:"Add Link"})]})};var S3={exports:{}};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dC{constructor(t){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof t.crashNumberLimit=="number"?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof t.minimumNonErrorTimePeriod=="number"?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=i=>{const c="error"in i?i.error:i.reason;c instanceof Error&&this._handleError(c,i)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,i){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(i)}off(t,i){this._listeners[t]=this._listeners[t].filter(c=>c!==i)}_fire(t,...i){const c=this._listeners[t]||[];for(const d of c)d.apply(this,[null,...i])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,i){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:i instanceof ErrorEvent?i.filename:void 0,lineno:i instanceof ErrorEvent?i.lineno:void 0,colno:i instanceof ErrorEvent?i.colno:void 0,date:this._now()});const c=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:c}),c?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&t.context!==void 0&&t.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(t)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const t=this.crashes[this.crashes.length-1].date,i=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(t-i)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Pw(n,t=new Set){const i=[n],c=new Set;let d=0;for(;i.length>d;){const h=i[d++];if(!(c.has(h)||!jfe(h)||t.has(h)))if(c.add(h),Symbol.iterator in h)try{for(const f of h)i.push(f)}catch{}else for(const f in h)f!=="defaultValue"&&i.push(h[f])}return c}function jfe(n){const t=Object.prototype.toString.call(n),i=typeof n;return!(i==="number"||i==="boolean"||i==="string"||i==="symbol"||i==="function"||t==="[object Date]"||t==="[object RegExp]"||t==="[object Module]"||n===void 0||n===null||n._watchdogExcluded||n instanceof EventTarget||n instanceof Event)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function D3(n,t,i=new Set){if(n===t&&zfe(n))return!0;const c=Pw(n,i),d=Pw(t,i);for(const h of c)if(d.has(h))return!0;return!1}function zfe(n){return typeof n=="object"&&n!==null}var M3=typeof global=="object"&&global&&global.Object===Object&&global,Ffe=typeof self=="object"&&self&&self.Object===Object&&self,ki=M3||Ffe||Function("return this")(),Pc=ki.Symbol,P3=Object.prototype,Vfe=P3.hasOwnProperty,$fe=P3.toString,od=Pc?Pc.toStringTag:void 0;function Ufe(n){var t=Vfe.call(n,od),i=n[od];try{n[od]=void 0;var c=!0}catch{}var d=$fe.call(n);return c&&(t?n[od]=i:delete n[od]),d}var Hfe=Object.prototype,Wfe=Hfe.toString;function qfe(n){return Wfe.call(n)}var Gfe="[object Null]",Kfe="[object Undefined]",b4=Pc?Pc.toStringTag:void 0;function aa(n){return n==null?n===void 0?Kfe:Gfe:b4&&b4 in Object(n)?Ufe(n):qfe(n)}function rs(n){return n!=null&&typeof n=="object"}var Yfe="[object Symbol]";function Qfe(n){return typeof n=="symbol"||rs(n)&&aa(n)==Yfe}var uC=Array.isArray,Zfe=/\s/;function Jfe(n){for(var t=n.length;t--&&Zfe.test(n.charAt(t)););return t}var Xfe=/^\s+/;function ege(n){return n&&n.slice(0,Jfe(n)+1).replace(Xfe,"")}function wr(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}var k4=NaN,tge=/^[-+]0x[0-9a-f]+$/i,nge=/^0b[01]+$/i,oge=/^0o[0-7]+$/i,ige=parseInt;function w4(n){if(typeof n=="number")return n;if(Qfe(n))return k4;if(wr(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=wr(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=ege(n);var i=nge.test(n);return i||oge.test(n)?ige(n.slice(2),i?2:8):tge.test(n)?k4:+n}var rge="[object AsyncFunction]",sge="[object Function]",age="[object GeneratorFunction]",cge="[object Proxy]";function R3(n){if(!wr(n))return!1;var t=aa(n);return t==sge||t==age||t==rge||t==cge}var S0=ki["__core-js_shared__"],v4=function(){var n=/[^.]+$/.exec(S0&&S0.keys&&S0.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function lge(n){return!!v4&&v4 in n}var dge=Function.prototype,uge=dge.toString;function ca(n){if(n!=null){try{return uge.call(n)}catch{}try{return n+""}catch{}}return""}var hge=/[\\^$.*+?()[\]{}|]/g,pge=/^\[object .+?Constructor\]$/,fge=Function.prototype,gge=Object.prototype,mge=fge.toString,bge=gge.hasOwnProperty,kge=RegExp("^"+mge.call(bge).replace(hge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function wge(n){if(!wr(n)||lge(n))return!1;var t=R3(n)?kge:pge;return t.test(ca(n))}function vge(n,t){return n==null?void 0:n[t]}function la(n,t){var i=vge(n,t);return wge(i)?i:void 0}var Rw=la(ki,"WeakMap"),_4=Object.create,_ge=function(){function n(){}return function(t){if(!wr(t))return{};if(_4)return _4(t);n.prototype=t;var i=new n;return n.prototype=void 0,i}}();function Cge(n,t){var i=-1,c=n.length;for(t||(t=Array(c));++i<c;)t[i]=n[i];return t}var C4=function(){try{var n=la(Object,"defineProperty");return n({},"",{}),n}catch{}}();function Age(n,t){for(var i=-1,c=n==null?0:n.length;++i<c&&t(n[i],i,n)!==!1;);return n}var yge=9007199254740991,xge=/^(?:0|[1-9]\d*)$/;function Ege(n,t){var i=typeof n;return t=t??yge,!!t&&(i=="number"||i!="symbol"&&xge.test(n))&&n>-1&&n%1==0&&n<t}function B3(n,t,i){t=="__proto__"&&C4?C4(n,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[t]=i}function N3(n,t){return n===t||n!==n&&t!==t}var Tge=Object.prototype,Ige=Tge.hasOwnProperty;function O3(n,t,i){var c=n[t];(!(Ige.call(n,t)&&N3(c,i))||i===void 0&&!(t in n))&&B3(n,t,i)}function Im(n,t,i,c){var d=!i;i||(i={});for(var h=-1,f=t.length;++h<f;){var b=t[h],m=void 0;m===void 0&&(m=n[b]),d?B3(i,b,m):O3(i,b,m)}return i}var Sge=9007199254740991;function L3(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Sge}function j3(n){return n!=null&&L3(n.length)&&!R3(n)}var Dge=Object.prototype;function hC(n){var t=n&&n.constructor,i=typeof t=="function"&&t.prototype||Dge;return n===i}function Mge(n,t){for(var i=-1,c=Array(n);++i<n;)c[i]=t(i);return c}var Pge="[object Arguments]";function A4(n){return rs(n)&&aa(n)==Pge}var z3=Object.prototype,Rge=z3.hasOwnProperty,Bge=z3.propertyIsEnumerable,Nge=A4(function(){return arguments}())?A4:function(n){return rs(n)&&Rge.call(n,"callee")&&!Bge.call(n,"callee")};function Oge(){return!1}var F3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,y4=F3&&typeof module=="object"&&module&&!module.nodeType&&module,Lge=y4&&y4.exports===F3,x4=Lge?ki.Buffer:void 0,jge=x4?x4.isBuffer:void 0,V3=jge||Oge,zge="[object Arguments]",Fge="[object Array]",Vge="[object Boolean]",$ge="[object Date]",Uge="[object Error]",Hge="[object Function]",Wge="[object Map]",qge="[object Number]",Gge="[object Object]",Kge="[object RegExp]",Yge="[object Set]",Qge="[object String]",Zge="[object WeakMap]",Jge="[object ArrayBuffer]",Xge="[object DataView]",eme="[object Float32Array]",tme="[object Float64Array]",nme="[object Int8Array]",ome="[object Int16Array]",ime="[object Int32Array]",rme="[object Uint8Array]",sme="[object Uint8ClampedArray]",ame="[object Uint16Array]",cme="[object Uint32Array]",Gt={};Gt[eme]=Gt[tme]=Gt[nme]=Gt[ome]=Gt[ime]=Gt[rme]=Gt[sme]=Gt[ame]=Gt[cme]=!0;Gt[zge]=Gt[Fge]=Gt[Jge]=Gt[Vge]=Gt[Xge]=Gt[$ge]=Gt[Uge]=Gt[Hge]=Gt[Wge]=Gt[qge]=Gt[Gge]=Gt[Kge]=Gt[Yge]=Gt[Qge]=Gt[Zge]=!1;function lme(n){return rs(n)&&L3(n.length)&&!!Gt[aa(n)]}function pC(n){return function(t){return n(t)}}var $3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,xd=$3&&typeof module=="object"&&module&&!module.nodeType&&module,dme=xd&&xd.exports===$3,D0=dme&&M3.process,Rc=function(){try{var n=xd&&xd.require&&xd.require("util").types;return n||D0&&D0.binding&&D0.binding("util")}catch{}}(),E4=Rc&&Rc.isTypedArray,ume=E4?pC(E4):lme,hme=Object.prototype,pme=hme.hasOwnProperty;function U3(n,t){var i=uC(n),c=!i&&Nge(n),d=!i&&!c&&V3(n),h=!i&&!c&&!d&&ume(n),f=i||c||d||h,b=f?Mge(n.length,String):[],m=b.length;for(var v in n)(t||pme.call(n,v))&&!(f&&(v=="length"||d&&(v=="offset"||v=="parent")||h&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||Ege(v,m)))&&b.push(v);return b}function H3(n,t){return function(i){return n(t(i))}}var fme=H3(Object.keys,Object),gme=Object.prototype,mme=gme.hasOwnProperty;function bme(n){if(!hC(n))return fme(n);var t=[];for(var i in Object(n))mme.call(n,i)&&i!="constructor"&&t.push(i);return t}function fC(n){return j3(n)?U3(n):bme(n)}function kme(n){var t=[];if(n!=null)for(var i in Object(n))t.push(i);return t}var wme=Object.prototype,vme=wme.hasOwnProperty;function _me(n){if(!wr(n))return kme(n);var t=hC(n),i=[];for(var c in n)c=="constructor"&&(t||!vme.call(n,c))||i.push(c);return i}function gC(n){return j3(n)?U3(n,!0):_me(n)}var nu=la(Object,"create");function Cme(){this.__data__=nu?nu(null):{},this.size=0}function Ame(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}var yme="__lodash_hash_undefined__",xme=Object.prototype,Eme=xme.hasOwnProperty;function Tme(n){var t=this.__data__;if(nu){var i=t[n];return i===yme?void 0:i}return Eme.call(t,n)?t[n]:void 0}var Ime=Object.prototype,Sme=Ime.hasOwnProperty;function Dme(n){var t=this.__data__;return nu?t[n]!==void 0:Sme.call(t,n)}var Mme="__lodash_hash_undefined__";function Pme(n,t){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=nu&&t===void 0?Mme:t,this}function Xs(n){var t=-1,i=n==null?0:n.length;for(this.clear();++t<i;){var c=n[t];this.set(c[0],c[1])}}Xs.prototype.clear=Cme;Xs.prototype.delete=Ame;Xs.prototype.get=Tme;Xs.prototype.has=Dme;Xs.prototype.set=Pme;function Rme(){this.__data__=[],this.size=0}function Sm(n,t){for(var i=n.length;i--;)if(N3(n[i][0],t))return i;return-1}var Bme=Array.prototype,Nme=Bme.splice;function Ome(n){var t=this.__data__,i=Sm(t,n);if(i<0)return!1;var c=t.length-1;return i==c?t.pop():Nme.call(t,i,1),--this.size,!0}function Lme(n){var t=this.__data__,i=Sm(t,n);return i<0?void 0:t[i][1]}function jme(n){return Sm(this.__data__,n)>-1}function zme(n,t){var i=this.__data__,c=Sm(i,n);return c<0?(++this.size,i.push([n,t])):i[c][1]=t,this}function _r(n){var t=-1,i=n==null?0:n.length;for(this.clear();++t<i;){var c=n[t];this.set(c[0],c[1])}}_r.prototype.clear=Rme;_r.prototype.delete=Ome;_r.prototype.get=Lme;_r.prototype.has=jme;_r.prototype.set=zme;var ou=la(ki,"Map");function Fme(){this.size=0,this.__data__={hash:new Xs,map:new(ou||_r),string:new Xs}}function Vme(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}function Dm(n,t){var i=n.__data__;return Vme(t)?i[typeof t=="string"?"string":"hash"]:i.map}function $me(n){var t=Dm(this,n).delete(n);return this.size-=t?1:0,t}function Ume(n){return Dm(this,n).get(n)}function Hme(n){return Dm(this,n).has(n)}function Wme(n,t){var i=Dm(this,n),c=i.size;return i.set(n,t),this.size+=i.size==c?0:1,this}function Qc(n){var t=-1,i=n==null?0:n.length;for(this.clear();++t<i;){var c=n[t];this.set(c[0],c[1])}}Qc.prototype.clear=Fme;Qc.prototype.delete=$me;Qc.prototype.get=Ume;Qc.prototype.has=Hme;Qc.prototype.set=Wme;function W3(n,t){for(var i=-1,c=t.length,d=n.length;++i<c;)n[d+i]=t[i];return n}var mC=H3(Object.getPrototypeOf,Object),qme="[object Object]",Gme=Function.prototype,Kme=Object.prototype,q3=Gme.toString,Yme=Kme.hasOwnProperty,Qme=q3.call(Object);function Zme(n){if(!rs(n)||aa(n)!=qme)return!1;var t=mC(n);if(t===null)return!0;var i=Yme.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&q3.call(i)==Qme}function Jme(){this.__data__=new _r,this.size=0}function Xme(n){var t=this.__data__,i=t.delete(n);return this.size=t.size,i}function ebe(n){return this.__data__.get(n)}function tbe(n){return this.__data__.has(n)}var nbe=200;function obe(n,t){var i=this.__data__;if(i instanceof _r){var c=i.__data__;if(!ou||c.length<nbe-1)return c.push([n,t]),this.size=++i.size,this;i=this.__data__=new Qc(c)}return i.set(n,t),this.size=i.size,this}function Zc(n){var t=this.__data__=new _r(n);this.size=t.size}Zc.prototype.clear=Jme;Zc.prototype.delete=Xme;Zc.prototype.get=ebe;Zc.prototype.has=tbe;Zc.prototype.set=obe;function ibe(n,t){return n&&Im(t,fC(t),n)}function rbe(n,t){return n&&Im(t,gC(t),n)}var G3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,T4=G3&&typeof module=="object"&&module&&!module.nodeType&&module,sbe=T4&&T4.exports===G3,I4=sbe?ki.Buffer:void 0,S4=I4?I4.allocUnsafe:void 0;function abe(n,t){if(t)return n.slice();var i=n.length,c=S4?S4(i):new n.constructor(i);return n.copy(c),c}function cbe(n,t){for(var i=-1,c=n==null?0:n.length,d=0,h=[];++i<c;){var f=n[i];t(f,i,n)&&(h[d++]=f)}return h}function K3(){return[]}var lbe=Object.prototype,dbe=lbe.propertyIsEnumerable,D4=Object.getOwnPropertySymbols,bC=D4?function(n){return n==null?[]:(n=Object(n),cbe(D4(n),function(t){return dbe.call(n,t)}))}:K3;function ube(n,t){return Im(n,bC(n),t)}var hbe=Object.getOwnPropertySymbols,Y3=hbe?function(n){for(var t=[];n;)W3(t,bC(n)),n=mC(n);return t}:K3;function pbe(n,t){return Im(n,Y3(n),t)}function Q3(n,t,i){var c=t(n);return uC(n)?c:W3(c,i(n))}function fbe(n){return Q3(n,fC,bC)}function gbe(n){return Q3(n,gC,Y3)}var Bw=la(ki,"DataView"),Nw=la(ki,"Promise"),Ow=la(ki,"Set"),M4="[object Map]",mbe="[object Object]",P4="[object Promise]",R4="[object Set]",B4="[object WeakMap]",N4="[object DataView]",bbe=ca(Bw),kbe=ca(ou),wbe=ca(Nw),vbe=ca(Ow),_be=ca(Rw),or=aa;(Bw&&or(new Bw(new ArrayBuffer(1)))!=N4||ou&&or(new ou)!=M4||Nw&&or(Nw.resolve())!=P4||Ow&&or(new Ow)!=R4||Rw&&or(new Rw)!=B4)&&(or=function(n){var t=aa(n),i=t==mbe?n.constructor:void 0,c=i?ca(i):"";if(c)switch(c){case bbe:return N4;case kbe:return M4;case wbe:return P4;case vbe:return R4;case _be:return B4}return t});var Cbe=Object.prototype,Abe=Cbe.hasOwnProperty;function ybe(n){var t=n.length,i=new n.constructor(t);return t&&typeof n[0]=="string"&&Abe.call(n,"index")&&(i.index=n.index,i.input=n.input),i}var O4=ki.Uint8Array;function kC(n){var t=new n.constructor(n.byteLength);return new O4(t).set(new O4(n)),t}function xbe(n,t){var i=t?kC(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}var Ebe=/\w*$/;function Tbe(n){var t=new n.constructor(n.source,Ebe.exec(n));return t.lastIndex=n.lastIndex,t}var L4=Pc?Pc.prototype:void 0,j4=L4?L4.valueOf:void 0;function Ibe(n){return j4?Object(j4.call(n)):{}}function Sbe(n,t){var i=t?kC(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}var Dbe="[object Boolean]",Mbe="[object Date]",Pbe="[object Map]",Rbe="[object Number]",Bbe="[object RegExp]",Nbe="[object Set]",Obe="[object String]",Lbe="[object Symbol]",jbe="[object ArrayBuffer]",zbe="[object DataView]",Fbe="[object Float32Array]",Vbe="[object Float64Array]",$be="[object Int8Array]",Ube="[object Int16Array]",Hbe="[object Int32Array]",Wbe="[object Uint8Array]",qbe="[object Uint8ClampedArray]",Gbe="[object Uint16Array]",Kbe="[object Uint32Array]";function Ybe(n,t,i){var c=n.constructor;switch(t){case jbe:return kC(n);case Dbe:case Mbe:return new c(+n);case zbe:return xbe(n,i);case Fbe:case Vbe:case $be:case Ube:case Hbe:case Wbe:case qbe:case Gbe:case Kbe:return Sbe(n,i);case Pbe:return new c;case Rbe:case Obe:return new c(n);case Bbe:return Tbe(n);case Nbe:return new c;case Lbe:return Ibe(n)}}function Qbe(n){return typeof n.constructor=="function"&&!hC(n)?_ge(mC(n)):{}}var Zbe="[object Map]";function Jbe(n){return rs(n)&&or(n)==Zbe}var z4=Rc&&Rc.isMap,Xbe=z4?pC(z4):Jbe,eke="[object Set]";function tke(n){return rs(n)&&or(n)==eke}var F4=Rc&&Rc.isSet,nke=F4?pC(F4):tke,oke=1,ike=2,rke=4,Z3="[object Arguments]",ske="[object Array]",ake="[object Boolean]",cke="[object Date]",lke="[object Error]",J3="[object Function]",dke="[object GeneratorFunction]",uke="[object Map]",hke="[object Number]",X3="[object Object]",pke="[object RegExp]",fke="[object Set]",gke="[object String]",mke="[object Symbol]",bke="[object WeakMap]",kke="[object ArrayBuffer]",wke="[object DataView]",vke="[object Float32Array]",_ke="[object Float64Array]",Cke="[object Int8Array]",Ake="[object Int16Array]",yke="[object Int32Array]",xke="[object Uint8Array]",Eke="[object Uint8ClampedArray]",Tke="[object Uint16Array]",Ike="[object Uint32Array]",Ut={};Ut[Z3]=Ut[ske]=Ut[kke]=Ut[wke]=Ut[ake]=Ut[cke]=Ut[vke]=Ut[_ke]=Ut[Cke]=Ut[Ake]=Ut[yke]=Ut[uke]=Ut[hke]=Ut[X3]=Ut[pke]=Ut[fke]=Ut[gke]=Ut[mke]=Ut[xke]=Ut[Eke]=Ut[Tke]=Ut[Ike]=!0;Ut[lke]=Ut[J3]=Ut[bke]=!1;function ef(n,t,i,c,d,h){var f,b=t&oke,m=t&ike,v=t&rke;if(i&&(f=d?i(n,c,d,h):i(n)),f!==void 0)return f;if(!wr(n))return n;var C=uC(n);if(C){if(f=ybe(n),!b)return Cge(n,f)}else{var y=or(n),_=y==J3||y==dke;if(V3(n))return abe(n,b);if(y==X3||y==Z3||_&&!d){if(f=m||_?{}:Qbe(n),!b)return m?pbe(n,rbe(f,n)):ube(n,ibe(f,n))}else{if(!Ut[y])return d?n:{};f=Ybe(n,y,b)}}h||(h=new Zc);var x=h.get(n);if(x)return x;h.set(n,f),nke(n)?n.forEach(function(M){f.add(ef(M,t,i,M,n,h))}):Xbe(n)&&n.forEach(function(M,N){f.set(N,ef(M,t,i,N,n,h))});var I=v?m?gbe:fbe:m?gC:fC,S=C?void 0:I(n);return Age(S||n,function(M,N){S&&(N=M,M=n[N]),O3(f,N,ef(M,t,i,N,n,h))}),f}var Ske=1,Dke=4;function Mke(n,t){return t=typeof t=="function"?t:void 0,ef(n,Ske|Dke,t)}var M0=function(){return ki.Date.now()},Pke="Expected a function",Rke=Math.max,Bke=Math.min;function Nke(n,t,i){var c,d,h,f,b,m,v=0,C=!1,y=!1,_=!0;if(typeof n!="function")throw new TypeError(Pke);t=w4(t)||0,wr(i)&&(C=!!i.leading,y="maxWait"in i,h=y?Rke(w4(i.maxWait)||0,t):h,_="trailing"in i?!!i.trailing:_);function x(W){var P=c,U=d;return c=d=void 0,v=W,f=n.apply(U,P),f}function I(W){return v=W,b=setTimeout(N,t),C?x(W):f}function S(W){var P=W-m,U=W-v,G=t-P;return y?Bke(G,h-U):G}function M(W){var P=W-m,U=W-v;return m===void 0||P>=t||P<0||y&&U>=h}function N(){var W=M0();if(M(W))return j(W);b=setTimeout(N,S(W))}function j(W){return b=void 0,_&&c?x(W):(c=d=void 0,f)}function L(){b!==void 0&&clearTimeout(b),v=0,c=m=d=b=void 0}function V(){return b===void 0?f:j(M0())}function H(){var W=M0(),P=M(W);if(c=arguments,d=this,m=W,P){if(b===void 0)return I(m);if(y)return clearTimeout(b),b=setTimeout(N,t),x(m)}return b===void 0&&(b=setTimeout(N,t)),f}return H.cancel=L,H.flush=V,H}function V4(n){return rs(n)&&n.nodeType===1&&!Zme(n)}var Oke="Expected a function";function Lke(n,t,i){var c=!0,d=!0;if(typeof n!="function")throw new TypeError(Oke);return wr(i)&&(c="leading"in i?!!i.leading:c,d="trailing"in i?!!i.trailing:d),Nke(n,t,{leading:c,maxWait:t,trailing:d})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class eL extends dC{constructor(t,i={}){super(i),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=Lke(this._save.bind(this),typeof i.saveInterval=="number"?i.saveInterval:5e3),t&&(this._creator=(c,d)=>t.create(c,d)),this._destructor=c=>c.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(t=>{console.error("An error happened during the editor destroying.",t)}).then(()=>{const t={},i=[],c=this._config.rootsAttributes||{},d={};for(const[f,b]of Object.entries(this._data.roots))b.isLoaded?(t[f]="",d[f]=c[f]||{}):i.push(f);const h={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:i,rootsAttributes:d,_watchdogInitialData:this._data};return delete h.initialData,h.extraPlugins.push(jke),this._initUsingData?this.create(t,h,h.context):V4(this._elementOrData)?this.create(this._elementOrData,h,h.context):this.create(this._editables,h,h.context)}).then(()=>{this._fire("restart")})}create(t=this._elementOrData,i=this._config,c){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=t,this._initUsingData=typeof t=="string"||Object.keys(t).length>0&&typeof Object.values(t)[0]=="string",this._config=this._cloneEditorConfiguration(i)||{},this._config.context=c,this._creator(t,this._config))).then(d=>{this._editor=d,d.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=d.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const t=this._editor;return this._editor=null,t.model.document.off("change:data",this._throttledSave),this._destructor(t)})}_save(){const t=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=t}catch(i){console.error(i,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t=this._editor,i=t.model.document.roots.filter(b=>b.isAttached()&&b.rootName!="$graveyard"),{plugins:c}=t,d=c.has("CommentsRepository")&&c.get("CommentsRepository"),h=c.has("TrackChanges")&&c.get("TrackChanges"),f={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};i.forEach(b=>{f.roots[b.rootName]={content:JSON.stringify(Array.from(b.getChildren())),attributes:JSON.stringify(Array.from(b.getAttributes())),isLoaded:b._isLoaded}});for(const b of t.model.markers)b._affectsData&&(f.markers[b.name]={rangeJSON:b.getRange().toJSON(),usingOperation:b._managedUsingOperations,affectsData:b._affectsData});return d&&(f.commentThreads=JSON.stringify(d.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),h&&(f.suggestions=JSON.stringify(h.getSuggestions({toJSON:!0,skipNotAttached:!0}))),f}_getEditables(){const t={};for(const i of this.editor.model.document.getRootNames()){const c=this.editor.ui.getEditableElement(i);c&&(t[i]=c)}return t}_isErrorComingFromThisItem(t){return D3(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return Mke(t,(i,c)=>{if(V4(i)||c==="context")return i})}}class jke{constructor(t){this.editor=t,this._data=t.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",t=>{t.stop(),this.editor.model.enqueueChange({isUndoable:!1},i=>{this._restoreCollaborationData(),this._restoreEditorData(i)}),this.editor.data.fire("ready")},{priority:999})}_createNode(t,i){if("name"in i){const c=t.createElement(i.name,i.attributes);if(i.children)for(const d of i.children)c._appendChild(this._createNode(t,d));return c}else return t.createText(i.data,i.attributes)}_restoreEditorData(t){const i=this.editor;Object.entries(this._data.roots).forEach(([c,{content:d,attributes:h}])=>{const f=JSON.parse(d),b=JSON.parse(h),m=i.model.document.getRoot(c);for(const[v,C]of b)t.setAttribute(v,C,m);for(const v of f){const C=this._createNode(t,v);t.insert(C,m,"end")}}),Object.entries(this._data.markers).forEach(([c,d])=>{const{document:h}=i.model,{rangeJSON:{start:f,end:b},...m}=d,v=h.getRoot(f.root),C=t.createPositionFromPath(v,f.path,f.stickiness),y=t.createPositionFromPath(v,b.path,b.stickiness),_=t.createRange(C,y);t.addMarker(c,{range:_,...m})})}_restoreCollaborationData(){const t=JSON.parse(this._data.commentThreads),i=JSON.parse(this._data.suggestions);t.forEach(c=>{const d=this.editor.config.get("collaboration.channelId"),h=this.editor.plugins.get("CommentsRepository");h.hasCommentThread(c.threadId)&&h.getCommentThread(c.threadId).remove(),h.addCommentThread({channelId:d,...c})}),i.forEach(c=>{const d=this.editor.plugins.get("TrackChangesEditing");if(d.hasSuggestion(c.id)){const h=d.getSuggestion(c.id);h.attributes=c.attributes}else d.addSuggestionData(c)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Ed=Symbol("MainQueueId");class zke extends dC{constructor(t,i={}){super(i),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new Fke,this._watchdogConfig=i,this._creator=c=>t.create(c),this._destructor=c=>c.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}get context(){return this._context}create(t={}){return this._actionQueues.enqueue(Ed,()=>(this._contextConfig=t,this._create()))}getItem(t){return this._getWatchdog(t)._item}getItemState(t){return this._getWatchdog(t).state}add(t){const i=$4(t);return Promise.all(i.map(c=>this._actionQueues.enqueue(c.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let d;if(this._watchdogs.has(c.id))throw new Error(`Item with the given id is already added: '${c.id}'.`);if(c.type==="editor")return d=new eL(null,this._watchdogConfig),d.setCreator(c.creator),d._setExcludedProperties(this._contextProps),c.destructor&&d.setDestructor(c.destructor),this._watchdogs.set(c.id,d),d.on("error",(h,{error:f,causesRestart:b})=>{this._fire("itemError",{itemId:c.id,error:f}),b&&this._actionQueues.enqueue(c.id,()=>new Promise(m=>{const v=()=>{d.off("restart",v),this._fire("itemRestart",{itemId:c.id}),m()};d.on("restart",v)}))}),d.create(c.sourceElementOrData,c.config,this._context);throw new Error(`Not supported item type: '${c.type}'.`)})))}remove(t){const i=$4(t);return Promise.all(i.map(c=>this._actionQueues.enqueue(c,()=>{const d=this._getWatchdog(c);return this._watchdogs.delete(c),d.destroy()})))}destroy(){return this._actionQueues.enqueue(Ed,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Ed,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(t=>{console.error("An error happened during destroying the context or items.",t)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(t=>(this._context=t,this._contextProps=Pw(this._context),Promise.all(Array.from(this._watchdogs.values()).map(i=>(i._setExcludedProperties(this._contextProps),i.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const t=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(i=>i.destroy())).then(()=>this._destructor(t))})}_getWatchdog(t){const i=this._watchdogs.get(t);if(!i)throw new Error(`Item with the given id was not registered: ${t}.`);return i}_isErrorComingFromThisItem(t){for(const i of this._watchdogs.values())if(i._isErrorComingFromThisItem(t))return!1;return D3(this._context,t.context)}}class Fke{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(t){this._onEmptyCallbacks.push(t)}enqueue(t,i){const c=t===Ed;this._activeActions++,this._queues.get(t)||this._queues.set(t,Promise.resolve());const h=(c?Promise.all(this._queues.values()):Promise.all([this._queues.get(Ed),this._queues.get(t)])).then(i),f=h.catch(()=>{});return this._queues.set(t,f),h.finally(()=>{this._activeActions--,this._queues.get(t)===f&&this._activeActions===0&&this._onEmptyCallbacks.forEach(b=>b())})}}function $4(n){return Array.isArray(n)?n:[n]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Vke=Object.freeze(Object.defineProperty({__proto__:null,ContextWatchdog:zke,EditorWatchdog:eL,Watchdog:dC},Symbol.toStringTag,{value:"Module"})),$ke=Vi(Vke);/*!
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(n,t){(function(i,c){n.exports=c(O,roe,$ke)})(self,(i,c,d)=>(()=>{var h={546:v=>{v.exports=d},949:v=>{v.exports=c},155:v=>{v.exports=i}},f={};function b(v){var C=f[v];if(C!==void 0)return C.exports;var y=f[v]={exports:{}};return h[v](y,y.exports,b),y.exports}b.n=v=>{var C=v&&v.__esModule?()=>v.default:()=>v;return b.d(C,{a:C}),C},b.d=(v,C)=>{for(var y in C)b.o(C,y)&&!b.o(v,y)&&Object.defineProperty(v,y,{enumerable:!0,get:C[y]})},b.o=(v,C)=>Object.prototype.hasOwnProperty.call(v,C),b.r=v=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})};var m={};return(()=>{b.r(m),b.d(m,{CKEditor:()=>j,CKEditorContext:()=>M,useMultiRootEditor:()=>W});var v=b(155),C=b.n(v),y=b(949),_=b.n(y);const x=new Array(256).fill("").map((P,U)=>("0"+U.toString(16)).slice(-2));var I=b(546);const S=C().createContext("contextWatchdog");class M extends C().Component{constructor(U,G){super(U,G),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(U){return this._shouldComponentUpdate(U)}async _shouldComponentUpdate(U){return U.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(U.config)),U.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(U.config),!0):this.props.children!==U.children}render(){return C().createElement(S.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(U){this.contextWatchdog=new I.ContextWatchdog(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(G,Q)=>{this.props.onError(Q.error,{phase:"runtime",willContextRestart:Q.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(U).catch(G=>{this.props.onError(G,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}M.defaultProps={isLayoutReady:!0,onError:(P,U)=>console.error(P,U)},M.propTypes={id:_().string,isLayoutReady:_().bool,context:_().func,watchdogConfig:_().object,config:_().object,onReady:_().func,onError:_().func};const N="Lock from React integration (@ckeditor/ckeditor5-react)";class j extends C().Component{constructor(U){super(U),this.editorDestructionInProgress=null,this.domContainer=C().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:G}=window;if(G){const[Q]=G.split(".").map(Number);Q<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(U){return!!this.editor&&(U.id!==this.props.id||U.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(U)&&this.editor.data.set(U.data),"disabled"in U&&(U.disabled?this.editor.enableReadOnlyMode(N):this.editor.disableReadOnlyMode(N)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return C().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof I.ContextWatchdog?this.watchdog=new L(this.context):this.watchdog=new j._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((U,G)=>this._createEditor(U,G)),this.watchdog.on("error",(U,{error:G,causesRestart:Q})=>{(this.props.onError||console.error)(G,{phase:"runtime",willEditorRestart:Q})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(U=>{(this.props.onError||console.error)(U,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(U,G){return this.props.editor.create(U,G).then(Q=>{"disabled"in this.props&&this.props.disabled&&Q.enableReadOnlyMode(N);const ee=Q.model.document,re=Q.editing.view.document;return ee.on("change:data",J=>{this.props.onChange&&this.props.onChange(J,Q)}),re.on("focus",J=>{this.props.onFocus&&this.props.onFocus(J,Q)}),re.on("blur",J=>{this.props.onBlur&&this.props.onBlur(J,Q)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(Q)}),Q})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(U=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,U()):this.instance?(await this.instance.destroy(),this.instance=null,U()):void U())})}_shouldUpdateEditor(U){return this.props.data!==U.data&&this.editor.data.get()!==U.data}_getConfig(){const U=this.props.config||{};return this.props.data&&U.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...U,initialData:U.initialData||this.props.data||""}}}j.contextType=S,j.propTypes={editor:_().func.isRequired,data:_().string,config:_().object,disableWatchdog:_().bool,watchdogConfig:_().object,onChange:_().func,onReady:_().func,onFocus:_().func,onBlur:_().func,onError:_().func,disabled:_().bool,id:_().any},j._EditorWatchdog=I.EditorWatchdog;class L{constructor(U){this._contextWatchdog=U,this._id=function(){const G=4294967296*Math.random()>>>0,Q=4294967296*Math.random()>>>0,ee=4294967296*Math.random()>>>0,re=4294967296*Math.random()>>>0;return"e"+x[255&G]+x[G>>8&255]+x[G>>16&255]+x[G>>24&255]+x[255&Q]+x[Q>>8&255]+x[Q>>16&255]+x[Q>>24&255]+x[255&ee]+x[ee>>8&255]+x[ee>>16&255]+x[ee>>24&255]+x[255&re]+x[re>>8&255]+x[re>>16&255]+x[re>>24&255]}()}setCreator(U){this._creator=U}create(U,G){return this._contextWatchdog.add({sourceElementOrData:U,config:G,creator:this._creator,id:this._id,type:"editor"})}on(U,G){this._contextWatchdog.on("itemError",(Q,{itemId:ee,error:re})=>{ee===this._id&&G(null,{error:re,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}const V="Lock from React integration (@ckeditor/ckeditor5-react)",H=({editor:P})=>{const U=(0,v.useRef)(null);return(0,v.useEffect)(()=>{const G=U.current;if(!P||!G)return;const Q=P.ui.view.toolbar.element;return G&&G.appendChild(Q),()=>{G&&G.removeChild(Q)}},[P&&P.id]),C().createElement("div",{ref:U})},W=P=>{const U=(0,v.useRef)(null),G=(0,v.useRef)(null),Q=(0,v.useContext)(S),[ee,re]=(0,v.useState)(null),[J,X]=(0,v.useState)(P.data),[oe,ie]=(0,v.useState)(P.rootsAttributes||{}),[ce,K]=(0,v.useState)([]),he=(0,v.useRef)(!0);(0,v.useEffect)(()=>((async()=>(await G.current,P.isLayoutReady!==!1&&await Ne()))(),()=>{it().then(()=>{G.current=null})}),[P.isLayoutReady]),(0,v.useEffect)(()=>{ee&&(P.disabled?ee.enableReadOnlyMode(V):ee.disableReadOnlyMode(V))},[P.disabled]),(0,v.useEffect)(()=>{if(ee&&!G.current){const ye=ee.getFullData();X({...ye}),ie({...ee.getRootsAttributes()}),K([...Object.keys(ye).map(Y=>tt(ee,Y))])}},[ee&&ee.id]);const Ae=()=>{const ye=P.config||{};return P.data&&ye.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` property. The config value takes precedence over `data` property and will be used when both are specified."),{...ye,rootsAttributes:oe}},tt=(ye,Y)=>C().createElement("div",{id:Y,key:Y,ref:te=>{if(te){const se=ye.ui.view.createEditable(Y,te);ye.ui.addEditable(se),ye.editing.view.forceRender()}}}),Ke=(ye,Y)=>P.editor.create(ye,Y).then(te=>{P.disabled&&P.disabled&&te.enableReadOnlyMode(V);const se=te.model.document,ve=te.editing.view.document;return se.on("change:data",Ee=>((He,Dt)=>{const Ze=He.model.document;if(!P.disableTwoWayDataBinding){const De={},Ye={};Ze.differ.getChanges().forEach(qe=>{let je;if(je=qe.type=="insert"||qe.type=="remove"?qe.position.root:qe.range.root,!je.isAttached())return;const{rootName:ut}=je;De[ut]=He.getData({rootName:ut})}),Ze.differ.getChangedRoots().forEach(qe=>{if(qe.state)return void(De[qe.name]!==void 0&&delete De[qe.name]);const je=qe.name;Ye[je]=He.getRootAttributes(je)}),Object.keys(De).length&&X(qe=>({...qe,...De})),Object.keys(Ye).length&&ie(qe=>({...qe,...Ye}))}P.onChange&&P.onChange(Dt,He)})(te,Ee)),te.on("addRoot",(Ee,He)=>((Dt,Ze,De)=>{const Ye=De.rootName,qe=tt(Dt,Ye);P.disableTwoWayDataBinding||(X(je=>({...je,[Ye]:Dt.getData({rootName:Ye})})),ie(je=>({...je,[Ye]:Dt.getRootAttributes(Ye)}))),K(je=>[...je,qe])})(te,0,He)),te.on("detachRoot",(Ee,He)=>((Dt,Ze,De)=>{const Ye=De.rootName;K(qe=>qe.filter(je=>je.props.id!==Ye)),P.disableTwoWayDataBinding||(X(qe=>{const{[Ye]:je,...ut}=qe;return{...ut}}),ie(qe=>{const{[Ye]:je,...ut}=qe;return{...ut}})),Dt.detachEditable(De)})(te,0,He)),ve.on("focus",Ee=>{P.onFocus&&P.onFocus(Ee,te)}),ve.on("blur",Ee=>{P.onBlur&&P.onBlur(Ee,te)}),re(te),P.onReady&&P.onReady(te),te}),it=async()=>{re(null),X({}),ie({}),K([]),G.current=new Promise(ye=>{setTimeout(async()=>U.current?(await U.current.destroy(),U.current=null,ye()):ee?(await ee.destroy(),ye()):void ye())})},Ne=async()=>{if(P.disableWatchdog)return void await Ke(P.data,Ae());if(U.current)return;Q instanceof I.ContextWatchdog?U.current=new L(Q):U.current=new I.EditorWatchdog(P.editor,P.watchdogConfig);const ye=U.current;ye.setCreator((Y,te)=>Ke(Y,te)),ye.on("error",(Y,{error:te,causesRestart:se})=>{(P.onError||console.error)(te,{phase:"runtime",willEditorRestart:se})}),await ye.create(J,Ae()).catch(Y=>{(P.onError||console.error)(Y,{phase:"initialization",willEditorRestart:!1})})};(0,v.useEffect)(()=>{if(ee&&he.current){he.current=!1;const ye=Object.keys(J),Y=Object.keys(oe);if(!ye.every(Ze=>Y.includes(Ze)))throw new Error("`data` and `attributes` objects must have the same keys (roots).");const te=ee.getFullData(),se=ee.getRootsAttributes(),{addedKeys:ve,removedKeys:Ee}=nt(te,J||{}),He=ye.some(Ze=>te[Ze]!==void 0&&JSON.stringify(te[Ze])!==JSON.stringify(J[Ze])),Dt=Y.filter(Ze=>JSON.stringify(se[Ze])!==JSON.stringify(oe[Ze]));ee.model.change(Ze=>{Te(ve),mt(Ee),He&&st(),Dt.length&&ot(Ze,Dt)})}},[J,oe]);const nt=(ye,Y)=>{const te=Object.keys(ye),se=Object.keys(Y);return{addedKeys:se.filter(ve=>!te.includes(ve)),removedKeys:te.filter(ve=>!se.includes(ve))}},Te=ye=>{ye.forEach(Y=>{ee.addRoot(Y,{data:J[Y]||"",attributes:(oe==null?void 0:oe[Y])||{},isUndoable:!0})})},mt=ye=>{ye.forEach(Y=>{ee.detachRoot(Y,!0)})},st=()=>{ee.data.set(J,{suppressErrorInCollaboration:!0})},ot=(ye,Y)=>{Y.forEach(te=>{Object.keys(oe[te]).forEach(se=>{ee.registerRootAttribute(se)}),ye.clearAttributes(ee.model.document.getRoot(te)),ye.setAttributes(oe[te],ee.model.document.getRoot(te))})},bt=(0,v.useCallback)(ye=>{he.current=!0,X(ye)},[X]),$e=(0,v.useCallback)(ye=>{he.current=!0,ie(ye)},[ie]);return{editor:ee,editableElements:ce,toolbarElement:C().createElement(H,{editor:ee}),data:J,setData:bt,attributes:oe,setAttributes:$e}}})(),m})())})(S3);var tL=S3.exports,Ff={exports:{}};Ff.exports;(function(n,t){(function(i){const c=i.en=i.en||{};c.dictionary=Object.assign(c.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(may require <kbd>Fn</kbd>)","%0 of %1":"%0 of %1",Accept:"Accept",Accessibility:"Accessibility","Accessibility help":"Accessibility help","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bold text":"Bold text",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Close:"Close","Close contextual balloons, dropdowns, and dialogs":"Close contextual balloons, dropdowns, and dialogs",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Content editing keystrokes":"Content editing keystrokes","Copy selected content":"Copy selected content","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Create link":"Create link",Custom:"Custom","Custom image size":"Custom image size",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Decrease list item indent":"Decrease list item indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit image":"Edit image","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor dialog":"Editor dialog","Editor editing area: %0":"Editor editing area: %0","Editor menu bar":"Editor menu bar","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Entering a to-do list":"Entering a to-do list","Error during image upload":"Error during image upload","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.","Failed to determine category of edited image.":"Failed to determine category of edited image.","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Help Contents. To close this dialog press ESC.":"Help Contents. To close this dialog press ESC.",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image from computer":"Image from computer","Image resize list":"Image resize list","Image toolbar":"Image toolbar","Image upload complete":"Image upload complete","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Increase list item indent":"Increase list item indent",Insert:"Insert","Insert a hard break (a new paragraph)":"Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget":"Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget":"Insert a new paragraph directly before a widget","Insert a new table row (when in the last cell of a table)":"Insert a new table row (when in the last cell of a table)","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert image with file manager":"Insert image with file manager","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Insert with file manager":"Insert with file manager","Inserting image failed":"Inserting image failed",Inset:"Inset","Invalid start index value.":"Invalid start index value.",Italic:"Italic","Italic text":"Italic text","Justify cell text":"Justify cell text","Keystrokes that can be used in a list":"Keystrokes that can be used in a list","Keystrokes that can be used in a table cell":"Keystrokes that can be used in a table cell","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Leaving a to-do list":"Leaving a to-do list","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Link URL must not be empty.":"Link URL must not be empty.","List properties":"List properties","Lower-latin":"Lower-latin","Lowerroman":"Lowerroman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",MENU_BAR_MENU_EDIT:"Edit",MENU_BAR_MENU_FILE:"File",MENU_BAR_MENU_FONT:"Font",MENU_BAR_MENU_FORMAT:"Format",MENU_BAR_MENU_HELP:"Help",MENU_BAR_MENU_INSERT:"Insert",MENU_BAR_MENU_TEXT:"Text",MENU_BAR_MENU_TOOLS:"Tools",MENU_BAR_MENU_VIEW:"View","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Move focus between form fields (inputs, buttons, etc.)":"Move focus between form fields (inputs, buttons, etc.)","Move focus in and out of an active dialog window":"Move focus in and out of an active dialog window","Move focus to the menu bar, navigate between menu bars":"Move focus to the menu bar, navigate between menu bars","Move focus to the toolbar, navigate between toolbars":"Move focus to the toolbar, navigate between toolbars","Move out of a link":"Move out of a link","Move out of an inline code style":"Move out of an inline code style","Move the caret to allow typing directly after a widget":"Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget":"Move the caret to allow typing directly before a widget","Move the selection to the next cell":"Move the selection to the next cell","Move the selection to the previous cell":"Move the selection to the previous cell","Navigate through the table":"Navigate through the table","Navigate through the toolbar or menu bar":"Navigate through the toolbar or menu bar",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab","Open the accessibility help dialog":"Open the accessibility help dialog",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste content":"Paste content","Paste content as plain text":"Paste content as plain text","Paste the media URL in the input.":"Paste the media URL in the input.",'Please enter a valid color (e.g. "ff0000").':'Please enter a valid color (e.g. "ff0000").',"Press %0 for help.":"Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous","Processing the edited image.":"Processing the edited image.",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Resize image":"Resize image","Resize image (in %0)":"Resize image (in %0)","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Revert autoformatting action":"Revert autoformatting action","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Server failed to process the image.":"Server failed to process the image.","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough","Strikethrough text":"Strikethrough text",Style:"Style",Subscript:"Subscript",Superscript:"Superscript",Table:"Table","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"The value must not be empty.":"The value must not be empty.","The value should be a plain number.":"The value should be a plain number.","These keyboard shortcuts allow for quick access to content editing features.":"These keyboard shortcuts allow for quick access to content editing features.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerlatin list style":"Toggle the lowerlatin list style","Toggle the lowerroman list style":"Toggle the lowerroman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperlatin list style":"Toggle the upperlatin list style","Toggle the upperroman list style":"Toggle the upperroman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline","Underline text":"Underline text",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Upload in progress":"Upload in progress","Uploading image":"Uploading image","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes":"User interface and content navigation keystrokes","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(i,c){n.exports=c()}(self,()=>(()=>{var i={9246:(f,b,m)=>{const v=m(6931),C={};for(const _ of Object.keys(v))C[v[_]]=_;const y={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};f.exports=y;for(const _ of Object.keys(y)){if(!("channels"in y[_]))throw new Error("missing channels property: "+_);if(!("labels"in y[_]))throw new Error("missing channel labels property: "+_);if(y[_].labels.length!==y[_].channels)throw new Error("channel and label counts mismatch: "+_);const{channels:x,labels:I}=y[_];delete y[_].channels,delete y[_].labels,Object.defineProperty(y[_],"channels",{value:x}),Object.defineProperty(y[_],"labels",{value:I})}y.rgb.hsl=function(_){const x=_[0]/255,I=_[1]/255,S=_[2]/255,M=Math.min(x,I,S),N=Math.max(x,I,S),j=N-M;let L,V;N===M?L=0:x===N?L=(I-S)/j:I===N?L=2+(S-x)/j:S===N&&(L=4+(x-I)/j),L=Math.min(60*L,360),L<0&&(L+=360);const H=(M+N)/2;return V=N===M?0:H<=.5?j/(N+M):j/(2-N-M),[L,100*V,100*H]},y.rgb.hsv=function(_){let x,I,S,M,N;const j=_[0]/255,L=_[1]/255,V=_[2]/255,H=Math.max(j,L,V),W=H-Math.min(j,L,V),P=function(U){return(H-U)/6/W+.5};return W===0?(M=0,N=0):(N=W/H,x=P(j),I=P(L),S=P(V),j===H?M=S-I:L===H?M=.3333333333333333+x-S:V===H&&(M=.6666666666666666+I-x),M<0?M+=1:M>1&&(M-=1)),[360*M,100*N,100*H]},y.rgb.hwb=function(_){const x=_[0],I=_[1];let S=_[2];const M=y.rgb.hsl(_)[0],N=1/255*Math.min(x,Math.min(I,S));return S=1-.00392156862745098*Math.max(x,Math.max(I,S)),[M,100*N,100*S]},y.rgb.cmyk=function(_){const x=_[0]/255,I=_[1]/255,S=_[2]/255,M=Math.min(1-x,1-I,1-S);return[100*((1-x-M)/(1-M)||0),100*((1-I-M)/(1-M)||0),100*((1-S-M)/(1-M)||0),100*M]},y.rgb.keyword=function(_){const x=C[_];if(x)return x;let I,S=1/0;for(const j of Object.keys(v)){const L=v[j],V=(N=L,((M=_)[0]-N[0])**2+(M[1]-N[1])**2+(M[2]-N[2])**2);V<S&&(S=V,I=j)}var M,N;return I},y.keyword.rgb=function(_){return v[_]},y.rgb.xyz=function(_){let x=_[0]/255,I=_[1]/255,S=_[2]/255;return x=x>.04045?((x+.055)/1.055)**2.4:x/12.92,I=I>.04045?((I+.055)/1.055)**2.4:I/12.92,S=S>.04045?((S+.055)/1.055)**2.4:S/12.92,[100*(.4124*x+.3576*I+.1805*S),100*(.2126*x+.7152*I+.0722*S),100*(.0193*x+.1192*I+.9505*S)]},y.rgb.lab=function(_){const x=y.rgb.xyz(_);let I=x[0],S=x[1],M=x[2];return I/=95.047,S/=100,M/=108.883,I=I>.008856?I**.3333333333333333:7.787*I+.13793103448275862,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,M=M>.008856?M**.3333333333333333:7.787*M+.13793103448275862,[116*S-16,500*(I-S),200*(S-M)]},y.hsl.rgb=function(_){const x=_[0]/360,I=_[1]/100,S=_[2]/100;let M,N,j;if(I===0)return j=255*S,[j,j,j];M=S<.5?S*(1+I):S+I-S*I;const L=2*S-M,V=[0,0,0];for(let H=0;H<3;H++)N=x+.3333333333333333*-(H-1),N<0&&N++,N>1&&N--,j=6*N<1?L+6*(M-L)*N:2*N<1?M:3*N<2?L+(M-L)*(.6666666666666666-N)*6:L,V[H]=255*j;return V},y.hsl.hsv=function(_){const x=_[0];let I=_[1]/100,S=_[2]/100,M=I;const N=Math.max(S,.01);return S*=2,I*=S<=1?S:2-S,M*=N<=1?N:2-N,[x,100*(S===0?2*M/(N+M):2*I/(S+I)),100*((S+I)/2)]},y.hsv.rgb=function(_){const x=_[0]/60,I=_[1]/100;let S=_[2]/100;const M=Math.floor(x)%6,N=x-Math.floor(x),j=255*S*(1-I),L=255*S*(1-I*N),V=255*S*(1-I*(1-N));switch(S*=255,M){case 0:return[S,V,j];case 1:return[L,S,j];case 2:return[j,S,V];case 3:return[j,L,S];case 4:return[V,j,S];case 5:return[S,j,L]}},y.hsv.hsl=function(_){const x=_[0],I=_[1]/100,S=_[2]/100,M=Math.max(S,.01);let N,j;j=(2-I)*S;const L=(2-I)*M;return N=I*M,N/=L<=1?L:2-L,N=N||0,j/=2,[x,100*N,100*j]},y.hwb.rgb=function(_){const x=_[0]/360;let I=_[1]/100,S=_[2]/100;const M=I+S;let N;M>1&&(I/=M,S/=M);const j=Math.floor(6*x),L=1-S;N=6*x-j,1&j&&(N=1-N);const V=I+N*(L-I);let H,W,P;switch(j){default:case 6:case 0:H=L,W=V,P=I;break;case 1:H=V,W=L,P=I;break;case 2:H=I,W=L,P=V;break;case 3:H=I,W=V,P=L;break;case 4:H=V,W=I,P=L;break;case 5:H=L,W=I,P=V}return[255*H,255*W,255*P]},y.cmyk.rgb=function(_){const x=_[0]/100,I=_[1]/100,S=_[2]/100,M=_[3]/100;return[255*(1-Math.min(1,x*(1-M)+M)),255*(1-Math.min(1,I*(1-M)+M)),255*(1-Math.min(1,S*(1-M)+M))]},y.xyz.rgb=function(_){const x=_[0]/100,I=_[1]/100,S=_[2]/100;let M,N,j;return M=3.2406*x+-1.5372*I+-.4986*S,N=-.9689*x+1.8758*I+.0415*S,j=.0557*x+-.204*I+1.057*S,M=M>.0031308?1.055*M**.4166666666666667-.055:12.92*M,N=N>.0031308?1.055*N**.4166666666666667-.055:12.92*N,j=j>.0031308?1.055*j**.4166666666666667-.055:12.92*j,M=Math.min(Math.max(0,M),1),N=Math.min(Math.max(0,N),1),j=Math.min(Math.max(0,j),1),[255*M,255*N,255*j]},y.xyz.lab=function(_){let x=_[0],I=_[1],S=_[2];return x/=95.047,I/=100,S/=108.883,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,I=I>.008856?I**.3333333333333333:7.787*I+.13793103448275862,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,[116*I-16,500*(x-I),200*(I-S)]},y.lab.xyz=function(_){let x,I,S;I=(_[0]+16)/116,x=_[1]/500+I,S=I-_[2]/200;const M=I**3,N=x**3,j=S**3;return I=M>.008856?M:(I-.13793103448275862)/7.787,x=N>.008856?N:(x-.13793103448275862)/7.787,S=j>.008856?j:(S-.13793103448275862)/7.787,x*=95.047,I*=100,S*=108.883,[x,I,S]},y.lab.lch=function(_){const x=_[0],I=_[1],S=_[2];let M;return M=360*Math.atan2(S,I)/2/Math.PI,M<0&&(M+=360),[x,Math.sqrt(I*I+S*S),M]},y.lch.lab=function(_){const x=_[0],I=_[1],S=_[2]/360*2*Math.PI;return[x,I*Math.cos(S),I*Math.sin(S)]},y.rgb.ansi16=function(_,x=null){const[I,S,M]=_;let N=x===null?y.rgb.hsv(_)[2]:x;if(N=Math.round(N/50),N===0)return 30;let j=30+(Math.round(M/255)<<2|Math.round(S/255)<<1|Math.round(I/255));return N===2&&(j+=60),j},y.hsv.ansi16=function(_){return y.rgb.ansi16(y.hsv.rgb(_),_[2])},y.rgb.ansi256=function(_){const x=_[0],I=_[1],S=_[2];return x===I&&I===S?x<8?16:x>248?231:Math.round((x-8)/247*24)+232:16+36*Math.round(x/255*5)+6*Math.round(I/255*5)+Math.round(S/255*5)},y.ansi16.rgb=function(_){let x=_%10;if(x===0||x===7)return _>50&&(x+=3.5),x=x/10.5*255,[x,x,x];const I=.5*(1+~~(_>50));return[(1&x)*I*255,(x>>1&1)*I*255,(x>>2&1)*I*255]},y.ansi256.rgb=function(_){if(_>=232){const I=10*(_-232)+8;return[I,I,I]}let x;return _-=16,[Math.floor(_/36)/5*255,Math.floor((x=_%36)/6)/5*255,x%6/5*255]},y.rgb.hex=function(_){const x=(((255&Math.round(_[0]))<<16)+((255&Math.round(_[1]))<<8)+(255&Math.round(_[2]))).toString(16).toUpperCase();return"000000".substring(x.length)+x},y.hex.rgb=function(_){const x=_.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!x)return[0,0,0];let I=x[0];x[0].length===3&&(I=I.split("").map(M=>M+M).join(""));const S=parseInt(I,16);return[S>>16&255,S>>8&255,255&S]},y.rgb.hcg=function(_){const x=_[0]/255,I=_[1]/255,S=_[2]/255,M=Math.max(Math.max(x,I),S),N=Math.min(Math.min(x,I),S),j=M-N;let L,V;return L=j<1?N/(1-j):0,V=j<=0?0:M===x?(I-S)/j%6:M===I?2+(S-x)/j:4+(x-I)/j,V/=6,V%=1,[360*V,100*j,100*L]},y.hsl.hcg=function(_){const x=_[1]/100,I=_[2]/100,S=I<.5?2*x*I:2*x*(1-I);let M=0;return S<1&&(M=(I-.5*S)/(1-S)),[_[0],100*S,100*M]},y.hsv.hcg=function(_){const x=_[1]/100,I=_[2]/100,S=x*I;let M=0;return S<1&&(M=(I-S)/(1-S)),[_[0],100*S,100*M]},y.hcg.rgb=function(_){const x=_[0]/360,I=_[1]/100,S=_[2]/100;if(I===0)return[255*S,255*S,255*S];const M=[0,0,0],N=x%1*6,j=N%1,L=1-j;let V=0;switch(Math.floor(N)){case 0:M[0]=1,M[1]=j,M[2]=0;break;case 1:M[0]=L,M[1]=1,M[2]=0;break;case 2:M[0]=0,M[1]=1,M[2]=j;break;case 3:M[0]=0,M[1]=L,M[2]=1;break;case 4:M[0]=j,M[1]=0,M[2]=1;break;default:M[0]=1,M[1]=0,M[2]=L}return V=(1-I)*S,[255*(I*M[0]+V),255*(I*M[1]+V),255*(I*M[2]+V)]},y.hcg.hsv=function(_){const x=_[1]/100,I=x+_[2]/100*(1-x);let S=0;return I>0&&(S=x/I),[_[0],100*S,100*I]},y.hcg.hsl=function(_){const x=_[1]/100,I=_[2]/100*(1-x)+.5*x;let S=0;return I>0&&I<.5?S=x/(2*I):I>=.5&&I<1&&(S=x/(2*(1-I))),[_[0],100*S,100*I]},y.hcg.hwb=function(_){const x=_[1]/100,I=x+_[2]/100*(1-x);return[_[0],100*(I-x),100*(1-I)]},y.hwb.hcg=function(_){const x=_[1]/100,I=1-_[2]/100,S=I-x;let M=0;return S<1&&(M=(I-S)/(1-S)),[_[0],100*S,100*M]},y.apple.rgb=function(_){return[_[0]/65535*255,_[1]/65535*255,_[2]/65535*255]},y.rgb.apple=function(_){return[_[0]/255*65535,_[1]/255*65535,_[2]/255*65535]},y.gray.rgb=function(_){return[_[0]/100*255,_[0]/100*255,_[0]/100*255]},y.gray.hsl=function(_){return[0,0,_[0]]},y.gray.hsv=y.gray.hsl,y.gray.hwb=function(_){return[0,100,_[0]]},y.gray.cmyk=function(_){return[0,0,0,_[0]]},y.gray.lab=function(_){return[_[0],0,0]},y.gray.hex=function(_){const x=255&Math.round(_[0]/100*255),I=((x<<16)+(x<<8)+x).toString(16).toUpperCase();return"000000".substring(I.length)+I},y.rgb.gray=function(_){return[(_[0]+_[1]+_[2])/3/255*100]}},9047:(f,b,m)=>{const v=m(9246),C=m(802),y={};Object.keys(v).forEach(_=>{y[_]={},Object.defineProperty(y[_],"channels",{value:v[_].channels}),Object.defineProperty(y[_],"labels",{value:v[_].labels});const x=C(_);Object.keys(x).forEach(I=>{const S=x[I];y[_][I]=function(M){const N=function(...j){const L=j[0];if(L==null)return L;L.length>1&&(j=L);const V=M(j);if(typeof V=="object")for(let H=V.length,W=0;W<H;W++)V[W]=Math.round(V[W]);return V};return"conversion"in M&&(N.conversion=M.conversion),N}(S),y[_][I].raw=function(M){const N=function(...j){const L=j[0];return L==null?L:(L.length>1&&(j=L),M(j))};return"conversion"in M&&(N.conversion=M.conversion),N}(S)})}),f.exports=y},802:(f,b,m)=>{const v=m(9246);function C(x){const I=function(){const M={},N=Object.keys(v);for(let j=N.length,L=0;L<j;L++)M[N[L]]={distance:-1,parent:null};return M}(),S=[x];for(I[x].distance=0;S.length;){const M=S.pop(),N=Object.keys(v[M]);for(let j=N.length,L=0;L<j;L++){const V=N[L],H=I[V];H.distance===-1&&(H.distance=I[M].distance+1,H.parent=M,S.unshift(V))}}return I}function y(x,I){return function(S){return I(x(S))}}function _(x,I){const S=[I[x].parent,x];let M=v[I[x].parent][x],N=I[x].parent;for(;I[N].parent;)S.unshift(I[N].parent),M=y(v[I[N].parent][N],M),N=I[N].parent;return M.conversion=S,M}f.exports=function(x){const I=C(x),S={},M=Object.keys(I);for(let N=M.length,j=0;j<N;j++){const L=M[j];I[L].parent!==null&&(S[L]=_(L,I))}return S}},6931:f=>{f.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4199:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const x=_},8708:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const x=_},1866:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,':root{--ck-image-processing-highlight-color:#f9fafa;--ck-image-processing-background-color:#e3e5e8}.ck.ck-editor__editable .image.image-processing{position:relative}.ck.ck-editor__editable .image.image-processing:before{animation:ck-image-processing-animation 2s linear infinite;background:linear-gradient(90deg,var(--ck-image-processing-background-color),var(--ck-image-processing-highlight-color),var(--ck-image-processing-background-color));background-size:200% 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ck.ck-editor__editable .image.image-processing img{height:100%}@keyframes ck-image-processing-animation{0%{background-position:200% 0}to{background-position:-200% 0}}',"",{version:3,sources:["webpack://./../ckeditor5-ckbox/theme/ckboximageedit.css"],names:[],mappings:"AAKA,MAEC,6CAAyD,CACzD,8CACD,CAIE,gDACC,iBA2BD,CAzBC,uDAmBC,0DAA2D,CAR3D,oKAKC,CACD,yBAA0B,CAhB1B,UAAW,CAOX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAClB,KAAM,CAKN,UAAW,CAHX,SAcD,CAEA,oDACC,WACD,CAKH,yCACC,GACC,0BACD,CACA,GACC,2BACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Based on default CKBox theme colors */
	--ck-image-processing-highlight-color: hsl(220, 10%, 98%);
	--ck-image-processing-background-color: hsl(220, 10%, 90%);
}

.ck.ck-editor__editable {
	& .image {
		&.image-processing {
			position: relative;

			&:before {
				content: '';

				position: absolute;
				top: 0;
				left: 0;
				z-index: 1;

				height: 100%;
				width: 100%;

				background: linear-gradient(
					90deg,
					var(--ck-image-processing-background-color),
					var(--ck-image-processing-highlight-color),
					var(--ck-image-processing-background-color)
				);
				background-size: 200% 100%;

				animation: ck-image-processing-animation 2s linear infinite;
			}

			& img {
				height: 100%;
			}
		}
	}
}

@keyframes ck-image-processing-animation {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}
`],sourceRoot:""}]);const x=_},7793:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const x=_},7388:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-width:1px 1px 0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,8DCED,eDeC,CAjBA,mKCMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAcF,CAjBA,8DAOC,wCAAsB,CAAtB,sBAUD,CARC,8FACC,uBACD,CAEA,qJAEC,QACD,CAMH,yCAEC,0CAA2C,CCtB3C,eDgCD,CAZA,yHChBE,qCAAsC,CDqBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-panel);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-sticky-panel__content {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border: 1px solid var(--ck-color-base-border);
			border-bottom-width: 0;

			&.ck-sticky-panel__content_sticky {
				border-bottom-width: 1px;
			}

			& .ck-menu-bar,
			& .ck-toolbar {
				border: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=_},4098:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}@media (forced-colors:active){.ck .ck-placeholder,.ck.ck-placeholder{forced-color-adjust:preserve-parent-color}}.ck .ck-placeholder:before,.ck.ck-placeholder:before{cursor:text}@media (forced-colors:none){.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text)}}@media (forced-colors:active){.ck .ck-placeholder:before,.ck.ck-placeholder:before{font-style:italic;margin-left:1px}}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC7BC,8BACC,uCCOA,yCDLA,CACD,CCOA,qDACC,WAmBD,CDvBA,4BACC,qDCMC,6CDJD,CACD,CAZA,8BACC,qDCsBC,iBAAkB,CAMlB,eD1BD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	@mixin ck-media-forced-colors {
		/*
		 * This is needed for Edge on Windows to use the right color for the placeholder content (::before).
		 * See https://github.com/ckeditor/ckeditor5/issues/14907.
		 */
		forced-color-adjust: preserve-parent-color;
	}

	&::before {
		cursor: text;

		@mixin ck-media-default-colors {
			color: var(--ck-color-engine-placeholder-text);
		}

		@mixin ck-media-forced-colors {
			/*
			 * In the high contrast mode there is no telling between regular and placeholder text. Using
			 * italic text to address that issue. See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			font-style: italic;

			/*
			 * Without this margin, the caret will not show up and blink when the user puts the selection
			 * in the placeholder (Edge on Windows). See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			margin-left: 1px;
		}
	}
}
`],sourceRoot:""}]);const x=_},8264:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const x=_},6269:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const x=_},265:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const x=_},5247:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAYD,CAJC,8BAXD,8BAYE,sBAAuB,CACvB,WAEF,CADC,CCdA,4BACC,qEDmBA,iDCjBA,CACD,CDmBA,uCALD,qEAME,cAEF,CADC,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@media (forced-colors: active) {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	@mixin ck-media-default-colors {
		animation: ck-image-caption-highlight .6s ease-out;
	}

	@media (prefers-reduced-motion: reduce) {
		animation: none;
	}
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const x=_},4642:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-image-custom-resize-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{display:inline-block}.ck.ck-image-custom-resize-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-image-custom-resize-form{flex-wrap:wrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-image-custom-resize-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecustomresizeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,gCAIC,sBAAuB,CAHvB,YAAa,CACb,kBAAmB,CACnB,gBAsBD,CAnBC,uDACC,oBACD,CAEA,0CACC,YACD,CCbA,oCDCD,gCAeE,cAUF,CARE,uDACC,eACD,CAEA,2CACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-image-custom-resize-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: flex-start;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=_},3350:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css"],names:[],mappings:"AAMC,yDACC,YAAa,CACb,mCACD,CCFD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CAEd,qCAAsC,CADtC,UAUD,CAZA,iDAME,eAMF,CAZA,iDAUE,gBAEF,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-url {
	& .ck-image-insert-url__action-row {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-image-insert-insert-by-url-width: 250px;
}

.ck.ck-image-insert-url {
	--ck-input-width: 100%;

	& .ck-image-insert-url__action-row {
		grid-column-gap: var(--ck-spacing-large);
		margin-top: var(--ck-spacing-large);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
			min-width: auto;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}

.ck.ck-image-insert-form {
	& > .ck.ck-button {
		display: block;
		width: 100%;
		padding: var(--ck-list-button-padding);

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& > .ck.ck-collapsible {
		&:not(:first-child) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		&:not(:last-child) {
			border-bottom: 1px solid var(--ck-color-base-border);
		}

		min-width: var(--ck-image-insert-insert-by-url-width);
	}

	/* This is the case when there are no other integrations configured than insert by URL */
	& > .ck.ck-image-insert-url {
		min-width: var(--ck-image-insert-insert-by-url-width);
		padding: var(--ck-spacing-large);
	}

	&:focus {
		outline: none;
	}
}
`],sourceRoot:""}]);const x=_},7378:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageplaceholder.css"],names:[],mappings:"AAMC,8CACC,yBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& img.image_placeholder {
		background-size: 100% 100%;
	}
}
`],sourceRoot:""}]);const x=_},3469:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const x=_},6386:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const x=_},7693:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0ms}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFAqCD,CAjCC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAEA,uCA7CD,+BA8CE,sBASF,CAPE,qCACC,cAAe,CAGf,YAAc,CAFd,SAAU,CACV,UAED,CACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 0ms;

		&::after {
			animation: none;
			opacity: 1;
			width: 0.3em;
			height: 0.45em;
		}
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const x=_},1559:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const x=_},2267:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBAMD,CAJC,uCAHD,yFAKE,cAAe,CADf,SAGF,CADC,CAKF,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;

			@media (prefers-reduced-motion: reduce) {
				opacity: 1;
				animation: none;
			}
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const x=_},4062:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=_},7719:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const x=_},8762:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const x=_},3817:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-link-form{align-items:flex-start;display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBAEC,sBAAuB,CADvB,YAkBD,CAfC,2BACC,YACD,CCPA,oCDCD,iBASE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CChBD,CDwBD,iCACC,aAYD,CALE,wHAEC,mCACD,CEhCF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;
	align-items: flex-start;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const x=_},4808:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzUuNzUgMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTUuNy43IDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NHptNS40OTQtNS4zMzVhLjc1Ljc1IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NS43NSAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTVtLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,k2BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const x=_},1232:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const x=_},6903:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const x=_},9968:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const x=_},7141:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const x=_},8991:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CA4EA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAtFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqFC,CAFA,wDApEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAoEA,CAhED,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sDAYE,eAEF,CADC,CAGD,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FAxHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAuHA,CAFA,wGAtGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAsGD,CAlGA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sGAYE,eAEF,CADC,CAGD,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const x=_},70:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const x=_},7048:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSlzY2FsZSguOTgwMTIpIj48cmVjdCB3aWR0aD0iNjAuMDk5IiBoZWlnaHQ9IjYwLjA5OSIgeD0iMTc2LjAzMSIgeT0iMjMxLjM5OSIgZmlsbD0iIzM0YTY2OCIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjIzOCIgcnk9IjUuMjM4Ii8+PHBhdGggZmlsbD0iIzVjODhjNSIgZD0ibTIwNi40NzcgMjYwLjktMjguOTg3IDI4Ljk4N2E1LjIyIDUuMjIgMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiLz48cGF0aCBmaWxsPSIjZGQ0YjNlIiBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwN3EuNS43NTMuOTUgMS41MDguNTE1LjcxNS45ODggMS40NGMxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5cS40NzMtLjcyMy45ODgtMS40MzkuNDUtLjc1NS45NS0xLjUwOGMuMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIGN4PSIyMjYuNzQyIiBjeT0iMjM5LjAwMiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjgyOCIgcnk9IjUuNTY0Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjlxLS4wMDEtLjU0My0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhxLS4wMDEtLjAwMy0uMDA0LS4wMDVjLTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTVtNC40MyA1LjY2LjAwMy4wMDZ2LS4wMDN6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGZpbGw9IiNjM2MzYzMiIGQ9Im0yMTUuMTg0IDI1MS45MjktNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMiA1LjIgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjl6Ii8+PHBhdGggZmlsbD0iI2ZkZGM0ZiIgZD0ibTIxMi45ODMgMjQ4LjQ5NS0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYgMTM2IDAgMCAwLTIuNzY0LTMuOSAzOCAzOCAwIDAgMC0uOTg5LTEuNDQgMzUgMzUgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiPjxwYXRoIGZpbGw9IiNGRkZGRkUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTk2Ny40ODQgMEg1Ni41MTdDMjUuMzA0IDAgMCAyNS4zMDQgMCA1Ni41MTd2OTEwLjk2NkMwIDk5OC42OTQgMjUuMjk3IDEwMjQgNTYuNTIyIDEwMjRINTQ3VjYyOEg0MTRWNDczaDEzM1YzNTkuMDI5YzAtMTMyLjI2MiA4MC43NzMtMjA0LjI4MiAxOTguNzU2LTIwNC4yODIgNTYuNTEzIDAgMTA1LjA4NiA0LjIwOCAxMTkuMjQ0IDYuMDg5VjI5OWwtODEuNjE2LjAzN2MtNjMuOTkzIDAtNzYuMzg0IDMwLjQ5Mi03Ni4zODQgNzUuMjM2VjQ3M2gxNTMuNDg3bC0xOS45ODYgMTU1SDcwN3YzOTZoMjYwLjQ4NGMzMS4yMTMgMCA1Ni41MTYtMjUuMzAzIDU2LjUxNi01Ni41MTZWNTYuNTE1QzEwMjQgMjUuMzAzIDk5OC42OTcgMCA5NjcuNDg0IDAiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OW0wIDQ1LjM5MWM2Ny4yNjUgMCA3NS4yMzMuMjU3IDEwMS43OTcgMS40NjkgMjQuNTYyIDEuMTIgMzcuOTAxIDUuMjI0IDQ2Ljc3OCA4LjY3NCAxMS43NTkgNC41NyAyMC4xNTEgMTAuMDI5IDI4Ljk2NiAxOC44NDVzMTQuMjc1IDE3LjIwNyAxOC44NDUgMjguOTY2YzMuNDUgOC44NzcgNy41NTQgMjIuMjE2IDguNjc0IDQ2Ljc3OCAxLjIxMiAyNi41NjQgMS40NjkgMzQuNTMyIDEuNDY5IDEwMS43OTggMCA2Ny4yNjUtLjI1NyA3NS4yMzMtMS40NjkgMTAxLjc5Ny0xLjEyIDI0LjU2Mi01LjIyNCAzNy45MDEtOC42NzQgNDYuNzc4LTQuNTcgMTEuNzU5LTEwLjAyOSAyMC4xNTEtMTguODQ1IDI4Ljk2NnMtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1Yy04Ljg3NyAzLjQ1LTIyLjIxNiA3LjU1NC00Ni43NzggOC42NzQtMjYuNTYgMS4yMTItMzQuNTI3IDEuNDY5LTEwMS43OTcgMS40NjktNjcuMjcxIDAtNzUuMjM3LS4yNTctMTAxLjc5OC0xLjQ2OS0yNC41NjItMS4xMi0zNy45MDEtNS4yMjQtNDYuNzc4LTguNjc0LTExLjc1OS00LjU3LTIwLjE1MS0xMC4wMjktMjguOTY2LTE4Ljg0NXMtMTQuMjc1LTE3LjIwNy0xOC44NDUtMjguOTY2Yy0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NnMxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDVjOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OSIgbWFzaz0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0yNTEuOTIxIDMzNi4wNTNjLTQ2LjM3OCAwLTgzLjk3NC0zNy41OTYtODMuOTc0LTgzLjk3M3MzNy41OTYtODMuOTc0IDgzLjk3NC04My45NzRjNDYuMzc3IDAgODMuOTczIDM3LjU5NiA4My45NzMgODMuOTc0IDAgNDYuMzc3LTM3LjU5NiA4My45NzMtODMuOTczIDgzLjk3M20wLTIxMy4zMzhjLTcxLjQ0NyAwLTEyOS4zNjUgNTcuOTE4LTEyOS4zNjUgMTI5LjM2NSAwIDcxLjQ0NiA1Ny45MTggMTI5LjM2NCAxMjkuMzY1IDEyOS4zNjQgNzEuNDQ2IDAgMTI5LjM2NC01Ny45MTggMTI5LjM2NC0xMjkuMzY0IDAtNzEuNDQ3LTU3LjkxOC0xMjkuMzY1LTEyOS4zNjQtMTI5LjM2NU00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjNzMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzFjMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwME0xNjMuNCAzMDUuNWM4OC43IDAgMTM3LjItNzMuNSAxMzcuMi0xMzcuMiAwLTIuMSAwLTQuMi0uMS02LjIgOS40LTYuOCAxNy42LTE1LjMgMjQuMS0yNS04LjYgMy44LTE3LjkgNi40LTI3LjcgNy42IDEwLTYgMTcuNi0xNS40IDIxLjItMjYuNy05LjMgNS41LTE5LjYgOS41LTMwLjYgMTEuNy04LjgtOS40LTIxLjMtMTUuMi0zNS4yLTE1LjItMjYuNiAwLTQ4LjIgMjEuNi00OC4yIDQ4LjIgMCAzLjguNCA3LjUgMS4zIDExLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40LTQuMSA3LjEtNi41IDE1LjQtNi41IDI0LjIgMCAxNi43IDguNSAzMS41IDIxLjUgNDAuMS03LjktLjItMTUuMy0yLjQtMjEuOC02di42YzAgMjMuNCAxNi42IDQyLjggMzguNyA0Ny4zLTQgMS4xLTguMyAxLjctMTIuNyAxLjctMy4xIDAtNi4xLS4zLTkuMS0uOSA2LjEgMTkuMiAyMy45IDMzLjEgNDUgMzMuNS0xNi41IDEyLjktMzcuMyAyMC42LTU5LjkgMjAuNi0zLjkgMC03LjctLjItMTEuNS0uNyAyMS4xIDEzLjggNDYuNSAyMS44IDczLjcgMjEuOCIgc3R5bGU9ImZpbGw6I2ZmZiIvPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,goGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,o+GACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,g/BACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const x=_},5651:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=_},5506:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=_},4043:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const x=_},2655:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const x=_},5032:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAcD,CAZC,uCATD,uCAUE,eAWF,CAVC,CAEA,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const x=_},2329:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const x=_},4143:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAaD,CCxBC,8BACC,8BDoBA,sBAAuB,CACvB,WCnBA,CACD,CAIA,4BDqBC,qEACC,iDACD,CCnBD,CDsBA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@mixin ck-media-forced-colors {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	@mixin ck-media-default-colors {
		&.table__caption_highlighted {
			animation: ck-table-caption-highlight .6s ease-out;
		}
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const x=_},8986:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const x=_},8795:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const x=_},8137:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const x=_},1623:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCA6BD,CA3BC,8ECxCD,eD6DC,CArBA,mMCpCA,qCDyDA,CArBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAcD,CAXC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEAKD,CAHC,uCAlBD,8EAmBE,cAEF,CADC,CAID,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;

			@media (prefers-reduced-motion: reduce) {
				animation: none;
			}
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=_},5562:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const x=_},8423:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const x=_},1801:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}.ck.ck-aria-live-region-list{list-style-type:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names:[],mappings:"AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD,CAEA,6BACC,oBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-aria-live-announcer {
	position: absolute;
	left: -10000px;
	top: -10000px;
}

.ck.ck-aria-live-region-list {
	list-style-type: none;
}
`],sourceRoot:""}]);const x=_},5727:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-panel);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=_},9715:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}@media (prefers-reduced-motion:reduce){.ck.ck-button,a.ck.ck-button{transition:none}}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{opacity:.5}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CA9BA,iDASE,oBAqBF,CA9BA,iDAaE,qBAiBF,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEzBD,6BCAC,oDD+ID,CC5IE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eFgJD,CA/IA,wIEGE,qCF4IF,CA/IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBA0ID,CAhHC,uCA/BD,6BAgCE,eA+GF,CA9GC,CAEA,oFGpCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHyCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAWD,CAZA,6FAIE,mCAQF,CAZA,6FAQE,oCAIF,CAZA,yEAWC,UACD,CAIC,oIIxFD,oDJ4FC,CAOA,gLKnGD,kCLqGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCClIA,+CDsIA,CCnIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDmHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CClJC,mDDuJD,CCpJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDmID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";
@import "../../mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;

	@mixin ck-dir ltr {
		justify-content: left;
	}

	@mixin ck-dir rtl {
		justify-content: right;
	}

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		opacity: .5;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const x=_},4391:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{transition:none}}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eDgFA,CA5CA,yIChCC,qCD4ED,CA5CA,2DAKE,gBAuCF,CA5CA,2DAUE,iBAkCF,CA5CA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CA2BD,CAxBC,2ECxDD,eDuEC,CAfA,6LCpDA,qCAAsC,CDsDpC,8CAaF,CAfA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAUD,CAHC,uCAZD,2EAaE,eAEF,CADC,CAGD,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEpFA,kCFsFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const x=_},25:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/collapsible/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/collapsible/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,qCAAsC,CAFtC,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,gFACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-list-button-padding);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const x=_},7317:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{transition:box-shadow .2s ease}@media (forced-colors:none){.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}}@media (forced-colors:active){.ck.ck-color-grid__tile{height:unset;min-height:unset;min-width:unset;padding:0 var(--ck-spacing-small);width:unset}.ck.ck-color-grid__tile .ck-button__label{display:inline-block}}@media (prefers-reduced-motion:reduce){.ck.ck-color-grid__tile{transition:none}}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,kBACC,YACD,CCCA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,8BAkED,CC3EC,4BACC,wBDgBA,QAAS,CAJT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CAJV,oCCTA,CDgBA,8HAIC,QACD,CAEA,+DACC,gDACD,CAEA,8BACC,8FACD,CAEA,gGAEC,iGACD,CCjCD,CAZA,8BACC,wBDqDA,YAAa,CAEb,gBAAiB,CADjB,eAAgB,CAEhB,iCAAkC,CAJlC,WClDA,CDwDA,0CACC,oBACD,CCzDD,CD4DA,uCAhDD,wBAiDE,eAkBF,CAjBC,CAEA,oCACC,YAAa,CACb,gBACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAGC,0CACC,aACD,CAIF,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	transition: .2s ease box-shadow;

	@mixin ck-media-default-colors {
		width: var(--ck-color-grid-tile-size);
		height: var(--ck-color-grid-tile-size);
		min-width: var(--ck-color-grid-tile-size);
		min-height: var(--ck-color-grid-tile-size);
		padding: 0;
		border: 0;

		&.ck-on,
		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			/* Disable the default .ck-button's border ring. */
			border: 0;
		}

		&.ck-color-selector__color-tile_bordered {
			box-shadow: 0 0 0 1px var(--ck-color-base-border);
		}

		&.ck-on {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);
		}

		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
		}
	}

	/*
	 * In high contrast mode, the colors are replaced with text labels.
	 * See https://github.com/ckeditor/ckeditor5/issues/14907.
	 */
	@mixin ck-media-forced-colors {
		width: unset;
		height: unset;
		min-width: unset;
		min-height: unset;
		padding: 0 var(--ck-spacing-small);

		& .ck-button__label {
			display: inline-block;
		}
	}

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		& .ck.ck-icon {
			display: block;
		}
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const x=_},1905:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const x=_},6309:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const x=_},9819:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{box-shadow:var(--ck-drop-shadow),0 0;--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width)}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,sBAKC,QAAS,CACT,MAAO,CAJP,wBAAyB,CAEzB,cAAe,CAGf,OAAQ,CACR,KAAM,CAPN,gBAcD,CALC,qDAEC,cAAe,CACf,eAAgB,CAFhB,mBAGD,CAGD,cACC,wBAAyB,CAEzB,iBAAkB,CADlB,iBAcD,CAXC,kCACC,aAKD,CAHC,0DACC,WACD,CAVF,mEAcE,kBAEF,CC7BA,MACC,mDAA2D,CAC3D,uDAA8D,CAC9D,2BAA4B,CAC5B,2BAA4B,CAC5B,4DAA6D,CAC7D,gEACD,CAEA,sBACC,+BAAgC,CAChC,oDAAqD,CACrD,0BACD,CAEA,cCbC,eD2BD,CAdA,mECTE,qCDuBF,CAdA,cEfC,oCAA8B,CFmB9B,6CAA8C,CAE9C,4CAA6C,CAG7C,4CAA6C,CAF7C,sCAAuC,CACvC,oCAMD,CAHC,kCACC,iEACD,CAGD,6BACC,GACC,sBACD,CAEA,GACC,oDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog-overlay {
	user-select: none;
	overscroll-behavior: none;

	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	top: 0;

	&.ck-dialog-overlay__transparent {
		pointer-events: none;
		animation: none;
		background: none;
	}
}

.ck.ck-dialog {
	overscroll-behavior: none;
	width: fit-content;
	position: absolute;

	& .ck.ck-form__header  {
		flex-shrink: 0;

		& .ck-form__header__label {
			cursor: grab;
		}
	}

	@nest .ck.ck-dialog-overlay.ck-dialog-overlay__transparent & {
		pointer-events: all;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

:root {
	--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );
	--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);
	--ck-dialog-max-width: 100vw;
	--ck-dialog-max-height: 90vh;
	--ck-color-dialog-background: var(--ck-color-base-background);
	--ck-color-dialog-form-header-border: var(--ck-color-base-border);
}

.ck.ck-dialog-overlay {
	animation: ck-dialog-fade-in .3s;
	background: var(--ck-dialog-overlay-background-color);
	z-index: var(--ck-z-dialog);
}

.ck.ck-dialog {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	--ck-drop-shadow: var(--ck-dialog-drop-shadow);

	background: var(--ck-color-dialog-background);
	max-height: var(--ck-dialog-max-height);
	max-width: var(--ck-dialog-max-width);
	border: 1px solid var(--ck-color-base-border);

	& .ck.ck-form__header {
		border-bottom: 1px solid var(--ck-color-dialog-form-header-border);
	}
}

@keyframes ck-dialog-fade-in {
	0% {
		background: hsla( 0, 0%, 0%, 0 );
	}

	100% {
		background: var(--ck-dialog-overlay-background-color);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=_},9822:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialogactions.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialogactions.css"],names:[],mappings:"AAMC,qCACC,YAAa,CACb,wBAAyB,CCDzB,+BDED,CCAC,yCACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		display: flex;
		justify-content: flex-end;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		padding: var(--ck-spacing-large);

		& > * + * {
			margin-left: var(--ck-spacing-large);
		}
	}
}
`],sourceRoot:""}]);const x=_},8149:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-panel);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-panel) + 1 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=_},3629:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown > .ck-dropdown__panel > .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=_},1792:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=_},1666:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const x=_},8527:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{*{white-space:normal}}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/accessibilityhelp.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAQA,MACC,8CAA+C,CAC/C,+CAAgD,CAChD,mDAA8D,CAC9D,4DAAyE,CACzE,uDACD,CAEA,wEAOC,4BAA6B,CAJ7B,yDAA0D,CAD1D,uDAAwD,CAExD,aAAc,CAHd,+BAAgC,CAIhC,gBAgFD,CA5EC,8ECdA,2BAA2B,CCF3B,2CAA8B,CDC9B,YDkBA,CAZD,wEAcC,EACC,kBACD,CAqED,CAlEC,kFACC,YACD,CAEA,2EAEC,eAAgB,CADhB,eAED,CAEA,2EAEC,aAAc,CADd,eAED,CAEA,8SAIC,YACD,CAEA,2EAIC,kBAAmB,CADnB,qEAAsE,CAFtE,YAAa,CACb,6BAiBD,CAbC,4JACC,wEAAyE,CACzE,cACD,CAEA,8EACC,mBACD,CAEA,8EACC,mBAAoB,CACpB,gBACD,CAGD,yJAEC,oEAAqE,CAIrE,iBAAkB,CALlB,oBAAqB,CAOrB,cAAe,CAHf,aAAc,CAFd,YAAa,CAIb,iBAAkB,CAHlB,qBAKD,CAEA,6EACC,qBACD,CAEA,4EAEC,yEAA4E,CAC5E,YAAa,CAFb,eAOD,CAHC,gFACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-accessibility-help-dialog-max-width: 600px;
	--ck-accessibility-help-dialog-max-height: 400px;
	--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);
	--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);
	--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%);
}

.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content {
	padding: var(--ck-spacing-large);
	max-width: var(--ck-accessibility-help-dialog-max-width);
	max-height: var(--ck-accessibility-help-dialog-max-height);
	overflow: auto;
	user-select: text;

	border: 1px solid transparent;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	* {
		white-space: normal;
	}

	/* Hide the main label of the content container. */
	& .ck-label {
		display: none;
	}

	& h3 {
		font-weight: bold;
		font-size: 1.2em;
	}

	& h4 {
		font-weight: bold;
		font-size: 1em;
	}

	& p,
	& h3,
	& h4,
	& table {
		margin: 1em 0;
	}

	& dl {
		display: grid;
		grid-template-columns: 2fr 1fr;
		border-top: 1px solid var(--ck-accessibility-help-dialog-border-color);
		border-bottom: none;

		& dt, & dd {
			border-bottom: 1px solid var(--ck-accessibility-help-dialog-border-color);
			padding: .4em 0;
		}

		& dt {
			grid-column-start: 1;
		}

		& dd {
			grid-column-start: 2;
			text-align: right;
		}
	}

	& kbd, & code {
		display: inline-block;
		background: var(--ck-accessibility-help-dialog-code-background-color);
		padding: .4em;
		vertical-align: middle;
		line-height: 1;
		border-radius: 2px;
		text-align: center;
		font-size: .9em;
	}

	& code {
		font-family: monospace;
	}

	& kbd {
		min-width: 1.8em;
		box-shadow: 0px 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);
		margin: 0 1px;

		& + kbd {
			margin-left: 2px;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=_},1185:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=_},7913:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAmBD,CAdC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,wBAAyB,CACzB,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-form-header-height: 44px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& > .ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-medium);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-medium);
		}
	}

	& .ck-form__header__label {
		--ck-font-size-base: 15px;
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const x=_},9529:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const x=_},7621:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const x=_},253:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}@media (prefers-reduced-motion:reduce){.ck.ck-input{transition:none}}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}@media (prefers-reduced-motion:reduce){.ck.ck-input.ck-error{animation:none}}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eDmDD,CA9CA,iECDE,qCD+CF,CA9CA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DAkCD,CAhCC,uCAdD,aAeE,eA+BF,CA9BC,CAEA,mBEvBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YF2BA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BGnCD,oDHsCC,CAGD,sBAEC,sCAAuC,CADvC,+CAUD,CAPC,uCAJD,sBAKE,cAMF,CALC,CAEA,4BGjDD,iDHmDC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		@media (prefers-reduced-motion: reduce) {
			animation: none;
		}

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=_},7801:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const x=_},4962:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}@media (prefers-reduced-motion:reduce){.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transition:none}}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eDmHD,CA9GA,2FCDE,qCD+GF,CA3GC,mEACC,UAwCD,CAtCC,gFACC,KAoCD,CArCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBAgCF,CArCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAyBF,CArCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAQD,CAHC,uCAlCD,gFAmCE,eAEF,CADC,CASD,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,2XAGE,+HAYF,CAfA,2XAOE,wIAQF,CAfA,uWAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
				transform-origin: 0 0;
				/* By default, display the label scaled down above the field. */
				transform: translate(var(--ck-spacing-medium), -6px) scale(.75);
			}

			@mixin ck-dir rtl {
				right: 0px;
				transform-origin: 100% 0;
				transform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);
			}

			pointer-events: none;

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=_},5199:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.11*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item>.ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item>.ck-button{text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button{text-align:right}.ck.ck-list__item>.ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item>.ck-button:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,MACC,qJAGD,CAEA,YCLC,eDUD,CALA,+DCDE,qCDMF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UAwCD,CA1CA,uCAME,eAoCF,CA1CA,uCAUE,gBAgCF,CA1CA,6BAgBC,qCA0BD,CAxBC,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-list-button-padding:
		calc(.11 * var(--ck-line-height-base) * var(--ck-font-size-base))
		calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));
}

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& > .ck-button {
		min-height: unset;
		width: 100%;
		border-radius: 0;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding: var(--ck-list-button-padding);

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& > .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > .ck-label {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=_},497:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubar.css"],names:[],mappings:"AAKA,gBAIC,0CAA2C,CAG3C,+CAAgD,CANhD,YAAa,CACb,cAAe,CAIf,2BAA4B,CAH5B,0BAA2B,CAE3B,+BAAgC,CAGhC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar {
	display: flex;
	flex-wrap: wrap;
	justify-content: flex-start;
	background: var(--ck-color-base-background);
	padding: var(--ck-spacing-small);
	gap: var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);
	width: 100%;
}
`],sourceRoot:""}]);const x=_},4:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-menu-bar__menu{display:block;font-size:inherit;position:relative}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenu.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenu.css"],names:[],mappings:"AAKA,sBACC,aAAc,CCCd,iBAAkB,CDAlB,iBACD,CCCC,kDACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	display: block;
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	&.ck-menu-bar__menu_top-level {
		max-width: 100%;
	}
}
`],sourceRoot:""}]);const x=_},3344:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{padding:var(--ck-list-button-padding);width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAMC,mFACC,mBAAoB,CACpB,2BACD,CCIA,iDACC,qCAAsC,CACtC,UAuBD,CArBC,mEACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,+ECdD,kCDgBC,CAGC,qFACC,oCACD,CAIA,qFACC,qCACD,CAOF,6EAEC,gBAAiB,CADjB,wDAgBD,CAbC,+FAEC,iBAAkB,CADlB,WAED,CAEA,mFACC,2BAA4B,CAC5B,4BACD,CAEA,sFACC,YACD,CAMD,mFACC,eAiDD,CA/CC,yFACC,wBAAyB,CACzB,eAKD,CAHC,qGACC,0DACD,CAID,iIACC,+DACD,CAEA,qHACC,mCASD,CAVA,+HAIE,wBAMF,CAVA,+HAQE,uBAEF,CAEA,iICrFD,kCDuFC,CAGC,+HAIC,sCAAuC,CAHvC,gCAID,CAIA,+HACC,+BAAgC,CAGhC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu  {
	& > .ck-menu-bar__menu__button > .ck-menu-bar__menu__button__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-menu-bar__menu {
	/*
	 * All menu buttons.
	 */
	& > .ck-menu-bar__menu__button {
		padding: var(--ck-list-button-padding);
		width: 100%;

		& > .ck-button__label {
			flex-grow: 1;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		&.ck-disabled > .ck-button__label {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				padding-right: var(--ck-spacing-small);
			}
		}
	}

	/*
	 * Top-level menu buttons only.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__button {
		padding: var(--ck-spacing-small) var(--ck-spacing-medium);
		min-height: unset;

		& .ck-button__label {
			width: unset;
			line-height: unset;
		}

		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		& .ck-icon {
			display: none;
		}
	}

	/*
	 * Sub-menu buttons.
	 */
	&:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button {
		border-radius: 0;

		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}

		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}

		& > .ck-menu-bar__menu__button__arrow {
			width: var(--ck-dropdown-arrow-size);

			@mixin ck-dir ltr {
				transform: rotate(-90deg);
			}

			@mixin ck-dir rtl {
				transform: rotate(90deg);
			}
		}

		&.ck-disabled > .ck-menu-bar__menu__button__arrow {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			& > .ck-menu-bar__menu__button__arrow {
				right: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-left: var(--ck-spacing-standard);
			}
		}

		@mixin ck-dir rtl {
			& > .ck-menu-bar__menu__button__arrow {
				left: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-right: var(--ck-spacing-small);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const x=_},9481:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,":root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitem.css"],names:[],mappings:"AAKA,MACC,sCACD,CAEA,kDACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-item-min-width: 18em;
}

.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item {
	min-width: var(--ck-menu-bar-menu-item-min-width);
}
`],sourceRoot:""}]);const x=_},977:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__panel>ul>.ck-menu-bar__menu__item>.ck-menu-bar__menu__item__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitembutton.css"],names:[],mappings:"AASC,iEACC,eA0BD,CAxBC,0LAGC,8BACD,CAEA,uFAEC,4CAA+C,CAC/C,oCACD,CAMA,uEACC,wBAAyB,CACzB,eAKD,CAHC,mFACC,0DACD,CASD,uLACC,+DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/*
	 * List item buttons.
	 */
	& .ck-button.ck-menu-bar__menu__item__button {
		border-radius: 0;

		& > .ck-spinner-container,
		& > .ck-spinner-container .ck-spinner {
			/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */
			--ck-toolbar-spinner-size: 20px;
		}

		& > .ck-spinner-container {
			/* These margins are the same as for .ck-icon. */
			margin-left: calc(-1 * var(--ck-spacing-small));
			margin-right: var(--ck-spacing-small);
		}

		/*
		 * Hovered items automatically get focused. Default focus styles look odd
		 * while moving across a huge list of items so let's get rid of them
		 */
		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}
	}

	/*
	 * First-level sub-menu item buttons.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__panel > ul > .ck-menu-bar__menu__item > .ck-menu-bar__menu__item__button {
		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}
	}
}


`],sourceRoot:""}]);const x=_},9108:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,":root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{border-radius:0}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,iCAAkC,CAClC,+CACD,CAEA,mDAEC,2CAA4C,CAC5C,iBAAkB,CAFlB,yBAkDD,CA9CC,gLAEC,WACD,CAEA,gLAGC,WAAY,CADZ,QAED,CAEA,gLAEC,MACD,CAEA,gLAEC,OACD,CAEA,gLAEC,kEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CAEA,gLAEC,mEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CCpDD,MACC,uCACD,CAEA,mDCDC,eDmCD,CAlCA,6ICGE,qCD+BF,CAlCA,mDAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CETT,oCAA8B,CFU9B,kBAAmB,CACnB,iDA0BD,CAvBC,gLAEC,wBACD,CAEA,gLAEC,yBACD,CAEA,gLAEC,2BACD,CAEA,gLAEC,4BACD,CAEA,yDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-max-width: 75vw;
	--ck-menu-bar-nested-menu-horizontal-offset: 5px;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	z-index: var(--ck-z-panel);
	max-width: var(--ck-menu-bar-menu-max-width);
	position: absolute;

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_nw {
		bottom: 100%;
	}

	&.ck-menu-bar__menu__panel_position_se,
	&.ck-menu-bar__menu__panel_position_sw {
		top: 100%;
		bottom: auto;
	}

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_se {
		left: 0px;
	}

	&.ck-menu-bar__menu__panel_position_nw,
	&.ck-menu-bar__menu__panel_position_sw {
		right: 0px;
	}

	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_en {
		left: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_es {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_en {
		bottom: 0px;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_wn {
		right: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_ws {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_wn {
		bottom: 0px;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-menu-bar-menu-panel-max-width: 75vw;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;
	height: fit-content;
	max-width: var(--ck-menu-bar-menu-panel-max-width);

	/* Corner border radius consistent with the button. */
	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_se {
		border-top-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_sw {
		border-top-right-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_en,
	&.ck-menu-bar__menu__panel_position_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_wn,
	&.ck-menu-bar__menu__panel_position_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=_},3710:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-panel);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=_},991:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const x=_},5380:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-panel) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=_},8298:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-panel); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=_},2722:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAoED,CAlEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA+CF,CA7CE,8CACC,wDAYD,CAVC,4HAEC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDrEH",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text,
			& .ck-input-number {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const x=_},8107:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/search/search.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const x=_},109:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-spinner-container{animation-duration:3s}}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCAAsC,CADtC,qCAAsC,CADtC,oCAOD,CAHC,uCALD,yBAME,qBAEF,CADC,CAGD,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCAA6B,CAH7B,qCAAsC,CADtC,oCAKD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite rotate linear;

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 3s;
	}
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes rotate {
	to {
		transform: rotate(360deg)
	}
}
`],sourceRoot:""}]);const x=_},1671:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const x=_},2710:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const x=_},9677:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=_},9205:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100);--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAOA,gCCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,sCAAyC,CEFzC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCFJD,CEMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CAErB,eAAgB,CADhB,wCAAyC,CAFzC,wBAID,CArBD,gCAwBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-balloon-panel.ck-tooltip {
	@mixin ck-unselectable;

	z-index: calc( var(--ck-z-dialog) + 100 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
		max-width: 200px;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const x=_},7676:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck-hidden{display:none!important}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{background:transparent;border:0;box-sizing:border-box;height:auto;margin:0;padding:0;position:static;text-decoration:none;transition:none;vertical-align:middle;width:auto;word-wrap:break-word}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CAC/C,kBACD,CCDA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,wDAAiE,CACjE,4DAAmE,CAInE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CChHhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJgHD,CI1GA,2EAYC,sBAAuB,CADvB,QAAS,CART,qBAAsB,CAEtB,WAAY,CAIZ,QAAS,CACT,SAAU,CAJV,eAAgB,CAOhB,oBAAqB,CAErB,eAAgB,CADhB,qBAAsB,CAVtB,UAAW,CAcX,oBACD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCxFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-panel: calc( var(--ck-z-default) + 999 );
	--ck-z-dialog: 9999;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-panel) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Dialog -------------------------------------------------------------------------------- */

	--ck-color-dialog-background: 								var(--ck-custom-background);
	--ck-color-dialog-form-header-border: 						var(--ck-custom-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%);

	/* -- Generic colors ------------------------------------------------------------------------- */

	--ck-color-light-red:										hsl(0, 100%, 90%);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;

	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const x=_},695:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget{transition:none}}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}@media (forced-colors:none){.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background)}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CChFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAcD,CAZC,uCAND,eAOE,eAWF,CAVC,CAEA,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAYD,CARC,yGCnCA,2BAA2B,CCF3B,qCAA8B,CDC9B,YD2CA,CGvCA,4BACC,yGHoCC,iEGlCD,CACD,CHuCA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAwCD,CA3BC,uCAzBD,4EA0BE,eA0BF,CAzBC,CAEA,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAeD,CAVC,kHACC,SAAU,CAGV,+DAKD,CAHC,uCAND,kHAOE,eAEF,CADC,CAKF,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
		@mixin ck-media-default-colors {
			background-color: var(--ck-color-widget-editable-focus-background);
		}
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);

				@media (prefers-reduced-motion: reduce) {
					transition: none;
				}
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const x=_},4095:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const x=_},8508:(f,b,m)=>{m.d(b,{A:()=>x});var v=m(9372),C=m.n(v),y=m(935),_=m.n(y)()(C());_.push([f.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button svg{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button:hover,.ck .ck-widget .ck-widget__type-around__button:hover svg line,.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:none}}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAwED,CAhEC,uCATD,+CAUE,eA+DF,CA9DC,CAEA,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAwBD,CAlBC,uCAPD,mDAQE,eAiBF,CAhBC,CAEA,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DA4BD,CAtBE,kEACC,oDACD,CAEA,8DACC,wDACD,CAGD,uCAQE,qLACC,cACD,CAEF,CASD,uKA7FD,SAAU,CACV,mBA8FC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAxKD,SAAU,CACV,mBAyKC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAxNF,SAAU,CACV,mBAyNE,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}

			@media (prefers-reduced-motion: reduce) {
				animation: none;

				& svg {
					& polyline {
						animation: none;
					}

					& line {
						animation: none;
					}
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const x=_},935:f=>{f.exports=function(b){var m=[];return m.toString=function(){return this.map(function(v){var C=b(v);return v[2]?"@media ".concat(v[2]," {").concat(C,"}"):C}).join("")},m.i=function(v,C,y){typeof v=="string"&&(v=[[null,v,""]]);var _={};if(y)for(var x=0;x<this.length;x++){var I=this[x][0];I!=null&&(_[I]=!0)}for(var S=0;S<v.length;S++){var M=[].concat(v[S]);y&&_[M[0]]||(C&&(M[2]?M[2]="".concat(C," and ").concat(M[2]):M[2]=C),m.push(M))}},m}},9372:f=>{function b(v,C){return function(y){if(Array.isArray(y))return y}(v)||function(y,_){var x=y&&(typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"]);if(x!=null){var I,S,M=[],N=!0,j=!1;try{for(x=x.call(y);!(N=(I=x.next()).done)&&(M.push(I.value),!_||M.length!==_);N=!0);}catch(L){j=!0,S=L}finally{try{N||x.return==null||x.return()}finally{if(j)throw S}}return M}}(v,C)||function(y,_){if(y){if(typeof y=="string")return m(y,_);var x=Object.prototype.toString.call(y).slice(8,-1);if(x==="Object"&&y.constructor&&(x=y.constructor.name),x==="Map"||x==="Set")return Array.from(y);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return m(y,_)}}(v,C)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function m(v,C){(C==null||C>v.length)&&(C=v.length);for(var y=0,_=new Array(C);y<C;y++)_[y]=v[y];return _}f.exports=function(v){var C=b(v,4),y=C[1],_=C[3];if(!_)return y;if(typeof btoa=="function"){var x=btoa(unescape(encodeURIComponent(JSON.stringify(_)))),I="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(x),S="/*# ".concat(I," */"),M=_.sources.map(function(N){return"/*# sourceURL=".concat(_.sourceRoot||"").concat(N," */")});return[y].concat(M).concat([S]).join(`
`)}return[y].join(`
`)}},2591:(f,b,m)=>{var v,C=function(){return v===void 0&&(v=!!(window&&document&&document.all&&!window.atob)),v},y=function(){var P={};return function(U){if(P[U]===void 0){var G=document.querySelector(U);if(window.HTMLIFrameElement&&G instanceof window.HTMLIFrameElement)try{G=G.contentDocument.head}catch{G=null}P[U]=G}return P[U]}}(),_=[];function x(P){for(var U=-1,G=0;G<_.length;G++)if(_[G].identifier===P){U=G;break}return U}function I(P,U){for(var G={},Q=[],ee=0;ee<P.length;ee++){var re=P[ee],J=U.base?re[0]+U.base:re[0],X=G[J]||0,oe="".concat(J," ").concat(X);G[J]=X+1;var ie=x(oe),ce={css:re[1],media:re[2],sourceMap:re[3]};ie!==-1?(_[ie].references++,_[ie].updater(ce)):_.push({identifier:oe,updater:W(ce,U),references:1}),Q.push(oe)}return Q}function S(P){var U=document.createElement("style"),G=P.attributes||{};if(G.nonce===void 0){var Q=m.nc;Q&&(G.nonce=Q)}if(Object.keys(G).forEach(function(re){U.setAttribute(re,G[re])}),typeof P.insert=="function")P.insert(U);else{var ee=y(P.insert||"head");if(!ee)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ee.appendChild(U)}return U}var M,N=(M=[],function(P,U){return M[P]=U,M.filter(Boolean).join(`
`)});function j(P,U,G,Q){var ee=G?"":Q.media?"@media ".concat(Q.media," {").concat(Q.css,"}"):Q.css;if(P.styleSheet)P.styleSheet.cssText=N(U,ee);else{var re=document.createTextNode(ee),J=P.childNodes;J[U]&&P.removeChild(J[U]),J.length?P.insertBefore(re,J[U]):P.appendChild(re)}}function L(P,U,G){var Q=G.css,ee=G.media,re=G.sourceMap;if(ee?P.setAttribute("media",ee):P.removeAttribute("media"),re&&typeof btoa<"u"&&(Q+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(re))))," */")),P.styleSheet)P.styleSheet.cssText=Q;else{for(;P.firstChild;)P.removeChild(P.firstChild);P.appendChild(document.createTextNode(Q))}}var V=null,H=0;function W(P,U){var G,Q,ee;if(U.singleton){var re=H++;G=V||(V=S(U)),Q=j.bind(null,G,re,!1),ee=j.bind(null,G,re,!0)}else G=S(U),Q=L.bind(null,G,U),ee=function(){(function(J){if(J.parentNode===null)return!1;J.parentNode.removeChild(J)})(G)};return Q(P),function(J){if(J){if(J.css===P.css&&J.media===P.media&&J.sourceMap===P.sourceMap)return;Q(P=J)}else ee()}}f.exports=function(P,U){(U=U||{}).singleton||typeof U.singleton=="boolean"||(U.singleton=C());var G=I(P=P||[],U);return function(Q){if(Q=Q||[],Object.prototype.toString.call(Q)==="[object Array]"){for(var ee=0;ee<G.length;ee++){var re=x(G[ee]);_[re].references--}for(var J=I(Q,U),X=0;X<G.length;X++){var oe=x(G[X]);_[oe].references===0&&(_[oe].updater(),_.splice(oe,1))}G=J}}}}},c={};function d(f){var b=c[f];if(b!==void 0)return b.exports;var m=c[f]={id:f,exports:{}};return i[f](m,m.exports,d),m.exports}d.n=f=>{var b=f&&f.__esModule?()=>f.default:()=>f;return d.d(b,{a:b}),b},d.d=(f,b)=>{for(var m in b)d.o(b,m)&&!d.o(f,m)&&Object.defineProperty(f,m,{enumerable:!0,get:b[m]})},d.o=(f,b)=>Object.prototype.hasOwnProperty.call(f,b),d.nc=void 0;var h={};return(()=>{let f;d.d(h,{default:()=>Hk});try{f={window,document}}catch{f={window:{},document:{}}}const b=f,m=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var v;const C={isMac:y(m),isWindows:(v=m,v.indexOf("windows")>-1),isGecko:function(s){return!!s.match(/gecko\/\d+/)}(m),isSafari:function(s){return s.indexOf(" applewebkit/")>-1&&s.indexOf("chrome")===-1}(m),isiOS:function(s){return!!s.match(/iphone|ipad/i)||y(s)&&navigator.maxTouchPoints>0}(m),isAndroid:function(s){return s.indexOf("android")>-1}(m),isBlink:function(s){return s.indexOf("chrome/")>-1&&s.indexOf("edge/")<0}(m),get isMediaForcedColors(){return!!b.window.matchMedia&&b.window.matchMedia("(forced-colors: active)").matches},get isMotionReduced(){return!!b.window.matchMedia&&b.window.matchMedia("(prefers-reduced-motion)").matches},features:{isRegExpUnicodePropertySupported:function(){let s=!1;try{s="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return s}()}};function y(s){return s.indexOf("macintosh")>-1}function _(s,e,o,r){o=o||function(g,k){return g===k};const a=Array.isArray(s)?s:Array.prototype.slice.call(s),l=Array.isArray(e)?e:Array.prototype.slice.call(e),u=function(g,k,w){const A=x(g,k,w);if(A===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const E=I(g,A),T=I(k,A),D=x(E,T,w),B=g.length-D,z=k.length-D;return{firstIndex:A,lastIndexOld:B,lastIndexNew:z}}(a,l,o);return r?function(g,k){const{firstIndex:w,lastIndexOld:A,lastIndexNew:E}=g;if(w===-1)return Array(k).fill("equal");let T=[];return w>0&&(T=T.concat(Array(w).fill("equal"))),E-w>0&&(T=T.concat(Array(E-w).fill("insert"))),A-w>0&&(T=T.concat(Array(A-w).fill("delete"))),E<k&&(T=T.concat(Array(k-E).fill("equal"))),T}(u,l.length):function(g,k){const w=[],{firstIndex:A,lastIndexOld:E,lastIndexNew:T}=k;return T-A>0&&w.push({index:A,type:"insert",values:g.slice(A,T)}),E-A>0&&w.push({index:A+(T-A),type:"delete",howMany:E-A}),w}(l,u)}function x(s,e,o){for(let r=0;r<Math.max(s.length,e.length);r++)if(s[r]===void 0||e[r]===void 0||!o(s[r],e[r]))return r;return-1}function I(s,e){return s.slice(e).reverse()}function S(s,e,o){o=o||function(B,z){return B===z};const r=s.length,a=e.length;if(r>200||a>200||r+a>300)return S.fastDiff(s,e,o,!0);let l,u;if(a<r){const B=s;s=e,e=B,l="delete",u="insert"}else l="insert",u="delete";const p=s.length,g=e.length,k=g-p,w={},A={};function E(B){const z=(A[B-1]!==void 0?A[B-1]:-1)+1,$=A[B+1]!==void 0?A[B+1]:-1,q=z>$?-1:1;w[B+q]&&(w[B]=w[B+q].slice(0)),w[B]||(w[B]=[]),w[B].push(z>$?l:u);let Z=Math.max(z,$),ae=Z-B;for(;ae<p&&Z<g&&o(s[ae],e[Z]);)ae++,Z++,w[B].push("equal");return Z}let T,D=0;do{for(T=-D;T<k;T++)A[T]=E(T);for(T=k+D;T>k;T--)A[T]=E(T);A[k]=E(k),D++}while(A[k]!==g);return w[k].slice(1)}S.fastDiff=_;const M=function(){return function s(){s.called=!0}};class N{constructor(e,o){this.source=e,this.name=o,this.path=[],this.stop=M(),this.off=M()}}const j=new Array(256).fill("").map((s,e)=>("0"+e.toString(16)).slice(-2));function L(){const s=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,o=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+j[255&s]+j[s>>8&255]+j[s>>16&255]+j[s>>24&255]+j[255&e]+j[e>>8&255]+j[e>>16&255]+j[e>>24&255]+j[255&o]+j[o>>8&255]+j[o>>16&255]+j[o>>24&255]+j[255&r]+j[r>>8&255]+j[r>>16&255]+j[r>>24&255]}const V={get(s="normal"){return typeof s!="number"?this[s]||this.normal:s},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function H(s,e){const o=V.get(e.priority);for(let r=0;r<s.length;r++)if(V.get(s[r].priority)<o)return void s.splice(r,0,e);s.push(e)}const W="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class P extends Error{constructor(e,o,r){super(function(a,l){const u=new WeakSet,p=(w,A)=>{if(typeof A=="object"&&A!==null){if(u.has(A))return`[object ${A.constructor.name}]`;u.add(A)}return A},g=l?` ${JSON.stringify(l,p)}`:"",k=Q(a);return a+g+k}(e,r)),this.name="CKEditorError",this.context=o,this.data=r}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,o){if(e.is&&e.is("CKEditorError"))throw e;const r=new P(e.message,o);throw r.stack=e.stack,r}}function U(s,e){console.warn(...ee(s,e))}function G(s,e){console.error(...ee(s,e))}function Q(s){return`
Read more: ${W}#error-${s}`}function ee(s,e){const o=Q(s);return e?[s,e,o]:[s,o]}const re="41.4.2",J=new Date(2024,4,17);if(globalThis.CKEDITOR_VERSION)throw new P("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=re;const X=Symbol("listeningTo"),oe=Symbol("emitterId"),ie=Symbol("delegations"),ce=K(Object);function K(s){return s?class extends s{on(e,o,r){this.listenTo(this,e,o,r)}once(e,o,r){let a=!1;this.listenTo(this,e,(l,...u)=>{a||(a=!0,l.off(),o.call(this,l,...u))},r)}off(e,o){this.stopListening(this,e,o)}listenTo(e,o,r,a={}){let l,u;this[X]||(this[X]={});const p=this[X];Ae(e)||he(e);const g=Ae(e);(l=p[g])||(l=p[g]={emitter:e,callbacks:{}}),(u=l.callbacks[o])||(u=l.callbacks[o]=[]),u.push(r),function(k,w,A,E,T){w._addEventListener?w._addEventListener(A,E,T):k._addEventListener.call(w,A,E,T)}(this,e,o,r,a)}stopListening(e,o,r){const a=this[X];let l=e&&Ae(e);const u=a&&l?a[l]:void 0,p=u&&o?u.callbacks[o]:void 0;if(!(!a||e&&!u||o&&!p))if(r)nt(this,e,o,r),p.indexOf(r)!==-1&&(p.length===1?delete u.callbacks[o]:nt(this,e,o,r));else if(p){for(;r=p.pop();)nt(this,e,o,r);delete u.callbacks[o]}else if(u){for(o in u.callbacks)this.stopListening(e,o);delete a[l]}else{for(l in a)this.stopListening(a[l].emitter);delete this[X]}}fire(e,...o){try{const r=e instanceof N?e:new N(this,e),a=r.name;let l=it(this,a);if(r.path.push(this),l){const p=[r,...o];l=Array.from(l);for(let g=0;g<l.length&&(l[g].callback.apply(this,p),r.off.called&&(delete r.off.called,this._removeEventListener(a,l[g].callback)),!r.stop.called);g++);}const u=this[ie];if(u){const p=u.get(a),g=u.get("*");p&&Ne(p,r,o),g&&Ne(g,r,o)}return r.return}catch(r){P.rethrowUnexpectedError(r,this)}}delegate(...e){return{to:(o,r)=>{this[ie]||(this[ie]=new Map),e.forEach(a=>{const l=this[ie].get(a);l?l.set(o,r):this[ie].set(a,new Map([[o,r]]))})}}}stopDelegating(e,o){if(this[ie])if(e)if(o){const r=this[ie].get(e);r&&r.delete(o)}else this[ie].delete(e);else this[ie].clear()}_addEventListener(e,o,r){(function(u,p){const g=tt(u);if(g[p])return;let k=p,w=null;const A=[];for(;k!==""&&!g[k];)g[k]={callbacks:[],childEvents:[]},A.push(g[k]),w&&g[k].childEvents.push(w),w=k,k=k.substr(0,k.lastIndexOf(":"));if(k!==""){for(const E of A)E.callbacks=g[k].callbacks.slice();g[k].childEvents.push(w)}})(this,e);const a=Ke(this,e),l={callback:o,priority:V.get(r.priority)};for(const u of a)H(u,l)}_removeEventListener(e,o){const r=Ke(this,e);for(const a of r)for(let l=0;l<a.length;l++)a[l].callback==o&&(a.splice(l,1),l--)}}:ce}function he(s,e){s[oe]||(s[oe]=e||L())}function Ae(s){return s[oe]}function tt(s){return s._events||Object.defineProperty(s,"_events",{value:{}}),s._events}function Ke(s,e){const o=tt(s)[e];if(!o)return[];let r=[o.callbacks];for(let a=0;a<o.childEvents.length;a++){const l=Ke(s,o.childEvents[a]);r=r.concat(l)}return r}function it(s,e){let o;return s._events&&(o=s._events[e])&&o.callbacks.length?o.callbacks:e.indexOf(":")>-1?it(s,e.substr(0,e.lastIndexOf(":"))):null}function Ne(s,e,o){for(let[r,a]of s){a?typeof a=="function"&&(a=a(e.name)):a=e.name;const l=new N(e.source,a);l.path=[...e.path],r.fire(l,...o)}}function nt(s,e,o,r){e._removeEventListener?e._removeEventListener(o,r):s._removeEventListener.call(e,o,r)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(s=>{K[s]=ce.prototype[s]});const Te=function(s){var e=typeof s;return s!=null&&(e=="object"||e=="function")},mt=Symbol("observableProperties"),st=Symbol("boundObservables"),ot=Symbol("boundProperties"),bt=Symbol("decoratedMethods"),$e=Symbol("decoratedOriginal"),ye=Y(K());function Y(s){return s?class extends s{set(e,o){if(Te(e))return void Object.keys(e).forEach(a=>{this.set(a,e[a])},this);te(this);const r=this[mt];if(e in this&&!r.has(e))throw new P("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>r.get(e),set(a){const l=r.get(e);let u=this.fire(`set:${e}`,e,a,l);u===void 0&&(u=a),l===u&&r.has(e)||(r.set(e,u),this.fire(`change:${e}`,e,u,l))}}),this[e]=o}bind(...e){if(!e.length||!Ee(e))throw new P("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new P("observable-bind-duplicate-properties",this);te(this);const o=this[ot];e.forEach(a=>{if(o.has(a))throw new P("observable-bind-rebind",this)});const r=new Map;return e.forEach(a=>{const l={property:a,to:[]};o.set(a,l),r.set(a,l)}),{to:se,toMany:ve,_observable:this,_bindProperties:e,_to:[],_bindings:r}}unbind(...e){if(!this[mt])return;const o=this[ot],r=this[st];if(e.length){if(!Ee(e))throw new P("observable-unbind-wrong-properties",this);e.forEach(a=>{const l=o.get(a);l&&(l.to.forEach(([u,p])=>{const g=r.get(u),k=g[p];k.delete(l),k.size||delete g[p],Object.keys(g).length||(r.delete(u),this.stopListening(u,"change"))}),o.delete(a))})}else r.forEach((a,l)=>{this.stopListening(l,"change")}),r.clear(),o.clear()}decorate(e){te(this);const o=this[e];if(!o)throw new P("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(r,a)=>{r.return=o.apply(this,a)}),this[e]=function(...r){return this.fire(e,r)},this[e][$e]=o,this[bt]||(this[bt]=[]),this[bt].push(e)}stopListening(e,o,r){if(!e&&this[bt]){for(const a of this[bt])this[a]=this[a][$e];delete this[bt]}super.stopListening(e,o,r)}}:ye}function te(s){s[mt]||(Object.defineProperty(s,mt,{value:new Map}),Object.defineProperty(s,st,{value:new Map}),Object.defineProperty(s,ot,{value:new Map}))}function se(...s){const e=function(...l){if(!l.length)throw new P("observable-bind-to-parse-error",null);const u={to:[]};let p;return typeof l[l.length-1]=="function"&&(u.callback=l.pop()),l.forEach(g=>{if(typeof g=="string")p.properties.push(g);else{if(typeof g!="object")throw new P("observable-bind-to-parse-error",null);p={observable:g,properties:[]},u.to.push(p)}}),u}(...s),o=Array.from(this._bindings.keys()),r=o.length;if(!e.callback&&e.to.length>1)throw new P("observable-bind-to-no-callback",this);if(r>1&&e.callback)throw new P("observable-bind-to-extra-callback",this);var a;e.to.forEach(l=>{if(l.properties.length&&l.properties.length!==r)throw new P("observable-bind-to-properties-length",this);l.properties.length||(l.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(o[0]).callback=e.callback),a=this._observable,this._to.forEach(l=>{const u=a[st];let p;u.get(l.observable)||a.listenTo(l.observable,"change",(g,k)=>{p=u.get(l.observable)[k],p&&p.forEach(w=>{He(a,w.property)})})}),function(l){let u;l._bindings.forEach((p,g)=>{l._to.forEach(k=>{u=k.properties[p.callback?0:l._bindProperties.indexOf(g)],p.to.push([k.observable,u]),function(w,A,E,T){const D=w[st],B=D.get(E),z=B||{};z[T]||(z[T]=new Set),z[T].add(A),B||D.set(E,z)}(l._observable,p,k.observable,u)})})}(this),this._bindProperties.forEach(l=>{He(this._observable,l)})}function ve(s,e,o){if(this._bindings.size>1)throw new P("observable-bind-to-many-not-one-binding",this);this.to(...function(r,a){const l=r.map(u=>[u,a]);return Array.prototype.concat.apply([],l)}(s,e),o)}function Ee(s){return s.every(e=>typeof e=="string")}function He(s,e){const o=s[ot].get(e);let r;o.callback?r=o.callback.apply(s,o.to.map(a=>a[0][a[1]])):(r=o.to[0],r=r[0][r[1]]),Object.prototype.hasOwnProperty.call(s,e)?s[e]=r:s.set(e,r)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(s=>{Y[s]=ye.prototype[s]});class Dt{constructor(){this._replacedElements=[]}replace(e,o){this._replacedElements.push({element:e,newElement:o}),e.style.display="none",o&&e.parentNode.insertBefore(o,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:o})=>{e.style.display="",o&&o.remove()}),this._replacedElements=[]}}function Ze(s){let e=0;for(const o of s)e++;return e}function De(s,e){const o=Math.min(s.length,e.length);for(let r=0;r<o;r++)if(s[r]!=e[r])return r;return s.length==e.length?"same":s.length<e.length?"prefix":"extension"}function Ye(s){return!(!s||!s[Symbol.iterator])}const qe=typeof gp=="object"&&gp&&gp.Object===Object&&gp;var je=typeof self=="object"&&self&&self.Object===Object&&self;const ut=qe||je||Function("return this")(),zt=ut.Symbol;var In=Object.prototype,kt=In.hasOwnProperty,Be=In.toString,Ht=zt?zt.toStringTag:void 0;const ri=function(s){var e=kt.call(s,Ht),o=s[Ht];try{s[Ht]=void 0;var r=!0}catch{}var a=Be.call(s);return r&&(e?s[Ht]=o:delete s[Ht]),a};var vo=Object.prototype.toString;const Me=function(s){return vo.call(s)};var yt=zt?zt.toStringTag:void 0;const xt=function(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":yt&&yt in Object(s)?ri(s):Me(s)},Wt=Array.isArray,Cn=function(s){return s!=null&&typeof s=="object"},Jc=function(s){return typeof s=="string"||!Wt(s)&&Cn(s)&&xt(s)=="[object String]"};function ro(s,e,o={},r=[]){const a=o&&o.xmlns,l=a?s.createElementNS(a,e):s.createElement(e);for(const u in o)l.setAttribute(u,o[u]);!Jc(r)&&Ye(r)||(r=[r]);for(let u of r)Jc(u)&&(u=s.createTextNode(u)),l.appendChild(u);return l}const Fu=function(s,e){return function(o){return s(e(o))}},Xc=Fu(Object.getPrototypeOf,Object);var Vu=Function.prototype,$u=Object.prototype,el=Vu.toString,Uu=$u.hasOwnProperty,Mm=el.call(Object);const to=function(s){if(!Cn(s)||xt(s)!="[object Object]")return!1;var e=Xc(s);if(e===null)return!0;var o=Uu.call(e,"constructor")&&e.constructor;return typeof o=="function"&&o instanceof o&&el.call(o)==Mm},Pm=function(){this.__data__=[],this.size=0},Wi=function(s,e){return s===e||s!=s&&e!=e},da=function(s,e){for(var o=s.length;o--;)if(Wi(s[o][0],e))return o;return-1};var ss=Array.prototype.splice;const tl=function(s){var e=this.__data__,o=da(e,s);return!(o<0)&&(o==e.length-1?e.pop():ss.call(e,o,1),--this.size,!0)},_o=function(s){var e=this.__data__,o=da(e,s);return o<0?void 0:e[o][1]},as=function(s){return da(this.__data__,s)>-1},Rm=function(s,e){var o=this.__data__,r=da(o,s);return r<0?(++this.size,o.push([s,e])):o[r][1]=e,this};function No(s){var e=-1,o=s==null?0:s.length;for(this.clear();++e<o;){var r=s[e];this.set(r[0],r[1])}}No.prototype.clear=Pm,No.prototype.delete=tl,No.prototype.get=_o,No.prototype.has=as,No.prototype.set=Rm;const Cr=No,Hu=function(){this.__data__=new Cr,this.size=0},Wu=function(s){var e=this.__data__,o=e.delete(s);return this.size=e.size,o},qu=function(s){return this.__data__.get(s)},Gu=function(s){return this.__data__.has(s)},qi=function(s){if(!Te(s))return!1;var e=xt(s);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},nl=ut["__core-js_shared__"];var Ku=function(){var s=/[^.]+$/.exec(nl&&nl.keys&&nl.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}();const Bm=function(s){return!!Ku&&Ku in s};var lt=Function.prototype.toString;const dn=function(s){if(s!=null){try{return lt.call(s)}catch{}try{return s+""}catch{}}return""};var iL=/^\[object .+?Constructor\]$/,rL=Function.prototype,sL=Object.prototype,aL=rL.toString,cL=sL.hasOwnProperty,lL=RegExp("^"+aL.call(cL).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const dL=function(s){return!(!Te(s)||Bm(s))&&(qi(s)?lL:iL).test(dn(s))},uL=function(s,e){return s==null?void 0:s[e]},cs=function(s,e){var o=uL(s,e);return dL(o)?o:void 0},ol=cs(ut,"Map"),il=cs(Object,"create"),hL=function(){this.__data__=il?il(null):{},this.size=0},pL=function(s){var e=this.has(s)&&delete this.__data__[s];return this.size-=e?1:0,e};var fL=Object.prototype.hasOwnProperty;const gL=function(s){var e=this.__data__;if(il){var o=e[s];return o==="__lodash_hash_undefined__"?void 0:o}return fL.call(e,s)?e[s]:void 0};var mL=Object.prototype.hasOwnProperty;const bL=function(s){var e=this.__data__;return il?e[s]!==void 0:mL.call(e,s)},kL=function(s,e){var o=this.__data__;return this.size+=this.has(s)?0:1,o[s]=il&&e===void 0?"__lodash_hash_undefined__":e,this};function ua(s){var e=-1,o=s==null?0:s.length;for(this.clear();++e<o;){var r=s[e];this.set(r[0],r[1])}}ua.prototype.clear=hL,ua.prototype.delete=pL,ua.prototype.get=gL,ua.prototype.has=bL,ua.prototype.set=kL;const wC=ua,wL=function(){this.size=0,this.__data__={hash:new wC,map:new(ol||Cr),string:new wC}},vL=function(s){var e=typeof s;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?s!=="__proto__":s===null},Yu=function(s,e){var o=s.__data__;return vL(e)?o[typeof e=="string"?"string":"hash"]:o.map},_L=function(s){var e=Yu(this,s).delete(s);return this.size-=e?1:0,e},CL=function(s){return Yu(this,s).get(s)},AL=function(s){return Yu(this,s).has(s)},yL=function(s,e){var o=Yu(this,s),r=o.size;return o.set(s,e),this.size+=o.size==r?0:1,this};function ha(s){var e=-1,o=s==null?0:s.length;for(this.clear();++e<o;){var r=s[e];this.set(r[0],r[1])}}ha.prototype.clear=wL,ha.prototype.delete=_L,ha.prototype.get=CL,ha.prototype.has=AL,ha.prototype.set=yL;const Qu=ha,xL=function(s,e){var o=this.__data__;if(o instanceof Cr){var r=o.__data__;if(!ol||r.length<199)return r.push([s,e]),this.size=++o.size,this;o=this.__data__=new Qu(r)}return o.set(s,e),this.size=o.size,this};function pa(s){var e=this.__data__=new Cr(s);this.size=e.size}pa.prototype.clear=Hu,pa.prototype.delete=Wu,pa.prototype.get=qu,pa.prototype.has=Gu,pa.prototype.set=xL;const fa=pa,EL=function(s,e){for(var o=-1,r=s==null?0:s.length;++o<r&&e(s[o],o,s)!==!1;);return s},Zu=function(){try{var s=cs(Object,"defineProperty");return s({},"",{}),s}catch{}}(),Ju=function(s,e,o){e=="__proto__"&&Zu?Zu(s,e,{configurable:!0,enumerable:!0,value:o,writable:!0}):s[e]=o};var TL=Object.prototype.hasOwnProperty;const Nm=function(s,e,o){var r=s[e];TL.call(s,e)&&Wi(r,o)&&(o!==void 0||e in s)||Ju(s,e,o)},ga=function(s,e,o,r){var a=!o;o||(o={});for(var l=-1,u=e.length;++l<u;){var p=e[l],g=void 0;g===void 0&&(g=s[p]),a?Ju(o,p,g):Nm(o,p,g)}return o},IL=function(s,e){for(var o=-1,r=Array(s);++o<s;)r[o]=e(o);return r},vC=function(s){return Cn(s)&&xt(s)=="[object Arguments]"};var _C=Object.prototype,SL=_C.hasOwnProperty,DL=_C.propertyIsEnumerable;const Xu=vC(function(){return arguments}())?vC:function(s){return Cn(s)&&SL.call(s,"callee")&&!DL.call(s,"callee")},ML=function(){return!1};var CC=t&&!t.nodeType&&t,AC=CC&&!0&&n&&!n.nodeType&&n,yC=AC&&AC.exports===CC?ut.Buffer:void 0;const rl=(yC?yC.isBuffer:void 0)||ML;var PL=/^(?:0|[1-9]\d*)$/;const eh=function(s,e){var o=typeof s;return!!(e=e??9007199254740991)&&(o=="number"||o!="symbol"&&PL.test(s))&&s>-1&&s%1==0&&s<e},Om=function(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=9007199254740991};var qt={};qt["[object Float32Array]"]=qt["[object Float64Array]"]=qt["[object Int8Array]"]=qt["[object Int16Array]"]=qt["[object Int32Array]"]=qt["[object Uint8Array]"]=qt["[object Uint8ClampedArray]"]=qt["[object Uint16Array]"]=qt["[object Uint32Array]"]=!0,qt["[object Arguments]"]=qt["[object Array]"]=qt["[object ArrayBuffer]"]=qt["[object Boolean]"]=qt["[object DataView]"]=qt["[object Date]"]=qt["[object Error]"]=qt["[object Function]"]=qt["[object Map]"]=qt["[object Number]"]=qt["[object Object]"]=qt["[object RegExp]"]=qt["[object Set]"]=qt["[object String]"]=qt["[object WeakMap]"]=!1;const RL=function(s){return Cn(s)&&Om(s.length)&&!!qt[xt(s)]},Lm=function(s){return function(e){return s(e)}};var xC=t&&!t.nodeType&&t,sl=xC&&!0&&n&&!n.nodeType&&n,jm=sl&&sl.exports===xC&&qe.process;const ma=function(){try{var s=sl&&sl.require&&sl.require("util").types;return s||jm&&jm.binding&&jm.binding("util")}catch{}}();var EC=ma&&ma.isTypedArray;const zm=EC?Lm(EC):RL;var BL=Object.prototype.hasOwnProperty;const TC=function(s,e){var o=Wt(s),r=!o&&Xu(s),a=!o&&!r&&rl(s),l=!o&&!r&&!a&&zm(s),u=o||r||a||l,p=u?IL(s.length,String):[],g=p.length;for(var k in s)!e&&!BL.call(s,k)||u&&(k=="length"||a&&(k=="offset"||k=="parent")||l&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||eh(k,g))||p.push(k);return p};var NL=Object.prototype;const Fm=function(s){var e=s&&s.constructor;return s===(typeof e=="function"&&e.prototype||NL)},OL=Fu(Object.keys,Object);var LL=Object.prototype.hasOwnProperty;const jL=function(s){if(!Fm(s))return OL(s);var e=[];for(var o in Object(s))LL.call(s,o)&&o!="constructor"&&e.push(o);return e},th=function(s){return s!=null&&Om(s.length)&&!qi(s)},al=function(s){return th(s)?TC(s):jL(s)},zL=function(s,e){return s&&ga(e,al(e),s)},FL=function(s){var e=[];if(s!=null)for(var o in Object(s))e.push(o);return e};var VL=Object.prototype.hasOwnProperty;const $L=function(s){if(!Te(s))return FL(s);var e=Fm(s),o=[];for(var r in s)(r!="constructor"||!e&&VL.call(s,r))&&o.push(r);return o},ba=function(s){return th(s)?TC(s,!0):$L(s)},UL=function(s,e){return s&&ga(e,ba(e),s)};var IC=t&&!t.nodeType&&t,SC=IC&&!0&&n&&!n.nodeType&&n,DC=SC&&SC.exports===IC?ut.Buffer:void 0,MC=DC?DC.allocUnsafe:void 0;const PC=function(s,e){if(e)return s.slice();var o=s.length,r=MC?MC(o):new s.constructor(o);return s.copy(r),r},RC=function(s,e){var o=-1,r=s.length;for(e||(e=Array(r));++o<r;)e[o]=s[o];return e},HL=function(s,e){for(var o=-1,r=s==null?0:s.length,a=0,l=[];++o<r;){var u=s[o];e(u,o,s)&&(l[a++]=u)}return l},BC=function(){return[]};var WL=Object.prototype.propertyIsEnumerable,NC=Object.getOwnPropertySymbols;const Vm=NC?function(s){return s==null?[]:(s=Object(s),HL(NC(s),function(e){return WL.call(s,e)}))}:BC,qL=function(s,e){return ga(s,Vm(s),e)},OC=function(s,e){for(var o=-1,r=e.length,a=s.length;++o<r;)s[a+o]=e[o];return s},LC=Object.getOwnPropertySymbols?function(s){for(var e=[];s;)OC(e,Vm(s)),s=Xc(s);return e}:BC,GL=function(s,e){return ga(s,LC(s),e)},jC=function(s,e,o){var r=e(s);return Wt(s)?r:OC(r,o(s))},$m=function(s){return jC(s,al,Vm)},KL=function(s){return jC(s,ba,LC)},Um=cs(ut,"DataView"),Hm=cs(ut,"Promise"),Wm=cs(ut,"Set"),qm=cs(ut,"WeakMap");var zC="[object Map]",FC="[object Promise]",VC="[object Set]",$C="[object WeakMap]",UC="[object DataView]",YL=dn(Um),QL=dn(ol),ZL=dn(Hm),JL=dn(Wm),XL=dn(qm),ls=xt;(Um&&ls(new Um(new ArrayBuffer(1)))!=UC||ol&&ls(new ol)!=zC||Hm&&ls(Hm.resolve())!=FC||Wm&&ls(new Wm)!=VC||qm&&ls(new qm)!=$C)&&(ls=function(s){var e=xt(s),o=e=="[object Object]"?s.constructor:void 0,r=o?dn(o):"";if(r)switch(r){case YL:return UC;case QL:return zC;case ZL:return FC;case JL:return VC;case XL:return $C}return e});const cl=ls;var ej=Object.prototype.hasOwnProperty;const tj=function(s){var e=s.length,o=new s.constructor(e);return e&&typeof s[0]=="string"&&ej.call(s,"index")&&(o.index=s.index,o.input=s.input),o},nh=ut.Uint8Array,Gm=function(s){var e=new s.constructor(s.byteLength);return new nh(e).set(new nh(s)),e},nj=function(s,e){var o=e?Gm(s.buffer):s.buffer;return new s.constructor(o,s.byteOffset,s.byteLength)};var oj=/\w*$/;const ij=function(s){var e=new s.constructor(s.source,oj.exec(s));return e.lastIndex=s.lastIndex,e};var HC=zt?zt.prototype:void 0,WC=HC?HC.valueOf:void 0;const rj=function(s){return WC?Object(WC.call(s)):{}},qC=function(s,e){var o=e?Gm(s.buffer):s.buffer;return new s.constructor(o,s.byteOffset,s.length)},sj=function(s,e,o){var r=s.constructor;switch(e){case"[object ArrayBuffer]":return Gm(s);case"[object Boolean]":case"[object Date]":return new r(+s);case"[object DataView]":return nj(s,o);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return qC(s,o);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(s);case"[object RegExp]":return ij(s);case"[object Symbol]":return rj(s)}};var GC=Object.create;const aj=function(){function s(){}return function(e){if(!Te(e))return{};if(GC)return GC(e);s.prototype=e;var o=new s;return s.prototype=void 0,o}}(),KC=function(s){return typeof s.constructor!="function"||Fm(s)?{}:aj(Xc(s))},cj=function(s){return Cn(s)&&cl(s)=="[object Map]"};var YC=ma&&ma.isMap;const lj=YC?Lm(YC):cj,dj=function(s){return Cn(s)&&cl(s)=="[object Set]"};var QC=ma&&ma.isSet;const uj=QC?Lm(QC):dj;var ZC="[object Arguments]",JC="[object Function]",XC="[object Object]",$t={};$t[ZC]=$t["[object Array]"]=$t["[object ArrayBuffer]"]=$t["[object DataView]"]=$t["[object Boolean]"]=$t["[object Date]"]=$t["[object Float32Array]"]=$t["[object Float64Array]"]=$t["[object Int8Array]"]=$t["[object Int16Array]"]=$t["[object Int32Array]"]=$t["[object Map]"]=$t["[object Number]"]=$t[XC]=$t["[object RegExp]"]=$t["[object Set]"]=$t["[object String]"]=$t["[object Symbol]"]=$t["[object Uint8Array]"]=$t["[object Uint8ClampedArray]"]=$t["[object Uint16Array]"]=$t["[object Uint32Array]"]=!0,$t["[object Error]"]=$t[JC]=$t["[object WeakMap]"]=!1;const Km=function s(e,o,r,a,l,u){var p,g=1&o,k=2&o,w=4&o;if(r&&(p=l?r(e,a,l,u):r(e)),p!==void 0)return p;if(!Te(e))return e;var A=Wt(e);if(A){if(p=tj(e),!g)return RC(e,p)}else{var E=cl(e),T=E==JC||E=="[object GeneratorFunction]";if(rl(e))return PC(e,g);if(E==XC||E==ZC||T&&!l){if(p=k||T?{}:KC(e),!g)return k?GL(e,UL(p,e)):qL(e,zL(p,e))}else{if(!$t[E])return l?e:{};p=sj(e,E,g)}}u||(u=new fa);var D=u.get(e);if(D)return D;u.set(e,p),uj(e)?e.forEach(function(z){p.add(s(z,o,r,z,e,u))}):lj(e)&&e.forEach(function(z,$){p.set($,s(z,o,r,$,e,u))});var B=A?void 0:(w?k?KL:$m:k?ba:al)(e);return EL(B||e,function(z,$){B&&(z=e[$=z]),Nm(p,$,s(z,o,r,$,e,u))}),p},Ym=function(s,e){return Km(s,5,e=typeof e=="function"?e:void 0)},ds=function(s){return Cn(s)&&s.nodeType===1&&!to(s)};class eA{constructor(e,o){this._config={},o&&this.define(tA(o)),e&&this._setObjectToTarget(this._config,e)}set(e,o){this._setToTarget(this._config,e,o)}define(e,o){this._setToTarget(this._config,e,o,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,o,r,a=!1){if(to(o))return void this._setObjectToTarget(e,o,a);const l=o.split(".");o=l.pop();for(const u of l)to(e[u])||(e[u]={}),e=e[u];if(to(r))return to(e[o])||(e[o]={}),e=e[o],void this._setObjectToTarget(e,r,a);a&&e[o]!==void 0||(e[o]=r)}_getFromSource(e,o){const r=o.split(".");o=r.pop();for(const a of r){if(!to(e[a])){e=null;break}e=e[a]}return e?tA(e[o]):void 0}_setObjectToTarget(e,o,r){Object.keys(o).forEach(a=>{this._setToTarget(e,a,o[a],r)})}}function tA(s){return Ym(s,hj)}function hj(s){return ds(s)||typeof s=="function"?s:void 0}function Ar(s){if(s){if(s.defaultView)return s instanceof s.defaultView.Document;if(s.ownerDocument&&s.ownerDocument.defaultView)return s instanceof s.ownerDocument.defaultView.Node}return!1}function oh(s){const e=Object.prototype.toString.apply(s);return e=="[object Window]"||e=="[object global]"}const nA=Oo(K());function Oo(s){return s?class extends s{listenTo(e,o,r,a={}){if(Ar(e)||oh(e)){const l={capture:!!a.useCapture,passive:!!a.usePassive},u=this._getProxyEmitter(e,l)||new pj(e,l);this.listenTo(u,o,r,a)}else super.listenTo(e,o,r,a)}stopListening(e,o,r){if(Ar(e)||oh(e)){const a=this._getAllProxyEmitters(e);for(const l of a)this.stopListening(l,o,r)}else super.stopListening(e,o,r)}_getProxyEmitter(e,o){return function(r,a){const l=r[X];return l&&l[a]?l[a].emitter:null}(this,oA(e,o))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(o=>this._getProxyEmitter(e,o)).filter(o=>!!o)}}:nA}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(s=>{Oo[s]=nA.prototype[s]});class pj extends K(){constructor(e,o){super(),he(this,oA(e,o)),this._domNode=e,this._options=o}attach(e){if(this._domListeners&&this._domListeners[e])return;const o=this._createDomListener(e);this._domNode.addEventListener(e,o,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=o}detach(e){let o;!this._domListeners[e]||(o=this._events[e])&&o.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,o,r){this.attach(e),K().prototype._addEventListener.call(this,e,o,r)}_removeEventListener(e,o){K().prototype._removeEventListener.call(this,e,o),this.detach(e)}_createDomListener(e){const o=r=>{this.fire(e,r)};return o.removeListener=()=>{this._domNode.removeEventListener(e,o,this._options),delete this._domListeners[e]},o}}function oA(s,e){let o=function(r){return r["data-ck-expando"]||(r["data-ck-expando"]=L())}(s);for(const r of Object.keys(e).sort())e[r]&&(o+="-"+r);return o}function iA(s){const e=s.ownerDocument.defaultView.getComputedStyle(s);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function un(s){return Object.prototype.toString.call(s)=="[object Text]"}function ih(s){return Object.prototype.toString.apply(s)=="[object Range]"}function rA(s){return s&&s.parentNode?s.offsetParent===b.document.body?null:s.offsetParent:null}const sA=["top","right","bottom","left","width","height"];class dt{constructor(e){const o=ih(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),Qm(e)||o)if(o){const r=dt.getDomRangeRects(e);rh(this,dt.getBoundingRect(r))}else rh(this,e.getBoundingClientRect());else if(oh(e)){const{innerWidth:r,innerHeight:a}=e;rh(this,{top:0,right:r,bottom:a,left:0,width:r,height:a})}else rh(this,e)}clone(){return new dt(this)}moveTo(e,o){return this.top=o,this.right=e+this.width,this.bottom=o+this.height,this.left=e,this}moveBy(e,o){return this.top+=o,this.right+=e,this.left+=e,this.bottom+=o,this}getIntersection(e){const o={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(o.width=o.right-o.left,o.height=o.bottom-o.top,o.width<0||o.height<0)return null;{const r=new dt(o);return r._source=this._source,r}}getIntersectionArea(e){const o=this.getIntersection(e);return o?o.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let o=this.clone();if(aA(e))return o;let r,a=e,l=e.parentNode||e.commonAncestorContainer;for(;l&&!aA(l);){const p=((u=l)instanceof HTMLElement?u.ownerDocument.defaultView.getComputedStyle(u).overflow:"visible")==="visible";a instanceof HTMLElement&&cA(a)==="absolute"&&(r=a);const g=cA(l);if(p||r&&(g==="relative"&&p||g!=="relative")){a=l,l=l.parentNode;continue}const k=new dt(l),w=o.getIntersection(k);if(!w)return null;w.getArea()<o.getArea()&&(o=w),a=l,l=l.parentNode}var u;return o}isEqual(e){for(const o of sA)if(this[o]!==e[o])return!1;return!0}contains(e){const o=this.getIntersection(e);return!(!o||!o.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:o}=b.window,r=this.clone().moveBy(e,o);if(Qm(r._source)){const a=rA(r._source);a&&function(l,u){const p=new dt(u),g=iA(u);let k=0,w=0;k-=p.left,w-=p.top,k+=u.scrollLeft,w+=u.scrollTop,k-=g.left,w-=g.top,l.moveBy(k,w)}(r,a)}return r}excludeScrollbarsAndBorders(){const e=this._source;let o,r,a;if(oh(e))o=e.innerWidth-e.document.documentElement.clientWidth,r=e.innerHeight-e.document.documentElement.clientHeight,a=e.getComputedStyle(e.document.documentElement).direction;else{const l=iA(e);o=e.offsetWidth-e.clientWidth-l.left-l.right,r=e.offsetHeight-e.clientHeight-l.top-l.bottom,a=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=l.left,this.top+=l.top,this.right-=l.right,this.bottom-=l.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=o,a==="ltr"?this.right-=o:this.left+=o,this.height-=r,this.bottom-=r,this}static getDomRangeRects(e){const o=[],r=Array.from(e.getClientRects());if(r.length)for(const a of r)o.push(new dt(a));else{let a=e.startContainer;un(a)&&(a=a.parentNode);const l=new dt(a.getBoundingClientRect());l.right=l.left,l.width=0,o.push(l)}return o}static getBoundingRect(e){const o={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let r=0;for(const a of e)r++,o.left=Math.min(o.left,a.left),o.top=Math.min(o.top,a.top),o.right=Math.max(o.right,a.right),o.bottom=Math.max(o.bottom,a.bottom);return r==0?null:(o.width=o.right-o.left,o.height=o.bottom-o.top,new dt(o))}}function rh(s,e){for(const o of sA)s[o]=e[o]}function aA(s){return!!Qm(s)&&s===s.ownerDocument.body}function Qm(s){return s!==null&&typeof s=="object"&&s.nodeType===1&&typeof s.getBoundingClientRect=="function"}function cA(s){return s instanceof HTMLElement?s.ownerDocument.defaultView.getComputedStyle(s).position:"static"}const hn=class{constructor(s,e){hn._observerInstance||hn._createObserver(),this._element=s,this._callback=e,hn._addElementCallback(s,e),hn._observerInstance.observe(s)}get element(){return this._element}destroy(){hn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(s,e){hn._elementCallbacks||(hn._elementCallbacks=new Map);let o=hn._elementCallbacks.get(s);o||(o=new Set,hn._elementCallbacks.set(s,o)),o.add(e)}static _deleteElementCallback(s,e){const o=hn._getElementCallbacks(s);o&&(o.delete(e),o.size||(hn._elementCallbacks.delete(s),hn._observerInstance.unobserve(s))),hn._elementCallbacks&&!hn._elementCallbacks.size&&(hn._observerInstance=null,hn._elementCallbacks=null)}static _getElementCallbacks(s){return hn._elementCallbacks?hn._elementCallbacks.get(s):null}static _createObserver(){hn._observerInstance=new b.window.ResizeObserver(s=>{for(const e of s){const o=hn._getElementCallbacks(e.target);if(o)for(const r of o)r(e)}})}};let ll=hn;function lA(s,e){s instanceof HTMLTextAreaElement&&(s.value=e),s.innerHTML=e}function ka(s){return e=>e+s}function dl(s){let e=0;for(;s.previousSibling;)s=s.previousSibling,e++;return e}function dA(s,e,o){s.insertBefore(o,s.childNodes[e]||null)}function ul(s){return s&&s.nodeType===Node.COMMENT_NODE}function us(s){return!!(s&&s.getClientRects&&s.getClientRects().length)}ll._observerInstance=null,ll._elementCallbacks=null;var uA=Math.pow;function sh({element:s,target:e,positions:o,limiter:r,fitInViewport:a,viewportOffsetConfig:l}){qi(e)&&(e=e()),qi(r)&&(r=r());const u=rA(s),p=function(E){E=Object.assign({top:0,bottom:0,left:0,right:0},E);const T=new dt(b.window);return T.top+=E.top,T.height-=E.top,T.bottom-=E.bottom,T.height-=E.bottom,T}(l),g=new dt(s),k=hA(e,p);let w;if(!k||!p.getIntersection(k))return null;const A={targetRect:k,elementRect:g,positionedElementAncestor:u,viewportRect:p};if(r||a){if(r){const E=hA(r,p);E&&(A.limiterRect=E)}w=function(E,T){const{elementRect:D}=T,B=D.getArea(),z=E.map(Z=>new pA(Z,T)).filter(Z=>!!Z.name);let $=0,q=null;for(const Z of z){const{limiterIntersectionArea:ae,viewportIntersectionArea:ke}=Z;if(ae===B)return Z;const Oe=uA(ke,2)+uA(ae,2);Oe>$&&($=Oe,q=Z)}return q}(o,A)}else w=new pA(o[0],A);return w}function hA(s,e){const o=new dt(s).getVisible();return o?o.getIntersection(e):null}class pA{constructor(e,o){const r=e(o.targetRect,o.elementRect,o.viewportRect,o.limiterRect);if(!r)return;const{left:a,top:l,name:u,config:p}=r;this.name=u,this.config=p,this._positioningFunctionCoordinates={left:a,top:l},this._options=o}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function fA(s){const e=s.parentNode;e&&e.removeChild(s)}function fj({window:s,rect:e,alignToTop:o,forceScroll:r,viewportOffset:a}){const l=e.clone().moveBy(0,a.bottom),u=e.clone().moveBy(0,-a.top),p=new dt(s).excludeScrollbarsAndBorders(),g=o&&r,k=[u,l].every(D=>p.contains(D));let{scrollX:w,scrollY:A}=s;const E=w,T=A;g?A-=p.top-e.top+a.top:k||(mA(u,p)?A-=p.top-e.top+a.top:gA(l,p)&&(A+=o?e.top-p.top-a.top:e.bottom-p.bottom+a.bottom)),k||(bA(e,p)?w-=p.left-e.left+a.left:kA(e,p)&&(w+=e.right-p.right+a.right)),w==E&&A===T||s.scrollTo(w,A)}function gj({parent:s,getRect:e,alignToTop:o,forceScroll:r,ancestorOffset:a=0,limiterElement:l}){const u=Zm(s),p=o&&r;let g,k,w;const A=l||u.document.body;for(;s!=A;)k=e(),g=new dt(s).excludeScrollbarsAndBorders(),w=g.contains(k),p?s.scrollTop-=g.top-k.top+a:w||(mA(k,g)?s.scrollTop-=g.top-k.top+a:gA(k,g)&&(s.scrollTop+=o?k.top-g.top-a:k.bottom-g.bottom+a)),w||(bA(k,g)?s.scrollLeft-=g.left-k.left+a:kA(k,g)&&(s.scrollLeft+=k.right-g.right+a)),s=s.parentNode}function gA(s,e){return s.bottom>e.bottom}function mA(s,e){return s.top<e.top}function bA(s,e){return s.left<e.left}function kA(s,e){return s.right>e.right}function Zm(s){return ih(s)?s.startContainer.ownerDocument.defaultView:s.ownerDocument.defaultView}function mj(s){if(ih(s)){let e=s.commonAncestorContainer;return un(e)&&(e=e.parentNode),e}return s.parentNode}function wA(s,e){const o=Zm(s),r=new dt(s);if(o===e)return r;{let a=o;for(;a!=e;){const l=a.frameElement,u=new dt(l).excludeScrollbarsAndBorders();r.moveBy(u.left,u.top),a=a.parent}}return r}const bj={ctrl:"",cmd:"",alt:"",shift:""},kj={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},vA={37:"",38:"",39:"",40:"",9:"",33:"Page Up",34:"Page Down"},pt=function(){const s={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)s[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)s[e-48]=e;for(let e=112;e<=123;e++)s["f"+(e-111)]=e;return Object.assign(s,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),s}(),wj=Object.fromEntries(Object.entries(pt).map(([s,e])=>{let o;return o=e in vA?vA[e]:s.charAt(0).toUpperCase()+s.slice(1),[e,o]}));function wa(s){let e;if(typeof s=="string"){if(e=pt[s.toLowerCase()],!e)throw new P("keyboard-unknown-key",null,{key:s})}else e=s.keyCode+(s.altKey?pt.alt:0)+(s.ctrlKey?pt.ctrl:0)+(s.shiftKey?pt.shift:0)+(s.metaKey?pt.cmd:0);return e}function hl(s){return typeof s=="string"&&(s=function(e){return e.split("+").map(o=>o.trim())}(s)),s.map(e=>typeof e=="string"?function(o){if(o.endsWith("!"))return wa(o.slice(0,-1));const r=wa(o);return(C.isMac||C.isiOS)&&r==pt.ctrl?pt.cmd:r}(e):e).reduce((e,o)=>o+e,0)}function ah(s){let e=hl(s);return Object.entries(C.isMac||C.isiOS?bj:kj).reduce((o,[r,a])=>(e&pt[r]&&(e&=~pt[r],o+=a),o),"")+(e?wj[e]:"")}function Jm(s,e){const o=e==="ltr";switch(s){case pt.arrowleft:return o?"left":"right";case pt.arrowright:return o?"right":"left";case pt.arrowup:return"up";case pt.arrowdown:return"down"}}function Ft(s){return Array.isArray(s)?s:[s]}const Xm=function(s,e,o){(o!==void 0&&!Wi(s[e],o)||o===void 0&&!(e in s))&&Ju(s,e,o)},_A=function(s){return function(e,o,r){for(var a=-1,l=Object(e),u=r(e),p=u.length;p--;){var g=u[++a];if(o(l[g],g,l)===!1)break}return e}}(),vj=function(s){return Cn(s)&&th(s)},CA=function(s,e){if((e!=="constructor"||typeof s[e]!="function")&&e!="__proto__")return s[e]},_j=function(s){return ga(s,ba(s))},Cj=function(s,e,o,r,a,l,u){var p=CA(s,o),g=CA(e,o),k=u.get(g);if(k)Xm(s,o,k);else{var w=void 0,A=w===void 0;if(A){var E=Wt(g),T=!E&&rl(g),D=!E&&!T&&zm(g);w=g,E||T||D?Wt(p)?w=p:vj(p)?w=RC(p):T?(A=!1,w=PC(g,!0)):D?(A=!1,w=qC(g,!0)):w=[]:to(g)||Xu(g)?(w=p,Xu(p)?w=_j(p):Te(p)&&!qi(p)||(w=KC(g))):A=!1}A&&(u.set(g,w),a(w,g,r,l,u),u.delete(g)),Xm(s,o,w)}},Aj=function s(e,o,r,a,l){e!==o&&_A(o,function(u,p){if(l||(l=new fa),Te(u))Cj(e,o,p,r,s,a,l);else{var g=void 0;g===void 0&&(g=u),Xm(e,p,g)}},ba)},yr=function(s){return s},yj=function(s,e,o){switch(o.length){case 0:return s.call(e);case 1:return s.call(e,o[0]);case 2:return s.call(e,o[0],o[1]);case 3:return s.call(e,o[0],o[1],o[2])}return s.apply(e,o)};var AA=Math.max;const xj=function(s,e,o){return e=AA(e===void 0?s.length-1:e,0),function(){for(var r=arguments,a=-1,l=AA(r.length-e,0),u=Array(l);++a<l;)u[a]=r[e+a];a=-1;for(var p=Array(e+1);++a<e;)p[a]=r[a];return p[e]=o(u),yj(s,this,p)}},Ej=function(s){return function(){return s}},Tj=Zu?function(s,e){return Zu(s,"toString",{configurable:!0,enumerable:!1,value:Ej(e),writable:!0})}:yr;var Ij=Date.now;const Sj=function(s){var e=0,o=0;return function(){var r=Ij(),a=16-(r-o);if(o=r,a>0){if(++e>=800)return arguments[0]}else e=0;return s.apply(void 0,arguments)}}(Tj),Dj=function(s,e){return Sj(xj(s,e,yr),s+"")},Mj=function(s,e,o){if(!Te(o))return!1;var r=typeof e;return!!(r=="number"?th(o)&&eh(e,o.length):r=="string"&&e in o)&&Wi(o[e],s)},yA=function(s){return Dj(function(e,o){var r=-1,a=o.length,l=a>1?o[a-1]:void 0,u=a>2?o[2]:void 0;for(l=s.length>3&&typeof l=="function"?(a--,l):void 0,u&&Mj(o[0],o[1],u)&&(l=a<3?void 0:l,a=1),e=Object(e);++r<a;){var p=o[r];p&&s(e,p,r,l)}return e})},eb=yA(function(s,e,o){Aj(s,e,o)});function Pj(s,e,o=1,r){if(typeof o!="number")throw new P("translation-service-quantity-not-a-number",null,{quantity:o});const a=r||b.window.CKEDITOR_TRANSLATIONS,l=function(w){return Object.keys(w).length}(a);l===1&&(s=Object.keys(a)[0]);const u=e.id||e.string;if(l===0||!function(w,A,E){return!!E[w]&&!!E[w].dictionary[A]}(s,u,a))return o!==1?e.plural:e.string;const p=a[s].dictionary,g=a[s].getPluralForm||(w=>w===1?0:1),k=p[u];return typeof k=="string"?k:k[Number(g(o))]}b.window.CKEDITOR_TRANSLATIONS||(b.window.CKEDITOR_TRANSLATIONS={});const Rj=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function xA(s){return Rj.includes(s)?"rtl":"ltr"}class Bj{constructor({uiLanguage:e="en",contentLanguage:o,translations:r}={}){this.uiLanguage=e,this.contentLanguage=o||this.uiLanguage,this.uiLanguageDirection=xA(this.uiLanguage),this.contentLanguageDirection=xA(this.contentLanguage),this.translations=function(a){return Array.isArray(a)?a.reduce((l,u)=>eb(l,u)):a}(r),this.t=(a,l)=>this._t(a,l)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,o=[]){o=Ft(o),typeof e=="string"&&(e={string:e});const r=e.plural?o[0]:1;return function(a,l){return a.replace(/%(\d+)/g,(u,p)=>p<l.length?l[p]:u)}(Pj(this.uiLanguage,e,r,this.translations),o)}}class si extends K(){constructor(e={},o={}){super();const r=Ye(e);if(r||(o=e),this._items=[],this._itemMap=new Map,this._idProperty=o.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],r)for(const a of e)this._items.push(a),this._itemMap.set(this._getItemIdBeforeAdding(a),a)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,o){return this.addMany([e],o)}addMany(e,o){if(o===void 0)o=this._items.length;else if(o>this._items.length||o<0)throw new P("collection-add-item-invalid-index",this);let r=0;for(const a of e){const l=this._getItemIdBeforeAdding(a),u=o+r;this._items.splice(u,0,a),this._itemMap.set(l,a),this.fire("add",a,u),r++}return this.fire("change",{added:e,removed:[],index:o}),this}get(e){let o;if(typeof e=="string")o=this._itemMap.get(e);else{if(typeof e!="number")throw new P("collection-get-invalid-arg",this);o=this._items[e]}return o||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const o=e[this._idProperty];return o&&this._itemMap.has(o)}}getIndex(e){let o;return o=typeof e=="string"?this._itemMap.get(e):e,o?this._items.indexOf(o):-1}remove(e){const[o,r]=this._remove(e);return this.fire("change",{added:[],removed:[o],index:r}),o}map(e,o){return this._items.map(e,o)}forEach(e,o){this._items.forEach(e,o)}find(e,o){return this._items.find(e,o)}filter(e,o){return this._items.filter(e,o)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new P("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:o=>{this._setUpBindToBinding(r=>new o(r))},using:o=>{typeof o=="function"?this._setUpBindToBinding(o):this._setUpBindToBinding(r=>r[o])}}}_setUpBindToBinding(e){const o=this._bindToCollection,r=(a,l,u)=>{const p=o._bindToCollection==this,g=o._bindToInternalToExternalMap.get(l);if(p&&g)this._bindToExternalToInternalMap.set(l,g),this._bindToInternalToExternalMap.set(g,l);else{const k=e(l);if(!k)return void this._skippedIndexesFromExternal.push(u);let w=u;for(const A of this._skippedIndexesFromExternal)u>A&&w--;for(const A of o._skippedIndexesFromExternal)w>=A&&w++;this._bindToExternalToInternalMap.set(l,k),this._bindToInternalToExternalMap.set(k,l),this.add(k,w);for(let A=0;A<o._skippedIndexesFromExternal.length;A++)w<=o._skippedIndexesFromExternal[A]&&o._skippedIndexesFromExternal[A]++}};for(const a of o)r(0,a,o.getIndex(a));this.listenTo(o,"add",r),this.listenTo(o,"remove",(a,l,u)=>{const p=this._bindToExternalToInternalMap.get(l);p&&this.remove(p),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((g,k)=>(u<k&&g.push(k-1),u>k&&g.push(k),g),[])})}_getItemIdBeforeAdding(e){const o=this._idProperty;let r;if(o in e){if(r=e[o],typeof r!="string")throw new P("collection-add-invalid-id",this);if(this.get(r))throw new P("collection-add-item-already-exists",this)}else e[o]=r=L();return r}_remove(e){let o,r,a,l=!1;const u=this._idProperty;if(typeof e=="string"?(r=e,a=this._itemMap.get(r),l=!a,a&&(o=this._items.indexOf(a))):typeof e=="number"?(o=e,a=this._items[o],l=!a,a&&(r=a[u])):(a=e,r=a[u],o=this._items.indexOf(a),l=o==-1||!this._itemMap.get(r)),l)throw new P("collection-remove-404",this);this._items.splice(o,1),this._itemMap.delete(r);const p=this._bindToInternalToExternalMap.get(a);return this._bindToInternalToExternalMap.delete(a),this._bindToExternalToInternalMap.delete(p),this.fire("remove",a,o),[a,o]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Sn(s){const e=s.next();return e.done?null:e.value}class Dn extends Oo(Y()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new P("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class no{constructor(){this._listener=new(Oo())}listenTo(e){this._listener.listenTo(e,"keydown",(o,r)=>{this._listener.fire("_keydown:"+wa(r),r)})}set(e,o,r={}){const a=hl(e),l=r.priority;this._listener.listenTo(this._listener,"_keydown:"+a,(u,p)=>{o(p,()=>{p.preventDefault(),p.stopPropagation(),u.stop()}),u.return=!0},{priority:l})}press(e){return!!this._listener.fire("_keydown:"+wa(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function wi(s){return Ye(s)?new Map(s):function(e){const o=new Map;for(const r in e)o.set(r,e[r]);return o}(s)}function tb(s,e){let o;function r(...a){r.cancel(),o=setTimeout(()=>s(...a),e)}return r.cancel=()=>{clearTimeout(o)},r}function nb(s,e){return!!(o=s.charAt(e-1))&&o.length==1&&/[\ud800-\udbff]/.test(o)&&function(r){return!!r&&r.length==1&&/[\udc00-\udfff]/.test(r)}(s.charAt(e));var o}function ob(s,e){return!!(o=s.charAt(e))&&o.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(o);var o}const Nj=function(){const s=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,o="(?:"+s.map(r=>r.source).join("|")+")";return new RegExp(`${e}|${o}(?:${o})*`,"ug")}();function EA(s,e){const o=String(s).matchAll(Nj);return Array.from(o).some(r=>r.index<e&&e<r.index+r[0].length)}class Lo extends si{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(o,r,a)=>{this._renderViewIntoCollectionParent(r,a)}),this.on("remove",(o,r)=>{r.element&&this._parentElement&&r.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const o of this)this._renderViewIntoCollectionParent(o)}delegate(...e){if(!e.length||!e.every(o=>typeof o=="string"))throw new P("ui-viewcollection-delegate-wrong-events",this);return{to:o=>{for(const r of this)for(const a of e)r.delegate(a).to(o);this.on("add",(r,a)=>{for(const l of e)a.delegate(l).to(o)}),this.on("remove",(r,a)=>{for(const l of e)a.stopDelegating(l,o)})}}}_renderViewIntoCollectionParent(e,o){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[o])}remove(e){return super.remove(e)}}class ai extends K(){constructor(e){super(),Object.assign(this,DA(SA(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new P("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(o){if(o.children)for(const r of o.children)lh(r)?yield r:ib(r)&&(yield*e(r))}(this)}static bind(e,o){return{to:(r,a)=>new Oj({eventNameOrFunction:r,attribute:r,observable:e,emitter:o,callback:a}),if:(r,a,l)=>new TA({observable:e,emitter:o,attribute:r,valueIfTrue:a,callback:l})}}static extend(e,o){if(e._isRendered)throw new P("template-extend-render",[this,e]);BA(e,DA(SA(o)))}_renderNode(e){let o;if(o=e.node?this.tag&&this.text:this.tag?this.text:!this.text,o)throw new P("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let o=e.node;return o||(o=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),o}_renderText(e){let o=e.node;return o?e.revertData.text=o.textContent:o=e.node=document.createTextNode(""),ch(this.text)?this._bindToObservable({schema:this.text,updater:Lj(o),data:e}):o.textContent=this.text.join(""),o}_renderAttributes(e){if(!this.attributes)return;const o=e.node,r=e.revertData;for(const a in this.attributes){const l=o.getAttribute(a),u=this.attributes[a];r&&(r.attributes[a]=l);const p=NA(u)?u[0].ns:null;if(ch(u)){const g=NA(u)?u[0].value:u;r&&OA(a)&&g.unshift(l),this._bindToObservable({schema:g,updater:jj(o,a,p),data:e})}else if(a=="style"&&typeof u[0]!="string")this._renderStyleAttribute(u[0],e);else{r&&l&&OA(a)&&u.unshift(l);const g=u.map(k=>k&&k.value||k).reduce((k,w)=>k.concat(w),[]).reduce(PA,"");va(g)||o.setAttributeNS(p,a,g)}}}_renderStyleAttribute(e,o){const r=o.node;for(const a in e){const l=e[a];ch(l)?this._bindToObservable({schema:[l],updater:zj(r,a),data:o}):r.style[a]=l}}_renderElementChildren(e){const o=e.node,r=e.intoFragment?document.createDocumentFragment():o,a=e.isApplying;let l=0;for(const u of this.children)if(rb(u)){if(!a){u.setParent(o);for(const p of u)r.appendChild(p.element)}}else if(lh(u))a||(u.isRendered||u.render(),r.appendChild(u.element));else if(Ar(u))r.appendChild(u);else if(a){const p={children:[],bindings:[],attributes:{}};e.revertData.children.push(p),u._renderNode({intoFragment:!1,node:r.childNodes[l++],isApplying:!0,revertData:p})}else r.appendChild(u.render());e.intoFragment&&o.appendChild(r)}_setUpListeners(e){if(this.eventListeners)for(const o in this.eventListeners){const r=this.eventListeners[o].map(a=>{const[l,u]=o.split("@");return a.activateDomEventListener(l,u,e)});e.revertData&&e.revertData.bindings.push(r)}}_bindToObservable({schema:e,updater:o,data:r}){const a=r.revertData;IA(e,o,r);const l=e.filter(u=>!va(u)).filter(u=>u.observable).map(u=>u.activateAttributeListener(e,o,r));a&&a.bindings.push(l)}_revertTemplateFromNode(e,o){for(const a of o.bindings)for(const l of a)l();if(o.text)return void(e.textContent=o.text);const r=e;for(const a in o.attributes){const l=o.attributes[a];l===null?r.removeAttribute(a):r.setAttribute(a,l)}for(let a=0;a<o.children.length;++a)this._revertTemplateFromNode(r.childNodes[a],o.children[a])}}class pl{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const o=this.observable[this.attribute];return this.callback?this.callback(o,e):o}activateAttributeListener(e,o,r){const a=()=>IA(e,o,r);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,a),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,a)}}}class Oj extends pl{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,o,r){const a=(l,u)=>{o&&!u.target.matches(o)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(u):this.observable.fire(this.eventNameOrFunction,u))};return this.emitter.listenTo(r.node,e,a),()=>{this.emitter.stopListening(r.node,e,a)}}}class TA extends pl{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!va(super.getValue(e))&&(this.valueIfTrue||!0)}}function ch(s){return!!s&&(s.value&&(s=s.value),Array.isArray(s)?s.some(ch):s instanceof pl)}function IA(s,e,{node:o}){const r=function(l,u){return l.map(p=>p instanceof pl?p.getValue(u):p)}(s,o);let a;a=s.length==1&&s[0]instanceof TA?r[0]:r.reduce(PA,""),va(a)?e.remove():e.set(a)}function Lj(s){return{set(e){s.textContent=e},remove(){s.textContent=""}}}function jj(s,e,o){return{set(r){s.setAttributeNS(o,e,r)},remove(){s.removeAttributeNS(o,e)}}}function zj(s,e){return{set(o){s.style[e]=o},remove(){s.style[e]=null}}}function SA(s){return Ym(s,e=>{if(e&&(e instanceof pl||ib(e)||lh(e)||rb(e)))return e})}function DA(s){if(typeof s=="string"?s=function(e){return{text:[e]}}(s):s.text&&function(e){e.text=Ft(e.text)}(s),s.on&&(s.eventListeners=function(e){for(const o in e)MA(e,o);return e}(s.on),delete s.on),!s.text){s.attributes&&function(o){for(const r in o)o[r].value&&(o[r].value=Ft(o[r].value)),MA(o,r)}(s.attributes);const e=[];if(s.children)if(rb(s.children))e.push(s.children);else for(const o of s.children)ib(o)||lh(o)||Ar(o)?e.push(o):e.push(new ai(o));s.children=e}return s}function MA(s,e){s[e]=Ft(s[e])}function PA(s,e){return va(e)?s:va(s)?e:`${s} ${e}`}function RA(s,e){for(const o in e)s[o]?s[o].push(...e[o]):s[o]=e[o]}function BA(s,e){if(e.attributes&&(s.attributes||(s.attributes={}),RA(s.attributes,e.attributes)),e.eventListeners&&(s.eventListeners||(s.eventListeners={}),RA(s.eventListeners,e.eventListeners)),e.text&&s.text.push(...e.text),e.children&&e.children.length){if(s.children.length!=e.children.length)throw new P("ui-template-extend-children-mismatch",s);let o=0;for(const r of e.children)BA(s.children[o++],r)}}function va(s){return!s&&s!==0}function lh(s){return s instanceof Pe}function ib(s){return s instanceof ai}function rb(s){return s instanceof Lo}function NA(s){return Te(s[0])&&s[0].ns}function OA(s){return s=="class"||s=="style"}var Fj=d(2591),me=d.n(Fj),LA=d(7676),Vj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(LA.A,Vj),LA.A.locals;class Pe extends Oo(Y()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new si,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(o,r)=>{r.locale=e,r.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=ai.bind(this,this)}createCollection(e){const o=new Lo(e);return this._viewCollections.add(o),o}registerChild(e){Ye(e)||(e=[e]);for(const o of e)this._unboundChildren.add(o)}deregisterChild(e){Ye(e)||(e=[e]);for(const o of e)this._unboundChildren.remove(o)}setTemplate(e){this.template=new ai(e)}extendTemplate(e){ai.extend(this.template,e)}render(){if(this.isRendered)throw new P("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}function dh({emitter:s,activator:e,callback:o,contextElements:r}){s.listenTo(document,"mousedown",(a,l)=>{if(!e())return;const u=typeof l.composedPath=="function"?l.composedPath():[],p=typeof r=="function"?r():r;for(const g of p)if(g.contains(l.target)||u.includes(g))return;o()})}function sb(s){return class extends s{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...e){super(...e),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function uh({view:s}){s.listenTo(s.element,"submit",(e,o)=>{o.preventDefault(),s.fire("submit")},{useCapture:!0})}function $j({keystrokeHandler:s,focusTracker:e,gridItems:o,numberOfColumns:r,uiLanguageDirection:a}){const l=typeof r=="number"?()=>r:r;function u(k){return w=>{const A=o.find(D=>D.element===e.focusedElement),E=o.getIndex(A),T=k(E,o);o.get(T).focus(),w.stopPropagation(),w.preventDefault()}}function p(k,w){return k===w-1?0:k+1}function g(k,w){return k===0?w-1:k-1}s.set("arrowright",u((k,w)=>a==="rtl"?g(k,w.length):p(k,w.length))),s.set("arrowleft",u((k,w)=>a==="rtl"?p(k,w.length):g(k,w.length))),s.set("arrowup",u((k,w)=>{let A=k-l();return A<0&&(A=k+l()*Math.floor(w.length/l()),A>w.length-1&&(A-=l())),A})),s.set("arrowdown",u((k,w)=>{let A=k+l();return A>w.length-1&&(A=k%l()),A}))}class ue extends Y(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",jA,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",jA),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function jA(s){s.return=!1,s.stop()}class at extends Y(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",o=>{if(!this.affectsData)return;const r=e.model.document.selection,a=r.getFirstPosition().root.rootName!="$graveyard"&&e.model.canEditAt(r);(e.isReadOnly||this._isEnabledBasedOnSelection&&!a)&&(o.return=!1,o.stop())},{priority:"highest"}),this.on("execute",o=>{this.isEnabled||o.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",zA,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",zA),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function zA(s){s.return=!1,s.stop()}class FA extends at{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const o=this._getFirstEnabledCommand();return!!o&&o.execute(e)}registerChildCommand(e,o={}){H(this._childCommandsDefinitions,{command:e,priority:o.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:o})=>o.isEnabled);return e&&e.command}}class VA extends K(){constructor(e,o=[],r=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const a of o)a.pluginName&&this._availablePlugins.set(a.pluginName,a);this._contextPlugins=new Map;for(const[a,l]of r)this._contextPlugins.set(a,l),this._contextPlugins.set(l,a),a.pluginName&&this._availablePlugins.set(a.pluginName,a)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const o=this._plugins.get(e);if(!o){let r=e;throw typeof e=="function"&&(r=e.pluginName||e.name),new P("plugincollection-plugin-not-loaded",this._context,{plugin:r})}return o}has(e){return this._plugins.has(e)}init(e,o=[],r=[]){const a=this,l=this._context;(function D(B,z=new Set){B.forEach($=>{g($)&&(z.has($)||(z.add($),$.pluginName&&!a._availablePlugins.has($.pluginName)&&a._availablePlugins.set($.pluginName,$),$.requires&&D($.requires,z)))})})(e),E(e);const u=[...function D(B,z=new Set){return B.map($=>g($)?$:a._availablePlugins.get($)).reduce(($,q)=>z.has(q)?$:(z.add(q),q.requires&&(E(q.requires,q),D(q.requires,z).forEach(Z=>$.add(Z))),$.add(q)),new Set)}(e.filter(D=>!w(D,o)))];(function(D,B){for(const z of B){if(typeof z!="function")throw new P("plugincollection-replace-plugin-invalid-type",null,{pluginItem:z});const $=z.pluginName;if(!$)throw new P("plugincollection-replace-plugin-missing-name",null,{pluginItem:z});if(z.requires&&z.requires.length)throw new P("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:$});const q=a._availablePlugins.get($);if(!q)throw new P("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:$});const Z=D.indexOf(q);if(Z===-1){if(a._contextPlugins.has(q))return;throw new P("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:$})}if(q.requires&&q.requires.length)throw new P("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:$});D.splice(Z,1,z),a._availablePlugins.set($,z)}})(u,r);const p=u.map(D=>{let B=a._contextPlugins.get(D);return B=B||new D(l),a._add(D,B),B});return T(p,"init").then(()=>T(p,"afterInit")).then(()=>p);function g(D){return typeof D=="function"}function k(D){return g(D)&&!!D.isContextPlugin}function w(D,B){return B.some(z=>z===D||A(D)===z||A(z)===D)}function A(D){return g(D)?D.pluginName||D.name:D}function E(D,B=null){D.map(z=>g(z)?z:a._availablePlugins.get(z)||z).forEach(z=>{(function($,q){if(!g($))throw q?new P("plugincollection-soft-required",l,{missingPlugin:$,requiredBy:A(q)}):new P("plugincollection-plugin-not-found",l,{plugin:$})})(z,B),function($,q){if(k(q)&&!k($))throw new P("plugincollection-context-required",l,{plugin:A($),requiredBy:A(q)})}(z,B),function($,q){if(q&&w($,o))throw new P("plugincollection-required",l,{plugin:A($),requiredBy:A(q)})}(z,B)})}function T(D,B){return D.reduce((z,$)=>$[B]?a._contextPlugins.has($)?z:z.then($[B].bind($)):z,Promise.resolve())}}destroy(){const e=[];for(const[,o]of this)typeof o.destroy!="function"||this._contextPlugins.has(o)||e.push(o.destroy());return Promise.all(e)}_add(e,o){this._plugins.set(e,o);const r=e.pluginName;if(r){if(this._plugins.has(r))throw new P("plugincollection-plugin-name-conflict",null,{pluginName:r,plugin1:this._plugins.get(r).constructor,plugin2:e});this._plugins.set(r,o)}}}var $A=Object.getOwnPropertySymbols,Uj=Object.prototype.hasOwnProperty,Hj=Object.prototype.propertyIsEnumerable;class UA{constructor(e){this._contextOwner=null;const o=e||{},{translations:r}=o,a=((p,g)=>{var k={};for(var w in p)Uj.call(p,w)&&g.indexOf(w)<0&&(k[w]=p[w]);if(p!=null&&$A)for(var w of $A(p))g.indexOf(w)<0&&Hj.call(p,w)&&(k[w]=p[w]);return k})(o,["translations"]);this.config=new eA(a,this.constructor.defaultConfig);const l=this.constructor.builtinPlugins;this.config.define("plugins",l),this.plugins=new VA(this,l);const u=this.config.get("language")||{};this.locale=new Bj({uiLanguage:typeof u=="string"?u:u.ui,contentLanguage:this.config.get("language.content"),translations:r}),this.t=this.locale.t,this.editors=new si}initPlugins(){const e=this.config.get("plugins")||[],o=this.config.get("substitutePlugins")||[];for(const r of e.concat(o)){if(typeof r!="function")throw new P("context-initplugins-constructor-only",null,{Plugin:r});if(r.isContextPlugin!==!0)throw new P("context-initplugins-invalid-plugin",null,{Plugin:r})}return this.plugins.init(e,[],o)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,o){if(this._contextOwner)throw new P("context-addeditor-private-context");this.editors.add(e),o&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const o of this.config.names())["plugins","removePlugins","extraPlugins"].includes(o)||(e[o]=this.config.get(o));return e}static create(e){return new Promise(o=>{const r=new this(e);o(r.initPlugins().then(()=>r))})}}class hh extends Y(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class Wj extends no{constructor(e){super(),this.editor=e}set(e,o,r={}){if(typeof o=="string"){const a=o;o=(l,u)=>{this.editor.execute(a),u()}}super.set(e,o,r)}}var HA=d(4098),qj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(HA.A,qj),HA.A.locals;const ph=new WeakMap;let WA=!1;function qA({view:s,element:e,text:o,isDirectHost:r=!0,keepOnFocus:a=!1}){const l=s.document;function u(p){ph.get(l).set(e,{text:p,isDirectHost:r,keepOnFocus:a,hostElement:r?e:null}),s.change(g=>ab(l,g))}ph.has(l)||(ph.set(l,new Map),l.registerPostFixer(p=>ab(l,p)),l.on("change:isComposing",()=>{s.change(p=>ab(l,p))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(p,g,k)=>{u(k)}),e.placeholder?u(e.placeholder):o&&u(o),o&&function(){WA||U("enableplaceholder-deprecated-text-option"),WA=!0}()}function Gj(s,e){return!e.hasClass("ck-placeholder")&&(s.addClass("ck-placeholder",e),!0)}function Kj(s,e){return!!e.hasClass("ck-placeholder")&&(s.removeClass("ck-placeholder",e),!0)}function Yj(s,e){if(!s.isAttached()||Array.from(s.getChildren()).some(a=>!a.is("uiElement")))return!1;const o=s.document,r=o.selection.anchor;return(!o.isComposing||!r||r.parent!==s)&&(!!e||!o.isFocused||!!r&&r.parent!==s)}function ab(s,e){const o=ph.get(s),r=[];let a=!1;for(const[l,u]of o)u.isDirectHost&&(r.push(l),GA(e,l,u)&&(a=!0));for(const[l,u]of o){if(u.isDirectHost)continue;const p=Qj(l);p&&(r.includes(p)||(u.hostElement=p,GA(e,l,u)&&(a=!0)))}return a}function GA(s,e,o){const{text:r,isDirectHost:a,hostElement:l}=o;let u=!1;return l.getAttribute("data-placeholder")!==r&&(s.setAttribute("data-placeholder",r,l),u=!0),(a||e.childCount==1)&&Yj(l,o.keepOnFocus)?Gj(s,l)&&(u=!0):Kj(s,l)&&(u=!0),u}function Qj(s){if(s.childCount){const e=s.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class hs{is(){throw new Error("is() method is abstract")}}const KA=function(s){return Km(s,4)};class ps extends K(hs){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new P("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let o=this;for(;o.parent;)e.unshift(o.index),o=o.parent;return e}getAncestors(e={}){const o=[];let r=e.includeSelf?this:this.parent;for(;r;)o[e.parentFirst?"push":"unshift"](r),r=r.parent;return o}getCommonAncestor(e,o={}){const r=this.getAncestors(o),a=e.getAncestors(o);let l=0;for(;r[l]==a[l]&&r[l];)l++;return l===0?null:r[l-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const o=this.getPath(),r=e.getPath(),a=De(o,r);switch(a){case"prefix":return!0;case"extension":return!1;default:return o[a]<r[a]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,o){this.fire(`change:${e}`,o),this.parent&&this.parent._fireChange(e,o)}toJSON(){const e=KA(this);return delete e.parent,e}}ps.prototype.is=function(s){return s==="node"||s==="view:node"};class Ot extends ps{constructor(e,o){super(e),this._textData=o}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof Ot&&(this===e||this.data===e.data)}_clone(){return new Ot(this.document,this.data)}}Ot.prototype.is=function(s){return s==="$text"||s==="view:$text"||s==="text"||s==="view:text"||s==="node"||s==="view:node"};class vi extends hs{constructor(e,o,r){if(super(),this.textNode=e,o<0||o>e.data.length)throw new P("view-textproxy-wrong-offsetintext",this);if(r<0||o+r>e.data.length)throw new P("view-textproxy-wrong-length",this);this.data=e.data.substring(o,o+r),this.offsetInText=o}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const o=[];let r=e.includeSelf?this.textNode:this.parent;for(;r!==null;)o[e.parentFirst?"push":"unshift"](r),r=r.parent;return o}}vi.prototype.is=function(s){return s==="$textProxy"||s==="view:$textProxy"||s==="textProxy"||s==="view:textProxy"};class _i{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let o of e)(typeof o=="string"||o instanceof RegExp)&&(o={name:o}),this._patterns.push(o)}match(...e){for(const o of e)for(const r of this._patterns){const a=YA(o,r);if(a)return{element:o,pattern:r,match:a}}return null}matchAll(...e){const o=[];for(const r of e)for(const a of this._patterns){const l=YA(r,a);l&&o.push({element:r,pattern:a,match:l})}return o.length>0?o:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],o=e.name;return typeof e=="function"||!o||o instanceof RegExp?null:o}}function YA(s,e){if(typeof e=="function")return e(s);const o={};return e.name&&(o.name=function(r,a){return r instanceof RegExp?!!a.match(r):r===a}(e.name,s.name),!o.name)||e.attributes&&(o.attributes=function(r,a){const l=new Set(a.getAttributeKeys());return to(r)?(r.style!==void 0&&U("matcher-pattern-deprecated-attributes-style-key",r),r.class!==void 0&&U("matcher-pattern-deprecated-attributes-class-key",r)):(l.delete("style"),l.delete("class")),cb(r,l,u=>a.getAttribute(u))}(e.attributes,s),!o.attributes)||e.classes&&(o.classes=function(r,a){return cb(r,a.getClassNames(),()=>{})}(e.classes,s),!o.classes)||e.styles&&(o.styles=function(r,a){return cb(r,a.getStyleNames(!0),l=>a.getStyle(l))}(e.styles,s),!o.styles)?null:o}function cb(s,e,o){const r=function(u){return Array.isArray(u)?u.map(p=>to(p)?(p.key!==void 0&&p.value!==void 0||U("matcher-pattern-missing-key-or-value",p),[p.key,p.value]):[p,!0]):to(u)?Object.entries(u):[[u,!0]]}(s),a=Array.from(e),l=[];if(r.forEach(([u,p])=>{a.forEach(g=>{(function(k,w){return k===!0||k===w||k instanceof RegExp&&w.match(k)})(u,g)&&function(k,w,A){if(k===!0)return!0;const E=A(w);return k===E||k instanceof RegExp&&!!String(E).match(k)}(p,g,o)&&l.push(g)})}),r.length&&!(l.length<r.length))return l}const fh=function(s){return typeof s=="symbol"||Cn(s)&&xt(s)=="[object Symbol]"};var Zj=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jj=/^\w*$/;const lb=function(s,e){if(Wt(s))return!1;var o=typeof s;return!(o!="number"&&o!="symbol"&&o!="boolean"&&s!=null&&!fh(s))||Jj.test(s)||!Zj.test(s)||e!=null&&s in Object(e)};function db(s,e){if(typeof s!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var o=function(){var r=arguments,a=e?e.apply(this,r):r[0],l=o.cache;if(l.has(a))return l.get(a);var u=s.apply(this,r);return o.cache=l.set(a,u)||l,u};return o.cache=new(db.Cache||Qu),o}db.Cache=Qu;const Xj=db,ez=function(s){var e=Xj(s,function(r){return o.size===500&&o.clear(),r}),o=e.cache;return e};var tz=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nz=/\\(\\)?/g,oz=ez(function(s){var e=[];return s.charCodeAt(0)===46&&e.push(""),s.replace(tz,function(o,r,a,l){e.push(a?l.replace(nz,"$1"):r||o)}),e});const iz=oz,rz=function(s,e){for(var o=-1,r=s==null?0:s.length,a=Array(r);++o<r;)a[o]=e(s[o],o,s);return a};var QA=zt?zt.prototype:void 0,ZA=QA?QA.toString:void 0;const sz=function s(e){if(typeof e=="string")return e;if(Wt(e))return rz(e,s)+"";if(fh(e))return ZA?ZA.call(e):"";var o=e+"";return o=="0"&&1/e==-1/0?"-0":o},ub=function(s){return s==null?"":sz(s)},gh=function(s,e){return Wt(s)?s:lb(s,e)?[s]:iz(ub(s))},az=function(s){var e=s==null?0:s.length;return e?s[e-1]:void 0},_a=function(s){if(typeof s=="string"||fh(s))return s;var e=s+"";return e=="0"&&1/s==-1/0?"-0":e},hb=function(s,e){for(var o=0,r=(e=gh(e,s)).length;s!=null&&o<r;)s=s[_a(e[o++])];return o&&o==r?s:void 0},JA=function(s,e,o){var r=-1,a=s.length;e<0&&(e=-e>a?0:a+e),(o=o>a?a:o)<0&&(o+=a),a=e>o?0:o-e>>>0,e>>>=0;for(var l=Array(a);++r<a;)l[r]=s[r+e];return l},cz=function(s,e){return e.length<2?s:hb(s,JA(e,0,-1))},lz=function(s,e){return e=gh(e,s),(s=cz(s,e))==null||delete s[_a(az(e))]},dz=function(s,e){return s==null||lz(s,e)},fl=function(s,e,o){var r=s==null?void 0:hb(s,e);return r===void 0?o:r},uz=function(s,e,o,r){if(!Te(s))return s;for(var a=-1,l=(e=gh(e,s)).length,u=l-1,p=s;p!=null&&++a<l;){var g=_a(e[a]),k=o;if(g==="__proto__"||g==="constructor"||g==="prototype")return s;if(a!=u){var w=p[g];(k=void 0)==void 0&&(k=Te(w)?w:eh(e[a+1])?[]:{})}Nm(p,g,k),p=p[g]}return s},hz=function(s,e,o){return s==null?s:uz(s,e,o)};class pb{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const o=function(r){let a=null,l=0,u=0,p=null;const g=new Map;if(r==="")return g;r.charAt(r.length-1)!=";"&&(r+=";");for(let k=0;k<r.length;k++){const w=r.charAt(k);if(a===null)switch(w){case":":p||(p=r.substr(l,k-l),u=k+1);break;case'"':case"'":a=w;break;case";":{const A=r.substr(u,k-u);p&&g.set(p.trim(),A.trim()),p=null,l=k+1;break}}else w===a&&(a=null)}return g}(e);for(const[r,a]of o)this._styleProcessor.toNormalizedForm(r,a,this._styles)}has(e){if(this.isEmpty)return!1;const o=this._styleProcessor.getReducedForm(e,this._styles).find(([r])=>r===e);return Array.isArray(o)}set(e,o){if(Te(e))for(const[r,a]of Object.entries(e))this._styleProcessor.toNormalizedForm(r,a,this._styles);else this._styleProcessor.toNormalizedForm(e,o,this._styles)}remove(e){const o=fb(e);dz(this._styles,o),delete this._styles[e],this._cleanEmptyObjectsOnPath(o)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!Te(this._styles[e]))return this._styles[e];const o=this._styleProcessor.getReducedForm(e,this._styles).find(([r])=>r===e);return Array.isArray(o)?o[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([o])=>o)}clear(){this._styles={}}getStylesEntries(){const e=[],o=Object.keys(this._styles);for(const r of o)e.push(...this._styleProcessor.getReducedForm(r,this._styles));return e}_cleanEmptyObjectsOnPath(e){const o=e.split(".");if(!(o.length>1))return;const r=o.splice(0,o.length-1).join("."),a=fl(this._styles,r);a&&!Object.keys(a).length&&this.remove(r)}}class pz{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,o,r){if(Te(o))gb(r,fb(e),o);else if(this._normalizers.has(e)){const a=this._normalizers.get(e),{path:l,value:u}=a(o);gb(r,l,u)}else gb(r,e,o)}getNormalized(e,o){if(!e)return eb({},o);if(o[e]!==void 0)return o[e];if(this._extractors.has(e)){const r=this._extractors.get(e);if(typeof r=="string")return fl(o,r);const a=r(e,o);if(a)return a}return fl(o,fb(e))}getReducedForm(e,o){const r=this.getNormalized(e,o);return r===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(r):[[e,r]]}getStyleNames(e){const o=Array.from(this._consumables.keys()).filter(a=>{const l=this.getNormalized(a,e);return l&&typeof l=="object"?Object.keys(l).length:l}),r=new Set([...o,...Object.keys(e)]);return Array.from(r)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,o){this._normalizers.set(e,o)}setExtractor(e,o){this._extractors.set(e,o)}setReducer(e,o){this._reducers.set(e,o)}setStyleRelation(e,o){this._mapStyleNames(e,o);for(const r of o)this._mapStyleNames(r,[e])}_mapStyleNames(e,o){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...o)}}function fb(s){return s.replace("-",".")}function gb(s,e,o){let r=o;Te(o)&&(r=eb({},fl(s,e),o)),hz(s,e,r)}class Co extends ps{constructor(e,o,r,a){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=o,this._attrs=function(l){const u=wi(l);for(const[p,g]of u)g===null?u.delete(p):typeof g!="string"&&u.set(p,String(g));return u}(r),this._children=[],a&&this._insertChild(0,a),this._classes=new Set,this._attrs.has("class")){const l=this._attrs.get("class");XA(this._classes,l),this._attrs.delete("class")}this._styles=new pb(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const o=this._styles.toString();return o==""?void 0:o}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof Co))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[o,r]of this._attrs)if(!e._attrs.has(o)||e._attrs.get(o)!==r)return!1;for(const o of this._classes)if(!e._classes.has(o))return!1;for(const o of this._styles.getStyleNames())if(!e._styles.has(o)||e._styles.getAsString(o)!==this._styles.getAsString(o))return!1;return!0}hasClass(...e){for(const o of e)if(!this._classes.has(o))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const o of e)if(!this._styles.has(o))return!1;return!0}findAncestor(...e){const o=new _i(...e);let r=this.parent;for(;r&&!r.is("documentFragment");){if(o.match(r))return r;r=r.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),o=this._styles.toString(),r=Array.from(this._attrs).map(a=>`${a[0]}="${a[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(o?` style="${o}"`:"")+(r==""?"":` ${r}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const o=[];if(e)for(const a of this.getChildren())o.push(a._clone(e));const r=new this.constructor(this.document,this.name,this._attrs,o);return r._classes=new Set(this._classes),r._styles.set(this._styles.getNormalized()),r._customProperties=new Map(this._customProperties),r.getFillerOffset=this.getFillerOffset,r._unsafeAttributesToRender=this._unsafeAttributesToRender,r}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,o){this._fireChange("children",this);let r=0;const a=function(l,u){return typeof u=="string"?[new Ot(l,u)]:(Ye(u)||(u=[u]),Array.from(u).map(p=>typeof p=="string"?new Ot(l,p):p instanceof vi?new Ot(l,p.data):p))}(this.document,o);for(const l of a)l.parent!==null&&l._remove(),l.parent=this,l.document=this.document,this._children.splice(e,0,l),e++,r++;return r}_removeChildren(e,o=1){this._fireChange("children",this);for(let r=e;r<e+o;r++)this._children[r].parent=null;return this._children.splice(e,o)}_setAttribute(e,o){const r=String(o);this._fireChange("attributes",this),e=="class"?XA(this._classes,r):e=="style"?this._styles.setTo(r):this._attrs.set(e,r)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const o of Ft(e))this._classes.add(o)}_removeClass(e){this._fireChange("attributes",this);for(const o of Ft(e))this._classes.delete(o)}_setStyle(e,o){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,o)}_removeStyle(e){this._fireChange("attributes",this);for(const o of Ft(e))this._styles.remove(o)}_setCustomProperty(e,o){this._customProperties.set(e,o)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function XA(s,e){const o=e.split(/\s+/);s.clear(),o.forEach(r=>s.add(r))}Co.prototype.is=function(s,e){return e?e===this.name&&(s==="element"||s==="view:element"):s==="element"||s==="view:element"||s==="node"||s==="view:node"};class gl extends Co{constructor(e,o,r,a){super(e,o,r,a),this.getFillerOffset=fz}}function fz(){const s=[...this.getChildren()],e=s[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const o of s)if(!o.is("uiElement"))return null;return this.childCount}gl.prototype.is=function(s,e){return e?e===this.name&&(s==="containerElement"||s==="view:containerElement"||s==="element"||s==="view:element"):s==="containerElement"||s==="view:containerElement"||s==="element"||s==="view:element"||s==="node"||s==="view:node"};class mh extends Y(gl){constructor(e,o,r,a){super(e,o,r,a),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",l=>l&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}mh.prototype.is=function(s,e){return e?e===this.name&&(s==="editableElement"||s==="view:editableElement"||s==="containerElement"||s==="view:containerElement"||s==="element"||s==="view:element"):s==="editableElement"||s==="view:editableElement"||s==="containerElement"||s==="view:containerElement"||s==="element"||s==="view:element"||s==="node"||s==="view:node"};const ey=Symbol("rootName");class ty extends mh{constructor(e,o){super(e,o),this.rootName="main"}get rootName(){return this.getCustomProperty(ey)}set rootName(e){this._setCustomProperty(ey,e)}set _name(e){this.name=e}}ty.prototype.is=function(s,e){return e?e===this.name&&(s==="rootElement"||s==="view:rootElement"||s==="editableElement"||s==="view:editableElement"||s==="containerElement"||s==="view:containerElement"||s==="element"||s==="view:element"):s==="rootElement"||s==="view:rootElement"||s==="editableElement"||s==="view:editableElement"||s==="containerElement"||s==="view:containerElement"||s==="element"||s==="view:element"||s==="node"||s==="view:node"};class fs{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new P("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new P("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=be._createAt(e.startPosition):this._position=be._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let o,r;do r=this.position,o=this.next();while(!o.done&&e(o.value));o.done||(this._position=r)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const o=this.position,r=e.parent;if(r.parent===null&&e.offset===r.childCount)return{done:!0,value:void 0};if(r===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let a;if(r instanceof Ot){if(e.isAtEnd)return this._position=be._createAfter(r),this._next();a=r.data[e.offset]}else a=r.getChild(e.offset);if(a instanceof Co){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new be(a,0);return this._position=e,this._formatReturnValue("elementStart",a,o,e,1)}if(a instanceof Ot){if(this.singleCharacters)return e=new be(a,0),this._position=e,this._next();let l,u=a.data.length;return a==this._boundaryEndParent?(u=this.boundaries.end.offset,l=new vi(a,0,u),e=be._createAfter(l)):(l=new vi(a,0,a.data.length),e.offset++),this._position=e,this._formatReturnValue("text",l,o,e,u)}if(typeof a=="string"){let l;this.singleCharacters?l=1:l=(r===this._boundaryEndParent?this.boundaries.end.offset:r.data.length)-e.offset;const u=new vi(r,e.offset,l);return e.offset+=l,this._position=e,this._formatReturnValue("text",u,o,e,l)}return e=be._createAfter(r),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",r,o,e)}_previous(){let e=this.position.clone();const o=this.position,r=e.parent;if(r.parent===null&&e.offset===0)return{done:!0,value:void 0};if(r==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let a;if(r instanceof Ot){if(e.isAtStart)return this._position=be._createBefore(r),this._previous();a=r.data[e.offset-1]}else a=r.getChild(e.offset-1);if(a instanceof Co)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",a,o,e,1)):(e=new be(a,a.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",a,o,e));if(a instanceof Ot){if(this.singleCharacters)return e=new be(a,a.data.length),this._position=e,this._previous();let l,u=a.data.length;if(a==this._boundaryStartParent){const p=this.boundaries.start.offset;l=new vi(a,p,a.data.length-p),u=l.data.length,e=be._createBefore(l)}else l=new vi(a,0,a.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",l,o,e,u)}if(typeof a=="string"){let l;if(this.singleCharacters)l=1;else{const p=r===this._boundaryStartParent?this.boundaries.start.offset:0;l=e.offset-p}e.offset-=l;const u=new vi(r,e.offset,l);return this._position=e,this._formatReturnValue("text",u,o,e,l)}return e=be._createBefore(r),this._position=e,this._formatReturnValue("elementStart",r,o,e,1)}_formatReturnValue(e,o,r,a,l){return o instanceof vi&&(o.offsetInText+o.data.length==o.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?r=be._createAfter(o.textNode):(a=be._createAfter(o.textNode),this._position=a)),o.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?r=be._createBefore(o.textNode):(a=be._createBefore(o.textNode),this._position=a))),{done:!1,value:{type:e,item:o,previousPosition:r,nextPosition:a,length:l}}}}class be extends hs{constructor(e,o){super(),this.parent=e,this.offset=o}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof mh);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const o=be._createAt(this),r=o.offset+e;return o.offset=r<0?0:r,o}getLastMatchingPosition(e,o={}){o.startPosition=this;const r=new fs(o);return r.skip(e),r.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const o=this.getAncestors(),r=e.getAncestors();let a=0;for(;o[a]==r[a]&&o[a];)a++;return a===0?null:o[a-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const o=this.parent.is("node")?this.parent.getPath():[],r=e.parent.is("node")?e.parent.getPath():[];o.push(this.offset),r.push(e.offset);const a=De(o,r);switch(a){case"prefix":return"before";case"extension":return"after";default:return o[a]<r[a]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new fs(e)}clone(){return new be(this.parent,this.offset)}static _createAt(e,o){if(e instanceof be)return new this(e.parent,e.offset);{const r=e;if(o=="end")o=r.is("$text")?r.data.length:r.childCount;else{if(o=="before")return this._createBefore(r);if(o=="after")return this._createAfter(r);if(o!==0&&!o)throw new P("view-createpositionat-offset-required",r)}return new be(r,o)}}static _createAfter(e){if(e.is("$textProxy"))return new be(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new P("view-position-after-root",e,{root:e});return new be(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new be(e.textNode,e.offsetInText);if(!e.parent)throw new P("view-position-before-root",e,{root:e});return new be(e.parent,e.index)}}be.prototype.is=function(s){return s==="position"||s==="view:position"};class Ue extends hs{constructor(e,o=null){super(),this.start=e.clone(),this.end=o?o.clone():e.clone()}*[Symbol.iterator](){yield*new fs({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(bh,{direction:"backward"}),o=this.end.getLastMatchingPosition(bh);return e.parent.is("$text")&&e.isAtStart&&(e=be._createBefore(e.parent)),o.parent.is("$text")&&o.isAtEnd&&(o=be._createAfter(o.parent)),new Ue(e,o)}getTrimmed(){let e=this.start.getLastMatchingPosition(bh);if(e.isAfter(this.end)||e.isEqual(this.end))return new Ue(e,e);let o=this.end.getLastMatchingPosition(bh,{direction:"backward"});const r=e.nodeAfter,a=o.nodeBefore;return r&&r.is("$text")&&(e=new be(r,0)),a&&a.is("$text")&&(o=new be(a,a.data.length)),new Ue(e,o)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,o=!1){e.isCollapsed&&(o=!1);const r=this.containsPosition(e.start)||o&&this.start.isEqual(e.start),a=this.containsPosition(e.end)||o&&this.end.isEqual(e.end);return r&&a}getDifference(e){const o=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&o.push(new Ue(this.start,e.start)),this.containsPosition(e.end)&&o.push(new Ue(e.end,this.end))):o.push(this.clone()),o}getIntersection(e){if(this.isIntersecting(e)){let o=this.start,r=this.end;return this.containsPosition(e.start)&&(o=e.start),this.containsPosition(e.end)&&(r=e.end),new Ue(o,r)}return null}getWalker(e={}){return e.boundaries=this,new fs(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,o=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(o=this.end.parent.previousSibling),e&&e.is("element")&&e===o?e:null}clone(){return new Ue(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const o=new fs(e);for(const r of o)yield r.item}*getPositions(e={}){e.boundaries=this;const o=new fs(e);yield o.position;for(const r of o)yield r.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,o,r,a){return new this(new be(e,o),new be(r,a))}static _createFromPositionAndShift(e,o){const r=e,a=e.getShiftedBy(o);return o>0?new this(r,a):new this(a,r)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const o=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(be._createBefore(e),o)}}function bh(s){return!(!s.item.is("attributeElement")&&!s.item.is("uiElement"))}Ue.prototype.is=function(s){return s==="range"||s==="view:range"};class ci extends K(hs){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const o of this._ranges)e&&!o.start.isBefore(e.start)||(e=o);return e?e.clone():null}getLastRange(){let e=null;for(const o of this._ranges)e&&!o.end.isAfter(e.end)||(e=o);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const o of this._ranges){let r=!1;for(const a of e._ranges)if(o.isEqual(a)){r=!0;break}if(!r)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const o=Ze(this.getRanges());if(o!=Ze(e.getRanges()))return!1;if(o==0)return!0;for(let r of this.getRanges()){r=r.getTrimmed();let a=!1;for(let l of e.getRanges())if(l=l.getTrimmed(),r.start.isEqual(l.start)&&r.end.isEqual(l.end)){a=!0;break}if(!a)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[o,r,a]=e;if(typeof r=="object"&&(a=r,r=void 0),o===null)this._setRanges([]),this._setFakeOptions(a);else if(o instanceof ci||o instanceof mb)this._setRanges(o.getRanges(),o.isBackward),this._setFakeOptions({fake:o.isFake,label:o.fakeSelectionLabel});else if(o instanceof Ue)this._setRanges([o],a&&a.backward),this._setFakeOptions(a);else if(o instanceof be)this._setRanges([new Ue(o)]),this._setFakeOptions(a);else if(o instanceof ps){const l=!!a&&!!a.backward;let u;if(r===void 0)throw new P("view-selection-setto-required-second-parameter",this);u=r=="in"?Ue._createIn(o):r=="on"?Ue._createOn(o):new Ue(be._createAt(o,r)),this._setRanges([u],l),this._setFakeOptions(a)}else{if(!Ye(o))throw new P("view-selection-setto-not-selectable",this);this._setRanges(o,a&&a.backward),this._setFakeOptions(a)}this.fire("change")}setFocus(e,o){if(this.anchor===null)throw new P("view-selection-setfocus-no-ranges",this);const r=be._createAt(e,o);if(r.compareWith(this.focus)=="same")return;const a=this.anchor;this._ranges.pop(),r.compareWith(a)=="before"?this._addRange(new Ue(r,a),!0):this._addRange(new Ue(a,r)),this.fire("change")}_setRanges(e,o=!1){e=Array.from(e),this._ranges=[];for(const r of e)this._addRange(r);this._lastRangeBackward=!!o}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,o=!1){if(!(e instanceof Ue))throw new P("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!o}_pushRange(e){for(const o of this._ranges)if(e.isIntersecting(o))throw new P("view-selection-range-intersects",this,{addedRange:e,intersectingRange:o});this._ranges.push(new Ue(e.start,e.end))}}ci.prototype.is=function(s){return s==="selection"||s==="view:selection"};class mb extends K(hs){constructor(...e){super(),this._selection=new ci,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,o){this._selection.setFocus(e,o)}}mb.prototype.is=function(s){return s==="selection"||s=="documentSelection"||s=="view:selection"||s=="view:documentSelection"};class Ca extends N{constructor(e,o,r){super(e,o),this.startRange=r,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const bb=Symbol("bubbling contexts");function kb(s){return class extends s{fire(e,...o){try{const r=e instanceof N?e:new N(this,e),a=wb(this);if(!a.size)return;if(ml(r,"capturing",this),Aa(a,"$capture",r,...o))return r.return;const l=r.startRange||this.selection.getFirstRange(),u=l?l.getContainedElement():null,p=!!u&&!!ny(a,u);let g=u||function(k){if(!k)return null;const w=k.start.parent,A=k.end.parent,E=w.getPath(),T=A.getPath();return E.length>T.length?w:A}(l);if(ml(r,"atTarget",g),!p){if(Aa(a,"$text",r,...o))return r.return;ml(r,"bubbling",g)}for(;g;){if(g.is("rootElement")){if(Aa(a,"$root",r,...o))return r.return}else if(g.is("element")&&Aa(a,g.name,r,...o))return r.return;if(Aa(a,g,r,...o))return r.return;g=g.parent,ml(r,"bubbling",g)}return ml(r,"bubbling",this),Aa(a,"$document",r,...o),r.return}catch(r){P.rethrowUnexpectedError(r,this)}}_addEventListener(e,o,r){const a=Ft(r.context||"$document"),l=wb(this);for(const u of a){let p=l.get(u);p||(p=new(K()),l.set(u,p)),this.listenTo(p,e,o,r)}}_removeEventListener(e,o){const r=wb(this);for(const a of r.values())this.stopListening(a,e,o)}}}{const s=kb(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{kb[e]=s.prototype[e]})}function ml(s,e,o){s instanceof Ca&&(s._eventPhase=e,s._currentTarget=o)}function Aa(s,e,o,...r){const a=typeof e=="string"?s.get(e):ny(s,e);return!!a&&(a.fire(o,...r),o.stop.called)}function ny(s,e){for(const[o,r]of s)if(typeof o=="function"&&o(e))return r;return null}function wb(s){return s[bb]||(s[bb]=new Map),s[bb]}class kh extends kb(Y()){constructor(e){super(),this._postFixers=new Set,this.selection=new mb,this.roots=new si({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let o=!1;do for(const r of this._postFixers)if(o=r(e),o)break;while(o)}}class gs extends Co{constructor(e,o,r,a){super(e,o,r,a),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=gz}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new P("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const o=super._clone(e);return o._priority=this._priority,o._id=this._id,o}}function gz(){if(vb(this))return null;let s=this.parent;for(;s&&s.is("attributeElement");){if(vb(s)>1)return null;s=s.parent}return!s||vb(s)>1?null:this.childCount}function vb(s){return Array.from(s.getChildren()).filter(e=>!e.is("uiElement")).length}gs.DEFAULT_PRIORITY=10,gs.prototype.is=function(s,e){return e?e===this.name&&(s==="attributeElement"||s==="view:attributeElement"||s==="element"||s==="view:element"):s==="attributeElement"||s==="view:attributeElement"||s==="element"||s==="view:element"||s==="node"||s==="view:node"};class _b extends Co{constructor(e,o,r,a){super(e,o,r,a),this.getFillerOffset=mz}_insertChild(e,o){if(o&&(o instanceof ps||Array.from(o).length>0))throw new P("view-emptyelement-cannot-add",[this,o]);return 0}}function mz(){return null}_b.prototype.is=function(s,e){return e?e===this.name&&(s==="emptyElement"||s==="view:emptyElement"||s==="element"||s==="view:element"):s==="emptyElement"||s==="view:emptyElement"||s==="element"||s==="view:element"||s==="node"||s==="view:node"};class wh extends Co{constructor(e,o,r,a){super(e,o,r,a),this.getFillerOffset=kz}_insertChild(e,o){if(o&&(o instanceof ps||Array.from(o).length>0))throw new P("view-uielement-cannot-add",[this,o]);return 0}render(e,o){return this.toDomElement(e)}toDomElement(e){const o=e.createElement(this.name);for(const r of this.getAttributeKeys())o.setAttribute(r,this.getAttribute(r));return o}}function bz(s){s.document.on("arrowKey",(e,o)=>function(r,a,l){if(a.keyCode==pt.arrowright){const u=a.domTarget.ownerDocument.defaultView.getSelection(),p=u.rangeCount==1&&u.getRangeAt(0).collapsed;if(p||a.shiftKey){const g=u.focusNode,k=u.focusOffset,w=l.domPositionToView(g,k);if(w===null)return;let A=!1;const E=w.getLastMatchingPosition(T=>(T.item.is("uiElement")&&(A=!0),!(!T.item.is("uiElement")&&!T.item.is("attributeElement"))));if(A){const T=l.viewPositionToDom(E);p?u.collapse(T.parent,T.offset):u.extend(T.parent,T.offset)}}}}(0,o,s.domConverter),{priority:"low"})}function kz(){return null}wh.prototype.is=function(s,e){return e?e===this.name&&(s==="uiElement"||s==="view:uiElement"||s==="element"||s==="view:element"):s==="uiElement"||s==="view:uiElement"||s==="element"||s==="view:element"||s==="node"||s==="view:node"};class Cb extends Co{constructor(e,o,r,a){super(e,o,r,a),this.getFillerOffset=wz}_insertChild(e,o){if(o&&(o instanceof ps||Array.from(o).length>0))throw new P("view-rawelement-cannot-add",[this,o]);return 0}render(e,o){}}function wz(){return null}Cb.prototype.is=function(s,e){return e?e===this.name&&(s==="rawElement"||s==="view:rawElement"||s==="element"||s==="view:element"):s==="rawElement"||s==="view:rawElement"||s===this.name||s==="view:"+this.name||s==="element"||s==="view:element"||s==="node"||s==="view:node"};class ms extends K(hs){constructor(e,o){super(),this._children=[],this._customProperties=new Map,this.document=e,o&&this._insertChild(0,o)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,o){this._fireChange("children",this);let r=0;const a=function(l,u){return typeof u=="string"?[new Ot(l,u)]:(Ye(u)||(u=[u]),Array.from(u).map(p=>typeof p=="string"?new Ot(l,p):p instanceof vi?new Ot(l,p.data):p))}(this.document,o);for(const l of a)l.parent!==null&&l._remove(),l.parent=this,this._children.splice(e,0,l),e++,r++;return r}_removeChildren(e,o=1){this._fireChange("children",this);for(let r=e;r<e+o;r++)this._children[r].parent=null;return this._children.splice(e,o)}_fireChange(e,o){this.fire("change:"+e,o)}_setCustomProperty(e,o){this._customProperties.set(e,o)}_removeCustomProperty(e){return this._customProperties.delete(e)}}ms.prototype.is=function(s){return s==="documentFragment"||s==="view:documentFragment"};class oy{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,o){this.document.selection._setFocus(e,o)}createDocumentFragment(e){return new ms(this.document,e)}createText(e){return new Ot(this.document,e)}createAttributeElement(e,o,r={}){const a=new gs(this.document,e,o);return typeof r.priority=="number"&&(a._priority=r.priority),r.id&&(a._id=r.id),r.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),a}createContainerElement(e,o,r={},a={}){let l=null;to(r)?a=r:l=r;const u=new gl(this.document,e,o,l);return a.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),u}createEditableElement(e,o,r={}){const a=new mh(this.document,e,o);return r.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),a}createEmptyElement(e,o,r={}){const a=new _b(this.document,e,o);return r.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),a}createUIElement(e,o,r){const a=new wh(this.document,e,o);return r&&(a.render=r),a}createRawElement(e,o,r,a={}){const l=new Cb(this.document,e,o);return r&&(l.render=r),a.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),l}setAttribute(e,o,r){r._setAttribute(e,o)}removeAttribute(e,o){o._removeAttribute(e)}addClass(e,o){o._addClass(e)}removeClass(e,o){o._removeClass(e)}setStyle(e,o,r){to(e)&&r===void 0?o._setStyle(e):r._setStyle(e,o)}removeStyle(e,o){o._removeStyle(e)}setCustomProperty(e,o,r){r._setCustomProperty(e,o)}removeCustomProperty(e,o){return o._removeCustomProperty(e)}breakAttributes(e){return e instanceof be?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const o=e.parent;if(!o.is("containerElement"))throw new P("view-writer-break-non-container-element",this.document);if(!o.parent)throw new P("view-writer-break-root",this.document);if(e.isAtStart)return be._createBefore(o);if(!e.isAtEnd){const r=o._clone(!1);this.insert(be._createAfter(o),r);const a=new Ue(e,be._createAt(o,"end")),l=new be(r,0);this.move(a,l)}return be._createAfter(o)}mergeAttributes(e){const o=e.offset,r=e.parent;if(r.is("$text"))return e;if(r.is("attributeElement")&&r.childCount===0){const u=r.parent,p=r.index;return r._remove(),this._removeFromClonedElementsGroup(r),this.mergeAttributes(new be(u,p))}const a=r.getChild(o-1),l=r.getChild(o);if(!a||!l)return e;if(a.is("$text")&&l.is("$text"))return ry(a,l);if(a.is("attributeElement")&&l.is("attributeElement")&&a.isSimilar(l)){const u=a.childCount;return a._appendChild(l.getChildren()),l._remove(),this._removeFromClonedElementsGroup(l),this.mergeAttributes(new be(a,u))}return e}mergeContainers(e){const o=e.nodeBefore,r=e.nodeAfter;if(!(o&&r&&o.is("containerElement")&&r.is("containerElement")))throw new P("view-writer-merge-containers-invalid-position",this.document);const a=o.getChild(o.childCount-1),l=a instanceof Ot?be._createAt(a,"end"):be._createAt(o,"end");return this.move(Ue._createIn(r),be._createAt(o,"end")),this.remove(Ue._createOn(r)),l}insert(e,o){sy(o=Ye(o)?[...o]:[o],this.document);const r=o.reduce((u,p)=>{const g=u[u.length-1],k=!p.is("uiElement");return g&&g.breakAttributes==k?g.nodes.push(p):u.push({breakAttributes:k,nodes:[p]}),u},[]);let a=null,l=e;for(const{nodes:u,breakAttributes:p}of r){const g=this._insertNodes(l,u,p);a||(a=g.start),l=g.end}return a?new Ue(a,l):new Ue(e)}remove(e){const o=e instanceof Ue?e:Ue._createOn(e);if(bl(o,this.document),o.isCollapsed)return new ms(this.document);const{start:r,end:a}=this._breakAttributesRange(o,!0),l=r.parent,u=a.offset-r.offset,p=l._removeChildren(r.offset,u);for(const k of p)this._removeFromClonedElementsGroup(k);const g=this.mergeAttributes(r);return o.start=g,o.end=g.clone(),new ms(this.document,p)}clear(e,o){bl(e,this.document);const r=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const a of r){const l=a.item;let u;if(l.is("element")&&o.isSimilar(l))u=Ue._createOn(l);else if(!a.nextPosition.isAfter(e.start)&&l.is("$textProxy")){const p=l.getAncestors().find(g=>g.is("element")&&o.isSimilar(g));p&&(u=Ue._createIn(p))}u&&(u.end.isAfter(e.end)&&(u.end=e.end),u.start.isBefore(e.start)&&(u.start=e.start),this.remove(u))}}move(e,o){let r;if(o.isAfter(e.end)){const a=(o=this._breakAttributes(o,!0)).parent,l=a.childCount;e=this._breakAttributesRange(e,!0),r=this.remove(e),o.offset+=a.childCount-l}else r=this.remove(e);return this.insert(o,r)}wrap(e,o){if(!(o instanceof gs))throw new P("view-writer-wrap-invalid-attribute",this.document);if(bl(e,this.document),e.isCollapsed){let a=e.start;a.parent.is("element")&&(r=a.parent,!Array.from(r.getChildren()).some(u=>!u.is("uiElement")))&&(a=a.getLastMatchingPosition(u=>u.item.is("uiElement"))),a=this._wrapPosition(a,o);const l=this.document.selection;return l.isCollapsed&&l.getFirstPosition().isEqual(e.start)&&this.setSelection(a),new Ue(a)}return this._wrapRange(e,o);var r}unwrap(e,o){if(!(o instanceof gs))throw new P("view-writer-unwrap-invalid-attribute",this.document);if(bl(e,this.document),e.isCollapsed)return e;const{start:r,end:a}=this._breakAttributesRange(e,!0),l=r.parent,u=this._unwrapChildren(l,r.offset,a.offset,o),p=this.mergeAttributes(u.start);p.isEqual(u.start)||u.end.offset--;const g=this.mergeAttributes(u.end);return new Ue(p,g)}rename(e,o){const r=new gl(this.document,e,o.getAttributes());return this.insert(be._createAfter(o),r),this.move(Ue._createIn(o),be._createAt(r,0)),this.remove(Ue._createOn(o)),r}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,o){return be._createAt(e,o)}createPositionAfter(e){return be._createAfter(e)}createPositionBefore(e){return be._createBefore(e)}createRange(e,o){return new Ue(e,o)}createRangeOn(e){return Ue._createOn(e)}createRangeIn(e){return Ue._createIn(e)}createSelection(...e){return new ci(...e)}createSlot(e="children"){if(!this._slotFactory)throw new P("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,o,r){let a,l;if(a=r?Ab(e):e.parent.is("$text")?e.parent.parent:e.parent,!a)throw new P("view-writer-invalid-position-container",this.document);l=r?this._breakAttributes(e,!0):e.parent.is("$text")?yb(e):e;const u=a._insertChild(l.offset,o);for(const w of o)this._addToClonedElementsGroup(w);const p=l.getShiftedBy(u),g=this.mergeAttributes(l);g.isEqual(l)||p.offset--;const k=this.mergeAttributes(p);return new Ue(g,k)}_wrapChildren(e,o,r,a){let l=o;const u=[];for(;l<r;){const g=e.getChild(l),k=g.is("$text"),w=g.is("attributeElement");if(w&&this._wrapAttributeElement(a,g))u.push(new be(e,l));else if(k||!w||vz(a,g)){const A=a._clone();g._remove(),A._appendChild(g),e._insertChild(l,A),this._addToClonedElementsGroup(A),u.push(new be(e,l))}else this._wrapChildren(g,0,g.childCount,a);l++}let p=0;for(const g of u)g.offset-=p,g.offset!=o&&(this.mergeAttributes(g).isEqual(g)||(p++,r--));return Ue._createFromParentsAndOffsets(e,o,e,r)}_unwrapChildren(e,o,r,a){let l=o;const u=[];for(;l<r;){const g=e.getChild(l);if(g.is("attributeElement"))if(g.isSimilar(a)){const k=g.getChildren(),w=g.childCount;g._remove(),e._insertChild(l,k),this._removeFromClonedElementsGroup(g),u.push(new be(e,l),new be(e,l+w)),l+=w,r+=w-1}else this._unwrapAttributeElement(a,g)?(u.push(new be(e,l),new be(e,l+1)),l++):(this._unwrapChildren(g,0,g.childCount,a),l++);else l++}let p=0;for(const g of u)g.offset-=p,!(g.offset==o||g.offset==r)&&(this.mergeAttributes(g).isEqual(g)||(p++,r--));return Ue._createFromParentsAndOffsets(e,o,e,r)}_wrapRange(e,o){const{start:r,end:a}=this._breakAttributesRange(e,!0),l=r.parent,u=this._wrapChildren(l,r.offset,a.offset,o),p=this.mergeAttributes(u.start);p.isEqual(u.start)||u.end.offset--;const g=this.mergeAttributes(u.end);return new Ue(p,g)}_wrapPosition(e,o){if(o.isSimilar(e.parent))return iy(e.clone());e.parent.is("$text")&&(e=yb(e));const r=this.createAttributeElement("_wrapPosition-fake-element");r._priority=Number.POSITIVE_INFINITY,r.isSimilar=()=>!1,e.parent._insertChild(e.offset,r);const a=new Ue(e,e.getShiftedBy(1));this.wrap(a,o);const l=new be(r.parent,r.index);r._remove();const u=l.nodeBefore,p=l.nodeAfter;return u instanceof Ot&&p instanceof Ot?ry(u,p):iy(l)}_wrapAttributeElement(e,o){if(!ay(e,o)||e.name!==o.name||e.priority!==o.priority)return!1;for(const r of e.getAttributeKeys())if(r!=="class"&&r!=="style"&&o.hasAttribute(r)&&o.getAttribute(r)!==e.getAttribute(r))return!1;for(const r of e.getStyleNames())if(o.hasStyle(r)&&o.getStyle(r)!==e.getStyle(r))return!1;for(const r of e.getAttributeKeys())r!=="class"&&r!=="style"&&(o.hasAttribute(r)||this.setAttribute(r,e.getAttribute(r),o));for(const r of e.getStyleNames())o.hasStyle(r)||this.setStyle(r,e.getStyle(r),o);for(const r of e.getClassNames())o.hasClass(r)||this.addClass(r,o);return!0}_unwrapAttributeElement(e,o){if(!ay(e,o)||e.name!==o.name||e.priority!==o.priority)return!1;for(const r of e.getAttributeKeys())if(r!=="class"&&r!=="style"&&(!o.hasAttribute(r)||o.getAttribute(r)!==e.getAttribute(r)))return!1;if(!o.hasClass(...e.getClassNames()))return!1;for(const r of e.getStyleNames())if(!o.hasStyle(r)||o.getStyle(r)!==e.getStyle(r))return!1;for(const r of e.getAttributeKeys())r!=="class"&&r!=="style"&&this.removeAttribute(r,o);return this.removeClass(Array.from(e.getClassNames()),o),this.removeStyle(Array.from(e.getStyleNames()),o),!0}_breakAttributesRange(e,o=!1){const r=e.start,a=e.end;if(bl(e,this.document),e.isCollapsed){const g=this._breakAttributes(e.start,o);return new Ue(g,g)}const l=this._breakAttributes(a,o),u=l.parent.childCount,p=this._breakAttributes(r,o);return l.offset+=l.parent.childCount-u,new Ue(p,l)}_breakAttributes(e,o=!1){const r=e.offset,a=e.parent;if(e.parent.is("emptyElement"))throw new P("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new P("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new P("view-writer-cannot-break-raw-element",this.document);if(!o&&a.is("$text")&&xb(a.parent)||xb(a))return e.clone();if(a.is("$text"))return this._breakAttributes(yb(e),o);if(r==a.childCount){const l=new be(a.parent,a.index+1);return this._breakAttributes(l,o)}if(r===0){const l=new be(a.parent,a.index);return this._breakAttributes(l,o)}{const l=a.index+1,u=a._clone();a.parent._insertChild(l,u),this._addToClonedElementsGroup(u);const p=a.childCount-r,g=a._removeChildren(r,p);u._appendChild(g);const k=new be(a.parent,l);return this._breakAttributes(k,o)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const a of e.getChildren())this._addToClonedElementsGroup(a);const o=e.id;if(!o)return;let r=this._cloneGroups.get(o);r||(r=new Set,this._cloneGroups.set(o,r)),r.add(e),e._clonesGroup=r}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const a of e.getChildren())this._removeFromClonedElementsGroup(a);const o=e.id;if(!o)return;const r=this._cloneGroups.get(o);r&&r.delete(e)}}function Ab(s){let e=s.parent;for(;!xb(e);){if(!e)return;e=e.parent}return e}function vz(s,e){return s.priority<e.priority||!(s.priority>e.priority)&&s.getIdentity()<e.getIdentity()}function iy(s){const e=s.nodeBefore;if(e&&e.is("$text"))return new be(e,e.data.length);const o=s.nodeAfter;return o&&o.is("$text")?new be(o,0):s}function yb(s){if(s.offset==s.parent.data.length)return new be(s.parent.parent,s.parent.index+1);if(s.offset===0)return new be(s.parent.parent,s.parent.index);const e=s.parent.data.slice(s.offset);return s.parent._data=s.parent.data.slice(0,s.offset),s.parent.parent._insertChild(s.parent.index+1,new Ot(s.root.document,e)),new be(s.parent.parent,s.parent.index+1)}function ry(s,e){const o=s.data.length;return s._data+=e.data,e._remove(),new be(s,o)}const _z=[Ot,gs,gl,_b,Cb,wh];function sy(s,e){for(const o of s){if(!_z.some(r=>o instanceof r))throw new P("view-writer-insert-invalid-node-type",e);o.is("$text")||sy(o.getChildren(),e)}}function xb(s){return s&&(s.is("containerElement")||s.is("documentFragment"))}function bl(s,e){const o=Ab(s.start),r=Ab(s.end);if(!o||!r||o!==r)throw new P("view-writer-invalid-range-container",e)}function ay(s,e){return s.id===null&&e.id===null}const cy=s=>s.createTextNode(""),ly=s=>{const e=s.createElement("span");return e.dataset.ckeFiller="true",e.innerText="",e},dy=s=>{const e=s.createElement("br");return e.dataset.ckeFiller="true",e},li=7,kl="".repeat(li);function Ao(s){return typeof s=="string"?s.substr(0,li)===kl:un(s)&&s.data.substr(0,li)===kl}function ya(s){return s.data.length==li&&Ao(s)}function uy(s){const e=typeof s=="string"?s:s.data;return Ao(s)?e.slice(li):e}function Cz(s,e){if(e.keyCode==pt.arrowleft){const o=e.domTarget.ownerDocument.defaultView.getSelection();if(o.rangeCount==1&&o.getRangeAt(0).collapsed){const r=o.getRangeAt(0).startContainer,a=o.getRangeAt(0).startOffset;Ao(r)&&a<=li&&o.collapse(r,0)}}}var hy=d(8264),Az={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(hy.A,Az),hy.A.locals;class yz extends Y(){constructor(e,o){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=o,this.set("isFocused",!1),this.set("isSelecting",!1),C.isBlink&&!C.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,o){if(e==="text")this.domConverter.mapViewToDom(o.parent)&&this.markedTexts.add(o);else{if(!this.domConverter.mapViewToDom(o))return;if(e==="attributes")this.markedAttributes.add(o);else{if(e!=="children")throw new P("view-renderer-unknown-type",this);this.markedChildren.add(o)}}}render(){if(this.isComposing&&!C.isAndroid)return;let e=null;const o=!(C.isBlink&&!C.isAndroid)||!this.isSelecting;for(const r of this.markedChildren)this._updateChildrenMappings(r);o?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=be._createBefore(e.parent)));for(const r of this.markedAttributes)this._updateAttrs(r);for(const r of this.markedChildren)this._updateChildren(r,{inlineFillerPosition:e});for(const r of this.markedTexts)!this.markedChildren.has(r.parent)&&this.domConverter.mapViewToDom(r.parent)&&this._updateText(r,{inlineFillerPosition:e});if(o)if(e){const r=this.domConverter.viewPositionToDom(e),a=r.parent.ownerDocument;Ao(r.parent)?this._inlineFiller=r.parent:this._inlineFiller=py(a,r.parent,r.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const o=this.domConverter.mapViewToDom(e);if(!o)return;const r=Array.from(o.childNodes),a=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),l=this._diffNodeLists(r,a),u=this._findUpdateActions(l,r,a,xz);if(u.indexOf("update")!==-1){const p={equal:0,insert:0,delete:0};for(const g of u)if(g==="update"){const k=p.equal+p.insert,w=p.equal+p.delete,A=e.getChild(k);!A||A.is("uiElement")||A.is("rawElement")||this._updateElementMappings(A,r[w]),fA(a[k]),p.equal++}else p[g]++}}_updateElementMappings(e,o){this.domConverter.unbindDomElement(o),this.domConverter.bindElements(o,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?be._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),o=this.domConverter.viewPositionToDom(e);return!!(o&&un(o.parent)&&Ao(o.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Ao(e))throw new P("view-renderer-filler-was-lost",this);ya(e)?e.remove():e.data=e.data.substr(li),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),o=e.parent,r=e.offset;if(!this.domConverter.mapViewToDom(o.root)||!o.is("element")||!function(u){if(u.getAttribute("contenteditable")=="false")return!1;const p=u.findAncestor(g=>g.hasAttribute("contenteditable"));return!p||p.getAttribute("contenteditable")=="true"}(o))return!1;const a=e.nodeBefore,l=e.nodeAfter;return!(a instanceof Ot||l instanceof Ot)&&!!(r!==o.getFillerOffset()||a&&a.is("element","br"))&&(!C.isAndroid||!a&&!l)}_updateText(e,o){const r=this.domConverter.findCorrespondingDomText(e);let a=this.domConverter.viewToDom(e).data;const l=o.inlineFillerPosition;l&&l.parent==e.parent&&l.offset==e.index&&(a=kl+a),fy(r,a)}_updateAttrs(e){const o=this.domConverter.mapViewToDom(e);if(!o)return;const r=Array.from(o.attributes).map(l=>l.name),a=e.getAttributeKeys();for(const l of a)this.domConverter.setDomElementAttribute(o,l,e.getAttribute(l),e);for(const l of r)e.hasAttribute(l)||this.domConverter.removeDomElementAttribute(o,l)}_updateChildren(e,o){const r=this.domConverter.mapViewToDom(e);if(!r)return;if(C.isAndroid){let A=null;for(const E of Array.from(r.childNodes)){if(A&&un(A)&&un(E)){r.normalize();break}A=E}}const a=o.inlineFillerPosition,l=r.childNodes,u=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));a&&a.parent===e&&py(r.ownerDocument,u,a.offset);const p=this._diffNodeLists(l,u),g=this._findUpdateActions(p,l,u,Ez);let k=0;const w=new Set;for(const A of g)A==="delete"?(w.add(l[k]),fA(l[k])):A!=="equal"&&A!=="update"||k++;k=0;for(const A of g)A==="insert"?(dA(r,k,u[k]),k++):A==="update"?(fy(l[k],u[k].data),k++):A==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(u[k])),k++);for(const A of w)A.parentNode||this.domConverter.unbindDomElement(A)}_diffNodeLists(e,o){return e=function(r,a){const l=Array.from(r);return l.length==0||!a||l[l.length-1]==a&&l.pop(),l}(e,this._fakeSelectionContainer),S(e,o,Tz.bind(null,this.domConverter))}_findUpdateActions(e,o,r,a){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let l=[],u=[],p=[];const g={equal:0,insert:0,delete:0};for(const k of e)k==="insert"?p.push(r[g.equal+g.insert]):k==="delete"?u.push(o[g.equal+g.delete]):(l=l.concat(S(u,p,a).map(w=>w==="equal"?"update":w)),l.push("equal"),u=[],p=[]),g[k]++;return l.concat(S(u,p,a).map(k=>k==="equal"?"update":k))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const o of e.getChildren())this._markDescendantTextToSync(o)}}_updateSelection(){if(C.isBlink&&!C.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&C.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const o=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(u){const p=u.createElement("div");return p.className="ck-fake-selection-container",Object.assign(p.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),p.textContent="",p}(o));const r=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(r,this.selection),!this._fakeSelectionNeedsUpdate(e))return;r.parentElement&&r.parentElement==e||e.appendChild(r),r.textContent=this.selection.fakeSelectionLabel||"";const a=o.getSelection(),l=o.createRange();a.removeAllRanges(),l.selectNodeContents(r),a.addRange(l)}_updateDomSelection(e){const o=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(o))return;const r=this.domConverter.viewPositionToDom(this.selection.anchor),a=this.domConverter.viewPositionToDom(this.selection.focus);o.setBaseAndExtent(r.parent,r.offset,a.parent,a.offset),C.isGecko&&function(l,u){let p=l.parent,g=l.offset;if(un(p)&&ya(p)&&(g=dl(p)+1,p=p.parentNode),p.nodeType!=Node.ELEMENT_NODE||g!=p.childNodes.length-1)return;const k=p.childNodes[g];k&&k.tagName=="BR"&&u.addRange(u.getRangeAt(0))}(a,o)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const o=e&&this.domConverter.domSelectionToView(e);return(!o||!this.selection.isEqual(o))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(o))}_fakeSelectionNeedsUpdate(e){const o=this._fakeSelectionContainer,r=e.ownerDocument.getSelection();return!o||o.parentElement!==e||r.anchorNode!==o&&!o.contains(r.anchorNode)||o.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const o=e.getSelection();if(o.rangeCount){const r=e.activeElement,a=this.domConverter.mapDomToView(r);r&&a&&o.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function py(s,e,o){const r=e instanceof Array?e:e.childNodes,a=r[o];if(un(a))return a.data=kl+a.data,a;{const l=s.createTextNode(kl);return Array.isArray(e)?r.splice(o,0,l):dA(e,o,l),l}}function xz(s,e){return Ar(s)&&Ar(e)&&!un(s)&&!un(e)&&!ul(s)&&!ul(e)&&s.tagName.toLowerCase()===e.tagName.toLowerCase()}function Ez(s,e){return Ar(s)&&Ar(e)&&un(s)&&un(e)}function Tz(s,e,o){return e===o||(un(e)&&un(o)?e.data===o.data:!(!s.isBlockFiller(e)||!s.isBlockFiller(o)))}function fy(s,e){const o=s.data;if(o==e)return;const r=_(o,e);for(const a of r)a.type==="insert"?s.insertData(a.index,a.values.join("")):s.deleteData(a.index,a.howMany)}const Iz=dy(b.document),Sz=cy(b.document),Dz=ly(b.document),vh="data-ck-unsafe-attribute-",gy="data-ck-unsafe-element";class _h{constructor(e,{blockFillerMode:o,renderingMode:r="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new _i,this._inlineObjectElementMatcher=new _i,this._elementsWithTemporaryCustomProperties=new Set,this.document=e,this.renderingMode=r,this.blockFillerMode=o||(r==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?b.document:b.document.implementation.createHTMLDocument("")}bindFakeSelection(e,o){this._fakeSelectionMapping.set(e,new ci(o))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,o){this._domToViewMapping.set(e,o),this._viewToDomMapping.set(o,e)}unbindDomElement(e){const o=this._domToViewMapping.get(e);if(o){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(o);for(const r of Array.from(e.children))this.unbindDomElement(r)}}bindDocumentFragments(e,o){this._domToViewMapping.set(e,o),this._viewToDomMapping.set(o,e)}shouldRenderAttribute(e,o,r){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!o.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(r==="img"&&(e==="src"||e==="srcset")||r==="source"&&e==="srcset"||!o.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,o){if(this.renderingMode==="data")return void(e.innerHTML=o);const r=new DOMParser().parseFromString(o,"text/html"),a=r.createDocumentFragment(),l=r.body.childNodes;for(;l.length>0;)a.appendChild(l[0]);const u=r.createTreeWalker(a,NodeFilter.SHOW_ELEMENT),p=[];let g;for(;g=u.nextNode();)p.push(g);for(const k of p){for(const A of k.getAttributeNames())this.setDomElementAttribute(k,A,k.getAttribute(A));const w=k.tagName.toLowerCase();this._shouldRenameElement(w)&&(ky(w),k.replaceWith(this._createReplacementDomElement(w,k)))}for(;e.firstChild;)e.firstChild.remove();e.append(a)}viewToDom(e,o={}){if(e.is("$text")){const r=this._processDataFromViewText(e);return this._domDocument.createTextNode(r)}{const r=e;if(this.mapViewToDom(r)){if(!r.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(r);this._elementsWithTemporaryCustomProperties.add(r)}let a;if(r.is("documentFragment"))a=this._domDocument.createDocumentFragment(),o.bind&&this.bindDocumentFragments(a,r);else{if(r.is("uiElement"))return a=r.name==="$comment"?this._domDocument.createComment(r.getCustomProperty("$rawContent")):r.render(this._domDocument,this),o.bind&&this.bindElements(a,r),a;this._shouldRenameElement(r.name)?(ky(r.name),a=this._createReplacementDomElement(r.name)):a=r.hasAttribute("xmlns")?this._domDocument.createElementNS(r.getAttribute("xmlns"),r.name):this._domDocument.createElement(r.name),r.is("rawElement")&&r.render(a,this),o.bind&&this.bindElements(a,r);for(const l of r.getAttributeKeys())this.setDomElementAttribute(a,l,r.getAttribute(l),r)}if(o.withChildren!==!1)for(const l of this.viewChildrenToDom(r,o))a instanceof HTMLTemplateElement?a.content.appendChild(l):a.appendChild(l);return a}}setDomElementAttribute(e,o,r,a){const l=this.shouldRenderAttribute(o,r,e.tagName.toLowerCase())||a&&a.shouldRenderUnsafeAttribute(o);l||U("domconverter-unsafe-attribute-detected",{domElement:e,key:o,value:r}),function(u){try{b.document.createAttribute(u)}catch{return!1}return!0}(o)?(e.hasAttribute(o)&&!l?e.removeAttribute(o):e.hasAttribute(vh+o)&&l&&e.removeAttribute(vh+o),e.setAttribute(l?o:vh+o,r)):U("domconverter-invalid-attribute-detected",{domElement:e,key:o,value:r})}removeDomElementAttribute(e,o){o!=gy&&(e.removeAttribute(o),e.removeAttribute(vh+o))}*viewChildrenToDom(e,o={}){const r=e.getFillerOffset&&e.getFillerOffset();let a=0;for(const l of e.getChildren()){r===a&&(yield this._getBlockFiller());const u=l.is("element")&&!!l.getCustomProperty("dataPipeline:transparentRendering")&&!Sn(l.getAttributes());u&&this.renderingMode=="data"?yield*this.viewChildrenToDom(l,o):(u&&U("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:l}),yield this.viewToDom(l,o)),a++}r===a&&(yield this._getBlockFiller())}viewRangeToDom(e){const o=this.viewPositionToDom(e.start),r=this.viewPositionToDom(e.end),a=this._domDocument.createRange();return a.setStart(o.parent,o.offset),a.setEnd(r.parent,r.offset),a}viewPositionToDom(e){const o=e.parent;if(o.is("$text")){const r=this.findCorrespondingDomText(o);if(!r)return null;let a=e.offset;return Ao(r)&&(a+=li),{parent:r,offset:a}}{let r,a,l;if(e.offset===0){if(r=this.mapViewToDom(o),!r)return null;l=r.childNodes[0]}else{const u=e.nodeBefore;if(a=u.is("$text")?this.findCorrespondingDomText(u):this.mapViewToDom(u),!a)return null;r=a.parentNode,l=a.nextSibling}return un(l)&&Ao(l)?{parent:l,offset:li}:{parent:r,offset:a?dl(a)+1:0}}}domToView(e,o={}){const r=[],a=this._domToView(e,o,r),l=a.next().value;return l?(a.next(),this._processDomInlineNodes(null,r,o),l.is("$text")&&l.data.length==0?null:l):null}*domChildrenToView(e,o={},r=[]){let a=[];a=e instanceof HTMLTemplateElement?[...e.content.childNodes]:[...e.childNodes];for(let l=0;l<a.length;l++){const u=a[l],p=this._domToView(u,o,r),g=p.next().value;g!==null&&(this._isBlockViewElement(g)&&this._processDomInlineNodes(e,r,o),yield g,p.next())}this._processDomInlineNodes(e,r,o)}domSelectionToView(e){if(function(a){if(!C.isGecko||!a.rangeCount)return!1;const l=a.getRangeAt(0).startContainer;try{Object.prototype.toString.call(l)}catch{return!0}return!1}(e))return new ci([]);if(e.rangeCount===1){let a=e.getRangeAt(0).startContainer;un(a)&&(a=a.parentNode);const l=this.fakeSelectionToView(a);if(l)return l}const o=this.isDomSelectionBackward(e),r=[];for(let a=0;a<e.rangeCount;a++){const l=e.getRangeAt(a),u=this.domRangeToView(l);u&&r.push(u)}return new ci(r,{backward:o})}domRangeToView(e){const o=this.domPositionToView(e.startContainer,e.startOffset),r=this.domPositionToView(e.endContainer,e.endOffset);return o&&r?new Ue(o,r):null}domPositionToView(e,o=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,dl(e));const r=this.mapDomToView(e);if(r&&(r.is("uiElement")||r.is("rawElement")))return be._createBefore(r);if(un(e)){if(ya(e))return this.domPositionToView(e.parentNode,dl(e));const a=this.findCorrespondingViewText(e);let l=o;return a?(Ao(e)&&(l-=li,l=l<0?0:l),new be(a,l)):null}if(o===0){const a=this.mapDomToView(e);if(a)return new be(a,0)}else{const a=e.childNodes[o-1];if(un(a)&&ya(a)||a&&this.isBlockFiller(a))return this.domPositionToView(a.parentNode,dl(a));const l=un(a)?this.findCorrespondingViewText(a):this.mapDomToView(a);if(l&&l.parent)return new be(l.parent,l.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(ya(e))return null;const o=this.getHostViewElement(e);if(o)return o;const r=e.previousSibling;if(r){if(!this.isElement(r))return null;const a=this.mapDomToView(r);if(a){const l=a.nextSibling;return l instanceof Ot?l:null}}else{const a=this.mapDomToView(e.parentNode);if(a){const l=a.getChild(0);return l instanceof Ot?l:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const o=e.previousSibling;return o&&this.mapViewToDom(o)?this.mapViewToDom(o).nextSibling:!o&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const o=this.mapViewToDom(e);if(o&&o.ownerDocument.activeElement!==o){const{scrollX:r,scrollY:a}=b.window,l=[];my(o,u=>{const{scrollLeft:p,scrollTop:g}=u;l.push([p,g])}),o.focus(),my(o,u=>{const[p,g]=l.shift();u.scrollLeft=p,u.scrollTop=g}),b.window.scrollTo(r,a)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const o=e.ownerDocument.defaultView.getSelection(),r=this.domSelectionToView(o);r&&r.rangeCount>0&&o.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(Iz):!(e.tagName!=="BR"||!by(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(Dz)||function(o,r){return o.isEqualNode(Sz)&&by(o,r)&&o.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const o=this._domDocument.createRange();try{o.setStart(e.anchorNode,e.anchorOffset),o.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const r=o.collapsed;return o.detach(),r}getHostViewElement(e){const o=function(r){const a=[];let l=r;for(;l&&l.nodeType!=Node.DOCUMENT_NODE;)a.unshift(l),l=l.parentNode;return a}(e);for(o.pop();o.length;){const r=o.pop(),a=this._domToViewMapping.get(r);if(a&&(a.is("uiElement")||a.is("rawElement")))return a}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return cy(this._domDocument);case"markedNbsp":return ly(this._domDocument);case"br":return dy(this._domDocument)}}_isDomSelectionPositionCorrect(e,o){if(un(e)&&Ao(e)&&o<li||this.isElement(e)&&Ao(e.childNodes[o]))return!1;const r=this.mapDomToView(e);return!r||!r.is("uiElement")&&!r.is("rawElement")}*_domToView(e,o,r){if(this.isBlockFiller(e))return null;const a=this.getHostViewElement(e);if(a)return a;if(ul(e)&&o.skipComments)return null;if(un(e)){if(ya(e))return null;{const l=e.data;if(l==="")return null;const u=new Ot(this.document,l);return r.push(u),u}}{let l=this.mapDomToView(e);if(l)return this._isInlineObjectElement(l)&&r.push(l),l;if(this.isDocumentFragment(e))l=new ms(this.document),o.bind&&this.bindDocumentFragments(e,l);else{l=this._createViewElement(e,o),o.bind&&this.bindElements(e,l);const p=e.attributes;if(p)for(let g=p.length,k=0;k<g;k++)l._setAttribute(p[k].name,p[k].value);if(this._isViewElementWithRawContent(l,o))return l._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(l)||r.push(l),l;if(ul(e))return l._setCustomProperty("$rawContent",e.data),l}yield l;const u=[];if(o.withChildren!==!1)for(const p of this.domChildrenToView(e,o,u))l._appendChild(p);if(this._isInlineObjectElement(l))r.push(l);else for(const p of u)r.push(p)}}_processDomInlineNodes(e,o,r){if(!o.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let a=!1;for(let l=0;l<o.length;l++){const u=o[l];if(!u.is("$text")){a=!1;continue}let p,g=!1;if(Mz(u,this.preElements))p=uy(u.data);else{p=u.data.replace(/[ \n\t\r]{1,}/g," "),g=/[^\S\u00A0]/.test(p.charAt(p.length-1));const k=l>0?o[l-1]:null,w=l+1<o.length?o[l+1]:null,A=!k||k.is("element")&&k.name=="br"||a,E=!w&&!Ao(u.data);r.withChildren!==!1&&(A&&(p=p.replace(/^ /,"")),E&&(p=p.replace(/ $/,""))),p=uy(p),p=p.replace(/ \u00A0/g,"  ");const T=w&&w.is("element")&&w.name!="br",D=w&&w.is("$text")&&w.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(p)||!w||T||D)&&(p=p.replace(/\u00A0$/," ")),(A||k&&k.is("element")&&k.name!="br")&&(p=p.replace(/^\u00A0/," "))}p.length==0&&u.parent?(u._remove(),o.splice(l,1),l--):(u._data=p,a=g)}o.length=0}_processDataFromViewText(e){let o=e.data;if(e.getAncestors().some(r=>this.preElements.includes(r.name)))return o;if(o.charAt(0)==" "){const r=this._getTouchingInlineViewNode(e,!1);!(r&&r.is("$textProxy")&&this._nodeEndsWithSpace(r))&&r||(o=""+o.substr(1))}if(o.charAt(o.length-1)==" "){const r=this._getTouchingInlineViewNode(e,!0),a=r&&r.is("$textProxy")&&r.data.charAt(0)==" ";o.charAt(o.length-2)!=" "&&r&&!a||(o=o.substr(0,o.length-1)+"")}return o.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(r=>this.preElements.includes(r.name)))return!1;const o=this._processDataFromViewText(e);return o.charAt(o.length-1)==" "}_getTouchingInlineViewNode(e,o){const r=new fs({startPosition:o?be._createAfter(e):be._createBefore(e),direction:o?"forward":"backward"});for(const a of r){if(a.item.is("element","br"))return null;if(this._isInlineObjectElement(a.item))return a.item;if(a.item.is("containerElement"))return null;if(a.item.is("$textProxy"))return a.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,o){if(ul(e))return new wh(this.document,"$comment");const r=o.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Co(this.document,r)}_isViewElementWithRawContent(e,o){return o.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const o=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(o)}_createReplacementDomElement(e,o){const r=this._domDocument.createElement("span");if(r.setAttribute(gy,e),o){for(;o.firstChild;)r.appendChild(o.firstChild);for(const a of o.getAttributeNames())r.setAttribute(a,o.getAttribute(a))}return r}}function Mz(s,e){return s.getAncestors().some(o=>o.is("element")&&e.includes(o.name))}function my(s,e){let o=s;for(;o;)e(o),o=o.parentElement}function by(s,e){const o=s.parentNode;return!!o&&!!o.tagName&&e.includes(o.tagName.toLowerCase())}function ky(s){s==="script"&&U("domconverter-unsafe-script-element-detected"),s==="style"&&U("domconverter-unsafe-style-element-detected")}class Ci extends Oo(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const wy=yA(function(s,e){ga(e,ba(e),s)});class xa{constructor(e,o,r){this.view=e,this.document=e.document,this.domEvent=o,this.domTarget=o.target,wy(this,r)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class xr extends Ci{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(o=>{this.listenTo(e,o,(r,a)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(a.target)&&this.onDomEvent(a)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,o,r){this.isEnabled&&this.document.fire(e,new xa(this.view,o,r))}}class Pz extends xr{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const o={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return wa(this)}};this.fire(e.type,e,o)}}const Eb=function(){return ut.Date.now()};var Rz=/\s/;const Bz=function(s){for(var e=s.length;e--&&Rz.test(s.charAt(e)););return e};var Nz=/^\s+/;const Oz=function(s){return s&&s.slice(0,Bz(s)+1).replace(Nz,"")};var Lz=/^[-+]0x[0-9a-f]+$/i,jz=/^0b[01]+$/i,zz=/^0o[0-7]+$/i,Fz=parseInt;const vy=function(s){if(typeof s=="number")return s;if(fh(s))return NaN;if(Te(s)){var e=typeof s.valueOf=="function"?s.valueOf():s;s=Te(e)?e+"":e}if(typeof s!="string")return s===0?s:+s;s=Oz(s);var o=jz.test(s);return o||zz.test(s)?Fz(s.slice(2),o?2:8):Lz.test(s)?NaN:+s};var Vz=Math.max,$z=Math.min;const Ea=function(s,e,o){var r,a,l,u,p,g,k=0,w=!1,A=!1,E=!0;if(typeof s!="function")throw new TypeError("Expected a function");function T(q){var Z=r,ae=a;return r=a=void 0,k=q,u=s.apply(ae,Z)}function D(q){var Z=q-g;return g===void 0||Z>=e||Z<0||A&&q-k>=l}function B(){var q=Eb();if(D(q))return z(q);p=setTimeout(B,function(Z){var ae=e-(Z-g);return A?$z(ae,l-(Z-k)):ae}(q))}function z(q){return p=void 0,E&&r?T(q):(r=a=void 0,u)}function $(){var q=Eb(),Z=D(q);if(r=arguments,a=this,g=q,Z){if(p===void 0)return function(ae){return k=ae,p=setTimeout(B,e),w?T(ae):u}(g);if(A)return clearTimeout(p),p=setTimeout(B,e),T(g)}return p===void 0&&(p=setTimeout(B,e)),u}return e=vy(e)||0,Te(o)&&(w=!!o.leading,l=(A="maxWait"in o)?Vz(vy(o.maxWait)||0,e):l,E="trailing"in o?!!o.trailing:E),$.cancel=function(){p!==void 0&&clearTimeout(p),k=0,r=g=a=p=void 0},$.flush=function(){return p===void 0?u:z(Eb())},$};class Uz extends Ci{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=Ea(o=>{this.document.fire("selectionChangeDone",o)},200)}observe(){const e=this.document;e.on("arrowKey",(o,r)=>{e.selection.isFake&&this.isEnabled&&r.preventDefault()},{context:"$capture"}),e.on("arrowKey",(o,r)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(r.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const o=this.document.selection,r=new ci(o.getRanges(),{backward:o.isBackward,fake:!1});e!=pt.arrowleft&&e!=pt.arrowup||r.setTo(r.getFirstPosition()),e!=pt.arrowright&&e!=pt.arrowdown||r.setTo(r.getLastPosition());const a={oldSelection:o,newSelection:r,domSelection:null};this.document.fire("selectionChange",a),this._fireSelectionChangeDoneDebounced(a)}}const Hz=function(s){return this.__data__.set(s,"__lodash_hash_undefined__"),this},Wz=function(s){return this.__data__.has(s)};function Ch(s){var e=-1,o=s==null?0:s.length;for(this.__data__=new Qu;++e<o;)this.add(s[e])}Ch.prototype.add=Ch.prototype.push=Hz,Ch.prototype.has=Wz;const qz=Ch,Gz=function(s,e){for(var o=-1,r=s==null?0:s.length;++o<r;)if(e(s[o],o,s))return!0;return!1},Kz=function(s,e){return s.has(e)},_y=function(s,e,o,r,a,l){var u=1&o,p=s.length,g=e.length;if(p!=g&&!(u&&g>p))return!1;var k=l.get(s),w=l.get(e);if(k&&w)return k==e&&w==s;var A=-1,E=!0,T=2&o?new qz:void 0;for(l.set(s,e),l.set(e,s);++A<p;){var D=s[A],B=e[A];if(r)var z=u?r(B,D,A,e,s,l):r(D,B,A,s,e,l);if(z!==void 0){if(z)continue;E=!1;break}if(T){if(!Gz(e,function($,q){if(!Kz(T,q)&&(D===$||a(D,$,o,r,l)))return T.push(q)})){E=!1;break}}else if(D!==B&&!a(D,B,o,r,l)){E=!1;break}}return l.delete(s),l.delete(e),E},Yz=function(s){var e=-1,o=Array(s.size);return s.forEach(function(r,a){o[++e]=[a,r]}),o},Qz=function(s){var e=-1,o=Array(s.size);return s.forEach(function(r){o[++e]=r}),o};var Cy=zt?zt.prototype:void 0,Tb=Cy?Cy.valueOf:void 0;const Zz=function(s,e,o,r,a,l,u){switch(o){case"[object DataView]":if(s.byteLength!=e.byteLength||s.byteOffset!=e.byteOffset)return!1;s=s.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(s.byteLength!=e.byteLength||!l(new nh(s),new nh(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Wi(+s,+e);case"[object Error]":return s.name==e.name&&s.message==e.message;case"[object RegExp]":case"[object String]":return s==e+"";case"[object Map]":var p=Yz;case"[object Set]":var g=1&r;if(p||(p=Qz),s.size!=e.size&&!g)return!1;var k=u.get(s);if(k)return k==e;r|=2,u.set(s,e);var w=_y(p(s),p(e),r,a,l,u);return u.delete(s),w;case"[object Symbol]":if(Tb)return Tb.call(s)==Tb.call(e)}return!1};var Jz=Object.prototype.hasOwnProperty;const Xz=function(s,e,o,r,a,l){var u=1&o,p=$m(s),g=p.length;if(g!=$m(e).length&&!u)return!1;for(var k=g;k--;){var w=p[k];if(!(u?w in e:Jz.call(e,w)))return!1}var A=l.get(s),E=l.get(e);if(A&&E)return A==e&&E==s;var T=!0;l.set(s,e),l.set(e,s);for(var D=u;++k<g;){var B=s[w=p[k]],z=e[w];if(r)var $=u?r(z,B,w,e,s,l):r(B,z,w,s,e,l);if(!($===void 0?B===z||a(B,z,o,r,l):$)){T=!1;break}D||(D=w=="constructor")}if(T&&!D){var q=s.constructor,Z=e.constructor;q==Z||!("constructor"in s)||!("constructor"in e)||typeof q=="function"&&q instanceof q&&typeof Z=="function"&&Z instanceof Z||(T=!1)}return l.delete(s),l.delete(e),T};var Ay="[object Arguments]",yy="[object Array]",Ah="[object Object]",xy=Object.prototype.hasOwnProperty;const eF=function(s,e,o,r,a,l){var u=Wt(s),p=Wt(e),g=u?yy:cl(s),k=p?yy:cl(e),w=(g=g==Ay?Ah:g)==Ah,A=(k=k==Ay?Ah:k)==Ah,E=g==k;if(E&&rl(s)){if(!rl(e))return!1;u=!0,w=!1}if(E&&!w)return l||(l=new fa),u||zm(s)?_y(s,e,o,r,a,l):Zz(s,e,g,o,r,a,l);if(!(1&o)){var T=w&&xy.call(s,"__wrapped__"),D=A&&xy.call(e,"__wrapped__");if(T||D){var B=T?s.value():s,z=D?e.value():e;return l||(l=new fa),a(B,z,o,r,l)}}return!!E&&(l||(l=new fa),Xz(s,e,o,r,a,l))},yh=function s(e,o,r,a,l){return e===o||(e==null||o==null||!Cn(e)&&!Cn(o)?e!=e&&o!=o:eF(e,o,r,a,s,l))},tF=function(s,e,o){var r=(o=typeof o=="function"?o:void 0)?o(s,e):void 0;return r===void 0?yh(s,e,void 0,o):!!r};class Ey extends Ci{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const o of this._domElements)this._mutationObserver.observe(o,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const o=this.domConverter,r=new Set,a=new Set;for(const u of e){const p=o.mapDomToView(u.target);p&&(p.is("uiElement")||p.is("rawElement")||u.type!=="childList"||this._isBogusBrMutation(u)||a.add(p))}for(const u of e){const p=o.mapDomToView(u.target);if((!p||!p.is("uiElement")&&!p.is("rawElement"))&&u.type==="characterData"){const g=o.findCorrespondingViewText(u.target);g&&!a.has(g.parent)?r.add(g):!g&&Ao(u.target)&&a.add(o.mapDomToView(u.target.parentNode))}}let l=!1;for(const u of r)l=!0,this.renderer.markToSync("text",u);for(const u of a){const p=o.mapViewToDom(u),g=Array.from(u.getChildren()),k=Array.from(o.domChildrenToView(p,{withChildren:!1}));tF(g,k,nF)||(l=!0,this.renderer.markToSync("children",u))}l&&this.view.forceRender()}_isBogusBrMutation(e){let o=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(o=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),o&&o.is("element","br")}}function nF(s,e){if(!Array.isArray(s))return s===e||!(!s.is("$text")||!e.is("$text"))&&s.data===e.data}class xh extends xr{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const o=this.document;o.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),o.on("blur",(r,a)=>{const l=o.selection.editableElement;l!==null&&l!==a.target||(o.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class oF extends Ci{constructor(e){super(e),this.mutationObserver=e.getObserver(Ey),this.focusObserver=e.getObserver(xh),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Ea(o=>{this.document.fire("selectionChangeDone",o)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Ea(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const o=e.ownerDocument,r=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,o),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",r,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",r,{priority:"highest",useCapture:!0}),this._documents.has(o)||(this.listenTo(o,"mouseup",r,{priority:"highest",useCapture:!0}),this.listenTo(o,"selectionchange",(a,l)=>{this.document.isComposing&&!C.isAndroid||(this._handleSelectionChange(l,o),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(o))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,o){if(!this.isEnabled)return;const r=o.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(r.anchorNode))return;this.mutationObserver.flush();const a=this.domConverter.domSelectionToView(r);if(a.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(a)||!this.domConverter.isDomSelectionCorrect(r))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(a))this.view.forceRender();else{const l={oldSelection:this.selection,newSelection:a,domSelection:r};this.document.fire("selectionChange",l),this._fireSelectionChangeDoneDebounced(l)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class iF extends xr{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const o=this.document;o.on("compositionstart",()=>{o.isComposing=!0},{priority:"low"}),o.on("compositionend",()=>{o.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class Ty{constructor(e,o={}){this._files=o.cacheFiles?Iy(e):null,this._native=e}get files(){return this._files||(this._files=Iy(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,o){this._native.setData(e,o)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,o,r){this._native.setDragImage(e,o,r)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function Iy(s){const e=Array.from(s.files||[]),o=Array.from(s.items||[]);return e.length?e:o.filter(r=>r.kind==="file").map(r=>r.getAsFile())}class rF extends xr{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const o=e.getTargetRanges(),r=this.view,a=r.document;let l=null,u=null,p=[];if(e.dataTransfer&&(l=new Ty(e.dataTransfer)),e.data!==null?u=e.data:l&&(u=l.getData("text/plain")),a.selection.isFake)p=Array.from(a.selection.getRanges());else if(o.length)p=o.map(g=>{const k=r.domConverter.domPositionToView(g.startContainer,g.startOffset),w=r.domConverter.domPositionToView(g.endContainer,g.endOffset);return k?r.createRange(k,w):w?r.createRange(w):void 0}).filter(g=>!!g);else if(C.isAndroid){const g=e.target.ownerDocument.defaultView.getSelection();p=Array.from(r.domConverter.domSelectionToView(g).getRanges())}if(C.isAndroid&&e.inputType=="insertCompositionText"&&u&&u.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[r.createRange(p[0].end)]});else if(e.inputType=="insertText"&&u&&u.includes(`
`)){const g=u.split(/\n{1,2}/g);let k=p;for(let w=0;w<g.length;w++){const A=g[w];A!=""&&(this.fire(e.type,e,{data:A,dataTransfer:l,targetRanges:k,inputType:e.inputType,isComposing:e.isComposing}),k=[a.selection.getFirstRange()]),w+1<g.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:k}),k=[a.selection.getFirstRange()])}}else this.fire(e.type,e,{data:u,dataTransfer:l,targetRanges:p,inputType:e.inputType,isComposing:e.isComposing})}}class sF extends Ci{constructor(e){super(e),this.document.on("keydown",(o,r)=>{if(this.isEnabled&&((a=r.keyCode)==pt.arrowright||a==pt.arrowleft||a==pt.arrowup||a==pt.arrowdown)){const l=new Ca(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(l,r),l.stop.called&&o.stop()}var a})}observe(){}stopObserving(){}}class aF extends Ci{constructor(e){super(e);const o=this.document;o.on("keydown",(r,a)=>{if(!this.isEnabled||a.keyCode!=pt.tab||a.ctrlKey)return;const l=new Ca(o,"tab",o.selection.getFirstRange());o.fire(l,a),l.stop.called&&r.stop()})}observe(){}stopObserving(){}}const di=function(s){return Km(s,5)};class cF extends Y(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new kh(e),this.domConverter=new _h(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new yz(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new oy(this.document),this.addObserver(Ey),this.addObserver(xh),this.addObserver(oF),this.addObserver(Pz),this.addObserver(Uz),this.addObserver(iF),this.addObserver(sF),this.addObserver(rF),this.addObserver(aF),this.document.on("arrowKey",Cz,{priority:"low"}),bz(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),C.isiOS&&this.listenTo(this.document,"blur",(o,r)=>{this.domConverter.mapDomToView(r.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,o="main"){const r=this.document.getRoot(o);r._name=e.tagName.toLowerCase();const a={};for(const{name:u,value:p}of Array.from(e.attributes))a[u]=p,u==="class"?this._writer.addClass(p.split(" "),r):this._writer.setAttribute(u,p,r);this._initialDomRootAttributes.set(e,a);const l=()=>{this._writer.setAttribute("contenteditable",(!r.isReadOnly).toString(),r),r.isReadOnly?this._writer.addClass("ck-read-only",r):this._writer.removeClass("ck-read-only",r)};l(),this.domRoots.set(o,e),this.domConverter.bindElements(e,r),this._renderer.markToSync("children",r),this._renderer.markToSync("attributes",r),this._renderer.domDocuments.add(e.ownerDocument),r.on("change:children",(u,p)=>this._renderer.markToSync("children",p)),r.on("change:attributes",(u,p)=>this._renderer.markToSync("attributes",p)),r.on("change:text",(u,p)=>this._renderer.markToSync("text",p)),r.on("change:isReadOnly",()=>this.change(l)),r.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const u of this._observers.values())u.observe(e,o)}detachDomRoot(e){const o=this.domRoots.get(e);Array.from(o.attributes).forEach(({name:a})=>o.removeAttribute(a));const r=this._initialDomRootAttributes.get(o);for(const a in r)o.setAttribute(a,r[a]);this.domRoots.delete(e),this.domConverter.unbindDomElement(o);for(const a of this._observers.values())a.stopObserving(o)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let o=this._observers.get(e);if(o)return o;o=new e(this),this._observers.set(e,o);for(const[r,a]of this.domRoots)o.observe(a,r);return o.enable(),o}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:o,viewportOffset:r=20,ancestorOffset:a=20}={}){const l=this.document.selection.getFirstRange();if(!l)return;const u=di({alignToTop:e,forceScroll:o,viewportOffset:r,ancestorOffset:a});typeof r=="number"&&(r={top:r,bottom:r,left:r,right:r});const p={target:this.domConverter.viewRangeToDom(l),viewportOffset:r,ancestorOffset:a,alignToTop:e,forceScroll:o};this.fire("scrollToTheSelection",p,u),function({target:g,viewportOffset:k=0,ancestorOffset:w=0,alignToTop:A,forceScroll:E}){const T=Zm(g);let D=T,B=null;for(k=function(z){return typeof z=="number"?{top:z,bottom:z,left:z,right:z}:z}(k);D;){let z;z=mj(D==T?g:B),gj({parent:z,getRect:()=>wA(g,D),alignToTop:A,ancestorOffset:w,forceScroll:E});const $=wA(g,D);if(fj({window:D,rect:$,viewportOffset:k,alignToTop:A,forceScroll:E}),D.parent!=D){if(B=D.frameElement,D=D.parent,!B)return}else D=null}}(p)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new P("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const o=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),o}catch(o){P.rethrowUnexpectedError(o,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(xh).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,o){return be._createAt(e,o)}createPositionAfter(e){return be._createAfter(e)}createPositionBefore(e){return be._createBefore(e)}createRange(e,o){return new Ue(e,o)}createRangeOn(e){return Ue._createOn(e)}createRangeIn(e){return Ue._createIn(e)}createSelection(...e){return new ci(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Er{is(){throw new Error("is() method is abstract")}}class bs extends Er{constructor(e){super(),this.parent=null,this._attrs=wi(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new P("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new P("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let o=this;for(;o.parent;)e.unshift(o.startOffset),o=o.parent;return e}getAncestors(e={}){const o=[];let r=e.includeSelf?this:this.parent;for(;r;)o[e.parentFirst?"push":"unshift"](r),r=r.parent;return o}getCommonAncestor(e,o={}){const r=this.getAncestors(o),a=e.getAncestors(o);let l=0;for(;r[l]==a[l]&&r[l];)l++;return l===0?null:r[l-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const o=this.getPath(),r=e.getPath(),a=De(o,r);switch(a){case"prefix":return!0;case"extension":return!1;default:return o[a]<r[a]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((o,r)=>(o[r[0]]=r[1],o),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,o){this._attrs.set(e,o)}_setAttributesTo(e){this._attrs=wi(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}bs.prototype.is=function(s){return s==="node"||s==="model:node"};class wl{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,o)=>e+o.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const o=this._nodes.indexOf(e);return o==-1?null:o}getNodeStartOffset(e){const o=this.getNodeIndex(e);return o===null?null:this._nodes.slice(0,o).reduce((r,a)=>r+a.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const o=this._nodes[e];if(!o)throw new P("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(o)}offsetToIndex(e){let o=0;for(const r of this._nodes){if(e>=o&&e<o+r.offsetSize)return this.getNodeIndex(r);o+=r.offsetSize}if(o!=e)throw new P("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,o){for(const r of o)if(!(r instanceof bs))throw new P("model-nodelist-insertnodes-not-node",this);this._nodes=function(r,a,l,u){if(Math.max(a.length,r.length)>1e4)return r.slice(0,l).concat(a).concat(r.slice(l+u,r.length));{const p=Array.from(r);return p.splice(l,u,...a),p}}(this._nodes,Array.from(o),e,0)}_removeNodes(e,o=1){return this._nodes.splice(e,o)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class Lt extends bs{constructor(e,o){super(o),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Lt(this.data,this.getAttributes())}static fromJSON(e){return new Lt(e.data,e.attributes)}}Lt.prototype.is=function(s){return s==="$text"||s==="model:$text"||s==="text"||s==="model:text"||s==="node"||s==="model:node"};class ui extends Er{constructor(e,o,r){if(super(),this.textNode=e,o<0||o>e.offsetSize)throw new P("model-textproxy-wrong-offsetintext",this);if(r<0||o+r>e.offsetSize)throw new P("model-textproxy-wrong-length",this);this.data=e.data.substring(o,o+r),this.offsetInText=o}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const o=[];let r=e.includeSelf?this:this.parent;for(;r;)o[e.parentFirst?"push":"unshift"](r),r=r.parent;return o}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}ui.prototype.is=function(s){return s==="$textProxy"||s==="model:$textProxy"||s==="textProxy"||s==="model:textProxy"};class Mt extends bs{constructor(e,o,r){super(o),this._children=new wl,this.name=e,r&&this._insertChild(0,r)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let o=this;for(const r of e)o=o.getChild(o.offsetToIndex(r));return o}findAncestor(e,o={}){let r=o.includeSelf?this:this.parent;for(;r;){if(r.name===e)return r;r=r.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const o of this._children)e.children.push(o.toJSON())}return e}_clone(e=!1){const o=e?Array.from(this._children).map(r=>r._clone(!0)):void 0;return new Mt(this.name,this.getAttributes(),o)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,o){const r=function(a){return typeof a=="string"?[new Lt(a)]:(Ye(a)||(a=[a]),Array.from(a).map(l=>typeof l=="string"?new Lt(l):l instanceof ui?new Lt(l.data,l.getAttributes()):l))}(o);for(const a of r)a.parent!==null&&a._remove(),a.parent=this;this._children._insertNodes(e,r)}_removeChildren(e,o=1){const r=this._children._removeNodes(e,o);for(const a of r)a.parent=null;return r}static fromJSON(e){let o;if(e.children){o=[];for(const r of e.children)r.name?o.push(Mt.fromJSON(r)):o.push(Lt.fromJSON(r))}return new Mt(e.name,e.attributes,o)}}Mt.prototype.is=function(s,e){return e?e===this.name&&(s==="element"||s==="model:element"):s==="element"||s==="model:element"||s==="node"||s==="model:node"};class Gi{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new P("model-tree-walker-no-start-position",null);const o=e.direction||"forward";if(o!="forward"&&o!="backward")throw new P("model-tree-walker-unknown-direction",e,{direction:o});this.direction=o,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=de._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let o,r,a,l;do a=this.position,l=this._visitedParent,{done:o,value:r}=this.next();while(!o&&e(r));o||(this._position=a,this._visitedParent=l)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,o=this.position.clone(),r=this._visitedParent;if(r.parent===null&&o.offset===r.maxOffset)return{done:!0,value:void 0};if(r===this._boundaryEndParent&&o.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const a=vl(o,r),l=a||Sy(o,r,a);if(l instanceof Mt){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(o))return{done:!0,value:void 0};o.offset++}else o.path.push(0),this._visitedParent=l;return this._position=o,ks("elementStart",l,e,o,1)}if(l instanceof Lt){let u;if(this.singleCharacters)u=1;else{let k=l.endOffset;this._boundaryEndParent==r&&this.boundaries.end.offset<k&&(k=this.boundaries.end.offset),u=k-o.offset}const p=o.offset-l.startOffset,g=new ui(l,p,u);return o.offset+=u,this._position=o,ks("text",g,e,o,u)}return o.path.pop(),o.offset++,this._position=o,this._visitedParent=r.parent,this.ignoreElementEnd?this._next():ks("elementEnd",r,e,o)}_previous(){const e=this.position,o=this.position.clone(),r=this._visitedParent;if(r.parent===null&&o.offset===0)return{done:!0,value:void 0};if(r==this._boundaryStartParent&&o.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const a=o.parent,l=vl(o,a),u=l||Dy(o,a,l);if(u instanceof Mt)return o.offset--,this.shallow?(this._position=o,ks("elementStart",u,e,o,1)):(o.path.push(u.maxOffset),this._position=o,this._visitedParent=u,this.ignoreElementEnd?this._previous():ks("elementEnd",u,e,o));if(u instanceof Lt){let p;if(this.singleCharacters)p=1;else{let w=u.startOffset;this._boundaryStartParent==r&&this.boundaries.start.offset>w&&(w=this.boundaries.start.offset),p=o.offset-w}const g=o.offset-u.startOffset,k=new ui(u,g-p,p);return o.offset-=p,this._position=o,ks("text",k,e,o,p)}return o.path.pop(),this._position=o,this._visitedParent=r.parent,ks("elementStart",r,e,o,1)}}function ks(s,e,o,r,a){return{done:!1,value:{type:s,item:e,previousPosition:o,nextPosition:r,length:a}}}class de extends Er{constructor(e,o,r="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new P("model-position-root-invalid",e);if(!(o instanceof Array)||o.length===0)throw new P("model-position-path-incorrect-format",e,{path:o});e.is("rootElement")?o=o.slice():(o=[...e.getPath(),...o],e=e.root),this.root=e,this.path=o,this.stickiness=r}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let o=0;o<this.path.length-1;o++)if(e=e.getChild(e.offsetToIndex(this.path[o])),!e)throw new P("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new P("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return vl(this,this.parent)}get nodeAfter(){const e=this.parent;return Sy(this,e,vl(this,e))}get nodeBefore(){const e=this.parent;return Dy(this,e,vl(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const o=De(this.path,e.path);switch(o){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[o]<e.path[o]?"before":"after"}}getLastMatchingPosition(e,o={}){o.startPosition=this;const r=new Gi(o);return r.skip(e),r.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const o=this.parent;return o.is("element")?o.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const o=De(this.path,e.path),r=typeof o=="string"?Math.min(this.path.length,e.path.length):o;return this.path.slice(0,r)}getCommonAncestor(e){const o=this.getAncestors(),r=e.getAncestors();let a=0;for(;o[a]==r[a]&&o[a];)a++;return a===0?null:o[a-1]}getShiftedBy(e){const o=this.clone(),r=o.offset+e;return o.offset=r<0?0:r,o}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const o=Math.min(this.path.length,e.path.length);for(let r=0;r<o;r++){const a=this.path[r]-e.path[r];if(a<-1||a>1)return!1;if(a===1)return My(e,this,r);if(a===-1)return My(this,e,r)}return this.path.length===e.path.length||(this.path.length>e.path.length?Ib(this.path,o):Ib(e.path,o))}hasSameParentAs(e){return this.root!==e.root?!1:De(this.getParentPath(),e.getParentPath())=="same"}getTransformedByOperation(e){let o;switch(e.type){case"insert":o=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":o=this._getTransformedByMoveOperation(e);break;case"split":o=this._getTransformedBySplitOperation(e);break;case"merge":o=this._getTransformedByMergeOperation(e);break;default:o=de._createAt(this)}return o}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const o=e.movedRange;return o.containsPosition(this)||o.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const o=e.movedRange;let r;return o.containsPosition(this)||o.start.isEqual(this)?(r=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(r=r._getTransformedByDeletion(e.deletionPosition,1))):r=this.isEqual(e.deletionPosition)?de._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),r}_getTransformedByDeletion(e,o){const r=de._createAt(this);if(this.root!=e.root)return r;if(De(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+o>this.offset)return null;r.offset-=o}}else if(De(e.getParentPath(),this.getParentPath())=="prefix"){const a=e.path.length-1;if(e.offset<=this.path[a]){if(e.offset+o>this.path[a])return null;r.path[a]-=o}}return r}_getTransformedByInsertion(e,o){const r=de._createAt(this);if(this.root!=e.root)return r;if(De(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(r.offset+=o);else if(De(e.getParentPath(),this.getParentPath())=="prefix"){const a=e.path.length-1;e.offset<=this.path[a]&&(r.path[a]+=o)}return r}_getTransformedByMove(e,o,r){if(o=o._getTransformedByDeletion(e,r),e.isEqual(o))return de._createAt(this);const a=this._getTransformedByDeletion(e,r);return a===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(r).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,o):a._getTransformedByInsertion(o,r)}_getCombined(e,o){const r=e.path.length-1,a=de._createAt(o);return a.stickiness=this.stickiness,a.offset=a.offset+this.path[r]-e.offset,a.path=[...a.path,...this.path.slice(r+1)],a}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,o,r="toNone"){if(e instanceof de)return new de(e.root,e.path,e.stickiness);{const a=e;if(o=="end")o=a.maxOffset;else{if(o=="before")return this._createBefore(a,r);if(o=="after")return this._createAfter(a,r);if(o!==0&&!o)throw new P("model-createpositionat-offset-required",[this,e])}if(!a.is("element")&&!a.is("documentFragment"))throw new P("model-position-parent-incorrect",[this,e]);const l=a.getPath();return l.push(o),new this(a.root,l,r)}}static _createAfter(e,o){if(!e.parent)throw new P("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,o)}static _createBefore(e,o){if(!e.parent)throw new P("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,o)}static fromJSON(e,o){if(e.root==="$graveyard"){const r=new de(o.graveyard,e.path);return r.stickiness=e.stickiness,r}if(!o.getRoot(e.root))throw new P("model-position-fromjson-no-root",o,{rootName:e.root});return new de(o.getRoot(e.root),e.path,e.stickiness)}}function vl(s,e){const o=e.getChild(e.offsetToIndex(s.offset));return o&&o.is("$text")&&o.startOffset<s.offset?o:null}function Sy(s,e,o){return o!==null?null:e.getChild(e.offsetToIndex(s.offset))}function Dy(s,e,o){return o!==null?null:e.getChild(e.offsetToIndex(s.offset)-1)}function My(s,e,o){return o+1!==s.path.length&&!!Ib(e.path,o+1)&&!!function(r,a){let l=r.parent,u=r.path.length-1,p=0;for(;u>=a;){if(r.path[u]+p!==l.maxOffset)return!1;p=1,u--,l=l.parent}return!0}(s,o+1)}function Ib(s,e){for(;e<s.length;){if(s[e]!==0)return!1;e++}return!0}de.prototype.is=function(s){return s==="position"||s==="model:position"};class ne extends Er{constructor(e,o){super(),this.start=de._createAt(e),this.end=o?de._createAt(o):de._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Gi({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return De(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,o=!1){e.isCollapsed&&(o=!1);const r=this.containsPosition(e.start)||o&&this.start.isEqual(e.start),a=this.containsPosition(e.end)||o&&this.end.isEqual(e.end);return r&&a}containsItem(e){const o=de._createBefore(e);return this.containsPosition(o)||this.start.isEqual(o)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const o=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&o.push(new ne(this.start,e.start)),this.containsPosition(e.end)&&o.push(new ne(e.end,this.end))):o.push(new ne(this.start,this.end)),o}getIntersection(e){if(this.isIntersecting(e)){let o=this.start,r=this.end;return this.containsPosition(e.start)&&(o=e.start),this.containsPosition(e.end)&&(r=e.end),new ne(o,r)}return null}getJoined(e,o=!1){let r=this.isIntersecting(e);if(r||(r=this.start.isBefore(e.start)?o?this.end.isTouching(e.start):this.end.isEqual(e.start):o?e.end.isTouching(this.start):e.end.isEqual(this.start)),!r)return null;let a=this.start,l=this.end;return e.start.isBefore(a)&&(a=e.start),e.end.isAfter(l)&&(l=e.end),new ne(a,l)}getMinimalFlatRanges(){const e=[],o=this.start.getCommonPath(this.end).length,r=de._createAt(this.start);let a=r.parent;for(;r.path.length>o+1;){const l=a.maxOffset-r.offset;l!==0&&e.push(new ne(r,r.getShiftedBy(l))),r.path=r.path.slice(0,-1),r.offset++,a=a.parent}for(;r.path.length<=this.end.path.length;){const l=this.end.path[r.path.length-1],u=l-r.offset;u!==0&&e.push(new ne(r,r.getShiftedBy(u))),r.offset=l,r.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Gi(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const o=new Gi(e);for(const r of o)yield r.item}*getPositions(e={}){e.boundaries=this;const o=new Gi(e);yield o.position;for(const r of o)yield r.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new ne(this.start,this.end)]}getTransformedByOperations(e){const o=[new ne(this.start,this.end)];for(const r of e)for(let a=0;a<o.length;a++){const l=o[a].getTransformedByOperation(r);o.splice(a,1,...l),a+=l.length-1}for(let r=0;r<o.length;r++){const a=o[r];for(let l=r+1;l<o.length;l++){const u=o[l];(a.containsRange(u)||u.containsRange(a)||a.isEqual(u))&&o.splice(l,1)}}return o}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,o=this.end.nodeBefore;return e&&e.is("element")&&e===o?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,o=!1){return this._getTransformedByInsertion(e.position,e.howMany,o)}_getTransformedByMoveOperation(e,o=!1){const r=e.sourcePosition,a=e.howMany,l=e.targetPosition;return this._getTransformedByMove(r,l,a,o)}_getTransformedBySplitOperation(e){const o=this.start._getTransformedBySplitOperation(e);let r=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(r=this.end.getShiftedBy(1)),o.root!=r.root&&(r=this.end.getShiftedBy(-1)),new ne(o,r)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new ne(this.start);let o=this.start._getTransformedByMergeOperation(e),r=this.end._getTransformedByMergeOperation(e);return o.root!=r.root&&(r=this.end.getShiftedBy(-1)),o.isAfter(r)?(e.sourcePosition.isBefore(e.targetPosition)?(o=de._createAt(r),o.offset=0):(e.deletionPosition.isEqual(o)||(r=e.deletionPosition),o=e.targetPosition),new ne(o,r)):new ne(o,r)}_getTransformedByInsertion(e,o,r=!1){if(r&&this.containsPosition(e))return[new ne(this.start,e),new ne(e.getShiftedBy(o),this.end._getTransformedByInsertion(e,o))];{const a=new ne(this.start,this.end);return a.start=a.start._getTransformedByInsertion(e,o),a.end=a.end._getTransformedByInsertion(e,o),[a]}}_getTransformedByMove(e,o,r,a=!1){if(this.isCollapsed){const A=this.start._getTransformedByMove(e,o,r);return[new ne(A)]}const l=ne._createFromPositionAndShift(e,r),u=o._getTransformedByDeletion(e,r);if(this.containsPosition(o)&&!a&&(l.containsPosition(this.start)||l.containsPosition(this.end))){const A=this.start._getTransformedByMove(e,o,r),E=this.end._getTransformedByMove(e,o,r);return[new ne(A,E)]}let p;const g=this.getDifference(l);let k=null;const w=this.getIntersection(l);if(g.length==1?k=new ne(g[0].start._getTransformedByDeletion(e,r),g[0].end._getTransformedByDeletion(e,r)):g.length==2&&(k=new ne(this.start,this.end._getTransformedByDeletion(e,r))),p=k?k._getTransformedByInsertion(u,r,w!==null||a):[],w){const A=new ne(w.start._getCombined(l.start,u),w.end._getCombined(l.start,u));p.length==2?p.splice(1,0,A):p.push(A)}return p}_getTransformedByDeletion(e,o){let r=this.start._getTransformedByDeletion(e,o),a=this.end._getTransformedByDeletion(e,o);return r==null&&a==null?null:(r==null&&(r=e),a==null&&(a=e),new ne(r,a))}static _createFromPositionAndShift(e,o){const r=e,a=e.getShiftedBy(o);return o>0?new this(r,a):new this(a,r)}static _createIn(e){return new this(de._createAt(e,0),de._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(de._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new P("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const o=e[0];e.sort((l,u)=>l.start.isAfter(u.start)?1:-1);const r=e.indexOf(o),a=new this(o.start,o.end);if(r>0)for(let l=r-1;e[l].end.isEqual(a.start);l++)a.start=de._createAt(e[l].start);for(let l=r+1;l<e.length&&e[l].start.isEqual(a.end);l++)a.end=de._createAt(e[l].end);return a}static fromJSON(e,o){return new this(de.fromJSON(e.start,o),de.fromJSON(e.end,o))}}ne.prototype.is=function(s){return s==="range"||s==="model:range"};class Py extends K(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,o)=>{if(o.viewPosition)return;const r=this._modelToViewMapping.get(o.modelPosition.parent);if(!r)throw new P("mapping-model-position-view-parent-not-found",this,{modelPosition:o.modelPosition});o.viewPosition=this.findPositionIn(r,o.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,o)=>{if(o.modelPosition)return;const r=this.findMappedViewAncestor(o.viewPosition),a=this._viewToModelMapping.get(r),l=this._toModelOffset(o.viewPosition.parent,o.viewPosition.offset,r);o.modelPosition=de._createAt(a,l)},{priority:"low"})}bindElements(e,o){this._modelToViewMapping.set(e,o),this._viewToModelMapping.set(o,e)}unbindViewElement(e,o={}){const r=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const a of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(a);o.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(r)==e&&this._modelToViewMapping.delete(r))}unbindModelElement(e){const o=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(o)==e&&this._viewToModelMapping.delete(o)}bindElementToMarker(e,o){const r=this._markerNameToElements.get(o)||new Set;r.add(e);const a=this._elementToMarkerNames.get(e)||new Set;a.add(o),this._markerNameToElements.set(o,r),this._elementToMarkerNames.set(e,a)}unbindElementFromMarkerName(e,o){const r=this._markerNameToElements.get(o);r&&(r.delete(e),r.size==0&&this._markerNameToElements.delete(o));const a=this._elementToMarkerNames.get(e);a&&(a.delete(o),a.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,o]of this._deferredBindingRemovals)e.root==o&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new ne(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Ue(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const o={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",o),o.modelPosition}toViewPosition(e,o={}){const r={modelPosition:e,mapper:this,isPhantom:o.isPhantom};return this.fire("modelToViewPosition",r),r.viewPosition}markerNameToElements(e){const o=this._markerNameToElements.get(e);if(!o)return null;const r=new Set;for(const a of o)if(a.is("attributeElement"))for(const l of a.getElementsWithSameId())r.add(l);else r.add(a);return r}registerViewToModelLength(e,o){this._viewToModelLengthCallbacks.set(e,o)}findMappedViewAncestor(e){let o=e.parent;for(;!this._viewToModelMapping.has(o);)o=o.parent;return o}_toModelOffset(e,o,r){if(r!=e)return this._toModelOffset(e.parent,e.index,r)+this._toModelOffset(e,o,e);if(e.is("$text"))return o;let a=0;for(let l=0;l<o;l++)a+=this.getModelLength(e.getChild(l));return a}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let o=0;for(const r of e.getChildren())o+=this.getModelLength(r);return o}}findPositionIn(e,o){let r,a=0,l=0,u=0;if(e.is("$text"))return new be(e,o);for(;l<o;)r=e.getChild(u),a=this.getModelLength(r),l+=a,u++;return l==o?this._moveViewPositionToTextNode(new be(e,u)):this.findPositionIn(r,o-(l-a))}_moveViewPositionToTextNode(e){const o=e.nodeBefore,r=e.nodeAfter;return o instanceof Ot?new be(o,o.data.length):r instanceof Ot?new be(r,0):e}}class lF{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,o){o=Eh(o),e instanceof ui&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(o,!0)}consume(e,o){return o=Eh(o),e instanceof ui&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,o)&&(this._consumable.get(e).set(o,!1),!0)}test(e,o){o=Eh(o),e instanceof ui&&(e=this._getSymbolForTextProxy(e));const r=this._consumable.get(e);if(r===void 0)return null;const a=r.get(o);return a===void 0?null:a}revert(e,o){o=Eh(o),e instanceof ui&&(e=this._getSymbolForTextProxy(e));const r=this.test(e,o);return r===!1?(this._consumable.get(e).set(o,!0),!0):r!==!0&&null}verifyAllConsumed(e){const o=[];for(const[r,a]of this._consumable)for(const[l,u]of a){const p=l.split(":")[0];u&&e==p&&o.push({event:l,item:r.name||r.description})}if(o.length)throw new P("conversion-model-consumable-not-consumed",null,{items:o})}_getSymbolForTextProxy(e){let o=null;const r=this._textProxyRegistry.get(e.startOffset);if(r){const a=r.get(e.endOffset);a&&(o=a.get(e.parent))}return o||(o=this._addSymbolForTextProxy(e)),o}_addSymbolForTextProxy(e){const o=e.startOffset,r=e.endOffset,a=e.parent,l=Symbol("$textProxy:"+e.data);let u,p;return u=this._textProxyRegistry.get(o),u||(u=new Map,this._textProxyRegistry.set(o,u)),p=u.get(r),p||(p=new Map,u.set(r,p)),p.set(a,l),l}}function Eh(s){const e=s.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?s:e.length>1?e[0]+":"+e[1]:e[0]}var dF=Object.defineProperty,uF=Object.defineProperties,hF=Object.getOwnPropertyDescriptors,Ry=Object.getOwnPropertySymbols,pF=Object.prototype.hasOwnProperty,fF=Object.prototype.propertyIsEnumerable,By=(s,e,o)=>e in s?dF(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,Sb=(s,e)=>{for(var o in e||(e={}))pF.call(e,o)&&By(s,o,e[o]);if(Ry)for(var o of Ry(e))fF.call(e,o)&&By(s,o,e[o]);return s},Ny=(s,e)=>uF(s,hF(e));class Oy extends K(){constructor(e){super(),this._conversionApi=Sb({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,o,r){const a=this._createConversionApi(r,e.getRefreshedItems());for(const u of e.getMarkersToRemove())this._convertMarkerRemove(u.name,u.range,a);const l=this._reduceChanges(e.getChanges());for(const u of l)u.type==="insert"?this._convertInsert(ne._createFromPositionAndShift(u.position,u.length),a):u.type==="reinsert"?this._convertReinsert(ne._createFromPositionAndShift(u.position,u.length),a):u.type==="remove"?this._convertRemove(u.position,u.length,u.name,a):this._convertAttribute(u.range,u.attributeKey,u.attributeOldValue,u.attributeNewValue,a);a.mapper.flushDeferredBindings();for(const u of a.mapper.flushUnboundMarkerNames()){const p=o.get(u).getRange();this._convertMarkerRemove(u,p,a),this._convertMarkerAdd(u,p,a)}for(const u of e.getMarkersToAdd())this._convertMarkerAdd(u.name,u.range,a);a.consumable.verifyAllConsumed("insert")}convert(e,o,r,a={}){const l=this._createConversionApi(r,void 0,a);this._convertInsert(e,l);for(const[u,p]of o)this._convertMarkerAdd(u,p,l);l.consumable.verifyAllConsumed("insert")}convertSelection(e,o,r){const a=this._createConversionApi(r);this.fire("cleanSelection",{selection:e},a);const l=e.getFirstPosition().root;if(!a.mapper.toViewElement(l))return;const u=Array.from(o.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(a.consumable,e,u),this.fire("selection",{selection:e},a),e.isCollapsed){for(const p of u)if(a.consumable.test(e,"addMarker:"+p.name)){const g=p.getRange();if(!gF(e.getFirstPosition(),p,a.mapper))continue;const k={item:e,markerName:p.name,markerRange:g};this.fire(`addMarker:${p.name}`,k,a)}for(const p of e.getAttributeKeys())if(a.consumable.test(e,"attribute:"+p)){const g={item:e,range:e.getFirstRange(),attributeKey:p,attributeOldValue:null,attributeNewValue:e.getAttribute(p)};this.fire(`attribute:${p}:$text`,g,a)}}}_convertInsert(e,o,r={}){r.doNotAddConsumables||this._addConsumablesForInsert(o.consumable,e);for(const a of Array.from(e.getWalker({shallow:!0})).map(Ly))this._testAndFire("insert",a,o)}_convertRemove(e,o,r,a){this.fire(`remove:${r}`,{position:e,length:o},a)}_convertAttribute(e,o,r,a,l){this._addConsumablesForRange(l.consumable,e,`attribute:${o}`);for(const u of e){const p={item:u.item,range:ne._createFromPositionAndShift(u.previousPosition,u.length),attributeKey:o,attributeOldValue:r,attributeNewValue:a};this._testAndFire(`attribute:${o}`,p,l)}}_convertReinsert(e,o){const r=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(o.consumable,r);for(const a of r.map(Ly))this._testAndFire("insert",Ny(Sb({},a),{reconversion:!0}),o)}_convertMarkerAdd(e,o,r){if(o.root.rootName=="$graveyard")return;const a=`addMarker:${e}`;if(r.consumable.add(o,a),this.fire(a,{markerName:e,markerRange:o},r),r.consumable.consume(o,a)){this._addConsumablesForRange(r.consumable,o,a);for(const l of o.getItems()){if(!r.consumable.test(l,a))continue;const u={item:l,range:ne._createOn(l),markerName:e,markerRange:o};this.fire(a,u,r)}}}_convertMarkerRemove(e,o,r){o.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:o},r)}_reduceChanges(e){const o={changes:e};return this.fire("reduceChanges",o),o.changes}_addConsumablesForInsert(e,o){for(const r of o){const a=r.item;if(e.test(a,"insert")===null){e.add(a,"insert");for(const l of a.getAttributeKeys())e.add(a,"attribute:"+l)}}return e}_addConsumablesForRange(e,o,r){for(const a of o.getItems())e.add(a,r);return e}_addConsumablesForSelection(e,o,r){e.add(o,"selection");for(const a of r)e.add(o,"addMarker:"+a.name);for(const a of o.getAttributeKeys())e.add(o,"attribute:"+a);return e}_testAndFire(e,o,r){const a=function(g,k){const w=k.item.is("element")?k.item.name:"$text";return`${g}:${w}`}(e,o),l=o.item.is("$textProxy")?r.consumable._getSymbolForTextProxy(o.item):o.item,u=this._firedEventsMap.get(r),p=u.get(l);if(p){if(p.has(a))return;p.add(a)}else u.set(l,new Set([a]));this.fire(a,o,r)}_testAndFireAddAttributes(e,o){const r={item:e,range:ne._createOn(e)};for(const a of r.item.getAttributeKeys())r.attributeKey=a,r.attributeOldValue=null,r.attributeNewValue=r.item.getAttribute(a),this._testAndFire(`attribute:${a}`,r,o)}_createConversionApi(e,o=new Set,r={}){const a=Ny(Sb({},this._conversionApi),{consumable:new lF,writer:e,options:r,convertItem:l=>this._convertInsert(ne._createOn(l),a),convertChildren:l=>this._convertInsert(ne._createIn(l),a,{doNotAddConsumables:!0}),convertAttributes:l=>this._testAndFireAddAttributes(l,a),canReuseView:l=>!o.has(a.mapper.toModelElement(l))});return this._firedEventsMap.set(a,new Map),a}}function gF(s,e,o){const r=e.getRange(),a=Array.from(s.getAncestors());return a.shift(),a.reverse(),!a.some(l=>{if(r.containsItem(l))return!!o.toViewElement(l).getCustomProperty("addHighlight")})}function Ly(s){return{item:s.item,range:ne._createFromPositionAndShift(s.previousPosition,s.length)}}class yo extends K(Er){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const o of this._ranges){let r=!1;for(const a of e._ranges)if(o.isEqual(a)){r=!0;break}if(!r)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new ne(e.start,e.end)}getFirstRange(){let e=null;for(const o of this._ranges)e&&!o.start.isBefore(e.start)||(e=o);return e?new ne(e.start,e.end):null}getLastRange(){let e=null;for(const o of this._ranges)e&&!o.end.isAfter(e.end)||(e=o);return e?new ne(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[o,r,a]=e;if(typeof r=="object"&&(a=r,r=void 0),o===null)this._setRanges([]);else if(o instanceof yo)this._setRanges(o.getRanges(),o.isBackward);else if(o&&typeof o.getRanges=="function")this._setRanges(o.getRanges(),o.isBackward);else if(o instanceof ne)this._setRanges([o],!!a&&!!a.backward);else if(o instanceof de)this._setRanges([new ne(o)]);else if(o instanceof bs){const l=!!a&&!!a.backward;let u;if(r=="in")u=ne._createIn(o);else if(r=="on")u=ne._createOn(o);else{if(r===void 0)throw new P("model-selection-setto-required-second-parameter",[this,o]);u=new ne(de._createAt(o,r))}this._setRanges([u],l)}else{if(!Ye(o))throw new P("model-selection-setto-not-selectable",[this,o]);this._setRanges(o,a&&!!a.backward)}}_setRanges(e,o=!1){const r=Array.from(e),a=r.some(l=>{if(!(l instanceof ne))throw new P("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(u=>!u.isEqual(l))});(r.length!==this._ranges.length||a)&&(this._replaceAllRanges(r),this._lastRangeBackward=!!o,this.fire("change:range",{directChange:!0}))}setFocus(e,o){if(this.anchor===null)throw new P("model-selection-setfocus-no-ranges",[this,e]);const r=de._createAt(e,o);if(r.compareWith(this.focus)=="same")return;const a=this.anchor;this._ranges.length&&this._popRange(),r.compareWith(a)=="before"?(this._pushRange(new ne(r,a)),this._lastRangeBackward=!0):(this._pushRange(new ne(a,r)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,o){this.getAttribute(e)!==o&&(this._attrs.set(e,o),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const o of this.getRanges()){const r=zy(o.start,e);bF(r,o)&&(yield r);for(const l of o.getWalker()){const u=l.item;l.type=="elementEnd"&&mF(u,e,o)&&(yield u)}const a=zy(o.end,e);kF(a,o)&&(yield a)}}containsEntireContent(e=this.anchor.root){const o=de._createAt(e,0),r=de._createAt(e,"end");return o.isTouching(this.getFirstPosition())&&r.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new ne(e.start,e.end))}_checkRange(e){for(let o=0;o<this._ranges.length;o++)if(e.isIntersecting(this._ranges[o]))throw new P("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[o]})}_replaceAllRanges(e){this._removeAllRanges();for(const o of e)this._pushRange(o)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function jy(s,e){return!e.has(s)&&(e.add(s),s.root.document.model.schema.isBlock(s)&&!!s.parent)}function mF(s,e,o){return jy(s,e)&&Db(s,o)}function zy(s,e){const o=s.parent.root.document.model.schema,r=s.parent.getAncestors({parentFirst:!0,includeSelf:!0});let a=!1;const l=r.find(u=>!a&&(a=o.isLimit(u),!a&&jy(u,e)));return r.forEach(u=>e.add(u)),l}function Db(s,e){const o=function(r){const a=r.root.document.model.schema;let l=r.parent;for(;l;){if(a.isBlock(l))return l;l=l.parent}}(s);return o?!e.containsRange(ne._createOn(o),!0):!0}function bF(s,e){return!!s&&(!(!e.isCollapsed&&!s.isEmpty)||!e.start.isTouching(de._createAt(s,s.maxOffset))&&Db(s,e))}function kF(s,e){return!!s&&(!(!e.isCollapsed&&!s.isEmpty)||!e.end.isTouching(de._createAt(s,0))&&Db(s,e))}yo.prototype.is=function(s){return s==="selection"||s==="model:selection"};class xo extends K(ne){constructor(e,o){super(e,o),wF.call(this)}detach(){this.stopListening()}toRange(){return new ne(this.start,this.end)}static fromRange(e){return new xo(e.start,e.end)}}function wF(){this.listenTo(this.root.document.model,"applyOperation",(s,e)=>{const o=e[0];o.isDocumentOperation&&vF.call(this,o)},{priority:"low"})}function vF(s){const e=this.getTransformedByOperation(s),o=ne._createFromRanges(e),r=!o.isEqual(this),a=function(u,p){switch(p.type){case"insert":return u.containsPosition(p.position);case"move":case"remove":case"reinsert":case"merge":return u.containsPosition(p.sourcePosition)||u.start.isEqual(p.sourcePosition)||u.containsPosition(p.targetPosition);case"split":return u.containsPosition(p.splitPosition)||u.containsPosition(p.insertionPosition)}return!1}(this,s);let l=null;if(r){o.root.rootName=="$graveyard"&&(l=s.type=="remove"?s.sourcePosition:s.deletionPosition);const u=this.toRange();this.start=o.start,this.end=o.end,this.fire("change:range",u,{deletionPosition:l})}else a&&this.fire("change:content",this.toRange(),{deletionPosition:l})}xo.prototype.is=function(s){return s==="liveRange"||s==="model:liveRange"||s=="range"||s==="model:range"};const Th="selection:";class hi extends K(Er){constructor(e){super(),this._selection=new _F(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,o){this._selection.setFocus(e,o)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,o){this._selection.setAttribute(e,o)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return Th+e}static _isStoreAttributeKey(e){return e.startsWith(Th)}}hi.prototype.is=function(s){return s==="selection"||s=="model:selection"||s=="documentSelection"||s=="model:documentSelection"};class _F extends yo{constructor(e){super(),this.markers=new si({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(o,r)=>{const a=r[0];a.isDocumentOperation&&a.type!="marker"&&a.type!="rename"&&a.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(o,r,a,l)=>{this._updateMarker(r,l)}),this.listenTo(this._document,"change",(o,r)=>{(function(a,l){const u=a.document.differ;for(const p of u.getChanges()){if(p.type!="insert")continue;const g=p.position.parent;p.length===g.maxOffset&&a.enqueueChange(l,k=>{const w=Array.from(g.getAttributeKeys()).filter(A=>A.startsWith(Th));for(const A of w)k.removeAttribute(A,g)})}})(this._model,r)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,o){super.setFocus(e,o),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,o){if(this._setAttribute(e,o)){const r=[e];this.fire("change:attribute",{attributeKeys:r,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const o=[e];this.fire("change:attribute",{attributeKeys:o,directChange:!0})}}overrideGravity(){const e=L();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new P("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const o=this._prepareRange(e);o&&this._ranges.push(o)}_validateSelectionRanges(e){for(const o of e)if(!this._document._validateSelectionRange(o))throw new P("document-selection-wrong-position",this,{range:o})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const o=xo.fromRange(e);return o.on("change:range",(r,a,l)=>{if(this._hasChangedRange=!0,o.root==this._document.graveyard){this._selectionRestorePosition=l.deletionPosition;const u=this._ranges.indexOf(o);this._ranges.splice(u,1),o.detach()}}),o}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let o=!1;for(const a of this._model.markers){const l=a.name.split(":",1)[0];if(!this._observedMarkers.has(l))continue;const u=a.getRange();for(const p of this.getRanges())u.containsRange(p,!p.isCollapsed)&&e.push(a)}const r=Array.from(this.markers);for(const a of e)this.markers.has(a)||(this.markers.add(a),o=!0);for(const a of Array.from(this.markers))e.includes(a)||(this.markers.remove(a),o=!0);o&&this.fire("change:marker",{oldMarkers:r,directChange:!1})}_updateMarker(e,o){const r=e.name.split(":",1)[0];if(!this._observedMarkers.has(r))return;let a=!1;const l=Array.from(this.markers),u=this.markers.has(e);if(o){let p=!1;for(const g of this.getRanges())if(o.containsRange(g,!g.isCollapsed)){p=!0;break}p&&!u?(this.markers.add(e),a=!0):!p&&u&&(this.markers.remove(e),a=!0)}else u&&(this.markers.remove(e),a=!0);a&&this.fire("change:marker",{oldMarkers:l,directChange:!1})}_updateAttributes(e){const o=wi(this._getSurroundingAttributes()),r=wi(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[l,u]of this._attributePriority)u=="low"&&(this._attrs.delete(l),this._attributePriority.delete(l));this._setAttributesTo(o);const a=[];for(const[l,u]of this.getAttributes())r.has(l)&&r.get(l)===u||a.push(l);for(const[l]of r)this.hasAttribute(l)||a.push(l);a.length>0&&this.fire("change:attribute",{attributeKeys:a,directChange:!1})}_setAttribute(e,o,r=!0){const a=r?"normal":"low";return a=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==o&&(this._attrs.set(e,o),this._attributePriority.set(e,a),!0)}_removeAttribute(e,o=!0){const r=o?"normal":"low";return(r!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,r),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const o=new Set;for(const[r,a]of this.getAttributes())e.get(r)!==a&&this._removeAttribute(r,!1);for(const[r,a]of e)this._setAttribute(r,a,!1)&&o.add(r);return o}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const o of e.getAttributeKeys())o.startsWith(Th)&&(yield[o.substr(10),e.getAttribute(o)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),o=this._model.schema;if(e.root.rootName=="$graveyard")return null;let r=null;if(this.isCollapsed){const a=e.textNode?e.textNode:e.nodeBefore,l=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(r=_l(a,o)),r||(r=_l(l,o)),!this.isGravityOverridden&&!r){let u=a;for(;u&&!r;)u=u.previousSibling,r=_l(u,o)}if(!r){let u=l;for(;u&&!r;)u=u.nextSibling,r=_l(u,o)}r||(r=this.getStoredAttributes())}else{const a=this.getFirstRange();for(const l of a){if(l.item.is("element")&&o.isObject(l.item)){r=_l(l.item,o);break}if(l.type=="text"){r=l.item.getAttributes();break}}}return r}_fixGraveyardSelection(e){const o=this._model.schema.getNearestSelectionRange(e);o&&this._pushRange(o)}}function _l(s,e){if(!s)return null;if(s instanceof ui||s instanceof Lt)return s.getAttributes();if(!e.isInline(s))return null;if(!e.isObject(s))return[];const o=[];for(const[r,a]of s.getAttributes())e.checkAttribute("$text",r)&&e.getAttributeProperties(r).copyFromObject!==!1&&o.push([r,a]);return o}class Fy{constructor(e){this._dispatchers=e}add(e){for(const o of this._dispatchers)e(o);return this}}class CF extends Fy{elementToElement(e){return this.add(function(o){const r=Uy(o.model),a=Cl(o.view,"container");return r.attributes.length&&(r.children=!0),l=>{l.on(`insert:${r.name}`,yF(a,Gy(r)),{priority:o.converterPriority||"normal"}),(r.children||r.attributes.length)&&l.on("reduceChanges",qy(r),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(o){const r=Uy(o.model),a=Cl(o.view,"container");return r.children=!0,l=>{if(l._conversionApi.schema.checkChild(r.name,"$text"))throw new P("conversion-element-to-structure-disallowed-text",l,{elementName:r.name});var u,p;l.on(`insert:${r.name}`,(u=a,p=Gy(r),(g,k,w)=>{if(!p(k.item,w.consumable,{preflight:!0}))return;const A=new Map;w.writer._registerSlotFactory(function(D,B,z){return($,q)=>{const Z=$.createContainerElement("$slot");let ae=null;if(q==="children")ae=Array.from(D.getChildren());else{if(typeof q!="function")throw new P("conversion-slot-mode-unknown",z.dispatcher,{modeOrFilter:q});ae=Array.from(D.getChildren()).filter(ke=>q(ke))}return B.set(Z,ae),Z}}(k.item,A,w));const E=u(k.item,w,k);if(w.writer._clearSlotFactory(),!E)return;(function(D,B,z){const $=Array.from(B.values()).flat(),q=new Set($);if(q.size!=$.length)throw new P("conversion-slot-filter-overlap",z.dispatcher,{element:D});if(q.size!=D.childCount)throw new P("conversion-slot-filter-incomplete",z.dispatcher,{element:D})})(k.item,A,w),p(k.item,w.consumable);const T=w.mapper.toViewPosition(k.range.start);w.mapper.bindElements(k.item,E),w.writer.insert(T,E),w.convertAttributes(k.item),function(D,B,z,$){z.mapper.on("modelToViewPosition",ae,{priority:"highest"});let q=null,Z=null;for([q,Z]of B)Ky(D,Z,z,$),z.writer.move(z.writer.createRangeIn(q),z.writer.createPositionBefore(q)),z.writer.remove(q);function ae(ke,Oe){const Je=Oe.modelPosition.nodeAfter,Vt=Z.indexOf(Je);Vt<0||(Oe.viewPosition=Oe.mapper.findPositionIn(q,Vt))}z.mapper.off("modelToViewPosition",ae)}(E,A,w,{reconversion:k.reconversion})}),{priority:o.converterPriority||"normal"}),l.on("reduceChanges",qy(r),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(o){o=di(o);let r=o.model;typeof r=="string"&&(r={key:r});let a=`attribute:${r.key}`;if(r.name&&(a+=":"+r.name),r.values)for(const u of r.values)o.view[u]=Cl(o.view[u],"attribute");else o.view=Cl(o.view,"attribute");const l=Hy(o);return u=>{u.on(a,AF(l),{priority:o.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(o){o=di(o);let r=o.model;typeof r=="string"&&(r={key:r});let a=`attribute:${r.key}`;if(r.name&&(a+=":"+r.name),r.values)for(const u of r.values)o.view[u]=Wy(o.view[u]);else o.view=Wy(o.view);const l=Hy(o);return u=>{var p;u.on(a,(p=l,(g,k,w)=>{if(!w.consumable.test(k.item,g.name))return;const A=p(k.attributeOldValue,w,k),E=p(k.attributeNewValue,w,k);if(!A&&!E)return;w.consumable.consume(k.item,g.name);const T=w.mapper.toViewElement(k.item),D=w.writer;if(!T)throw new P("conversion-attribute-to-attribute-on-text",w.dispatcher,k);if(k.attributeOldValue!==null&&A)if(A.key=="class"){const B=typeof A.value=="string"?A.value.split(/\s+/):A.value;for(const z of B)D.removeClass(z,T)}else if(A.key=="style")if(typeof A.value=="string"){const B=new pb(D.document.stylesProcessor);B.setTo(A.value);for(const[z]of B.getStylesEntries())D.removeStyle(z,T)}else{const B=Object.keys(A.value);for(const z of B)D.removeStyle(z,T)}else D.removeAttribute(A.key,T);if(k.attributeNewValue!==null&&E)if(E.key=="class"){const B=typeof E.value=="string"?E.value.split(/\s+/):E.value;for(const z of B)D.addClass(z,T)}else if(E.key=="style")if(typeof E.value=="string"){const B=new pb(D.document.stylesProcessor);B.setTo(E.value);for(const[z,$]of B.getStylesEntries())D.setStyle(z,$,T)}else{const B=Object.keys(E.value);for(const z of B)D.setStyle(z,E.value[z],T)}else D.setAttribute(E.key,E.value,T)}),{priority:o.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(o){const r=Cl(o.view,"ui");return a=>{a.on(`addMarker:${o.model}`,xF(r),{priority:o.converterPriority||"normal"}),a.on(`removeMarker:${o.model}`,(l,u,p)=>{const g=p.mapper.markerNameToElements(u.markerName);if(g){for(const k of g)p.mapper.unbindElementFromMarkerName(k,u.markerName),p.writer.clear(p.writer.createRangeOn(k),k);p.writer.clearClonedElementsGroup(u.markerName),l.stop()}},{priority:o.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(o){return r=>{var a;r.on(`addMarker:${o.model}`,(a=o.view,(l,u,p)=>{if(!u.item||!(u.item instanceof yo||u.item instanceof hi||u.item.is("$textProxy")))return;const g=Mb(a,u,p);if(!g||!p.consumable.consume(u.item,l.name))return;const k=p.writer,w=Vy(k,g),A=k.document.selection;if(u.item instanceof yo||u.item instanceof hi)k.wrap(A.getFirstRange(),w);else{const E=p.mapper.toViewRange(u.range),T=k.wrap(E,w);for(const D of T.getItems())if(D.is("attributeElement")&&D.isSimilar(w)){p.mapper.bindElementToMarker(D,u.markerName);break}}}),{priority:o.converterPriority||"normal"}),r.on(`addMarker:${o.model}`,function(l){return(u,p,g)=>{if(!p.item||!(p.item instanceof Mt))return;const k=Mb(l,p,g);if(!k||!g.consumable.test(p.item,u.name))return;const w=g.mapper.toViewElement(p.item);if(w&&w.getCustomProperty("addHighlight")){g.consumable.consume(p.item,u.name);for(const A of ne._createIn(p.item))g.consumable.consume(A.item,u.name);w.getCustomProperty("addHighlight")(w,k,g.writer),g.mapper.bindElementToMarker(w,p.markerName)}}}(o.view),{priority:o.converterPriority||"normal"}),r.on(`removeMarker:${o.model}`,function(l){return(u,p,g)=>{if(p.markerRange.isCollapsed)return;const k=Mb(l,p,g);if(!k)return;const w=Vy(g.writer,k),A=g.mapper.markerNameToElements(p.markerName);if(A){for(const E of A)g.mapper.unbindElementFromMarkerName(E,p.markerName),E.is("attributeElement")?g.writer.unwrap(g.writer.createRangeOn(E),w):E.getCustomProperty("removeHighlight")(E,k.id,g.writer);g.writer.clearClonedElementsGroup(p.markerName),u.stop()}}}(o.view),{priority:o.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(o){o=di(o);const r=o.model;let a=o.view;return a||(a=l=>({group:r,name:l.substr(o.model.length+1)})),l=>{var u;l.on(`addMarker:${r}`,(u=a,(p,g,k)=>{const w=u(g.markerName,k);if(!w)return;const A=g.markerRange;k.consumable.consume(A,p.name)&&($y(A,!1,k,g,w),$y(A,!0,k,g,w),p.stop())}),{priority:o.converterPriority||"normal"}),l.on(`removeMarker:${r}`,function(p){return(g,k,w)=>{const A=p(k.markerName,w);if(!A)return;const E=w.mapper.markerNameToElements(k.markerName);if(E){for(const D of E)w.mapper.unbindElementFromMarkerName(D,k.markerName),D.is("containerElement")?(T(`data-${A.group}-start-before`,D),T(`data-${A.group}-start-after`,D),T(`data-${A.group}-end-before`,D),T(`data-${A.group}-end-after`,D)):w.writer.clear(w.writer.createRangeOn(D),D);w.writer.clearClonedElementsGroup(k.markerName),g.stop()}function T(D,B){if(B.hasAttribute(D)){const z=new Set(B.getAttribute(D).split(","));z.delete(A.name),z.size==0?w.writer.removeAttribute(D,B):w.writer.setAttribute(D,Array.from(z).join(","),B)}}}}(a),{priority:o.converterPriority||"normal"})}}(e))}}function Vy(s,e){const o=s.createAttributeElement("span",e.attributes);return e.classes&&o._addClass(e.classes),typeof e.priority=="number"&&(o._priority=e.priority),o._id=e.id,o}function AF(s){return(e,o,r)=>{if(!r.consumable.test(o.item,e.name))return;const a=s(o.attributeOldValue,r,o),l=s(o.attributeNewValue,r,o);if(!a&&!l)return;r.consumable.consume(o.item,e.name);const u=r.writer,p=u.document.selection;if(o.item instanceof yo||o.item instanceof hi)u.wrap(p.getFirstRange(),l);else{let g=r.mapper.toViewRange(o.range);o.attributeOldValue!==null&&a&&(g=u.unwrap(g,a)),o.attributeNewValue!==null&&l&&u.wrap(g,l)}}}function yF(s,e=TF){return(o,r,a)=>{if(!e(r.item,a.consumable,{preflight:!0}))return;const l=s(r.item,a,r);if(!l)return;e(r.item,a.consumable);const u=a.mapper.toViewPosition(r.range.start);a.mapper.bindElements(r.item,l),a.writer.insert(u,l),a.convertAttributes(r.item),Ky(l,r.item.getChildren(),a,{reconversion:r.reconversion})}}function xF(s){return(e,o,r)=>{o.isOpening=!0;const a=s(o,r);o.isOpening=!1;const l=s(o,r);if(!a||!l)return;const u=o.markerRange;if(u.isCollapsed&&!r.consumable.consume(u,e.name))return;for(const k of u)if(!r.consumable.consume(k.item,e.name))return;const p=r.mapper,g=r.writer;g.insert(p.toViewPosition(u.start),a),r.mapper.bindElementToMarker(a,o.markerName),u.isCollapsed||(g.insert(p.toViewPosition(u.end),l),r.mapper.bindElementToMarker(l,o.markerName)),e.stop()}}function $y(s,e,o,r,a){const l=e?s.start:s.end,u=l.nodeAfter&&l.nodeAfter.is("element")?l.nodeAfter:null,p=l.nodeBefore&&l.nodeBefore.is("element")?l.nodeBefore:null;if(u||p){let g,k;e&&u||!e&&!p?(g=u,k=!0):(g=p,k=!1);const w=o.mapper.toViewElement(g);if(w)return void function(A,E,T,D,B,z){const $=`data-${z.group}-${E?"start":"end"}-${T?"before":"after"}`,q=A.hasAttribute($)?A.getAttribute($).split(","):[];q.unshift(z.name),D.writer.setAttribute($,q.join(","),A),D.mapper.bindElementToMarker(A,B.markerName)}(w,e,k,o,r,a)}(function(g,k,w,A,E){const T=`${E.group}-${k?"start":"end"}`,D=E.name?{name:E.name}:null,B=w.writer.createUIElement(T,D);w.writer.insert(g,B),w.mapper.bindElementToMarker(B,A.markerName)})(o.mapper.toViewPosition(l),e,o,r,a)}function Uy(s){return typeof s=="string"&&(s={name:s}),{name:s.name,attributes:s.attributes?Ft(s.attributes):[],children:!!s.children}}function Cl(s,e){return typeof s=="function"?s:(o,r)=>function(a,l,u){typeof a=="string"&&(a={name:a});let p;const g=l.writer,k=Object.assign({},a.attributes);if(u=="container")p=g.createContainerElement(a.name,k);else if(u=="attribute"){const w={priority:a.priority||gs.DEFAULT_PRIORITY};p=g.createAttributeElement(a.name,k,w)}else p=g.createUIElement(a.name,k);if(a.styles){const w=Object.keys(a.styles);for(const A of w)g.setStyle(A,a.styles[A],p)}if(a.classes){const w=a.classes;if(typeof w=="string")g.addClass(w,p);else for(const A of w)g.addClass(A,p)}return p}(s,r,e)}function Hy(s){return s.model.values?(e,o,r)=>{const a=s.view[e];return a?a(e,o,r):null}:s.view}function Wy(s){return typeof s=="string"?e=>({key:s,value:e}):typeof s=="object"?s.value?()=>s:e=>({key:s.key,value:e}):s}function Mb(s,e,o){const r=typeof s=="function"?s(e,o):s;return r?(r.priority||(r.priority=10),r.id||(r.id=e.markerName),r):null}function qy(s){const e=function(o){return(r,a)=>{if(!r.is("element",o.name))return!1;if(a.type=="attribute"){if(o.attributes.includes(a.attributeKey))return!0}else if(o.children)return!0;return!1}}(s);return(o,r)=>{const a=[];r.reconvertedElements||(r.reconvertedElements=new Set);for(const l of r.changes){const u=l.type=="attribute"?l.range.start.nodeAfter:l.position.parent;if(u&&e(u,l)){if(!r.reconvertedElements.has(u)){r.reconvertedElements.add(u);const p=de._createBefore(u);let g=a.length;for(let k=a.length-1;k>=0;k--){const w=a[k],A=(w.type=="attribute"?w.range.start:w.position).compareWith(p);if(A=="before"||w.type=="remove"&&A=="same")break;g=k}a.splice(g,0,{type:"remove",name:u.name,position:p,length:1},{type:"reinsert",name:u.name,position:p,length:1})}}else a.push(l)}r.changes=a}}function Gy(s){return(e,o,r={})=>{const a=["insert"];for(const l of s.attributes)e.hasAttribute(l)&&a.push(`attribute:${l}`);return!!a.every(l=>o.test(e,l))&&(r.preflight||a.forEach(l=>o.consume(e,l)),!0)}}function Ky(s,e,o,r){for(const a of e)EF(s.root,a,o,r)||o.convertItem(a)}function EF(s,e,o,r){const{writer:a,mapper:l}=o;if(!r.reconversion)return!1;const u=l.toViewElement(e);return!(!u||u.root==s)&&!!o.canReuseView(u)&&(a.move(a.createRangeOn(u),l.toViewPosition(de._createBefore(e))),!0)}function TF(s,e,{preflight:o}={}){return o?e.test(s,"insert"):e.consume(s,"insert")}function Yy(s){const{schema:e,document:o}=s.model;for(const r of o.getRoots())if(r.isEmpty&&!e.checkChild(r,"$text")&&e.checkChild(r,"paragraph"))return s.insertElement("paragraph",r),!0;return!1}function Qy(s,e,o){const r=o.createContext(s);return!!o.checkChild(r,"paragraph")&&!!o.checkChild(r.push("paragraph"),e)}function Zy(s,e){const o=e.createElement("paragraph");return e.insert(o,s),e.createPositionAt(o,0)}var IF=Object.defineProperty,SF=Object.defineProperties,DF=Object.getOwnPropertyDescriptors,Jy=Object.getOwnPropertySymbols,MF=Object.prototype.hasOwnProperty,PF=Object.prototype.propertyIsEnumerable,Xy=(s,e,o)=>e in s?IF(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o;class RF extends Fy{elementToElement(e){return this.add(e1(e))}elementToAttribute(e){return this.add(function(o){o=di(o),t1(o);const r=n1(o,!1),a=Pb(o.view),l=a?`element:${a}`:"element";return u=>{u.on(l,r,{priority:o.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(o){o=di(o);let r=null;(typeof o.view=="string"||o.view.key)&&(r=function(l){typeof l.view=="string"&&(l.view={key:l.view});const u=l.view.key,p=l.view.value===void 0?/[\s\S]*/:l.view.value;let g;return u=="class"||u=="style"?g={[u=="class"?"classes":"styles"]:p}:g={attributes:{[u]:p}},l.view.name&&(g.name=l.view.name),l.view=g,u}(o)),t1(o,r);const a=n1(o,!0);return l=>{l.on("element",a,{priority:o.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(o){const r=function(u){return(p,g)=>{const k=typeof u=="string"?u:u(p,g);return g.writer.createElement("$marker",{"data-name":k})}}(o.model);return e1((a=((u,p)=>{for(var g in p||(p={}))MF.call(p,g)&&Xy(u,g,p[g]);if(Jy)for(var g of Jy(p))PF.call(p,g)&&Xy(u,g,p[g]);return u})({},o),l={model:r},SF(a,DF(l))));var a,l}(e))}dataToMarker(e){return this.add(function(o){o=di(o),o.model||(o.model=u=>u?o.view+":"+u:o.view);const r={view:o.view,model:o.model},a=Rb(o1(r,"start")),l=Rb(o1(r,"end"));return u=>{u.on(`element:${o.view}-start`,a,{priority:o.converterPriority||"normal"}),u.on(`element:${o.view}-end`,l,{priority:o.converterPriority||"normal"});const p=V.low,g=V.highest,k=V.get(o.converterPriority)/g;u.on("element",function(w){return(A,E,T)=>{const D=`data-${w.view}`;function B(z,$){for(const q of $){const Z=w.model(q,T),ae=T.writer.createElement("$marker",{"data-name":Z});T.writer.insert(ae,z),E.modelCursor.isEqual(z)?E.modelCursor=E.modelCursor.getShiftedBy(1):E.modelCursor=E.modelCursor._getTransformedByInsertion(z,1),E.modelRange=E.modelRange._getTransformedByInsertion(z,1)[0]}}(T.consumable.test(E.viewItem,{attributes:D+"-end-after"})||T.consumable.test(E.viewItem,{attributes:D+"-start-after"})||T.consumable.test(E.viewItem,{attributes:D+"-end-before"})||T.consumable.test(E.viewItem,{attributes:D+"-start-before"}))&&(E.modelRange||Object.assign(E,T.convertChildren(E.viewItem,E.modelCursor)),T.consumable.consume(E.viewItem,{attributes:D+"-end-after"})&&B(E.modelRange.end,E.viewItem.getAttribute(D+"-end-after").split(",")),T.consumable.consume(E.viewItem,{attributes:D+"-start-after"})&&B(E.modelRange.end,E.viewItem.getAttribute(D+"-start-after").split(",")),T.consumable.consume(E.viewItem,{attributes:D+"-end-before"})&&B(E.modelRange.start,E.viewItem.getAttribute(D+"-end-before").split(",")),T.consumable.consume(E.viewItem,{attributes:D+"-start-before"})&&B(E.modelRange.start,E.viewItem.getAttribute(D+"-start-before").split(",")))}}(r),{priority:p+k})}}(e))}}function e1(s){const e=Rb(s=di(s)),o=Pb(s.view),r=o?`element:${o}`:"element";return a=>{a.on(r,e,{priority:s.converterPriority||"normal"})}}function Pb(s){return typeof s=="string"?s:typeof s=="object"&&typeof s.name=="string"?s.name:null}function Rb(s){const e=new _i(s.view);return(o,r,a)=>{const l=e.match(r.viewItem);if(!l)return;const u=l.match;if(u.name=!0,!a.consumable.test(r.viewItem,u))return;const p=function(g,k,w){return g instanceof Function?g(k,w):w.writer.createElement(g)}(s.model,r.viewItem,a);p&&a.safeInsert(p,r.modelCursor)&&(a.consumable.consume(r.viewItem,u),a.convertChildren(r.viewItem,p),a.updateConversionResult(p,r))}}function t1(s,e=null){const o=e===null||(l=>l.getAttribute(e)),r=typeof s.model!="object"?s.model:s.model.key,a=typeof s.model!="object"||s.model.value===void 0?o:s.model.value;s.model={key:r,value:a}}function n1(s,e){const o=new _i(s.view);return(r,a,l)=>{if(!a.modelRange&&e)return;const u=o.match(a.viewItem);if(!u||(function(w,A){const E=typeof w=="function"?w(A):w;return typeof E=="object"&&!Pb(E)?!1:!E.classes&&!E.attributes&&!E.styles}(s.view,a.viewItem)?u.match.name=!0:delete u.match.name,!l.consumable.test(a.viewItem,u.match)))return;const p=s.model.key,g=typeof s.model.value=="function"?s.model.value(a.viewItem,l):s.model.value;if(g===null)return;a.modelRange||Object.assign(a,l.convertChildren(a.viewItem,a.modelCursor)),function(w,A,E,T){let D=!1;for(const B of Array.from(w.getItems({shallow:E})))T.schema.checkAttribute(B,A.key)&&(D=!0,B.hasAttribute(A.key)||T.writer.setAttribute(A.key,A.value,B));return D}(a.modelRange,{key:p,value:g},e,l)&&(l.consumable.test(a.viewItem,{name:!0})&&(u.match.name=!0),l.consumable.consume(a.viewItem,u.match))}}function o1(s,e){return{view:`${s.view}-${e}`,model:(o,r)=>{const a=o.getAttribute("name"),l=s.model(a,r);return r.writer.createElement("$marker",{"data-name":l})}}}function BF(s){s.document.registerPostFixer(e=>function(o,r){const a=r.document.selection,l=r.schema,u=[];let p=!1;for(const g of a.getRanges()){const k=i1(g,l);k&&!k.isEqual(g)?(u.push(k),p=!0):u.push(g)}return p&&o.setSelection(function(g){const k=[...g],w=new Set;let A=1;for(;A<k.length;){const E=k[A],T=k.slice(0,A);for(const[D,B]of T.entries())if(!w.has(D)){if(E.isEqual(B))w.add(D);else if(E.isIntersecting(B)){w.add(D),w.add(A);const z=E.getJoined(B);k.push(z)}}A++}return k.filter((E,T)=>!w.has(T))}(u),{backward:a.isBackward}),!1}(e,s))}function i1(s,e){return s.isCollapsed?function(o,r){const a=o.start,l=r.getNearestSelectionRange(a);if(!l){const p=a.getAncestors().reverse().find(g=>r.isObject(g));return p?ne._createOn(p):null}if(!l.isCollapsed)return l;const u=l.start;return a.isEqual(u)?null:new ne(u)}(s,e):function(o,r){const{start:a,end:l}=o,u=r.checkChild(a,"$text"),p=r.checkChild(l,"$text"),g=r.getLimitElement(a),k=r.getLimitElement(l);if(g===k){if(u&&p)return null;if(function(E,T,D){const B=E.nodeAfter&&!D.isLimit(E.nodeAfter)||D.checkChild(E,"$text"),z=T.nodeBefore&&!D.isLimit(T.nodeBefore)||D.checkChild(T,"$text");return B||z}(a,l,r)){const E=a.nodeAfter&&r.isSelectable(a.nodeAfter)?null:r.getNearestSelectionRange(a,"forward"),T=l.nodeBefore&&r.isSelectable(l.nodeBefore)?null:r.getNearestSelectionRange(l,"backward"),D=E?E.start:a,B=T?T.end:l;return new ne(D,B)}}const w=g&&!g.is("rootElement"),A=k&&!k.is("rootElement");if(w||A){const E=a.nodeAfter&&l.nodeBefore&&a.nodeAfter.parent===l.nodeBefore.parent,T=w&&(!E||!s1(a.nodeAfter,r)),D=A&&(!E||!s1(l.nodeBefore,r));let B=a,z=l;return T&&(B=de._createBefore(r1(g,r))),D&&(z=de._createAfter(r1(k,r))),new ne(B,z)}return null}(s,e)}function r1(s,e){let o=s,r=o;for(;e.isLimit(r)&&r.parent;)o=r,r=r.parent;return o}function s1(s,e){return s&&e.isSelectable(s)}class NF extends Y(){constructor(e,o){super(),this.model=e,this.view=new cF(o),this.mapper=new Py,this.downcastDispatcher=new Oy({mapper:this.mapper,schema:e.schema});const r=this.model.document,a=r.selection,l=this.model.markers;var u,p,g;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(r,"change",()=>{this.view.change(k=>{this.downcastDispatcher.convertChanges(r.differ,l,k),this.downcastDispatcher.convertSelection(a,l,k)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(k,w){return(A,E)=>{const T=E.newSelection,D=[];for(const z of T.getRanges())D.push(w.toModelRange(z));const B=k.createSelection(D,{backward:T.isBackward});B.isEqual(k.document.selection)||k.change(z=>{z.setSelection(B)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(u=this.mapper,p=this.model.schema,g=this.view,(k,w)=>{if(!g.document.isComposing||C.isAndroid)for(let A=0;A<w.targetRanges.length;A++){const E=w.targetRanges[A],T=u.toModelRange(E),D=i1(T,p);D&&!D.isEqual(T)&&(w.targetRanges[A]=u.toViewRange(D))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(k,w,A)=>{if(!A.consumable.consume(w.item,k.name))return;const E=A.writer,T=A.mapper.toViewPosition(w.range.start),D=E.createText(w.item.data);E.insert(T,D)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(k,w,A)=>{A.convertAttributes(w.item),w.reconversion||!w.item.is("element")||w.item.isEmpty||A.convertChildren(w.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(k,w,A)=>{const E=A.mapper.toViewPosition(w.position),T=w.position.getShiftedBy(w.length),D=A.mapper.toViewPosition(T,{isPhantom:!0}),B=A.writer.createRange(E,D),z=A.writer.remove(B.getTrimmed());for(const $ of A.writer.createRangeIn(z).getItems())A.mapper.unbindViewElement($,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(k,w,A)=>{const E=A.writer,T=E.document.selection;for(const D of T.getRanges())D.isCollapsed&&D.end.parent.isAttached()&&A.writer.mergeAttributes(D.start);E.setSelection(null)}),this.downcastDispatcher.on("selection",(k,w,A)=>{const E=w.selection;if(E.isCollapsed||!A.consumable.consume(E,"selection"))return;const T=[];for(const D of E.getRanges())T.push(A.mapper.toViewRange(D));A.writer.setSelection(T,{backward:E.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(k,w,A)=>{const E=w.selection;if(!E.isCollapsed||!A.consumable.consume(E,"selection"))return;const T=A.writer,D=E.getFirstPosition(),B=A.mapper.toViewPosition(D),z=T.breakAttributes(B);T.setSelection(z)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(k=>{if(k.rootName=="$graveyard")return null;const w=new ty(this.view.document,k.name);return w.rootName=k.rootName,this.mapper.bindElements(k,w),w})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const o=typeof e=="string"?e:e.name,r=this.model.markers.get(o);if(!r)throw new P("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:o});this.model.change(()=>{this.model.markers._refresh(r)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class Al{constructor(){this._consumables=new Map}add(e,o){let r;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?r=this._consumables.get(e):(r=new OF(e),this._consumables.set(e,r)),r.add(o))}test(e,o){const r=this._consumables.get(e);return r===void 0?null:e.is("$text")||e.is("documentFragment")?r:r.test(o)}consume(e,o){return!!this.test(e,o)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(o),!0)}revert(e,o){const r=this._consumables.get(e);r!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):r.revert(o))}static consumablesFromElement(e){const o={element:e,name:!0,attributes:[],classes:[],styles:[]},r=e.getAttributeKeys();for(const u of r)u!="style"&&u!="class"&&o.attributes.push(u);const a=e.getClassNames();for(const u of a)o.classes.push(u);const l=e.getStyleNames();for(const u of l)o.styles.push(u);return o}static createFrom(e,o){if(o||(o=new Al),e.is("$text"))return o.add(e),o;e.is("element")&&o.add(e,Al.consumablesFromElement(e)),e.is("documentFragment")&&o.add(e);for(const r of e.getChildren())o=Al.createFrom(r,o);return o}}const Ih=["attributes","classes","styles"];class OF{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const o of Ih)o in e&&this._add(o,e[o])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const o of Ih)if(o in e){const r=this._test(o,e[o]);if(r!==!0)return r}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const o of Ih)o in e&&this._consume(o,e[o])}revert(e){e.name&&(this._canConsumeName=!0);for(const o of Ih)o in e&&this._revert(o,e[o])}_add(e,o){const r=Ft(o),a=this._consumables[e];for(const l of r){if(e==="attributes"&&(l==="class"||l==="style"))throw new P("viewconsumable-invalid-attribute",this);if(a.set(l,!0),e==="styles")for(const u of this.element.document.stylesProcessor.getRelatedStyles(l))a.set(u,!0)}}_test(e,o){const r=Ft(o),a=this._consumables[e];for(const l of r)if(e!=="attributes"||l!=="class"&&l!=="style"){const u=a.get(l);if(u===void 0)return null;if(!u)return!1}else{const u=l=="class"?"classes":"styles",p=this._test(u,[...this._consumables[u].keys()]);if(p!==!0)return p}return!0}_consume(e,o){const r=Ft(o),a=this._consumables[e];for(const l of r)if(e!=="attributes"||l!=="class"&&l!=="style"){if(a.set(l,!1),e=="styles")for(const u of this.element.document.stylesProcessor.getRelatedStyles(l))a.set(u,!1)}else{const u=l=="class"?"classes":"styles";this._consume(u,[...this._consumables[u].keys()])}}_revert(e,o){const r=Ft(o),a=this._consumables[e];for(const l of r)if(e!=="attributes"||l!=="class"&&l!=="style")a.get(l)===!1&&a.set(l,!0);else{const u=l=="class"?"classes":"styles";this._revert(u,[...this._consumables[u].keys()])}}}class LF extends Y(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,o)=>{o[0]=new ws(o[0])},{priority:"highest"}),this.on("checkChild",(e,o)=>{o[0]=new ws(o[0]),o[1]=this.getDefinition(o[1])},{priority:"highest"})}register(e,o){if(this._sourceDefinitions[e])throw new P("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},o)],this._clearCache()}extend(e,o){if(!this._sourceDefinitions[e])throw new P("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},o)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let o;return o=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[o]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const o=this.getDefinition(e);return!(!o||!o.isBlock)}isLimit(e){const o=this.getDefinition(e);return!!o&&!(!o.isLimit&&!o.isObject)}isObject(e){const o=this.getDefinition(e);return!!o&&!!(o.isObject||o.isLimit&&o.isSelectable&&o.isContent)}isInline(e){const o=this.getDefinition(e);return!(!o||!o.isInline)}isSelectable(e){const o=this.getDefinition(e);return!!o&&!(!o.isSelectable&&!o.isObject)}isContent(e){const o=this.getDefinition(e);return!!o&&!(!o.isContent&&!o.isObject)}checkChild(e,o){return!!o&&this._checkContextMatch(o,e)}checkAttribute(e,o){const r=this.getDefinition(e.last);return!!r&&r.allowAttributes.includes(o)}checkMerge(e,o){if(e instanceof de){const r=e.nodeBefore,a=e.nodeAfter;if(!(r instanceof Mt))throw new P("schema-check-merge-no-element-before",this);if(!(a instanceof Mt))throw new P("schema-check-merge-no-element-after",this);return this.checkMerge(r,a)}for(const r of o.getChildren())if(!this.checkChild(e,r))return!1;return!0}addChildCheck(e){this.on("checkChild",(o,[r,a])=>{if(!a)return;const l=e(r,a);typeof l=="boolean"&&(o.stop(),o.return=l)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(o,[r,a])=>{const l=e(r,a);typeof l=="boolean"&&(o.stop(),o.return=l)},{priority:"high"})}setAttributeProperties(e,o){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),o)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let o;for(e instanceof de?o=e.parent:o=(e instanceof ne?[e]:Array.from(e.getRanges())).reduce((r,a)=>{const l=a.getCommonAncestor();return r?r.getCommonAncestor(l,{includeSelf:!0}):l},null);!this.isLimit(o)&&o.parent;)o=o.parent;return o}checkAttributeInSelection(e,o){if(e.isCollapsed){const r=[...e.getFirstPosition().getAncestors(),new Lt("",e.getAttributes())];return this.checkAttribute(r,o)}{const r=e.getRanges();for(const a of r)for(const l of a)if(this.checkAttribute(l.item,o))return!0}return!1}*getValidRanges(e,o){e=function*(r){for(const a of r)yield*a.getMinimalFlatRanges()}(e);for(const r of e)yield*this._getValidRangesForRange(r,o)}getNearestSelectionRange(e,o="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new ne(e);let r,a;const l=e.getAncestors().reverse().find(u=>this.isLimit(u))||e.root;o!="both"&&o!="backward"||(r=new Gi({boundaries:ne._createIn(l),startPosition:e,direction:"backward"})),o!="both"&&o!="forward"||(a=new Gi({boundaries:ne._createIn(l),startPosition:e}));for(const u of function*(p,g){let k=!1;for(;!k;){if(k=!0,p){const w=p.next();w.done||(k=!1,yield{walker:p,value:w.value})}if(g){const w=g.next();w.done||(k=!1,yield{walker:g,value:w.value})}}}(r,a)){const p=u.walker==r?"elementEnd":"elementStart",g=u.value;if(g.type==p&&this.isObject(g.item))return ne._createOn(g.item);if(this.checkChild(g.nextPosition,"$text"))return new ne(g.nextPosition)}return null}findAllowedParent(e,o){let r=e.parent;for(;r;){if(this.checkChild(r,o))return r;if(this.isLimit(r))return null;r=r.parent}return null}setAllowedAttributes(e,o,r){const a=r.model;for(const[l,u]of Object.entries(o))a.schema.checkAttribute(e,l)&&r.setAttribute(l,u,e)}removeDisallowedAttributes(e,o){for(const r of e)if(r.is("$text"))a1(this,r,o);else{const a=ne._createIn(r).getPositions();for(const l of a)a1(this,l.nodeBefore||l.parent,o)}}getAttributesWithProperty(e,o,r){const a={};for(const[l,u]of e.getAttributes()){const p=this.getAttributeProperties(l);p[o]!==void 0&&(r!==void 0&&r!==p[o]||(a[l]=u))}return a}createContext(e){return new ws(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},o=this._sourceDefinitions,r=Object.keys(o);for(const a of r)e[a]=jF(o[a],a);for(const a of r)zF(e,a);for(const a of r)FF(e,a);for(const a of r)VF(e,a);for(const a of r)$F(e,a),UF(e,a);for(const a of r)HF(e,a),WF(e,a),qF(e,a);this._compiledDefinitions=e}_checkContextMatch(e,o,r=o.length-1){const a=o.getItem(r);if(e.allowIn.includes(a.name)){if(r==0)return!0;{const l=this.getDefinition(a);return this._checkContextMatch(l,o,r-1)}}return!1}*_getValidRangesForRange(e,o){let r=e.start,a=e.start;for(const l of e.getItems({shallow:!0}))l.is("element")&&(yield*this._getValidRangesForRange(ne._createIn(l),o)),this.checkAttribute(l,o)||(r.isEqual(a)||(yield new ne(r,a)),r=de._createAfter(l)),a=de._createAfter(l);r.isEqual(a)||(yield new ne(r,a))}findOptimalInsertionRange(e,o){const r=e.getSelectedElement();if(r&&this.isObject(r)&&!this.isInline(r))return o=="before"||o=="after"?new ne(de._createAt(r,o)):ne._createOn(r);const a=Sn(e.getSelectedBlocks());if(!a)return new ne(e.focus);if(a.isEmpty)return new ne(de._createAt(a,0));const l=de._createAfter(a);return e.focus.isTouching(l)?new ne(l):new ne(de._createBefore(a))}}class ws{constructor(e){if(e instanceof ws)return e;let o;o=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=o.map(KF)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const o=new ws([e]);return o._items=[...this._items,...o._items],o}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function jF(s,e){const o={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(r,a){for(const l of r){const u=Object.keys(l).filter(p=>p.startsWith("is"));for(const p of u)a[p]=!!l[p]}}(s,o),vs(s,o,"allowIn"),vs(s,o,"allowContentOf"),vs(s,o,"allowWhere"),vs(s,o,"allowAttributes"),vs(s,o,"allowAttributesOf"),vs(s,o,"allowChildren"),vs(s,o,"inheritTypesFrom"),function(r,a){for(const l of r){const u=l.inheritAllFrom;u&&(a.allowContentOf.push(u),a.allowWhere.push(u),a.allowAttributesOf.push(u),a.inheritTypesFrom.push(u))}}(s,o),o}function zF(s,e){const o=s[e];for(const r of o.allowChildren){const a=s[r];a&&a.allowIn.push(e)}o.allowChildren.length=0}function FF(s,e){for(const o of s[e].allowContentOf)s[o]&&GF(s,o).forEach(r=>{r.allowIn.push(e)});delete s[e].allowContentOf}function VF(s,e){for(const o of s[e].allowWhere){const r=s[o];if(r){const a=r.allowIn;s[e].allowIn.push(...a)}}delete s[e].allowWhere}function $F(s,e){for(const o of s[e].allowAttributesOf){const r=s[o];if(r){const a=r.allowAttributes;s[e].allowAttributes.push(...a)}}delete s[e].allowAttributesOf}function UF(s,e){const o=s[e];for(const r of o.inheritTypesFrom){const a=s[r];if(a){const l=Object.keys(a).filter(u=>u.startsWith("is"));for(const u of l)u in o||(o[u]=a[u])}}delete o.inheritTypesFrom}function HF(s,e){const o=s[e],r=o.allowIn.filter(a=>s[a]);o.allowIn=Array.from(new Set(r))}function WF(s,e){const o=s[e];for(const r of o.allowIn)s[r].allowChildren.push(e)}function qF(s,e){const o=s[e];o.allowAttributes=Array.from(new Set(o.allowAttributes))}function vs(s,e,o){for(const r of s){const a=r[o];typeof a=="string"?e[o].push(a):Array.isArray(a)&&e[o].push(...a)}}function GF(s,e){const o=s[e];return(r=s,Object.keys(r).map(a=>r[a])).filter(a=>a.allowIn.includes(o.name));var r}function KF(s){return typeof s=="string"||s.is("documentFragment")?{name:typeof s=="string"?s:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:s.is("element")?s.name:"$text",*getAttributeKeys(){yield*s.getAttributeKeys()},getAttribute:e=>s.getAttribute(e)}}function a1(s,e,o){for(const r of e.getAttributeKeys())s.checkAttribute(e,r)||o.removeAttribute(r,e)}var YF=Object.defineProperty,QF=Object.defineProperties,ZF=Object.getOwnPropertyDescriptors,c1=Object.getOwnPropertySymbols,JF=Object.prototype.hasOwnProperty,XF=Object.prototype.propertyIsEnumerable,l1=(s,e,o)=>e in s?YF(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o;class e6 extends K(){constructor(e){var o;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(o=((r,a)=>{for(var l in a||(a={}))JF.call(a,l)&&l1(r,l,a[l]);if(c1)for(var l of c1(a))XF.call(a,l)&&l1(r,l,a[l]);return r})({},e),QF(o,ZF({consumable:null,writer:null,store:null,convertItem:(r,a)=>this._convertItem(r,a),convertChildren:(r,a)=>this._convertChildren(r,a),safeInsert:(r,a)=>this._safeInsert(r,a),updateConversionResult:(r,a)=>this._updateConversionResult(r,a),splitToAllowedParent:(r,a)=>this._splitToAllowedParent(r,a),getSplitParts:r=>this._getSplitParts(r),keepEmptyElement:r=>this._keepEmptyElement(r)})))}convert(e,o,r=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(u,p){let g;for(const k of new ws(u)){const w={};for(const E of k.getAttributeKeys())w[E]=k.getAttribute(E);const A=p.createElement(k.name,w);g&&p.insert(A,g),g=de._createAt(A,0)}return g}(r,o),this.conversionApi.writer=o,this.conversionApi.consumable=Al.createFrom(e),this.conversionApi.store={};const{modelRange:a}=this._convertItem(e,this._modelCursor),l=o.createDocumentFragment();if(a){this._removeEmptyElements();for(const u of Array.from(this._modelCursor.parent.getChildren()))o.append(u,l);l.markers=function(u,p){const g=new Set,k=new Map,w=ne._createIn(u).getItems();for(const A of w)A.is("element","$marker")&&g.add(A);for(const A of g){const E=A.getAttribute("data-name"),T=p.createPositionBefore(A);k.has(E)?k.get(E).end=T.clone():k.set(E,new ne(T.clone())),p.remove(A)}return k}(l,o)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,l}_convertItem(e,o){const r={viewItem:e,modelCursor:o,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,r,this.conversionApi):e.is("$text")?this.fire("text",r,this.conversionApi):this.fire("documentFragment",r,this.conversionApi),r.modelRange&&!(r.modelRange instanceof ne))throw new P("view-conversion-dispatcher-incorrect-result",this);return{modelRange:r.modelRange,modelCursor:r.modelCursor}}_convertChildren(e,o){let r=o.is("position")?o:de._createAt(o,0);const a=new ne(r);for(const l of Array.from(e.getChildren())){const u=this._convertItem(l,r);u.modelRange instanceof ne&&(a.end=u.modelRange.end,r=u.modelCursor)}return{modelRange:a,modelCursor:r}}_safeInsert(e,o){const r=this._splitToAllowedParent(e,o);return!!r&&(this.conversionApi.writer.insert(e,r.position),!0)}_updateConversionResult(e,o){const r=this._getSplitParts(e),a=this.conversionApi.writer;o.modelRange||(o.modelRange=a.createRange(a.createPositionBefore(e),a.createPositionAfter(r[r.length-1])));const l=this._cursorParents.get(e);o.modelCursor=l?a.createPositionAt(l,0):o.modelRange.end}_splitToAllowedParent(e,o){const{schema:r,writer:a}=this.conversionApi;let l=r.findAllowedParent(o,e);if(l){if(l===o.parent)return{position:o};this._modelCursor.parent.getAncestors().includes(l)&&(l=null)}if(!l)return Qy(o,e,r)?{position:Zy(o,a)}:null;const u=this.conversionApi.writer.split(o,l),p=[];for(const k of u.range.getWalker())if(k.type=="elementEnd")p.push(k.item);else{const w=p.pop(),A=k.item;this._registerSplitPair(w,A)}const g=u.range.end.parent;return this._cursorParents.set(e,g),{position:u.position,cursorParent:g}}_registerSplitPair(e,o){this._splitParts.has(e)||this._splitParts.set(e,[e]);const r=this._splitParts.get(e);this._splitParts.set(o,r),r.push(o)}_getSplitParts(e){let o;return o=this._splitParts.has(e)?this._splitParts.get(e):[e],o}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const o of this._splitParts.keys())o.isEmpty&&!this._emptyElementsToKeep.has(o)&&(this.conversionApi.writer.remove(o),this._splitParts.delete(o),e=!0);e&&this._removeEmptyElements()}}class t6{getHtml(e){const o=b.document.implementation.createHTMLDocument("").createElement("div");return o.appendChild(e),o.innerHTML}}class n6{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new _h(e,{renderingMode:"data"}),this.htmlWriter=new t6}toData(e){const o=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(o)}toView(e){const o=this._toDom(e);return this.domConverter.domToView(o,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const o=this.domParser.parseFromString(e,"text/html"),r=o.createDocumentFragment(),a=o.body.childNodes;for(;a.length>0;)r.appendChild(a[0]);return r}}class o6 extends K(){constructor(e,o){super(),this.model=e,this.mapper=new Py,this.downcastDispatcher=new Oy({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(r,a,l)=>{if(!l.consumable.consume(a.item,r.name))return;const u=l.writer,p=l.mapper.toViewPosition(a.range.start),g=u.createText(a.item.data);u.insert(p,g)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(r,a,l)=>{l.convertAttributes(a.item),a.reconversion||!a.item.is("element")||a.item.isEmpty||l.convertChildren(a.item)},{priority:"lowest"}),this.upcastDispatcher=new e6({schema:e.schema}),this.viewDocument=new kh(o),this.stylesProcessor=o,this.htmlProcessor=new n6(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new oy(this.viewDocument),this.upcastDispatcher.on("text",(r,a,{schema:l,consumable:u,writer:p})=>{let g=a.modelCursor;if(!u.test(a.viewItem))return;if(!l.checkChild(g,"$text")){if(!Qy(g,"$text",l)||a.viewItem.data.trim().length==0)return;const w=g.nodeBefore;g=Zy(g,p),w&&w.is("element","$marker")&&(p.move(p.createRangeOn(w),g),g=p.createPositionAfter(w))}u.consume(a.viewItem);const k=p.createText(a.viewItem.data);p.insert(k,g),a.modelRange=p.createRange(g,g.getShiftedBy(k.offsetSize)),a.modelCursor=a.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(r,a,l)=>{if(!a.modelRange&&l.consumable.consume(a.viewItem,{name:!0})){const{modelRange:u,modelCursor:p}=l.convertChildren(a.viewItem,a.modelCursor);a.modelRange=u,a.modelCursor=p}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(r,a,l)=>{if(!a.modelRange&&l.consumable.consume(a.viewItem,{name:!0})){const{modelRange:u,modelCursor:p}=l.convertChildren(a.viewItem,a.modelCursor);a.modelRange=u,a.modelCursor=p}},{priority:"lowest"}),Y().prototype.decorate.call(this,"init"),Y().prototype.decorate.call(this,"set"),Y().prototype.decorate.call(this,"get"),Y().prototype.decorate.call(this,"toView"),Y().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},Yy)},{priority:"lowest"})}get(e={}){const{rootName:o="main",trim:r="empty"}=e;if(!this._checkIfRootsExists([o]))throw new P("datacontroller-get-non-existent-root",this);const a=this.model.document.getRoot(o);return a.isAttached()||U("datacontroller-get-detached-root",this),r!=="empty"||this.model.hasContent(a,{ignoreWhitespaces:!0})?this.stringify(a,e):""}stringify(e,o={}){const r=this.toView(e,o);return this.processor.toData(r)}toView(e,o={}){const r=this.viewDocument,a=this._viewWriter;this.mapper.clearBindings();const l=ne._createIn(e),u=new ms(r);this.mapper.bindElements(e,u);const p=e.is("documentFragment")?e.markers:function(g){const k=[],w=g.root.document;if(!w)return new Map;const A=ne._createIn(g);for(const E of w.model.markers){const T=E.getRange(),D=T.isCollapsed,B=T.start.isEqual(A.start)||T.end.isEqual(A.end);if(D&&B)k.push([E.name,T]);else{const z=A.getIntersection(T);z&&k.push([E.name,z])}}return k.sort(([E,T],[D,B])=>{if(T.end.compareWith(B.start)!=="after")return 1;if(T.start.compareWith(B.end)!=="before")return-1;switch(T.start.compareWith(B.start)){case"before":return 1;case"after":return-1;default:switch(T.end.compareWith(B.end)){case"before":return 1;case"after":return-1;default:return D.localeCompare(E)}}}),new Map(k)}(e);return this.downcastDispatcher.convert(l,p,a,o),u}init(e){if(this.model.document.version)throw new P("datacontroller-init-document-not-empty",this);let o={};if(typeof e=="string"?o.main=e:o=e,!this._checkIfRootsExists(Object.keys(o)))throw new P("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},r=>{for(const a of Object.keys(o)){const l=this.model.document.getRoot(a);r.insert(this.parse(o[a],l),l,0)}}),Promise.resolve()}set(e,o={}){let r={};if(typeof e=="string"?r.main=e:r=e,!this._checkIfRootsExists(Object.keys(r)))throw new P("datacontroller-set-non-existent-root",this);this.model.enqueueChange(o.batchType||{},a=>{a.setSelection(null),a.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const l of Object.keys(r)){const u=this.model.document.getRoot(l);a.remove(a.createRangeIn(u)),a.insert(this.parse(r[l],u),u,0)}})}parse(e,o="$root"){const r=this.processor.toView(e);return this.toModel(r,o)}toModel(e,o="$root"){return this.model.change(r=>this.upcastDispatcher.convert(e,r,o))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const o of e)if(!this.model.document.getRoot(o))return!1;return!0}}class i6{constructor(e,o){this._helpers=new Map,this._downcast=Ft(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Ft(o),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,o){const r=this._downcast.includes(o);if(!this._upcast.includes(o)&&!r)throw new P("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[o],isDowncast:r})}for(e){if(!this._helpers.has(e))throw new P("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:o,view:r}of Bb(e))this.for("upcast").elementToElement({model:o,view:r,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:o,view:r}of Bb(e))this.for("upcast").elementToAttribute({view:r,model:o,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:o,view:r}of Bb(e))this.for("upcast").attributeToAttribute({view:r,model:o})}_createConversionHelpers({name:e,dispatchers:o,isDowncast:r}){if(this._helpers.has(e))throw new P("conversion-group-exists",this);const a=r?new CF(o):new RF(o);this._helpers.set(e,a)}}function*Bb(s){if(s.model.values)for(const e of s.model.values){const o={key:s.model.key,value:e},r=s.view[e],a=s.upcastAlso?s.upcastAlso[e]:void 0;yield*d1(o,r,a)}else yield*d1(s.model,s.view,s.upcastAlso)}function*d1(s,e,o){if(yield{model:s,view:e},o)for(const r of Ft(o))yield{model:s,view:r}}class Eo{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,o){return new this(e.baseVersion)}}function Nb(s,e){const o=h1(e),r=o.reduce((u,p)=>u+p.offsetSize,0),a=s.parent;El(s);const l=s.index;return a._insertChild(l,o),xl(a,l+o.length),xl(a,l),new ne(s,s.getShiftedBy(r))}function u1(s){if(!s.isFlat)throw new P("operation-utils-remove-range-not-flat",this);const e=s.start.parent;El(s.start),El(s.end);const o=e._removeChildren(s.start.index,s.end.index-s.start.index);return xl(e,s.start.index),o}function yl(s,e){if(!s.isFlat)throw new P("operation-utils-move-range-not-flat",this);const o=u1(s);return Nb(e=e._getTransformedByDeletion(s.start,s.end.offset-s.start.offset),o)}function h1(s){const e=[];(function o(r){if(typeof r=="string")e.push(new Lt(r));else if(r instanceof ui)e.push(new Lt(r.data,r.getAttributes()));else if(r instanceof bs)e.push(r);else if(Ye(r))for(const a of r)o(a)})(s);for(let o=1;o<e.length;o++){const r=e[o],a=e[o-1];r instanceof Lt&&a instanceof Lt&&p1(r,a)&&(e.splice(o-1,2,new Lt(a.data+r.data,a.getAttributes())),o--)}return e}function xl(s,e){const o=s.getChild(e-1),r=s.getChild(e);if(o&&r&&o.is("$text")&&r.is("$text")&&p1(o,r)){const a=new Lt(o.data+r.data,o.getAttributes());s._removeChildren(e-1,2),s._insertChild(e-1,a)}}function El(s){const e=s.textNode,o=s.parent;if(e){const r=s.offset-e.startOffset,a=e.index;o._removeChildren(a,1);const l=new Lt(e.data.substr(0,r),e.getAttributes()),u=new Lt(e.data.substr(r),e.getAttributes());o._insertChild(a,[l,u])}}function p1(s,e){const o=s.getAttributes(),r=e.getAttributes();for(const a of o){if(a[1]!==e.getAttribute(a[0]))return!1;r.next()}return r.next().done}class wt extends Eo{constructor(e,o,r,a){super(a),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=o,this.targetPosition=r.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[ne._createFromPositionAndShift(this.sourcePosition,this.howMany),ne._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new wt(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new wt(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,o=this.targetPosition.parent,r=this.sourcePosition.offset,a=this.targetPosition.offset;if(r+this.howMany>e.maxOffset)throw new P("move-operation-nodes-do-not-exist",this);if(e===o&&r<a&&a<r+this.howMany)throw new P("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&De(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const l=this.sourcePosition.path.length-1;if(this.targetPosition.path[l]>=r&&this.targetPosition.path[l]<r+this.howMany)throw new P("move-operation-node-into-itself",this)}}_execute(){yl(ne._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,o){const r=de.fromJSON(e.sourcePosition,o),a=de.fromJSON(e.targetPosition,o);return new this(r,e.howMany,a,e.baseVersion)}}class Mn extends Eo{constructor(e,o,r){super(r),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new wl(h1(o)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new wl([...this.nodes].map(r=>r._clone(!0))),o=new Mn(this.position,e,this.baseVersion);return o.shouldReceiveAttributes=this.shouldReceiveAttributes,o}getReversed(){const e=this.position.root.document.graveyard,o=new de(e,[0]);return new wt(this.position,this.nodes.maxOffset,o,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new P("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new wl([...e].map(o=>o._clone(!0))),Nb(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,o){const r=[];for(const l of e.nodes)l.name?r.push(Mt.fromJSON(l)):r.push(Lt.fromJSON(l));const a=new Mn(de.fromJSON(e.position,o),r,e.baseVersion);return a.shouldReceiveAttributes=e.shouldReceiveAttributes,a}}class jt extends Eo{constructor(e,o,r,a,l){super(l),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=o,this.insertionPosition=r,this.graveyardPosition=a?a.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new de(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ne(this.splitPosition,e)}get affectedSelectable(){const e=[ne._createFromPositionAndShift(this.splitPosition,0),ne._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(ne._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new jt(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,o=new de(e,[0]);return new rn(this.moveTargetPosition,this.howMany,this.splitPosition,o,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,o=this.splitPosition.offset;if(!e||e.maxOffset<o)throw new P("split-operation-position-invalid",this);if(!e.parent)throw new P("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new P("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new P("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)yl(ne._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const o=e._clone();Nb(this.insertionPosition,o)}yl(new ne(de._createAt(e,this.splitPosition.offset),de._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const o=e.path.slice(0,-1);return o[o.length-1]++,new de(e.root,o,"toPrevious")}static fromJSON(e,o){const r=de.fromJSON(e.splitPosition,o),a=de.fromJSON(e.insertionPosition,o),l=e.graveyardPosition?de.fromJSON(e.graveyardPosition,o):null;return new this(r,e.howMany,a,l,e.baseVersion)}}class rn extends Eo{constructor(e,o,r,a,l){super(l),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=o,this.targetPosition=r.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=a.clone()}get type(){return"merge"}get deletionPosition(){return new de(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ne(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[ne._createOn(e),ne._createFromPositionAndShift(this.targetPosition,0),ne._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new rn(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),o=this.sourcePosition.path.slice(0,-1),r=new de(this.sourcePosition.root,o)._getTransformedByMergeOperation(this);return new jt(e,this.howMany,r,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,o=this.targetPosition.parent;if(!e.parent)throw new P("merge-operation-source-position-invalid",this);if(!o.parent)throw new P("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new P("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;yl(ne._createIn(e),this.targetPosition),yl(ne._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,o){const r=de.fromJSON(e.sourcePosition,o),a=de.fromJSON(e.targetPosition,o),l=de.fromJSON(e.graveyardPosition,o);return new this(r,e.howMany,a,l,e.baseVersion)}}class so extends Eo{constructor(e,o,r,a,l,u){super(u),this.name=e,this.oldRange=o?o.clone():null,this.newRange=r?r.clone():null,this.affectsData=l,this._markers=a}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new so(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new so(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,o){return new so(e.name,e.oldRange?ne.fromJSON(e.oldRange,o):null,e.newRange?ne.fromJSON(e.newRange,o):null,o.model.markers,e.affectsData,e.baseVersion)}}const f1=function(s,e){return yh(s,e)};class pn extends Eo{constructor(e,o,r,a,l){super(l),this.range=e.clone(),this.key=o,this.oldValue=r===void 0?null:r,this.newValue=a===void 0?null:a}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new pn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new pn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new P("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!f1(e.getAttribute(this.key),this.oldValue))throw new P("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new P("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){f1(this.oldValue,this.newValue)||function(e,o,r){El(e.start),El(e.end);for(const a of e.getItems({shallow:!0})){const l=a.is("$textProxy")?a.textNode:a;r!==null?l._setAttribute(o,r):l._removeAttribute(o),xl(l.parent,l.index)}xl(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,o){return new pn(ne.fromJSON(e.range,o),e.key,e.oldValue,e.newValue,e.baseVersion)}}class An extends Eo{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new An(this.baseVersion)}getReversed(){return new An(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class ao extends Eo{constructor(e,o,r,a){super(a),this.position=e,this.position.stickiness="toNext",this.oldName=o,this.newName=r}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new ao(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new ao(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof Mt))throw new P("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new P("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,o){return new ao(de.fromJSON(e.position,o),e.oldName,e.newName,e.baseVersion)}}class Ki extends Eo{constructor(e,o,r,a,l){super(l),this.root=e,this.key=o,this.oldValue=r===void 0?null:r,this.newValue=a===void 0?null:a}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Ki(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Ki(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new P("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new P("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new P("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,o){if(!o.getRoot(e.root))throw new P("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new Ki(o.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Ai extends Eo{constructor(e,o,r,a,l){super(l),this.rootName=e,this.elementName=o,this.isAdd=r,this._document=a,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Ai(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Ai(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,o){return new Ai(e.rootName,e.elementName,e.isAdd,o,e.baseVersion)}}const jo={};jo[pn.className]=pn,jo[Mn.className]=Mn,jo[so.className]=so,jo[wt.className]=wt,jo[An.className]=An,jo[Eo.className]=Eo,jo[ao.className]=ao,jo[Ki.className]=Ki,jo[Ai.className]=Ai,jo[jt.className]=jt,jo[rn.className]=rn;class r6{static fromJSON(e,o){return jo[e.__className].fromJSON(e,o)}}const Ob=new Map;function ft(s,e,o){let r=Ob.get(s);r||(r=new Map,Ob.set(s,r)),r.set(e,o)}function s6(s){return[s]}function g1(s,e,o={}){const r=function(a,l){const u=Ob.get(a);return u&&u.has(l)?u.get(l):s6}(s.constructor,e.constructor);try{return r(s=s.clone(),e,o)}catch(a){throw a}}function a6(s,e,o){s=s.slice(),e=e.slice();const r=new c6(o.document,o.useRelations,o.forceWeakRemove);r.setOriginalOperations(s),r.setOriginalOperations(e);const a=r.originalOperations;if(s.length==0||e.length==0)return{operationsA:s,operationsB:e,originalOperations:a};const l=new WeakMap;for(const g of s)l.set(g,0);const u={nextBaseVersionA:s[s.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:s.length,originalOperationsBCount:e.length};let p=0;for(;p<s.length;){const g=s[p],k=l.get(g);if(k==e.length){p++;continue}const w=e[k],A=g1(g,w,r.getContext(g,w,!0)),E=g1(w,g,r.getContext(w,g,!1));r.updateRelation(g,w),r.setOriginalOperations(A,g),r.setOriginalOperations(E,w);for(const T of A)l.set(T,k+E.length);s.splice(p,1,...A),e.splice(k,1,...E)}return m1(s,u.nextBaseVersionB),m1(e,u.nextBaseVersionA),{operationsA:s,operationsB:e,originalOperations:a}}class c6{constructor(e,o,r=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=o,this._forceWeakRemove=!!r,this._relations=new Map}setOriginalOperations(e,o=null){const r=o?this.originalOperations.get(o):null;for(const a of e)this.originalOperations.set(a,r||a)}updateRelation(e,o){if(e instanceof wt)o instanceof rn?e.targetPosition.isEqual(o.sourcePosition)||o.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,o,"insertAtSource"):e.targetPosition.isEqual(o.deletionPosition)?this._setRelation(e,o,"insertBetween"):e.targetPosition.isAfter(o.sourcePosition)&&this._setRelation(e,o,"moveTargetAfter"):o instanceof wt&&(e.targetPosition.isEqual(o.sourcePosition)||e.targetPosition.isBefore(o.sourcePosition)?this._setRelation(e,o,"insertBefore"):this._setRelation(e,o,"insertAfter"));else if(e instanceof jt){if(o instanceof rn)e.splitPosition.isBefore(o.sourcePosition)&&this._setRelation(e,o,"splitBefore");else if(o instanceof wt)if(e.splitPosition.isEqual(o.sourcePosition)||e.splitPosition.isBefore(o.sourcePosition))this._setRelation(e,o,"splitBefore");else{const r=ne._createFromPositionAndShift(o.sourcePosition,o.howMany);if(e.splitPosition.hasSameParentAs(o.sourcePosition)&&r.containsPosition(e.splitPosition)){const a=r.end.offset-e.splitPosition.offset,l=e.splitPosition.offset-r.start.offset;this._setRelation(e,o,{howMany:a,offset:l})}}}else if(e instanceof rn)o instanceof rn?(e.targetPosition.isEqual(o.sourcePosition)||this._setRelation(e,o,"mergeTargetNotMoved"),e.sourcePosition.isEqual(o.targetPosition)&&this._setRelation(e,o,"mergeSourceNotMoved"),e.sourcePosition.isEqual(o.sourcePosition)&&this._setRelation(e,o,"mergeSameElement")):o instanceof jt?e.sourcePosition.isEqual(o.splitPosition)&&this._setRelation(e,o,"splitAtSource"):o instanceof wt&&o.howMany>0&&(e.sourcePosition.isEqual(o.sourcePosition.getShiftedBy(o.howMany))&&this._setRelation(e,o,"mergeSourceAffected"),e.targetPosition.isEqual(o.sourcePosition)&&this._setRelation(e,o,"mergeTargetWasBefore"));else if(e instanceof so){const r=e.newRange;if(!r)return;if(o instanceof wt){const a=ne._createFromPositionAndShift(o.sourcePosition,o.howMany),l=a.containsPosition(r.start)||a.start.isEqual(r.start),u=a.containsPosition(r.end)||a.end.isEqual(r.end);!l&&!u||a.containsRange(r)||this._setRelation(e,o,{side:l?"left":"right",path:l?r.start.path.slice():r.end.path.slice()})}else if(o instanceof rn){const a=r.start.isEqual(o.targetPosition),l=r.start.isEqual(o.deletionPosition),u=r.end.isEqual(o.deletionPosition),p=r.end.isEqual(o.sourcePosition);(a||l||u||p)&&this._setRelation(e,o,{wasInLeftElement:a,wasStartBeforeMergedElement:l,wasEndBeforeMergedElement:u,wasInRightElement:p})}}}getContext(e,o,r){return{aIsStrong:r,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(o),abRelation:this._useRelations?this._getRelation(e,o):null,baRelation:this._useRelations?this._getRelation(o,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const o=this.originalOperations.get(e);return o.wasUndone||this._history.isUndoneOperation(o)}_getRelation(e,o){const r=this.originalOperations.get(o),a=this._history.getUndoneOperation(r);if(!a)return null;const l=this.originalOperations.get(e),u=this._relations.get(l);return u&&u.get(a)||null}_setRelation(e,o,r){const a=this.originalOperations.get(e),l=this.originalOperations.get(o);let u=this._relations.get(a);u||(u=new Map,this._relations.set(a,u)),u.set(l,r)}}function m1(s,e){for(const o of s)o.baseVersion=e++}function b1(s,e,o){const r=s.nodes.getNode(0).getAttribute(e);if(r==o)return null;const a=new ne(s.position,s.position.getShiftedBy(s.howMany));return new pn(a,e,r,o,0)}function k1(s,e){return s.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function Ta(s,e){const o=[];for(let r=0;r<s.length;r++){const a=s[r],l=new wt(a.start,a.end.offset-a.start.offset,e,0);o.push(l);for(let u=r+1;u<s.length;u++)s[u]=s[u]._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany)[0];e=e._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany)}return o}ft(pn,pn,(s,e,o)=>{if(s.key===e.key&&s.range.start.hasSameParentAs(e.range.start)){const r=s.range.getDifference(e.range).map(l=>new pn(l,s.key,s.oldValue,s.newValue,0)),a=s.range.getIntersection(e.range);return a&&o.aIsStrong&&r.push(new pn(a,e.key,e.newValue,s.newValue,0)),r.length==0?[new An(0)]:r}return[s]}),ft(pn,Mn,(s,e)=>{if(s.range.start.hasSameParentAs(e.position)&&s.range.containsPosition(e.position)){const o=s.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(r=>new pn(r,s.key,s.oldValue,s.newValue,s.baseVersion));if(e.shouldReceiveAttributes){const r=b1(e,s.key,s.oldValue);r&&o.unshift(r)}return o}return s.range=s.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[s]}),ft(pn,rn,(s,e)=>{const o=[];s.range.start.hasSameParentAs(e.deletionPosition)&&(s.range.containsPosition(e.deletionPosition)||s.range.start.isEqual(e.deletionPosition))&&o.push(ne._createFromPositionAndShift(e.graveyardPosition,1));const r=s.range._getTransformedByMergeOperation(e);return r.isCollapsed||o.push(r),o.map(a=>new pn(a,s.key,s.oldValue,s.newValue,s.baseVersion))}),ft(pn,wt,(s,e)=>function(r,a){const l=ne._createFromPositionAndShift(a.sourcePosition,a.howMany);let u=null,p=[];l.containsRange(r,!0)?u=r:r.start.hasSameParentAs(l.start)?(p=r.getDifference(l),u=r.getIntersection(l)):p=[r];const g=[];for(let k of p){k=k._getTransformedByDeletion(a.sourcePosition,a.howMany);const w=a.getMovedRangeStart(),A=k.start.hasSameParentAs(w),E=k._getTransformedByInsertion(w,a.howMany,A);g.push(...E)}return u&&g.push(u._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany,!1)[0]),g}(s.range,e).map(r=>new pn(r,s.key,s.oldValue,s.newValue,s.baseVersion))),ft(pn,jt,(s,e)=>{if(s.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||s.range.end.offset++,[s];if(s.range.start.hasSameParentAs(e.splitPosition)&&s.range.containsPosition(e.splitPosition)){const o=s.clone();return o.range=new ne(e.moveTargetPosition.clone(),s.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),s.range.end=e.splitPosition.clone(),s.range.end.stickiness="toPrevious",[s,o]}return s.range=s.range._getTransformedBySplitOperation(e),[s]}),ft(Mn,pn,(s,e)=>{const o=[s];if(s.shouldReceiveAttributes&&s.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(s.position)){const r=b1(s,e.key,e.newValue);r&&o.push(r)}return o}),ft(Mn,Mn,(s,e,o)=>(s.position.isEqual(e.position)&&o.aIsStrong||(s.position=s.position._getTransformedByInsertOperation(e)),[s])),ft(Mn,wt,(s,e)=>(s.position=s.position._getTransformedByMoveOperation(e),[s])),ft(Mn,jt,(s,e)=>(s.position=s.position._getTransformedBySplitOperation(e),[s])),ft(Mn,rn,(s,e)=>(s.position=s.position._getTransformedByMergeOperation(e),[s])),ft(so,Mn,(s,e)=>(s.oldRange&&(s.oldRange=s.oldRange._getTransformedByInsertOperation(e)[0]),s.newRange&&(s.newRange=s.newRange._getTransformedByInsertOperation(e)[0]),[s])),ft(so,so,(s,e,o)=>{if(s.name==e.name){if(!o.aIsStrong)return[new An(0)];s.oldRange=e.newRange?e.newRange.clone():null}return[s]}),ft(so,rn,(s,e)=>(s.oldRange&&(s.oldRange=s.oldRange._getTransformedByMergeOperation(e)),s.newRange&&(s.newRange=s.newRange._getTransformedByMergeOperation(e)),[s])),ft(so,wt,(s,e,o)=>{if(s.oldRange&&(s.oldRange=ne._createFromRanges(s.oldRange._getTransformedByMoveOperation(e))),s.newRange){if(o.abRelation){const r=ne._createFromRanges(s.newRange._getTransformedByMoveOperation(e));if(o.abRelation.side=="left"&&e.targetPosition.isEqual(s.newRange.start))return s.newRange.end=r.end,s.newRange.start.path=o.abRelation.path,[s];if(o.abRelation.side=="right"&&e.targetPosition.isEqual(s.newRange.end))return s.newRange.start=r.start,s.newRange.end.path=o.abRelation.path,[s]}s.newRange=ne._createFromRanges(s.newRange._getTransformedByMoveOperation(e))}return[s]}),ft(so,jt,(s,e,o)=>{if(s.oldRange&&(s.oldRange=s.oldRange._getTransformedBySplitOperation(e)),s.newRange){if(o.abRelation){const r=s.newRange._getTransformedBySplitOperation(e);return s.newRange.start.isEqual(e.splitPosition)&&o.abRelation.wasStartBeforeMergedElement?s.newRange.start=de._createAt(e.insertionPosition):s.newRange.start.isEqual(e.splitPosition)&&!o.abRelation.wasInLeftElement&&(s.newRange.start=de._createAt(e.moveTargetPosition)),s.newRange.end.isEqual(e.splitPosition)&&o.abRelation.wasInRightElement?s.newRange.end=de._createAt(e.moveTargetPosition):s.newRange.end.isEqual(e.splitPosition)&&o.abRelation.wasEndBeforeMergedElement?s.newRange.end=de._createAt(e.insertionPosition):s.newRange.end=r.end,[s]}s.newRange=s.newRange._getTransformedBySplitOperation(e)}return[s]}),ft(rn,Mn,(s,e)=>(s.sourcePosition.hasSameParentAs(e.position)&&(s.howMany+=e.howMany),s.sourcePosition=s.sourcePosition._getTransformedByInsertOperation(e),s.targetPosition=s.targetPosition._getTransformedByInsertOperation(e),[s])),ft(rn,rn,(s,e,o)=>{if(s.sourcePosition.isEqual(e.sourcePosition)&&s.targetPosition.isEqual(e.targetPosition)){if(o.bWasUndone){const r=e.graveyardPosition.path.slice();return r.push(0),s.sourcePosition=new de(e.graveyardPosition.root,r),s.howMany=0,[s]}return[new An(0)]}if(s.sourcePosition.isEqual(e.sourcePosition)&&!s.targetPosition.isEqual(e.targetPosition)&&!o.bWasUndone&&o.abRelation!="splitAtSource"){const r=s.targetPosition.root.rootName=="$graveyard",a=e.targetPosition.root.rootName=="$graveyard";if(a&&!r||!(r&&!a)&&o.aIsStrong){const l=e.targetPosition._getTransformedByMergeOperation(e),u=s.targetPosition._getTransformedByMergeOperation(e);return[new wt(l,s.howMany,u,0)]}return[new An(0)]}return s.sourcePosition.hasSameParentAs(e.targetPosition)&&(s.howMany+=e.howMany),s.sourcePosition=s.sourcePosition._getTransformedByMergeOperation(e),s.targetPosition=s.targetPosition._getTransformedByMergeOperation(e),s.graveyardPosition.isEqual(e.graveyardPosition)&&o.aIsStrong||(s.graveyardPosition=s.graveyardPosition._getTransformedByMergeOperation(e)),[s]}),ft(rn,wt,(s,e,o)=>{const r=ne._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!o.bWasUndone&&!o.forceWeakRemove&&s.deletionPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(s.sourcePosition)?[new An(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(s.sourcePosition)?s.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(s.sourcePosition)&&o.abRelation=="mergeSourceAffected"?s.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(s.targetPosition)?(s.targetPosition.stickiness="toNone",s.howMany-=e.howMany):e.targetPosition.isEqual(s.targetPosition)&&o.abRelation=="mergeTargetWasBefore"?(s.targetPosition.stickiness="toPrevious",s.howMany+=e.howMany):(s.sourcePosition.hasSameParentAs(e.targetPosition)&&(s.howMany+=e.howMany),s.sourcePosition.hasSameParentAs(e.sourcePosition)&&(s.howMany-=e.howMany)),s.sourcePosition=s.sourcePosition._getTransformedByMoveOperation(e),s.targetPosition=s.targetPosition._getTransformedByMoveOperation(e),s.sourcePosition.stickiness="toPrevious",s.targetPosition.stickiness="toNext",s.graveyardPosition.isEqual(e.targetPosition)||(s.graveyardPosition=s.graveyardPosition._getTransformedByMoveOperation(e)),[s])}),ft(rn,jt,(s,e,o)=>{if(e.graveyardPosition&&(s.graveyardPosition=s.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),s.deletionPosition.isEqual(e.graveyardPosition)&&(s.howMany=e.howMany)),s.targetPosition.isEqual(e.splitPosition)){const r=e.howMany!=0,a=e.graveyardPosition&&s.deletionPosition.isEqual(e.graveyardPosition);if(r||a||o.abRelation=="mergeTargetNotMoved")return s.sourcePosition=s.sourcePosition._getTransformedBySplitOperation(e),[s]}if(s.sourcePosition.isEqual(e.splitPosition)){if(o.abRelation=="mergeSourceNotMoved")return s.howMany=0,s.targetPosition=s.targetPosition._getTransformedBySplitOperation(e),[s];if(o.abRelation=="mergeSameElement"||s.sourcePosition.offset>0)return s.sourcePosition=e.moveTargetPosition.clone(),s.targetPosition=s.targetPosition._getTransformedBySplitOperation(e),[s]}return s.sourcePosition.hasSameParentAs(e.splitPosition)&&(s.howMany=e.splitPosition.offset),s.sourcePosition=s.sourcePosition._getTransformedBySplitOperation(e),s.targetPosition=s.targetPosition._getTransformedBySplitOperation(e),[s]}),ft(wt,Mn,(s,e)=>{const o=ne._createFromPositionAndShift(s.sourcePosition,s.howMany)._getTransformedByInsertOperation(e,!1)[0];return s.sourcePosition=o.start,s.howMany=o.end.offset-o.start.offset,s.targetPosition.isEqual(e.position)||(s.targetPosition=s.targetPosition._getTransformedByInsertOperation(e)),[s]}),ft(wt,wt,(s,e,o)=>{const r=ne._createFromPositionAndShift(s.sourcePosition,s.howMany),a=ne._createFromPositionAndShift(e.sourcePosition,e.howMany);let l,u=o.aIsStrong,p=!o.aIsStrong;if(o.abRelation=="insertBefore"||o.baRelation=="insertAfter"?p=!0:o.abRelation!="insertAfter"&&o.baRelation!="insertBefore"||(p=!1),l=s.targetPosition.isEqual(e.targetPosition)&&p?s.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):s.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),k1(s,e)&&k1(e,s))return[e.getReversed()];if(r.containsPosition(e.targetPosition)&&r.containsRange(a,!0))return r.start=r.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),r.end=r.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Ta([r],l);if(a.containsPosition(s.targetPosition)&&a.containsRange(r,!0))return r.start=r.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),r.end=r.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Ta([r],l);const g=De(s.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(g=="prefix"||g=="extension")return r.start=r.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),r.end=r.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Ta([r],l);s.type!="remove"||e.type=="remove"||o.aWasUndone||o.forceWeakRemove?s.type=="remove"||e.type!="remove"||o.bWasUndone||o.forceWeakRemove||(u=!1):u=!0;const k=[],w=r.getDifference(a);for(const E of w){E.start=E.start._getTransformedByDeletion(e.sourcePosition,e.howMany),E.end=E.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const T=De(E.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",D=E._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,T);k.push(...D)}const A=r.getIntersection(a);return A!==null&&u&&(A.start=A.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),A.end=A.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),k.length===0?k.push(A):k.length==1?a.start.isBefore(r.start)||a.start.isEqual(r.start)?k.unshift(A):k.push(A):k.splice(1,0,A)),k.length===0?[new An(s.baseVersion)]:Ta(k,l)}),ft(wt,jt,(s,e,o)=>{let r=s.targetPosition.clone();s.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&o.abRelation!="moveTargetAfter"||(r=s.targetPosition._getTransformedBySplitOperation(e));const a=ne._createFromPositionAndShift(s.sourcePosition,s.howMany);if(a.end.isEqual(e.insertionPosition))return e.graveyardPosition||s.howMany++,s.targetPosition=r,[s];if(a.start.hasSameParentAs(e.splitPosition)&&a.containsPosition(e.splitPosition)){let u=new ne(e.splitPosition,a.end);return u=u._getTransformedBySplitOperation(e),Ta([new ne(a.start,e.splitPosition),u],r)}s.targetPosition.isEqual(e.splitPosition)&&o.abRelation=="insertAtSource"&&(r=e.moveTargetPosition),s.targetPosition.isEqual(e.insertionPosition)&&o.abRelation=="insertBetween"&&(r=s.targetPosition);const l=[a._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const u=a.start.isEqual(e.graveyardPosition)||a.containsPosition(e.graveyardPosition);s.howMany>1&&u&&!o.aWasUndone&&l.push(ne._createFromPositionAndShift(e.insertionPosition,1))}return Ta(l,r)}),ft(wt,rn,(s,e,o)=>{const r=ne._createFromPositionAndShift(s.sourcePosition,s.howMany);if(e.deletionPosition.hasSameParentAs(s.sourcePosition)&&r.containsPosition(e.sourcePosition)){if(s.type!="remove"||o.forceWeakRemove){if(s.howMany==1)return o.bWasUndone?(s.sourcePosition=e.graveyardPosition.clone(),s.targetPosition=s.targetPosition._getTransformedByMergeOperation(e),[s]):[new An(0)]}else if(!o.aWasUndone){const l=[];let u=e.graveyardPosition.clone(),p=e.targetPosition._getTransformedByMergeOperation(e);s.howMany>1&&(l.push(new wt(s.sourcePosition,s.howMany-1,s.targetPosition,0)),u=u._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany-1),p=p._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany-1));const g=e.deletionPosition._getCombined(s.sourcePosition,s.targetPosition),k=new wt(u,1,g,0),w=k.getMovedRangeStart().path.slice();w.push(0);const A=new de(k.targetPosition.root,w);p=p._getTransformedByMove(u,g,1);const E=new wt(p,e.howMany,A,0);return l.push(k),l.push(E),l}}const a=ne._createFromPositionAndShift(s.sourcePosition,s.howMany)._getTransformedByMergeOperation(e);return s.sourcePosition=a.start,s.howMany=a.end.offset-a.start.offset,s.targetPosition=s.targetPosition._getTransformedByMergeOperation(e),[s]}),ft(ao,Mn,(s,e)=>(s.position=s.position._getTransformedByInsertOperation(e),[s])),ft(ao,rn,(s,e)=>s.position.isEqual(e.deletionPosition)?(s.position=e.graveyardPosition.clone(),s.position.stickiness="toNext",[s]):(s.position=s.position._getTransformedByMergeOperation(e),[s])),ft(ao,wt,(s,e)=>(s.position=s.position._getTransformedByMoveOperation(e),[s])),ft(ao,ao,(s,e,o)=>{if(s.position.isEqual(e.position)){if(!o.aIsStrong)return[new An(0)];s.oldName=e.newName}return[s]}),ft(ao,jt,(s,e)=>{if(De(s.position.path,e.splitPosition.getParentPath())=="same"&&!e.graveyardPosition){const o=new ao(s.position.getShiftedBy(1),s.oldName,s.newName,0);return[s,o]}return s.position=s.position._getTransformedBySplitOperation(e),[s]}),ft(Ki,Ki,(s,e,o)=>{if(s.root===e.root&&s.key===e.key){if(!o.aIsStrong||s.newValue===e.newValue)return[new An(0)];s.oldValue=e.newValue}return[s]}),ft(Ai,Ai,(s,e)=>s.rootName===e.rootName&&s.isAdd===e.isAdd?[new An(0)]:[s]),ft(jt,Mn,(s,e)=>(s.splitPosition.hasSameParentAs(e.position)&&s.splitPosition.offset<e.position.offset&&(s.howMany+=e.howMany),s.splitPosition=s.splitPosition._getTransformedByInsertOperation(e),s.insertionPosition=s.insertionPosition._getTransformedByInsertOperation(e),[s])),ft(jt,rn,(s,e,o)=>{if(!s.graveyardPosition&&!o.bWasUndone&&s.splitPosition.hasSameParentAs(e.sourcePosition)){const r=e.graveyardPosition.path.slice();r.push(0);const a=new de(e.graveyardPosition.root,r),l=jt.getInsertionPosition(new de(e.graveyardPosition.root,r)),u=new jt(a,0,l,null,0);return s.splitPosition=s.splitPosition._getTransformedByMergeOperation(e),s.insertionPosition=jt.getInsertionPosition(s.splitPosition),s.graveyardPosition=u.insertionPosition.clone(),s.graveyardPosition.stickiness="toNext",[u,s]}return s.splitPosition.hasSameParentAs(e.deletionPosition)&&!s.splitPosition.isAfter(e.deletionPosition)&&s.howMany--,s.splitPosition.hasSameParentAs(e.targetPosition)&&(s.howMany+=e.howMany),s.splitPosition=s.splitPosition._getTransformedByMergeOperation(e),s.insertionPosition=jt.getInsertionPosition(s.splitPosition),s.graveyardPosition&&(s.graveyardPosition=s.graveyardPosition._getTransformedByMergeOperation(e)),[s]}),ft(jt,wt,(s,e,o)=>{const r=ne._createFromPositionAndShift(e.sourcePosition,e.howMany);if(s.graveyardPosition){const l=r.start.isEqual(s.graveyardPosition)||r.containsPosition(s.graveyardPosition);if(!o.bWasUndone&&l){const u=s.splitPosition._getTransformedByMoveOperation(e),p=s.graveyardPosition._getTransformedByMoveOperation(e),g=p.path.slice();g.push(0);const k=new de(p.root,g);return[new wt(u,s.howMany,k,0)]}s.graveyardPosition=s.graveyardPosition._getTransformedByMoveOperation(e)}const a=s.splitPosition.isEqual(e.targetPosition);if(a&&(o.baRelation=="insertAtSource"||o.abRelation=="splitBefore"))return s.howMany+=e.howMany,s.splitPosition=s.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),s.insertionPosition=jt.getInsertionPosition(s.splitPosition),[s];if(a&&o.abRelation&&o.abRelation.howMany){const{howMany:l,offset:u}=o.abRelation;return s.howMany+=l,s.splitPosition=s.splitPosition.getShiftedBy(u),[s]}if(s.splitPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(s.splitPosition)){const l=e.howMany-(s.splitPosition.offset-e.sourcePosition.offset);return s.howMany-=l,s.splitPosition.hasSameParentAs(e.targetPosition)&&s.splitPosition.offset<e.targetPosition.offset&&(s.howMany+=e.howMany),s.splitPosition=e.sourcePosition.clone(),s.insertionPosition=jt.getInsertionPosition(s.splitPosition),[s]}return e.sourcePosition.isEqual(e.targetPosition)||(s.splitPosition.hasSameParentAs(e.sourcePosition)&&s.splitPosition.offset<=e.sourcePosition.offset&&(s.howMany-=e.howMany),s.splitPosition.hasSameParentAs(e.targetPosition)&&s.splitPosition.offset<e.targetPosition.offset&&(s.howMany+=e.howMany)),s.splitPosition.stickiness="toNone",s.splitPosition=s.splitPosition._getTransformedByMoveOperation(e),s.splitPosition.stickiness="toNext",s.graveyardPosition?s.insertionPosition=s.insertionPosition._getTransformedByMoveOperation(e):s.insertionPosition=jt.getInsertionPosition(s.splitPosition),[s]}),ft(jt,jt,(s,e,o)=>{if(s.splitPosition.isEqual(e.splitPosition)){if(!s.graveyardPosition&&!e.graveyardPosition)return[new An(0)];if(s.graveyardPosition&&e.graveyardPosition&&s.graveyardPosition.isEqual(e.graveyardPosition))return[new An(0)];if(o.abRelation=="splitBefore")return s.howMany=0,s.graveyardPosition=s.graveyardPosition._getTransformedBySplitOperation(e),[s]}if(s.graveyardPosition&&e.graveyardPosition&&s.graveyardPosition.isEqual(e.graveyardPosition)){const r=s.splitPosition.root.rootName=="$graveyard",a=e.splitPosition.root.rootName=="$graveyard";if(a&&!r||!(r&&!a)&&o.aIsStrong){const l=[];return e.howMany&&l.push(new wt(e.moveTargetPosition,e.howMany,e.splitPosition,0)),s.howMany&&l.push(new wt(s.splitPosition,s.howMany,s.moveTargetPosition,0)),l}return[new An(0)]}if(s.graveyardPosition&&(s.graveyardPosition=s.graveyardPosition._getTransformedBySplitOperation(e)),s.splitPosition.isEqual(e.insertionPosition)&&o.abRelation=="splitBefore")return s.howMany++,[s];if(e.splitPosition.isEqual(s.insertionPosition)&&o.baRelation=="splitBefore"){const r=e.insertionPosition.path.slice();r.push(0);const a=new de(e.insertionPosition.root,r);return[s,new wt(s.insertionPosition,1,a,0)]}return s.splitPosition.hasSameParentAs(e.splitPosition)&&s.splitPosition.offset<e.splitPosition.offset&&(s.howMany-=e.howMany),s.splitPosition=s.splitPosition._getTransformedBySplitOperation(e),s.insertionPosition=jt.getInsertionPosition(s.splitPosition),[s]});class Ln extends K(de){constructor(e,o,r="toNone"){if(super(e,o,r),!this.root.is("rootElement"))throw new P("model-liveposition-root-not-rootelement",e);l6.call(this)}detach(){this.stopListening()}toPosition(){return new de(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,o){return new this(e.root,e.path.slice(),o||e.stickiness)}}function l6(){this.listenTo(this.root.document.model,"applyOperation",(s,e)=>{const o=e[0];o.isDocumentOperation&&d6.call(this,o)},{priority:"low"})}function d6(s){const e=this.getTransformedByOperation(s);if(!this.isEqual(e)){const o=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",o)}}Ln.prototype.is=function(s){return s==="livePosition"||s==="model:livePosition"||s=="position"||s==="model:position"};class Ia{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},U("batch-constructor-deprecated-string-type"));const{isUndoable:o=!0,isLocal:r=!0,isUndo:a=!1,isTyping:l=!1}=e;this.operations=[],this.isUndoable=o,this.isLocal=r,this.isUndo=a,this.isTyping=l}get type(){return U("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}var u6=Object.defineProperty,h6=Object.defineProperties,p6=Object.getOwnPropertyDescriptors,w1=Object.getOwnPropertySymbols,f6=Object.prototype.hasOwnProperty,g6=Object.prototype.propertyIsEnumerable,v1=(s,e,o)=>e in s?u6(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,_1=(s,e)=>{for(var o in e||(e={}))f6.call(e,o)&&v1(s,o,e[o]);if(w1)for(var o of w1(e))g6.call(e,o)&&v1(s,o,e[o]);return s};class m6{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const o=e;switch(o.type){case"insert":if(this._isInInsertedElement(o.position.parent))return;this._markInsert(o.position.parent,o.position.offset,o.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const r of o.range.getItems({shallow:!0}))this._isInInsertedElement(r.parent)||this._markAttribute(r);break;case"remove":case"move":case"reinsert":{if(o.sourcePosition.isEqual(o.targetPosition)||o.sourcePosition.getShiftedBy(o.howMany).isEqual(o.targetPosition))return;const r=this._isInInsertedElement(o.sourcePosition.parent),a=this._isInInsertedElement(o.targetPosition.parent);r||this._markRemove(o.sourcePosition.parent,o.sourcePosition.offset,o.howMany),a||this._markInsert(o.targetPosition.parent,o.getMovedRangeStart().offset,o.howMany);break}case"rename":{if(this._isInInsertedElement(o.position.parent))return;this._markRemove(o.position.parent,o.position.offset,1),this._markInsert(o.position.parent,o.position.offset,1);const r=ne._createFromPositionAndShift(o.position,1);for(const a of this._markerCollection.getMarkersIntersectingRange(r)){const l=a.getData();this.bufferMarkerChange(a.name,l,l)}break}case"split":{const r=o.splitPosition.parent;this._isInInsertedElement(r)||this._markRemove(r,o.splitPosition.offset,o.howMany),this._isInInsertedElement(o.insertionPosition.parent)||this._markInsert(o.insertionPosition.parent,o.insertionPosition.offset,1),o.graveyardPosition&&this._markRemove(o.graveyardPosition.parent,o.graveyardPosition.offset,1);break}case"merge":{const r=o.sourcePosition.parent;this._isInInsertedElement(r.parent)||this._markRemove(r.parent,r.startOffset,1);const a=o.graveyardPosition.parent;this._markInsert(a,o.graveyardPosition.offset,1);const l=o.targetPosition.parent;this._isInInsertedElement(l)||this._markInsert(l,o.targetPosition.offset,r.maxOffset);break}case"detachRoot":case"addRoot":{const r=o.affectedSelectable;if(!r._isLoaded||r.isAttached()==o.isAdd)return;this._bufferRootStateChange(o.rootName,o.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!o.root._isLoaded)return;const r=o.root.rootName;this._bufferRootAttributeChange(r,o.key,o.oldValue,o.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,o,r){o.range&&o.range.root.is("rootElement")&&!o.range.root._isLoaded&&(o.range=null),r.range&&r.range.root.is("rootElement")&&!r.range.root._isLoaded&&(r.range=null);let a=this._changedMarkers.get(e);a?a.newMarkerData=r:(a={newMarkerData:r,oldMarkerData:o},this._changedMarkers.set(e,a)),a.oldMarkerData.range==null&&r.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[o,r]of this._changedMarkers)r.oldMarkerData.range!=null&&e.push({name:o,range:r.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[o,r]of this._changedMarkers)r.newMarkerData.range!=null&&e.push({name:o,range:r.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,o])=>({name:e,data:{oldRange:o.oldMarkerData.range,newRange:o.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:o}of this._changedMarkers.values()){if(e.affectsData!==o.affectsData)return!0;if(e.affectsData){const r=e.range&&!o.range,a=!e.range&&o.range,l=e.range&&o.range&&!e.range.isEqual(o.range);if(r||a||l)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let o=[];for(const r of this._changesInElement.keys()){const a=this._changesInElement.get(r).sort((w,A)=>w.offset===A.offset?w.type!=A.type?w.type=="remove"?-1:1:0:w.offset<A.offset?-1:1),l=this._elementSnapshots.get(r),u=C1(r.getChildren()),p=b6(l.length,a);let g=0,k=0;for(const w of p)if(w==="i")o.push(this._getInsertDiff(r,g,u[g])),g++;else if(w==="r")o.push(this._getRemoveDiff(r,g,l[k])),k++;else if(w==="a"){const A=u[g].attributes,E=l[k].attributes;let T;if(u[g].name=="$text")T=new ne(de._createAt(r,g),de._createAt(r,g+1));else{const D=r.offsetToIndex(g);T=new ne(de._createAt(r,g),de._createAt(r.getChild(D),0))}o.push(...this._getAttributesDiff(T,E,A)),g++,k++}else g++,k++}o.sort((r,a)=>r.position.root!=a.position.root?r.position.root.rootName<a.position.root.rootName?-1:1:r.position.isEqual(a.position)?r.changeCount-a.changeCount:r.position.isBefore(a.position)?-1:1);for(let r=1,a=0;r<o.length;r++){const l=o[a],u=o[r],p=l.type=="remove"&&u.type=="remove"&&l.name=="$text"&&u.name=="$text"&&l.position.isEqual(u.position),g=l.type=="insert"&&u.type=="insert"&&l.name=="$text"&&u.name=="$text"&&l.position.parent==u.position.parent&&l.position.offset+l.length==u.position.offset,k=l.type=="attribute"&&u.type=="attribute"&&l.position.parent==u.position.parent&&l.range.isFlat&&u.range.isFlat&&l.position.offset+l.length==u.position.offset&&l.attributeKey==u.attributeKey&&l.attributeOldValue==u.attributeOldValue&&l.attributeNewValue==u.attributeNewValue;p||g||k?(l.length++,k&&(l.range.end=l.range.end.getShiftedBy(1)),o[r]=null):a=r}o=o.filter(r=>r);for(const r of o)delete r.changeCount,r.type=="attribute"&&(delete r.position,delete r.length);return this._changeCount=0,this._cachedChangesWithGraveyard=o,this._cachedChanges=o.filter(k6),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const o=_1({},e);return o.state!==void 0&&delete o.attributes,o})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,o){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:o?"attached":"detached"});const r=this._changedRoots.get(e);r.state!==void 0?(delete r.state,r.attributes===void 0&&this._changedRoots.delete(e)):r.state=o?"attached":"detached"}_bufferRootAttributeChange(e,o,r,a){const l=this._changedRoots.get(e)||{name:e},u=l.attributes||{};if(u[o]){const p=u[o];a===p.oldValue?delete u[o]:p.newValue=a}else u[o]={oldValue:r,newValue:a};Object.entries(u).length===0?(delete l.attributes,l.state===void 0&&this._changedRoots.delete(e)):(l.attributes=u,this._changedRoots.set(e,l))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const o=ne._createOn(e);for(const r of this._markerCollection.getMarkersIntersectingRange(o)){const a=r.getData();this.bufferMarkerChange(r.name,a,a)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const r of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,r,null,e.getAttribute(r));for(const r of this._markerCollection)if(r.getRange().root==e){const a=r.getData();this.bufferMarkerChange(r.name,(o=_1({},a),h6(o,p6({range:null}))),a)}var o}}_markInsert(e,o,r){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const a={type:"insert",offset:o,howMany:r,count:this._changeCount++};this._markChange(e,a)}_markRemove(e,o,r){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const a={type:"remove",offset:o,howMany:r,count:this._changeCount++};this._markChange(e,a),this._removeAllNestedChanges(e,o,r)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const o={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,o)}_markChange(e,o){this._makeSnapshot(e);const r=this._getChangesForElement(e);this._handleChange(o,r),r.push(o);for(let a=0;a<r.length;a++)r[a].howMany<1&&(r.splice(a,1),a--)}_getChangesForElement(e){let o;return this._changesInElement.has(e)?o=this._changesInElement.get(e):(o=[],this._changesInElement.set(e,o)),o}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,C1(e.getChildren()))}_handleChange(e,o){e.nodesToHandle=e.howMany;for(const r of o){const a=e.offset+e.howMany,l=r.offset+r.howMany;if(e.type=="insert"&&(r.type=="insert"&&(e.offset<=r.offset?r.offset+=e.howMany:e.offset<l&&(r.howMany+=e.nodesToHandle,e.nodesToHandle=0)),r.type=="remove"&&e.offset<r.offset&&(r.offset+=e.howMany),r.type=="attribute")){if(e.offset<=r.offset)r.offset+=e.howMany;else if(e.offset<l){const u=r.howMany;r.howMany=e.offset-r.offset,o.unshift({type:"attribute",offset:a,howMany:u-r.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(r.type=="insert"){if(a<=r.offset)r.offset-=e.howMany;else if(a<=l)if(e.offset<r.offset){const u=a-r.offset;r.offset=e.offset,r.howMany-=u,e.nodesToHandle-=u}else r.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=r.offset)e.nodesToHandle-=r.howMany,r.howMany=0;else if(e.offset<l){const u=l-e.offset;r.howMany-=u,e.nodesToHandle-=u}}if(r.type=="remove"&&(a<=r.offset?r.offset-=e.howMany:e.offset<r.offset&&(e.nodesToHandle+=r.howMany,r.howMany=0)),r.type=="attribute"){if(a<=r.offset)r.offset-=e.howMany;else if(e.offset<r.offset){const u=a-r.offset;r.offset=e.offset,r.howMany-=u}else if(e.offset<l)if(a<=l){const u=r.howMany;r.howMany=e.offset-r.offset;const p=u-r.howMany-e.nodesToHandle;o.unshift({type:"attribute",offset:e.offset,howMany:p,count:this._changeCount++})}else r.howMany-=l-e.offset}}if(e.type=="attribute"){if(r.type=="insert")if(e.offset<r.offset&&a>r.offset){if(a>l){const u={type:"attribute",offset:l,howMany:a-l,count:this._changeCount++};this._handleChange(u,o),o.push(u)}e.nodesToHandle=r.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=r.offset&&e.offset<l&&(a>l?(e.nodesToHandle=a-l,e.offset=l):e.nodesToHandle=0);if(r.type=="remove"&&e.offset<r.offset&&a>r.offset){const u={type:"attribute",offset:r.offset,howMany:a-r.offset,count:this._changeCount++};this._handleChange(u,o),o.push(u),e.nodesToHandle=r.offset-e.offset,e.howMany=e.nodesToHandle}r.type=="attribute"&&(e.offset>=r.offset&&a<=l?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=r.offset&&a>=l&&(r.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,o,r){return{type:"insert",position:de._createAt(e,o),name:r.name,attributes:new Map(r.attributes),length:1,changeCount:this._changeCount++,_element:r.element}}_getRemoveDiff(e,o,r){return{type:"remove",position:de._createAt(e,o),name:r.name,attributes:new Map(r.attributes),length:1,changeCount:this._changeCount++,_element:r.element}}_getAttributesDiff(e,o,r){const a=[];r=new Map(r);for(const[l,u]of o){const p=r.has(l)?r.get(l):null;p!==u&&a.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:l,attributeOldValue:u,attributeNewValue:p,changeCount:this._changeCount++}),r.delete(l)}for(const[l,u]of r)a.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:l,attributeOldValue:null,attributeNewValue:u,changeCount:this._changeCount++});return a}_isInInsertedElement(e){const o=e.parent;if(!o)return!1;const r=this._changesInElement.get(o),a=e.startOffset;if(r){for(const l of r)if(l.type=="insert"&&a>=l.offset&&a<l.offset+l.howMany)return!0}return this._isInInsertedElement(o)}_removeAllNestedChanges(e,o,r){const a=new ne(de._createAt(e,o),de._createAt(e,o+r));for(const l of a.getItems({shallow:!0}))l.is("element")&&(this._elementSnapshots.delete(l),this._changesInElement.delete(l),this._removeAllNestedChanges(l,0,l.maxOffset))}}function C1(s){const e=[];for(const o of s)if(o.is("$text"))for(let r=0;r<o.data.length;r++)e.push({name:"$text",attributes:new Map(o.getAttributes())});else e.push({name:o.name,attributes:new Map(o.getAttributes()),element:o});return e}function b6(s,e){const o=[];let r=0,a=0;for(const l of e){if(l.offset>r){for(let u=0;u<l.offset-r;u++)o.push("e");a+=l.offset-r}if(l.type=="insert"){for(let u=0;u<l.howMany;u++)o.push("i");r=l.offset+l.howMany}else if(l.type=="remove"){for(let u=0;u<l.howMany;u++)o.push("r");r=l.offset,a+=l.howMany}else o.push(..."a".repeat(l.howMany).split("")),r=l.offset+l.howMany,a+=l.howMany}if(a<s)for(let l=0;l<s-a-r;l++)o.push("e");return o}function k6(s){const e="position"in s&&s.position.root.rootName=="$graveyard",o="range"in s&&s.range.root.rootName=="$graveyard";return!e&&!o}class w6{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new P("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,o=this.version){if(!this._operations.length)return[];const r=this._operations[0];e===void 0&&(e=r.baseVersion);let a=o-1;for(const[p,g]of this._gaps)e>p&&e<g&&(e=g),a>p&&a<g&&(a=p-1);if(a<r.baseVersion||e>this.lastOperation.baseVersion)return[];let l=this._baseVersionToOperationIndex.get(e);l===void 0&&(l=0);let u=this._baseVersionToOperationIndex.get(a);return u===void 0&&(u=this._operations.length-1),this._operations.slice(l,u+1)}getOperation(e){const o=this._baseVersionToOperationIndex.get(e);if(o!==void 0)return this._operations[o]}setOperationAsUndone(e,o){this._undoPairs.set(o,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Sh extends Mt{constructor(e,o,r="main"){super(o),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=r}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Sh.prototype.is=function(s,e){return e?e===this.name&&(s==="rootElement"||s==="model:rootElement"||s==="element"||s==="model:element"):s==="rootElement"||s==="model:rootElement"||s==="element"||s==="model:element"||s==="node"||s==="model:node"};var v6=Object.defineProperty,_6=Object.defineProperties,C6=Object.getOwnPropertyDescriptors,A1=Object.getOwnPropertySymbols,A6=Object.prototype.hasOwnProperty,y6=Object.prototype.propertyIsEnumerable,y1=(s,e,o)=>e in s?v6(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,x1=(s,e)=>{for(var o in e||(e={}))A6.call(e,o)&&y1(s,o,e[o]);if(A1)for(var o of A1(e))y6.call(e,o)&&y1(s,o,e[o]);return s},E1=(s,e)=>_6(s,C6(e));const T1="$graveyard";class x6 extends K(){constructor(e){super(),this.model=e,this.history=new w6,this.selection=new hi(this),this.roots=new si({idProperty:"rootName"}),this.differ=new m6(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",T1),this.listenTo(e,"applyOperation",(o,r)=>{const a=r[0];a.isDocumentOperation&&this.differ.bufferOperation(a)},{priority:"high"}),this.listenTo(e,"applyOperation",(o,r)=>{const a=r[0];a.isDocumentOperation&&this.history.addOperation(a)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(o,r,a,l,u)=>{const p=E1(x1({},r.getData()),{range:l});this.differ.bufferMarkerChange(r.name,u,p),a===null&&r.on("change",(g,k)=>{const w=r.getData();this.differ.bufferMarkerChange(r.name,E1(x1({},w),{range:k}),w)})}),this.registerPostFixer(o=>{let r=!1;for(const a of this.roots)a.isAttached()||a.isEmpty||(o.remove(o.createRangeIn(a)),r=!0);for(const a of this.model.markers)a.getRange().root.isAttached()||(o.removeMarker(a),r=!0);return r})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(T1)}createRoot(e="$root",o="main"){if(this.roots.get(o))throw new P("model-document-createroot-name-exists",this,{name:o});const r=new Sh(this,e,o);return this.roots.add(r),r}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(o=>o.rootName)}getRoots(e=!1){return this.roots.filter(o=>o!=this.graveyard&&(e||o.isAttached())&&o._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=KA(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),o=this.model,r=o.schema,a=o.createPositionFromPath(e,[0]);return r.getNearestSelectionRange(a)||o.createRange(a)}_validateSelectionRange(e){return I1(e.start)&&I1(e.end)}_callPostFixers(e){let o=!1;do for(const r of this._postFixers)if(this.selection.refresh(),o=r(e),o)break;while(o)}}function I1(s){const e=s.textNode;if(e){const o=e.data,r=s.offset-e.startOffset;return!nb(o,r)&&!ob(o,r)}return!0}var E6=Object.defineProperty,T6=Object.defineProperties,I6=Object.getOwnPropertyDescriptors,S1=Object.getOwnPropertySymbols,S6=Object.prototype.hasOwnProperty,D6=Object.prototype.propertyIsEnumerable,D1=(s,e,o)=>e in s?E6(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o;class M6 extends K(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const o=e instanceof Sa?e.name:e;return this._markers.has(o)}get(e){return this._markers.get(e)||null}_set(e,o,r=!1,a=!1){const l=e instanceof Sa?e.name:e;if(l.includes(","))throw new P("markercollection-incorrect-marker-name",this);const u=this._markers.get(l);if(u){const w=u.getData(),A=u.getRange();let E=!1;return A.isEqual(o)||(u._attachLiveRange(xo.fromRange(o)),E=!0),r!=u.managedUsingOperations&&(u._managedUsingOperations=r,E=!0),typeof a=="boolean"&&a!=u.affectsData&&(u._affectsData=a,E=!0),E&&this.fire(`update:${l}`,u,A,o,w),u}const p=xo.fromRange(o),g=new Sa(l,p,r,a);var k;return this._markers.set(l,g),this.fire(`update:${l}`,g,null,o,(k=((w,A)=>{for(var E in A||(A={}))S6.call(A,E)&&D1(w,E,A[E]);if(S1)for(var E of S1(A))D6.call(A,E)&&D1(w,E,A[E]);return w})({},g.getData()),T6(k,I6({range:null})))),g}_remove(e){const o=e instanceof Sa?e.name:e,r=this._markers.get(o);return!!r&&(this._markers.delete(o),this.fire(`update:${o}`,r,r.getRange(),null,r.getData()),this._destroyMarker(r),!0)}_refresh(e){const o=e instanceof Sa?e.name:e,r=this._markers.get(o);if(!r)throw new P("markercollection-refresh-marker-not-exists",this);const a=r.getRange();this.fire(`update:${o}`,r,a,a,r.getData())}*getMarkersAtPosition(e){for(const o of this)o.getRange().containsPosition(e)&&(yield o)}*getMarkersIntersectingRange(e){for(const o of this)o.getRange().getIntersection(e)!==null&&(yield o)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const o of this._markers.values())o.name.startsWith(e+":")&&(yield o)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Sa extends K(Er){constructor(e,o,r,a){super(),this.name=e,this._liveRange=this._attachLiveRange(o),this._managedUsingOperations=r,this._affectsData=a}get managedUsingOperations(){if(!this._liveRange)throw new P("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new P("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new P("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new P("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new P("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Sa.prototype.is=function(s){return s==="marker"||s==="model:marker"};class P6 extends Eo{constructor(e,o){super(null),this.sourcePosition=e.clone(),this.howMany=o}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new P("detach-operation-on-document-node",this)}_execute(){u1(ne._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Yi extends Er{constructor(e){super(),this.markers=new Map,this._children=new wl,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let o=this;for(const r of e)o=o.getChild(o.offsetToIndex(r));return o}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const o of this._children)e.push(o.toJSON());return e}static fromJSON(e){const o=[];for(const r of e)r.name?o.push(Mt.fromJSON(r)):o.push(Lt.fromJSON(r));return new Yi(o)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,o){const r=function(a){return typeof a=="string"?[new Lt(a)]:(Ye(a)||(a=[a]),Array.from(a).map(l=>typeof l=="string"?new Lt(l):l instanceof ui?new Lt(l.data,l.getAttributes()):l))}(o);for(const a of r)a.parent!==null&&a._remove(),a.parent=this;this._children._insertNodes(e,r)}_removeChildren(e,o=1){const r=this._children._removeNodes(e,o);for(const a of r)a.parent=null;return r}}Yi.prototype.is=function(s){return s==="documentFragment"||s==="model:documentFragment"};class R6{constructor(e,o){this.model=e,this.batch=o}createText(e,o){return new Lt(e,o)}createElement(e,o){return new Mt(e,o)}createDocumentFragment(){return new Yi}cloneElement(e,o=!0){return e._clone(o)}insert(e,o,r=0){if(this._assertWriterUsedCorrectly(),e instanceof Lt&&e.data=="")return;const a=de._createAt(o,r);if(e.parent){if(R1(e.root,a.root))return void this.move(ne._createOn(e),a);if(e.root.document)throw new P("model-writer-insert-forbidden-move",this);this.remove(e)}const l=a.root.document?a.root.document.version:null,u=new Mn(a,e,l);if(e instanceof Lt&&(u.shouldReceiveAttributes=!0),this.batch.addOperation(u),this.model.applyOperation(u),e instanceof Yi)for(const[p,g]of e.markers){const k=de._createAt(g.root,0),w={range:new ne(g.start._getCombined(k,a),g.end._getCombined(k,a)),usingOperation:!0,affectsData:!0};this.model.markers.has(p)?this.updateMarker(p,w):this.addMarker(p,w)}}insertText(e,o,r,a){o instanceof Yi||o instanceof Mt||o instanceof de?this.insert(this.createText(e),o,r):this.insert(this.createText(e,o),r,a)}insertElement(e,o,r,a){o instanceof Yi||o instanceof Mt||o instanceof de?this.insert(this.createElement(e),o,r):this.insert(this.createElement(e,o),r,a)}append(e,o){this.insert(e,o,"end")}appendText(e,o,r){o instanceof Yi||o instanceof Mt?this.insert(this.createText(e),o,"end"):this.insert(this.createText(e,o),r,"end")}appendElement(e,o,r){o instanceof Yi||o instanceof Mt?this.insert(this.createElement(e),o,"end"):this.insert(this.createElement(e,o),r,"end")}setAttribute(e,o,r){if(this._assertWriterUsedCorrectly(),r instanceof ne){const a=r.getMinimalFlatRanges();for(const l of a)M1(this,e,o,l)}else P1(this,e,o,r)}setAttributes(e,o){for(const[r,a]of wi(e))this.setAttribute(r,a,o)}removeAttribute(e,o){if(this._assertWriterUsedCorrectly(),o instanceof ne){const r=o.getMinimalFlatRanges();for(const a of r)M1(this,e,null,a)}else P1(this,e,null,o)}clearAttributes(e){this._assertWriterUsedCorrectly();const o=r=>{for(const a of r.getAttributeKeys())this.removeAttribute(a,r)};if(e instanceof ne)for(const r of e.getItems())o(r);else o(e)}move(e,o,r){if(this._assertWriterUsedCorrectly(),!(e instanceof ne))throw new P("writer-move-invalid-range",this);if(!e.isFlat)throw new P("writer-move-range-not-flat",this);const a=de._createAt(o,r);if(a.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!R1(e.root,a.root))throw new P("writer-move-different-document",this);const l=e.root.document?e.root.document.version:null,u=new wt(e.start,e.end.offset-e.start.offset,a,l);this.batch.addOperation(u),this.model.applyOperation(u)}remove(e){this._assertWriterUsedCorrectly();const o=(e instanceof ne?e:ne._createOn(e)).getMinimalFlatRanges().reverse();for(const r of o)this._addOperationForAffectedMarkers("move",r),B6(r.start,r.end.offset-r.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const o=e.nodeBefore,r=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(o instanceof Mt))throw new P("writer-merge-no-element-before",this);if(!(r instanceof Mt))throw new P("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,o,r){return this.model.createPositionFromPath(e,o,r)}createPositionAt(e,o){return this.model.createPositionAt(e,o)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,o){return this.model.createRange(e,o)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const o=e.nodeBefore,r=e.nodeAfter;this.move(ne._createIn(r),de._createAt(o,"end")),this.remove(r)}_merge(e){const o=de._createAt(e.nodeBefore,"end"),r=de._createAt(e.nodeAfter,0),a=e.root.document.graveyard,l=new de(a,[0]),u=e.root.document.version,p=new rn(r,e.nodeAfter.maxOffset,o,l,u);this.batch.addOperation(p),this.model.applyOperation(p)}rename(e,o){if(this._assertWriterUsedCorrectly(),!(e instanceof Mt))throw new P("writer-rename-not-element-instance",this);const r=e.root.document?e.root.document.version:null,a=new ao(de._createBefore(e),e.name,o,r);this.batch.addOperation(a),this.model.applyOperation(a)}split(e,o){this._assertWriterUsedCorrectly();let r,a,l=e.parent;if(!l.parent)throw new P("writer-split-element-no-parent",this);if(o||(o=l.parent),!e.parent.getAncestors({includeSelf:!0}).includes(o))throw new P("writer-split-invalid-limit-element",this);do{const u=l.root.document?l.root.document.version:null,p=l.maxOffset-e.offset,g=jt.getInsertionPosition(e),k=new jt(e,p,g,null,u);this.batch.addOperation(k),this.model.applyOperation(k),r||a||(r=l,a=e.parent.nextSibling),l=(e=this.createPositionAfter(e.parent)).parent}while(l!==o);return{position:e,range:new ne(de._createAt(r,"end"),de._createAt(a,0))}}wrap(e,o){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new P("writer-wrap-range-not-flat",this);const r=o instanceof Mt?o:new Mt(o);if(r.childCount>0)throw new P("writer-wrap-element-not-empty",this);if(r.parent!==null)throw new P("writer-wrap-element-attached",this);this.insert(r,e.start);const a=new ne(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(a,de._createAt(r,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new P("writer-unwrap-element-no-parent",this);this.move(ne._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,o){if(this._assertWriterUsedCorrectly(),!o||typeof o.usingOperation!="boolean")throw new P("writer-addmarker-no-usingoperation",this);const r=o.usingOperation,a=o.range,l=o.affectsData!==void 0&&o.affectsData;if(this.model.markers.has(e))throw new P("writer-addmarker-marker-exists",this);if(!a)throw new P("writer-addmarker-no-range",this);return r?(Tl(this,e,null,a,l),this.model.markers.get(e)):this.model.markers._set(e,a,r,l)}updateMarker(e,o){this._assertWriterUsedCorrectly();const r=typeof e=="string"?e:e.name,a=this.model.markers.get(r);if(!a)throw new P("writer-updatemarker-marker-not-exists",this);if(!o)return U("writer-updatemarker-reconvert-using-editingcontroller",{markerName:r}),void this.model.markers._refresh(a);const l=typeof o.usingOperation=="boolean",u=typeof o.affectsData=="boolean",p=u?o.affectsData:a.affectsData;if(!l&&!o.range&&!u)throw new P("writer-updatemarker-wrong-options",this);const g=a.getRange(),k=o.range?o.range:g;l&&o.usingOperation!==a.managedUsingOperations?o.usingOperation?Tl(this,r,null,k,p):(Tl(this,r,g,null,p),this.model.markers._set(r,k,void 0,p)):a.managedUsingOperations?Tl(this,r,g,k,p):this.model.markers._set(r,k,void 0,p)}removeMarker(e){this._assertWriterUsedCorrectly();const o=typeof e=="string"?e:e.name;if(!this.model.markers.has(o))throw new P("writer-removemarker-no-marker",this);const r=this.model.markers.get(o);if(!r.managedUsingOperations)return void this.model.markers._remove(o);Tl(this,o,r.getRange(),null,r.affectsData)}addRoot(e,o="$root"){this._assertWriterUsedCorrectly();const r=this.model.document.getRoot(e);if(r&&r.isAttached())throw new P("writer-addroot-root-exists",this);const a=this.model.document,l=new Ai(e,o,!0,a,a.version);return this.batch.addOperation(l),this.model.applyOperation(l),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const o=typeof e=="string"?this.model.document.getRoot(e):e;if(!o||!o.isAttached())throw new P("writer-detachroot-no-root",this);for(const l of this.model.markers)l.getRange().root===o&&this.removeMarker(l);for(const l of o.getAttributeKeys())this.removeAttribute(l,o);this.remove(this.createRangeIn(o));const r=this.model.document,a=new Ai(o.rootName,o.name,!1,r,r.version);this.batch.addOperation(a),this.model.applyOperation(a)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,o){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,o)}setSelectionAttribute(e,o){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,o);else for(const[r,a]of wi(e))this._setSelectionAttribute(r,a)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const o of e)this._removeSelectionAttribute(o)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,o){const r=this.model.document.selection;if(r.isCollapsed&&r.anchor.parent.isEmpty){const a=hi._getStoreAttributeKey(e);this.setAttribute(a,o,r.anchor.parent)}r._setAttribute(e,o)}_removeSelectionAttribute(e){const o=this.model.document.selection;if(o.isCollapsed&&o.anchor.parent.isEmpty){const r=hi._getStoreAttributeKey(e);this.removeAttribute(r,o.anchor.parent)}o._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new P("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,o){for(const r of this.model.markers){if(!r.managedUsingOperations)continue;const a=r.getRange();let l=!1;if(e==="move"){const u=o;l=u.containsPosition(a.start)||u.start.isEqual(a.start)||u.containsPosition(a.end)||u.end.isEqual(a.end)}else{const u=o,p=u.nodeBefore,g=u.nodeAfter,k=a.start.parent==p&&a.start.isAtEnd,w=a.end.parent==g&&a.end.offset==0,A=a.end.nodeAfter==g,E=a.start.nodeAfter==g;l=k||w||A||E}l&&this.updateMarker(r.name,{range:a})}}}function M1(s,e,o,r){const a=s.model,l=a.document;let u,p,g,k=r.start;for(const A of r.getWalker({shallow:!0}))g=A.item.getAttribute(e),u&&p!=g&&(p!=o&&w(),k=u),u=A.nextPosition,p=g;function w(){const A=new ne(k,u),E=A.root.document?l.version:null,T=new pn(A,e,p,o,E);s.batch.addOperation(T),a.applyOperation(T)}u instanceof de&&u!=k&&p!=o&&w()}function P1(s,e,o,r){const a=s.model,l=a.document,u=r.getAttribute(e);let p,g;if(u!=o){if(r.root===r){const k=r.document?l.version:null;g=new Ki(r,e,u,o,k)}else{p=new ne(de._createBefore(r),s.createPositionAfter(r));const k=p.root.document?l.version:null;g=new pn(p,e,u,o,k)}s.batch.addOperation(g),a.applyOperation(g)}}function Tl(s,e,o,r,a){const l=s.model,u=l.document,p=new so(e,o,r,l.markers,!!a,u.version);s.batch.addOperation(p),l.applyOperation(p)}function B6(s,e,o,r){let a;if(s.root.document){const l=r.document,u=new de(l.graveyard,[0]);a=new wt(s,e,u,l.version)}else a=new P6(s,e);o.addOperation(a),r.applyOperation(a)}function R1(s,e){return s===e||s instanceof Sh&&e instanceof Sh}function N6(s,e,o={}){if(e.isCollapsed)return;const r=e.getFirstRange();if(r.root.rootName=="$graveyard")return;const a=s.schema;s.change(l=>{if(!o.doNotResetEntireContent&&function(k,w){const A=k.getLimitElement(w);if(!w.containsEntireContent(A))return!1;const E=w.getFirstRange();return E.start.parent==E.end.parent?!1:k.checkChild(A,"paragraph")}(a,e))return void function(k,w){const A=k.model.schema.getLimitElement(w);k.remove(k.createRangeIn(A)),O1(k,k.createPositionAt(A,0),w)}(l,e);const u={};if(!o.doNotAutoparagraph){const k=e.getSelectedElement();k&&Object.assign(u,a.getAttributesWithProperty(k,"copyOnReplace",!0))}const[p,g]=function(k){const w=k.root.document.model,A=k.start;let E=k.end;if(w.hasContent(k,{ignoreMarkers:!0})){const T=function(D){const B=D.parent,z=B.root.document.model.schema,$=B.getAncestors({parentFirst:!0,includeSelf:!0});for(const q of $){if(z.isLimit(q))return null;if(z.isBlock(q))return q}}(E);if(T&&E.isTouching(w.createPositionAt(T,0))){const D=w.createSelection(k);w.modifySelection(D,{direction:"backward"});const B=D.getLastPosition(),z=w.createRange(B,E);w.hasContent(z,{ignoreMarkers:!0})||(E=B)}}return[Ln.fromPosition(A,"toPrevious"),Ln.fromPosition(E,"toNext")]}(r);p.isTouching(g)||l.remove(l.createRange(p,g)),o.leaveUnmerged||(function(k,w,A){const E=k.model;if(!Lb(k.model.schema,w,A))return;const[T,D]=function(B,z){const $=B.getAncestors(),q=z.getAncestors();let Z=0;for(;$[Z]&&$[Z]==q[Z];)Z++;return[$[Z],q[Z]]}(w,A);!T||!D||(!E.hasContent(T,{ignoreMarkers:!0})&&E.hasContent(D,{ignoreMarkers:!0})?N1(k,w,A,T.parent):B1(k,w,A,T.parent))}(l,p,g),a.removeDisallowedAttributes(p.parent.getChildren(),l)),L1(l,e,p),!o.doNotAutoparagraph&&function(k,w){const A=k.checkChild(w,"$text"),E=k.checkChild(w,"paragraph");return!A&&E}(a,p)&&O1(l,p,e,u),p.detach(),g.detach()})}function B1(s,e,o,r){const a=e.parent,l=o.parent;if(a!=r&&l!=r){for(e=s.createPositionAfter(a),(o=s.createPositionBefore(l)).isEqual(e)||s.insert(l,e),s.merge(e);o.parent.isEmpty;){const u=o.parent;o=s.createPositionBefore(u),s.remove(u)}Lb(s.model.schema,e,o)&&B1(s,e,o,r)}}function N1(s,e,o,r){const a=e.parent,l=o.parent;if(a!=r&&l!=r){for(e=s.createPositionAfter(a),(o=s.createPositionBefore(l)).isEqual(e)||s.insert(a,o);e.parent.isEmpty;){const u=e.parent;e=s.createPositionBefore(u),s.remove(u)}o=s.createPositionBefore(l),function(u,p){const g=p.nodeBefore,k=p.nodeAfter;g.name!=k.name&&u.rename(g,k.name),u.clearAttributes(g),u.setAttributes(Object.fromEntries(k.getAttributes()),g),u.merge(p)}(s,o),Lb(s.model.schema,e,o)&&N1(s,e,o,r)}}function Lb(s,e,o){const r=e.parent,a=o.parent;return r!=a&&!s.isLimit(r)&&!s.isLimit(a)&&function(l,u,p){const g=new ne(l,u);for(const k of g.getWalker())if(p.isLimit(k.item))return!1;return!0}(e,o,s)}function O1(s,e,o,r={}){const a=s.createElement("paragraph");s.model.schema.setAllowedAttributes(a,r,s),s.insert(a,e),L1(s,o,s.createPositionAt(a,0))}function L1(s,e,o){e instanceof hi?s.setSelection(o):e.setTo(o)}function j1(s,e){const o=[];Array.from(s.getItems({direction:"backward"})).map(r=>e.createRangeOn(r)).filter(r=>(r.start.isAfter(s.start)||r.start.isEqual(s.start))&&(r.end.isBefore(s.end)||r.end.isEqual(s.end))).forEach(r=>{o.push(r.start.parent),e.remove(r)}),o.forEach(r=>{let a=r;for(;a.parent&&a.isEmpty;){const l=e.createRangeOn(a);a=a.parent,e.remove(l)}})}class O6{constructor(e,o,r){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=o,this.position=r,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=o.createDocumentFragment(),this._documentFragmentPosition=o.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const o of Array.from(e))this._handleNode(o);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const o=this.writer.createPositionAfter(this._lastNode),r=this.writer.createPositionAfter(e);if(r.isAfter(o)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new P("insertcontent-invalid-insertion-position",this);this.position=r,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?ne._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new ne(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let o=this._checkAndAutoParagraphToAllowedPosition(e);o||(o=this._checkAndSplitToAllowedPosition(e),o)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=Ln.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new P("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=Ln.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Ln.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof Mt)||!this._canMergeLeft(e))return;const o=Ln._createBefore(e);o.stickiness="toNext";const r=Ln.fromPosition(this.position,"toNext");this._affectedStart.isEqual(o)&&(this._affectedStart.detach(),this._affectedStart=Ln._createAt(o.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=o.nodeBefore,this._lastNode=o.nodeBefore),this.writer.merge(o),o.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Ln._createAt(o.nodeBefore,"end","toNext")),this.position=r.toPosition(),r.detach(),this._filterAttributesOf.push(this.position.parent),o.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof Mt)||!this._canMergeRight(e))return;const o=Ln._createAfter(e);if(o.stickiness="toNext",!this.position.isEqual(o))throw new P("insertcontent-invalid-insertion-position",this);this.position=de._createAt(o.nodeBefore,"end");const r=Ln.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(o)&&(this._affectedEnd.detach(),this._affectedEnd=Ln._createAt(o.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=o.nodeBefore,this._lastNode=o.nodeBefore),this.writer.merge(o),o.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Ln._createAt(o.nodeBefore,0,"toPrevious")),this.position=r.toPosition(),r.detach(),this._filterAttributesOf.push(this.position.parent),o.detach()}_canMergeLeft(e){const o=e.previousSibling;return o instanceof Mt&&this.canMergeWith.has(o)&&this.model.schema.checkMerge(o,e)}_canMergeRight(e){const o=e.nextSibling;return o instanceof Mt&&this.canMergeWith.has(o)&&this.model.schema.checkMerge(e,o)}_tryAutoparagraphing(e){const o=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,o)&&this.schema.checkChild(o,e)&&(o._appendChild(e),this._handleNode(o))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const o=this.writer.createElement("paragraph");return this.writer.insert(o,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=o,this.position=this.writer.createPositionAt(o,0),!0}_checkAndSplitToAllowedPosition(e){const o=this._getAllowedIn(this.position.parent,e);if(!o)return!1;for(o!=this.position.parent&&this._insertPartialFragment();o!=this.position.parent;)if(this.position.isAtStart){const r=this.position.parent;this.position=this.writer.createPositionBefore(r),r.isEmpty&&r.parent===o&&this.writer.remove(r)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const r=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=r,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,o){return this.schema.checkChild(e,o)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,o)}}function L6(s,e,o,r={}){if(!s.schema.isObject(e))throw new P("insertobject-element-not-an-object",s,{object:e});const a=o||s.document.selection;let l=a;r.findOptimalPosition&&s.schema.isBlock(e)&&(l=s.createSelection(s.schema.findOptimalInsertionRange(a,r.findOptimalPosition)));const u=Sn(a.getSelectedBlocks()),p={};return u&&Object.assign(p,s.schema.getAttributesWithProperty(u,"copyOnReplace",!0)),s.change(g=>{l.isCollapsed||s.deleteContent(l,{doNotAutoparagraph:!0});let k=e;const w=l.anchor.parent;!s.schema.checkChild(w,e)&&s.schema.checkChild(w,"paragraph")&&s.schema.checkChild("paragraph",e)&&(k=g.createElement("paragraph"),g.insert(e,k)),s.schema.setAllowedAttributes(k,p,g);const A=s.insertContent(k,l);return A.isCollapsed||r.setSelection&&function(E,T,D,B){const z=E.model;if(D=="on")return void E.setSelection(T,"on");if(D!="after")throw new P("insertobject-invalid-place-parameter-value",z);let $=T.nextSibling;if(z.schema.isInline(T))return void E.setSelection(T,"after");!($&&z.schema.checkChild($,"$text"))&&z.schema.checkChild(T.parent,"paragraph")&&($=E.createElement("paragraph"),z.schema.setAllowedAttributes($,B,E),z.insertContent($,E.createPositionAfter(T))),$&&E.setSelection($,0)}(g,e,r.setSelection,p),A})}const j6=' ,.?!:;"-()';function z6(s,e){const{isForward:o,walker:r,unit:a,schema:l,treatEmojiAsSingleUnit:u}=s,{type:p,item:g,nextPosition:k}=e;if(p=="text")return s.unit==="word"?function(w,A){let E=w.position.textNode;for(E||(E=A?w.position.nodeAfter:w.position.nodeBefore);E&&E.is("$text");){const T=w.position.offset-E.startOffset;if($6(E,T,A))E=A?w.position.nodeAfter:w.position.nodeBefore;else{if(V6(E.data,T,A))break;w.next()}}return w.position}(r,o):function(w,A,E){const T=w.position.textNode;if(T){const D=T.data;let B=w.position.offset-T.startOffset;for(;nb(D,B)||A=="character"&&ob(D,B)||E&&EA(D,B);)w.next(),B=w.position.offset-T.startOffset}return w.position}(r,a,u);if(p==(o?"elementStart":"elementEnd")){if(l.isSelectable(g))return de._createAt(g,o?"after":"before");if(l.checkChild(k,"$text"))return k}else{if(l.isLimit(g))return void r.skip(()=>!0);if(l.checkChild(k,"$text"))return k}}function F6(s,e){const o=s.root,r=de._createAt(o,e?"end":0);return e?new ne(s,r):new ne(r,s)}function V6(s,e,o){const r=e+(o?0:-1);return j6.includes(s.charAt(r))}function $6(s,e,o){return e===(o?s.offsetSize:0)}class U6 extends Y(){constructor(){super(),this.markers=new M6,this.document=new x6(this),this.schema=new LF,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,o)=>{o[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,o)=>{if(o.name==="$marker")return!0}),BF(this),this.document.registerPostFixer(Yy),this.on("insertContent",(e,[o,r])=>{e.return=function(a,l,u){return a.change(p=>{const g=u||a.document.selection;g.isCollapsed||a.deleteContent(g,{doNotAutoparagraph:!0});const k=new O6(a,p,g.anchor),w=[];let A;if(l.is("documentFragment")){if(l.markers.size){const D=[];for(const[B,z]of l.markers){const{start:$,end:q}=z,Z=$.isEqual(q);D.push({position:$,name:B,isCollapsed:Z},{position:q,name:B,isCollapsed:Z})}D.sort(({position:B},{position:z})=>B.isBefore(z)?1:-1);for(const{position:B,name:z,isCollapsed:$}of D){let q=null,Z=null;const ae=B.parent===l&&B.isAtStart,ke=B.parent===l&&B.isAtEnd;ae||ke?$&&(Z=ae?"start":"end"):(q=p.createElement("$marker"),p.insert(q,B)),w.push({name:z,element:q,collapsed:Z})}}A=l.getChildren()}else A=[l];k.handleNodes(A);let E=k.getSelectionRange();if(l.is("documentFragment")&&w.length){const D=E?xo.fromRange(E):null,B={};for(let z=w.length-1;z>=0;z--){const{name:$,element:q,collapsed:Z}=w[z],ae=!B[$];if(ae&&(B[$]=[]),q){const ke=p.createPositionAt(q,"before");B[$].push(ke),p.remove(q)}else{const ke=k.getAffectedRange();if(!ke){Z&&B[$].push(k.position);continue}Z?B[$].push(ke[Z]):B[$].push(ae?ke.start:ke.end)}}for(const[z,[$,q]]of Object.entries(B))$&&q&&$.root===q.root&&$.root.document&&!p.model.markers.has(z)&&p.addMarker(z,{usingOperation:!0,affectsData:!0,range:new ne($,q)});D&&(E=D.toRange(),D.detach())}E&&(g instanceof hi?p.setSelection(E):g.setTo(E));const T=k.getAffectedRange()||a.createRange(g.anchor);return k.destroy(),T})}(this,o,r)}),this.on("insertObject",(e,[o,r,a])=>{e.return=L6(this,o,r,a)}),this.on("canEditAt",e=>{const o=!this.document.isReadOnly;e.return=o,o||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Ia,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(o){P.rethrowUnexpectedError(o,this)}}enqueueChange(e,o){try{e?typeof e=="function"?(o=e,e=new Ia):e instanceof Ia||(e=new Ia(e)):e=new Ia,this._pendingChanges.push({batch:e,callback:o}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(r){P.rethrowUnexpectedError(r,this)}}applyOperation(e){e._execute()}insertContent(e,o,r,...a){const l=jb(o,r);return this.fire("insertContent",[e,l,r,...a])}insertObject(e,o,r,a,...l){const u=jb(o,r);return this.fire("insertObject",[e,u,a,a,...l])}deleteContent(e,o){N6(this,e,o)}modifySelection(e,o){(function(r,a,l={}){const u=r.schema,p=l.direction!="backward",g=l.unit?l.unit:"character",k=!!l.treatEmojiAsSingleUnit,w=a.focus,A=new Gi({boundaries:F6(w,p),singleCharacters:!0,direction:p?"forward":"backward"}),E={walker:A,schema:u,isForward:p,unit:g,treatEmojiAsSingleUnit:k};let T;for(;T=A.next();){if(T.done)return;const D=z6(E,T.value);if(D)return void(a instanceof hi?r.change(B=>{B.setSelectionFocus(D)}):a.setFocus(D))}})(this,e,o)}getSelectedContent(e){return function(o,r){return o.change(a=>{const l=a.createDocumentFragment(),u=r.getFirstRange();if(!u||u.isCollapsed)return l;const p=u.start.root,g=u.start.getCommonPath(u.end),k=p.getNodeByPath(g);let w;w=u.start.parent==u.end.parent?u:a.createRange(a.createPositionAt(k,u.start.path[g.length]),a.createPositionAt(k,u.end.path[g.length]+1));const A=w.end.offset-w.start.offset;for(const E of w.getItems({shallow:!0}))E.is("$textProxy")?a.appendText(E.data,E.getAttributes(),l):a.append(a.cloneElement(E,!0),l);if(w!=u){const E=u._getTransformedByMove(w.start,a.createPositionAt(l,0),A)[0],T=a.createRange(a.createPositionAt(l,0),E.start);j1(a.createRange(E.end,a.createPositionAt(l,"end")),a),j1(T,a)}return l})}(this,e)}hasContent(e,o={}){const r=e instanceof ne?e:ne._createIn(e);if(r.isCollapsed)return!1;const{ignoreWhitespaces:a=!1,ignoreMarkers:l=!1}=o;if(!l){for(const u of this.markers.getMarkersIntersectingRange(r))if(u.affectsData)return!0}for(const u of r.getItems())if(this.schema.isContent(u)&&(!u.is("$textProxy")||!a||u.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const o=jb(e);return this.fire("canEditAt",[o])}createPositionFromPath(e,o,r){return new de(e,o,r)}createPositionAt(e,o){return de._createAt(e,o)}createPositionAfter(e){return de._createAfter(e)}createPositionBefore(e){return de._createBefore(e)}createRange(e,o){return new ne(e,o)}createRangeIn(e){return ne._createIn(e)}createRangeOn(e){return ne._createOn(e)}createSelection(...e){return new yo(...e)}createBatch(e){return new Ia(e)}createOperationFromJSON(e){return r6.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const o=this._pendingChanges[0].batch;this._currentWriter=new R6(this,o);const r=this._pendingChanges[0].callback(this._currentWriter);e.push(r),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function jb(s,e){if(s)return s instanceof yo||s instanceof hi?s:s instanceof bs?e||e===0?new yo(s,e):s.is("rootElement")?new yo(s,"in"):new yo(s,"on"):new yo(s)}class H6 extends xr{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class zb extends xr{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class Qi{constructor(e){this.document=e}createDocumentFragment(e){return new ms(this.document,e)}createElement(e,o,r){return new Co(this.document,e,o,r)}createText(e){return new Ot(this.document,e)}clone(e,o=!1){return e._clone(o)}appendChild(e,o){return o._appendChild(e)}insertChild(e,o,r){return r._insertChild(e,o)}removeChildren(e,o,r){return r._removeChildren(e,o)}remove(e){const o=e.parent;return o?this.removeChildren(o.getChildIndex(e),1,o):[]}replace(e,o){const r=e.parent;if(r){const a=r.getChildIndex(e);return this.removeChildren(a,1,r),this.insertChild(a,o,r),!0}return!1}unwrapElement(e){const o=e.parent;if(o){const r=o.getChildIndex(e);this.remove(e),this.insertChild(r,e.getChildren(),o)}}rename(e,o){const r=new Co(this.document,e,o.getAttributes(),o.getChildren());return this.replace(o,r)?r:null}setAttribute(e,o,r){r._setAttribute(e,o)}removeAttribute(e,o){o._removeAttribute(e)}addClass(e,o){o._addClass(e)}removeClass(e,o){o._removeClass(e)}setStyle(e,o,r){to(e)&&r===void 0?o._setStyle(e):r._setStyle(e,o)}removeStyle(e,o){o._removeStyle(e)}setCustomProperty(e,o,r){r._setCustomProperty(e,o)}removeCustomProperty(e,o){return o._removeCustomProperty(e)}createPositionAt(e,o){return be._createAt(e,o)}createPositionAfter(e){return be._createAfter(e)}createPositionBefore(e){return be._createBefore(e)}createRange(e,o){return new Ue(e,o)}createRangeOn(e){return Ue._createOn(e)}createRangeIn(e){return Ue._createIn(e)}createSelection(...e){return new ci(...e)}}class W6{constructor(){this._commands=new Map}add(e,o){this._commands.set(e,o)}get(e){return this._commands.get(e)}execute(e,...o){const r=this.get(e);if(!r)throw new P("commandcollection-command-not-found",this,{commandName:e});return r.execute(...o)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}var q6=Object.defineProperty,z1=Object.getOwnPropertySymbols,G6=Object.prototype.hasOwnProperty,K6=Object.prototype.propertyIsEnumerable,F1=(s,e,o)=>e in s?q6(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o;const Fb="contentEditing",V1="common";class Y6{constructor(e){this.keystrokeInfos=new Map,this._editor=e;const o=e.config.get("menuBar.isVisible"),r=e.locale.t;this.addKeystrokeInfoCategory({id:Fb,label:r("Content editing keystrokes"),description:r("These keyboard shortcuts allow for quick access to content editing features.")});const a=[{label:r("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:r("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:r("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:r("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:r("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:r("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];o&&a.push({label:r("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:r("User interface and content navigation keystrokes"),description:r("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:a}]})}addKeystrokeInfoCategory({id:e,label:o,description:r,groups:a}){this.keystrokeInfos.set(e,{id:e,label:o,description:r,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:e,id:V1}),a&&a.forEach(l=>{this.addKeystrokeInfoGroup(((u,p)=>{for(var g in p||(p={}))G6.call(p,g)&&F1(u,g,p[g]);if(z1)for(var g of z1(p))K6.call(p,g)&&F1(u,g,p[g]);return u})({categoryId:e},l))})}addKeystrokeInfoGroup({categoryId:e=Fb,id:o,label:r,keystrokes:a}){const l=this.keystrokeInfos.get(e);if(!l)throw new P("accessibility-unknown-keystroke-info-category",this._editor,{groupId:o,categoryId:e});l.groups.set(o,{id:o,label:r,keystrokes:a||[]})}addKeystrokeInfos({categoryId:e=Fb,groupId:o=V1,keystrokes:r}){if(!this.keystrokeInfos.has(e))throw new P("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:e,keystrokes:r});const a=this.keystrokeInfos.get(e);if(!a.groups.has(o))throw new P("accessibility-unknown-keystroke-info-group",this._editor,{groupId:o,categoryId:e,keystrokes:r});a.groups.get(o).keystrokes.push(...r)}}var $1=Object.getOwnPropertySymbols,Q6=Object.prototype.hasOwnProperty,Z6=Object.prototype.propertyIsEnumerable,U1=(s,e)=>{var o={};for(var r in s)Q6.call(s,r)&&e.indexOf(r)<0&&(o[r]=s[r]);if(s!=null&&$1)for(var r of $1(s))e.indexOf(r)<0&&Z6.call(s,r)&&(o[r]=s[r]);return o};class J6 extends Y(){constructor(e={}){super();const o=this.constructor,r=o.defaultConfig||{},{translations:a}=r,l=U1(r,["translations"]),u=e,{translations:p=a}=u,g=U1(u,["translations"]),k=e.language||l.language;this._context=e.context||new UA({language:k,translations:p}),this._context._addEditor(this,!e.context);const w=Array.from(o.builtinPlugins||[]);this.config=new eA(g,l),this.config.define("plugins",w),this.config.define(this._context._getEditorConfig()),this.plugins=new VA(this,w,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new W6,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new U6,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const A=new pz;this.data=new o6(this.model,A),this.editing=new NF(this.model,A),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new i6([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Wj(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new Y6(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new P("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new P("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new P("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,o=e.get("plugins"),r=e.get("removePlugins")||[],a=e.get("extraPlugins")||[],l=e.get("substitutePlugins")||[];return this.plugins.init(o.concat(a),r,l)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(o=>this.once("ready",o))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...o){try{return this.commands.execute(e,...o)}catch(r){P.rethrowUnexpectedError(r,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function Vb(s){return class extends s{updateSourceElement(e){if(!this.sourceElement)throw new P("editor-missing-sourceelement",this);const o=this.config.get("updateSourceElementOnDestroy"),r=this.sourceElement instanceof HTMLTextAreaElement;if(!o&&!r)return void lA(this.sourceElement,"");const a=typeof e=="string"?e:this.data.get();lA(this.sourceElement,a)}}}Vb.updateSourceElement=Vb(Object).prototype.updateSourceElement;class H1 extends hh{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new si({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new P("pendingactions-add-invalid-message",this);const o=new(Y());return o.set("message",e),this._actions.add(o),this.hasAny=!0,o}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const We={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',colorPalette:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',imageUrl:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.401 5.401 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023c.449.131.887.32 1.307.573l.058.033c.046.028.09.057.135.086V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.118 2.118 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.647.647 0 0 0-.096.492.664.664 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.741 1.741 0 0 1 2.478-.463 1.869 1.869 0 0 1 .476 2.55.637.637 0 0 0-.071.5.646.646 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.228 3.228 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.626.626 0 0 0 .092-.475.638.638 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.741 1.741 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236l1.268-1.907Z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeCustom:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:v="https://vecta.io/nano" viewBox="0 0 20 20"><path d="M.95 1.43a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h.75v6.3H.95a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-.65h1.932l1.539-1.5H5v-.95a.95.95 0 0 0-.95-.95H3.2v-6.3h.85A.95.95 0 0 0 5 5.48v-.55h10v.55a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-3.1a.95.95 0 0 0-.95-.95h-3.1a.95.95 0 0 0-.95.95v1.05H5V2.38a.95.95 0 0 0-.95-.95H.95zm.55 3.5v-2h2v2h-2zm0 9.3v2h2v-2h-2zm15-11.3v2h2v-2h-2z"/><path d="M8.139 20.004v-2.388l7.045-7.048 2.391 2.391-7.046 7.046h-2.39zm11.421-9.101a.64.64 0 0 1-.138.206l-1.165 1.168-2.391-2.391 1.167-1.163a.63.63 0 0 1 .206-.138.635.635 0 0 1 .243-.049.63.63 0 0 1 .449.187l1.491 1.488c.059.059.108.129.138.206s.049.16.049.243a.6.6 0 0 1-.049.243z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2ZM13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7h11Z"/></svg>',objectSizeSmall:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2ZM7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11h5Z"/></svg>',objectSizeMedium:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2ZM10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9h8Z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',todoList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',codeBlock:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',heading1:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',heading2:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',heading3:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',heading4:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',heading5:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',heading6:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>',horizontalLine:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',html:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'};var W1=d(7801),X6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(W1.A,X6),W1.A.locals;class Dh extends Pe{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${L()}`;const o=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:o.to("for")},children:[{text:o.to("text")}]})}}class e9 extends Pe{constructor(e,o){super(e);const r=e.t,a=new Dh;a.text=r("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":a.id,role:"document",tabindex:-1},children:[ro(document,"p",{},r("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(o.values())),a]})}focus(){this.element.focus()}_createCategories(e){return e.map(o=>{const r=[ro(document,"h3",{},o.label),...Array.from(o.groups.values()).map(a=>this._createGroup(a)).flat()];return o.description&&r.splice(1,0,ro(document,"p",{},o.description)),ro(document,"section",{},r)})}_createGroup(e){const o=e.keystrokes.sort((a,l)=>a.label.localeCompare(l.label)).map(a=>this._createGroupRow(a)).flat(),r=[ro(document,"dl",{},o)];return e.label&&r.unshift(ro(document,"h4",{},e.label)),r}_createGroupRow(e){const o=this.locale.t,r=ro(document,"dt"),a=ro(document,"dd"),l=function(p){return typeof p=="string"?[[p]]:typeof p[0]=="string"?[p]:p}(e.keystroke),u=[];for(const p of l)u.push(p.map(t9).join(""));return r.innerHTML=e.label,a.innerHTML=u.join(", ")+(e.mayRequireFn&&C.isMac?` ${o("(may require <kbd>Fn</kbd>)")}`:""),[r,a]}}function t9(s){return ah(s).split("+").map(e=>`<kbd>${e}</kbd>`).join("+")}const q1='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var G1=d(8527),n9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(G1.A,n9),G1.A.locals;class o9 extends ue{constructor(){super(...arguments),this.contentView=null}static get requires(){return[Xi]}static get pluginName(){return"AccessibilityHelp"}init(){const e=this.editor,o=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{const r=this._createButton(vt);return r.set({tooltip:!0,withText:!1,label:o("Accessibility help")}),r}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const r=this._createButton(To);return r.label=o("Accessibility"),r}),e.keystrokes.set("Alt+0",(r,a)=>{this._showDialog(),a()}),this._setupRootLabels()}_createButton(e){const o=new e(this.editor.locale);return o.set({keystroke:"Alt+0",icon:q1}),o.on("execute",()=>this._showDialog()),o}_setupRootLabels(){const e=this.editor,o=e.editing.view,r=e.t;function a(l,u){const p=`${u.getAttribute("aria-label")}. ${r("Press %0 for help.",[ah("Alt+0")])}`;l.setAttribute("aria-label",p,u)}e.ui.on("ready",()=>{o.change(l=>{for(const u of o.document.roots)a(l,u)}),e.on("addRoot",(l,u)=>{const p=e.editing.view.document.getRoot(u.rootName);o.change(g=>a(g,p))},{priority:"low"})})}_showDialog(){const e=this.editor,o=e.plugins.get("Dialog"),r=e.locale.t;this.contentView||(this.contentView=new e9(e.locale,e.accessibility.keystrokeInfos)),o.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:r("Accessibility help"),icon:q1,hasCloseButton:!0,content:this.contentView})}}class i9 extends Lo{constructor(e,o=[]){super(o),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new ai({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=ro(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var K1=d(7621),r9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(K1.A,r9),K1.A.locals;const Y1=class extends Pe{constructor(){super();const s=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",s.if("isVisible","ck-hidden",e=>!e),"ck-reset_all-excluded",s.if("isColorInherited","ck-icon_inherit-color")],viewBox:s.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const s=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=s.getAttribute("viewBox");e&&(this.viewBox=e);for(const{name:o,value:r}of Array.from(s.attributes))Y1.presentationalAttributeNames.includes(o)&&this.element.setAttribute(o,r);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;s.childNodes.length>0;)this.element.appendChild(s.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(s=>{s.style.fill=this.fillColor})}};let Zi=Y1;Zi.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class s9 extends Pe{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}var Q1=d(9715),a9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(Q1.A,a9),Q1.A.locals;class vt extends Pe{constructor(e,o=new s9){super(e),this._focusDelayed=null;const r=this.bindTemplate,a=L();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${a}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(o),this.iconView=new Zi,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const l={tag:"button",attributes:{class:["ck","ck-button",r.to("class"),r.if("isEnabled","ck-disabled",u=>!u),r.if("isVisible","ck-hidden",u=>!u),r.to("isOn",u=>u?"ck-on":"ck-off"),r.if("withText","ck-button_with-text"),r.if("withKeystroke","ck-button_with-keystroke")],role:r.to("role"),type:r.to("type",u=>u||"button"),tabindex:r.to("tabindex"),"aria-checked":r.to("ariaChecked"),"aria-label":r.to("ariaLabel"),"aria-labelledby":r.to("ariaLabelledBy"),"aria-disabled":r.if("isEnabled",!0,u=>!u),"aria-pressed":r.to("isOn",u=>!!this.isToggleable&&String(!!u)),"data-cke-tooltip-text":r.to("_tooltipString"),"data-cke-tooltip-position":r.to("tooltipPosition")},children:this.children,on:{click:r.to(u=>{this.isEnabled?this.fire("execute"):u.preventDefault()})}};C.isSafari&&(this._focusDelayed||(this._focusDelayed=tb(()=>this.focus(),0)),l.on.mousedown=r.to(()=>{this._focusDelayed()}),l.on.mouseup=r.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(l)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new Pe;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",o=>ah(o))}]}),e}_getTooltipString(e,o,r){return e?typeof e=="string"?e:(r&&(r=ah(r)),e instanceof Function?e(o,r):`${o}${r?` (${r})`:""}`):""}}var Z1=d(4391),c9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(Z1.A,c9),Z1.A.locals;class Mh extends vt{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Pe;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class J1 extends vt{constructor(e){super(e),this.buttonView=this,this._fileInputView=new l9(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class l9 extends Pe{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const o=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:o.to("acceptedType"),multiple:o.to("allowMultipleFiles")},on:{change:o.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const Ph='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var X1=d(25),d9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(X1.A,d9),X1.A.locals;class u9 extends Pe{constructor(e,o){super(e);const r=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),o&&this.children.addMany(o),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",r.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:r.if("isCollapsed","hidden"),"aria-labelledby":r.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const e=new vt(this.locale),o=e.bindTemplate;return e.set({withText:!0,icon:Ph}),e.extendTemplate({attributes:{"aria-expanded":o.to("isOn",r=>String(r))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",r=>!r),e.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),e}}var ex=d(7317),h9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(ex.A,h9),ex.A.locals,d(6931),d(9047);var tx=d(4962),p9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(tx.A,p9),tx.A.locals;class Rh extends Pe{constructor(e,o){super(e);const r=`ck-labeled-field-view-${L()}`,a=`ck-labeled-field-view-status-${L()}`;this.fieldView=o(this,r,a),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(r),this.statusView=this._createStatusView(a),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(u,p)=>u||p);const l=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",l.to("class"),l.if("isEnabled","ck-disabled",u=>!u),l.if("isEmpty","ck-labeled-field-view_empty"),l.if("isFocused","ck-labeled-field-view_focused"),l.if("placeholder","ck-labeled-field-view_placeholder"),l.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const o=new Dh(this.locale);return o.for=e,o.bind("text").to(this,"label"),o}_createStatusView(e){const o=new Pe(this.locale),r=this.bindTemplate;return o.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",r.if("errorText","ck-labeled-field-view__status_error"),r.if("_statusText","ck-hidden",a=>!a)],id:e,role:r.if("errorText","alert")},children:[{text:r.to("_statusText")}]}),o}focus(e){this.fieldView.focus(e)}}class f9 extends Pe{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new Dn,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const o=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",o.if("isFocused","ck-input_focused"),o.if("isEmpty","ck-input-text_empty"),o.if("hasError","ck-error")],id:o.to("id"),placeholder:o.to("placeholder"),tabindex:o.to("tabIndex"),readonly:o.to("isReadOnly"),"aria-invalid":o.if("hasError",!0),"aria-describedby":o.to("ariaDescribedById"),"aria-label":o.to("ariaLabel")},on:{input:o.to((...r)=>{this.fire("input",...r),this._updateIsEmpty()}),change:o.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,o,r)=>{this._setDomElementValue(r),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||e===0?e:""}}var nx=d(253),g9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(nx.A,g9),nx.A.locals;class m9 extends f9{constructor(e){super(e),this.set("inputMode","text");const o=this.bindTemplate;this.extendTemplate({attributes:{inputmode:o.to("inputMode")}})}}class b9 extends m9{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var ox=d(1671),k9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(ox.A,k9),ox.A.locals;class w9 extends Pe{constructor(e){super(e);const o=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",o.to("position",r=>`ck-dropdown__panel_${r}`),o.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:o.to(r=>{r.target.tagName.toLocaleLowerCase()!=="input"&&r.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():U("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var ix=d(8149),v9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(ix.A,v9),ix.A.locals;const $b=class extends Pe{constructor(s,e,o){super(s);const r=this.bindTemplate;this.buttonView=e,this.panelView=o,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new no,this.focusTracker=new Dn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",r.to("class"),r.if("isEnabled","ck-disabled",a=>!a)],id:r.to("id"),"aria-describedby":r.to("ariaDescribedById")},children:[e,o]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":r.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(e,o,r)=>{if(r)if(this.panelPosition==="auto"){const a=$b._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=a?a.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const s=(e,o)=>{this.isOpen&&(this.isOpen=!1,o())};this.keystrokes.set("arrowdown",(e,o)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,o())}),this.keystrokes.set("arrowright",(e,o)=>{this.isOpen&&o()}),this.keystrokes.set("arrowleft",s),this.keystrokes.set("esc",s)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:s,north:e,southEast:o,southWest:r,northEast:a,northWest:l,southMiddleEast:u,southMiddleWest:p,northMiddleEast:g,northMiddleWest:k}=$b.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[o,r,u,p,s,a,l,g,k,e]:[r,o,p,u,s,l,a,k,g,e]}};let Ub=$b;Ub.defaultPanelPositions={south:(s,e)=>({top:s.bottom,left:s.left-(e.width-s.width)/2,name:"s"}),southEast:s=>({top:s.bottom,left:s.left,name:"se"}),southWest:(s,e)=>({top:s.bottom,left:s.left-e.width+s.width,name:"sw"}),southMiddleEast:(s,e)=>({top:s.bottom,left:s.left-(e.width-s.width)/4,name:"sme"}),southMiddleWest:(s,e)=>({top:s.bottom,left:s.left-3*(e.width-s.width)/4,name:"smw"}),north:(s,e)=>({top:s.top-e.height,left:s.left-(e.width-s.width)/2,name:"n"}),northEast:(s,e)=>({top:s.top-e.height,left:s.left,name:"ne"}),northWest:(s,e)=>({top:s.top-e.height,left:s.left-e.width+s.width,name:"nw"}),northMiddleEast:(s,e)=>({top:s.top-e.height,left:s.left-(e.width-s.width)/4,name:"nme"}),northMiddleWest:(s,e)=>({top:s.top-e.height,left:s.left-3*(e.width-s.width)/4,name:"nmw"})},Ub._getOptimalPosition=sh;class _9 extends vt{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",o=>String(o))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Zi;return e.content=Ph,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class zo extends K(){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const o in e.actions){let r=e.actions[o];typeof r=="string"&&(r=[r]);for(const a of r)e.keystrokeHandler.set(a,(l,u)=>{this[o](),u()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(Hb)||null}get last(){return this.focusables.filter(Hb).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((o,r)=>{const a=o.element===this.focusTracker.focusedElement;return a&&(e=r),a}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;e&&this.focusables.getIndex(e)===this.current||e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;e&&this.focusables.getIndex(e)===this.current||e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}_focus(e,o){e&&this.focusTracker.focusedElement!==e.element&&e.focus(o)}_getDomFocusableItem(e){const o=this.focusables.length;if(!o)return null;const r=this.current;if(r===null)return this[e===1?"first":"last"];let a=this.focusables.get(r),l=(r+o+e)%o;do{const u=this.focusables.get(l);if(Hb(u)){a=u;break}l=(l+o+e)%o}while(l!==r);return a}}function Hb(s){return Il(s)&&us(s.element)}function Il(s){return!(!("focus"in s)||typeof s.focus!="function")}class rx extends Pe{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class C9 extends Pe{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var A9=Object.defineProperty,sx=Object.getOwnPropertySymbols,y9=Object.prototype.hasOwnProperty,x9=Object.prototype.propertyIsEnumerable,ax=(s,e,o)=>e in s?A9(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,cx=(s,e)=>{for(var o in e||(e={}))y9.call(e,o)&&ax(s,o,e[o]);if(sx)for(var o of sx(e))x9.call(e,o)&&ax(s,o,e[o]);return s};function lx(s){if(Array.isArray(s))return{items:s,removeItems:[]};const e={items:[],removeItems:[]};return s?cx(cx({},e),s):e}var dx=d(9677),E9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(dx.A,E9),dx.A.locals;const T9={alignLeft:We.alignLeft,bold:We.bold,importExport:We.importExport,paragraph:We.paragraph,plus:We.plus,text:We.text,threeVerticalDots:We.threeVerticalDots,pilcrow:We.pilcrow,dragIndicator:We.dragIndicator};class Wb extends Pe{constructor(e,o){super(e);const r=this.bindTemplate,a=this.t;this.options=o||{},this.set("ariaLabel",a("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Dn,this.keystrokes=new no,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new I9(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const l=e.uiLanguageDirection==="rtl";this._focusCycler=new zo({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[l?"arrowright":"arrowleft","arrowup"],focusNext:[l?"arrowleft":"arrowright","arrowdown"]}});const u=["ck","ck-toolbar",r.to("class"),r.if("isCompact","ck-toolbar_compact")];var p;this.options.shouldGroupWhenFull&&this.options.isFloating&&u.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:u,role:"toolbar","aria-label":r.to("ariaLabel"),style:{maxWidth:r.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(p=this,p.bindTemplate.to(g=>{g.target===p.element&&g.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new D9(this):new S9(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,o)=>{this.focusTracker.add(o.element)}),this.items.on("remove",(e,o)=>{this.focusTracker.remove(o.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,o,r){this.items.addMany(this._buildItemsFromConfig(e,o,r))}_buildItemsFromConfig(e,o,r){const a=lx(e),l=r||a.removeItems;return this._cleanItemsConfiguration(a.items,o,l).map(u=>Te(u)?this._createNestedToolbarDropdown(u,o,l):u==="|"?new rx:u==="-"?new C9:o.create(u)).filter(u=>!!u)}_cleanItemsConfiguration(e,o,r){const a=e.filter((l,u,p)=>l==="|"||r.indexOf(l)===-1&&(l==="-"?!this.options.shouldGroupWhenFull||(U("toolbarview-line-break-ignored-when-grouping-items",p),!1):!(!Te(l)&&!o.has(l))||(U("toolbarview-item-unavailable",{item:l}),!1)));return this._cleanSeparatorsAndLineBreaks(a)}_cleanSeparatorsAndLineBreaks(e){const o=u=>u!=="-"&&u!=="|",r=e.length,a=e.findIndex(o);if(a===-1)return[];const l=r-e.slice().reverse().findIndex(o);return e.slice(a,l).filter((u,p,g)=>o(u)?!0:!(p>0&&g[p-1]===u))}_createNestedToolbarDropdown(e,o,r){let{label:a,icon:l,items:u,tooltip:p=!0,withText:g=!1}=e;if(u=this._cleanItemsConfiguration(u,o,r),!u.length)return null;const k=Ji(this.locale);return a||U("toolbarview-nested-toolbar-dropdown-missing-label",e),k.class="ck-toolbar__nested-toolbar-dropdown",k.buttonView.set({label:a,tooltip:p,withText:!!g}),l!==!1?k.buttonView.icon=T9[l]||l||We.threeVerticalDots:k.buttonView.withText=!0,Kb(k,()=>k.toolbarView._buildItemsFromConfig(u,o,r)),k}}class I9 extends Pe{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class S9{constructor(e){const o=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(r=>r),e.focusables.bindTo(e.items).using(r=>Il(r)?r:null),e.extendTemplate({attributes:{class:[o.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class D9{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(o=>o),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",(o,r)=>{const a=r.index,l=Array.from(r.added);for(const u of r.removed)a>=this.ungroupedItems.length?this.groupedItems.remove(u):this.ungroupedItems.remove(u);for(let u=a;u<a+l.length;u++){const p=l[u-a];u>this.ungroupedItems.length?this.groupedItems.add(p,u-this.ungroupedItems.length):this.ungroupedItems.add(p,u)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!us(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let o;for(;this._areItemsOverflowing;)this._groupLastItem(),o=!0;if(!o&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,o=this.viewLocale.uiLanguageDirection,r=new dt(e.lastChild),a=new dt(e);if(!this.cachedPadding){const l=b.window.getComputedStyle(e),u=o==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(l[u])}return o==="ltr"?r.right>a.right-this.cachedPadding:r.left<a.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new ll(this.viewElement,o=>{e&&e===o.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=o.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new rx),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,o=e.t,r=Ji(e);return r.class="ck-toolbar__grouped-dropdown",r.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",Kb(r,this.groupedItems),r.buttonView.set({label:o("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:We.threeVerticalDots}),r}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{Il(e)&&this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class Da extends Pe{constructor(e){super(e);const o=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",o.if("isVisible","ck-hidden",r=>!r)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class qb extends Pe{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class Bh extends Pe{constructor(e,o=new Dh){super(e);const r=this.bindTemplate,a=new Gb(e);this.set({label:"",isVisible:!0}),this.labelView=o,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,a]),a.set({role:"group",ariaLabelledBy:o.id}),a.focusTracker.destroy(),a.keystrokes.destroy(),this.items=a.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",r.if("isVisible","ck-hidden",l=>!l)]},children:this.children})}focus(){if(this.items){const e=this.items.find(o=>!(o instanceof qb));e&&e.focus()}}}var ux=d(5199),M9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(ux.A,M9),ux.A.locals;class Gb extends Pe{constructor(e){super(e),this._listItemGroupToChangeListeners=new WeakMap;const o=this.bindTemplate;this.focusables=new Lo,this.items=this.createCollection(),this.focusTracker=new Dn,this.keystrokes=new no,this._focusCycler=new zo({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:o.to("role"),"aria-label":o.to("ariaLabel"),"aria-labelledby":o.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof Bh?this._registerFocusableItemsGroup(e):e instanceof Da&&this._registerFocusableListItem(e);this.items.on("change",(e,o)=>{for(const r of o.removed)r instanceof Bh?this._deregisterFocusableItemsGroup(r):r instanceof Da&&this._deregisterFocusableListItem(r);for(const r of Array.from(o.added).reverse())r instanceof Bh?this._registerFocusableItemsGroup(r,o.index):this._registerFocusableListItem(r,o.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,o){this.focusTracker.add(e.element),this.focusables.add(e,o)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(o,r)=>{for(const a of r.removed)this._deregisterFocusableListItem(a);for(const a of Array.from(r.added).reverse())this._registerFocusableListItem(a,this.items.getIndex(e)+r.index)}}_registerFocusableItemsGroup(e,o){Array.from(e.items).forEach((a,l)=>{const u=o!==void 0?o+l:void 0;this._registerFocusableListItem(a,u)});const r=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,r),e.items.on("change",r)}_deregisterFocusableItemsGroup(e){for(const o of e.items)this._deregisterFocusableListItem(o);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}var hx=d(1792),P9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(hx.A,P9),hx.A.locals;class Nh extends Pe{constructor(e,o){super(e);const r=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(o),this.arrowView=this._createArrowView(),this.keystrokes=new no,this.focusTracker=new Dn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",r.to("class"),r.if("isVisible","ck-hidden",a=>!a),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,o)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),o())}),this.keystrokes.set("arrowleft",(e,o)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),o())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const o=e||new vt;return e||o.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),o.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),o.delegate("execute").to(this),o}_createArrowView(){const e=new vt,o=e.bindTemplate;return e.icon=Ph,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":o.to("isOn"),"aria-haspopup":!0,"aria-expanded":o.to("isOn",r=>String(r))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var px=d(1666),R9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(px.A,R9),px.A.locals;var fx=d(3629),B9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(fx.A,B9),fx.A.locals;function Ji(s,e=_9){const o=typeof e=="function"?new e(s):e,r=new w9(s),a=new Ub(s,o,r);return o.bind("isEnabled").to(a),o instanceof Nh?o.arrowView.bind("isOn").to(a,"isOpen"):o.bind("isOn").to(a,"isOpen"),function(l){(function(u){u.on("render",()=>{dh({emitter:u,activator:()=>u.isOpen,callback:()=>{u.isOpen=!1},contextElements:()=>[u.element,...u.focusTracker._elements]})})})(l),function(u){u.on("execute",p=>{p.source instanceof Mh||(u.isOpen=!1)})}(l),function(u){u.focusTracker.on("change:isFocused",(p,g,k)=>{u.isOpen&&!k&&(u.isOpen=!1)})}(l),function(u){u.keystrokes.set("arrowdown",(p,g)=>{u.isOpen&&(u.panelView.focus(),g())}),u.keystrokes.set("arrowup",(p,g)=>{u.isOpen&&(u.panelView.focusLast(),g())})}(l),function(u){u.on("change:isOpen",(p,g,k)=>{if(k)return;const w=u.panelView.element;w&&w.contains(b.document.activeElement)&&u.buttonView.focus()})}(l),function(u){u.on("change:isOpen",(p,g,k)=>{k&&u.panelView.focus()},{priority:"low"})}(l)}(a),a}function Kb(s,e,o={}){s.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),s.isOpen?gx(s,e,o):s.once("change:isOpen",()=>gx(s,e,o),{priority:"highest"}),o.enableActiveItemFocusOnDropdownOpen&&kx(s,()=>s.toolbarView.items.find(r=>r.isOn))}function gx(s,e,o){const r=s.locale,a=r.t,l=s.toolbarView=new Wb(r),u=typeof e=="function"?e():e;l.ariaLabel=o.ariaLabel||a("Dropdown toolbar"),o.maxWidth&&(l.maxWidth=o.maxWidth),o.class&&(l.class=o.class),o.isCompact&&(l.isCompact=o.isCompact),o.isVertical&&(l.isVertical=!0),u instanceof Lo?l.items.bindTo(u).using(p=>p):l.items.addMany(u),s.panelView.children.add(l),l.items.delegate("execute").to(s)}function mx(s,e,o={}){s.isOpen?bx(s,e,o):s.once("change:isOpen",()=>bx(s,e,o),{priority:"highest"}),kx(s,()=>s.listView.items.find(r=>r instanceof Da&&r.children.first.isOn))}function bx(s,e,o){const r=s.locale,a=s.listView=new Gb(r),l=typeof e=="function"?e():e;a.ariaLabel=o.ariaLabel,a.role=o.role,wx(s,a.items,l,r),s.panelView.children.add(a),a.items.delegate("execute").to(s)}function kx(s,e){s.on("change:isOpen",()=>{if(!s.isOpen)return;const o=e();o&&(typeof o.focus=="function"?o.focus():U("ui-dropdown-focus-child-on-open-child-missing-focus",{view:o}))},{priority:V.low-10})}function wx(s,e,o,r){e.bindTo(o).using(a=>{if(a.type==="separator")return new qb(r);if(a.type==="group"){const l=new Bh(r);return l.set({label:a.label}),wx(s,l.items,a.items,r),l.items.delegate("execute").to(s),l}if(a.type==="button"||a.type==="switchbutton"){const l=new Da(r);let u;return a.type==="button"?(u=new vt(r),u.bind("ariaChecked").to(u,"isOn")):u=new Mh(r),u.bind(...Object.keys(a.model)).to(a.model),u.delegate("execute").to(l),l.children.add(u),l}return null})}const Oh=(s,e,o)=>{const r=new b9(s.locale);return r.set({id:e,ariaDescribedById:o}),r.bind("isReadOnly").to(s,"isEnabled",a=>!a),r.bind("hasError").to(s,"errorText",a=>!!a),r.on("input",()=>{s.errorText=null}),s.bind("isEmpty","isFocused","placeholder").to(r),r};var vx=d(1905),N9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(vx.A,N9),vx.A.locals;var _x=d(6309),O9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(_x.A,O9),_x.A.locals;class L9{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,o){this._components.set(Yb(e),{callback:o,originalName:e})}create(e){if(!this.has(e))throw new P("componentfactory-item-missing",this,{name:e});return this._components.get(Yb(e)).callback(this.editor.locale)}has(e){return this._components.has(Yb(e))}}function Yb(s){return String(s).toLowerCase()}var Cx=d(7913),j9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(Cx.A,j9),Cx.A.locals;class z9 extends Pe{constructor(e,o={}){super(e);const r=this.bindTemplate;this.set("label",o.label||""),this.set("class",o.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",r.to("class")]},children:this.children}),o.icon&&(this.iconView=new Zi,this.iconView.content=o.icon,this.children.add(this.iconView));const a=new Pe(e);a.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:r.to("label")}]}),this.children.add(a)}}var Ax=d(9822),F9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(Ax.A,F9),Ax.A.locals;class V9 extends Pe{constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new no,this._focusTracker=new Dn,this._focusables=new Lo,this.focusCycler=new zo({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const o of e){const r=new vt(this.locale);let a;for(a in r.on("execute",()=>o.onExecute()),o.onCreate&&o.onCreate(r),o)a!="onExecute"&&a!="onCreate"&&r.set(a,o[a]);this.children.add(r)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}class $9 extends Pe{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var yx=d(9819),U9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(yx.A,U9),yx.A.locals;const Lh="screen-center",xx="editor-center",H9="editor-top-side",W9="editor-top-center",q9="editor-bottom-center",G9="editor-above-center",K9="editor-below-center",Ex=ka("px"),Tx=class extends function(s){return class extends s{constructor(...e){super(...e),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(b.document,"mouseup",this._onDragEndBound),this.listenTo(b.document,"touchend",this._onDragEndBound),this.listenTo(b.document,"mousemove",this._onDragBound),this.listenTo(b.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(b.document,"mouseup",this._onDragEndBound),this.stopListening(b.document,"touchend",this._onDragEndBound),this.stopListening(b.document,"mousemove",this._onDragBound),this.stopListening(b.document,"touchmove",this._onDragBound)}_onDragStart(e,o){if(!this._isHandleElementPressed(o))return;this._attachDragListeners();let r=0,a=0;o instanceof MouseEvent?(r=o.clientX,a=o.clientY):(r=o.touches[0].clientX,a=o.touches[0].clientY),this._lastDraggingCoordinates={x:r,y:a},this.isDragging=!0}_onDrag(e,o){if(!this.isDragging)return void this._detachDragListeners();let r=0,a=0;o instanceof MouseEvent?(r=o.clientX,a=o.clientY):(r=o.touches[0].clientX,a=o.touches[0].clientY),o.preventDefault(),this.fire("drag",{deltaX:Math.round(r-this._lastDraggingCoordinates.x),deltaY:Math.round(a-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:r,y:a}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(e){return!!this.dragHandleElement&&(this.dragHandleElement===e.target||e.target instanceof HTMLElement&&this.dragHandleElement.contains(e.target))}}}(Pe){constructor(s,{getCurrentDomRoot:e,getViewportOffset:o}){super(s),this.wasMoved=!1;const r=this.bindTemplate,a=s.t;this.set("className",""),this.set("ariaLabel",a("Editor dialog")),this.set("isModal",!1),this.set("position",Lh),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=e,this._getViewportOffset=o,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new no,this.focusTracker=new Dn,this._focusables=new Lo,this._focusCycler=new zo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",r.if("isModal","ck-dialog-overlay__transparent",l=>!l),r.if("_isVisible","ck-hidden",l=>!l)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",r.to("className")],role:"dialog","aria-label":r.to("ariaLabel"),style:{top:r.to("_top",l=>Ex(l)),left:r.to("_left",l=>Ex(l)),visibility:r.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(s,e)=>{this.fire("close",{source:"escKeyPress"}),e()}),this.on("drag",(s,{deltaX:e,deltaY:o})=>{this.wasMoved=!0,this.moveBy(e,o)}),this.listenTo(b.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(b.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(s,e,o)=>{o&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:s,title:e,hasCloseButton:o=!0,content:r,actionButtons:a}){e&&(this.headerView=new z9(this.locale,{icon:s}),o&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=e,this.ariaLabel=e,this.parts.add(this.headerView,0)),r&&(r instanceof Pe&&(r=[r]),this.contentView=new $9(this.locale),this.contentView.children.addMany(r),this.parts.add(this.contentView)),a&&(this.actionsView=new V9(this.locale),this.actionsView.setButtons(a),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(s,e){const o=this._getViewportRect(),r=this._getDialogRect();s+r.width>o.right&&(s=o.right-r.width),s<o.left&&(s=o.left),e<o.top&&(e=o.top),this._moveTo(s,e)}_moveTo(s,e){this._left=s,this._top=e}moveBy(s,e){this.moveTo(this._left+s,this._top+e)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const s=this._getViewportRect();let e,o=this.position;this._getCurrentDomRoot()?e=this._getVisibleDomRootRect(s):o=Lh;const r=Tx.defaultOffset,a=this._getDialogRect();switch(o){case H9:if(e){const l=this.locale.contentLanguageDirection==="ltr"?e.right-a.width-r:e.left+r;this.moveTo(l,e.top+r)}else this._moveOffScreen();break;case xx:e?this.moveTo(Math.round(e.left+e.width/2-a.width/2),Math.round(e.top+e.height/2-a.height/2)):this._moveOffScreen();break;case Lh:this.moveTo(Math.round((s.width-a.width)/2),Math.round((s.height-a.height)/2));break;case W9:e?this.moveTo(Math.round(e.left+e.width/2-a.width/2),e.top+r):this._moveOffScreen();break;case q9:e?this.moveTo(Math.round(e.left+e.width/2-a.width/2),e.bottom-a.height-r):this._moveOffScreen();break;case G9:e?this.moveTo(Math.round(e.left+e.width/2-a.width/2),e.top-a.height-r):this._moveOffScreen();break;case K9:e?this.moveTo(Math.round(e.left+e.width/2-a.width/2),e.bottom+r):this._moveOffScreen()}}_getVisibleDomRootRect(s){let e=new dt(this._getCurrentDomRoot()).getVisible();return e?(e=s.getIntersection(e),e||null):null}_getDialogRect(){return new dt(this.element.firstElementChild)}_getViewportRect(){return function(s){s=Object.assign({top:0,bottom:0,left:0,right:0},s);const e=new dt(b.window);return e.top+=s.top,e.height-=s.top,e.bottom-=s.bottom,e.height-=s.bottom,e.left+=s.left,e.right-=s.right,e.width-=s.left+s.right,e}(this._getViewportOffset())}_updateFocusCyclableItems(){const s=[];if(this.contentView)for(const e of this.contentView.children)Il(e)&&s.push(e);this.actionsView&&s.push(this.actionsView),this.closeButtonView&&s.push(this.closeButtonView),s.forEach(e=>{var o;this._focusables.add(e),this.focusTracker.add(e.element),Il(o=e)&&"focusCycler"in o&&o.focusCycler instanceof zo&&(this.listenTo(e.focusCycler,"forwardCycle",r=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&r.stop()}),this.listenTo(e.focusCycler,"backwardCycle",r=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&r.stop()}))})}_createCloseButton(){const s=new vt(this.locale),e=this.locale.t;return s.set({label:e("Close"),tooltip:!0,icon:We.cancel}),s.on("execute",()=>this.fire("close",{source:"closeButton"})),s}};let jh=Tx;jh.defaultOffset=15;class Xi extends ue{constructor(e){super(e);const o=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:o("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}_initShowHideListeners(){this.on("show",(e,o)=>{this._show(o)}),this.on("show",(e,o)=>{o.onShow&&o.onShow(this)},{priority:"low"}),this.on("hide",()=>{Xi._visibleDialogPlugin&&Xi._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(o,r)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),r())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const o=e.document.differ.getChangedRoots();for(const r of o)r.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:o,title:r,hasCloseButton:a=!0,content:l,actionButtons:u,className:p,isModal:g,position:k,onHide:w}){const A=this.editor;this.view=new jh(A.locale,{getCurrentDomRoot:()=>A.editing.view.getDomRoot(A.model.document.selection.anchor.root.rootName),getViewportOffset:()=>A.ui.viewportOffset});const E=this.view;E.on("close",()=>{this.hide()}),A.ui.view.body.add(E),A.ui.focusTracker.add(E.element),A.keystrokes.listenTo(E.element),k||(k=g?Lh:xx),E.set({position:k,_isVisible:!0,className:p,isModal:g}),E.setupParts({icon:o,title:r,hasCloseButton:a,content:l,actionButtons:u}),this.id=e,w&&(this._onHide=w),this.isOpen=!0,Xi._visibleDialogPlugin=this}hide(){Xi._visibleDialogPlugin&&Xi._visibleDialogPlugin.fire(`hide:${Xi._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,o=this.view;o.contentView&&o.contentView.reset(),e.ui.view.body.remove(o),e.ui.focusTracker.remove(o.element),e.keystrokes.stopListening(o.element),o.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,Xi._visibleDialogPlugin=null}}var Ix=d(3710),Y9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(Ix.A,Y9),Ix.A.locals;var Q9=Object.defineProperty,Sx=Object.getOwnPropertySymbols,Z9=Object.prototype.hasOwnProperty,J9=Object.prototype.propertyIsEnumerable,Dx=(s,e,o)=>e in s?Q9(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,_t=(s,e)=>{for(var o in e||(e={}))Z9.call(e,o)&&Dx(s,o,e[o]);if(Sx)for(var o of Sx(e))J9.call(e,o)&&Dx(s,o,e[o]);return s};const Mx=ka("px"),Px=b.document.body,X9={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},Qb=class extends Pe{constructor(s){super(s);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",o=>`ck-balloon-panel_${o}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",Mx),left:e.to("left",Mx)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(s){this.show();const e=Qb.defaultPositions,o=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:Px,fitInViewport:!0},s),r=Qb._getOptimalPosition(o)||X9,a=parseInt(r.left),l=parseInt(r.top),u=r.name,p=r.config||{},{withArrow:g=!0}=p;this.top=l,this.left=a,this.position=u,this.withArrow=g}pin(s){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(s):this._stopPinning()},this._startPinning(s),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(s){this.attachTo(s);const e=Zb(s.target),o=s.limiter?Zb(s.limiter):Px;this.listenTo(b.document,"scroll",(r,a)=>{const l=a.target,u=e&&l.contains(e),p=o&&l.contains(o);!u&&!p&&e&&o||this.attachTo(s)},{useCapture:!0}),this.listenTo(b.window,"resize",()=>{this.attachTo(s)})}_stopPinning(){this.stopListening(b.document,"scroll"),this.stopListening(b.window,"resize")}};let co=Qb;function Zb(s){return ds(s)?s:ih(s)?s.commonAncestorContainer:typeof s=="function"?Zb(s()):null}function Rx(s={}){const{sideOffset:e=co.arrowSideOffset,heightOffset:o=co.arrowHeightOffset,stickyVerticalOffset:r=co.stickyVerticalOffset,config:a}=s;return{northWestArrowSouthWest:(p,g)=>_t({top:l(p,g),left:p.left-e,name:"arrow_sw"},a&&{config:a}),northWestArrowSouthMiddleWest:(p,g)=>_t({top:l(p,g),left:p.left-.25*g.width-e,name:"arrow_smw"},a&&{config:a}),northWestArrowSouth:(p,g)=>_t({top:l(p,g),left:p.left-g.width/2,name:"arrow_s"},a&&{config:a}),northWestArrowSouthMiddleEast:(p,g)=>_t({top:l(p,g),left:p.left-.75*g.width+e,name:"arrow_sme"},a&&{config:a}),northWestArrowSouthEast:(p,g)=>_t({top:l(p,g),left:p.left-g.width+e,name:"arrow_se"},a&&{config:a}),northArrowSouthWest:(p,g)=>_t({top:l(p,g),left:p.left+p.width/2-e,name:"arrow_sw"},a&&{config:a}),northArrowSouthMiddleWest:(p,g)=>_t({top:l(p,g),left:p.left+p.width/2-.25*g.width-e,name:"arrow_smw"},a&&{config:a}),northArrowSouth:(p,g)=>_t({top:l(p,g),left:p.left+p.width/2-g.width/2,name:"arrow_s"},a&&{config:a}),northArrowSouthMiddleEast:(p,g)=>_t({top:l(p,g),left:p.left+p.width/2-.75*g.width+e,name:"arrow_sme"},a&&{config:a}),northArrowSouthEast:(p,g)=>_t({top:l(p,g),left:p.left+p.width/2-g.width+e,name:"arrow_se"},a&&{config:a}),northEastArrowSouthWest:(p,g)=>_t({top:l(p,g),left:p.right-e,name:"arrow_sw"},a&&{config:a}),northEastArrowSouthMiddleWest:(p,g)=>_t({top:l(p,g),left:p.right-.25*g.width-e,name:"arrow_smw"},a&&{config:a}),northEastArrowSouth:(p,g)=>_t({top:l(p,g),left:p.right-g.width/2,name:"arrow_s"},a&&{config:a}),northEastArrowSouthMiddleEast:(p,g)=>_t({top:l(p,g),left:p.right-.75*g.width+e,name:"arrow_sme"},a&&{config:a}),northEastArrowSouthEast:(p,g)=>_t({top:l(p,g),left:p.right-g.width+e,name:"arrow_se"},a&&{config:a}),southWestArrowNorthWest:p=>_t({top:u(p),left:p.left-e,name:"arrow_nw"},a&&{config:a}),southWestArrowNorthMiddleWest:(p,g)=>_t({top:u(p),left:p.left-.25*g.width-e,name:"arrow_nmw"},a&&{config:a}),southWestArrowNorth:(p,g)=>_t({top:u(p),left:p.left-g.width/2,name:"arrow_n"},a&&{config:a}),southWestArrowNorthMiddleEast:(p,g)=>_t({top:u(p),left:p.left-.75*g.width+e,name:"arrow_nme"},a&&{config:a}),southWestArrowNorthEast:(p,g)=>_t({top:u(p),left:p.left-g.width+e,name:"arrow_ne"},a&&{config:a}),southArrowNorthWest:p=>_t({top:u(p),left:p.left+p.width/2-e,name:"arrow_nw"},a&&{config:a}),southArrowNorthMiddleWest:(p,g)=>_t({top:u(p),left:p.left+p.width/2-.25*g.width-e,name:"arrow_nmw"},a&&{config:a}),southArrowNorth:(p,g)=>_t({top:u(p),left:p.left+p.width/2-g.width/2,name:"arrow_n"},a&&{config:a}),southArrowNorthMiddleEast:(p,g)=>_t({top:u(p),left:p.left+p.width/2-.75*g.width+e,name:"arrow_nme"},a&&{config:a}),southArrowNorthEast:(p,g)=>_t({top:u(p),left:p.left+p.width/2-g.width+e,name:"arrow_ne"},a&&{config:a}),southEastArrowNorthWest:p=>_t({top:u(p),left:p.right-e,name:"arrow_nw"},a&&{config:a}),southEastArrowNorthMiddleWest:(p,g)=>_t({top:u(p),left:p.right-.25*g.width-e,name:"arrow_nmw"},a&&{config:a}),southEastArrowNorth:(p,g)=>_t({top:u(p),left:p.right-g.width/2,name:"arrow_n"},a&&{config:a}),southEastArrowNorthMiddleEast:(p,g)=>_t({top:u(p),left:p.right-.75*g.width+e,name:"arrow_nme"},a&&{config:a}),southEastArrowNorthEast:(p,g)=>_t({top:u(p),left:p.right-g.width+e,name:"arrow_ne"},a&&{config:a}),westArrowEast:(p,g)=>_t({top:p.top+p.height/2-g.height/2,left:p.left-g.width-o,name:"arrow_e"},a&&{config:a}),eastArrowWest:(p,g)=>_t({top:p.top+p.height/2-g.height/2,left:p.right+o,name:"arrow_w"},a&&{config:a}),viewportStickyNorth:(p,g,k,w)=>{const A=w||k;return p.getIntersection(A)?A.height-p.height>r?null:{top:A.top+r,left:p.left+p.width/2-g.width/2,name:"arrowless",config:_t({withArrow:!1},a)}:null}};function l(p,g){return p.top-g.height-o}function u(p){return p.bottom+o}}co.arrowSideOffset=25,co.arrowHeightOffset=10,co.stickyVerticalOffset=20,co._getOptimalPosition=sh,co.defaultPositions=Rx();var Bx=d(9205),e7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(Bx.A,e7),Bx.A.locals;const Nx="ck-tooltip",lo=class extends Oo(){constructor(s){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,this._mutationObserver=null,lo._editors.add(s),lo._instance)return lo._instance;lo._instance=this,this.tooltipTextView=new Pe(s.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new co(s.locale),this.balloonPanelView.class=Nx,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(e){const o=new MutationObserver(()=>{e()});return{attach(r){o.observe(r,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){o.disconnect()}}}(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=Ea(this._pinTooltip,600),this._unpinTooltipDebounced=Ea(this._unpinTooltip,400),this.listenTo(b.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(b.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(b.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(b.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(b.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(b.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(s){const e=s.ui.view&&s.ui.view.body;lo._editors.delete(s),this.stopListening(s.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),lo._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),lo._instance=null)}static getPositioningFunctions(s){const e=lo.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[s]}_onKeyDown(s,e){e.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),e.stopPropagation())}_onEnterOrFocus(s,{target:e}){const o=Jb(e);o?o!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(o,Ox(o))):s.name==="focus"&&this._unpinTooltip()}_onLeaveOrBlur(s,{target:e,relatedTarget:o}){if(s.name==="mouseleave"){if(!ds(e))return;const r=this.balloonPanelView.element,a=r&&(r===o||r.contains(o)),l=!a&&e===r;if(a)return void this._unpinTooltipDebounced.cancel();if(!l&&this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const u=Jb(e),p=Jb(o);(l||u&&u!==p)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(s,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(s,{text:e,position:o,cssClass:r}){this._unpinTooltip();const a=Sn(lo._editors.values()).ui.view.body;a.has(this.balloonPanelView)||a.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.pin({target:s,positions:lo.getPositioningFunctions(o)}),this._resizeObserver=new ll(s,()=>{us(s)||this._unpinTooltip()}),this._mutationObserver.attach(s),this.balloonPanelView.class=[Nx,r].filter(l=>l).join(" ");for(const l of lo._editors)this.listenTo(l.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=s,this._currentTooltipPosition=o}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const s of lo._editors)this.stopListening(s.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const s=Ox(this._currentElementWithTooltip);us(this._currentElementWithTooltip)&&s.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:lo.getPositioningFunctions(s.position)}):this._unpinTooltip()}};let zh=lo;function Jb(s){return ds(s)?s.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function Ox(s){return{text:s.dataset.ckeTooltipText,position:s.dataset.ckeTooltipPosition||"s",cssClass:s.dataset.ckeTooltipClass||""}}zh.defaultBalloonPositions=Rx({heightOffset:5,sideOffset:13}),zh._editors=new Set,zh._instance=null;const Fh=function(s,e,o){var r=!0,a=!0;if(typeof s!="function")throw new TypeError("Expected a function");return Te(o)&&(r="leading"in o?!!o.leading:r,a="trailing"in o?!!o.trailing:a),Ea(s,e,{leading:r,maxWait:e,trailing:a})};var t7=Object.defineProperty,Lx=Object.getOwnPropertySymbols,n7=Object.prototype.hasOwnProperty,o7=Object.prototype.propertyIsEnumerable,jx=(s,e,o)=>e in s?t7(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,i7=(s,e)=>{for(var o in e||(e={}))n7.call(e,o)&&jx(s,o,e[o]);if(Lx)for(var o of Lx(e))o7.call(e,o)&&jx(s,o,e[o]);return s};const r7=50,s7=350,a7="Powered by";class c7 extends Oo(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=Fh(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;(e.config.get("ui.poweredBy.forceVisible")||function(o){function r(T){return T.length>=40&&T.length<=255?"VALID":"INVALID"}if(!o)return"INVALID";let a="";try{a=atob(o)}catch{return"INVALID"}const l=a.split("-"),u=l[0],p=l[1];if(!p)return r(o);try{atob(p)}catch{try{if(atob(u),!atob(u).length)return r(o)}catch{return r(o)}}if(u.length<40||u.length>255)return"INVALID";let g="";try{atob(u),g=atob(p)}catch{return"INVALID"}if(g.length!==8)return"INVALID";const k=Number(g.substring(0,4)),w=Number(g.substring(4,6))-1,A=Number(g.substring(6,8)),E=new Date(k,w,A);return E<J||isNaN(Number(E))?"INVALID":"VALID"}(e.config.get("licenseKey"))!=="VALID")&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(o,r,a)=>{this._updateLastFocusedEditableElement(),a?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(o,r,a)=>{this._updateLastFocusedEditableElement(),a&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,o=this._balloonView=new co,r=Fx(e),a=new l7(e.locale,r.label);o.content.add(a),o.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(o),e.ui.focusTracker.add(o.element),this._balloonView=o}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=function(o,r){const a=Fx(o),l=a.side==="right"?function(u,p){return zx(u,p,(g,k)=>g.left+g.width-k.width-p.horizontalOffset)}(r,a):function(u,p){return zx(u,p,g=>g.left+p.horizontalOffset)}(r,a);return{target:r,positions:[l]}}(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,o=e.ui.focusTracker.isFocused,r=e.ui.focusTracker.focusedElement;if(!o||!r)return void(this._lastFocusedEditableElement=null);const a=Array.from(e.ui.getEditableElementsNames()).map(l=>e.ui.getEditableElement(l));a.includes(r)?this._lastFocusedEditableElement=r:this._lastFocusedEditableElement=a[0]}}class l7 extends Pe{constructor(e,o){super(e);const r=new Zi,a=this.bindTemplate;r.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),r.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...o?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[o]}]:[],r],on:{dragstart:a.to(l=>l.preventDefault())}}]})}}function zx(s,e,o){return(r,a)=>{const l=new dt(s);if(l.width<s7||l.height<r7)return null;let u;u=e.position==="inside"?l.bottom-a.height:l.bottom-a.height/2,u-=e.verticalOffset;const p=o(l,a),g=r.clone().moveTo(p,u).getIntersection(a.clone().moveTo(p,u)).getVisible();return!g||g.getArea()<a.getArea()?null:{top:u,left:p,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function Fx(s){const e=s.config.get("ui.poweredBy"),o=e&&e.position||"border";return i7({position:o,label:a7,verticalOffset:o==="inside"?5:0,horizontalOffset:5,side:s.locale.contentLanguageDirection==="ltr"?"right":"left"},e)}var Vx=d(1801),d7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(Vx.A,d7),Vx.A.locals;const $x={POLITE:"polite",ASSERTIVE:"assertive"};class u7{constructor(e){this.editor=e,e.once("ready",()=>{for(const o of Object.values($x))this.announce("",o)})}announce(e,o=$x.POLITE){const r=this.editor;if(!r.ui.view)return;this.view||(this.view=new h7(r.locale),r.ui.view.body.add(this.view));const{politeness:a,isUnsafeHTML:l}=typeof o=="string"?{politeness:o}:o;let u=this.view.regionViews.find(p=>p.politeness===a);u||(u=new p7(r,a),this.view.regionViews.add(u)),u.announce({announcement:e,isUnsafeHTML:l})}}class h7 extends Pe{constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class p7 extends Pe{constructor(e,o){super(e.locale),this.setTemplate({tag:"div",attributes:{role:"region","aria-live":o,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=o,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:o}){if(!e.trim().length)return;const r=document.createElement("li");o?this._domConverter.setContentOf(r,e):r.innerText=e,this._listElement.appendChild(r)}get _listElement(){return this.element.querySelector("ul")}}var f7=Object.defineProperty,Ux=Object.getOwnPropertySymbols,g7=Object.prototype.hasOwnProperty,m7=Object.prototype.propertyIsEnumerable,Hx=(s,e,o)=>e in s?f7(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o;class b7 extends Y(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const o=e.editing.view;this.editor=e,this.componentFactory=new L9(e),this.focusTracker=new Dn,this.tooltipManager=new zh(e),this.poweredBy=new c7(e),this.ariaLiveAnnouncer=new u7(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(o.document,"layoutChanged",this.update.bind(this)),this.listenTo(o,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,o){this._editableElementsMap.set(e,o),o.ckeditorInstance||(o.ckeditorInstance=this.editor),this.focusTracker.add(o);const r=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(o)};this.isReady?r():this.once("ready",r)}removeEditableElement(e){const o=this._editableElementsMap.get(e);o&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(o),this.focusTracker.remove(o),o.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,o={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:o})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,o=e.config.get("ui.viewportOffset");if(o)return o;const r=e.config.get("toolbar.viewportTopOffset");return r?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:r}):{top:0}}_initFocusTracking(){const e=this.editor,o=e.editing.view;let r,a;e.keystrokes.set("Alt+F10",(l,u)=>{const p=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(p)&&!Array.from(o.domRoots.values()).includes(p)&&(r=p);const g=this._getCurrentFocusedToolbarDefinition();g&&a||(a=this._getFocusableCandidateToolbarDefinitions());for(let k=0;k<a.length;k++){const w=a.shift();if(a.push(w),w!==g&&this._focusFocusableCandidateToolbar(w)){g&&g.options.afterBlur&&g.options.afterBlur();break}}u()}),e.keystrokes.set("Esc",(l,u)=>{const p=this._getCurrentFocusedToolbarDefinition();p&&(r?(r.focus(),r=null):e.editing.view.focus(),p.options.afterBlur&&p.options.afterBlur(),u())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const o of this._focusableToolbarDefinitions){const{toolbarView:r,options:a}=o;(us(r.element)||a.beforeFocus)&&e.push(o)}return e.sort((o,r)=>Wx(o)-Wx(r)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:o,options:{beforeFocus:r}}=e;return r&&r(),!!us(o.element)&&(o.focus(),!0)}_handleScrollToTheSelection(e,o){const r=((a,l)=>{for(var u in l||(l={}))g7.call(l,u)&&Hx(a,u,l[u]);if(Ux)for(var u of Ux(l))m7.call(l,u)&&Hx(a,u,l[u]);return a})({top:0,bottom:0,left:0,right:0},this.viewportOffset);o.viewportOffset.top+=r.top,o.viewportOffset.bottom+=r.bottom,o.viewportOffset.left+=r.left,o.viewportOffset.right+=r.right}}function Wx(s){const{toolbarView:e,options:o}=s;let r=10;return us(e.element)&&r--,o.isContextual&&r--,r}var qx=d(1185),k7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(qx.A,k7),qx.A.locals;class w7 extends Pe{constructor(e){super(e),this.body=new i9(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class v7 extends w7{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,o=new Dh;return o.text=e("Rich Text Editor"),o.extendTemplate({attributes:{class:"ck-voice-label"}}),o}}class _7 extends Pe{constructor(e,o,r){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=r,this._hasExternalElement=!!this._editableElement,this._editingView=o}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function o(r){e.change(a=>{const l=e.document.getRoot(r.name);a.addClass(r.isFocused?"ck-focused":"ck-blurred",l),a.removeClass(r.isFocused?"ck-blurred":"ck-focused",l)})}e.isRenderingInProgress?function r(a){e.once("change:isRenderingInProgress",(l,u,p)=>{p?r(a):o(a)})}(this):o(this)}}class C7 extends _7{constructor(e,o,r,a={}){super(e,o,r);const l=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=a.label||(()=>l("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(o=>{const r=e.document.getRoot(this.name);o.setAttribute("aria-label",this._generateLabel(this),r)})}}class Xb extends hh{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,o)=>{window.alert(o.message)},{priority:"lowest"})}showSuccess(e,o={}){this._showNotification({message:e,type:"success",namespace:o.namespace,title:o.title})}showInfo(e,o={}){this._showNotification({message:e,type:"info",namespace:o.namespace,title:o.title})}showWarning(e,o={}){this._showNotification({message:e,type:"warning",namespace:o.namespace,title:o.title})}_showNotification(e){const o=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(o,{message:e.message,type:e.type,title:e.title||""})}}class Gx extends Y(){constructor(e,o){super(),o&&wy(this,o),e&&this.set(e)}}var Kx=d(991),A7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(Kx.A,A7),Kx.A.locals;var Yx=d(5380),y7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(Yx.A,y7),Yx.A.locals;const Vh=ka("px");class $h extends ue{constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const o=this.editor.editing.view,r=o.document.selection.editableElement;return r?o.domConverter.mapViewToDom(r.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new P("contextualballoon-add-view-exist",[this,e]);const o=e.stackId||"main";if(!this._idToStack.has(o))return this._idToStack.set(o,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(o)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(o));const r=this._idToStack.get(o);e.singleViewMode&&this.showStack(o),r.set(e.view,e),this._viewToStack.set(e.view,r),r===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new P("contextualballoon-remove-view-not-exist",[this,e]);const o=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(o.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(o.values())[o.size-2])),o.size===1?(this._idToStack.delete(this._getStackId(o)),this._numberOfStacks=this._idToStack.size):o.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const o=this._idToStack.get(e);if(!o)throw new P("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==o&&this._showView(Array.from(o.values()).pop())}_createPanelView(){this._view=new co(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(o=>o[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let o=e.indexOf(this._visibleStack)+1;e[o]||(o=0),this.showStack(this._getStackId(e[o]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let o=e.indexOf(this._visibleStack)-1;e[o]||(o=e.length-1),this.showStack(this._getStackId(e[o]))}_createRotatorView(){const e=new x7(this.editor.locale),o=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(r,a)=>!a&&r>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(r,a)=>{if(a<2)return"";const l=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return o("%0 of %1",[l,a])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new E7(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(o,r)=>!r&&o>=2?Math.min(o-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:o="",withArrow:r=!0,singleViewMode:a=!1}){this.view.class=o,this.view.withArrow=r,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),a&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class x7 extends Pe{constructor(e){super(e);const o=e.t,r=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Dn,this.buttonPrevView=this._createButtonView(o("Previous"),We.previousArrow),this.buttonNextView=this._createButtonView(o("Next"),We.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",r.to("isNavigationVisible",a=>a?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:r.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,o){const r=new vt(this.locale);return r.set({label:e,icon:o,tooltip:!0}),r}}class E7 extends Pe{constructor(e,o){super(e);const r=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=o,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",r.to("numberOfPanels",a=>a?"":"ck-hidden")],style:{top:r.to("top",Vh),left:r.to("left",Vh),width:r.to("width",Vh),height:r.to("height",Vh)}},children:this.content}),this.on("change:numberOfPanels",(a,l,u,p)=>{u>p?this._addPanels(u-p):this._removePanels(p-u),this.updatePosition()})}_addPanels(e){for(;e--;){const o=new Pe;o.setTemplate({tag:"div"}),this.content.add(o),this.registerChild(o)}}_removePanels(e){for(;e--;){const o=this.content.last;this.content.remove(o),this.deregisterChild(o),o.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:o}=this._balloonPanelView,{width:r,height:a}=new dt(this._balloonPanelView.element);Object.assign(this,{top:e,left:o,width:r,height:a})}}}var Qx=d(8298),T7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(Qx.A,T7),Qx.A.locals;const Ma=ka("px");class I7 extends Pe{constructor(e){super(e);const o=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new ai({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:o.to("isSticky",r=>r?"block":"none"),height:o.to("isSticky",r=>r?Ma(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new ai({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",o.if("isSticky","ck-sticky-panel__content_sticky"),o.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:o.to("isSticky",r=>r?Ma(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:o.to("_stickyTopOffset",r=>r&&Ma(r)),bottom:o.to("_stickyBottomOffset",r=>r&&Ma(r)),marginLeft:o.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(b.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const e=new dt(this.limiterElement);let o=e.getVisible();if(o){const r=new dt(b.window);r.top+=this.viewportTopOffset,r.height-=this.viewportTopOffset,o=o.getIntersection(r)}if(o&&e.top<o.top){const r=o.top;if(r+this._contentPanelRect.height+this.limiterBottomOffset>o.bottom){const a=Math.max(e.bottom-o.bottom,0)+this.limiterBottomOffset;e.bottom-a>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(a):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(r):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=Ma(-b.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=Ma(-b.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new dt(this.contentPanelElement)}}class S7 extends Rh{constructor(e,o){const r=e.t,a=Object.assign({},{showResetButton:!0,showIcon:!0,creator:Oh},o);super(e,a.creator),this.label=o.label,this._viewConfig=a,this._viewConfig.showIcon&&(this.iconView=new Zi,this.iconView.content=We.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new vt(e),this.resetButtonView.set({label:r("Clear"),icon:We.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",l=>!l),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class D7 extends Pe{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",o=>!o)],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class M7 extends Pe{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new Dn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new zo({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var Zx=/[\\^$.*+?()[\]{}|]/g,P7=RegExp(Zx.source);const Jx=function(s){return(s=ub(s))&&P7.test(s)?s.replace(Zx,"\\$&"):s};var Xx=d(8107),R7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(Xx.A,R7),Xx.A.locals;var B7=Object.defineProperty,eE=Object.getOwnPropertySymbols,N7=Object.prototype.hasOwnProperty,O7=Object.prototype.propertyIsEnumerable,tE=(s,e,o)=>e in s?B7(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o;class L7 extends Pe{constructor(e,o){super(e),this._config=o,this.filteredView=o.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new Dn,this.keystrokes=new no,this.resultsView=new M7(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),o.infoView&&o.infoView.instance?this.infoView=o.infoView.instance:(this.infoView=new D7,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new zo({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(r,{resultsCount:a,totalItemsCount:l})=>{this.resultsCount=a,this.totalItemsCount=l}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",o.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=o=>o.stopPropagation();for(const o of this.focusableChildren)this.focusTracker.add(o.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(e){const o=e?new RegExp(Jx(e),"ig"):null,r=this.filteredView.filter(o);this.fire("search",((a,l)=>{for(var u in l||(l={}))N7.call(l,u)&&tE(a,u,l[u]);if(eE)for(var u of eE(l))O7.call(l,u)&&tE(a,u,l[u]);return a})({query:e},r))}_createSearchTextQueryView(){const e=new S7(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,o=this.infoView;function r(a,{query:l,resultsCount:u,totalItemsCount:p}){return typeof a=="function"?a(l,u,p):a}this.on("search",(a,l)=>{if(l.resultsCount)o.set({isVisible:!1});else{const u=this._config.infoView&&this._config.infoView.text;let p,g;l.totalItemsCount?u&&u.notFound?(p=u.notFound.primary,g=u.notFound.secondary):(p=e("No results found"),g=""):u&&u.noSearchableItems?(p=u.noSearchableItems.primary,g=u.noSearchableItems.secondary):(p=e("No searchable items"),g=""),o.set({primaryText:r(p,l),secondaryText:r(g,l),isVisible:!0})}})}}var nE=d(5727),j7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(nE.A,j7),nE.A.locals;const ek=class extends L7{constructor(s,e){super(s,e),this._config=e;const o=ka("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const r=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[r.if("isVisible","ck-hidden",a=>!a),r.to("_position",a=>`ck-search__results_${a}`)],style:{width:r.to("_width",o)}}}),this.focusTracker.on("change:isFocused",(a,l,u)=>{this._updateResultsVisibility(),u?this.resultsView.element.scrollTop=0:e.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(a,l)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,l())}),this.listenTo(b.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(a,{value:l})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=l,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new dt(this.queryView.fieldView.element).width;const s=ek._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:ek.defaultResultsPositions});this.resultsView._position=s?s.name:"s"}_updateResultsVisibility(){const s=this._config.queryMinChars===void 0?0:this._config.queryMinChars,e=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&e>=s}};let oE=ek;oE.defaultResultsPositions=[s=>({top:s.bottom,left:s.left,name:"s"}),(s,e)=>({top:s.top-e.height,left:s.left,name:"n"})],oE._getOptimalPosition=sh;var iE=d(9529),z7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(iE.A,z7),iE.A.locals;var rE=d(109),F7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(rE.A,F7),rE.A.locals;var sE=d(2710),V7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(sE.A,V7),sE.A.locals;var aE=d(3344),$7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(aE.A,$7),aE.A.locals;class U7 extends vt{constructor(e){super(e);const o=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",r=>String(r)),"data-cke-tooltip-disabled":o.to("isOn")},on:{mouseenter:o.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Zi;return e.content=Ph,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}var cE=d(9481),H7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(cE.A,H7),cE.A.locals;class tk extends Da{constructor(e,o){super(e);const r=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:r.to("mouseenter")}}),this.delegate("mouseenter").to(o)}}var W7=Object.defineProperty,lE=Object.getOwnPropertySymbols,q7=Object.prototype.hasOwnProperty,G7=Object.prototype.propertyIsEnumerable,dE=(s,e,o)=>e in s?W7(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,uE=(s,e)=>{for(var o in e||(e={}))q7.call(e,o)&&dE(s,o,e[o]);if(lE)for(var o of lE(e))G7.call(e,o)&&dE(s,o,e[o]);return s};const Sl={toggleMenusAndFocusItemsOnHover(s){s.on("menu:mouseenter",e=>{if(s.isOpen){for(const o of s.menus){const r=e.path[0],a=r instanceof tk&&r.children.first===o;o.isOpen=(e.path.includes(o)||a)&&o.isEnabled}e.source.focus()}})},focusCycleMenusOnArrows(s){const e=s.locale.uiLanguageDirection==="rtl";function o(r,a){const l=s.children.getIndex(r),u=r.isOpen,p=s.children.length,g=s.children.get((l+p+a)%p);r.isOpen=!1,u&&(g.isOpen=!0),g.buttonView.focus()}s.on("menu:arrowright",r=>{o(r.source,e?-1:1)}),s.on("menu:arrowleft",r=>{o(r.source,e?1:-1)})},closeMenusWhenTheBarCloses(s){s.on("change:isOpen",()=>{s.isOpen||s.menus.forEach(e=>{e.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(s){s.on("menu:change:isOpen",(e,o,r)=>{r&&s.menus.filter(a=>e.source.parentMenuView===a.parentMenuView&&e.source!==a&&a.isOpen).forEach(a=>{a.isOpen=!1})})},closeOnClickOutside(s){dh({emitter:s,activator:()=>s.isOpen,callback:()=>s.close(),contextElements:()=>s.children.map(e=>e.element)})}},_s={openAndFocusPanelOnArrowDownKey(s){s.keystrokes.set("arrowdown",(e,o)=>{s.focusTracker.focusedElement===s.buttonView.element&&(s.isOpen||(s.isOpen=!0),s.panelView.focus(),o())})},openOnArrowRightKey(s){const e=s.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";s.keystrokes.set(e,(o,r)=>{s.focusTracker.focusedElement===s.buttonView.element&&s.isEnabled&&(s.isOpen||(s.isOpen=!0),s.panelView.focus(),r())})},openOnButtonClick(s){s.buttonView.on("execute",()=>{s.isOpen=!0,s.panelView.focus()})},toggleOnButtonClick(s){s.buttonView.on("execute",()=>{s.isOpen=!s.isOpen,s.isOpen&&s.panelView.focus()})},closeOnArrowLeftKey(s){const e=s.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";s.keystrokes.set(e,(o,r)=>{s.isOpen&&(s.isOpen=!1,s.focus(),r())})},closeOnEscKey(s){s.keystrokes.set("esc",(e,o)=>{s.isOpen&&(s.isOpen=!1,s.focus(),o())})},closeOnParentClose(s){s.parentMenuView.on("change:isOpen",(e,o,r)=>{r||e.source!==s.parentMenuView||(s.isOpen=!1)})}},K7={southEast:s=>({top:s.bottom,left:s.left,name:"se"}),southWest:(s,e)=>({top:s.bottom,left:s.left-e.width+s.width,name:"sw"}),northEast:(s,e)=>({top:s.top-e.height,left:s.left,name:"ne"}),northWest:(s,e)=>({top:s.top-e.height,left:s.left-e.width+s.width,name:"nw"}),eastSouth:s=>({top:s.top,left:s.right-5,name:"es"}),eastNorth:(s,e)=>({top:s.top-e.height,left:s.right-5,name:"en"}),westSouth:(s,e)=>({top:s.top,left:s.left-e.width+5,name:"ws"}),westNorth:(s,e)=>({top:s.top-e.height,left:s.left-e.width+5,name:"wn"})},Y7=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:uploadImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment"]},{groupId:"insertMinorWidgets",items:["menuBar:insertTemplate","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function Q7({normalizedConfig:s,locale:e,componentFactory:o}){const r=di(s);return function(a,l){const u=l.removeItems,p=[];l.items=l.items.filter(({menuId:g})=>!u.includes(g)||(p.push(g),!1)),Pa(l.items,g=>{g.groups=g.groups.filter(({groupId:k})=>!u.includes(k)||(p.push(k),!1));for(const k of g.groups)k.items=k.items.filter(w=>{const A=fE(w);return!u.includes(A)||(p.push(A),!1)})});for(const g of u)p.includes(g)||U("menu-bar-item-could-not-be-removed",{menuBarConfig:a,itemName:g})}(s,r),function(a,l){const u=l.addItems,p=[];for(const g of u){const k=X7(g.position),w=e8(g.position);if(Z7(g))if(w){const A=l.items.findIndex(E=>E.menuId===w);A!=-1?k==="before"?(l.items.splice(A,0,g.menu),p.push(g)):k==="after"&&(l.items.splice(A+1,0,g.menu),p.push(g)):hE(l,g.menu,w,k)&&p.push(g)}else k==="start"?(l.items.unshift(g.menu),p.push(g)):k==="end"&&(l.items.push(g.menu),p.push(g));else J7(g)?Pa(l.items,A=>{if(A.menuId===w)k==="start"?(A.groups.unshift(g.group),p.push(g)):k==="end"&&(A.groups.push(g.group),p.push(g));else{const E=A.groups.findIndex(T=>T.groupId===w);E!==-1&&(k==="before"?(A.groups.splice(E,0,g.group),p.push(g)):k==="after"&&(A.groups.splice(E+1,0,g.group),p.push(g)))}}):hE(l,g.item,w,k)&&p.push(g)}for(const g of u)p.includes(g)||U("menu-bar-item-could-not-be-added",{menuBarConfig:a,addedItemConfig:g})}(s,r),function(a,l,u){Pa(l.items,p=>{for(const g of p.groups)g.items=g.items.filter(k=>{const w=typeof k=="string"&&!u.has(k);return w&&!l.isUsingDefaultConfig&&U("menu-bar-item-unavailable",{menuBarConfig:a,parentMenuConfig:di(p),componentName:k}),!w})})}(s,r,o),pE(s,r),function(a,l){const u=l.t,p={File:u({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:u({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:u({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:u({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:u({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:u({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:u({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:u({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:u({string:"Font",id:"MENU_BAR_MENU_FONT"})};Pa(a.items,g=>{g.label in p&&(g.label=p[g.label])})}(r,e),r}function hE(s,e,o,r){let a=!1;return Pa(s.items,l=>{for(const{groupId:u,items:p}of l.groups){if(a)return;if(u===o)r==="start"?(p.unshift(e),a=!0):r==="end"&&(p.push(e),a=!0);else{const g=p.findIndex(k=>fE(k)===o);g!==-1&&(r==="before"?(p.splice(g,0,e),a=!0):r==="after"&&(p.splice(g+1,0,e),a=!0))}}}),a}function pE(s,e){const o=e.isUsingDefaultConfig;let r=!1;e.items=e.items.filter(a=>!!a.groups.length||(nk(s,a,o),!1)),e.items.length?(Pa(e.items,a=>{a.groups=a.groups.filter(l=>!!l.items.length||(r=!0,!1));for(const l of a.groups)l.items=l.items.filter(u=>!(gE(u)&&!u.groups.length)||(nk(s,u,o),r=!0,!1))}),r&&pE(s,e)):nk(s,s,o)}function nk(s,e,o){o||U("menu-bar-menu-empty",{menuBarConfig:s,emptyMenuConfig:e})}function Pa(s,e){if(Array.isArray(s))for(const r of s)o(r);function o(r){e(r);for(const a of r.groups)for(const l of a.items)gE(l)&&o(l)}}function Z7(s){return typeof s=="object"&&"menu"in s}function J7(s){return typeof s=="object"&&"group"in s}function X7(s){return s.startsWith("start")?"start":s.startsWith("end")?"end":s.startsWith("after")?"after":"before"}function e8(s){const e=s.match(/^[^:]+:(.+)/);return e?e[1]:null}function fE(s){return typeof s=="string"?s:s.menuId}function gE(s){return typeof s=="object"&&"menuId"in s}function t8(s,e){const o=e.element;s.ui.focusTracker.add(o),s.keystrokes.listenTo(o);const r=function(a){let l;return l="items"in a&&a.items?uE({items:a.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1},a):uE({items:di(Y7),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0},a),l}(s.config.get("menuBar")||{});e.fillFromConfig(r,s.ui.componentFactory),s.keystrokes.set("Esc",(a,l)=>{o.contains(s.ui.focusTracker.focusedElement)&&(s.editing.view.focus(),l())}),s.keystrokes.set("Alt+F9",(a,l)=>{o.contains(s.ui.focusTracker.focusedElement)||(e.focus(),l())})}var mE=d(9108),n8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(mE.A,n8),mE.A.locals;class o8 extends Pe{constructor(e){super(e);const o=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",o.to("position",r=>`ck-menu-bar__menu__panel_position_${r}`),o.if("isVisible","ck-hidden",r=>!r)],tabindex:"-1"},children:this.children,on:{selectstart:o.to(r=>{r.target.tagName.toLocaleLowerCase()!=="input"&&r.preventDefault()})}})}focus(e=1){this.children.length&&(e===1?this.children.first.focus():this.children.last.focus())}}var bE=d(4),i8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(bE.A,i8),bE.A.locals;const kE=class extends Pe{constructor(s){super(s);const e=this.bindTemplate;this.buttonView=new U7(s),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new o8(s),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new no,this.focusTracker=new Dn,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",e.to("class"),e.if("isEnabled","ck-disabled",o=>!o),e.if("parentMenuView","ck-menu-bar__menu_top-level",o=>!o)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),_s.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(_s.openOnButtonClick(this),_s.openOnArrowRightKey(this),_s.closeOnArrowLeftKey(this),_s.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),_s.openAndFocusPanelOnArrowDownKey(this),_s.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(s,e)=>{this.fire("arrowright"),e()}),this.keystrokes.set("arrowleft",(s,e)=>{this.fire("arrowleft"),e()})}_repositionPanelOnOpen(){this.on("change:isOpen",(s,e,o)=>{if(!o)return;const r=kE._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=r?r.name:this._panelPositions[0].name})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:s,southWest:e,northEast:o,northWest:r,westSouth:a,eastSouth:l,westNorth:u,eastNorth:p}=K7;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[l,p,a,u]:[s,e,o,r]:this.parentMenuView?[a,u,l,p]:[e,s,r,o]}};let Ra=kE;Ra._getOptimalPosition=sh;class ok extends Gb{constructor(e){super(e),this.role="menu"}}var wE=d(977),r8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(wE.A,r8),wE.A.locals;class To extends vt{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class vE extends J1{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var _E=d(497),s8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(_E.A,s8),_E.A.locals;const CE=["mouseenter","arrowleft","arrowright","change:isOpen"];class a8 extends Pe{constructor(e){super(e),this.menus=[];const o=e.t;this.set("isOpen",!1),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar"],"aria-label":o("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,o){const r=Q7({normalizedConfig:e,locale:this.locale,componentFactory:o}).items.map(a=>this._createMenu({componentFactory:o,menuDefinition:a}));this.children.addMany(r)}render(){super.render(),Sl.toggleMenusAndFocusItemsOnHover(this),Sl.closeMenusWhenTheBarCloses(this),Sl.closeMenuWhenAnotherOnTheSameLevelOpens(this),Sl.focusCycleMenusOnArrows(this),Sl.closeOnClickOutside(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}registerMenu(e,o=null){o?(e.delegate(...CE).to(o),e.parentMenuView=o):e.delegate(...CE).to(this,r=>"menu:"+r),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:o,parentMenuView:r}){const a=this.locale,l=new Ra(a);return this.registerMenu(l,r),l.buttonView.set({label:o.label}),l.once("change:isOpen",()=>{const u=new ok(a);u.ariaLabel=o.label,l.panelView.children.add(u),u.items.addMany(this._createMenuItems({menuDefinition:o,parentMenuView:l,componentFactory:e}))}),l}_createMenuItems({menuDefinition:e,parentMenuView:o,componentFactory:r}){const a=this.locale,l=[];for(const u of e.groups){for(const p of u.items){const g=new tk(a,o);if(Te(p))g.children.add(this._createMenu({componentFactory:r,menuDefinition:p,parentMenuView:o}));else{const k=this._createMenuItemContentFromFactory({componentName:p,componentFactory:r,parentMenuView:o});if(!k)continue;g.children.add(k)}l.push(g)}u!==e.groups[e.groups.length-1]&&l.push(new qb(a))}return l}_createMenuItemContentFromFactory({componentName:e,parentMenuView:o,componentFactory:r}){const a=r.create(e);return a instanceof Ra||a instanceof To||a instanceof vE?(this._registerMenuTree(a,o),a.on("execute",()=>{this.close()}),a):(U("menu-bar-component-unsupported",{componentName:e,componentView:a}),null)}_registerMenuTree(e,o){if(!(e instanceof Ra))return void e.delegate("mouseenter").to(o);this.registerMenu(e,o);const r=e.panelView.children.filter(l=>l instanceof ok)[0];if(!r)return void e.delegate("mouseenter").to(o);const a=r.items.filter(l=>l instanceof Da);for(const l of a)this._registerMenuTree(l.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(o,r,a)=>{clearTimeout(e),a?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(l=>l.isOpen)},0)})}}class c8 extends b7{constructor(e,o){super(e),this.view=o,this._toolbarConfig=lx(e.config.get("toolbar")),this._elementReplacer=new Dt,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const o=this.editor,r=this.view,a=o.editing.view,l=r.editable,u=a.document.getRoot();l.name=u.rootName,r.render();const p=l.element;this.setEditableElement(l.name,p),r.editable.bind("isFocused").to(this.focusTracker),a.attachDomRoot(p),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),r.menuBarView&&t8(o,r.menuBarView),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,o=this.editor.editing.view;this._elementReplacer.restore(),o.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:o})=>o||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,o=e.editing.view,r=o.document.getRoot(),a=e.sourceElement;let l;const u=e.config.get("placeholder");u&&(l=typeof u=="string"?u:u[this.view.editable.name]),!l&&a&&a.tagName.toLowerCase()==="textarea"&&(l=a.getAttribute("placeholder")),l&&(r.placeholder=l),qA({view:o,element:r,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(e,o,r){const a=this.view.stickyPanel;if(a.isSticky){const l=new dt(a.element).height;o.viewportOffset.top+=l}else{const l=()=>{this.editor.editing.view.scrollToTheSelection(r)};this.listenTo(a,"change:isSticky",l),setTimeout(()=>{this.stopListening(a,"change:isSticky",l)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,o=this.editor.plugins.get("Dialog");o.on("show",()=>{const r=o.view;r.on("moveTo",(a,l)=>{if(!e.isSticky||r.wasMoved)return;const u=new dt(e.contentPanelElement);l[1]<u.bottom+jh.defaultOffset&&(l[1]=u.bottom+jh.defaultOffset)},{priority:"high"})},{priority:"low"})}}var AE=d(7388),l8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(AE.A,l8),AE.A.locals;class d8 extends v7{constructor(e,o,r={}){super(e),this.stickyPanel=new I7(e),this.toolbar=new Wb(e,{shouldGroupWhenFull:r.shouldToolbarGroupWhenFull}),r.useMenuBar&&(this.menuBarView=new a8(e)),this.editable=new C7(e,o)}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class yE{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=o=>{const r="error"in o?o.error:o.reason;r instanceof Error&&this._handleError(r,o)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,o){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(o)}off(e,o){this._listeners[e]=this._listeners[e].filter(r=>r!==o)}_fire(e,...o){const r=this._listeners[e]||[];for(const a of r)a.apply(this,[null,...o])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,o){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:o instanceof ErrorEvent?o.filename:void 0,lineno:o instanceof ErrorEvent?o.lineno:void 0,colno:o instanceof ErrorEvent?o.colno:void 0,date:this._now()});const r=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:r}),r?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function ik(s,e=new Set){const o=[s],r=new Set;let a=0;for(;o.length>a;){const l=o[a++];if(!r.has(l)&&u8(l)&&!e.has(l))if(r.add(l),Symbol.iterator in l)try{for(const u of l)o.push(u)}catch{}else for(const u in l)u!=="defaultValue"&&o.push(l[u])}return r}function u8(s){const e=Object.prototype.toString.call(s),o=typeof s;return!(o==="number"||o==="boolean"||o==="string"||o==="symbol"||o==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||s==null||s._watchdogExcluded||s instanceof EventTarget||s instanceof Event)}function xE(s,e,o=new Set){if(s===e&&typeof(r=s)=="object"&&r!==null)return!0;var r;const a=ik(s,o),l=ik(e,o);for(const u of a)if(l.has(u))return!0;return!1}var h8=Object.defineProperty,p8=Object.defineProperties,f8=Object.getOwnPropertyDescriptors,Uh=Object.getOwnPropertySymbols,EE=Object.prototype.hasOwnProperty,TE=Object.prototype.propertyIsEnumerable,IE=(s,e,o)=>e in s?h8(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,rk=(s,e)=>{for(var o in e||(e={}))EE.call(e,o)&&IE(s,o,e[o]);if(Uh)for(var o of Uh(e))TE.call(e,o)&&IE(s,o,e[o]);return s};class SE extends yE{constructor(e,o={}){super(o),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=Fh(this._save.bind(this),typeof o.saveInterval=="number"?o.saveInterval:5e3),e&&(this._creator=(r,a)=>e.create(r,a)),this._destructor=r=>r.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},o=[],r=this._config.rootsAttributes||{},a={};for(const[g,k]of Object.entries(this._data.roots))k.isLoaded?(e[g]="",a[g]=r[g]||{}):o.push(g);const l=(u=rk({},this._config),p={extraPlugins:this._config.extraPlugins||[],lazyRoots:o,rootsAttributes:a,_watchdogInitialData:this._data},p8(u,f8(p)));var u,p;return delete l.initialData,l.extraPlugins.push(g8),this._initUsingData?this.create(e,l,l.context):ds(this._elementOrData)?this.create(this._elementOrData,l,l.context):this.create(this._editables,l,l.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,o=this._config,r){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(o)||{},this._config.context=r,this._creator(e,this._config))).then(a=>{this._editor=a,a.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=a.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(o){console.error(o,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,o=e.model.document.roots.filter(p=>p.isAttached()&&p.rootName!="$graveyard"),{plugins:r}=e,a=r.has("CommentsRepository")&&r.get("CommentsRepository"),l=r.has("TrackChanges")&&r.get("TrackChanges"),u={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};o.forEach(p=>{u.roots[p.rootName]={content:JSON.stringify(Array.from(p.getChildren())),attributes:JSON.stringify(Array.from(p.getAttributes())),isLoaded:p._isLoaded}});for(const p of e.model.markers)p._affectsData&&(u.markers[p.name]={rangeJSON:p.getRange().toJSON(),usingOperation:p._managedUsingOperations,affectsData:p._affectsData});return a&&(u.commentThreads=JSON.stringify(a.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),l&&(u.suggestions=JSON.stringify(l.getSuggestions({toJSON:!0,skipNotAttached:!0}))),u}_getEditables(){const e={};for(const o of this.editor.model.document.getRootNames()){const r=this.editor.ui.getEditableElement(o);r&&(e[o]=r)}return e}_isErrorComingFromThisItem(e){return xE(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return Ym(e,(o,r)=>ds(o)||r==="context"?o:void 0)}}class g8{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},o=>{this._restoreCollaborationData(),this._restoreEditorData(o)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,o){if("name"in o){const r=e.createElement(o.name,o.attributes);if(o.children)for(const a of o.children)r._appendChild(this._createNode(e,a));return r}return e.createText(o.data,o.attributes)}_restoreEditorData(e){const o=this.editor;Object.entries(this._data.roots).forEach(([r,{content:a,attributes:l}])=>{const u=JSON.parse(a),p=JSON.parse(l),g=o.model.document.getRoot(r);for(const[k,w]of p)e.setAttribute(k,w,g);for(const k of u){const w=this._createNode(e,k);e.insert(w,g,"end")}}),Object.entries(this._data.markers).forEach(([r,a])=>{const{document:l}=o.model,u=a,{rangeJSON:{start:p,end:g}}=u,k=((D,B)=>{var z={};for(var $ in D)EE.call(D,$)&&B.indexOf($)<0&&(z[$]=D[$]);if(D!=null&&Uh)for(var $ of Uh(D))B.indexOf($)<0&&TE.call(D,$)&&(z[$]=D[$]);return z})(u,["rangeJSON"]),w=l.getRoot(p.root),A=e.createPositionFromPath(w,p.path,p.stickiness),E=e.createPositionFromPath(w,g.path,g.stickiness),T=e.createRange(A,E);e.addMarker(r,rk({range:T},k))})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),o=JSON.parse(this._data.suggestions);e.forEach(r=>{const a=this.editor.config.get("collaboration.channelId"),l=this.editor.plugins.get("CommentsRepository");l.hasCommentThread(r.threadId)&&l.getCommentThread(r.threadId).remove(),l.addCommentThread(rk({channelId:a},r))}),o.forEach(r=>{const a=this.editor.plugins.get("TrackChangesEditing");a.hasSuggestion(r.id)?a.getSuggestion(r.id).attributes=r.attributes:a.addSuggestionData(r)})}}const Dl=Symbol("MainQueueId");class m8{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,o){const r=e===Dl;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const a=(r?Promise.all(this._queues.values()):Promise.all([this._queues.get(Dl),this._queues.get(e)])).then(o),l=a.catch(()=>{});return this._queues.set(e,l),a.finally(()=>{this._activeActions--,this._queues.get(e)===l&&this._activeActions===0&&this._onEmptyCallbacks.forEach(u=>u())})}}function DE(s){return Array.isArray(s)?s:[s]}class Hh extends Vb(J6){constructor(e,o={}){if(!Wh(e)&&o.initialData!==void 0)throw new P("editor-create-initial-data",null);super(o),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",function(u){return Wh(u)?(p=u,p instanceof HTMLTextAreaElement?p.value:p.innerHTML):u;var p}(e)),Wh(e)&&(this.sourceElement=e),this.model.document.createRoot();const r=!this.config.get("toolbar.shouldNotGroupWhenFull"),a=this.config.get("menuBar"),l=new d8(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:r,useMenuBar:a.isVisible});this.ui=new c8(this,l),function(u){if(!qi(u.updateSourceElement))throw new P("attachtoform-missing-elementapi-interface",u);const p=u.sourceElement;if(function(g){return!!g&&g.tagName.toLowerCase()==="textarea"}(p)&&p.form){let g;const k=p.form,w=()=>u.updateSourceElement();qi(k.submit)&&(g=k.submit,k.submit=()=>{w(),g.apply(k)}),k.addEventListener("submit",w),u.on("destroy",()=>{k.removeEventListener("submit",w),g&&(k.submit=g)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,o={}){return new Promise(r=>{const a=new this(e,o);r(a.initPlugins().then(()=>a.ui.init(Wh(e)?e:null)).then(()=>a.data.init(a.config.get("initialData"))).then(()=>a.fire("ready")).then(()=>a))})}}function Wh(s){return ds(s)}Hh.Context=UA,Hh.EditorWatchdog=SE,Hh.ContextWatchdog=class extends yE{constructor(s,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new m8,this._watchdogConfig=e,this._creator=o=>s.create(o),this._destructor=o=>o.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(s){this._creator=s}setDestructor(s){this._destructor=s}get context(){return this._context}create(s={}){return this._actionQueues.enqueue(Dl,()=>(this._contextConfig=s,this._create()))}getItem(s){return this._getWatchdog(s)._item}getItemState(s){return this._getWatchdog(s).state}add(s){const e=DE(s);return Promise.all(e.map(o=>this._actionQueues.enqueue(o.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let r;if(this._watchdogs.has(o.id))throw new Error(`Item with the given id is already added: '${o.id}'.`);if(o.type==="editor")return r=new SE(null,this._watchdogConfig),r.setCreator(o.creator),r._setExcludedProperties(this._contextProps),o.destructor&&r.setDestructor(o.destructor),this._watchdogs.set(o.id,r),r.on("error",(a,{error:l,causesRestart:u})=>{this._fire("itemError",{itemId:o.id,error:l}),u&&this._actionQueues.enqueue(o.id,()=>new Promise(p=>{const g=()=>{r.off("restart",g),this._fire("itemRestart",{itemId:o.id}),p()};r.on("restart",g)}))}),r.create(o.sourceElementOrData,o.config,this._context);throw new Error(`Not supported item type: '${o.type}'.`)})))}remove(s){const e=DE(s);return Promise.all(e.map(o=>this._actionQueues.enqueue(o,()=>{const r=this._getWatchdog(o);return this._watchdogs.delete(o),r.destroy()})))}destroy(){return this._actionQueues.enqueue(Dl,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Dl,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(s=>{console.error("An error happened during destroying the context or items.",s)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(s=>(this._context=s,this._contextProps=ik(this._context),Promise.all(Array.from(this._watchdogs.values()).map(e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const s=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(e=>e.destroy())).then(()=>this._destructor(s))})}_getWatchdog(s){const e=this._watchdogs.get(s);if(!e)throw new Error(`Item with the given id was not registered: ${s}.`);return e}_isErrorComingFromThisItem(s){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(s))return!1;return xE(this._context,s.context)}};class Ml extends xr{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const o=this.document;function r(a){return(l,u)=>{u.preventDefault();const p=u.dropRange?[u.dropRange]:null,g=new N(o,a);o.fire(g,{dataTransfer:u.dataTransfer,method:l.name,targetRanges:p,target:u.target,domEvent:u.domEvent}),g.stop.called&&u.stopPropagation()}}this.listenTo(o,"paste",r("clipboardInput"),{priority:"low"}),this.listenTo(o,"drop",r("clipboardInput"),{priority:"low"}),this.listenTo(o,"dragover",r("dragging"),{priority:"low"})}onDomEvent(e){const o="clipboardData"in e?e.clipboardData:e.dataTransfer,r=e.type=="drop"||e.type=="paste",a={dataTransfer:new Ty(o,{cacheFiles:r})};e.type!="drop"&&e.type!="dragover"||(a.dropRange=function(l,u){const p=u.target.ownerDocument,g=u.clientX,k=u.clientY;let w;return p.caretRangeFromPoint&&p.caretRangeFromPoint(g,k)?w=p.caretRangeFromPoint(g,k):u.rangeParent&&(w=p.createRange(),w.setStart(u.rangeParent,u.rangeOffset),w.collapse(!0)),w?l.domConverter.domRangeToView(w):null}(this.view,e)),this.fire(e.type,e,a)}}const ME=["figcaption","li"],PE=["ol","ul"];function RE(s){if(s.is("$text")||s.is("$textProxy"))return s.data;if(s.is("element","img")&&s.hasAttribute("alt"))return s.getAttribute("alt");if(s.is("element","br"))return`
`;let e="",o=null;for(const r of s.getChildren())e+=b8(r,o)+RE(r),o=r;return e}function b8(s,e){return e?s.is("element","li")&&!s.isEmpty&&s.getChild(0).is("containerElement")||PE.includes(s.name)&&PE.includes(e.name)?`

`:s.is("containerElement")||e.is("containerElement")?ME.includes(s.name)||ME.includes(e.name)?`
`:`

`:"":""}const k8=function(s,e){return s&&_A(s,e,al)},w8=function(s,e,o,r){var a=o.length,l=a;if(s==null)return!l;for(s=Object(s);a--;){var u=o[a];if(u[2]?u[1]!==s[u[0]]:!(u[0]in s))return!1}for(;++a<l;){var p=(u=o[a])[0],g=s[p],k=u[1];if(u[2]){if(g===void 0&&!(p in s))return!1}else{var w=new fa,A;if(!(A===void 0?yh(k,g,3,r,w):A))return!1}}return!0},BE=function(s){return s==s&&!Te(s)},v8=function(s){for(var e=al(s),o=e.length;o--;){var r=e[o],a=s[r];e[o]=[r,a,BE(a)]}return e},NE=function(s,e){return function(o){return o!=null&&o[s]===e&&(e!==void 0||s in Object(o))}},_8=function(s){var e=v8(s);return e.length==1&&e[0][2]?NE(e[0][0],e[0][1]):function(o){return o===s||w8(o,s,e)}},C8=function(s,e){return s!=null&&e in Object(s)},A8=function(s,e,o){for(var r=-1,a=(e=gh(e,s)).length,l=!1;++r<a;){var u=_a(e[r]);if(!(l=s!=null&&o(s,u)))break;s=s[u]}return l||++r!=a?l:!!(a=s==null?0:s.length)&&Om(a)&&eh(u,a)&&(Wt(s)||Xu(s))},y8=function(s,e){return s!=null&&A8(s,e,C8)},x8=function(s,e){return lb(s)&&BE(e)?NE(_a(s),e):function(o){var r=fl(o,s);return r===void 0&&r===e?y8(o,s):yh(e,r,3)}},E8=function(s){return function(e){return e==null?void 0:e[s]}},T8=function(s){return function(e){return hb(e,s)}},I8=function(s){return lb(s)?E8(_a(s)):T8(s)},S8=function(s){return typeof s=="function"?s:s==null?yr:typeof s=="object"?Wt(s)?x8(s[0],s[1]):_8(s):I8(s)},D8=function(s,e){var o={};return e=S8(e),k8(s,function(r,a,l){Ju(o,a,e(r,a,l))}),o};var M8=Object.defineProperty,P8=Object.defineProperties,R8=Object.getOwnPropertyDescriptors,OE=Object.getOwnPropertySymbols,B8=Object.prototype.hasOwnProperty,N8=Object.prototype.propertyIsEnumerable,LE=(s,e,o)=>e in s?M8(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o;class Pl extends ue{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(e,o){this._markersToCopy.set(e,o)}_copySelectedFragmentWithMarkers(e,o,r=a=>a.model.getSelectedContent(a.model.document.selection)){return this.editor.model.change(a=>{const l=a.model.document.selection;a.setSelection(o);const u=this._insertFakeMarkersIntoSelection(a,a.model.document.selection,e),p=r(a),g=this._removeFakeMarkersInsideElement(a,p);for(const[k,w]of Object.entries(u)){g[k]||(g[k]=a.createRangeIn(p));for(const A of w)a.remove(A)}p.markers.clear();for(const[k,w]of Object.entries(g))p.markers.set(k,w);return a.setSelection(l),p})}_pasteMarkersIntoTransformedElement(e,o){const r=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(a=>{const l=this._insertFakeMarkersElements(a,r),u=o(a),p=this._removeFakeMarkersInsideElement(a,u);for(const g of Object.values(l).flat())a.remove(g);for(const[g,k]of Object.entries(p))a.model.markers.has(g)||a.addMarker(g,{usingOperation:!0,affectsData:!0,range:k});return u})}_pasteFragmentWithMarkers(e){const o=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const r of o)e.markers.set(r.name,r.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,o,r={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const a=this._markersToCopy.get(e);this._markersToCopy.set(e,r),o(),a?this._markersToCopy.set(e,a):this._markersToCopy.delete(e)}_isMarkerCopyable(e,o){const r=this._getMarkerClipboardConfig(e);if(!r)return!1;if(!o)return!0;const{allowedActions:a}=r;return a==="all"||a.includes(o)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[o]=e.split(":");return this._markersToCopy.get(o)||null}_insertFakeMarkersIntoSelection(e,o,r){const a=this._getCopyableMarkersFromSelection(e,o,r);return this._insertFakeMarkersElements(e,a)}_getCopyableMarkersFromSelection(e,o,r){const a=Array.from(o.getRanges()),l=new Set(a.flatMap(u=>Array.from(e.model.markers.getMarkersIntersectingRange(u))));return Array.from(l).filter(u=>{if(!this._isMarkerCopyable(u.name,r))return!1;const{copyPartiallySelected:p}=this._getMarkerClipboardConfig(u.name);if(!p){const g=u.getRange();return a.some(k=>k.containsRange(g,!0))}return!0}).map(u=>({name:r==="dragstart"?this._getUniqueMarkerName(u.name):u.name,range:u.getRange()}))}_getPasteMarkersFromRangeMap(e,o=null){const{model:r}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([a,l])=>{if(!this._hasMarkerConfiguration(a))return[{name:a,range:l}];if(this._isMarkerCopyable(a,o)){const u=this._getMarkerClipboardConfig(a),p=r.markers.has(a)&&r.markers.get(a).getRange().root.rootName==="$graveyard";return(u.duplicateOnPaste||p)&&(a=this._getUniqueMarkerName(a)),[{name:a,range:l}]}return[]})}_insertFakeMarkersElements(e,o){const r={},a=o.flatMap(l=>{const{start:u,end:p}=l.range;return[{position:u,marker:l,type:"start"},{position:p,marker:l,type:"end"}]}).sort(({position:l},{position:u})=>l.isBefore(u)?1:-1);for(const{position:l,marker:u,type:p}of a){const g=e.createElement("$marker",{"data-name":u.name,"data-type":p});r[u.name]||(r[u.name]=[]),r[u.name].push(g),e.insert(g,l)}return r}_removeFakeMarkersInsideElement(e,o){const r=this._getAllFakeMarkersFromElement(e,o).reduce((a,l)=>{const u=l.markerElement&&e.createPositionBefore(l.markerElement);let p=a[l.name],g=!1;p&&p.start&&p.end&&(this._getMarkerClipboardConfig(l.name).duplicateOnPaste?a[this._getUniqueMarkerName(l.name)]=a[l.name]:g=!0,p=null);var k,w;return g||(a[l.name]=(k=((A,E)=>{for(var T in E||(E={}))B8.call(E,T)&&LE(A,T,E[T]);if(OE)for(var T of OE(E))N8.call(E,T)&&LE(A,T,E[T]);return A})({},p),w={[l.type]:u},P8(k,R8(w)))),l.markerElement&&e.remove(l.markerElement),a},{});return D8(r,a=>new ne(a.start||e.createPositionFromPath(o,[0]),a.end||e.createPositionAt(o,"end")))}_getAllFakeMarkersFromElement(e,o){const r=Array.from(e.createRangeIn(o)).flatMap(({item:u})=>{if(!u.is("element","$marker"))return[];const p=u.getAttribute("data-name"),g=u.getAttribute("data-type");return[{markerElement:u,name:p,type:g}]}),a=[],l=[];for(const u of r)u.type==="end"&&(r.some(p=>p.name===u.name&&p.type==="start")||a.push({markerElement:null,name:u.name,type:"start"})),u.type==="start"&&(r.some(p=>p.name===u.name&&p.type==="end")||l.unshift({markerElement:null,name:u.name,type:"end"}));return[...a,...r,...l]}_getUniqueMarkerName(e){const o=e.split(":"),r=L().substring(1,6);return o.length===3?`${o.slice(0,2).join(":")}:${r}`:`${o.join(":")}:${r}`}}class Fo extends ue{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[Pl]}init(){this.editor.editing.view.addObserver(Ml),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,o,r){const a=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:r==="cut"},()=>{const l=a._copySelectedFragmentWithMarkers(r,o);this.fire("outputTransformation",{dataTransfer:e,content:l,method:r})})}_setupPasteDrop(){const e=this.editor,o=e.model,r=e.editing.view,a=r.document,l=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(a,"clipboardInput",(u,p)=>{p.method!="paste"||e.model.canEditAt(e.model.document.selection)||u.stop()},{priority:"highest"}),this.listenTo(a,"clipboardInput",(u,p)=>{const g=p.dataTransfer;let k;if(p.content)k=p.content;else{let E="";g.getData("text/html")?E=function(T){return T.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(D,B)=>B.length==1?" ":B).replace(/<!--[\s\S]*?-->/g,"")}(g.getData("text/html")):g.getData("text/plain")&&(((w=(w=g.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||w.includes("<br>"))&&(w=`<p>${w}</p>`),E=w),k=this.editor.data.htmlProcessor.toView(E)}var w;const A=new N(this,"inputTransformation");this.fire(A,{content:k,dataTransfer:g,targetRanges:p.targetRanges,method:p.method}),A.stop.called&&u.stop(),r.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(u,p)=>{if(p.content.isEmpty)return;const g=this.editor.data.toModel(p.content,"$clipboardHolder");g.childCount!=0&&(u.stop(),o.change(()=>{this.fire("contentInsertion",{content:g,method:p.method,dataTransfer:p.dataTransfer,targetRanges:p.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(u,p)=>{p.resultRange=l._pasteFragmentWithMarkers(p.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,o=e.model.document,r=e.editing.view.document,a=(l,u)=>{const p=u.dataTransfer;u.preventDefault(),this._fireOutputTransformationEvent(p,o.selection,l.name)};this.listenTo(r,"copy",a,{priority:"low"}),this.listenTo(r,"cut",(l,u)=>{e.model.canEditAt(e.model.document.selection)?a(l,u):u.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(l,u)=>{const p=e.data.toView(u.content);r.fire("clipboardOutput",{dataTransfer:u.dataTransfer,content:p,method:u.method})},{priority:"low"}),this.listenTo(r,"clipboardOutput",(l,u)=>{u.content.isEmpty||(u.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(u.content)),u.dataTransfer.setData("text/plain",RE(u.content))),u.method=="cut"&&e.model.deleteContent(o.selection)},{priority:"low"})}}class jE{constructor(e,o=20){this._batch=null,this.model=e,this._size=0,this.limit=o,this._isLocked=!1,this._changeCallback=(r,a)=>{a.isLocal&&a.isUndoable&&a!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class O8 extends at{constructor(e,o){super(e),this._buffer=new jE(e.model,o),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const o=this.editor.model,r=o.document,a=e.text||"",l=a.length;let u=r.selection;if(e.selection?u=e.selection:e.range&&(u=o.createSelection(e.range)),!o.canEditAt(u))return;const p=e.resultRange;o.enqueueChange(this._buffer.batch,g=>{this._buffer.lock();const k=Array.from(r.selection.getAttributes());o.deleteContent(u),a&&o.insertContent(g.createText(a,k),u),p?g.setSelection(p):u.is("documentSelection")||g.setSelection(u),this._buffer.unlock(),this._buffer.input(l)})}}const zE=["insertText","insertReplacementText"];class L8 extends Ci{constructor(e){super(e),this.focusObserver=e.getObserver(xh),C.isAndroid&&zE.push("insertCompositionText");const o=e.document;o.on("beforeinput",(r,a)=>{if(!this.isEnabled)return;const{data:l,targetRanges:u,inputType:p,domEvent:g}=a;if(!zE.includes(p))return;this.focusObserver.flush();const k=new N(o,"insertText");o.fire(k,new xa(e,g,{text:l,selection:e.createSelection(u)})),k.stop.called&&r.stop()}),o.on("compositionend",(r,{data:a,domEvent:l})=>{this.isEnabled&&!C.isAndroid&&a&&o.fire("insertText",new xa(e,l,{text:a,selection:o.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class FE extends ue{static get pluginName(){return"Input"}init(){const e=this.editor,o=e.model,r=e.editing.view,a=o.document.selection;r.addObserver(L8);const l=new O8(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",l),e.commands.add("input",l),this.listenTo(r.document,"insertText",(u,p)=>{r.document.isComposing||p.preventDefault();const{text:g,selection:k,resultRange:w}=p,A=Array.from(k.getRanges()).map(D=>e.editing.mapper.toModelRange(D));let E=g;if(C.isAndroid){const D=Array.from(A[0].getItems()).reduce((B,z)=>B+(z.is("$textProxy")?z.data:""),"");D&&(D.length<=E.length?E.startsWith(D)&&(E=E.substring(D.length),A[0].start=A[0].start.getShiftedBy(D.length)):D.startsWith(E)&&(A[0].start=A[0].start.getShiftedBy(E.length),E=""))}const T={text:E,selection:o.createSelection(A)};w&&(T.resultRange=e.editing.mapper.toModelRange(w)),e.execute("insertText",T),r.scrollToTheSelection()}),C.isAndroid?this.listenTo(r.document,"keydown",(u,p)=>{!a.isCollapsed&&p.keyCode==229&&r.document.isComposing&&VE(o,l)}):this.listenTo(r.document,"compositionstart",()=>{a.isCollapsed||VE(o,l)})}}function VE(s,e){if(!e.isEnabled)return;const o=e.buffer;o.lock(),s.enqueueChange(o.batch,()=>{s.deleteContent(s.document.selection)}),o.unlock()}class $E extends at{constructor(e,o){super(e),this.direction=o,this._buffer=new jE(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const o=this.editor.model,r=o.document;o.enqueueChange(this._buffer.batch,a=>{this._buffer.lock();const l=a.createSelection(e.selection||r.selection);if(!o.canEditAt(l))return;const u=e.sequence||1,p=l.isCollapsed;if(l.isCollapsed&&o.modifySelection(l,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(u))return void this._replaceEntireContentWithParagraph(a);if(this._shouldReplaceFirstBlockWithParagraph(l,u))return void this.editor.execute("paragraph",{selection:l});if(l.isCollapsed)return;let g=0;l.getFirstRange().getMinimalFlatRanges().forEach(k=>{g+=Ze(k.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),o.deleteContent(l,{doNotResetEntireContent:p,direction:this.direction}),this._buffer.input(g),a.setSelection(l),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const o=this.editor.model,r=o.document.selection,a=o.schema.getLimitElement(r);if(!(r.isCollapsed&&r.containsEntireContent(a))||!o.schema.checkChild(a,"paragraph"))return!1;const l=a.getChild(0);return!l||!l.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const o=this.editor.model,r=o.document.selection,a=o.schema.getLimitElement(r),l=e.createElement("paragraph");e.remove(e.createRangeIn(a)),e.insert(l,a),e.setSelection(l,0)}_shouldReplaceFirstBlockWithParagraph(e,o){const r=this.editor.model;if(o>1||this.direction!="backward"||!e.isCollapsed)return!1;const a=e.getFirstPosition(),l=r.schema.getLimitElement(a),u=l.getChild(0);return a.parent==u&&!!e.containsEntireContent(u)&&!!r.schema.checkChild(l,"paragraph")&&u.name!="paragraph"}}const UE="word",Tr="selection",Ba="backward",Rl="forward",HE={deleteContent:{unit:Tr,direction:Ba},deleteContentBackward:{unit:"codePoint",direction:Ba},deleteWordBackward:{unit:UE,direction:Ba},deleteHardLineBackward:{unit:Tr,direction:Ba},deleteSoftLineBackward:{unit:Tr,direction:Ba},deleteContentForward:{unit:"character",direction:Rl},deleteWordForward:{unit:UE,direction:Rl},deleteHardLineForward:{unit:Tr,direction:Rl},deleteSoftLineForward:{unit:Tr,direction:Rl}};class j8 extends Ci{constructor(e){super(e);const o=e.document;let r=0;o.on("keydown",()=>{r++}),o.on("keyup",()=>{r=0}),o.on("beforeinput",(a,l)=>{if(!this.isEnabled)return;const{targetRanges:u,domEvent:p,inputType:g}=l,k=HE[g];if(!k)return;const w={direction:k.direction,unit:k.unit,sequence:r};w.unit==Tr&&(w.selectionToRemove=e.createSelection(u[0])),g==="deleteContentBackward"&&(C.isAndroid&&(w.sequence=1),function(E){if(E.length!=1||E[0].isCollapsed)return!1;const T=E[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let D=0;for(const{nextPosition:B,item:z}of T){if(B.parent.is("$text")){const $=B.parent.data,q=B.offset;if(nb($,q)||ob($,q)||EA($,q))continue;D++}else(z.is("containerElement")||z.is("emptyElement"))&&D++;if(D>1)return!0}return!1}(u)&&(w.unit=Tr,w.selectionToRemove=e.createSelection(u)));const A=new Ca(o,"delete",u[0]);o.fire(A,new xa(e,p,w)),A.stop.called&&a.stop()}),C.isBlink&&function(a){const l=a.view,u=l.document;let p=null,g=!1;function k(A){return A==pt.backspace||A==pt.delete}function w(A){return A==pt.backspace?Ba:Rl}u.on("keydown",(A,{keyCode:E})=>{p=E,g=!1}),u.on("keyup",(A,{keyCode:E,domEvent:T})=>{const D=u.selection,B=a.isEnabled&&E==p&&k(E)&&!D.isCollapsed&&!g;if(p=null,B){const z=D.getFirstRange(),$=new Ca(u,"delete",z),q={unit:Tr,direction:w(E),selectionToRemove:D};u.fire($,new xa(l,T,q))}}),u.on("beforeinput",(A,{inputType:E})=>{const T=HE[E];k(p)&&T&&T.direction==w(p)&&(g=!0)},{priority:"high"}),u.on("beforeinput",(A,{inputType:E,data:T})=>{p==pt.delete&&E=="insertText"&&T==""&&A.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class er extends ue{static get pluginName(){return"Delete"}init(){const e=this.editor,o=e.editing.view,r=o.document,a=e.model.document;o.addObserver(j8),this._undoOnBackspace=!1;const l=new $E(e,"forward");e.commands.add("deleteForward",l),e.commands.add("forwardDelete",l),e.commands.add("delete",new $E(e,"backward")),this.listenTo(r,"delete",(u,p)=>{r.isComposing||p.preventDefault();const{direction:g,sequence:k,selectionToRemove:w,unit:A}=p,E=g==="forward"?"deleteForward":"delete",T={sequence:k};if(A=="selection"){const D=Array.from(w.getRanges()).map(B=>e.editing.mapper.toModelRange(B));T.selection=e.model.createSelection(D)}else T.unit=A;e.execute(E,T),o.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(r,"delete",(u,p)=>{this._undoOnBackspace&&p.direction=="backward"&&p.sequence==1&&p.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),p.preventDefault(),u.stop())},{context:"$capture"}),this.listenTo(a,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class z8 extends ue{static get requires(){return[FE,er]}static get pluginName(){return"Typing"}}function WE(s,e){let o=s.start;return{text:Array.from(s.getWalker({ignoreElementEnd:!1})).reduce((r,{item:a})=>a.is("$text")||a.is("$textProxy")?r+a.data:(o=e.createPositionAfter(a),""),""),range:e.createRange(o,s.end)}}class qE extends Y(){constructor(e,o){super(),this.model=e,this.testCallback=o,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(o,{directChange:r})=>{r&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(o,r)=>{!r.isUndo&&r.isLocal&&this._evaluateTextBeforeSelection("data",{batch:r})})}_evaluateTextBeforeSelection(e,o={}){const r=this.model,a=r.document.selection,l=r.createRange(r.createPositionAt(a.focus.parent,0),a.focus),{text:u,range:p}=WE(l,r),g=this.testCallback(u);if(!g&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!g,g){const k=Object.assign(o,{text:u,range:p});typeof g=="object"&&Object.assign(k,g),this.fire(`matched:${e}`,k)}}}class GE extends ue{constructor(e){super(e),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const e=this.editor,o=e.model,r=e.editing.view,a=e.locale,l=o.document.selection;this.listenTo(r.document,"arrowKey",(u,p)=>{if(!l.isCollapsed||p.shiftKey||p.altKey||p.ctrlKey)return;const g=p.keyCode==pt.arrowright,k=p.keyCode==pt.arrowleft;if(!g&&!k)return;const w=a.contentLanguageDirection;let A=!1;A=w==="ltr"&&g||w==="rtl"&&k?this._handleForwardMovement(p):this._handleBackwardMovement(p),A===!0&&u.stop()},{context:"$text",priority:"highest"}),this.listenTo(l,"change:range",(u,p)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!p.directChange&&Vo(l.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const o=this.attributes,r=this.editor.model,a=r.document.selection,l=a.getFirstPosition();return!this._isGravityOverridden&&(!l.isAtStart||!tr(a,o))&&!!Vo(l,o)&&(Nl(e),tr(a,o)&&Vo(l,o,!0)?Bl(r,o):this._overrideGravity(),!0)}_handleBackwardMovement(e){const o=this.attributes,r=this.editor.model,a=r.document.selection,l=a.getFirstPosition();return this._isGravityOverridden?(Nl(e),this._restoreGravity(),Vo(l,o,!0)?Bl(r,o):qh(r,o,l),!0):l.isAtStart?!!tr(a,o)&&(Nl(e),qh(r,o,l),!0):!tr(a,o)&&Vo(l,o,!0)?(Nl(e),qh(r,o,l),!0):!!KE(l,o)&&(l.isAtEnd&&!tr(a,o)&&Vo(l,o)?(Nl(e),qh(r,o,l),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const e=this.editor,o=e.model,r=o.document.selection,a=e.editing.view.document;e.editing.view.addObserver(zb);let l=!1;this.listenTo(a,"mousedown",()=>{l=!0}),this.listenTo(a,"selectionChange",()=>{const u=this.attributes;if(!l||(l=!1,!r.isCollapsed)||!tr(r,u))return;const p=r.getFirstPosition();Vo(p,u)&&(p.isAtStart||Vo(p,u,!0)?Bl(o,u):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,o=e.document.selection,r=this.attributes;this.listenTo(e,"insertContent",()=>{const a=o.getFirstPosition();tr(o,r)&&Vo(a,r)&&Bl(e,r)},{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,o=e.model,r=o.document.selection,a=e.editing.view;let l=!1,u=!1;this.listenTo(a.document,"delete",(p,g)=>{l=g.direction==="backward"},{priority:"high"}),this.listenTo(o,"deleteContent",()=>{if(!l)return;const p=r.getFirstPosition();u=tr(r,this.attributes)&&!KE(p,this.attributes)},{priority:"high"}),this.listenTo(o,"deleteContent",()=>{l&&(l=!1,u||e.model.enqueueChange(()=>{const p=r.getFirstPosition();tr(r,this.attributes)&&Vo(p,this.attributes)&&(p.isAtStart||Vo(p,this.attributes,!0)?Bl(o,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function tr(s,e){for(const o of e)if(s.hasAttribute(o))return!0;return!1}function qh(s,e,o){const r=o.nodeBefore;s.change(a=>{if(r){const l=[],u=s.schema.isObject(r)&&s.schema.isInline(r);for(const[p,g]of r.getAttributes())!s.schema.checkAttribute("$text",p)||u&&s.schema.getAttributeProperties(p).copyFromObject===!1||l.push([p,g]);a.setSelectionAttribute(l)}else a.removeSelectionAttribute(e)})}function Bl(s,e){s.change(o=>{o.removeSelectionAttribute(e)})}function Nl(s){s.preventDefault()}function KE(s,e){return Vo(s.getShiftedBy(-1),e)}function Vo(s,e,o=!1){const{nodeBefore:r,nodeAfter:a}=s;for(const l of e){const u=r?r.getAttribute(l):void 0,p=a?a.getAttribute(l):void 0;if((!o||u!==void 0&&p!==void 0)&&p!==u)return!0}return!1}const YE={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:Na('"'),to:[null,"",null,""]},quotesSecondary:{from:Na("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:Na("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:Na('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:Na('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:Na("'"),to:[null,"",null,""]}},QE={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},F8=["symbols","mathematical","typography","quotes"];function V8(s){return typeof s=="string"?new RegExp(`(${Jx(s)})$`):s}function $8(s){return typeof s=="string"?()=>[s]:s instanceof Array?()=>s:s}function U8(s){return(s.textNode?s.textNode:s.nodeAfter).getAttributes()}function Na(s){return new RegExp(`(^|\\s)(${s})([^${s}]*)(${s})$`)}function Gh(s,e,o,r){return r.createRange(ZE(s,e,o,!0,r),ZE(s,e,o,!1,r))}function ZE(s,e,o,r,a){let l=s.textNode||(r?s.nodeBefore:s.nodeAfter),u=null;for(;l&&l.getAttribute(e)==o;)u=l,l=r?l.previousSibling:l.nextSibling;return u?a.createPositionAt(u,r?"before":"after"):s}function*JE(s,e){for(const o of e)o&&s.getAttributeProperties(o[0]).copyOnEnter&&(yield o)}class H8 extends at{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const o=this.editor.model,r=o.document.selection,a=o.schema,l=r.isCollapsed,u=r.getFirstRange(),p=u.start.parent,g=u.end.parent;if(a.isLimit(p)||a.isLimit(g))return l||p!=g||o.deleteContent(r),!1;if(l){const k=JE(e.model.schema,r.getAttributes());return XE(e,u.start),e.setSelectionAttribute(k),!0}{const k=!(u.start.isAtStart&&u.end.isAtEnd),w=p==g;if(o.deleteContent(r,{leaveUnmerged:k}),k){if(w)return XE(e,r.focus),!0;e.setSelection(g,0)}}return!1}}function XE(s,e){s.split(e),s.setSelection(e.parent.nextSibling,0)}const W8={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class e2 extends Ci{constructor(e){super(e);const o=this.document;let r=!1;o.on("keydown",(a,l)=>{r=l.shiftKey}),o.on("beforeinput",(a,l)=>{if(!this.isEnabled)return;let u=l.inputType;C.isSafari&&r&&u=="insertParagraph"&&(u="insertLineBreak");const p=l.domEvent,g=W8[u];if(!g)return;const k=new Ca(o,"enter",l.targetRanges[0]);o.fire(k,new xa(e,p,{isSoft:g.isSoft})),k.stop.called&&a.stop()})}observe(){}stopObserving(){}}class Kh extends ue{static get pluginName(){return"Enter"}init(){const e=this.editor,o=e.editing.view,r=o.document,a=this.editor.t;o.addObserver(e2),e.commands.add("enter",new H8(e)),this.listenTo(r,"enter",(l,u)=>{r.isComposing||u.preventDefault(),u.isSoft||(e.execute("enter"),o.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:a("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class q8 extends at{execute(){const e=this.editor.model,o=e.document;e.change(r=>{(function(a,l,u){const p=u.isCollapsed,g=u.getFirstRange(),k=g.start.parent,w=g.end.parent,A=k==w;if(p){const E=JE(a.schema,u.getAttributes());t2(a,l,g.end),l.removeSelectionAttribute(u.getAttributeKeys()),l.setSelectionAttribute(E)}else{const E=!(g.start.isAtStart&&g.end.isAtEnd);a.deleteContent(u,{leaveUnmerged:E}),A?t2(a,l,u.focus):E&&l.setSelection(w,0)}})(e,r,o.selection),this.fire("afterExecute",{writer:r})})}refresh(){const e=this.editor.model,o=e.document;this.isEnabled=function(r,a){if(a.rangeCount>1)return!1;const l=a.anchor;if(!l||!r.checkChild(l,"softBreak"))return!1;const u=a.getFirstRange(),p=u.start.parent,g=u.end.parent;return!((sk(p,r)||sk(g,r))&&p!==g)}(e.schema,o.selection)}}function t2(s,e,o){const r=e.createElement("softBreak");s.insertContent(r,o),e.setSelection(r,"after")}function sk(s,e){return!s.is("rootElement")&&(e.isLimit(s)||sk(s.parent,e))}class G8 extends ue{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,o=e.model.schema,r=e.conversion,a=e.editing.view,l=a.document,u=this.editor.t;o.register("softBreak",{allowWhere:"$text",isInline:!0}),r.for("upcast").elementToElement({model:"softBreak",view:"br"}),r.for("downcast").elementToElement({model:"softBreak",view:(p,{writer:g})=>g.createEmptyElement("br")}),a.addObserver(e2),e.commands.add("shiftEnter",new q8(e)),this.listenTo(l,"enter",(p,g)=>{l.isComposing||g.preventDefault(),g.isSoft&&(e.execute("shiftEnter"),a.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:u("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class K8 extends K(){constructor(){super(...arguments),this._stack=[]}add(e,o){const r=this._stack,a=r[0];this._insertDescriptor(e);const l=r[0];a===l||ak(a,l)||this.fire("change:top",{oldDescriptor:a,newDescriptor:l,writer:o})}remove(e,o){const r=this._stack,a=r[0];this._removeDescriptor(e);const l=r[0];a===l||ak(a,l)||this.fire("change:top",{oldDescriptor:a,newDescriptor:l,writer:o})}_insertDescriptor(e){const o=this._stack,r=o.findIndex(l=>l.id===e.id);if(ak(e,o[r]))return;r>-1&&o.splice(r,1);let a=0;for(;o[a]&&Y8(o[a],e);)a++;o.splice(a,0,e)}_removeDescriptor(e){const o=this._stack,r=o.findIndex(a=>a.id===e);r>-1&&o.splice(r,1)}}function ak(s,e){return s&&e&&s.priority==e.priority&&Yh(s.classes)==Yh(e.classes)}function Y8(s,e){return s.priority>e.priority||!(s.priority<e.priority)&&Yh(s.classes)>Yh(e.classes)}function Yh(s){return Array.isArray(s)?s.sort().join(","):s}const Q8='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',Z8="ck-widget",n2="ck-widget_selected";function fn(s){return!!s.is("element")&&!!s.getCustomProperty("widget")}function ck(s,e,o={}){if(!s.is("containerElement"))throw new P("widget-to-widget-wrong-element-type",null,{element:s});return e.setAttribute("contenteditable","false",s),e.addClass(Z8,s),e.setCustomProperty("widget",!0,s),s.getFillerOffset=eV,e.setCustomProperty("widgetLabel",[],s),o.label&&function(r,a){r.getCustomProperty("widgetLabel").push(a)}(s,o.label),o.hasSelectionHandle&&function(r,a){const l=a.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(u){const p=this.toDomElement(u),g=new Zi;return g.set("content",Q8),g.render(),p.appendChild(g.element),p});a.insert(a.createPositionAt(r,0),l),a.addClass(["ck-widget_with-selection-handle"],r)}(s,e),o2(s,e),s}function J8(s,e,o){if(e.classes&&o.addClass(Ft(e.classes),s),e.attributes)for(const r in e.attributes)o.setAttribute(r,e.attributes[r],s)}function X8(s,e,o){if(e.classes&&o.removeClass(Ft(e.classes),s),e.attributes)for(const r in e.attributes)o.removeAttribute(r,s)}function o2(s,e,o=J8,r=X8){const a=new K8;a.on("change:top",(l,u)=>{u.oldDescriptor&&r(s,u.oldDescriptor,u.writer),u.newDescriptor&&o(s,u.newDescriptor,u.writer)}),e.setCustomProperty("addHighlight",(l,u,p)=>a.add(u,p),s),e.setCustomProperty("removeHighlight",(l,u,p)=>a.remove(u,p),s)}function i2(s,e,o={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],s),e.setAttribute("role","textbox",s),e.setAttribute("tabindex","-1",s),o.label&&e.setAttribute("aria-label",o.label,s),e.setAttribute("contenteditable",s.isReadOnly?"false":"true",s),s.on("change:isReadOnly",(r,a,l)=>{e.setAttribute("contenteditable",l?"false":"true",s)}),s.on("change:isFocused",(r,a,l)=>{l?e.addClass("ck-editor__nested-editable_focused",s):e.removeClass("ck-editor__nested-editable_focused",s)}),o2(s,e),s}function r2(s,e){const o=s.getSelectedElement();if(o){const r=Ir(s);if(r)return e.createRange(e.createPositionAt(o,r))}return e.schema.findOptimalInsertionRange(s)}function eV(){return null}const nr="widget-type-around";function Cs(s,e,o){return!!s&&fn(s)&&!o.isInline(e)}function Ir(s){return s.getAttribute(nr)}var s2=d(8508),tV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(s2.A,tV),s2.A.locals;const a2=["before","after"],nV=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,c2="ck-widget__type-around_disabled";class oV extends ue{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Kh,er]}init(){const e=this.editor,o=e.editing.view;this.on("change:isEnabled",(r,a,l)=>{o.change(u=>{for(const p of o.document.roots)l?u.removeClass(c2,p):u.addClass(c2,p)}),l||e.model.change(u=>{u.removeSelectionAttribute(nr)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,o){const r=this.editor,a=r.editing.view,l=r.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);r.execute("insertParagraph",{position:r.model.createPositionAt(e,o),attributes:l}),a.focus(),a.scrollToTheSelection()}_listenToIfEnabled(e,o,r,a){this.listenTo(e,o,(...l)=>{this.isEnabled&&r(...l)},a)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,o=Ir(e);if(!o)return!1;const r=e.getSelectedElement();return this._insertParagraph(r,o),!0}_enableTypeAroundUIInjection(){const e=this.editor,o=e.model.schema,r=e.locale.t,a={before:r("Insert paragraph before block"),after:r("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(l,u,p)=>{const g=p.mapper.toViewElement(u.item);g&&Cs(g,u.item,o)&&(function(k,w,A){const E=k.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(T){const D=this.toDomElement(T);return function(B,z){for(const $ of a2){const q=new ai({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${$}`],title:z[$],"aria-hidden":"true"},children:[B.ownerDocument.importNode(nV,!0)]});B.appendChild(q.render())}}(D,w),function(B){const z=new ai({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});B.appendChild(z.render())}(D),D});k.insert(k.createPositionAt(A,"end"),E)}(p.writer,a,g),g.getCustomProperty("widgetLabel").push(()=>this.isEnabled?r("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,o=e.model,r=o.document.selection,a=o.schema,l=e.editing.view;function u(p){return`ck-widget_type-around_show-fake-caret_${p}`}this._listenToIfEnabled(l.document,"arrowKey",(p,g)=>{this._handleArrowKeyPress(p,g)},{context:[fn,"$text"],priority:"high"}),this._listenToIfEnabled(r,"change:range",(p,g)=>{g.directChange&&e.model.change(k=>{k.removeSelectionAttribute(nr)})}),this._listenToIfEnabled(o.document,"change:data",()=>{const p=r.getSelectedElement();p&&Cs(e.editing.mapper.toViewElement(p),p,a)||e.model.change(g=>{g.removeSelectionAttribute(nr)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(p,g,k)=>{const w=k.writer;if(this._currentFakeCaretModelElement){const D=k.mapper.toViewElement(this._currentFakeCaretModelElement);D&&(w.removeClass(a2.map(u),D),this._currentFakeCaretModelElement=null)}const A=g.selection.getSelectedElement();if(!A)return;const E=k.mapper.toViewElement(A);if(!Cs(E,A,a))return;const T=Ir(g.selection);T&&(w.addClass(u(T),E),this._currentFakeCaretModelElement=A)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(p,g,k)=>{k||e.model.change(w=>{w.removeSelectionAttribute(nr)})})}_handleArrowKeyPress(e,o){const r=this.editor,a=r.model,l=a.document.selection,u=a.schema,p=r.editing.view,g=function(A,E){const T=Jm(A,E);return T==="down"||T==="right"}(o.keyCode,r.locale.contentLanguageDirection),k=p.document.selection.getSelectedElement();let w;Cs(k,r.editing.mapper.toModelElement(k),u)?w=this._handleArrowKeyPressOnSelectedWidget(g):l.isCollapsed?w=this._handleArrowKeyPressWhenSelectionNextToAWidget(g):o.shiftKey||(w=this._handleArrowKeyPressWhenNonCollapsedSelection(g)),w&&(o.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const o=this.editor.model,r=Ir(o.document.selection);return o.change(a=>r?r!==(e?"after":"before")?(a.removeSelectionAttribute(nr),!0):!1:(a.setSelectionAttribute(nr,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const o=this.editor,r=o.model,a=r.schema,l=o.plugins.get("Widget"),u=l._getObjectElementNextToSelection(e);return!!Cs(o.editing.mapper.toViewElement(u),u,a)&&(r.change(p=>{l._setSelectionOverElement(u),p.setSelectionAttribute(nr,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const o=this.editor,r=o.model,a=r.schema,l=o.editing.mapper,u=r.document.selection,p=e?u.getLastPosition().nodeBefore:u.getFirstPosition().nodeAfter;return!!Cs(l.toViewElement(p),p,a)&&(r.change(g=>{g.setSelection(p,"on"),g.setSelectionAttribute(nr,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,o=e.editing.view;this._listenToIfEnabled(o.document,"mousedown",(r,a)=>{const l=a.domTarget.closest(".ck-widget__type-around__button");if(!l)return;const u=function(k){return k.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(l),p=function(k,w){const A=k.closest(".ck-widget");return w.mapDomToView(A)}(l,o.domConverter),g=e.editing.mapper.toModelElement(p);this._insertParagraph(g,u),a.preventDefault(),r.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,o=e.model.document.selection,r=e.editing.view;this._listenToIfEnabled(r.document,"enter",(a,l)=>{if(a.eventPhase!="atTarget")return;const u=o.getSelectedElement(),p=e.editing.mapper.toViewElement(u),g=e.model.schema;let k;this._insertParagraphAccordingToFakeCaretPosition()?k=!0:Cs(p,u,g)&&(this._insertParagraph(u,l.isSoft?"before":"after"),k=!0),k&&(l.preventDefault(),a.stop())},{context:fn})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(o,r)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(r.selection=e.selection)},{priority:"high"}),C.isAndroid?this._listenToIfEnabled(e,"keydown",(o,r)=>{r.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,o=e.editing.view,r=e.model,a=r.schema;this._listenToIfEnabled(o.document,"delete",(l,u)=>{if(l.eventPhase!="atTarget")return;const p=Ir(r.document.selection);if(!p)return;const g=u.direction,k=r.document.selection.getSelectedElement(),w=g=="forward";if(p==="before"===w)e.execute("delete",{selection:r.createSelection(k,"on")});else{const A=a.getNearestSelectionRange(r.createPositionAt(k,p),g);if(A)if(A.isCollapsed){const E=r.createSelection(A.start);if(r.modifySelection(E,{direction:g}),E.focus.isEqual(A.start)){const T=function(D,B){let z=B;for(const $ of B.getAncestors({parentFirst:!0})){if($.childCount>1||D.isLimit($))break;z=$}return z}(a,A.start.parent);r.deleteContent(r.createSelection(T,"on"),{doNotAutoparagraph:!0})}else r.change(T=>{T.setSelection(A),e.execute(w?"deleteForward":"delete")})}else r.change(E=>{E.setSelection(A),e.execute(w?"deleteForward":"delete")})}u.preventDefault(),l.stop()},{context:fn})}_enableInsertContentIntegration(){const e=this.editor,o=this.editor.model,r=o.document.selection;this._listenToIfEnabled(e.model,"insertContent",(a,[l,u])=>{if(u&&!u.is("documentSelection"))return;const p=Ir(r);return p?(a.stop(),o.change(g=>{const k=r.getSelectedElement(),w=o.createPositionAt(k,p),A=g.createSelection(w),E=o.insertContent(l,A);return g.setSelection(A),E})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,o=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(r,a)=>{const[,l,u={}]=a;if(l&&!l.is("documentSelection"))return;const p=Ir(o);p&&(u.findOptimalPosition=p,a[3]=u)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,o=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(r,[a])=>{a&&!a.is("documentSelection")||Ir(o)&&r.stop()},{priority:"high"})}}function iV(s){const e=s.model;return(o,r)=>{const a=r.keyCode==pt.arrowup,l=r.keyCode==pt.arrowdown,u=r.shiftKey,p=e.document.selection;if(!a&&!l)return;const g=l;if(u&&function(w,A){return!w.isCollapsed&&w.isBackward==A}(p,g))return;const k=function(w,A,E){const T=w.model;if(E){const D=A.isCollapsed?A.focus:A.getLastPosition(),B=l2(T,D,"forward");if(!B)return null;const z=T.createRange(D,B),$=d2(T.schema,z,"backward");return $?T.createRange(D,$):null}{const D=A.isCollapsed?A.focus:A.getFirstPosition(),B=l2(T,D,"backward");if(!B)return null;const z=T.createRange(B,D),$=d2(T.schema,z,"forward");return $?T.createRange($,D):null}}(s,p,g);if(k){if(k.isCollapsed&&(p.isCollapsed||u))return;(k.isCollapsed||function(w,A,E){const T=w.model,D=w.view.domConverter;if(E){const Z=T.createSelection(A.start);T.modifySelection(Z),Z.focus.isAtEnd||A.start.isEqual(Z.focus)||(A=T.createRange(Z.focus,A.end))}const B=w.mapper.toViewRange(A),z=D.viewRangeToDom(B),$=dt.getDomRangeRects(z);let q;for(const Z of $)if(q!==void 0){if(Math.round(Z.top)>=q)return!1;q=Math.max(q,Math.round(Z.bottom))}else q=Math.round(Z.bottom);return!0}(s,k,g))&&(e.change(w=>{const A=g?k.end:k.start;if(u){const E=e.createSelection(p.anchor);E.setFocus(A),w.setSelection(E)}else w.setSelection(A)}),o.stop(),r.preventDefault(),r.stopPropagation())}}}function l2(s,e,o){const r=s.schema,a=s.createRangeIn(e.root),l=o=="forward"?"elementStart":"elementEnd";for(const{previousPosition:u,item:p,type:g}of a.getWalker({startPosition:e,direction:o})){if(r.isLimit(p)&&!r.isInline(p))return u;if(g==l&&r.isBlock(p))return null}return null}function d2(s,e,o){const r=o=="backward"?e.end:e.start;if(s.checkChild(r,"$text"))return r;for(const{nextPosition:a}of e.getWalker({direction:o}))if(s.checkChild(a,"$text"))return a;return null}var u2=d(695),rV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(u2.A,rV),u2.A.locals;class Ol extends ue{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[oV,er]}init(){const e=this.editor,o=e.editing.view,r=o.document,a=e.t;this.editor.editing.downcastDispatcher.on("selection",(l,u,p)=>{const g=p.writer,k=u.selection;if(k.isCollapsed)return;const w=k.getSelectedElement();if(!w)return;const A=e.editing.mapper.toViewElement(w);var E;fn(A)&&p.consumable.consume(k,"selection")&&g.setSelection(g.createRangeOn(A),{fake:!0,label:(E=A,E.getCustomProperty("widgetLabel").reduce((T,D)=>typeof D=="function"?T?T+". "+D():D():T?T+". "+D:D,""))})}),this.editor.editing.downcastDispatcher.on("selection",(l,u,p)=>{this._clearPreviouslySelectedWidgets(p.writer);const g=p.writer,k=g.document.selection;let w=null;for(const A of k.getRanges())for(const E of A){const T=E.item;fn(T)&&!sV(T,w)&&(g.addClass(n2,T),this._previouslySelected.add(T),w=T)}},{priority:"low"}),o.addObserver(zb),this.listenTo(r,"mousedown",(...l)=>this._onMousedown(...l)),this.listenTo(r,"arrowKey",(...l)=>{this._handleSelectionChangeOnArrowKeyPress(...l)},{context:[fn,"$text"]}),this.listenTo(r,"arrowKey",(...l)=>{this._preventDefaultOnArrowKeyPress(...l)},{context:"$root"}),this.listenTo(r,"arrowKey",iV(this.editor.editing),{context:"$text"}),this.listenTo(r,"delete",(l,u)=>{this._handleDelete(u.direction=="forward")&&(u.preventDefault(),l.stop())},{context:"$root"}),this.listenTo(r,"tab",(l,u)=>{l.eventPhase=="atTarget"&&(u.shiftKey||this._selectFirstNestedEditable()&&(u.preventDefault(),l.stop()))},{context:fn,priority:"low"}),this.listenTo(r,"tab",(l,u)=>{u.shiftKey&&this._selectAncestorWidget()&&(u.preventDefault(),l.stop())},{priority:"low"}),this.listenTo(r,"keydown",(l,u)=>{u.keystroke==pt.esc&&this._selectAncestorWidget()&&(u.preventDefault(),l.stop())},{priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:a("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:a("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:a("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:a("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:a("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,o){const r=this.editor,a=r.editing.view,l=a.document;let u=o.target;if(o.domEvent.detail>=3)return void(this._selectBlockContent(u)&&o.preventDefault());if(function(g){let k=g;for(;k;){if(k.is("editableElement")&&!k.is("rootElement"))return!0;if(fn(k))return!1;k=k.parent}return!1}(u)||!fn(u)&&(u=u.findAncestor(fn),!u))return;C.isAndroid&&o.preventDefault(),l.isFocused||a.focus();const p=r.editing.mapper.toModelElement(u);this._setSelectionOverElement(p)}_selectBlockContent(e){const o=this.editor,r=o.model,a=o.editing.mapper,l=r.schema,u=a.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),p=function(g,k){for(const w of g.getAncestors({includeSelf:!0,parentFirst:!0})){if(k.checkChild(w,"$text"))return w;if(k.isLimit(w)&&!k.isObject(w))break}return null}(a.toModelElement(u),r.schema);return!!p&&(r.change(g=>{const k=l.isLimit(p)?null:function(E,T){const D=new Gi({startPosition:E});for(const{item:B}of D){if(T.isLimit(B)||!B.is("element"))return null;if(T.checkChild(B,"$text"))return B}return null}(g.createPositionAfter(p),l),w=g.createPositionAt(p,0),A=k?g.createPositionAt(k,0):g.createPositionAt(p,"end");g.setSelection(g.createRange(w,A))}),!0)}_handleSelectionChangeOnArrowKeyPress(e,o){const r=o.keyCode,a=this.editor.model,l=a.schema,u=a.document.selection,p=u.getSelectedElement(),g=Jm(r,this.editor.locale.contentLanguageDirection),k=g=="down"||g=="right",w=g=="up"||g=="down";if(p&&l.isObject(p)){const E=k?u.getLastPosition():u.getFirstPosition(),T=l.getNearestSelectionRange(E,k?"forward":"backward");return void(T&&(a.change(D=>{D.setSelection(T)}),o.preventDefault(),e.stop()))}if(!u.isCollapsed&&!o.shiftKey){const E=u.getFirstPosition(),T=u.getLastPosition(),D=E.nodeAfter,B=T.nodeBefore;return void((D&&l.isObject(D)||B&&l.isObject(B))&&(a.change(z=>{z.setSelection(k?T:E)}),o.preventDefault(),e.stop()))}if(!u.isCollapsed)return;const A=this._getObjectElementNextToSelection(k);if(A&&l.isObject(A)){if(l.isInline(A)&&w)return;this._setSelectionOverElement(A),o.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,o){const r=this.editor.model,a=r.schema,l=r.document.selection.getSelectedElement();l&&a.isObject(l)&&(o.preventDefault(),e.stop())}_handleDelete(e){const o=this.editor.model.document.selection;if(!this.editor.model.canEditAt(o)||!o.isCollapsed)return;const r=this._getObjectElementNextToSelection(e);return r?(this.editor.model.change(a=>{let l=o.anchor.parent;for(;l.isEmpty;){const u=l;l=u.parent,a.remove(u)}this._setSelectionOverElement(r)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(o=>{o.setSelection(o.createRangeOn(e))})}_getObjectElementNextToSelection(e){const o=this.editor.model,r=o.schema,a=o.document.selection,l=o.createSelection(a);if(o.modifySelection(l,{direction:e?"forward":"backward"}),l.isEqual(a))return null;const u=e?l.focus.nodeBefore:l.focus.nodeAfter;return u&&r.isObject(u)?u:null}_clearPreviouslySelectedWidgets(e){for(const o of this._previouslySelected)e.removeClass(n2,o);this._previouslySelected.clear()}_selectFirstNestedEditable(){const e=this.editor,o=this.editor.editing.view.document;for(const r of o.selection.getFirstRange().getItems())if(r.is("editableElement")){const a=e.editing.mapper.toModelElement(r);if(!a)continue;const l=e.model.createPositionAt(a,0),u=e.model.schema.getNearestSelectionRange(l,"forward");return e.model.change(p=>{p.setSelection(u)}),!0}return!1}_selectAncestorWidget(){const e=this.editor,o=e.editing.mapper,r=e.editing.view.document.selection.getFirstPosition().parent,a=(r.is("$text")?r.parent:r).findAncestor(fn);if(!a)return!1;const l=o.toModelElement(a);return!!l&&(e.model.change(u=>{u.setSelection(l,"on")}),!0)}}function sV(s,e){return!!e&&Array.from(s.getAncestors()).includes(e)}class Qh extends ue{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[$h]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const o=e.plugins.get("BalloonToolbar");this.listenTo(o,"show",r=>{(function(a){const l=a.getSelectedElement();return!(!l||!fn(l))})(e.editing.view.document.selection)&&r.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:o,items:r,getRelatedElement:a,balloonClassName:l="ck-toolbar-container"}){if(!r.length)return void U("widget-toolbar-no-items",{toolbarId:e});const u=this.editor,p=u.t,g=new Wb(u.locale);if(g.ariaLabel=o||p("Widget toolbar"),this._toolbarDefinitions.has(e))throw new P("widget-toolbar-duplicated",this,{toolbarId:e});const k={view:g,getRelatedElement:a,balloonClassName:l,itemsConfig:r,initialized:!1};u.ui.addToolbar(g,{isContextual:!0,beforeFocus:()=>{const w=a(u.editing.view.document.selection);w&&this._showToolbar(k,w)},afterBlur:()=>{this._hideToolbar(k)}}),this._toolbarDefinitions.set(e,k)}_updateToolbarsVisibility(){let e=0,o=null,r=null;for(const a of this._toolbarDefinitions.values()){const l=a.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&l)if(this.editor.ui.focusTracker.isFocused){const u=l.getAncestors().length;u>e&&(e=u,o=l,r=a)}else this._isToolbarVisible(a)&&this._hideToolbar(a);else this._isToolbarInBalloon(a)&&this._hideToolbar(a)}r&&this._showToolbar(r,o)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,o){this._isToolbarVisible(e)?h2(this.editor,o):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:p2(this.editor,o),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const r of this._toolbarDefinitions.values())if(this._isToolbarVisible(r)){const a=r.getRelatedElement(this.editor.editing.view.document.selection);h2(this.editor,a)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function h2(s,e){const o=s.plugins.get("ContextualBalloon"),r=p2(s,e);o.updatePosition(r)}function p2(s,e){const o=s.editing.view,r=co.defaultPositions;return{target:o.domConverter.mapViewToDom(e),positions:[r.northArrowSouth,r.northArrowSouthWest,r.northArrowSouthEast,r.southArrowNorth,r.southArrowNorthWest,r.southArrowNorthEast,r.viewportStickyNorth]}}var f2=d(4095),aV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(f2.A,aV),f2.A.locals;const lk=ka("px");class cV extends Pe{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",o=>!o)],style:{left:e.to("left",o=>lk(o)),top:e.to("top",o=>lk(o)),width:e.to("width",o=>lk(o))}}})}}class Zh extends ue{constructor(){super(...arguments),this.removeDropMarkerDelayed=tb(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=Fh(e=>this._updateDropMarker(e),40),this._reconvertMarkerThrottled=Fh(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new cV,this._domEmitter=new(Oo()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,o,r,a,l,u){this.removeDropMarkerDelayed.cancel();const p=g2(this.editor,e,o,r,a,l,u);if(p)return u&&u.containsRange(p)?this.removeDropMarker():void this._updateDropMarkerThrottled(p)}getFinalDropRange(e,o,r,a,l,u){const p=g2(this.editor,e,o,r,a,l,u);return this.removeDropMarker(),p}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(o=>{o.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(o,{writer:r})=>{if(e.model.schema.checkChild(o.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(r);o.markerRange.isCollapsed?this._updateDropTargetLine(o.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const o=this.editor,r=o.model.markers;o.model.change(a=>{r.has("drop-target")?r.get("drop-target").getRange().isEqual(e)||a.updateMarker("drop-target",{range:e}):a.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(o){const r=this.toDomElement(o);return r.append("",o.createElement("span"),""),r})}_updateDropTargetLine(e){const o=this.editor.editing,r=e.start.nodeBefore,a=e.start.nodeAfter,l=e.start.parent,u=r?o.mapper.toViewElement(r):null,p=u?o.view.domConverter.mapViewToDom(u):null,g=a?o.mapper.toViewElement(a):null,k=g?o.view.domConverter.mapViewToDom(g):null,w=o.mapper.toViewElement(l);if(!w)return;const A=o.view.domConverter.mapViewToDom(w),E=this._getScrollableRect(w),{scrollX:T,scrollY:D}=b.window,B=p?new dt(p):null,z=k?new dt(k):null,$=new dt(A).excludeScrollbarsAndBorders(),q=B?B.bottom:$.top,Z=z?z.top:$.bottom,ae=b.window.getComputedStyle(A),ke=q<=Z?(q+Z)/2:Z;if(E.top<ke&&ke<E.bottom){const Oe=$.left+parseFloat(ae.paddingLeft),Je=$.right-parseFloat(ae.paddingRight),Vt=Math.max(Oe+T,E.left),xn=Math.min(Je+T,E.right);this._dropTargetLineView.set({isVisible:!0,left:Vt,top:ke+D,width:xn-Vt})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const o=e.root.rootName;let r;if(this._scrollables.has(o))r=this._scrollables.get(o).domElement;else{r=function(l){let u=l;do{u=u.parentElement;const p=b.window.getComputedStyle(u).overflowY;if(p=="auto"||p=="scroll")break}while(u.tagName!="BODY");return u}(this.editor.editing.view.domConverter.mapViewToDom(e)),this._domEmitter.listenTo(r,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const a=new ll(r,this._reconvertMarkerThrottled);this._scrollables.set(o,{domElement:r,resizeObserver:a})}return new dt(r).excludeScrollbarsAndBorders()}}function g2(s,e,o,r,a,l,u){const p=s.model,g=s.editing.mapper;let k=b2(s,e);for(;k;){if(!l){if(p.schema.checkChild(k,"$text")){if(o){const w=o[0].start,A=g.toModelPosition(w);if(!u||Array.from(u.getItems()).every(E=>p.schema.checkChild(A,E))){if(p.schema.checkChild(A,"$text"))return p.createRange(A);if(w)return Jh(s,b2(s,w.parent),r,a)}}}else if(p.schema.isInline(k))return Jh(s,k,r,a)}if(p.schema.isBlock(k))return Jh(s,k,r,a);if(p.schema.checkChild(k,"$block")){const w=Array.from(k.getChildren()).filter(T=>T.is("element")&&!lV(s,T));let A=0,E=w.length;if(E==0)return p.createRange(p.createPositionAt(k,"end"));for(;A<E-1;){const T=Math.floor((A+E)/2);m2(s,w[T],r,a)=="before"?E=T:A=T}return Jh(s,w[A],r,a)}k=k.parent}return null}function lV(s,e){const o=s.editing.mapper,r=s.editing.view.domConverter,a=o.toViewElement(e);if(!a)return!0;const l=r.mapViewToDom(a);return b.window.getComputedStyle(l).float!="none"}function Jh(s,e,o,r){const a=s.model;return a.createRange(a.createPositionAt(e,m2(s,e,o,r)))}function m2(s,e,o,r){const a=s.editing.mapper,l=s.editing.view.domConverter,u=a.toViewElement(e),p=l.mapViewToDom(u),g=new dt(p);return s.model.schema.isInline(e)?o<(g.left+g.right)/2?"before":"after":r<(g.top+g.bottom)/2?"before":"after"}function b2(s,e){const o=s.editing.mapper,r=s.editing.view,a=o.toModelElement(e);if(a)return a;const l=r.createPositionBefore(e),u=o.findMappedViewAncestor(l);return o.toModelElement(u)}var dV=Object.defineProperty,uV=Object.defineProperties,hV=Object.getOwnPropertyDescriptors,k2=Object.getOwnPropertySymbols,pV=Object.prototype.hasOwnProperty,fV=Object.prototype.propertyIsEnumerable,w2=(s,e,o)=>e in s?dV(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o;class gV extends ue{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(Oo())}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(o,r,a)=>{a?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),C.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const o=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(o,"dragstart",(r,a)=>this._handleBlockDragStart(a)),this._domEmitter.listenTo(b.document,"dragover",(r,a)=>this._handleBlockDragging(a)),this._domEmitter.listenTo(b.document,"drop",(r,a)=>this._handleBlockDragging(a)),this._domEmitter.listenTo(b.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&o.setAttribute("draggable","true"),this.on("change:isEnabled",(r,a,l)=>{o.setAttribute("draggable",l?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const o=this.editor.model,r=o.document.selection,a=this.editor.editing.view,l=Array.from(r.getSelectedBlocks()),u=o.createRange(o.createPositionBefore(l[0]),o.createPositionAfter(l[l.length-1]));o.change(p=>p.setSelection(u)),this._isBlockDragging=!0,a.focus(),a.getObserver(Ml).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const o=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),r=e.clientY,a=document.elementFromPoint(o,r),l=this.editor.editing.view;var u,p;a&&a.closest(".ck-editor__editable")&&l.getObserver(Ml).onDomEvent((u=((g,k)=>{for(var w in k||(k={}))pV.call(k,w)&&w2(g,w,k[w]);if(k2)for(var w of k2(k))fV.call(k,w)&&w2(g,w,k[w]);return g})({},e),p={type:e.type,dataTransfer:e.dataTransfer,target:a,clientX:o,clientY:r,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()},uV(u,hV(p))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}var v2=d(7793),mV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(v2.A,mV),v2.A.locals;class bV extends ue{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=tb(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(Oo())}static get pluginName(){return"DragDrop"}static get requires(){return[Fo,Ol,Zh,gV]}init(){const e=this.editor,o=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,o.addObserver(Ml),o.addObserver(zb),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(r,a,l)=>{l?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(r,a,l)=>{l||this._finalizeDragging(!1)}),C.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,o=e.model,r=e.editing.view,a=r.document,l=e.plugins.get(Zh);this.listenTo(a,"dragstart",(u,p)=>{if(p.target&&p.target.is("editableElement")||(this._prepareDraggedRange(p.target),!this._draggedRange))return void p.preventDefault();this._draggingUid=L(),p.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",p.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const g=o.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(p.dataTransfer,g,"dragstart");const{dataTransfer:k,domTarget:w,domEvent:A}=p,{clientX:E}=A;this._updatePreview({dataTransfer:k,domTarget:w,clientX:E}),p.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(a,"dragend",(u,p)=>{this._finalizeDragging(!p.dataTransfer.isCanceled&&p.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(b.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(a,"dragenter",()=>{this.isEnabled&&r.focus()}),this.listenTo(a,"dragleave",()=>{l.removeDropMarkerDelayed()}),this.listenTo(a,"dragging",(u,p)=>{if(!this.isEnabled)return void(p.dataTransfer.dropEffect="none");const{clientX:g,clientY:k}=p.domEvent;l.updateDropMarker(p.target,p.targetRanges,g,k,this._blockMode,this._draggedRange),this._draggedRange||(p.dataTransfer.dropEffect="copy"),C.isGecko||(p.dataTransfer.effectAllowed=="copy"?p.dataTransfer.dropEffect="copy":["all","copyMove"].includes(p.dataTransfer.effectAllowed)&&(p.dataTransfer.dropEffect="move")),u.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,o=e.editing.view.document,r=e.plugins.get(Zh);this.listenTo(o,"clipboardInput",(a,l)=>{if(l.method!="drop")return;const{clientX:u,clientY:p}=l.domEvent,g=r.getFinalDropRange(l.target,l.targetRanges,u,p,this._blockMode,this._draggedRange);if(!g)return this._finalizeDragging(!1),void a.stop();if(this._draggedRange&&this._draggingUid!=l.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),_2(l.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(g,!0))return this._finalizeDragging(!1),void a.stop();l.targetRanges=[e.editing.mapper.toViewRange(g)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Fo);e.on("contentInsertion",(o,r)=>{if(!this.isEnabled||r.method!=="drop")return;const a=r.targetRanges.map(l=>this.editor.editing.mapper.toModelRange(l));this.editor.model.change(l=>l.setSelection(a))},{priority:"high"}),e.on("contentInsertion",(o,r)=>{if(!this.isEnabled||r.method!=="drop")return;const a=_2(r.dataTransfer)=="move",l=!r.resultRange||!r.resultRange.isCollapsed;this._finalizeDragging(l&&a)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,o=e.editing.view,r=o.document;this.listenTo(r,"mousedown",(a,l)=>{if(C.isAndroid||!l)return;this._clearDraggableAttributesDelayed.cancel();let u=C2(l.target);if(C.isBlink&&!e.isReadOnly&&!u&&!r.selection.isCollapsed){const p=r.selection.getSelectedElement();p&&fn(p)||(u=r.selection.editableElement)}u&&(o.change(p=>{p.setAttribute("draggable","true",u)}),this._draggableElement=e.editing.mapper.toModelElement(u))}),this.listenTo(r,"mouseup",()=>{C.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(o=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&o.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const o=this.editor,r=o.model;o.plugins.get(Zh).removeDropMarker(),this._clearDraggableAttributes(),o.plugins.has("WidgetToolbarRepository")&&o.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&r.change(a=>{const l=r.createSelection(this._draggedRange);r.deleteContent(l,{doNotAutoparagraph:!0});const u=l.getFirstPosition().parent;u.isEmpty&&!r.schema.checkChild(u,"$text")&&r.schema.checkChild(u,"paragraph")&&a.insertElement("paragraph",u,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const o=this.editor,r=o.model,a=r.document.selection,l=e?C2(e):null;if(l){const k=o.editing.mapper.toModelElement(l);this._draggedRange=xo.fromRange(r.createRangeOn(k)),this._blockMode=r.schema.isBlock(k),o.plugins.has("WidgetToolbarRepository")&&o.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(a.isCollapsed&&!a.getFirstPosition().parent.isEmpty)return;const u=Array.from(a.getSelectedBlocks()),p=a.getFirstRange();if(u.length==0)return void(this._draggedRange=xo.fromRange(p));const g=A2(r,u);if(u.length>1)this._draggedRange=xo.fromRange(g),this._blockMode=!0;else if(u.length==1){const k=p.start.isTouching(g.start)&&p.end.isTouching(g.end);this._draggedRange=xo.fromRange(k?g:p),this._blockMode=k}r.change(k=>k.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:o,clientX:r}){const a=this.editor.editing.view,l=a.document.selection.editableElement,u=a.domConverter.mapViewToDom(l),p=b.window.getComputedStyle(u);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=ro(b.document,"div",{style:"position: fixed; left: -999999px;"}),b.document.body.appendChild(this._previewContainer));const g=new dt(u);if(u.contains(o))return;const k=parseFloat(p.paddingLeft),w=ro(b.document,"div");w.className="ck ck-content",w.style.width=p.width,w.style.paddingLeft=`${g.left-r+k}px`,C.isiOS&&(w.style.backgroundColor="white"),w.innerHTML=e.getData("text/html"),e.setDragImage(w,0,0),this._previewContainer.appendChild(w)}}function _2(s){return C.isGecko?s.dropEffect:["all","copyMove"].includes(s.effectAllowed)?"move":"copy"}function C2(s){if(s.is("editableElement"))return null;if(s.hasClass("ck-widget__selection-handle"))return s.findAncestor(fn);if(fn(s))return s;const e=s.findAncestor(o=>fn(o)||o.is("editableElement"));return fn(e)?e:null}function A2(s,e){const o=e[0],r=e[e.length-1],a=o.getCommonAncestor(r),l=s.createPositionBefore(o),u=s.createPositionAfter(r);if(a&&a.is("element")&&!s.schema.isLimit(a)){const p=s.createRangeOn(a),g=l.isTouching(p.start),k=u.isTouching(p.end);if(g&&k)return A2(s,[a])}return s.createRange(l,u)}class kV extends ue{static get pluginName(){return"PastePlainText"}static get requires(){return[Fo]}init(){const e=this.editor,o=e.model,r=e.editing.view,a=r.document,l=o.document.selection;let u=!1;r.addObserver(Ml),this.listenTo(a,"keydown",(p,g)=>{u=g.shiftKey}),e.plugins.get(Fo).on("contentInsertion",(p,g)=>{(u||function(k,w){if(k.childCount>1)return!1;const A=k.getChild(0);return w.isObject(A)?!1:Array.from(A.getAttributeKeys()).length==0}(g.content,o.schema))&&o.change(k=>{const w=Array.from(l.getAttributes()).filter(([E])=>o.schema.getAttributeProperties(E).isFormatting);l.isCollapsed||o.deleteContent(l,{doNotAutoparagraph:!0}),w.push(...l.getAttributes());const A=k.createRangeIn(g.content);for(const E of A.getItems())E.is("$textProxy")&&k.setAttributes(w,E)})})}}class y2 extends ue{static get pluginName(){return"Clipboard"}static get requires(){return[Pl,Fo,bV,kV]}init(){const e=this.editor,o=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Copy selected content"),keystroke:"CTRL+C"},{label:o("Paste content"),keystroke:"CTRL+V"},{label:o("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class wV extends at{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,o=e.document.selection;let r=e.schema.getLimitElement(o);if(o.containsEntireContent(r)||!x2(e.schema,r))do if(r=r.parent,!r)return;while(!x2(e.schema,r));e.change(a=>{a.setSelection(r,"in")})}}function x2(s,e){return s.isLimit(e)&&(s.checkChild(e,"$text")||s.checkChild(e,"paragraph"))}const vV=hl("Ctrl+A");class _V extends ue{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,o=e.t,r=e.editing.view.document;e.commands.add("selectAll",new wV(e)),this.listenTo(r,"keydown",(a,l)=>{wa(l)===vV&&(e.execute("selectAll"),l.preventDefault())}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Select all"),keystroke:"CTRL+A"}]})}}class CV extends ue{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",()=>{const o=this._createButton(vt);return o.set({tooltip:!0}),o}),e.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(To))}_createButton(e){const o=this.editor,r=o.locale,a=o.commands.get("selectAll"),l=new e(o.locale),u=r.t;return l.set({label:u("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),l.bind("isEnabled").to(a,"isEnabled"),this.listenTo(l,"execute",()=>{o.execute("selectAll"),o.editing.view.focus()}),l}}class AV extends ue{static get requires(){return[_V,CV]}static get pluginName(){return"SelectAll"}}var yV=Object.defineProperty,E2=Object.getOwnPropertySymbols,xV=Object.prototype.hasOwnProperty,EV=Object.prototype.propertyIsEnumerable,T2=(s,e,o)=>e in s?yV(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o;class I2 extends at{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(o,r)=>{r[1]=((l,u)=>{for(var p in u||(u={}))xV.call(u,p)&&T2(l,p,u[p]);if(E2)for(var p of E2(u))EV.call(u,p)&&T2(l,p,u[p]);return l})({},r[1]);const a=r[1];a.batchType||(a.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(o,r)=>{r[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const o=this.editor.model.document.selection,r={ranges:o.hasOwnRange?Array.from(o.getRanges()):[],isBackward:o.isBackward};this._stack.push({batch:e,selection:r}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,o,r){const a=this.editor.model,l=a.document,u=[],p=e.map(k=>k.getTransformedByOperations(r)),g=p.flat();for(const k of p){const w=k.filter(A=>A.root!=l.graveyard).filter(A=>!IV(A,g));w.length&&(TV(w),u.push(w[0]))}u.length&&a.change(k=>{k.setSelection(u,{backward:o})})}_undo(e,o){const r=this.editor.model,a=r.document;this._createdBatches.add(o);const l=e.operations.slice().filter(u=>u.isDocumentOperation);l.reverse();for(const u of l){const p=u.baseVersion+1,g=Array.from(a.history.getOperations(p)),k=a6([u.getReversed()],g,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let w of k){const A=w.affectedSelectable;A&&!r.canEditAt(A)&&(w=new An(w.baseVersion)),o.addOperation(w),r.applyOperation(w),a.history.setOperationAsUndone(u,w)}}}}function TV(s){s.sort((e,o)=>e.start.isBefore(o.start)?-1:1);for(let e=1;e<s.length;e++){const o=s[e-1].getJoined(s[e],!0);o&&(e--,s.splice(e,2,o))}}function IV(s,e){return e.some(o=>o!==s&&o.containsRange(s,!0))}class SV extends I2{execute(e=null){const o=e?this._stack.findIndex(l=>l.batch==e):this._stack.length-1,r=this._stack.splice(o,1)[0],a=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(a,()=>{this._undo(r.batch,a);const l=this.editor.model.document.history.getOperations(r.batch.baseVersion);this._restoreSelection(r.selection.ranges,r.selection.isBackward,l)}),this.fire("revert",r.batch,a),this.refresh()}}class DV extends I2{execute(){const e=this._stack.pop(),o=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(o,()=>{const r=e.batch.operations[e.batch.operations.length-1].baseVersion+1,a=this.editor.model.document.history.getOperations(r);this._restoreSelection(e.selection.ranges,e.selection.isBackward,a),this._undo(e.batch,o)}),this.refresh()}}class MV extends ue{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor,o=e.t;this._undoCommand=new SV(e),this._redoCommand=new DV(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(r,a)=>{const l=a[0];if(!l.isDocumentOperation)return;const u=l.batch,p=this._redoCommand.createdBatches.has(u),g=this._undoCommand.createdBatches.has(u);this._batchRegistry.has(u)||(this._batchRegistry.add(u),u.isUndoable&&(p?this._undoCommand.addBatch(u):g||(this._undoCommand.addBatch(u),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(r,a,l)=>{this._redoCommand.addBatch(l)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Undo"),keystroke:"CTRL+Z"},{label:o("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class PV extends ue{static get pluginName(){return"UndoUI"}init(){const e=this.editor,o=e.locale,r=e.t,a=o.uiLanguageDirection=="ltr"?We.undo:We.redo,l=o.uiLanguageDirection=="ltr"?We.redo:We.undo;this._addButtonsToFactory("undo",r("Undo"),"CTRL+Z",a),this._addButtonsToFactory("redo",r("Redo"),"CTRL+Y",l)}_addButtonsToFactory(e,o,r,a){const l=this.editor;l.ui.componentFactory.add(e,()=>{const u=this._createButton(vt,e,o,r,a);return u.set({tooltip:!0}),u}),l.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(To,e,o,r,a))}_createButton(e,o,r,a,l){const u=this.editor,p=u.locale,g=u.commands.get(o),k=new e(p);return k.set({label:r,icon:l,keystroke:a}),k.bind("isEnabled").to(g,"isEnabled"),this.listenTo(k,"execute",()=>{u.execute(o),u.editing.view.focus()}),k}}class S2 extends ue{static get requires(){return[MV,PV]}static get pluginName(){return"Undo"}}class RV extends Y(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=o=>{this.loaded=o.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const o=this._reader;return this.total=e.size,new Promise((r,a)=>{o.onload=()=>{const l=o.result;this._data=l,r(l)},o.onerror=()=>{a("error")},o.onabort=()=>{a("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class pi extends ue{constructor(){super(...arguments),this.loaders=new si,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[H1]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,o)=>o?e/o*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return U("filerepository-no-upload-adapter"),null;const o=new D2(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(o),this._loadersMap.set(e,o),e instanceof Promise&&o.file.then(r=>{this._loadersMap.set(r,o)}).catch(()=>{}),o.on("change:uploaded",()=>{let r=0;for(const a of this.loaders)r+=a.uploaded;this.uploaded=r}),o.on("change:uploadTotal",()=>{let r=0;for(const a of this.loaders)a.uploadTotal&&(r+=a.uploadTotal);this.uploadTotal=r}),o}destroyLoader(e){const o=e instanceof D2?e:this.getLoader(e);o._destroy(),this.loaders.remove(o),this._loadersMap.forEach((r,a)=>{r===o&&this._loadersMap.delete(a)})}_updatePendingAction(){const e=this.editor.plugins.get(H1);if(this.loaders.length){if(!this._pendingAction){const o=this.editor.t,r=a=>`${o("Upload in progress")} ${parseInt(a)}%.`;this._pendingAction=e.add(r(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",r)}}else e.remove(this._pendingAction),this._pendingAction=null}}class D2 extends Y(){constructor(e,o){super(),this.id=L(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=o(this),this._reader=new RV,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(r,a)=>a?r/a*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new P("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new P("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const o={};return o.promise=new Promise((r,a)=>{o.rejecter=a,o.isFulfilled=!1,e.then(l=>{o.isFulfilled=!0,r(l)}).catch(l=>{o.isFulfilled=!0,a(l)})}),o}}const M2="ckCsrfToken",P2="abcdefghijklmnopqrstuvwxyz0123456789";function BV(){let s=function(r){r=r.toLowerCase();const a=document.cookie.split(";");for(const l of a){const u=l.split("=");if(decodeURIComponent(u[0].trim().toLowerCase())===r)return decodeURIComponent(u[1])}return null}(M2);var e,o;return s&&s.length==40||(s=function(r){let a="";const l=new Uint8Array(r);window.crypto.getRandomValues(l);for(let u=0;u<l.length;u++){const p=P2.charAt(l[u]%P2.length);a+=Math.random()>.5?p.toUpperCase():p}return a}(40),e=M2,o=s,document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(o)+";path=/"),s}class NV{constructor(e,o,r){this.loader=e,this.url=o,this.t=r}upload(){return this.loader.file.then(e=>new Promise((o,r)=>{this._initRequest(),this._initListeners(o,r,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,o,r){const a=this.xhr,l=this.loader,u=(0,this.t)("Cannot upload file:")+` ${r.name}.`;a.addEventListener("error",()=>o(u)),a.addEventListener("abort",()=>o()),a.addEventListener("load",()=>{const p=a.response;if(!p||!p.uploaded)return o(p&&p.error&&p.error.message?p.error.message:u);e({default:p.url})}),a.upload&&a.upload.addEventListener("progress",p=>{p.lengthComputable&&(l.uploadTotal=p.total,l.uploaded=p.loaded)})}_sendRequest(e){const o=new FormData;o.append("upload",e),o.append("ckCsrfToken",BV()),this.xhr.send(o)}}function Sr(s,e,o,r){let a,l=null;typeof r=="function"?a=r:(l=s.commands.get(r),a=()=>{s.execute(r)}),s.model.document.on("change:data",(u,p)=>{if(l&&!l.isEnabled||!e.isEnabled)return;const g=Sn(s.model.document.selection.getRanges());if(!g.isCollapsed||p.isUndo||!p.isLocal)return;const k=Array.from(s.model.document.differ.getChanges()),w=k[0];if(k.length!=1||w.type!=="insert"||w.name!="$text"||w.length!=1)return;const A=w.position.parent;if(A.is("element","codeBlock")||A.is("element","listItem")&&typeof r!="function"&&!["numberedList","bulletedList","todoList"].includes(r)||l&&l.value===!0)return;const E=A.getChild(0),T=s.model.createRangeOn(E);if(!T.containsRange(g)&&!g.end.isEqual(T.end))return;const D=o.exec(E.data.substr(0,g.end.offset));D&&s.model.enqueueChange(B=>{const z=B.createPositionAt(A,0),$=B.createPositionAt(A,D[0].length),q=new xo(z,$);if(a({match:D})!==!1){B.remove(q);const Z=s.model.document.selection.getFirstRange(),ae=B.createRangeIn(A);!A.isEmpty||ae.isEqual(Z)||ae.containsRange(Z,!0)||B.remove(A)}q.detach(),s.model.enqueueChange(()=>{s.plugins.get("Delete").requestUndoOnBackspace()})})})}function Oa(s,e,o,r){let a,l;o instanceof RegExp?a=o:l=o,l=l||(u=>{let p;const g=[],k=[];for(;(p=a.exec(u))!==null&&!(p&&p.length<4);){let{index:w,1:A,2:E,3:T}=p;const D=A+E+T;w+=p[0].length-D.length;const B=[w,w+A.length],z=[w+A.length+E.length,w+A.length+E.length+T.length];g.push(B),g.push(z),k.push([w+A.length,w+A.length+E.length])}return{remove:g,format:k}}),s.model.document.on("change:data",(u,p)=>{if(p.isUndo||!p.isLocal||!e.isEnabled)return;const g=s.model,k=g.document.selection;if(!k.isCollapsed)return;const w=Array.from(g.document.differ.getChanges()),A=w[0];if(w.length!=1||A.type!=="insert"||A.name!="$text"||A.length!=1)return;const E=k.focus,T=E.parent,{text:D,range:B}=function(Z,ae){let ke=Z.start;return{text:Array.from(Z.getItems()).reduce((Je,Vt)=>!Vt.is("$text")&&!Vt.is("$textProxy")||Vt.getAttribute("code")?(ke=ae.createPositionAfter(Vt),""):Je+Vt.data,""),range:ae.createRange(ke,Z.end)}}(g.createRange(g.createPositionAt(T,0),E),g),z=l(D),$=R2(B.start,z.format,g),q=R2(B.start,z.remove,g);$.length&&q.length&&g.enqueueChange(Z=>{if(r(Z,$)!==!1){for(const ae of q.reverse())Z.remove(ae);g.enqueueChange(()=>{s.plugins.get("Delete").requestUndoOnBackspace()})}})})}function R2(s,e,o){return e.filter(r=>r[0]!==void 0&&r[1]!==void 0).map(r=>o.createRange(s.getShiftedBy(r[0]),s.getShiftedBy(r[1])))}function Xh(s,e){return(o,r)=>{if(!s.commands.get(e).isEnabled)return!1;const a=s.model.schema.getValidRanges(r,e);for(const l of a)o.setAttribute(e,!0,l);o.removeSelectionAttribute(e)}}class B2 extends at{constructor(e,o){super(e),this.attributeKey=o}refresh(){const e=this.editor.model,o=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(o.selection,this.attributeKey)}execute(e={}){const o=this.editor.model,r=o.document.selection,a=e.forceValue===void 0?!this.value:e.forceValue;o.change(l=>{if(r.isCollapsed)a?l.setSelectionAttribute(this.attributeKey,!0):l.removeSelectionAttribute(this.attributeKey);else{const u=o.schema.getValidRanges(r.getRanges(),this.attributeKey);for(const p of u)a?l.setAttribute(this.attributeKey,a,p):l.removeAttribute(this.attributeKey,p)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,o=e.schema,r=e.document.selection;if(r.isCollapsed)return r.hasAttribute(this.attributeKey);for(const a of r.getRanges())for(const l of a.getItems())if(o.checkAttribute(l,this.attributeKey))return l.hasAttribute(this.attributeKey);return!1}}const La="bold";class OV extends ue{static get pluginName(){return"BoldEditing"}init(){const e=this.editor,o=this.editor.t;e.model.schema.extend("$text",{allowAttributes:La}),e.model.schema.setAttributeProperties(La,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:La,view:"strong",upcastAlso:["b",r=>{const a=r.getStyle("font-weight");return a&&(a=="bold"||Number(a)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(La,new B2(e,La)),e.keystrokes.set("CTRL+B",La),e.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Bold text"),keystroke:"CTRL+B"}]})}}function N2({editor:s,commandName:e,plugin:o,icon:r,label:a,keystroke:l}){return u=>{const p=s.commands.get(e),g=new u(s.locale);return g.set({label:a,icon:r,keystroke:l,isToggleable:!0}),g.bind("isEnabled").to(p,"isEnabled"),o.listenTo(g,"execute",()=>{s.execute(e),s.editing.view.focus()}),g}}const ep="bold";class LV extends ue{static get pluginName(){return"BoldUI"}init(){const e=this.editor,o=e.locale.t,r=e.commands.get(ep),a=N2({editor:e,commandName:ep,plugin:this,icon:We.bold,label:o("Bold"),keystroke:"CTRL+B"});e.ui.componentFactory.add(ep,()=>{const l=a(vt);return l.set({tooltip:!0}),l.bind("isOn").to(r,"value"),l}),e.ui.componentFactory.add("menuBar:"+ep,()=>a(To))}}var O2=d(4199),jV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(O2.A,jV),O2.A.locals;const ja="italic";class zV extends ue{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor,o=this.editor.t;e.model.schema.extend("$text",{allowAttributes:ja}),e.model.schema.setAttributeProperties(ja,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:ja,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(ja,new B2(e,ja)),e.keystrokes.set("CTRL+I",ja),e.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Italic text"),keystroke:"CTRL+I"}]})}}const tp="italic";class FV extends ue{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,o=e.commands.get(tp),r=e.locale.t,a=N2({editor:e,commandName:tp,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:r("Italic")});e.ui.componentFactory.add(tp,()=>{const l=a(vt);return l.set({tooltip:!0}),l.bind("isOn").to(o,"value"),l}),e.ui.componentFactory.add("menuBar:"+tp,()=>a(To))}}class VV extends at{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const o=this.editor.model,r=o.schema,a=o.document.selection,l=Array.from(a.getSelectedBlocks()),u=e.forceValue===void 0?!this.value:e.forceValue;o.change(p=>{if(u){const g=l.filter(k=>np(k)||j2(r,k));this._applyQuote(p,g)}else this._removeQuote(p,l.filter(np))})}_getValue(){const e=Sn(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!np(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,o=this.editor.model.schema,r=Sn(e.getSelectedBlocks());return!!r&&j2(o,r)}_removeQuote(e,o){L2(e,o).reverse().forEach(r=>{if(r.start.isAtStart&&r.end.isAtEnd)return void e.unwrap(r.start.parent);if(r.start.isAtStart){const l=e.createPositionBefore(r.start.parent);return void e.move(r,l)}r.end.isAtEnd||e.split(r.end);const a=e.createPositionAfter(r.end.parent);e.move(r,a)})}_applyQuote(e,o){const r=[];L2(e,o).reverse().forEach(a=>{let l=np(a.start);l||(l=e.createElement("blockQuote"),e.wrap(a,l)),r.push(l)}),r.reverse().reduce((a,l)=>a.nextSibling==l?(e.merge(e.createPositionAfter(a)),a):l)}}function np(s){return s.parent.name=="blockQuote"?s.parent:null}function L2(s,e){let o,r=0;const a=[];for(;r<e.length;){const l=e[r],u=e[r+1];o||(o=s.createPositionBefore(l)),u&&l.nextSibling==u||(a.push(s.createRange(o,s.createPositionAfter(l))),o=null),r++}return a}function j2(s,e){const o=s.checkChild(e.parent,"blockQuote"),r=s.checkChild(["$root","blockQuote"],e);return o&&r}class $V extends ue{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Kh,er]}init(){const e=this.editor,o=e.model.schema;e.commands.add("blockQuote",new VV(e)),o.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(u=>{const p=e.model.document.differ.getChanges();for(const g of p)if(g.type=="insert"){const k=g.position.nodeAfter;if(!k)continue;if(k.is("element","blockQuote")&&k.isEmpty)return u.remove(k),!0;if(k.is("element","blockQuote")&&!o.checkChild(g.position,k))return u.unwrap(k),!0;if(k.is("element")){const w=u.createRangeIn(k);for(const A of w.getItems())if(A.is("element","blockQuote")&&!o.checkChild(u.createPositionBefore(A),A))return u.unwrap(A),!0}}else if(g.type=="remove"){const k=g.position.parent;if(k.is("element","blockQuote")&&k.isEmpty)return u.remove(k),!0}return!1});const r=this.editor.editing.view.document,a=e.model.document.selection,l=e.commands.get("blockQuote");this.listenTo(r,"enter",(u,p)=>{!a.isCollapsed||!l.value||a.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),p.preventDefault(),u.stop())},{context:"blockquote"}),this.listenTo(r,"delete",(u,p)=>{if(p.direction!="backward"||!a.isCollapsed||!l.value)return;const g=a.getLastPosition().parent;g.isEmpty&&!g.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),p.preventDefault(),u.stop())},{context:"blockquote"})}}var z2=d(8708),UV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(z2.A,UV),z2.A.locals;class HV extends ue{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,o=e.commands.get("blockQuote");e.ui.componentFactory.add("blockQuote",()=>{const r=this._createButton(vt);return r.set({tooltip:!0}),r.bind("isOn").to(o,"value"),r}),e.ui.componentFactory.add("menuBar:blockQuote",()=>this._createButton(To))}_createButton(e){const o=this.editor,r=o.locale,a=o.commands.get("blockQuote"),l=new e(o.locale),u=r.t;return l.set({label:u("Block quote"),icon:We.quote,isToggleable:!0}),l.bind("isEnabled").to(a,"isEnabled"),this.listenTo(l,"execute",()=>{o.execute("blockQuote"),o.editing.view.focus()}),l}}class WV extends ue{static get pluginName(){return"CKBoxUI"}afterInit(){const e=this.editor;if(!e.commands.get("ckbox"))return;const o=e.t,r=e.ui.componentFactory;if(r.add("ckbox",()=>{const a=this._createButton(vt);return a.tooltip=!0,a}),r.add("menuBar:ckbox",()=>this._createButton(To)),e.plugins.has("ImageInsertUI")){const a=e.plugins.get("ImageInsertUI");a.registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckbox"),buttonViewCreator:()=>{const l=this.editor.ui.componentFactory.create("ckbox");return l.icon=We.imageAssetManager,l.bind("label").to(a,"isImageSelected",u=>o(u?"Replace image with file manager":"Insert image with file manager")),l},formViewCreator:()=>{const l=this.editor.ui.componentFactory.create("ckbox");return l.icon=We.imageAssetManager,l.withText=!0,l.bind("label").to(a,"isImageSelected",u=>o(u?"Replace with file manager":"Insert with file manager")),l.on("execute",()=>{a.dropdownView.isOpen=!1}),l}})}}_createButton(e){const o=this.editor,r=o.locale,a=new e(r),l=o.commands.get("ckbox"),u=r.t;return a.set({label:u("Open file manager"),icon:We.browseFiles}),a.bind("isOn","isEnabled").to(l,"value","isEnabled"),a.on("execute",()=>{o.execute("ckbox")}),a}}var qV=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],Ll=s=>{let e=0;for(let o=0;o<s.length;o++){let r=s[o];e=83*e+qV.indexOf(r)}return e},dk=s=>{let e=s/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},uk=s=>{let e=Math.max(0,Math.min(1,s));return e<=.0031308?Math.trunc(12.92*e*255+.5):Math.trunc(255*(1.055*Math.pow(e,.4166666666666667)-.055)+.5)},hk=(s,e)=>(o=>o<0?-1:1)(s)*Math.pow(Math.abs(s),e),F2=class extends Error{constructor(s){super(s),this.name="ValidationError",this.message=s}},GV=s=>{if(!s||s.length<6)throw new F2("The blurhash string must be at least 6 characters");let e=Ll(s[0]),o=Math.floor(e/9)+1,r=e%9+1;if(s.length!==4+2*r*o)throw new F2(`blurhash length mismatch: length is ${s.length} but it should be ${4+2*r*o}`)},KV=s=>{let e=s>>8&255,o=255&s;return[dk(s>>16),dk(e),dk(o)]},YV=(s,e)=>{let o=Math.floor(s/361),r=Math.floor(s/19)%19,a=s%19;return[hk((o-9)/9,2)*e,hk((r-9)/9,2)*e,hk((a-9)/9,2)*e]},QV=(s,e,o,r)=>{GV(s),r|=1;let a=Ll(s[0]),l=Math.floor(a/9)+1,u=a%9+1,p=(Ll(s[1])+1)/166,g=new Array(u*l);for(let A=0;A<g.length;A++)if(A===0){let E=Ll(s.substring(2,6));g[A]=KV(E)}else{let E=Ll(s.substring(4+2*A,6+2*A));g[A]=YV(E,p*r)}let k=4*e,w=new Uint8ClampedArray(k*o);for(let A=0;A<o;A++)for(let E=0;E<e;E++){let T=0,D=0,B=0;for(let Z=0;Z<l;Z++)for(let ae=0;ae<u;ae++){let ke=Math.cos(Math.PI*E*ae/e)*Math.cos(Math.PI*A*Z/o),Oe=g[ae+Z*u];T+=Oe[0]*ke,D+=Oe[1]*ke,B+=Oe[2]*ke}let z=uk(T),$=uk(D),q=uk(B);w[4*E+0+A*k]=z,w[4*E+1+A*k]=$,w[4*E+2+A*k]=q,w[4*E+3+A*k]=255}return w},ZV=Object.defineProperty,V2=Object.getOwnPropertySymbols,JV=Object.prototype.hasOwnProperty,XV=Object.prototype.propertyIsEnumerable,$2=(s,e,o)=>e in s?ZV(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o;function U2(s){const e=[];let o=0;for(const a in s){const l=parseInt(a,10);isNaN(l)||(l>o&&(o=l),e.push(`${s[a]} ${a}w`))}const r=[{srcset:e.join(","),sizes:`(max-width: ${o}px) 100vw, ${o}px`,type:"image/webp"}];return{imageFallbackUrl:s.default,imageSources:r}}const jl=32;function H2({url:s,method:e="GET",data:o,onUploadProgress:r,signal:a,authorization:l}){const u=new XMLHttpRequest;u.open(e,s.toString()),u.setRequestHeader("Authorization",l),u.setRequestHeader("CKBox-Version","CKEditor 5"),u.responseType="json";const p=()=>{u.abort()};return new Promise((g,k)=>{a.throwIfAborted(),a.addEventListener("abort",p),u.addEventListener("loadstart",()=>{a.addEventListener("abort",p)}),u.addEventListener("loadend",()=>{a.removeEventListener("abort",p)}),u.addEventListener("error",()=>{k()}),u.addEventListener("abort",()=>{k()}),u.addEventListener("load",()=>{const w=u.response;if(!w||w.statusCode>=400)return k(w&&w.message);g(w)}),r&&u.upload.addEventListener("progress",w=>{r(w)}),u.send(o)})}const e$={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};function t$(s,e){return o=this,r=null,a=function*(){try{const l=yield fetch(s,((u,p)=>{for(var g in p||(p={}))JV.call(p,g)&&$2(u,g,p[g]);if(V2)for(var g of V2(p))XV.call(p,g)&&$2(u,g,p[g]);return u})({method:"HEAD",cache:"force-cache"},e));return l.ok&&l.headers.get("content-type")||""}catch{return""}},new Promise((l,u)=>{var p=w=>{try{k(a.next(w))}catch(A){u(A)}},g=w=>{try{k(a.throw(w))}catch(A){u(A)}},k=w=>w.done?l(w.value):Promise.resolve(w.value).then(p,g);k((a=a.apply(o,r)).next())});var o,r,a}var n$=Object.defineProperty,W2=Object.getOwnPropertySymbols,o$=Object.prototype.hasOwnProperty,i$=Object.prototype.propertyIsEnumerable,q2=(s,e,o)=>e in s?n$(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,G2=(s,e)=>{for(var o in e||(e={}))o$.call(e,o)&&q2(s,o,e[o]);if(W2)for(var o of W2(e))i$.call(e,o)&&q2(s,o,e[o]);return s};class r$ extends at{constructor(e){super(e),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const e=this.editor.commands.get("insertImage"),o=this.editor.commands.get("link");return!(!e.isEnabled&&!o.isEnabled)}_prepareOptions(){const e=this.editor.config.get("ckbox");return{theme:e.theme,language:e.language,tokenUrl:e.tokenUrl,serviceOrigin:e.serviceOrigin,forceDemoLabel:e.forceDemoLabel,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:o=>this.fire("ckbox:choose",o)}}}_initListeners(){const e=this.editor,o=e.model,r=!e.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=ro(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null,e.editing.view.focus())}),this.on("ckbox:choose",(a,l)=>{if(!this.isEnabled)return;const u=e.commands.get("insertImage"),p=e.commands.get("link"),g=function({assets:w,isImageAllowed:A,isLinkAllowed:E}){return w.map(T=>function(D){const B=D.data.metadata;return B?B.width&&B.height:!1}(T)?{id:T.data.id,type:"image",attributes:s$(T)}:{id:T.data.id,type:"link",attributes:a$(T)}).filter(T=>T.type==="image"?A:E)}({assets:l,isImageAllowed:u.isEnabled,isLinkAllowed:p.isEnabled}),k=g.length;k!==0&&(o.change(w=>{for(const A of g){const E=A===g[k-1],T=k===1;this._insertAsset(A,E,w,T),r&&(setTimeout(()=>this._chosenAssets.delete(A),1e3),this._chosenAssets.add(A))}}),e.editing.view.focus())}),this.listenTo(e,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(e,o,r,a){const l=this.editor.model.document.selection;r.removeSelectionAttribute("linkHref"),e.type==="image"?this._insertImage(e):this._insertLink(e,r,a),o||r.setSelection(l.getLastPosition())}_insertImage(e){const o=this.editor,{imageFallbackUrl:r,imageSources:a,imageTextAlternative:l,imageWidth:u,imageHeight:p,imagePlaceholder:g}=e.attributes;o.execute("insertImage",{source:G2({src:r,sources:a,alt:l,width:u,height:p},g?{placeholder:g}:null)})}_insertLink(e,o,r){const a=this.editor,l=a.model,u=l.document.selection,{linkName:p,linkHref:g}=e.attributes;if(u.isCollapsed){const k=wi(u.getAttributes()),w=o.createText(p,k);if(!r){const E=u.getLastPosition(),T=E.parent;T.name==="paragraph"&&T.isEmpty||a.execute("insertParagraph",{position:E});const D=l.insertContent(w);return o.setSelection(D),void a.execute("link",g)}const A=l.insertContent(w);o.setSelection(A)}a.execute("link",g)}}function s$(s){const{imageFallbackUrl:e,imageSources:o}=U2(s.data.imageUrls),{description:r,width:a,height:l,blurHash:u}=s.data.metadata,p=function(g){if(g)try{const k=`${jl}px`,w=document.createElement("canvas");w.setAttribute("width",k),w.setAttribute("height",k);const A=w.getContext("2d");if(!A)return;const E=A.createImageData(jl,jl),T=QV(g,jl,jl);return E.data.set(T),A.putImageData(E,0,0),w.toDataURL()}catch{return}}(u);return G2({imageFallbackUrl:e,imageSources:o,imageTextAlternative:r||"",imageWidth:a,imageHeight:l},p?{imagePlaceholder:p}:null)}function a$(s){return{linkName:s.data.name,linkHref:c$(s)}}function c$(s){const e=new URL(s.data.url);return e.searchParams.set("download","true"),e.toString()}var pk=(s,e,o)=>new Promise((r,a)=>{var l=g=>{try{p(o.next(g))}catch(k){a(k)}},u=g=>{try{p(o.throw(g))}catch(k){a(k)}},p=g=>g.done?r(g.value):Promise.resolve(g.value).then(l,u);p((o=o.apply(s,e)).next())});class K2 extends ue{static get pluginName(){return"CKBoxUtils"}static get requires(){return["CloudServices"]}init(){return pk(this,null,function*(){const e=this.editor,o=!!e.config.get("ckbox"),r=!!window.CKBox;if(!o&&!r)return;e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"lark",tokenUrl:e.config.get("cloudServices.tokenUrl")});const a=e.plugins.get("CloudServices"),l=e.config.get("cloudServices.tokenUrl"),u=e.config.get("ckbox.tokenUrl");if(!u)throw new P("ckbox-plugin-missing-token-url",this);this._token=u==l?a.token:yield a.registerTokenUrl(u)})}getToken(){return this._token}getWorkspaceId(){const e=(0,this.editor.t)("Cannot access default workspace."),o=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),r=function(a,l){const[,u]=a.value.split("."),p=JSON.parse(atob(u)),g=p.auth&&p.auth.ckbox&&p.auth.ckbox.workspaces||[p.aud];return l?(p.auth&&p.auth.ckbox&&p.auth.ckbox.role)=="superadmin"||g.includes(l)?l:null:g[0]}(this._token,o);if(r==null)throw G("ckbox-access-default-workspace-error"),e;return r}getCategoryIdForFile(e,o){return pk(this,null,function*(){const r=(0,this.editor.t)("Cannot determine a category for the uploaded file."),a=this.editor.config.get("ckbox.defaultUploadCategories"),l=this._getAvailableCategories(o),u=typeof e=="string"?(p=yield t$(e,o),e$[p]):function(w){const A=w.name,E=new RegExp("\\.(?<ext>[^.]+)$");return A.match(E).groups.ext.toLowerCase()}(e);var p;const g=yield l;if(!g)throw r;if(a){const w=Object.keys(a).find(A=>a[A].find(E=>E.toLowerCase()==u));if(w){const A=g.find(E=>E.id===w||E.name===w);if(!A)throw r;return A.id}}const k=g.find(w=>w.extensions.find(A=>A.toLowerCase()==u));if(!k)throw r;return k.id})}_getAvailableCategories(e){return pk(this,null,function*(){const o=this.editor,r=this._token,{signal:a}=e,l=o.config.get("ckbox.serviceOrigin"),u=this.getWorkspaceId();try{const g=[];let k,w=0;do{const A=yield p(w);g.push(...A.items),k=A.totalCount-(w+50),w+=50}while(k>0);return g}catch{return a.throwIfAborted(),void G("ckbox-fetch-category-http-error")}function p(g){const k=new URL("categories",l);return k.searchParams.set("limit","50"),k.searchParams.set("offset",g.toString()),k.searchParams.set("workspaceId",u),H2({url:k,signal:a,authorization:r.value})}})}}var fk=(s,e,o)=>new Promise((r,a)=>{var l=g=>{try{p(o.next(g))}catch(k){a(k)}},u=g=>{try{p(o.throw(g))}catch(k){a(k)}},p=g=>g.done?r(g.value):Promise.resolve(g.value).then(l,u);p((o=o.apply(s,e)).next())});class l$ extends ue{static get requires(){return["ImageUploadEditing","ImageUploadProgress",pi,Y2]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return fk(this,null,function*(){const e=this.editor,o=!!e.config.get("ckbox"),r=!!window.CKBox;if(!o&&!r)return;const a=e.plugins.get(pi),l=e.plugins.get(K2);a.createUploadAdapter=g=>new d$(g,e,l);const u=!e.config.get("ckbox.ignoreDataId"),p=e.plugins.get("ImageUploadEditing");u&&p.on("uploadComplete",(g,{imageElement:k,data:w})=>{e.model.change(A=>{A.setAttribute("ckboxImageId",w.ckboxImageId,k)})})})}}class d${constructor(e,o,r){this.loader=e,this.token=r.getToken(),this.ckboxUtils=r,this.editor=o,this.controller=new AbortController,this.serviceOrigin=o.config.get("ckbox.serviceOrigin")}upload(){return fk(this,null,function*(){const e=this.ckboxUtils,o=this.editor.t,r=yield this.loader.file,a=yield e.getCategoryIdForFile(r,{signal:this.controller.signal}),l=new URL("assets",this.serviceOrigin),u=new FormData;return l.searchParams.set("workspaceId",e.getWorkspaceId()),u.append("categoryId",a),u.append("file",r),H2({method:"POST",url:l,data:u,onUploadProgress:p=>{p.lengthComputable&&(this.loader.uploadTotal=p.total,this.loader.uploaded=p.loaded)},signal:this.controller.signal,authorization:this.token.value}).then(p=>fk(this,null,function*(){const g=U2(p.imageUrls);return{ckboxImageId:p.id,default:g.imageFallbackUrl,sources:g.imageSources}})).catch(()=>{const p=o("Cannot upload file:")+` ${r.name}.`;return Promise.reject(p)})})}abort(){this.controller.abort()}}class Y2 extends ue{static get pluginName(){return"CKBoxEditing"}static get requires(){return["LinkEditing","PictureEditing",l$,K2]}init(){const e=this.editor;this._shouldBeInitialised()&&(this._checkImagePlugins(),Z2()&&e.commands.add("ckbox",new r$(e)))}afterInit(){const e=this.editor;this._shouldBeInitialised()&&(e.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()))}_shouldBeInitialised(){return!!this.editor.config.get("ckbox")||Z2()}_checkImagePlugins(){const e=this.editor;e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||G("ckbox-plugin-image-feature-missing",e)}_initSchema(){const e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck((o,r)=>{if(!o.last.getAttribute("linkHref")&&r==="ckboxLinkId")return!1})}_initConversion(){const e=this.editor;e.conversion.for("downcast").add(r=>{r.on("attribute:ckboxLinkId:imageBlock",(a,l,u)=>{const{writer:p,mapper:g,consumable:k}=u;if(!k.consume(l.item,a.name))return;const w=[...g.toViewElement(l.item).getChildren()].find(A=>A.name==="a");w&&(l.item.hasAttribute("ckboxLinkId")?p.setAttribute("data-ckbox-resource-id",l.item.getAttribute("ckboxLinkId"),w):p.removeAttribute("data-ckbox-resource-id",w))},{priority:"low"}),r.on("attribute:ckboxLinkId",(a,l,u)=>{const{writer:p,mapper:g,consumable:k}=u;if(k.consume(l.item,a.name)){if(l.attributeOldValue){const w=Q2(p,l.attributeOldValue);p.unwrap(g.toViewRange(l.range),w)}if(l.attributeNewValue){const w=Q2(p,l.attributeNewValue);if(l.item.is("selection")){const A=p.document.selection;p.wrap(A.getFirstRange(),w)}else p.wrap(g.toViewRange(l.range),w)}}},{priority:"low"})}),e.conversion.for("upcast").add(r=>{r.on("element:a",(a,l,u)=>{const{writer:p,consumable:g}=u;if(!l.viewItem.getAttribute("href")||!g.consume(l.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const k=l.viewItem.getAttribute("data-ckbox-resource-id");if(k)if(l.modelRange)for(let w of l.modelRange.getItems())w.is("$textProxy")&&(w=w.textNode),h$(w)&&p.setAttribute("ckboxLinkId",k,w);else{const w=l.modelCursor.nodeBefore||l.modelCursor.parent;p.setAttribute("ckboxLinkId",k,w)}},{priority:"low"})}),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:r=>r.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}});const o=e.commands.get("replaceImageSource");o&&this.listenTo(o,"cleanupImage",(r,[a,l])=>{a.removeAttribute("ckboxImageId",l)})}_initFixers(){const e=this.editor,o=e.model,r=o.document.selection;o.document.registerPostFixer(function(a){return l=>{let u=!1;const p=a.model,g=a.commands.get("ckbox");if(!g)return u;for(const k of p.document.differ.getChanges()){if(k.type!=="insert"&&k.type!=="attribute")continue;const w=k.type==="insert"?new ne(k.position,k.position.getShiftedBy(k.length)):k.range,A=k.type==="attribute"&&k.attributeKey==="linkHref"&&k.attributeNewValue===null;for(const E of w.getItems()){if(A&&E.hasAttribute("ckboxLinkId")){l.removeAttribute("ckboxLinkId",E),u=!0;continue}const T=u$(E,g._chosenAssets);for(const D of T){const B=D.type==="image"?"ckboxImageId":"ckboxLinkId";D.id!==E.getAttribute(B)&&(l.setAttribute(B,D.id,E),u=!0)}}}return u}}(e)),o.document.registerPostFixer(function(a){return l=>!(a.hasAttribute("linkHref")||!a.hasAttribute("ckboxLinkId"))&&(l.removeSelectionAttribute("ckboxLinkId"),!0)}(r))}}function u$(s,e){const o=s.is("element","imageInline")||s.is("element","imageBlock"),r=s.hasAttribute("linkHref");return[...e].filter(a=>a.type==="image"&&o?a.attributes.imageFallbackUrl===s.getAttribute("src"):a.type==="link"&&r?a.attributes.linkHref===s.getAttribute("linkHref"):void 0)}function Q2(s,e){const o=s.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return s.setCustomProperty("link",!0,o),o}function h$(s){return!!s.is("$text")||!(!s.is("element","imageInline")&&!s.is("element","imageBlock"))}function Z2(){return!!window.CKBox}var J2=d(1866),p$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(J2.A,p$),J2.A.locals;class f$ extends ue{static get pluginName(){return"CKFinderUI"}init(){const e=this.editor,o=e.ui.componentFactory,r=e.t;if(o.add("ckfinder",a=>{const l=this._createButton(vt),u=a.t;return l.set({label:u("Insert image or file"),tooltip:!0}),l}),o.add("menuBar:ckfinder",a=>{const l=this._createButton(To),u=a.t;return l.label=u("Image or file"),l}),e.plugins.has("ImageInsertUI")){const a=e.plugins.get("ImageInsertUI");a.registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckfinder"),buttonViewCreator:()=>{const l=this.editor.ui.componentFactory.create("ckfinder");return l.icon=We.imageAssetManager,l.bind("label").to(a,"isImageSelected",u=>r(u?"Replace image with file manager":"Insert image with file manager")),l},formViewCreator:()=>{const l=this.editor.ui.componentFactory.create("ckfinder");return l.icon=We.imageAssetManager,l.withText=!0,l.bind("label").to(a,"isImageSelected",u=>r(u?"Replace with file manager":"Insert with file manager")),l.on("execute",()=>{a.dropdownView.isOpen=!1}),l}})}}_createButton(e){const o=this.editor,r=new e(o.locale),a=o.commands.get("ckfinder");return r.icon=We.browseFiles,r.bind("isEnabled").to(a),r.on("execute",()=>{o.execute("ckfinder"),o.editing.view.focus()}),r}}class g$ extends at{constructor(e){super(e),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const e=this.editor.commands.get("insertImage"),o=this.editor.commands.get("link");this.isEnabled=e.isEnabled||o.isEnabled}execute(){const e=this.editor,o=this.editor.config.get("ckfinder.openerMethod")||"modal";if(o!="popup"&&o!="modal")throw new P("ckfinder-unknown-openermethod",e);const r=this.editor.config.get("ckfinder.options")||{};r.chooseFiles=!0;const a=r.onInit;r.language||(r.language=e.locale.uiLanguage),r.onInit=l=>{a&&a(l),l.on("files:choose",u=>{const p=u.data.files.toArray(),g=p.filter(A=>!A.isImage()),k=p.filter(A=>A.isImage());for(const A of g)e.execute("link",A.getUrl());const w=[];for(const A of k){const E=A.getUrl();w.push(E||l.request("file:getProxyUrl",{file:A}))}w.length&&X2(e,w)}),l.on("file:choose:resizedImage",u=>{const p=u.data.resizedUrl;if(p)X2(e,[p]);else{const g=e.plugins.get("Notification"),k=e.locale.t;g.showWarning(k("Could not obtain resized image URL."),{title:k("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[o](r)}}function X2(s,e){if(s.commands.get("insertImage").isEnabled)s.execute("insertImage",{source:e});else{const o=s.plugins.get("Notification"),r=s.locale.t;o.showWarning(r("Could not insert image at the current position."),{title:r("Inserting image failed"),namespace:"ckfinder"})}}class m$ extends ue{static get pluginName(){return"CKFinderEditing"}static get requires(){return[Xb,"LinkEditing"]}init(){const e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new P("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new g$(e))}}class b$ extends ue{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",pi]}init(){const e=this.editor,o=e.plugins.get("CloudServices"),r=o.token,a=o.uploadUrl;if(!r)return;const l=e.plugins.get("CloudServicesCore");this._uploadGateway=l.createUploadGateway(r,a),e.plugins.get(pi).createUploadAdapter=u=>new k$(this._uploadGateway,u)}}class k${constructor(e,o){this.uploadGateway=e,this.loader=o}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(o,r)=>{this.loader.uploadTotal=r.total,this.loader.uploaded=r.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class w$ extends at{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,o=Sn(e.document.selection.getSelectedBlocks());this.value=!!o&&o.is("element","paragraph"),this.isEnabled=!!o&&eT(o,e.schema)}execute(e={}){const o=this.editor.model,r=o.document,a=e.selection||r.selection;o.canEditAt(a)&&o.change(l=>{const u=a.getSelectedBlocks();for(const p of u)!p.is("element","paragraph")&&eT(p,o.schema)&&l.rename(p,"paragraph")})}}function eT(s,e){return e.checkChild(s.parent,"paragraph")&&!e.isObject(s)}class v$ extends at{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const o=this.editor.model,r=e.attributes;let a=e.position;o.canEditAt(a)&&o.change(l=>{if(a=this._findPositionToInsertParagraph(a,l),!a)return;const u=l.createElement("paragraph");r&&o.schema.setAllowedAttributes(u,r,l),o.insertContent(u,a),l.setSelection(u,"in")})}_findPositionToInsertParagraph(e,o){const r=this.editor.model;if(r.schema.checkChild(e,"paragraph"))return e;const a=r.schema.findAllowedParent(e,"paragraph");if(!a)return null;const l=e.parent,u=r.schema.checkChild(l,"$text");return l.isEmpty||u&&e.isAtEnd?r.createPositionAfter(l):!l.isEmpty&&u&&e.isAtStart?r.createPositionBefore(l):o.split(e,a).position}}const tT=class extends ue{static get pluginName(){return"Paragraph"}init(){const s=this.editor,e=s.model;s.commands.add("paragraph",new w$(s)),s.commands.add("insertParagraph",new v$(s)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),s.conversion.elementToElement({model:"paragraph",view:"p"}),s.conversion.for("upcast").elementToElement({model:(o,{writer:r})=>tT.paragraphLikeElements.has(o.name)?o.isEmpty?null:r.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let gk=tT;gk.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class _$ extends at{constructor(e,o){super(e),this.modelElements=o}refresh(){const e=Sn(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(o=>nT(e,o,this.editor.model.schema))}execute(e){const o=this.editor.model,r=o.document,a=e.value;o.change(l=>{const u=Array.from(r.selection.getSelectedBlocks()).filter(p=>nT(p,a,o.schema));for(const p of u)p.is("element",a)||l.rename(p,a)})}}function nT(s,e,o){return o.checkChild(s.parent,e)&&!o.isObject(s)}const oT="paragraph";class C$ extends ue{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[gk]}init(){const e=this.editor,o=e.config.get("heading.options"),r=[];for(const a of o)a.model!=="paragraph"&&(e.model.schema.register(a.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(a),r.push(a.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new _$(e,r))}afterInit(){const e=this.editor,o=e.commands.get("enter"),r=e.config.get("heading.options");o&&this.listenTo(o,"afterExecute",(a,l)=>{const u=e.model.document.selection.getFirstPosition().parent;r.some(p=>u.is("element",p.model))&&!u.is("element",oT)&&u.childCount===0&&l.writer.rename(u,oT)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:V.low+1})}}var iT=d(6269),A$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(iT.A,A$),iT.A.locals;class y$ extends ue{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,o=e.t,r=function(u){const p=u.t,g={Paragraph:p("Paragraph"),"Heading 1":p("Heading 1"),"Heading 2":p("Heading 2"),"Heading 3":p("Heading 3"),"Heading 4":p("Heading 4"),"Heading 5":p("Heading 5"),"Heading 6":p("Heading 6")};return u.config.get("heading.options").map(k=>{const w=g[k.title];return w&&w!=k.title&&(k.title=w),k})}(e),a=o("Choose heading"),l=o("Heading");e.ui.componentFactory.add("heading",u=>{const p={},g=new si,k=e.commands.get("heading"),w=e.commands.get("paragraph"),A=[k];for(const T of r){const D={type:"button",model:new Gx({label:T.title,class:T.class,role:"menuitemradio",withText:!0})};T.model==="paragraph"?(D.model.bind("isOn").to(w,"value"),D.model.set("commandName","paragraph"),A.push(w)):(D.model.bind("isOn").to(k,"value",B=>B===T.model),D.model.set({commandName:"heading",commandValue:T.model})),g.add(D),p[T.model]=T.title}const E=Ji(u);return mx(E,g,{ariaLabel:l,role:"menu"}),E.buttonView.set({ariaLabel:l,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:l}),E.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),E.bind("isEnabled").toMany(A,"isEnabled",(...T)=>T.some(D=>D)),E.buttonView.bind("label").to(k,"value",w,"value",(T,D)=>{const B=D?"paragraph":T;return typeof B=="boolean"?a:p[B]?p[B]:a}),E.buttonView.bind("ariaLabel").to(k,"value",w,"value",(T,D)=>{const B=D?"paragraph":T;return typeof B=="boolean"?l:p[B]?`${p[B]}, ${l}`:l}),this.listenTo(E,"execute",T=>{const{commandName:D,commandValue:B}=T.source;e.execute(D,B?{value:B}:void 0),e.editing.view.focus()}),E}),e.ui.componentFactory.add("menuBar:heading",u=>{const p=new Ra(u),g=e.commands.get("heading"),k=e.commands.get("paragraph"),w=[g],A=new ok(u);p.set({class:"ck-heading-dropdown"}),A.set({ariaLabel:o("Heading"),role:"menu"}),p.buttonView.set({label:o("Heading")}),p.panelView.children.add(A);for(const E of r){const T=new tk(u,p),D=new To(u);T.children.add(D),A.items.add(T),D.set({label:E.title,role:"menuitemradio",class:E.class}),D.bind("ariaChecked").to(D,"isOn"),D.delegate("execute").to(p),D.on("execute",()=>{const B=E.model==="paragraph"?"paragraph":"heading";e.execute(B,{value:E.model}),e.editing.view.focus()}),E.model==="paragraph"?(D.bind("isOn").to(k,"value"),w.push(k)):D.bind("isOn").to(g,"value",B=>B===E.model)}return p.bind("isEnabled").toMany(w,"isEnabled",(...E)=>E.some(T=>T)),p})}}function rT(s){return s.createContainerElement("figure",{class:"image"},[s.createEmptyElement("img"),s.createSlot("children")])}function sT(s,e){const o=s.plugins.get("ImageUtils"),r=s.plugins.has("ImageInlineEditing")&&s.plugins.has("ImageBlockEditing");return l=>o.isInlineImageView(l)?r&&(l.getStyle("display")=="block"||l.findAncestor(o.isBlockImageView)?"imageBlock":"imageInline")!==e?null:a(l):null;function a(l){const u={name:!0};return l.hasAttribute("src")&&(u.attributes=["src"]),u}}function mk(s,e){const o=Sn(e.getSelectedBlocks());return!o||s.isObject(o)||o.isEmpty&&o.name!="listItem"?"imageBlock":"imageInline"}function op(s){return s&&s.endsWith("px")?parseInt(s):null}function aT(s){const e=op(s.getStyle("width")),o=op(s.getStyle("height"));return!(!e||!o)}var x$=Object.defineProperty,cT=Object.getOwnPropertySymbols,E$=Object.prototype.hasOwnProperty,T$=Object.prototype.propertyIsEnumerable,lT=(s,e,o)=>e in s?x$(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,dT=(s,e)=>{for(var o in e||(e={}))E$.call(e,o)&&lT(s,o,e[o]);if(cT)for(var o of cT(e))T$.call(e,o)&&lT(s,o,e[o]);return s};const I$=/^(image|image-inline)$/;class uo extends ue{constructor(){super(...arguments),this._domEmitter=new(Oo())}static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},o=null,r=null,a={}){const l=this.editor,u=l.model,p=u.document.selection,g=uT(l,o||p,r);e=dT(dT({},Object.fromEntries(p.getAttributes())),e);for(const k in e)u.schema.checkAttribute(g,k)||delete e[k];return u.change(k=>{const{setImageSizes:w=!0}=a,A=k.createElement(g,e);return u.insertObject(A,o,null,{setSelection:"on",findOptimalPosition:o||g=="imageInline"?void 0:"auto"}),A.parent?(w&&this.setImageNaturalSizeAttributes(A),A):null})}setImageNaturalSizeAttributes(e){const o=e.getAttribute("src");o&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(r=>{const a=new b.window.Image;this._domEmitter.listenTo(a,"load",()=>{e.getAttribute("width")||e.getAttribute("height")||this.editor.model.enqueueChange(r.batch,l=>{l.setAttribute("width",a.naturalWidth,e),l.setAttribute("height",a.naturalHeight,e)}),this._domEmitter.stopListening(a,"load")}),a.src=o}))}getClosestSelectedImageWidget(e){const o=e.getFirstPosition();if(!o)return null;const r=e.getSelectedElement();if(r&&this.isImageWidget(r))return r;let a=o.parent;for(;a;){if(a.is("element")&&this.isImageWidget(a))return a;a=a.parent}return null}getClosestSelectedImageElement(e){const o=e.getSelectedElement();return this.isImage(o)?o:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:I$})}isImageAllowed(){const e=this.editor.model.document.selection;return function(o,r){if(uT(o,r,null)=="imageBlock"){const l=function(u,p){const g=r2(u,p),k=g.start.parent;return k.isEmpty&&!k.is("element","$root")?k.parent:k}(r,o.model);if(o.model.schema.checkChild(l,"imageBlock"))return!0}else if(o.model.schema.checkChild(r.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(o){return[...o.focus.getAncestors()].every(r=>!r.is("element","imageBlock"))}(e)}toImageWidget(e,o,r){return o.setCustomProperty("image",!0,e),ck(e,o,{label:()=>{const a=this.findViewImgElement(e).getAttribute("alt");return a?`${a} ${r}`:r}})}isImageWidget(e){return!!e.getCustomProperty("image")&&fn(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const o=this.editor.editing.view;for(const{item:r}of o.createRangeIn(e))if(this.isInlineImageView(r))return r}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function uT(s,e,o){const r=s.model.schema,a=s.config.get("image.insert.type");return s.plugins.has("ImageBlockEditing")?s.plugins.has("ImageInlineEditing")?o||(a==="inline"?"imageInline":a!=="auto"?"imageBlock":e.is("selection")?mk(r,e):r.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class S$ extends at{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const o=this.editor,r=o.plugins.get("ImageUtils"),a=o.model,l=r.getClosestSelectedImageElement(a.document.selection);a.change(u=>{u.setAttribute("alt",e.newValue,l)})}}class D$ extends ue{static get requires(){return[uo]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new S$(this.editor))}}var hT=d(4062),M$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(hT.A,M$),hT.A.locals;var pT=d(2722),P$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(pT.A,P$),pT.A.locals;class R$ extends Pe{constructor(e){super(e);const o=this.locale.t;this.focusTracker=new Dn,this.keystrokes=new no,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(o("Save"),We.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(o("Cancel"),We.cancel,"ck-button-cancel","cancel"),this._focusables=new Lo,this._focusCycler=new zo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),uh({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,o,r,a){const l=new vt(this.locale);return l.set({label:e,icon:o,tooltip:!0}),l.extendTemplate({attributes:{class:r}}),a&&l.delegate("execute").to(this,a),l}_createLabeledInputView(){const e=this.locale.t,o=new Rh(this.locale,Oh);return o.label=e("Text alternative"),o}}function fT(s){const e=s.editing.view,o=co.defaultPositions,r=s.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(r.getClosestSelectedImageWidget(e.document.selection)),positions:[o.northArrowSouth,o.northArrowSouthWest,o.northArrowSouthEast,o.southArrowNorth,o.southArrowNorthWest,o.southArrowNorthEast,o.viewportStickyNorth]}}class B$ extends ue{static get requires(){return[$h]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,o=e.t;e.ui.componentFactory.add("imageTextAlternative",r=>{const a=e.commands.get("imageTextAlternative"),l=new vt(r);return l.set({label:o("Change image text alternative"),icon:We.textAlternative,tooltip:!0}),l.bind("isEnabled").to(a,"isEnabled"),l.bind("isOn").to(a,"value",u=>!!u),this.listenTo(l,"execute",()=>{this._showForm()}),l})}_createForm(){const e=this.editor,o=e.editing.view.document,r=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(sb(R$))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(a,l)=>{this._hideForm(!0),l()}),this.listenTo(e.ui,"update",()=>{r.getClosestSelectedImageWidget(o.selection)?this._isVisible&&function(a){const l=a.plugins.get("ContextualBalloon");if(a.plugins.get("ImageUtils").getClosestSelectedImageWidget(a.editing.view.document.selection)){const u=fT(a);l.updatePosition(u)}}(e):this._hideForm(!0)}),dh({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,o=e.commands.get("imageTextAlternative"),r=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:fT(e)}),r.fieldView.value=r.fieldView.element.value=o.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class gT extends ue{static get requires(){return[D$,B$]}static get pluginName(){return"ImageTextAlternative"}}function mT(s,e){const o=(r,a,l)=>{if(!l.consumable.consume(a.item,r.name))return;const u=l.writer,p=l.mapper.toViewElement(a.item),g=s.findViewImgElement(p);a.attributeNewValue===null?(u.removeAttribute("srcset",g),u.removeAttribute("sizes",g)):a.attributeNewValue&&(u.setAttribute("srcset",a.attributeNewValue,g),u.setAttribute("sizes","100vw",g))};return r=>{r.on(`attribute:srcset:${e}`,o)}}function ip(s,e,o){const r=(a,l,u)=>{if(!u.consumable.consume(l.item,a.name))return;const p=u.writer,g=u.mapper.toViewElement(l.item),k=s.findViewImgElement(g);p.setAttribute(l.attributeKey,l.attributeNewValue||"",k)};return a=>{a.on(`attribute:${o}:${e}`,r)}}class bT extends Ci{observe(e){this.listenTo(e,"load",(o,r)=>{const a=r.target;this.checkShouldIgnoreEventFromTarget(a)||a.tagName=="IMG"&&this._fireEvents(r)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}var N$=Object.defineProperty,kT=Object.getOwnPropertySymbols,O$=Object.prototype.hasOwnProperty,L$=Object.prototype.propertyIsEnumerable,wT=(s,e,o)=>e in s?N$(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,rp=(s,e)=>{for(var o in e||(e={}))O$.call(e,o)&&wT(s,o,e[o]);if(kT)for(var o of kT(e))L$.call(e,o)&&wT(s,o,e[o]);return s};class j$ extends at{constructor(e){super(e);const o=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||o==="block"&&U("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||o==="inline"&&U("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const o=Ft(e.source),r=this.editor.model.document.selection,a=this.editor.plugins.get("ImageUtils"),l=Object.fromEntries(r.getAttributes());o.forEach((u,p)=>{const g=r.getSelectedElement();if(typeof u=="string"&&(u={src:u}),p&&g&&a.isImage(g)){const k=this.editor.model.createPositionAfter(g);a.insertImage(rp(rp({},u),l),k)}else a.insertImage(rp(rp({},u),l))})}}class z$ extends at{constructor(e){super(e),this.decorate("cleanupImage")}refresh(){const e=this.editor.plugins.get("ImageUtils"),o=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(o),this.value=this.isEnabled?o.getAttribute("src"):null}execute(e){const o=this.editor.model.document.selection.getSelectedElement(),r=this.editor.plugins.get("ImageUtils");this.editor.model.change(a=>{a.setAttribute("src",e.source,o),this.cleanupImage(a,o),r.setImageNaturalSizeAttributes(o)})}cleanupImage(e,o){e.removeAttribute("srcset",o),e.removeAttribute("sizes",o),e.removeAttribute("sources",o),e.removeAttribute("width",o),e.removeAttribute("height",o),e.removeAttribute("alt",o)}}class bk extends ue{static get requires(){return[uo]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,o=e.conversion;e.editing.view.addObserver(bT),o.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const r=new j$(e),a=new z$(e);e.commands.add("insertImage",r),e.commands.add("replaceImageSource",a),e.commands.add("imageInsert",r)}}class vT extends ue{static get requires(){return[uo]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const o=this.editor,r=o.plugins.get("ImageUtils"),a=e==="imageBlock"?"figure":"img";function l(u,p,g,k){u.on(`attribute:${p}:${e}`,(w,A,E)=>{if(!E.consumable.consume(A.item,w.name))return;const T=E.writer,D=E.mapper.toViewElement(A.item),B=r.findViewImgElement(D);if(A.attributeNewValue!==null?T.setAttribute(g,A.attributeNewValue,B):T.removeAttribute(g,B),A.item.hasAttribute("sources"))return;const z=A.item.hasAttribute("resizedWidth");if(e==="imageInline"&&!z&&!k)return;const $=A.item.getAttribute("width"),q=A.item.getAttribute("height");$&&q&&T.setStyle("aspect-ratio",`${$}/${q}`,B)})}o.conversion.for("upcast").attributeToAttribute({view:{name:a,styles:{width:/.+/}},model:{key:"width",value:u=>aT(u)?op(u.getStyle("width")):null}}).attributeToAttribute({view:{name:a,key:"width"},model:"width"}).attributeToAttribute({view:{name:a,styles:{height:/.+/}},model:{key:"height",value:u=>aT(u)?op(u.getStyle("height")):null}}).attributeToAttribute({view:{name:a,key:"height"},model:"height"}),o.conversion.for("editingDowncast").add(u=>{l(u,"width","width",!0),l(u,"height","height",!0)}),o.conversion.for("dataDowncast").add(u=>{l(u,"width","width",!1),l(u,"height","height",!1)})}}class _T extends at{constructor(e,o){super(e),this._modelElementName=o}refresh(){const e=this.editor.plugins.get("ImageUtils"),o=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(o):this.isEnabled=e.isBlockImage(o)}execute(e={}){const o=this.editor,r=this.editor.model,a=o.plugins.get("ImageUtils"),l=a.getClosestSelectedImageElement(r.document.selection),u=Object.fromEntries(l.getAttributes());return u.src||u.uploadId?r.change(p=>{const{setImageSizes:g=!0}=e,k=Array.from(r.markers).filter(E=>E.getRange().containsItem(l)),w=a.insertImage(u,r.createSelection(l,"on"),this._modelElementName,{setImageSizes:g});if(!w)return null;const A=p.createRangeOn(w);for(const E of k){const T=E.getRange(),D=T.root.rootName!="$graveyard"?T.getJoined(A,!0):A;p.updateMarker(E,{range:D})}return{oldElement:l,newElement:w}}):null}}var CT=d(7378),F$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(CT.A,F$),CT.A.locals;class AT extends ue{static get requires(){return[uo]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const e=this.editor.model.schema;e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["placeholder"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const e=this.editor,o=e.conversion,r=e.plugins.get("ImageUtils");o.for("editingDowncast").add(a=>{a.on("attribute:placeholder",(l,u,p)=>{if(!p.consumable.test(u.item,l.name)||!u.item.is("element","imageBlock")&&!u.item.is("element","imageInline"))return;p.consumable.consume(u.item,l.name);const g=p.writer,k=p.mapper.toViewElement(u.item),w=r.findViewImgElement(k);u.attributeNewValue?(g.addClass("image_placeholder",w),g.setStyle("background-image",`url(${u.attributeNewValue})`,w),g.setCustomProperty("editingPipeline:doNotReuseOnce",!0,w)):(g.removeClass("image_placeholder",w),g.removeStyle("background-image",w))})})}_setupLoadListener(){const e=this.editor,o=e.model,r=e.editing,a=r.view,l=e.plugins.get("ImageUtils");a.addObserver(bT),this.listenTo(a.document,"imageLoaded",(u,p)=>{const g=a.domConverter.mapDomToView(p.target);if(!g)return;const k=l.getImageWidgetFromImageView(g);if(!k)return;const w=r.mapper.toModelElement(k);w&&w.hasAttribute("placeholder")&&o.enqueueChange({isUndoable:!1},A=>{A.removeAttribute("placeholder",w)})})}}class yT extends ue{static get requires(){return[bk,vT,uo,AT,Fo]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new _T(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,o=e.t,r=e.conversion,a=e.plugins.get("ImageUtils");r.for("dataDowncast").elementToStructure({model:"imageBlock",view:(l,{writer:u})=>rT(u)}),r.for("editingDowncast").elementToStructure({model:"imageBlock",view:(l,{writer:u})=>a.toImageWidget(rT(u),u,o("image widget"))}),r.for("downcast").add(ip(a,"imageBlock","src")).add(ip(a,"imageBlock","alt")).add(mT(a,"imageBlock")),r.for("upcast").elementToElement({view:sT(e,"imageBlock"),model:(l,{writer:u})=>u.createElement("imageBlock",l.hasAttribute("src")?{src:l.getAttribute("src")}:void 0)}).add(function(l){const u=(p,g,k)=>{if(!k.consumable.test(g.viewItem,{name:!0,classes:"image"}))return;const w=l.findViewImgElement(g.viewItem);if(!w||!k.consumable.test(w,{name:!0}))return;k.consumable.consume(g.viewItem,{name:!0,classes:"image"});const A=Sn(k.convertItem(w,g.modelCursor).modelRange.getItems());A?(k.convertChildren(g.viewItem,A),k.updateConversionResult(A,g)):k.consumable.revert(g.viewItem,{name:!0,classes:"image"})};return p=>{p.on("element:figure",u)}}(a))}_setupClipboardIntegration(){const e=this.editor,o=e.model,r=e.editing.view,a=e.plugins.get("ImageUtils"),l=e.plugins.get("ClipboardPipeline");this.listenTo(l,"inputTransformation",(u,p)=>{const g=Array.from(p.content.getChildren());let k;if(!g.every(a.isInlineImageView))return;k=p.targetRanges?e.editing.mapper.toModelRange(p.targetRanges[0]):o.document.selection.getFirstRange();const w=o.createSelection(k);if(mk(o.schema,w)==="imageBlock"){const A=new Qi(r.document),E=g.map(T=>A.createElement("figure",{class:"image"},T));p.content=A.createDocumentFragment(E)}}),this.listenTo(l,"contentInsertion",(u,p)=>{p.method==="paste"&&o.change(g=>{const k=g.createRangeIn(p.content);for(const w of k.getItems())w.is("element","imageBlock")&&a.setImageNaturalSizeAttributes(w)})})}}var xT=d(3350),V$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(xT.A,V$),xT.A.locals;class $$ extends Pe{constructor(e,o=[]){super(e),this.focusTracker=new Dn,this.keystrokes=new no,this._focusables=new Lo,this.children=this.createCollection(),this._focusCycler=new zo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const r of o)this.children.add(r),this._focusables.add(r),r instanceof u9&&this._focusables.addMany(r.children);if(this._focusables.length>1)for(const r of this._focusables)U$(r)&&(r.focusCycler.on("forwardCycle",a=>{this._focusCycler.focusNext(),a.stop()}),r.focusCycler.on("backwardCycle",a=>{this._focusCycler.focusPrevious(),a.stop()}));this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),uh({view:this});for(const o of this._focusables)this.focusTracker.add(o.element);this.keystrokes.listenTo(this.element);const e=o=>o.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}function U$(s){return"focusCycler"in s}class ET extends ue{constructor(e){super(e),this._integrations=new Map,e.config.define("image.insert.integrations",["upload","assetManager","url"])}static get pluginName(){return"ImageInsertUI"}static get requires(){return[uo]}init(){const e=this.editor,o=e.model.document.selection,r=e.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(e.model.document,"change",()=>{this.isImageSelected=r.isImage(o.getSelectedElement())});const a=l=>this._createToolbarComponent(l);e.ui.componentFactory.add("insertImage",a),e.ui.componentFactory.add("imageInsert",a)}registerIntegration({name:e,observable:o,buttonViewCreator:r,formViewCreator:a,requiresForm:l}){this._integrations.has(e)&&U("image-insert-integration-exists",{name:e}),this._integrations.set(e,{observable:o,buttonViewCreator:r,formViewCreator:a,requiresForm:!!l})}_createToolbarComponent(e){const o=this.editor,r=e.t,a=this._prepareIntegrations();if(!a.length)return null;let l;const u=a[0];if(a.length==1){if(!u.requiresForm)return u.buttonViewCreator(!0);l=u.buttonViewCreator(!0)}else{const k=u.buttonViewCreator(!1);l=new Nh(e,k),l.tooltip=!0,l.bind("label").to(this,"isImageSelected",w=>r(w?"Replace image":"Insert image"))}const p=this.dropdownView=Ji(e,l),g=a.map(({observable:k})=>typeof k=="function"?k():k);return p.bind("isEnabled").toMany(g,"isEnabled",(...k)=>k.some(w=>w)),p.once("change:isOpen",()=>{const k=a.map(({formViewCreator:A})=>A(a.length==1)),w=new $$(o.locale,k);p.panelView.children.add(w)}),p}_prepareIntegrations(){const e=this.editor.config.get("image.insert.integrations"),o=[];if(!e.length)return U("image-insert-integrations-not-specified"),o;for(const r of e)this._integrations.has(r)?o.push(this._integrations.get(r)):["upload","assetManager","url"].includes(r)||U("image-insert-unknown-integration",{item:r});return o.length||U("image-insert-integrations-not-registered"),o}}var TT=d(265),H$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(TT.A,H$),TT.A.locals;class W$ extends ue{static get requires(){return[yT,Ol,gT,ET]}static get pluginName(){return"ImageBlock"}}class q$ extends ue{static get requires(){return[bk,vT,uo,AT,Fo]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,o=e.model.schema;o.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),o.addChildCheck((r,a)=>{if(r.endsWith("caption")&&a.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new _T(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,o=e.t,r=e.conversion,a=e.plugins.get("ImageUtils");r.for("dataDowncast").elementToElement({model:"imageInline",view:(l,{writer:u})=>u.createEmptyElement("img")}),r.for("editingDowncast").elementToStructure({model:"imageInline",view:(l,{writer:u})=>a.toImageWidget(function(p){return p.createContainerElement("span",{class:"image-inline"},p.createEmptyElement("img"))}(u),u,o("image widget"))}),r.for("downcast").add(ip(a,"imageInline","src")).add(ip(a,"imageInline","alt")).add(mT(a,"imageInline")),r.for("upcast").elementToElement({view:sT(e,"imageInline"),model:(l,{writer:u})=>u.createElement("imageInline",l.hasAttribute("src")?{src:l.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,o=e.model,r=e.editing.view,a=e.plugins.get("ImageUtils"),l=e.plugins.get("ClipboardPipeline");this.listenTo(l,"inputTransformation",(u,p)=>{const g=Array.from(p.content.getChildren());let k;if(!g.every(a.isBlockImageView))return;k=p.targetRanges?e.editing.mapper.toModelRange(p.targetRanges[0]):o.document.selection.getFirstRange();const w=o.createSelection(k);if(mk(o.schema,w)==="imageInline"){const A=new Qi(r.document),E=g.map(T=>T.childCount===1?(Array.from(T.getAttributes()).forEach(D=>A.setAttribute(...D,a.findViewImgElement(T))),T.getChild(0)):T);p.content=A.createDocumentFragment(E)}}),this.listenTo(l,"contentInsertion",(u,p)=>{p.method==="paste"&&o.change(g=>{const k=g.createRangeIn(p.content);for(const w of k.getItems())w.is("element","imageInline")&&a.setImageNaturalSizeAttributes(w)})})}}class G$ extends ue{static get requires(){return[q$,Ol,gT,ET]}static get pluginName(){return"ImageInline"}}class IT extends ue{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[uo]}getCaptionFromImageModelElement(e){for(const o of e.getChildren())if(o&&o.is("element","caption"))return o;return null}getCaptionFromModelSelection(e){const o=this.editor.plugins.get("ImageUtils"),r=e.getFirstPosition().findAncestor("caption");return r&&o.isBlockImage(r.parent)?r:null}matchImageCaptionViewElement(e){const o=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&o.isBlockImageView(e.parent)?{name:!0}:null}}class K$ extends at{refresh(){const e=this.editor,o=e.plugins.get("ImageCaptionUtils"),r=e.plugins.get("ImageUtils");if(!e.plugins.has(yT))return this.isEnabled=!1,void(this.value=!1);const a=e.model.document.selection,l=a.getSelectedElement();if(!l){const u=o.getCaptionFromModelSelection(a);return this.isEnabled=!!u,void(this.value=!!u)}this.isEnabled=r.isImage(l),this.isEnabled?this.value=!!o.getCaptionFromImageModelElement(l):this.value=!1}execute(e={}){const{focusCaptionOnShow:o}=e;this.editor.model.change(r=>{this.value?this._hideImageCaption(r):this._showImageCaption(r,o)})}_showImageCaption(e,o){const r=this.editor.model.document.selection,a=this.editor.plugins.get("ImageCaptionEditing"),l=this.editor.plugins.get("ImageUtils");let u=r.getSelectedElement();const p=a._getSavedCaption(u);l.isInlineImage(u)&&(this.editor.execute("imageTypeBlock"),u=r.getSelectedElement());const g=p||e.createElement("caption");e.append(g,u),o&&e.setSelection(g,"in")}_hideImageCaption(e){const o=this.editor,r=o.model.document.selection,a=o.plugins.get("ImageCaptionEditing"),l=o.plugins.get("ImageCaptionUtils");let u,p=r.getSelectedElement();p?u=l.getCaptionFromImageModelElement(p):(u=l.getCaptionFromModelSelection(r),p=u.parent),a._saveCaption(p,u),e.setSelection(p,"on"),e.remove(u)}}class Y$ extends ue{constructor(e){super(e),this._savedCaptionsMap=new WeakMap}static get requires(){return[uo,IT]}static get pluginName(){return"ImageCaptionEditing"}init(){const e=this.editor,o=e.model.schema;o.isRegistered("caption")?o.extend("caption",{allowIn:"imageBlock"}):o.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new K$(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,o=e.editing.view,r=e.plugins.get("ImageUtils"),a=e.plugins.get("ImageCaptionUtils"),l=e.t;e.conversion.for("upcast").elementToElement({view:u=>a.matchImageCaptionViewElement(u),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(u,{writer:p})=>r.isBlockImage(u.parent)?p.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(u,{writer:p})=>{if(!r.isBlockImage(u.parent))return null;const g=p.createEditableElement("figcaption");p.setCustomProperty("imageCaption",!0,g),g.placeholder=l("Enter image caption"),qA({view:o,element:g,keepOnFocus:!0});const k=u.parent.getAttribute("alt");return i2(g,p,{label:k?l("Caption for image: %0",[k]):l("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,o=e.plugins.get("ImageUtils"),r=e.plugins.get("ImageCaptionUtils"),a=e.commands.get("imageTypeInline"),l=e.commands.get("imageTypeBlock"),u=p=>{if(!p.return)return;const{oldElement:g,newElement:k}=p.return;if(!g)return;if(o.isBlockImage(g)){const A=r.getCaptionFromImageModelElement(g);if(A)return void this._saveCaption(k,A)}const w=this._getSavedCaption(g);w&&this._saveCaption(k,w)};a&&this.listenTo(a,"execute",u,{priority:"low"}),l&&this.listenTo(l,"execute",u,{priority:"low"})}_getSavedCaption(e){const o=this._savedCaptionsMap.get(e);return o?Mt.fromJSON(o):null}_saveCaption(e,o){this._savedCaptionsMap.set(e,o.toJSON())}_registerCaptionReconversion(){const e=this.editor,o=e.model,r=e.plugins.get("ImageUtils"),a=e.plugins.get("ImageCaptionUtils");o.document.on("change:data",()=>{const l=o.document.differ.getChanges();for(const u of l){if(u.attributeKey!=="alt")continue;const p=u.range.start.nodeAfter;if(r.isBlockImage(p)){const g=a.getCaptionFromImageModelElement(p);if(!g)return;e.editing.reconvertItem(g)}}})}}class Q$ extends ue{static get requires(){return[IT]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,o=e.editing.view,r=e.plugins.get("ImageCaptionUtils"),a=e.t;e.ui.componentFactory.add("toggleImageCaption",l=>{const u=e.commands.get("toggleImageCaption"),p=new vt(l);return p.set({icon:We.caption,tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(u,"value","isEnabled"),p.bind("label").to(u,"value",g=>a(g?"Toggle caption off":"Toggle caption on")),this.listenTo(p,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const g=r.getCaptionFromModelSelection(e.model.document.selection);if(g){const k=e.editing.mapper.toViewElement(g);o.scrollToTheSelection(),o.change(w=>{w.addClass("image__caption_highlighted",k)})}e.editing.view.focus()}),p})}}var ST=d(5247),Z$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(ST.A,Z$),ST.A.locals;function DT(s){const e=s.map(o=>o.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function J$(s){return new Promise((e,o)=>{const r=s.getAttribute("src");fetch(r).then(a=>a.blob()).then(a=>{const l=MT(a,r),u=l.replace("image/",""),p=new File([a],`image.${u}`,{type:l});e(p)}).catch(a=>a&&a.name==="TypeError"?function(l){return function(u){return new Promise((p,g)=>{const k=b.document.createElement("img");k.addEventListener("load",()=>{const w=b.document.createElement("canvas");w.width=k.width,w.height=k.height,w.getContext("2d").drawImage(k,0,0),w.toBlob(A=>A?p(A):g())}),k.addEventListener("error",()=>g()),k.src=u})}(l).then(u=>{const p=MT(u,l),g=p.replace("image/","");return new File([u],`image.${g}`,{type:p})})}(r).then(e).catch(o):o(a))})}function MT(s,e){return s.type?s.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class X$ extends ue{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,o=e.t,r=()=>{const a=this._createButton(J1);return a.set({label:o("Upload image from computer"),tooltip:!0}),a};if(e.ui.componentFactory.add("uploadImage",r),e.ui.componentFactory.add("imageUpload",r),e.ui.componentFactory.add("menuBar:uploadImage",()=>{const a=this._createButton(vE);return a.label=o("Image from computer"),a}),e.plugins.has("ImageInsertUI")){const a=e.plugins.get("ImageInsertUI");a.registerIntegration({name:"upload",observable:()=>e.commands.get("uploadImage"),buttonViewCreator:()=>{const l=e.ui.componentFactory.create("uploadImage");return l.bind("label").to(a,"isImageSelected",u=>o(u?"Replace image from computer":"Upload image from computer")),l},formViewCreator:()=>{const l=e.ui.componentFactory.create("uploadImage");return l.withText=!0,l.bind("label").to(a,"isImageSelected",u=>o(u?"Replace from computer":"Upload from computer")),l.on("execute",()=>{a.dropdownView.isOpen=!1}),l}})}}_createButton(e){const o=this.editor,r=o.locale,a=o.commands.get("uploadImage"),l=o.config.get("image.upload.types"),u=DT(l),p=new e(o.locale),g=r.t;return p.set({acceptedType:l.map(k=>`image/${k}`).join(","),allowMultipleFiles:!0,label:g("Upload image from computer"),icon:We.imageUpload}),p.bind("isEnabled").to(a),p.on("done",(k,w)=>{const A=Array.from(w).filter(E=>u.test(E.type));A.length&&(o.execute("uploadImage",{file:A}),o.editing.view.focus())}),p}}var PT=d(2267),eU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(PT.A,eU),PT.A.locals;var RT=d(7693),tU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(RT.A,tU),RT.A.locals;var BT=d(1559),nU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(BT.A,nU),BT.A.locals;class oU extends ue{constructor(e){super(e),this.uploadStatusChange=(o,r,a)=>{const l=this.editor,u=r.item,p=u.getAttribute("uploadId");if(!a.consumable.consume(r.item,o.name))return;const g=l.plugins.get("ImageUtils"),k=l.plugins.get(pi),w=p?r.attributeNewValue:null,A=this.placeholder,E=l.editing.mapper.toViewElement(u),T=a.writer;if(w=="reading")return NT(E,T),void OT(g,A,E,T);if(w=="uploading"){const D=k.loaders.get(p);return NT(E,T),void(D?(LT(E,T),function(B,z,$,q){const Z=function(ae){const ke=ae.createUIElement("div",{class:"ck-progress-bar"});return ae.setCustomProperty("progressBar",!0,ke),ke}(z);z.insert(z.createPositionAt(B,"end"),Z),$.on("change:uploadedPercent",(ae,ke,Oe)=>{q.change(Je=>{Je.setStyle("width",Oe+"%",Z)})})}(E,T,D,l.editing.view),function(B,z,$,q){if(q.data){const Z=B.findViewImgElement(z);$.setAttribute("src",q.data,Z)}}(g,E,T,D)):OT(g,A,E,T))}w=="complete"&&k.loaders.get(p)&&function(D,B,z){const $=B.createUIElement("div",{class:"ck-image-upload-complete-icon"});B.insert(B.createPositionAt(D,"end"),$),setTimeout(()=>{z.change(q=>q.remove(q.createRangeOn($)))},3e3)}(E,T,l.editing.view),function(D,B){zT(D,B,"progressBar")}(E,T),LT(E,T),function(D,B){B.removeClass("ck-appear",D)}(E,T)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function NT(s,e){s.hasClass("ck-appear")||e.addClass("ck-appear",s)}function OT(s,e,o,r){o.hasClass("ck-image-upload-placeholder")||r.addClass("ck-image-upload-placeholder",o);const a=s.findViewImgElement(o);a.getAttribute("src")!==e&&r.setAttribute("src",e,a),jT(o,"placeholder")||r.insert(r.createPositionAfter(a),function(l){const u=l.createUIElement("div",{class:"ck-upload-placeholder-loader"});return l.setCustomProperty("placeholder",!0,u),u}(r))}function LT(s,e){s.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",s),zT(s,e,"placeholder")}function jT(s,e){for(const o of s.getChildren())if(o.getCustomProperty(e))return o}function zT(s,e,o){const r=jT(s,o);r&&e.remove(e.createRangeOn(r))}var iU=Object.defineProperty,rU=Object.defineProperties,sU=Object.getOwnPropertyDescriptors,FT=Object.getOwnPropertySymbols,aU=Object.prototype.hasOwnProperty,cU=Object.prototype.propertyIsEnumerable,VT=(s,e,o)=>e in s?iU(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o;class lU extends at{refresh(){const e=this.editor,o=e.plugins.get("ImageUtils"),r=e.model.document.selection.getSelectedElement();this.isEnabled=o.isImageAllowed()||o.isImage(r)}execute(e){const o=Ft(e.file),r=this.editor.model.document.selection,a=this.editor.plugins.get("ImageUtils"),l=Object.fromEntries(r.getAttributes());o.forEach((u,p)=>{const g=r.getSelectedElement();if(p&&g&&a.isImage(g)){const k=this.editor.model.createPositionAfter(g);this._uploadImage(u,l,k)}else this._uploadImage(u,l)})}_uploadImage(e,o,r){const a=this.editor,l=a.plugins.get(pi).createLoader(e),u=a.plugins.get("ImageUtils");var p,g;l&&u.insertImage((p=((k,w)=>{for(var A in w||(w={}))aU.call(w,A)&&VT(k,A,w[A]);if(FT)for(var A of FT(w))cU.call(w,A)&&VT(k,A,w[A]);return k})({},o),g={uploadId:l.id},rU(p,sU(g))),r)}}class dU extends ue{constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[pi,Xb,Fo,uo]}static get pluginName(){return"ImageUploadEditing"}init(){const e=this.editor,o=e.model.document,r=e.conversion,a=e.plugins.get(pi),l=e.plugins.get("ImageUtils"),u=e.plugins.get("ClipboardPipeline"),p=DT(e.config.get("image.upload.types")),g=new lU(e);e.commands.add("uploadImage",g),e.commands.add("imageUpload",g),r.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(k,w)=>{if(A=w.dataTransfer,Array.from(A.types).includes("text/html")&&A.getData("text/html")!=="")return;var A;const E=Array.from(w.dataTransfer.files).filter(T=>!!T&&p.test(T.type));E.length&&(k.stop(),e.model.change(T=>{w.targetRanges&&T.setSelection(w.targetRanges.map(D=>e.editing.mapper.toModelRange(D))),e.execute("uploadImage",{file:E})}))}),this.listenTo(u,"inputTransformation",(k,w)=>{const A=Array.from(e.editing.view.createRangeIn(w.content)).map(T=>T.item).filter(T=>function(D,B){return!(!D.isInlineImageView(B)||!B.getAttribute("src")||!B.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!B.getAttribute("src").match(/^blob:/g))}(l,T)&&!T.getAttribute("uploadProcessed")).map(T=>({promise:J$(T),imageElement:T}));if(!A.length)return;const E=new Qi(e.editing.view.document);for(const T of A){E.setAttribute("uploadProcessed",!0,T.imageElement);const D=a.createLoader(T.promise);D&&(E.setAttribute("src","",T.imageElement),E.setAttribute("uploadId",D.id,T.imageElement))}}),e.editing.view.document.on("dragover",(k,w)=>{w.preventDefault()}),o.on("change",()=>{const k=o.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),w=new Set;for(const A of k)if(A.type=="insert"&&A.name!="$text"){const E=A.position.nodeAfter,T=A.position.root.rootName=="$graveyard";for(const D of uU(e,E)){const B=D.getAttribute("uploadId");if(!B)continue;const z=a.loaders.get(B);z&&(T?w.has(B)||z.abort():(w.add(B),this._uploadImageElements.set(B,D),z.status=="idle"&&this._readAndUpload(z)))}}}),this.on("uploadComplete",(k,{imageElement:w,data:A})=>{const E=A.urls?A.urls:A;this.editor.model.change(T=>{T.setAttribute("src",E.default,w),this._parseAndSetSrcsetAttributeOnImage(E,w,T),l.setImageNaturalSizeAttributes(w)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const o=this.editor,r=o.model,a=o.locale.t,l=o.plugins.get(pi),u=o.plugins.get(Xb),p=o.plugins.get("ImageUtils"),g=this._uploadImageElements;return r.enqueueChange({isUndoable:!1},w=>{w.setAttribute("uploadStatus","reading",g.get(e.id))}),e.read().then(()=>{const w=e.upload(),A=g.get(e.id);if(C.isSafari){const E=o.editing.mapper.toViewElement(A),T=p.findViewImgElement(E);o.editing.view.once("render",()=>{if(!T.parent)return;const D=o.editing.view.domConverter.mapViewToDom(T.parent);if(!D)return;const B=D.style.display;D.style.display="none",D._ckHack=D.offsetHeight,D.style.display=B})}return o.ui&&o.ui.ariaLiveAnnouncer.announce(a("Uploading image")),r.enqueueChange({isUndoable:!1},E=>{E.setAttribute("uploadStatus","uploading",A)}),w}).then(w=>{r.enqueueChange({isUndoable:!1},A=>{const E=g.get(e.id);A.setAttribute("uploadStatus","complete",E),o.ui&&o.ui.ariaLiveAnnouncer.announce(a("Image upload complete")),this.fire("uploadComplete",{data:w,imageElement:E})}),k()}).catch(w=>{if(o.ui&&o.ui.ariaLiveAnnouncer.announce(a("Error during image upload")),e.status!=="error"&&e.status!=="aborted")throw w;e.status=="error"&&w&&u.showWarning(w,{title:a("Upload failed"),namespace:"upload"}),r.enqueueChange({isUndoable:!1},A=>{A.remove(g.get(e.id))}),k()});function k(){r.enqueueChange({isUndoable:!1},w=>{const A=g.get(e.id);w.removeAttribute("uploadId",A),w.removeAttribute("uploadStatus",A),g.delete(e.id)}),l.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,o,r){let a=0;const l=Object.keys(e).filter(u=>{const p=parseInt(u,10);if(!isNaN(p))return a=Math.max(a,p),!0}).map(u=>`${e[u]} ${u}w`).join(", ");if(l!=""){const u={srcset:l};o.hasAttribute("width")||o.hasAttribute("height")||(u.width=a),r.setAttributes(u,o)}}}function uU(s,e){const o=s.plugins.get("ImageUtils");return Array.from(s.model.createRangeOn(e)).filter(r=>o.isImage(r.item)).map(r=>r.item)}var $T=d(4642),hU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()($T.A,hU),$T.A.locals;var UT=d(3469),pU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(UT.A,pU),UT.A.locals;class fU extends at{constructor(e,o){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(o.map(r=>{if(r.isDefault)for(const a of r.modelElements)this._defaultStyles[a]=r.name;return[r.name,r]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(e={}){const o=this.editor,r=o.model,a=o.plugins.get("ImageUtils");r.change(l=>{const u=e.value,{setImageSizes:p=!0}=e;let g=a.getClosestSelectedImageElement(r.document.selection);u&&this.shouldConvertImageType(u,g)&&(this.editor.execute(a.isBlockImage(g)?"imageTypeInline":"imageTypeBlock",{setImageSizes:p}),g=a.getClosestSelectedImageElement(r.document.selection)),!u||this._styles.get(u).isDefault?l.removeAttribute("imageStyle",g):l.setAttribute("imageStyle",u,g),p&&a.setImageNaturalSizeAttributes(g)})}shouldConvertImageType(e,o){return!this._styles.get(e).modelElements.includes(o.name)}}var gU=Object.defineProperty,HT=Object.getOwnPropertySymbols,mU=Object.prototype.hasOwnProperty,bU=Object.prototype.propertyIsEnumerable,WT=(s,e,o)=>e in s?gU(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,qT=(s,e)=>{for(var o in e||(e={}))mU.call(e,o)&&WT(s,o,e[o]);if(HT)for(var o of HT(e))bU.call(e,o)&&WT(s,o,e[o]);return s};const{objectFullWidth:kU,objectInline:GT,objectLeft:KT,objectRight:kk,objectCenter:wk,objectBlockLeft:YT,objectBlockRight:QT}=We,sp={get inline(){return{name:"inline",title:"In line",icon:GT,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:KT,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:YT,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:wk,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:kk,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:QT,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:wk,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:kk,modelElements:["imageBlock"],className:"image-style-side"}}},ZT={full:kU,left:YT,right:QT,center:wk,inlineLeft:KT,inlineRight:kk,inline:GT},JT=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function XT(s){U("image-style-configuration-definition-invalid",s)}const vk={normalizeStyles:function(s){return(s.configuredStyles.options||[]).map(e=>function(o){return o=typeof o=="string"?sp[o]?qT({},sp[o]):{name:o}:function(r,a){const l=qT({},a);for(const u in r)Object.prototype.hasOwnProperty.call(a,u)||(l[u]=r[u]);return l}(sp[o.name],o),typeof o.icon=="string"&&(o.icon=ZT[o.icon]||o.icon),o}(e)).filter(e=>function(o,{isBlockPluginLoaded:r,isInlinePluginLoaded:a}){const{modelElements:l,name:u}=o;if(!(l&&l.length&&u))return XT({style:o}),!1;{const p=[r?"imageBlock":null,a?"imageInline":null];if(!l.some(g=>p.includes(g)))return U("image-style-missing-dependency",{style:o,missingPlugins:l.map(g=>g==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,s))},getDefaultStylesConfiguration:function(s,e){return s&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:s?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(s){return s.has("ImageBlockEditing")&&s.has("ImageInlineEditing")?[...JT]:[]},warnInvalidStyle:XT,DEFAULT_OPTIONS:sp,DEFAULT_ICONS:ZT,DEFAULT_DROPDOWN_DEFINITIONS:JT};function eI(s,e){for(const o of e)if(o.name===s)return o}class tI extends ue{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[uo]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:o}=vk,r=this.editor,a=r.plugins.has("ImageBlockEditing"),l=r.plugins.has("ImageInlineEditing");r.config.define("image.styles",o(a,l)),this.normalizedStyles=e({configuredStyles:r.config.get("image.styles"),isBlockPluginLoaded:a,isInlinePluginLoaded:l}),this._setupConversion(a,l),this._setupPostFixer(),r.commands.add("imageStyle",new fU(r,this.normalizedStyles))}_setupConversion(e,o){const r=this.editor,a=r.model.schema,l=(u=this.normalizedStyles,(g,k,w)=>{if(!w.consumable.consume(k.item,g.name))return;const A=eI(k.attributeNewValue,u),E=eI(k.attributeOldValue,u),T=w.mapper.toViewElement(k.item),D=w.writer;E&&D.removeClass(E.className,T),A&&D.addClass(A.className,T)});var u;const p=function(g){const k={imageInline:g.filter(w=>!w.isDefault&&w.modelElements.includes("imageInline")),imageBlock:g.filter(w=>!w.isDefault&&w.modelElements.includes("imageBlock"))};return(w,A,E)=>{if(!A.modelRange)return;const T=A.viewItem,D=Sn(A.modelRange.getItems());if(D&&E.schema.checkAttribute(D,"imageStyle"))for(const B of k[D.name])E.consumable.consume(T,{classes:B.className})&&E.writer.setAttribute("imageStyle",B.name,D)}}(this.normalizedStyles);r.editing.downcastDispatcher.on("attribute:imageStyle",l),r.data.downcastDispatcher.on("attribute:imageStyle",l),e&&(a.extend("imageBlock",{allowAttributes:"imageStyle"}),r.data.upcastDispatcher.on("element:figure",p,{priority:"low"})),o&&(a.extend("imageInline",{allowAttributes:"imageStyle"}),r.data.upcastDispatcher.on("element:img",p,{priority:"low"}))}_setupPostFixer(){const e=this.editor,o=e.model.document,r=e.plugins.get(uo),a=new Map(this.normalizedStyles.map(l=>[l.name,l]));o.registerPostFixer(l=>{let u=!1;for(const p of o.differ.getChanges())if(p.type=="insert"||p.type=="attribute"&&p.attributeKey=="imageStyle"){let g=p.type=="insert"?p.position.nodeAfter:p.range.start.nodeAfter;if(g&&g.is("element","paragraph")&&g.childCount>0&&(g=g.getChild(0)),!r.isImage(g))continue;const k=g.getAttribute("imageStyle");if(!k)continue;const w=a.get(k);w&&w.modelElements.includes(g.name)||(l.removeAttribute("imageStyle",g),u=!0)}return u})}}var nI=d(6386),wU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(nI.A,wU),nI.A.locals;class vU extends ue{static get requires(){return[tI]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,o=this.editor.config.get("image.toolbar")||[],r=oI(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const l of r)this._createButton(l);const a=oI([...o.filter(Te),...vk.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const l of a)this._createDropdown(l,r)}_createDropdown(e,o){const r=this.editor.ui.componentFactory;r.add(e.name,a=>{let l;const{defaultItem:u,items:p,title:g}=e,k=p.filter(T=>o.find(({name:D})=>iI(D)===T)).map(T=>{const D=r.create(T);return T===u&&(l=D),D});p.length!==k.length&&vk.warnInvalidStyle({dropdown:e});const w=Ji(a,Nh),A=w.buttonView,E=A.arrowView;return Kb(w,k,{enableActiveItemFocusOnDropdownOpen:!0}),A.set({label:rI(g,l.label),class:null,tooltip:!0}),E.unbind("label"),E.set({label:g}),A.bind("icon").toMany(k,"isOn",(...T)=>{const D=T.findIndex(yr);return D<0?l.icon:k[D].icon}),A.bind("label").toMany(k,"isOn",(...T)=>{const D=T.findIndex(yr);return rI(g,D<0?l.label:k[D].label)}),A.bind("isOn").toMany(k,"isOn",(...T)=>T.some(yr)),A.bind("class").toMany(k,"isOn",(...T)=>T.some(yr)?"ck-splitbutton_flatten":void 0),A.on("execute",()=>{k.some(({isOn:T})=>T)?w.isOpen=!w.isOpen:l.fire("execute")}),w.bind("isEnabled").toMany(k,"isEnabled",(...T)=>T.some(yr)),this.listenTo(w,"execute",()=>{this.editor.editing.view.focus()}),w})}_createButton(e){const o=e.name;this.editor.ui.componentFactory.add(iI(o),r=>{const a=this.editor.commands.get("imageStyle"),l=new vt(r);return l.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),l.bind("isEnabled").to(a,"isEnabled"),l.bind("isOn").to(a,"value",u=>u===o),l.on("execute",this._executeCommand.bind(this,o)),l})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function oI(s,e){for(const o of s)e[o.title]&&(o.title=e[o.title]);return s}function iI(s){return`imageStyle:${s}`}function rI(s,e){return(s?s+": ":"")+e}class _U extends ue{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new FA(e)),e.commands.add("outdent",new FA(e))}}class CU extends ue{static get pluginName(){return"IndentUI"}init(){const e=this.editor,o=e.locale,r=e.t,a=o.uiLanguageDirection=="ltr"?We.indent:We.outdent,l=o.uiLanguageDirection=="ltr"?We.outdent:We.indent;this._defineButton("indent",r("Increase indent"),a),this._defineButton("outdent",r("Decrease indent"),l)}_defineButton(e,o,r){const a=this.editor;a.ui.componentFactory.add(e,()=>{const l=this._createButton(vt,e,o,r);return l.set({tooltip:!0}),l}),a.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(To,e,o,r))}_createButton(e,o,r,a){const l=this.editor,u=l.commands.get(o),p=new e(l.locale);return p.set({label:r,icon:a}),p.bind("isEnabled").to(u,"isEnabled"),this.listenTo(p,"execute",()=>{l.execute(o),l.editing.view.focus()}),p}}class AU{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(o=>this._definitions.add(o)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(o,r,a)=>{if(!a.consumable.test(r.item,"attribute:linkHref")||!r.item.is("selection")&&!a.schema.isInline(r.item))return;const l=a.writer,u=l.document.selection;for(const p of this._definitions){const g=l.createAttributeElement("a",p.attributes,{priority:5});p.classes&&l.addClass(p.classes,g);for(const k in p.styles)l.setStyle(k,p.styles[k],g);l.setCustomProperty("link",!0,g),p.callback(r.attributeNewValue)?r.item.is("selection")?l.wrap(u.getFirstRange(),g):l.wrap(a.mapper.toViewRange(r.range),g):l.unwrap(a.mapper.toViewRange(r.range),g)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(o,r,{writer:a,mapper:l})=>{const u=l.toViewElement(r.item),p=Array.from(u.getChildren()).find(g=>g.is("element","a"));for(const g of this._definitions){const k=wi(g.attributes);if(g.callback(r.attributeNewValue)){for(const[w,A]of k)w==="class"?a.addClass(A,p):a.setAttribute(w,A,p);g.classes&&a.addClass(g.classes,p);for(const w in g.styles)a.setStyle(w,g.styles[w],p)}else{for(const[w,A]of k)w==="class"?a.removeClass(A,p):a.removeAttribute(w,p);g.classes&&a.removeClass(g.classes,p);for(const w in g.styles)a.removeStyle(w,p)}}})}}}const yU=function(s,e,o){var r=s.length;return o=o===void 0?r:o,!e&&o>=r?s:JA(s,e,o)};var xU=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const sI=function(s){return xU.test(s)},EU=function(s){return s.split("")};var aI="\\ud800-\\udfff",TU="["+aI+"]",_k="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ck="\\ud83c[\\udffb-\\udfff]",cI="[^"+aI+"]",lI="(?:\\ud83c[\\udde6-\\uddff]){2}",dI="[\\ud800-\\udbff][\\udc00-\\udfff]",uI="(?:"+_k+"|"+Ck+")?",hI="[\\ufe0e\\ufe0f]?",IU=hI+uI+("(?:\\u200d(?:"+[cI,lI,dI].join("|")+")"+hI+uI+")*"),SU="(?:"+[cI+_k+"?",_k,lI,dI,TU].join("|")+")",DU=RegExp(Ck+"(?="+Ck+")|"+SU+IU,"g");const MU=function(s){return s.match(DU)||[]},PU=function(s){return sI(s)?MU(s):EU(s)},RU=function(s){return function(e){e=ub(e);var o=sI(e)?PU(e):void 0,r=o?o[0]:e.charAt(0),a=o?yU(o,1).join(""):e.slice(1);return r[s]()+a}}("toUpperCase"),BU=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,NU=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,OU=/^((\w+:(\/{2,})?)|(\W))/i,LU=["https?","ftps?","mailto"],ap="Ctrl+K";function pI(s,{writer:e}){const o=e.createAttributeElement("a",{href:s},{priority:5});return e.setCustomProperty("link",!0,o),o}function fI(s,e=LU){const o=String(s),r=e.join("|");return function(a,l){return!!a.replace(BU,"").match(l)}(o,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",r)}`,"i"))?o:"#"}function Ak(s,e){return!!s&&e.checkAttribute(s.name,"linkHref")}function yk(s,e){const o=(r=s,NU.test(r)?"mailto:":e);var r;const a=!!o&&!gI(s);return s&&a?o+s:s}function gI(s){return OU.test(s)}function mI(s){window.open(s,"_blank","noopener")}class jU extends at{constructor(){super(...arguments),this.manualDecorators=new si,this.automaticDecorators=new AU}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,o=e.document.selection,r=o.getSelectedElement()||Sn(o.getSelectedBlocks());Ak(r,e.schema)?(this.value=r.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(r,"linkHref")):(this.value=o.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(o,"linkHref"));for(const a of this.manualDecorators)a.value=this._getDecoratorStateFromModel(a.id)}execute(e,o={}){const r=this.editor.model,a=r.document.selection,l=[],u=[];for(const p in o)o[p]?l.push(p):u.push(p);r.change(p=>{if(a.isCollapsed){const g=a.getFirstPosition();if(a.hasAttribute("linkHref")){const k=bI(a);let w=Gh(g,"linkHref",a.getAttribute("linkHref"),r);a.getAttribute("linkHref")===k&&(w=this._updateLinkContent(r,p,w,e)),p.setAttribute("linkHref",e,w),l.forEach(A=>{p.setAttribute(A,!0,w)}),u.forEach(A=>{p.removeAttribute(A,w)}),p.setSelection(p.createPositionAfter(w.end.nodeBefore))}else if(e!==""){const k=wi(a.getAttributes());k.set("linkHref",e),l.forEach(A=>{k.set(A,!0)});const{end:w}=r.insertContent(p.createText(e,k),g);p.setSelection(w)}["linkHref",...l,...u].forEach(k=>{p.removeSelectionAttribute(k)})}else{const g=r.schema.getValidRanges(a.getRanges(),"linkHref"),k=[];for(const A of a.getSelectedBlocks())r.schema.checkAttribute(A,"linkHref")&&k.push(p.createRangeOn(A));const w=k.slice();for(const A of g)this._isRangeToUpdate(A,k)&&w.push(A);for(const A of w){let E=A;if(w.length===1){const T=bI(a);a.getAttribute("linkHref")===T&&(E=this._updateLinkContent(r,p,A,e),p.setSelection(p.createSelection(E)))}p.setAttribute("linkHref",e,E),l.forEach(T=>{p.setAttribute(T,!0,E)}),u.forEach(T=>{p.removeAttribute(T,E)})}}})}_getDecoratorStateFromModel(e){const o=this.editor.model,r=o.document.selection,a=r.getSelectedElement();return Ak(a,o.schema)?a.getAttribute(e):r.getAttribute(e)}_isRangeToUpdate(e,o){for(const r of o)if(r.containsRange(e))return!1;return!0}_updateLinkContent(e,o,r,a){const l=o.createText(a,{linkHref:a});return e.insertContent(l,r)}}function bI(s){if(s.isCollapsed){const e=s.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(s.getFirstRange().getItems());if(e.length>1)return null;const o=e[0];return o.is("$text")||o.is("$textProxy")?o.data:null}}class zU extends at{refresh(){const e=this.editor.model,o=e.document.selection,r=o.getSelectedElement();Ak(r,e.schema)?this.isEnabled=e.schema.checkAttribute(r,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(o,"linkHref")}execute(){const e=this.editor,o=this.editor.model,r=o.document.selection,a=e.commands.get("link");o.change(l=>{const u=r.isCollapsed?[Gh(r.getFirstPosition(),"linkHref",r.getAttribute("linkHref"),o)]:o.schema.getValidRanges(r.getRanges(),"linkHref");for(const p of u)if(l.removeAttribute("linkHref",p),a)for(const g of a.manualDecorators)l.removeAttribute(g.id,p)})}}class FU extends Y(){constructor({id:e,label:o,attributes:r,classes:a,styles:l,defaultValue:u}){super(),this.id=e,this.set("value",void 0),this.defaultValue=u,this.label=o,this.attributes=r,this.classes=a,this.styles=l}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var kI=d(7719),VU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(kI.A,VU),kI.A.locals;var $U=Object.defineProperty,wI=Object.getOwnPropertySymbols,UU=Object.prototype.hasOwnProperty,HU=Object.prototype.propertyIsEnumerable,vI=(s,e,o)=>e in s?$U(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,WU=(s,e)=>{for(var o in e||(e={}))UU.call(e,o)&&vI(s,o,e[o]);if(wI)for(var o of wI(e))HU.call(e,o)&&vI(s,o,e[o]);return s};const _I="automatic",qU=/^(https?:)?\/\//;class CI extends ue{static get pluginName(){return"LinkEditing"}static get requires(){return[GE,FE,Fo]}constructor(e){super(e),e.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const e=this.editor,o=this.editor.config.get("link.allowedProtocols");e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:pI}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(a,l)=>pI(fI(a,o),l)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:a=>a.getAttribute("href")}}),e.commands.add("link",new jU(e)),e.commands.add("unlink",new zU(e));const r=function(a,l){const u={"Open in a new tab":a("Open in a new tab"),Downloadable:a("Downloadable")};return l.forEach(p=>("label"in p&&u[p.label]&&(p.label=u[p.label]),p)),l}(e.t,function(a){const l=[];if(a)for(const[u,p]of Object.entries(a)){const g=Object.assign({},p,{id:`link${RU(u)}`});l.push(g)}return l}(e.config.get("link.decorators")));this._enableAutomaticDecorators(r.filter(a=>a.mode===_I)),this._enableManualDecorators(r.filter(a=>a.mode==="manual")),e.plugins.get(GE).registerAttribute("linkHref"),function(a,l,u,p){const g=a.editing.view,k=new Set;g.document.registerPostFixer(w=>{const A=a.model.document.selection;let E=!1;if(A.hasAttribute(l)){const T=Gh(A.getFirstPosition(),l,A.getAttribute(l),a.model),D=a.editing.mapper.toViewRange(T);for(const B of D.getItems())B.is("element",u)&&!B.hasClass(p)&&(w.addClass(p,B),k.add(B),E=!0)}return E}),a.conversion.for("editingDowncast").add(w=>{function A(){g.change(E=>{for(const T of k.values())E.removeClass(p,T),k.delete(T)})}w.on("insert",A,{priority:"highest"}),w.on("remove",A,{priority:"highest"}),w.on("attribute",A,{priority:"highest"}),w.on("selection",A,{priority:"highest"})})}(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const o=this.editor,r=o.commands.get("link").automaticDecorators;o.config.get("link.addTargetToExternalLinks")&&r.add({id:"linkIsExternal",mode:_I,callback:a=>!!a&&qU.test(a),attributes:{target:"_blank",rel:"noopener noreferrer"}}),r.add(e),r.length&&o.conversion.for("downcast").add(r.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const o=this.editor,r=o.commands.get("link").manualDecorators;e.forEach(a=>{o.model.schema.extend("$text",{allowAttributes:a.id});const l=new FU(a);r.add(l),o.conversion.for("downcast").attributeToElement({model:l.id,view:(u,{writer:p,schema:g},{item:k})=>{if((k.is("selection")||g.isInline(k))&&u){const w=p.createAttributeElement("a",l.attributes,{priority:5});l.classes&&p.addClass(l.classes,w);for(const A in l.styles)p.setStyle(A,l.styles[A],w);return p.setCustomProperty("link",!0,w),w}}}),o.conversion.for("upcast").elementToAttribute({view:WU({name:"a"},l._createPattern()),model:{key:l.id}})})}_enableLinkOpen(){const e=this.editor,o=e.editing.view.document;this.listenTo(o,"click",(r,a)=>{if(!(C.isMac?a.domEvent.metaKey:a.domEvent.ctrlKey))return;let l=a.domTarget;if(l.tagName.toLowerCase()!="a"&&(l=l.closest("a")),!l)return;const u=l.getAttribute("href");u&&(r.stop(),a.preventDefault(),mI(u))},{context:"$capture"}),this.listenTo(o,"keydown",(r,a)=>{const l=e.commands.get("link").value;l&&a.keyCode===pt.enter&&a.altKey&&(r.stop(),mI(l))})}_enableSelectionAttributesFixer(){const e=this.editor.model,o=e.document.selection;this.listenTo(o,"change:attribute",(r,{attributeKeys:a})=>{a.includes("linkHref")&&!o.hasAttribute("linkHref")&&e.change(l=>{var u;(function(p,g){p.removeSelectionAttribute("linkHref");for(const k of g)p.removeSelectionAttribute(k)})(l,(u=e.schema,u.getDefinition("$text").allowAttributes.filter(p=>p.startsWith("link"))))})})}_enableClipboardIntegration(){const e=this.editor,o=e.model,r=this.editor.config.get("link.defaultProtocol");r&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(a,l)=>{o.change(u=>{const p=u.createRangeIn(l.content);for(const g of p.getItems())if(g.hasAttribute("linkHref")){const k=yk(g.getAttribute("linkHref"),r);u.setAttribute("linkHref",k,g)}})})}}var AI=d(3817),GU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(AI.A,GU),AI.A.locals;class KU extends Pe{constructor(e,o,r){super(e),this.focusTracker=new Dn,this.keystrokes=new no,this._focusables=new Lo;const a=e.t;this._validators=r,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(a("Save"),We.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(a("Cancel"),We.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(o),this.children=this._createFormChildren(o.manualDecorators),this._focusCycler=new zo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const l=["ck","ck-link-form","ck-responsive-form"];o.manualDecorators.length&&l.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:l,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,o)=>(e[o.name]=o.isOn,e),{})}render(){super.render(),uh({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const o=e(this);if(o)return this.urlInputView.errorText=o,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const e=this.locale.t,o=new Rh(this.locale,Oh);return o.label=e("Link URL"),o}_createButton(e,o,r,a){const l=new vt(this.locale);return l.set({label:e,icon:o,tooltip:!0}),l.extendTemplate({attributes:{class:r}}),a&&l.delegate("execute").to(this,a),l}_createManualDecoratorSwitches(e){const o=this.createCollection();for(const r of e.manualDecorators){const a=new Mh(this.locale);a.set({name:r.id,label:r.label,withText:!0}),a.bind("isOn").toMany([r,e],"value",(l,u)=>u===void 0&&l===void 0?!!r.defaultValue:!!l),a.on("execute",()=>{r.set("value",!a.isOn)}),o.add(a)}return o}_createFormChildren(e){const o=this.createCollection();if(o.add(this.urlInputView),e.length){const r=new Pe;r.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(a=>({tag:"li",children:[a],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),o.add(r)}return o.add(this.saveButtonView),o.add(this.cancelButtonView),o}get url(){const{element:e}=this.urlInputView.fieldView;return e?e.value.trim():null}}var yI=d(8762),YU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(yI.A,YU),yI.A.locals;class QU extends Pe{constructor(e,o={}){super(e),this.focusTracker=new Dn,this.keystrokes=new no,this._focusables=new Lo;const r=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(r("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(r("Edit link"),We.pencil,"edit"),this.set("href",void 0),this._linkConfig=o,this._focusCycler=new zo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,o,r){const a=new vt(this.locale);return a.set({label:e,icon:o,tooltip:!0}),a.delegate("execute").to(this,r),a}_createPreviewButton(){const e=new vt(this.locale),o=this.bindTemplate,r=this.t;return e.set({withText:!0,tooltip:r("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:o.to("href",a=>a&&fI(a,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",a=>a||r("This link has no URL")),e.bind("isEnabled").to(this,"href",a=>!!a),e.template.tag="a",e.template.eventListeners={},e}}const yi="link-ui";class ZU extends ue{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[$h]}static get pluginName(){return"LinkUI"}init(){const e=this.editor,o=this.editor.t;e.editing.view.addObserver(H6),this._balloon=e.plugins.get($h),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:yi,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:yi,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Create link"),keystroke:ap},{label:o("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,o=new QU(e.locale,e.config.get("link")),r=e.commands.get("link"),a=e.commands.get("unlink");return o.bind("href").to(r,"value"),o.editButtonView.bind("isEnabled").to(r),o.unlinkButtonView.bind("isEnabled").to(a),this.listenTo(o,"edit",()=>{this._addFormView()}),this.listenTo(o,"unlink",()=>{e.execute("unlink"),this._hideUI()}),o.keystrokes.set("Esc",(l,u)=>{this._hideUI(),u()}),o.keystrokes.set(ap,(l,u)=>{this._addFormView(),u()}),o}_createFormView(){const e=this.editor,o=e.commands.get("link"),r=e.config.get("link.defaultProtocol"),a=new(sb(KU))(e.locale,o,function(l){const u=l.t,p=l.config.get("link.allowCreatingEmptyLinks");return[g=>{if(!p&&!g.url.length)return u("Link URL must not be empty.")}]}(e));return a.urlInputView.fieldView.bind("value").to(o,"value"),a.urlInputView.bind("isEnabled").to(o,"isEnabled"),a.saveButtonView.bind("isEnabled").to(o,"isEnabled"),this.listenTo(a,"submit",()=>{if(a.isValid()){const{value:l}=a.urlInputView.fieldView.element,u=yk(l,r);e.execute("link",u,a.getDecoratorSwitchesState()),this._closeFormView()}}),this.listenTo(a.urlInputView,"change:errorText",()=>{e.ui.update()}),this.listenTo(a,"cancel",()=>{this._closeFormView()}),a.keystrokes.set("Esc",(l,u)=>{this._closeFormView(),u()}),a}_createToolbarLinkButton(){const e=this.editor,o=e.commands.get("link");e.ui.componentFactory.add("link",()=>{const r=this._createButton(vt);return r.set({tooltip:!0,isToggleable:!0}),r.bind("isOn").to(o,"value",a=>!!a),r}),e.ui.componentFactory.add("menuBar:link",()=>this._createButton(To))}_createButton(e){const o=this.editor,r=o.locale,a=o.commands.get("link"),l=new e(o.locale),u=r.t;return l.set({label:u("Link"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',keystroke:ap}),l.bind("isEnabled").to(a,"isEnabled"),this.listenTo(l,"execute",()=>this._showUI(!0)),l}_enableBalloonActivators(){const e=this.editor,o=e.editing.view.document;this.listenTo(o,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(ap,(r,a)=>{a(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,o)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),o())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,o)=>{this._isUIVisible&&(this._hideUI(),o())}),dh({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=e.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,o=e.editing.view.document;let r=this._getSelectedLinkElement(),a=u();const l=()=>{const p=this._getSelectedLinkElement(),g=u();r&&!p||!r&&g!==a?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),r=p,a=g};function u(){return o.selection.focus.getAncestors().reverse().find(p=>p.is("element"))}this.listenTo(e.ui,"update",l),this.listenTo(this._balloon,"change:visibleView",l)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,o=this.editor.model,r=e.document;let a;if(o.markers.has(yi)){const l=Array.from(this.editor.editing.mapper.markerNameToElements(yi)),u=e.createRange(e.createPositionBefore(l[0]),e.createPositionAfter(l[l.length-1]));a=e.domConverter.viewRangeToDom(u)}else a=()=>{const l=this._getSelectedLinkElement();return l?e.domConverter.mapViewToDom(l):e.domConverter.viewRangeToDom(r.selection.getFirstRange())};return{target:a}}_getSelectedLinkElement(){const e=this.editor.editing.view,o=e.document.selection,r=o.getSelectedElement();if(o.isCollapsed||r&&fn(r))return xk(o.getFirstPosition());{const a=o.getFirstRange().getTrimmed(),l=xk(a.start),u=xk(a.end);return l&&l==u&&e.createRangeIn(l).getTrimmed().isEqual(a)?l:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(o=>{const r=e.document.selection.getFirstRange();if(e.markers.has(yi))o.updateMarker(yi,{range:r});else if(r.start.isAtEnd){const a=r.start.getLastMatchingPosition(({item:l})=>!e.schema.isContent(l),{boundaries:r});o.addMarker(yi,{usingOperation:!1,affectsData:!1,range:o.createRange(a,r.end)})}else o.addMarker(yi,{usingOperation:!1,affectsData:!1,range:r})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(yi)&&e.change(o=>{o.removeMarker(yi)})}}function xk(s){return s.getAncestors().find(e=>{return(o=e).is("attributeElement")&&!!o.getCustomProperty("link");var o})||null}const xI=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class JU extends ue{static get requires(){return[er,CI]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(e,o){return o.textNode&&o.textNode.hasAttribute("linkHref")?Gh(o,"linkHref",o.textNode.getAttribute("linkHref"),e):null}_selectEntireLinks(e,o){const r=this.editor.model,a=r.document.selection,l=a.getFirstPosition(),u=a.getLastPosition();let p=o.getJoined(this._expandLinkRange(r,l)||o);p&&(p=p.getJoined(this._expandLinkRange(r,u)||o)),p&&(p.start.isBefore(l)||p.end.isAfter(u))&&e.setSelection(p)}_enablePasteLinking(){const e=this.editor,o=e.model,r=o.document.selection,a=e.plugins.get("ClipboardPipeline"),l=e.commands.get("link");a.on("inputTransformation",(u,p)=>{if(!this.isEnabled||!l.isEnabled||r.isCollapsed||p.method!=="paste"||r.rangeCount>1)return;const g=r.getFirstRange(),k=p.dataTransfer.getData("text/plain");if(!k)return;const w=k.match(xI);w&&w[2]===k&&(o.change(A=>{this._selectEntireLinks(A,g),l.execute(k)}),u.stop())},{priority:"high"})}_enableTypingHandling(){const e=this.editor,o=new qE(e.model,r=>{if(!function(l){return l.length>4&&l[l.length-1]===" "&&l[l.length-2]!==" "}(r))return;const a=EI(r.substr(0,r.length-1));return a?{url:a}:void 0});o.on("matched:data",(r,a)=>{const{batch:l,range:u,url:p}=a;if(!l.isTyping)return;const g=u.end.getShiftedBy(-1),k=g.getShiftedBy(-p.length),w=e.model.createRange(k,g);this._applyAutoLink(p,w)}),o.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,o=e.model,r=e.commands.get("enter");r&&r.on("execute",()=>{const a=o.document.selection.getFirstPosition();if(!a.parent.previousSibling)return;const l=o.createRangeIn(a.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(l)})}_enableShiftEnterHandling(){const e=this.editor,o=e.model,r=e.commands.get("shiftEnter");r&&r.on("execute",()=>{const a=o.document.selection.getFirstPosition(),l=o.createRange(o.createPositionAt(a.parent,0),a.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(l)})}_checkAndApplyAutoLinkOnRange(e){const o=this.editor.model,{text:r,range:a}=WE(e,o),l=EI(r);if(l){const u=o.createRange(a.end.getShiftedBy(-l.length),a.end);this._applyAutoLink(l,u)}}_applyAutoLink(e,o){const r=this.editor.model,a=yk(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(l,u){return u.schema.checkAttributeInSelection(u.createSelection(l),"linkHref")}(o,r)&&gI(a)&&!function(l){const u=l.start.nodeAfter;return!!u&&u.hasAttribute("linkHref")}(o)&&this._persistAutoLink(a,o)}_persistAutoLink(e,o){const r=this.editor.model,a=this.editor.plugins.get("Delete");r.enqueueChange(l=>{l.setAttribute("linkHref",e,o),r.enqueueChange(()=>{a.requestUndoOnBackspace()})})}}function EI(s){const e=xI.exec(s);return e?e[2]:null}var TI=d(4808),XU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(TI.A,XU),TI.A.locals;class $o{constructor(e,o){this._startElement=e,this._referenceIndent=e.getAttribute("listIndent"),this._isForward=o.direction=="forward",this._includeSelf=!!o.includeSelf,this._sameAttributes=Ft(o.sameAttributes||[]),this._sameIndent=!!o.sameIndent,this._lowerIndent=!!o.lowerIndent,this._higherIndent=!!o.higherIndent}static first(e,o){return Sn(new this(e,o)[Symbol.iterator]())}*[Symbol.iterator](){const e=[];for(const{node:o}of zl(this._getStartNode(),this._isForward?"forward":"backward")){const r=o.getAttribute("listIndent");if(r<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=r}else if(r>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){e.push(o);continue}}else{if(!this._sameIndent){if(this._higherIndent){e.length&&(yield*e,e.length=0);break}continue}if(this._sameAttributes.some(a=>o.getAttribute(a)!==this._startElement.getAttribute(a)))break}e.length&&(yield*e,e.length=0),yield o}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*zl(s,e="forward"){const o=e=="forward",r=[];let a=null;for(;yn(s);){let l=null;if(a){const u=s.getAttribute("listIndent"),p=a.getAttribute("listIndent");u>p?r[p]=a:u<p?(l=r[u],r.length=u):l=a}yield{node:s,previous:a,previousNodeInList:l},a=s,s=o?s.nextSibling:s.previousSibling}}class eH{constructor(e){this._listHead=e}[Symbol.iterator](){return zl(this._listHead,"forward")}}var tH=Object.defineProperty,nH=Object.defineProperties,oH=Object.getOwnPropertyDescriptors,II=Object.getOwnPropertySymbols,iH=Object.prototype.hasOwnProperty,rH=Object.prototype.propertyIsEnumerable,SI=(s,e,o)=>e in s?tH(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,Fl=(s,e)=>{for(var o in e||(e={}))iH.call(e,o)&&SI(s,o,e[o]);if(II)for(var o of II(e))rH.call(e,o)&&SI(s,o,e[o]);return s},Ek=(s,e)=>nH(s,oH(e));class za{static next(){return L()}}function yn(s){return!!s&&s.is("element")&&s.hasAttribute("listItemId")}function Tk(s,e={}){return[...Dr(s,Ek(Fl({},e),{direction:"backward"})),...Dr(s,Ek(Fl({},e),{direction:"forward"}))]}function Dr(s,e={}){const o=e.direction=="forward",r=Array.from(new $o(s,Ek(Fl({},e),{includeSelf:o,sameIndent:!0,sameAttributes:"listItemId"})));return o?r:r.reverse()}function DI(s,e){const o=new $o(s,Fl({sameIndent:!0,sameAttributes:"listType"},e)),r=new $o(s,Fl({sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"},e));return[...Array.from(o).reverse(),...r]}function As(s){return!$o.first(s,{sameIndent:!0,sameAttributes:"listItemId"})}function MI(s){return!$o.first(s,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function Vl(s,e={}){s=Ft(s);const o=e.withNested!==!1,r=new Set;for(const a of s)for(const l of Tk(a,{higherIndent:o}))r.add(l);return ys(r)}function sH(s){s=Ft(s);const e=new Set;for(const o of s)for(const r of DI(o))e.add(r);return ys(e)}function Ik(s,e){const o=Dr(s,{direction:"forward"}),r=za.next();for(const a of o)e.setAttribute("listItemId",r,a);return o}function Sk(s,e,o){const r={};for(const[l,u]of e.getAttributes())l.startsWith("list")&&(r[l]=u);const a=Dr(s,{direction:"forward"});for(const l of a)o.setAttributes(r,l);return a}function Dk(s,e,{expand:o,indentBy:r=1}={}){s=Ft(s);const a=o?Vl(s):s;for(const l of a){const u=l.getAttribute("listIndent")+r;u<0?cp(l,e):e.setAttribute("listIndent",u,l)}return a}function cp(s,e){s=Ft(s);for(const o of s)o.is("element","listItem")&&e.rename(o,"paragraph");for(const o of s)for(const r of o.getAttributeKeys())r.startsWith("list")&&e.removeAttribute(r,o);return s}function $l(s){if(!s.length)return!1;const e=s[0].getAttribute("listItemId");return!!e&&!s.some(o=>o.getAttribute("listItemId")!=e)}function ys(s){return Array.from(s).filter(e=>e.root.rootName!=="$graveyard").sort((e,o)=>e.index-o.index)}function Ul(s){const e=s.document.selection.getSelectedElement();return e&&s.schema.isObject(e)&&s.schema.isBlock(e)?e:null}function Mk(s,e){return e.checkChild(s.parent,"listItem")&&e.checkChild(s,"$text")&&!e.isObject(s)}function aH(s){return s=="numbered"||s=="customNumbered"}function cH(s,e,o){return Dr(e,{direction:"forward"}).pop().index>s.index?Sk(s,e,o):[]}class PI extends at{constructor(e,o){super(e),this._direction=o}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,o=RI(e.document.selection);e.change(r=>{const a=[];$l(o)&&!As(o[0])?(this._direction=="forward"&&a.push(...Dk(o,r)),a.push(...Ik(o[0],r))):this._direction=="forward"?a.push(...Dk(o,r,{expand:!0})):a.push(...function(l,u){const p=Vl(l=Ft(l)),g=new Set,k=Math.min(...p.map(A=>A.getAttribute("listIndent"))),w=new Map;for(const A of p)w.set(A,$o.first(A,{lowerIndent:!0}));for(const A of p){if(g.has(A))continue;g.add(A);const E=A.getAttribute("listIndent")-1;if(E<0)cp(A,u);else{if(A.getAttribute("listIndent")==k){const T=cH(A,w.get(A),u);for(const D of T)g.add(D);if(T.length)continue}u.setAttribute("listIndent",E,A)}}return ys(g)}(o,r));for(const l of a){if(!l.hasAttribute("listType"))continue;const u=$o.first(l,{sameIndent:!0});u&&r.setAttribute("listType",u.getAttribute("listType"),l)}this._fireAfterExecute(a)})}_fireAfterExecute(e){this.fire("afterExecute",ys(new Set(e)))}_checkEnabled(){let e=RI(this.editor.model.document.selection),o=e[0];if(!o)return!1;if(this._direction=="backward"||$l(e)&&!As(e[0]))return!0;e=Vl(e),o=e[0];const r=$o.first(o,{sameIndent:!0});return!!r&&r.getAttribute("listType")==o.getAttribute("listType")}}function RI(s){const e=Array.from(s.getSelectedBlocks()),o=e.findIndex(r=>!yn(r));return o!=-1&&(e.length=o),e}var lH=Object.defineProperty,dH=Object.defineProperties,uH=Object.getOwnPropertyDescriptors,BI=Object.getOwnPropertySymbols,hH=Object.prototype.hasOwnProperty,pH=Object.prototype.propertyIsEnumerable,NI=(s,e,o)=>e in s?lH(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,Pk=(s,e)=>{for(var o in e||(e={}))hH.call(e,o)&&NI(s,o,e[o]);if(BI)for(var o of BI(e))pH.call(e,o)&&NI(s,o,e[o]);return s},Rk=(s,e)=>dH(s,uH(e));class lp extends at{constructor(e,o,r={}){super(e),this.type=o,this._listWalkerOptions=r.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const o=this.editor.model,r=o.document,a=Ul(o),l=Array.from(r.selection.getSelectedBlocks()).filter(p=>o.schema.checkAttribute(p,"listType")||Mk(p,o.schema)),u=e.forceValue!==void 0?!e.forceValue:this.value;o.change(p=>{if(u){const g=l[l.length-1],k=Dr(g,{direction:"forward"}),w=[];k.length>1&&w.push(...Ik(k[1],p)),w.push(...cp(l,p)),w.push(...function(A,E){const T=[];let D=Number.POSITIVE_INFINITY;for(const{node:B}of zl(A.nextSibling,"forward")){const z=B.getAttribute("listIndent");if(z==0)break;z<D&&(D=z);const $=z-D;E.setAttribute("listIndent",$,B),T.push(B)}return T}(g,p)),this._fireAfterExecute(w)}else if((a||r.selection.isCollapsed)&&yn(l[0])){const g=DI(a||l[0],this._listWalkerOptions);for(const k of g)p.setAttributes(Rk(Pk({},e.additionalAttributes),{listType:this.type}),k);this._fireAfterExecute(g)}else{const g=[];for(const k of l)if(k.hasAttribute("listType"))for(const w of Vl(k,{withNested:!1}))w.getAttribute("listType")!=this.type&&(p.setAttributes(Rk(Pk({},e.additionalAttributes),{listType:this.type}),w),g.push(w));else!k.is("element","listItem")&&Mk(k,o.schema)&&p.rename(k,"listItem"),p.setAttributes(Rk(Pk({},e.additionalAttributes),{listIndent:0,listItemId:za.next(),listType:this.type}),k),g.push(k);this._fireAfterExecute(g)}})}_fireAfterExecute(e){this.fire("afterExecute",ys(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,o=Array.from(e.getSelectedBlocks());if(!o.length)return!1;for(const r of o)if(r.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,o=e.schema,r=e.document.selection,a=Array.from(r.getSelectedBlocks());if(!a.length)return!1;if(this.value)return!0;for(const l of a)if(o.checkAttribute(l,"listType")||Mk(l,o))return!0;return!1}}class OI extends at{constructor(e,o){super(e),this._direction=o}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:e=!1}={}){const o=this.editor.model,r=o.document.selection,a=[];o.change(l=>{const{firstElement:u,lastElement:p}=this._getMergeSubjectElements(r,e),g=u.getAttribute("listIndent")||0,k=p.getAttribute("listIndent"),w=p.getAttribute("listItemId");if(g!=k){const E=(A=p,Array.from(new $o(A,{direction:"forward",higherIndent:!0})));a.push(...Dk([p,...E],l,{indentBy:g-k,expand:g<k}))}var A;if(e){let E=r;r.isCollapsed&&(E=l.createSelection(l.createRange(l.createPositionAt(u,"end"),l.createPositionAt(p,0)))),o.deleteContent(E,{doNotResetEntireContent:r.isCollapsed});const T=E.getLastPosition().parent,D=T.nextSibling;a.push(T),D&&D!==p&&D.getAttribute("listItemId")==w&&a.push(...Sk(D,T,l))}else a.push(...Sk(p,u,l));this._fireAfterExecute(a)})}_fireAfterExecute(e){this.fire("afterExecute",ys(new Set(e)))}_checkEnabled(){const e=this.editor.model,o=e.document.selection,r=Ul(e);if(o.isCollapsed||r){const a=r||o.getFirstPosition().parent;if(!yn(a))return!1;const l=this._direction=="backward"?a.previousSibling:a.nextSibling;if(!l||$l([a,l]))return!1}else{const a=o.getLastPosition(),l=o.getFirstPosition();if(a.parent===l.parent||!yn(a.parent))return!1}return!0}_getMergeSubjectElements(e,o){const r=Ul(this.editor.model);let a,l;if(e.isCollapsed||r){const u=r||e.getFirstPosition().parent,p=As(u);this._direction=="backward"?(l=u,a=p&&!o?$o.first(u,{sameIndent:!0,lowerIndent:!0}):u.previousSibling):(a=u,l=u.nextSibling)}else a=e.getFirstPosition().parent,l=e.getLastPosition().parent;return{firstElement:a,lastElement:l}}}class LI extends at{constructor(e,o){super(e),this._direction=o}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(e=>{const o=Ik(this._getStartBlock(),e);this._fireAfterExecute(o)})}_fireAfterExecute(e){this.fire("afterExecute",ys(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,o=this._getStartBlock();return e.isCollapsed&&yn(o)&&!As(o)}_getStartBlock(){const e=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?e:e.nextSibling}}class fH extends ue{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(e){return sH(e)}isFirstBlockOfListItem(e){return As(e)}isListItemBlock(e){return yn(e)}expandListBlocksToCompleteItems(e,o={}){return Vl(e,o)}isNumberedListType(e){return aH(e)}}function jI(s){return s.is("element","ol")||s.is("element","ul")}function dp(s){return s.is("element","li")}function gH(s,e,o,r=FI(o,e)){return s.createAttributeElement(zI(o),null,{priority:2*e/100-100,id:r})}function mH(s,e,o){return s.createAttributeElement("li",null,{priority:(2*e+1)/100-100,id:o})}function zI(s){return s=="numbered"||s=="customNumbered"?"ol":"ul"}function FI(s,e){return`list-${s}-${e}`}function fi(s,e){const o=s.nodeBefore;if(yn(o)){let r=o;for(const{node:a}of zl(r,"backward"))if(r=a,e.has(r))return;e.set(o,r)}else{const r=s.nodeAfter;yn(r)&&e.set(r,r)}}function bH(){return(s,e,o)=>{const{writer:r,schema:a}=o;if(!e.modelRange)return;const l=Array.from(e.modelRange.getItems({shallow:!0})).filter(A=>a.checkAttribute(A,"listItemId"));if(!l.length)return;const u=za.next(),p=function(A){let E=0,T=A.parent;for(;T;){if(dp(T))E++;else{const D=T.previousSibling;D&&dp(D)&&E++}T=T.parent}return E}(e.viewItem);let g=e.viewItem.parent&&e.viewItem.parent.is("element","ol")?"numbered":"bulleted";const k=l[0].getAttribute("listType");k&&(g=k);const w={listItemId:u,listIndent:p,listType:g};for(const A of l)A.hasAttribute("listItemId")||r.setAttributes(w,A);l.length>1&&l[1].getAttribute("listItemId")!=w.listItemId&&o.keepEmptyElement(l[0])}}function VI(){return(s,e,o)=>{if(!o.consumable.test(e.viewItem,{name:!0}))return;const r=new Qi(e.viewItem.document);for(const a of Array.from(e.viewItem.getChildren()))dp(a)||jI(a)||r.remove(a)}}function $I(s,e,o,{dataPipeline:r}={}){const a=function(l){return(u,p)=>{const g=[];for(const k of l)u.hasAttribute(k)&&g.push(`attribute:${k}`);return!!g.every(k=>p.test(u,k)!==!1)&&(g.forEach(k=>p.consume(u,k)),!0)}}(s);return(l,u,p)=>{const{writer:g,mapper:k,consumable:w}=p,A=u.item;if(!s.includes(u.attributeKey)||!a(A,w))return;const E=function(D,B,z){const $=z.createRangeOn(D);return B.toViewRange($).getTrimmed().end.nodeBefore}(A,k,o);HI(E,g,k),function(D,B){let z=D.parent;for(;z.is("attributeElement")&&["ul","ol","li"].includes(z.name);){const $=z.parent;B.unwrap(B.createRangeOn(D),z),z=$}}(E,g);const T=function(D,B,z,$,{dataPipeline:q}){let Z=$.createRangeOn(B);if(!As(D))return Z;for(const ae of z){if(ae.scope!="itemMarker")continue;const ke=ae.createElement($,D,{dataPipeline:q});if(!ke||($.setCustomProperty("listItemMarker",!0,ke),ae.canInjectMarkerIntoElement&&ae.canInjectMarkerIntoElement(D)?$.insert($.createPositionAt(B,0),ke):($.insert(Z.start,ke),Z=$.createRange($.createPositionBefore(ke),$.createPositionAfter(B))),!ae.createWrapperElement||!ae.canWrapElement))continue;const Oe=ae.createWrapperElement($,D,{dataPipeline:q});$.setCustomProperty("listItemWrapper",!0,Oe),ae.canWrapElement(D)?Z=$.wrap(Z,Oe):(Z=$.wrap($.createRangeOn(ke),Oe),Z=$.createRange(Z.start,$.createPositionAfter(B)))}return Z}(A,E,e,g,{dataPipeline:r});(function(D,B,z,$){if(!D.hasAttribute("listIndent"))return;const q=D.getAttribute("listIndent");let Z=D;for(let ae=q;ae>=0;ae--){const ke=mH($,ae,Z.getAttribute("listItemId")),Oe=gH($,ae,Z.getAttribute("listType"));for(const Je of z)Je.scope!="list"&&Je.scope!="item"||!Z.hasAttribute(Je.attributeName)||Je.setAttributeOnDowncast($,Z.getAttribute(Je.attributeName),Je.scope=="list"?Oe:ke);if(B=$.wrap(B,ke),B=$.wrap(B,Oe),ae==0||(Z=$o.first(Z,{lowerIndent:!0}),!Z))break}})(A,T,e,g)}}function UI(s,{dataPipeline:e}={}){return(o,{writer:r})=>{if(!WI(o,s))return null;if(!e)return r.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const a=r.createContainerElement("p");return r.setCustomProperty("dataPipeline:transparentRendering",!0,a),a}}function HI(s,e,o){for(;s.parent.is("attributeElement")&&s.parent.getCustomProperty("listItemWrapper");)e.unwrap(e.createRangeOn(s),s.parent);const r=[];a(e.createPositionBefore(s).getWalker({direction:"backward"})),a(e.createRangeIn(s).getWalker());for(const l of r)e.remove(l);function a(l){for(const{item:u}of l){if(u.is("element")&&o.toModelElement(u))break;u.is("element")&&u.getCustomProperty("listItemMarker")&&r.push(u)}}}function WI(s,e,o=Tk(s)){if(!yn(s))return!1;for(const r of s.getAttributeKeys())if(!r.startsWith("selection:")&&!e.includes(r))return!1;return o.length<2}var qI=d(1232),kH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(qI.A,kH),qI.A.locals;var GI=d(6903),wH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(GI.A,wH),GI.A.locals;const up=["listType","listIndent","listItemId"];class vH extends ue{constructor(e){super(e),this._downcastStrategies=[],e.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get requires(){return[Kh,er,fH,Fo]}init(){const e=this.editor,o=e.model,r=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new P("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});o.schema.register("$listItem",{allowAttributes:up}),r?(o.schema.extend("$container",{allowAttributesOf:"$listItem"}),o.schema.extend("$block",{allowAttributesOf:"$listItem"}),o.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):o.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const a of up)o.schema.setAttributeProperties(a,{copyOnReplace:!0});e.commands.add("numberedList",new lp(e,"numbered")),e.commands.add("bulletedList",new lp(e,"bulleted")),e.commands.add("customNumberedList",new lp(e,"customNumbered",{multiLevel:!0})),e.commands.add("customBulletedList",new lp(e,"customBulleted",{multiLevel:!0})),e.commands.add("indentList",new PI(e,"forward")),e.commands.add("outdentList",new PI(e,"backward")),e.commands.add("splitListItemBefore",new LI(e,"before")),e.commands.add("splitListItemAfter",new LI(e,"after")),r&&(e.commands.add("mergeListItemBackward",new OI(e,"backward")),e.commands.add("mergeListItemForward",new OI(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const e=this.editor.commands,o=e.get("indent"),r=e.get("outdent");o&&o.registerChildCommand(e.get("indentList"),{priority:"high"}),r&&r.registerChildCommand(e.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[...up,...this._downcastStrategies.map(e=>e.attributeName)]}_setupDeleteIntegration(){const e=this.editor,o=e.commands.get("mergeListItemBackward"),r=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",(a,l)=>{const u=e.model.document.selection;Ul(e.model)||e.model.change(()=>{const p=u.getFirstPosition();if(u.isCollapsed&&l.direction=="backward"){if(!p.isAtStart)return;const g=p.parent;if(!yn(g))return;if($o.first(g,{sameAttributes:"listType",sameIndent:!0})||g.getAttribute("listIndent")!==0){if(!o||!o.isEnabled)return;o.execute({shouldMergeOnBlocksContentLevel:KI(e.model,"backward")})}else MI(g)||e.execute("splitListItemAfter"),e.execute("outdentList");l.preventDefault(),a.stop()}else{if(u.isCollapsed&&!u.getLastPosition().isAtEnd||!r||!r.isEnabled)return;r.execute({shouldMergeOnBlocksContentLevel:KI(e.model,"forward")}),l.preventDefault(),a.stop()}})},{context:"li"})}_setupEnterIntegration(){const e=this.editor,o=e.model,r=e.commands,a=r.get("enter");this.listenTo(e.editing.view.document,"enter",(l,u)=>{const p=o.document,g=p.selection.getFirstPosition().parent;if(p.selection.isCollapsed&&yn(g)&&g.isEmpty&&!u.isSoft){const k=As(g),w=MI(g);k&&w?(e.execute("outdentList"),u.preventDefault(),l.stop()):k&&!w?(e.execute("splitListItemAfter"),u.preventDefault(),l.stop()):w&&(e.execute("splitListItemBefore"),u.preventDefault(),l.stop())}},{context:"li"}),this.listenTo(a,"afterExecute",()=>{const l=r.get("splitListItemBefore");l.refresh(),l.isEnabled&&Tk(e.model.document.selection.getLastPosition().parent).length===2&&l.execute()})}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",(o,r)=>{const a=r.shiftKey?"outdentList":"indentList";this.editor.commands.get(a).isEnabled&&(e.execute(a),r.stopPropagation(),r.preventDefault(),o.stop())},{context:"li"})}_setupConversion(){const e=this.editor,o=e.model,r=this.getListAttributeNames(),a=e.config.get("list.multiBlock"),l=a?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(k,{writer:w})=>w.createElement(l,{listType:""})}).elementToElement({view:"p",model:(k,{writer:w})=>k.parent&&k.parent.is("element","li")?w.createElement(l,{listType:""}):null,converterPriority:"high"}).add(k=>{k.on("element:li",bH()),k.on("element:ul",VI(),{priority:"high"}),k.on("element:ol",VI(),{priority:"high"})}),a||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:l,view:UI(r),converterPriority:"high"}).add(k=>{var w;k.on("attribute",$I(r,this._downcastStrategies,o)),k.on("remove",(w=o.schema,(A,E,T)=>{const{writer:D,mapper:B}=T,z=A.name.split(":")[1];if(!w.checkAttribute(z,"listItemId"))return;const $=B.toViewPosition(E.position),q=E.position.getShiftedBy(E.length),Z=B.toViewPosition(q,{isPhantom:!0}),ae=D.createRange($,Z).getTrimmed().end.nodeBefore;ae&&HI(ae,D,B)}))}),e.conversion.for("dataDowncast").elementToElement({model:l,view:UI(r,{dataPipeline:!0}),converterPriority:"high"}).add(k=>{k.on("attribute",$I(r,this._downcastStrategies,o,{dataPipeline:!0}))});const u=(p=this._downcastStrategies,g=e.editing.view,(k,w)=>{if(w.modelPosition.offset>0)return;const A=w.modelPosition.parent;if(!yn(A)||!p.some(z=>z.scope=="itemMarker"&&z.canInjectMarkerIntoElement&&z.canInjectMarkerIntoElement(A)))return;const E=w.mapper.toViewElement(A),T=g.createRangeIn(E),D=T.getWalker();let B=T.start;for(const{item:z}of D){if(z.is("element")&&w.mapper.toModelElement(z)||z.is("$textProxy"))break;z.is("element")&&z.getCustomProperty("listItemMarker")&&(B=g.createPositionAfter(z),D.skip(({previousPosition:$})=>!$.isEqual(B)))}w.viewPosition=B});var p,g;e.editing.mapper.on("modelToViewPosition",u),e.data.mapper.on("modelToViewPosition",u),this.listenTo(o.document,"change:data",function(k,w,A,E){return()=>{const z=k.document.differ.getChanges(),$=[],q=new Map,Z=new Set;for(const ae of z)if(ae.type=="insert"&&ae.name!="$text")fi(ae.position,q),ae.attributes.has("listItemId")?Z.add(ae.position.nodeAfter):fi(ae.position.getShiftedBy(ae.length),q);else if(ae.type=="remove"&&ae.attributes.has("listItemId"))fi(ae.position,q);else if(ae.type=="attribute"){const ke=ae.range.start.nodeAfter;A.includes(ae.attributeKey)?(fi(ae.range.start,q),ae.attributeNewValue===null?(fi(ae.range.start.getShiftedBy(1),q),D(ke)&&$.push(ke)):Z.add(ke)):yn(ke)&&D(ke)&&$.push(ke)}for(const ae of q.values())$.push(...T(ae,Z));for(const ae of new Set($))w.reconvertItem(ae)};function T(z,$){const q=[],Z=new Set,ae=[];for(const{node:ke,previous:Oe}of zl(z,"forward")){if(Z.has(ke))continue;const Je=ke.getAttribute("listIndent");Oe&&Je<Oe.getAttribute("listIndent")&&(ae.length=Je+1),ae[Je]=Object.fromEntries(Array.from(ke.getAttributes()).filter(([xn])=>A.includes(xn)));const Vt=Dr(ke,{direction:"forward"});for(const xn of Vt)Z.add(xn),(D(xn,Vt)||B(xn,ae,$))&&q.push(xn)}return q}function D(z,$){const q=w.mapper.toViewElement(z);if(!q)return!1;if(E.fire("checkElement",{modelElement:z,viewElement:q}))return!0;if(!z.is("element","paragraph")&&!z.is("element","listItem"))return!1;const Z=WI(z,A,$);return!(!Z||!q.is("element","p"))||!(Z||!q.is("element","span"))}function B(z,$,q){if(q.has(z))return!1;const Z=w.mapper.toViewElement(z);let ae=$.length-1;for(let ke=Z.parent;!ke.is("editableElement");ke=ke.parent){const Oe=dp(ke),Je=jI(ke);if(!Je&&!Oe)continue;const Vt="checkAttributes:"+(Oe?"item":"list");if(E.fire(Vt,{viewElement:ke,modelAttributes:$[ae]}))break;if(Je&&(ae--,ae<0))return!1}return!0}}(o,e.editing,r,this),{priority:"high"}),this.on("checkAttributes:item",(k,{viewElement:w,modelAttributes:A})=>{w.id!=A.listItemId&&(k.return=!0,k.stop())}),this.on("checkAttributes:list",(k,{viewElement:w,modelAttributes:A})=>{w.name==zI(A.listType)&&w.id==FI(A.listType,A.listIndent)||(k.return=!0,k.stop())})}_setupModelPostFixing(){const e=this.editor.model,o=this.getListAttributeNames();e.document.registerPostFixer(r=>function(a,l,u,p){const g=a.document.differ.getChanges(),k=new Map,w=p.editor.config.get("list.multiBlock");let A=!1;for(const T of g){if(T.type=="insert"&&T.name!="$text"){const D=T.position.nodeAfter;if(!a.schema.checkAttribute(D,"listItemId"))for(const B of Array.from(D.getAttributeKeys()))u.includes(B)&&(l.removeAttribute(B,D),A=!0);fi(T.position,k),T.attributes.has("listItemId")||fi(T.position.getShiftedBy(T.length),k);for(const{item:B,previousPosition:z}of a.createRangeIn(D))yn(B)&&fi(z,k)}else T.type=="remove"?fi(T.position,k):T.type=="attribute"&&u.includes(T.attributeKey)&&(fi(T.range.start,k),T.attributeNewValue===null&&fi(T.range.start.getShiftedBy(1),k));if(!w&&T.type=="attribute"&&up.includes(T.attributeKey)){const D=T.range.start.nodeAfter;T.attributeNewValue===null&&D&&D.is("element","listItem")?(l.rename(D,"paragraph"),A=!0):T.attributeOldValue===null&&D&&D.is("element")&&D.name!="listItem"&&(l.rename(D,"listItem"),A=!0)}}const E=new Set;for(const T of k.values())A=p.fire("postFixer",{listNodes:new eH(T),listHead:T,writer:l,seenIds:E})||A;return A}(e,r,o,this)),this.on("postFixer",(r,{listNodes:a,writer:l})=>{r.return=function(u,p){let g=0,k=-1,w=null,A=!1;for(const{node:E}of u){const T=E.getAttribute("listIndent");if(T>g){let D;w===null?(w=T-g,D=g):(w>T&&(w=T),D=T-w),D>k+1&&(D=k+1),p.setAttribute("listIndent",D,E),A=!0,k=D}else w=null,g=T+1,k=T}return A}(a,l)||r.return},{priority:"high"}),this.on("postFixer",(r,{listNodes:a,writer:l,seenIds:u})=>{r.return=function(p,g,k){const w=new Set;let A=!1;for(const{node:E}of p){if(w.has(E))continue;let T=E.getAttribute("listType"),D=E.getAttribute("listItemId");if(g.has(D)&&(D=za.next()),g.add(D),E.is("element","listItem"))E.getAttribute("listItemId")!=D&&(k.setAttribute("listItemId",D,E),A=!0);else for(const B of Dr(E,{direction:"forward"}))w.add(B),B.getAttribute("listType")!=T&&(D=za.next(),T=B.getAttribute("listType")),B.getAttribute("listItemId")!=D&&(k.setAttribute("listItemId",D,B),A=!0)}return A}(a,u,l)||r.return},{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,o=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",function(r){return(a,[l,u])=>{const p=l.is("documentFragment")?Array.from(l.getChildren()):[l];if(!p.length)return;const g=(u?r.createSelection(u):r.document.selection).getFirstPosition();let k;if(yn(g.parent))k=g.parent;else{if(!yn(g.nodeBefore))return;k=g.nodeBefore}r.change(w=>{const A=k.getAttribute("listType"),E=k.getAttribute("listIndent"),T=p[0].getAttribute("listIndent")||0,D=Math.max(E-T,0);for(const B of p){const z=yn(B);k.is("element","listItem")&&B.is("element","paragraph")&&w.rename(B,"listItem"),w.setAttributes({listIndent:(z?B.getAttribute("listIndent"):0)+D,listItemId:z?B.getAttribute("listItemId"):za.next(),listType:A},B)}})}}(e),{priority:"high"}),this.listenTo(o,"outputTransformation",(r,a)=>{e.change(l=>{const u=Array.from(a.content.getChildren()),p=u[u.length-1];if(u.length>1&&p.is("element")&&p.isEmpty&&u.slice(0,-1).every(yn)&&l.remove(p),a.method=="copy"||a.method=="cut"){const g=Array.from(a.content.getChildren());$l(g)&&cp(g,l)}})})}_setupAccessibilityIntegration(){const e=this.editor,o=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:o("Keystrokes that can be used in a list"),keystrokes:[{label:o("Increase list item indent"),keystroke:"Tab"},{label:o("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function KI(s,e){const o=s.document.selection;if(!o.isCollapsed)return!Ul(s);if(e==="forward")return!0;const r=o.getFirstPosition().parent,a=r.previousSibling;return!s.schema.isObject(a)&&(!!a.isEmpty||$l([r,a]))}function YI(s,e,o,r){s.ui.componentFactory.add(e,()=>{const a=QI(vt,s,e,o,r);return a.set({tooltip:!0,isToggleable:!0}),a}),s.ui.componentFactory.add(`menuBar:${e}`,()=>QI(To,s,e,o,r))}function QI(s,e,o,r,a){const l=e.commands.get(o),u=new s(e.locale);return u.set({label:r,icon:a}),u.bind("isOn","isEnabled").to(l,"value","isEnabled"),u.on("execute",()=>{e.execute(o),e.editing.view.focus()}),u}class _H extends ue{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||YI(this.editor,"numberedList",e("Numbered List"),We.numberedList),this.editor.ui.componentFactory.has("bulletedList")||YI(this.editor,"bulletedList",e("Bulleted List"),We.bulletedList)}}class CH extends ue{static get requires(){return[vH,_H]}static get pluginName(){return"List"}}const AH=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:s,typeAttribute:e,listType:o}of AH);var ZI=d(9968),yH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(ZI.A,yH),ZI.A.locals;var JI=d(7141),xH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(JI.A,xH),JI.A.locals,hl("Ctrl+Enter");var XI=d(8991),EH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(XI.A,EH),XI.A.locals,hl("Ctrl+Enter");function eS(s,e){const o=(r,a,l)=>{if(!l.consumable.consume(a.item,r.name))return;const u=a.attributeNewValue,p=l.writer,g=l.mapper.toViewElement(a.item),k=[...g.getChildren()].find(A=>A.getCustomProperty("media-content"));p.remove(k);const w=s.getMediaViewElement(p,u,e);p.insert(p.createPositionAt(g,0),w)};return r=>{r.on("attribute:url:media",o)}}function tS(s,e,o,r){return s.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(s,o,r),s.createSlot()])}function nS(s){const e=s.getSelectedElement();return e&&e.is("element","media")?e:null}function oS(s,e,o,r){s.change(a=>{const l=a.createElement("media",{url:e});s.insertObject(l,o,null,{setSelection:"on",findOptimalPosition:r?"auto":void 0})})}class TH extends at{refresh(){const e=this.editor.model,o=e.document.selection,r=nS(o);this.value=r?r.getAttribute("url"):void 0,this.isEnabled=function(a){const l=a.getSelectedElement();return!!l&&l.name==="media"}(o)||function(a,l){let p=r2(a,l).start.parent;return p.isEmpty&&!l.schema.isLimit(p)&&(p=p.parent),l.schema.checkChild(p,"media")}(o,e)}execute(e){const o=this.editor.model,r=o.document.selection,a=nS(r);a?o.change(l=>{l.setAttribute("url",e,a)}):oS(o,e,r,!0)}}class IH{constructor(e,o){const r=o.providers,a=o.extraProviders||[],l=new Set(o.removeProviders),u=r.concat(a).filter(p=>{const g=p.name;return g?!l.has(g):(U("media-embed-no-provider-name",{provider:p}),!1)});this.locale=e,this.providerDefinitions=u}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,o,r){return this._getMedia(o).getViewElement(e,r)}_getMedia(e){if(!e)return new iS(this.locale);e=e.trim();for(const o of this.providerDefinitions){const r=o.html,a=Ft(o.url);for(const l of a){const u=this._getUrlMatches(e,l);if(u)return new iS(this.locale,e,u,r)}}return null}_getUrlMatches(e,o){let r=e.match(o);if(r)return r;let a=e.replace(/^https?:\/\//,"");return r=a.match(o),r||(a=a.replace(/^www\./,""),r=a.match(o),r||null)}}class iS{constructor(e,o,r,a){this.url=this._getValidUrl(o),this._locale=e,this._match=r,this._previewRenderer=a}getViewElement(e,o){const r={};let a;if(o.renderForEditingView||o.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(r["data-oembed-url"]=this.url),o.renderForEditingView&&(r.class="ck-media__wrapper");const l=this._getPreviewHtml(o);a=e.createRawElement("div",r,(u,p)=>{p.setContentOf(u,l)})}else this.url&&(r.url=this.url),a=e.createEmptyElement(o.elementName,r);return e.setCustomProperty("media-content",!0,a),a}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new Zi,o=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new ai({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":o("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var rS=d(7048),SH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(rS.A,SH),rS.A.locals;class hp extends ue{constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:o=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${o[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:o=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${o[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:o=>{const r=o[1],a=o[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${r}${a?`?start=${a}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:o=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${o[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new IH(e.locale,e.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const e=this.editor,o=e.model.schema,r=e.t,a=e.conversion,l=e.config.get("mediaEmbed.previewsInData"),u=e.config.get("mediaEmbed.elementName"),p=this.registry;e.commands.add("mediaEmbed",new TH(e)),o.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),a.for("dataDowncast").elementToStructure({model:"media",view:(g,{writer:k})=>{const w=g.getAttribute("url");return tS(k,p,w,{elementName:u,renderMediaPreview:!!w&&l})}}),a.for("dataDowncast").add(eS(p,{elementName:u,renderMediaPreview:l})),a.for("editingDowncast").elementToStructure({model:"media",view:(g,{writer:k})=>{const w=g.getAttribute("url");return function(A,E,T){return E.setCustomProperty("media",!0,A),ck(A,E,{label:T})}(tS(k,p,w,{elementName:u,renderForEditingView:!0}),k,r("media widget"))}}),a.for("editingDowncast").add(eS(p,{elementName:u,renderForEditingView:!0})),a.for("upcast").elementToElement({view:g=>["oembed",u].includes(g.name)&&g.getAttribute("url")?{name:!0}:null,model:(g,{writer:k})=>{const w=g.getAttribute("url");return p.hasMedia(w)?k.createElement("media",{url:w}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(g,{writer:k})=>{const w=g.getAttribute("data-oembed-url");return p.hasMedia(w)?k.createElement("media",{url:w}):null}}).add(g=>{g.on("element:figure",(k,w,A)=>{if(!A.consumable.consume(w.viewItem,{name:!0,classes:"media"}))return;const{modelRange:E,modelCursor:T}=A.convertChildren(w.viewItem,w.modelCursor);w.modelRange=E,w.modelCursor=T,Sn(E.getItems())||A.consumable.revert(w.viewItem,{name:!0,classes:"media"})})})}}const DH=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class MH extends ue{constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[y2,er,S2]}static get pluginName(){return"AutoMediaEmbed"}init(){const e=this.editor,o=e.model.document,r=e.plugins.get("ClipboardPipeline");this.listenTo(r,"inputTransformation",()=>{const a=o.selection.getFirstRange(),l=Ln.fromPosition(a.start);l.stickiness="toPrevious";const u=Ln.fromPosition(a.end);u.stickiness="toNext",o.once("change:data",()=>{this._embedMediaBetweenPositions(l,u),l.detach(),u.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(b.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,o){const r=this.editor,a=r.plugins.get(hp).registry,l=new xo(e,o),u=l.getWalker({ignoreElementEnd:!0});let p="";for(const g of u)g.item.is("$textProxy")&&(p+=g.item.data);if(p=p.trim(),!p.match(DH)||!a.hasMedia(p))return void l.detach();r.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Ln.fromPosition(e),this._timeoutId=b.window.setTimeout(()=>{r.model.change(g=>{this._timeoutId=null,g.remove(l),l.detach();let k=null;this._positionToInsert.root.rootName!=="$graveyard"&&(k=this._positionToInsert),oS(r.model,p,k,!1),this._positionToInsert.detach(),this._positionToInsert=null}),r.plugins.get(er).requestUndoOnBackspace()},100)):l.detach()}}var sS=d(5651),PH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(sS.A,PH),sS.A.locals;class RH extends Pe{constructor(e,o){super(o);const r=o.t;this.focusTracker=new Dn,this.keystrokes=new no,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(r("Save"),We.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(r("Cancel"),We.cancel,"ck-button-cancel","cancel"),this._focusables=new Lo,this._focusCycler=new zo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),uh({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(o=>{this._focusables.add(o),this.focusTracker.add(o.element)}),this.keystrokes.listenTo(this.element);const e=o=>o.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const o=e(this);if(o)return this.urlInputView.errorText=o,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,o=new Rh(this.locale,Oh),r=o.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),o.label=e("Media URL"),o.infoText=this._urlInputViewInfoDefault,r.on("input",()=>{o.infoText=r.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=r.element.value.trim()}),o}_createButton(e,o,r,a){const l=new vt(this.locale);return l.set({label:e,icon:o,tooltip:!0}),l.extendTemplate({attributes:{class:r}}),a&&l.delegate("execute").to(this,a),l}}class BH extends ue{static get requires(){return[hp]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,o=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",r=>{const a=Ji(r);return this._setUpDropdown(a,o),a})}_setUpDropdown(e,o){const r=this.editor,a=r.t,l=e.buttonView,u=r.plugins.get(hp).registry;e.once("change:isOpen",()=>{const p=new(sb(RH))(function(g,k){return[w=>{if(!w.url.length)return g("The URL must not be empty.")},w=>{if(!k.hasMedia(w.url))return g("This media URL is not supported.")}]}(r.t,u),r.locale);e.panelView.children.add(p),l.on("open",()=>{p.disableCssTransitions(),p.url=o.value||"",p.urlInputView.fieldView.select(),p.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{p.isValid()&&(r.execute("mediaEmbed",p.url),r.editing.view.focus())}),e.on("change:isOpen",()=>p.resetFormStatus()),e.on("cancel",()=>{r.editing.view.focus()}),p.delegate("submit","cancel").to(e),p.urlInputView.fieldView.bind("value").to(o,"value"),p.urlInputView.on("change:errorText",()=>{r.ui.update()}),p.urlInputView.bind("isEnabled").to(o,"isEnabled")}),e.bind("isEnabled").to(o),l.set({label:a("Insert media"),icon:'<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',tooltip:!0})}}var aS=d(70),NH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(aS.A,NH),aS.A.locals;function cS(s){return s!==void 0&&s.endsWith("px")}function Fa(s){return s.toFixed(2).replace(/\.?0+$/,"")+"px"}var OH=Object.defineProperty,LH=Object.defineProperties,jH=Object.getOwnPropertyDescriptors,lS=Object.getOwnPropertySymbols,zH=Object.prototype.hasOwnProperty,FH=Object.prototype.propertyIsEnumerable,dS=(s,e,o)=>e in s?OH(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,VH=(s,e)=>{for(var o in e||(e={}))zH.call(e,o)&&dS(s,o,e[o]);if(lS)for(var o of lS(e))FH.call(e,o)&&dS(s,o,e[o]);return s};function $H(s,e,o){if(!s.childCount)return;const r=new Qi(s.document),a=function(g,k){const w=k.createRangeIn(g),A=[],E=new Set;for(const T of w.getItems()){if(!T.is("element")||!T.name.match(/^(p|h\d+|li|div)$/))continue;let D=QH(T);if(D===void 0||parseFloat(D)!=0||Array.from(T.getClassNames()).find(B=>B.startsWith("MsoList"))||(D=void 0),T.hasStyle("mso-list")||D!==void 0&&E.has(D)){const B=KH(T);A.push({element:T,id:B.id,order:B.order,indent:B.indent,marginLeft:D}),D!==void 0&&E.add(D)}else E.clear()}return A}(s,r);if(!a.length)return;const l={},u=[];for(const g of a)if(g.indent!==void 0){UH(g)||(u.length=0);const k=`${g.id}:${g.indent}`,w=Math.min(g.indent-1,u.length);if(w<u.length&&u[w].id!==g.id&&(u.length=w),w<u.length-1)u.length=w+1;else{const E=WH(g,e);if(w>u.length-1||u[w].listElement.name!=E.type){w==0&&E.type=="ol"&&g.id!==void 0&&l[k]&&(E.startIndex=l[k]);const T=GH(E,r,o);if(cS(g.marginLeft)&&(w==0||cS(u[w-1].marginLeft))){let D=g.marginLeft;w>0&&(D=Fa(parseFloat(D)-parseFloat(u[w-1].marginLeft))),r.setStyle("padding-left",D,T)}if(u.length==0){const D=g.element.parent,B=D.getChildIndex(g.element)+1;r.insertChild(B,T,D)}else{const D=u[w-1].listItemElements;r.appendChild(T,D[D.length-1])}u[w]=(p=VH({},g),LH(p,jH({listElement:T,listItemElements:[]}))),w==0&&g.id!==void 0&&(l[k]=E.startIndex||1)}}const A=g.element.name=="li"?g.element:r.createElement("li");r.appendChild(A,u[w].listElement),u[w].listItemElements.push(A),w==0&&g.id!==void 0&&l[k]++,g.element!=A&&r.appendChild(g.element,A),YH(g.element,r),r.removeStyle("text-indent",g.element),r.removeStyle("margin-left",g.element)}else{const k=u.find(w=>w.marginLeft==g.marginLeft);if(k){const w=k.listItemElements;r.appendChild(g.element,w[w.length-1]),r.removeStyle("margin-left",g.element)}else u.length=0}var p}function UH(s){const e=s.element.previousSibling;return HH(e||s.element.parent)}function HH(s){return s.is("element","ol")||s.is("element","ul")}function WH(s,e){const o=new RegExp(`@list l${s.id}:level${s.indent}\\s*({[^}]*)`,"gi"),r=/mso-level-number-format:([^;]{0,100});/gi,a=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,l=new RegExp(`@list\\s+l${s.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),u=new RegExp(`@list l${s.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),p=l.exec(e),g=u.exec(e),k=p&&!g,w=o.exec(e);let A="decimal",E="ol",T=null;if(w&&w[1]){const D=r.exec(w[1]);if(D&&D[1]&&(A=D[1].trim(),E=A!=="bullet"&&A!=="image"?"ol":"ul"),A==="bullet"){const B=function(z){if(z.name=="li"&&z.parent.name=="ul"&&z.parent.hasAttribute("type"))return z.parent.getAttribute("type");const $=function(Z){if(Z.getChild(0).is("$text"))return null;for(const ae of Z.getChildren()){if(!ae.is("element","span"))continue;const ke=ae.getChild(0);if(ke)return ke.is("$text")?ke:ke.getChild(0)}return null}(z);if(!$)return null;const q=$._data;return q==="o"?"circle":q===""?"disc":q===""?"square":null}(s.element);B&&(A=B)}else{const B=a.exec(w[1]);B&&B[1]&&(T=parseInt(B[1]))}k&&(E="ol")}return{type:E,startIndex:T,style:qH(A),isLegalStyleList:k}}function qH(s){if(s.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(s){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return s;default:return null}}function GH(s,e,o){const r=e.createElement(s.type);return s.style&&e.setStyle("list-style-type",s.style,r),s.startIndex&&s.startIndex>1&&e.setAttribute("start",s.startIndex,r),s.isLegalStyleList&&o&&e.addClass("legal-list",r),r}function KH(s){const e=s.getStyle("mso-list");if(e===void 0)return{};const o=e.match(/(^|\s{1,100})l(\d+)/i),r=e.match(/\s{0,100}lfo(\d+)/i),a=e.match(/\s{0,100}level(\d+)/i);return o&&r&&a?{id:o[2],order:r[1],indent:parseInt(a[1])}:{indent:1}}function YH(s,e){const o=new _i({name:"span",styles:{"mso-list":"Ignore"}}),r=e.createRangeIn(s);for(const a of r)a.type==="elementStart"&&o.match(a.item)&&e.remove(a.item)}function QH(s){const e=s.getStyle("margin-left");return e===void 0||e.endsWith("px")?e:function(o){const r=parseFloat(o);return o.endsWith("pt")?Fa(96*r/72):o.endsWith("pc")?Fa(12*r*96/72):o.endsWith("in")?Fa(96*r):o.endsWith("cm")?Fa(96*r/2.54):o.endsWith("mm")?Fa(r/10*96/2.54):o}(e)}function ZH(s,e){if(!s.childCount)return;const o=new Qi(s.document),r=function(l,u){const p=u.createRangeIn(l),g=new _i({name:/v:(.+)/}),k=[];for(const w of p){if(w.type!="elementStart")continue;const A=w.item,E=A.previousSibling,T=E&&E.is("element")?E.name:null,D=["Chart"],B=g.match(A),z=A.getAttribute("o:gfxdata"),$=T==="v:shapetype",q=z&&D.some(Z=>A.getAttribute("id").includes(Z));B&&z&&!$&&!q&&k.push(w.item.getAttribute("id"))}return k}(s,o);(function(l,u,p){const g=p.createRangeIn(u),k=new _i({name:"img"}),w=[];for(const A of g)if(A.item.is("element")&&k.match(A.item)){const E=A.item,T=E.getAttribute("v:shapes")?E.getAttribute("v:shapes").split(" "):[];T.length&&T.every(D=>l.indexOf(D)>-1)?w.push(E):E.getAttribute("src")||w.push(E)}for(const A of w)p.remove(A)})(r,s,o),function(l,u,p){const g=p.createRangeIn(u),k=[];for(const E of g)if(E.type=="elementStart"&&E.item.is("element","v:shape")){const T=E.item.getAttribute("id");if(l.includes(T))continue;w(E.item.parent.getChildren(),T)||k.push(E.item)}for(const E of k){const T={src:A(E)};E.hasAttribute("alt")&&(T.alt=E.getAttribute("alt"));const D=p.createElement("img",T);p.insertChild(E.index+1,D,E.parent)}function w(E,T){for(const D of E)if(D.is("element")&&(D.name=="img"&&D.getAttribute("v:shapes")==T||w(D.getChildren(),T)))return!0;return!1}function A(E){for(const T of E.getChildren())if(T.is("element")&&T.getAttribute("src"))return T.getAttribute("src")}}(r,s,o),function(l,u){const p=u.createRangeIn(l),g=new _i({name:/v:(.+)/}),k=[];for(const w of p)w.type=="elementStart"&&g.match(w.item)&&k.push(w.item);for(const w of k)u.remove(w)}(s,o);const a=function(l,u){const p=u.createRangeIn(l),g=new _i({name:"img"}),k=[];for(const w of p)w.item.is("element")&&g.match(w.item)&&w.item.getAttribute("src").startsWith("file://")&&k.push(w.item);return k}(s,o);a.length&&function(l,u,p){if(l.length===u.length)for(let g=0;g<l.length;g++){const k=`data:${u[g].type};base64,${JH(u[g].hex)}`;p.setAttribute("src",k,l[g])}}(a,function(l){if(!l)return[];const u=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,p=new RegExp("(?:("+u.source+"))([\\da-fA-F\\s]+)\\}","g"),g=l.match(p),k=[];if(g)for(const w of g){let A=!1;w.includes("\\pngblip")?A="image/png":w.includes("\\jpegblip")&&(A="image/jpeg"),A&&k.push({hex:w.replace(u,"").replace(/[^\da-fA-F]/g,""),type:A})}return k}(e),o)}function JH(s){return btoa(s.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const XH=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,eW=/xmlns:o="urn:schemas-microsoft-com/i;class tW{constructor(e,o=!1){this.document=e,this.hasMultiLevelListPlugin=o}isActive(e){return XH.test(e)||eW.test(e)}execute(e){const{body:o,stylesString:r}=e._parsedData;$H(o,r,this.hasMultiLevelListPlugin),ZH(o,e.dataTransfer.getData("text/rtf")),function(a){const l=[],u=new Qi(a.document);for(const{item:p}of u.createRangeIn(a))if(p.is("element")){for(const g of p.getClassNames())/\bmso/gi.exec(g)&&u.removeClass(g,p);for(const g of p.getStyleNames())/\bmso/gi.exec(g)&&u.removeStyle(g,p);(p.is("element","w:sdt")||p.is("element","w:sdtpr")&&p.isEmpty||p.is("element","o:p")&&p.isEmpty)&&l.push(p)}for(const p of l){const g=p.parent,k=g.getChildIndex(p);u.insertChild(k,p.getChildren(),g),u.remove(p)}}(o),e.content=o}}function uS(s,e,o,{blockElements:r,inlineObjectElements:a}){let l=o.createPositionAt(s,e=="forward"?"after":"before");return l=l.getLastMatchingPosition(({item:u})=>u.is("element")&&!r.includes(u.name)&&!a.includes(u.name),{direction:e}),e=="forward"?l.nodeAfter:l.nodeBefore}function hS(s,e){return!!s&&s.is("element")&&e.includes(s.name)}const nW=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class oW{constructor(e){this.document=e}isActive(e){return nW.test(e)}execute(e){const o=new Qi(this.document),{body:r}=e._parsedData;(function(a,l){for(const u of a.getChildren())if(u.is("element","b")&&u.getStyle("font-weight")==="normal"){const p=a.getChildIndex(u);l.remove(u),l.insertChild(p,u.getChildren(),a)}})(r,o),function(a,l){for(const u of l.createRangeIn(a)){const p=u.item;if(p.is("element","li")){const g=p.getChild(0);g&&g.is("element","p")&&l.unwrapElement(g)}}}(r,o),function(a,l){const u=new kh(l.document.stylesProcessor),p=new _h(u,{renderingMode:"data"}),g=p.blockElements,k=p.inlineObjectElements,w=[];for(const A of l.createRangeIn(a)){const E=A.item;if(E.is("element","br")){const T=uS(E,"forward",l,{blockElements:g,inlineObjectElements:k}),D=uS(E,"backward",l,{blockElements:g,inlineObjectElements:k}),B=hS(T,g);(hS(D,g)||B)&&w.push(E)}}for(const A of w)A.hasClass("Apple-interchange-newline")?l.remove(A):l.replace(A,l.createElement("p"))}(r,o),e.content=r}}const iW=/<google-sheets-html-origin/i;class rW{constructor(e){this.document=e}isActive(e){return iW.test(e)}execute(e){const o=new Qi(this.document),{body:r}=e._parsedData;(function(a,l){for(const u of a.getChildren())if(u.is("element","google-sheets-html-origin")){const p=a.getChildIndex(u);l.remove(u),l.insertChild(p,u.getChildren(),a)}})(r,o),function(a,l){for(const u of a.getChildren())u.is("element","table")&&u.hasAttribute("xmlns")&&l.removeAttribute("xmlns",u)}(r,o),function(a,l){for(const u of a.getChildren())u.is("element","table")&&u.getStyle("width")==="0px"&&l.removeStyle("width",u)}(r,o),function(a,l){for(const u of Array.from(a.getChildren()))u.is("element","style")&&l.remove(u)}(r,o),e.content=r}}function pS(s){return s.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,o)=>o.length===1?" ":Array(o.length+1).join(" ").substr(0,o.length))}function sW(s,e){const o=new DOMParser,r=function(g){return pS(pS(g)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(g){const k="</body>",w="</html>",A=g.indexOf(k);if(A<0)return g;const E=g.indexOf(w,A+k.length);return g.substring(0,A+k.length)+(E>=0?g.substring(E):"")}(s=(s=s.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),a=o.parseFromString(r,"text/html");(function(g){g.querySelectorAll("span[style*=spacerun]").forEach(k=>{const w=k,A=w.innerText.length||0;w.innerText=Array(A+1).join(" ").substr(0,A)})})(a);const l=a.body.innerHTML,u=function(g,k){const w=new kh(k),A=new _h(w,{renderingMode:"data"}),E=g.createDocumentFragment(),T=g.body.childNodes;for(;T.length>0;)E.appendChild(T[0]);return A.domToView(E,{skipComments:!0})}(a,e),p=function(g){const k=[],w=[],A=Array.from(g.getElementsByTagName("style"));for(const E of A)E.sheet&&E.sheet.cssRules&&E.sheet.cssRules.length&&(k.push(E.sheet),w.push(E.innerHTML));return{styles:k,stylesString:w.join(" ")}}(a);return{body:u,bodyString:l,styles:p.styles,stylesString:p.stylesString}}function sn(s,e,o,r,a=1){e!=null&&a!=null&&e>a?r.setAttribute(s,e,o):r.removeAttribute(s,o)}function xs(s,e,o={}){const r=s.createElement("tableCell",o);return s.insertElement("paragraph",r),s.insert(r,e),r}function Bk(s,e){const o=e.parent.parent,r=parseInt(o.getAttribute("headingColumns")||"0"),{column:a}=s.getCellLocation(e);return!!r&&a<r}function aW(){return s=>{s.on("element:table",(e,o,r)=>{const a=o.viewItem;if(!r.consumable.test(a,{name:!0}))return;const{rows:l,headingRows:u,headingColumns:p}=function(w){let A,E=0;const T=[],D=[];let B;for(const z of Array.from(w.getChildren())){if(z.name!=="tbody"&&z.name!=="thead"&&z.name!=="tfoot")continue;z.name!=="thead"||B||(B=z);const $=Array.from(z.getChildren()).filter(q=>q.is("element","tr"));for(const q of $)if(B&&z===B||z.name==="tbody"&&Array.from(q.getChildren()).length&&Array.from(q.getChildren()).every(Z=>Z.is("element","th")))E++,T.push(q);else{D.push(q);const Z=cW(q);(!A||Z<A)&&(A=Z)}}return{headingRows:E,headingColumns:A||0,rows:[...T,...D]}}(a),g={};p&&(g.headingColumns=p),u&&(g.headingRows=u);const k=r.writer.createElement("table",g);if(r.safeInsert(k,o.modelCursor)){if(r.consumable.consume(a,{name:!0}),l.forEach(w=>r.convertItem(w,r.writer.createPositionAt(k,"end"))),r.convertChildren(a,r.writer.createPositionAt(k,"end")),k.isEmpty){const w=r.writer.createElement("tableRow");r.writer.insert(w,r.writer.createPositionAt(k,"end")),xs(r.writer,r.writer.createPositionAt(w,"end"))}r.updateConversionResult(k,o)}})}}function fS(s){return e=>{e.on(`element:${s}`,(o,r,{writer:a})=>{if(!r.modelRange)return;const l=r.modelRange.start.nodeAfter,u=a.createPositionAt(l,0);if(r.viewItem.isEmpty)return void a.insertElement("paragraph",u);const p=Array.from(l.getChildren());if(p.every(g=>g.is("element","$marker"))){const g=a.createElement("paragraph");a.insert(g,a.createPositionAt(l,0));for(const k of p)a.move(a.createRangeOn(k),a.createPositionAt(g,"end"))}},{priority:"low"})}}function cW(s){let e=0,o=0;const r=Array.from(s.getChildren()).filter(a=>a.name==="th"||a.name==="td");for(;o<r.length&&r[o].name==="th";){const a=r[o];e+=parseInt(a.getAttribute("colspan")||"1"),o++}return e}class Pt{constructor(e,o={}){this._jumpedToStartRow=!1,this._table=e,this._startRow=o.row!==void 0?o.row:o.startRow||0,this._endRow=o.row!==void 0?o.row:o.endRow,this._startColumn=o.column!==void 0?o.column:o.startColumn||0,this._endColumn=o.column!==void 0?o.column:o.endColumn,this._includeAllSlots=!!o.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let o=null;const r=this._getSpanned();if(r)this._includeAllSlots&&!this._shouldSkipSlot()&&(o=this._formatOutValue(r.cell,r.row,r.column));else{const a=e.getChild(this._cellIndex);if(!a)return this._advanceToNextRow();const l=parseInt(a.getAttribute("colspan")||"1"),u=parseInt(a.getAttribute("rowspan")||"1");(l>1||u>1)&&this._recordSpans(a,u,l),this._shouldSkipSlot()||(o=this._formatOutValue(a)),this._nextCellAtColumn=this._column+l}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,o||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,o=this._row,r=this._column){return{done:!1,value:new lW(this,e,o,r)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),o=this._row<this._startRow,r=this._column<this._startColumn,a=this._endColumn!==void 0&&this._column>this._endColumn;return e||o||r||a}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,o,r){const a={cell:e,row:this._row,column:this._column};for(let l=this._row;l<this._row+o;l++)for(let u=this._column;u<this._column+r;u++)l==this._row&&u==this._column||this._markSpannedCell(l,u,a)}_markSpannedCell(e,o,r){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(o,r)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let o=this._startRow;!this._jumpedToStartRow;o--)e===this._getRowLength(o)&&(this._row=o,this._rowIndex=o,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce((o,r)=>o+parseInt(r.getAttribute("colspan")||"1"),0)}}class lW{constructor(e,o,r,a){this.cell=o,this.row=e._row,this.column=e._column,this.cellAnchorRow=r,this.cellAnchorColumn=a,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function gS(s,e){return(o,{writer:r})=>{const a=o.getAttribute("headingRows")||0,l=r.createContainerElement("table",null,[]),u=r.createContainerElement("figure",{class:"table"},l);a>0&&r.insert(r.createPositionAt(l,"end"),r.createContainerElement("thead",null,r.createSlot(p=>p.is("element","tableRow")&&p.index<a))),a<s.getRows(o)&&r.insert(r.createPositionAt(l,"end"),r.createContainerElement("tbody",null,r.createSlot(p=>p.is("element","tableRow")&&p.index>=a)));for(const{positionOffset:p,filter:g}of e.additionalSlots)r.insert(r.createPositionAt(l,p),r.createSlot(g));return r.insert(r.createPositionAt(l,"after"),r.createSlot(p=>!p.is("element","tableRow")&&!e.additionalSlots.some(({filter:g})=>g(p)))),e.asWidget?function(p,g){return g.setCustomProperty("table",!0,p),ck(p,g,{hasSelectionHandle:!0})}(u,r):u}}function mS(s={}){return(e,{writer:o})=>{const r=e.parent,a=r.parent,l=a.getChildIndex(r),u=new Pt(a,{row:l}),p=a.getAttribute("headingRows")||0,g=a.getAttribute("headingColumns")||0;let k=null;for(const w of u)if(w.cell==e){const A=w.row<p||w.column<g?"th":"td";k=s.asWidget?i2(o.createEditableElement(A),o):o.createContainerElement(A);break}return k}}function bS(s={}){return(e,{writer:o})=>{if(!e.parent.is("element","tableCell")||!kS(e))return null;if(s.asWidget)return o.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const r=o.createContainerElement("p");return o.setCustomProperty("dataPipeline:transparentRendering",!0,r),r}}}function kS(s){return s.parent.childCount==1&&!!s.getAttributeKeys().next().done}class dW extends at{refresh(){const e=this.editor.model,o=e.document.selection,r=e.schema;this.isEnabled=function(a,l){const u=a.getFirstPosition().parent,p=u===u.root?u:u.parent;return l.checkChild(p,"table")}(o,r)}execute(e={}){const o=this.editor,r=o.model,a=o.plugins.get("TableUtils"),l=o.config.get("table.defaultHeadings.rows"),u=o.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&l&&(e.headingRows=l),e.headingColumns===void 0&&u&&(e.headingColumns=u),r.change(p=>{const g=a.createTable(p,e);r.insertObject(g,null,null,{findOptimalPosition:"auto"}),p.setSelection(p.createPositionAt(g.getNodeByPath([0,0,0]),0))})}}class wS extends at{constructor(e,o={}){super(e),this.order=o.order||"below"}refresh(){const e=this.editor.model.document.selection,o=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=o}execute(){const e=this.editor,o=e.model.document.selection,r=e.plugins.get("TableUtils"),a=this.order==="above",l=r.getSelectionAffectedTableCells(o),u=r.getRowIndexes(l),p=a?u.first:u.last,g=l[0].findAncestor("table");r.insertRows(g,{at:a?p:p+1,copyStructureFromAbove:!a})}}class vS extends at{constructor(e,o={}){super(e),this.order=o.order||"right"}refresh(){const e=this.editor.model.document.selection,o=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=o}execute(){const e=this.editor,o=e.model.document.selection,r=e.plugins.get("TableUtils"),a=this.order==="left",l=r.getSelectionAffectedTableCells(o),u=r.getColumnIndexes(l),p=a?u.first:u.last,g=l[0].findAncestor("table");r.insertColumns(g,{columns:1,at:a?p:p+1})}}class _S extends at{constructor(e,o={}){super(e),this.direction=o.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),o=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(o,2):e.splitCellVertically(o,2)}}function CS(s,e,o){const{startRow:r,startColumn:a,endRow:l,endColumn:u}=e,p=o.createElement("table"),g=l-r+1;for(let w=0;w<g;w++)o.insertElement("tableRow",p,"end");const k=[...new Pt(s,{startRow:r,endRow:l,startColumn:a,endColumn:u,includeAllSlots:!0})];for(const{row:w,column:A,cell:E,isAnchor:T,cellAnchorRow:D,cellAnchorColumn:B}of k){const z=w-r,$=p.getChild(z);if(T){const q=o.cloneElement(E);o.append(q,$),TS(q,w,A,l,u,o)}else(D<r||B<a)&&xs(o,o.createPositionAt($,"end"))}return function(w,A,E,T,D){const B=parseInt(A.getAttribute("headingRows")||"0");B>0&&sn("headingRows",B-E,w,D,0);const z=parseInt(A.getAttribute("headingColumns")||"0");z>0&&sn("headingColumns",z-T,w,D,0)}(p,s,r,a,o),p}function AS(s,e,o=0){const r=[],a=new Pt(s,{startRow:o,endRow:e-1});for(const l of a){const{row:u,cellHeight:p}=l;u<e&&e<=u+p-1&&r.push(l)}return r}function yS(s,e,o){const r=s.parent,a=r.parent,l=r.index,u=e-l,p={},g=parseInt(s.getAttribute("rowspan"))-u;g>1&&(p.rowspan=g);const k=parseInt(s.getAttribute("colspan")||"1");k>1&&(p.colspan=k);const w=l+u,A=[...new Pt(a,{startRow:l,endRow:w,includeAllSlots:!0})];let E,T=null;for(const D of A){const{row:B,column:z,cell:$}=D;$===s&&E===void 0&&(E=z),E!==void 0&&E===z&&B===w&&(T=xs(o,D.getPositionBefore(),p))}return sn("rowspan",u,s,o),T}function xS(s,e){const o=[],r=new Pt(s);for(const a of r){const{column:l,cellWidth:u}=a;l<e&&e<=l+u-1&&o.push(a)}return o}function ES(s,e,o,r){const a=o-e,l={},u=parseInt(s.getAttribute("colspan"))-a;u>1&&(l.colspan=u);const p=parseInt(s.getAttribute("rowspan")||"1");p>1&&(l.rowspan=p);const g=xs(r,r.createPositionAfter(s),l);return sn("colspan",a,s,r),g}function TS(s,e,o,r,a,l){const u=parseInt(s.getAttribute("colspan")||"1"),p=parseInt(s.getAttribute("rowspan")||"1");o+u-1>a&&sn("colspan",a-o+1,s,l,1),e+p-1>r&&sn("rowspan",r-e+1,s,l,1)}function Nk(s,e){const o=e.getColumns(s),r=new Array(o).fill(0);for(const{column:l}of new Pt(s))r[l]++;const a=r.reduce((l,u,p)=>u?l:[...l,p],[]);if(a.length>0){const l=a[a.length-1];return e.removeColumns(s,{at:l}),!0}return!1}function Ok(s,e){const o=[],r=e.getRows(s);for(let a=0;a<r;a++)s.getChild(a).isEmpty&&o.push(a);if(o.length>0){const a=o[o.length-1];return e.removeRows(s,{at:a}),!0}return!1}function Lk(s,e){Nk(s,e)||Ok(s,e)}function IS(s,e){const o=Array.from(new Pt(s,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(o.every(({cellHeight:a})=>a===1))return e.lastRow;const r=o[0].cellHeight-1;return e.lastRow+r}function SS(s,e){const o=Array.from(new Pt(s,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(o.every(({cellWidth:a})=>a===1))return e.lastColumn;const r=o[0].cellWidth-1;return e.lastColumn+r}class pp extends at{constructor(e,o){super(e),this.direction=o.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,o=e.document,r=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(o.selection)[0],a=this.value,l=this.direction;e.change(u=>{const p=l=="right"||l=="down",g=p?r:a,k=p?a:r,w=k.parent;(function(B,z,$){DS(B)||(DS(z)&&$.remove($.createRangeIn(z)),$.move($.createRangeIn(B),$.createPositionAt(z,"end"))),$.remove(B)})(k,g,u);const A=this.isHorizontal?"colspan":"rowspan",E=parseInt(r.getAttribute(A)||"1"),T=parseInt(a.getAttribute(A)||"1");u.setAttribute(A,E+T,g),u.setSelection(u.createRangeIn(g));const D=this.editor.plugins.get("TableUtils");Lk(w.findAncestor("table"),D)})}_getMergeableCell(){const e=this.editor.model.document,o=this.editor.plugins.get("TableUtils"),r=o.getTableCellsContainingSelection(e.selection)[0];if(!r)return;const a=this.isHorizontal?function(p,g,k){const w=p.parent,A=w.parent,E=g=="right"?p.nextSibling:p.previousSibling,T=(A.getAttribute("headingColumns")||0)>0;if(!E)return;const D=g=="right"?p:E,B=g=="right"?E:p,{column:z}=k.getCellLocation(D),{column:$}=k.getCellLocation(B),q=parseInt(D.getAttribute("colspan")||"1"),Z=Bk(k,D),ae=Bk(k,B);if(!(T&&Z!=ae))return z+q===$?E:void 0}(r,this.direction,o):function(p,g,k){const w=p.parent,A=w.parent,E=A.getChildIndex(w);if(g=="down"&&E===k.getRows(A)-1||g=="up"&&E===0)return null;const T=parseInt(p.getAttribute("rowspan")||"1"),D=A.getAttribute("headingRows")||0,B=g=="down"&&E+T===D,z=g=="up"&&E===D;if(D&&(B||z))return null;const $=parseInt(p.getAttribute("rowspan")||"1"),q=g=="down"?E+$:E,Z=[...new Pt(A,{endRow:q})],ae=Z.find(Je=>Je.cell===p),ke=ae.column,Oe=Z.find(({row:Je,cellHeight:Vt,column:xn})=>xn===ke&&(g=="down"?Je===q:q===Je+Vt));return Oe&&Oe.cell?Oe.cell:null}(r,this.direction,o);if(!a)return;const l=this.isHorizontal?"rowspan":"colspan",u=parseInt(r.getAttribute(l)||"1");return parseInt(a.getAttribute(l)||"1")===u?a:void 0}}function DS(s){const e=s.getChild(0);return s.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class uW extends at{refresh(){const e=this.editor.plugins.get("TableUtils"),o=e.getSelectionAffectedTableCells(this.editor.model.document.selection),r=o[0];if(r){const a=r.findAncestor("table"),l=e.getRows(a)-1,u=e.getRowIndexes(o),p=u.first===0&&u.last===l;this.isEnabled=!p}else this.isEnabled=!1}execute(){const e=this.editor.model,o=this.editor.plugins.get("TableUtils"),r=o.getSelectionAffectedTableCells(e.document.selection),a=o.getRowIndexes(r),l=r[0],u=l.findAncestor("table"),p=o.getCellLocation(l).column;e.change(g=>{const k=a.last-a.first+1;o.removeRows(u,{at:a.first,rows:k});const w=function(A,E,T,D){const B=A.getChild(Math.min(E,D-1));let z=B.getChild(0),$=0;for(const q of B.getChildren()){if($>T)return z;z=q,$+=parseInt(q.getAttribute("colspan")||"1")}return z}(u,a.first,p,o.getRows(u));g.setSelection(g.createPositionAt(w,0))})}}class hW extends at{refresh(){const e=this.editor.plugins.get("TableUtils"),o=e.getSelectionAffectedTableCells(this.editor.model.document.selection),r=o[0];if(r){const a=r.findAncestor("table"),l=e.getColumns(a),{first:u,last:p}=e.getColumnIndexes(o);this.isEnabled=p-u<l-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[o,r]=function(g,k){const w=k.getSelectionAffectedTableCells(g),A=w[0],E=w.pop(),T=[A,E];return A.isBefore(E)?T:T.reverse()}(this.editor.model.document.selection,e),a=o.parent.parent,l=[...new Pt(a)],u={first:l.find(g=>g.cell===o).column,last:l.find(g=>g.cell===r).column},p=function(g,k,w,A){return parseInt(w.getAttribute("colspan")||"1")>1?w:k.previousSibling||w.nextSibling?w.nextSibling||k.previousSibling:A.first?g.reverse().find(({column:T})=>T<A.first).cell:g.reverse().find(({column:T})=>T>A.last).cell}(l,o,r,u);this.editor.model.change(g=>{const k=u.last-u.first+1;e.removeColumns(a,{at:u.first,columns:k}),g.setSelection(g.createPositionAt(p,0))})}}class pW extends at{refresh(){const e=this.editor.plugins.get("TableUtils"),o=this.editor.model,r=e.getSelectionAffectedTableCells(o.document.selection),a=r.length>0;this.isEnabled=a,this.value=a&&r.every(l=>this._isInHeading(l,l.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const o=this.editor.plugins.get("TableUtils"),r=this.editor.model,a=o.getSelectionAffectedTableCells(r.document.selection),l=a[0].findAncestor("table"),{first:u,last:p}=o.getRowIndexes(a),g=this.value?u:p+1,k=l.getAttribute("headingRows")||0;r.change(w=>{if(g){const A=AS(l,g,g>k?k:0);for(const{cell:E}of A)yS(E,g,w)}sn("headingRows",g,l,w,0)})}_isInHeading(e,o){const r=parseInt(o.getAttribute("headingRows")||"0");return!!r&&e.parent.index<r}}class fW extends at{refresh(){const e=this.editor.model,o=this.editor.plugins.get("TableUtils"),r=o.getSelectionAffectedTableCells(e.document.selection),a=r.length>0;this.isEnabled=a,this.value=a&&r.every(l=>Bk(o,l))}execute(e={}){if(e.forceValue===this.value)return;const o=this.editor.plugins.get("TableUtils"),r=this.editor.model,a=o.getSelectionAffectedTableCells(r.document.selection),l=a[0].findAncestor("table"),{first:u,last:p}=o.getColumnIndexes(a),g=this.value?u:p+1;r.change(k=>{if(g){const w=xS(l,g);for(const{cell:A,column:E}of w)ES(A,E,g,k)}sn("headingColumns",g,l,k,0)})}}function gW(s){if(s.is("element","tableColumnGroup"))return s;const e=s.getChildren();return Array.from(e).find(o=>o.is("element","tableColumnGroup"))}function mW(s){const e=gW(s);return e?Array.from(e.getChildren()):[]}class jn extends ue{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const o=e.parent,r=o.parent,a=r.getChildIndex(o),l=new Pt(r,{row:a});for(const{cell:u,row:p,column:g}of l)if(u===e)return{row:p,column:g}}createTable(e,o){const r=e.createElement("table"),a=o.rows||2,l=o.columns||2;return jk(e,r,0,a,l),o.headingRows&&sn("headingRows",Math.min(o.headingRows,a),r,e,0),o.headingColumns&&sn("headingColumns",Math.min(o.headingColumns,l),r,e,0),r}insertRows(e,o={}){const r=this.editor.model,a=o.at||0,l=o.rows||1,u=o.copyStructureFromAbove!==void 0,p=o.copyStructureFromAbove?a-1:a,g=this.getRows(e),k=this.getColumns(e);if(a>g)throw new P("tableutils-insertrows-insert-out-of-range",this,{options:o});r.change(w=>{const A=e.getAttribute("headingRows")||0;if(A>a&&sn("headingRows",A+l,e,w,0),!u&&(a===0||a===g))return void jk(w,e,a,l,k);const E=u?Math.max(a,p):a,T=new Pt(e,{endRow:E}),D=new Array(k).fill(1);for(const{row:B,column:z,cellHeight:$,cellWidth:q,cell:Z}of T){const ae=B+$-1,ke=B<=p&&p<=ae;B<a&&a<=ae?(w.setAttribute("rowspan",$+l,Z),D[z]=-q):u&&ke&&(D[z]=q)}for(let B=0;B<l;B++){const z=w.createElement("tableRow");w.insert(z,e,a);for(let $=0;$<D.length;$++){const q=D[$],Z=w.createPositionAt(z,"end");q>0&&xs(w,Z,q>1?{colspan:q}:void 0),$+=Math.abs(q)-1}}})}insertColumns(e,o={}){const r=this.editor.model,a=o.at||0,l=o.columns||1;r.change(u=>{const p=e.getAttribute("headingColumns");a<p&&u.setAttribute("headingColumns",p+l,e);const g=this.getColumns(e);if(a===0||g===a){for(const w of e.getChildren())w.is("element","tableRow")&&Va(l,u,u.createPositionAt(w,a?"end":0));return}const k=new Pt(e,{column:a,includeAllSlots:!0});for(const w of k){const{row:A,cell:E,cellAnchorColumn:T,cellAnchorRow:D,cellWidth:B,cellHeight:z}=w;if(T<a){u.setAttribute("colspan",B+l,E);const $=D+z-1;for(let q=A;q<=$;q++)k.skipRow(q)}else Va(l,u,w.getPositionBefore())}})}removeRows(e,o){const r=this.editor.model,a=o.rows||1,l=this.getRows(e),u=o.at,p=u+a-1;if(p>l-1)throw new P("tableutils-removerows-row-index-out-of-range",this,{table:e,options:o});r.change(g=>{const k={first:u,last:p},{cellsToMove:w,cellsToTrim:A}=function(E,{first:T,last:D}){const B=new Map,z=[];for(const{row:$,column:q,cellHeight:Z,cell:ae}of new Pt(E,{endRow:D})){const ke=$+Z-1;if($>=T&&$<=D&&ke>D){const Oe=Z-(D-$+1);B.set(q,{cell:ae,rowspan:Oe})}if($<T&&ke>=T){let Oe;Oe=ke>=D?D-T+1:ke-T+1,z.push({cell:ae,rowspan:Z-Oe})}}return{cellsToMove:B,cellsToTrim:z}}(e,k);w.size&&function(E,T,D,B){const z=new Pt(E,{includeAllSlots:!0,row:T}),$=[...z],q=E.getChild(T);let Z;for(const{column:ae,cell:ke,isAnchor:Oe}of $)if(D.has(ae)){const{cell:Je,rowspan:Vt}=D.get(ae),xn=Z?B.createPositionAfter(Z):B.createPositionAt(q,0);B.move(B.createRangeOn(Je),xn),sn("rowspan",Vt,Je,B),Z=Je}else Oe&&(Z=ke)}(e,p+1,w,g);for(let E=p;E>=u;E--)g.remove(e.getChild(E));for(const{rowspan:E,cell:T}of A)sn("rowspan",E,T,g);(function(E,{first:T,last:D},B){const z=E.getAttribute("headingRows")||0;T<z&&sn("headingRows",D<z?z-(D-T+1):T,E,B,0)})(e,k,g),Nk(e,this)||Ok(e,this)})}removeColumns(e,o){const r=this.editor.model,a=o.at,l=o.columns||1,u=o.at+l-1;r.change(p=>{(function(k,w,A){const E=k.getAttribute("headingColumns")||0;if(E&&w.first<E){const T=Math.min(E-1,w.last)-w.first+1;A.setAttribute("headingColumns",E-T,k)}})(e,{first:a,last:u},p);const g=mW(e);for(let k=u;k>=a;k--){for(const{cell:w,column:A,cellWidth:E}of[...new Pt(e)])A<=k&&E>1&&A+E>k?sn("colspan",E-1,w,p):A===k&&p.remove(w);if(g[k]){const w=k===0?g[1]:g[k-1],A=parseFloat(g[k].getAttribute("columnWidth")),E=parseFloat(w.getAttribute("columnWidth"));p.remove(g[k]),p.setAttribute("columnWidth",A+E+"%",w)}}Ok(e,this)||Nk(e,this)})}splitCellVertically(e,o=2){const r=this.editor.model,a=e.parent.parent,l=parseInt(e.getAttribute("rowspan")||"1"),u=parseInt(e.getAttribute("colspan")||"1");r.change(p=>{if(u>1){const{newCellsSpan:g,updatedSpan:k}=MS(u,o);sn("colspan",k,e,p);const w={};g>1&&(w.colspan=g),l>1&&(w.rowspan=l),Va(u>o?o-1:u-1,p,p.createPositionAfter(e),w)}if(u<o){const g=o-u,k=[...new Pt(a)],{column:w}=k.find(({cell:D})=>D===e),A=k.filter(({cell:D,cellWidth:B,column:z})=>D!==e&&z===w||z<w&&z+B>w);for(const{cell:D,cellWidth:B}of A)p.setAttribute("colspan",B+g,D);const E={};l>1&&(E.rowspan=l),Va(g,p,p.createPositionAfter(e),E);const T=a.getAttribute("headingColumns")||0;T>w&&sn("headingColumns",T+g,a,p)}})}splitCellHorizontally(e,o=2){const r=this.editor.model,a=e.parent,l=a.parent,u=l.getChildIndex(a),p=parseInt(e.getAttribute("rowspan")||"1"),g=parseInt(e.getAttribute("colspan")||"1");r.change(k=>{if(p>1){const w=[...new Pt(l,{startRow:u,endRow:u+p-1,includeAllSlots:!0})],{newCellsSpan:A,updatedSpan:E}=MS(p,o);sn("rowspan",E,e,k);const{column:T}=w.find(({cell:B})=>B===e),D={};A>1&&(D.rowspan=A),g>1&&(D.colspan=g);for(const B of w){const{column:z,row:$}=B;$>=u+E&&z===T&&($+u+E)%A==0&&Va(1,k,B.getPositionBefore(),D)}}if(p<o){const w=o-p,A=[...new Pt(l,{startRow:0,endRow:u})];for(const{cell:D,cellHeight:B,row:z}of A)if(D!==e&&z+B>u){const $=B+w;k.setAttribute("rowspan",$,D)}const E={};g>1&&(E.colspan=g),jk(k,l,u+1,w,1,E);const T=l.getAttribute("headingRows")||0;T>u&&sn("headingRows",T+w,l,k)}})}getColumns(e){return[...e.getChild(0).getChildren()].filter(o=>o.is("element","tableCell")).reduce((o,r)=>o+parseInt(r.getAttribute("colspan")||"1"),0)}getRows(e){return Array.from(e.getChildren()).reduce((o,r)=>r.is("element","tableRow")?o+1:o,0)}createTableWalker(e,o={}){return new Pt(e,o)}getSelectedTableCells(e){const o=[];for(const r of this.sortRanges(e.getRanges())){const a=r.getContainedElement();a&&a.is("element","tableCell")&&o.push(a)}return o}getTableCellsContainingSelection(e){const o=[];for(const r of e.getRanges()){const a=r.start.findAncestor("tableCell");a&&o.push(a)}return o}getSelectionAffectedTableCells(e){const o=this.getSelectedTableCells(e);return o.length?o:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const o=e.map(r=>r.parent.index);return this._getFirstLastIndexesObject(o)}getColumnIndexes(e){const o=e[0].findAncestor("table"),r=[...new Pt(o)].filter(a=>e.includes(a.cell)).map(a=>a.column);return this._getFirstLastIndexesObject(r)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const o=new Set,r=new Set;let a=0;for(const u of e){const{row:p,column:g}=this.getCellLocation(u),k=parseInt(u.getAttribute("rowspan"))||1,w=parseInt(u.getAttribute("colspan"))||1;o.add(p),r.add(g),k>1&&o.add(p+k-1),w>1&&r.add(g+w-1),a+=k*w}return function(u,p){const g=Array.from(u.values()),k=Array.from(p.values()),w=Math.max(...g),A=Math.min(...g),E=Math.max(...k),T=Math.min(...k);return(w-A+1)*(E-T+1)}(o,r)==a}sortRanges(e){return Array.from(e).sort(bW)}_getFirstLastIndexesObject(e){const o=e.sort((r,a)=>r-a);return{first:o[0],last:o[o.length-1]}}_areCellInTheSameTableSection(e){const o=e[0].findAncestor("table"),r=this.getRowIndexes(e),a=parseInt(o.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(r,a))return!1;const l=this.getColumnIndexes(e),u=parseInt(o.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(l,u)}_areIndexesInSameSection({first:e,last:o},r){return e<r==o<r}}function jk(s,e,o,r,a,l={}){for(let u=0;u<r;u++){const p=s.createElement("tableRow");s.insert(p,e,o),Va(a,s,s.createPositionAt(p,"end"),l)}}function Va(s,e,o,r={}){for(let a=0;a<s;a++)xs(e,o,r)}function MS(s,e){if(s<e)return{newCellsSpan:1,updatedSpan:1};const o=Math.floor(s/e);return{newCellsSpan:o,updatedSpan:s-o*e+o}}function bW(s,e){const o=s.start,r=e.start;return o.isBefore(r)?-1:1}class kW extends at{refresh(){const e=this.editor.plugins.get(jn),o=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(o)}execute(){const e=this.editor.model,o=this.editor.plugins.get(jn);e.change(r=>{const a=o.getSelectedTableCells(e.document.selection),l=a.shift(),{mergeWidth:u,mergeHeight:p}=function(g,k,w){let A=0,E=0;for(const $ of k){const{row:q,column:Z}=w.getCellLocation($);A=RS($,Z,A,"colspan"),E=RS($,q,E,"rowspan")}const{row:T,column:D}=w.getCellLocation(g),B=A-D,z=E-T;return{mergeWidth:B,mergeHeight:z}}(l,a,o);sn("colspan",u,l,r),sn("rowspan",p,l,r);for(const g of a)wW(g,l,r);Lk(l.findAncestor("table"),o),r.setSelection(l,"in")})}}function wW(s,e,o){PS(s)||(PS(e)&&o.remove(o.createRangeIn(e)),o.move(o.createRangeIn(s),o.createPositionAt(e,"end"))),o.remove(s)}function PS(s){const e=s.getChild(0);return s.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function RS(s,e,o,r){const a=parseInt(s.getAttribute(r)||"1");return Math.max(o,e+a)}class vW extends at{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,o=this.editor.plugins.get("TableUtils"),r=o.getSelectionAffectedTableCells(e.document.selection),a=o.getRowIndexes(r),l=r[0].findAncestor("table"),u=[];for(let p=a.first;p<=a.last;p++)for(const g of l.getChild(p).getChildren())u.push(e.createRangeOn(g));e.change(p=>{p.setSelection(u)})}}class _W extends at{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),o=this.editor.model,r=e.getSelectionAffectedTableCells(o.document.selection),a=r[0],l=r.pop(),u=a.findAncestor("table"),p=e.getCellLocation(a),g=e.getCellLocation(l),k=Math.min(p.column,g.column),w=Math.max(p.column,g.column),A=[];for(const E of new Pt(u,{startColumn:k,endColumn:w}))A.push(o.createRangeOn(E.cell));o.change(E=>{E.setSelection(A)})}}function CW(s){s.document.registerPostFixer(e=>function(o,r){const a=r.document.differ.getChanges();let l=!1;const u=new Set;for(const p of a){let g=null;p.type=="insert"&&p.name=="table"&&(g=p.position.nodeAfter),p.type!="insert"&&p.type!="remove"||p.name!="tableRow"&&p.name!="tableCell"||(g=p.position.findAncestor("table")),xW(p)&&(g=p.range.start.findAncestor("table")),g&&!u.has(g)&&(l=AW(g,o)||l,l=yW(g,o)||l,u.add(g))}return l}(e,s))}function AW(s,e){let o=!1;const r=function(a){const l=parseInt(a.getAttribute("headingRows")||"0"),u=Array.from(a.getChildren()).reduce((g,k)=>k.is("element","tableRow")?g+1:g,0),p=[];for(const{row:g,cell:k,cellHeight:w}of new Pt(a)){if(w<2)continue;const A=g<l?l:u;if(g+w>A){const E=A-g;p.push({cell:k,rowspan:E})}}return p}(s);if(r.length){o=!0;for(const a of r)sn("rowspan",a.rowspan,a.cell,e,1)}return o}function yW(s,e){let o=!1;const r=function(p){const g=new Array(p.childCount).fill(0);for(const{rowIndex:k}of new Pt(p,{includeAllSlots:!0}))g[k]++;return g}(s),a=[];for(const[p,g]of r.entries())!g&&s.getChild(p).is("element","tableRow")&&a.push(p);if(a.length){o=!0;for(const p of a.reverse())e.remove(s.getChild(p)),r.splice(p,1)}const l=r.filter((p,g)=>s.getChild(g).is("element","tableRow")),u=l[0];if(!l.every(p=>p===u)){const p=l.reduce((g,k)=>k>g?k:g,0);for(const[g,k]of l.entries()){const w=p-k;if(w){for(let A=0;A<w;A++)xs(e,e.createPositionAt(s.getChild(g),"end"));o=!0}}}return o}function xW(s){if(s.type!=="attribute")return!1;const e=s.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}function EW(s){s.document.registerPostFixer(e=>function(o,r){const a=r.document.differ.getChanges();let l=!1;for(const u of a)u.type=="insert"&&u.name=="table"&&(l=TW(u.position.nodeAfter,o)||l),u.type=="insert"&&u.name=="tableRow"&&(l=BS(u.position.nodeAfter,o)||l),u.type=="insert"&&u.name=="tableCell"&&(l=zk(u.position.nodeAfter,o)||l),u.type!="remove"&&u.type!="insert"||!IW(u)||(l=zk(u.position.parent,o)||l);return l}(e,s))}function TW(s,e){let o=!1;for(const r of s.getChildren())r.is("element","tableRow")&&(o=BS(r,e)||o);return o}function BS(s,e){let o=!1;for(const r of s.getChildren())o=zk(r,e)||o;return o}function zk(s,e){if(s.childCount==0)return e.insertElement("paragraph",s),!0;const o=Array.from(s.getChildren()).filter(r=>r.is("$text"));for(const r of o)e.wrap(e.createRangeOn(r),"paragraph");return!!o.length}function IW(s){return!!s.position.parent.is("element","tableCell")&&(s.type=="insert"&&s.name=="$text"||s.type=="remove")}function SW(s,e){if(!s.is("element","paragraph"))return!1;const o=e.toViewElement(s);return!!o&&kS(s)!==o.is("element","span")}var NS=d(8137),DW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(NS.A,DW),NS.A.locals;class MW extends ue{constructor(e){super(e),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[jn]}init(){const e=this.editor,o=e.model,r=o.schema,a=e.conversion,l=e.plugins.get(jn);r.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),r.register("tableRow",{allowIn:"table",isLimit:!0}),r.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),a.for("upcast").add(u=>{u.on("element:figure",(p,g,k)=>{if(!k.consumable.test(g.viewItem,{name:!0,classes:"table"}))return;const w=function(E){for(const T of E.getChildren())if(T.is("element","table"))return T}(g.viewItem);if(!w||!k.consumable.test(w,{name:!0}))return;k.consumable.consume(g.viewItem,{name:!0,classes:"table"});const A=Sn(k.convertItem(w,g.modelCursor).modelRange.getItems());A?(k.convertChildren(g.viewItem,k.writer.createPositionAt(A,"end")),k.updateConversionResult(A,g)):k.consumable.revert(g.viewItem,{name:!0,classes:"table"})})}),a.for("upcast").add(aW()),a.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:gS(l,{asWidget:!0,additionalSlots:this._additionalSlots})}),a.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:gS(l,{additionalSlots:this._additionalSlots})}),a.for("upcast").elementToElement({model:"tableRow",view:"tr"}),a.for("upcast").add(u=>{u.on("element:tr",(p,g)=>{g.viewItem.isEmpty&&g.modelCursor.index==0&&p.stop()},{priority:"high"})}),a.for("downcast").elementToElement({model:"tableRow",view:(u,{writer:p})=>u.isEmpty?p.createEmptyElement("tr"):p.createContainerElement("tr")}),a.for("upcast").elementToElement({model:"tableCell",view:"td"}),a.for("upcast").elementToElement({model:"tableCell",view:"th"}),a.for("upcast").add(fS("td")),a.for("upcast").add(fS("th")),a.for("editingDowncast").elementToElement({model:"tableCell",view:mS({asWidget:!0})}),a.for("dataDowncast").elementToElement({model:"tableCell",view:mS()}),a.for("editingDowncast").elementToElement({model:"paragraph",view:bS({asWidget:!0}),converterPriority:"high"}),a.for("dataDowncast").elementToElement({model:"paragraph",view:bS(),converterPriority:"high"}),a.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),a.for("upcast").attributeToAttribute({model:{key:"colspan",value:OS("colspan")},view:"colspan"}),a.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),a.for("upcast").attributeToAttribute({model:{key:"rowspan",value:OS("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new dW(e)),e.commands.add("insertTableRowAbove",new wS(e,{order:"above"})),e.commands.add("insertTableRowBelow",new wS(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new vS(e,{order:"left"})),e.commands.add("insertTableColumnRight",new vS(e,{order:"right"})),e.commands.add("removeTableRow",new uW(e)),e.commands.add("removeTableColumn",new hW(e)),e.commands.add("splitTableCellVertically",new _S(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new _S(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new kW(e)),e.commands.add("mergeTableCellRight",new pp(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new pp(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new pp(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new pp(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new fW(e)),e.commands.add("setTableRowHeader",new pW(e)),e.commands.add("selectTableRow",new vW(e)),e.commands.add("selectTableColumn",new _W(e)),CW(o),EW(o),this.listenTo(o.document,"change:data",()=>{(function(u,p){const g=u.document.differ;for(const k of g.getChanges()){let w,A=!1;if(k.type=="attribute"){const B=k.range.start.nodeAfter;if(!B||!B.is("element","table")||k.attributeKey!="headingRows"&&k.attributeKey!="headingColumns")continue;w=B,A=k.attributeKey=="headingRows"}else k.name!="tableRow"&&k.name!="tableCell"||(w=k.position.findAncestor("table"),A=k.name=="tableRow");if(!w)continue;const E=w.getAttribute("headingRows")||0,T=w.getAttribute("headingColumns")||0,D=new Pt(w);for(const B of D){const z=B.row<E||B.column<T?"th":"td",$=p.mapper.toViewElement(B.cell);$&&$.is("element")&&$.name!=z&&p.reconvertItem(A?B.cell.parent:B.cell)}}})(o,e.editing),function(u,p){const g=u.document.differ,k=new Set;for(const w of g.getChanges()){const A=w.type=="attribute"?w.range.start.parent:w.position.parent;A.is("element","tableCell")&&k.add(A)}for(const w of k.values()){const A=Array.from(w.getChildren()).filter(E=>SW(E,p.mapper));for(const E of A)p.reconvertItem(E)}}(o,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function OS(s){return e=>{const o=parseInt(e.getAttribute(s));return Number.isNaN(o)||o<=0?null:o}}var LS=d(5032),PW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(LS.A,PW),LS.A.locals;class jS extends Pe{constructor(e){super(e);const o=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new no,this.focusTracker=new Dn,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(r,a)=>`${a}  ${r}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":o.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:o.to("label")}]}],on:{mousedown:o.to(r=>{r.preventDefault()}),click:o.to(()=>{this.fire("execute")})}}),this.on("boxover",(r,a)=>{const{row:l,column:u}=a.target.dataset;this.items.get(10*(parseInt(l,10)-1)+(parseInt(u,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(r,a,l)=>{if(!l)return;const{row:u,column:p}=l.dataset;this.set({rows:parseInt(u),columns:parseInt(p)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),$j({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,o=this.columns;this.items.map((r,a)=>{const l=Math.floor(a/10)<e&&a%10<o;r.set("isOn",l)})}_createGridButton(e,o,r,a){const l=new vt(e);return l.set({label:a,class:"ck-insert-table-dropdown-grid-box"}),l.extendTemplate({attributes:{"data-row":o,"data-column":r}}),l}_createGridCollection(){const e=[];for(let o=0;o<100;o++){const r=Math.floor(o/10),a=o%10,l=`${r+1}  ${a+1}`;e.push(this._createGridButton(this.locale,r+1,a+1,l))}return this.createCollection(e)}}class RW extends ue{static get pluginName(){return"TableUI"}init(){const e=this.editor,o=this.editor.t,r=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",a=>{const l=e.commands.get("insertTable"),u=Ji(a);let p;return u.bind("isEnabled").to(l),u.buttonView.set({icon:We.table,label:o("Insert table"),tooltip:!0}),u.on("change:isOpen",()=>{p||(p=new jS(a),u.panelView.children.add(p),p.delegate("execute").to(u),u.on("execute",()=>{e.execute("insertTable",{rows:p.rows,columns:p.columns}),e.editing.view.focus()}))}),u}),e.ui.componentFactory.add("menuBar:insertTable",a=>{const l=e.commands.get("insertTable"),u=new Ra(a),p=new jS(a);return p.delegate("execute").to(u),u.on("change:isOpen",(g,k,w)=>{w||p.reset()}),p.on("execute",()=>{e.execute("insertTable",{rows:p.rows,columns:p.columns}),e.editing.view.focus()}),u.buttonView.set({label:o("Table"),icon:We.table}),u.panelView.children.add(p),u.bind("isEnabled").to(l),u}),e.ui.componentFactory.add("tableColumn",a=>{const l=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:o("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:r?"insertTableColumnLeft":"insertTableColumnRight",label:o("Insert column left")}},{type:"button",model:{commandName:r?"insertTableColumnRight":"insertTableColumnLeft",label:o("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:o("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:o("Select column")}}];return this._prepareDropdown(o("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',l,a)}),e.ui.componentFactory.add("tableRow",a=>{const l=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:o("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:o("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:o("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:o("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:o("Select row")}}];return this._prepareDropdown(o("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',l,a)}),e.ui.componentFactory.add("mergeTableCells",a=>{const l=[{type:"button",model:{commandName:"mergeTableCellUp",label:o("Merge cell up")}},{type:"button",model:{commandName:r?"mergeTableCellRight":"mergeTableCellLeft",label:o("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:o("Merge cell down")}},{type:"button",model:{commandName:r?"mergeTableCellLeft":"mergeTableCellRight",label:o("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:o("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:o("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(o("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',l,a)})}_prepareDropdown(e,o,r,a){const l=this.editor,u=Ji(a),p=this._fillDropdownWithListOptions(u,r);return u.buttonView.set({label:e,icon:o,tooltip:!0}),u.bind("isEnabled").toMany(p,"isEnabled",(...g)=>g.some(k=>k)),this.listenTo(u,"execute",g=>{l.execute(g.source.commandName),g.source instanceof Mh||l.editing.view.focus()}),u}_prepareMergeSplitButtonDropdown(e,o,r,a){const l=this.editor,u=Ji(a,Nh),p="mergeTableCells",g=l.commands.get(p),k=this._fillDropdownWithListOptions(u,r);return u.buttonView.set({label:e,icon:o,tooltip:!0,isEnabled:!0}),u.bind("isEnabled").toMany([g,...k],"isEnabled",(...w)=>w.some(A=>A)),this.listenTo(u.buttonView,"execute",()=>{l.execute(p),l.editing.view.focus()}),this.listenTo(u,"execute",w=>{l.execute(w.source.commandName),l.editing.view.focus()}),u}_fillDropdownWithListOptions(e,o){const r=this.editor,a=[],l=new si;for(const u of o)BW(u,r,a,l);return mx(e,l),a}}function BW(s,e,o,r){if(s.type==="button"||s.type==="switchbutton"){const a=s.model=new Gx(s.model),{commandName:l,bindIsOn:u}=s.model,p=e.commands.get(l);o.push(p),a.set({commandName:l}),a.bind("isEnabled").to(p),u&&a.bind("isOn").to(p,"value"),a.set({withText:!0})}r.add(s)}var zS=d(8423),NW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(zS.A,NW),zS.A.locals;class Es extends ue{static get pluginName(){return"TableSelection"}static get requires(){return[jn,jn]}init(){const e=this.editor,o=e.model,r=e.editing.view;this.listenTo(o,"deleteContent",(a,l)=>this._handleDeleteContent(a,l),{priority:"high"}),this.listenTo(r.document,"insertText",(a,l)=>this._handleInsertTextEvent(a,l),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(jn),o=this.editor.model.document.selection,r=e.getSelectedTableCells(o);return r.length==0?null:r}getSelectionAsFragment(){const e=this.editor.plugins.get(jn),o=this.getSelectedTableCells();return o?this.editor.model.change(r=>{const a=r.createDocumentFragment(),{first:l,last:u}=e.getColumnIndexes(o),{first:p,last:g}=e.getRowIndexes(o),k=o[0].findAncestor("table");let w=g,A=u;if(e.isSelectionRectangular(o)){const T={firstColumn:l,lastColumn:u,firstRow:p,lastRow:g};w=IS(k,T),A=SS(k,T)}const E=CS(k,{startRow:p,startColumn:l,endRow:w,endColumn:A},r);return r.insert(E,a,0),a}):null}setCellSelection(e,o){const r=this._getCellsToSelect(e,o);this.editor.model.change(a=>{a.setSelection(r.cells.map(l=>a.createRangeOn(l)),{backward:r.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=Sn(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,o=new Set;e.conversion.for("editingDowncast").add(r=>r.on("selection",(a,l,u)=>{const p=u.writer;(function(w){for(const A of o)w.removeClass("ck-editor__editable_selected",A);o.clear()})(p);const g=this.getSelectedTableCells();if(!g)return;for(const w of g){const A=u.mapper.toViewElement(w);p.addClass("ck-editor__editable_selected",A),o.add(A)}const k=u.mapper.toViewElement(g[g.length-1]);p.setSelection(k,0)},{priority:"lowest"}))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const o=this.getSelectedTableCells();if(!o)return;e.model.change(r=>{const a=r.createPositionAt(o[0],0),l=e.model.schema.getNearestSelectionRange(a);r.setSelection(l)})}})}_handleDeleteContent(e,o){const r=this.editor.plugins.get(jn),a=o[0],l=o[1],u=this.editor.model,p=!l||l.direction=="backward",g=r.getSelectedTableCells(a);g.length&&(e.stop(),u.change(k=>{const w=g[p?g.length-1:0];u.change(E=>{for(const T of g)u.deleteContent(E.createSelection(T,"in"))});const A=u.schema.getNearestSelectionRange(k.createPositionAt(w,0));a.is("documentSelection")?k.setSelection(A):a.setTo(A)}))}_handleInsertTextEvent(e,o){const r=this.editor,a=this.getSelectedTableCells();if(!a)return;const l=r.editing.view,u=r.editing.mapper,p=a.map(g=>l.createRangeOn(u.toViewElement(g)));o.selection=l.createSelection(p)}_getCellsToSelect(e,o){const r=this.editor.plugins.get("TableUtils"),a=r.getCellLocation(e),l=r.getCellLocation(o),u=Math.min(a.row,l.row),p=Math.max(a.row,l.row),g=Math.min(a.column,l.column),k=Math.max(a.column,l.column),w=new Array(p-u+1).fill(null).map(()=>[]),A={startRow:u,endRow:p,startColumn:g,endColumn:k};for(const{row:D,cell:B}of new Pt(e.findAncestor("table"),A))w[D-u].push(B);const E=l.row<a.row,T=l.column<a.column;return E&&w.reverse(),T&&w.forEach(D=>D.reverse()),{cells:w.flat(),backward:E||T}}}class OW extends ue{static get pluginName(){return"TableClipboard"}static get requires(){return[Pl,Fo,Es,jn]}init(){const e=this.editor,o=e.editing.view.document;this.listenTo(o,"copy",(r,a)=>this._onCopyCut(r,a)),this.listenTo(o,"cut",(r,a)=>this._onCopyCut(r,a)),this.listenTo(e.model,"insertContent",(r,[a,l])=>this._onInsertContent(r,a,l),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,o){const r=this.editor.editing.view,a=this.editor.plugins.get(Es),l=this.editor.plugins.get(Pl);a.getSelectedTableCells()&&(e.name!="cut"||this.editor.model.canEditAt(this.editor.model.document.selection))&&(o.preventDefault(),e.stop(),this.editor.model.enqueueChange({isUndoable:e.name==="cut"},()=>{const u=l._copySelectedFragmentWithMarkers(e.name,this.editor.model.document.selection,()=>a.getSelectionAsFragment());r.document.fire("clipboardOutput",{dataTransfer:o.dataTransfer,content:this.editor.data.toView(u),method:e.name})}))}_onInsertContent(e,o,r){if(r&&!r.is("documentSelection"))return;const a=this.editor.model,l=this.editor.plugins.get(jn),u=this.editor.plugins.get(Pl),p=this.getTableIfOnlyTableInContent(o,a);if(!p)return;const g=l.getSelectionAffectedTableCells(a.document.selection);g.length?(e.stop(),o.is("documentFragment")?u._pasteMarkersIntoTransformedElement(o.markers,k=>this._replaceSelectedCells(p,g,k)):this.editor.model.change(k=>{this._replaceSelectedCells(p,g,k)})):Lk(p,l)}_replaceSelectedCells(e,o,r){const a=this.editor.plugins.get(jn),l={width:a.getColumns(e),height:a.getRows(e)},u=function(A,E,T,D){const B=A[0].findAncestor("table"),z=D.getColumnIndexes(A),$=D.getRowIndexes(A),q={firstColumn:z.first,lastColumn:z.last,firstRow:$.first,lastRow:$.last},Z=A.length===1;return Z&&(q.lastRow+=E.height-1,q.lastColumn+=E.width-1,function(ae,ke,Oe,Je){const Vt=Je.getColumns(ae),xn=Je.getRows(ae);Oe>Vt&&Je.insertColumns(ae,{at:Vt,columns:Oe-Vt}),ke>xn&&Je.insertRows(ae,{at:xn,rows:ke-xn})}(B,q.lastRow+1,q.lastColumn+1,D)),Z||!D.isSelectionRectangular(A)?function(ae,ke,Oe){const{firstRow:Je,lastRow:Vt,firstColumn:xn,lastColumn:oD}=ke,iD={first:Je,last:Vt},rD={first:xn,last:oD};Vk(ae,xn,iD,Oe),Vk(ae,oD+1,iD,Oe),Fk(ae,Je,rD,Oe),Fk(ae,Vt+1,rD,Oe,Je)}(B,q,T):(q.lastRow=IS(B,q),q.lastColumn=SS(B,q)),q}(o,l,r,a),p=u.lastRow-u.firstRow+1,g=u.lastColumn-u.firstColumn+1;e=CS(e,{startRow:0,startColumn:0,endRow:Math.min(p,l.height)-1,endColumn:Math.min(g,l.width)-1},r);const k=o[0].findAncestor("table"),w=this._replaceSelectedCellsWithPasted(e,l,k,u,r);if(this.editor.plugins.get("TableSelection").isEnabled){const A=a.sortRanges(w.map(E=>r.createRangeOn(E)));r.setSelection(A)}else r.setSelection(w[0],0);return k}_replaceSelectedCellsWithPasted(e,o,r,a,l){const{width:u,height:p}=o,g=function(z,$,q){const Z=new Array(q).fill(null).map(()=>new Array($).fill(null));for(const{column:ae,row:ke,cell:Oe}of new Pt(z))Z[ke][ae]=Oe;return Z}(e,u,p),k=[...new Pt(r,{startRow:a.firstRow,endRow:a.lastRow,startColumn:a.firstColumn,endColumn:a.lastColumn,includeAllSlots:!0})],w=[];let A;for(const z of k){const{row:$,column:q}=z;q===a.firstColumn&&(A=z.getPositionBefore());const Z=$-a.firstRow,ae=q-a.firstColumn,ke=g[Z%p][ae%u],Oe=ke?l.cloneElement(ke):null,Je=this._replaceTableSlotCell(z,Oe,A,l);Je&&(TS(Je,$,q,a.lastRow,a.lastColumn,l),w.push(Je),A=l.createPositionAfter(Je))}const E=parseInt(r.getAttribute("headingRows")||"0"),T=parseInt(r.getAttribute("headingColumns")||"0"),D=a.firstRow<E&&E<=a.lastRow,B=a.firstColumn<T&&T<=a.lastColumn;if(D){const z=Fk(r,E,{first:a.firstColumn,last:a.lastColumn},l,a.firstRow);w.push(...z)}if(B){const z=Vk(r,T,{first:a.firstRow,last:a.lastRow},l);w.push(...z)}return w}_replaceTableSlotCell(e,o,r,a){const{cell:l,isAnchor:u}=e;return u&&a.remove(l),o?(a.insert(o,r),o):null}getTableIfOnlyTableInContent(e,o){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const r=o.createRangeIn(e);for(const a of r.getItems())if(a.is("element","table")){const l=o.createRange(r.start,o.createPositionBefore(a));if(o.hasContent(l,{ignoreWhitespaces:!0}))return null;const u=o.createRange(o.createPositionAfter(a),r.end);return o.hasContent(u,{ignoreWhitespaces:!0})?null:a}return null}}function Fk(s,e,o,r,a=0){if(!(e<1))return AS(s,e,a).filter(({column:l,cellWidth:u})=>FS(l,u,o)).map(({cell:l})=>yS(l,e,r))}function Vk(s,e,o,r){if(!(e<1))return xS(s,e).filter(({row:a,cellHeight:l})=>FS(a,l,o)).map(({cell:a,column:l})=>ES(a,l,e,r))}function FS(s,e,o){const r=s+e-1,{first:a,last:l}=o;return s>=a&&s<=l||s<a&&r>=a}class LW extends ue{static get pluginName(){return"TableKeyboard"}static get requires(){return[Es,jn]}init(){const e=this.editor,o=e.editing.view.document,r=e.t;this.listenTo(o,"arrowKey",(...a)=>this._onArrowKey(...a),{context:"table"}),this.listenTo(o,"tab",(...a)=>this._handleTabOnSelectedTable(...a),{context:"figure"}),this.listenTo(o,"tab",(...a)=>this._handleTab(...a),{context:["th","td"]}),e.accessibility.addKeystrokeInfoGroup({id:"table",label:r("Keystrokes that can be used in a table cell"),keystrokes:[{label:r("Move the selection to the next cell"),keystroke:"Tab"},{label:r("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:r("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:r("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(e,o){const r=this.editor,a=r.model.document.selection.getSelectedElement();a&&a.is("element","table")&&(o.preventDefault(),o.stopPropagation(),e.stop(),r.model.change(l=>{l.setSelection(l.createRangeIn(a.getChild(0).getChild(0)))}))}_handleTab(e,o){const r=this.editor,a=this.editor.plugins.get(jn),l=this.editor.plugins.get("TableSelection"),u=r.model.document.selection,p=!o.shiftKey;let g=a.getTableCellsContainingSelection(u)[0];if(g||(g=l.getFocusCell()),!g)return;o.preventDefault(),o.stopPropagation(),e.stop();const k=g.parent,w=k.parent,A=w.getChildIndex(k),E=k.getChildIndex(g),T=E===0;if(!p&&T&&A===0)return void r.model.change($=>{$.setSelection($.createRangeOn(w))});const D=E===k.childCount-1,B=A===a.getRows(w)-1;if(p&&B&&D&&(r.execute("insertTableRowBelow"),A===a.getRows(w)-1))return void r.model.change($=>{$.setSelection($.createRangeOn(w))});let z;if(p&&D)z=w.getChild(A+1).getChild(0);else if(!p&&T){const $=w.getChild(A-1);z=$.getChild($.childCount-1)}else z=k.getChild(E+(p?1:-1));r.model.change($=>{$.setSelection($.createRangeIn(z))})}_onArrowKey(e,o){const r=this.editor,a=Jm(o.keyCode,r.locale.contentLanguageDirection);this._handleArrowKeys(a,o.shiftKey)&&(o.preventDefault(),o.stopPropagation(),e.stop())}_handleArrowKeys(e,o){const r=this.editor.plugins.get(jn),a=this.editor.plugins.get("TableSelection"),l=this.editor.model,u=l.document.selection,p=["right","down"].includes(e),g=r.getSelectedTableCells(u);if(g.length){let w;return w=o?a.getFocusCell():p?g[g.length-1]:g[0],this._navigateFromCellInDirection(w,e,o),!0}const k=u.focus.findAncestor("tableCell");if(!k)return!1;if(!u.isCollapsed)if(o){if(u.isBackward==p&&!u.containsEntireContent(k))return!1}else{const w=u.getSelectedElement();if(!w||!l.schema.isObject(w))return!1}return!!this._isSelectionAtCellEdge(u,k,p)&&(this._navigateFromCellInDirection(k,e,o),!0)}_isSelectionAtCellEdge(e,o,r){const a=this.editor.model,l=this.editor.model.schema,u=r?e.getLastPosition():e.getFirstPosition();if(!l.getLimitElement(u).is("element","tableCell"))return a.createPositionAt(o,r?"end":0).isTouching(u);const p=a.createSelection(u);return a.modifySelection(p,{direction:r?"forward":"backward"}),u.isEqual(p.focus)}_navigateFromCellInDirection(e,o,r=!1){const a=this.editor.model,l=e.findAncestor("table"),u=[...new Pt(l,{includeAllSlots:!0})],{row:p,column:g}=u[u.length-1],k=u.find(({cell:B})=>B==e);let{row:w,column:A}=k;switch(o){case"left":A--;break;case"up":w--;break;case"right":A+=k.cellWidth;break;case"down":w+=k.cellHeight}if(w<0||w>p||A<0&&w<=0||A>g&&w>=p)return void a.change(B=>{B.setSelection(B.createRangeOn(l))});A<0?(A=r?0:g,w--):A>g&&(A=r?g:0,w++);const E=u.find(B=>B.row==w&&B.column==A).cell,T=["right","down"].includes(o),D=this.editor.plugins.get("TableSelection");if(r&&D.isEnabled){const B=D.getAnchorCell()||e;D.setCellSelection(B,E)}else{const B=a.createPositionAt(E,T?0:"end");a.change(z=>{z.setSelection(B)})}}}class jW extends xr{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class zW extends ue{static get pluginName(){return"TableMouse"}static get requires(){return[Es,jn]}init(){this.editor.editing.view.addObserver(jW),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,o=e.plugins.get(jn);let r=!1;const a=e.plugins.get(Es);this.listenTo(e.editing.view.document,"mousedown",(l,u)=>{const p=e.model.document.selection;if(!this.isEnabled||!a.isEnabled||!u.domEvent.shiftKey)return;const g=a.getAnchorCell()||o.getTableCellsContainingSelection(p)[0];if(!g)return;const k=this._getModelTableCellFromDomEvent(u);k&&VS(g,k)&&(r=!0,a.setCellSelection(g,k),u.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{r=!1}),this.listenTo(e.editing.view.document,"selectionChange",l=>{r&&l.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let o,r,a=!1,l=!1;const u=e.plugins.get(Es);this.listenTo(e.editing.view.document,"mousedown",(p,g)=>{this.isEnabled&&u.isEnabled&&(g.domEvent.shiftKey||g.domEvent.ctrlKey||g.domEvent.altKey||(o=this._getModelTableCellFromDomEvent(g)))}),this.listenTo(e.editing.view.document,"mousemove",(p,g)=>{if(!g.domEvent.buttons||!o)return;const k=this._getModelTableCellFromDomEvent(g);k&&VS(o,k)&&(r=k,a||r==o||(a=!0)),a&&(l=!0,u.setCellSelection(o,r),g.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{a=!1,l=!1,o=null,r=null}),this.listenTo(e.editing.view.document,"selectionChange",p=>{l&&p.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const o=e.target,r=this.editor.editing.view.createPositionAt(o,0);return this.editor.editing.mapper.toModelPosition(r).parent.findAncestor("tableCell",{includeSelf:!0})}}function VS(s,e){return s.parent.parent==e.parent.parent}var $S=d(2329),FW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()($S.A,FW),$S.A.locals;function VW(s){const e=s.getSelectedElement();return e&&US(e)?e:null}function $W(s){const e=s.getFirstPosition();if(!e)return null;let o=e.parent;for(;o;){if(o.is("element")&&US(o))return o;o=o.parent}return null}function US(s){return!!s.getCustomProperty("table")&&fn(s)}var HS=d(5506),UW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(HS.A,UW),HS.A.locals;var WS=d(2655),HW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(WS.A,HW),WS.A.locals;var qS=d(4043),WW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(qS.A,WW),qS.A.locals;var GS=d(1623),qW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(GS.A,qW),GS.A.locals;var KS=d(8986),GW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(KS.A,GW),KS.A.locals;const Ts=co.defaultPositions;Ts.northArrowSouth,Ts.northArrowSouthWest,Ts.northArrowSouthEast,Ts.southArrowNorth,Ts.southArrowNorthWest,Ts.southArrowNorthEast,Ts.viewportStickyNorth;var YS=d(5562),KW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(YS.A,KW),YS.A.locals;var QS=d(4143),YW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(QS.A,YW),QS.A.locals;var ZS=d(8795),QW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(ZS.A,QW),ZS.A.locals;var ZW=Object.defineProperty,JS=Object.getOwnPropertySymbols,JW=Object.prototype.hasOwnProperty,XW=Object.prototype.propertyIsEnumerable,XS=(s,e,o)=>e in s?ZW(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,eD=(s,e)=>{for(var o in e||(e={}))JW.call(e,o)&&XS(s,o,e[o]);if(JS)for(var o of JS(e))XW.call(e,o)&&XS(s,o,e[o]);return s};const eq={autoRefresh:!0},tD=36e5;class $k extends Y(){constructor(e,o={}){if(super(),!e)throw new P("token-missing-token-url",this);o.initValue&&this._validateTokenValue(o.initValue),this.set("value",o.initValue),this._refresh=typeof e=="function"?e:()=>{return r=e,new Promise((a,l)=>{const u=new XMLHttpRequest;u.open("GET",r),u.addEventListener("load",()=>{const p=u.status,g=u.response;return p<200||p>299?l(new P("token-cannot-download-new-token",null)):a(g)}),u.addEventListener("error",()=>l(new Error("Network Error"))),u.addEventListener("abort",()=>l(new Error("Abort"))),u.send()});var r},this._options=eD(eD({},eq),o)}init(){return new Promise((e,o)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(o)})}refreshToken(){return this._refresh().then(e=>(this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const o=typeof e=="string",r=!/^".*"$/.test(e),a=o&&e.split(".").length===3;if(!r||!a)throw new P("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:o}=JSON.parse(atob(e));return o?Math.floor((1e3*o-Date.now())/2):tD}catch{return tD}}static create(e,o={}){return new $k(e,o).init()}}const Uk=/^data:(\S*?);base64,/;class tq extends K(){constructor(e,o,r){if(super(),!e)throw new P("fileuploader-missing-file",null);if(!o)throw new P("fileuploader-missing-token",null);if(!r)throw new P("fileuploader-missing-api-address",null);this.file=function(a){if(typeof a!="string")return!1;const l=a.match(Uk);return!(!l||!l.length)}(e)?function(a,l=512){try{const u=a.match(Uk)[1],p=atob(a.replace(Uk,"")),g=[];for(let k=0;k<p.length;k+=l){const w=p.slice(k,k+l),A=new Array(w.length);for(let E=0;E<w.length;E++)A[E]=w.charCodeAt(E);g.push(new Uint8Array(A))}return new Blob(g,{type:u})}catch{throw new P("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=o,this._apiAddress=r}onProgress(e){return this.on("progress",(o,r)=>e(r)),this}onError(e){return this.once("error",(o,r)=>e(r)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,o=r=>()=>this.fire("error",r);e.addEventListener("error",o("Network Error")),e.addEventListener("abort",o("Abort")),e.upload&&e.upload.addEventListener("progress",r=>{r.lengthComputable&&this.fire("progress",{total:r.total,uploaded:r.loaded})}),e.addEventListener("load",()=>{const r=e.status,a=e.response;if(r<200||r>299)return this.fire("error",a.message||a.error)})}_sendRequest(){const e=new FormData,o=this.xhr;return e.append("file",this.file),new Promise((r,a)=>{o.addEventListener("load",()=>{const l=o.status,u=o.response;return l<200||l>299?u.message?a(new P("fileuploader-uploading-data-failed",this,{message:u.message})):a(u.error):r(u)}),o.addEventListener("error",()=>a(new Error("Network Error"))),o.addEventListener("abort",()=>a(new Error("Abort"))),o.send(e)})}}class nq{constructor(e,o){if(!e)throw new P("uploadgateway-missing-token",null);if(!o)throw new P("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=o}upload(e){return new tq(e,this._token,this._apiAddress)}}class oq extends hh{static get pluginName(){return"CloudServicesCore"}createToken(e,o){return new $k(e,o)}createUploadGateway(e,o){return new nq(e,o)}}var nD=(s,e,o)=>new Promise((r,a)=>{var l=g=>{try{p(o.next(g))}catch(k){a(k)}},u=g=>{try{p(o.throw(g))}catch(k){a(k)}},p=g=>g.done?r(g.value):Promise.resolve(g.value).then(l,u);p((o=o.apply(s,e)).next())});class Hk extends Hh{}Hk.builtinPlugins=[class extends ue{static get requires(){return[o9,y2,Kh,AV,G8,z8,S2]}static get pluginName(){return"Essentials"}},class extends ue{static get requires(){return[pi]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const s=this.editor.config.get("ckfinder.uploadUrl");s&&(this.editor.plugins.get(pi).createUploadAdapter=e=>new NV(e,s,this.editor.t))}},class extends ue{static get requires(){return[er]}static get pluginName(){return"Autoformat"}afterInit(){const s=this.editor,e=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),s.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const s=this.editor.commands;s.get("bulletedList")&&Sr(this.editor,this,/^[*-]\s$/,"bulletedList"),s.get("numberedList")&&Sr(this.editor,this,/^1[.|)]\s$/,"numberedList"),s.get("todoList")&&Sr(this.editor,this,/^\[\s?\]\s$/,"todoList"),s.get("checkTodoList")&&Sr(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const s=this.editor.commands;if(s.get("bold")){const e=Xh(this.editor,"bold");Oa(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),Oa(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(s.get("italic")){const e=Xh(this.editor,"italic");Oa(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),Oa(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(s.get("code")){const e=Xh(this.editor,"code");Oa(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(s.get("strikethrough")){const e=Xh(this.editor,"strikethrough");Oa(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const s=this.editor.commands.get("heading");s&&s.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const o=e[7],r=new RegExp(`^(#{${o}})\\s$`);Sr(this.editor,this,r,()=>{if(!s.isEnabled||s.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Sr(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const s=this.editor,e=s.model.document.selection;s.commands.get("codeBlock")&&Sr(s,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Sr(this.editor,this,/^---$/,"horizontalLine")}},class extends ue{static get requires(){return[OV,LV]}static get pluginName(){return"Bold"}},class extends ue{static get requires(){return[zV,FV]}static get pluginName(){return"Italic"}},class extends ue{static get requires(){return[$V,HV]}static get pluginName(){return"BlockQuote"}},class extends ue{static get pluginName(){return"CKBox"}static get requires(){return[Y2,WV]}},class extends ue{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",m$,f$]}},class extends hh{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[oq]}init(){return nD(this,null,function*(){const s=this.context.config.get("cloudServices")||{};for(const[o,r]of Object.entries(s))this[o]=r;if(!this.tokenUrl)return void(this.token=null);const e=this.context.plugins.get("CloudServicesCore");this.token=yield e.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(s){return nD(this,null,function*(){if(this._tokens.has(s))return this.getTokenFor(s);const e=this.context.plugins.get("CloudServicesCore"),o=yield e.createToken(s).init();return this._tokens.set(s,o),o})}getTokenFor(s){const e=this._tokens.get(s);if(!e)throw new P("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const s of this._tokens.values())s.destroy()}},class extends ue{static get pluginName(){return"EasyImage"}static get requires(){return[b$,"ImageUpload"]}init(){const s=this.editor;s.plugins.has("ImageBlockEditing")||s.plugins.has("ImageInlineEditing")||U("easy-image-image-feature-missing",s)}},class extends ue{static get requires(){return[C$,y$]}static get pluginName(){return"Heading"}},class extends ue{static get requires(){return[W$,G$]}static get pluginName(){return"Image"}},class extends ue{static get requires(){return[Y$,Q$]}static get pluginName(){return"ImageCaption"}},class extends ue{static get requires(){return[tI,vU]}static get pluginName(){return"ImageStyle"}},class extends ue{static get requires(){return[Qh,uo]}static get pluginName(){return"ImageToolbar"}afterInit(){const s=this.editor,e=s.t,o=s.plugins.get(Qh),r=s.plugins.get("ImageUtils");var a;o.register("image",{ariaLabel:e("Image toolbar"),items:(a=s.config.get("image.toolbar")||[],a.map(l=>Te(l)?l.name:l)),getRelatedElement:l=>r.getClosestSelectedImageWidget(l)})}},class extends ue{static get pluginName(){return"ImageUpload"}static get requires(){return[dU,X$,oU]}},class extends ue{static get pluginName(){return"Indent"}static get requires(){return[_U,CU]}},class extends ue{static get requires(){return[CI,ZU,JU]}static get pluginName(){return"Link"}},CH,class extends ue{static get requires(){return[hp,BH,MH,Ol]}static get pluginName(){return"MediaEmbed"}},gk,class extends ue{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Fo]}init(){const s=this.editor,e=s.plugins.get("ClipboardPipeline"),o=s.editing.view.document,r=[],a=this.editor.plugins.has("MultiLevelList");r.push(new tW(o,a)),r.push(new oW(o)),r.push(new rW(o)),e.on("inputTransformation",(l,u)=>{if(u._isTransformedWithPasteFromOffice||s.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const p=u.dataTransfer.getData("text/html"),g=r.find(k=>k.isActive(p));g&&(u._parsedData||(u._parsedData=sW(p,o.stylesProcessor)),g.execute(u),u._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends ue{static get requires(){return[bk,uo]}static get pluginName(){return"PictureEditing"}afterInit(){const s=this.editor;s.plugins.has("ImageBlockEditing")&&s.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),s.plugins.has("ImageInlineEditing")&&s.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const s=this.editor,e=s.conversion,o=s.plugins.get("ImageUtils");e.for("upcast").add(function(r){const a=["srcset","media","type","sizes"],l=(u,p,g)=>{const k=p.viewItem;if(!g.consumable.test(k,{name:!0}))return;const w=new Map;for(const T of k.getChildren())if(T.is("element","source")){const D={};for(const B of a)T.hasAttribute(B)&&g.consumable.test(T,{attributes:B})&&(D[B]=T.getAttribute(B));Object.keys(D).length&&w.set(T,D)}const A=r.findViewImgElement(k);if(!A)return;let E=p.modelCursor.parent;if(!E.is("element","imageBlock")){const T=g.convertItem(A,p.modelCursor);p.modelRange=T.modelRange,p.modelCursor=T.modelCursor,E=Sn(T.modelRange.getItems())}g.consumable.consume(k,{name:!0});for(const[T,D]of w)g.consumable.consume(T,{attributes:Object.keys(D)});w.size&&g.writer.setAttribute("sources",Array.from(w.values()),E),g.convertChildren(k,E)};return u=>{u.on("element:picture",l)}}(o)),e.for("downcast").add(function(r){const a=(l,u,p)=>{if(!p.consumable.consume(u.item,l.name))return;const g=p.writer,k=p.mapper.toViewElement(u.item),w=r.findViewImgElement(k),A=u.attributeNewValue;if(A&&A.length){const E=g.createContainerElement("picture",null,A.map(B=>g.createEmptyElement("source",B))),T=[];let D=w.parent;for(;D&&D.is("attributeElement");){const B=D.parent;g.unwrap(g.createRangeOn(w),D),T.unshift(D),D=B}g.insert(g.createPositionBefore(w),E),g.move(g.createRangeOn(w),g.createPositionAt(E,"end"));for(const B of T)g.wrap(g.createRangeOn(E),B)}else if(w.parent.is("element","picture")){const E=w.parent;g.move(g.createRangeOn(w),g.createPositionBefore(E)),g.remove(E)}};return l=>{l.on("attribute:sources:imageBlock",a),l.on("attribute:sources:imageInline",a)}}(o))}_setupImageUploadEditingIntegration(){const s=this.editor;if(!s.plugins.has("ImageUploadEditing"))return;const e=s.plugins.get("ImageUploadEditing");this.listenTo(e,"uploadComplete",(o,{imageElement:r,data:a})=>{const l=a.sources;l&&s.model.change(u=>{u.setAttributes({sources:l},r)})})}},class extends ue{static get requires(){return[MW,RW,Es,zW,LW,OW,Ol]}static get pluginName(){return"Table"}},class extends ue{static get requires(){return[Qh]}static get pluginName(){return"TableToolbar"}afterInit(){const s=this.editor,e=s.t,o=s.plugins.get(Qh),r=s.config.get("table.contentToolbar"),a=s.config.get("table.tableToolbar");r&&o.register("tableContent",{ariaLabel:e("Table toolbar"),items:r,getRelatedElement:$W}),a&&o.register("table",{ariaLabel:e("Table toolbar"),items:a,getRelatedElement:VW})}},class extends ue{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(s){super(s),s.config.define("typing",{transformations:{include:F8}})}init(){const s=this.editor.model.document.selection;s.on("change:range",()=>{this.isEnabled=!s.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const s=this.editor,e=s.model,o=s.plugins.get("Delete"),r=function(l){const u=l.extra||[],p=l.remove||[],g=k=>!p.includes(k);return function(k){const w=new Set;for(const A of k)if(typeof A=="string"&&QE[A])for(const E of QE[A])w.add(E);else w.add(A);return Array.from(w)}(l.include.concat(u).filter(g)).filter(g).map(k=>typeof k=="string"&&YE[k]?YE[k]:k).filter(k=>typeof k=="object").map(k=>({from:V8(k.from),to:$8(k.to)}))}(s.config.get("typing.transformations")),a=new qE(s.model,l=>{for(const u of r)if(u.from.test(l))return{normalizedTransformation:u}});a.on("matched:data",(l,u)=>{if(!u.batch.isTyping)return;const{from:p,to:g}=u.normalizedTransformation,k=p.exec(u.text),w=g(k.slice(1)),A=u.range;let E=k.index;e.enqueueChange(T=>{for(let D=1;D<k.length;D++){const B=k[D],z=w[D-1];if(z==null){E+=B.length;continue}const $=A.start.getShiftedBy(E),q=e.createRange($,$.getShiftedBy(B.length)),Z=U8($);e.insertContent(T.createText(z,Z),q),E+=z.length}e.enqueueChange(()=>{o.requestUndoOnBackspace()})})}),a.bind("isEnabled").to(this)}}],Hk.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),h=h.default})())})(Ff,Ff.exports);var Uke=Ff.exports;const nL=W4(Uke),Hke=({content:n,onChange:t})=>R.jsx(tL.CKEditor,{editor:nL,data:n,onChange:(i,c)=>{const d=c.getData();t(d)},config:{toolbar:["undo","redo","|","heading","|","bold","italic","|","blockQuote","numberedList","bulletedList","|","insertTable","link","|"],table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},link:{defaultProtocol:"https://",decorators:{addTargetToExternalLinks:{mode:"automatic",callback:i=>/^(https?:)?\/\//.test(i||""),attributes:{target:"_blank",rel:"noopener noreferrer"}}}}}}),U4=({content:n,onChange:t})=>R.jsx(tL.CKEditor,{editor:nL,data:n,onChange:(i,c)=>{const d=c.getData();t(d)},config:{toolbar:["heading","|","bold","italic","|","blockQuote","numberedList","bulletedList","|","link"],link:{defaultProtocol:"https://",decorators:{addTargetToExternalLinks:{mode:"automatic",callback:i=>/^(https?:)?\/\//.test(i||""),attributes:{target:"_blank",rel:"noopener noreferrer"}}}}}}),oL=({materialData:n,onSubmit:t})=>{var mt,st,ot,bt,$e,ye;const i=ea(),{userDetails:c}=Ng(),d=vr(),[h,f]=O.useState((n==null?void 0:n.title)||""),[b,m]=O.useState((n==null?void 0:n.header)||{title:"Header",content:""}),[v,C]=O.useState((n==null?void 0:n.footer)||{title:"Footer",content:""}),[y,_]=O.useState((n==null?void 0:n.sections)||[{id:dd(),title:"Section 1",content:"",subsections:[],images:[],links:[]}]),[x,I]=O.useState({sectionIndex:0}),[S,M]=O.useState(!1),[N,j]=O.useState(""),[L,V]=O.useState("success");O.useEffect(()=>{const Y=te=>{te.key==="ArrowLeft"?it("prev"):te.key==="ArrowRight"&&it("next")};return window.addEventListener("keydown",Y),()=>{window.removeEventListener("keydown",Y)}},[x,y]);const H=async(Y,te=!1)=>{Y.preventDefault();try{if(n){const se=mr(d,"materials",n.id);await Pg(se,{title:h,header:b,footer:v,sections:y,published:te}),j("Material updated successfully")}else{const se=await bN(qv(d,"materials"),{title:h,header:b,footer:v,sections:y,author:(c==null?void 0:c.uid)||"",timestamp:md(),published:te});j("Material saved successfully")}V("success"),M(!0),i("/supplemental-materials")}catch{j("Failed to save material"),V("error"),M(!0)}},W=()=>{i("/supplemental-materials")},P=Y=>{H(Y,!0)},U=()=>{_([...y,{id:dd(),title:`Section ${y.length+1}`,content:"",subsections:[],images:[],links:[]}])},G=Y=>{const te=[...y],se=te[Y];se.subsections.push({id:dd(),title:`Subsection ${se.subsections.length+1}`,content:"",subSubsections:[],images:[],links:[]}),_(te),I({sectionIndex:Y,subsectionIndex:se.subsections.length-1})},Q=(Y,te)=>{const se=[...y],ve=se[Y].subsections[te];ve.subSubsections.push({id:dd(),title:`Sub-Subsection ${ve.subSubsections.length+1}`,content:"",images:[],links:[]}),_(se),I({sectionIndex:Y,subsectionIndex:te,subSubsectionIndex:ve.subSubsections.length-1})},ee=(Y,te,se,ve)=>{const Ee=[...y];ve!==void 0?Ee[Y].subsections[se].subSubsections[ve].images=[...Ee[Y].subsections[se].subSubsections[ve].images,...te]:se!==void 0?Ee[Y].subsections[se].images=[...Ee[Y].subsections[se].images,...te]:Ee[Y].images=[...Ee[Y].images,...te],_(Ee)},re=(Y,te,se,ve)=>{const Ee=[...y];ve!==void 0?Ee[Y].subsections[se].subSubsections[ve].links=te:se!==void 0?Ee[Y].subsections[se].links=te:Ee[Y].links=te,_(Ee)},J=(Y,te,se)=>{I({sectionIndex:typeof Y=="number"?Y:void 0,subsectionIndex:te,subSubsectionIndex:se,type:typeof Y=="string"?Y:void 0})},X=(Y,te)=>{const se=[...y];se[Y].title=te,_(se)},oe=(Y,te,se)=>{const ve=[...y];ve[Y].subsections[te].title=se,_(ve)},ie=(Y,te,se,ve)=>{const Ee=[...y];Ee[Y].subsections[te].subSubsections[se].title=ve,_(Ee)},ce=(Y,te,se,ve)=>{const Ee=[...y];ve!==void 0?Ee[Y].subsections[se].subSubsections[ve].content=te:se!==void 0?Ee[Y].subsections[se].content=te:Ee[Y].content=te,_(Ee)},K=Y=>{m({...b,content:Y})},he=Y=>{C({...v,content:Y})},Ae=Y=>{const te=y.filter((se,ve)=>ve!==Y);_(te),te.length===0?I({sectionIndex:void 0,type:"header"}):Y>=te.length?I({sectionIndex:te.length-1}):I({sectionIndex:Y})},tt=(Y,te)=>{const se=[...y];se[Y].subsections=se[Y].subsections.filter((ve,Ee)=>Ee!==te),_(se),se[Y].subsections.length===0?I({sectionIndex:Y}):te>=se[Y].subsections.length?I({sectionIndex:Y,subsectionIndex:se[Y].subsections.length-1}):I({sectionIndex:Y,subsectionIndex:te})},Ke=(Y,te,se)=>{const ve=[...y];ve[Y].subsections[te].subSubsections=ve[Y].subsections[te].subSubsections.filter((Ee,He)=>He!==se),_(ve),ve[Y].subsections[te].subSubsections.length===0?I({sectionIndex:Y,subsectionIndex:te}):se>=ve[Y].subsections[te].subSubsections.length?I({sectionIndex:Y,subsectionIndex:te,subSubsectionIndex:ve[Y].subsections[te].subSubsections.length-1}):I({sectionIndex:Y,subsectionIndex:te,subSubsectionIndex:se})},it=Y=>{const{sectionIndex:te,subsectionIndex:se,subSubsectionIndex:ve,type:Ee}=x;if(Y==="prev")if(ve!==void 0&&ve>0)I({sectionIndex:te,subsectionIndex:se,subSubsectionIndex:ve-1});else if(ve!==void 0&&ve===0)I({sectionIndex:te,subsectionIndex:se});else if(se!==void 0&&se>0)I({sectionIndex:te,subsectionIndex:se-1});else if(se!==void 0&&se===0)I({sectionIndex:te});else if(te>0){const He=y[te-1];I({sectionIndex:te-1,subsectionIndex:He.subsections.length?He.subsections.length-1:void 0,subSubsectionIndex:He.subsections.length?He.subsections[He.subsections.length-1].subSubsections.length-1:void 0})}else Ee==="footer"?I({sectionIndex:y.length-1,type:"footer"}):te===void 0&&Ee==="header"&&I({sectionIndex:y.length-1});else Y==="next"&&(ve===void 0&&se!==void 0&&y[te].subsections[se].subSubsections.length?I({sectionIndex:te,subsectionIndex:se,subSubsectionIndex:0}):ve!==void 0&&ve<y[te].subsections[se].subSubsections.length-1?I({sectionIndex:te,subsectionIndex:se,subSubsectionIndex:ve+1}):ve!==void 0&&ve===y[te].subsections[se].subSubsections.length-1&&se<y[te].subsections.length-1?I({sectionIndex:te,subsectionIndex:se+1}):se===void 0&&y[te].subsections.length?I({sectionIndex:te,subsectionIndex:0}):se!==void 0&&se<y[te].subsections.length-1?I({sectionIndex:te,subsectionIndex:se+1}):se!==void 0&&se===y[te].subsections.length-1&&te<y.length-1?I({sectionIndex:te+1}):te<y.length-1?I({sectionIndex:te+1}):te===y.length-1&&se===void 0&&I({sectionIndex:void 0,type:"footer"}))},Ne=x.type==="header"||x.type==="footer"?"":x.sectionIndex!==void 0?x.subSubsectionIndex!==void 0?((mt=y[x.sectionIndex].subsections[x.subsectionIndex].subSubsections[x.subSubsectionIndex])==null?void 0:mt.content)||"":x.subsectionIndex!==void 0?((st=y[x.sectionIndex].subsections[x.subsectionIndex])==null?void 0:st.content)||"":((ot=y[x.sectionIndex])==null?void 0:ot.content)||"":"",nt=x.type==="header"||x.type==="footer"?"":x.sectionIndex!==void 0?x.subSubsectionIndex!==void 0?((bt=y[x.sectionIndex].subsections[x.subsectionIndex].subSubsections[x.subSubsectionIndex])==null?void 0:bt.title)||"":x.subsectionIndex!==void 0?(($e=y[x.sectionIndex].subsections[x.subsectionIndex])==null?void 0:$e.title)||"":((ye=y[x.sectionIndex])==null?void 0:ye.title)||"":"",Te=(Y,te,se,ve)=>{const Ee=[...y];ve!==void 0?Ee[Y].subsections[se].subSubsections[ve].images=Ee[Y].subsections[se].subSubsections[ve].images.filter(He=>He.url!==te):se!==void 0?Ee[Y].subsections[se].images=Ee[Y].subsections[se].images.filter(He=>He.url!==te):Ee[Y].images=Ee[Y].images.filter(He=>He.url!==te),_(Ee)};return R.jsxs(Se,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:[R.jsxs(Se,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[R.jsx(Se,{sx:{width:"450px",ml:2,mt:2},children:R.jsx(x3,{})}),R.jsxs(Se,{sx:{display:"flex",flexGrow:1},children:[R.jsx(A3,{sections:y,selected:x,onAddSection:U,onAddSubsection:G,onAddSubSubsection:Q,onSelectSection:J,onUpdateSectionTitle:X,onUpdateSubsectionTitle:oe,onUpdateSubSubsectionTitle:ie,onDeleteSection:Ae,onDeleteSubsection:tt,onDeleteSubSubsection:Ke}),R.jsxs(Se,{sx:{flexGrow:1,padding:3},children:[R.jsx(ko,{label:"Material Title",variant:"outlined",fullWidth:!0,value:h,onChange:Y=>f(Y.target.value),sx:{mb:2}}),R.jsxs(Se,{sx:{border:x.type==="header"?"2px solid blue":"none",borderRadius:1,padding:2,mb:2},children:[R.jsx(Se,{sx:{mt:2,display:"flex",justifyContent:"center",alignItems:"center"},children:R.jsx(ct,{variant:"h6",sx:{color:"gray",textAlign:"center"},children:"Header"})}),R.jsx(U4,{content:b.content,onChange:K})]}),R.jsx(ct,{variant:"h4",align:"center",gutterBottom:!0,children:nt}),x.type!=="header"&&x.type!=="footer"&&R.jsxs(R.Fragment,{children:[R.jsx(Hke,{content:Ne,onChange:Y=>ce(x.sectionIndex,Y,x.subsectionIndex,x.subSubsectionIndex)},`${x.sectionIndex}-${x.subsectionIndex}-${x.subSubsectionIndex}`),R.jsx(Pfe,{sectionId:x.subSubsectionIndex!==void 0?y[x.sectionIndex].subsections[x.subsectionIndex].subSubsections[x.subSubsectionIndex].id:x.subsectionIndex!==void 0?y[x.sectionIndex].subsections[x.subsectionIndex].id:y[x.sectionIndex].id,onImagesUploaded:Y=>ee(x.sectionIndex,Y,x.subsectionIndex,x.subSubsectionIndex)}),(x.subSubsectionIndex!==void 0?y[x.sectionIndex].subsections[x.subsectionIndex].subSubsections[x.subSubsectionIndex].images:x.subsectionIndex!==void 0?y[x.sectionIndex].subsections[x.subsectionIndex].images:y[x.sectionIndex].images).map((Y,te)=>R.jsxs(Se,{sx:{position:"relative",mt:2},children:[R.jsx("img",{src:Y.url,alt:`Section ${x.sectionIndex+1} Image ${te+1}`,style:{maxWidth:"50%",marginBottom:"16px"}}),R.jsx(Rfe,{imageTitle:Y.title,onTitleChange:se=>{const ve=[...y];x.subSubsectionIndex!==void 0?ve[x.sectionIndex].subsections[x.subsectionIndex].subSubsections[x.subSubsectionIndex].images[te].title=se:x.subsectionIndex!==void 0?ve[x.sectionIndex].subsections[x.subsectionIndex].images[te].title=se:ve[x.sectionIndex].images[te].title=se,_(ve)}}),R.jsx(Rn,{sx:{position:"absolute",top:0,right:0,backgroundColor:"rgba(255, 255, 255, 0.7)"},onClick:()=>Te(x.sectionIndex,Y.url,x.subsectionIndex,x.subSubsectionIndex),children:R.jsx(zu,{})})]},te)),R.jsx(Lfe,{links:x.subSubsectionIndex!==void 0?y[x.sectionIndex].subsections[x.subsectionIndex].subSubsections[x.subSubsectionIndex].links:x.subsectionIndex!==void 0?y[x.sectionIndex].subsections[x.subsectionIndex].links:y[x.sectionIndex].links,onLinksChange:Y=>re(x.sectionIndex,Y,x.subsectionIndex,x.subSubsectionIndex)})]}),R.jsxs(Se,{sx:{border:x.type==="footer"?"2px solid blue":"none",borderRadius:1,padding:2,mt:2},children:[R.jsx(Se,{sx:{mt:2,display:"flex",justifyContent:"center",alignItems:"center"},children:R.jsx(ct,{variant:"h6",sx:{color:"gray",textAlign:"center"},children:"Footer"})}),R.jsx(U4,{content:v.content,onChange:he})]}),R.jsxs(Se,{sx:{display:"flex",justifyContent:"space-between"},children:[R.jsx(tu,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:R.jsx("span",{children:R.jsx(Rn,{onClick:()=>it("prev"),disabled:x.sectionIndex===0&&x.subsectionIndex===void 0&&x.type==="header",children:R.jsx(iC,{})})})}),R.jsx(tu,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:R.jsx("span",{children:R.jsx(Rn,{onClick:()=>it("next"),disabled:x.sectionIndex===y.length-1&&(x.subsectionIndex===void 0||x.subsectionIndex===y[x.sectionIndex].subsections.length-1)&&x.type==="footer",children:R.jsx(sC,{})})})})]}),R.jsxs(Se,{sx:{mt:2,display:"flex",justifyContent:"space-between"},children:[R.jsx(en,{type:"button",variant:"outlined",color:"secondary",onClick:W,children:"Cancel"}),R.jsx(en,{type:"submit",variant:"contained",color:"primary",onClick:Y=>H(Y,!1),children:"Save"}),R.jsx(en,{type:"button",variant:"contained",color:"primary",onClick:P,sx:{backgroundColor:"green"},children:"Publish"})]})]})]})]}),R.jsx(Em,{open:S,autoHideDuration:6e3,onClose:()=>M(!1),children:R.jsx(wm,{onClose:()=>M(!1),severity:L,sx:{width:"100%"},children:N})})]})},Wke=()=>{const{id:n}=Fw(),t=vr(),[i,c]=O.useState(null);O.useEffect(()=>{n&&(async()=>{const f=mr(t,"materials",n),b=await Mg(f);if(b.exists()){const m={id:b.id,...b.data()};m.sections=m.sections.map(v=>({...v,images:v.images.map(C=>({...C,title:C.title||""})),subsections:v.subsections.map(C=>({...C,images:C.images.map(y=>({...y,title:y.title||""})),subSubsections:C.subSubsections.map(y=>({...y,images:y.images.map(_=>({..._,title:_.title||""}))}))}))})),c(m)}})()},[n,t]);const d=async h=>{if(n){const f=mr(t,"materials",n);await Pg(f,{...h})}};return i?R.jsx(oL,{materialData:i,onSubmit:d}):R.jsx(Se,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:R.jsx(zf,{})})},qke=n=>!n.startsWith("http://")&&!n.startsWith("https://")?`https://${n}`:n,Gke=({links:n})=>n.length===0?null:R.jsxs(Se,{sx:{mt:2,width:"50%"},children:[R.jsx(ct,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Links"}),R.jsxs(Se,{sx:{display:"flex",mb:1,borderBottom:"1px solid gray"},children:[R.jsx(ct,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"Title"}),R.jsx(ct,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"URL"}),R.jsx(ct,{sx:{flexBasis:"40%",fontWeight:"bold"},children:"Description"})]}),n.map((t,i)=>R.jsx(Se,{children:R.jsxs(Se,{sx:{display:"flex",alignItems:"center",mb:1,flexWrap:"wrap",borderBottom:"1px solid lightgray"},children:[R.jsx(ct,{sx:{flexBasis:"30%",fontStyle:"italic",wordWrap:"break-word",paddingRight:"8px"},children:t.title}),R.jsx(g3,{sx:{flexBasis:"30%",wordWrap:"break-word",paddingRight:"8px"},href:qke(t.url),target:"_blank",rel:"noopener",children:t.url}),R.jsx(ct,{sx:{flexBasis:"40%",wordWrap:"break-word"},children:t.description})]})},i))]}),Kke=()=>{var y,_,x,I,S,M,N,j,L,V,H,W,P,U,G,Q,ee,re;const{id:n}=Fw(),t=vr(),[i,c]=O.useState(null),[d,h]=O.useState({sectionIndex:0});O.useEffect(()=>{n&&(async()=>{const X=mr(t,"materials",n),oe=await Mg(X);oe.exists()&&c({id:oe.id,...oe.data()})})()},[n,t]);const f=(J,X,oe)=>{h({sectionIndex:typeof J=="number"?J:void 0,subsectionIndex:X,subSubsectionIndex:oe,type:typeof J=="string"?J:void 0})},b=J=>{const{sectionIndex:X,subsectionIndex:oe,subSubsectionIndex:ie,type:ce}=d;if(J==="prev")if(ie!==void 0&&ie>0)h({sectionIndex:X,subsectionIndex:oe,subSubsectionIndex:ie-1});else if(ie!==void 0&&ie===0)h({sectionIndex:X,subsectionIndex:oe});else if(oe!==void 0&&oe>0)h({sectionIndex:X,subsectionIndex:oe-1});else if(oe!==void 0&&oe===0)h({sectionIndex:X});else if(X>0){const K=i==null?void 0:i.sections[X-1];h({sectionIndex:X-1,subsectionIndex:K!=null&&K.subsections.length?K.subsections.length-1:void 0,subSubsectionIndex:K!=null&&K.subsections.length?K.subsections[K.subsections.length-1].subSubsections.length-1:void 0})}else ce==="footer"?h({sectionIndex:(i==null?void 0:i.sections.length)-1,type:"footer"}):X===void 0&&ce==="header"&&h({sectionIndex:(i==null?void 0:i.sections.length)-1});else J==="next"&&(ie===void 0&&oe!==void 0&&(i!=null&&i.sections[X].subsections[oe].subSubsections.length)?h({sectionIndex:X,subsectionIndex:oe,subSubsectionIndex:0}):ie!==void 0&&ie<(i==null?void 0:i.sections[X].subsections[oe].subSubsections.length)-1?h({sectionIndex:X,subsectionIndex:oe,subSubsectionIndex:ie+1}):ie!==void 0&&ie===(i==null?void 0:i.sections[X].subsections[oe].subSubsections.length)-1&&oe<(i==null?void 0:i.sections[X].subsections.length)-1?h({sectionIndex:X,subsectionIndex:oe+1}):oe===void 0&&(i!=null&&i.sections[X].subsections.length)?h({sectionIndex:X,subsectionIndex:0}):oe!==void 0&&oe<(i==null?void 0:i.sections[X].subsections.length)-1?h({sectionIndex:X,subsectionIndex:oe+1}):oe!==void 0&&oe===(i==null?void 0:i.sections[X].subsections.length)-1&&X<(i==null?void 0:i.sections.length)-1?h({sectionIndex:X+1}):X<(i==null?void 0:i.sections.length)-1?h({sectionIndex:X+1}):X===(i==null?void 0:i.sections.length)-1&&oe===void 0&&h({sectionIndex:void 0,type:"footer"}))};if(!i)return R.jsx(zf,{});const m=d.type==="header"||d.type==="footer"?"":d.sectionIndex!==void 0?d.subSubsectionIndex!==void 0?((x=(_=(y=i.sections[d.sectionIndex])==null?void 0:y.subsections[d.subsectionIndex])==null?void 0:_.subSubsections[d.subSubsectionIndex])==null?void 0:x.content)||"":d.subsectionIndex!==void 0?((S=(I=i.sections[d.sectionIndex])==null?void 0:I.subsections[d.subsectionIndex])==null?void 0:S.content)||"":((M=i.sections[d.sectionIndex])==null?void 0:M.content)||"":"",v=d.type==="header"||d.type==="footer"?"":d.sectionIndex!==void 0?d.subSubsectionIndex!==void 0?((L=(j=(N=i.sections[d.sectionIndex])==null?void 0:N.subsections[d.subsectionIndex])==null?void 0:j.subSubsections[d.subSubsectionIndex])==null?void 0:L.title)||"":d.subsectionIndex!==void 0?((H=(V=i.sections[d.sectionIndex])==null?void 0:V.subsections[d.subsectionIndex])==null?void 0:H.title)||"":((W=i.sections[d.sectionIndex])==null?void 0:W.title)||"":"",C=d.sectionIndex!==void 0?d.subSubsectionIndex!==void 0?((G=(U=(P=i.sections[d.sectionIndex])==null?void 0:P.subsections[d.subsectionIndex])==null?void 0:U.subSubsections[d.subSubsectionIndex])==null?void 0:G.links)||[]:d.subsectionIndex!==void 0?((ee=(Q=i.sections[d.sectionIndex])==null?void 0:Q.subsections[d.subsectionIndex])==null?void 0:ee.links)||[]:((re=i.sections[d.sectionIndex])==null?void 0:re.links)||[]:[];return R.jsx(Se,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:R.jsxs(Se,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[R.jsx(Se,{sx:{width:"450px",ml:2,mt:2},children:R.jsx(x3,{})}),R.jsxs(Se,{sx:{display:"flex",flexGrow:1},children:[R.jsx(Se,{sx:{width:"450px",minWidth:"450px",maxWidth:"450px",borderRight:"1px solid #ddd",padding:2},children:R.jsx(A3,{sections:i.sections,selected:d,onAddSection:()=>{},onAddSubsection:()=>{},onAddSubSubsection:()=>{},onSelectSection:f,onUpdateSectionTitle:()=>{},onUpdateSubsectionTitle:()=>{},onUpdateSubSubsectionTitle:()=>{},onDeleteSection:()=>{},onDeleteSubsection:()=>{},onDeleteSubSubsection:()=>{},isViewMode:!0})}),R.jsxs(Se,{sx:{flexGrow:1,padding:3},children:[R.jsx("hr",{})," ",R.jsx(Se,{sx:{border:d.type==="header"?"2px solid blue":"none",borderRadius:1,padding:2,mb:2},children:R.jsx(ct,{dangerouslySetInnerHTML:{__html:i.header.content.replace(/\n/g,"<br />")}})}),R.jsx("hr",{})," ",R.jsx(ct,{variant:"h3",align:"center",gutterBottom:!0,children:i.title}),R.jsx("hr",{})," ",R.jsx(ct,{variant:"h4",align:"center",gutterBottom:!0,children:v}),d.type!=="header"&&d.type!=="footer"&&R.jsxs(R.Fragment,{children:[R.jsxs(Se,{sx:{mb:2,border:d.sectionIndex!==void 0&&d.subsectionIndex===void 0?"2px solid blue":d.subSubsectionIndex!==void 0?"2px solid red":d.subsectionIndex!==void 0?"2px solid green":"none",borderRadius:1,padding:2},children:[R.jsx(ct,{dangerouslySetInnerHTML:{__html:m.replace(/\n/g,"<br />")}}),R.jsx(Se,{children:d.sectionIndex!==void 0&&R.jsx(R.Fragment,{children:d.subSubsectionIndex!==void 0?i.sections[d.sectionIndex].subsections[d.subsectionIndex].subSubsections[d.subSubsectionIndex].images.length>0&&R.jsx(Se,{sx:{display:"flex",flexWrap:"wrap",mt:2},children:i.sections[d.sectionIndex].subsections[d.subsectionIndex].subSubsections[d.subSubsectionIndex].images.map((J,X)=>R.jsxs(Se,{sx:{position:"relative",mr:2,mb:2},children:[R.jsx("img",{src:J.url,alt:`Sub-subsection ${d.subSubsectionIndex+1} Image ${X+1}`,style:{maxWidth:"100%",maxHeight:"500px"}}),R.jsx(ct,{children:J.title})," "]},X))}):d.subsectionIndex!==void 0?i.sections[d.sectionIndex].subsections[d.subsectionIndex].images.length>0&&R.jsx(Se,{sx:{display:"flex",flexWrap:"wrap",mt:2},children:i.sections[d.sectionIndex].subsections[d.subsectionIndex].images.map((J,X)=>R.jsxs(Se,{sx:{position:"relative",mr:2,mb:2},children:[R.jsx("img",{src:J.url,alt:`Subsection ${d.subsectionIndex+1} Image ${X+1}`,style:{maxWidth:"100%",maxHeight:"500px"}}),R.jsx(ct,{children:J.title})," "]},X))}):i.sections[d.sectionIndex].images.length>0&&R.jsx(Se,{sx:{display:"flex",flexWrap:"wrap",mt:2},children:i.sections[d.sectionIndex].images.map((J,X)=>R.jsxs(Se,{sx:{position:"relative",mr:2,mb:2},children:[R.jsx("img",{src:J.url,alt:`Section ${d.sectionIndex+1} Image ${X+1}`,style:{maxWidth:"100%",maxHeight:"500px"}}),R.jsx(ct,{children:J.title})," "]},X))})})})]}),R.jsx(Gke,{links:C})]}),R.jsxs(Se,{sx:{display:"flex",justifyContent:"space-between"},children:[R.jsx(tu,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:R.jsx("span",{children:R.jsx(Rn,{onClick:()=>b("prev"),disabled:d.sectionIndex===0&&d.subsectionIndex===void 0&&d.type==="header",children:R.jsx(iC,{})})})}),R.jsx(tu,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:R.jsx("span",{children:R.jsx(Rn,{onClick:()=>b("next"),disabled:d.sectionIndex===i.sections.length-1&&(d.subsectionIndex===void 0||d.subsectionIndex===i.sections[d.sectionIndex].subsections.length-1)&&d.type==="footer",children:R.jsx(sC,{})})})})]}),R.jsx("hr",{})," ",R.jsx(Se,{sx:{border:d.type==="footer"?"2px solid blue":"none",borderRadius:1,padding:2,mt:2},children:R.jsx(ct,{dangerouslySetInnerHTML:{__html:i.footer.content.replace(/\n/g,"<br />")}})}),R.jsx("hr",{})," "]})]})]})})},Ss=({element:n})=>{const{userDetails:t}=Ng();return t?R.jsx(n,{}):R.jsx(sP,{to:"/"})},Yke=()=>{const[n,t]=O.useState(""),[i,c]=O.useState(""),[d,h]=O.useState([{title:"",url:""}]),f=ea(),b=vr(),m=async()=>{try{await bN(qv(b,"messages"),{title:n,description:i,links:d,postedOn:md()}),f("/")}catch(_){console.error("Error adding message: ",_)}},v=()=>{f("/")},C=(_,x,I)=>{const S=[...d];S[_][x]=I,h(S)},y=()=>{h([...d,{title:"",url:""}])};return R.jsx(l3,{maxWidth:"sm",children:R.jsxs(Se,{sx:{mt:4},children:[R.jsx(ct,{variant:"h4",component:"h1",gutterBottom:!0,children:"Add New Message"}),R.jsx(ko,{label:"Title",fullWidth:!0,value:n,onChange:_=>t(_.target.value),sx:{mb:2}}),R.jsx(j_,{"aria-label":"description",minRows:4,placeholder:"Description",style:{width:"100%",padding:"16.5px 14px",fontSize:"1rem",borderRadius:"4px",borderColor:"rgba(0, 0, 0, 0.23)",marginBottom:"16px"},value:i,onChange:_=>c(_.target.value)}),R.jsx(ct,{variant:"h6",component:"h2",sx:{mb:2},children:"Links"}),d.map((_,x)=>R.jsxs(Se,{sx:{mb:2},children:[R.jsx(ko,{label:`Link Title ${x+1}`,fullWidth:!0,value:_.title,onChange:I=>C(x,"title",I.target.value),sx:{mb:1}}),R.jsx(ko,{label:`Link URL ${x+1}`,fullWidth:!0,value:_.url,onChange:I=>C(x,"url",I.target.value)})]},x)),R.jsx(en,{variant:"text",onClick:y,sx:{mb:2},children:"+ Add another link"}),R.jsxs(Se,{sx:{display:"flex",justifyContent:"flex-end"},children:[R.jsx(en,{variant:"outlined",onClick:v,sx:{marginRight:"8px",borderColor:"#A5D6A7",color:"#424242","&:hover":{borderColor:"#81C784",backgroundColor:"rgba(165, 214, 167, 0.1)"}},children:"Cancel"}),R.jsx(en,{variant:"contained",onClick:m,sx:{backgroundColor:"#A5D6A7",color:"#424242","&:hover":{backgroundColor:"#81C784"}},children:"Save Changes"})]})]})})},Qke=()=>{const{id:n}=Fw(),[t,i]=O.useState(""),[c,d]=O.useState(""),[h,f]=O.useState([{title:"",url:""}]),b=ea(),m=vr();O.useEffect(()=>{(async()=>{const I=mr(m,"messages",n),S=await Mg(I);if(S.exists()){const M=S.data();i(M.title),d(M.description),f(M.links||[{title:"",url:""}])}else console.log("No such document!")})()},[m,n]);const v=async()=>{try{const x=mr(m,"messages",n);await Pg(x,{title:t,description:c,links:h}),b("/")}catch(x){console.error("Error editing message: ",x)}},C=()=>{b("/")},y=(x,I,S)=>{const M=[...h];M[x][I]=S,f(M)},_=()=>{f([...h,{title:"",url:""}])};return R.jsx(l3,{maxWidth:"sm",children:R.jsxs(Se,{sx:{mt:4},children:[R.jsx(ct,{variant:"h4",component:"h1",gutterBottom:!0,children:"Edit Message"}),R.jsx(ko,{label:"Title",fullWidth:!0,value:t,onChange:x=>i(x.target.value),sx:{mb:2}}),R.jsx(j_,{"aria-label":"description",minRows:4,placeholder:"Description",style:{width:"100%",padding:"16.5px 14px",fontSize:"1rem",borderRadius:"4px",borderColor:"rgba(0, 0, 0, 0.23)",marginBottom:"16px"},value:c,onChange:x=>d(x.target.value)}),R.jsx(ct,{variant:"h6",component:"h2",sx:{mb:2},children:"Links"}),h.map((x,I)=>R.jsxs(Se,{sx:{mb:2},children:[R.jsx(ko,{label:`Link Title ${I+1}`,fullWidth:!0,value:x.title,onChange:S=>y(I,"title",S.target.value),sx:{mb:1}}),R.jsx(ko,{label:`Link URL ${I+1}`,fullWidth:!0,value:x.url,onChange:S=>y(I,"url",S.target.value)})]},I)),R.jsx(en,{variant:"text",onClick:_,sx:{mb:2},children:"+ Add another link"}),R.jsxs(Se,{sx:{display:"flex",justifyContent:"flex-end"},children:[R.jsx(en,{variant:"outlined",onClick:C,sx:{marginRight:"8px",borderColor:"#A5D6A7",color:"#424242","&:hover":{borderColor:"#81C784",backgroundColor:"rgba(165, 214, 167, 0.1)"}},children:"Cancel"}),R.jsx(en,{variant:"contained",onClick:v,sx:{backgroundColor:"#A5D6A7",color:"#424242","&:hover":{backgroundColor:"#81C784"}},children:"Save Changes"})]})]})})},Zke=O.lazy(()=>Lw(()=>import("./index-kRLD0b5A.js"),__vite__mapDeps([0,1]))),Jke=O.lazy(()=>Lw(()=>import("./index-DHAvPNE3.js"),__vite__mapDeps([2,1,3]))),Xke=O.lazy(()=>Lw(()=>import("./SupplementalMaterials-Clb31tad.js"),__vite__mapDeps([4,1,3]))),e0e=()=>{const{userDetails:n,loading:t}=Ng();return t?R.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:R.jsx(zf,{})}):(console.log("App loaded"),R.jsxs(tG,{basename:"/ate-micr",children:[R.jsx("div",{className:"content",children:R.jsx(O.Suspense,{fallback:R.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:R.jsx(zf,{})}),children:R.jsxs(Jq,{children:[R.jsx(xi,{path:"/",element:n?R.jsx(ife,{}):R.jsx(Zke,{})}),R.jsx(xi,{path:"/laboratory-notebooks",element:R.jsx(Ss,{element:Jke})}),R.jsx(xi,{path:"/supplemental-materials",element:R.jsx(Ss,{element:Xke})}),R.jsx(xi,{path:"/add-material",element:R.jsx(Ss,{element:oL})}),R.jsx(xi,{path:"/edit-material/:id",element:R.jsx(Ss,{element:Wke})}),R.jsx(xi,{path:"/view-material/:id",element:R.jsx(Ss,{element:Kke})}),R.jsx(xi,{path:"/add-message",element:R.jsx(Ss,{element:Yke})}),R.jsx(xi,{path:"/edit-message/:id",element:R.jsx(Ss,{element:Qke})}),R.jsx(xi,{path:"*",element:R.jsx(sP,{to:"/"})})]})})}),R.jsx(Gpe,{})]}))},t0e=document.getElementById("root"),n0e=P0.createRoot(t0e);n0e.render(R.jsx(Go.StrictMode,{children:R.jsx(Jte,{children:R.jsx(e0e,{})})}));export{Mpe as $,oi as A,Ec as B,eR as C,l3 as D,Se as E,h3 as F,ko as G,en as H,tu as I,wm as J,r0e as K,CY as L,qP as M,Or as N,s0e as O,pc as P,f0e as Q,XM as R,Em as S,ct as T,bi as U,nn as V,Ng as W,ea as X,_0 as Y,Ype as Z,F as _,mO as a,sa as a0,gpe as a1,Lpe as a2,f4 as a3,Br as a4,_pe as a5,Rn as a6,yd as a7,zu as a8,En as a9,Pg as aA,Eee as aB,c0e as aC,Tee as aD,Dee as aE,Pee as aF,vr as aG,l0e as aH,zf as aI,Qa as aJ,$_ as aa,H_ as ab,jN as ac,Gte as ad,d0e as ae,qte as af,u0e as ag,xue as ah,Hde as ai,_3 as aj,tL as ak,nL as al,Jp as am,Jl as an,Xl as ao,Xp as ap,q_ as aq,W_ as ar,U_ as as,md as at,bN as au,qv as av,h0e as aw,Mee as ax,mr as ay,Mg as az,we as b,Ru as c,go as d,im as e,_e as f,Fe as g,Zo as h,ze as i,R as j,Mu as k,Le as l,p0e as m,ge as n,ii as o,Df as p,Yc as q,Zg as r,Eie as s,pe as t,EO as u,os as v,St as w,Ve as x,Kc as y,Hi as z};
