const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BTQxGBAX.js","assets/Visibility-DAAsQxC5.js","assets/SupplementalMaterials-CPZjghHK.js"])))=>i.map(i=>d[i]);
var wae=Object.defineProperty;var yae=(e,t,r)=>t in e?wae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Be=(e,t,r)=>yae(e,typeof t!="symbol"?t+"":t,r);function _ae(e,t){for(var r=0;r<t.length;r++){const o=t[r];if(typeof o!="string"&&!Array.isArray(o)){for(const s in o)if(s!=="default"&&!(s in e)){const c=Object.getOwnPropertyDescriptor(o,s);c&&Object.defineProperty(e,s,c.get?c:{enumerable:!0,get:()=>o[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(s){if(s.ep)return;s.ep=!0;const c=r(s);fetch(s.href,c)}})();var rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function aa(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function o(){return this instanceof o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var s=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(r,o,s.get?s:{enumerable:!0,get:function(){return e[o]}})}),r}var p7={exports:{}},ey={},f7={exports:{}},St={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg=Symbol.for("react.element"),Cae=Symbol.for("react.portal"),Aae=Symbol.for("react.fragment"),xae=Symbol.for("react.strict_mode"),Eae=Symbol.for("react.profiler"),Sae=Symbol.for("react.provider"),Dae=Symbol.for("react.context"),Tae=Symbol.for("react.forward_ref"),Iae=Symbol.for("react.suspense"),Mae=Symbol.for("react.memo"),Pae=Symbol.for("react.lazy"),DL=Symbol.iterator;function Nae(e){return e===null||typeof e!="object"?null:(e=DL&&e[DL]||e["@@iterator"],typeof e=="function"?e:null)}var m7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g7=Object.assign,b7={};function up(e,t,r){this.props=e,this.context=t,this.refs=b7,this.updater=r||m7}up.prototype.isReactComponent={};up.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};up.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function k7(){}k7.prototype=up.prototype;function qS(e,t,r){this.props=e,this.context=t,this.refs=b7,this.updater=r||m7}var GS=qS.prototype=new k7;GS.constructor=qS;g7(GS,up.prototype);GS.isPureReactComponent=!0;var TL=Array.isArray,v7=Object.prototype.hasOwnProperty,KS={current:null},w7={key:!0,ref:!0,__self:!0,__source:!0};function y7(e,t,r){var o,s={},c=null,d=null;if(t!=null)for(o in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(c=""+t.key),t)v7.call(t,o)&&!w7.hasOwnProperty(o)&&(s[o]=t[o]);var m=arguments.length-2;if(m===1)s.children=r;else if(1<m){for(var f=Array(m),k=0;k<m;k++)f[k]=arguments[k+2];s.children=f}if(e&&e.defaultProps)for(o in m=e.defaultProps,m)s[o]===void 0&&(s[o]=m[o]);return{$$typeof:Rg,type:e,key:c,ref:d,props:s,_owner:KS.current}}function Rae(e,t){return{$$typeof:Rg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function YS(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rg}function Oae(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var IL=/\/+/g;function h1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Oae(""+e.key):t.toString(36)}function Zv(e,t,r,o,s){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case Rg:case Cae:d=!0}}if(d)return d=e,s=s(d),e=o===""?"."+h1(d,0):o,TL(s)?(r="",e!=null&&(r=e.replace(IL,"$&/")+"/"),Zv(s,t,r,"",function(k){return k})):s!=null&&(YS(s)&&(s=Rae(s,r+(!s.key||d&&d.key===s.key?"":(""+s.key).replace(IL,"$&/")+"/")+e)),t.push(s)),1;if(d=0,o=o===""?".":o+":",TL(e))for(var m=0;m<e.length;m++){c=e[m];var f=o+h1(c,m);d+=Zv(c,t,r,f,s)}else if(f=Nae(e),typeof f=="function")for(e=f.call(e),m=0;!(c=e.next()).done;)c=c.value,f=o+h1(c,m++),d+=Zv(c,t,r,f,s);else if(c==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function ov(e,t,r){if(e==null)return e;var o=[],s=0;return Zv(e,o,"","",function(c){return t.call(r,c,s++)}),o}function Bae(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Co={current:null},Jv={transition:null},Lae={ReactCurrentDispatcher:Co,ReactCurrentBatchConfig:Jv,ReactCurrentOwner:KS};function _7(){throw Error("act(...) is not supported in production builds of React.")}St.Children={map:ov,forEach:function(e,t,r){ov(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ov(e,function(){t++}),t},toArray:function(e){return ov(e,function(t){return t})||[]},only:function(e){if(!YS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};St.Component=up;St.Fragment=Aae;St.Profiler=Eae;St.PureComponent=qS;St.StrictMode=xae;St.Suspense=Iae;St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lae;St.act=_7;St.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=g7({},e.props),s=e.key,c=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(c=t.ref,d=KS.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var m=e.type.defaultProps;for(f in t)v7.call(t,f)&&!w7.hasOwnProperty(f)&&(o[f]=t[f]===void 0&&m!==void 0?m[f]:t[f])}var f=arguments.length-2;if(f===1)o.children=r;else if(1<f){m=Array(f);for(var k=0;k<f;k++)m[k]=arguments[k+2];o.children=m}return{$$typeof:Rg,type:e.type,key:s,ref:c,props:o,_owner:d}};St.createContext=function(e){return e={$$typeof:Dae,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Sae,_context:e},e.Consumer=e};St.createElement=y7;St.createFactory=function(e){var t=y7.bind(null,e);return t.type=e,t};St.createRef=function(){return{current:null}};St.forwardRef=function(e){return{$$typeof:Tae,render:e}};St.isValidElement=YS;St.lazy=function(e){return{$$typeof:Pae,_payload:{_status:-1,_result:e},_init:Bae}};St.memo=function(e,t){return{$$typeof:Mae,type:e,compare:t===void 0?null:t}};St.startTransition=function(e){var t=Jv.transition;Jv.transition={};try{e()}finally{Jv.transition=t}};St.unstable_act=_7;St.useCallback=function(e,t){return Co.current.useCallback(e,t)};St.useContext=function(e){return Co.current.useContext(e)};St.useDebugValue=function(){};St.useDeferredValue=function(e){return Co.current.useDeferredValue(e)};St.useEffect=function(e,t){return Co.current.useEffect(e,t)};St.useId=function(){return Co.current.useId()};St.useImperativeHandle=function(e,t,r){return Co.current.useImperativeHandle(e,t,r)};St.useInsertionEffect=function(e,t){return Co.current.useInsertionEffect(e,t)};St.useLayoutEffect=function(e,t){return Co.current.useLayoutEffect(e,t)};St.useMemo=function(e,t){return Co.current.useMemo(e,t)};St.useReducer=function(e,t,r){return Co.current.useReducer(e,t,r)};St.useRef=function(e){return Co.current.useRef(e)};St.useState=function(e){return Co.current.useState(e)};St.useSyncExternalStore=function(e,t,r){return Co.current.useSyncExternalStore(e,t,r)};St.useTransition=function(){return Co.current.useTransition()};St.version="18.3.1";f7.exports=St;var B=f7.exports;const ae=Xw(B),Nm=_ae({__proto__:null,default:ae},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jae=B,Fae=Symbol.for("react.element"),zae=Symbol.for("react.fragment"),$ae=Object.prototype.hasOwnProperty,Vae=jae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Uae={key:!0,ref:!0,__self:!0,__source:!0};function C7(e,t,r){var o,s={},c=null,d=null;r!==void 0&&(c=""+r),t.key!==void 0&&(c=""+t.key),t.ref!==void 0&&(d=t.ref);for(o in t)$ae.call(t,o)&&!Uae.hasOwnProperty(o)&&(s[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)s[o]===void 0&&(s[o]=t[o]);return{$$typeof:Fae,type:e,key:c,ref:d,props:s,_owner:Vae.current}}ey.Fragment=zae;ey.jsx=C7;ey.jsxs=C7;p7.exports=ey;var x=p7.exports,zx={},A7={exports:{}},hi={},x7={exports:{}},E7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,re){var ie=G.length;G.push(re);e:for(;0<ie;){var _e=ie-1>>>1,Te=G[_e];if(0<s(Te,re))G[_e]=re,G[ie]=Te,ie=_e;else break e}}function r(G){return G.length===0?null:G[0]}function o(G){if(G.length===0)return null;var re=G[0],ie=G.pop();if(ie!==re){G[0]=ie;e:for(var _e=0,Te=G.length,et=Te>>>1;_e<et;){var Le=2*(_e+1)-1,st=G[Le],me=Le+1,ot=G[me];if(0>s(st,ie))me<Te&&0>s(ot,st)?(G[_e]=ot,G[me]=ie,_e=me):(G[_e]=st,G[Le]=ie,_e=Le);else if(me<Te&&0>s(ot,ie))G[_e]=ot,G[me]=ie,_e=me;else break e}}return re}function s(G,re){var ie=G.sortIndex-re.sortIndex;return ie!==0?ie:G.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();e.unstable_now=function(){return d.now()-m}}var f=[],k=[],v=1,_=null,y=3,A=!1,D=!1,S=!1,I=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(G){for(var re=r(k);re!==null;){if(re.callback===null)o(k);else if(re.startTime<=G)o(k),re.sortIndex=re.expirationTime,t(f,re);else break;re=r(k)}}function j(G){if(S=!1,N(G),!D)if(r(f)!==null)D=!0,ee($);else{var re=r(k);re!==null&&ne(j,re.startTime-G)}}function $(G,re){D=!1,S&&(S=!1,T(z),z=-1),A=!0;var ie=y;try{for(N(re),_=r(f);_!==null&&(!(_.expirationTime>re)||G&&!Y());){var _e=_.callback;if(typeof _e=="function"){_.callback=null,y=_.priorityLevel;var Te=_e(_.expirationTime<=re);re=e.unstable_now(),typeof Te=="function"?_.callback=Te:_===r(f)&&o(f),N(re)}else o(f);_=r(f)}if(_!==null)var et=!0;else{var Le=r(k);Le!==null&&ne(j,Le.startTime-re),et=!1}return et}finally{_=null,y=ie,A=!1}}var U=!1,R=null,z=-1,W=5,q=-1;function Y(){return!(e.unstable_now()-q<W)}function Z(){if(R!==null){var G=e.unstable_now();q=G;var re=!0;try{re=R(!0,G)}finally{re?Q():(U=!1,R=null)}}else U=!1}var Q;if(typeof P=="function")Q=function(){P(Z)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,te=J.port2;J.port1.onmessage=Z,Q=function(){te.postMessage(null)}}else Q=function(){I(Z,0)};function ee(G){R=G,U||(U=!0,Q())}function ne(G,re){z=I(function(){G(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){D||A||(D=!0,ee($))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(f)},e.unstable_next=function(G){switch(y){case 1:case 2:case 3:var re=3;break;default:re=y}var ie=y;y=re;try{return G()}finally{y=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,re){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ie=y;y=G;try{return re()}finally{y=ie}},e.unstable_scheduleCallback=function(G,re,ie){var _e=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?_e+ie:_e):ie=_e,G){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=ie+Te,G={id:v++,callback:re,priorityLevel:G,startTime:ie,expirationTime:Te,sortIndex:-1},ie>_e?(G.sortIndex=ie,t(k,G),r(f)===null&&G===r(k)&&(S?(T(z),z=-1):S=!0,ne(j,ie-_e))):(G.sortIndex=Te,t(f,G),D||A||(D=!0,ee($))),G},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(G){var re=y;return function(){var ie=y;y=re;try{return G.apply(this,arguments)}finally{y=ie}}}})(E7);x7.exports=E7;var Hae=x7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wae=B,li=Hae;function ye(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S7=new Set,Rm={};function ju(e,t){Sh(e,t),Sh(e+"Capture",t)}function Sh(e,t){for(Rm[e]=t,e=0;e<t.length;e++)S7.add(t[e])}var Va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$x=Object.prototype.hasOwnProperty,qae=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ML={},PL={};function Gae(e){return $x.call(PL,e)?!0:$x.call(ML,e)?!1:qae.test(e)?PL[e]=!0:(ML[e]=!0,!1)}function Kae(e,t,r,o){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Yae(e,t,r,o){if(t===null||typeof t>"u"||Kae(e,t,r,o))return!0;if(o)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ao(e,t,r,o,s,c,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=d}var Wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wr[e]=new Ao(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wr[t]=new Ao(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wr[e]=new Ao(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wr[e]=new Ao(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wr[e]=new Ao(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wr[e]=new Ao(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wr[e]=new Ao(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wr[e]=new Ao(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wr[e]=new Ao(e,5,!1,e.toLowerCase(),null,!1,!1)});var QS=/[\-:]([a-z])/g;function ZS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(QS,ZS);Wr[t]=new Ao(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(QS,ZS);Wr[t]=new Ao(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(QS,ZS);Wr[t]=new Ao(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wr[e]=new Ao(e,1,!1,e.toLowerCase(),null,!1,!1)});Wr.xlinkHref=new Ao("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wr[e]=new Ao(e,1,!1,e.toLowerCase(),null,!0,!0)});function JS(e,t,r,o){var s=Wr.hasOwnProperty(t)?Wr[t]:null;(s!==null?s.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Yae(t,r,s,o)&&(r=null),o||s===null?Gae(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,o=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,o?e.setAttributeNS(o,t,r):e.setAttribute(t,r))))}var rl=Wae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,iv=Symbol.for("react.element"),Gd=Symbol.for("react.portal"),Kd=Symbol.for("react.fragment"),XS=Symbol.for("react.strict_mode"),Vx=Symbol.for("react.profiler"),D7=Symbol.for("react.provider"),T7=Symbol.for("react.context"),e2=Symbol.for("react.forward_ref"),Ux=Symbol.for("react.suspense"),Hx=Symbol.for("react.suspense_list"),t2=Symbol.for("react.memo"),yl=Symbol.for("react.lazy"),I7=Symbol.for("react.offscreen"),NL=Symbol.iterator;function wf(e){return e===null||typeof e!="object"?null:(e=NL&&e[NL]||e["@@iterator"],typeof e=="function"?e:null)}var Ln=Object.assign,p1;function Gf(e){if(p1===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);p1=t&&t[1]||""}return`
`+p1+e}var f1=!1;function m1(e,t){if(!e||f1)return"";f1=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(k){var o=k}Reflect.construct(e,[],t)}else{try{t.call()}catch(k){o=k}e.call(t.prototype)}else{try{throw Error()}catch(k){o=k}e()}}catch(k){if(k&&o&&typeof k.stack=="string"){for(var s=k.stack.split(`
`),c=o.stack.split(`
`),d=s.length-1,m=c.length-1;1<=d&&0<=m&&s[d]!==c[m];)m--;for(;1<=d&&0<=m;d--,m--)if(s[d]!==c[m]){if(d!==1||m!==1)do if(d--,m--,0>m||s[d]!==c[m]){var f=`
`+s[d].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=d&&0<=m);break}}}finally{f1=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Gf(e):""}function Qae(e){switch(e.tag){case 5:return Gf(e.type);case 16:return Gf("Lazy");case 13:return Gf("Suspense");case 19:return Gf("SuspenseList");case 0:case 2:case 15:return e=m1(e.type,!1),e;case 11:return e=m1(e.type.render,!1),e;case 1:return e=m1(e.type,!0),e;default:return""}}function Wx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kd:return"Fragment";case Gd:return"Portal";case Vx:return"Profiler";case XS:return"StrictMode";case Ux:return"Suspense";case Hx:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case T7:return(e.displayName||"Context")+".Consumer";case D7:return(e._context.displayName||"Context")+".Provider";case e2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case t2:return t=e.displayName||null,t!==null?t:Wx(e.type)||"Memo";case yl:t=e._payload,e=e._init;try{return Wx(e(t))}catch{}}return null}function Zae(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wx(t);case 8:return t===XS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ql(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function M7(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jae(e){var t=M7(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,c=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(d){o=""+d,c.call(this,d)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(d){o=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sv(e){e._valueTracker||(e._valueTracker=Jae(e))}function P7(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),o="";return e&&(o=M7(e)?e.checked?"true":"false":e.value),e=o,e!==r?(t.setValue(e),!0):!1}function R0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qx(e,t){var r=t.checked;return Ln({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function RL(e,t){var r=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;r=Ql(t.value!=null?t.value:r),e._wrapperState={initialChecked:o,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function N7(e,t){t=t.checked,t!=null&&JS(e,"checked",t,!1)}function Gx(e,t){N7(e,t);var r=Ql(t.value),o=t.type;if(r!=null)o==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Kx(e,t.type,r):t.hasOwnProperty("defaultValue")&&Kx(e,t.type,Ql(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function OL(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Kx(e,t,r){(t!=="number"||R0(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Kf=Array.isArray;function lh(e,t,r,o){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Ql(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,o&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Yx(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ye(91));return Ln({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function BL(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ye(92));if(Kf(r)){if(1<r.length)throw Error(ye(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ql(r)}}function R7(e,t){var r=Ql(t.value),o=Ql(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),o!=null&&(e.defaultValue=""+o)}function LL(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function O7(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qx(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?O7(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var av,B7=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,o,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,o,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(av=av||document.createElement("div"),av.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=av.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Om(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var lm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xae=["Webkit","ms","Moz","O"];Object.keys(lm).forEach(function(e){Xae.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lm[t]=lm[e]})});function L7(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||lm.hasOwnProperty(e)&&lm[e]?(""+t).trim():t+"px"}function j7(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var o=r.indexOf("--")===0,s=L7(r,t[r],o);r==="float"&&(r="cssFloat"),o?e.setProperty(r,s):e[r]=s}}var ele=Ln({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zx(e,t){if(t){if(ele[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ye(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ye(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ye(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ye(62))}}function Jx(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xx=null;function n2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var eE=null,ch=null,uh=null;function jL(e){if(e=Lg(e)){if(typeof eE!="function")throw Error(ye(280));var t=e.stateNode;t&&(t=iy(t),eE(e.stateNode,e.type,t))}}function F7(e){ch?uh?uh.push(e):uh=[e]:ch=e}function z7(){if(ch){var e=ch,t=uh;if(uh=ch=null,jL(e),t)for(e=0;e<t.length;e++)jL(t[e])}}function $7(e,t){return e(t)}function V7(){}var g1=!1;function U7(e,t,r){if(g1)return e(t,r);g1=!0;try{return $7(e,t,r)}finally{g1=!1,(ch!==null||uh!==null)&&(V7(),z7())}}function Bm(e,t){var r=e.stateNode;if(r===null)return null;var o=iy(r);if(o===null)return null;r=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ye(231,t,typeof r));return r}var tE=!1;if(Va)try{var yf={};Object.defineProperty(yf,"passive",{get:function(){tE=!0}}),window.addEventListener("test",yf,yf),window.removeEventListener("test",yf,yf)}catch{tE=!1}function tle(e,t,r,o,s,c,d,m,f){var k=Array.prototype.slice.call(arguments,3);try{t.apply(r,k)}catch(v){this.onError(v)}}var cm=!1,O0=null,B0=!1,nE=null,nle={onError:function(e){cm=!0,O0=e}};function rle(e,t,r,o,s,c,d,m,f){cm=!1,O0=null,tle.apply(nle,arguments)}function ole(e,t,r,o,s,c,d,m,f){if(rle.apply(this,arguments),cm){if(cm){var k=O0;cm=!1,O0=null}else throw Error(ye(198));B0||(B0=!0,nE=k)}}function Fu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function H7(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function FL(e){if(Fu(e)!==e)throw Error(ye(188))}function ile(e){var t=e.alternate;if(!t){if(t=Fu(e),t===null)throw Error(ye(188));return t!==e?null:e}for(var r=e,o=t;;){var s=r.return;if(s===null)break;var c=s.alternate;if(c===null){if(o=s.return,o!==null){r=o;continue}break}if(s.child===c.child){for(c=s.child;c;){if(c===r)return FL(s),e;if(c===o)return FL(s),t;c=c.sibling}throw Error(ye(188))}if(r.return!==o.return)r=s,o=c;else{for(var d=!1,m=s.child;m;){if(m===r){d=!0,r=s,o=c;break}if(m===o){d=!0,o=s,r=c;break}m=m.sibling}if(!d){for(m=c.child;m;){if(m===r){d=!0,r=c,o=s;break}if(m===o){d=!0,o=c,r=s;break}m=m.sibling}if(!d)throw Error(ye(189))}}if(r.alternate!==o)throw Error(ye(190))}if(r.tag!==3)throw Error(ye(188));return r.stateNode.current===r?e:t}function W7(e){return e=ile(e),e!==null?q7(e):null}function q7(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=q7(e);if(t!==null)return t;e=e.sibling}return null}var G7=li.unstable_scheduleCallback,zL=li.unstable_cancelCallback,sle=li.unstable_shouldYield,ale=li.unstable_requestPaint,nr=li.unstable_now,lle=li.unstable_getCurrentPriorityLevel,r2=li.unstable_ImmediatePriority,K7=li.unstable_UserBlockingPriority,L0=li.unstable_NormalPriority,cle=li.unstable_LowPriority,Y7=li.unstable_IdlePriority,ty=null,Vs=null;function ule(e){if(Vs&&typeof Vs.onCommitFiberRoot=="function")try{Vs.onCommitFiberRoot(ty,e,void 0,(e.current.flags&128)===128)}catch{}}var ls=Math.clz32?Math.clz32:ple,dle=Math.log,hle=Math.LN2;function ple(e){return e>>>=0,e===0?32:31-(dle(e)/hle|0)|0}var lv=64,cv=4194304;function Yf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function j0(e,t){var r=e.pendingLanes;if(r===0)return 0;var o=0,s=e.suspendedLanes,c=e.pingedLanes,d=r&268435455;if(d!==0){var m=d&~s;m!==0?o=Yf(m):(c&=d,c!==0&&(o=Yf(c)))}else d=r&~s,d!==0?o=Yf(d):c!==0&&(o=Yf(c));if(o===0)return 0;if(t!==0&&t!==o&&!(t&s)&&(s=o&-o,c=t&-t,s>=c||s===16&&(c&4194240)!==0))return t;if(o&4&&(o|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)r=31-ls(t),s=1<<r,o|=e[r],t&=~s;return o}function fle(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mle(e,t){for(var r=e.suspendedLanes,o=e.pingedLanes,s=e.expirationTimes,c=e.pendingLanes;0<c;){var d=31-ls(c),m=1<<d,f=s[d];f===-1?(!(m&r)||m&o)&&(s[d]=fle(m,t)):f<=t&&(e.expiredLanes|=m),c&=~m}}function rE(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Q7(){var e=lv;return lv<<=1,!(lv&4194240)&&(lv=64),e}function b1(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Og(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ls(t),e[t]=r}function gle(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ls(r),c=1<<s;t[s]=0,o[s]=-1,e[s]=-1,r&=~c}}function o2(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var o=31-ls(r),s=1<<o;s&t|e[o]&t&&(e[o]|=t),r&=~s}}var rn=0;function Z7(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var J7,i2,X7,e$,t$,oE=!1,uv=[],Ll=null,jl=null,Fl=null,Lm=new Map,jm=new Map,Cl=[],ble="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $L(e,t){switch(e){case"focusin":case"focusout":Ll=null;break;case"dragenter":case"dragleave":jl=null;break;case"mouseover":case"mouseout":Fl=null;break;case"pointerover":case"pointerout":Lm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jm.delete(t.pointerId)}}function _f(e,t,r,o,s,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:r,eventSystemFlags:o,nativeEvent:c,targetContainers:[s]},t!==null&&(t=Lg(t),t!==null&&i2(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function kle(e,t,r,o,s){switch(t){case"focusin":return Ll=_f(Ll,e,t,r,o,s),!0;case"dragenter":return jl=_f(jl,e,t,r,o,s),!0;case"mouseover":return Fl=_f(Fl,e,t,r,o,s),!0;case"pointerover":var c=s.pointerId;return Lm.set(c,_f(Lm.get(c)||null,e,t,r,o,s)),!0;case"gotpointercapture":return c=s.pointerId,jm.set(c,_f(jm.get(c)||null,e,t,r,o,s)),!0}return!1}function n$(e){var t=Jc(e.target);if(t!==null){var r=Fu(t);if(r!==null){if(t=r.tag,t===13){if(t=H7(r),t!==null){e.blockedOn=t,t$(e.priority,function(){X7(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=iE(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Xx=o,r.target.dispatchEvent(o),Xx=null}else return t=Lg(r),t!==null&&i2(t),e.blockedOn=r,!1;t.shift()}return!0}function VL(e,t,r){Xv(e)&&r.delete(t)}function vle(){oE=!1,Ll!==null&&Xv(Ll)&&(Ll=null),jl!==null&&Xv(jl)&&(jl=null),Fl!==null&&Xv(Fl)&&(Fl=null),Lm.forEach(VL),jm.forEach(VL)}function Cf(e,t){e.blockedOn===t&&(e.blockedOn=null,oE||(oE=!0,li.unstable_scheduleCallback(li.unstable_NormalPriority,vle)))}function Fm(e){function t(s){return Cf(s,e)}if(0<uv.length){Cf(uv[0],e);for(var r=1;r<uv.length;r++){var o=uv[r];o.blockedOn===e&&(o.blockedOn=null)}}for(Ll!==null&&Cf(Ll,e),jl!==null&&Cf(jl,e),Fl!==null&&Cf(Fl,e),Lm.forEach(t),jm.forEach(t),r=0;r<Cl.length;r++)o=Cl[r],o.blockedOn===e&&(o.blockedOn=null);for(;0<Cl.length&&(r=Cl[0],r.blockedOn===null);)n$(r),r.blockedOn===null&&Cl.shift()}var dh=rl.ReactCurrentBatchConfig,F0=!0;function wle(e,t,r,o){var s=rn,c=dh.transition;dh.transition=null;try{rn=1,s2(e,t,r,o)}finally{rn=s,dh.transition=c}}function yle(e,t,r,o){var s=rn,c=dh.transition;dh.transition=null;try{rn=4,s2(e,t,r,o)}finally{rn=s,dh.transition=c}}function s2(e,t,r,o){if(F0){var s=iE(e,t,r,o);if(s===null)S1(e,t,o,z0,r),$L(e,o);else if(kle(s,e,t,r,o))o.stopPropagation();else if($L(e,o),t&4&&-1<ble.indexOf(e)){for(;s!==null;){var c=Lg(s);if(c!==null&&J7(c),c=iE(e,t,r,o),c===null&&S1(e,t,o,z0,r),c===s)break;s=c}s!==null&&o.stopPropagation()}else S1(e,t,o,null,r)}}var z0=null;function iE(e,t,r,o){if(z0=null,e=n2(o),e=Jc(e),e!==null)if(t=Fu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=H7(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return z0=e,null}function r$(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lle()){case r2:return 1;case K7:return 4;case L0:case cle:return 16;case Y7:return 536870912;default:return 16}default:return 16}}var Il=null,a2=null,e0=null;function o$(){if(e0)return e0;var e,t=a2,r=t.length,o,s="value"in Il?Il.value:Il.textContent,c=s.length;for(e=0;e<r&&t[e]===s[e];e++);var d=r-e;for(o=1;o<=d&&t[r-o]===s[c-o];o++);return e0=s.slice(e,1<o?1-o:void 0)}function t0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function dv(){return!0}function UL(){return!1}function pi(e){function t(r,o,s,c,d){this._reactName=r,this._targetInst=s,this.type=o,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(r=e[m],this[m]=r?r(c):c[m]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?dv:UL,this.isPropagationStopped=UL,this}return Ln(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=dv)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=dv)},persist:function(){},isPersistent:dv}),t}var dp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},l2=pi(dp),Bg=Ln({},dp,{view:0,detail:0}),_le=pi(Bg),k1,v1,Af,ny=Ln({},Bg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Af&&(Af&&e.type==="mousemove"?(k1=e.screenX-Af.screenX,v1=e.screenY-Af.screenY):v1=k1=0,Af=e),k1)},movementY:function(e){return"movementY"in e?e.movementY:v1}}),HL=pi(ny),Cle=Ln({},ny,{dataTransfer:0}),Ale=pi(Cle),xle=Ln({},Bg,{relatedTarget:0}),w1=pi(xle),Ele=Ln({},dp,{animationName:0,elapsedTime:0,pseudoElement:0}),Sle=pi(Ele),Dle=Ln({},dp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tle=pi(Dle),Ile=Ln({},dp,{data:0}),WL=pi(Ile),Mle={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ple={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nle={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rle(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Nle[e])?!!t[e]:!1}function c2(){return Rle}var Ole=Ln({},Bg,{key:function(e){if(e.key){var t=Mle[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=t0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ple[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c2,charCode:function(e){return e.type==="keypress"?t0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?t0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ble=pi(Ole),Lle=Ln({},ny,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qL=pi(Lle),jle=Ln({},Bg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c2}),Fle=pi(jle),zle=Ln({},dp,{propertyName:0,elapsedTime:0,pseudoElement:0}),$le=pi(zle),Vle=Ln({},ny,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ule=pi(Vle),Hle=[9,13,27,32],u2=Va&&"CompositionEvent"in window,um=null;Va&&"documentMode"in document&&(um=document.documentMode);var Wle=Va&&"TextEvent"in window&&!um,i$=Va&&(!u2||um&&8<um&&11>=um),GL=" ",KL=!1;function s$(e,t){switch(e){case"keyup":return Hle.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a$(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yd=!1;function qle(e,t){switch(e){case"compositionend":return a$(t);case"keypress":return t.which!==32?null:(KL=!0,GL);case"textInput":return e=t.data,e===GL&&KL?null:e;default:return null}}function Gle(e,t){if(Yd)return e==="compositionend"||!u2&&s$(e,t)?(e=o$(),e0=a2=Il=null,Yd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return i$&&t.locale!=="ko"?null:t.data;default:return null}}var Kle={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function YL(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Kle[e.type]:t==="textarea"}function l$(e,t,r,o){F7(o),t=$0(t,"onChange"),0<t.length&&(r=new l2("onChange","change",null,r,o),e.push({event:r,listeners:t}))}var dm=null,zm=null;function Yle(e){v$(e,0)}function ry(e){var t=Jd(e);if(P7(t))return e}function Qle(e,t){if(e==="change")return t}var c$=!1;if(Va){var y1;if(Va){var _1="oninput"in document;if(!_1){var QL=document.createElement("div");QL.setAttribute("oninput","return;"),_1=typeof QL.oninput=="function"}y1=_1}else y1=!1;c$=y1&&(!document.documentMode||9<document.documentMode)}function ZL(){dm&&(dm.detachEvent("onpropertychange",u$),zm=dm=null)}function u$(e){if(e.propertyName==="value"&&ry(zm)){var t=[];l$(t,zm,e,n2(e)),U7(Yle,t)}}function Zle(e,t,r){e==="focusin"?(ZL(),dm=t,zm=r,dm.attachEvent("onpropertychange",u$)):e==="focusout"&&ZL()}function Jle(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ry(zm)}function Xle(e,t){if(e==="click")return ry(t)}function ece(e,t){if(e==="input"||e==="change")return ry(t)}function tce(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var us=typeof Object.is=="function"?Object.is:tce;function $m(e,t){if(us(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var s=r[o];if(!$x.call(t,s)||!us(e[s],t[s]))return!1}return!0}function JL(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function XL(e,t){var r=JL(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=t&&o>=t)return{node:r,offset:t-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=JL(r)}}function d$(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?d$(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function h$(){for(var e=window,t=R0();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=R0(e.document)}return t}function d2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nce(e){var t=h$(),r=e.focusedElem,o=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&d$(r.ownerDocument.documentElement,r)){if(o!==null&&d2(r)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,c=Math.min(o.start,s);o=o.end===void 0?c:Math.min(o.end,s),!e.extend&&c>o&&(s=o,o=c,c=s),s=XL(r,c);var d=XL(r,o);s&&d&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),c>o?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rce=Va&&"documentMode"in document&&11>=document.documentMode,Qd=null,sE=null,hm=null,aE=!1;function ej(e,t,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;aE||Qd==null||Qd!==R0(o)||(o=Qd,"selectionStart"in o&&d2(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),hm&&$m(hm,o)||(hm=o,o=$0(sE,"onSelect"),0<o.length&&(t=new l2("onSelect","select",null,t,r),e.push({event:t,listeners:o}),t.target=Qd)))}function hv(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Zd={animationend:hv("Animation","AnimationEnd"),animationiteration:hv("Animation","AnimationIteration"),animationstart:hv("Animation","AnimationStart"),transitionend:hv("Transition","TransitionEnd")},C1={},p$={};Va&&(p$=document.createElement("div").style,"AnimationEvent"in window||(delete Zd.animationend.animation,delete Zd.animationiteration.animation,delete Zd.animationstart.animation),"TransitionEvent"in window||delete Zd.transitionend.transition);function oy(e){if(C1[e])return C1[e];if(!Zd[e])return e;var t=Zd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in p$)return C1[e]=t[r];return e}var f$=oy("animationend"),m$=oy("animationiteration"),g$=oy("animationstart"),b$=oy("transitionend"),k$=new Map,tj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sc(e,t){k$.set(e,t),ju(t,[e])}for(var A1=0;A1<tj.length;A1++){var x1=tj[A1],oce=x1.toLowerCase(),ice=x1[0].toUpperCase()+x1.slice(1);sc(oce,"on"+ice)}sc(f$,"onAnimationEnd");sc(m$,"onAnimationIteration");sc(g$,"onAnimationStart");sc("dblclick","onDoubleClick");sc("focusin","onFocus");sc("focusout","onBlur");sc(b$,"onTransitionEnd");Sh("onMouseEnter",["mouseout","mouseover"]);Sh("onMouseLeave",["mouseout","mouseover"]);Sh("onPointerEnter",["pointerout","pointerover"]);Sh("onPointerLeave",["pointerout","pointerover"]);ju("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ju("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ju("onBeforeInput",["compositionend","keypress","textInput","paste"]);ju("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ju("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ju("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sce=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qf));function nj(e,t,r){var o=e.type||"unknown-event";e.currentTarget=r,ole(o,t,void 0,e),e.currentTarget=null}function v$(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],s=o.event;o=o.listeners;e:{var c=void 0;if(t)for(var d=o.length-1;0<=d;d--){var m=o[d],f=m.instance,k=m.currentTarget;if(m=m.listener,f!==c&&s.isPropagationStopped())break e;nj(s,m,k),c=f}else for(d=0;d<o.length;d++){if(m=o[d],f=m.instance,k=m.currentTarget,m=m.listener,f!==c&&s.isPropagationStopped())break e;nj(s,m,k),c=f}}}if(B0)throw e=nE,B0=!1,nE=null,e}function yn(e,t){var r=t[hE];r===void 0&&(r=t[hE]=new Set);var o=e+"__bubble";r.has(o)||(w$(t,e,2,!1),r.add(o))}function E1(e,t,r){var o=0;t&&(o|=4),w$(r,e,o,t)}var pv="_reactListening"+Math.random().toString(36).slice(2);function Vm(e){if(!e[pv]){e[pv]=!0,S7.forEach(function(r){r!=="selectionchange"&&(sce.has(r)||E1(r,!1,e),E1(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pv]||(t[pv]=!0,E1("selectionchange",!1,t))}}function w$(e,t,r,o){switch(r$(t)){case 1:var s=wle;break;case 4:s=yle;break;default:s=s2}r=s.bind(null,t,r,e),s=void 0,!tE||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),o?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function S1(e,t,r,o,s){var c=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var d=o.tag;if(d===3||d===4){var m=o.stateNode.containerInfo;if(m===s||m.nodeType===8&&m.parentNode===s)break;if(d===4)for(d=o.return;d!==null;){var f=d.tag;if((f===3||f===4)&&(f=d.stateNode.containerInfo,f===s||f.nodeType===8&&f.parentNode===s))return;d=d.return}for(;m!==null;){if(d=Jc(m),d===null)return;if(f=d.tag,f===5||f===6){o=c=d;continue e}m=m.parentNode}}o=o.return}U7(function(){var k=c,v=n2(r),_=[];e:{var y=k$.get(e);if(y!==void 0){var A=l2,D=e;switch(e){case"keypress":if(t0(r)===0)break e;case"keydown":case"keyup":A=Ble;break;case"focusin":D="focus",A=w1;break;case"focusout":D="blur",A=w1;break;case"beforeblur":case"afterblur":A=w1;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=HL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=Ale;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=Fle;break;case f$:case m$:case g$:A=Sle;break;case b$:A=$le;break;case"scroll":A=_le;break;case"wheel":A=Ule;break;case"copy":case"cut":case"paste":A=Tle;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=qL}var S=(t&4)!==0,I=!S&&e==="scroll",T=S?y!==null?y+"Capture":null:y;S=[];for(var P=k,N;P!==null;){N=P;var j=N.stateNode;if(N.tag===5&&j!==null&&(N=j,T!==null&&(j=Bm(P,T),j!=null&&S.push(Um(P,j,N)))),I)break;P=P.return}0<S.length&&(y=new A(y,D,null,r,v),_.push({event:y,listeners:S}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",A=e==="mouseout"||e==="pointerout",y&&r!==Xx&&(D=r.relatedTarget||r.fromElement)&&(Jc(D)||D[Ua]))break e;if((A||y)&&(y=v.window===v?v:(y=v.ownerDocument)?y.defaultView||y.parentWindow:window,A?(D=r.relatedTarget||r.toElement,A=k,D=D?Jc(D):null,D!==null&&(I=Fu(D),D!==I||D.tag!==5&&D.tag!==6)&&(D=null)):(A=null,D=k),A!==D)){if(S=HL,j="onMouseLeave",T="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(S=qL,j="onPointerLeave",T="onPointerEnter",P="pointer"),I=A==null?y:Jd(A),N=D==null?y:Jd(D),y=new S(j,P+"leave",A,r,v),y.target=I,y.relatedTarget=N,j=null,Jc(v)===k&&(S=new S(T,P+"enter",D,r,v),S.target=N,S.relatedTarget=I,j=S),I=j,A&&D)t:{for(S=A,T=D,P=0,N=S;N;N=Pd(N))P++;for(N=0,j=T;j;j=Pd(j))N++;for(;0<P-N;)S=Pd(S),P--;for(;0<N-P;)T=Pd(T),N--;for(;P--;){if(S===T||T!==null&&S===T.alternate)break t;S=Pd(S),T=Pd(T)}S=null}else S=null;A!==null&&rj(_,y,A,S,!1),D!==null&&I!==null&&rj(_,I,D,S,!0)}}e:{if(y=k?Jd(k):window,A=y.nodeName&&y.nodeName.toLowerCase(),A==="select"||A==="input"&&y.type==="file")var $=Qle;else if(YL(y))if(c$)$=ece;else{$=Jle;var U=Zle}else(A=y.nodeName)&&A.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&($=Xle);if($&&($=$(e,k))){l$(_,$,r,v);break e}U&&U(e,y,k),e==="focusout"&&(U=y._wrapperState)&&U.controlled&&y.type==="number"&&Kx(y,"number",y.value)}switch(U=k?Jd(k):window,e){case"focusin":(YL(U)||U.contentEditable==="true")&&(Qd=U,sE=k,hm=null);break;case"focusout":hm=sE=Qd=null;break;case"mousedown":aE=!0;break;case"contextmenu":case"mouseup":case"dragend":aE=!1,ej(_,r,v);break;case"selectionchange":if(rce)break;case"keydown":case"keyup":ej(_,r,v)}var R;if(u2)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Yd?s$(e,r)&&(z="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(z="onCompositionStart");z&&(i$&&r.locale!=="ko"&&(Yd||z!=="onCompositionStart"?z==="onCompositionEnd"&&Yd&&(R=o$()):(Il=v,a2="value"in Il?Il.value:Il.textContent,Yd=!0)),U=$0(k,z),0<U.length&&(z=new WL(z,e,null,r,v),_.push({event:z,listeners:U}),R?z.data=R:(R=a$(r),R!==null&&(z.data=R)))),(R=Wle?qle(e,r):Gle(e,r))&&(k=$0(k,"onBeforeInput"),0<k.length&&(v=new WL("onBeforeInput","beforeinput",null,r,v),_.push({event:v,listeners:k}),v.data=R))}v$(_,t)})}function Um(e,t,r){return{instance:e,listener:t,currentTarget:r}}function $0(e,t){for(var r=t+"Capture",o=[];e!==null;){var s=e,c=s.stateNode;s.tag===5&&c!==null&&(s=c,c=Bm(e,r),c!=null&&o.unshift(Um(e,c,s)),c=Bm(e,t),c!=null&&o.push(Um(e,c,s))),e=e.return}return o}function Pd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rj(e,t,r,o,s){for(var c=t._reactName,d=[];r!==null&&r!==o;){var m=r,f=m.alternate,k=m.stateNode;if(f!==null&&f===o)break;m.tag===5&&k!==null&&(m=k,s?(f=Bm(r,c),f!=null&&d.unshift(Um(r,f,m))):s||(f=Bm(r,c),f!=null&&d.push(Um(r,f,m)))),r=r.return}d.length!==0&&e.push({event:t,listeners:d})}var ace=/\r\n?/g,lce=/\u0000|\uFFFD/g;function oj(e){return(typeof e=="string"?e:""+e).replace(ace,`
`).replace(lce,"")}function fv(e,t,r){if(t=oj(t),oj(e)!==t&&r)throw Error(ye(425))}function V0(){}var lE=null,cE=null;function uE(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dE=typeof setTimeout=="function"?setTimeout:void 0,cce=typeof clearTimeout=="function"?clearTimeout:void 0,ij=typeof Promise=="function"?Promise:void 0,uce=typeof queueMicrotask=="function"?queueMicrotask:typeof ij<"u"?function(e){return ij.resolve(null).then(e).catch(dce)}:dE;function dce(e){setTimeout(function(){throw e})}function D1(e,t){var r=t,o=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(o===0){e.removeChild(s),Fm(t);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=s}while(r);Fm(t)}function zl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sj(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var hp=Math.random().toString(36).slice(2),Rs="__reactFiber$"+hp,Hm="__reactProps$"+hp,Ua="__reactContainer$"+hp,hE="__reactEvents$"+hp,hce="__reactListeners$"+hp,pce="__reactHandles$"+hp;function Jc(e){var t=e[Rs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ua]||r[Rs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=sj(e);e!==null;){if(r=e[Rs])return r;e=sj(e)}return t}e=r,r=e.parentNode}return null}function Lg(e){return e=e[Rs]||e[Ua],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ye(33))}function iy(e){return e[Hm]||null}var pE=[],Xd=-1;function ac(e){return{current:e}}function xn(e){0>Xd||(e.current=pE[Xd],pE[Xd]=null,Xd--)}function vn(e,t){Xd++,pE[Xd]=e.current,e.current=t}var Zl={},so=ac(Zl),jo=ac(!1),ku=Zl;function Dh(e,t){var r=e.type.contextTypes;if(!r)return Zl;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var s={},c;for(c in r)s[c]=t[c];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Fo(e){return e=e.childContextTypes,e!=null}function U0(){xn(jo),xn(so)}function aj(e,t,r){if(so.current!==Zl)throw Error(ye(168));vn(so,t),vn(jo,r)}function y$(e,t,r){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return r;o=o.getChildContext();for(var s in o)if(!(s in t))throw Error(ye(108,Zae(e)||"Unknown",s));return Ln({},r,o)}function H0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zl,ku=so.current,vn(so,e),vn(jo,jo.current),!0}function lj(e,t,r){var o=e.stateNode;if(!o)throw Error(ye(169));r?(e=y$(e,t,ku),o.__reactInternalMemoizedMergedChildContext=e,xn(jo),xn(so),vn(so,e)):xn(jo),vn(jo,r)}var xa=null,sy=!1,T1=!1;function _$(e){xa===null?xa=[e]:xa.push(e)}function fce(e){sy=!0,_$(e)}function lc(){if(!T1&&xa!==null){T1=!0;var e=0,t=rn;try{var r=xa;for(rn=1;e<r.length;e++){var o=r[e];do o=o(!0);while(o!==null)}xa=null,sy=!1}catch(s){throw xa!==null&&(xa=xa.slice(e+1)),G7(r2,lc),s}finally{rn=t,T1=!1}}return null}var eh=[],th=0,W0=null,q0=0,Di=[],Ti=0,vu=null,Ia=1,Ma="";function qc(e,t){eh[th++]=q0,eh[th++]=W0,W0=e,q0=t}function C$(e,t,r){Di[Ti++]=Ia,Di[Ti++]=Ma,Di[Ti++]=vu,vu=e;var o=Ia;e=Ma;var s=32-ls(o)-1;o&=~(1<<s),r+=1;var c=32-ls(t)+s;if(30<c){var d=s-s%5;c=(o&(1<<d)-1).toString(32),o>>=d,s-=d,Ia=1<<32-ls(t)+s|r<<s|o,Ma=c+e}else Ia=1<<c|r<<s|o,Ma=e}function h2(e){e.return!==null&&(qc(e,1),C$(e,1,0))}function p2(e){for(;e===W0;)W0=eh[--th],eh[th]=null,q0=eh[--th],eh[th]=null;for(;e===vu;)vu=Di[--Ti],Di[Ti]=null,Ma=Di[--Ti],Di[Ti]=null,Ia=Di[--Ti],Di[Ti]=null}var ii=null,ni=null,Mn=!1,ss=null;function A$(e,t){var r=Ni(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function cj(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ii=e,ni=zl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ii=e,ni=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=vu!==null?{id:Ia,overflow:Ma}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ni(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ii=e,ni=null,!0):!1;default:return!1}}function fE(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mE(e){if(Mn){var t=ni;if(t){var r=t;if(!cj(e,t)){if(fE(e))throw Error(ye(418));t=zl(r.nextSibling);var o=ii;t&&cj(e,t)?A$(o,r):(e.flags=e.flags&-4097|2,Mn=!1,ii=e)}}else{if(fE(e))throw Error(ye(418));e.flags=e.flags&-4097|2,Mn=!1,ii=e}}}function uj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ii=e}function mv(e){if(e!==ii)return!1;if(!Mn)return uj(e),Mn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!uE(e.type,e.memoizedProps)),t&&(t=ni)){if(fE(e))throw x$(),Error(ye(418));for(;t;)A$(e,t),t=zl(t.nextSibling)}if(uj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ye(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ni=zl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ni=null}}else ni=ii?zl(e.stateNode.nextSibling):null;return!0}function x$(){for(var e=ni;e;)e=zl(e.nextSibling)}function Th(){ni=ii=null,Mn=!1}function f2(e){ss===null?ss=[e]:ss.push(e)}var mce=rl.ReactCurrentBatchConfig;function xf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ye(309));var o=r.stateNode}if(!o)throw Error(ye(147,e));var s=o,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(d){var m=s.refs;d===null?delete m[c]:m[c]=d},t._stringRef=c,t)}if(typeof e!="string")throw Error(ye(284));if(!r._owner)throw Error(ye(290,e))}return e}function gv(e,t){throw e=Object.prototype.toString.call(t),Error(ye(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function dj(e){var t=e._init;return t(e._payload)}function E$(e){function t(T,P){if(e){var N=T.deletions;N===null?(T.deletions=[P],T.flags|=16):N.push(P)}}function r(T,P){if(!e)return null;for(;P!==null;)t(T,P),P=P.sibling;return null}function o(T,P){for(T=new Map;P!==null;)P.key!==null?T.set(P.key,P):T.set(P.index,P),P=P.sibling;return T}function s(T,P){return T=Hl(T,P),T.index=0,T.sibling=null,T}function c(T,P,N){return T.index=N,e?(N=T.alternate,N!==null?(N=N.index,N<P?(T.flags|=2,P):N):(T.flags|=2,P)):(T.flags|=1048576,P)}function d(T){return e&&T.alternate===null&&(T.flags|=2),T}function m(T,P,N,j){return P===null||P.tag!==6?(P=B1(N,T.mode,j),P.return=T,P):(P=s(P,N),P.return=T,P)}function f(T,P,N,j){var $=N.type;return $===Kd?v(T,P,N.props.children,j,N.key):P!==null&&(P.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===yl&&dj($)===P.type)?(j=s(P,N.props),j.ref=xf(T,P,N),j.return=T,j):(j=l0(N.type,N.key,N.props,null,T.mode,j),j.ref=xf(T,P,N),j.return=T,j)}function k(T,P,N,j){return P===null||P.tag!==4||P.stateNode.containerInfo!==N.containerInfo||P.stateNode.implementation!==N.implementation?(P=L1(N,T.mode,j),P.return=T,P):(P=s(P,N.children||[]),P.return=T,P)}function v(T,P,N,j,$){return P===null||P.tag!==7?(P=lu(N,T.mode,j,$),P.return=T,P):(P=s(P,N),P.return=T,P)}function _(T,P,N){if(typeof P=="string"&&P!==""||typeof P=="number")return P=B1(""+P,T.mode,N),P.return=T,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case iv:return N=l0(P.type,P.key,P.props,null,T.mode,N),N.ref=xf(T,null,P),N.return=T,N;case Gd:return P=L1(P,T.mode,N),P.return=T,P;case yl:var j=P._init;return _(T,j(P._payload),N)}if(Kf(P)||wf(P))return P=lu(P,T.mode,N,null),P.return=T,P;gv(T,P)}return null}function y(T,P,N,j){var $=P!==null?P.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return $!==null?null:m(T,P,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case iv:return N.key===$?f(T,P,N,j):null;case Gd:return N.key===$?k(T,P,N,j):null;case yl:return $=N._init,y(T,P,$(N._payload),j)}if(Kf(N)||wf(N))return $!==null?null:v(T,P,N,j,null);gv(T,N)}return null}function A(T,P,N,j,$){if(typeof j=="string"&&j!==""||typeof j=="number")return T=T.get(N)||null,m(P,T,""+j,$);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case iv:return T=T.get(j.key===null?N:j.key)||null,f(P,T,j,$);case Gd:return T=T.get(j.key===null?N:j.key)||null,k(P,T,j,$);case yl:var U=j._init;return A(T,P,N,U(j._payload),$)}if(Kf(j)||wf(j))return T=T.get(N)||null,v(P,T,j,$,null);gv(P,j)}return null}function D(T,P,N,j){for(var $=null,U=null,R=P,z=P=0,W=null;R!==null&&z<N.length;z++){R.index>z?(W=R,R=null):W=R.sibling;var q=y(T,R,N[z],j);if(q===null){R===null&&(R=W);break}e&&R&&q.alternate===null&&t(T,R),P=c(q,P,z),U===null?$=q:U.sibling=q,U=q,R=W}if(z===N.length)return r(T,R),Mn&&qc(T,z),$;if(R===null){for(;z<N.length;z++)R=_(T,N[z],j),R!==null&&(P=c(R,P,z),U===null?$=R:U.sibling=R,U=R);return Mn&&qc(T,z),$}for(R=o(T,R);z<N.length;z++)W=A(R,T,z,N[z],j),W!==null&&(e&&W.alternate!==null&&R.delete(W.key===null?z:W.key),P=c(W,P,z),U===null?$=W:U.sibling=W,U=W);return e&&R.forEach(function(Y){return t(T,Y)}),Mn&&qc(T,z),$}function S(T,P,N,j){var $=wf(N);if(typeof $!="function")throw Error(ye(150));if(N=$.call(N),N==null)throw Error(ye(151));for(var U=$=null,R=P,z=P=0,W=null,q=N.next();R!==null&&!q.done;z++,q=N.next()){R.index>z?(W=R,R=null):W=R.sibling;var Y=y(T,R,q.value,j);if(Y===null){R===null&&(R=W);break}e&&R&&Y.alternate===null&&t(T,R),P=c(Y,P,z),U===null?$=Y:U.sibling=Y,U=Y,R=W}if(q.done)return r(T,R),Mn&&qc(T,z),$;if(R===null){for(;!q.done;z++,q=N.next())q=_(T,q.value,j),q!==null&&(P=c(q,P,z),U===null?$=q:U.sibling=q,U=q);return Mn&&qc(T,z),$}for(R=o(T,R);!q.done;z++,q=N.next())q=A(R,T,z,q.value,j),q!==null&&(e&&q.alternate!==null&&R.delete(q.key===null?z:q.key),P=c(q,P,z),U===null?$=q:U.sibling=q,U=q);return e&&R.forEach(function(Z){return t(T,Z)}),Mn&&qc(T,z),$}function I(T,P,N,j){if(typeof N=="object"&&N!==null&&N.type===Kd&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case iv:e:{for(var $=N.key,U=P;U!==null;){if(U.key===$){if($=N.type,$===Kd){if(U.tag===7){r(T,U.sibling),P=s(U,N.props.children),P.return=T,T=P;break e}}else if(U.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===yl&&dj($)===U.type){r(T,U.sibling),P=s(U,N.props),P.ref=xf(T,U,N),P.return=T,T=P;break e}r(T,U);break}else t(T,U);U=U.sibling}N.type===Kd?(P=lu(N.props.children,T.mode,j,N.key),P.return=T,T=P):(j=l0(N.type,N.key,N.props,null,T.mode,j),j.ref=xf(T,P,N),j.return=T,T=j)}return d(T);case Gd:e:{for(U=N.key;P!==null;){if(P.key===U)if(P.tag===4&&P.stateNode.containerInfo===N.containerInfo&&P.stateNode.implementation===N.implementation){r(T,P.sibling),P=s(P,N.children||[]),P.return=T,T=P;break e}else{r(T,P);break}else t(T,P);P=P.sibling}P=L1(N,T.mode,j),P.return=T,T=P}return d(T);case yl:return U=N._init,I(T,P,U(N._payload),j)}if(Kf(N))return D(T,P,N,j);if(wf(N))return S(T,P,N,j);gv(T,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,P!==null&&P.tag===6?(r(T,P.sibling),P=s(P,N),P.return=T,T=P):(r(T,P),P=B1(N,T.mode,j),P.return=T,T=P),d(T)):r(T,P)}return I}var Ih=E$(!0),S$=E$(!1),G0=ac(null),K0=null,nh=null,m2=null;function g2(){m2=nh=K0=null}function b2(e){var t=G0.current;xn(G0),e._currentValue=t}function gE(e,t,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===r)break;e=e.return}}function hh(e,t){K0=e,m2=nh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Lo=!0),e.firstContext=null)}function Li(e){var t=e._currentValue;if(m2!==e)if(e={context:e,memoizedValue:t,next:null},nh===null){if(K0===null)throw Error(ye(308));nh=e,K0.dependencies={lanes:0,firstContext:e}}else nh=nh.next=e;return t}var Xc=null;function k2(e){Xc===null?Xc=[e]:Xc.push(e)}function D$(e,t,r,o){var s=t.interleaved;return s===null?(r.next=r,k2(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ha(e,o)}function Ha(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var _l=!1;function v2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function T$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $l(e,t,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,Vt&2){var s=o.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),o.pending=t,Ha(e,r)}return s=o.interleaved,s===null?(t.next=t,k2(o)):(t.next=s.next,s.next=t),o.interleaved=t,Ha(e,r)}function n0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,o2(e,r)}}function hj(e,t){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var s=null,c=null;if(r=r.firstBaseUpdate,r!==null){do{var d={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};c===null?s=c=d:c=c.next=d,r=r.next}while(r!==null);c===null?s=c=t:c=c.next=t}else s=c=t;r={baseState:o.baseState,firstBaseUpdate:s,lastBaseUpdate:c,shared:o.shared,effects:o.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Y0(e,t,r,o){var s=e.updateQueue;_l=!1;var c=s.firstBaseUpdate,d=s.lastBaseUpdate,m=s.shared.pending;if(m!==null){s.shared.pending=null;var f=m,k=f.next;f.next=null,d===null?c=k:d.next=k,d=f;var v=e.alternate;v!==null&&(v=v.updateQueue,m=v.lastBaseUpdate,m!==d&&(m===null?v.firstBaseUpdate=k:m.next=k,v.lastBaseUpdate=f))}if(c!==null){var _=s.baseState;d=0,v=k=f=null,m=c;do{var y=m.lane,A=m.eventTime;if((o&y)===y){v!==null&&(v=v.next={eventTime:A,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var D=e,S=m;switch(y=t,A=r,S.tag){case 1:if(D=S.payload,typeof D=="function"){_=D.call(A,_,y);break e}_=D;break e;case 3:D.flags=D.flags&-65537|128;case 0:if(D=S.payload,y=typeof D=="function"?D.call(A,_,y):D,y==null)break e;_=Ln({},_,y);break e;case 2:_l=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,y=s.effects,y===null?s.effects=[m]:y.push(m))}else A={eventTime:A,lane:y,tag:m.tag,payload:m.payload,callback:m.callback,next:null},v===null?(k=v=A,f=_):v=v.next=A,d|=y;if(m=m.next,m===null){if(m=s.shared.pending,m===null)break;y=m,m=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(v===null&&(f=_),s.baseState=f,s.firstBaseUpdate=k,s.lastBaseUpdate=v,t=s.shared.interleaved,t!==null){s=t;do d|=s.lane,s=s.next;while(s!==t)}else c===null&&(s.shared.lanes=0);yu|=d,e.lanes=d,e.memoizedState=_}}function pj(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],s=o.callback;if(s!==null){if(o.callback=null,o=r,typeof s!="function")throw Error(ye(191,s));s.call(o)}}}var jg={},Us=ac(jg),Wm=ac(jg),qm=ac(jg);function eu(e){if(e===jg)throw Error(ye(174));return e}function w2(e,t){switch(vn(qm,t),vn(Wm,e),vn(Us,jg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qx(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qx(t,e)}xn(Us),vn(Us,t)}function Mh(){xn(Us),xn(Wm),xn(qm)}function I$(e){eu(qm.current);var t=eu(Us.current),r=Qx(t,e.type);t!==r&&(vn(Wm,e),vn(Us,r))}function y2(e){Wm.current===e&&(xn(Us),xn(Wm))}var Rn=ac(0);function Q0(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var I1=[];function _2(){for(var e=0;e<I1.length;e++)I1[e]._workInProgressVersionPrimary=null;I1.length=0}var r0=rl.ReactCurrentDispatcher,M1=rl.ReactCurrentBatchConfig,wu=0,Bn=null,vr=null,Tr=null,Z0=!1,pm=!1,Gm=0,gce=0;function Kr(){throw Error(ye(321))}function C2(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!us(e[r],t[r]))return!1;return!0}function A2(e,t,r,o,s,c){if(wu=c,Bn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,r0.current=e===null||e.memoizedState===null?wce:yce,e=r(o,s),pm){c=0;do{if(pm=!1,Gm=0,25<=c)throw Error(ye(301));c+=1,Tr=vr=null,t.updateQueue=null,r0.current=_ce,e=r(o,s)}while(pm)}if(r0.current=J0,t=vr!==null&&vr.next!==null,wu=0,Tr=vr=Bn=null,Z0=!1,t)throw Error(ye(300));return e}function x2(){var e=Gm!==0;return Gm=0,e}function Ds(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tr===null?Bn.memoizedState=Tr=e:Tr=Tr.next=e,Tr}function ji(){if(vr===null){var e=Bn.alternate;e=e!==null?e.memoizedState:null}else e=vr.next;var t=Tr===null?Bn.memoizedState:Tr.next;if(t!==null)Tr=t,vr=e;else{if(e===null)throw Error(ye(310));vr=e,e={memoizedState:vr.memoizedState,baseState:vr.baseState,baseQueue:vr.baseQueue,queue:vr.queue,next:null},Tr===null?Bn.memoizedState=Tr=e:Tr=Tr.next=e}return Tr}function Km(e,t){return typeof t=="function"?t(e):t}function P1(e){var t=ji(),r=t.queue;if(r===null)throw Error(ye(311));r.lastRenderedReducer=e;var o=vr,s=o.baseQueue,c=r.pending;if(c!==null){if(s!==null){var d=s.next;s.next=c.next,c.next=d}o.baseQueue=s=c,r.pending=null}if(s!==null){c=s.next,o=o.baseState;var m=d=null,f=null,k=c;do{var v=k.lane;if((wu&v)===v)f!==null&&(f=f.next={lane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),o=k.hasEagerState?k.eagerState:e(o,k.action);else{var _={lane:v,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null};f===null?(m=f=_,d=o):f=f.next=_,Bn.lanes|=v,yu|=v}k=k.next}while(k!==null&&k!==c);f===null?d=o:f.next=m,us(o,t.memoizedState)||(Lo=!0),t.memoizedState=o,t.baseState=d,t.baseQueue=f,r.lastRenderedState=o}if(e=r.interleaved,e!==null){s=e;do c=s.lane,Bn.lanes|=c,yu|=c,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function N1(e){var t=ji(),r=t.queue;if(r===null)throw Error(ye(311));r.lastRenderedReducer=e;var o=r.dispatch,s=r.pending,c=t.memoizedState;if(s!==null){r.pending=null;var d=s=s.next;do c=e(c,d.action),d=d.next;while(d!==s);us(c,t.memoizedState)||(Lo=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),r.lastRenderedState=c}return[c,o]}function M$(){}function P$(e,t){var r=Bn,o=ji(),s=t(),c=!us(o.memoizedState,s);if(c&&(o.memoizedState=s,Lo=!0),o=o.queue,E2(O$.bind(null,r,o,e),[e]),o.getSnapshot!==t||c||Tr!==null&&Tr.memoizedState.tag&1){if(r.flags|=2048,Ym(9,R$.bind(null,r,o,s,t),void 0,null),Ir===null)throw Error(ye(349));wu&30||N$(r,t,s)}return s}function N$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Bn.updateQueue,t===null?(t={lastEffect:null,stores:null},Bn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function R$(e,t,r,o){t.value=r,t.getSnapshot=o,B$(t)&&L$(e)}function O$(e,t,r){return r(function(){B$(t)&&L$(e)})}function B$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!us(e,r)}catch{return!0}}function L$(e){var t=Ha(e,1);t!==null&&cs(t,e,1,-1)}function fj(e){var t=Ds();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Km,lastRenderedState:e},t.queue=e,e=e.dispatch=vce.bind(null,Bn,e),[t.memoizedState,e]}function Ym(e,t,r,o){return e={tag:e,create:t,destroy:r,deps:o,next:null},t=Bn.updateQueue,t===null?(t={lastEffect:null,stores:null},Bn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,t.lastEffect=e)),e}function j$(){return ji().memoizedState}function o0(e,t,r,o){var s=Ds();Bn.flags|=e,s.memoizedState=Ym(1|t,r,void 0,o===void 0?null:o)}function ay(e,t,r,o){var s=ji();o=o===void 0?null:o;var c=void 0;if(vr!==null){var d=vr.memoizedState;if(c=d.destroy,o!==null&&C2(o,d.deps)){s.memoizedState=Ym(t,r,c,o);return}}Bn.flags|=e,s.memoizedState=Ym(1|t,r,c,o)}function mj(e,t){return o0(8390656,8,e,t)}function E2(e,t){return ay(2048,8,e,t)}function F$(e,t){return ay(4,2,e,t)}function z$(e,t){return ay(4,4,e,t)}function $$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function V$(e,t,r){return r=r!=null?r.concat([e]):null,ay(4,4,$$.bind(null,t,e),r)}function S2(){}function U$(e,t){var r=ji();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&C2(t,o[1])?o[0]:(r.memoizedState=[e,t],e)}function H$(e,t){var r=ji();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&C2(t,o[1])?o[0]:(e=e(),r.memoizedState=[e,t],e)}function W$(e,t,r){return wu&21?(us(r,t)||(r=Q7(),Bn.lanes|=r,yu|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Lo=!0),e.memoizedState=r)}function bce(e,t){var r=rn;rn=r!==0&&4>r?r:4,e(!0);var o=M1.transition;M1.transition={};try{e(!1),t()}finally{rn=r,M1.transition=o}}function q$(){return ji().memoizedState}function kce(e,t,r){var o=Ul(e);if(r={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null},G$(e))K$(t,r);else if(r=D$(e,t,r,o),r!==null){var s=vo();cs(r,e,o,s),Y$(r,t,o)}}function vce(e,t,r){var o=Ul(e),s={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null};if(G$(e))K$(t,s);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var d=t.lastRenderedState,m=c(d,r);if(s.hasEagerState=!0,s.eagerState=m,us(m,d)){var f=t.interleaved;f===null?(s.next=s,k2(t)):(s.next=f.next,f.next=s),t.interleaved=s;return}}catch{}finally{}r=D$(e,t,s,o),r!==null&&(s=vo(),cs(r,e,o,s),Y$(r,t,o))}}function G$(e){var t=e.alternate;return e===Bn||t!==null&&t===Bn}function K$(e,t){pm=Z0=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Y$(e,t,r){if(r&4194240){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,o2(e,r)}}var J0={readContext:Li,useCallback:Kr,useContext:Kr,useEffect:Kr,useImperativeHandle:Kr,useInsertionEffect:Kr,useLayoutEffect:Kr,useMemo:Kr,useReducer:Kr,useRef:Kr,useState:Kr,useDebugValue:Kr,useDeferredValue:Kr,useTransition:Kr,useMutableSource:Kr,useSyncExternalStore:Kr,useId:Kr,unstable_isNewReconciler:!1},wce={readContext:Li,useCallback:function(e,t){return Ds().memoizedState=[e,t===void 0?null:t],e},useContext:Li,useEffect:mj,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,o0(4194308,4,$$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return o0(4194308,4,e,t)},useInsertionEffect:function(e,t){return o0(4,2,e,t)},useMemo:function(e,t){var r=Ds();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var o=Ds();return t=r!==void 0?r(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=kce.bind(null,Bn,e),[o.memoizedState,e]},useRef:function(e){var t=Ds();return e={current:e},t.memoizedState=e},useState:fj,useDebugValue:S2,useDeferredValue:function(e){return Ds().memoizedState=e},useTransition:function(){var e=fj(!1),t=e[0];return e=bce.bind(null,e[1]),Ds().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var o=Bn,s=Ds();if(Mn){if(r===void 0)throw Error(ye(407));r=r()}else{if(r=t(),Ir===null)throw Error(ye(349));wu&30||N$(o,t,r)}s.memoizedState=r;var c={value:r,getSnapshot:t};return s.queue=c,mj(O$.bind(null,o,c,e),[e]),o.flags|=2048,Ym(9,R$.bind(null,o,c,r,t),void 0,null),r},useId:function(){var e=Ds(),t=Ir.identifierPrefix;if(Mn){var r=Ma,o=Ia;r=(o&~(1<<32-ls(o)-1)).toString(32)+r,t=":"+t+"R"+r,r=Gm++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=gce++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yce={readContext:Li,useCallback:U$,useContext:Li,useEffect:E2,useImperativeHandle:V$,useInsertionEffect:F$,useLayoutEffect:z$,useMemo:H$,useReducer:P1,useRef:j$,useState:function(){return P1(Km)},useDebugValue:S2,useDeferredValue:function(e){var t=ji();return W$(t,vr.memoizedState,e)},useTransition:function(){var e=P1(Km)[0],t=ji().memoizedState;return[e,t]},useMutableSource:M$,useSyncExternalStore:P$,useId:q$,unstable_isNewReconciler:!1},_ce={readContext:Li,useCallback:U$,useContext:Li,useEffect:E2,useImperativeHandle:V$,useInsertionEffect:F$,useLayoutEffect:z$,useMemo:H$,useReducer:N1,useRef:j$,useState:function(){return N1(Km)},useDebugValue:S2,useDeferredValue:function(e){var t=ji();return vr===null?t.memoizedState=e:W$(t,vr.memoizedState,e)},useTransition:function(){var e=N1(Km)[0],t=ji().memoizedState;return[e,t]},useMutableSource:M$,useSyncExternalStore:P$,useId:q$,unstable_isNewReconciler:!1};function os(e,t){if(e&&e.defaultProps){t=Ln({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function bE(e,t,r,o){t=e.memoizedState,r=r(o,t),r=r==null?t:Ln({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ly={isMounted:function(e){return(e=e._reactInternals)?Fu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var o=vo(),s=Ul(e),c=Oa(o,s);c.payload=t,r!=null&&(c.callback=r),t=$l(e,c,s),t!==null&&(cs(t,e,s,o),n0(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var o=vo(),s=Ul(e),c=Oa(o,s);c.tag=1,c.payload=t,r!=null&&(c.callback=r),t=$l(e,c,s),t!==null&&(cs(t,e,s,o),n0(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=vo(),o=Ul(e),s=Oa(r,o);s.tag=2,t!=null&&(s.callback=t),t=$l(e,s,o),t!==null&&(cs(t,e,o,r),n0(t,e,o))}};function gj(e,t,r,o,s,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,c,d):t.prototype&&t.prototype.isPureReactComponent?!$m(r,o)||!$m(s,c):!0}function Q$(e,t,r){var o=!1,s=Zl,c=t.contextType;return typeof c=="object"&&c!==null?c=Li(c):(s=Fo(t)?ku:so.current,o=t.contextTypes,c=(o=o!=null)?Dh(e,s):Zl),t=new t(r,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ly,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=c),t}function bj(e,t,r,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,o),t.state!==e&&ly.enqueueReplaceState(t,t.state,null)}function kE(e,t,r,o){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},v2(e);var c=t.contextType;typeof c=="object"&&c!==null?s.context=Li(c):(c=Fo(t)?ku:so.current,s.context=Dh(e,c)),s.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(bE(e,t,c,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ly.enqueueReplaceState(s,s.state,null),Y0(e,r,s,o),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ph(e,t){try{var r="",o=t;do r+=Qae(o),o=o.return;while(o);var s=r}catch(c){s=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:s,digest:null}}function R1(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function vE(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Cce=typeof WeakMap=="function"?WeakMap:Map;function Z$(e,t,r){r=Oa(-1,r),r.tag=3,r.payload={element:null};var o=t.value;return r.callback=function(){ew||(ew=!0,TE=o),vE(e,t)},r}function J$(e,t,r){r=Oa(-1,r),r.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var s=t.value;r.payload=function(){return o(s)},r.callback=function(){vE(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(r.callback=function(){vE(e,t),typeof o!="function"&&(Vl===null?Vl=new Set([this]):Vl.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),r}function kj(e,t,r){var o=e.pingCache;if(o===null){o=e.pingCache=new Cce;var s=new Set;o.set(t,s)}else s=o.get(t),s===void 0&&(s=new Set,o.set(t,s));s.has(r)||(s.add(r),e=Lce.bind(null,e,t,r),t.then(e,e))}function vj(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wj(e,t,r,o,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Oa(-1,1),t.tag=2,$l(r,t,1))),r.lanes|=1),e)}var Ace=rl.ReactCurrentOwner,Lo=!1;function fo(e,t,r,o){t.child=e===null?S$(t,null,r,o):Ih(t,e.child,r,o)}function yj(e,t,r,o,s){r=r.render;var c=t.ref;return hh(t,s),o=A2(e,t,r,o,c,s),r=x2(),e!==null&&!Lo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wa(e,t,s)):(Mn&&r&&h2(t),t.flags|=1,fo(e,t,o,s),t.child)}function _j(e,t,r,o,s){if(e===null){var c=r.type;return typeof c=="function"&&!O2(c)&&c.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=c,X$(e,t,c,o,s)):(e=l0(r.type,null,o,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!(e.lanes&s)){var d=c.memoizedProps;if(r=r.compare,r=r!==null?r:$m,r(d,o)&&e.ref===t.ref)return Wa(e,t,s)}return t.flags|=1,e=Hl(c,o),e.ref=t.ref,e.return=t,t.child=e}function X$(e,t,r,o,s){if(e!==null){var c=e.memoizedProps;if($m(c,o)&&e.ref===t.ref)if(Lo=!1,t.pendingProps=o=c,(e.lanes&s)!==0)e.flags&131072&&(Lo=!0);else return t.lanes=e.lanes,Wa(e,t,s)}return wE(e,t,r,o,s)}function e8(e,t,r){var o=t.pendingProps,s=o.children,c=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},vn(oh,Jo),Jo|=r;else{if(!(r&1073741824))return e=c!==null?c.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,vn(oh,Jo),Jo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=c!==null?c.baseLanes:r,vn(oh,Jo),Jo|=o}else c!==null?(o=c.baseLanes|r,t.memoizedState=null):o=r,vn(oh,Jo),Jo|=o;return fo(e,t,s,r),t.child}function t8(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function wE(e,t,r,o,s){var c=Fo(r)?ku:so.current;return c=Dh(t,c),hh(t,s),r=A2(e,t,r,o,c,s),o=x2(),e!==null&&!Lo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wa(e,t,s)):(Mn&&o&&h2(t),t.flags|=1,fo(e,t,r,s),t.child)}function Cj(e,t,r,o,s){if(Fo(r)){var c=!0;H0(t)}else c=!1;if(hh(t,s),t.stateNode===null)i0(e,t),Q$(t,r,o),kE(t,r,o,s),o=!0;else if(e===null){var d=t.stateNode,m=t.memoizedProps;d.props=m;var f=d.context,k=r.contextType;typeof k=="object"&&k!==null?k=Li(k):(k=Fo(r)?ku:so.current,k=Dh(t,k));var v=r.getDerivedStateFromProps,_=typeof v=="function"||typeof d.getSnapshotBeforeUpdate=="function";_||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==o||f!==k)&&bj(t,d,o,k),_l=!1;var y=t.memoizedState;d.state=y,Y0(t,o,d,s),f=t.memoizedState,m!==o||y!==f||jo.current||_l?(typeof v=="function"&&(bE(t,r,v,o),f=t.memoizedState),(m=_l||gj(t,r,m,o,y,f,k))?(_||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=f),d.props=o,d.state=f,d.context=k,o=m):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{d=t.stateNode,T$(e,t),m=t.memoizedProps,k=t.type===t.elementType?m:os(t.type,m),d.props=k,_=t.pendingProps,y=d.context,f=r.contextType,typeof f=="object"&&f!==null?f=Li(f):(f=Fo(r)?ku:so.current,f=Dh(t,f));var A=r.getDerivedStateFromProps;(v=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==_||y!==f)&&bj(t,d,o,f),_l=!1,y=t.memoizedState,d.state=y,Y0(t,o,d,s);var D=t.memoizedState;m!==_||y!==D||jo.current||_l?(typeof A=="function"&&(bE(t,r,A,o),D=t.memoizedState),(k=_l||gj(t,r,k,o,y,D,f)||!1)?(v||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,D,f),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,D,f)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=D),d.props=o,d.state=D,d.context=f,o=k):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),o=!1)}return yE(e,t,r,o,c,s)}function yE(e,t,r,o,s,c){t8(e,t);var d=(t.flags&128)!==0;if(!o&&!d)return s&&lj(t,r,!1),Wa(e,t,c);o=t.stateNode,Ace.current=t;var m=d&&typeof r.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&d?(t.child=Ih(t,e.child,null,c),t.child=Ih(t,null,m,c)):fo(e,t,m,c),t.memoizedState=o.state,s&&lj(t,r,!0),t.child}function n8(e){var t=e.stateNode;t.pendingContext?aj(e,t.pendingContext,t.pendingContext!==t.context):t.context&&aj(e,t.context,!1),w2(e,t.containerInfo)}function Aj(e,t,r,o,s){return Th(),f2(s),t.flags|=256,fo(e,t,r,o),t.child}var _E={dehydrated:null,treeContext:null,retryLane:0};function CE(e){return{baseLanes:e,cachePool:null,transitions:null}}function r8(e,t,r){var o=t.pendingProps,s=Rn.current,c=!1,d=(t.flags&128)!==0,m;if((m=d)||(m=e!==null&&e.memoizedState===null?!1:(s&2)!==0),m?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),vn(Rn,s&1),e===null)return mE(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=o.children,e=o.fallback,c?(o=t.mode,c=t.child,d={mode:"hidden",children:d},!(o&1)&&c!==null?(c.childLanes=0,c.pendingProps=d):c=dy(d,o,0,null),e=lu(e,o,r,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=CE(r),t.memoizedState=_E,e):D2(t,d));if(s=e.memoizedState,s!==null&&(m=s.dehydrated,m!==null))return xce(e,t,d,o,m,s,r);if(c){c=o.fallback,d=t.mode,s=e.child,m=s.sibling;var f={mode:"hidden",children:o.children};return!(d&1)&&t.child!==s?(o=t.child,o.childLanes=0,o.pendingProps=f,t.deletions=null):(o=Hl(s,f),o.subtreeFlags=s.subtreeFlags&14680064),m!==null?c=Hl(m,c):(c=lu(c,d,r,null),c.flags|=2),c.return=t,o.return=t,o.sibling=c,t.child=o,o=c,c=t.child,d=e.child.memoizedState,d=d===null?CE(r):{baseLanes:d.baseLanes|r,cachePool:null,transitions:d.transitions},c.memoizedState=d,c.childLanes=e.childLanes&~r,t.memoizedState=_E,o}return c=e.child,e=c.sibling,o=Hl(c,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=r),o.return=t,o.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=o,t.memoizedState=null,o}function D2(e,t){return t=dy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bv(e,t,r,o){return o!==null&&f2(o),Ih(t,e.child,null,r),e=D2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xce(e,t,r,o,s,c,d){if(r)return t.flags&256?(t.flags&=-257,o=R1(Error(ye(422))),bv(e,t,d,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=o.fallback,s=t.mode,o=dy({mode:"visible",children:o.children},s,0,null),c=lu(c,s,d,null),c.flags|=2,o.return=t,c.return=t,o.sibling=c,t.child=o,t.mode&1&&Ih(t,e.child,null,d),t.child.memoizedState=CE(d),t.memoizedState=_E,c);if(!(t.mode&1))return bv(e,t,d,null);if(s.data==="$!"){if(o=s.nextSibling&&s.nextSibling.dataset,o)var m=o.dgst;return o=m,c=Error(ye(419)),o=R1(c,o,void 0),bv(e,t,d,o)}if(m=(d&e.childLanes)!==0,Lo||m){if(o=Ir,o!==null){switch(d&-d){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(o.suspendedLanes|d)?0:s,s!==0&&s!==c.retryLane&&(c.retryLane=s,Ha(e,s),cs(o,e,s,-1))}return R2(),o=R1(Error(ye(421))),bv(e,t,d,o)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=jce.bind(null,e),s._reactRetry=t,null):(e=c.treeContext,ni=zl(s.nextSibling),ii=t,Mn=!0,ss=null,e!==null&&(Di[Ti++]=Ia,Di[Ti++]=Ma,Di[Ti++]=vu,Ia=e.id,Ma=e.overflow,vu=t),t=D2(t,o.children),t.flags|=4096,t)}function xj(e,t,r){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),gE(e.return,t,r)}function O1(e,t,r,o,s){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:s}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=o,c.tail=r,c.tailMode=s)}function o8(e,t,r){var o=t.pendingProps,s=o.revealOrder,c=o.tail;if(fo(e,t,o.children,r),o=Rn.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xj(e,r,t);else if(e.tag===19)xj(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(vn(Rn,o),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Q0(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),O1(t,!1,s,r,c);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Q0(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}O1(t,!0,r,null,c);break;case"together":O1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function i0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),yu|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ye(153));if(t.child!==null){for(e=t.child,r=Hl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Hl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ece(e,t,r){switch(t.tag){case 3:n8(t),Th();break;case 5:I$(t);break;case 1:Fo(t.type)&&H0(t);break;case 4:w2(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,s=t.memoizedProps.value;vn(G0,o._currentValue),o._currentValue=s;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(vn(Rn,Rn.current&1),t.flags|=128,null):r&t.child.childLanes?r8(e,t,r):(vn(Rn,Rn.current&1),e=Wa(e,t,r),e!==null?e.sibling:null);vn(Rn,Rn.current&1);break;case 19:if(o=(r&t.childLanes)!==0,e.flags&128){if(o)return o8(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),vn(Rn,Rn.current),o)break;return null;case 22:case 23:return t.lanes=0,e8(e,t,r)}return Wa(e,t,r)}var i8,AE,s8,a8;i8=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};AE=function(){};s8=function(e,t,r,o){var s=e.memoizedProps;if(s!==o){e=t.stateNode,eu(Us.current);var c=null;switch(r){case"input":s=qx(e,s),o=qx(e,o),c=[];break;case"select":s=Ln({},s,{value:void 0}),o=Ln({},o,{value:void 0}),c=[];break;case"textarea":s=Yx(e,s),o=Yx(e,o),c=[];break;default:typeof s.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=V0)}Zx(r,o);var d;r=null;for(k in s)if(!o.hasOwnProperty(k)&&s.hasOwnProperty(k)&&s[k]!=null)if(k==="style"){var m=s[k];for(d in m)m.hasOwnProperty(d)&&(r||(r={}),r[d]="")}else k!=="dangerouslySetInnerHTML"&&k!=="children"&&k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(Rm.hasOwnProperty(k)?c||(c=[]):(c=c||[]).push(k,null));for(k in o){var f=o[k];if(m=s!=null?s[k]:void 0,o.hasOwnProperty(k)&&f!==m&&(f!=null||m!=null))if(k==="style")if(m){for(d in m)!m.hasOwnProperty(d)||f&&f.hasOwnProperty(d)||(r||(r={}),r[d]="");for(d in f)f.hasOwnProperty(d)&&m[d]!==f[d]&&(r||(r={}),r[d]=f[d])}else r||(c||(c=[]),c.push(k,r)),r=f;else k==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,m=m?m.__html:void 0,f!=null&&m!==f&&(c=c||[]).push(k,f)):k==="children"?typeof f!="string"&&typeof f!="number"||(c=c||[]).push(k,""+f):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&(Rm.hasOwnProperty(k)?(f!=null&&k==="onScroll"&&yn("scroll",e),c||m===f||(c=[])):(c=c||[]).push(k,f))}r&&(c=c||[]).push("style",r);var k=c;(t.updateQueue=k)&&(t.flags|=4)}};a8=function(e,t,r,o){r!==o&&(t.flags|=4)};function Ef(e,t){if(!Mn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Yr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,o|=s.subtreeFlags&14680064,o|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,o|=s.subtreeFlags,o|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=o,e.childLanes=r,t}function Sce(e,t,r){var o=t.pendingProps;switch(p2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yr(t),null;case 1:return Fo(t.type)&&U0(),Yr(t),null;case 3:return o=t.stateNode,Mh(),xn(jo),xn(so),_2(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(mv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ss!==null&&(PE(ss),ss=null))),AE(e,t),Yr(t),null;case 5:y2(t);var s=eu(qm.current);if(r=t.type,e!==null&&t.stateNode!=null)s8(e,t,r,o,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(ye(166));return Yr(t),null}if(e=eu(Us.current),mv(t)){o=t.stateNode,r=t.type;var c=t.memoizedProps;switch(o[Rs]=t,o[Hm]=c,e=(t.mode&1)!==0,r){case"dialog":yn("cancel",o),yn("close",o);break;case"iframe":case"object":case"embed":yn("load",o);break;case"video":case"audio":for(s=0;s<Qf.length;s++)yn(Qf[s],o);break;case"source":yn("error",o);break;case"img":case"image":case"link":yn("error",o),yn("load",o);break;case"details":yn("toggle",o);break;case"input":RL(o,c),yn("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},yn("invalid",o);break;case"textarea":BL(o,c),yn("invalid",o)}Zx(r,c),s=null;for(var d in c)if(c.hasOwnProperty(d)){var m=c[d];d==="children"?typeof m=="string"?o.textContent!==m&&(c.suppressHydrationWarning!==!0&&fv(o.textContent,m,e),s=["children",m]):typeof m=="number"&&o.textContent!==""+m&&(c.suppressHydrationWarning!==!0&&fv(o.textContent,m,e),s=["children",""+m]):Rm.hasOwnProperty(d)&&m!=null&&d==="onScroll"&&yn("scroll",o)}switch(r){case"input":sv(o),OL(o,c,!0);break;case"textarea":sv(o),LL(o);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(o.onclick=V0)}o=s,t.updateQueue=o,o!==null&&(t.flags|=4)}else{d=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=O7(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=d.createElement(r,{is:o.is}):(e=d.createElement(r),r==="select"&&(d=e,o.multiple?d.multiple=!0:o.size&&(d.size=o.size))):e=d.createElementNS(e,r),e[Rs]=t,e[Hm]=o,i8(e,t,!1,!1),t.stateNode=e;e:{switch(d=Jx(r,o),r){case"dialog":yn("cancel",e),yn("close",e),s=o;break;case"iframe":case"object":case"embed":yn("load",e),s=o;break;case"video":case"audio":for(s=0;s<Qf.length;s++)yn(Qf[s],e);s=o;break;case"source":yn("error",e),s=o;break;case"img":case"image":case"link":yn("error",e),yn("load",e),s=o;break;case"details":yn("toggle",e),s=o;break;case"input":RL(e,o),s=qx(e,o),yn("invalid",e);break;case"option":s=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},s=Ln({},o,{value:void 0}),yn("invalid",e);break;case"textarea":BL(e,o),s=Yx(e,o),yn("invalid",e);break;default:s=o}Zx(r,s),m=s;for(c in m)if(m.hasOwnProperty(c)){var f=m[c];c==="style"?j7(e,f):c==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&B7(e,f)):c==="children"?typeof f=="string"?(r!=="textarea"||f!=="")&&Om(e,f):typeof f=="number"&&Om(e,""+f):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Rm.hasOwnProperty(c)?f!=null&&c==="onScroll"&&yn("scroll",e):f!=null&&JS(e,c,f,d))}switch(r){case"input":sv(e),OL(e,o,!1);break;case"textarea":sv(e),LL(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Ql(o.value));break;case"select":e.multiple=!!o.multiple,c=o.value,c!=null?lh(e,!!o.multiple,c,!1):o.defaultValue!=null&&lh(e,!!o.multiple,o.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=V0)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Yr(t),null;case 6:if(e&&t.stateNode!=null)a8(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(ye(166));if(r=eu(qm.current),eu(Us.current),mv(t)){if(o=t.stateNode,r=t.memoizedProps,o[Rs]=t,(c=o.nodeValue!==r)&&(e=ii,e!==null))switch(e.tag){case 3:fv(o.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fv(o.nodeValue,r,(e.mode&1)!==0)}c&&(t.flags|=4)}else o=(r.nodeType===9?r:r.ownerDocument).createTextNode(o),o[Rs]=t,t.stateNode=o}return Yr(t),null;case 13:if(xn(Rn),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Mn&&ni!==null&&t.mode&1&&!(t.flags&128))x$(),Th(),t.flags|=98560,c=!1;else if(c=mv(t),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(ye(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(ye(317));c[Rs]=t}else Th(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yr(t),c=!1}else ss!==null&&(PE(ss),ss=null),c=!0;if(!c)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||Rn.current&1?wr===0&&(wr=3):R2())),t.updateQueue!==null&&(t.flags|=4),Yr(t),null);case 4:return Mh(),AE(e,t),e===null&&Vm(t.stateNode.containerInfo),Yr(t),null;case 10:return b2(t.type._context),Yr(t),null;case 17:return Fo(t.type)&&U0(),Yr(t),null;case 19:if(xn(Rn),c=t.memoizedState,c===null)return Yr(t),null;if(o=(t.flags&128)!==0,d=c.rendering,d===null)if(o)Ef(c,!1);else{if(wr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=Q0(e),d!==null){for(t.flags|=128,Ef(c,!1),o=d.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=r,r=t.child;r!==null;)c=r,e=o,c.flags&=14680066,d=c.alternate,d===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,e=d.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return vn(Rn,Rn.current&1|2),t.child}e=e.sibling}c.tail!==null&&nr()>Nh&&(t.flags|=128,o=!0,Ef(c,!1),t.lanes=4194304)}else{if(!o)if(e=Q0(d),e!==null){if(t.flags|=128,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ef(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!Mn)return Yr(t),null}else 2*nr()-c.renderingStartTime>Nh&&r!==1073741824&&(t.flags|=128,o=!0,Ef(c,!1),t.lanes=4194304);c.isBackwards?(d.sibling=t.child,t.child=d):(r=c.last,r!==null?r.sibling=d:t.child=d,c.last=d)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=nr(),t.sibling=null,r=Rn.current,vn(Rn,o?r&1|2:r&1),t):(Yr(t),null);case 22:case 23:return N2(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?Jo&1073741824&&(Yr(t),t.subtreeFlags&6&&(t.flags|=8192)):Yr(t),null;case 24:return null;case 25:return null}throw Error(ye(156,t.tag))}function Dce(e,t){switch(p2(t),t.tag){case 1:return Fo(t.type)&&U0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mh(),xn(jo),xn(so),_2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return y2(t),null;case 13:if(xn(Rn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ye(340));Th()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xn(Rn),null;case 4:return Mh(),null;case 10:return b2(t.type._context),null;case 22:case 23:return N2(),null;case 24:return null;default:return null}}var kv=!1,Xr=!1,Tce=typeof WeakSet=="function"?WeakSet:Set,je=null;function rh(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(o){qn(e,t,o)}else r.current=null}function xE(e,t,r){try{r()}catch(o){qn(e,t,o)}}var Ej=!1;function Ice(e,t){if(lE=F0,e=h$(),d2(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var s=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{r.nodeType,c.nodeType}catch{r=null;break e}var d=0,m=-1,f=-1,k=0,v=0,_=e,y=null;t:for(;;){for(var A;_!==r||s!==0&&_.nodeType!==3||(m=d+s),_!==c||o!==0&&_.nodeType!==3||(f=d+o),_.nodeType===3&&(d+=_.nodeValue.length),(A=_.firstChild)!==null;)y=_,_=A;for(;;){if(_===e)break t;if(y===r&&++k===s&&(m=d),y===c&&++v===o&&(f=d),(A=_.nextSibling)!==null)break;_=y,y=_.parentNode}_=A}r=m===-1||f===-1?null:{start:m,end:f}}else r=null}r=r||{start:0,end:0}}else r=null;for(cE={focusedElem:e,selectionRange:r},F0=!1,je=t;je!==null;)if(t=je,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,je=e;else for(;je!==null;){t=je;try{var D=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(D!==null){var S=D.memoizedProps,I=D.memoizedState,T=t.stateNode,P=T.getSnapshotBeforeUpdate(t.elementType===t.type?S:os(t.type,S),I);T.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ye(163))}}catch(j){qn(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,je=e;break}je=t.return}return D=Ej,Ej=!1,D}function fm(e,t,r){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&e)===e){var c=s.destroy;s.destroy=void 0,c!==void 0&&xE(t,r,c)}s=s.next}while(s!==o)}}function cy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var o=r.create;r.destroy=o()}r=r.next}while(r!==t)}}function EE(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function l8(e){var t=e.alternate;t!==null&&(e.alternate=null,l8(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rs],delete t[Hm],delete t[hE],delete t[hce],delete t[pce])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function c8(e){return e.tag===5||e.tag===3||e.tag===4}function Sj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||c8(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function SE(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=V0));else if(o!==4&&(e=e.child,e!==null))for(SE(e,t,r),e=e.sibling;e!==null;)SE(e,t,r),e=e.sibling}function DE(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(DE(e,t,r),e=e.sibling;e!==null;)DE(e,t,r),e=e.sibling}var Fr=null,is=!1;function gl(e,t,r){for(r=r.child;r!==null;)u8(e,t,r),r=r.sibling}function u8(e,t,r){if(Vs&&typeof Vs.onCommitFiberUnmount=="function")try{Vs.onCommitFiberUnmount(ty,r)}catch{}switch(r.tag){case 5:Xr||rh(r,t);case 6:var o=Fr,s=is;Fr=null,gl(e,t,r),Fr=o,is=s,Fr!==null&&(is?(e=Fr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Fr.removeChild(r.stateNode));break;case 18:Fr!==null&&(is?(e=Fr,r=r.stateNode,e.nodeType===8?D1(e.parentNode,r):e.nodeType===1&&D1(e,r),Fm(e)):D1(Fr,r.stateNode));break;case 4:o=Fr,s=is,Fr=r.stateNode.containerInfo,is=!0,gl(e,t,r),Fr=o,is=s;break;case 0:case 11:case 14:case 15:if(!Xr&&(o=r.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){s=o=o.next;do{var c=s,d=c.destroy;c=c.tag,d!==void 0&&(c&2||c&4)&&xE(r,t,d),s=s.next}while(s!==o)}gl(e,t,r);break;case 1:if(!Xr&&(rh(r,t),o=r.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=r.memoizedProps,o.state=r.memoizedState,o.componentWillUnmount()}catch(m){qn(r,t,m)}gl(e,t,r);break;case 21:gl(e,t,r);break;case 22:r.mode&1?(Xr=(o=Xr)||r.memoizedState!==null,gl(e,t,r),Xr=o):gl(e,t,r);break;default:gl(e,t,r)}}function Dj(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Tce),t.forEach(function(o){var s=Fce.bind(null,e,o);r.has(o)||(r.add(o),o.then(s,s))})}}function rs(e,t){var r=t.deletions;if(r!==null)for(var o=0;o<r.length;o++){var s=r[o];try{var c=e,d=t,m=d;e:for(;m!==null;){switch(m.tag){case 5:Fr=m.stateNode,is=!1;break e;case 3:Fr=m.stateNode.containerInfo,is=!0;break e;case 4:Fr=m.stateNode.containerInfo,is=!0;break e}m=m.return}if(Fr===null)throw Error(ye(160));u8(c,d,s),Fr=null,is=!1;var f=s.alternate;f!==null&&(f.return=null),s.return=null}catch(k){qn(s,t,k)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)d8(t,e),t=t.sibling}function d8(e,t){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rs(t,e),Ss(e),o&4){try{fm(3,e,e.return),cy(3,e)}catch(S){qn(e,e.return,S)}try{fm(5,e,e.return)}catch(S){qn(e,e.return,S)}}break;case 1:rs(t,e),Ss(e),o&512&&r!==null&&rh(r,r.return);break;case 5:if(rs(t,e),Ss(e),o&512&&r!==null&&rh(r,r.return),e.flags&32){var s=e.stateNode;try{Om(s,"")}catch(S){qn(e,e.return,S)}}if(o&4&&(s=e.stateNode,s!=null)){var c=e.memoizedProps,d=r!==null?r.memoizedProps:c,m=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{m==="input"&&c.type==="radio"&&c.name!=null&&N7(s,c),Jx(m,d);var k=Jx(m,c);for(d=0;d<f.length;d+=2){var v=f[d],_=f[d+1];v==="style"?j7(s,_):v==="dangerouslySetInnerHTML"?B7(s,_):v==="children"?Om(s,_):JS(s,v,_,k)}switch(m){case"input":Gx(s,c);break;case"textarea":R7(s,c);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!c.multiple;var A=c.value;A!=null?lh(s,!!c.multiple,A,!1):y!==!!c.multiple&&(c.defaultValue!=null?lh(s,!!c.multiple,c.defaultValue,!0):lh(s,!!c.multiple,c.multiple?[]:"",!1))}s[Hm]=c}catch(S){qn(e,e.return,S)}}break;case 6:if(rs(t,e),Ss(e),o&4){if(e.stateNode===null)throw Error(ye(162));s=e.stateNode,c=e.memoizedProps;try{s.nodeValue=c}catch(S){qn(e,e.return,S)}}break;case 3:if(rs(t,e),Ss(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Fm(t.containerInfo)}catch(S){qn(e,e.return,S)}break;case 4:rs(t,e),Ss(e);break;case 13:rs(t,e),Ss(e),s=e.child,s.flags&8192&&(c=s.memoizedState!==null,s.stateNode.isHidden=c,!c||s.alternate!==null&&s.alternate.memoizedState!==null||(M2=nr())),o&4&&Dj(e);break;case 22:if(v=r!==null&&r.memoizedState!==null,e.mode&1?(Xr=(k=Xr)||v,rs(t,e),Xr=k):rs(t,e),Ss(e),o&8192){if(k=e.memoizedState!==null,(e.stateNode.isHidden=k)&&!v&&e.mode&1)for(je=e,v=e.child;v!==null;){for(_=je=v;je!==null;){switch(y=je,A=y.child,y.tag){case 0:case 11:case 14:case 15:fm(4,y,y.return);break;case 1:rh(y,y.return);var D=y.stateNode;if(typeof D.componentWillUnmount=="function"){o=y,r=y.return;try{t=o,D.props=t.memoizedProps,D.state=t.memoizedState,D.componentWillUnmount()}catch(S){qn(o,r,S)}}break;case 5:rh(y,y.return);break;case 22:if(y.memoizedState!==null){Ij(_);continue}}A!==null?(A.return=y,je=A):Ij(_)}v=v.sibling}e:for(v=null,_=e;;){if(_.tag===5){if(v===null){v=_;try{s=_.stateNode,k?(c=s.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(m=_.stateNode,f=_.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null,m.style.display=L7("display",d))}catch(S){qn(e,e.return,S)}}}else if(_.tag===6){if(v===null)try{_.stateNode.nodeValue=k?"":_.memoizedProps}catch(S){qn(e,e.return,S)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===e)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===e)break e;for(;_.sibling===null;){if(_.return===null||_.return===e)break e;v===_&&(v=null),_=_.return}v===_&&(v=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:rs(t,e),Ss(e),o&4&&Dj(e);break;case 21:break;default:rs(t,e),Ss(e)}}function Ss(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(c8(r)){var o=r;break e}r=r.return}throw Error(ye(160))}switch(o.tag){case 5:var s=o.stateNode;o.flags&32&&(Om(s,""),o.flags&=-33);var c=Sj(e);DE(e,c,s);break;case 3:case 4:var d=o.stateNode.containerInfo,m=Sj(e);SE(e,m,d);break;default:throw Error(ye(161))}}catch(f){qn(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mce(e,t,r){je=e,h8(e)}function h8(e,t,r){for(var o=(e.mode&1)!==0;je!==null;){var s=je,c=s.child;if(s.tag===22&&o){var d=s.memoizedState!==null||kv;if(!d){var m=s.alternate,f=m!==null&&m.memoizedState!==null||Xr;m=kv;var k=Xr;if(kv=d,(Xr=f)&&!k)for(je=s;je!==null;)d=je,f=d.child,d.tag===22&&d.memoizedState!==null?Mj(s):f!==null?(f.return=d,je=f):Mj(s);for(;c!==null;)je=c,h8(c),c=c.sibling;je=s,kv=m,Xr=k}Tj(e)}else s.subtreeFlags&8772&&c!==null?(c.return=s,je=c):Tj(e)}}function Tj(e){for(;je!==null;){var t=je;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xr||cy(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Xr)if(r===null)o.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:os(t.type,r.memoizedProps);o.componentDidUpdate(s,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&pj(t,c,o);break;case 3:var d=t.updateQueue;if(d!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}pj(t,d,r)}break;case 5:var m=t.stateNode;if(r===null&&t.flags&4){r=m;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&r.focus();break;case"img":f.src&&(r.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var k=t.alternate;if(k!==null){var v=k.memoizedState;if(v!==null){var _=v.dehydrated;_!==null&&Fm(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ye(163))}Xr||t.flags&512&&EE(t)}catch(y){qn(t,t.return,y)}}if(t===e){je=null;break}if(r=t.sibling,r!==null){r.return=t.return,je=r;break}je=t.return}}function Ij(e){for(;je!==null;){var t=je;if(t===e){je=null;break}var r=t.sibling;if(r!==null){r.return=t.return,je=r;break}je=t.return}}function Mj(e){for(;je!==null;){var t=je;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{cy(4,t)}catch(f){qn(t,r,f)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var s=t.return;try{o.componentDidMount()}catch(f){qn(t,s,f)}}var c=t.return;try{EE(t)}catch(f){qn(t,c,f)}break;case 5:var d=t.return;try{EE(t)}catch(f){qn(t,d,f)}}}catch(f){qn(t,t.return,f)}if(t===e){je=null;break}var m=t.sibling;if(m!==null){m.return=t.return,je=m;break}je=t.return}}var Pce=Math.ceil,X0=rl.ReactCurrentDispatcher,T2=rl.ReactCurrentOwner,Oi=rl.ReactCurrentBatchConfig,Vt=0,Ir=null,pr=null,Ur=0,Jo=0,oh=ac(0),wr=0,Qm=null,yu=0,uy=0,I2=0,mm=null,Oo=null,M2=0,Nh=1/0,Aa=null,ew=!1,TE=null,Vl=null,vv=!1,Ml=null,tw=0,gm=0,IE=null,s0=-1,a0=0;function vo(){return Vt&6?nr():s0!==-1?s0:s0=nr()}function Ul(e){return e.mode&1?Vt&2&&Ur!==0?Ur&-Ur:mce.transition!==null?(a0===0&&(a0=Q7()),a0):(e=rn,e!==0||(e=window.event,e=e===void 0?16:r$(e.type)),e):1}function cs(e,t,r,o){if(50<gm)throw gm=0,IE=null,Error(ye(185));Og(e,r,o),(!(Vt&2)||e!==Ir)&&(e===Ir&&(!(Vt&2)&&(uy|=r),wr===4&&Al(e,Ur)),zo(e,o),r===1&&Vt===0&&!(t.mode&1)&&(Nh=nr()+500,sy&&lc()))}function zo(e,t){var r=e.callbackNode;mle(e,t);var o=j0(e,e===Ir?Ur:0);if(o===0)r!==null&&zL(r),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(r!=null&&zL(r),t===1)e.tag===0?fce(Pj.bind(null,e)):_$(Pj.bind(null,e)),uce(function(){!(Vt&6)&&lc()}),r=null;else{switch(Z7(o)){case 1:r=r2;break;case 4:r=K7;break;case 16:r=L0;break;case 536870912:r=Y7;break;default:r=L0}r=w8(r,p8.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function p8(e,t){if(s0=-1,a0=0,Vt&6)throw Error(ye(327));var r=e.callbackNode;if(ph()&&e.callbackNode!==r)return null;var o=j0(e,e===Ir?Ur:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=nw(e,o);else{t=o;var s=Vt;Vt|=2;var c=m8();(Ir!==e||Ur!==t)&&(Aa=null,Nh=nr()+500,au(e,t));do try{Oce();break}catch(m){f8(e,m)}while(!0);g2(),X0.current=c,Vt=s,pr!==null?t=0:(Ir=null,Ur=0,t=wr)}if(t!==0){if(t===2&&(s=rE(e),s!==0&&(o=s,t=ME(e,s))),t===1)throw r=Qm,au(e,0),Al(e,o),zo(e,nr()),r;if(t===6)Al(e,o);else{if(s=e.current.alternate,!(o&30)&&!Nce(s)&&(t=nw(e,o),t===2&&(c=rE(e),c!==0&&(o=c,t=ME(e,c))),t===1))throw r=Qm,au(e,0),Al(e,o),zo(e,nr()),r;switch(e.finishedWork=s,e.finishedLanes=o,t){case 0:case 1:throw Error(ye(345));case 2:Gc(e,Oo,Aa);break;case 3:if(Al(e,o),(o&130023424)===o&&(t=M2+500-nr(),10<t)){if(j0(e,0)!==0)break;if(s=e.suspendedLanes,(s&o)!==o){vo(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=dE(Gc.bind(null,e,Oo,Aa),t);break}Gc(e,Oo,Aa);break;case 4:if(Al(e,o),(o&4194240)===o)break;for(t=e.eventTimes,s=-1;0<o;){var d=31-ls(o);c=1<<d,d=t[d],d>s&&(s=d),o&=~c}if(o=s,o=nr()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Pce(o/1960))-o,10<o){e.timeoutHandle=dE(Gc.bind(null,e,Oo,Aa),o);break}Gc(e,Oo,Aa);break;case 5:Gc(e,Oo,Aa);break;default:throw Error(ye(329))}}}return zo(e,nr()),e.callbackNode===r?p8.bind(null,e):null}function ME(e,t){var r=mm;return e.current.memoizedState.isDehydrated&&(au(e,t).flags|=256),e=nw(e,t),e!==2&&(t=Oo,Oo=r,t!==null&&PE(t)),e}function PE(e){Oo===null?Oo=e:Oo.push.apply(Oo,e)}function Nce(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var o=0;o<r.length;o++){var s=r[o],c=s.getSnapshot;s=s.value;try{if(!us(c(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Al(e,t){for(t&=~I2,t&=~uy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ls(t),o=1<<r;e[r]=-1,t&=~o}}function Pj(e){if(Vt&6)throw Error(ye(327));ph();var t=j0(e,0);if(!(t&1))return zo(e,nr()),null;var r=nw(e,t);if(e.tag!==0&&r===2){var o=rE(e);o!==0&&(t=o,r=ME(e,o))}if(r===1)throw r=Qm,au(e,0),Al(e,t),zo(e,nr()),r;if(r===6)throw Error(ye(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gc(e,Oo,Aa),zo(e,nr()),null}function P2(e,t){var r=Vt;Vt|=1;try{return e(t)}finally{Vt=r,Vt===0&&(Nh=nr()+500,sy&&lc())}}function _u(e){Ml!==null&&Ml.tag===0&&!(Vt&6)&&ph();var t=Vt;Vt|=1;var r=Oi.transition,o=rn;try{if(Oi.transition=null,rn=1,e)return e()}finally{rn=o,Oi.transition=r,Vt=t,!(Vt&6)&&lc()}}function N2(){Jo=oh.current,xn(oh)}function au(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,cce(r)),pr!==null)for(r=pr.return;r!==null;){var o=r;switch(p2(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&U0();break;case 3:Mh(),xn(jo),xn(so),_2();break;case 5:y2(o);break;case 4:Mh();break;case 13:xn(Rn);break;case 19:xn(Rn);break;case 10:b2(o.type._context);break;case 22:case 23:N2()}r=r.return}if(Ir=e,pr=e=Hl(e.current,null),Ur=Jo=t,wr=0,Qm=null,I2=uy=yu=0,Oo=mm=null,Xc!==null){for(t=0;t<Xc.length;t++)if(r=Xc[t],o=r.interleaved,o!==null){r.interleaved=null;var s=o.next,c=r.pending;if(c!==null){var d=c.next;c.next=s,o.next=d}r.pending=o}Xc=null}return e}function f8(e,t){do{var r=pr;try{if(g2(),r0.current=J0,Z0){for(var o=Bn.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}Z0=!1}if(wu=0,Tr=vr=Bn=null,pm=!1,Gm=0,T2.current=null,r===null||r.return===null){wr=1,Qm=t,pr=null;break}e:{var c=e,d=r.return,m=r,f=t;if(t=Ur,m.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var k=f,v=m,_=v.tag;if(!(v.mode&1)&&(_===0||_===11||_===15)){var y=v.alternate;y?(v.updateQueue=y.updateQueue,v.memoizedState=y.memoizedState,v.lanes=y.lanes):(v.updateQueue=null,v.memoizedState=null)}var A=vj(d);if(A!==null){A.flags&=-257,wj(A,d,m,c,t),A.mode&1&&kj(c,k,t),t=A,f=k;var D=t.updateQueue;if(D===null){var S=new Set;S.add(f),t.updateQueue=S}else D.add(f);break e}else{if(!(t&1)){kj(c,k,t),R2();break e}f=Error(ye(426))}}else if(Mn&&m.mode&1){var I=vj(d);if(I!==null){!(I.flags&65536)&&(I.flags|=256),wj(I,d,m,c,t),f2(Ph(f,m));break e}}c=f=Ph(f,m),wr!==4&&(wr=2),mm===null?mm=[c]:mm.push(c),c=d;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var T=Z$(c,f,t);hj(c,T);break e;case 1:m=f;var P=c.type,N=c.stateNode;if(!(c.flags&128)&&(typeof P.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Vl===null||!Vl.has(N)))){c.flags|=65536,t&=-t,c.lanes|=t;var j=J$(c,m,t);hj(c,j);break e}}c=c.return}while(c!==null)}b8(r)}catch($){t=$,pr===r&&r!==null&&(pr=r=r.return);continue}break}while(!0)}function m8(){var e=X0.current;return X0.current=J0,e===null?J0:e}function R2(){(wr===0||wr===3||wr===2)&&(wr=4),Ir===null||!(yu&268435455)&&!(uy&268435455)||Al(Ir,Ur)}function nw(e,t){var r=Vt;Vt|=2;var o=m8();(Ir!==e||Ur!==t)&&(Aa=null,au(e,t));do try{Rce();break}catch(s){f8(e,s)}while(!0);if(g2(),Vt=r,X0.current=o,pr!==null)throw Error(ye(261));return Ir=null,Ur=0,wr}function Rce(){for(;pr!==null;)g8(pr)}function Oce(){for(;pr!==null&&!sle();)g8(pr)}function g8(e){var t=v8(e.alternate,e,Jo);e.memoizedProps=e.pendingProps,t===null?b8(e):pr=t,T2.current=null}function b8(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Dce(r,t),r!==null){r.flags&=32767,pr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wr=6,pr=null;return}}else if(r=Sce(r,t,Jo),r!==null){pr=r;return}if(t=t.sibling,t!==null){pr=t;return}pr=t=e}while(t!==null);wr===0&&(wr=5)}function Gc(e,t,r){var o=rn,s=Oi.transition;try{Oi.transition=null,rn=1,Bce(e,t,r,o)}finally{Oi.transition=s,rn=o}return null}function Bce(e,t,r,o){do ph();while(Ml!==null);if(Vt&6)throw Error(ye(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ye(177));e.callbackNode=null,e.callbackPriority=0;var c=r.lanes|r.childLanes;if(gle(e,c),e===Ir&&(pr=Ir=null,Ur=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||vv||(vv=!0,w8(L0,function(){return ph(),null})),c=(r.flags&15990)!==0,r.subtreeFlags&15990||c){c=Oi.transition,Oi.transition=null;var d=rn;rn=1;var m=Vt;Vt|=4,T2.current=null,Ice(e,r),d8(r,e),nce(cE),F0=!!lE,cE=lE=null,e.current=r,Mce(r),ale(),Vt=m,rn=d,Oi.transition=c}else e.current=r;if(vv&&(vv=!1,Ml=e,tw=s),c=e.pendingLanes,c===0&&(Vl=null),ule(r.stateNode),zo(e,nr()),t!==null)for(o=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],o(s.value,{componentStack:s.stack,digest:s.digest});if(ew)throw ew=!1,e=TE,TE=null,e;return tw&1&&e.tag!==0&&ph(),c=e.pendingLanes,c&1?e===IE?gm++:(gm=0,IE=e):gm=0,lc(),null}function ph(){if(Ml!==null){var e=Z7(tw),t=Oi.transition,r=rn;try{if(Oi.transition=null,rn=16>e?16:e,Ml===null)var o=!1;else{if(e=Ml,Ml=null,tw=0,Vt&6)throw Error(ye(331));var s=Vt;for(Vt|=4,je=e.current;je!==null;){var c=je,d=c.child;if(je.flags&16){var m=c.deletions;if(m!==null){for(var f=0;f<m.length;f++){var k=m[f];for(je=k;je!==null;){var v=je;switch(v.tag){case 0:case 11:case 15:fm(8,v,c)}var _=v.child;if(_!==null)_.return=v,je=_;else for(;je!==null;){v=je;var y=v.sibling,A=v.return;if(l8(v),v===k){je=null;break}if(y!==null){y.return=A,je=y;break}je=A}}}var D=c.alternate;if(D!==null){var S=D.child;if(S!==null){D.child=null;do{var I=S.sibling;S.sibling=null,S=I}while(S!==null)}}je=c}}if(c.subtreeFlags&2064&&d!==null)d.return=c,je=d;else e:for(;je!==null;){if(c=je,c.flags&2048)switch(c.tag){case 0:case 11:case 15:fm(9,c,c.return)}var T=c.sibling;if(T!==null){T.return=c.return,je=T;break e}je=c.return}}var P=e.current;for(je=P;je!==null;){d=je;var N=d.child;if(d.subtreeFlags&2064&&N!==null)N.return=d,je=N;else e:for(d=P;je!==null;){if(m=je,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:cy(9,m)}}catch($){qn(m,m.return,$)}if(m===d){je=null;break e}var j=m.sibling;if(j!==null){j.return=m.return,je=j;break e}je=m.return}}if(Vt=s,lc(),Vs&&typeof Vs.onPostCommitFiberRoot=="function")try{Vs.onPostCommitFiberRoot(ty,e)}catch{}o=!0}return o}finally{rn=r,Oi.transition=t}}return!1}function Nj(e,t,r){t=Ph(r,t),t=Z$(e,t,1),e=$l(e,t,1),t=vo(),e!==null&&(Og(e,1,t),zo(e,t))}function qn(e,t,r){if(e.tag===3)Nj(e,e,r);else for(;t!==null;){if(t.tag===3){Nj(t,e,r);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Vl===null||!Vl.has(o))){e=Ph(r,e),e=J$(t,e,1),t=$l(t,e,1),e=vo(),t!==null&&(Og(t,1,e),zo(t,e));break}}t=t.return}}function Lce(e,t,r){var o=e.pingCache;o!==null&&o.delete(t),t=vo(),e.pingedLanes|=e.suspendedLanes&r,Ir===e&&(Ur&r)===r&&(wr===4||wr===3&&(Ur&130023424)===Ur&&500>nr()-M2?au(e,0):I2|=r),zo(e,t)}function k8(e,t){t===0&&(e.mode&1?(t=cv,cv<<=1,!(cv&130023424)&&(cv=4194304)):t=1);var r=vo();e=Ha(e,t),e!==null&&(Og(e,t,r),zo(e,r))}function jce(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),k8(e,r)}function Fce(e,t){var r=0;switch(e.tag){case 13:var o=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(ye(314))}o!==null&&o.delete(t),k8(e,r)}var v8;v8=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||jo.current)Lo=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Lo=!1,Ece(e,t,r);Lo=!!(e.flags&131072)}else Lo=!1,Mn&&t.flags&1048576&&C$(t,q0,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;i0(e,t),e=t.pendingProps;var s=Dh(t,so.current);hh(t,r),s=A2(null,t,o,e,s,r);var c=x2();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fo(o)?(c=!0,H0(t)):c=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,v2(t),s.updater=ly,t.stateNode=s,s._reactInternals=t,kE(t,o,e,r),t=yE(null,t,o,!0,c,r)):(t.tag=0,Mn&&c&&h2(t),fo(null,t,s,r),t=t.child),t;case 16:o=t.elementType;e:{switch(i0(e,t),e=t.pendingProps,s=o._init,o=s(o._payload),t.type=o,s=t.tag=$ce(o),e=os(o,e),s){case 0:t=wE(null,t,o,e,r);break e;case 1:t=Cj(null,t,o,e,r);break e;case 11:t=yj(null,t,o,e,r);break e;case 14:t=_j(null,t,o,os(o.type,e),r);break e}throw Error(ye(306,o,""))}return t;case 0:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:os(o,s),wE(e,t,o,s,r);case 1:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:os(o,s),Cj(e,t,o,s,r);case 3:e:{if(n8(t),e===null)throw Error(ye(387));o=t.pendingProps,c=t.memoizedState,s=c.element,T$(e,t),Y0(t,o,null,r);var d=t.memoizedState;if(o=d.element,c.isDehydrated)if(c={element:o,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){s=Ph(Error(ye(423)),t),t=Aj(e,t,o,r,s);break e}else if(o!==s){s=Ph(Error(ye(424)),t),t=Aj(e,t,o,r,s);break e}else for(ni=zl(t.stateNode.containerInfo.firstChild),ii=t,Mn=!0,ss=null,r=S$(t,null,o,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Th(),o===s){t=Wa(e,t,r);break e}fo(e,t,o,r)}t=t.child}return t;case 5:return I$(t),e===null&&mE(t),o=t.type,s=t.pendingProps,c=e!==null?e.memoizedProps:null,d=s.children,uE(o,s)?d=null:c!==null&&uE(o,c)&&(t.flags|=32),t8(e,t),fo(e,t,d,r),t.child;case 6:return e===null&&mE(t),null;case 13:return r8(e,t,r);case 4:return w2(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Ih(t,null,o,r):fo(e,t,o,r),t.child;case 11:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:os(o,s),yj(e,t,o,s,r);case 7:return fo(e,t,t.pendingProps,r),t.child;case 8:return fo(e,t,t.pendingProps.children,r),t.child;case 12:return fo(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(o=t.type._context,s=t.pendingProps,c=t.memoizedProps,d=s.value,vn(G0,o._currentValue),o._currentValue=d,c!==null)if(us(c.value,d)){if(c.children===s.children&&!jo.current){t=Wa(e,t,r);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var m=c.dependencies;if(m!==null){d=c.child;for(var f=m.firstContext;f!==null;){if(f.context===o){if(c.tag===1){f=Oa(-1,r&-r),f.tag=2;var k=c.updateQueue;if(k!==null){k=k.shared;var v=k.pending;v===null?f.next=f:(f.next=v.next,v.next=f),k.pending=f}}c.lanes|=r,f=c.alternate,f!==null&&(f.lanes|=r),gE(c.return,r,t),m.lanes|=r;break}f=f.next}}else if(c.tag===10)d=c.type===t.type?null:c.child;else if(c.tag===18){if(d=c.return,d===null)throw Error(ye(341));d.lanes|=r,m=d.alternate,m!==null&&(m.lanes|=r),gE(d,r,t),d=c.sibling}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===t){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}fo(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,o=t.pendingProps.children,hh(t,r),s=Li(s),o=o(s),t.flags|=1,fo(e,t,o,r),t.child;case 14:return o=t.type,s=os(o,t.pendingProps),s=os(o.type,s),_j(e,t,o,s,r);case 15:return X$(e,t,t.type,t.pendingProps,r);case 17:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:os(o,s),i0(e,t),t.tag=1,Fo(o)?(e=!0,H0(t)):e=!1,hh(t,r),Q$(t,o,s),kE(t,o,s,r),yE(null,t,o,!0,e,r);case 19:return o8(e,t,r);case 22:return e8(e,t,r)}throw Error(ye(156,t.tag))};function w8(e,t){return G7(e,t)}function zce(e,t,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(e,t,r,o){return new zce(e,t,r,o)}function O2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $ce(e){if(typeof e=="function")return O2(e)?1:0;if(e!=null){if(e=e.$$typeof,e===e2)return 11;if(e===t2)return 14}return 2}function Hl(e,t){var r=e.alternate;return r===null?(r=Ni(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function l0(e,t,r,o,s,c){var d=2;if(o=e,typeof e=="function")O2(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case Kd:return lu(r.children,s,c,t);case XS:d=8,s|=8;break;case Vx:return e=Ni(12,r,t,s|2),e.elementType=Vx,e.lanes=c,e;case Ux:return e=Ni(13,r,t,s),e.elementType=Ux,e.lanes=c,e;case Hx:return e=Ni(19,r,t,s),e.elementType=Hx,e.lanes=c,e;case I7:return dy(r,s,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D7:d=10;break e;case T7:d=9;break e;case e2:d=11;break e;case t2:d=14;break e;case yl:d=16,o=null;break e}throw Error(ye(130,e==null?e:typeof e,""))}return t=Ni(d,r,t,s),t.elementType=e,t.type=o,t.lanes=c,t}function lu(e,t,r,o){return e=Ni(7,e,o,t),e.lanes=r,e}function dy(e,t,r,o){return e=Ni(22,e,o,t),e.elementType=I7,e.lanes=r,e.stateNode={isHidden:!1},e}function B1(e,t,r){return e=Ni(6,e,null,t),e.lanes=r,e}function L1(e,t,r){return t=Ni(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vce(e,t,r,o,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=b1(0),this.expirationTimes=b1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=b1(0),this.identifierPrefix=o,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function B2(e,t,r,o,s,c,d,m,f){return e=new Vce(e,t,r,m,f),t===1?(t=1,c===!0&&(t|=8)):t=0,c=Ni(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:o,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},v2(c),e}function Uce(e,t,r){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gd,key:o==null?null:""+o,children:e,containerInfo:t,implementation:r}}function y8(e){if(!e)return Zl;e=e._reactInternals;e:{if(Fu(e)!==e||e.tag!==1)throw Error(ye(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ye(171))}if(e.tag===1){var r=e.type;if(Fo(r))return y$(e,r,t)}return t}function _8(e,t,r,o,s,c,d,m,f){return e=B2(r,o,!0,e,s,c,d,m,f),e.context=y8(null),r=e.current,o=vo(),s=Ul(r),c=Oa(o,s),c.callback=t??null,$l(r,c,s),e.current.lanes=s,Og(e,s,o),zo(e,o),e}function hy(e,t,r,o){var s=t.current,c=vo(),d=Ul(s);return r=y8(r),t.context===null?t.context=r:t.pendingContext=r,t=Oa(c,d),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=$l(s,t,d),e!==null&&(cs(e,s,d,c),n0(e,s,d)),d}function rw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Rj(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function L2(e,t){Rj(e,t),(e=e.alternate)&&Rj(e,t)}function Hce(){return null}var C8=typeof reportError=="function"?reportError:function(e){console.error(e)};function j2(e){this._internalRoot=e}py.prototype.render=j2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ye(409));hy(e,t,null,null)};py.prototype.unmount=j2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_u(function(){hy(null,e,null,null)}),t[Ua]=null}};function py(e){this._internalRoot=e}py.prototype.unstable_scheduleHydration=function(e){if(e){var t=e$();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Cl.length&&t!==0&&t<Cl[r].priority;r++);Cl.splice(r,0,e),r===0&&n$(e)}};function F2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Oj(){}function Wce(e,t,r,o,s){if(s){if(typeof o=="function"){var c=o;o=function(){var k=rw(d);c.call(k)}}var d=_8(t,o,e,0,null,!1,!1,"",Oj);return e._reactRootContainer=d,e[Ua]=d.current,Vm(e.nodeType===8?e.parentNode:e),_u(),d}for(;s=e.lastChild;)e.removeChild(s);if(typeof o=="function"){var m=o;o=function(){var k=rw(f);m.call(k)}}var f=B2(e,0,!1,null,null,!1,!1,"",Oj);return e._reactRootContainer=f,e[Ua]=f.current,Vm(e.nodeType===8?e.parentNode:e),_u(function(){hy(t,f,r,o)}),f}function my(e,t,r,o,s){var c=r._reactRootContainer;if(c){var d=c;if(typeof s=="function"){var m=s;s=function(){var f=rw(d);m.call(f)}}hy(t,d,e,s)}else d=Wce(r,t,e,s,o);return rw(d)}J7=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Yf(t.pendingLanes);r!==0&&(o2(t,r|1),zo(t,nr()),!(Vt&6)&&(Nh=nr()+500,lc()))}break;case 13:_u(function(){var o=Ha(e,1);if(o!==null){var s=vo();cs(o,e,1,s)}}),L2(e,1)}};i2=function(e){if(e.tag===13){var t=Ha(e,134217728);if(t!==null){var r=vo();cs(t,e,134217728,r)}L2(e,134217728)}};X7=function(e){if(e.tag===13){var t=Ul(e),r=Ha(e,t);if(r!==null){var o=vo();cs(r,e,t,o)}L2(e,t)}};e$=function(){return rn};t$=function(e,t){var r=rn;try{return rn=e,t()}finally{rn=r}};eE=function(e,t,r){switch(t){case"input":if(Gx(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var o=r[t];if(o!==e&&o.form===e.form){var s=iy(o);if(!s)throw Error(ye(90));P7(o),Gx(o,s)}}}break;case"textarea":R7(e,r);break;case"select":t=r.value,t!=null&&lh(e,!!r.multiple,t,!1)}};$7=P2;V7=_u;var qce={usingClientEntryPoint:!1,Events:[Lg,Jd,iy,F7,z7,P2]},Sf={findFiberByHostInstance:Jc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gce={bundleType:Sf.bundleType,version:Sf.version,rendererPackageName:Sf.rendererPackageName,rendererConfig:Sf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=W7(e),e===null?null:e.stateNode},findFiberByHostInstance:Sf.findFiberByHostInstance||Hce,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wv.isDisabled&&wv.supportsFiber)try{ty=wv.inject(Gce),Vs=wv}catch{}}hi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qce;hi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!F2(t))throw Error(ye(200));return Uce(e,t,null,r)};hi.createRoot=function(e,t){if(!F2(e))throw Error(ye(299));var r=!1,o="",s=C8;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=B2(e,1,!1,null,null,r,!1,o,s),e[Ua]=t.current,Vm(e.nodeType===8?e.parentNode:e),new j2(t)};hi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ye(188)):(e=Object.keys(e).join(","),Error(ye(268,e)));return e=W7(t),e=e===null?null:e.stateNode,e};hi.flushSync=function(e){return _u(e)};hi.hydrate=function(e,t,r){if(!fy(t))throw Error(ye(200));return my(null,e,t,!0,r)};hi.hydrateRoot=function(e,t,r){if(!F2(e))throw Error(ye(405));var o=r!=null&&r.hydratedSources||null,s=!1,c="",d=C8;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),t=_8(t,null,e,1,r??null,s,!1,c,d),e[Ua]=t.current,Vm(e),o)for(e=0;e<o.length;e++)r=o[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new py(t)};hi.render=function(e,t,r){if(!fy(t))throw Error(ye(200));return my(null,e,t,!1,r)};hi.unmountComponentAtNode=function(e){if(!fy(e))throw Error(ye(40));return e._reactRootContainer?(_u(function(){my(null,null,e,!1,function(){e._reactRootContainer=null,e[Ua]=null})}),!0):!1};hi.unstable_batchedUpdates=P2;hi.unstable_renderSubtreeIntoContainer=function(e,t,r,o){if(!fy(r))throw Error(ye(200));if(e==null||e._reactInternals===void 0)throw Error(ye(38));return my(e,t,r,!1,o)};hi.version="18.3.1-next-f1338f8080-20240426";function A8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A8)}catch(e){console.error(e)}}A8(),A7.exports=hi;var gy=A7.exports;const Zf=Xw(gy);var Bj=gy;zx.createRoot=Bj.createRoot,zx.hydrateRoot=Bj.hydrateRoot;const Kce="modulepreload",Yce=function(e){return"/ate-micr/"+e},Lj={},z2=function(t,r,o){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));s=Promise.allSettled(r.map(f=>{if(f=Yce(f),f in Lj)return;Lj[f]=!0;const k=f.endsWith(".css"),v=k?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const _=document.createElement("link");if(_.rel=k?"stylesheet":Kce,k||(_.as="script"),_.crossOrigin="",_.href=f,m&&_.setAttribute("nonce",m),document.head.appendChild(_),k)return new Promise((y,A)=>{_.addEventListener("load",y),_.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${f}`)))})}))}function c(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return s.then(d=>{for(const m of d||[])m.status==="rejected"&&c(m.reason);return t().catch(c)})};/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zm(){return Zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Zm.apply(this,arguments)}var Pl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Pl||(Pl={}));const jj="popstate";function Qce(e){e===void 0&&(e={});function t(s,c){let{pathname:d="/",search:m="",hash:f=""}=zu(s.location.hash.substr(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),NE("",{pathname:d,search:m,hash:f},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(s,c){let d=s.document.querySelector("base"),m="";if(d&&d.getAttribute("href")){let f=s.location.href,k=f.indexOf("#");m=k===-1?f:f.slice(0,k)}return m+"#"+(typeof c=="string"?c:x8(c))}function o(s,c){$2(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(c)+")")}return Jce(t,r,o,e)}function mr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Zce(){return Math.random().toString(36).substr(2,8)}function Fj(e,t){return{usr:e.state,key:e.key,idx:t}}function NE(e,t,r,o){return r===void 0&&(r=null),Zm({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?zu(t):t,{state:r,key:t&&t.key||o||Zce()})}function x8(e){let{pathname:t="/",search:r="",hash:o=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(t+=o.charAt(0)==="#"?o:"#"+o),t}function zu(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let o=e.indexOf("?");o>=0&&(t.search=e.substr(o),e=e.substr(0,o)),e&&(t.pathname=e)}return t}function Jce(e,t,r,o){o===void 0&&(o={});let{window:s=document.defaultView,v5Compat:c=!1}=o,d=s.history,m=Pl.Pop,f=null,k=v();k==null&&(k=0,d.replaceState(Zm({},d.state,{idx:k}),""));function v(){return(d.state||{idx:null}).idx}function _(){m=Pl.Pop;let I=v(),T=I==null?null:I-k;k=I,f&&f({action:m,location:S.location,delta:T})}function y(I,T){m=Pl.Push;let P=NE(S.location,I,T);r&&r(P,I),k=v()+1;let N=Fj(P,k),j=S.createHref(P);try{d.pushState(N,"",j)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;s.location.assign(j)}c&&f&&f({action:m,location:S.location,delta:1})}function A(I,T){m=Pl.Replace;let P=NE(S.location,I,T);r&&r(P,I),k=v();let N=Fj(P,k),j=S.createHref(P);d.replaceState(N,"",j),c&&f&&f({action:m,location:S.location,delta:0})}function D(I){let T=s.location.origin!=="null"?s.location.origin:s.location.href,P=typeof I=="string"?I:x8(I);return P=P.replace(/ $/,"%20"),mr(T,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,T)}let S={get action(){return m},get location(){return e(s,d)},listen(I){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(jj,_),f=I,()=>{s.removeEventListener(jj,_),f=null}},createHref(I){return t(s,I)},createURL:D,encodeLocation(I){let T=D(I);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:y,replace:A,go(I){return d.go(I)}};return S}var zj;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(zj||(zj={}));function Xce(e,t,r){return r===void 0&&(r="/"),eue(e,t,r,!1)}function eue(e,t,r,o){let s=typeof t=="string"?zu(t):t,c=D8(s.pathname||"/",r);if(c==null)return null;let d=E8(e);tue(d);let m=null;for(let f=0;m==null&&f<d.length;++f){let k=hue(c);m=uue(d[f],k,o)}return m}function E8(e,t,r,o){t===void 0&&(t=[]),r===void 0&&(r=[]),o===void 0&&(o="");let s=(c,d,m)=>{let f={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};f.relativePath.startsWith("/")&&(mr(f.relativePath.startsWith(o),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(o.length));let k=cu([o,f.relativePath]),v=r.concat(f);c.children&&c.children.length>0&&(mr(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+k+'".')),E8(c.children,t,v,k)),!(c.path==null&&!c.index)&&t.push({path:k,score:lue(k,c.index),routesMeta:v})};return e.forEach((c,d)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))s(c,d);else for(let f of S8(c.path))s(c,d,f)}),t}function S8(e){let t=e.split("/");if(t.length===0)return[];let[r,...o]=t,s=r.endsWith("?"),c=r.replace(/\?$/,"");if(o.length===0)return s?[c,""]:[c];let d=S8(o.join("/")),m=[];return m.push(...d.map(f=>f===""?c:[c,f].join("/"))),s&&m.push(...d),m.map(f=>e.startsWith("/")&&f===""?"/":f)}function tue(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:cue(t.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}const nue=/^:[\w-]+$/,rue=3,oue=2,iue=1,sue=10,aue=-2,$j=e=>e==="*";function lue(e,t){let r=e.split("/"),o=r.length;return r.some($j)&&(o+=aue),t&&(o+=oue),r.filter(s=>!$j(s)).reduce((s,c)=>s+(nue.test(c)?rue:c===""?iue:sue),o)}function cue(e,t){return e.length===t.length&&e.slice(0,-1).every((o,s)=>o===t[s])?e[e.length-1]-t[t.length-1]:0}function uue(e,t,r){let{routesMeta:o}=e,s={},c="/",d=[];for(let m=0;m<o.length;++m){let f=o[m],k=m===o.length-1,v=c==="/"?t:t.slice(c.length)||"/",_=Vj({path:f.relativePath,caseSensitive:f.caseSensitive,end:k},v),y=f.route;if(!_&&k&&r&&!o[o.length-1].route.index&&(_=Vj({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!_)return null;Object.assign(s,_.params),d.push({params:s,pathname:cu([c,_.pathname]),pathnameBase:gue(cu([c,_.pathnameBase])),route:y}),_.pathnameBase!=="/"&&(c=cu([c,_.pathnameBase]))}return d}function Vj(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,o]=due(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let c=s[0],d=c.replace(/(.)\/+$/,"$1"),m=s.slice(1);return{params:o.reduce((k,v,_)=>{let{paramName:y,isOptional:A}=v;if(y==="*"){let S=m[_]||"";d=c.slice(0,c.length-S.length).replace(/(.)\/+$/,"$1")}const D=m[_];return A&&!D?k[y]=void 0:k[y]=(D||"").replace(/%2F/g,"/"),k},{}),pathname:c,pathnameBase:d,pattern:e}}function due(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),$2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,f)=>(o.push({paramName:m,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),o]}function hue(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function D8(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,o=e.charAt(r);return o&&o!=="/"?null:e.slice(r)||"/"}function pue(e,t){t===void 0&&(t="/");let{pathname:r,search:o="",hash:s=""}=typeof e=="string"?zu(e):e;return{pathname:r?r.startsWith("/")?r:fue(r,t):t,search:bue(o),hash:kue(s)}}function fue(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function j1(e,t,r,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mue(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function T8(e,t){let r=mue(e);return t?r.map((o,s)=>s===r.length-1?o.pathname:o.pathnameBase):r.map(o=>o.pathnameBase)}function I8(e,t,r,o){o===void 0&&(o=!1);let s;typeof e=="string"?s=zu(e):(s=Zm({},e),mr(!s.pathname||!s.pathname.includes("?"),j1("?","pathname","search",s)),mr(!s.pathname||!s.pathname.includes("#"),j1("#","pathname","hash",s)),mr(!s.search||!s.search.includes("#"),j1("#","search","hash",s)));let c=e===""||s.pathname==="",d=c?"/":s.pathname,m;if(d==null)m=r;else{let _=t.length-1;if(!o&&d.startsWith("..")){let y=d.split("/");for(;y[0]==="..";)y.shift(),_-=1;s.pathname=y.join("/")}m=_>=0?t[_]:"/"}let f=pue(s,m),k=d&&d!=="/"&&d.endsWith("/"),v=(c||d===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(k||v)&&(f.pathname+="/"),f}const cu=e=>e.join("/").replace(/\/\/+/g,"/"),gue=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bue=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kue=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function vue(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const M8=["post","put","patch","delete"];new Set(M8);const wue=["get",...M8];new Set(wue);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jm(){return Jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Jm.apply(this,arguments)}const V2=B.createContext(null),yue=B.createContext(null),Fg=B.createContext(null),by=B.createContext(null),cc=B.createContext({outlet:null,matches:[],isDataRoute:!1}),P8=B.createContext(null);function zg(){return B.useContext(by)!=null}function U2(){return zg()||mr(!1),B.useContext(by).location}function N8(e){B.useContext(Fg).static||B.useLayoutEffect(e)}function xo(){let{isDataRoute:e}=B.useContext(cc);return e?Rue():_ue()}function _ue(){zg()||mr(!1);let e=B.useContext(V2),{basename:t,future:r,navigator:o}=B.useContext(Fg),{matches:s}=B.useContext(cc),{pathname:c}=U2(),d=JSON.stringify(T8(s,r.v7_relativeSplatPath)),m=B.useRef(!1);return N8(()=>{m.current=!0}),B.useCallback(function(k,v){if(v===void 0&&(v={}),!m.current)return;if(typeof k=="number"){o.go(k);return}let _=I8(k,JSON.parse(d),c,v.relative==="path");e==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:cu([t,_.pathname])),(v.replace?o.replace:o.push)(_,v.state,v)},[t,o,d,c,e])}function H2(){let{matches:e}=B.useContext(cc),t=e[e.length-1];return t?t.params:{}}function Cue(e,t){return Aue(e,t)}function Aue(e,t,r,o){zg()||mr(!1);let{navigator:s}=B.useContext(Fg),{matches:c}=B.useContext(cc),d=c[c.length-1],m=d?d.params:{};d&&d.pathname;let f=d?d.pathnameBase:"/";d&&d.route;let k=U2(),v;if(t){var _;let I=typeof t=="string"?zu(t):t;f==="/"||(_=I.pathname)!=null&&_.startsWith(f)||mr(!1),v=I}else v=k;let y=v.pathname||"/",A=y;if(f!=="/"){let I=f.replace(/^\//,"").split("/");A="/"+y.replace(/^\//,"").split("/").slice(I.length).join("/")}let D=Xce(e,{pathname:A}),S=Tue(D&&D.map(I=>Object.assign({},I,{params:Object.assign({},m,I.params),pathname:cu([f,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?f:cu([f,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),c,r,o);return t&&S?B.createElement(by.Provider,{value:{location:Jm({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Pl.Pop}},S):S}function xue(){let e=Nue(),t=vue(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),r?B.createElement("pre",{style:s},r):null,null)}const Eue=B.createElement(xue,null);class Sue extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?B.createElement(cc.Provider,{value:this.props.routeContext},B.createElement(P8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Due(e){let{routeContext:t,match:r,children:o}=e,s=B.useContext(V2);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),B.createElement(cc.Provider,{value:t},o)}function Tue(e,t,r,o){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),o===void 0&&(o=null),e==null){var c;if(!r)return null;if(r.errors)e=r.matches;else if((c=o)!=null&&c.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let d=e,m=(s=r)==null?void 0:s.errors;if(m!=null){let v=d.findIndex(_=>_.route.id&&(m==null?void 0:m[_.route.id])!==void 0);v>=0||mr(!1),d=d.slice(0,Math.min(d.length,v+1))}let f=!1,k=-1;if(r&&o&&o.v7_partialHydration)for(let v=0;v<d.length;v++){let _=d[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(k=v),_.route.id){let{loaderData:y,errors:A}=r,D=_.route.loader&&y[_.route.id]===void 0&&(!A||A[_.route.id]===void 0);if(_.route.lazy||D){f=!0,k>=0?d=d.slice(0,k+1):d=[d[0]];break}}}return d.reduceRight((v,_,y)=>{let A,D=!1,S=null,I=null;r&&(A=m&&_.route.id?m[_.route.id]:void 0,S=_.route.errorElement||Eue,f&&(k<0&&y===0?(D=!0,I=null):k===y&&(D=!0,I=_.route.hydrateFallbackElement||null)));let T=t.concat(d.slice(0,y+1)),P=()=>{let N;return A?N=S:D?N=I:_.route.Component?N=B.createElement(_.route.Component,null):_.route.element?N=_.route.element:N=v,B.createElement(Due,{match:_,routeContext:{outlet:v,matches:T,isDataRoute:r!=null},children:N})};return r&&(_.route.ErrorBoundary||_.route.errorElement||y===0)?B.createElement(Sue,{location:r.location,revalidation:r.revalidation,component:S,error:A,children:P(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):P()},null)}var R8=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(R8||{}),ow=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ow||{});function Iue(e){let t=B.useContext(V2);return t||mr(!1),t}function Mue(e){let t=B.useContext(yue);return t||mr(!1),t}function Pue(e){let t=B.useContext(cc);return t||mr(!1),t}function O8(e){let t=Pue(),r=t.matches[t.matches.length-1];return r.route.id||mr(!1),r.route.id}function Nue(){var e;let t=B.useContext(P8),r=Mue(ow.UseRouteError),o=O8(ow.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[o]}function Rue(){let{router:e}=Iue(R8.UseNavigateStable),t=O8(ow.UseNavigateStable),r=B.useRef(!1);return N8(()=>{r.current=!0}),B.useCallback(function(s,c){c===void 0&&(c={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Jm({fromRouteId:t},c)))},[e,t])}const Uj={};function Oue(e,t){Uj[t]||(Uj[t]=!0,console.warn(t))}const Hj=(e,t,r)=>Oue(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function Bue(e,t){e!=null&&e.v7_startTransition||Hj("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&!t&&Hj("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function B8(e){let{to:t,replace:r,state:o,relative:s}=e;zg()||mr(!1);let{future:c,static:d}=B.useContext(Fg),{matches:m}=B.useContext(cc),{pathname:f}=U2(),k=xo(),v=I8(t,T8(m,c.v7_relativeSplatPath),f,s==="path"),_=JSON.stringify(v);return B.useEffect(()=>k(JSON.parse(_),{replace:r,state:o,relative:s}),[k,_,s,r,o]),null}function Sr(e){mr(!1)}function Lue(e){let{basename:t="/",children:r=null,location:o,navigationType:s=Pl.Pop,navigator:c,static:d=!1,future:m}=e;zg()&&mr(!1);let f=t.replace(/^\/*/,"/"),k=B.useMemo(()=>({basename:f,navigator:c,static:d,future:Jm({v7_relativeSplatPath:!1},m)}),[f,m,c,d]);typeof o=="string"&&(o=zu(o));let{pathname:v="/",search:_="",hash:y="",state:A=null,key:D="default"}=o,S=B.useMemo(()=>{let I=D8(v,f);return I==null?null:{location:{pathname:I,search:_,hash:y,state:A,key:D},navigationType:s}},[f,v,_,y,A,D,s]);return S==null?null:B.createElement(Fg.Provider,{value:k},B.createElement(by.Provider,{children:r,value:S}))}function jue(e){let{children:t,location:r}=e;return Cue(RE(t),r)}new Promise(()=>{});function RE(e,t){t===void 0&&(t=[]);let r=[];return B.Children.forEach(e,(o,s)=>{if(!B.isValidElement(o))return;let c=[...t,s];if(o.type===B.Fragment){r.push.apply(r,RE(o.props.children,c));return}o.type!==Sr&&mr(!1),!o.props.index||!o.props.children||mr(!1);let d={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=RE(o.props.children,c)),r.push(d)}),r}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Fue="6";try{window.__reactRouterVersion=Fue}catch{}const zue="startTransition",Wj=Nm[zue];function $ue(e){let{basename:t,children:r,future:o,window:s}=e,c=B.useRef();c.current==null&&(c.current=Qce({window:s,v5Compat:!0}));let d=c.current,[m,f]=B.useState({action:d.action,location:d.location}),{v7_startTransition:k}=o||{},v=B.useCallback(_=>{k&&Wj?Wj(()=>f(_)):f(_)},[f,k]);return B.useLayoutEffect(()=>d.listen(v),[d,v]),B.useEffect(()=>Bue(o),[o]),B.createElement(Lue,{basename:t,children:r,location:m.location,navigationType:m.action,navigator:d,future:o})}var qj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qj||(qj={}));var Gj;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Gj||(Gj={}));var Kj={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8=function(e){const t=[];let r=0;for(let o=0;o<e.length;o++){let s=e.charCodeAt(o);s<128?t[r++]=s:s<2048?(t[r++]=s>>6|192,t[r++]=s&63|128):(s&64512)===55296&&o+1<e.length&&(e.charCodeAt(o+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++o)&1023),t[r++]=s>>18|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=s&63|128):(t[r++]=s>>12|224,t[r++]=s>>6&63|128,t[r++]=s&63|128)}return t},Vue=function(e){const t=[];let r=0,o=0;for(;r<e.length;){const s=e[r++];if(s<128)t[o++]=String.fromCharCode(s);else if(s>191&&s<224){const c=e[r++];t[o++]=String.fromCharCode((s&31)<<6|c&63)}else if(s>239&&s<365){const c=e[r++],d=e[r++],m=e[r++],f=((s&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;t[o++]=String.fromCharCode(55296+(f>>10)),t[o++]=String.fromCharCode(56320+(f&1023))}else{const c=e[r++],d=e[r++];t[o++]=String.fromCharCode((s&15)<<12|(c&63)<<6|d&63)}}return t.join("")},j8={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let s=0;s<e.length;s+=3){const c=e[s],d=s+1<e.length,m=d?e[s+1]:0,f=s+2<e.length,k=f?e[s+2]:0,v=c>>2,_=(c&3)<<4|m>>4;let y=(m&15)<<2|k>>6,A=k&63;f||(A=64,d||(y=64)),o.push(r[v],r[_],r[y],r[A])}return o.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(L8(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Vue(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let s=0;s<e.length;){const c=r[e.charAt(s++)],m=s<e.length?r[e.charAt(s)]:0;++s;const k=s<e.length?r[e.charAt(s)]:64;++s;const _=s<e.length?r[e.charAt(s)]:64;if(++s,c==null||m==null||k==null||_==null)throw new Uue;const y=c<<2|m>>4;if(o.push(y),k!==64){const A=m<<4&240|k>>2;if(o.push(A),_!==64){const D=k<<6&192|_;o.push(D)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Uue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hue=function(e){const t=L8(e);return j8.encodeByteArray(t,!0)},iw=function(e){return Hue(e).replace(/\./g,"")},F8=function(e){try{return j8.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const que=()=>Wue().__FIREBASE_DEFAULTS__,Gue=()=>{if(typeof process>"u"||typeof Kj>"u")return;const e=Kj.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Kue=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&F8(e[1]);return t&&JSON.parse(t)},ky=()=>{try{return que()||Gue()||Kue()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},z8=e=>{var t,r;return(r=(t=ky())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},$8=e=>{const t=z8(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},V8=()=>{var e;return(e=ky())===null||e===void 0?void 0:e.config},U8=e=>{var t;return(t=ky())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",s=e.iat||0,c=e.sub||e.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:s,exp:s+3600,auth_time:s,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},e);return[iw(JSON.stringify(r)),iw(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Que(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ao())}function Zue(){var e;const t=(e=ky())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Jue(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Xue(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ede(){const e=ao();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function tde(){try{return typeof indexedDB=="object"}catch{return!1}}function nde(){return new Promise((e,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(o);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(o),e(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var c;t(((c=s.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rde="FirebaseError";class la extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=rde,Object.setPrototypeOf(this,la.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$g.prototype.create)}}class $g{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},s=`${this.service}/${t}`,c=this.errors[t],d=c?ode(c,o):"Error",m=`${this.serviceName}: ${d} (${s}).`;return new la(s,m,o)}}function ode(e,t){return e.replace(ide,(r,o)=>{const s=t[o];return s!=null?String(s):`<${o}?>`})}const ide=/\{\$([^}]+)}/g;function sde(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function sw(e,t){if(e===t)return!0;const r=Object.keys(e),o=Object.keys(t);for(const s of r){if(!o.includes(s))return!1;const c=e[s],d=t[s];if(Yj(c)&&Yj(d)){if(!sw(c,d))return!1}else if(c!==d)return!1}for(const s of o)if(!r.includes(s))return!1;return!0}function Yj(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(e){const t=[];for(const[r,o]of Object.entries(e))Array.isArray(o)?o.forEach(s=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}function ade(e,t){const r=new lde(e,t);return r.subscribe.bind(r)}class lde{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(o=>{this.error(o)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,o){let s;if(t===void 0&&r===void 0&&o===void 0)throw new Error("Missing Observer.");cde(t,["next","error","complete"])?s=t:s={next:t,error:r,complete:o},s.next===void 0&&(s.next=F1),s.error===void 0&&(s.error=F1),s.complete===void 0&&(s.complete=F1);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cde(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function F1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(e){return e&&e._delegate?e._delegate:e}class Jl{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ude{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new Yue;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&o.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(s)return null;throw c}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(hde(t))try{this.getOrInitializeService({instanceIdentifier:Kc})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:s});o.resolve(c)}catch{}}}}clearInstance(t=Kc){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Kc){return this.instances.has(t)}getOptions(t=Kc){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);o===m&&d.resolve(s)}return s}onInit(t,r){var o;const s=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(s))!==null&&o!==void 0?o:new Set;c.add(t),this.onInitCallbacks.set(s,c);const d=this.instances.get(s);return d&&t(d,s),()=>{c.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const s of o)try{s(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:dde(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=Kc){return this.component?this.component.multipleInstances?t:Kc:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dde(e){return e===Kc?void 0:e}function hde(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pde{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new ude(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Wt||(Wt={}));const fde={debug:Wt.DEBUG,verbose:Wt.VERBOSE,info:Wt.INFO,warn:Wt.WARN,error:Wt.ERROR,silent:Wt.SILENT},mde=Wt.INFO,gde={[Wt.DEBUG]:"log",[Wt.VERBOSE]:"log",[Wt.INFO]:"info",[Wt.WARN]:"warn",[Wt.ERROR]:"error"},bde=(e,t,...r)=>{if(t<e.logLevel)return;const o=new Date().toISOString(),s=gde[t];if(s)console[s](`[${o}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class W2{constructor(t){this.name=t,this._logLevel=mde,this._logHandler=bde,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Wt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fde[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Wt.DEBUG,...t),this._logHandler(this,Wt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Wt.VERBOSE,...t),this._logHandler(this,Wt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Wt.INFO,...t),this._logHandler(this,Wt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Wt.WARN,...t),this._logHandler(this,Wt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Wt.ERROR,...t),this._logHandler(this,Wt.ERROR,...t)}}const kde=(e,t)=>t.some(r=>e instanceof r);let Qj,Zj;function vde(){return Qj||(Qj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wde(){return Zj||(Zj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const W8=new WeakMap,OE=new WeakMap,q8=new WeakMap,z1=new WeakMap,q2=new WeakMap;function yde(e){const t=new Promise((r,o)=>{const s=()=>{e.removeEventListener("success",c),e.removeEventListener("error",d)},c=()=>{r(Wl(e.result)),s()},d=()=>{o(e.error),s()};e.addEventListener("success",c),e.addEventListener("error",d)});return t.then(r=>{r instanceof IDBCursor&&W8.set(r,e)}).catch(()=>{}),q2.set(t,e),t}function _de(e){if(OE.has(e))return;const t=new Promise((r,o)=>{const s=()=>{e.removeEventListener("complete",c),e.removeEventListener("error",d),e.removeEventListener("abort",d)},c=()=>{r(),s()},d=()=>{o(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",c),e.addEventListener("error",d),e.addEventListener("abort",d)});OE.set(e,t)}let BE={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return OE.get(e);if(t==="objectStoreNames")return e.objectStoreNames||q8.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Wl(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Cde(e){BE=e(BE)}function Ade(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=e.call($1(this),t,...r);return q8.set(o,t.sort?t.sort():[t]),Wl(o)}:wde().includes(e)?function(...t){return e.apply($1(this),t),Wl(W8.get(this))}:function(...t){return Wl(e.apply($1(this),t))}}function xde(e){return typeof e=="function"?Ade(e):(e instanceof IDBTransaction&&_de(e),kde(e,vde())?new Proxy(e,BE):e)}function Wl(e){if(e instanceof IDBRequest)return yde(e);if(z1.has(e))return z1.get(e);const t=xde(e);return t!==e&&(z1.set(e,t),q2.set(t,e)),t}const $1=e=>q2.get(e);function Ede(e,t,{blocked:r,upgrade:o,blocking:s,terminated:c}={}){const d=indexedDB.open(e,t),m=Wl(d);return o&&d.addEventListener("upgradeneeded",f=>{o(Wl(d.result),f.oldVersion,f.newVersion,Wl(d.transaction),f)}),r&&d.addEventListener("blocked",f=>r(f.oldVersion,f.newVersion,f)),m.then(f=>{c&&f.addEventListener("close",()=>c()),s&&f.addEventListener("versionchange",k=>s(k.oldVersion,k.newVersion,k))}).catch(()=>{}),m}const Sde=["get","getKey","getAll","getAllKeys","count"],Dde=["put","add","delete","clear"],V1=new Map;function Jj(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(V1.get(t))return V1.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,s=Dde.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(s||Sde.includes(r)))return;const c=async function(d,...m){const f=this.transaction(d,s?"readwrite":"readonly");let k=f.store;return o&&(k=k.index(m.shift())),(await Promise.all([k[r](...m),s&&f.done]))[0]};return V1.set(t,c),c}Cde(e=>({...e,get:(t,r,o)=>Jj(t,r)||e.get(t,r,o),has:(t,r)=>!!Jj(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tde{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Ide(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function Ide(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const LE="@firebase/app",Xj="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=new W2("@firebase/app"),Mde="@firebase/app-compat",Pde="@firebase/analytics-compat",Nde="@firebase/analytics",Rde="@firebase/app-check-compat",Ode="@firebase/app-check",Bde="@firebase/auth",Lde="@firebase/auth-compat",jde="@firebase/database",Fde="@firebase/database-compat",zde="@firebase/functions",$de="@firebase/functions-compat",Vde="@firebase/installations",Ude="@firebase/installations-compat",Hde="@firebase/messaging",Wde="@firebase/messaging-compat",qde="@firebase/performance",Gde="@firebase/performance-compat",Kde="@firebase/remote-config",Yde="@firebase/remote-config-compat",Qde="@firebase/storage",Zde="@firebase/storage-compat",Jde="@firebase/firestore",Xde="@firebase/firestore-compat",ehe="firebase",the="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="[DEFAULT]",nhe={[LE]:"fire-core",[Mde]:"fire-core-compat",[Nde]:"fire-analytics",[Pde]:"fire-analytics-compat",[Ode]:"fire-app-check",[Rde]:"fire-app-check-compat",[Bde]:"fire-auth",[Lde]:"fire-auth-compat",[jde]:"fire-rtdb",[Fde]:"fire-rtdb-compat",[zde]:"fire-fn",[$de]:"fire-fn-compat",[Vde]:"fire-iid",[Ude]:"fire-iid-compat",[Hde]:"fire-fcm",[Wde]:"fire-fcm-compat",[qde]:"fire-perf",[Gde]:"fire-perf-compat",[Kde]:"fire-rc",[Yde]:"fire-rc-compat",[Qde]:"fire-gcs",[Zde]:"fire-gcs-compat",[Jde]:"fire-fst",[Xde]:"fire-fst-compat","fire-js":"fire-js",[ehe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=new Map,FE=new Map;function rhe(e,t){try{e.container.addComponent(t)}catch(r){Cu.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function Au(e){const t=e.name;if(FE.has(t))return Cu.debug(`There were multiple attempts to register component ${t}.`),!1;FE.set(t,e);for(const r of aw.values())rhe(r,e);return!0}function vy(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ohe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ql=new $g("app","Firebase",ohe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ihe{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Jl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ql.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=the;function G8(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const o=Object.assign({name:jE,automaticDataCollectionEnabled:!1},t),s=o.name;if(typeof s!="string"||!s)throw ql.create("bad-app-name",{appName:String(s)});if(r||(r=V8()),!r)throw ql.create("no-options");const c=aw.get(s);if(c){if(sw(r,c.options)&&sw(o,c.config))return c;throw ql.create("duplicate-app",{appName:s})}const d=new pde(s);for(const f of FE.values())d.addComponent(f);const m=new ihe(r,o,d);return aw.set(s,m),m}function G2(e=jE){const t=aw.get(e);if(!t&&e===jE&&V8())return G8();if(!t)throw ql.create("no-app",{appName:e});return t}function Hs(e,t,r){var o;let s=(o=nhe[e])!==null&&o!==void 0?o:e;r&&(s+=`-${r}`);const c=s.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const m=[`Unable to register library "${s}" with version "${t}":`];c&&m.push(`library name "${s}" contains illegal characters (whitespace or "/")`),c&&d&&m.push("and"),d&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Cu.warn(m.join(" "));return}Au(new Jl(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const she="firebase-heartbeat-database",ahe=1,Xm="firebase-heartbeat-store";let U1=null;function K8(){return U1||(U1=Ede(she,ahe,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Xm)}}}).catch(e=>{throw ql.create("idb-open",{originalErrorMessage:e.message})})),U1}async function lhe(e){try{return await(await K8()).transaction(Xm).objectStore(Xm).get(Y8(e))}catch(t){if(t instanceof la)Cu.warn(t.message);else{const r=ql.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Cu.warn(r.message)}}}async function eF(e,t){try{const o=(await K8()).transaction(Xm,"readwrite");await o.objectStore(Xm).put(t,Y8(e)),await o.done}catch(r){if(r instanceof la)Cu.warn(r.message);else{const o=ql.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Cu.warn(o.message)}}}function Y8(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const che=1024,uhe=30*24*60*60*1e3;class dhe{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new phe(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=tF();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const c=new Date(s.date).valueOf();return Date.now()-c<=uhe}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=tF(),{heartbeatsToSend:r,unsentEntries:o}=hhe(this._heartbeatsCache.heartbeats),s=iw(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function tF(){return new Date().toISOString().substring(0,10)}function hhe(e,t=che){const r=[];let o=e.slice();for(const s of e){const c=r.find(d=>d.agent===s.agent);if(c){if(c.dates.push(s.date),nF(r)>t){c.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),nF(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class phe{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tde()?nde().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await lhe(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return eF(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return eF(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function nF(e){return iw(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fhe(e){Au(new Jl("platform-logger",t=>new Tde(t),"PRIVATE")),Au(new Jl("heartbeat",t=>new dhe(t),"PRIVATE")),Hs(LE,Xj,e),Hs(LE,Xj,"esm2017"),Hs("fire-js","")}fhe("");function K2(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(e);s<o.length;s++)t.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s])&&(r[o[s]]=e[o[s]]);return r}function Q8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mhe=Q8,Z8=new $g("auth","Firebase",Q8());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=new W2("@firebase/auth");function ghe(e,...t){lw.logLevel<=Wt.WARN&&lw.warn(`Auth (${$u}): ${e}`,...t)}function c0(e,...t){lw.logLevel<=Wt.ERROR&&lw.error(`Auth (${$u}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(e,...t){throw Y2(e,...t)}function Ws(e,...t){return Y2(e,...t)}function J8(e,t,r){const o=Object.assign(Object.assign({},mhe()),{[t]:r});return new $g("auth","Firebase",o).create(t,{appName:e.name})}function bhe(e,t,r){const o=r;if(!(t instanceof o))throw o.name!==t.constructor.name&&Xs(e,"argument-error"),J8(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Y2(e,...t){if(typeof e!="string"){const r=t[0],o=[...t.slice(1)];return o[0]&&(o[0].appName=e.name),e._errorFactory.create(r,...o)}return Z8.create(e,...t)}function bt(e,t,...r){if(!e)throw Y2(t,...r)}function Pa(e){const t="INTERNAL ASSERTION FAILED: "+e;throw c0(t),new Error(t)}function qa(e,t){e||Pa(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function khe(){return rF()==="http:"||rF()==="https:"}function rF(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vhe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(khe()||Jue()||"connection"in navigator)?navigator.onLine:!0}function whe(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(t,r){this.shortDelay=t,this.longDelay=r,qa(r>t,"Short delay should be less than long delay!"),this.isMobile=Que()||Xue()}get(){return vhe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(e,t){qa(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{static initialize(t,r,o){this.fetchImpl=t,r&&(this.headersImpl=r),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Pa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Pa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Pa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yhe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _he=new Ug(3e4,6e4);function eV(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Hg(e,t,r,o,s={}){return tV(e,s,async()=>{let c={},d={};o&&(t==="GET"?d=o:c={body:JSON.stringify(o)});const m=Vg(Object.assign({key:e.config.apiKey},d)).slice(1),f=await e._getAdditionalHeaders();return f["Content-Type"]="application/json",e.languageCode&&(f["X-Firebase-Locale"]=e.languageCode),X8.fetch()(nV(e,e.config.apiHost,r,m),Object.assign({method:t,headers:f,referrerPolicy:"no-referrer"},c))})}async function tV(e,t,r){e._canInitEmulator=!1;const o=Object.assign(Object.assign({},yhe),t);try{const s=new Ahe(e),c=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw yv(e,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const m=c.ok?d.errorMessage:d.error.message,[f,k]=m.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw yv(e,"credential-already-in-use",d);if(f==="EMAIL_EXISTS")throw yv(e,"email-already-in-use",d);if(f==="USER_DISABLED")throw yv(e,"user-disabled",d);const v=o[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(k)throw J8(e,v,k);Xs(e,v)}}catch(s){if(s instanceof la)throw s;Xs(e,"network-request-failed",{message:String(s)})}}async function Che(e,t,r,o,s={}){const c=await Hg(e,t,r,o,s);return"mfaPendingCredential"in c&&Xs(e,"multi-factor-auth-required",{_serverResponse:c}),c}function nV(e,t,r,o){const s=`${t}${r}?${o}`;return e.config.emulator?Q2(e.config,s):`${e.config.apiScheme}://${s}`}class Ahe{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,o)=>{this.timer=setTimeout(()=>o(Ws(this.auth,"network-request-failed")),_he.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yv(e,t,r){const o={appName:e.name};r.email&&(o.email=r.email),r.phoneNumber&&(o.phoneNumber=r.phoneNumber);const s=Ws(e,t,o);return s.customData._tokenResponse=r,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xhe(e,t){return Hg(e,"POST","/v1/accounts:delete",t)}async function Ehe(e,t){return Hg(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function She(e,t=!1){const r=gn(e),o=await r.getIdToken(t),s=Z2(o);bt(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const c=typeof s.firebase=="object"?s.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:s,token:o,authTime:bm(H1(s.auth_time)),issuedAtTime:bm(H1(s.iat)),expirationTime:bm(H1(s.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function H1(e){return Number(e)*1e3}function Z2(e){const[t,r,o]=e.split(".");if(t===void 0||r===void 0||o===void 0)return c0("JWT malformed, contained fewer than 3 sections"),null;try{const s=F8(r);return s?JSON.parse(s):(c0("Failed to decode base64 JWT payload"),null)}catch(s){return c0("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Dhe(e){const t=Z2(e);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eg(e,t,r=!1){if(r)return t;try{return await t}catch(o){throw o instanceof la&&The(o)&&e.auth.currentUser===e&&await e.auth.signOut(),o}}function The({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ihe{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var r;if(t){const o=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),o}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=bm(this.lastLoginAt),this.creationTime=bm(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cw(e){var t;const r=e.auth,o=await e.getIdToken(),s=await eg(e,Ehe(r,{idToken:o}));bt(s==null?void 0:s.users.length,r,"internal-error");const c=s.users[0];e._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?Nhe(c.providerUserInfo):[],m=Phe(e.providerData,d),f=e.isAnonymous,k=!(e.email&&c.passwordHash)&&!(m!=null&&m.length),v=f?k:!1,_={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:m,metadata:new rV(c.createdAt,c.lastLoginAt),isAnonymous:v};Object.assign(e,_)}async function Mhe(e){const t=gn(e);await cw(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Phe(e,t){return[...e.filter(o=>!t.some(s=>s.providerId===o.providerId)),...t]}function Nhe(e){return e.map(t=>{var{providerId:r}=t,o=K2(t,["providerId"]);return{providerId:r,uid:o.rawId||"",displayName:o.displayName||null,email:o.email||null,phoneNumber:o.phoneNumber||null,photoURL:o.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rhe(e,t){const r=await tV(e,{},async()=>{const o=Vg({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:c}=e.config,d=nV(e,s,"/v1/token",`key=${c}`),m=await e._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",X8.fetch()(d,{method:"POST",headers:m,body:o})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Dhe(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}async getToken(t,r=!1){return bt(!this.accessToken||this.refreshToken,t,"user-token-expired"),!r&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:o,refreshToken:s,expiresIn:c}=await Rhe(t,r);this.updateTokensAndExpiration(o,s,Number(c))}updateTokensAndExpiration(t,r,o){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(t,r){const{refreshToken:o,accessToken:s,expirationTime:c}=r,d=new tg;return o&&(bt(typeof o=="string","internal-error",{appName:t}),d.refreshToken=o),s&&(bt(typeof s=="string","internal-error",{appName:t}),d.accessToken=s),c&&(bt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new tg,this.toJSON())}_performRefresh(){return Pa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(e,t){bt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class uu{constructor(t){var{uid:r,auth:o,stsTokenManager:s}=t,c=K2(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ihe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=o,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new rV(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const r=await eg(this,this.stsTokenManager.getToken(this.auth,t));return bt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return She(this,t)}reload(){return Mhe(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>Object.assign({},r)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new uu(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let o=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),o=!0),r&&await cw(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await eg(this,xhe(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){var o,s,c,d,m,f,k,v;const _=(o=r.displayName)!==null&&o!==void 0?o:void 0,y=(s=r.email)!==null&&s!==void 0?s:void 0,A=(c=r.phoneNumber)!==null&&c!==void 0?c:void 0,D=(d=r.photoURL)!==null&&d!==void 0?d:void 0,S=(m=r.tenantId)!==null&&m!==void 0?m:void 0,I=(f=r._redirectEventId)!==null&&f!==void 0?f:void 0,T=(k=r.createdAt)!==null&&k!==void 0?k:void 0,P=(v=r.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:N,emailVerified:j,isAnonymous:$,providerData:U,stsTokenManager:R}=r;bt(N&&R,t,"internal-error");const z=tg.fromJSON(this.name,R);bt(typeof N=="string",t,"internal-error"),bl(_,t.name),bl(y,t.name),bt(typeof j=="boolean",t,"internal-error"),bt(typeof $=="boolean",t,"internal-error"),bl(A,t.name),bl(D,t.name),bl(S,t.name),bl(I,t.name),bl(T,t.name),bl(P,t.name);const W=new uu({uid:N,auth:t,email:y,emailVerified:j,displayName:_,isAnonymous:$,photoURL:D,phoneNumber:A,tenantId:S,stsTokenManager:z,createdAt:T,lastLoginAt:P});return U&&Array.isArray(U)&&(W.providerData=U.map(q=>Object.assign({},q))),I&&(W._redirectEventId=I),W}static async _fromIdTokenResponse(t,r,o=!1){const s=new tg;s.updateFromServerResponse(r);const c=new uu({uid:r.localId,auth:t,stsTokenManager:s,isAnonymous:o});return await cw(c),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF=new Map;function Na(e){qa(e instanceof Function,"Expected a class definition");let t=oF.get(e);return t?(qa(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,oF.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}oV.type="NONE";const iF=oV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(e,t,r){return`firebase:${e}:${t}:${r}`}class fh{constructor(t,r,o){this.persistence=t,this.auth=r,this.userKey=o;const{config:s,name:c}=this.auth;this.fullUserKey=u0(this.userKey,s.apiKey,c),this.fullPersistenceKey=u0("persistence",s.apiKey,c),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?uu._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,o="authUser"){if(!r.length)return new fh(Na(iF),t,o);const s=(await Promise.all(r.map(async k=>{if(await k._isAvailable())return k}))).filter(k=>k);let c=s[0]||Na(iF);const d=u0(o,t.config.apiKey,t.name);let m=null;for(const k of r)try{const v=await k._get(d);if(v){const _=uu._fromJSON(t,v);k!==c&&(m=_),c=k;break}}catch{}const f=s.filter(k=>k._shouldAllowMigration);return!c._shouldAllowMigration||!f.length?new fh(c,t,o):(c=f[0],m&&await c._set(d,m.toJSON()),await Promise.all(r.map(async k=>{if(k!==c)try{await k._remove(d)}catch{}})),new fh(c,t,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(aV(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(iV(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(cV(t))return"Blackberry";if(uV(t))return"Webos";if(J2(t))return"Safari";if((t.includes("chrome/")||sV(t))&&!t.includes("edge/"))return"Chrome";if(lV(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=e.match(r);if((o==null?void 0:o.length)===2)return o[1]}return"Other"}function iV(e=ao()){return/firefox\//i.test(e)}function J2(e=ao()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sV(e=ao()){return/crios\//i.test(e)}function aV(e=ao()){return/iemobile/i.test(e)}function lV(e=ao()){return/android/i.test(e)}function cV(e=ao()){return/blackberry/i.test(e)}function uV(e=ao()){return/webos/i.test(e)}function wy(e=ao()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ohe(e=ao()){var t;return wy(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Bhe(){return ede()&&document.documentMode===10}function dV(e=ao()){return wy(e)||lV(e)||uV(e)||cV(e)||/windows phone/i.test(e)||aV(e)}function Lhe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(e,t=[]){let r;switch(e){case"Browser":r=sF(ao());break;case"Worker":r=`${sF(ao())}-${e}`;break;default:r=e}const o=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${$u}/${o}`}async function pV(e,t){return Hg(e,"GET","/v2/recaptchaConfig",eV(e,t))}function aF(e){return e!==void 0&&e.enterprise!==void 0}class fV{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(r=>r.provider==="EMAIL_PASSWORD_PROVIDER"&&r.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jhe(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function mV(e){return new Promise((t,r)=>{const o=document.createElement("script");o.setAttribute("src",e),o.onload=t,o.onerror=s=>{const c=Ws("internal-error");c.customData=s,r(c)},o.type="text/javascript",o.charset="UTF-8",jhe().appendChild(o)})}function Fhe(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const zhe="https://www.google.com/recaptcha/enterprise.js?render=",$he="recaptcha-enterprise",Vhe="NO_RECAPTCHA";class Uhe{constructor(t){this.type=$he,this.auth=Wg(t)}async verify(t="verify",r=!1){async function o(c){if(!r){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,m)=>{pV(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const k=new fV(f);return c.tenantId==null?c._agentRecaptchaConfig=k:c._tenantRecaptchaConfigs[c.tenantId]=k,d(k.siteKey)}}).catch(f=>{m(f)})})}function s(c,d,m){const f=window.grecaptcha;aF(f)?f.enterprise.ready(()=>{f.enterprise.execute(c,{action:t}).then(k=>{d(k)}).catch(()=>{d(Vhe)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((c,d)=>{o(this.auth).then(m=>{if(!r&&aF(window.grecaptcha))s(m,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}mV(zhe+m).then(()=>{s(m,c,d)}).catch(f=>{d(f)})}}).catch(m=>{d(m)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hhe{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const o=c=>new Promise((d,m)=>{try{const f=t(c);d(f)}catch(f){m(f)}});o.onAbort=r,this.queue.push(o);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const o of this.queue)await o(t),o.onAbort&&r.push(o.onAbort)}catch(o){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o==null?void 0:o.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Whe{constructor(t,r,o,s){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=o,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lF(this),this.idTokenSubscription=new lF(this),this.beforeStateQueue=new Hhe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Z8,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Na(r)),this._initializationPromise=this.queue(async()=>{var o,s;if(!this._deleted&&(this.persistenceManager=await fh.create(this,t),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var r;const o=await this.assertedPersistence.getCurrentUser();let s=o,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,m=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(t);(!d||d===m)&&(f!=null&&f.user)&&(s=f.user,c=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(s)}catch(d){s=o,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await cw(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=whe()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const r=t?gn(t):null;return r&&bt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Na(t))})}async initializeRecaptchaConfig(){const t=await pV(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new fV(t);this.tenantId==null?this._agentRecaptchaConfig=r:this._tenantRecaptchaConfigs[this.tenantId]=r,r.emailPasswordEnabled&&new Uhe(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new $g("auth","Firebase",t())}onAuthStateChanged(t,r,o){return this.registerStateListener(this.authStateSubscription,t,r,o)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,o){return this.registerStateListener(this.idTokenSubscription,t,r,o)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,r){const o=await this.getOrInitRedirectPersistenceManager(r);return t===null?o.removeCurrentUser():o.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Na(t)||this._popupRedirectResolver;bt(r,this,"argument-error"),this.redirectPersistenceManager=await fh.create(this,[Na(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,o;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===t?this._currentUser:((o=this.redirectUser)===null||o===void 0?void 0:o._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const o=(r=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==o&&(this.lastNotifiedUid=o,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,o,s){if(this._deleted)return()=>{};const c=typeof r=="function"?r:r.next.bind(r),d=this._isInitialized?Promise.resolve():this._initializationPromise;return bt(d,this,"internal-error"),d.then(()=>c(this.currentUser)),typeof r=="function"?t.addObserver(r,o,s):t.addObserver(r)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=hV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const o=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());o&&(r["X-Firebase-Client"]=o);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var t;const r=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return r!=null&&r.error&&ghe(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Wg(e){return gn(e)}class lF{constructor(t){this.auth=t,this.observer=null,this.addObserver=ade(r=>this.observer=r)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qhe(e,t){const r=vy(e,"auth");if(r.isInitialized()){const s=r.getImmediate(),c=r.getOptions();if(sw(c,t??{}))return s;Xs(s,"already-initialized")}return r.initialize({options:t})}function Ghe(e,t){const r=(t==null?void 0:t.persistence)||[],o=(Array.isArray(r)?r:[r]).map(Na);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(o,t==null?void 0:t.popupRedirectResolver)}function Khe(e,t,r){const o=Wg(e);bt(o._canInitEmulator,o,"emulator-config-failed"),bt(/^https?:\/\//.test(t),o,"invalid-emulator-scheme");const s=!1,c=gV(t),{host:d,port:m}=Yhe(t),f=m===null?"":`:${m}`;o.config.emulator={url:`${c}//${d}${f}/`},o.settings.appVerificationDisabledForTesting=!0,o.emulatorConfig=Object.freeze({host:d,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:s})}),Qhe()}function gV(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Yhe(e){const t=gV(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const o=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(o);if(s){const c=s[1];return{host:c,port:cF(o.substr(c.length+1))}}else{const[c,d]=o.split(":");return{host:c,port:cF(d)}}}function cF(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Qhe(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return Pa("not implemented")}_getIdTokenResponse(t){return Pa("not implemented")}_linkToIdToken(t,r){return Pa("not implemented")}_getReauthenticationResolver(t){return Pa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(e,t){return Che(e,"POST","/v1/accounts:signInWithIdp",eV(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zhe="http://localhost";class xu extends bV{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new xu(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):Xs("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:o,signInMethod:s}=r,c=K2(r,["providerId","signInMethod"]);if(!o||!s)return null;const d=new xu(o,s);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const r=this.buildRequest();return mh(t,r)}_linkToIdToken(t,r){const o=this.buildRequest();return o.idToken=r,mh(t,o)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,mh(t,r)}buildRequest(){const t={requestUri:Zhe,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=Vg(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg extends X2{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends qg{constructor(){super("facebook.com")}static credential(t){return xu._fromParams({providerId:xl.PROVIDER_ID,signInMethod:xl.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xl.credentialFromTaggedObject(t)}static credentialFromError(t){return xl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xl.credential(t.oauthAccessToken)}catch{return null}}}xl.FACEBOOK_SIGN_IN_METHOD="facebook.com";xl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends qg{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return xu._fromParams({providerId:El.PROVIDER_ID,signInMethod:El.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return El.credentialFromTaggedObject(t)}static credentialFromError(t){return El.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:o}=t;if(!r&&!o)return null;try{return El.credential(r,o)}catch{return null}}}El.GOOGLE_SIGN_IN_METHOD="google.com";El.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends qg{constructor(){super("github.com")}static credential(t){return xu._fromParams({providerId:Sl.PROVIDER_ID,signInMethod:Sl.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Sl.credentialFromTaggedObject(t)}static credentialFromError(t){return Sl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Sl.credential(t.oauthAccessToken)}catch{return null}}}Sl.GITHUB_SIGN_IN_METHOD="github.com";Sl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends qg{constructor(){super("twitter.com")}static credential(t,r){return xu._fromParams({providerId:Dl.PROVIDER_ID,signInMethod:Dl.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return Dl.credentialFromTaggedObject(t)}static credentialFromError(t){return Dl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:o}=t;if(!r||!o)return null;try{return Dl.credential(r,o)}catch{return null}}}Dl.TWITTER_SIGN_IN_METHOD="twitter.com";Dl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,o,s=!1){const c=await uu._fromIdTokenResponse(t,o,s),d=uF(o);return new Rh({user:c,providerId:d,_tokenResponse:o,operationType:r})}static async _forOperation(t,r,o){await t._updateTokensIfNecessary(o,!0);const s=uF(o);return new Rh({user:t,providerId:s,_tokenResponse:o,operationType:r})}}function uF(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw extends la{constructor(t,r,o,s){var c;super(r.code,r.message),this.operationType=o,this.user=s,Object.setPrototypeOf(this,uw.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:r.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(t,r,o,s){return new uw(t,r,o,s)}}function kV(e,t,r,o){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?uw._fromErrorAndOperation(e,c,t,o):c})}async function Jhe(e,t,r=!1){const o=await eg(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return Rh._forOperation(e,"link",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xhe(e,t,r=!1){const{auth:o}=e,s="reauthenticate";try{const c=await eg(e,kV(o,s,t,e),r);bt(c.idToken,o,"internal-error");const d=Z2(c.idToken);bt(d,o,"internal-error");const{sub:m}=d;return bt(e.uid===m,o,"user-mismatch"),Rh._forOperation(e,s,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Xs(o,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function epe(e,t,r=!1){const o="signIn",s=await kV(e,o,t),c=await Rh._fromIdTokenResponse(e,o,s);return r||await e._updateCurrentUser(c.user),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eLe(e,t){return gn(e).setPersistence(t)}function tpe(e,t,r,o){return gn(e).onIdTokenChanged(t,r,o)}function npe(e,t,r){return gn(e).beforeAuthStateChanged(t,r)}function rpe(e,t,r,o){return gn(e).onAuthStateChanged(t,r,o)}function ope(e){return gn(e).signOut()}const dw="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(dw,"1"),this.storage.removeItem(dw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ipe(){const e=ao();return J2(e)||wy(e)}const spe=1e3,ape=10;class wV extends vV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=ipe()&&Lhe(),this.fallbackToPolling=dV(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const o=this.storage.getItem(r),s=this.localCache[r];o!==s&&t(r,s,o)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((d,m,f)=>{this.notifyListeners(d,f)});return}const o=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const d=this.storage.getItem(o);if(t.newValue!==d)t.newValue!==null?this.storage.setItem(o,t.newValue):this.storage.removeItem(o);else if(this.localCache[o]===t.newValue&&!r)return}const s=()=>{const d=this.storage.getItem(o);!r&&this.localCache[o]===d||this.notifyListeners(o,d)},c=this.storage.getItem(o);Bhe()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,ape):s()}notifyListeners(t,r){this.localCache[t]=r;const o=this.listeners[t];if(o)for(const s of Array.from(o))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:o}),!0)})},spe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}wV.type="LOCAL";const lpe=wV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV extends vV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}yV.type="SESSION";const _V=yV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cpe(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const o=new yy(t);return this.receivers.push(o),o}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:o,eventType:s,data:c}=r.data,d=this.handlersMap[s];if(!(d!=null&&d.size))return;r.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const m=Array.from(d).map(async k=>k(r.origin,c)),f=await cpe(m);r.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:f})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(e="",t=10){let r="";for(let o=0;o<t;o++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class upe{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,o=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let c,d;return new Promise((m,f)=>{const k=eD("",20);s.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},o);d={messageChannel:s,onMessage(_){const y=_;if(y.data.eventId===k)switch(y.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(y.data.response);break;default:clearTimeout(v),clearTimeout(c),f(new Error("invalid_response"));break}}},this.handlers.add(d),s.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:k,data:r},[s.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(){return window}function dpe(e){qs().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(){return typeof qs().WorkerGlobalScope<"u"&&typeof qs().importScripts=="function"}async function hpe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ppe(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function fpe(){return CV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV="firebaseLocalStorageDb",mpe=1,hw="firebaseLocalStorage",xV="fbase_key";class Gg{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function _y(e,t){return e.transaction([hw],t?"readwrite":"readonly").objectStore(hw)}function gpe(){const e=indexedDB.deleteDatabase(AV);return new Gg(e).toPromise()}function $E(){const e=indexedDB.open(AV,mpe);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const o=e.result;try{o.createObjectStore(hw,{keyPath:xV})}catch(s){r(s)}}),e.addEventListener("success",async()=>{const o=e.result;o.objectStoreNames.contains(hw)?t(o):(o.close(),await gpe(),t(await $E()))})})}async function dF(e,t,r){const o=_y(e,!0).put({[xV]:t,value:r});return new Gg(o).toPromise()}async function bpe(e,t){const r=_y(e,!1).get(t),o=await new Gg(r).toPromise();return o===void 0?null:o.value}function hF(e,t){const r=_y(e,!0).delete(t);return new Gg(r).toPromise()}const kpe=800,vpe=3;class EV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $E(),this.db)}async _withRetries(t){let r=0;for(;;)try{const o=await this._openDb();return await t(o)}catch(o){if(r++>vpe)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yy._getInstance(fpe()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await hpe(),!this.activeServiceWorker)return;this.sender=new upe(this.activeServiceWorker);const o=await this.sender._send("ping",{},800);o&&!((t=o[0])===null||t===void 0)&&t.fulfilled&&!((r=o[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ppe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $E();return await dF(t,dw,"1"),await hF(t,dw),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(o=>dF(o,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(o=>bpe(o,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>hF(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const c=_y(s,!1).getAll();return new Gg(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],o=new Set;for(const{fbase_key:s,value:c}of t)o.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(c)&&(this.notifyListeners(s,c),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!o.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(t,r){this.localCache[t]=r;const o=this.listeners[t];if(o)for(const s of Array.from(o))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kpe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EV.type="LOCAL";const wpe=EV;new Ug(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(e,t){return t?Na(t):(bt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD extends bV{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return mh(t,this._buildIdpRequest())}_linkToIdToken(t,r){return mh(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return mh(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function ype(e){return epe(e.auth,new tD(e),e.bypassAuthState)}function _pe(e){const{auth:t,user:r}=e;return bt(r,t,"internal-error"),Xhe(r,new tD(e),e.bypassAuthState)}async function Cpe(e){const{auth:t,user:r}=e;return bt(r,t,"internal-error"),Jhe(r,new tD(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(t,r,o,s,c=!1){this.auth=t,this.resolver=o,this.user=s,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:o,postBody:s,tenantId:c,error:d,type:m}=t;if(d){this.reject(d);return}const f={auth:this.auth,requestUri:r,sessionId:o,tenantId:c||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(f))}catch(k){this.reject(k)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ype;case"linkViaPopup":case"linkViaRedirect":return Cpe;case"reauthViaPopup":case"reauthViaRedirect":return _pe;default:Xs(this.auth,"internal-error")}}resolve(t){qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ape=new Ug(2e3,1e4);async function tLe(e,t,r){const o=Wg(e);bhe(e,t,X2);const s=SV(o,r);return new tu(o,"signInViaPopup",t,s).executeNotNull()}class tu extends DV{constructor(t,r,o,s,c){super(t,r,s,c),this.provider=o,this.authWindow=null,this.pollId=null,tu.currentPopupAction&&tu.currentPopupAction.cancel(),tu.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){qa(this.filter.length===1,"Popup operations only handle one event");const t=eD();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ws(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ws(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tu.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,o;if(!((o=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||o===void 0)&&o.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ws(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Ape.get())};t()}}tu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xpe="pendingRedirect",d0=new Map;class Epe extends DV{constructor(t,r,o=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,o),this.eventId=null}async execute(){let t=d0.get(this.auth._key());if(!t){try{const o=await Spe(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(o)}catch(r){t=()=>Promise.reject(r)}d0.set(this.auth._key(),t)}return this.bypassAuthState||d0.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Spe(e,t){const r=Ipe(t),o=Tpe(e);if(!await o._isAvailable())return!1;const s=await o._get(r)==="true";return await o._remove(r),s}function Dpe(e,t){d0.set(e._key(),t)}function Tpe(e){return Na(e._redirectPersistence)}function Ipe(e){return u0(xpe,e.config.apiKey,e.name)}async function Mpe(e,t,r=!1){const o=Wg(e),s=SV(o,t),d=await new Epe(o,s,r).execute();return d&&!r&&(delete d.user._redirectEventId,await o._persistUserIfCurrent(d.user),await o._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ppe=10*60*1e3;class Npe{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(t,o)&&(r=!0,this.sendToConsumer(t,o),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Rpe(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var o;if(t.error&&!TV(t)){const s=((o=t.error.code)===null||o===void 0?void 0:o.split("auth/")[1])||"internal-error";r.onError(Ws(this.auth,s))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const o=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&o}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Ppe&&this.cachedEventUids.clear(),this.cachedEventUids.has(pF(t))}saveEventToCache(t){this.cachedEventUids.add(pF(t)),this.lastProcessedEventTime=Date.now()}}function pF(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function TV({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Rpe(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TV(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ope(e,t={}){return Hg(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bpe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lpe=/^https?/;async function jpe(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Ope(e);for(const r of t)try{if(Fpe(r))return}catch{}Xs(e,"unauthorized-domain")}function Fpe(e){const t=zE(),{protocol:r,hostname:o}=new URL(t);if(e.startsWith("chrome-extension://")){const d=new URL(e);return d.hostname===""&&o===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&d.hostname===o}if(!Lpe.test(r))return!1;if(Bpe.test(e))return o===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zpe=new Ug(3e4,6e4);function fF(){const e=qs().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function $pe(e){return new Promise((t,r)=>{var o,s,c;function d(){fF(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fF(),r(Ws(e,"network-request-failed"))},timeout:zpe.get()})}if(!((s=(o=qs().gapi)===null||o===void 0?void 0:o.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((c=qs().gapi)===null||c===void 0)&&c.load)d();else{const m=Fhe("iframefcb");return qs()[m]=()=>{gapi.load?d():r(Ws(e,"network-request-failed"))},mV(`https://apis.google.com/js/api.js?onload=${m}`).catch(f=>r(f))}}).catch(t=>{throw h0=null,t})}let h0=null;function Vpe(e){return h0=h0||$pe(e),h0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Upe=new Ug(5e3,15e3),Hpe="__/auth/iframe",Wpe="emulator/auth/iframe",qpe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gpe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kpe(e){const t=e.config;bt(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?Q2(t,Wpe):`https://${e.config.authDomain}/${Hpe}`,o={apiKey:t.apiKey,appName:e.name,v:$u},s=Gpe.get(e.config.apiHost);s&&(o.eid=s);const c=e._getFrameworks();return c.length&&(o.fw=c.join(",")),`${r}?${Vg(o).slice(1)}`}async function Ype(e){const t=await Vpe(e),r=qs().gapi;return bt(r,e,"internal-error"),t.open({where:document.body,url:Kpe(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qpe,dontclear:!0},o=>new Promise(async(s,c)=>{await o.restyle({setHideOnLeave:!1});const d=Ws(e,"network-request-failed"),m=qs().setTimeout(()=>{c(d)},Upe.get());function f(){qs().clearTimeout(m),s(o)}o.ping(f).then(f,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qpe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zpe=500,Jpe=600,Xpe="_blank",efe="http://localhost";class mF{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tfe(e,t,r,o=Zpe,s=Jpe){const c=Math.max((window.screen.availHeight-s)/2,0).toString(),d=Math.max((window.screen.availWidth-o)/2,0).toString();let m="";const f=Object.assign(Object.assign({},Qpe),{width:o.toString(),height:s.toString(),top:c,left:d}),k=ao().toLowerCase();r&&(m=sV(k)?Xpe:r),iV(k)&&(t=t||efe,f.scrollbars="yes");const v=Object.entries(f).reduce((y,[A,D])=>`${y}${A}=${D},`,"");if(Ohe(k)&&m!=="_self")return nfe(t||"",m),new mF(null);const _=window.open(t||"",m,v);bt(_,e,"popup-blocked");try{_.focus()}catch{}return new mF(_)}function nfe(e,t){const r=document.createElement("a");r.href=e,r.target=t;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rfe="__/auth/handler",ofe="emulator/auth/handler",ife=encodeURIComponent("fac");async function gF(e,t,r,o,s,c){bt(e.config.authDomain,e,"auth-domain-config-required"),bt(e.config.apiKey,e,"invalid-api-key");const d={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:o,v:$u,eventId:s};if(t instanceof X2){t.setDefaultLanguage(e.languageCode),d.providerId=t.providerId||"",sde(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,_]of Object.entries({}))d[v]=_}if(t instanceof qg){const v=t.getScopes().filter(_=>_!=="");v.length>0&&(d.scopes=v.join(","))}e.tenantId&&(d.tid=e.tenantId);const m=d;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const f=await e._getAppCheckToken(),k=f?`#${ife}=${encodeURIComponent(f)}`:"";return`${sfe(e)}?${Vg(m).slice(1)}${k}`}function sfe({config:e}){return e.emulator?Q2(e,ofe):`https://${e.authDomain}/${rfe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="webStorageSupport";class afe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_V,this._completeRedirectFn=Mpe,this._overrideRedirectResult=Dpe}async _openPopup(t,r,o,s){var c;qa((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await gF(t,r,o,zE(),s);return tfe(t,d,eD())}async _openRedirect(t,r,o,s){await this._originValidation(t);const c=await gF(t,r,o,zE(),s);return dpe(c),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:s,promise:c}=this.eventManagers[r];return s?Promise.resolve(s):(qa(c,"If manager is not set, promise should be"),c)}const o=this.initAndGetManager(t);return this.eventManagers[r]={promise:o},o.catch(()=>{delete this.eventManagers[r]}),o}async initAndGetManager(t){const r=await Ype(t),o=new Npe(t);return r.register("authEvent",s=>(bt(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:o.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:o},this.iframes[t._key()]=r,o}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(W1,{type:W1},s=>{var c;const d=(c=s==null?void 0:s[0])===null||c===void 0?void 0:c[W1];d!==void 0&&r(!!d),Xs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=jpe(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return dV()||J2()||wy()}}const lfe=afe;var bF="@firebase/auth",kF="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cfe{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(o=>{t((o==null?void 0:o.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ufe(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function dfe(e){Au(new Jl("auth",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=o.options;bt(d&&!d.includes(":"),"invalid-api-key",{appName:o.name});const f={apiKey:d,authDomain:m,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hV(e)},k=new Whe(o,s,c,f);return Ghe(k,r),k},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,o)=>{t.getProvider("auth-internal").initialize()})),Au(new Jl("auth-internal",t=>{const r=Wg(t.getProvider("auth").getImmediate());return(o=>new cfe(o))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hs(bF,kF,ufe(e)),Hs(bF,kF,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hfe=5*60,pfe=U8("authIdTokenMaxAge")||hfe;let vF=null;const ffe=e=>async t=>{const r=t&&await t.getIdTokenResult(),o=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(o&&o>pfe)return;const s=r==null?void 0:r.token;vF!==s&&(vF=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function IV(e=G2()){const t=vy(e,"auth");if(t.isInitialized())return t.getImmediate();const r=qhe(e,{popupRedirectResolver:lfe,persistence:[wpe,lpe,_V]}),o=U8("authTokenSyncURL");if(o){const c=ffe(o);npe(r,c,()=>c(r.currentUser)),tpe(r,d=>c(d))}const s=z8("auth");return s&&Khe(r,`http://${s}`),r}dfe("Browser");var mfe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ie,nD=nD||{},ft=mfe||self;function Cy(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Ay(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function gfe(e){return Object.prototype.hasOwnProperty.call(e,q1)&&e[q1]||(e[q1]=++bfe)}var q1="closure_uid_"+(1e9*Math.random()>>>0),bfe=0;function kfe(e,t,r){return e.call.apply(e.bind,arguments)}function vfe(e,t,r){if(!e)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,o),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function no(e,t,r){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?no=kfe:no=vfe,no.apply(null,arguments)}function _v(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var o=r.slice();return o.push.apply(o,arguments),e.apply(this,o)}}function Pr(e,t){function r(){}r.prototype=t.prototype,e.$=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.ac=function(o,s,c){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return t.prototype[s].apply(o,d)}}function uc(){this.s=this.s,this.o=this.o}var wfe=0;uc.prototype.s=!1;uc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),wfe!=0)&&gfe(this)};uc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const MV=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let r=0;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1};function rD(e){const t=e.length;if(0<t){const r=Array(t);for(let o=0;o<t;o++)r[o]=e[o];return r}return[]}function wF(e,t){for(let r=1;r<arguments.length;r++){const o=arguments[r];if(Cy(o)){const s=e.length||0,c=o.length||0;e.length=s+c;for(let d=0;d<c;d++)e[s+d]=o[d]}else e.push(o)}}function ro(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ro.prototype.h=function(){this.defaultPrevented=!0};var yfe=function(){if(!ft.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ft.addEventListener("test",()=>{},t),ft.removeEventListener("test",()=>{},t)}catch{}return e}();function ng(e){return/^[\s\xa0]*$/.test(e)}function xy(){var e=ft.navigator;return e&&(e=e.userAgent)?e:""}function Os(e){return xy().indexOf(e)!=-1}function oD(e){return oD[" "](e),e}oD[" "]=function(){};function _fe(e,t){var r=mme;return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}var Cfe=Os("Opera"),Oh=Os("Trident")||Os("MSIE"),PV=Os("Edge"),VE=PV||Oh,NV=Os("Gecko")&&!(xy().toLowerCase().indexOf("webkit")!=-1&&!Os("Edge"))&&!(Os("Trident")||Os("MSIE"))&&!Os("Edge"),Afe=xy().toLowerCase().indexOf("webkit")!=-1&&!Os("Edge");function RV(){var e=ft.document;return e?e.documentMode:void 0}var UE;e:{var G1="",K1=function(){var e=xy();if(NV)return/rv:([^\);]+)(\)|;)/.exec(e);if(PV)return/Edge\/([\d\.]+)/.exec(e);if(Oh)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(Afe)return/WebKit\/(\S+)/.exec(e);if(Cfe)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(K1&&(G1=K1?K1[1]:""),Oh){var Y1=RV();if(Y1!=null&&Y1>parseFloat(G1)){UE=String(Y1);break e}}UE=G1}var HE;if(ft.document&&Oh){var yF=RV();HE=yF||parseInt(UE,10)||void 0}else HE=void 0;var xfe=HE;function rg(e,t){if(ro.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var r=this.type=e.type,o=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(NV){e:{try{oD(t.nodeName);var s=!0;break e}catch{}s=!1}s||(t=null)}}else r=="mouseover"?t=e.fromElement:r=="mouseout"&&(t=e.toElement);this.relatedTarget=t,o?(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Efe[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&rg.$.h.call(this)}}Pr(rg,ro);var Efe={2:"touch",3:"pen",4:"mouse"};rg.prototype.h=function(){rg.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ey="closure_listenable_"+(1e6*Math.random()|0),Sfe=0;function Dfe(e,t,r,o,s){this.listener=e,this.proxy=null,this.src=t,this.type=r,this.capture=!!o,this.la=s,this.key=++Sfe,this.fa=this.ia=!1}function Sy(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function iD(e,t,r){for(const o in e)t.call(r,e[o],o,e)}function Tfe(e,t){for(const r in e)t.call(void 0,e[r],r,e)}function OV(e){const t={};for(const r in e)t[r]=e[r];return t}const _F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function BV(e,t){let r,o;for(let s=1;s<arguments.length;s++){o=arguments[s];for(r in o)e[r]=o[r];for(let c=0;c<_F.length;c++)r=_F[c],Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}}function Dy(e){this.src=e,this.g={},this.h=0}Dy.prototype.add=function(e,t,r,o,s){var c=e.toString();e=this.g[c],e||(e=this.g[c]=[],this.h++);var d=qE(e,t,o,s);return-1<d?(t=e[d],r||(t.ia=!1)):(t=new Dfe(t,this.src,c,!!o,s),t.ia=r,e.push(t)),t};function WE(e,t){var r=t.type;if(r in e.g){var o=e.g[r],s=MV(o,t),c;(c=0<=s)&&Array.prototype.splice.call(o,s,1),c&&(Sy(t),e.g[r].length==0&&(delete e.g[r],e.h--))}}function qE(e,t,r,o){for(var s=0;s<e.length;++s){var c=e[s];if(!c.fa&&c.listener==t&&c.capture==!!r&&c.la==o)return s}return-1}var sD="closure_lm_"+(1e6*Math.random()|0),Q1={};function LV(e,t,r,o,s){if(Array.isArray(t)){for(var c=0;c<t.length;c++)LV(e,t[c],r,o,s);return null}return r=zV(r),e&&e[Ey]?e.O(t,r,Ay(o)?!!o.capture:!!o,s):Ife(e,t,r,!1,o,s)}function Ife(e,t,r,o,s,c){if(!t)throw Error("Invalid event type");var d=Ay(s)?!!s.capture:!!s,m=lD(e);if(m||(e[sD]=m=new Dy(e)),r=m.add(t,r,o,d,c),r.proxy)return r;if(o=Mfe(),r.proxy=o,o.src=e,o.listener=r,e.addEventListener)yfe||(s=d),s===void 0&&(s=!1),e.addEventListener(t.toString(),o,s);else if(e.attachEvent)e.attachEvent(FV(t.toString()),o);else if(e.addListener&&e.removeListener)e.addListener(o);else throw Error("addEventListener and attachEvent are unavailable.");return r}function Mfe(){function e(r){return t.call(e.src,e.listener,r)}const t=Pfe;return e}function jV(e,t,r,o,s){if(Array.isArray(t))for(var c=0;c<t.length;c++)jV(e,t[c],r,o,s);else o=Ay(o)?!!o.capture:!!o,r=zV(r),e&&e[Ey]?(e=e.i,t=String(t).toString(),t in e.g&&(c=e.g[t],r=qE(c,r,o,s),-1<r&&(Sy(c[r]),Array.prototype.splice.call(c,r,1),c.length==0&&(delete e.g[t],e.h--)))):e&&(e=lD(e))&&(t=e.g[t.toString()],e=-1,t&&(e=qE(t,r,o,s)),(r=-1<e?t[e]:null)&&aD(r))}function aD(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Ey])WE(t.i,e);else{var r=e.type,o=e.proxy;t.removeEventListener?t.removeEventListener(r,o,e.capture):t.detachEvent?t.detachEvent(FV(r),o):t.addListener&&t.removeListener&&t.removeListener(o),(r=lD(t))?(WE(r,e),r.h==0&&(r.src=null,t[sD]=null)):Sy(e)}}}function FV(e){return e in Q1?Q1[e]:Q1[e]="on"+e}function Pfe(e,t){if(e.fa)e=!0;else{t=new rg(t,this);var r=e.listener,o=e.la||e.src;e.ia&&aD(e),e=r.call(o,t)}return e}function lD(e){return e=e[sD],e instanceof Dy?e:null}var Z1="__closure_events_fn_"+(1e9*Math.random()>>>0);function zV(e){return typeof e=="function"?e:(e[Z1]||(e[Z1]=function(t){return e.handleEvent(t)}),e[Z1])}function Mr(){uc.call(this),this.i=new Dy(this),this.S=this,this.J=null}Pr(Mr,uc);Mr.prototype[Ey]=!0;Mr.prototype.removeEventListener=function(e,t,r,o){jV(this,e,t,r,o)};function Hr(e,t){var r,o=e.J;if(o)for(r=[];o;o=o.J)r.push(o);if(e=e.S,o=t.type||t,typeof t=="string")t=new ro(t,e);else if(t instanceof ro)t.target=t.target||e;else{var s=t;t=new ro(o,e),BV(t,s)}if(s=!0,r)for(var c=r.length-1;0<=c;c--){var d=t.g=r[c];s=Cv(d,o,!0,t)&&s}if(d=t.g=e,s=Cv(d,o,!0,t)&&s,s=Cv(d,o,!1,t)&&s,r)for(c=0;c<r.length;c++)d=t.g=r[c],s=Cv(d,o,!1,t)&&s}Mr.prototype.N=function(){if(Mr.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var r=e.g[t],o=0;o<r.length;o++)Sy(r[o]);delete e.g[t],e.h--}}this.J=null};Mr.prototype.O=function(e,t,r,o){return this.i.add(String(e),t,!1,r,o)};Mr.prototype.P=function(e,t,r,o){return this.i.add(String(e),t,!0,r,o)};function Cv(e,t,r,o){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,c=0;c<t.length;++c){var d=t[c];if(d&&!d.fa&&d.capture==r){var m=d.listener,f=d.la||d.src;d.ia&&WE(e.i,d),s=m.call(f,o)!==!1&&s}}return s&&!o.defaultPrevented}var cD=ft.JSON.stringify;class Nfe{constructor(t,r){this.i=t,this.j=r,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function Rfe(){var e=uD;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class Ofe{constructor(){this.h=this.g=null}add(t,r){const o=$V.get();o.set(t,r),this.h?this.h.next=o:this.g=o,this.h=o}}var $V=new Nfe(()=>new Bfe,e=>e.reset());class Bfe{constructor(){this.next=this.g=this.h=null}set(t,r){this.h=t,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function Lfe(e){var t=1;e=e.split(":");const r=[];for(;0<t&&e.length;)r.push(e.shift()),t--;return e.length&&r.push(e.join(":")),r}function jfe(e){ft.setTimeout(()=>{throw e},0)}let og,ig=!1,uD=new Ofe,VV=()=>{const e=ft.Promise.resolve(void 0);og=()=>{e.then(Ffe)}};var Ffe=()=>{for(var e;e=Rfe();){try{e.h.call(e.g)}catch(r){jfe(r)}var t=$V;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ig=!1};function Ty(e,t){Mr.call(this),this.h=e||1,this.g=t||ft,this.j=no(this.qb,this),this.l=Date.now()}Pr(Ty,Mr);Ie=Ty.prototype;Ie.ga=!1;Ie.T=null;Ie.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Hr(this,"tick"),this.ga&&(dD(this),this.start()))}};Ie.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function dD(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}Ie.N=function(){Ty.$.N.call(this),dD(this),delete this.g};function hD(e,t,r){if(typeof e=="function")r&&(e=no(e,r));else if(e&&typeof e.handleEvent=="function")e=no(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ft.setTimeout(e,t||0)}function UV(e){e.g=hD(()=>{e.g=null,e.i&&(e.i=!1,UV(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class zfe extends uc{constructor(t,r){super(),this.m=t,this.j=r,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:UV(this)}N(){super.N(),this.g&&(ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sg(e){uc.call(this),this.h=e,this.g={}}Pr(sg,uc);var CF=[];function HV(e,t,r,o){Array.isArray(r)||(r&&(CF[0]=r.toString()),r=CF);for(var s=0;s<r.length;s++){var c=LV(t,r[s],o||e.handleEvent,!1,e.h||e);if(!c)break;e.g[c.key]=c}}function WV(e){iD(e.g,function(t,r){this.g.hasOwnProperty(r)&&aD(t)},e),e.g={}}sg.prototype.N=function(){sg.$.N.call(this),WV(this)};sg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Iy(){this.g=!0}Iy.prototype.Ea=function(){this.g=!1};function $fe(e,t,r,o,s,c){e.info(function(){if(e.g)if(c)for(var d="",m=c.split("&"),f=0;f<m.length;f++){var k=m[f].split("=");if(1<k.length){var v=k[0];k=k[1];var _=v.split("_");d=2<=_.length&&_[1]=="type"?d+(v+"="+k+"&"):d+(v+"=redacted&")}}else d=null;else d=c;return"XMLHTTP REQ ("+o+") [attempt "+s+"]: "+t+`
`+r+`
`+d})}function Vfe(e,t,r,o,s,c,d){e.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+s+"]: "+t+`
`+r+`
`+c+" "+d})}function ih(e,t,r,o){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+Hfe(e,r)+(o?" "+o:"")})}function Ufe(e,t){e.info(function(){return"TIMEOUT: "+t})}Iy.prototype.info=function(){};function Hfe(e,t){if(!e.g)return t;if(!t)return null;try{var r=JSON.parse(t);if(r){for(e=0;e<r.length;e++)if(Array.isArray(r[e])){var o=r[e];if(!(2>o.length)){var s=o[1];if(Array.isArray(s)&&!(1>s.length)){var c=s[0];if(c!="noop"&&c!="stop"&&c!="close")for(var d=1;d<s.length;d++)s[d]=""}}}}return cD(r)}catch{return t}}var Vu={},AF=null;function My(){return AF=AF||new Mr}Vu.Ta="serverreachability";function qV(e){ro.call(this,Vu.Ta,e)}Pr(qV,ro);function ag(e){const t=My();Hr(t,new qV(t))}Vu.STAT_EVENT="statevent";function GV(e,t){ro.call(this,Vu.STAT_EVENT,e),this.stat=t}Pr(GV,ro);function go(e){const t=My();Hr(t,new GV(t,e))}Vu.Ua="timingevent";function KV(e,t){ro.call(this,Vu.Ua,e),this.size=t}Pr(KV,ro);function Kg(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ft.setTimeout(function(){e()},t)}var Py={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},YV={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function pD(){}pD.prototype.h=null;function xF(e){return e.h||(e.h=e.i())}function QV(){}var Yg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fD(){ro.call(this,"d")}Pr(fD,ro);function mD(){ro.call(this,"c")}Pr(mD,ro);var GE;function Ny(){}Pr(Ny,pD);Ny.prototype.g=function(){return new XMLHttpRequest};Ny.prototype.i=function(){return{}};GE=new Ny;function Qg(e,t,r,o){this.l=e,this.j=t,this.m=r,this.W=o||1,this.U=new sg(this),this.P=Wfe,e=VE?125:void 0,this.V=new Ty(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ZV}function ZV(){this.i=null,this.g="",this.h=!1}var Wfe=45e3,KE={},pw={};Ie=Qg.prototype;Ie.setTimeout=function(e){this.P=e};function YE(e,t,r){e.L=1,e.v=Oy(Ga(t)),e.s=r,e.S=!0,JV(e,null)}function JV(e,t){e.G=Date.now(),Zg(e),e.A=Ga(e.v);var r=e.A,o=e.W;Array.isArray(o)||(o=[String(o)]),sU(r.i,"t",o),e.C=0,r=e.l.J,e.h=new ZV,e.g=SU(e.l,r?t:null,!e.s),0<e.O&&(e.M=new zfe(no(e.Pa,e,e.g),e.O)),HV(e.U,e.g,"readystatechange",e.nb),t=e.I?OV(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),ag(),$fe(e.j,e.u,e.A,e.m,e.W,e.s)}Ie.nb=function(e){e=e.target;const t=this.M;t&&js(e)==3?t.l():this.Pa(e)};Ie.Pa=function(e){try{if(e==this.g)e:{const v=js(this.g);var t=this.g.Ia();const _=this.g.da();if(!(3>v)&&(v!=3||VE||this.g&&(this.h.h||this.g.ja()||TF(this.g)))){this.J||v!=4||t==7||(t==8||0>=_?ag(3):ag(2)),Ry(this);var r=this.g.da();this.ca=r;t:if(XV(this)){var o=TF(this.g);e="";var s=o.length,c=js(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nu(this),km(this);var d="";break t}this.h.i=new ft.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(o[t],{stream:c&&t==s-1});o.splice(0,s),this.h.g+=e,this.C=0,d=this.h.g}else d=this.g.ja();if(this.i=r==200,Vfe(this.j,this.u,this.A,this.m,this.W,v,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,f=this.g;if((m=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ng(m)){var k=m;break t}}k=null}if(r=k)ih(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,QE(this,r);else{this.i=!1,this.o=3,go(12),nu(this),km(this);break e}}this.S?(eU(this,v,d),VE&&this.i&&v==3&&(HV(this.U,this.V,"tick",this.mb),this.V.start())):(ih(this.j,this.m,d,null),QE(this,d)),v==4&&nu(this),this.i&&!this.J&&(v==4?CU(this.l,this):(this.i=!1,Zg(this)))}else hme(this.g),r==400&&0<d.indexOf("Unknown SID")?(this.o=3,go(12)):(this.o=0,go(13)),nu(this),km(this)}}}catch{}finally{}};function XV(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function eU(e,t,r){let o=!0,s;for(;!e.J&&e.C<r.length;)if(s=qfe(e,r),s==pw){t==4&&(e.o=4,go(14),o=!1),ih(e.j,e.m,null,"[Incomplete Response]");break}else if(s==KE){e.o=4,go(15),ih(e.j,e.m,r,"[Invalid Chunk]"),o=!1;break}else ih(e.j,e.m,s,null),QE(e,s);XV(e)&&s!=pw&&s!=KE&&(e.h.g="",e.C=0),t!=4||r.length!=0||e.h.h||(e.o=1,go(16),o=!1),e.i=e.i&&o,o?0<r.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),yD(t),t.M=!0,go(11))):(ih(e.j,e.m,r,"[Invalid Chunked Response]"),nu(e),km(e))}Ie.mb=function(){if(this.g){var e=js(this.g),t=this.g.ja();this.C<t.length&&(Ry(this),eU(this,e,t),this.i&&e!=4&&Zg(this))}};function qfe(e,t){var r=e.C,o=t.indexOf(`
`,r);return o==-1?pw:(r=Number(t.substring(r,o)),isNaN(r)?KE:(o+=1,o+r>t.length?pw:(t=t.slice(o,o+r),e.C=o+r,t)))}Ie.cancel=function(){this.J=!0,nu(this)};function Zg(e){e.Y=Date.now()+e.P,tU(e,e.P)}function tU(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Kg(no(e.lb,e),t)}function Ry(e){e.B&&(ft.clearTimeout(e.B),e.B=null)}Ie.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(Ufe(this.j,this.A),this.L!=2&&(ag(),go(17)),nu(this),this.o=2,km(this)):tU(this,this.Y-e)};function km(e){e.l.H==0||e.J||CU(e.l,e)}function nu(e){Ry(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,dD(e.V),WV(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function QE(e,t){try{var r=e.l;if(r.H!=0&&(r.g==e||ZE(r.i,e))){if(!e.K&&ZE(r.i,e)&&r.H==3){try{var o=r.Ja.g.parse(t)}catch{o=null}if(Array.isArray(o)&&o.length==3){var s=o;if(s[0]==0){e:if(!r.u){if(r.g)if(r.g.G+3e3<e.G)gw(r),jy(r);else break e;wD(r),go(18)}}else r.Fa=s[1],0<r.Fa-r.V&&37500>s[2]&&r.G&&r.A==0&&!r.v&&(r.v=Kg(no(r.ib,r),6e3));if(1>=cU(r.i)&&r.oa){try{r.oa()}catch{}r.oa=void 0}}else ru(r,11)}else if((e.K||r.g==e)&&gw(r),!ng(t))for(s=r.Ja.g.parse(t),t=0;t<s.length;t++){let k=s[t];if(r.V=k[0],k=k[1],r.H==2)if(k[0]=="c"){r.K=k[1],r.pa=k[2];const v=k[3];v!=null&&(r.ra=v,r.l.info("VER="+r.ra));const _=k[4];_!=null&&(r.Ga=_,r.l.info("SVER="+r.Ga));const y=k[5];y!=null&&typeof y=="number"&&0<y&&(o=1.5*y,r.L=o,r.l.info("backChannelRequestTimeoutMs_="+o)),o=r;const A=e.g;if(A){const D=A.g?A.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(D){var c=o.i;c.g||D.indexOf("spdy")==-1&&D.indexOf("quic")==-1&&D.indexOf("h2")==-1||(c.j=c.l,c.g=new Set,c.h&&(gD(c,c.h),c.h=null))}if(o.F){const S=A.g?A.g.getResponseHeader("X-HTTP-Session-Id"):null;S&&(o.Da=S,Cn(o.I,o.F,S))}}r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-e.G,r.l.info("Handshake RTT: "+r.S+"ms")),o=r;var d=e;if(o.wa=EU(o,o.J?o.pa:null,o.Y),d.K){uU(o.i,d);var m=d,f=o.L;f&&m.setTimeout(f),m.B&&(Ry(m),Zg(m)),o.g=d}else yU(o);0<r.j.length&&Fy(r)}else k[0]!="stop"&&k[0]!="close"||ru(r,7);else r.H==3&&(k[0]=="stop"||k[0]=="close"?k[0]=="stop"?ru(r,7):vD(r):k[0]!="noop"&&r.h&&r.h.Aa(k),r.A=0)}}ag(4)}catch{}}function Gfe(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Cy(e)){for(var t=[],r=e.length,o=0;o<r;o++)t.push(e[o]);return t}t=[],r=0;for(o in e)t[r++]=e[o];return t}function Kfe(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Cy(e)||typeof e=="string"){var t=[];e=e.length;for(var r=0;r<e;r++)t.push(r);return t}t=[],r=0;for(const o in e)t[r++]=o;return t}}}function nU(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Cy(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var r=Kfe(e),o=Gfe(e),s=o.length,c=0;c<s;c++)t.call(void 0,o[c],r&&r[c],e)}var rU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yfe(e,t){if(e){e=e.split("&");for(var r=0;r<e.length;r++){var o=e[r].indexOf("="),s=null;if(0<=o){var c=e[r].substring(0,o);s=e[r].substring(o+1)}else c=e[r];t(c,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function du(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof du){this.h=e.h,fw(this,e.j),this.s=e.s,this.g=e.g,mw(this,e.m),this.l=e.l;var t=e.i,r=new lg;r.i=t.i,t.g&&(r.g=new Map(t.g),r.h=t.h),EF(this,r),this.o=e.o}else e&&(t=String(e).match(rU))?(this.h=!1,fw(this,t[1]||"",!0),this.s=Jf(t[2]||""),this.g=Jf(t[3]||"",!0),mw(this,t[4]),this.l=Jf(t[5]||"",!0),EF(this,t[6]||"",!0),this.o=Jf(t[7]||"")):(this.h=!1,this.i=new lg(null,this.h))}du.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Xf(t,SF,!0),":");var r=this.g;return(r||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Xf(t,SF,!0),"@"),e.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r=this.m,r!=null&&e.push(":",String(r))),(r=this.l)&&(this.g&&r.charAt(0)!="/"&&e.push("/"),e.push(Xf(r,r.charAt(0)=="/"?Jfe:Zfe,!0))),(r=this.i.toString())&&e.push("?",r),(r=this.o)&&e.push("#",Xf(r,eme)),e.join("")};function Ga(e){return new du(e)}function fw(e,t,r){e.j=r?Jf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function mw(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function EF(e,t,r){t instanceof lg?(e.i=t,tme(e.i,e.h)):(r||(t=Xf(t,Xfe)),e.i=new lg(t,e.h))}function Cn(e,t,r){e.i.set(t,r)}function Oy(e){return Cn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Jf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Xf(e,t,r){return typeof e=="string"?(e=encodeURI(e).replace(t,Qfe),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Qfe(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var SF=/[#\/\?@]/g,Zfe=/[#\?:]/g,Jfe=/[#\?]/g,Xfe=/[#\?@]/g,eme=/#/g;function lg(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function dc(e){e.g||(e.g=new Map,e.h=0,e.i&&Yfe(e.i,function(t,r){e.add(decodeURIComponent(t.replace(/\+/g," ")),r)}))}Ie=lg.prototype;Ie.add=function(e,t){dc(this),this.i=null,e=pp(this,e);var r=this.g.get(e);return r||this.g.set(e,r=[]),r.push(t),this.h+=1,this};function oU(e,t){dc(e),t=pp(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function iU(e,t){return dc(e),t=pp(e,t),e.g.has(t)}Ie.forEach=function(e,t){dc(this),this.g.forEach(function(r,o){r.forEach(function(s){e.call(t,s,o,this)},this)},this)};Ie.ta=function(){dc(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),r=[];for(let o=0;o<t.length;o++){const s=e[o];for(let c=0;c<s.length;c++)r.push(t[o])}return r};Ie.Z=function(e){dc(this);let t=[];if(typeof e=="string")iU(this,e)&&(t=t.concat(this.g.get(pp(this,e))));else{e=Array.from(this.g.values());for(let r=0;r<e.length;r++)t=t.concat(e[r])}return t};Ie.set=function(e,t){return dc(this),this.i=null,e=pp(this,e),iU(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Ie.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function sU(e,t,r){oU(e,t),0<r.length&&(e.i=null,e.g.set(pp(e,t),rD(r)),e.h+=r.length)}Ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var r=0;r<t.length;r++){var o=t[r];const c=encodeURIComponent(String(o)),d=this.Z(o);for(o=0;o<d.length;o++){var s=c;d[o]!==""&&(s+="="+encodeURIComponent(String(d[o]))),e.push(s)}}return this.i=e.join("&")};function pp(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function tme(e,t){t&&!e.j&&(dc(e),e.i=null,e.g.forEach(function(r,o){var s=o.toLowerCase();o!=s&&(oU(this,o),sU(this,s,r))},e)),e.j=t}var nme=class{constructor(e,t){this.g=e,this.map=t}};function aU(e){this.l=e||rme,ft.PerformanceNavigationTiming?(e=ft.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ft.g&&ft.g.Ka&&ft.g.Ka()&&ft.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rme=10;function lU(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function cU(e){return e.h?1:e.g?e.g.size:0}function ZE(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function gD(e,t){e.g?e.g.add(t):e.h=t}function uU(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}aU.prototype.cancel=function(){if(this.i=dU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function dU(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const r of e.g.values())t=t.concat(r.F);return t}return rD(e.i)}var ome=class{stringify(e){return ft.JSON.stringify(e,void 0)}parse(e){return ft.JSON.parse(e,void 0)}};function ime(){this.g=new ome}function sme(e,t,r){const o=r||"";try{nU(e,function(s,c){let d=s;Ay(s)&&(d=cD(s)),t.push(o+c+"="+encodeURIComponent(d))})}catch(s){throw t.push(o+"type="+encodeURIComponent("_badmap")),s}}function ame(e,t){const r=new Iy;if(ft.Image){const o=new Image;o.onload=_v(Av,r,o,"TestLoadImage: loaded",!0,t),o.onerror=_v(Av,r,o,"TestLoadImage: error",!1,t),o.onabort=_v(Av,r,o,"TestLoadImage: abort",!1,t),o.ontimeout=_v(Av,r,o,"TestLoadImage: timeout",!1,t),ft.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=e}else t(!1)}function Av(e,t,r,o,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(o)}catch{}}function Jg(e){this.l=e.fc||null,this.j=e.ob||!1}Pr(Jg,pD);Jg.prototype.g=function(){return new By(this.l,this.j)};Jg.prototype.i=function(e){return function(){return e}}({});function By(e,t){Mr.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=bD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pr(By,Mr);var bD=0;Ie=By.prototype;Ie.open=function(e,t){if(this.readyState!=bD)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,cg(this)};Ie.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ft).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};Ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xg(this)),this.readyState=bD};Ie.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,cg(this)),this.g&&(this.readyState=3,cg(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ft.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hU(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function hU(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}Ie.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Xg(this):cg(this),this.readyState==3&&hU(this)}};Ie.Za=function(e){this.g&&(this.response=this.responseText=e,Xg(this))};Ie.Ya=function(e){this.g&&(this.response=e,Xg(this))};Ie.ka=function(){this.g&&Xg(this)};function Xg(e){e.readyState=4,e.l=null,e.j=null,e.A=null,cg(e)}Ie.setRequestHeader=function(e,t){this.v.append(e,t)};Ie.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Ie.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var r=t.next();!r.done;)r=r.value,e.push(r[0]+": "+r[1]),r=t.next();return e.join(`\r
`)};function cg(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(By.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var lme=ft.JSON.parse;function Kn(e){Mr.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=pU,this.L=this.M=!1}Pr(Kn,Mr);var pU="",cme=/^https?$/i,ume=["POST","PUT"];Ie=Kn.prototype;Ie.Oa=function(e){this.M=e};Ie.ha=function(e,t,r,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():GE.g(),this.C=this.u?xF(this.u):xF(GE),this.g.onreadystatechange=no(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(c){DF(this,c);return}if(e=r||"",r=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var s in o)r.set(s,o[s]);else if(typeof o.keys=="function"&&typeof o.get=="function")for(const c of o.keys())r.set(c,o.get(c));else throw Error("Unknown input type for opt_headers: "+String(o));o=Array.from(r.keys()).find(c=>c.toLowerCase()=="content-type"),s=ft.FormData&&e instanceof ft.FormData,!(0<=MV(ume,t))||o||s||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,d]of r)this.g.setRequestHeader(c,d);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gU(this),0<this.B&&((this.L=dme(this.g))?(this.g.timeout=this.B,this.g.ontimeout=no(this.ua,this)):this.A=hD(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(c){DF(this,c)}};function dme(e){return Oh&&typeof e.timeout=="number"&&e.ontimeout!==void 0}Ie.ua=function(){typeof nD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hr(this,"timeout"),this.abort(8))};function DF(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,fU(e),Ly(e)}function fU(e){e.F||(e.F=!0,Hr(e,"complete"),Hr(e,"error"))}Ie.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Hr(this,"complete"),Hr(this,"abort"),Ly(this))};Ie.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ly(this,!0)),Kn.$.N.call(this)};Ie.La=function(){this.s||(this.G||this.v||this.l?mU(this):this.kb())};Ie.kb=function(){mU(this)};function mU(e){if(e.h&&typeof nD<"u"&&(!e.C[1]||js(e)!=4||e.da()!=2)){if(e.v&&js(e)==4)hD(e.La,0,e);else if(Hr(e,"readystatechange"),js(e)==4){e.h=!1;try{const d=e.da();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var r;if(!(r=t)){var o;if(o=d===0){var s=String(e.I).match(rU)[1]||null;!s&&ft.self&&ft.self.location&&(s=ft.self.location.protocol.slice(0,-1)),o=!cme.test(s?s.toLowerCase():"")}r=o}if(r)Hr(e,"complete"),Hr(e,"success");else{e.m=6;try{var c=2<js(e)?e.g.statusText:""}catch{c=""}e.j=c+" ["+e.da()+"]",fU(e)}}finally{Ly(e)}}}}function Ly(e,t){if(e.g){gU(e);const r=e.g,o=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Hr(e,"ready");try{r.onreadystatechange=o}catch{}}}function gU(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ft.clearTimeout(e.A),e.A=null)}Ie.isActive=function(){return!!this.g};function js(e){return e.g?e.g.readyState:0}Ie.da=function(){try{return 2<js(this)?this.g.status:-1}catch{return-1}};Ie.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ie.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),lme(t)}};function TF(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case pU:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function hme(e){const t={};e=(e.g&&2<=js(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let o=0;o<e.length;o++){if(ng(e[o]))continue;var r=Lfe(e[o]);const s=r[0];if(r=r[1],typeof r!="string")continue;r=r.trim();const c=t[s]||[];t[s]=c,c.push(r)}Tfe(t,function(o){return o.join(", ")})}Ie.Ia=function(){return this.m};Ie.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function bU(e){let t="";return iD(e,function(r,o){t+=o,t+=":",t+=r,t+=`\r
`}),t}function kD(e,t,r){e:{for(o in r){var o=!1;break e}o=!0}o||(r=bU(r),typeof e=="string"?r!=null&&encodeURIComponent(String(r)):Cn(e,t,r))}function Df(e,t,r){return r&&r.internalChannelParams&&r.internalChannelParams[e]||t}function kU(e){this.Ga=0,this.j=[],this.l=new Iy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Df("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Df("baseRetryDelayMs",5e3,e),this.hb=Df("retryDelaySeedMs",1e4,e),this.eb=Df("forwardChannelMaxRetries",2,e),this.xa=Df("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new aU(e&&e.concurrentRequestLimit),this.Ja=new ime,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ie=kU.prototype;Ie.ra=8;Ie.H=1;function vD(e){if(vU(e),e.H==3){var t=e.W++,r=Ga(e.I);if(Cn(r,"SID",e.K),Cn(r,"RID",t),Cn(r,"TYPE","terminate"),eb(e,r),t=new Qg(e,e.l,t),t.L=2,t.v=Oy(Ga(r)),r=!1,ft.navigator&&ft.navigator.sendBeacon)try{r=ft.navigator.sendBeacon(t.v.toString(),"")}catch{}!r&&ft.Image&&(new Image().src=t.v,r=!0),r||(t.g=SU(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Zg(t)}xU(e)}function jy(e){e.g&&(yD(e),e.g.cancel(),e.g=null)}function vU(e){jy(e),e.u&&(ft.clearTimeout(e.u),e.u=null),gw(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&ft.clearTimeout(e.m),e.m=null)}function Fy(e){if(!lU(e.i)&&!e.m){e.m=!0;var t=e.Na;og||VV(),ig||(og(),ig=!0),uD.add(t,e),e.C=0}}function pme(e,t){return cU(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Kg(no(e.Na,e,t),AU(e,e.C)),e.C++,!0)}Ie.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const s=new Qg(this,this.l,e);let c=this.s;if(this.U&&(c?(c=OV(c),BV(c,this.U)):c=this.U),this.o!==null||this.O||(s.I=c,c=null),this.P)e:{for(var t=0,r=0;r<this.j.length;r++){t:{var o=this.j[r];if("__data__"in o.map&&(o=o.map.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(t+=o,4096<t){t=r;break e}if(t===4096||r===this.j.length-1){t=r+1;break e}}t=1e3}else t=1e3;t=wU(this,s,t),r=Ga(this.I),Cn(r,"RID",e),Cn(r,"CVER",22),this.F&&Cn(r,"X-HTTP-Session-Id",this.F),eb(this,r),c&&(this.O?t="headers="+encodeURIComponent(String(bU(c)))+"&"+t:this.o&&kD(r,this.o,c)),gD(this.i,s),this.bb&&Cn(r,"TYPE","init"),this.P?(Cn(r,"$req",t),Cn(r,"SID","null"),s.aa=!0,YE(s,r,null)):YE(s,r,t),this.H=2}}else this.H==3&&(e?IF(this,e):this.j.length==0||lU(this.i)||IF(this))};function IF(e,t){var r;t?r=t.m:r=e.W++;const o=Ga(e.I);Cn(o,"SID",e.K),Cn(o,"RID",r),Cn(o,"AID",e.V),eb(e,o),e.o&&e.s&&kD(o,e.o,e.s),r=new Qg(e,e.l,r,e.C+1),e.o===null&&(r.I=e.s),t&&(e.j=t.F.concat(e.j)),t=wU(e,r,1e3),r.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),gD(e.i,r),YE(r,o,t)}function eb(e,t){e.na&&iD(e.na,function(r,o){Cn(t,o,r)}),e.h&&nU({},function(r,o){Cn(t,o,r)})}function wU(e,t,r){r=Math.min(e.j.length,r);var o=e.h?no(e.h.Va,e.h,e):null;e:{var s=e.j;let c=-1;for(;;){const d=["count="+r];c==-1?0<r?(c=s[0].g,d.push("ofs="+c)):c=0:d.push("ofs="+c);let m=!0;for(let f=0;f<r;f++){let k=s[f].g;const v=s[f].map;if(k-=c,0>k)c=Math.max(0,s[f].g-100),m=!1;else try{sme(v,d,"req"+k+"_")}catch{o&&o(v)}}if(m){o=d.join("&");break e}}}return e=e.j.splice(0,r),t.F=e,o}function yU(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;og||VV(),ig||(og(),ig=!0),uD.add(t,e),e.A=0}}function wD(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Kg(no(e.Ma,e),AU(e,e.A)),e.A++,!0)}Ie.Ma=function(){if(this.u=null,_U(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Kg(no(this.jb,this),e)}};Ie.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,go(10),jy(this),_U(this))};function yD(e){e.B!=null&&(ft.clearTimeout(e.B),e.B=null)}function _U(e){e.g=new Qg(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Ga(e.wa);Cn(t,"RID","rpc"),Cn(t,"SID",e.K),Cn(t,"AID",e.V),Cn(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Cn(t,"TO",e.qa),Cn(t,"TYPE","xmlhttp"),eb(e,t),e.o&&e.s&&kD(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var r=e.g;e=e.pa,r.L=1,r.v=Oy(Ga(t)),r.s=null,r.S=!0,JV(r,e)}Ie.ib=function(){this.v!=null&&(this.v=null,jy(this),wD(this),go(19))};function gw(e){e.v!=null&&(ft.clearTimeout(e.v),e.v=null)}function CU(e,t){var r=null;if(e.g==t){gw(e),yD(e),e.g=null;var o=2}else if(ZE(e.i,t))r=t.F,uU(e.i,t),o=1;else return;if(e.H!=0){if(t.i)if(o==1){r=t.s?t.s.length:0,t=Date.now()-t.G;var s=e.C;o=My(),Hr(o,new KV(o,r)),Fy(e)}else yU(e);else if(s=t.o,s==3||s==0&&0<t.ca||!(o==1&&pme(e,t)||o==2&&wD(e)))switch(r&&0<r.length&&(t=e.i,t.i=t.i.concat(r)),s){case 1:ru(e,5);break;case 4:ru(e,10);break;case 3:ru(e,6);break;default:ru(e,2)}}}function AU(e,t){let r=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(r*=2),r*t}function ru(e,t){if(e.l.info("Error code "+t),t==2){var r=null;e.h&&(r=null);var o=no(e.pb,e);r||(r=new du("//www.google.com/images/cleardot.gif"),ft.location&&ft.location.protocol=="http"||fw(r,"https"),Oy(r)),ame(r.toString(),o)}else go(2);e.H=0,e.h&&e.h.za(t),xU(e),vU(e)}Ie.pb=function(e){e?(this.l.info("Successfully pinged google.com"),go(2)):(this.l.info("Failed to ping google.com"),go(1))};function xU(e){if(e.H=0,e.ma=[],e.h){const t=dU(e.i);(t.length!=0||e.j.length!=0)&&(wF(e.ma,t),wF(e.ma,e.j),e.i.i.length=0,rD(e.j),e.j.length=0),e.h.ya()}}function EU(e,t,r){var o=r instanceof du?Ga(r):new du(r);if(o.g!="")t&&(o.g=t+"."+o.g),mw(o,o.m);else{var s=ft.location;o=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var c=new du(null);o&&fw(c,o),t&&(c.g=t),s&&mw(c,s),r&&(c.l=r),o=c}return r=e.F,t=e.Da,r&&t&&Cn(o,r,t),Cn(o,"VER",e.ra),eb(e,o),o}function SU(e,t,r){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=r&&e.Ha&&!e.va?new Kn(new Jg({ob:!0})):new Kn(e.va),t.Oa(e.J),t}Ie.isActive=function(){return!!this.h&&this.h.isActive(this)};function DU(){}Ie=DU.prototype;Ie.Ba=function(){};Ie.Aa=function(){};Ie.za=function(){};Ie.ya=function(){};Ie.isActive=function(){return!0};Ie.Va=function(){};function bw(){if(Oh&&!(10<=Number(xfe)))throw Error("Environmental error: no available transport.")}bw.prototype.g=function(e,t){return new ci(e,t)};function ci(e,t){Mr.call(this),this.g=new kU(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ng(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ng(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new fp(this)}Pr(ci,Mr);ci.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,r=this.h||void 0;go(0),e.Y=t,e.na=r||{},e.G=e.aa,e.I=EU(e,null,e.Y),Fy(e)};ci.prototype.close=function(){vD(this.g)};ci.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var r={};r.__data__=e,e=r}else this.v&&(r={},r.__data__=cD(e),e=r);t.j.push(new nme(t.fb++,e)),t.H==3&&Fy(t)};ci.prototype.N=function(){this.g.h=null,delete this.j,vD(this.g),delete this.g,ci.$.N.call(this)};function TU(e){fD.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const r in t){e=r;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Pr(TU,fD);function IU(){mD.call(this),this.status=1}Pr(IU,mD);function fp(e){this.g=e}Pr(fp,DU);fp.prototype.Ba=function(){Hr(this.g,"a")};fp.prototype.Aa=function(e){Hr(this.g,new TU(e))};fp.prototype.za=function(e){Hr(this.g,new IU)};fp.prototype.ya=function(){Hr(this.g,"b")};function fme(){this.blockSize=-1}function ds(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Pr(ds,fme);ds.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function J1(e,t,r){r||(r=0);var o=Array(16);if(typeof t=="string")for(var s=0;16>s;++s)o[s]=t.charCodeAt(r++)|t.charCodeAt(r++)<<8|t.charCodeAt(r++)<<16|t.charCodeAt(r++)<<24;else for(s=0;16>s;++s)o[s]=t[r++]|t[r++]<<8|t[r++]<<16|t[r++]<<24;t=e.g[0],r=e.g[1],s=e.g[2];var c=e.g[3],d=t+(c^r&(s^c))+o[0]+3614090360&4294967295;t=r+(d<<7&4294967295|d>>>25),d=c+(s^t&(r^s))+o[1]+3905402710&4294967295,c=t+(d<<12&4294967295|d>>>20),d=s+(r^c&(t^r))+o[2]+606105819&4294967295,s=c+(d<<17&4294967295|d>>>15),d=r+(t^s&(c^t))+o[3]+3250441966&4294967295,r=s+(d<<22&4294967295|d>>>10),d=t+(c^r&(s^c))+o[4]+4118548399&4294967295,t=r+(d<<7&4294967295|d>>>25),d=c+(s^t&(r^s))+o[5]+1200080426&4294967295,c=t+(d<<12&4294967295|d>>>20),d=s+(r^c&(t^r))+o[6]+2821735955&4294967295,s=c+(d<<17&4294967295|d>>>15),d=r+(t^s&(c^t))+o[7]+4249261313&4294967295,r=s+(d<<22&4294967295|d>>>10),d=t+(c^r&(s^c))+o[8]+1770035416&4294967295,t=r+(d<<7&4294967295|d>>>25),d=c+(s^t&(r^s))+o[9]+2336552879&4294967295,c=t+(d<<12&4294967295|d>>>20),d=s+(r^c&(t^r))+o[10]+4294925233&4294967295,s=c+(d<<17&4294967295|d>>>15),d=r+(t^s&(c^t))+o[11]+2304563134&4294967295,r=s+(d<<22&4294967295|d>>>10),d=t+(c^r&(s^c))+o[12]+1804603682&4294967295,t=r+(d<<7&4294967295|d>>>25),d=c+(s^t&(r^s))+o[13]+4254626195&4294967295,c=t+(d<<12&4294967295|d>>>20),d=s+(r^c&(t^r))+o[14]+2792965006&4294967295,s=c+(d<<17&4294967295|d>>>15),d=r+(t^s&(c^t))+o[15]+1236535329&4294967295,r=s+(d<<22&4294967295|d>>>10),d=t+(s^c&(r^s))+o[1]+4129170786&4294967295,t=r+(d<<5&4294967295|d>>>27),d=c+(r^s&(t^r))+o[6]+3225465664&4294967295,c=t+(d<<9&4294967295|d>>>23),d=s+(t^r&(c^t))+o[11]+643717713&4294967295,s=c+(d<<14&4294967295|d>>>18),d=r+(c^t&(s^c))+o[0]+3921069994&4294967295,r=s+(d<<20&4294967295|d>>>12),d=t+(s^c&(r^s))+o[5]+3593408605&4294967295,t=r+(d<<5&4294967295|d>>>27),d=c+(r^s&(t^r))+o[10]+38016083&4294967295,c=t+(d<<9&4294967295|d>>>23),d=s+(t^r&(c^t))+o[15]+3634488961&4294967295,s=c+(d<<14&4294967295|d>>>18),d=r+(c^t&(s^c))+o[4]+3889429448&4294967295,r=s+(d<<20&4294967295|d>>>12),d=t+(s^c&(r^s))+o[9]+568446438&4294967295,t=r+(d<<5&4294967295|d>>>27),d=c+(r^s&(t^r))+o[14]+3275163606&4294967295,c=t+(d<<9&4294967295|d>>>23),d=s+(t^r&(c^t))+o[3]+4107603335&4294967295,s=c+(d<<14&4294967295|d>>>18),d=r+(c^t&(s^c))+o[8]+1163531501&4294967295,r=s+(d<<20&4294967295|d>>>12),d=t+(s^c&(r^s))+o[13]+2850285829&4294967295,t=r+(d<<5&4294967295|d>>>27),d=c+(r^s&(t^r))+o[2]+4243563512&4294967295,c=t+(d<<9&4294967295|d>>>23),d=s+(t^r&(c^t))+o[7]+1735328473&4294967295,s=c+(d<<14&4294967295|d>>>18),d=r+(c^t&(s^c))+o[12]+2368359562&4294967295,r=s+(d<<20&4294967295|d>>>12),d=t+(r^s^c)+o[5]+4294588738&4294967295,t=r+(d<<4&4294967295|d>>>28),d=c+(t^r^s)+o[8]+2272392833&4294967295,c=t+(d<<11&4294967295|d>>>21),d=s+(c^t^r)+o[11]+1839030562&4294967295,s=c+(d<<16&4294967295|d>>>16),d=r+(s^c^t)+o[14]+4259657740&4294967295,r=s+(d<<23&4294967295|d>>>9),d=t+(r^s^c)+o[1]+2763975236&4294967295,t=r+(d<<4&4294967295|d>>>28),d=c+(t^r^s)+o[4]+1272893353&4294967295,c=t+(d<<11&4294967295|d>>>21),d=s+(c^t^r)+o[7]+4139469664&4294967295,s=c+(d<<16&4294967295|d>>>16),d=r+(s^c^t)+o[10]+3200236656&4294967295,r=s+(d<<23&4294967295|d>>>9),d=t+(r^s^c)+o[13]+681279174&4294967295,t=r+(d<<4&4294967295|d>>>28),d=c+(t^r^s)+o[0]+3936430074&4294967295,c=t+(d<<11&4294967295|d>>>21),d=s+(c^t^r)+o[3]+3572445317&4294967295,s=c+(d<<16&4294967295|d>>>16),d=r+(s^c^t)+o[6]+76029189&4294967295,r=s+(d<<23&4294967295|d>>>9),d=t+(r^s^c)+o[9]+3654602809&4294967295,t=r+(d<<4&4294967295|d>>>28),d=c+(t^r^s)+o[12]+3873151461&4294967295,c=t+(d<<11&4294967295|d>>>21),d=s+(c^t^r)+o[15]+530742520&4294967295,s=c+(d<<16&4294967295|d>>>16),d=r+(s^c^t)+o[2]+3299628645&4294967295,r=s+(d<<23&4294967295|d>>>9),d=t+(s^(r|~c))+o[0]+4096336452&4294967295,t=r+(d<<6&4294967295|d>>>26),d=c+(r^(t|~s))+o[7]+1126891415&4294967295,c=t+(d<<10&4294967295|d>>>22),d=s+(t^(c|~r))+o[14]+2878612391&4294967295,s=c+(d<<15&4294967295|d>>>17),d=r+(c^(s|~t))+o[5]+4237533241&4294967295,r=s+(d<<21&4294967295|d>>>11),d=t+(s^(r|~c))+o[12]+1700485571&4294967295,t=r+(d<<6&4294967295|d>>>26),d=c+(r^(t|~s))+o[3]+2399980690&4294967295,c=t+(d<<10&4294967295|d>>>22),d=s+(t^(c|~r))+o[10]+4293915773&4294967295,s=c+(d<<15&4294967295|d>>>17),d=r+(c^(s|~t))+o[1]+2240044497&4294967295,r=s+(d<<21&4294967295|d>>>11),d=t+(s^(r|~c))+o[8]+1873313359&4294967295,t=r+(d<<6&4294967295|d>>>26),d=c+(r^(t|~s))+o[15]+4264355552&4294967295,c=t+(d<<10&4294967295|d>>>22),d=s+(t^(c|~r))+o[6]+2734768916&4294967295,s=c+(d<<15&4294967295|d>>>17),d=r+(c^(s|~t))+o[13]+1309151649&4294967295,r=s+(d<<21&4294967295|d>>>11),d=t+(s^(r|~c))+o[4]+4149444226&4294967295,t=r+(d<<6&4294967295|d>>>26),d=c+(r^(t|~s))+o[11]+3174756917&4294967295,c=t+(d<<10&4294967295|d>>>22),d=s+(t^(c|~r))+o[2]+718787259&4294967295,s=c+(d<<15&4294967295|d>>>17),d=r+(c^(s|~t))+o[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(d<<21&4294967295|d>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+c&4294967295}ds.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var r=t-this.blockSize,o=this.m,s=this.h,c=0;c<t;){if(s==0)for(;c<=r;)J1(this,e,c),c+=this.blockSize;if(typeof e=="string"){for(;c<t;)if(o[s++]=e.charCodeAt(c++),s==this.blockSize){J1(this,o),s=0;break}}else for(;c<t;)if(o[s++]=e[c++],s==this.blockSize){J1(this,o),s=0;break}}this.h=s,this.i+=t};ds.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var r=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=r&255,r/=256;for(this.j(e),e=Array(16),t=r=0;4>t;++t)for(var o=0;32>o;o+=8)e[r++]=this.g[t]>>>o&255;return e};function on(e,t){this.h=t;for(var r=[],o=!0,s=e.length-1;0<=s;s--){var c=e[s]|0;o&&c==t||(r[s]=c,o=!1)}this.g=r}var mme={};function _D(e){return-128<=e&&128>e?_fe(e,function(t){return new on([t|0],0>t?-1:0)}):new on([e|0],0>e?-1:0)}function Fs(e){if(isNaN(e)||!isFinite(e))return gh;if(0>e)return Vr(Fs(-e));for(var t=[],r=1,o=0;e>=r;o++)t[o]=e/r|0,r*=JE;return new on(t,0)}function MU(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Vr(MU(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Fs(Math.pow(t,8)),o=gh,s=0;s<e.length;s+=8){var c=Math.min(8,e.length-s),d=parseInt(e.substring(s,s+c),t);8>c?(c=Fs(Math.pow(t,c)),o=o.R(c).add(Fs(d))):(o=o.R(r),o=o.add(Fs(d)))}return o}var JE=4294967296,gh=_D(0),XE=_D(1),MF=_D(16777216);Ie=on.prototype;Ie.ea=function(){if(Pi(this))return-Vr(this).ea();for(var e=0,t=1,r=0;r<this.g.length;r++){var o=this.D(r);e+=(0<=o?o:JE+o)*t,t*=JE}return e};Ie.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Ra(this))return"0";if(Pi(this))return"-"+Vr(this).toString(e);for(var t=Fs(Math.pow(e,6)),r=this,o="";;){var s=vw(r,t).g;r=kw(r,s.R(t));var c=((0<r.g.length?r.g[0]:r.h)>>>0).toString(e);if(r=s,Ra(r))return c+o;for(;6>c.length;)c="0"+c;o=c+o}};Ie.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Ra(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Pi(e){return e.h==-1}Ie.X=function(e){return e=kw(this,e),Pi(e)?-1:Ra(e)?0:1};function Vr(e){for(var t=e.g.length,r=[],o=0;o<t;o++)r[o]=~e.g[o];return new on(r,~e.h).add(XE)}Ie.abs=function(){return Pi(this)?Vr(this):this};Ie.add=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],o=0,s=0;s<=t;s++){var c=o+(this.D(s)&65535)+(e.D(s)&65535),d=(c>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);o=d>>>16,c&=65535,d&=65535,r[s]=d<<16|c}return new on(r,r[r.length-1]&-2147483648?-1:0)};function kw(e,t){return e.add(Vr(t))}Ie.R=function(e){if(Ra(this)||Ra(e))return gh;if(Pi(this))return Pi(e)?Vr(this).R(Vr(e)):Vr(Vr(this).R(e));if(Pi(e))return Vr(this.R(Vr(e)));if(0>this.X(MF)&&0>e.X(MF))return Fs(this.ea()*e.ea());for(var t=this.g.length+e.g.length,r=[],o=0;o<2*t;o++)r[o]=0;for(o=0;o<this.g.length;o++)for(var s=0;s<e.g.length;s++){var c=this.D(o)>>>16,d=this.D(o)&65535,m=e.D(s)>>>16,f=e.D(s)&65535;r[2*o+2*s]+=d*f,xv(r,2*o+2*s),r[2*o+2*s+1]+=c*f,xv(r,2*o+2*s+1),r[2*o+2*s+1]+=d*m,xv(r,2*o+2*s+1),r[2*o+2*s+2]+=c*m,xv(r,2*o+2*s+2)}for(o=0;o<t;o++)r[o]=r[2*o+1]<<16|r[2*o];for(o=t;o<2*t;o++)r[o]=0;return new on(r,0)};function xv(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Tf(e,t){this.g=e,this.h=t}function vw(e,t){if(Ra(t))throw Error("division by zero");if(Ra(e))return new Tf(gh,gh);if(Pi(e))return t=vw(Vr(e),t),new Tf(Vr(t.g),Vr(t.h));if(Pi(t))return t=vw(e,Vr(t)),new Tf(Vr(t.g),t.h);if(30<e.g.length){if(Pi(e)||Pi(t))throw Error("slowDivide_ only works with positive integers.");for(var r=XE,o=t;0>=o.X(e);)r=PF(r),o=PF(o);var s=Nd(r,1),c=Nd(o,1);for(o=Nd(o,2),r=Nd(r,2);!Ra(o);){var d=c.add(o);0>=d.X(e)&&(s=s.add(r),c=d),o=Nd(o,1),r=Nd(r,1)}return t=kw(e,s.R(t)),new Tf(s,t)}for(s=gh;0<=e.X(t);){for(r=Math.max(1,Math.floor(e.ea()/t.ea())),o=Math.ceil(Math.log(r)/Math.LN2),o=48>=o?1:Math.pow(2,o-48),c=Fs(r),d=c.R(t);Pi(d)||0<d.X(e);)r-=o,c=Fs(r),d=c.R(t);Ra(c)&&(c=XE),s=s.add(c),e=kw(e,d)}return new Tf(s,e)}Ie.gb=function(e){return vw(this,e).h};Ie.and=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],o=0;o<t;o++)r[o]=this.D(o)&e.D(o);return new on(r,this.h&e.h)};Ie.or=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],o=0;o<t;o++)r[o]=this.D(o)|e.D(o);return new on(r,this.h|e.h)};Ie.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],o=0;o<t;o++)r[o]=this.D(o)^e.D(o);return new on(r,this.h^e.h)};function PF(e){for(var t=e.g.length+1,r=[],o=0;o<t;o++)r[o]=e.D(o)<<1|e.D(o-1)>>>31;return new on(r,e.h)}function Nd(e,t){var r=t>>5;t%=32;for(var o=e.g.length-r,s=[],c=0;c<o;c++)s[c]=0<t?e.D(c+r)>>>t|e.D(c+r+1)<<32-t:e.D(c+r);return new on(s,e.h)}bw.prototype.createWebChannel=bw.prototype.g;ci.prototype.send=ci.prototype.u;ci.prototype.open=ci.prototype.m;ci.prototype.close=ci.prototype.close;Py.NO_ERROR=0;Py.TIMEOUT=8;Py.HTTP_ERROR=6;YV.COMPLETE="complete";QV.EventType=Yg;Yg.OPEN="a";Yg.CLOSE="b";Yg.ERROR="c";Yg.MESSAGE="d";Mr.prototype.listen=Mr.prototype.O;Kn.prototype.listenOnce=Kn.prototype.P;Kn.prototype.getLastError=Kn.prototype.Sa;Kn.prototype.getLastErrorCode=Kn.prototype.Ia;Kn.prototype.getStatus=Kn.prototype.da;Kn.prototype.getResponseJson=Kn.prototype.Wa;Kn.prototype.getResponseText=Kn.prototype.ja;Kn.prototype.send=Kn.prototype.ha;Kn.prototype.setWithCredentials=Kn.prototype.Oa;ds.prototype.digest=ds.prototype.l;ds.prototype.reset=ds.prototype.reset;ds.prototype.update=ds.prototype.j;on.prototype.add=on.prototype.add;on.prototype.multiply=on.prototype.R;on.prototype.modulo=on.prototype.gb;on.prototype.compare=on.prototype.X;on.prototype.toNumber=on.prototype.ea;on.prototype.toString=on.prototype.toString;on.prototype.getBits=on.prototype.D;on.fromNumber=Fs;on.fromString=MU;var gme=function(){return new bw},bme=function(){return My()},X1=Py,kme=YV,vme=Vu,NF={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},wme=Jg,Ev=QV,yme=Kn,_me=ds,bh=on;const RF="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Jr.UNAUTHENTICATED=new Jr(null),Jr.GOOGLE_CREDENTIALS=new Jr("google-credentials-uid"),Jr.FIRST_PARTY=new Jr("first-party-uid"),Jr.MOCK_USER=new Jr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mp="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=new W2("@firebase/firestore");function OF(){return Eu.logLevel}function Ge(e,...t){if(Eu.logLevel<=Wt.DEBUG){const r=t.map(CD);Eu.debug(`Firestore (${mp}): ${e}`,...r)}}function Ka(e,...t){if(Eu.logLevel<=Wt.ERROR){const r=t.map(CD);Eu.error(`Firestore (${mp}): ${e}`,...r)}}function Bh(e,...t){if(Eu.logLevel<=Wt.WARN){const r=t.map(CD);Eu.warn(`Firestore (${mp}): ${e}`,...r)}}function CD(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(e="Unexpected state"){const t=`FIRESTORE (${mp}) INTERNAL ASSERTION FAILED: `+e;throw Ka(t),new Error(t)}function Sn(e,t){e||pt()}function kt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends la{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Cme{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Jr.UNAUTHENTICATED))}shutdown(){}}class Ame{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}let xme=class{constructor(t){this.t=t,this.currentUser=Jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){let o=this.i;const s=f=>this.i!==o?(o=this.i,r(f)):Promise.resolve();let c=new Ba;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ba,t.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const f=c;t.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},m=f=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(f=>m(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?m(f):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ba)}},0),d()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==t?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Sn(typeof o.accessToken=="string"),new PU(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Sn(t===null||typeof t=="string"),new Jr(t)}};class Eme{constructor(t,r,o){this.h=t,this.l=r,this.m=o,this.type="FirstParty",this.user=Jr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Sme{constructor(t,r,o){this.h=t,this.l=r,this.m=o}getToken(){return Promise.resolve(new Eme(this.h,this.l,this.m))}start(t,r){t.enqueueRetryable(()=>r(Jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dme{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tme{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,r){const o=c=>{c.error!=null&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.T;return this.T=c.token,Ge("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?r(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>o(c))};const s=c=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>s(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?s(c):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Sn(typeof r.token=="string"),this.T=r.token,new Dme(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ime(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let o=0;o<e;o++)r[o]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/t.length)*t.length;let o="";for(;o.length<20;){const s=Ime(40);for(let c=0;c<s.length;++c)o.length<20&&s[c]<r&&(o+=t.charAt(s[c]%t.length))}return o}}function Kt(e,t){return e<t?-1:e>t?1:0}function Lh(e,t,r){return e.length===t.length&&e.every((o,s)=>r(o,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Re(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Re(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new Re(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Re(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ir.fromMillis(Date.now())}static fromDate(t){return ir.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),o=Math.floor(1e6*(t-1e3*r));return new ir(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Kt(this.nanoseconds,t.nanoseconds):Kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new gt(t)}static min(){return new gt(new ir(0,0))}static max(){return new gt(new ir(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(t,r,o){r===void 0?r=0:r>t.length&&pt(),o===void 0?o=t.length-r:o>t.length-r&&pt(),this.segments=t,this.offset=r,this.len=o}get length(){return this.len}isEqual(t){return ug.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof ug?t.forEach(o=>{r.push(o)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,o=this.limit();r<o;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const o=Math.min(t.length,r.length);for(let s=0;s<o;s++){const c=t.get(s),d=r.get(s);if(c<d)return-1;if(c>d)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class An extends ug{construct(t,r,o){return new An(t,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const r=[];for(const o of t){if(o.indexOf("//")>=0)throw new Re(ce.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(s=>s.length>0))}return new An(r)}static emptyPath(){return new An([])}}const Mme=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class to extends ug{construct(t,r,o){return new to(t,r,o)}static isValidIdentifier(t){return Mme.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),to.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new to(["__name__"])}static fromServerFormat(t){const r=[];let o="",s=0;const c=()=>{if(o.length===0)throw new Re(ce.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let d=!1;for(;s<t.length;){const m=t[s];if(m==="\\"){if(s+1===t.length)throw new Re(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Re(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);o+=f,s+=2}else m==="`"?(d=!d,s++):m!=="."||d?(o+=m,s++):(c(),s++)}if(c(),d)throw new Re(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new to(r)}static emptyPath(){return new to([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.path=t}static fromPath(t){return new Qe(An.fromString(t))}static fromName(t){return new Qe(An.fromString(t).popFirst(5))}static empty(){return new Qe(An.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&An.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return An.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Qe(new An(t.slice()))}}function Pme(e,t){const r=e.toTimestamp().seconds,o=e.toTimestamp().nanoseconds+1,s=gt.fromTimestamp(o===1e9?new ir(r+1,0):new ir(r,o));return new Xl(s,Qe.empty(),t)}function Nme(e){return new Xl(e.readTime,e.key,-1)}class Xl{constructor(t,r,o){this.readTime=t,this.documentKey=r,this.largestBatchId=o}static min(){return new Xl(gt.min(),Qe.empty(),-1)}static max(){return new Xl(gt.max(),Qe.empty(),-1)}}function Rme(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=Qe.comparator(e.documentKey,t.documentKey),r!==0?r:Kt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ome="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bme{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tb(e){if(e.code!==ce.FAILED_PRECONDITION||e.message!==Ome)throw e;Ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new Ce((o,s)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(o,s)},this.catchCallback=c=>{this.wrapFailure(r,c).next(o,s)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof Ce?r:Ce.resolve(r)}catch(r){return Ce.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):Ce.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):Ce.reject(r)}static resolve(t){return new Ce((r,o)=>{r(t)})}static reject(t){return new Ce((r,o)=>{o(t)})}static waitFor(t){return new Ce((r,o)=>{let s=0,c=0,d=!1;t.forEach(m=>{++s,m.next(()=>{++c,d&&c===s&&r()},f=>o(f))}),d=!0,c===s&&r()})}static or(t){let r=Ce.resolve(!1);for(const o of t)r=r.next(s=>s?Ce.resolve(s):o());return r}static forEach(t,r){const o=[];return t.forEach((s,c)=>{o.push(r.call(this,s,c))}),this.waitFor(o)}static mapArray(t,r){return new Ce((o,s)=>{const c=t.length,d=new Array(c);let m=0;for(let f=0;f<c;f++){const k=f;r(t[k]).next(v=>{d[k]=v,++m,m===c&&o(d)},v=>s(v))}})}static doWhile(t,r){return new Ce((o,s)=>{const c=()=>{t()===!0?r().next(()=>{c()},s):o()};c()})}}function nb(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}AD.ct=-1;function zy(e){return e==null}function ww(e){return e===0&&1/e==-1/0}function Lme(e){return typeof e=="number"&&Number.isInteger(e)&&!ww(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function Uu(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function RU(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t,r){this.comparator=t,this.root=r||zr.EMPTY}insert(t,r){return new jn(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,zr.BLACK,null,null))}remove(t){return new jn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,zr.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(t){let r=0,o=this.root;for(;!o.isEmpty();){const s=this.comparator(t,o.key);if(s===0)return r+o.left.size;s<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,o)=>(t(r,o),!1))}toString(){const t=[];return this.inorderTraversal((r,o)=>(t.push(`${r}:${o}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sv(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sv(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sv(this.root,t,this.comparator,!0)}}class Sv{constructor(t,r,o,s){this.isReverse=s,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=r?o(t.key,r):1,r&&s&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class zr{constructor(t,r,o,s,c){this.key=t,this.value=r,this.color=o??zr.RED,this.left=s??zr.EMPTY,this.right=c??zr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,o,s,c){return new zr(t??this.key,r??this.value,o??this.color,s??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let s=this;const c=o(t,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(t,r,o),null):c===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,o)),s.fixUp()}removeMin(){if(this.left.isEmpty())return zr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let o,s=this;if(r(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(t,s.key)===0){if(s.right.isEmpty())return zr.EMPTY;o=s.right.min(),s=s.copy(o.key,o.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const t=this.left.check();if(t!==this.right.check())throw pt();return t+(this.isRed()?0:1)}}zr.EMPTY=null,zr.RED=!0,zr.BLACK=!1;zr.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(e,t,r,o,s){return this}insert(e,t,r){return new zr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t){this.comparator=t,this.data=new jn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,o)=>(t(r),!1))}forEachInRange(t,r){const o=this.data.getIteratorFrom(t[0]);for(;o.hasNext();){const s=o.getNext();if(this.comparator(s.key,t[1])>=0)return;r(s.key)}}forEachWhile(t,r){let o;for(o=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!t(o.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new LF(this.data.getIterator())}getIteratorFrom(t){return new LF(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(o=>{r=r.add(o)}),r}isEqual(t){if(!(t instanceof oo)||this.size!==t.size)return!1;const r=this.data.getIterator(),o=t.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,c=o.getNext().key;if(this.comparator(s,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new oo(this.comparator);return r.data=t,r}}class LF{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(t){this.fields=t,t.sort(to.comparator)}static empty(){return new ri([])}unionWith(t){let r=new oo(to.comparator);for(const o of this.fields)r=r.add(o);for(const o of t)r=r.add(o);return new ri(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Lh(this.fields,t.fields,(r,o)=>r.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(o){try{return atob(o)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new OU("Invalid base64 string: "+s):s}}(t);return new lo(r)}static fromUint8Array(t){const r=function(o){let s="";for(let c=0;c<o.length;++c)s+=String.fromCharCode(o[c]);return s}(t);return new lo(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}lo.EMPTY_BYTE_STRING=new lo("");const jme=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ec(e){if(Sn(!!e),typeof e=="string"){let t=0;const r=jme.exec(e);if(Sn(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),t=Number(s)}const o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:ur(e.seconds),nanos:ur(e.nanos)}}function ur(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Su(e){return typeof e=="string"?lo.fromBase64String(e):lo.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function ED(e){const t=e.mapValue.fields.__previous_value__;return xD(t)?ED(t):t}function dg(e){const t=ec(e.mapValue.fields.__local_write_time__.timestampValue);return new ir(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fme{constructor(t,r,o,s,c,d,m,f,k){this.databaseId=t,this.appId=r,this.persistenceKey=o,this.host=s,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=f,this.useFetchStreams=k}}class hg{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new hg("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof hg&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Du(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?xD(e)?4:zme(e)?9007199254740991:10:pt()}function ea(e,t){if(e===t)return!0;const r=Du(e);if(r!==Du(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return dg(e).isEqual(dg(t));case 3:return function(o,s){if(typeof o.timestampValue=="string"&&typeof s.timestampValue=="string"&&o.timestampValue.length===s.timestampValue.length)return o.timestampValue===s.timestampValue;const c=ec(o.timestampValue),d=ec(s.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,s){return Su(o.bytesValue).isEqual(Su(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,s){return ur(o.geoPointValue.latitude)===ur(s.geoPointValue.latitude)&&ur(o.geoPointValue.longitude)===ur(s.geoPointValue.longitude)}(e,t);case 2:return function(o,s){if("integerValue"in o&&"integerValue"in s)return ur(o.integerValue)===ur(s.integerValue);if("doubleValue"in o&&"doubleValue"in s){const c=ur(o.doubleValue),d=ur(s.doubleValue);return c===d?ww(c)===ww(d):isNaN(c)&&isNaN(d)}return!1}(e,t);case 9:return Lh(e.arrayValue.values||[],t.arrayValue.values||[],ea);case 10:return function(o,s){const c=o.mapValue.fields||{},d=s.mapValue.fields||{};if(BF(c)!==BF(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!ea(c[m],d[m])))return!1;return!0}(e,t);default:return pt()}}function pg(e,t){return(e.values||[]).find(r=>ea(r,t))!==void 0}function jh(e,t){if(e===t)return 0;const r=Du(e),o=Du(t);if(r!==o)return Kt(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Kt(e.booleanValue,t.booleanValue);case 2:return function(s,c){const d=ur(s.integerValue||s.doubleValue),m=ur(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(e,t);case 3:return jF(e.timestampValue,t.timestampValue);case 4:return jF(dg(e),dg(t));case 5:return Kt(e.stringValue,t.stringValue);case 6:return function(s,c){const d=Su(s),m=Su(c);return d.compareTo(m)}(e.bytesValue,t.bytesValue);case 7:return function(s,c){const d=s.split("/"),m=c.split("/");for(let f=0;f<d.length&&f<m.length;f++){const k=Kt(d[f],m[f]);if(k!==0)return k}return Kt(d.length,m.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,c){const d=Kt(ur(s.latitude),ur(c.latitude));return d!==0?d:Kt(ur(s.longitude),ur(c.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,c){const d=s.values||[],m=c.values||[];for(let f=0;f<d.length&&f<m.length;++f){const k=jh(d[f],m[f]);if(k)return k}return Kt(d.length,m.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,c){if(s===Dv.mapValue&&c===Dv.mapValue)return 0;if(s===Dv.mapValue)return 1;if(c===Dv.mapValue)return-1;const d=s.fields||{},m=Object.keys(d),f=c.fields||{},k=Object.keys(f);m.sort(),k.sort();for(let v=0;v<m.length&&v<k.length;++v){const _=Kt(m[v],k[v]);if(_!==0)return _;const y=jh(d[m[v]],f[k[v]]);if(y!==0)return y}return Kt(m.length,k.length)}(e.mapValue,t.mapValue);default:throw pt()}}function jF(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Kt(e,t);const r=ec(e),o=ec(t),s=Kt(r.seconds,o.seconds);return s!==0?s:Kt(r.nanos,o.nanos)}function Fh(e){return eS(e)}function eS(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(o){const s=ec(o);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Su(e.bytesValue).toBase64():"referenceValue"in e?(r=e.referenceValue,Qe.fromName(r).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(o){let s="[",c=!0;for(const d of o.values||[])c?c=!1:s+=",",s+=eS(d);return s+"]"}(e.arrayValue):"mapValue"in e?function(o){const s=Object.keys(o.fields||{}).sort();let c="{",d=!0;for(const m of s)d?d=!1:c+=",",c+=`${m}:${eS(o.fields[m])}`;return c+"}"}(e.mapValue):pt();var t,r}function FF(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function tS(e){return!!e&&"integerValue"in e}function SD(e){return!!e&&"arrayValue"in e}function zF(e){return!!e&&"nullValue"in e}function $F(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function p0(e){return!!e&&"mapValue"in e}function vm(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Uu(e.mapValue.fields,(r,o)=>t.mapValue.fields[r]=vm(o)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=vm(e.arrayValue.values[r]);return t}return Object.assign({},e)}function zme(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(t){this.value=t}static empty(){return new Bo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let o=0;o<t.length-1;++o)if(r=(r.mapValue.fields||{})[t.get(o)],!p0(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=vm(r)}setAll(t){let r=to.emptyPath(),o={},s=[];t.forEach((d,m)=>{if(!r.isImmediateParentOf(m)){const f=this.getFieldsMap(r);this.applyChanges(f,o,s),o={},s=[],r=m.popLast()}d?o[m.lastSegment()]=vm(d):s.push(m.lastSegment())});const c=this.getFieldsMap(r);this.applyChanges(c,o,s)}delete(t){const r=this.field(t.popLast());p0(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return ea(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<t.length;++o){let s=r.mapValue.fields[t.get(o)];p0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[t.get(o)]=s),r=s}return r.mapValue.fields}applyChanges(t,r,o){Uu(r,(s,c)=>t[s]=c);for(const s of o)delete t[s]}clone(){return new Bo(vm(this.value))}}function BU(e){const t=[];return Uu(e.fields,(r,o)=>{const s=new to([r]);if(p0(o)){const c=BU(o.mapValue).fields;if(c.length===0)t.push(s);else for(const d of c)t.push(s.child(d))}else t.push(s)}),new ri(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t,r,o,s,c,d,m){this.key=t,this.documentType=r,this.version=o,this.readTime=s,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(t){return new eo(t,0,gt.min(),gt.min(),gt.min(),Bo.empty(),0)}static newFoundDocument(t,r,o,s){return new eo(t,1,r,gt.min(),o,s,0)}static newNoDocument(t,r){return new eo(t,2,r,gt.min(),gt.min(),Bo.empty(),0)}static newUnknownDocument(t,r){return new eo(t,3,r,gt.min(),gt.min(),Bo.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Bo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Bo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof eo&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new eo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t,r){this.position=t,this.inclusive=r}}function VF(e,t,r){let o=0;for(let s=0;s<e.position.length;s++){const c=t[s],d=e.position[s];if(c.field.isKeyField()?o=Qe.comparator(Qe.fromName(d.referenceValue),r.key):o=jh(d,r.data.field(c.field)),c.dir==="desc"&&(o*=-1),o!==0)break}return o}function UF(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!ea(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(t,r="asc"){this.field=t,this.dir=r}}function $me(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{}class fr extends LU{constructor(t,r,o){super(),this.field=t,this.op=r,this.value=o}static create(t,r,o){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,o):new Ume(t,r,o):r==="array-contains"?new qme(t,o):r==="in"?new Gme(t,o):r==="not-in"?new Kme(t,o):r==="array-contains-any"?new Yme(t,o):new fr(t,r,o)}static createKeyFieldInFilter(t,r,o){return r==="in"?new Hme(t,o):new Wme(t,o)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(jh(r,this.value)):r!==null&&Du(this.value)===Du(r)&&this.matchesComparison(jh(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class hs extends LU{constructor(t,r){super(),this.filters=t,this.op=r,this.lt=null}static create(t,r){return new hs(t,r)}matches(t){return jU(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(r=>r.isInequality());return t!==null?t.field:null}ft(t){for(const r of this.getFlattenedFilters())if(t(r))return r;return null}}function jU(e){return e.op==="and"}function FU(e){return Vme(e)&&jU(e)}function Vme(e){for(const t of e.filters)if(t instanceof hs)return!1;return!0}function nS(e){if(e instanceof fr)return e.field.canonicalString()+e.op.toString()+Fh(e.value);if(FU(e))return e.filters.map(t=>nS(t)).join(",");{const t=e.filters.map(r=>nS(r)).join(",");return`${e.op}(${t})`}}function zU(e,t){return e instanceof fr?function(r,o){return o instanceof fr&&r.op===o.op&&r.field.isEqual(o.field)&&ea(r.value,o.value)}(e,t):e instanceof hs?function(r,o){return o instanceof hs&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((s,c,d)=>s&&zU(c,o.filters[d]),!0):!1}(e,t):void pt()}function $U(e){return e instanceof fr?function(t){return`${t.field.canonicalString()} ${t.op} ${Fh(t.value)}`}(e):e instanceof hs?function(t){return t.op.toString()+" {"+t.getFilters().map($U).join(" ,")+"}"}(e):"Filter"}class Ume extends fr{constructor(t,r,o){super(t,r,o),this.key=Qe.fromName(o.referenceValue)}matches(t){const r=Qe.comparator(t.key,this.key);return this.matchesComparison(r)}}class Hme extends fr{constructor(t,r){super(t,"in",r),this.keys=VU("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class Wme extends fr{constructor(t,r){super(t,"not-in",r),this.keys=VU("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function VU(e,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(o=>Qe.fromName(o.referenceValue))}class qme extends fr{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return SD(r)&&pg(r.arrayValue,this.value)}}class Gme extends fr{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&pg(this.value.arrayValue,r)}}class Kme extends fr{constructor(t,r){super(t,"not-in",r)}matches(t){if(pg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!pg(this.value.arrayValue,r)}}class Yme extends fr{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!SD(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>pg(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qme{constructor(t,r=null,o=[],s=[],c=null,d=null,m=null){this.path=t,this.collectionGroup=r,this.orderBy=o,this.filters=s,this.limit=c,this.startAt=d,this.endAt=m,this.dt=null}}function HF(e,t=null,r=[],o=[],s=null,c=null,d=null){return new Qme(e,t,r,o,s,c,d)}function DD(e){const t=kt(e);if(t.dt===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(o=>nS(o)).join(","),r+="|ob:",r+=t.orderBy.map(o=>function(s){return s.field.canonicalString()+s.dir}(o)).join(","),zy(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>Fh(o)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>Fh(o)).join(",")),t.dt=r}return t.dt}function TD(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!$me(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!zU(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!UF(e.startAt,t.startAt)&&UF(e.endAt,t.endAt)}function rS(e){return Qe.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(t,r=null,o=[],s=[],c=null,d="F",m=null,f=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=s,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=f,this.wt=null,this._t=null,this.startAt,this.endAt}}function Zme(e,t,r,o,s,c,d,m){return new gp(e,t,r,o,s,c,d,m)}function $y(e){return new gp(e)}function WF(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function ID(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Vy(e){for(const t of e.filters){const r=t.getFirstInequalityField();if(r!==null)return r}return null}function UU(e){return e.collectionGroup!==null}function vh(e){const t=kt(e);if(t.wt===null){t.wt=[];const r=Vy(t),o=ID(t);if(r!==null&&o===null)r.isKeyField()||t.wt.push(new kh(r)),t.wt.push(new kh(to.keyField(),"asc"));else{let s=!1;for(const c of t.explicitOrderBy)t.wt.push(c),c.field.isKeyField()&&(s=!0);if(!s){const c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new kh(to.keyField(),c))}}}return t.wt}function Ya(e){const t=kt(e);if(!t._t)if(t.limitType==="F")t._t=HF(t.path,t.collectionGroup,vh(t),t.filters,t.limit,t.startAt,t.endAt);else{const r=[];for(const c of vh(t)){const d=c.dir==="desc"?"asc":"desc";r.push(new kh(c.field,d))}const o=t.endAt?new yw(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new yw(t.startAt.position,t.startAt.inclusive):null;t._t=HF(t.path,t.collectionGroup,r,t.filters,t.limit,o,s)}return t._t}function oS(e,t){t.getFirstInequalityField(),Vy(e);const r=e.filters.concat([t]);return new gp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function iS(e,t,r){return new gp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function Uy(e,t){return TD(Ya(e),Ya(t))&&e.limitType===t.limitType}function HU(e){return`${DD(Ya(e))}|lt:${e.limitType}`}function sS(e){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>$U(o)).join(", ")}]`),zy(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>Fh(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>Fh(o)).join(",")),`Target(${r})`}(Ya(e))}; limitType=${e.limitType})`}function Hy(e,t){return t.isFoundDocument()&&function(r,o){const s=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Qe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,o){for(const s of vh(r))if(!s.field.isKeyField()&&o.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,o){for(const s of r.filters)if(!s.matches(o))return!1;return!0}(e,t)&&function(r,o){return!(r.startAt&&!function(s,c,d){const m=VF(s,c,d);return s.inclusive?m<=0:m<0}(r.startAt,vh(r),o)||r.endAt&&!function(s,c,d){const m=VF(s,c,d);return s.inclusive?m>=0:m>0}(r.endAt,vh(r),o))}(e,t)}function Jme(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function WU(e){return(t,r)=>{let o=!1;for(const s of vh(e)){const c=Xme(s,t,r);if(c!==0)return c;o=o||s.field.isKeyField()}return 0}}function Xme(e,t,r){const o=e.field.isKeyField()?Qe.comparator(t.key,r.key):function(s,c,d){const m=c.data.field(s),f=d.data.field(s);return m!==null&&f!==null?jh(m,f):pt()}(e.field,t,r);switch(e.dir){case"asc":return o;case"desc":return-1*o;default:return pt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(const[s,c]of o)if(this.equalsFn(s,t))return c}}has(t){return this.get(t)!==void 0}set(t,r){const o=this.mapKeyFn(t),s=this.inner[o];if(s===void 0)return this.inner[o]=[[t,r]],void this.innerSize++;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],t))return void(s[c]=[t,r]);s.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return!1;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return o.length===1?delete this.inner[r]:o.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Uu(this.inner,(r,o)=>{for(const[s,c]of o)t(s,c)})}isEmpty(){return RU(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ege=new jn(Qe.comparator);function Qa(){return ege}const qU=new jn(Qe.comparator);function em(...e){let t=qU;for(const r of e)t=t.insert(r.key,r);return t}function GU(e){let t=qU;return e.forEach((r,o)=>t=t.insert(r,o.overlayedDocument)),t}function ou(){return wm()}function KU(){return wm()}function wm(){return new bp(e=>e.toString(),(e,t)=>e.isEqual(t))}const tge=new jn(Qe.comparator),nge=new oo(Qe.comparator);function It(...e){let t=nge;for(const r of e)t=t.add(r);return t}const rge=new oo(Kt);function oge(){return rge}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ww(t)?"-0":t}}function QU(e){return{integerValue:""+e}}function ige(e,t){return Lme(t)?QU(t):YU(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(){this._=void 0}}function sge(e,t,r){return e instanceof fg?function(o,s){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return s&&xD(s)&&(s=ED(s)),s&&(c.fields.__previous_value__=s),{mapValue:c}}(r,t):e instanceof zh?JU(e,t):e instanceof mg?XU(e,t):function(o,s){const c=ZU(o,s),d=qF(c)+qF(o.gt);return tS(c)&&tS(o.gt)?QU(d):YU(o.serializer,d)}(e,t)}function age(e,t,r){return e instanceof zh?JU(e,t):e instanceof mg?XU(e,t):r}function ZU(e,t){return e instanceof _w?tS(r=t)||function(o){return!!o&&"doubleValue"in o}(r)?t:{integerValue:0}:null;var r}class fg extends Wy{}class zh extends Wy{constructor(t){super(),this.elements=t}}function JU(e,t){const r=eH(t);for(const o of e.elements)r.some(s=>ea(s,o))||r.push(o);return{arrayValue:{values:r}}}class mg extends Wy{constructor(t){super(),this.elements=t}}function XU(e,t){let r=eH(t);for(const o of e.elements)r=r.filter(s=>!ea(s,o));return{arrayValue:{values:r}}}class _w extends Wy{constructor(t,r){super(),this.serializer=t,this.gt=r}}function qF(e){return ur(e.integerValue||e.doubleValue)}function eH(e){return SD(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(t,r){this.field=t,this.transform=r}}function lge(e,t){return e.field.isEqual(t.field)&&function(r,o){return r instanceof zh&&o instanceof zh||r instanceof mg&&o instanceof mg?Lh(r.elements,o.elements,ea):r instanceof _w&&o instanceof _w?ea(r.gt,o.gt):r instanceof fg&&o instanceof fg}(e.transform,t.transform)}class cge{constructor(t,r){this.version=t,this.transformResults=r}}class wo{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new wo}static exists(t){return new wo(void 0,t)}static updateTime(t){return new wo(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function f0(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class qy{}function nH(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Gy(e.key,wo.none()):new rb(e.key,e.data,wo.none());{const r=e.data,o=Bo.empty();let s=new oo(to.comparator);for(let c of t.fields)if(!s.has(c)){let d=r.field(c);d===null&&c.length>1&&(c=c.popLast(),d=r.field(c)),d===null?o.delete(c):o.set(c,d),s=s.add(c)}return new hc(e.key,o,new ri(s.toArray()),wo.none())}}function uge(e,t,r){e instanceof rb?function(o,s,c){const d=o.value.clone(),m=KF(o.fieldTransforms,s,c.transformResults);d.setAll(m),s.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(e,t,r):e instanceof hc?function(o,s,c){if(!f0(o.precondition,s))return void s.convertToUnknownDocument(c.version);const d=KF(o.fieldTransforms,s,c.transformResults),m=s.data;m.setAll(rH(o)),m.setAll(d),s.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(e,t,r):function(o,s,c){s.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,r)}function ym(e,t,r,o){return e instanceof rb?function(s,c,d,m){if(!f0(s.precondition,c))return d;const f=s.value.clone(),k=YF(s.fieldTransforms,m,c);return f.setAll(k),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null}(e,t,r,o):e instanceof hc?function(s,c,d,m){if(!f0(s.precondition,c))return d;const f=YF(s.fieldTransforms,m,c),k=c.data;return k.setAll(rH(s)),k.setAll(f),c.convertToFoundDocument(c.version,k).setHasLocalMutations(),d===null?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(v=>v.field))}(e,t,r,o):function(s,c,d){return f0(s.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(e,t,r)}function dge(e,t){let r=null;for(const o of e.fieldTransforms){const s=t.data.field(o.field),c=ZU(o.transform,s||null);c!=null&&(r===null&&(r=Bo.empty()),r.set(o.field,c))}return r||null}function GF(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Lh(r,o,(s,c)=>lge(s,c))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class rb extends qy{constructor(t,r,o,s=[]){super(),this.key=t,this.value=r,this.precondition=o,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class hc extends qy{constructor(t,r,o,s,c=[]){super(),this.key=t,this.data=r,this.fieldMask=o,this.precondition=s,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function rH(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=e.data.field(r);t.set(r,o)}}),t}function KF(e,t,r){const o=new Map;Sn(e.length===r.length);for(let s=0;s<r.length;s++){const c=e[s],d=c.transform,m=t.data.field(c.field);o.set(c.field,age(d,m,r[s]))}return o}function YF(e,t,r){const o=new Map;for(const s of e){const c=s.transform,d=r.data.field(s.field);o.set(s.field,sge(c,d,t))}return o}class Gy extends qy{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hge extends qy{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pge{constructor(t,r,o,s){this.batchId=t,this.localWriteTime=r,this.baseMutations=o,this.mutations=s}applyToRemoteDocument(t,r){const o=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const c=this.mutations[s];c.key.isEqual(t.key)&&uge(c,t,o[s])}}applyToLocalView(t,r){for(const o of this.baseMutations)o.key.isEqual(t.key)&&(r=ym(o,t,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(t.key)&&(r=ym(o,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const o=KU();return this.mutations.forEach(s=>{const c=t.get(s.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=r.has(s.key)?null:m;const f=nH(d,m);f!==null&&o.set(s.key,f),d.isValidDocument()||d.convertToNoDocument(gt.min())}),o}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),It())}isEqual(t){return this.batchId===t.batchId&&Lh(this.mutations,t.mutations,(r,o)=>GF(r,o))&&Lh(this.baseMutations,t.baseMutations,(r,o)=>GF(r,o))}}class MD{constructor(t,r,o,s){this.batch=t,this.commitVersion=r,this.mutationResults=o,this.docVersions=s}static from(t,r,o){Sn(t.mutations.length===o.length);let s=tge;const c=t.mutations;for(let d=0;d<c.length;d++)s=s.insert(c[d].key,o[d].version);return new MD(t,r,o,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fge{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mge{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr,Ot;function gge(e){switch(e){default:return pt();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function oH(e){if(e===void 0)return Ka("GRPC error has no .code"),ce.UNKNOWN;switch(e){case cr.OK:return ce.OK;case cr.CANCELLED:return ce.CANCELLED;case cr.UNKNOWN:return ce.UNKNOWN;case cr.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case cr.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case cr.INTERNAL:return ce.INTERNAL;case cr.UNAVAILABLE:return ce.UNAVAILABLE;case cr.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case cr.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case cr.NOT_FOUND:return ce.NOT_FOUND;case cr.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case cr.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case cr.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case cr.ABORTED:return ce.ABORTED;case cr.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case cr.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case cr.DATA_LOSS:return ce.DATA_LOSS;default:return pt()}}(Ot=cr||(cr={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Tv}static getOrCreateInstance(){return Tv===null&&(Tv=new PD),Tv}onExistenceFilterMismatch(t){const r=Symbol();return this.onExistenceFilterMismatchCallbacks.set(r,t),()=>this.onExistenceFilterMismatchCallbacks.delete(r)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(r=>r(t))}}let Tv=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bge(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kge=new bh([4294967295,4294967295],0);function QF(e){const t=bge().encode(e),r=new _me;return r.update(t),new Uint8Array(r.digest())}function ZF(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),o=t.getUint32(4,!0),s=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new bh([r,o],0),new bh([s,c],0)]}class ND{constructor(t,r,o){if(this.bitmap=t,this.padding=r,this.hashCount=o,r<0||r>=8)throw new tm(`Invalid padding: ${r}`);if(o<0)throw new tm(`Invalid hash count: ${o}`);if(t.length>0&&this.hashCount===0)throw new tm(`Invalid hash count: ${o}`);if(t.length===0&&r!==0)throw new tm(`Invalid padding when bitmap length is 0: ${r}`);this.It=8*t.length-r,this.Tt=bh.fromNumber(this.It)}Et(t,r,o){let s=t.add(r.multiply(bh.fromNumber(o)));return s.compare(kge)===1&&(s=new bh([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}vt(t){if(this.It===0)return!1;const r=QF(t),[o,s]=ZF(r);for(let c=0;c<this.hashCount;c++){const d=this.Et(o,s,c);if(!this.At(d))return!1}return!0}static create(t,r,o){const s=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new ND(c,s,r);return o.forEach(m=>d.insert(m)),d}insert(t){if(this.It===0)return;const r=QF(t),[o,s]=ZF(r);for(let c=0;c<this.hashCount;c++){const d=this.Et(o,s,c);this.Rt(d)}}Rt(t){const r=Math.floor(t/8),o=t%8;this.bitmap[r]|=1<<o}}class tm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(t,r,o,s,c){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=s,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,r,o){const s=new Map;return s.set(t,ob.createSynthesizedTargetChangeForCurrentChange(t,r,o)),new Ky(gt.min(),s,new jn(Kt),Qa(),It())}}class ob{constructor(t,r,o,s,c){this.resumeToken=t,this.current=r,this.addedDocuments=o,this.modifiedDocuments=s,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,r,o){return new ob(o,r,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(t,r,o,s){this.Pt=t,this.removedTargetIds=r,this.key=o,this.bt=s}}class iH{constructor(t,r){this.targetId=t,this.Vt=r}}class sH{constructor(t,r,o=lo.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=r,this.resumeToken=o,this.cause=s}}class JF{constructor(){this.St=0,this.Dt=ez(),this.Ct=lo.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=It(),r=It(),o=It();return this.Dt.forEach((s,c)=>{switch(c){case 0:t=t.add(s);break;case 2:r=r.add(s);break;case 1:o=o.add(s);break;default:pt()}}),new ob(this.Ct,this.xt,t,r,o)}Ft(){this.Nt=!1,this.Dt=ez()}Bt(t,r){this.Nt=!0,this.Dt=this.Dt.insert(t,r)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class vge{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=Qa(),this.zt=XF(),this.Wt=new jn(Kt)}Ht(t){for(const r of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(r,t.bt):this.Yt(r,t.key,t.bt);for(const r of t.removedTargetIds)this.Yt(r,t.key,t.bt)}Xt(t){this.forEachTarget(t,r=>{const o=this.Zt(r);switch(t.state){case 0:this.te(r)&&o.$t(t.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(t.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(r);break;case 3:this.te(r)&&(o.Kt(),o.$t(t.resumeToken));break;case 4:this.te(r)&&(this.ee(r),o.$t(t.resumeToken));break;default:pt()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.Qt.forEach((o,s)=>{this.te(s)&&r(s)})}ne(t){var r;const o=t.targetId,s=t.Vt.count,c=this.se(o);if(c){const d=c.target;if(rS(d))if(s===0){const m=new Qe(d.path);this.Yt(o,m,eo.newNoDocument(m,gt.min()))}else Sn(s===1);else{const m=this.ie(o);if(m!==s){const f=this.re(t,m);if(f!==0){this.ee(o);const k=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(o,k)}(r=PD.instance)===null||r===void 0||r.notifyOnExistenceFilterMismatch(function(k,v,_){var y,A,D,S,I,T;const P={localCacheCount:v,existenceFilterCount:_.count},N=_.unchangedNames;return N&&(P.bloomFilter={applied:k===0,hashCount:(y=N==null?void 0:N.hashCount)!==null&&y!==void 0?y:0,bitmapLength:(S=(D=(A=N==null?void 0:N.bits)===null||A===void 0?void 0:A.bitmap)===null||D===void 0?void 0:D.length)!==null&&S!==void 0?S:0,padding:(T=(I=N==null?void 0:N.bits)===null||I===void 0?void 0:I.padding)!==null&&T!==void 0?T:0}),P}(f,m,t.Vt))}}}}re(t,r){const{unchangedNames:o,count:s}=t.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:c="",padding:d=0},hashCount:m=0}=o;let f,k;try{f=Su(c).toUint8Array()}catch(v){if(v instanceof OU)return Bh("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw v}try{k=new ND(f,d,m)}catch(v){return Bh(v instanceof tm?"BloomFilter error: ":"Applying bloom filter failed: ",v),1}return k.It===0?1:s!==r-this.oe(t.targetId,k)?2:0}oe(t,r){const o=this.Gt.getRemoteKeysForTarget(t);let s=0;return o.forEach(c=>{const d=this.Gt.ue(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;r.vt(m)||(this.Yt(t,c,null),s++)}),s}ce(t){const r=new Map;this.Qt.forEach((c,d)=>{const m=this.se(d);if(m){if(c.current&&rS(m.target)){const f=new Qe(m.target.path);this.jt.get(f)!==null||this.ae(d,f)||this.Yt(d,f,eo.newNoDocument(f,t))}c.Mt&&(r.set(d,c.Ot()),c.Ft())}});let o=It();this.zt.forEach((c,d)=>{let m=!0;d.forEachWhile(f=>{const k=this.se(f);return!k||k.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(o=o.add(c))}),this.jt.forEach((c,d)=>d.setReadTime(t));const s=new Ky(t,r,this.Wt,this.jt,o);return this.jt=Qa(),this.zt=XF(),this.Wt=new jn(Kt),s}Jt(t,r){if(!this.te(t))return;const o=this.ae(t,r.key)?2:0;this.Zt(t).Bt(r.key,o),this.jt=this.jt.insert(r.key,r),this.zt=this.zt.insert(r.key,this.he(r.key).add(t))}Yt(t,r,o){if(!this.te(t))return;const s=this.Zt(t);this.ae(t,r)?s.Bt(r,1):s.Lt(r),this.zt=this.zt.insert(r,this.he(r).delete(t)),o&&(this.jt=this.jt.insert(r,o))}removeTarget(t){this.Qt.delete(t)}ie(t){const r=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let r=this.Qt.get(t);return r||(r=new JF,this.Qt.set(t,r)),r}he(t){let r=this.zt.get(t);return r||(r=new oo(Kt),this.zt=this.zt.insert(t,r)),r}te(t){const r=this.se(t)!==null;return r||Ge("WatchChangeAggregator","Detected inactive target",t),r}se(t){const r=this.Qt.get(t);return r&&r.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new JF),this.Gt.getRemoteKeysForTarget(t).forEach(r=>{this.Yt(t,r,null)})}ae(t,r){return this.Gt.getRemoteKeysForTarget(t).has(r)}}function XF(){return new jn(Qe.comparator)}function ez(){return new jn(Qe.comparator)}const wge={asc:"ASCENDING",desc:"DESCENDING"},yge={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_ge={and:"AND",or:"OR"};class Cge{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function aS(e,t){return e.useProto3Json||zy(t)?t:{value:t}}function Cw(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function aH(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Age(e,t){return Cw(e,t.toTimestamp())}function Gs(e){return Sn(!!e),gt.fromTimestamp(function(t){const r=ec(t);return new ir(r.seconds,r.nanos)}(e))}function RD(e,t){return function(r){return new An(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function lH(e){const t=An.fromString(e);return Sn(hH(t)),t}function lS(e,t){return RD(e.databaseId,t.path)}function ex(e,t){const r=lH(t);if(r.get(1)!==e.databaseId.projectId)throw new Re(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Re(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new Qe(cH(r))}function cS(e,t){return RD(e.databaseId,t)}function xge(e){const t=lH(e);return t.length===4?An.emptyPath():cH(t)}function uS(e){return new An(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function cH(e){return Sn(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function tz(e,t,r){return{name:lS(e,t),fields:r.value.mapValue.fields}}function Ege(e,t){let r;if("targetChange"in t){t.targetChange;const o=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:pt()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],c=function(f,k){return f.useProto3Json?(Sn(k===void 0||typeof k=="string"),lo.fromBase64String(k||"")):(Sn(k===void 0||k instanceof Uint8Array),lo.fromUint8Array(k||new Uint8Array))}(e,t.targetChange.resumeToken),d=t.targetChange.cause,m=d&&function(f){const k=f.code===void 0?ce.UNKNOWN:oH(f.code);return new Re(k,f.message||"")}(d);r=new sH(o,s,c,m||null)}else if("documentChange"in t){t.documentChange;const o=t.documentChange;o.document,o.document.name,o.document.updateTime;const s=ex(e,o.document.name),c=Gs(o.document.updateTime),d=o.document.createTime?Gs(o.document.createTime):gt.min(),m=new Bo({mapValue:{fields:o.document.fields}}),f=eo.newFoundDocument(s,c,d,m),k=o.targetIds||[],v=o.removedTargetIds||[];r=new m0(k,v,f.key,f)}else if("documentDelete"in t){t.documentDelete;const o=t.documentDelete;o.document;const s=ex(e,o.document),c=o.readTime?Gs(o.readTime):gt.min(),d=eo.newNoDocument(s,c),m=o.removedTargetIds||[];r=new m0([],m,d.key,d)}else if("documentRemove"in t){t.documentRemove;const o=t.documentRemove;o.document;const s=ex(e,o.document),c=o.removedTargetIds||[];r=new m0([],c,s,null)}else{if(!("filter"in t))return pt();{t.filter;const o=t.filter;o.targetId;const{count:s=0,unchangedNames:c}=o,d=new mge(s,c),m=o.targetId;r=new iH(m,d)}}return r}function Sge(e,t){let r;if(t instanceof rb)r={update:tz(e,t.key,t.value)};else if(t instanceof Gy)r={delete:lS(e,t.key)};else if(t instanceof hc)r={update:tz(e,t.key,t.data),updateMask:Bge(t.fieldMask)};else{if(!(t instanceof hge))return pt();r={verify:lS(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(o=>function(s,c){const d=c.transform;if(d instanceof fg)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof zh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof mg)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof _w)return{fieldPath:c.field.canonicalString(),increment:d.gt};throw pt()}(0,o))),t.precondition.isNone||(r.currentDocument=function(o,s){return s.updateTime!==void 0?{updateTime:Age(o,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:pt()}(e,t.precondition)),r}function Dge(e,t){return e&&e.length>0?(Sn(t!==void 0),e.map(r=>function(o,s){let c=o.updateTime?Gs(o.updateTime):Gs(s);return c.isEqual(gt.min())&&(c=Gs(s)),new cge(c,o.transformResults||[])}(r,t))):[]}function Tge(e,t){return{documents:[cS(e,t.path)]}}function Ige(e,t){const r={structuredQuery:{}},o=t.path;t.collectionGroup!==null?(r.parent=cS(e,o),r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r.parent=cS(e,o.popLast()),r.structuredQuery.from=[{collectionId:o.lastSegment()}]);const s=function(f){if(f.length!==0)return dH(hs.create(f,"and"))}(t.filters);s&&(r.structuredQuery.where=s);const c=function(f){if(f.length!==0)return f.map(k=>function(v){return{field:Vd(v.field),direction:Nge(v.dir)}}(k))}(t.orderBy);c&&(r.structuredQuery.orderBy=c);const d=aS(e,t.limit);var m;return d!==null&&(r.structuredQuery.limit=d),t.startAt&&(r.structuredQuery.startAt={before:(m=t.startAt).inclusive,values:m.position}),t.endAt&&(r.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),r}function Mge(e){let t=xge(e.parent);const r=e.structuredQuery,o=r.from?r.from.length:0;let s=null;if(o>0){Sn(o===1);const v=r.from[0];v.allDescendants?s=v.collectionId:t=t.child(v.collectionId)}let c=[];r.where&&(c=function(v){const _=uH(v);return _ instanceof hs&&FU(_)?_.getFilters():[_]}(r.where));let d=[];r.orderBy&&(d=r.orderBy.map(v=>function(_){return new kh(Ud(_.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(v)));let m=null;r.limit&&(m=function(v){let _;return _=typeof v=="object"?v.value:v,zy(_)?null:_}(r.limit));let f=null;r.startAt&&(f=function(v){const _=!!v.before,y=v.values||[];return new yw(y,_)}(r.startAt));let k=null;return r.endAt&&(k=function(v){const _=!v.before,y=v.values||[];return new yw(y,_)}(r.endAt)),Zme(t,s,d,c,m,"F",f,k)}function Pge(e,t){const r=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt()}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function uH(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ud(t.unaryFilter.field);return fr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ud(t.unaryFilter.field);return fr.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ud(t.unaryFilter.field);return fr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ud(t.unaryFilter.field);return fr.create(c,"!=",{nullValue:"NULL_VALUE"});default:return pt()}}(e):e.fieldFilter!==void 0?function(t){return fr.create(Ud(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return hs.create(t.compositeFilter.filters.map(r=>uH(r)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return pt()}}(t.compositeFilter.op))}(e):pt()}function Nge(e){return wge[e]}function Rge(e){return yge[e]}function Oge(e){return _ge[e]}function Vd(e){return{fieldPath:e.canonicalString()}}function Ud(e){return to.fromServerFormat(e.fieldPath)}function dH(e){return e instanceof fr?function(t){if(t.op==="=="){if($F(t.value))return{unaryFilter:{field:Vd(t.field),op:"IS_NAN"}};if(zF(t.value))return{unaryFilter:{field:Vd(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($F(t.value))return{unaryFilter:{field:Vd(t.field),op:"IS_NOT_NAN"}};if(zF(t.value))return{unaryFilter:{field:Vd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vd(t.field),op:Rge(t.op),value:t.value}}}(e):e instanceof hs?function(t){const r=t.getFilters().map(o=>dH(o));return r.length===1?r[0]:{compositeFilter:{op:Oge(t.op),filters:r}}}(e):pt()}function Bge(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function hH(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(t,r,o,s,c=gt.min(),d=gt.min(),m=lo.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=r,this.purpose=o,this.sequenceNumber=s,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=f}withSequenceNumber(t){return new Nl(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Nl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Nl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Nl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lge{constructor(t){this.fe=t}}function jge(e){const t=Mge({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?iS(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fge{constructor(){this.rn=new zge}addToCollectionParentIndex(t,r){return this.rn.add(r),Ce.resolve()}getCollectionParents(t,r){return Ce.resolve(this.rn.getEntries(r))}addFieldIndex(t,r){return Ce.resolve()}deleteFieldIndex(t,r){return Ce.resolve()}getDocumentsMatchingTarget(t,r){return Ce.resolve(null)}getIndexType(t,r){return Ce.resolve(0)}getFieldIndexes(t,r){return Ce.resolve([])}getNextCollectionGroupToUpdate(t){return Ce.resolve(null)}getMinOffset(t,r){return Ce.resolve(Xl.min())}getMinOffsetFromCollectionGroup(t,r){return Ce.resolve(Xl.min())}updateCollectionGroup(t,r,o){return Ce.resolve()}updateIndexEntries(t,r){return Ce.resolve()}}class zge{constructor(){this.index={}}add(t){const r=t.lastSegment(),o=t.popLast(),s=this.index[r]||new oo(An.comparator),c=!s.has(o);return this.index[r]=s.add(o),c}has(t){const r=t.lastSegment(),o=t.popLast(),s=this.index[r];return s&&s.has(o)}getEntries(t){return(this.index[t]||new oo(An.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new $h(0)}static Mn(){return new $h(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ge{constructor(){this.changes=new bp(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,eo.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const o=this.changes.get(r);return o!==void 0?Ce.resolve(o):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vge{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uge{constructor(t,r,o,s){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=s}getDocument(t,r){let o=null;return this.documentOverlayCache.getOverlay(t,r).next(s=>(o=s,this.remoteDocumentCache.getEntry(t,r))).next(s=>(o!==null&&ym(o.mutation,s,ri.empty(),ir.now()),s))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(o=>this.getLocalViewOfDocuments(t,o,It()).next(()=>o))}getLocalViewOfDocuments(t,r,o=It()){const s=ou();return this.populateOverlays(t,s,r).next(()=>this.computeViews(t,r,s,o).next(c=>{let d=em();return c.forEach((m,f)=>{d=d.insert(m,f.overlayedDocument)}),d}))}getOverlayedDocuments(t,r){const o=ou();return this.populateOverlays(t,o,r).next(()=>this.computeViews(t,r,o,It()))}populateOverlays(t,r,o){const s=[];return o.forEach(c=>{r.has(c)||s.push(c)}),this.documentOverlayCache.getOverlays(t,s).next(c=>{c.forEach((d,m)=>{r.set(d,m)})})}computeViews(t,r,o,s){let c=Qa();const d=wm(),m=wm();return r.forEach((f,k)=>{const v=o.get(k.key);s.has(k.key)&&(v===void 0||v.mutation instanceof hc)?c=c.insert(k.key,k):v!==void 0?(d.set(k.key,v.mutation.getFieldMask()),ym(v.mutation,k,v.mutation.getFieldMask(),ir.now())):d.set(k.key,ri.empty())}),this.recalculateAndSaveOverlays(t,c).next(f=>(f.forEach((k,v)=>d.set(k,v)),r.forEach((k,v)=>{var _;return m.set(k,new Vge(v,(_=d.get(k))!==null&&_!==void 0?_:null))}),m))}recalculateAndSaveOverlays(t,r){const o=wm();let s=new jn((d,m)=>d-m),c=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(d=>{for(const m of d)m.keys().forEach(f=>{const k=r.get(f);if(k===null)return;let v=o.get(f)||ri.empty();v=m.applyToLocalView(k,v),o.set(f,v);const _=(s.get(m.batchId)||It()).add(f);s=s.insert(m.batchId,_)})}).next(()=>{const d=[],m=s.getReverseIterator();for(;m.hasNext();){const f=m.getNext(),k=f.key,v=f.value,_=KU();v.forEach(y=>{if(!c.has(y)){const A=nH(r.get(y),o.get(y));A!==null&&_.set(y,A),c=c.add(y)}}),d.push(this.documentOverlayCache.saveOverlays(t,k,_))}return Ce.waitFor(d)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(o=>this.recalculateAndSaveOverlays(t,o))}getDocumentsMatchingQuery(t,r,o){return function(s){return Qe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):UU(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,o):this.getDocumentsMatchingCollectionQuery(t,r,o)}getNextDocuments(t,r,o,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,o,s).next(c=>{const d=s-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,o.largestBatchId,s-c.size):Ce.resolve(ou());let m=-1,f=c;return d.next(k=>Ce.forEach(k,(v,_)=>(m<_.largestBatchId&&(m=_.largestBatchId),c.get(v)?Ce.resolve():this.remoteDocumentCache.getEntry(t,v).next(y=>{f=f.insert(v,y)}))).next(()=>this.populateOverlays(t,k,c)).next(()=>this.computeViews(t,f,k,It())).next(v=>({batchId:m,changes:GU(v)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new Qe(r)).next(o=>{let s=em();return o.isFoundDocument()&&(s=s.insert(o.key,o)),s})}getDocumentsMatchingCollectionGroupQuery(t,r,o){const s=r.collectionGroup;let c=em();return this.indexManager.getCollectionParents(t,s).next(d=>Ce.forEach(d,m=>{const f=function(k,v){return new gp(v,null,k.explicitOrderBy.slice(),k.filters.slice(),k.limit,k.limitType,k.startAt,k.endAt)}(r,m.child(s));return this.getDocumentsMatchingCollectionQuery(t,f,o).next(k=>{k.forEach((v,_)=>{c=c.insert(v,_)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,r,o){let s;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,o.largestBatchId).next(c=>(s=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,o,s))).next(c=>{s.forEach((m,f)=>{const k=f.getKey();c.get(k)===null&&(c=c.insert(k,eo.newInvalidDocument(k)))});let d=em();return c.forEach((m,f)=>{const k=s.get(m);k!==void 0&&ym(k.mutation,f,ri.empty(),ir.now()),Hy(r,f)&&(d=d.insert(m,f))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hge{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,r){return Ce.resolve(this.cs.get(r))}saveBundleMetadata(t,r){var o;return this.cs.set(r.id,{id:(o=r).id,version:o.version,createTime:Gs(o.createTime)}),Ce.resolve()}getNamedQuery(t,r){return Ce.resolve(this.hs.get(r))}saveNamedQuery(t,r){return this.hs.set(r.name,function(o){return{name:o.name,query:jge(o.bundledQuery),readTime:Gs(o.readTime)}}(r)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wge{constructor(){this.overlays=new jn(Qe.comparator),this.ls=new Map}getOverlay(t,r){return Ce.resolve(this.overlays.get(r))}getOverlays(t,r){const o=ou();return Ce.forEach(r,s=>this.getOverlay(t,s).next(c=>{c!==null&&o.set(s,c)})).next(()=>o)}saveOverlays(t,r,o){return o.forEach((s,c)=>{this.we(t,r,c)}),Ce.resolve()}removeOverlaysForBatchId(t,r,o){const s=this.ls.get(o);return s!==void 0&&(s.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(o)),Ce.resolve()}getOverlaysForCollection(t,r,o){const s=ou(),c=r.length+1,d=new Qe(r.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const f=m.getNext().value,k=f.getKey();if(!r.isPrefixOf(k.path))break;k.path.length===c&&f.largestBatchId>o&&s.set(f.getKey(),f)}return Ce.resolve(s)}getOverlaysForCollectionGroup(t,r,o,s){let c=new jn((k,v)=>k-v);const d=this.overlays.getIterator();for(;d.hasNext();){const k=d.getNext().value;if(k.getKey().getCollectionGroup()===r&&k.largestBatchId>o){let v=c.get(k.largestBatchId);v===null&&(v=ou(),c=c.insert(k.largestBatchId,v)),v.set(k.getKey(),k)}}const m=ou(),f=c.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((k,v)=>m.set(k,v)),!(m.size()>=s)););return Ce.resolve(m)}we(t,r,o){const s=this.overlays.get(o.key);if(s!==null){const d=this.ls.get(s.largestBatchId).delete(o.key);this.ls.set(s.largestBatchId,d)}this.overlays=this.overlays.insert(o.key,new fge(r,o));let c=this.ls.get(r);c===void 0&&(c=It(),this.ls.set(r,c)),this.ls.set(r,c.add(o.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.fs=new oo(Dr.ds),this.ws=new oo(Dr._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,r){const o=new Dr(t,r);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(t,r){t.forEach(o=>this.addReference(o,r))}removeReference(t,r){this.ys(new Dr(t,r))}ps(t,r){t.forEach(o=>this.removeReference(o,r))}Is(t){const r=new Qe(new An([])),o=new Dr(r,t),s=new Dr(r,t+1),c=[];return this.ws.forEachInRange([o,s],d=>{this.ys(d),c.push(d.key)}),c}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const r=new Qe(new An([])),o=new Dr(r,t),s=new Dr(r,t+1);let c=It();return this.ws.forEachInRange([o,s],d=>{c=c.add(d.key)}),c}containsKey(t){const r=new Dr(t,0),o=this.fs.firstAfterOrEqual(r);return o!==null&&t.isEqual(o.key)}}class Dr{constructor(t,r){this.key=t,this.As=r}static ds(t,r){return Qe.comparator(t.key,r.key)||Kt(t.As,r.As)}static _s(t,r){return Kt(t.As,r.As)||Qe.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qge{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.vs=1,this.Rs=new oo(Dr.ds)}checkEmpty(t){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,o,s){const c=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new pge(c,r,o,s);this.mutationQueue.push(d);for(const m of s)this.Rs=this.Rs.add(new Dr(m.key,c)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return Ce.resolve(d)}lookupMutationBatch(t,r){return Ce.resolve(this.Ps(r))}getNextMutationBatchAfterBatchId(t,r){const o=r+1,s=this.bs(o),c=s<0?0:s;return Ce.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(t){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const o=new Dr(r,0),s=new Dr(r,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([o,s],d=>{const m=this.Ps(d.As);c.push(m)}),Ce.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,r){let o=new oo(Kt);return r.forEach(s=>{const c=new Dr(s,0),d=new Dr(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,d],m=>{o=o.add(m.As)})}),Ce.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(t,r){const o=r.path,s=o.length+1;let c=o;Qe.isDocumentKey(c)||(c=c.child(""));const d=new Dr(new Qe(c),0);let m=new oo(Kt);return this.Rs.forEachWhile(f=>{const k=f.key.path;return!!o.isPrefixOf(k)&&(k.length===s&&(m=m.add(f.As)),!0)},d),Ce.resolve(this.Vs(m))}Vs(t){const r=[];return t.forEach(o=>{const s=this.Ps(o);s!==null&&r.push(s)}),r}removeMutationBatch(t,r){Sn(this.Ss(r.batchId,"removed")===0),this.mutationQueue.shift();let o=this.Rs;return Ce.forEach(r.mutations,s=>{const c=new Dr(s.key,r.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Rs=o})}Cn(t){}containsKey(t,r){const o=new Dr(r,0),s=this.Rs.firstAfterOrEqual(o);return Ce.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,Ce.resolve()}Ss(t,r){return this.bs(t)}bs(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Ps(t){const r=this.bs(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gge{constructor(t){this.Ds=t,this.docs=new jn(Qe.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const o=r.key,s=this.docs.get(o),c=s?s.size:0,d=this.Ds(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,o.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const o=this.docs.get(r);return Ce.resolve(o?o.document.mutableCopy():eo.newInvalidDocument(r))}getEntries(t,r){let o=Qa();return r.forEach(s=>{const c=this.docs.get(s);o=o.insert(s,c?c.document.mutableCopy():eo.newInvalidDocument(s))}),Ce.resolve(o)}getDocumentsMatchingQuery(t,r,o,s){let c=Qa();const d=r.path,m=new Qe(d.child("")),f=this.docs.getIteratorFrom(m);for(;f.hasNext();){const{key:k,value:{document:v}}=f.getNext();if(!d.isPrefixOf(k.path))break;k.path.length>d.length+1||Rme(Nme(v),o)<=0||(s.has(v.key)||Hy(r,v))&&(c=c.insert(v.key,v.mutableCopy()))}return Ce.resolve(c)}getAllFromCollectionGroup(t,r,o,s){pt()}Cs(t,r){return Ce.forEach(this.docs,o=>r(o))}newChangeBuffer(t){return new Kge(this)}getSize(t){return Ce.resolve(this.size)}}class Kge extends $ge{constructor(t){super(),this.os=t}applyChanges(t){const r=[];return this.changes.forEach((o,s)=>{s.isValidDocument()?r.push(this.os.addEntry(t,s)):this.os.removeEntry(o)}),Ce.waitFor(r)}getFromCache(t,r){return this.os.getEntry(t,r)}getAllFromCache(t,r){return this.os.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yge{constructor(t){this.persistence=t,this.xs=new bp(r=>DD(r),TD),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new OD,this.targetCount=0,this.Ms=$h.kn()}forEachTarget(t,r){return this.xs.forEach((o,s)=>r(s)),Ce.resolve()}getLastRemoteSnapshotVersion(t){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ce.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(t,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Ns&&(this.Ns=r),Ce.resolve()}Fn(t){this.xs.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.Ms=new $h(r),this.highestTargetId=r),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,r){return this.Fn(r),this.targetCount+=1,Ce.resolve()}updateTargetData(t,r){return this.Fn(r),Ce.resolve()}removeTargetData(t,r){return this.xs.delete(r.target),this.ks.Is(r.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(t,r,o){let s=0;const c=[];return this.xs.forEach((d,m)=>{m.sequenceNumber<=r&&o.get(m.targetId)===null&&(this.xs.delete(d),c.push(this.removeMatchingKeysForTargetId(t,m.targetId)),s++)}),Ce.waitFor(c).next(()=>s)}getTargetCount(t){return Ce.resolve(this.targetCount)}getTargetData(t,r){const o=this.xs.get(r)||null;return Ce.resolve(o)}addMatchingKeys(t,r,o){return this.ks.gs(r,o),Ce.resolve()}removeMatchingKeys(t,r,o){this.ks.ps(r,o);const s=this.persistence.referenceDelegate,c=[];return s&&r.forEach(d=>{c.push(s.markPotentiallyOrphaned(t,d))}),Ce.waitFor(c)}removeMatchingKeysForTargetId(t,r){return this.ks.Is(r),Ce.resolve()}getMatchingKeysForTargetId(t,r){const o=this.ks.Es(r);return Ce.resolve(o)}containsKey(t,r){return Ce.resolve(this.ks.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qge{constructor(t,r){this.$s={},this.overlays={},this.Os=new AD(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new Yge(this),this.indexManager=new Fge,this.remoteDocumentCache=function(o){return new Gge(o)}(o=>this.referenceDelegate.Ls(o)),this.serializer=new Lge(r),this.qs=new Hge(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new Wge,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let o=this.$s[t.toKey()];return o||(o=new qge(r,this.referenceDelegate),this.$s[t.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,r,o){Ge("MemoryPersistence","Starting transaction:",t);const s=new Zge(this.Os.next());return this.referenceDelegate.Us(),o(s).next(c=>this.referenceDelegate.Ks(s).next(()=>c)).toPromise().then(c=>(s.raiseOnCommittedEvent(),c))}Gs(t,r){return Ce.or(Object.values(this.$s).map(o=>()=>o.containsKey(t,r)))}}class Zge extends Bme{constructor(t){super(),this.currentSequenceNumber=t}}class BD{constructor(t){this.persistence=t,this.Qs=new OD,this.js=null}static zs(t){return new BD(t)}get Ws(){if(this.js)return this.js;throw pt()}addReference(t,r,o){return this.Qs.addReference(o,r),this.Ws.delete(o.toString()),Ce.resolve()}removeReference(t,r,o){return this.Qs.removeReference(o,r),this.Ws.add(o.toString()),Ce.resolve()}markPotentiallyOrphaned(t,r){return this.Ws.add(r.toString()),Ce.resolve()}removeTarget(t,r){this.Qs.Is(r.targetId).forEach(s=>this.Ws.add(s.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,r.targetId).next(s=>{s.forEach(c=>this.Ws.add(c.toString()))}).next(()=>o.removeTargetData(t,r))}Us(){this.js=new Set}Ks(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Ws,o=>{const s=Qe.fromPath(o);return this.Hs(t,s).next(c=>{c||r.removeEntry(s,gt.min())})}).next(()=>(this.js=null,r.apply(t)))}updateLimboDocument(t,r){return this.Hs(t,r).next(o=>{o?this.Ws.delete(r.toString()):this.Ws.add(r.toString())})}Ls(t){return 0}Hs(t,r){return Ce.or([()=>Ce.resolve(this.Qs.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Gs(t,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t,r,o,s){this.targetId=t,this.fromCache=r,this.Fi=o,this.Bi=s}static Li(t,r){let o=It(),s=It();for(const c of r.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:s=s.add(c.doc.key)}return new LD(t,r.fromCache,o,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jge{constructor(){this.qi=!1}initialize(t,r){this.Ui=t,this.indexManager=r,this.qi=!0}getDocumentsMatchingQuery(t,r,o,s){return this.Ki(t,r).next(c=>c||this.Gi(t,r,s,o)).next(c=>c||this.Qi(t,r))}Ki(t,r){if(WF(r))return Ce.resolve(null);let o=Ya(r);return this.indexManager.getIndexType(t,o).next(s=>s===0?null:(r.limit!==null&&s===1&&(r=iS(r,null,"F"),o=Ya(r)),this.indexManager.getDocumentsMatchingTarget(t,o).next(c=>{const d=It(...c);return this.Ui.getDocuments(t,d).next(m=>this.indexManager.getMinOffset(t,o).next(f=>{const k=this.ji(r,m);return this.zi(r,k,d,f.readTime)?this.Ki(t,iS(r,null,"F")):this.Wi(t,k,r,f)}))})))}Gi(t,r,o,s){return WF(r)||s.isEqual(gt.min())?this.Qi(t,r):this.Ui.getDocuments(t,o).next(c=>{const d=this.ji(r,c);return this.zi(r,d,o,s)?this.Qi(t,r):(OF()<=Wt.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),sS(r)),this.Wi(t,d,r,Pme(s,-1)))})}ji(t,r){let o=new oo(WU(t));return r.forEach((s,c)=>{Hy(t,c)&&(o=o.add(c))}),o}zi(t,r,o,s){if(t.limit===null)return!1;if(o.size!==r.size)return!0;const c=t.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(s)>0)}Qi(t,r){return OF()<=Wt.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",sS(r)),this.Ui.getDocumentsMatchingQuery(t,r,Xl.min())}Wi(t,r,o,s){return this.Ui.getDocumentsMatchingQuery(t,o,s).next(c=>(r.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xge{constructor(t,r,o,s){this.persistence=t,this.Hi=r,this.serializer=s,this.Ji=new jn(Kt),this.Yi=new bp(c=>DD(c),TD),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(o)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Uge(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ji))}}function ebe(e,t,r,o){return new Xge(e,t,r,o)}async function pH(e,t){const r=kt(e);return await r.persistence.runTransaction("Handle user change","readonly",o=>{let s;return r.mutationQueue.getAllMutationBatches(o).next(c=>(s=c,r.tr(t),r.mutationQueue.getAllMutationBatches(o))).next(c=>{const d=[],m=[];let f=It();for(const k of s){d.push(k.batchId);for(const v of k.mutations)f=f.add(v.key)}for(const k of c){m.push(k.batchId);for(const v of k.mutations)f=f.add(v.key)}return r.localDocuments.getDocuments(o,f).next(k=>({er:k,removedBatchIds:d,addedBatchIds:m}))})})}function tbe(e,t){const r=kt(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const s=t.batch.keys(),c=r.Zi.newChangeBuffer({trackRemovals:!0});return function(d,m,f,k){const v=f.batch,_=v.keys();let y=Ce.resolve();return _.forEach(A=>{y=y.next(()=>k.getEntry(m,A)).next(D=>{const S=f.docVersions.get(A);Sn(S!==null),D.version.compareTo(S)<0&&(v.applyToRemoteDocument(D,f),D.isValidDocument()&&(D.setReadTime(f.commitVersion),k.addEntry(D)))})}),y.next(()=>d.mutationQueue.removeMutationBatch(m,v))}(r,o,t,c).next(()=>c.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,s,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(d){let m=It();for(let f=0;f<d.mutationResults.length;++f)d.mutationResults[f].transformResults.length>0&&(m=m.add(d.batch.mutations[f].key));return m}(t))).next(()=>r.localDocuments.getDocuments(o,s))})}function fH(e){const t=kt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Bs.getLastRemoteSnapshotVersion(r))}function nbe(e,t){const r=kt(e),o=t.snapshotVersion;let s=r.Ji;return r.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=r.Zi.newChangeBuffer({trackRemovals:!0});s=r.Ji;const m=[];t.targetChanges.forEach((v,_)=>{const y=s.get(_);if(!y)return;m.push(r.Bs.removeMatchingKeys(c,v.removedDocuments,_).next(()=>r.Bs.addMatchingKeys(c,v.addedDocuments,_)));let A=y.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(_)!==null?A=A.withResumeToken(lo.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,o)),s=s.insert(_,A),function(D,S,I){return D.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(y,A,v)&&m.push(r.Bs.updateTargetData(c,A))});let f=Qa(),k=It();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&m.push(r.persistence.referenceDelegate.updateLimboDocument(c,v))}),m.push(rbe(c,d,t.documentUpdates).next(v=>{f=v.nr,k=v.sr})),!o.isEqual(gt.min())){const v=r.Bs.getLastRemoteSnapshotVersion(c).next(_=>r.Bs.setTargetsMetadata(c,c.currentSequenceNumber,o));m.push(v)}return Ce.waitFor(m).next(()=>d.apply(c)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,f,k)).next(()=>f)}).then(c=>(r.Ji=s,c))}function rbe(e,t,r){let o=It(),s=It();return r.forEach(c=>o=o.add(c)),t.getEntries(e,o).next(c=>{let d=Qa();return r.forEach((m,f)=>{const k=c.get(m);f.isFoundDocument()!==k.isFoundDocument()&&(s=s.add(m)),f.isNoDocument()&&f.version.isEqual(gt.min())?(t.removeEntry(m,f.readTime),d=d.insert(m,f)):!k.isValidDocument()||f.version.compareTo(k.version)>0||f.version.compareTo(k.version)===0&&k.hasPendingWrites?(t.addEntry(f),d=d.insert(m,f)):Ge("LocalStore","Ignoring outdated watch update for ",m,". Current version:",k.version," Watch version:",f.version)}),{nr:d,sr:s}})}function obe(e,t){const r=kt(e);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(t===void 0&&(t=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,t)))}function ibe(e,t){const r=kt(e);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let s;return r.Bs.getTargetData(o,t).next(c=>c?(s=c,Ce.resolve(s)):r.Bs.allocateTargetId(o).next(d=>(s=new Nl(t,d,"TargetPurposeListen",o.currentSequenceNumber),r.Bs.addTargetData(o,s).next(()=>s))))}).then(o=>{const s=r.Ji.get(o.targetId);return(s===null||o.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.Ji=r.Ji.insert(o.targetId,o),r.Yi.set(t,o.targetId)),o})}async function dS(e,t,r){const o=kt(e),s=o.Ji.get(t),c=r?"readwrite":"readwrite-primary";try{r||await o.persistence.runTransaction("Release target",c,d=>o.persistence.referenceDelegate.removeTarget(d,s))}catch(d){if(!nb(d))throw d;Ge("LocalStore",`Failed to update sequence numbers for target ${t}: ${d}`)}o.Ji=o.Ji.remove(t),o.Yi.delete(s.target)}function nz(e,t,r){const o=kt(e);let s=gt.min(),c=It();return o.persistence.runTransaction("Execute query","readonly",d=>function(m,f,k){const v=kt(m),_=v.Yi.get(k);return _!==void 0?Ce.resolve(v.Ji.get(_)):v.Bs.getTargetData(f,k)}(o,d,Ya(t)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(d,m.targetId).next(f=>{c=f})}).next(()=>o.Hi.getDocumentsMatchingQuery(d,t,r?s:gt.min(),r?c:It())).next(m=>(sbe(o,Jme(t),m),{documents:m,ir:c})))}function sbe(e,t,r){let o=e.Xi.get(t)||gt.min();r.forEach((s,c)=>{c.readTime.compareTo(o)>0&&(o=c.readTime)}),e.Xi.set(t,o)}class rz{constructor(){this.activeTargetIds=oge()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class abe{constructor(){this.Hr=new rz,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,o){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,r,o){this.Jr[t]=r}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new rz,Promise.resolve()}handleUserChange(t,r,o){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lbe{Yr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iv=null;function tx(){return Iv===null?Iv=268435456+Math.round(2147483648*Math.random()):Iv++,"0x"+Iv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cbe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ube{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="WebChannelConnection";class dbe extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http";this.mo=r+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,r,o,s,c){const d=tx(),m=this.To(t,r);Ge("RestConnection",`Sending RPC '${t}' ${d}:`,m,o);const f={};return this.Eo(f,s,c),this.Ao(t,m,f,o).then(k=>(Ge("RestConnection",`Received RPC '${t}' ${d}: `,k),k),k=>{throw Bh("RestConnection",`RPC '${t}' ${d} failed with error: `,k,"url: ",m,"request:",o),k})}vo(t,r,o,s,c,d){return this.Io(t,r,o,s,c)}Eo(t,r,o){t["X-Goog-Api-Client"]="gl-js/ fire/"+mp,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,c)=>t[c]=s),o&&o.headers.forEach((s,c)=>t[c]=s)}To(t,r){const o=cbe[t];return`${this.mo}/v1/${r}:${o}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,r,o,s){const c=tx();return new Promise((d,m)=>{const f=new yme;f.setWithCredentials(!0),f.listenOnce(kme.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case X1.NO_ERROR:const v=f.getResponseJson();Ge(Qr,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(v)),d(v);break;case X1.TIMEOUT:Ge(Qr,`RPC '${t}' ${c} timed out`),m(new Re(ce.DEADLINE_EXCEEDED,"Request time out"));break;case X1.HTTP_ERROR:const _=f.getStatus();if(Ge(Qr,`RPC '${t}' ${c} failed with status:`,_,"response text:",f.getResponseText()),_>0){let y=f.getResponseJson();Array.isArray(y)&&(y=y[0]);const A=y==null?void 0:y.error;if(A&&A.status&&A.message){const D=function(S){const I=S.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(I)>=0?I:ce.UNKNOWN}(A.status);m(new Re(D,A.message))}else m(new Re(ce.UNKNOWN,"Server responded with status "+f.getStatus()))}else m(new Re(ce.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{Ge(Qr,`RPC '${t}' ${c} completed.`)}});const k=JSON.stringify(s);Ge(Qr,`RPC '${t}' ${c} sending request:`,s),f.send(r,"POST",k,o,15)})}Ro(t,r,o){const s=tx(),c=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=gme(),m=bme(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},k=this.longPollingOptions.timeoutSeconds;k!==void 0&&(f.longPollingTimeout=Math.round(1e3*k)),this.useFetchStreams&&(f.xmlHttpFactory=new wme({})),this.Eo(f.initMessageHeaders,r,o),f.encodeInitMessageHeaders=!0;const v=c.join("");Ge(Qr,`Creating RPC '${t}' stream ${s}: ${v}`,f);const _=d.createWebChannel(v,f);let y=!1,A=!1;const D=new ube({ro:I=>{A?Ge(Qr,`Not sending because RPC '${t}' stream ${s} is closed:`,I):(y||(Ge(Qr,`Opening RPC '${t}' stream ${s} transport.`),_.open(),y=!0),Ge(Qr,`RPC '${t}' stream ${s} sending:`,I),_.send(I))},oo:()=>_.close()}),S=(I,T,P)=>{I.listen(T,N=>{try{P(N)}catch(j){setTimeout(()=>{throw j},0)}})};return S(_,Ev.EventType.OPEN,()=>{A||Ge(Qr,`RPC '${t}' stream ${s} transport opened.`)}),S(_,Ev.EventType.CLOSE,()=>{A||(A=!0,Ge(Qr,`RPC '${t}' stream ${s} transport closed`),D.wo())}),S(_,Ev.EventType.ERROR,I=>{A||(A=!0,Bh(Qr,`RPC '${t}' stream ${s} transport errored:`,I),D.wo(new Re(ce.UNAVAILABLE,"The operation could not be completed")))}),S(_,Ev.EventType.MESSAGE,I=>{var T;if(!A){const P=I.data[0];Sn(!!P);const N=P,j=N.error||((T=N[0])===null||T===void 0?void 0:T.error);if(j){Ge(Qr,`RPC '${t}' stream ${s} received error:`,j);const $=j.status;let U=function(z){const W=cr[z];if(W!==void 0)return oH(W)}($),R=j.message;U===void 0&&(U=ce.INTERNAL,R="Unknown error status: "+$+" with message "+j.message),A=!0,D.wo(new Re(U,R)),_.close()}else Ge(Qr,`RPC '${t}' stream ${s} received:`,P),D._o(P)}}),S(m,vme.STAT_EVENT,I=>{I.stat===NF.PROXY?Ge(Qr,`RPC '${t}' stream ${s} detected buffering proxy`):I.stat===NF.NOPROXY&&Ge(Qr,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{D.fo()},0),D}}function nx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(e){return new Cge(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(t,r,o=1e3,s=1.5,c=6e4){this.ii=t,this.timerId=r,this.Po=o,this.bo=s,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const r=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),s=Math.max(0,r-o);s>0&&Ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(t,r,o,s,c,d,m,f){this.ii=t,this.$o=o,this.Oo=s,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=f,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new mH(t,r)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(t,r){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,t!==4?this.qo.reset():r&&r.code===ce.RESOURCE_EXHAUSTED?(Ka(r.toString()),Ka("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):r&&r.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.ao(r)}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),r=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,s])=>{this.Fo===r&&this.Zo(o,s)},o=>{t(()=>{const s=new Re(ce.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(s)})})}Zo(t,r){const o=this.Xo(this.Fo);this.stream=this.eu(t,r),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{o(()=>this.tu(s))}),this.stream.onMessage(s=>{o(()=>this.onMessage(s))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(t){return Ge("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return r=>{this.ii.enqueueAndForget(()=>this.Fo===t?r():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hbe extends gH{constructor(t,r,o,s,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,s,d),this.serializer=c}eu(t,r){return this.connection.Ro("Listen",t,r)}onMessage(t){this.qo.reset();const r=Ege(this.serializer,t),o=function(s){if(!("targetChange"in s))return gt.min();const c=s.targetChange;return c.targetIds&&c.targetIds.length?gt.min():c.readTime?Gs(c.readTime):gt.min()}(t);return this.listener.nu(r,o)}su(t){const r={};r.database=uS(this.serializer),r.addTarget=function(s,c){let d;const m=c.target;if(d=rS(m)?{documents:Tge(s,m)}:{query:Ige(s,m)},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=aH(s,c.resumeToken);const f=aS(s,c.expectedCount);f!==null&&(d.expectedCount=f)}else if(c.snapshotVersion.compareTo(gt.min())>0){d.readTime=Cw(s,c.snapshotVersion.toTimestamp());const f=aS(s,c.expectedCount);f!==null&&(d.expectedCount=f)}return d}(this.serializer,t);const o=Pge(this.serializer,t);o&&(r.labels=o),this.Wo(r)}iu(t){const r={};r.database=uS(this.serializer),r.removeTarget=t,this.Wo(r)}}class pbe extends gH{constructor(t,r,o,s,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,s,d),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,r){return this.connection.Ro("Write",t,r)}onMessage(t){if(Sn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const r=Dge(t.writeResults,t.commitTime),o=Gs(t.commitTime);return this.listener.cu(o,r)}return Sn(!t.writeResults||t.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const t={};t.database=uS(this.serializer),this.Wo(t)}uu(t){const r={streamToken:this.lastStreamToken,writes:t.map(o=>Sge(this.serializer,o))};this.Wo(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fbe extends class{}{constructor(t,r,o,s){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=o,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new Re(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Io(t,r,o,s,c)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Re(ce.UNKNOWN,s.toString())})}vo(t,r,o,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.vo(t,r,o,c,d,s)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Re(ce.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}class mbe{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,t==="Online"&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ka(r),this.mu=!1):Ge("OnlineStateTracker",r)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gbe{constructor(t,r,o,s,c){this.localStore=t,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(d=>{o.enqueueAndForget(async()=>{Hu(this)&&(Ge("RemoteStore","Restarting streams for network reachability change."),await async function(m){const f=kt(m);f.vu.add(4),await ib(f),f.bu.set("Unknown"),f.vu.delete(4),await Qy(f)}(this))})}),this.bu=new mbe(o,s)}}async function Qy(e){if(Hu(e))for(const t of e.Ru)await t(!0)}async function ib(e){for(const t of e.Ru)await t(!1)}function bH(e,t){const r=kt(e);r.Au.has(t.targetId)||(r.Au.set(t.targetId,t),zD(r)?FD(r):kp(r).Ko()&&jD(r,t))}function kH(e,t){const r=kt(e),o=kp(r);r.Au.delete(t),o.Ko()&&vH(r,t),r.Au.size===0&&(o.Ko()?o.jo():Hu(r)&&r.bu.set("Unknown"))}function jD(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(gt.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}kp(e).su(t)}function vH(e,t){e.Vu.qt(t),kp(e).iu(t)}function FD(e){e.Vu=new vge({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),kp(e).start(),e.bu.gu()}function zD(e){return Hu(e)&&!kp(e).Uo()&&e.Au.size>0}function Hu(e){return kt(e).vu.size===0}function wH(e){e.Vu=void 0}async function bbe(e){e.Au.forEach((t,r)=>{jD(e,t)})}async function kbe(e,t){wH(e),zD(e)?(e.bu.Iu(t),FD(e)):e.bu.set("Unknown")}async function vbe(e,t,r){if(e.bu.set("Online"),t instanceof sH&&t.state===2&&t.cause)try{await async function(o,s){const c=s.cause;for(const d of s.targetIds)o.Au.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Au.delete(d),o.Vu.removeTarget(d))}(e,t)}catch(o){Ge("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),o),await Aw(e,o)}else if(t instanceof m0?e.Vu.Ht(t):t instanceof iH?e.Vu.ne(t):e.Vu.Xt(t),!r.isEqual(gt.min()))try{const o=await fH(e.localStore);r.compareTo(o)>=0&&await function(s,c){const d=s.Vu.ce(c);return d.targetChanges.forEach((m,f)=>{if(m.resumeToken.approximateByteSize()>0){const k=s.Au.get(f);k&&s.Au.set(f,k.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,f)=>{const k=s.Au.get(m);if(!k)return;s.Au.set(m,k.withResumeToken(lo.EMPTY_BYTE_STRING,k.snapshotVersion)),vH(s,m);const v=new Nl(k.target,m,f,k.sequenceNumber);jD(s,v)}),s.remoteSyncer.applyRemoteEvent(d)}(e,r)}catch(o){Ge("RemoteStore","Failed to raise snapshot:",o),await Aw(e,o)}}async function Aw(e,t,r){if(!nb(t))throw t;e.vu.add(1),await ib(e),e.bu.set("Offline"),r||(r=()=>fH(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ge("RemoteStore","Retrying IndexedDB access"),await r(),e.vu.delete(1),await Qy(e)})}function yH(e,t){return t().catch(r=>Aw(e,r,t))}async function Zy(e){const t=kt(e),r=tc(t);let o=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;wbe(t);)try{const s=await obe(t.localStore,o);if(s===null){t.Eu.length===0&&r.jo();break}o=s.batchId,ybe(t,s)}catch(s){await Aw(t,s)}_H(t)&&CH(t)}function wbe(e){return Hu(e)&&e.Eu.length<10}function ybe(e,t){e.Eu.push(t);const r=tc(e);r.Ko()&&r.ou&&r.uu(t.mutations)}function _H(e){return Hu(e)&&!tc(e).Uo()&&e.Eu.length>0}function CH(e){tc(e).start()}async function _be(e){tc(e).hu()}async function Cbe(e){const t=tc(e);for(const r of e.Eu)t.uu(r.mutations)}async function Abe(e,t,r){const o=e.Eu.shift(),s=MD.from(o,t,r);await yH(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Zy(e)}async function xbe(e,t){t&&tc(e).ou&&await async function(r,o){if(s=o.code,gge(s)&&s!==ce.ABORTED){const c=r.Eu.shift();tc(r).Qo(),await yH(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Zy(r)}var s}(e,t),_H(e)&&CH(e)}async function iz(e,t){const r=kt(e);r.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const o=Hu(r);r.vu.add(3),await ib(r),o&&r.bu.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.vu.delete(3),await Qy(r)}async function Ebe(e,t){const r=kt(e);t?(r.vu.delete(2),await Qy(r)):t||(r.vu.add(2),await ib(r),r.bu.set("Unknown"))}function kp(e){return e.Su||(e.Su=function(t,r,o){const s=kt(t);return s.fu(),new hbe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(e.datastore,e.asyncQueue,{uo:bbe.bind(null,e),ao:kbe.bind(null,e),nu:vbe.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),zD(e)?FD(e):e.bu.set("Unknown")):(await e.Su.stop(),wH(e))})),e.Su}function tc(e){return e.Du||(e.Du=function(t,r,o){const s=kt(t);return s.fu(),new pbe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(e.datastore,e.asyncQueue,{uo:_be.bind(null,e),ao:xbe.bind(null,e),au:Cbe.bind(null,e),cu:Abe.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await Zy(e)):(await e.Du.stop(),e.Eu.length>0&&(Ge("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))})),e.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(t,r,o,s,c){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=o,this.op=s,this.removalCallback=c,this.deferred=new Ba,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(t,r,o,s,c){const d=Date.now()+o,m=new $D(t,r,d,s,c);return m.start(o),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(ce.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function VD(e,t){if(Ka("AsyncQueue",`${t}: ${e}`),nb(e))return new Re(ce.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t){this.comparator=t?(r,o)=>t(r,o)||Qe.comparator(r.key,o.key):(r,o)=>Qe.comparator(r.key,o.key),this.keyedMap=em(),this.sortedSet=new jn(this.comparator)}static emptySet(t){return new wh(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,o)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof wh)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),o=t.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,c=o.getNext().key;if(!s.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const o=new wh;return o.comparator=this.comparator,o.keyedMap=t,o.sortedSet=r,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(){this.Cu=new jn(Qe.comparator)}track(t){const r=t.doc.key,o=this.Cu.get(r);o?t.type!==0&&o.type===3?this.Cu=this.Cu.insert(r,t):t.type===3&&o.type!==1?this.Cu=this.Cu.insert(r,{type:o.type,doc:t.doc}):t.type===2&&o.type===2?this.Cu=this.Cu.insert(r,{type:2,doc:t.doc}):t.type===2&&o.type===0?this.Cu=this.Cu.insert(r,{type:0,doc:t.doc}):t.type===1&&o.type===0?this.Cu=this.Cu.remove(r):t.type===1&&o.type===2?this.Cu=this.Cu.insert(r,{type:1,doc:o.doc}):t.type===0&&o.type===1?this.Cu=this.Cu.insert(r,{type:2,doc:t.doc}):pt():this.Cu=this.Cu.insert(r,t)}xu(){const t=[];return this.Cu.inorderTraversal((r,o)=>{t.push(o)}),t}}class Vh{constructor(t,r,o,s,c,d,m,f,k){this.query=t,this.docs=r,this.oldDocs=o,this.docChanges=s,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=f,this.hasCachedResults=k}static fromInitialDocuments(t,r,o,s,c){const d=[];return r.forEach(m=>{d.push({type:0,doc:m})}),new Vh(t,r,wh.emptySet(r),d,o,s,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Uy(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,o=t.docChanges;if(r.length!==o.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==o[s].type||!r[s].doc.isEqual(o[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sbe{constructor(){this.Nu=void 0,this.listeners=[]}}class Dbe{constructor(){this.queries=new bp(t=>HU(t),Uy),this.onlineState="Unknown",this.ku=new Set}}async function UD(e,t){const r=kt(e),o=t.query;let s=!1,c=r.queries.get(o);if(c||(s=!0,c=new Sbe),s)try{c.Nu=await r.onListen(o)}catch(d){const m=VD(d,`Initialization of query '${sS(t.query)}' failed`);return void t.onError(m)}r.queries.set(o,c),c.listeners.push(t),t.Mu(r.onlineState),c.Nu&&t.$u(c.Nu)&&WD(r)}async function HD(e,t){const r=kt(e),o=t.query;let s=!1;const c=r.queries.get(o);if(c){const d=c.listeners.indexOf(t);d>=0&&(c.listeners.splice(d,1),s=c.listeners.length===0)}if(s)return r.queries.delete(o),r.onUnlisten(o)}function Tbe(e,t){const r=kt(e);let o=!1;for(const s of t){const c=s.query,d=r.queries.get(c);if(d){for(const m of d.listeners)m.$u(s)&&(o=!0);d.Nu=s}}o&&WD(r)}function Ibe(e,t,r){const o=kt(e),s=o.queries.get(t);if(s)for(const c of s.listeners)c.onError(r);o.queries.delete(t)}function WD(e){e.ku.forEach(t=>{t.next()})}class qD{constructor(t,r,o){this.query=t,this.Ou=r,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(t){if(!this.options.includeMetadataChanges){const o=[];for(const s of t.docChanges)s.type!==3&&o.push(s);t=new Vh(t.query,t.docs,t.oldDocs,o,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),r=!0):this.qu(t,this.onlineState)&&(this.Uu(t),r=!0),this.Bu=t,r}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let r=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),r=!0),r}qu(t,r){if(!t.fromCache)return!0;const o=r!=="Offline";return(!this.options.Ku||!o)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Lu(t){if(t.docChanges.length>0)return!0;const r=this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Uu(t){t=Vh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(t){this.key=t}}class xH{constructor(t){this.key=t}}class Mbe{constructor(t,r){this.query=t,this.Yu=r,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=It(),this.mutatedKeys=It(),this.tc=WU(t),this.ec=new wh(this.tc)}get nc(){return this.Yu}sc(t,r){const o=r?r.ic:new sz,s=r?r.ec:this.ec;let c=r?r.mutatedKeys:this.mutatedKeys,d=s,m=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,k=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((v,_)=>{const y=s.get(v),A=Hy(this.query,_)?_:null,D=!!y&&this.mutatedKeys.has(y.key),S=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let I=!1;y&&A?y.data.isEqual(A.data)?D!==S&&(o.track({type:3,doc:A}),I=!0):this.rc(y,A)||(o.track({type:2,doc:A}),I=!0,(f&&this.tc(A,f)>0||k&&this.tc(A,k)<0)&&(m=!0)):!y&&A?(o.track({type:0,doc:A}),I=!0):y&&!A&&(o.track({type:1,doc:y}),I=!0,(f||k)&&(m=!0)),I&&(A?(d=d.add(A),c=S?c.add(v):c.delete(v)):(d=d.delete(v),c=c.delete(v)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const v=this.query.limitType==="F"?d.last():d.first();d=d.delete(v.key),c=c.delete(v.key),o.track({type:1,doc:v})}return{ec:d,ic:o,zi:m,mutatedKeys:c}}rc(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,o){const s=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const c=t.ic.xu();c.sort((k,v)=>function(_,y){const A=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return A(_)-A(y)}(k.type,v.type)||this.tc(k.doc,v.doc)),this.oc(o);const d=r?this.uc():[],m=this.Zu.size===0&&this.current?1:0,f=m!==this.Xu;return this.Xu=m,c.length!==0||f?{snapshot:new Vh(this.query,t.ec,s,c,t.mutatedKeys,m===0,f,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:d}:{cc:d}}Mu(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new sz,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(r=>this.Yu=this.Yu.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Yu=this.Yu.delete(r)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=It(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const r=[];return t.forEach(o=>{this.Zu.has(o)||r.push(new xH(o))}),this.Zu.forEach(o=>{t.has(o)||r.push(new AH(o))}),r}hc(t){this.Yu=t.ir,this.Zu=It();const r=this.sc(t.documents);return this.applyChanges(r,!0)}lc(){return Vh.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class Pbe{constructor(t,r,o){this.query=t,this.targetId=r,this.view=o}}class Nbe{constructor(t){this.key=t,this.fc=!1}}class Rbe{constructor(t,r,o,s,c,d){this.localStore=t,this.remoteStore=r,this.eventManager=o,this.sharedClientState=s,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.dc={},this.wc=new bp(m=>HU(m),Uy),this._c=new Map,this.mc=new Set,this.gc=new jn(Qe.comparator),this.yc=new Map,this.Ic=new OD,this.Tc={},this.Ec=new Map,this.Ac=$h.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function Obe(e,t){const r=Wbe(e);let o,s;const c=r.wc.get(t);if(c)o=c.targetId,r.sharedClientState.addLocalQueryTarget(o),s=c.view.lc();else{const d=await ibe(r.localStore,Ya(t)),m=r.sharedClientState.addLocalQueryTarget(d.targetId);o=d.targetId,s=await Bbe(r,t,o,m==="current",d.resumeToken),r.isPrimaryClient&&bH(r.remoteStore,d)}return s}async function Bbe(e,t,r,o,s){e.Rc=(_,y,A)=>async function(D,S,I,T){let P=S.view.sc(I);P.zi&&(P=await nz(D.localStore,S.query,!1).then(({documents:$})=>S.view.sc($,P)));const N=T&&T.targetChanges.get(S.targetId),j=S.view.applyChanges(P,D.isPrimaryClient,N);return lz(D,S.targetId,j.cc),j.snapshot}(e,_,y,A);const c=await nz(e.localStore,t,!0),d=new Mbe(t,c.ir),m=d.sc(c.documents),f=ob.createSynthesizedTargetChangeForCurrentChange(r,o&&e.onlineState!=="Offline",s),k=d.applyChanges(m,e.isPrimaryClient,f);lz(e,r,k.cc);const v=new Pbe(t,r,d);return e.wc.set(t,v),e._c.has(r)?e._c.get(r).push(t):e._c.set(r,[t]),k.snapshot}async function Lbe(e,t){const r=kt(e),o=r.wc.get(t),s=r._c.get(o.targetId);if(s.length>1)return r._c.set(o.targetId,s.filter(c=>!Uy(c,t))),void r.wc.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await dS(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),kH(r.remoteStore,o.targetId),hS(r,o.targetId)}).catch(tb)):(hS(r,o.targetId),await dS(r.localStore,o.targetId,!0))}async function jbe(e,t,r){const o=qbe(e);try{const s=await function(c,d){const m=kt(c),f=ir.now(),k=d.reduce((y,A)=>y.add(A.key),It());let v,_;return m.persistence.runTransaction("Locally write mutations","readwrite",y=>{let A=Qa(),D=It();return m.Zi.getEntries(y,k).next(S=>{A=S,A.forEach((I,T)=>{T.isValidDocument()||(D=D.add(I))})}).next(()=>m.localDocuments.getOverlayedDocuments(y,A)).next(S=>{v=S;const I=[];for(const T of d){const P=dge(T,v.get(T.key).overlayedDocument);P!=null&&I.push(new hc(T.key,P,BU(P.value.mapValue),wo.exists(!0)))}return m.mutationQueue.addMutationBatch(y,f,I,d)}).next(S=>{_=S;const I=S.applyToLocalDocumentSet(v,D);return m.documentOverlayCache.saveOverlays(y,S.batchId,I)})}).then(()=>({batchId:_.batchId,changes:GU(v)}))}(o.localStore,t);o.sharedClientState.addPendingMutation(s.batchId),function(c,d,m){let f=c.Tc[c.currentUser.toKey()];f||(f=new jn(Kt)),f=f.insert(d,m),c.Tc[c.currentUser.toKey()]=f}(o,s.batchId,r),await sb(o,s.changes),await Zy(o.remoteStore)}catch(s){const c=VD(s,"Failed to persist write");r.reject(c)}}async function EH(e,t){const r=kt(e);try{const o=await nbe(r.localStore,t);t.targetChanges.forEach((s,c)=>{const d=r.yc.get(c);d&&(Sn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?d.fc=!0:s.modifiedDocuments.size>0?Sn(d.fc):s.removedDocuments.size>0&&(Sn(d.fc),d.fc=!1))}),await sb(r,o,t)}catch(o){await tb(o)}}function az(e,t,r){const o=kt(e);if(o.isPrimaryClient&&r===0||!o.isPrimaryClient&&r===1){const s=[];o.wc.forEach((c,d)=>{const m=d.view.Mu(t);m.snapshot&&s.push(m.snapshot)}),function(c,d){const m=kt(c);m.onlineState=d;let f=!1;m.queries.forEach((k,v)=>{for(const _ of v.listeners)_.Mu(d)&&(f=!0)}),f&&WD(m)}(o.eventManager,t),s.length&&o.dc.nu(s),o.onlineState=t,o.isPrimaryClient&&o.sharedClientState.setOnlineState(t)}}async function Fbe(e,t,r){const o=kt(e);o.sharedClientState.updateQueryState(t,"rejected",r);const s=o.yc.get(t),c=s&&s.key;if(c){let d=new jn(Qe.comparator);d=d.insert(c,eo.newNoDocument(c,gt.min()));const m=It().add(c),f=new Ky(gt.min(),new Map,new jn(Kt),d,m);await EH(o,f),o.gc=o.gc.remove(c),o.yc.delete(t),GD(o)}else await dS(o.localStore,t,!1).then(()=>hS(o,t,r)).catch(tb)}async function zbe(e,t){const r=kt(e),o=t.batch.batchId;try{const s=await tbe(r.localStore,t);DH(r,o,null),SH(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),await sb(r,s)}catch(s){await tb(s)}}async function $be(e,t,r){const o=kt(e);try{const s=await function(c,d){const m=kt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let k;return m.mutationQueue.lookupMutationBatch(f,d).next(v=>(Sn(v!==null),k=v.keys(),m.mutationQueue.removeMutationBatch(f,v))).next(()=>m.mutationQueue.performConsistencyCheck(f)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(f,k,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,k)).next(()=>m.localDocuments.getDocuments(f,k))})}(o.localStore,t);DH(o,t,r),SH(o,t),o.sharedClientState.updateMutationState(t,"rejected",r),await sb(o,s)}catch(s){await tb(s)}}function SH(e,t){(e.Ec.get(t)||[]).forEach(r=>{r.resolve()}),e.Ec.delete(t)}function DH(e,t,r){const o=kt(e);let s=o.Tc[o.currentUser.toKey()];if(s){const c=s.get(t);c&&(r?c.reject(r):c.resolve(),s=s.remove(t)),o.Tc[o.currentUser.toKey()]=s}}function hS(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const o of e._c.get(t))e.wc.delete(o),r&&e.dc.Pc(o,r);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(o=>{e.Ic.containsKey(o)||TH(e,o)})}function TH(e,t){e.mc.delete(t.path.canonicalString());const r=e.gc.get(t);r!==null&&(kH(e.remoteStore,r),e.gc=e.gc.remove(t),e.yc.delete(r),GD(e))}function lz(e,t,r){for(const o of r)o instanceof AH?(e.Ic.addReference(o.key,t),Vbe(e,o)):o instanceof xH?(Ge("SyncEngine","Document no longer in limbo: "+o.key),e.Ic.removeReference(o.key,t),e.Ic.containsKey(o.key)||TH(e,o.key)):pt()}function Vbe(e,t){const r=t.key,o=r.path.canonicalString();e.gc.get(r)||e.mc.has(o)||(Ge("SyncEngine","New document in limbo: "+r),e.mc.add(o),GD(e))}function GD(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const r=new Qe(An.fromString(t)),o=e.Ac.next();e.yc.set(o,new Nbe(r)),e.gc=e.gc.insert(r,o),bH(e.remoteStore,new Nl(Ya($y(r.path)),o,"TargetPurposeLimboResolution",AD.ct))}}async function sb(e,t,r){const o=kt(e),s=[],c=[],d=[];o.wc.isEmpty()||(o.wc.forEach((m,f)=>{d.push(o.Rc(f,t,r).then(k=>{if((k||r)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(f.targetId,k!=null&&k.fromCache?"not-current":"current"),k){s.push(k);const v=LD.Li(f.targetId,k);c.push(v)}}))}),await Promise.all(d),o.dc.nu(s),await async function(m,f){const k=kt(m);try{await k.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>Ce.forEach(f,_=>Ce.forEach(_.Fi,y=>k.persistence.referenceDelegate.addReference(v,_.targetId,y)).next(()=>Ce.forEach(_.Bi,y=>k.persistence.referenceDelegate.removeReference(v,_.targetId,y)))))}catch(v){if(!nb(v))throw v;Ge("LocalStore","Failed to update sequence numbers: "+v)}for(const v of f){const _=v.targetId;if(!v.fromCache){const y=k.Ji.get(_),A=y.snapshotVersion,D=y.withLastLimboFreeSnapshotVersion(A);k.Ji=k.Ji.insert(_,D)}}}(o.localStore,c))}async function Ube(e,t){const r=kt(e);if(!r.currentUser.isEqual(t)){Ge("SyncEngine","User change. New user:",t.toKey());const o=await pH(r.localStore,t);r.currentUser=t,function(s,c){s.Ec.forEach(d=>{d.forEach(m=>{m.reject(new Re(ce.CANCELLED,c))})}),s.Ec.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),await sb(r,o.er)}}function Hbe(e,t){const r=kt(e),o=r.yc.get(t);if(o&&o.fc)return It().add(o.key);{let s=It();const c=r._c.get(t);if(!c)return s;for(const d of c){const m=r.wc.get(d);s=s.unionWith(m.view.nc)}return s}}function Wbe(e){const t=kt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=EH.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hbe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Fbe.bind(null,t),t.dc.nu=Tbe.bind(null,t.eventManager),t.dc.Pc=Ibe.bind(null,t.eventManager),t}function qbe(e){const t=kt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zbe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$be.bind(null,t),t}class cz{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Yy(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,r){return null}createIndexBackfillerScheduler(t,r){return null}createLocalStore(t){return ebe(this.persistence,new Jge,t.initialUser,this.serializer)}createPersistence(t){return new Qge(BD.zs,this.serializer)}createSharedClientState(t){return new abe}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Gbe{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>az(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ube.bind(null,this.syncEngine),await Ebe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Dbe}createDatastore(t){const r=Yy(t.databaseInfo.databaseId),o=(s=t.databaseInfo,new dbe(s));var s;return function(c,d,m,f){return new fbe(c,d,m,f)}(t.authCredentials,t.appCheckCredentials,o,r)}createRemoteStore(t){return r=this.localStore,o=this.datastore,s=t.asyncQueue,c=m=>az(this.syncEngine,m,0),d=oz.D()?new oz:new lbe,new gbe(r,o,s,c,d);var r,o,s,c,d}createSyncEngine(t,r){return function(o,s,c,d,m,f,k){const v=new Rbe(o,s,c,d,m,f);return k&&(v.vc=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return async function(t){const r=kt(t);Ge("RemoteStore","RemoteStore shutting down."),r.vu.add(5),await ib(r),r.Pu.shutdown(),r.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):Ka("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,r){this.muted||setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kbe{constructor(t,r,o,s){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=s,this.user=Jr.UNAUTHENTICATED,this.clientId=NU.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,async c=>{Ge("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(o,c=>(Ge("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ba;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=VD(r,"Failed to shutdown persistence");t.reject(o)}}),t.promise}}async function rx(e,t){e.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const r=await e.getConfiguration();await t.initialize(r);let o=r.initialUser;e.setCredentialChangeListener(async s=>{o.isEqual(s)||(await pH(t.localStore,s),o=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function uz(e,t){e.asyncQueue.verifyOperationInProgress();const r=await Qbe(e);Ge("FirestoreClient","Initializing OnlineComponentProvider");const o=await e.getConfiguration();await t.initialize(r,o),e.setCredentialChangeListener(s=>iz(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,c)=>iz(t.remoteStore,c)),e._onlineComponents=t}function Ybe(e){return e.name==="FirebaseError"?e.code===ce.FAILED_PRECONDITION||e.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function Qbe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await rx(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!Ybe(r))throw r;Bh("Error using user provided cache. Falling back to memory cache: "+r),await rx(e,new cz)}}else Ge("FirestoreClient","Using default OfflineComponentProvider"),await rx(e,new cz);return e._offlineComponents}async function IH(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ge("FirestoreClient","Using user provided OnlineComponentProvider"),await uz(e,e._uninitializedComponentsProvider._online)):(Ge("FirestoreClient","Using default OnlineComponentProvider"),await uz(e,new Gbe))),e._onlineComponents}function Zbe(e){return IH(e).then(t=>t.syncEngine)}async function xw(e){const t=await IH(e),r=t.eventManager;return r.onListen=Obe.bind(null,t.syncEngine),r.onUnlisten=Lbe.bind(null,t.syncEngine),r}function Jbe(e,t,r={}){const o=new Ba;return e.asyncQueue.enqueueAndForget(async()=>function(s,c,d,m,f){const k=new KD({next:_=>{c.enqueueAndForget(()=>HD(s,v));const y=_.docs.has(d);!y&&_.fromCache?f.reject(new Re(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&_.fromCache&&m&&m.source==="server"?f.reject(new Re(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),v=new qD($y(d.path),k,{includeMetadataChanges:!0,Ku:!0});return UD(s,v)}(await xw(e),e.asyncQueue,t,r,o)),o.promise}function Xbe(e,t,r={}){const o=new Ba;return e.asyncQueue.enqueueAndForget(async()=>function(s,c,d,m,f){const k=new KD({next:_=>{c.enqueueAndForget(()=>HD(s,v)),_.fromCache&&m.source==="server"?f.reject(new Re(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),v=new qD(d,k,{includeMetadataChanges:!0,Ku:!0});return UD(s,v)}(await xw(e),e.asyncQueue,t,r,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MH(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PH(e,t,r){if(!r)throw new Re(ce.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function eke(e,t,r,o){if(t===!0&&o===!0)throw new Re(ce.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function hz(e){if(!Qe.isDocumentKey(e))throw new Re(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function pz(e){if(Qe.isDocumentKey(e))throw new Re(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Jy(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":pt()}function yo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Re(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Jy(e);throw new Re(ce.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(t){var r,o;if(t.host===void 0){if(t.ssl!==void 0)throw new Re(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(r=t.ssl)===null||r===void 0||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Re(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}eke("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MH((o=t.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Re(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Re(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Re(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(r=this.experimentalLongPollingOptions,o=t.experimentalLongPollingOptions,r.timeoutSeconds===o.timeoutSeconds)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams;var r,o}}class Xy{constructor(t,r,o,s){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=o,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fz({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Re(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new Re(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fz(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Cme;switch(r.type){case"firstParty":return new Sme(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Re(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=dz.get(t);r&&(Ge("ComponentProvider","Removing Datastore"),dz.delete(t),r.terminate())}(this),Promise.resolve()}}function tke(e,t,r,o={}){var s;const c=(e=yo(e,Xy))._getSettings(),d=`${t}:${r}`;if(c.host!=="firestore.googleapis.com"&&c.host!==d&&Bh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),o.mockUserToken){let m,f;if(typeof o.mockUserToken=="string")m=o.mockUserToken,f=Jr.MOCK_USER;else{m=H8(o.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const k=o.mockUserToken.sub||o.mockUserToken.user_id;if(!k)throw new Re(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Jr(k)}e._authCredentials=new Ame(new PU(m,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(t,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new io(this.firestore,t,this._key)}}class pc{constructor(t,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=t}withConverter(t){return new pc(this.firestore,t,this._query)}}class Gl extends pc{constructor(t,r,o){super(t,r,$y(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new io(this.firestore,null,new Qe(t))}withConverter(t){return new Gl(this.firestore,t,this._path)}}function yr(e,t,...r){if(e=gn(e),PH("collection","path",t),e instanceof Xy){const o=An.fromString(t,...r);return pz(o),new Gl(e,null,o)}{if(!(e instanceof io||e instanceof Gl))throw new Re(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=e._path.child(An.fromString(t,...r));return pz(o),new Gl(e.firestore,null,o)}}function Yt(e,t,...r){if(e=gn(e),arguments.length===1&&(t=NU.A()),PH("doc","path",t),e instanceof Xy){const o=An.fromString(t,...r);return hz(o),new io(e,null,new Qe(o))}{if(!(e instanceof io||e instanceof Gl))throw new Re(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=e._path.child(An.fromString(t,...r));return hz(o),new io(e.firestore,e instanceof Gl?e.converter:null,new Qe(o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nke{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new mH(this,"async_queue_retry"),this.Xc=()=>{const r=nx();r&&Ge("AsyncQueue","Visibility state changed to "+r.visibilityState),this.qo.Mo()};const t=nx();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const r=nx();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const r=new Ba;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(t){if(!nb(t))throw t;Ge("AsyncQueue","Operation failed with retryable error: "+t)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(t){const r=this.Gc.then(()=>(this.Hc=!0,t().catch(o=>{this.Wc=o,this.Hc=!1;const s=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(o);throw Ka("INTERNAL UNHANDLED ERROR: ",s),o}).then(o=>(this.Hc=!1,o))));return this.Gc=r,r}enqueueAfterDelay(t,r,o){this.Zc(),this.Yc.indexOf(t)>-1&&(r=0);const s=$D.createAndSchedule(this,t,r,o,c=>this.na(c));return this.zc.push(s),s}Zc(){this.Wc&&pt()}verifyOperationInProgress(){}async sa(){let t;do t=this.Gc,await t;while(t!==this.Gc)}ia(t){for(const r of this.zc)if(r.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.zc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const r=this.zc.indexOf(t);this.zc.splice(r,1)}}function mz(e){return function(t,r){if(typeof t!="object"||t===null)return!1;const o=t;for(const s of r)if(s in o&&typeof o[s]=="function")return!0;return!1}(e,["next","error","complete"])}class ta extends Xy{constructor(t,r,o,s){super(t,r,o,s),this.type="firestore",this._queue=new nke,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||NH(this),this._firestoreClient.terminate()}}function Fn(e,t){const r=typeof e=="object"?e:G2(),o=typeof e=="string"?e:"(default)",s=vy(r,"firestore").getImmediate({identifier:o});if(!s._initialized){const c=$8("firestore");c&&tke(s,...c)}return s}function ab(e){return e._firestoreClient||NH(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function NH(e){var t,r,o;const s=e._freezeSettings(),c=function(d,m,f,k){return new Fme(d,m,f,k.host,k.ssl,k.experimentalForceLongPolling,k.experimentalAutoDetectLongPolling,MH(k.experimentalLongPollingOptions),k.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new Kbe(e._authCredentials,e._appCheckCredentials,e._queue,c),!((r=s.cache)===null||r===void 0)&&r._offlineComponentProvider&&(!((o=s.cache)===null||o===void 0)&&o._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Uh(lo.fromBase64String(t))}catch(r){throw new Re(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Uh(lo.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Re(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new to(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Re(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Re(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Kt(this._lat,t._lat)||Kt(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rke=/^__.*__$/;class oke{constructor(t,r,o){this.data=t,this.fieldMask=r,this.fieldTransforms=o}toMutation(t,r){return this.fieldMask!==null?new hc(t,this.data,this.fieldMask,r,this.fieldTransforms):new rb(t,this.data,r,this.fieldTransforms)}}class RH{constructor(t,r,o){this.data=t,this.fieldMask=r,this.fieldTransforms=o}toMutation(t,r){return new hc(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function OH(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class e_{constructor(t,r,o,s,c,d){this.settings=t,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=s,c===void 0&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new e_(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var r;const o=(r=this.path)===null||r===void 0?void 0:r.child(t),s=this.aa({path:o,la:!1});return s.fa(t),s}da(t){var r;const o=(r=this.path)===null||r===void 0?void 0:r.child(t),s=this.aa({path:o,la:!1});return s.ua(),s}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return Ew(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(t.length===0)throw this._a("Document fields must not be empty");if(OH(this.ca)&&rke.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class ike{constructor(t,r,o){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=o||Yy(t)}ya(t,r,o,s=!1){return new e_({ca:t,methodName:r,ga:o,path:to.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ub(e){const t=e._freezeSettings(),r=Yy(e._databaseId);return new ike(e._databaseId,!!t.ignoreUndefinedProperties,r)}function QD(e,t,r,o,s,c={}){const d=e.ya(c.merge||c.mergeFields?2:0,t,r,s);JD("Data must be an object, but it was:",d,o);const m=jH(o,d);let f,k;if(c.merge)f=new ri(d.fieldMask),k=d.fieldTransforms;else if(c.mergeFields){const v=[];for(const _ of c.mergeFields){const y=pS(t,_,r);if(!d.contains(y))throw new Re(ce.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);zH(v,y)||v.push(y)}f=new ri(v),k=d.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,k=d.fieldTransforms;return new oke(new Bo(m),f,k)}class db extends cb{_toFieldTransform(t){if(t.ca!==2)throw t.ca===1?t._a(`${this._methodName}() can only appear at the top level of your update data`):t._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof db}}function ske(e,t,r){return new e_({ca:3,ga:t.settings.ga,methodName:e._methodName,la:r},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class ZD extends cb{_toFieldTransform(t){return new tH(t.path,new fg)}isEqual(t){return t instanceof ZD}}class ake extends cb{constructor(t,r){super(t),this.pa=r}_toFieldTransform(t){const r=ske(this,t,!0),o=this.pa.map(c=>vp(c,r)),s=new zh(o);return new tH(t.path,s)}isEqual(t){return this===t}}function BH(e,t,r,o){const s=e.ya(1,t,r);JD("Data must be an object, but it was:",s,o);const c=[],d=Bo.empty();Uu(o,(f,k)=>{const v=XD(t,f,r);k=gn(k);const _=s.da(v);if(k instanceof db)c.push(v);else{const y=vp(k,_);y!=null&&(c.push(v),d.set(v,y))}});const m=new ri(c);return new RH(d,m,s.fieldTransforms)}function LH(e,t,r,o,s,c){const d=e.ya(1,t,r),m=[pS(t,o,r)],f=[s];if(c.length%2!=0)throw new Re(ce.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<c.length;y+=2)m.push(pS(t,c[y])),f.push(c[y+1]);const k=[],v=Bo.empty();for(let y=m.length-1;y>=0;--y)if(!zH(k,m[y])){const A=m[y];let D=f[y];D=gn(D);const S=d.da(A);if(D instanceof db)k.push(A);else{const I=vp(D,S);I!=null&&(k.push(A),v.set(A,I))}}const _=new ri(k);return new RH(v,_,d.fieldTransforms)}function lke(e,t,r,o=!1){return vp(r,e.ya(o?4:3,t))}function vp(e,t){if(FH(e=gn(e)))return JD("Unsupported field value:",t,e),jH(e,t);if(e instanceof cb)return function(r,o){if(!OH(o.ca))throw o._a(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(o);s&&o.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&t.ca!==4)throw t._a("Nested arrays are not supported");return function(r,o){const s=[];let c=0;for(const d of r){let m=vp(d,o.wa(c));m==null&&(m={nullValue:"NULL_VALUE"}),s.push(m),c++}return{arrayValue:{values:s}}}(e,t)}return function(r,o){if((r=gn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ige(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ir.fromDate(r);return{timestampValue:Cw(o.serializer,s)}}if(r instanceof ir){const s=new ir(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cw(o.serializer,s)}}if(r instanceof YD)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Uh)return{bytesValue:aH(o.serializer,r._byteString)};if(r instanceof io){const s=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(s))throw o._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:RD(r.firestore._databaseId||o.databaseId,r._key.path)}}throw o._a(`Unsupported field value: ${Jy(r)}`)}(e,t)}function jH(e,t){const r={};return RU(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Uu(e,(o,s)=>{const c=vp(s,t.ha(o));c!=null&&(r[o]=c)}),{mapValue:{fields:r}}}function FH(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ir||e instanceof YD||e instanceof Uh||e instanceof io||e instanceof cb)}function JD(e,t,r){if(!FH(r)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(r)){const o=Jy(r);throw o==="an object"?t._a(e+" a custom object"):t._a(e+" "+o)}}function pS(e,t,r){if((t=gn(t))instanceof lb)return t._internalPath;if(typeof t=="string")return XD(e,t);throw Ew("Field path arguments must be of type string or ",e,!1,void 0,r)}const cke=new RegExp("[~\\*/\\[\\]]");function XD(e,t,r){if(t.search(cke)>=0)throw Ew(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new lb(...t.split("."))._internalPath}catch{throw Ew(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function Ew(e,t,r,o,s){const c=o&&!o.isEmpty(),d=s!==void 0;let m=`Function ${t}() called with invalid data`;r&&(m+=" (via `toFirestore()`)"),m+=". ";let f="";return(c||d)&&(f+=" (found",c&&(f+=` in field ${o}`),d&&(f+=` in document ${s}`),f+=")"),new Re(ce.INVALID_ARGUMENT,m+e+f)}function zH(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(t,r,o,s,c){this._firestore=t,this._userDataWriter=r,this._key=o,this._document=s,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new io(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new uke(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(t_("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class uke extends $H{data(){return super.data()}}function t_(e,t){return typeof t=="string"?XD(e,t):t instanceof lb?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VH(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Re(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eT{}class UH extends eT{}function Sw(e,t,...r){let o=[];t instanceof eT&&o.push(t),o=o.concat(r),function(s){const c=s.filter(m=>m instanceof tT).length,d=s.filter(m=>m instanceof n_).length;if(c>1||c>0&&d>0)throw new Re(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const s of o)e=s._apply(e);return e}class n_ extends UH{constructor(t,r,o){super(),this._field=t,this._op=r,this._value=o,this.type="where"}static _create(t,r,o){return new n_(t,r,o)}_apply(t){const r=this._parse(t);return HH(t._query,r),new pc(t.firestore,t.converter,oS(t._query,r))}_parse(t){const r=ub(t.firestore);return function(s,c,d,m,f,k,v){let _;if(f.isKeyField()){if(k==="array-contains"||k==="array-contains-any")throw new Re(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${k}' queries on documentId().`);if(k==="in"||k==="not-in"){bz(v,k);const y=[];for(const A of v)y.push(gz(m,s,A));_={arrayValue:{values:y}}}else _=gz(m,s,v)}else k!=="in"&&k!=="not-in"&&k!=="array-contains-any"||bz(v,k),_=lke(d,c,v,k==="in"||k==="not-in");return fr.create(f,k,_)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function g0(e,t,r){const o=t,s=t_("where",e);return n_._create(s,o,r)}class tT extends eT{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new tT(t,r)}_parse(t){const r=this._queryConstraints.map(o=>o._parse(t)).filter(o=>o.getFilters().length>0);return r.length===1?r[0]:hs.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(o,s){let c=o;const d=s.getFlattenedFilters();for(const m of d)HH(c,m),c=oS(c,m)}(t._query,r),new pc(t.firestore,t.converter,oS(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class nT extends UH{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new nT(t,r)}_apply(t){const r=function(o,s,c){if(o.startAt!==null)throw new Re(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Re(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new kh(s,c);return function(m,f){if(ID(m)===null){const k=Vy(m);k!==null&&WH(m,k,f.field)}}(o,d),d}(t._query,this._field,this._direction);return new pc(t.firestore,t.converter,function(o,s){const c=o.explicitOrderBy.concat([s]);return new gp(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,r))}}function dke(e,t="asc"){const r=t,o=t_("orderBy",e);return nT._create(o,r)}function gz(e,t,r){if(typeof(r=gn(r))=="string"){if(r==="")throw new Re(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UU(t)&&r.indexOf("/")!==-1)throw new Re(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=t.path.child(An.fromString(r));if(!Qe.isDocumentKey(o))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return FF(e,new Qe(o))}if(r instanceof io)return FF(e,r._key);throw new Re(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jy(r)}.`)}function bz(e,t){if(!Array.isArray(e)||e.length===0)throw new Re(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function HH(e,t){if(t.isInequality()){const o=Vy(e),s=t.field;if(o!==null&&!o.isEqual(s))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${s.toString()}'`);const c=ID(e);c!==null&&WH(e,s,c)}const r=function(o,s){for(const c of o)for(const d of c.getFlattenedFilters())if(s.indexOf(d.op)>=0)return d.op;return null}(e.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Re(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Re(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}function WH(e,t,r){if(!r.isEqual(t))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class hke{convertValue(t,r="none"){switch(Du(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ur(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Su(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 10:return this.convertObject(t.mapValue,r);default:throw pt()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const o={};return Uu(t,(s,c)=>{o[s]=this.convertValue(c,r)}),o}convertGeoPoint(t){return new YD(ur(t.latitude),ur(t.longitude))}convertArray(t,r){return(t.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(t,r){switch(r){case"previous":const o=ED(t);return o==null?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(dg(t));default:return null}}convertTimestamp(t){const r=ec(t);return new ir(r.seconds,r.nanos)}convertDocumentKey(t,r){const o=An.fromString(t);Sn(hH(o));const s=new hg(o.get(1),o.get(3)),c=new Qe(o.popFirst(5));return s.isEqual(r)||Ka(`Document ${c} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(e,t,r){let o;return o=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qH extends $H{constructor(t,r,o,s,c,d){super(t,r,o,s,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new b0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const o=this._document.data.field(t_("DocumentSnapshot.get",t));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class b0 extends qH{data(t={}){return super.data(t)}}class GH{constructor(t,r,o,s){this._firestore=t,this._userDataWriter=r,this._snapshot=s,this.metadata=new nm(s.hasPendingWrites,s.fromCache),this.query=o}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(o=>{t.call(r,new b0(this._firestore,this._userDataWriter,o.key,o,new nm(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Re(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,s){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const m=new b0(o._firestore,o._userDataWriter,d.doc.key,d.doc,new nm(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>s||d.type!==3).map(d=>{const m=new b0(o._firestore,o._userDataWriter,d.doc.key,d.doc,new nm(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let f=-1,k=-1;return d.type!==0&&(f=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),k=c.indexOf(d.doc.key)),{type:pke(d.type),doc:m,oldIndex:f,newIndex:k}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function pke(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(e){e=yo(e,io);const t=yo(e.firestore,ta);return Jbe(ab(t),e._key).then(r=>KH(t,e,r))}class oT extends hke{constructor(t){super(),this.firestore=t}convertBytes(t){return new Uh(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new io(this.firestore,null,r)}}function Fi(e){e=yo(e,pc);const t=yo(e.firestore,ta),r=ab(t),o=new oT(t);return VH(e._query),Xbe(r,e._query).then(s=>new GH(t,o,e,s))}function fke(e,t,r){e=yo(e,io);const o=yo(e.firestore,ta),s=rT(e.converter,t,r);return hb(o,[QD(ub(o),"setDoc",e._key,s,e.converter!==null,r).toMutation(e._key,wo.none())])}function dr(e,t,r,...o){e=yo(e,io);const s=yo(e.firestore,ta),c=ub(s);let d;return d=typeof(t=gn(t))=="string"||t instanceof lb?LH(c,"updateDoc",e._key,t,r,o):BH(c,"updateDoc",e._key,t),hb(s,[d.toMutation(e._key,wo.exists(!0))])}function iT(e){return hb(yo(e.firestore,ta),[new Gy(e._key,wo.none())])}function Tu(e,t){const r=yo(e.firestore,ta),o=Yt(e),s=rT(e.converter,t);return hb(r,[QD(ub(e.firestore),"addDoc",o._key,s,e.converter!==null,{}).toMutation(o._key,wo.exists(!1))]).then(()=>o)}function rLe(e,...t){var r,o,s;e=gn(e);let c={includeMetadataChanges:!1},d=0;typeof t[d]!="object"||mz(t[d])||(c=t[d],d++);const m={includeMetadataChanges:c.includeMetadataChanges};if(mz(t[d])){const _=t[d];t[d]=(r=_.next)===null||r===void 0?void 0:r.bind(_),t[d+1]=(o=_.error)===null||o===void 0?void 0:o.bind(_),t[d+2]=(s=_.complete)===null||s===void 0?void 0:s.bind(_)}let f,k,v;if(e instanceof io)k=yo(e.firestore,ta),v=$y(e._key.path),f={next:_=>{t[d]&&t[d](KH(k,e,_))},error:t[d+1],complete:t[d+2]};else{const _=yo(e,pc);k=yo(_.firestore,ta),v=_._query;const y=new oT(k);f={next:A=>{t[d]&&t[d](new GH(k,y,_,A))},error:t[d+1],complete:t[d+2]},VH(e._query)}return function(_,y,A,D){const S=new KD(D),I=new qD(y,S,A);return _.asyncQueue.enqueueAndForget(async()=>UD(await xw(_),I)),()=>{S.Dc(),_.asyncQueue.enqueueAndForget(async()=>HD(await xw(_),I))}}(ab(k),v,m,f)}function hb(e,t){return function(r,o){const s=new Ba;return r.asyncQueue.enqueueAndForget(async()=>jbe(await Zbe(r),o,s)),s.promise}(ab(e),t)}function KH(e,t,r){const o=r.docs.get(t._key),s=new oT(e);return new qH(e,s,t._key,o,new nm(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mke{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=ub(t)}set(t,r,o){this._verifyNotCommitted();const s=ox(t,this._firestore),c=rT(s.converter,r,o),d=QD(this._dataReader,"WriteBatch.set",s._key,c,s.converter!==null,o);return this._mutations.push(d.toMutation(s._key,wo.none())),this}update(t,r,o,...s){this._verifyNotCommitted();const c=ox(t,this._firestore);let d;return d=typeof(r=gn(r))=="string"||r instanceof lb?LH(this._dataReader,"WriteBatch.update",c._key,r,o,s):BH(this._dataReader,"WriteBatch.update",c._key,r),this._mutations.push(d.toMutation(c._key,wo.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=ox(t,this._firestore);return this._mutations=this._mutations.concat(new Gy(r._key,wo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ox(e,t){if((e=gn(e)).firestore!==t)throw new Re(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gke(){return new db("deleteField")}function _m(){return new ZD("serverTimestamp")}function bke(...e){return new ake("arrayUnion",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kke(e){return ab(e=yo(e,ta)),new mke(e,t=>hb(e,t))}(function(e,t=!0){(function(r){mp=r})($u),Au(new Jl("firestore",(r,{instanceIdentifier:o,options:s})=>{const c=r.getProvider("app").getImmediate(),d=new ta(new xme(r.getProvider("auth-internal")),new Tme(r.getProvider("app-check-internal")),function(m,f){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Re(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hg(m.options.projectId,f)}(c,o),c);return s=Object.assign({useFetchStreams:t},s),d._setSettings(s),d},"PUBLIC").setMultipleInstances(!0)),Hs(RF,"3.13.0",e),Hs(RF,"3.13.0","esm2017")})();var vke="firebase",wke="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hs(vke,wke,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH="firebasestorage.googleapis.com",QH="storageBucket",yke=2*60*1e3,_ke=10*60*1e3,Cke=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn extends la{constructor(t,r,o=0){super(ix(t),`Firebase Storage: ${r} (${ix(t)})`),this.status_=o,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zn.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return ix(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Dn;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Dn||(Dn={}));function ix(e){return"storage/"+e}function sT(){const e="An unknown error occurred, please check the error payload for server response.";return new zn(Dn.UNKNOWN,e)}function Ake(e){return new zn(Dn.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function xke(e){return new zn(Dn.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Eke(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new zn(Dn.UNAUTHENTICATED,e)}function Ske(){return new zn(Dn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Dke(e){return new zn(Dn.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function ZH(){return new zn(Dn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function JH(){return new zn(Dn.CANCELED,"User canceled the upload/download.")}function Tke(e){return new zn(Dn.INVALID_URL,"Invalid URL '"+e+"'.")}function Ike(e){return new zn(Dn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Mke(){return new zn(Dn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+QH+"' property when initializing the app?")}function XH(){return new zn(Dn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Pke(){return new zn(Dn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Nke(){return new zn(Dn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Rke(e){return new zn(Dn.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function fS(e){return new zn(Dn.INVALID_ARGUMENT,e)}function eW(){return new zn(Dn.APP_DELETED,"The Firebase app was deleted.")}function Oke(e){return new zn(Dn.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Cm(e,t){return new zn(Dn.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function If(e){throw new zn(Dn.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let o;try{o=oi.makeFromUrl(t,r)}catch{return new oi(t,"")}if(o.path==="")return o;throw Ike(t)}static makeFromUrl(t,r){let o=null;const s="([A-Za-z0-9.\\-_]+)";function c(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const d="(/(.*))?$",m=new RegExp("^gs://"+s+d,"i"),f={bucket:1,path:3};function k(j){j.path_=decodeURIComponent(j.path)}const v="v[A-Za-z0-9_]+",_=r.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",A=new RegExp(`^https?://${_}/${v}/b/${s}/o${y}`,"i"),D={bucket:1,path:3},S=r===YH?"(?:storage.googleapis.com|storage.cloud.google.com)":r,I="([^?#]*)",T=new RegExp(`^https?://${S}/${s}/${I}`,"i"),N=[{regex:m,indices:f,postModify:c},{regex:A,indices:D,postModify:k},{regex:T,indices:{bucket:1,path:2},postModify:k}];for(let j=0;j<N.length;j++){const $=N[j],U=$.regex.exec(t);if(U){const R=U[$.indices.bucket];let z=U[$.indices.path];z||(z=""),o=new oi(R,z),$.postModify(o);break}}if(o==null)throw Tke(t);return o}}class Bke{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lke(e,t,r){let o=1,s=null,c=null,d=!1,m=0;function f(){return m===2}let k=!1;function v(...I){k||(k=!0,t.apply(null,I))}function _(I){s=setTimeout(()=>{s=null,e(A,f())},I)}function y(){c&&clearTimeout(c)}function A(I,...T){if(k){y();return}if(I){y(),v.call(null,I,...T);return}if(f()||d){y(),v.call(null,I,...T);return}o<64&&(o*=2);let N;m===1?(m=2,N=0):N=(o+Math.random())*1e3,_(N)}let D=!1;function S(I){D||(D=!0,y(),!k&&(s!==null?(I||(m=2),clearTimeout(s),_(0)):I||(m=1)))}return _(0),c=setTimeout(()=>{d=!0,S(!0)},r),S}function jke(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fke(e){return e!==void 0}function zke(e){return typeof e=="function"}function $ke(e){return typeof e=="object"&&!Array.isArray(e)}function r_(e){return typeof e=="string"||e instanceof String}function kz(e){return aT()&&e instanceof Blob}function aT(){return typeof Blob<"u"&&!Zue()}function vz(e,t,r,o){if(o<t)throw fS(`Invalid value for '${e}'. Expected ${t} or greater.`);if(o>r)throw fS(`Invalid value for '${e}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(e,t,r){let o=t;return r==null&&(o=`https://${t}`),`${r}://${o}/v0${e}`}function tW(e){const t=encodeURIComponent;let r="?";for(const o in e)if(e.hasOwnProperty(o)){const s=t(o)+"="+t(e[o]);r=r+s+"&"}return r=r.slice(0,-1),r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hu;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(hu||(hu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nW(e,t){const r=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,c=t.indexOf(e)!==-1;return r||s||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vke{constructor(t,r,o,s,c,d,m,f,k,v,_,y=!0){this.url_=t,this.method_=r,this.headers_=o,this.body_=s,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=m,this.errorCallback_=f,this.timeout_=k,this.progressCallback_=v,this.connectionFactory_=_,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,D)=>{this.resolve_=A,this.reject_=D,this.start_()})}start_(){const t=(o,s)=>{if(s){o(!1,new Mv(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=m=>{const f=m.loaded,k=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,k)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const m=c.getErrorCode()===hu.NO_ERROR,f=c.getStatus();if(!m||nW(f,this.additionalRetryCodes_)&&this.retry){const v=c.getErrorCode()===hu.ABORT;o(!1,new Mv(!1,null,v));return}const k=this.successCodes_.indexOf(f)!==-1;o(!0,new Mv(k,c))})},r=(o,s)=>{const c=this.resolve_,d=this.reject_,m=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(m,m.getResponse());Fke(f)?c(f):c()}catch(f){d(f)}else if(m!==null){const f=sT();f.serverResponse=m.getErrorText(),this.errorCallback_?d(this.errorCallback_(m,f)):d(f)}else if(s.canceled){const f=this.appDelete_?eW():JH();d(f)}else{const f=ZH();d(f)}};this.canceled_?r(!1,new Mv(!1,null,!0)):this.backoffId_=Lke(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&jke(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Mv{constructor(t,r,o){this.wasSuccessCode=t,this.connection=r,this.canceled=!!o}}function Uke(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Hke(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Wke(e,t){t&&(e["X-Firebase-GMPID"]=t)}function qke(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Gke(e,t,r,o,s,c,d=!0){const m=tW(e.urlParams),f=e.url+m,k=Object.assign({},e.headers);return Wke(k,t),Uke(k,r),Hke(k,c),qke(k,o),new Vke(f,e.method,k,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kke(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Yke(...e){const t=Kke();if(t!==void 0){const r=new t;for(let o=0;o<e.length;o++)r.append(e[o]);return r.getBlob()}else{if(aT())return new Blob(e);throw new zn(Dn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Qke(e,t,r){return e.webkitSlice?e.webkitSlice(t,r):e.mozSlice?e.mozSlice(t,r):e.slice?e.slice(t,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zke(e){if(typeof atob>"u")throw Rke("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class sx{constructor(t,r){this.data=t,this.contentType=r||null}}function Jke(e,t){switch(e){case zs.RAW:return new sx(rW(t));case zs.BASE64:case zs.BASE64URL:return new sx(oW(e,t));case zs.DATA_URL:return new sx(eve(t),tve(t))}throw sT()}function rW(e){const t=[];for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);if(o<=127)t.push(o);else if(o<=2047)t.push(192|o>>6,128|o&63);else if((o&64512)===55296)if(!(r<e.length-1&&(e.charCodeAt(r+1)&64512)===56320))t.push(239,191,189);else{const c=o,d=e.charCodeAt(++r);o=65536|(c&1023)<<10|d&1023,t.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|o&63)}else(o&64512)===56320?t.push(239,191,189):t.push(224|o>>12,128|o>>6&63,128|o&63)}return new Uint8Array(t)}function Xke(e){let t;try{t=decodeURIComponent(e)}catch{throw Cm(zs.DATA_URL,"Malformed data URL.")}return rW(t)}function oW(e,t){switch(e){case zs.BASE64:{const s=t.indexOf("-")!==-1,c=t.indexOf("_")!==-1;if(s||c)throw Cm(e,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case zs.BASE64URL:{const s=t.indexOf("+")!==-1,c=t.indexOf("/")!==-1;if(s||c)throw Cm(e,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=Zke(t)}catch(s){throw s.message.includes("polyfill")?s:Cm(e,"Invalid character found")}const o=new Uint8Array(r.length);for(let s=0;s<r.length;s++)o[s]=r.charCodeAt(s);return o}class iW{constructor(t){this.base64=!1,this.contentType=null;const r=t.match(/^data:([^,]+)?,/);if(r===null)throw Cm(zs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const o=r[1]||null;o!=null&&(this.base64=nve(o,";base64"),this.contentType=this.base64?o.substring(0,o.length-7):o),this.rest=t.substring(t.indexOf(",")+1)}}function eve(e){const t=new iW(e);return t.base64?oW(zs.BASE64,t.rest):Xke(t.rest)}function tve(e){return new iW(e).contentType}function nve(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(t,r){let o=0,s="";kz(t)?(this.data_=t,o=t.size,s=t.type):t instanceof ArrayBuffer?(r?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),o=this.data_.length):t instanceof Uint8Array&&(r?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),o=t.length),this.size_=o,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,r){if(kz(this.data_)){const o=this.data_,s=Qke(o,t,r);return s===null?null:new Da(s)}else{const o=new Uint8Array(this.data_.buffer,t,r-t);return new Da(o,!0)}}static getBlob(...t){if(aT()){const r=t.map(o=>o instanceof Da?o.data_:o);return new Da(Yke.apply(null,r))}else{const r=t.map(d=>r_(d)?Jke(zs.RAW,d).data:d.data_);let o=0;r.forEach(d=>{o+=d.byteLength});const s=new Uint8Array(o);let c=0;return r.forEach(d=>{for(let m=0;m<d.length;m++)s[c++]=d[m]}),new Da(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sW(e){let t;try{t=JSON.parse(e)}catch{return null}return $ke(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rve(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function ove(e,t){const r=t.split("/").filter(o=>o.length>0).join("/");return e.length===0?r:e+"/"+r}function aW(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ive(e,t){return t}class ho{constructor(t,r,o,s){this.server=t,this.local=r||t,this.writable=!!o,this.xform=s||ive}}let Pv=null;function sve(e){return!r_(e)||e.length<2?e:aW(e)}function lT(){if(Pv)return Pv;const e=[];e.push(new ho("bucket")),e.push(new ho("generation")),e.push(new ho("metageneration")),e.push(new ho("name","fullPath",!0));function t(c,d){return sve(d)}const r=new ho("name");r.xform=t,e.push(r);function o(c,d){return d!==void 0?Number(d):d}const s=new ho("size");return s.xform=o,e.push(s),e.push(new ho("timeCreated")),e.push(new ho("updated")),e.push(new ho("md5Hash",null,!0)),e.push(new ho("cacheControl",null,!0)),e.push(new ho("contentDisposition",null,!0)),e.push(new ho("contentEncoding",null,!0)),e.push(new ho("contentLanguage",null,!0)),e.push(new ho("contentType",null,!0)),e.push(new ho("metadata","customMetadata",!0)),Pv=e,Pv}function ave(e,t){function r(){const o=e.bucket,s=e.fullPath,c=new oi(o,s);return t._makeStorageReference(c)}Object.defineProperty(e,"ref",{get:r})}function lve(e,t,r){const o={};o.type="file";const s=r.length;for(let c=0;c<s;c++){const d=r[c];o[d.local]=d.xform(o,t[d.server])}return ave(o,e),o}function lW(e,t,r){const o=sW(t);return o===null?null:lve(e,o,r)}function cve(e,t,r,o){const s=sW(t);if(s===null||!r_(s.downloadTokens))return null;const c=s.downloadTokens;if(c.length===0)return null;const d=encodeURIComponent;return c.split(",").map(k=>{const v=e.bucket,_=e.fullPath,y="/b/"+d(v)+"/o/"+d(_),A=wp(y,r,o),D=tW({alt:"media",token:k});return A+D})[0]}function cW(e,t){const r={},o=t.length;for(let s=0;s<o;s++){const c=t[s];c.writable&&(r[c.server]=e[c.local])}return JSON.stringify(r)}class Wu{constructor(t,r,o,s){this.url=t,this.method=r,this.handler=o,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(e){if(!e)throw sT()}function cT(e,t){function r(o,s){const c=lW(e,s,t);return La(c!==null),c}return r}function uve(e,t){function r(o,s){const c=lW(e,s,t);return La(c!==null),cve(c,s,e.host,e._protocol)}return r}function pb(e){function t(r,o){let s;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?s=Ske():s=Eke():r.getStatus()===402?s=xke(e.bucket):r.getStatus()===403?s=Dke(e.path):s=o,s.status=r.getStatus(),s.serverResponse=o.serverResponse,s}return t}function uT(e){const t=pb(e);function r(o,s){let c=t(o,s);return o.getStatus()===404&&(c=Ake(e.path)),c.serverResponse=s.serverResponse,c}return r}function dve(e,t,r){const o=t.fullServerUrl(),s=wp(o,e.host,e._protocol),c="GET",d=e.maxOperationRetryTime,m=new Wu(s,c,cT(e,r),d);return m.errorHandler=uT(t),m}function hve(e,t,r){const o=t.fullServerUrl(),s=wp(o,e.host,e._protocol),c="GET",d=e.maxOperationRetryTime,m=new Wu(s,c,uve(e,r),d);return m.errorHandler=uT(t),m}function pve(e,t){const r=t.fullServerUrl(),o=wp(r,e.host,e._protocol),s="DELETE",c=e.maxOperationRetryTime;function d(f,k){}const m=new Wu(o,s,d,c);return m.successCodes=[200,204],m.errorHandler=uT(t),m}function fve(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function uW(e,t,r){const o=Object.assign({},r);return o.fullPath=e.path,o.size=t.size(),o.contentType||(o.contentType=fve(null,t)),o}function dW(e,t,r,o,s){const c=t.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function m(){let N="";for(let j=0;j<2;j++)N=N+Math.random().toString().slice(2);return N}const f=m();d["Content-Type"]="multipart/related; boundary="+f;const k=uW(t,o,s),v=cW(k,r),_="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+f+`\r
Content-Type: `+k.contentType+`\r
\r
`,y=`\r
--`+f+"--",A=Da.getBlob(_,o,y);if(A===null)throw XH();const D={name:k.fullPath},S=wp(c,e.host,e._protocol),I="POST",T=e.maxUploadRetryTime,P=new Wu(S,I,cT(e,r),T);return P.urlParams=D,P.headers=d,P.body=A.uploadData(),P.errorHandler=pb(t),P}class Dw{constructor(t,r,o,s){this.current=t,this.total=r,this.finalized=!!o,this.metadata=s||null}}function dT(e,t){let r=null;try{r=e.getResponseHeader("X-Goog-Upload-Status")}catch{La(!1)}return La(!!r&&(t||["active"]).indexOf(r)!==-1),r}function mve(e,t,r,o,s){const c=t.bucketOnlyServerUrl(),d=uW(t,o,s),m={name:d.fullPath},f=wp(c,e.host,e._protocol),k="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o.size()}`,"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},_=cW(d,r),y=e.maxUploadRetryTime;function A(S){dT(S);let I;try{I=S.getResponseHeader("X-Goog-Upload-URL")}catch{La(!1)}return La(r_(I)),I}const D=new Wu(f,k,A,y);return D.urlParams=m,D.headers=v,D.body=_,D.errorHandler=pb(t),D}function gve(e,t,r,o){const s={"X-Goog-Upload-Command":"query"};function c(k){const v=dT(k,["active","final"]);let _=null;try{_=k.getResponseHeader("X-Goog-Upload-Size-Received")}catch{La(!1)}_||La(!1);const y=Number(_);return La(!isNaN(y)),new Dw(y,o.size(),v==="final")}const d="POST",m=e.maxUploadRetryTime,f=new Wu(r,d,c,m);return f.headers=s,f.errorHandler=pb(t),f}const wz=256*1024;function bve(e,t,r,o,s,c,d,m){const f=new Dw(0,0);if(d?(f.current=d.current,f.total=d.total):(f.current=0,f.total=o.size()),o.size()!==f.total)throw Pke();const k=f.total-f.current;let v=k;s>0&&(v=Math.min(v,s));const _=f.current,y=_+v;let A="";v===0?A="finalize":k===v?A="upload, finalize":A="upload";const D={"X-Goog-Upload-Command":A,"X-Goog-Upload-Offset":`${f.current}`},S=o.slice(_,y);if(S===null)throw XH();function I(j,$){const U=dT(j,["active","final"]),R=f.current+v,z=o.size();let W;return U==="final"?W=cT(t,c)(j,$):W=null,new Dw(R,z,U==="final",W)}const T="POST",P=t.maxUploadRetryTime,N=new Wu(r,T,I,P);return N.headers=D,N.body=S.uploadData(),N.progressCallback=m||null,N.errorHandler=pb(e),N}const Ro={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ax(e){switch(e){case"running":case"pausing":case"canceling":return Ro.RUNNING;case"paused":return Ro.PAUSED;case"success":return Ro.SUCCESS;case"canceled":return Ro.CANCELED;case"error":return Ro.ERROR;default:return Ro.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kve{constructor(t,r,o){if(zke(t)||r!=null||o!=null)this.next=t,this.error=r??void 0,this.complete=o??void 0;else{const c=t;this.next=c.next,this.error=c.error,this.complete=c.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(e){return(...t)=>{Promise.resolve().then(()=>e(...t))}}class vve{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=hu.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=hu.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=hu.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,r,o,s){if(this.sent_)throw If("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,t,!0),s!==void 0)for(const c in s)s.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,s[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw If("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw If("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw If("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw If("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class wve extends vve{initXhr(){this.xhr_.responseType="text"}}function Tl(){return new wve}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yve{constructor(t,r,o=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=r,this._metadata=o,this._mappings=lT(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(Dn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const c=this.isExponentialBackoffExpired();if(nW(s.status,[]))if(c)s=ZH();else{this.sleepTime=Math.max(this.sleepTime*2,Cke),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(Dn.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,c)=>{this._resolve=s,this._reject=c,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return r=>this._updateProgress(t+r)}_shouldDoResumable(t){return t.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,o])=>{switch(this._state){case"running":t(r,o);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((t,r)=>{const o=mve(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(o,Tl,t,r);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._uploadUrl=c,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((r,o)=>{const s=gve(this._ref.storage,this._ref._location,t,this._blob),c=this._ref.storage._makeRequest(s,Tl,r,o);this._request=c,c.getPromise().then(d=>{d=d,this._request=void 0,this._updateProgress(d.current),this._needToFetchStatus=!1,d.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=wz*this._chunkMultiplier,r=new Dw(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken((s,c)=>{let d;try{d=bve(this._ref._location,this._ref.storage,o,this._blob,t,this._mappings,r,this._makeProgressCallback())}catch(f){this._error=f,this._transition("error");return}const m=this._ref.storage._makeRequest(d,Tl,s,c,!1);this._request=m,m.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){wz*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,r)=>{const o=dve(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(o,Tl,t,r);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,r)=>{const o=dW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(o,Tl,t,r);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const r=this._transferred;this._transferred=t,this._transferred!==r&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const r=this._state==="paused";this._state=t,r&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=JH(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const t=ax(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,r,o,s){const c=new kve(r||void 0,o||void 0,s||void 0);return this._addObserver(c),()=>{this._removeObserver(c)}}then(t,r){return this._promise.then(t,r)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const r=this._observers.indexOf(t);r!==-1&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(r=>{this._notifyObserver(r)})}_finishPromise(){if(this._resolve!==void 0){let t=!0;switch(ax(this._state)){case Ro.SUCCESS:Rd(this._resolve.bind(null,this.snapshot))();break;case Ro.CANCELED:case Ro.ERROR:const r=this._reject;Rd(r.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(ax(this._state)){case Ro.RUNNING:case Ro.PAUSED:t.next&&Rd(t.next.bind(t,this.snapshot))();break;case Ro.SUCCESS:t.complete&&Rd(t.complete.bind(t))();break;case Ro.CANCELED:case Ro.ERROR:t.error&&Rd(t.error.bind(t,this._error))();break;default:t.error&&Rd(t.error.bind(t,this._error))()}}resume(){const t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t}pause(){const t=this._state==="running";return t&&this._transition("pausing"),t}cancel(){const t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(t,r){this._service=t,r instanceof oi?this._location=r:this._location=oi.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new Iu(t,r)}get root(){const t=new oi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return aW(this._location.path)}get storage(){return this._service}get parent(){const t=rve(this._location.path);if(t===null)return null;const r=new oi(this._location.bucket,t);return new Iu(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw Oke(t)}}function _ve(e,t,r){e._throwIfRoot("uploadBytes");const o=dW(e.storage,e._location,lT(),new Da(t,!0),r);return e.storage.makeRequestWithTokens(o,Tl).then(s=>({metadata:s,ref:e}))}function Cve(e,t,r){return e._throwIfRoot("uploadBytesResumable"),new yve(e,new Da(t),r)}function Ave(e){e._throwIfRoot("getDownloadURL");const t=hve(e.storage,e._location,lT());return e.storage.makeRequestWithTokens(t,Tl).then(r=>{if(r===null)throw Nke();return r})}function xve(e){e._throwIfRoot("deleteObject");const t=pve(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Tl)}function Eve(e,t){const r=ove(e._location.path,t),o=new oi(e._location.bucket,r);return new Iu(e.storage,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sve(e){return/^[A-Za-z]+:\/\//.test(e)}function Dve(e,t){return new Iu(e,t)}function hW(e,t){if(e instanceof hT){const r=e;if(r._bucket==null)throw Mke();const o=new Iu(r,r._bucket);return t!=null?hW(o,t):o}else return t!==void 0?Eve(e,t):e}function Tve(e,t){if(t&&Sve(t)){if(e instanceof hT)return Dve(e,t);throw fS("To use ref(service, url), the first argument must be a Storage instance.")}else return hW(e,t)}function yz(e,t){const r=t==null?void 0:t[QH];return r==null?null:oi.makeFromBucketSpec(r,e)}function Ive(e,t,r,o={}){e.host=`${t}:${r}`,e._protocol="http";const{mockUserToken:s}=o;s&&(e._overrideAuthToken=typeof s=="string"?s:H8(s,e.app.options.projectId))}class hT{constructor(t,r,o,s,c){this.app=t,this._authProvider=r,this._appCheckProvider=o,this._url=s,this._firebaseVersion=c,this._bucket=null,this._host=YH,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yke,this._maxUploadRetryTime=_ke,this._requests=new Set,s!=null?this._bucket=oi.makeFromBucketSpec(s,this._host):this._bucket=yz(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=oi.makeFromBucketSpec(this._url,t):this._bucket=yz(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){vz("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){vz("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Iu(this,t)}_makeRequest(t,r,o,s,c=!0){if(this._deleted)return new Bke(eW());{const d=Gke(t,this._appId,o,s,r,this._firebaseVersion,c);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(t,r){const[o,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,o,s).getPromise()}}const _z="@firebase/storage",Cz="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pW="storage";function Mve(e,t,r){return e=gn(e),_ve(e,t,r)}function oLe(e,t,r){return e=gn(e),Cve(e,t,r)}function Pve(e){return e=gn(e),Ave(e)}function iLe(e){return e=gn(e),xve(e)}function Nve(e,t){return e=gn(e),Tve(e,t)}function fW(e=G2(),t){e=gn(e);const o=vy(e,pW).getImmediate({identifier:t}),s=$8("storage");return s&&Rve(o,...s),o}function Rve(e,t,r,o={}){Ive(e,t,r,o)}function Ove(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new hT(r,o,s,t,$u)}function Bve(){Au(new Jl(pW,Ove,"PUBLIC").setMultipleInstances(!0)),Hs(_z,Cz,""),Hs(_z,Cz,"esm2017")}Bve();const Lve={apiKey:"AIzaSyAx9jl025E5CSh9P03WbAO9YzYVpcZoOxI",authDomain:"ate-vite-firestore-app.firebaseapp.com",projectId:"ate-vite-firestore-app",storageBucket:"ate-vite-firestore-app.appspot.com",messagingSenderId:"590673229876",appId:"1:590673229876:web:f2841a139a3bf0ffed3261"},mW=G8(Lve),sLe=Fn(mW);fW(mW);const gW=B.createContext(void 0),Eo=()=>{const e=B.useContext(gW);if(e===void 0)throw new Error("useUser must be used within a UserProvider");return e},jve=({children:e})=>{const[t,r]=B.useState(null),[o,s]=B.useState(null),[c,d]=B.useState(!1),[m,f]=B.useState(!0),[k,v]=B.useState(null);return console.log("UserContext loaded"),B.useEffect(()=>{const _=IV(),y=Fn(),A=rpe(_,async D=>{if(f(!0),v(null),D){const S=Yt(y,"users",D.uid);try{const I=await fc(S);if(I.exists()){console.log("User document exists."),console.log("User is signed in with UID:",D.uid),await dr(S,{lastLogin:_m()});const T=I.data();s({...T,uid:D.uid}),d(T.isSuperAdmin||!1)}else console.error("User document does not exist. Creating a new one..."),await fke(S,{isAdmin:!1,isSuperAdmin:!1,lastLogin:_m()}),s({uid:D.uid,isAdmin:!1,lastLogin:_m()}),d(!1)}catch(I){console.error("Error managing user document:",I),v(I instanceof Error?I:new Error("Failed to manage user document"))}}else s(null),d(!1);r(D),f(!1)});return()=>A()},[]),x.jsx(gW.Provider,{value:{user:t,userDetails:o,setUserDetails:s,loading:m,error:k,isSuperAdmin:c},children:e})},gg={black:"#000",white:"#fff"},Od={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Bd={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ld={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},jd={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Fd={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Mf={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Fve={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Mu(e){let t="https://mui.com/production-error/?code="+e;for(let r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const zve=Object.freeze(Object.defineProperty({__proto__:null,default:Mu},Symbol.toStringTag,{value:"Module"})),Hh="$$material";function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},V.apply(null,arguments)}function ke(e,t){if(e==null)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.includes(o))continue;r[o]=e[o]}return r}function bW(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var $ve=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Vve=bW(function(e){return $ve.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),Uve=!1;function Hve(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Wve(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var qve=function(){function e(r){var o=this;this._insertTag=function(s){var c;o.tags.length===0?o.insertionPoint?c=o.insertionPoint.nextSibling:o.prepend?c=o.container.firstChild:c=o.before:c=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(s,c),o.tags.push(s)},this.isSpeedy=r.speedy===void 0?!Uve:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(o){o.forEach(this._insertTag)},t.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Wve(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var c=Hve(s);try{c.insertRule(o,c.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(o));this.ctr++},t.flush=function(){this.tags.forEach(function(o){var s;return(s=o.parentNode)==null?void 0:s.removeChild(o)}),this.tags=[],this.ctr=0},e}(),Zr="-ms-",Tw="-moz-",qt="-webkit-",kW="comm",pT="rule",fT="decl",Gve="@import",vW="@keyframes",Kve="@layer",Yve=Math.abs,o_=String.fromCharCode,Qve=Object.assign;function Zve(e,t){return $r(e,0)^45?(((t<<2^$r(e,0))<<2^$r(e,1))<<2^$r(e,2))<<2^$r(e,3):0}function wW(e){return e.trim()}function Jve(e,t){return(e=t.exec(e))?e[0]:e}function Gt(e,t,r){return e.replace(t,r)}function mS(e,t){return e.indexOf(t)}function $r(e,t){return e.charCodeAt(t)|0}function bg(e,t,r){return e.slice(t,r)}function Ms(e){return e.length}function mT(e){return e.length}function Nv(e,t){return t.push(e),e}function Xve(e,t){return e.map(t).join("")}var i_=1,Wh=1,yW=0,Uo=0,hr=0,yp="";function s_(e,t,r,o,s,c,d){return{value:e,root:t,parent:r,type:o,props:s,children:c,line:i_,column:Wh,length:d,return:""}}function Pf(e,t){return Qve(s_("",null,null,"",null,null,0),e,{length:-e.length},t)}function e0e(){return hr}function t0e(){return hr=Uo>0?$r(yp,--Uo):0,Wh--,hr===10&&(Wh=1,i_--),hr}function si(){return hr=Uo<yW?$r(yp,Uo++):0,Wh++,hr===10&&(Wh=1,i_++),hr}function Ks(){return $r(yp,Uo)}function k0(){return Uo}function fb(e,t){return bg(yp,e,t)}function kg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _W(e){return i_=Wh=1,yW=Ms(yp=e),Uo=0,[]}function CW(e){return yp="",e}function v0(e){return wW(fb(Uo-1,gS(e===91?e+2:e===40?e+1:e)))}function n0e(e){for(;(hr=Ks())&&hr<33;)si();return kg(e)>2||kg(hr)>3?"":" "}function r0e(e,t){for(;--t&&si()&&!(hr<48||hr>102||hr>57&&hr<65||hr>70&&hr<97););return fb(e,k0()+(t<6&&Ks()==32&&si()==32))}function gS(e){for(;si();)switch(hr){case e:return Uo;case 34:case 39:e!==34&&e!==39&&gS(hr);break;case 40:e===41&&gS(e);break;case 92:si();break}return Uo}function o0e(e,t){for(;si()&&e+hr!==57;)if(e+hr===84&&Ks()===47)break;return"/*"+fb(t,Uo-1)+"*"+o_(e===47?e:si())}function i0e(e){for(;!kg(Ks());)si();return fb(e,Uo)}function s0e(e){return CW(w0("",null,null,null,[""],e=_W(e),0,[0],e))}function w0(e,t,r,o,s,c,d,m,f){for(var k=0,v=0,_=d,y=0,A=0,D=0,S=1,I=1,T=1,P=0,N="",j=s,$=c,U=o,R=N;I;)switch(D=P,P=si()){case 40:if(D!=108&&$r(R,_-1)==58){mS(R+=Gt(v0(P),"&","&\f"),"&\f")!=-1&&(T=-1);break}case 34:case 39:case 91:R+=v0(P);break;case 9:case 10:case 13:case 32:R+=n0e(D);break;case 92:R+=r0e(k0()-1,7);continue;case 47:switch(Ks()){case 42:case 47:Nv(a0e(o0e(si(),k0()),t,r),f);break;default:R+="/"}break;case 123*S:m[k++]=Ms(R)*T;case 125*S:case 59:case 0:switch(P){case 0:case 125:I=0;case 59+v:T==-1&&(R=Gt(R,/\f/g,"")),A>0&&Ms(R)-_&&Nv(A>32?xz(R+";",o,r,_-1):xz(Gt(R," ","")+";",o,r,_-2),f);break;case 59:R+=";";default:if(Nv(U=Az(R,t,r,k,v,s,m,N,j=[],$=[],_),c),P===123)if(v===0)w0(R,t,U,U,j,c,_,m,$);else switch(y===99&&$r(R,3)===110?100:y){case 100:case 108:case 109:case 115:w0(e,U,U,o&&Nv(Az(e,U,U,0,0,s,m,N,s,j=[],_),$),s,$,_,m,o?j:$);break;default:w0(R,U,U,U,[""],$,0,m,$)}}k=v=A=0,S=T=1,N=R="",_=d;break;case 58:_=1+Ms(R),A=D;default:if(S<1){if(P==123)--S;else if(P==125&&S++==0&&t0e()==125)continue}switch(R+=o_(P),P*S){case 38:T=v>0?1:(R+="\f",-1);break;case 44:m[k++]=(Ms(R)-1)*T,T=1;break;case 64:Ks()===45&&(R+=v0(si())),y=Ks(),v=_=Ms(N=R+=i0e(k0())),P++;break;case 45:D===45&&Ms(R)==2&&(S=0)}}return c}function Az(e,t,r,o,s,c,d,m,f,k,v){for(var _=s-1,y=s===0?c:[""],A=mT(y),D=0,S=0,I=0;D<o;++D)for(var T=0,P=bg(e,_+1,_=Yve(S=d[D])),N=e;T<A;++T)(N=wW(S>0?y[T]+" "+P:Gt(P,/&\f/g,y[T])))&&(f[I++]=N);return s_(e,t,r,s===0?pT:m,f,k,v)}function a0e(e,t,r){return s_(e,t,r,kW,o_(e0e()),bg(e,2,-2),0)}function xz(e,t,r,o){return s_(e,t,r,fT,bg(e,0,o),bg(e,o+1,-1),o)}function yh(e,t){for(var r="",o=mT(e),s=0;s<o;s++)r+=t(e[s],s,e,t)||"";return r}function l0e(e,t,r,o){switch(e.type){case Kve:if(e.children.length)break;case Gve:case fT:return e.return=e.return||e.value;case kW:return"";case vW:return e.return=e.value+"{"+yh(e.children,o)+"}";case pT:e.value=e.props.join(",")}return Ms(r=yh(e.children,o))?e.return=e.value+"{"+r+"}":""}function c0e(e){var t=mT(e);return function(r,o,s,c){for(var d="",m=0;m<t;m++)d+=e[m](r,o,s,c)||"";return d}}function u0e(e){return function(t){t.root||(t=t.return)&&e(t)}}var d0e=function(t,r,o){for(var s=0,c=0;s=c,c=Ks(),s===38&&c===12&&(r[o]=1),!kg(c);)si();return fb(t,Uo)},h0e=function(t,r){var o=-1,s=44;do switch(kg(s)){case 0:s===38&&Ks()===12&&(r[o]=1),t[o]+=d0e(Uo-1,r,o);break;case 2:t[o]+=v0(s);break;case 4:if(s===44){t[++o]=Ks()===58?"&\f":"",r[o]=t[o].length;break}default:t[o]+=o_(s)}while(s=si());return t},p0e=function(t,r){return CW(h0e(_W(t),r))},Ez=new WeakMap,f0e=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,o=t.parent,s=t.column===o.column&&t.line===o.line;o.type!=="rule";)if(o=o.parent,!o)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!Ez.get(o))&&!s){Ez.set(t,!0);for(var c=[],d=p0e(r,c),m=o.props,f=0,k=0;f<d.length;f++)for(var v=0;v<m.length;v++,k++)t.props[k]=c[f]?d[f].replace(/&\f/g,m[v]):m[v]+" "+d[f]}}},m0e=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function AW(e,t){switch(Zve(e,t)){case 5103:return qt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return qt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return qt+e+Tw+e+Zr+e+e;case 6828:case 4268:return qt+e+Zr+e+e;case 6165:return qt+e+Zr+"flex-"+e+e;case 5187:return qt+e+Gt(e,/(\w+).+(:[^]+)/,qt+"box-$1$2"+Zr+"flex-$1$2")+e;case 5443:return qt+e+Zr+"flex-item-"+Gt(e,/flex-|-self/,"")+e;case 4675:return qt+e+Zr+"flex-line-pack"+Gt(e,/align-content|flex-|-self/,"")+e;case 5548:return qt+e+Zr+Gt(e,"shrink","negative")+e;case 5292:return qt+e+Zr+Gt(e,"basis","preferred-size")+e;case 6060:return qt+"box-"+Gt(e,"-grow","")+qt+e+Zr+Gt(e,"grow","positive")+e;case 4554:return qt+Gt(e,/([^-])(transform)/g,"$1"+qt+"$2")+e;case 6187:return Gt(Gt(Gt(e,/(zoom-|grab)/,qt+"$1"),/(image-set)/,qt+"$1"),e,"")+e;case 5495:case 3959:return Gt(e,/(image-set\([^]*)/,qt+"$1$`$1");case 4968:return Gt(Gt(e,/(.+:)(flex-)?(.*)/,qt+"box-pack:$3"+Zr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+qt+e+e;case 4095:case 3583:case 4068:case 2532:return Gt(e,/(.+)-inline(.+)/,qt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ms(e)-1-t>6)switch($r(e,t+1)){case 109:if($r(e,t+4)!==45)break;case 102:return Gt(e,/(.+:)(.+)-([^]+)/,"$1"+qt+"$2-$3$1"+Tw+($r(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~mS(e,"stretch")?AW(Gt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if($r(e,t+1)!==115)break;case 6444:switch($r(e,Ms(e)-3-(~mS(e,"!important")&&10))){case 107:return Gt(e,":",":"+qt)+e;case 101:return Gt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+qt+($r(e,14)===45?"inline-":"")+"box$3$1"+qt+"$2$3$1"+Zr+"$2box$3")+e}break;case 5936:switch($r(e,t+11)){case 114:return qt+e+Zr+Gt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return qt+e+Zr+Gt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return qt+e+Zr+Gt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return qt+e+Zr+e+e}return e}var g0e=function(t,r,o,s){if(t.length>-1&&!t.return)switch(t.type){case fT:t.return=AW(t.value,t.length);break;case vW:return yh([Pf(t,{value:Gt(t.value,"@","@"+qt)})],s);case pT:if(t.length)return Xve(t.props,function(c){switch(Jve(c,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return yh([Pf(t,{props:[Gt(c,/:(read-\w+)/,":"+Tw+"$1")]})],s);case"::placeholder":return yh([Pf(t,{props:[Gt(c,/:(plac\w+)/,":"+qt+"input-$1")]}),Pf(t,{props:[Gt(c,/:(plac\w+)/,":"+Tw+"$1")]}),Pf(t,{props:[Gt(c,/:(plac\w+)/,Zr+"input-$1")]})],s)}return""})}},b0e=[g0e],xW=function(t){var r=t.key;if(r==="css"){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(S){var I=S.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var s=t.stylisPlugins||b0e,c={},d,m=[];d=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(S){for(var I=S.getAttribute("data-emotion").split(" "),T=1;T<I.length;T++)c[I[T]]=!0;m.push(S)});var f,k=[f0e,m0e];{var v,_=[l0e,u0e(function(S){v.insert(S)})],y=c0e(k.concat(s,_)),A=function(I){return yh(s0e(I),y)};f=function(I,T,P,N){v=P,A(I?I+"{"+T.styles+"}":T.styles),N&&(D.inserted[T.name]=!0)}}var D={key:r,sheet:new qve({key:r,container:d,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:c,registered:{},insert:f};return D.sheet.hydrate(m),D},EW={exports:{}},sn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nr=typeof Symbol=="function"&&Symbol.for,gT=Nr?Symbol.for("react.element"):60103,bT=Nr?Symbol.for("react.portal"):60106,a_=Nr?Symbol.for("react.fragment"):60107,l_=Nr?Symbol.for("react.strict_mode"):60108,c_=Nr?Symbol.for("react.profiler"):60114,u_=Nr?Symbol.for("react.provider"):60109,d_=Nr?Symbol.for("react.context"):60110,kT=Nr?Symbol.for("react.async_mode"):60111,h_=Nr?Symbol.for("react.concurrent_mode"):60111,p_=Nr?Symbol.for("react.forward_ref"):60112,f_=Nr?Symbol.for("react.suspense"):60113,k0e=Nr?Symbol.for("react.suspense_list"):60120,m_=Nr?Symbol.for("react.memo"):60115,g_=Nr?Symbol.for("react.lazy"):60116,v0e=Nr?Symbol.for("react.block"):60121,w0e=Nr?Symbol.for("react.fundamental"):60117,y0e=Nr?Symbol.for("react.responder"):60118,_0e=Nr?Symbol.for("react.scope"):60119;function fi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case gT:switch(e=e.type,e){case kT:case h_:case a_:case c_:case l_:case f_:return e;default:switch(e=e&&e.$$typeof,e){case d_:case p_:case g_:case m_:case u_:return e;default:return t}}case bT:return t}}}function SW(e){return fi(e)===h_}sn.AsyncMode=kT;sn.ConcurrentMode=h_;sn.ContextConsumer=d_;sn.ContextProvider=u_;sn.Element=gT;sn.ForwardRef=p_;sn.Fragment=a_;sn.Lazy=g_;sn.Memo=m_;sn.Portal=bT;sn.Profiler=c_;sn.StrictMode=l_;sn.Suspense=f_;sn.isAsyncMode=function(e){return SW(e)||fi(e)===kT};sn.isConcurrentMode=SW;sn.isContextConsumer=function(e){return fi(e)===d_};sn.isContextProvider=function(e){return fi(e)===u_};sn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===gT};sn.isForwardRef=function(e){return fi(e)===p_};sn.isFragment=function(e){return fi(e)===a_};sn.isLazy=function(e){return fi(e)===g_};sn.isMemo=function(e){return fi(e)===m_};sn.isPortal=function(e){return fi(e)===bT};sn.isProfiler=function(e){return fi(e)===c_};sn.isStrictMode=function(e){return fi(e)===l_};sn.isSuspense=function(e){return fi(e)===f_};sn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===a_||e===h_||e===c_||e===l_||e===f_||e===k0e||typeof e=="object"&&e!==null&&(e.$$typeof===g_||e.$$typeof===m_||e.$$typeof===u_||e.$$typeof===d_||e.$$typeof===p_||e.$$typeof===w0e||e.$$typeof===y0e||e.$$typeof===_0e||e.$$typeof===v0e)};sn.typeOf=fi;EW.exports=sn;var C0e=EW.exports,DW=C0e,A0e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},x0e={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TW={};TW[DW.ForwardRef]=A0e;TW[DW.Memo]=x0e;var E0e=!0;function S0e(e,t,r){var o="";return r.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):s&&(o+=s+" ")}),o}var IW=function(t,r,o){var s=t.key+"-"+r.name;(o===!1||E0e===!1)&&t.registered[s]===void 0&&(t.registered[s]=r.styles)},MW=function(t,r,o){IW(t,r,o);var s=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var c=r;do t.insert(r===c?"."+s:"",c,t.sheet,!0),c=c.next;while(c!==void 0)}};function D0e(e){for(var t=0,r,o=0,s=e.length;s>=4;++o,s-=4)r=e.charCodeAt(o)&255|(e.charCodeAt(++o)&255)<<8|(e.charCodeAt(++o)&255)<<16|(e.charCodeAt(++o)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(o+2)&255)<<16;case 2:t^=(e.charCodeAt(o+1)&255)<<8;case 1:t^=e.charCodeAt(o)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var T0e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},I0e=!1,M0e=/[A-Z]|^ms/g,P0e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,PW=function(t){return t.charCodeAt(1)===45},Sz=function(t){return t!=null&&typeof t!="boolean"},lx=bW(function(e){return PW(e)?e:e.replace(M0e,"-$&").toLowerCase()}),Dz=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(P0e,function(o,s,c){return Ps={name:s,styles:c,next:Ps},s})}return T0e[t]!==1&&!PW(t)&&typeof r=="number"&&r!==0?r+"px":r},N0e="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function vg(e,t,r){if(r==null)return"";var o=r;if(o.__emotion_styles!==void 0)return o;switch(typeof r){case"boolean":return"";case"object":{var s=r;if(s.anim===1)return Ps={name:s.name,styles:s.styles,next:Ps},s.name;var c=r;if(c.styles!==void 0){var d=c.next;if(d!==void 0)for(;d!==void 0;)Ps={name:d.name,styles:d.styles,next:Ps},d=d.next;var m=c.styles+";";return m}return R0e(e,t,r)}case"function":{if(e!==void 0){var f=Ps,k=r(e);return Ps=f,vg(e,t,k)}break}}var v=r;if(t==null)return v;var _=t[v];return _!==void 0?_:v}function R0e(e,t,r){var o="";if(Array.isArray(r))for(var s=0;s<r.length;s++)o+=vg(e,t,r[s])+";";else for(var c in r){var d=r[c];if(typeof d!="object"){var m=d;t!=null&&t[m]!==void 0?o+=c+"{"+t[m]+"}":Sz(m)&&(o+=lx(c)+":"+Dz(c,m)+";")}else{if(c==="NO_COMPONENT_SELECTOR"&&I0e)throw new Error(N0e);if(Array.isArray(d)&&typeof d[0]=="string"&&(t==null||t[d[0]]===void 0))for(var f=0;f<d.length;f++)Sz(d[f])&&(o+=lx(c)+":"+Dz(c,d[f])+";");else{var k=vg(e,t,d);switch(c){case"animation":case"animationName":{o+=lx(c)+":"+k+";";break}default:o+=c+"{"+k+"}"}}}}return o}var Tz=/label:\s*([^\s;{]+)\s*(;|$)/g,Ps;function vT(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var o=!0,s="";Ps=void 0;var c=e[0];if(c==null||c.raw===void 0)o=!1,s+=vg(r,t,c);else{var d=c;s+=d[0]}for(var m=1;m<e.length;m++)if(s+=vg(r,t,e[m]),o){var f=c;s+=f[m]}Tz.lastIndex=0;for(var k="",v;(v=Tz.exec(s))!==null;)k+="-"+v[1];var _=D0e(s)+k;return{name:_,styles:s,next:Ps}}var O0e=function(t){return t()},NW=Nm.useInsertionEffect?Nm.useInsertionEffect:!1,B0e=NW||O0e,Iz=NW||B.useLayoutEffect,RW=B.createContext(typeof HTMLElement<"u"?xW({key:"css"}):null),L0e=RW.Provider,OW=function(t){return B.forwardRef(function(r,o){var s=B.useContext(RW);return t(r,s,o)})},mb=B.createContext({}),cx={exports:{}},Mz;function BW(){return Mz||(Mz=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var c in s)({}).hasOwnProperty.call(s,c)&&(r[c]=s[c])}return r},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(cx)),cx.exports}BW();var j0e=OW(function(e,t){var r=e.styles,o=vT([r],void 0,B.useContext(mb)),s=B.useRef();return Iz(function(){var c=t.key+"-global",d=new t.sheet.constructor({key:c,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),m=!1,f=document.querySelector('style[data-emotion="'+c+" "+o.name+'"]');return t.sheet.tags.length&&(d.before=t.sheet.tags[0]),f!==null&&(m=!0,f.setAttribute("data-emotion",c),d.hydrate([f])),s.current=[d,m],function(){d.flush()}},[t]),Iz(function(){var c=s.current,d=c[0],m=c[1];if(m){c[1]=!1;return}if(o.next!==void 0&&MW(t,o.next,!0),d.tags.length){var f=d.tags[d.tags.length-1].nextElementSibling;d.before=f,d.flush()}t.insert("",o,d,!1)},[t,o.name]),null});function b_(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return vT(t)}var _p=function(){var t=b_.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},F0e=Vve,z0e=function(t){return t!=="theme"},Pz=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?F0e:z0e},Nz=function(t,r,o){var s;if(r){var c=r.shouldForwardProp;s=t.__emotion_forwardProp&&c?function(d){return t.__emotion_forwardProp(d)&&c(d)}:c}return typeof s!="function"&&o&&(s=t.__emotion_forwardProp),s},$0e=!1,V0e=function(t){var r=t.cache,o=t.serialized,s=t.isStringTag;return IW(r,o,s),B0e(function(){return MW(r,o,s)}),null},U0e=function e(t,r){var o=t.__emotion_real===t,s=o&&t.__emotion_base||t,c,d;r!==void 0&&(c=r.label,d=r.target);var m=Nz(t,r,o),f=m||Pz(s),k=!f("as");return function(){var v=arguments,_=o&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(c!==void 0&&_.push("label:"+c+";"),v[0]==null||v[0].raw===void 0)_.push.apply(_,v);else{_.push(v[0][0]);for(var y=v.length,A=1;A<y;A++)_.push(v[A],v[0][A])}var D=OW(function(S,I,T){var P=k&&S.as||s,N="",j=[],$=S;if(S.theme==null){$={};for(var U in S)$[U]=S[U];$.theme=B.useContext(mb)}typeof S.className=="string"?N=S0e(I.registered,j,S.className):S.className!=null&&(N=S.className+" ");var R=vT(_.concat(j),I.registered,$);N+=I.key+"-"+R.name,d!==void 0&&(N+=" "+d);var z=k&&m===void 0?Pz(P):f,W={};for(var q in S)k&&q==="as"||z(q)&&(W[q]=S[q]);return W.className=N,T&&(W.ref=T),B.createElement(B.Fragment,null,B.createElement(V0e,{cache:I,serialized:R,isStringTag:typeof P=="string"}),B.createElement(P,W))});return D.displayName=c!==void 0?c:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",D.defaultProps=t.defaultProps,D.__emotion_real=D,D.__emotion_base=s,D.__emotion_styles=_,D.__emotion_forwardProp=m,Object.defineProperty(D,"toString",{value:function(){return d===void 0&&$0e?"NO_COMPONENT_SELECTOR":"."+d}}),D.withComponent=function(S,I){return e(S,V({},r,I,{shouldForwardProp:Nz(D,I,!0)})).apply(void 0,_)},D}},H0e=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],bS=U0e.bind();H0e.forEach(function(e){bS[e]=bS(e)});var ux={exports:{}},dx,Rz;function W0e(){if(Rz)return dx;Rz=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return dx=e,dx}var hx,Oz;function q0e(){if(Oz)return hx;Oz=1;var e=W0e();function t(){}function r(){}return r.resetWarningCache=t,hx=function(){function o(d,m,f,k,v,_){if(_!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}o.isRequired=o;function s(){return o}var c={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:s,element:o,elementType:o,instanceOf:s,node:o,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:t};return c.PropTypes=c,c},hx}var Bz;function LW(){return Bz||(Bz=1,ux.exports=q0e()()),ux.exports}LW();let kS;typeof document=="object"&&(kS=xW({key:"css",prepend:!0}));function G0e(e){const{injectFirst:t,children:r}=e;return t&&kS?x.jsx(L0e,{value:kS,children:r}):r}function K0e(e){return e==null||Object.keys(e).length===0}function jW(e){const{styles:t,defaultTheme:r={}}=e,o=typeof t=="function"?s=>t(K0e(s)?r:s):t;return x.jsx(j0e,{styles:o})}function wT(e,t){return bS(e,t)}const FW=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Y0e=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:jW,StyledEngineProvider:G0e,ThemeContext:mb,css:b_,default:wT,internal_processStyles:FW,keyframes:_p},Symbol.toStringTag,{value:"Module"}));function Ta(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function zW(e){if(B.isValidElement(e)||!Ta(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=zW(e[r])}),t}function _o(e,t,r={clone:!0}){const o=r.clone?V({},e):e;return Ta(e)&&Ta(t)&&Object.keys(t).forEach(s=>{B.isValidElement(t[s])?o[s]=t[s]:Ta(t[s])&&Object.prototype.hasOwnProperty.call(e,s)&&Ta(e[s])?o[s]=_o(e[s],t[s],r):r.clone?o[s]=Ta(t[s])?zW(t[s]):t[s]:o[s]=t[s]}),o}const Q0e=Object.freeze(Object.defineProperty({__proto__:null,default:_o,isPlainObject:Ta},Symbol.toStringTag,{value:"Module"})),Z0e=["values","unit","step"],J0e=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,o)=>r.val-o.val),t.reduce((r,o)=>V({},r,{[o.key]:o.val}),{})};function $W(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:o=5}=e,s=ke(e,Z0e),c=J0e(t),d=Object.keys(c);function m(y){return`@media (min-width:${typeof t[y]=="number"?t[y]:y}${r})`}function f(y){return`@media (max-width:${(typeof t[y]=="number"?t[y]:y)-o/100}${r})`}function k(y,A){const D=d.indexOf(A);return`@media (min-width:${typeof t[y]=="number"?t[y]:y}${r}) and (max-width:${(D!==-1&&typeof t[d[D]]=="number"?t[d[D]]:A)-o/100}${r})`}function v(y){return d.indexOf(y)+1<d.length?k(y,d[d.indexOf(y)+1]):m(y)}function _(y){const A=d.indexOf(y);return A===0?m(d[1]):A===d.length-1?f(d[A]):k(y,d[d.indexOf(y)+1]).replace("@media","@media not all and")}return V({keys:d,values:c,up:m,down:f,between:k,only:v,not:_,unit:r},s)}const X0e={borderRadius:4};function Am(e,t){return t?_o(e,t,{clone:!1}):e}const yT={xs:0,sm:600,md:900,lg:1200,xl:1536},Lz={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${yT[e]}px)`};function Ho(e,t,r){const o=e.theme||{};if(Array.isArray(t)){const c=o.breakpoints||Lz;return t.reduce((d,m,f)=>(d[c.up(c.keys[f])]=r(t[f]),d),{})}if(typeof t=="object"){const c=o.breakpoints||Lz;return Object.keys(t).reduce((d,m)=>{if(Object.keys(c.values||yT).indexOf(m)!==-1){const f=c.up(m);d[f]=r(t[m],m)}else{const f=m;d[f]=t[f]}return d},{})}return r(t)}function VW(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((o,s)=>{const c=e.up(s);return o[c]={},o},{}))||{}}function UW(e,t){return e.reduce((r,o)=>{const s=r[o];return(!s||Object.keys(s).length===0)&&delete r[o],r},t)}function ewe(e,...t){const r=VW(e),o=[r,...t].reduce((s,c)=>_o(s,c),{});return UW(Object.keys(r),o)}function twe(e,t){if(typeof e!="object")return{};const r={},o=Object.keys(t);return Array.isArray(e)?o.forEach((s,c)=>{c<e.length&&(r[s]=!0)}):o.forEach(s=>{e[s]!=null&&(r[s]=!0)}),r}function pu({values:e,breakpoints:t,base:r}){const o=r||twe(e,t),s=Object.keys(o);if(s.length===0)return e;let c;return s.reduce((d,m,f)=>(Array.isArray(e)?(d[m]=e[f]!=null?e[f]:e[c],c=f):typeof e=="object"?(d[m]=e[m]!=null?e[m]:e[c],c=m):d[m]=e,d),{})}function ue(e){if(typeof e!="string")throw new Error(Mu(7));return e.charAt(0).toUpperCase()+e.slice(1)}const nwe=Object.freeze(Object.defineProperty({__proto__:null,default:ue},Symbol.toStringTag,{value:"Module"}));function qh(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const o=`vars.${t}`.split(".").reduce((s,c)=>s&&s[c]?s[c]:null,e);if(o!=null)return o}return t.split(".").reduce((o,s)=>o&&o[s]!=null?o[s]:null,e)}function Iw(e,t,r,o=r){let s;return typeof e=="function"?s=e(r):Array.isArray(e)?s=e[r]||o:s=qh(e,r)||o,t&&(s=t(s,o,e)),s}function ar(e){const{prop:t,cssProperty:r=e.prop,themeKey:o,transform:s}=e,c=d=>{if(d[t]==null)return null;const m=d[t],f=d.theme,k=qh(f,o)||{};return Ho(d,m,_=>{let y=Iw(k,s,_);return _===y&&typeof _=="string"&&(y=Iw(k,s,`${t}${_==="default"?"":ue(_)}`,_)),r===!1?y:{[r]:y}})};return c.propTypes={},c.filterProps=[t],c}function rwe(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const owe={m:"margin",p:"padding"},iwe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},jz={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},swe=rwe(e=>{if(e.length>2)if(jz[e])e=jz[e];else return[e];const[t,r]=e.split(""),o=owe[t],s=iwe[r]||"";return Array.isArray(s)?s.map(c=>o+c):[o+s]}),_T=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],CT=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[..._T,...CT];function gb(e,t,r,o){var s;const c=(s=qh(e,t,!1))!=null?s:r;return typeof c=="number"?d=>typeof d=="string"?d:c*d:Array.isArray(c)?d=>typeof d=="string"?d:c[d]:typeof c=="function"?c:()=>{}}function AT(e){return gb(e,"spacing",8)}function Pu(e,t){if(typeof t=="string"||t==null)return t;const r=Math.abs(t),o=e(r);return t>=0?o:typeof o=="number"?-o:`-${o}`}function awe(e,t){return r=>e.reduce((o,s)=>(o[s]=Pu(t,r),o),{})}function lwe(e,t,r,o){if(t.indexOf(r)===-1)return null;const s=swe(r),c=awe(s,o),d=e[r];return Ho(e,d,c)}function HW(e,t){const r=AT(e.theme);return Object.keys(e).map(o=>lwe(e,t,o,r)).reduce(Am,{})}function Hn(e){return HW(e,_T)}Hn.propTypes={};Hn.filterProps=_T;function Wn(e){return HW(e,CT)}Wn.propTypes={};Wn.filterProps=CT;function cwe(e=8){if(e.mui)return e;const t=AT({spacing:e}),r=(...o)=>(o.length===0?[1]:o).map(c=>{const d=t(c);return typeof d=="number"?`${d}px`:d}).join(" ");return r.mui=!0,r}function k_(...e){const t=e.reduce((o,s)=>(s.filterProps.forEach(c=>{o[c]=s}),o),{}),r=o=>Object.keys(o).reduce((s,c)=>t[c]?Am(s,t[c](o)):s,{});return r.propTypes={},r.filterProps=e.reduce((o,s)=>o.concat(s.filterProps),[]),r}function Ii(e){return typeof e!="number"?e:`${e}px solid`}function Hi(e,t){return ar({prop:e,themeKey:"borders",transform:t})}const uwe=Hi("border",Ii),dwe=Hi("borderTop",Ii),hwe=Hi("borderRight",Ii),pwe=Hi("borderBottom",Ii),fwe=Hi("borderLeft",Ii),mwe=Hi("borderColor"),gwe=Hi("borderTopColor"),bwe=Hi("borderRightColor"),kwe=Hi("borderBottomColor"),vwe=Hi("borderLeftColor"),wwe=Hi("outline",Ii),ywe=Hi("outlineColor"),v_=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=gb(e.theme,"shape.borderRadius",4),r=o=>({borderRadius:Pu(t,o)});return Ho(e,e.borderRadius,r)}return null};v_.propTypes={};v_.filterProps=["borderRadius"];k_(uwe,dwe,hwe,pwe,fwe,mwe,gwe,bwe,kwe,vwe,v_,wwe,ywe);const w_=e=>{if(e.gap!==void 0&&e.gap!==null){const t=gb(e.theme,"spacing",8),r=o=>({gap:Pu(t,o)});return Ho(e,e.gap,r)}return null};w_.propTypes={};w_.filterProps=["gap"];const y_=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=gb(e.theme,"spacing",8),r=o=>({columnGap:Pu(t,o)});return Ho(e,e.columnGap,r)}return null};y_.propTypes={};y_.filterProps=["columnGap"];const __=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=gb(e.theme,"spacing",8),r=o=>({rowGap:Pu(t,o)});return Ho(e,e.rowGap,r)}return null};__.propTypes={};__.filterProps=["rowGap"];const _we=ar({prop:"gridColumn"}),Cwe=ar({prop:"gridRow"}),Awe=ar({prop:"gridAutoFlow"}),xwe=ar({prop:"gridAutoColumns"}),Ewe=ar({prop:"gridAutoRows"}),Swe=ar({prop:"gridTemplateColumns"}),Dwe=ar({prop:"gridTemplateRows"}),Twe=ar({prop:"gridTemplateAreas"}),Iwe=ar({prop:"gridArea"});k_(w_,y_,__,_we,Cwe,Awe,xwe,Ewe,Swe,Dwe,Twe,Iwe);function _h(e,t){return t==="grey"?t:e}const Mwe=ar({prop:"color",themeKey:"palette",transform:_h}),Pwe=ar({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:_h}),Nwe=ar({prop:"backgroundColor",themeKey:"palette",transform:_h});k_(Mwe,Pwe,Nwe);function ti(e){return e<=1&&e!==0?`${e*100}%`:e}const Rwe=ar({prop:"width",transform:ti}),xT=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var o,s;const c=((o=e.theme)==null||(o=o.breakpoints)==null||(o=o.values)==null?void 0:o[r])||yT[r];return c?((s=e.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${c}${e.theme.breakpoints.unit}`}:{maxWidth:c}:{maxWidth:ti(r)}};return Ho(e,e.maxWidth,t)}return null};xT.filterProps=["maxWidth"];const Owe=ar({prop:"minWidth",transform:ti}),Bwe=ar({prop:"height",transform:ti}),Lwe=ar({prop:"maxHeight",transform:ti}),jwe=ar({prop:"minHeight",transform:ti});ar({prop:"size",cssProperty:"width",transform:ti});ar({prop:"size",cssProperty:"height",transform:ti});const Fwe=ar({prop:"boxSizing"});k_(Rwe,xT,Owe,Bwe,Lwe,jwe,Fwe);const bb={border:{themeKey:"borders",transform:Ii},borderTop:{themeKey:"borders",transform:Ii},borderRight:{themeKey:"borders",transform:Ii},borderBottom:{themeKey:"borders",transform:Ii},borderLeft:{themeKey:"borders",transform:Ii},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ii},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:v_},color:{themeKey:"palette",transform:_h},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:_h},backgroundColor:{themeKey:"palette",transform:_h},p:{style:Wn},pt:{style:Wn},pr:{style:Wn},pb:{style:Wn},pl:{style:Wn},px:{style:Wn},py:{style:Wn},padding:{style:Wn},paddingTop:{style:Wn},paddingRight:{style:Wn},paddingBottom:{style:Wn},paddingLeft:{style:Wn},paddingX:{style:Wn},paddingY:{style:Wn},paddingInline:{style:Wn},paddingInlineStart:{style:Wn},paddingInlineEnd:{style:Wn},paddingBlock:{style:Wn},paddingBlockStart:{style:Wn},paddingBlockEnd:{style:Wn},m:{style:Hn},mt:{style:Hn},mr:{style:Hn},mb:{style:Hn},ml:{style:Hn},mx:{style:Hn},my:{style:Hn},margin:{style:Hn},marginTop:{style:Hn},marginRight:{style:Hn},marginBottom:{style:Hn},marginLeft:{style:Hn},marginX:{style:Hn},marginY:{style:Hn},marginInline:{style:Hn},marginInlineStart:{style:Hn},marginInlineEnd:{style:Hn},marginBlock:{style:Hn},marginBlockStart:{style:Hn},marginBlockEnd:{style:Hn},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:w_},rowGap:{style:__},columnGap:{style:y_},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ti},maxWidth:{style:xT},minWidth:{transform:ti},height:{transform:ti},maxHeight:{transform:ti},minHeight:{transform:ti},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function zwe(...e){const t=e.reduce((o,s)=>o.concat(Object.keys(s)),[]),r=new Set(t);return e.every(o=>r.size===Object.keys(o).length)}function $we(e,t){return typeof e=="function"?e(t):e}function WW(){function e(r,o,s,c){const d={[r]:o,theme:s},m=c[r];if(!m)return{[r]:o};const{cssProperty:f=r,themeKey:k,transform:v,style:_}=m;if(o==null)return null;if(k==="typography"&&o==="inherit")return{[r]:o};const y=qh(s,k)||{};return _?_(d):Ho(d,o,D=>{let S=Iw(y,v,D);return D===S&&typeof D=="string"&&(S=Iw(y,v,`${r}${D==="default"?"":ue(D)}`,D)),f===!1?S:{[f]:S}})}function t(r){var o;const{sx:s,theme:c={}}=r||{};if(!s)return null;const d=(o=c.unstable_sxConfig)!=null?o:bb;function m(f){let k=f;if(typeof f=="function")k=f(c);else if(typeof f!="object")return f;if(!k)return null;const v=VW(c.breakpoints),_=Object.keys(v);let y=v;return Object.keys(k).forEach(A=>{const D=$we(k[A],c);if(D!=null)if(typeof D=="object")if(d[A])y=Am(y,e(A,D,c,d));else{const S=Ho({theme:c},D,I=>({[A]:I}));zwe(S,D)?y[A]=t({sx:D,theme:c}):y=Am(y,S)}else y=Am(y,e(A,D,c,d))}),UW(_,y)}return Array.isArray(s)?s.map(m):m(s)}return t}const Cp=WW();Cp.filterProps=["sx"];function qW(e,t){const r=this;return r.vars&&typeof r.getColorSchemeSelector=="function"?{[r.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:r.palette.mode===e?t:{}}const Vwe=["breakpoints","palette","spacing","shape"];function Ap(e={},...t){const{breakpoints:r={},palette:o={},spacing:s,shape:c={}}=e,d=ke(e,Vwe),m=$W(r),f=cwe(s);let k=_o({breakpoints:m,direction:"ltr",components:{},palette:V({mode:"light"},o),spacing:f,shape:V({},X0e,c)},d);return k.applyStyles=qW,k=t.reduce((v,_)=>_o(v,_),k),k.unstable_sxConfig=V({},bb,d==null?void 0:d.unstable_sxConfig),k.unstable_sx=function(_){return Cp({sx:_,theme:this})},k}const Uwe=Object.freeze(Object.defineProperty({__proto__:null,default:Ap,private_createBreakpoints:$W,unstable_applyStyles:qW},Symbol.toStringTag,{value:"Module"}));function Hwe(e){return Object.keys(e).length===0}function ET(e=null){const t=B.useContext(mb);return!t||Hwe(t)?e:t}const Wwe=Ap();function C_(e=Wwe){return ET(e)}function qwe({styles:e,themeId:t,defaultTheme:r={}}){const o=C_(r),s=typeof e=="function"?e(t&&o[t]||o):e;return x.jsx(jW,{styles:s})}const Gwe=["sx"],Kwe=e=>{var t,r;const o={systemProps:{},otherProps:{}},s=(t=e==null||(r=e.theme)==null?void 0:r.unstable_sxConfig)!=null?t:bb;return Object.keys(e).forEach(c=>{s[c]?o.systemProps[c]=e[c]:o.otherProps[c]=e[c]}),o};function kb(e){const{sx:t}=e,r=ke(e,Gwe),{systemProps:o,otherProps:s}=Kwe(r);let c;return Array.isArray(t)?c=[o,...t]:typeof t=="function"?c=(...d)=>{const m=t(...d);return Ta(m)?V({},o,m):o}:c=V({},o,t),V({},s,{sx:c})}const Ywe=Object.freeze(Object.defineProperty({__proto__:null,default:Cp,extendSxProp:kb,unstable_createStyleFunctionSx:WW,unstable_defaultSxConfig:bb},Symbol.toStringTag,{value:"Module"})),Fz=e=>e,Qwe=()=>{let e=Fz;return{configure(t){e=t},generate(t){return e(t)},reset(){e=Fz}}},ST=Qwe();function GW(e){var t,r,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=GW(e[t]))&&(o&&(o+=" "),o+=r)}else for(r in e)e[r]&&(o&&(o+=" "),o+=r);return o}function pe(){for(var e,t,r=0,o="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=GW(e))&&(o&&(o+=" "),o+=t);return o}const Zwe=["className","component"];function Jwe(e={}){const{themeId:t,defaultTheme:r,defaultClassName:o="MuiBox-root",generateClassName:s}=e,c=wT("div",{shouldForwardProp:m=>m!=="theme"&&m!=="sx"&&m!=="as"})(Cp);return B.forwardRef(function(f,k){const v=C_(r),_=kb(f),{className:y,component:A="div"}=_,D=ke(_,Zwe);return x.jsx(c,V({as:A,ref:k,className:pe(y,s?s(o):o),theme:t&&v[t]||v},D))})}const Xwe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function $e(e,t,r="Mui"){const o=Xwe[t];return o?`${r}-${o}`:`${ST.generate(e)}-${t}`}function Ve(e,t,r="Mui"){const o={};return t.forEach(s=>{o[s]=$e(e,s,r)}),o}var KW={exports:{}},an={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DT=Symbol.for("react.element"),TT=Symbol.for("react.portal"),A_=Symbol.for("react.fragment"),x_=Symbol.for("react.strict_mode"),E_=Symbol.for("react.profiler"),S_=Symbol.for("react.provider"),D_=Symbol.for("react.context"),eye=Symbol.for("react.server_context"),T_=Symbol.for("react.forward_ref"),I_=Symbol.for("react.suspense"),M_=Symbol.for("react.suspense_list"),P_=Symbol.for("react.memo"),N_=Symbol.for("react.lazy"),tye=Symbol.for("react.offscreen"),YW;YW=Symbol.for("react.module.reference");function Wi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case DT:switch(e=e.type,e){case A_:case E_:case x_:case I_:case M_:return e;default:switch(e=e&&e.$$typeof,e){case eye:case D_:case T_:case N_:case P_:case S_:return e;default:return t}}case TT:return t}}}an.ContextConsumer=D_;an.ContextProvider=S_;an.Element=DT;an.ForwardRef=T_;an.Fragment=A_;an.Lazy=N_;an.Memo=P_;an.Portal=TT;an.Profiler=E_;an.StrictMode=x_;an.Suspense=I_;an.SuspenseList=M_;an.isAsyncMode=function(){return!1};an.isConcurrentMode=function(){return!1};an.isContextConsumer=function(e){return Wi(e)===D_};an.isContextProvider=function(e){return Wi(e)===S_};an.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===DT};an.isForwardRef=function(e){return Wi(e)===T_};an.isFragment=function(e){return Wi(e)===A_};an.isLazy=function(e){return Wi(e)===N_};an.isMemo=function(e){return Wi(e)===P_};an.isPortal=function(e){return Wi(e)===TT};an.isProfiler=function(e){return Wi(e)===E_};an.isStrictMode=function(e){return Wi(e)===x_};an.isSuspense=function(e){return Wi(e)===I_};an.isSuspenseList=function(e){return Wi(e)===M_};an.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===A_||e===E_||e===x_||e===I_||e===M_||e===tye||typeof e=="object"&&e!==null&&(e.$$typeof===N_||e.$$typeof===P_||e.$$typeof===S_||e.$$typeof===D_||e.$$typeof===T_||e.$$typeof===YW||e.getModuleId!==void 0)};an.typeOf=Wi;KW.exports=an;var zz=KW.exports;const nye=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function QW(e){const t=`${e}`.match(nye);return t&&t[1]||""}function ZW(e,t=""){return e.displayName||e.name||QW(e)||t}function $z(e,t,r){const o=ZW(t);return e.displayName||(o!==""?`${r}(${o})`:r)}function rye(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return ZW(e,"Component");if(typeof e=="object")switch(e.$$typeof){case zz.ForwardRef:return $z(e,e.render,"ForwardRef");case zz.Memo:return $z(e,e.type,"memo");default:return}}}const oye=Object.freeze(Object.defineProperty({__proto__:null,default:rye,getFunctionName:QW},Symbol.toStringTag,{value:"Module"})),iye=["ownerState"],sye=["variants"],aye=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function lye(e){return Object.keys(e).length===0}function cye(e){return typeof e=="string"&&e.charCodeAt(0)>96}function px(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const uye=Ap(),dye=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function Rv({defaultTheme:e,theme:t,themeId:r}){return lye(t)?e:t[r]||t}function hye(e){return e?(t,r)=>r[e]:null}function y0(e,t){let{ownerState:r}=t,o=ke(t,iye);const s=typeof e=="function"?e(V({ownerState:r},o)):e;if(Array.isArray(s))return s.flatMap(c=>y0(c,V({ownerState:r},o)));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:c=[]}=s;let m=ke(s,sye);return c.forEach(f=>{let k=!0;typeof f.props=="function"?k=f.props(V({ownerState:r},o,r)):Object.keys(f.props).forEach(v=>{(r==null?void 0:r[v])!==f.props[v]&&o[v]!==f.props[v]&&(k=!1)}),k&&(Array.isArray(m)||(m=[m]),m.push(typeof f.style=="function"?f.style(V({ownerState:r},o,r)):f.style))}),m}return s}function pye(e={}){const{themeId:t,defaultTheme:r=uye,rootShouldForwardProp:o=px,slotShouldForwardProp:s=px}=e,c=d=>Cp(V({},d,{theme:Rv(V({},d,{defaultTheme:r,themeId:t}))}));return c.__mui_systemSx=!0,(d,m={})=>{FW(d,$=>$.filter(U=>!(U!=null&&U.__mui_systemSx)));const{name:f,slot:k,skipVariantsResolver:v,skipSx:_,overridesResolver:y=hye(dye(k))}=m,A=ke(m,aye),D=v!==void 0?v:k&&k!=="Root"&&k!=="root"||!1,S=_||!1;let I,T=px;k==="Root"||k==="root"?T=o:k?T=s:cye(d)&&(T=void 0);const P=wT(d,V({shouldForwardProp:T,label:I},A)),N=$=>typeof $=="function"&&$.__emotion_real!==$||Ta($)?U=>y0($,V({},U,{theme:Rv({theme:U.theme,defaultTheme:r,themeId:t})})):$,j=($,...U)=>{let R=N($);const z=U?U.map(N):[];f&&y&&z.push(Y=>{const Z=Rv(V({},Y,{defaultTheme:r,themeId:t}));if(!Z.components||!Z.components[f]||!Z.components[f].styleOverrides)return null;const Q=Z.components[f].styleOverrides,J={};return Object.entries(Q).forEach(([te,ee])=>{J[te]=y0(ee,V({},Y,{theme:Z}))}),y(Y,J)}),f&&!D&&z.push(Y=>{var Z;const Q=Rv(V({},Y,{defaultTheme:r,themeId:t})),J=Q==null||(Z=Q.components)==null||(Z=Z[f])==null?void 0:Z.variants;return y0({variants:J},V({},Y,{theme:Q}))}),S||z.push(c);const W=z.length-U.length;if(Array.isArray($)&&W>0){const Y=new Array(W).fill("");R=[...$,...Y],R.raw=[...$.raw,...Y]}const q=P(R,...z);return d.muiName&&(q.muiName=d.muiName),q};return P.withConfig&&(j.withConfig=P.withConfig),j}}const JW=pye();function wg(e,t){const r=V({},t);return Object.keys(e).forEach(o=>{if(o.toString().match(/^(components|slots)$/))r[o]=V({},e[o],r[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const s=e[o]||{},c=t[o];r[o]={},!c||!Object.keys(c)?r[o]=s:!s||!Object.keys(s)?r[o]=c:(r[o]=V({},c),Object.keys(s).forEach(d=>{r[o][d]=wg(s[d],c[d])}))}else r[o]===void 0&&(r[o]=e[o])}),r}function XW(e){const{theme:t,name:r,props:o}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?o:wg(t.components[r].defaultProps,o)}function eq({props:e,name:t,defaultTheme:r,themeId:o}){let s=C_(r);return o&&(s=s[o]||s),XW({theme:s,name:t,props:e})}const ui=typeof window<"u"?B.useLayoutEffect:B.useEffect;function fye(e,t,r,o,s){const[c,d]=B.useState(()=>s&&r?r(e).matches:o?o(e).matches:t);return ui(()=>{let m=!0;if(!r)return;const f=r(e),k=()=>{m&&d(f.matches)};return k(),f.addListener(k),()=>{m=!1,f.removeListener(k)}},[e,r]),c}const tq=B.useSyncExternalStore;function mye(e,t,r,o,s){const c=B.useCallback(()=>t,[t]),d=B.useMemo(()=>{if(s&&r)return()=>r(e).matches;if(o!==null){const{matches:v}=o(e);return()=>v}return c},[c,e,o,s,r]),[m,f]=B.useMemo(()=>{if(r===null)return[c,()=>()=>{}];const v=r(e);return[()=>v.matches,_=>(v.addListener(_),()=>{v.removeListener(_)})]},[c,r,e]);return tq(f,m,d)}function fx(e,t={}){const r=ET(),o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:s=!1,matchMedia:c=o?window.matchMedia:null,ssrMatchMedia:d=null,noSsr:m=!1}=XW({name:"MuiUseMediaQuery",props:t,theme:r});let f=typeof e=="function"?e(r):e;return f=f.replace(/^@media( ?)/m,""),(tq!==void 0?mye:fye)(f,s,c,d,m)}function gye(e,t=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,r))}const bye=Object.freeze(Object.defineProperty({__proto__:null,default:gye},Symbol.toStringTag,{value:"Module"}));function vS(...e){return e.reduce((t,r)=>r==null?t:function(...s){t.apply(this,s),r.apply(this,s)},()=>{})}function IT(e,t=166){let r;function o(...s){const c=()=>{e.apply(this,s)};clearTimeout(r),r=setTimeout(c,t)}return o.clear=()=>{clearTimeout(r)},o}function kye(e,t){return()=>null}function xm(e,t){var r,o;return B.isValidElement(e)&&t.indexOf((r=e.type.muiName)!=null?r:(o=e.type)==null||(o=o._payload)==null||(o=o.value)==null?void 0:o.muiName)!==-1}function _r(e){return e&&e.ownerDocument||document}function nc(e){return _r(e).defaultView||window}function vye(e,t){return()=>null}function Mw(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let Vz=0;function wye(e){const[t,r]=B.useState(e),o=e||t;return B.useEffect(()=>{t==null&&(Vz+=1,r(`mui-${Vz}`))},[t]),o}const Uz=Nm.useId;function vb(e){if(Uz!==void 0){const t=Uz();return e??t}return wye(e)}function yye(e,t,r,o,s){return null}function Gh({controlled:e,default:t,name:r,state:o="value"}){const{current:s}=B.useRef(e!==void 0),[c,d]=B.useState(t),m=s?e:c,f=B.useCallback(k=>{s||d(k)},[]);return[m,f]}function Ri(e){const t=B.useRef(e);return ui(()=>{t.current=e}),B.useRef((...r)=>(0,t.current)(...r)).current}function Tn(...e){return B.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{Mw(r,t)})},e)}const Hz={};function _ye(e,t){const r=B.useRef(Hz);return r.current===Hz&&(r.current=e(t)),r}const Cye=[];function Aye(e){B.useEffect(e,Cye)}class wb{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new wb}start(t,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},t)}}function Rl(){const e=_ye(wb.create).current;return Aye(e.disposeEffect),e}let R_=!0,wS=!1;const xye=new wb,Eye={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Sye(e){const{type:t,tagName:r}=e;return!!(r==="INPUT"&&Eye[t]&&!e.readOnly||r==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function Dye(e){e.metaKey||e.altKey||e.ctrlKey||(R_=!0)}function mx(){R_=!1}function Tye(){this.visibilityState==="hidden"&&wS&&(R_=!0)}function Iye(e){e.addEventListener("keydown",Dye,!0),e.addEventListener("mousedown",mx,!0),e.addEventListener("pointerdown",mx,!0),e.addEventListener("touchstart",mx,!0),e.addEventListener("visibilitychange",Tye,!0)}function Mye(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return R_||Sye(t)}function O_(){const e=B.useCallback(s=>{s!=null&&Iye(s.ownerDocument)},[]),t=B.useRef(!1);function r(){return t.current?(wS=!0,xye.start(100,()=>{wS=!1}),t.current=!1,!0):!1}function o(s){return Mye(s)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:o,onBlur:r,ref:e}}function nq(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function Ue(e,t,r=void 0){const o={};return Object.keys(e).forEach(s=>{o[s]=e[s].reduce((c,d)=>{if(d){const m=t(d);m!==""&&c.push(m),r&&r[d]&&c.push(r[d])}return c},[]).join(" ")}),o}function Kh(e){return typeof e=="string"}function sh(e,t,r){return e===void 0||Kh(e)?t:V({},t,{ownerState:V({},t.ownerState,r)})}function Pw(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(o=>o.match(/^on[A-Z]/)&&typeof e[o]=="function"&&!t.includes(o)).forEach(o=>{r[o]=e[o]}),r}function Wz(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function rq(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:o,externalForwardedProps:s,className:c}=e;if(!t){const A=pe(r==null?void 0:r.className,c,s==null?void 0:s.className,o==null?void 0:o.className),D=V({},r==null?void 0:r.style,s==null?void 0:s.style,o==null?void 0:o.style),S=V({},r,s,o);return A.length>0&&(S.className=A),Object.keys(D).length>0&&(S.style=D),{props:S,internalRef:void 0}}const d=Pw(V({},s,o)),m=Wz(o),f=Wz(s),k=t(d),v=pe(k==null?void 0:k.className,r==null?void 0:r.className,c,s==null?void 0:s.className,o==null?void 0:o.className),_=V({},k==null?void 0:k.style,r==null?void 0:r.style,s==null?void 0:s.style,o==null?void 0:o.style),y=V({},k,r,f,m);return v.length>0&&(y.className=v),Object.keys(_).length>0&&(y.style=_),{props:y,internalRef:k.ref}}function oq(e,t,r){return typeof e=="function"?e(t,r):e}const Pye=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function rc(e){var t;const{elementType:r,externalSlotProps:o,ownerState:s,skipResolvingSlotProps:c=!1}=e,d=ke(e,Pye),m=c?{}:oq(o,s),{props:f,internalRef:k}=rq(V({},d,{externalSlotProps:m})),v=Tn(k,m==null?void 0:m.ref,(t=e.additionalProps)==null?void 0:t.ref);return sh(r,V({},f,{ref:v}),s)}function qu(e){if(parseInt(B.version,10)>=19){var t;return(e==null||(t=e.props)==null?void 0:t.ref)||null}return(e==null?void 0:e.ref)||null}const iq=B.createContext(null);function sq(){return B.useContext(iq)}const Nye=typeof Symbol=="function"&&Symbol.for,Rye=Nye?Symbol.for("mui.nested"):"__THEME_NESTED__";function Oye(e,t){return typeof t=="function"?t(e):V({},e,t)}function Bye(e){const{children:t,theme:r}=e,o=sq(),s=B.useMemo(()=>{const c=o===null?r:Oye(o,r);return c!=null&&(c[Rye]=o!==null),c},[r,o]);return x.jsx(iq.Provider,{value:s,children:t})}const Lye=["value"],aq=B.createContext();function jye(e){let{value:t}=e,r=ke(e,Lye);return x.jsx(aq.Provider,V({value:t??!0},r))}const lq=()=>{const e=B.useContext(aq);return e??!1},cq=B.createContext(void 0);function Fye({value:e,children:t}){return x.jsx(cq.Provider,{value:e,children:t})}function zye(e){const{theme:t,name:r,props:o}=e;if(!t||!t.components||!t.components[r])return o;const s=t.components[r];return s.defaultProps?wg(s.defaultProps,o):!s.styleOverrides&&!s.variants?wg(s,o):o}function $ye({props:e,name:t}){const r=B.useContext(cq);return zye({props:e,name:t,theme:{components:r}})}const qz={};function Gz(e,t,r,o=!1){return B.useMemo(()=>{const s=e&&t[e]||t;if(typeof r=="function"){const c=r(s),d=e?V({},t,{[e]:c}):c;return o?()=>d:d}return e?V({},t,{[e]:r}):V({},t,r)},[e,t,r,o])}function Vye(e){const{children:t,theme:r,themeId:o}=e,s=ET(qz),c=sq()||qz,d=Gz(o,s,r),m=Gz(o,c,r,!0),f=d.direction==="rtl";return x.jsx(Bye,{theme:m,children:x.jsx(mb.Provider,{value:d,children:x.jsx(jye,{value:f,children:x.jsx(Fye,{value:d==null?void 0:d.components,children:t})})})})}const Uye=["className","component","disableGutters","fixed","maxWidth","classes"],Hye=Ap(),Wye=JW("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${ue(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),qye=e=>eq({props:e,name:"MuiContainer",defaultTheme:Hye}),Gye=(e,t)=>{const r=f=>$e(t,f),{classes:o,fixed:s,disableGutters:c,maxWidth:d}=e,m={root:["root",d&&`maxWidth${ue(String(d))}`,s&&"fixed",c&&"disableGutters"]};return Ue(m,r,o)};function Kye(e={}){const{createStyledComponent:t=Wye,useThemeProps:r=qye,componentName:o="MuiContainer"}=e,s=t(({theme:d,ownerState:m})=>V({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!m.disableGutters&&{paddingLeft:d.spacing(2),paddingRight:d.spacing(2),[d.breakpoints.up("sm")]:{paddingLeft:d.spacing(3),paddingRight:d.spacing(3)}}),({theme:d,ownerState:m})=>m.fixed&&Object.keys(d.breakpoints.values).reduce((f,k)=>{const v=k,_=d.breakpoints.values[v];return _!==0&&(f[d.breakpoints.up(v)]={maxWidth:`${_}${d.breakpoints.unit}`}),f},{}),({theme:d,ownerState:m})=>V({},m.maxWidth==="xs"&&{[d.breakpoints.up("xs")]:{maxWidth:Math.max(d.breakpoints.values.xs,444)}},m.maxWidth&&m.maxWidth!=="xs"&&{[d.breakpoints.up(m.maxWidth)]:{maxWidth:`${d.breakpoints.values[m.maxWidth]}${d.breakpoints.unit}`}}));return B.forwardRef(function(m,f){const k=r(m),{className:v,component:_="div",disableGutters:y=!1,fixed:A=!1,maxWidth:D="lg"}=k,S=ke(k,Uye),I=V({},k,{component:_,disableGutters:y,fixed:A,maxWidth:D}),T=Gye(I,o);return x.jsx(s,V({as:_,ownerState:I,className:pe(T.root,v),ref:f},S))})}const Yye=["component","direction","spacing","divider","children","className","useFlexGap"],Qye=Ap(),Zye=JW("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function Jye(e){return eq({props:e,name:"MuiStack",defaultTheme:Qye})}function Xye(e,t){const r=B.Children.toArray(e).filter(Boolean);return r.reduce((o,s,c)=>(o.push(s),c<r.length-1&&o.push(B.cloneElement(t,{key:`separator-${c}`})),o),[])}const e_e=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],t_e=({ownerState:e,theme:t})=>{let r=V({display:"flex",flexDirection:"column"},Ho({theme:t},pu({values:e.direction,breakpoints:t.breakpoints.values}),o=>({flexDirection:o})));if(e.spacing){const o=AT(t),s=Object.keys(t.breakpoints.values).reduce((f,k)=>((typeof e.spacing=="object"&&e.spacing[k]!=null||typeof e.direction=="object"&&e.direction[k]!=null)&&(f[k]=!0),f),{}),c=pu({values:e.direction,base:s}),d=pu({values:e.spacing,base:s});typeof c=="object"&&Object.keys(c).forEach((f,k,v)=>{if(!c[f]){const y=k>0?c[v[k-1]]:"column";c[f]=y}}),r=_o(r,Ho({theme:t},d,(f,k)=>e.useFlexGap?{gap:Pu(o,f)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${e_e(k?c[k]:e.direction)}`]:Pu(o,f)}}))}return r=ewe(t.breakpoints,r),r};function n_e(e={}){const{createStyledComponent:t=Zye,useThemeProps:r=Jye,componentName:o="MuiStack"}=e,s=()=>Ue({root:["root"]},f=>$e(o,f),{}),c=t(t_e);return B.forwardRef(function(f,k){const v=r(f),_=kb(v),{component:y="div",direction:A="column",spacing:D=0,divider:S,children:I,className:T,useFlexGap:P=!1}=_,N=ke(_,Yye),j={direction:A,spacing:D,useFlexGap:P},$=s();return x.jsx(c,V({as:y,ownerState:j,ref:k,className:pe($.root,T)},N,{children:S?Xye(I,S):I}))})}function r_e(e,t){return V({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var lr={},uq={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(uq);var qr=uq.exports;const o_e=aa(zve),i_e=aa(bye);var dq=qr;Object.defineProperty(lr,"__esModule",{value:!0});var Tt=lr.alpha=mq;lr.blend=b_e;lr.colorChannel=void 0;var yg=lr.darken=PT;lr.decomposeColor=zi;var s_e=lr.emphasize=gq,a_e=lr.getContrastRatio=h_e;lr.getLuminance=Nw;lr.hexToRgb=hq;lr.hslToRgb=fq;var _g=lr.lighten=NT;lr.private_safeAlpha=p_e;lr.private_safeColorChannel=void 0;lr.private_safeDarken=f_e;lr.private_safeEmphasize=g_e;lr.private_safeLighten=m_e;lr.recomposeColor=xp;lr.rgbToHex=d_e;var Kz=dq(o_e),l_e=dq(i_e);function MT(e,t=0,r=1){return(0,l_e.default)(e,t,r)}function hq(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(o=>o+o)),r?`rgb${r.length===4?"a":""}(${r.map((o,s)=>s<3?parseInt(o,16):Math.round(parseInt(o,16)/255*1e3)/1e3).join(", ")})`:""}function c_e(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function zi(e){if(e.type)return e;if(e.charAt(0)==="#")return zi(hq(e));const t=e.indexOf("("),r=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error((0,Kz.default)(9,e));let o=e.substring(t+1,e.length-1),s;if(r==="color"){if(o=o.split(" "),s=o.shift(),o.length===4&&o[3].charAt(0)==="/"&&(o[3]=o[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error((0,Kz.default)(10,s))}else o=o.split(",");return o=o.map(c=>parseFloat(c)),{type:r,values:o,colorSpace:s}}const pq=e=>{const t=zi(e);return t.values.slice(0,3).map((r,o)=>t.type.indexOf("hsl")!==-1&&o!==0?`${r}%`:r).join(" ")};lr.colorChannel=pq;const u_e=(e,t)=>{try{return pq(e)}catch{return e}};lr.private_safeColorChannel=u_e;function xp(e){const{type:t,colorSpace:r}=e;let{values:o}=e;return t.indexOf("rgb")!==-1?o=o.map((s,c)=>c<3?parseInt(s,10):s):t.indexOf("hsl")!==-1&&(o[1]=`${o[1]}%`,o[2]=`${o[2]}%`),t.indexOf("color")!==-1?o=`${r} ${o.join(" ")}`:o=`${o.join(", ")}`,`${t}(${o})`}function d_e(e){if(e.indexOf("#")===0)return e;const{values:t}=zi(e);return`#${t.map((r,o)=>c_e(o===3?Math.round(255*r):r)).join("")}`}function fq(e){e=zi(e);const{values:t}=e,r=t[0],o=t[1]/100,s=t[2]/100,c=o*Math.min(s,1-s),d=(k,v=(k+r/30)%12)=>s-c*Math.max(Math.min(v-3,9-v,1),-1);let m="rgb";const f=[Math.round(d(0)*255),Math.round(d(8)*255),Math.round(d(4)*255)];return e.type==="hsla"&&(m+="a",f.push(t[3])),xp({type:m,values:f})}function Nw(e){e=zi(e);let t=e.type==="hsl"||e.type==="hsla"?zi(fq(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function h_e(e,t){const r=Nw(e),o=Nw(t);return(Math.max(r,o)+.05)/(Math.min(r,o)+.05)}function mq(e,t){return e=zi(e),t=MT(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,xp(e)}function p_e(e,t,r){try{return mq(e,t)}catch{return e}}function PT(e,t){if(e=zi(e),t=MT(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]*=1-t;return xp(e)}function f_e(e,t,r){try{return PT(e,t)}catch{return e}}function NT(e,t){if(e=zi(e),t=MT(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return xp(e)}function m_e(e,t,r){try{return NT(e,t)}catch{return e}}function gq(e,t=.15){return Nw(e)>.5?PT(e,t):NT(e,t)}function g_e(e,t,r){try{return gq(e,t)}catch{return e}}function b_e(e,t,r,o=1){const s=(f,k)=>Math.round((f**(1/o)*(1-r)+k**(1/o)*r)**o),c=zi(e),d=zi(t),m=[s(c.values[0],d.values[0]),s(c.values[1],d.values[1]),s(c.values[2],d.values[2])];return xp({type:"rgb",values:m})}const k_e=["mode","contrastThreshold","tonalOffset"],Yz={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:gg.white,default:gg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},gx={text:{primary:gg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:gg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Qz(e,t,r,o){const s=o.light||o,c=o.dark||o*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=_g(e.main,s):t==="dark"&&(e.dark=yg(e.main,c)))}function v_e(e="light"){return e==="dark"?{main:Ld[200],light:Ld[50],dark:Ld[400]}:{main:Ld[700],light:Ld[400],dark:Ld[800]}}function w_e(e="light"){return e==="dark"?{main:Bd[200],light:Bd[50],dark:Bd[400]}:{main:Bd[500],light:Bd[300],dark:Bd[700]}}function y_e(e="light"){return e==="dark"?{main:Od[500],light:Od[300],dark:Od[700]}:{main:Od[700],light:Od[400],dark:Od[800]}}function __e(e="light"){return e==="dark"?{main:jd[400],light:jd[300],dark:jd[700]}:{main:jd[700],light:jd[500],dark:jd[900]}}function C_e(e="light"){return e==="dark"?{main:Fd[400],light:Fd[300],dark:Fd[700]}:{main:Fd[800],light:Fd[500],dark:Fd[900]}}function A_e(e="light"){return e==="dark"?{main:Mf[400],light:Mf[300],dark:Mf[700]}:{main:"#ed6c02",light:Mf[500],dark:Mf[900]}}function x_e(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:o=.2}=e,s=ke(e,k_e),c=e.primary||v_e(t),d=e.secondary||w_e(t),m=e.error||y_e(t),f=e.info||__e(t),k=e.success||C_e(t),v=e.warning||A_e(t);function _(S){return a_e(S,gx.text.primary)>=r?gx.text.primary:Yz.text.primary}const y=({color:S,name:I,mainShade:T=500,lightShade:P=300,darkShade:N=700})=>{if(S=V({},S),!S.main&&S[T]&&(S.main=S[T]),!S.hasOwnProperty("main"))throw new Error(Mu(11,I?` (${I})`:"",T));if(typeof S.main!="string")throw new Error(Mu(12,I?` (${I})`:"",JSON.stringify(S.main)));return Qz(S,"light",P,o),Qz(S,"dark",N,o),S.contrastText||(S.contrastText=_(S.main)),S},A={dark:gx,light:Yz};return _o(V({common:V({},gg),mode:t,primary:y({color:c,name:"primary"}),secondary:y({color:d,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:m,name:"error"}),warning:y({color:v,name:"warning"}),info:y({color:f,name:"info"}),success:y({color:k,name:"success"}),grey:Fve,contrastThreshold:r,getContrastText:_,augmentColor:y,tonalOffset:o},A[t]),s)}const E_e=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function S_e(e){return Math.round(e*1e5)/1e5}const Zz={textTransform:"uppercase"},Jz='"Roboto", "Helvetica", "Arial", sans-serif';function D_e(e,t){const r=typeof t=="function"?t(e):t,{fontFamily:o=Jz,fontSize:s=14,fontWeightLight:c=300,fontWeightRegular:d=400,fontWeightMedium:m=500,fontWeightBold:f=700,htmlFontSize:k=16,allVariants:v,pxToRem:_}=r,y=ke(r,E_e),A=s/14,D=_||(T=>`${T/k*A}rem`),S=(T,P,N,j,$)=>V({fontFamily:o,fontWeight:T,fontSize:D(P),lineHeight:N},o===Jz?{letterSpacing:`${S_e(j/P)}em`}:{},$,v),I={h1:S(c,96,1.167,-1.5),h2:S(c,60,1.2,-.5),h3:S(d,48,1.167,0),h4:S(d,34,1.235,.25),h5:S(d,24,1.334,0),h6:S(m,20,1.6,.15),subtitle1:S(d,16,1.75,.15),subtitle2:S(m,14,1.57,.1),body1:S(d,16,1.5,.15),body2:S(d,14,1.43,.15),button:S(m,14,1.75,.4,Zz),caption:S(d,12,1.66,.4),overline:S(d,12,2.66,1,Zz),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return _o(V({htmlFontSize:k,pxToRem:D,fontFamily:o,fontSize:s,fontWeightLight:c,fontWeightRegular:d,fontWeightMedium:m,fontWeightBold:f},I),y,{clone:!1})}const T_e=.2,I_e=.14,M_e=.12;function In(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${T_e})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${I_e})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${M_e})`].join(",")}const P_e=["none",In(0,2,1,-1,0,1,1,0,0,1,3,0),In(0,3,1,-2,0,2,2,0,0,1,5,0),In(0,3,3,-2,0,3,4,0,0,1,8,0),In(0,2,4,-1,0,4,5,0,0,1,10,0),In(0,3,5,-1,0,5,8,0,0,1,14,0),In(0,3,5,-1,0,6,10,0,0,1,18,0),In(0,4,5,-2,0,7,10,1,0,2,16,1),In(0,5,5,-3,0,8,10,1,0,3,14,2),In(0,5,6,-3,0,9,12,1,0,3,16,2),In(0,6,6,-3,0,10,14,1,0,4,18,3),In(0,6,7,-4,0,11,15,1,0,4,20,3),In(0,7,8,-4,0,12,17,2,0,5,22,4),In(0,7,8,-4,0,13,19,2,0,5,24,4),In(0,7,9,-4,0,14,21,2,0,5,26,4),In(0,8,9,-5,0,15,22,2,0,6,28,5),In(0,8,10,-5,0,16,24,2,0,6,30,5),In(0,8,11,-5,0,17,26,2,0,6,32,5),In(0,9,11,-5,0,18,28,2,0,7,34,6),In(0,9,12,-6,0,19,29,2,0,7,36,6),In(0,10,13,-6,0,20,31,3,0,8,38,7),In(0,10,13,-6,0,21,33,3,0,8,40,7),In(0,10,14,-6,0,22,35,3,0,8,42,7),In(0,11,14,-7,0,23,36,3,0,9,44,8),In(0,11,15,-7,0,24,38,3,0,9,46,8)],N_e=["duration","easing","delay"],R_e={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},bq={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Xz(e){return`${Math.round(e)}ms`}function O_e(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function B_e(e){const t=V({},R_e,e.easing),r=V({},bq,e.duration);return V({getAutoHeightDuration:O_e,create:(s=["all"],c={})=>{const{duration:d=r.standard,easing:m=t.easeInOut,delay:f=0}=c;return ke(c,N_e),(Array.isArray(s)?s:[s]).map(k=>`${k} ${typeof d=="string"?d:Xz(d)} ${m} ${typeof f=="string"?f:Xz(f)}`).join(",")}},e,{easing:t,duration:r})}const L_e={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},j_e=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function RT(e={},...t){const{mixins:r={},palette:o={},transitions:s={},typography:c={}}=e,d=ke(e,j_e);if(e.vars)throw new Error(Mu(18));const m=x_e(o),f=Ap(e);let k=_o(f,{mixins:r_e(f.breakpoints,r),palette:m,shadows:P_e.slice(),typography:D_e(m,c),transitions:B_e(s),zIndex:V({},L_e)});return k=_o(k,d),k=t.reduce((v,_)=>_o(v,_),k),k.unstable_sxConfig=V({},bb,d==null?void 0:d.unstable_sxConfig),k.unstable_sx=function(_){return Cp({sx:_,theme:this})},k}const OT=RT();function mc(){const e=C_(OT);return e[Hh]||e}var yb={},bx={exports:{}},e6;function F_e(){return e6||(e6=1,function(e){function t(r,o){if(r==null)return{};var s={};for(var c in r)if({}.hasOwnProperty.call(r,c)){if(o.includes(c))continue;s[c]=r[c]}return s}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(bx)),bx.exports}const kq=aa(Y0e),z_e=aa(Q0e),$_e=aa(nwe),V_e=aa(oye),U_e=aa(Uwe),H_e=aa(Ywe);var Ep=qr;Object.defineProperty(yb,"__esModule",{value:!0});var W_e=yb.default=oCe;yb.shouldForwardProp=_0;yb.systemDefaultTheme=void 0;var Ai=Ep(BW()),yS=Ep(F_e()),t6=J_e(kq),q_e=z_e;Ep($_e);Ep(V_e);var G_e=Ep(U_e),K_e=Ep(H_e);const Y_e=["ownerState"],Q_e=["variants"],Z_e=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function vq(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(vq=function(o){return o?r:t})(e)}function J_e(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=vq(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if(c!=="default"&&Object.prototype.hasOwnProperty.call(e,c)){var d=s?Object.getOwnPropertyDescriptor(e,c):null;d&&(d.get||d.set)?Object.defineProperty(o,c,d):o[c]=e[c]}return o.default=e,r&&r.set(e,o),o}function X_e(e){return Object.keys(e).length===0}function eCe(e){return typeof e=="string"&&e.charCodeAt(0)>96}function _0(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const tCe=yb.systemDefaultTheme=(0,G_e.default)(),nCe=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function Ov({defaultTheme:e,theme:t,themeId:r}){return X_e(t)?e:t[r]||t}function rCe(e){return e?(t,r)=>r[e]:null}function C0(e,t){let{ownerState:r}=t,o=(0,yS.default)(t,Y_e);const s=typeof e=="function"?e((0,Ai.default)({ownerState:r},o)):e;if(Array.isArray(s))return s.flatMap(c=>C0(c,(0,Ai.default)({ownerState:r},o)));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:c=[]}=s;let m=(0,yS.default)(s,Q_e);return c.forEach(f=>{let k=!0;typeof f.props=="function"?k=f.props((0,Ai.default)({ownerState:r},o,r)):Object.keys(f.props).forEach(v=>{(r==null?void 0:r[v])!==f.props[v]&&o[v]!==f.props[v]&&(k=!1)}),k&&(Array.isArray(m)||(m=[m]),m.push(typeof f.style=="function"?f.style((0,Ai.default)({ownerState:r},o,r)):f.style))}),m}return s}function oCe(e={}){const{themeId:t,defaultTheme:r=tCe,rootShouldForwardProp:o=_0,slotShouldForwardProp:s=_0}=e,c=d=>(0,K_e.default)((0,Ai.default)({},d,{theme:Ov((0,Ai.default)({},d,{defaultTheme:r,themeId:t}))}));return c.__mui_systemSx=!0,(d,m={})=>{(0,t6.internal_processStyles)(d,$=>$.filter(U=>!(U!=null&&U.__mui_systemSx)));const{name:f,slot:k,skipVariantsResolver:v,skipSx:_,overridesResolver:y=rCe(nCe(k))}=m,A=(0,yS.default)(m,Z_e),D=v!==void 0?v:k&&k!=="Root"&&k!=="root"||!1,S=_||!1;let I,T=_0;k==="Root"||k==="root"?T=o:k?T=s:eCe(d)&&(T=void 0);const P=(0,t6.default)(d,(0,Ai.default)({shouldForwardProp:T,label:I},A)),N=$=>typeof $=="function"&&$.__emotion_real!==$||(0,q_e.isPlainObject)($)?U=>C0($,(0,Ai.default)({},U,{theme:Ov({theme:U.theme,defaultTheme:r,themeId:t})})):$,j=($,...U)=>{let R=N($);const z=U?U.map(N):[];f&&y&&z.push(Y=>{const Z=Ov((0,Ai.default)({},Y,{defaultTheme:r,themeId:t}));if(!Z.components||!Z.components[f]||!Z.components[f].styleOverrides)return null;const Q=Z.components[f].styleOverrides,J={};return Object.entries(Q).forEach(([te,ee])=>{J[te]=C0(ee,(0,Ai.default)({},Y,{theme:Z}))}),y(Y,J)}),f&&!D&&z.push(Y=>{var Z;const Q=Ov((0,Ai.default)({},Y,{defaultTheme:r,themeId:t})),J=Q==null||(Z=Q.components)==null||(Z=Z[f])==null?void 0:Z.variants;return C0({variants:J},(0,Ai.default)({},Y,{theme:Q}))}),S||z.push(c);const W=z.length-U.length;if(Array.isArray($)&&W>0){const Y=new Array(W).fill("");R=[...$,...Y],R.raw=[...$.raw,...Y]}const q=P(R,...z);return d.muiName&&(q.muiName=d.muiName),q};return P.withConfig&&(j.withConfig=P.withConfig),j}}function wq(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Wo=e=>wq(e)&&e!=="classes",he=W_e({themeId:Hh,defaultTheme:OT,rootShouldForwardProp:Wo}),iCe=["theme"];function sCe(e){let{theme:t}=e,r=ke(e,iCe);const o=t[Hh];return x.jsx(Vye,V({},r,{themeId:o?Hh:void 0,theme:o||t}))}const n6=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function He(e){return $ye(e)}function aCe(e){return $e("MuiSvgIcon",e)}Ve("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const lCe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],cCe=e=>{const{color:t,fontSize:r,classes:o}=e,s={root:["root",t!=="inherit"&&`color${ue(t)}`,`fontSize${ue(r)}`]};return Ue(s,aCe,o)},uCe=he("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${ue(r.color)}`],t[`fontSize${ue(r.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var r,o,s,c,d,m,f,k,v,_,y,A,D;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(r=e.transitions)==null||(o=r.create)==null?void 0:o.call(r,"fill",{duration:(s=e.transitions)==null||(s=s.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((c=e.typography)==null||(d=c.pxToRem)==null?void 0:d.call(c,20))||"1.25rem",medium:((m=e.typography)==null||(f=m.pxToRem)==null?void 0:f.call(m,24))||"1.5rem",large:((k=e.typography)==null||(v=k.pxToRem)==null?void 0:v.call(k,35))||"2.1875rem"}[t.fontSize],color:(_=(y=(e.vars||e).palette)==null||(y=y[t.color])==null?void 0:y.main)!=null?_:{action:(A=(e.vars||e).palette)==null||(A=A.action)==null?void 0:A.active,disabled:(D=(e.vars||e).palette)==null||(D=D.action)==null?void 0:D.disabled,inherit:void 0}[t.color]}}),_S=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiSvgIcon"}),{children:s,className:c,color:d="inherit",component:m="svg",fontSize:f="medium",htmlColor:k,inheritViewBox:v=!1,titleAccess:_,viewBox:y="0 0 24 24"}=o,A=ke(o,lCe),D=B.isValidElement(s)&&s.type==="svg",S=V({},o,{color:d,component:m,fontSize:f,instanceFontSize:t.fontSize,inheritViewBox:v,viewBox:y,hasSvgAsChild:D}),I={};v||(I.viewBox=y);const T=cCe(S);return x.jsxs(uCe,V({as:m,className:pe(T.root,c),focusable:"false",color:k,"aria-hidden":_?void 0:!0,role:_?"img":void 0,ref:r},I,A,D&&s.props,{ownerState:S,children:[D?s.props.children:s,_?x.jsx("title",{children:_}):null]}))});_S.muiName="SvgIcon";function gc(e,t){function r(o,s){return x.jsx(_S,V({"data-testid":`${t}Icon`,ref:s},o,{children:e}))}return r.muiName=_S.muiName,B.memo(B.forwardRef(r))}const dCe={configure:e=>{ST.configure(e)}},hCe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:ue,createChainedFunction:vS,createSvgIcon:gc,debounce:IT,deprecatedPropType:kye,isMuiElement:xm,ownerDocument:_r,ownerWindow:nc,requirePropFactory:vye,setRef:Mw,unstable_ClassNameGenerator:dCe,unstable_useEnhancedEffect:ui,unstable_useId:vb,unsupportedProp:yye,useControlled:Gh,useEventCallback:Ri,useForkRef:Tn,useIsFocusVisible:O_},Symbol.toStringTag,{value:"Module"}));function CS(e,t){return CS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},CS(e,t)}function yq(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,CS(e,t)}const r6={disabled:!1},Rw=ae.createContext(null);var pCe=function(t){return t.scrollTop},rm="unmounted",Yc="exited",Qc="entering",Hd="entered",AS="exiting",fs=function(e){yq(t,e);function t(o,s){var c;c=e.call(this,o,s)||this;var d=s,m=d&&!d.isMounting?o.enter:o.appear,f;return c.appearStatus=null,o.in?m?(f=Yc,c.appearStatus=Qc):f=Hd:o.unmountOnExit||o.mountOnEnter?f=rm:f=Yc,c.state={status:f},c.nextCallback=null,c}t.getDerivedStateFromProps=function(s,c){var d=s.in;return d&&c.status===rm?{status:Yc}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(s){var c=null;if(s!==this.props){var d=this.state.status;this.props.in?d!==Qc&&d!==Hd&&(c=Qc):(d===Qc||d===Hd)&&(c=AS)}this.updateStatus(!1,c)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var s=this.props.timeout,c,d,m;return c=d=m=s,s!=null&&typeof s!="number"&&(c=s.exit,d=s.enter,m=s.appear!==void 0?s.appear:d),{exit:c,enter:d,appear:m}},r.updateStatus=function(s,c){if(s===void 0&&(s=!1),c!==null)if(this.cancelNextCallback(),c===Qc){if(this.props.unmountOnExit||this.props.mountOnEnter){var d=this.props.nodeRef?this.props.nodeRef.current:Zf.findDOMNode(this);d&&pCe(d)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Yc&&this.setState({status:rm})},r.performEnter=function(s){var c=this,d=this.props.enter,m=this.context?this.context.isMounting:s,f=this.props.nodeRef?[m]:[Zf.findDOMNode(this),m],k=f[0],v=f[1],_=this.getTimeouts(),y=m?_.appear:_.enter;if(!s&&!d||r6.disabled){this.safeSetState({status:Hd},function(){c.props.onEntered(k)});return}this.props.onEnter(k,v),this.safeSetState({status:Qc},function(){c.props.onEntering(k,v),c.onTransitionEnd(y,function(){c.safeSetState({status:Hd},function(){c.props.onEntered(k,v)})})})},r.performExit=function(){var s=this,c=this.props.exit,d=this.getTimeouts(),m=this.props.nodeRef?void 0:Zf.findDOMNode(this);if(!c||r6.disabled){this.safeSetState({status:Yc},function(){s.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:AS},function(){s.props.onExiting(m),s.onTransitionEnd(d.exit,function(){s.safeSetState({status:Yc},function(){s.props.onExited(m)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(s,c){c=this.setNextCallback(c),this.setState(s,c)},r.setNextCallback=function(s){var c=this,d=!0;return this.nextCallback=function(m){d&&(d=!1,c.nextCallback=null,s(m))},this.nextCallback.cancel=function(){d=!1},this.nextCallback},r.onTransitionEnd=function(s,c){this.setNextCallback(c);var d=this.props.nodeRef?this.props.nodeRef.current:Zf.findDOMNode(this),m=s==null&&!this.props.addEndListener;if(!d||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[d,this.nextCallback],k=f[0],v=f[1];this.props.addEndListener(k,v)}s!=null&&setTimeout(this.nextCallback,s)},r.render=function(){var s=this.state.status;if(s===rm)return null;var c=this.props,d=c.children;c.in,c.mountOnEnter,c.unmountOnExit,c.appear,c.enter,c.exit,c.timeout,c.addEndListener,c.onEnter,c.onEntering,c.onEntered,c.onExit,c.onExiting,c.onExited,c.nodeRef;var m=ke(c,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ae.createElement(Rw.Provider,{value:null},typeof d=="function"?d(s,m):ae.cloneElement(ae.Children.only(d),m))},t}(ae.Component);fs.contextType=Rw;fs.propTypes={};function zd(){}fs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:zd,onEntering:zd,onEntered:zd,onExit:zd,onExiting:zd,onExited:zd};fs.UNMOUNTED=rm;fs.EXITED=Yc;fs.ENTERING=Qc;fs.ENTERED=Hd;fs.EXITING=AS;function fCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BT(e,t){var r=function(c){return t&&B.isValidElement(c)?t(c):c},o=Object.create(null);return e&&B.Children.map(e,function(s){return s}).forEach(function(s){o[s.key]=r(s)}),o}function mCe(e,t){e=e||{},t=t||{};function r(v){return v in t?t[v]:e[v]}var o=Object.create(null),s=[];for(var c in e)c in t?s.length&&(o[c]=s,s=[]):s.push(c);var d,m={};for(var f in t){if(o[f])for(d=0;d<o[f].length;d++){var k=o[f][d];m[o[f][d]]=r(k)}m[f]=r(f)}for(d=0;d<s.length;d++)m[s[d]]=r(s[d]);return m}function iu(e,t,r){return r[t]!=null?r[t]:e.props[t]}function gCe(e,t){return BT(e.children,function(r){return B.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:iu(r,"appear",e),enter:iu(r,"enter",e),exit:iu(r,"exit",e)})})}function bCe(e,t,r){var o=BT(e.children),s=mCe(t,o);return Object.keys(s).forEach(function(c){var d=s[c];if(B.isValidElement(d)){var m=c in t,f=c in o,k=t[c],v=B.isValidElement(k)&&!k.props.in;f&&(!m||v)?s[c]=B.cloneElement(d,{onExited:r.bind(null,d),in:!0,exit:iu(d,"exit",e),enter:iu(d,"enter",e)}):!f&&m&&!v?s[c]=B.cloneElement(d,{in:!1}):f&&m&&B.isValidElement(k)&&(s[c]=B.cloneElement(d,{onExited:r.bind(null,d),in:k.props.in,exit:iu(d,"exit",e),enter:iu(d,"enter",e)}))}}),s}var kCe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},vCe={component:"div",childFactory:function(t){return t}},LT=function(e){yq(t,e);function t(o,s){var c;c=e.call(this,o,s)||this;var d=c.handleExited.bind(fCe(c));return c.state={contextValue:{isMounting:!0},handleExited:d,firstRender:!0},c}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(s,c){var d=c.children,m=c.handleExited,f=c.firstRender;return{children:f?gCe(s,m):bCe(s,d,m),firstRender:!1}},r.handleExited=function(s,c){var d=BT(this.props.children);s.key in d||(s.props.onExited&&s.props.onExited(c),this.mounted&&this.setState(function(m){var f=V({},m.children);return delete f[s.key],{children:f}}))},r.render=function(){var s=this.props,c=s.component,d=s.childFactory,m=ke(s,["component","childFactory"]),f=this.state.contextValue,k=kCe(this.state.children).map(d);return delete m.appear,delete m.enter,delete m.exit,c===null?ae.createElement(Rw.Provider,{value:f},k):ae.createElement(Rw.Provider,{value:f},ae.createElement(c,m,k))},t}(ae.Component);LT.propTypes={};LT.defaultProps=vCe;const _q=e=>e.scrollTop;function Yh(e,t){var r,o;const{timeout:s,easing:c,style:d={}}=e;return{duration:(r=d.transitionDuration)!=null?r:typeof s=="number"?s:s[t.mode]||0,easing:(o=d.transitionTimingFunction)!=null?o:typeof c=="object"?c[t.mode]:c,delay:d.transitionDelay}}function wCe(e){return $e("MuiCollapse",e)}Ve("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const yCe=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],_Ce=e=>{const{orientation:t,classes:r}=e,o={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return Ue(o,wCe,r)},CCe=he("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.orientation],r.state==="entered"&&t.entered,r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>V({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&V({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),ACe=he("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>V({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),xCe=he("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>V({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),Cq=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiCollapse"}),{addEndListener:s,children:c,className:d,collapsedSize:m="0px",component:f,easing:k,in:v,onEnter:_,onEntered:y,onEntering:A,onExit:D,onExited:S,onExiting:I,orientation:T="vertical",style:P,timeout:N=bq.standard,TransitionComponent:j=fs}=o,$=ke(o,yCe),U=V({},o,{orientation:T,collapsedSize:m}),R=_Ce(U),z=mc(),W=Rl(),q=B.useRef(null),Y=B.useRef(),Z=typeof m=="number"?`${m}px`:m,Q=T==="horizontal",J=Q?"width":"height",te=B.useRef(null),ee=Tn(r,te),ne=me=>ot=>{if(me){const it=te.current;ot===void 0?me(it):me(it,ot)}},G=()=>q.current?q.current[Q?"clientWidth":"clientHeight"]:0,re=ne((me,ot)=>{q.current&&Q&&(q.current.style.position="absolute"),me.style[J]=Z,_&&_(me,ot)}),ie=ne((me,ot)=>{const it=G();q.current&&Q&&(q.current.style.position="");const{duration:ct,easing:At}=Yh({style:P,timeout:N,easing:k},{mode:"enter"});if(N==="auto"){const tt=z.transitions.getAutoHeightDuration(it);me.style.transitionDuration=`${tt}ms`,Y.current=tt}else me.style.transitionDuration=typeof ct=="string"?ct:`${ct}ms`;me.style[J]=`${it}px`,me.style.transitionTimingFunction=At,A&&A(me,ot)}),_e=ne((me,ot)=>{me.style[J]="auto",y&&y(me,ot)}),Te=ne(me=>{me.style[J]=`${G()}px`,D&&D(me)}),et=ne(S),Le=ne(me=>{const ot=G(),{duration:it,easing:ct}=Yh({style:P,timeout:N,easing:k},{mode:"exit"});if(N==="auto"){const At=z.transitions.getAutoHeightDuration(ot);me.style.transitionDuration=`${At}ms`,Y.current=At}else me.style.transitionDuration=typeof it=="string"?it:`${it}ms`;me.style[J]=Z,me.style.transitionTimingFunction=ct,I&&I(me)}),st=me=>{N==="auto"&&W.start(Y.current||0,me),s&&s(te.current,me)};return x.jsx(j,V({in:v,onEnter:re,onEntered:_e,onEntering:ie,onExit:Te,onExited:et,onExiting:Le,addEndListener:st,nodeRef:te,timeout:N==="auto"?null:N},$,{children:(me,ot)=>x.jsx(CCe,V({as:f,className:pe(R.root,d,{entered:R.entered,exited:!v&&Z==="0px"&&R.hidden}[me]),style:V({[Q?"minWidth":"minHeight"]:Z},P),ref:ee},ot,{ownerState:V({},U,{state:me}),children:x.jsx(ACe,{ownerState:V({},U,{state:me}),className:R.wrapper,ref:q,children:x.jsx(xCe,{ownerState:V({},U,{state:me}),className:R.wrapperInner,children:c})})}))}))});Cq.muiSupportAuto=!0;function ECe(e){return $e("MuiPaper",e)}Ve("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const SCe=["className","component","elevation","square","variant"],DCe=e=>{const{square:t,elevation:r,variant:o,classes:s}=e,c={root:["root",o,!t&&"rounded",o==="elevation"&&`elevation${r}`]};return Ue(c,ECe,s)},TCe=he("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(({theme:e,ownerState:t})=>{var r;return V({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&V({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Tt("#fff",n6(t.elevation))}, ${Tt("#fff",n6(t.elevation))})`},e.vars&&{backgroundImage:(r=e.vars.overlays)==null?void 0:r[t.elevation]}))}),co=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiPaper"}),{className:s,component:c="div",elevation:d=1,square:m=!1,variant:f="elevation"}=o,k=ke(o,SCe),v=V({},o,{component:c,elevation:d,square:m,variant:f}),_=DCe(v);return x.jsx(TCe,V({as:c,ownerState:v,className:pe(_.root,s),ref:r},k))}),Aq=B.createContext({}),ICe=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],MCe=["component","slots","slotProps"],PCe=["component"];function xS(e,t){const{className:r,elementType:o,ownerState:s,externalForwardedProps:c,getSlotOwnerState:d,internalForwardedProps:m}=t,f=ke(t,ICe),{component:k,slots:v={[e]:void 0},slotProps:_={[e]:void 0}}=c,y=ke(c,MCe),A=v[e]||o,D=oq(_[e],s),S=rq(V({className:r},f,{externalForwardedProps:e==="root"?y:void 0,externalSlotProps:D})),{props:{component:I},internalRef:T}=S,P=ke(S.props,PCe),N=Tn(T,D==null?void 0:D.ref,t.ref),j=d?d(P):{},$=V({},s,j),U=e==="root"?I||k:I,R=sh(A,V({},e==="root"&&!k&&!v[e]&&m,e!=="root"&&!v[e]&&m,P,U&&{as:U},{ref:N}),$);return Object.keys(j).forEach(z=>{delete R[z]}),[A,R]}function NCe(e){return $e("MuiAccordion",e)}const Bv=Ve("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),RCe=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],OCe=e=>{const{classes:t,square:r,expanded:o,disabled:s,disableGutters:c}=e;return Ue({root:["root",!r&&"rounded",o&&"expanded",s&&"disabled",!c&&"gutters"],region:["region"]},NCe,t)},BCe=he(co,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${Bv.region}`]:t.region},t.root,!r.square&&t.rounded,!r.disableGutters&&t.gutters]}})(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${Bv.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${Bv.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}},({theme:e})=>({variants:[{props:t=>!t.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:t=>!t.disableGutters,style:{[`&.${Bv.expanded}`]:{margin:"16px 0"}}}]})),o6=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiAccordion"}),{children:s,className:c,defaultExpanded:d=!1,disabled:m=!1,disableGutters:f=!1,expanded:k,onChange:v,square:_=!1,slots:y={},slotProps:A={},TransitionComponent:D,TransitionProps:S}=o,I=ke(o,RCe),[T,P]=Gh({controlled:k,default:d,name:"Accordion",state:"expanded"}),N=B.useCallback(Q=>{P(!T),v&&v(Q,!T)},[T,v,P]),[j,...$]=B.Children.toArray(s),U=B.useMemo(()=>({expanded:T,disabled:m,disableGutters:f,toggle:N}),[T,m,f,N]),R=V({},o,{square:_,disabled:m,disableGutters:f,expanded:T}),z=OCe(R),W=V({transition:D},y),q=V({transition:S},A),[Y,Z]=xS("transition",{elementType:Cq,externalForwardedProps:{slots:W,slotProps:q},ownerState:R});return x.jsxs(BCe,V({className:pe(z.root,c),ref:r,ownerState:R,square:_},I,{children:[x.jsx(Aq.Provider,{value:U,children:j}),x.jsx(Y,V({in:T,timeout:"auto"},Z,{children:x.jsx("div",{"aria-labelledby":j.props.id,id:j.props["aria-controls"],role:"region",className:z.region,children:$})}))]}))});function LCe(e){return $e("MuiAccordionDetails",e)}Ve("MuiAccordionDetails",["root"]);const jCe=["className"],FCe=e=>{const{classes:t}=e;return Ue({root:["root"]},LCe,t)},zCe=he("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({padding:e.spacing(1,2,2)})),i6=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiAccordionDetails"}),{className:s}=o,c=ke(o,jCe),d=o,m=FCe(d);return x.jsx(zCe,V({className:pe(m.root,s),ref:r,ownerState:d},c))});function $Ce(e){const{className:t,classes:r,pulsate:o=!1,rippleX:s,rippleY:c,rippleSize:d,in:m,onExited:f,timeout:k}=e,[v,_]=B.useState(!1),y=pe(t,r.ripple,r.rippleVisible,o&&r.ripplePulsate),A={width:d,height:d,top:-(d/2)+c,left:-(d/2)+s},D=pe(r.child,v&&r.childLeaving,o&&r.childPulsate);return!m&&!v&&_(!0),B.useEffect(()=>{if(!m&&f!=null){const S=setTimeout(f,k);return()=>{clearTimeout(S)}}},[f,m,k]),x.jsx("span",{className:y,style:A,children:x.jsx("span",{className:D})})}const Si=Ve("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),VCe=["center","classes","className"];let B_=e=>e,s6,a6,l6,c6;const ES=550,UCe=80,HCe=_p(s6||(s6=B_`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),WCe=_p(a6||(a6=B_`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),qCe=_p(l6||(l6=B_`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),GCe=he("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),KCe=he($Ce,{name:"MuiTouchRipple",slot:"Ripple"})(c6||(c6=B_`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Si.rippleVisible,HCe,ES,({theme:e})=>e.transitions.easing.easeInOut,Si.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,Si.child,Si.childLeaving,WCe,ES,({theme:e})=>e.transitions.easing.easeInOut,Si.childPulsate,qCe,({theme:e})=>e.transitions.easing.easeInOut),YCe=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiTouchRipple"}),{center:s=!1,classes:c={},className:d}=o,m=ke(o,VCe),[f,k]=B.useState([]),v=B.useRef(0),_=B.useRef(null);B.useEffect(()=>{_.current&&(_.current(),_.current=null)},[f]);const y=B.useRef(!1),A=Rl(),D=B.useRef(null),S=B.useRef(null),I=B.useCallback(j=>{const{pulsate:$,rippleX:U,rippleY:R,rippleSize:z,cb:W}=j;k(q=>[...q,x.jsx(KCe,{classes:{ripple:pe(c.ripple,Si.ripple),rippleVisible:pe(c.rippleVisible,Si.rippleVisible),ripplePulsate:pe(c.ripplePulsate,Si.ripplePulsate),child:pe(c.child,Si.child),childLeaving:pe(c.childLeaving,Si.childLeaving),childPulsate:pe(c.childPulsate,Si.childPulsate)},timeout:ES,pulsate:$,rippleX:U,rippleY:R,rippleSize:z},v.current)]),v.current+=1,_.current=W},[c]),T=B.useCallback((j={},$={},U=()=>{})=>{const{pulsate:R=!1,center:z=s||$.pulsate,fakeElement:W=!1}=$;if((j==null?void 0:j.type)==="mousedown"&&y.current){y.current=!1;return}(j==null?void 0:j.type)==="touchstart"&&(y.current=!0);const q=W?null:S.current,Y=q?q.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Z,Q,J;if(z||j===void 0||j.clientX===0&&j.clientY===0||!j.clientX&&!j.touches)Z=Math.round(Y.width/2),Q=Math.round(Y.height/2);else{const{clientX:te,clientY:ee}=j.touches&&j.touches.length>0?j.touches[0]:j;Z=Math.round(te-Y.left),Q=Math.round(ee-Y.top)}if(z)J=Math.sqrt((2*Y.width**2+Y.height**2)/3),J%2===0&&(J+=1);else{const te=Math.max(Math.abs((q?q.clientWidth:0)-Z),Z)*2+2,ee=Math.max(Math.abs((q?q.clientHeight:0)-Q),Q)*2+2;J=Math.sqrt(te**2+ee**2)}j!=null&&j.touches?D.current===null&&(D.current=()=>{I({pulsate:R,rippleX:Z,rippleY:Q,rippleSize:J,cb:U})},A.start(UCe,()=>{D.current&&(D.current(),D.current=null)})):I({pulsate:R,rippleX:Z,rippleY:Q,rippleSize:J,cb:U})},[s,I,A]),P=B.useCallback(()=>{T({},{pulsate:!0})},[T]),N=B.useCallback((j,$)=>{if(A.clear(),(j==null?void 0:j.type)==="touchend"&&D.current){D.current(),D.current=null,A.start(0,()=>{N(j,$)});return}D.current=null,k(U=>U.length>0?U.slice(1):U),_.current=$},[A]);return B.useImperativeHandle(r,()=>({pulsate:P,start:T,stop:N}),[P,T,N]),x.jsx(GCe,V({className:pe(Si.root,c.root,d),ref:S},m,{children:x.jsx(LT,{component:null,exit:!0,children:f})}))});function QCe(e){return $e("MuiButtonBase",e)}const ZCe=Ve("MuiButtonBase",["root","disabled","focusVisible"]),JCe=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],XCe=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:o,classes:s}=e,d=Ue({root:["root",t&&"disabled",r&&"focusVisible"]},QCe,s);return r&&o&&(d.root+=` ${o}`),d},eAe=he("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${ZCe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Za=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiButtonBase"}),{action:s,centerRipple:c=!1,children:d,className:m,component:f="button",disabled:k=!1,disableRipple:v=!1,disableTouchRipple:_=!1,focusRipple:y=!1,LinkComponent:A="a",onBlur:D,onClick:S,onContextMenu:I,onDragLeave:T,onFocus:P,onFocusVisible:N,onKeyDown:j,onKeyUp:$,onMouseDown:U,onMouseLeave:R,onMouseUp:z,onTouchEnd:W,onTouchMove:q,onTouchStart:Y,tabIndex:Z=0,TouchRippleProps:Q,touchRippleRef:J,type:te}=o,ee=ke(o,JCe),ne=B.useRef(null),G=B.useRef(null),re=Tn(G,J),{isFocusVisibleRef:ie,onFocus:_e,onBlur:Te,ref:et}=O_(),[Le,st]=B.useState(!1);k&&Le&&st(!1),B.useImperativeHandle(s,()=>({focusVisible:()=>{st(!0),ne.current.focus()}}),[]);const[me,ot]=B.useState(!1);B.useEffect(()=>{ot(!0)},[]);const it=me&&!v&&!k;B.useEffect(()=>{Le&&y&&!v&&me&&G.current.pulsate()},[v,y,Le,me]);function ct(Ke,cn,Do=_){return Ri(Gr=>(cn&&cn(Gr),!Do&&G.current&&G.current[Ke](Gr),!0))}const At=ct("start",U),tt=ct("stop",I),Ne=ct("stop",T),be=ct("stop",z),Pe=ct("stop",Ke=>{Le&&Ke.preventDefault(),R&&R(Ke)}),Je=ct("start",Y),ln=ct("stop",W),Lt=ct("stop",q),xt=ct("stop",Ke=>{Te(Ke),ie.current===!1&&st(!1),D&&D(Ke)},!1),Ut=Ri(Ke=>{ne.current||(ne.current=Ke.currentTarget),_e(Ke),ie.current===!0&&(st(!0),N&&N(Ke)),P&&P(Ke)}),dt=()=>{const Ke=ne.current;return f&&f!=="button"&&!(Ke.tagName==="A"&&Ke.href)},We=B.useRef(!1),ut=Ri(Ke=>{y&&!We.current&&Le&&G.current&&Ke.key===" "&&(We.current=!0,G.current.stop(Ke,()=>{G.current.start(Ke)})),Ke.target===Ke.currentTarget&&dt()&&Ke.key===" "&&Ke.preventDefault(),j&&j(Ke),Ke.target===Ke.currentTarget&&dt()&&Ke.key==="Enter"&&!k&&(Ke.preventDefault(),S&&S(Ke))}),at=Ri(Ke=>{y&&Ke.key===" "&&G.current&&Le&&!Ke.defaultPrevented&&(We.current=!1,G.current.stop(Ke,()=>{G.current.pulsate(Ke)})),$&&$(Ke),S&&Ke.target===Ke.currentTarget&&dt()&&Ke.key===" "&&!Ke.defaultPrevented&&S(Ke)});let Ze=f;Ze==="button"&&(ee.href||ee.to)&&(Ze=A);const yt={};Ze==="button"?(yt.type=te===void 0?"button":te,yt.disabled=k):(!ee.href&&!ee.to&&(yt.role="button"),k&&(yt["aria-disabled"]=k));const Zt=Tn(r,et,ne),Qn=V({},o,{centerRipple:c,component:f,disabled:k,disableRipple:v,disableTouchRipple:_,focusRipple:y,tabIndex:Z,focusVisible:Le}),Dt=XCe(Qn);return x.jsxs(eAe,V({as:Ze,className:pe(Dt.root,m),ownerState:Qn,onBlur:xt,onClick:S,onContextMenu:tt,onFocus:Ut,onKeyDown:ut,onKeyUp:at,onMouseDown:At,onMouseLeave:Pe,onMouseUp:be,onDragLeave:Ne,onTouchEnd:ln,onTouchMove:Lt,onTouchStart:Je,ref:Zt,tabIndex:k?-1:Z,type:te},yt,ee,{children:[d,it?x.jsx(YCe,V({ref:re,center:c},Q)):null]}))});function tAe(e){return $e("MuiAccordionSummary",e)}const ah=Ve("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),nAe=["children","className","expandIcon","focusVisibleClassName","onClick"],rAe=e=>{const{classes:t,expanded:r,disabled:o,disableGutters:s}=e;return Ue({root:["root",r&&"expanded",o&&"disabled",!s&&"gutters"],focusVisible:["focusVisible"],content:["content",r&&"expanded",!s&&"contentGutters"],expandIconWrapper:["expandIconWrapper",r&&"expanded"]},tAe,t)},oAe=he(Za,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],t),[`&.${ah.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${ah.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${ah.disabled})`]:{cursor:"pointer"},variants:[{props:r=>!r.disableGutters,style:{[`&.${ah.expanded}`]:{minHeight:64}}}]}}),iAe=he("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(({theme:e})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:t=>!t.disableGutters,style:{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${ah.expanded}`]:{margin:"20px 0"}}}]})),sAe=he("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${ah.expanded}`]:{transform:"rotate(180deg)"}})),u6=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiAccordionSummary"}),{children:s,className:c,expandIcon:d,focusVisibleClassName:m,onClick:f}=o,k=ke(o,nAe),{disabled:v=!1,disableGutters:_,expanded:y,toggle:A}=B.useContext(Aq),D=T=>{A&&A(T),f&&f(T)},S=V({},o,{expanded:y,disabled:v,disableGutters:_}),I=rAe(S);return x.jsxs(oAe,V({focusRipple:!1,disableRipple:!0,disabled:v,component:"div","aria-expanded":y,className:pe(I.root,c),focusVisibleClassName:pe(I.focusVisible,m),onClick:D,ref:r,ownerState:S},k,{children:[x.jsx(iAe,{className:I.content,ownerState:S,children:s}),d&&x.jsx(sAe,{className:I.expandIconWrapper,ownerState:S,children:d})]}))});function aAe(e){return $e("MuiAlert",e)}const d6=Ve("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function lAe(e){return $e("MuiIconButton",e)}const cAe=Ve("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),uAe=["edge","children","className","color","disabled","disableFocusRipple","size"],dAe=e=>{const{classes:t,disabled:r,color:o,edge:s,size:c}=e,d={root:["root",r&&"disabled",o!=="default"&&`color${ue(o)}`,s&&`edge${ue(s)}`,`size${ue(c)}`]};return Ue(d,lAe,t)},hAe=he(Za,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="default"&&t[`color${ue(r.color)}`],r.edge&&t[`edge${ue(r.edge)}`],t[`size${ue(r.size)}`]]}})(({theme:e,ownerState:t})=>V({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Tt(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var r;const o=(r=(e.vars||e).palette)==null?void 0:r[t.color];return V({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&V({color:o==null?void 0:o.main},!t.disableRipple&&{"&:hover":V({},o&&{backgroundColor:e.vars?`rgba(${o.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Tt(o.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${cAe.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),Gn=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiIconButton"}),{edge:s=!1,children:c,className:d,color:m="default",disabled:f=!1,disableFocusRipple:k=!1,size:v="medium"}=o,_=ke(o,uAe),y=V({},o,{edge:s,color:m,disabled:f,disableFocusRipple:k,size:v}),A=dAe(y);return x.jsx(hAe,V({className:pe(A.root,d),centerRipple:!0,focusRipple:!k,disabled:f,ref:r},_,{ownerState:y,children:c}))}),pAe=gc(x.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),fAe=gc(x.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),mAe=gc(x.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),gAe=gc(x.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),bAe=gc(x.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),kAe=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],vAe=e=>{const{variant:t,color:r,severity:o,classes:s}=e,c={root:["root",`color${ue(r||o)}`,`${t}${ue(r||o)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return Ue(c,aAe,s)},wAe=he(co,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${ue(r.color||r.severity)}`]]}})(({theme:e})=>{const t=e.palette.mode==="light"?yg:_g,r=e.palette.mode==="light"?_g:yg;return V({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(([,o])=>o.main&&o.light).map(([o])=>({props:{colorSeverity:o,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${o}Color`]:t(e.palette[o].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${o}StandardBg`]:r(e.palette[o].light,.9),[`& .${d6.icon}`]:e.vars?{color:e.vars.palette.Alert[`${o}IconColor`]}:{color:e.palette[o].main}}})),...Object.entries(e.palette).filter(([,o])=>o.main&&o.light).map(([o])=>({props:{colorSeverity:o,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${o}Color`]:t(e.palette[o].light,.6),border:`1px solid ${(e.vars||e).palette[o].light}`,[`& .${d6.icon}`]:e.vars?{color:e.vars.palette.Alert[`${o}IconColor`]}:{color:e.palette[o].main}}})),...Object.entries(e.palette).filter(([,o])=>o.main&&o.dark).map(([o])=>({props:{colorSeverity:o,variant:"filled"},style:V({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${o}FilledColor`],backgroundColor:e.vars.palette.Alert[`${o}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[o].dark:e.palette[o].main,color:e.palette.getContrastText(e.palette[o].main)})}))]})}),yAe=he("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),_Ae=he("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),h6=he("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),p6={success:x.jsx(pAe,{fontSize:"inherit"}),warning:x.jsx(fAe,{fontSize:"inherit"}),error:x.jsx(mAe,{fontSize:"inherit"}),info:x.jsx(gAe,{fontSize:"inherit"})},qi=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiAlert"}),{action:s,children:c,className:d,closeText:m="Close",color:f,components:k={},componentsProps:v={},icon:_,iconMapping:y=p6,onClose:A,role:D="alert",severity:S="success",slotProps:I={},slots:T={},variant:P="standard"}=o,N=ke(o,kAe),j=V({},o,{color:f,severity:S,variant:P,colorSeverity:f||S}),$=vAe(j),U={slots:V({closeButton:k.CloseButton,closeIcon:k.CloseIcon},T),slotProps:V({},v,I)},[R,z]=xS("closeButton",{elementType:Gn,externalForwardedProps:U,ownerState:j}),[W,q]=xS("closeIcon",{elementType:bAe,externalForwardedProps:U,ownerState:j});return x.jsxs(wAe,V({role:D,elevation:0,ownerState:j,className:pe($.root,d),ref:r},N,{children:[_!==!1?x.jsx(yAe,{ownerState:j,className:$.icon,children:_||y[S]||p6[S]}):null,x.jsx(_Ae,{ownerState:j,className:$.message,children:c}),s!=null?x.jsx(h6,{ownerState:j,className:$.action,children:s}):null,s==null&&A?x.jsx(h6,{ownerState:j,className:$.action,children:x.jsx(R,V({size:"small","aria-label":m,title:m,color:"inherit",onClick:A},z,{children:x.jsx(W,V({fontSize:"small"},q))}))}):null]}))});function CAe(e){return $e("MuiTypography",e)}Ve("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const AAe=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],xAe=e=>{const{align:t,gutterBottom:r,noWrap:o,paragraph:s,variant:c,classes:d}=e,m={root:["root",c,e.align!=="inherit"&&`align${ue(t)}`,r&&"gutterBottom",o&&"noWrap",s&&"paragraph"]};return Ue(m,CAe,d)},EAe=he("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${ue(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>V({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),f6={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},SAe={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},DAe=e=>SAe[e]||e,we=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiTypography"}),s=DAe(o.color),c=kb(V({},o,{color:s})),{align:d="inherit",className:m,component:f,gutterBottom:k=!1,noWrap:v=!1,paragraph:_=!1,variant:y="body1",variantMapping:A=f6}=c,D=ke(c,AAe),S=V({},c,{align:d,color:s,className:m,component:f,gutterBottom:k,noWrap:v,paragraph:_,variant:y,variantMapping:A}),I=f||(_?"p":A[y]||f6[y])||"span",T=xAe(S);return x.jsx(EAe,V({as:I,ref:r,ownerState:S,className:pe(T.root,m)},D))});function TAe(e){return $e("MuiAppBar",e)}Ve("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const IAe=["className","color","enableColorOnDark","position"],MAe=e=>{const{color:t,position:r,classes:o}=e,s={root:["root",`color${ue(t)}`,`position${ue(r)}`]};return Ue(s,TAe,o)},Lv=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,PAe=he(co,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`position${ue(r.position)}`],t[`color${ue(r.color)}`]]}})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[900];return V({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},t.position==="fixed"&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},t.position==="absolute"&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="sticky"&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="static"&&{position:"static"},t.position==="relative"&&{position:"relative"},!e.vars&&V({},t.color==="default"&&{backgroundColor:r,color:e.palette.getContrastText(r)},t.color&&t.color!=="default"&&t.color!=="inherit"&&t.color!=="transparent"&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},t.color==="inherit"&&{color:"inherit"},e.palette.mode==="dark"&&!t.enableColorOnDark&&{backgroundColor:null,color:null},t.color==="transparent"&&V({backgroundColor:"transparent",color:"inherit"},e.palette.mode==="dark"&&{backgroundImage:"none"})),e.vars&&V({},t.color==="default"&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette.AppBar.defaultBg:Lv(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?e.vars.palette.text.primary:Lv(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette[t.color].main:Lv(e.vars.palette.AppBar.darkBg,e.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?e.vars.palette[t.color].contrastText:Lv(e.vars.palette.AppBar.darkColor,e.vars.palette[t.color].contrastText)},!["inherit","transparent"].includes(t.color)&&{backgroundColor:"var(--AppBar-background)"},{color:t.color==="inherit"?"inherit":"var(--AppBar-color)"},t.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),NAe=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiAppBar"}),{className:s,color:c="primary",enableColorOnDark:d=!1,position:m="fixed"}=o,f=ke(o,IAe),k=V({},o,{color:c,position:m,enableColorOnDark:d}),v=MAe(k);return x.jsx(PAe,V({square:!0,component:"header",ownerState:k,elevation:4,className:pe(v.root,s,m==="fixed"&&"mui-fixed"),ref:r},f))});var jT={};Object.defineProperty(jT,"__esModule",{value:!0});var xq=jT.default=void 0,RAe=BAe(B),OAe=kq;function Eq(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(Eq=function(o){return o?r:t})(e)}function BAe(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=Eq(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if(c!=="default"&&Object.prototype.hasOwnProperty.call(e,c)){var d=s?Object.getOwnPropertyDescriptor(e,c):null;d&&(d.get||d.set)?Object.defineProperty(o,c,d):o[c]=e[c]}return o.default=e,r&&r.set(e,o),o}function LAe(e){return Object.keys(e).length===0}function jAe(e=null){const t=RAe.useContext(OAe.ThemeContext);return!t||LAe(t)?e:t}xq=jT.default=jAe;var $o="top",$i="bottom",Vi="right",Vo="left",FT="auto",_b=[$o,$i,Vi,Vo],Qh="start",Cg="end",FAe="clippingParents",Sq="viewport",Nf="popper",zAe="reference",m6=_b.reduce(function(e,t){return e.concat([t+"-"+Qh,t+"-"+Cg])},[]),Dq=[].concat(_b,[FT]).reduce(function(e,t){return e.concat([t,t+"-"+Qh,t+"-"+Cg])},[]),$Ae="beforeRead",VAe="read",UAe="afterRead",HAe="beforeMain",WAe="main",qAe="afterMain",GAe="beforeWrite",KAe="write",YAe="afterWrite",QAe=[$Ae,VAe,UAe,HAe,WAe,qAe,GAe,KAe,YAe];function na(e){return e?(e.nodeName||"").toLowerCase():null}function di(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Nu(e){var t=di(e).Element;return e instanceof t||e instanceof Element}function Bi(e){var t=di(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function zT(e){if(typeof ShadowRoot>"u")return!1;var t=di(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function ZAe(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var o=t.styles[r]||{},s=t.attributes[r]||{},c=t.elements[r];!Bi(c)||!na(c)||(Object.assign(c.style,o),Object.keys(s).forEach(function(d){var m=s[d];m===!1?c.removeAttribute(d):c.setAttribute(d,m===!0?"":m)}))})}function JAe(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(o){var s=t.elements[o],c=t.attributes[o]||{},d=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:r[o]),m=d.reduce(function(f,k){return f[k]="",f},{});!Bi(s)||!na(s)||(Object.assign(s.style,m),Object.keys(c).forEach(function(f){s.removeAttribute(f)}))})}}const XAe={name:"applyStyles",enabled:!0,phase:"write",fn:ZAe,effect:JAe,requires:["computeStyles"]};function Ys(e){return e.split("-")[0]}var fu=Math.max,Ow=Math.min,Zh=Math.round;function SS(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Tq(){return!/^((?!chrome|android).)*safari/i.test(SS())}function Jh(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var o=e.getBoundingClientRect(),s=1,c=1;t&&Bi(e)&&(s=e.offsetWidth>0&&Zh(o.width)/e.offsetWidth||1,c=e.offsetHeight>0&&Zh(o.height)/e.offsetHeight||1);var d=Nu(e)?di(e):window,m=d.visualViewport,f=!Tq()&&r,k=(o.left+(f&&m?m.offsetLeft:0))/s,v=(o.top+(f&&m?m.offsetTop:0))/c,_=o.width/s,y=o.height/c;return{width:_,height:y,top:v,right:k+_,bottom:v+y,left:k,x:k,y:v}}function $T(e){var t=Jh(e),r=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:o}}function Iq(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&zT(r)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function Ja(e){return di(e).getComputedStyle(e)}function e1e(e){return["table","td","th"].indexOf(na(e))>=0}function bc(e){return((Nu(e)?e.ownerDocument:e.document)||window.document).documentElement}function L_(e){return na(e)==="html"?e:e.assignedSlot||e.parentNode||(zT(e)?e.host:null)||bc(e)}function g6(e){return!Bi(e)||Ja(e).position==="fixed"?null:e.offsetParent}function t1e(e){var t=/firefox/i.test(SS()),r=/Trident/i.test(SS());if(r&&Bi(e)){var o=Ja(e);if(o.position==="fixed")return null}var s=L_(e);for(zT(s)&&(s=s.host);Bi(s)&&["html","body"].indexOf(na(s))<0;){var c=Ja(s);if(c.transform!=="none"||c.perspective!=="none"||c.contain==="paint"||["transform","perspective"].indexOf(c.willChange)!==-1||t&&c.willChange==="filter"||t&&c.filter&&c.filter!=="none")return s;s=s.parentNode}return null}function Cb(e){for(var t=di(e),r=g6(e);r&&e1e(r)&&Ja(r).position==="static";)r=g6(r);return r&&(na(r)==="html"||na(r)==="body"&&Ja(r).position==="static")?t:r||t1e(e)||t}function VT(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Em(e,t,r){return fu(e,Ow(t,r))}function n1e(e,t,r){var o=Em(e,t,r);return o>r?r:o}function Mq(){return{top:0,right:0,bottom:0,left:0}}function Pq(e){return Object.assign({},Mq(),e)}function Nq(e,t){return t.reduce(function(r,o){return r[o]=e,r},{})}var r1e=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,Pq(typeof t!="number"?t:Nq(t,_b))};function o1e(e){var t,r=e.state,o=e.name,s=e.options,c=r.elements.arrow,d=r.modifiersData.popperOffsets,m=Ys(r.placement),f=VT(m),k=[Vo,Vi].indexOf(m)>=0,v=k?"height":"width";if(!(!c||!d)){var _=r1e(s.padding,r),y=$T(c),A=f==="y"?$o:Vo,D=f==="y"?$i:Vi,S=r.rects.reference[v]+r.rects.reference[f]-d[f]-r.rects.popper[v],I=d[f]-r.rects.reference[f],T=Cb(c),P=T?f==="y"?T.clientHeight||0:T.clientWidth||0:0,N=S/2-I/2,j=_[A],$=P-y[v]-_[D],U=P/2-y[v]/2+N,R=Em(j,U,$),z=f;r.modifiersData[o]=(t={},t[z]=R,t.centerOffset=R-U,t)}}function i1e(e){var t=e.state,r=e.options,o=r.element,s=o===void 0?"[data-popper-arrow]":o;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||Iq(t.elements.popper,s)&&(t.elements.arrow=s))}const s1e={name:"arrow",enabled:!0,phase:"main",fn:o1e,effect:i1e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xh(e){return e.split("-")[1]}var a1e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function l1e(e,t){var r=e.x,o=e.y,s=t.devicePixelRatio||1;return{x:Zh(r*s)/s||0,y:Zh(o*s)/s||0}}function b6(e){var t,r=e.popper,o=e.popperRect,s=e.placement,c=e.variation,d=e.offsets,m=e.position,f=e.gpuAcceleration,k=e.adaptive,v=e.roundOffsets,_=e.isFixed,y=d.x,A=y===void 0?0:y,D=d.y,S=D===void 0?0:D,I=typeof v=="function"?v({x:A,y:S}):{x:A,y:S};A=I.x,S=I.y;var T=d.hasOwnProperty("x"),P=d.hasOwnProperty("y"),N=Vo,j=$o,$=window;if(k){var U=Cb(r),R="clientHeight",z="clientWidth";if(U===di(r)&&(U=bc(r),Ja(U).position!=="static"&&m==="absolute"&&(R="scrollHeight",z="scrollWidth")),U=U,s===$o||(s===Vo||s===Vi)&&c===Cg){j=$i;var W=_&&U===$&&$.visualViewport?$.visualViewport.height:U[R];S-=W-o.height,S*=f?1:-1}if(s===Vo||(s===$o||s===$i)&&c===Cg){N=Vi;var q=_&&U===$&&$.visualViewport?$.visualViewport.width:U[z];A-=q-o.width,A*=f?1:-1}}var Y=Object.assign({position:m},k&&a1e),Z=v===!0?l1e({x:A,y:S},di(r)):{x:A,y:S};if(A=Z.x,S=Z.y,f){var Q;return Object.assign({},Y,(Q={},Q[j]=P?"0":"",Q[N]=T?"0":"",Q.transform=($.devicePixelRatio||1)<=1?"translate("+A+"px, "+S+"px)":"translate3d("+A+"px, "+S+"px, 0)",Q))}return Object.assign({},Y,(t={},t[j]=P?S+"px":"",t[N]=T?A+"px":"",t.transform="",t))}function c1e(e){var t=e.state,r=e.options,o=r.gpuAcceleration,s=o===void 0?!0:o,c=r.adaptive,d=c===void 0?!0:c,m=r.roundOffsets,f=m===void 0?!0:m,k={placement:Ys(t.placement),variation:Xh(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,b6(Object.assign({},k,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:d,roundOffsets:f})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,b6(Object.assign({},k,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const u1e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:c1e,data:{}};var jv={passive:!0};function d1e(e){var t=e.state,r=e.instance,o=e.options,s=o.scroll,c=s===void 0?!0:s,d=o.resize,m=d===void 0?!0:d,f=di(t.elements.popper),k=[].concat(t.scrollParents.reference,t.scrollParents.popper);return c&&k.forEach(function(v){v.addEventListener("scroll",r.update,jv)}),m&&f.addEventListener("resize",r.update,jv),function(){c&&k.forEach(function(v){v.removeEventListener("scroll",r.update,jv)}),m&&f.removeEventListener("resize",r.update,jv)}}const h1e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:d1e,data:{}};var p1e={left:"right",right:"left",bottom:"top",top:"bottom"};function A0(e){return e.replace(/left|right|bottom|top/g,function(t){return p1e[t]})}var f1e={start:"end",end:"start"};function k6(e){return e.replace(/start|end/g,function(t){return f1e[t]})}function UT(e){var t=di(e),r=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:r,scrollTop:o}}function HT(e){return Jh(bc(e)).left+UT(e).scrollLeft}function m1e(e,t){var r=di(e),o=bc(e),s=r.visualViewport,c=o.clientWidth,d=o.clientHeight,m=0,f=0;if(s){c=s.width,d=s.height;var k=Tq();(k||!k&&t==="fixed")&&(m=s.offsetLeft,f=s.offsetTop)}return{width:c,height:d,x:m+HT(e),y:f}}function g1e(e){var t,r=bc(e),o=UT(e),s=(t=e.ownerDocument)==null?void 0:t.body,c=fu(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),d=fu(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),m=-o.scrollLeft+HT(e),f=-o.scrollTop;return Ja(s||r).direction==="rtl"&&(m+=fu(r.clientWidth,s?s.clientWidth:0)-c),{width:c,height:d,x:m,y:f}}function WT(e){var t=Ja(e),r=t.overflow,o=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+o)}function Rq(e){return["html","body","#document"].indexOf(na(e))>=0?e.ownerDocument.body:Bi(e)&&WT(e)?e:Rq(L_(e))}function Sm(e,t){var r;t===void 0&&(t=[]);var o=Rq(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),c=di(o),d=s?[c].concat(c.visualViewport||[],WT(o)?o:[]):o,m=t.concat(d);return s?m:m.concat(Sm(L_(d)))}function DS(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function b1e(e,t){var r=Jh(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function v6(e,t,r){return t===Sq?DS(m1e(e,r)):Nu(t)?b1e(t,r):DS(g1e(bc(e)))}function k1e(e){var t=Sm(L_(e)),r=["absolute","fixed"].indexOf(Ja(e).position)>=0,o=r&&Bi(e)?Cb(e):e;return Nu(o)?t.filter(function(s){return Nu(s)&&Iq(s,o)&&na(s)!=="body"}):[]}function v1e(e,t,r,o){var s=t==="clippingParents"?k1e(e):[].concat(t),c=[].concat(s,[r]),d=c[0],m=c.reduce(function(f,k){var v=v6(e,k,o);return f.top=fu(v.top,f.top),f.right=Ow(v.right,f.right),f.bottom=Ow(v.bottom,f.bottom),f.left=fu(v.left,f.left),f},v6(e,d,o));return m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m}function Oq(e){var t=e.reference,r=e.element,o=e.placement,s=o?Ys(o):null,c=o?Xh(o):null,d=t.x+t.width/2-r.width/2,m=t.y+t.height/2-r.height/2,f;switch(s){case $o:f={x:d,y:t.y-r.height};break;case $i:f={x:d,y:t.y+t.height};break;case Vi:f={x:t.x+t.width,y:m};break;case Vo:f={x:t.x-r.width,y:m};break;default:f={x:t.x,y:t.y}}var k=s?VT(s):null;if(k!=null){var v=k==="y"?"height":"width";switch(c){case Qh:f[k]=f[k]-(t[v]/2-r[v]/2);break;case Cg:f[k]=f[k]+(t[v]/2-r[v]/2);break}}return f}function Ag(e,t){t===void 0&&(t={});var r=t,o=r.placement,s=o===void 0?e.placement:o,c=r.strategy,d=c===void 0?e.strategy:c,m=r.boundary,f=m===void 0?FAe:m,k=r.rootBoundary,v=k===void 0?Sq:k,_=r.elementContext,y=_===void 0?Nf:_,A=r.altBoundary,D=A===void 0?!1:A,S=r.padding,I=S===void 0?0:S,T=Pq(typeof I!="number"?I:Nq(I,_b)),P=y===Nf?zAe:Nf,N=e.rects.popper,j=e.elements[D?P:y],$=v1e(Nu(j)?j:j.contextElement||bc(e.elements.popper),f,v,d),U=Jh(e.elements.reference),R=Oq({reference:U,element:N,strategy:"absolute",placement:s}),z=DS(Object.assign({},N,R)),W=y===Nf?z:U,q={top:$.top-W.top+T.top,bottom:W.bottom-$.bottom+T.bottom,left:$.left-W.left+T.left,right:W.right-$.right+T.right},Y=e.modifiersData.offset;if(y===Nf&&Y){var Z=Y[s];Object.keys(q).forEach(function(Q){var J=[Vi,$i].indexOf(Q)>=0?1:-1,te=[$o,$i].indexOf(Q)>=0?"y":"x";q[Q]+=Z[te]*J})}return q}function w1e(e,t){t===void 0&&(t={});var r=t,o=r.placement,s=r.boundary,c=r.rootBoundary,d=r.padding,m=r.flipVariations,f=r.allowedAutoPlacements,k=f===void 0?Dq:f,v=Xh(o),_=v?m?m6:m6.filter(function(D){return Xh(D)===v}):_b,y=_.filter(function(D){return k.indexOf(D)>=0});y.length===0&&(y=_);var A=y.reduce(function(D,S){return D[S]=Ag(e,{placement:S,boundary:s,rootBoundary:c,padding:d})[Ys(S)],D},{});return Object.keys(A).sort(function(D,S){return A[D]-A[S]})}function y1e(e){if(Ys(e)===FT)return[];var t=A0(e);return[k6(e),t,k6(t)]}function _1e(e){var t=e.state,r=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var s=r.mainAxis,c=s===void 0?!0:s,d=r.altAxis,m=d===void 0?!0:d,f=r.fallbackPlacements,k=r.padding,v=r.boundary,_=r.rootBoundary,y=r.altBoundary,A=r.flipVariations,D=A===void 0?!0:A,S=r.allowedAutoPlacements,I=t.options.placement,T=Ys(I),P=T===I,N=f||(P||!D?[A0(I)]:y1e(I)),j=[I].concat(N).reduce(function(Le,st){return Le.concat(Ys(st)===FT?w1e(t,{placement:st,boundary:v,rootBoundary:_,padding:k,flipVariations:D,allowedAutoPlacements:S}):st)},[]),$=t.rects.reference,U=t.rects.popper,R=new Map,z=!0,W=j[0],q=0;q<j.length;q++){var Y=j[q],Z=Ys(Y),Q=Xh(Y)===Qh,J=[$o,$i].indexOf(Z)>=0,te=J?"width":"height",ee=Ag(t,{placement:Y,boundary:v,rootBoundary:_,altBoundary:y,padding:k}),ne=J?Q?Vi:Vo:Q?$i:$o;$[te]>U[te]&&(ne=A0(ne));var G=A0(ne),re=[];if(c&&re.push(ee[Z]<=0),m&&re.push(ee[ne]<=0,ee[G]<=0),re.every(function(Le){return Le})){W=Y,z=!1;break}R.set(Y,re)}if(z)for(var ie=D?3:1,_e=function(st){var me=j.find(function(ot){var it=R.get(ot);if(it)return it.slice(0,st).every(function(ct){return ct})});if(me)return W=me,"break"},Te=ie;Te>0;Te--){var et=_e(Te);if(et==="break")break}t.placement!==W&&(t.modifiersData[o]._skip=!0,t.placement=W,t.reset=!0)}}const C1e={name:"flip",enabled:!0,phase:"main",fn:_1e,requiresIfExists:["offset"],data:{_skip:!1}};function w6(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function y6(e){return[$o,Vi,$i,Vo].some(function(t){return e[t]>=0})}function A1e(e){var t=e.state,r=e.name,o=t.rects.reference,s=t.rects.popper,c=t.modifiersData.preventOverflow,d=Ag(t,{elementContext:"reference"}),m=Ag(t,{altBoundary:!0}),f=w6(d,o),k=w6(m,s,c),v=y6(f),_=y6(k);t.modifiersData[r]={referenceClippingOffsets:f,popperEscapeOffsets:k,isReferenceHidden:v,hasPopperEscaped:_},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":_})}const x1e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:A1e};function E1e(e,t,r){var o=Ys(e),s=[Vo,$o].indexOf(o)>=0?-1:1,c=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,d=c[0],m=c[1];return d=d||0,m=(m||0)*s,[Vo,Vi].indexOf(o)>=0?{x:m,y:d}:{x:d,y:m}}function S1e(e){var t=e.state,r=e.options,o=e.name,s=r.offset,c=s===void 0?[0,0]:s,d=Dq.reduce(function(v,_){return v[_]=E1e(_,t.rects,c),v},{}),m=d[t.placement],f=m.x,k=m.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=f,t.modifiersData.popperOffsets.y+=k),t.modifiersData[o]=d}const D1e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:S1e};function T1e(e){var t=e.state,r=e.name;t.modifiersData[r]=Oq({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const I1e={name:"popperOffsets",enabled:!0,phase:"read",fn:T1e,data:{}};function M1e(e){return e==="x"?"y":"x"}function P1e(e){var t=e.state,r=e.options,o=e.name,s=r.mainAxis,c=s===void 0?!0:s,d=r.altAxis,m=d===void 0?!1:d,f=r.boundary,k=r.rootBoundary,v=r.altBoundary,_=r.padding,y=r.tether,A=y===void 0?!0:y,D=r.tetherOffset,S=D===void 0?0:D,I=Ag(t,{boundary:f,rootBoundary:k,padding:_,altBoundary:v}),T=Ys(t.placement),P=Xh(t.placement),N=!P,j=VT(T),$=M1e(j),U=t.modifiersData.popperOffsets,R=t.rects.reference,z=t.rects.popper,W=typeof S=="function"?S(Object.assign({},t.rects,{placement:t.placement})):S,q=typeof W=="number"?{mainAxis:W,altAxis:W}:Object.assign({mainAxis:0,altAxis:0},W),Y=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Z={x:0,y:0};if(U){if(c){var Q,J=j==="y"?$o:Vo,te=j==="y"?$i:Vi,ee=j==="y"?"height":"width",ne=U[j],G=ne+I[J],re=ne-I[te],ie=A?-z[ee]/2:0,_e=P===Qh?R[ee]:z[ee],Te=P===Qh?-z[ee]:-R[ee],et=t.elements.arrow,Le=A&&et?$T(et):{width:0,height:0},st=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Mq(),me=st[J],ot=st[te],it=Em(0,R[ee],Le[ee]),ct=N?R[ee]/2-ie-it-me-q.mainAxis:_e-it-me-q.mainAxis,At=N?-R[ee]/2+ie+it+ot+q.mainAxis:Te+it+ot+q.mainAxis,tt=t.elements.arrow&&Cb(t.elements.arrow),Ne=tt?j==="y"?tt.clientTop||0:tt.clientLeft||0:0,be=(Q=Y==null?void 0:Y[j])!=null?Q:0,Pe=ne+ct-be-Ne,Je=ne+At-be,ln=Em(A?Ow(G,Pe):G,ne,A?fu(re,Je):re);U[j]=ln,Z[j]=ln-ne}if(m){var Lt,xt=j==="x"?$o:Vo,Ut=j==="x"?$i:Vi,dt=U[$],We=$==="y"?"height":"width",ut=dt+I[xt],at=dt-I[Ut],Ze=[$o,Vo].indexOf(T)!==-1,yt=(Lt=Y==null?void 0:Y[$])!=null?Lt:0,Zt=Ze?ut:dt-R[We]-z[We]-yt+q.altAxis,Qn=Ze?dt+R[We]+z[We]-yt-q.altAxis:at,Dt=A&&Ze?n1e(Zt,dt,Qn):Em(A?Zt:ut,dt,A?Qn:at);U[$]=Dt,Z[$]=Dt-dt}t.modifiersData[o]=Z}}const N1e={name:"preventOverflow",enabled:!0,phase:"main",fn:P1e,requiresIfExists:["offset"]};function R1e(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function O1e(e){return e===di(e)||!Bi(e)?UT(e):R1e(e)}function B1e(e){var t=e.getBoundingClientRect(),r=Zh(t.width)/e.offsetWidth||1,o=Zh(t.height)/e.offsetHeight||1;return r!==1||o!==1}function L1e(e,t,r){r===void 0&&(r=!1);var o=Bi(t),s=Bi(t)&&B1e(t),c=bc(t),d=Jh(e,s,r),m={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(o||!o&&!r)&&((na(t)!=="body"||WT(c))&&(m=O1e(t)),Bi(t)?(f=Jh(t,!0),f.x+=t.clientLeft,f.y+=t.clientTop):c&&(f.x=HT(c))),{x:d.left+m.scrollLeft-f.x,y:d.top+m.scrollTop-f.y,width:d.width,height:d.height}}function j1e(e){var t=new Map,r=new Set,o=[];e.forEach(function(c){t.set(c.name,c)});function s(c){r.add(c.name);var d=[].concat(c.requires||[],c.requiresIfExists||[]);d.forEach(function(m){if(!r.has(m)){var f=t.get(m);f&&s(f)}}),o.push(c)}return e.forEach(function(c){r.has(c.name)||s(c)}),o}function F1e(e){var t=j1e(e);return QAe.reduce(function(r,o){return r.concat(t.filter(function(s){return s.phase===o}))},[])}function z1e(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function $1e(e){var t=e.reduce(function(r,o){var s=r[o.name];return r[o.name]=s?Object.assign({},s,o,{options:Object.assign({},s.options,o.options),data:Object.assign({},s.data,o.data)}):o,r},{});return Object.keys(t).map(function(r){return t[r]})}var _6={placement:"bottom",modifiers:[],strategy:"absolute"};function C6(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function V1e(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,o=r===void 0?[]:r,s=t.defaultOptions,c=s===void 0?_6:s;return function(m,f,k){k===void 0&&(k=c);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},_6,c),modifiersData:{},elements:{reference:m,popper:f},attributes:{},styles:{}},_=[],y=!1,A={state:v,setOptions:function(T){var P=typeof T=="function"?T(v.options):T;S(),v.options=Object.assign({},c,v.options,P),v.scrollParents={reference:Nu(m)?Sm(m):m.contextElement?Sm(m.contextElement):[],popper:Sm(f)};var N=F1e($1e([].concat(o,v.options.modifiers)));return v.orderedModifiers=N.filter(function(j){return j.enabled}),D(),A.update()},forceUpdate:function(){if(!y){var T=v.elements,P=T.reference,N=T.popper;if(C6(P,N)){v.rects={reference:L1e(P,Cb(N),v.options.strategy==="fixed"),popper:$T(N)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(q){return v.modifiersData[q.name]=Object.assign({},q.data)});for(var j=0;j<v.orderedModifiers.length;j++){if(v.reset===!0){v.reset=!1,j=-1;continue}var $=v.orderedModifiers[j],U=$.fn,R=$.options,z=R===void 0?{}:R,W=$.name;typeof U=="function"&&(v=U({state:v,options:z,name:W,instance:A})||v)}}}},update:z1e(function(){return new Promise(function(I){A.forceUpdate(),I(v)})}),destroy:function(){S(),y=!0}};if(!C6(m,f))return A;A.setOptions(k).then(function(I){!y&&k.onFirstUpdate&&k.onFirstUpdate(I)});function D(){v.orderedModifiers.forEach(function(I){var T=I.name,P=I.options,N=P===void 0?{}:P,j=I.effect;if(typeof j=="function"){var $=j({state:v,name:T,instance:A,options:N}),U=function(){};_.push($||U)}})}function S(){_.forEach(function(I){return I()}),_=[]}return A}}var U1e=[h1e,I1e,u1e,XAe,D1e,C1e,N1e,s1e,x1e],H1e=V1e({defaultModifiers:U1e});function W1e(e){return typeof e=="function"?e():e}const Bq=B.forwardRef(function(t,r){const{children:o,container:s,disablePortal:c=!1}=t,[d,m]=B.useState(null),f=Tn(B.isValidElement(o)?qu(o):null,r);if(ui(()=>{c||m(W1e(s)||document.body)},[s,c]),ui(()=>{if(d&&!c)return Mw(r,d),()=>{Mw(r,null)}},[r,d,c]),c){if(B.isValidElement(o)){const k={ref:f};return B.cloneElement(o,k)}return x.jsx(B.Fragment,{children:o})}return x.jsx(B.Fragment,{children:d&&gy.createPortal(o,d)})});function q1e(e){return $e("MuiPopper",e)}Ve("MuiPopper",["root"]);const G1e=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],K1e=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Y1e(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function TS(e){return typeof e=="function"?e():e}function Q1e(e){return e.nodeType!==void 0}const Z1e=e=>{const{classes:t}=e;return Ue({root:["root"]},q1e,t)},J1e={},X1e=B.forwardRef(function(t,r){var o;const{anchorEl:s,children:c,direction:d,disablePortal:m,modifiers:f,open:k,placement:v,popperOptions:_,popperRef:y,slotProps:A={},slots:D={},TransitionProps:S}=t,I=ke(t,G1e),T=B.useRef(null),P=Tn(T,r),N=B.useRef(null),j=Tn(N,y),$=B.useRef(j);ui(()=>{$.current=j},[j]),B.useImperativeHandle(y,()=>N.current,[]);const U=Y1e(v,d),[R,z]=B.useState(U),[W,q]=B.useState(TS(s));B.useEffect(()=>{N.current&&N.current.forceUpdate()}),B.useEffect(()=>{s&&q(TS(s))},[s]),ui(()=>{if(!W||!k)return;const te=G=>{z(G.placement)};let ee=[{name:"preventOverflow",options:{altBoundary:m}},{name:"flip",options:{altBoundary:m}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:G})=>{te(G)}}];f!=null&&(ee=ee.concat(f)),_&&_.modifiers!=null&&(ee=ee.concat(_.modifiers));const ne=H1e(W,T.current,V({placement:U},_,{modifiers:ee}));return $.current(ne),()=>{ne.destroy(),$.current(null)}},[W,m,f,k,_,U]);const Y={placement:R};S!==null&&(Y.TransitionProps=S);const Z=Z1e(t),Q=(o=D.root)!=null?o:"div",J=rc({elementType:Q,externalSlotProps:A.root,externalForwardedProps:I,additionalProps:{role:"tooltip",ref:P},ownerState:t,className:Z.root});return x.jsx(Q,V({},J,{children:typeof c=="function"?c(Y):c}))}),exe=B.forwardRef(function(t,r){const{anchorEl:o,children:s,container:c,direction:d="ltr",disablePortal:m=!1,keepMounted:f=!1,modifiers:k,open:v,placement:_="bottom",popperOptions:y=J1e,popperRef:A,style:D,transition:S=!1,slotProps:I={},slots:T={}}=t,P=ke(t,K1e),[N,j]=B.useState(!0),$=()=>{j(!1)},U=()=>{j(!0)};if(!f&&!v&&(!S||N))return null;let R;if(c)R=c;else if(o){const q=TS(o);R=q&&Q1e(q)?_r(q).body:_r(null).body}const z=!v&&f&&(!S||N)?"none":void 0,W=S?{in:v,onEnter:$,onExited:U}:void 0;return x.jsx(Bq,{disablePortal:m,container:R,children:x.jsx(X1e,V({anchorEl:o,direction:d,disablePortal:m,modifiers:k,ref:r,open:S?!N:v,placement:_,popperOptions:y,popperRef:A,slotProps:I,slots:T},P,{style:V({position:"fixed",top:0,left:0,display:z},D),TransitionProps:W,children:s}))})}),txe=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],nxe=he(exe,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Lq=B.forwardRef(function(t,r){var o;const s=xq(),c=He({props:t,name:"MuiPopper"}),{anchorEl:d,component:m,components:f,componentsProps:k,container:v,disablePortal:_,keepMounted:y,modifiers:A,open:D,placement:S,popperOptions:I,popperRef:T,transition:P,slots:N,slotProps:j}=c,$=ke(c,txe),U=(o=N==null?void 0:N.root)!=null?o:f==null?void 0:f.Root,R=V({anchorEl:d,container:v,disablePortal:_,keepMounted:y,modifiers:A,open:D,placement:S,popperOptions:I,popperRef:T,transition:P},$);return x.jsx(nxe,V({as:m,direction:s==null?void 0:s.direction,slots:{root:U},slotProps:j??k},R,{ref:r}))}),rxe=gc(x.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function oxe(e){return $e("MuiChip",e)}const Ht=Ve("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),ixe=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],sxe=e=>{const{classes:t,disabled:r,size:o,color:s,iconColor:c,onDelete:d,clickable:m,variant:f}=e,k={root:["root",f,r&&"disabled",`size${ue(o)}`,`color${ue(s)}`,m&&"clickable",m&&`clickableColor${ue(s)}`,d&&"deletable",d&&`deletableColor${ue(s)}`,`${f}${ue(s)}`],label:["label",`label${ue(o)}`],avatar:["avatar",`avatar${ue(o)}`,`avatarColor${ue(s)}`],icon:["icon",`icon${ue(o)}`,`iconColor${ue(c)}`],deleteIcon:["deleteIcon",`deleteIcon${ue(o)}`,`deleteIconColor${ue(s)}`,`deleteIcon${ue(f)}Color${ue(s)}`]};return Ue(k,oxe,t)},axe=he("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{color:o,iconColor:s,clickable:c,onDelete:d,size:m,variant:f}=r;return[{[`& .${Ht.avatar}`]:t.avatar},{[`& .${Ht.avatar}`]:t[`avatar${ue(m)}`]},{[`& .${Ht.avatar}`]:t[`avatarColor${ue(o)}`]},{[`& .${Ht.icon}`]:t.icon},{[`& .${Ht.icon}`]:t[`icon${ue(m)}`]},{[`& .${Ht.icon}`]:t[`iconColor${ue(s)}`]},{[`& .${Ht.deleteIcon}`]:t.deleteIcon},{[`& .${Ht.deleteIcon}`]:t[`deleteIcon${ue(m)}`]},{[`& .${Ht.deleteIcon}`]:t[`deleteIconColor${ue(o)}`]},{[`& .${Ht.deleteIcon}`]:t[`deleteIcon${ue(f)}Color${ue(o)}`]},t.root,t[`size${ue(m)}`],t[`color${ue(o)}`],c&&t.clickable,c&&o!=="default"&&t[`clickableColor${ue(o)})`],d&&t.deletable,d&&o!=="default"&&t[`deletableColor${ue(o)}`],t[f],t[`${f}${ue(o)}`]]}})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return V({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Ht.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Ht.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:r,fontSize:e.typography.pxToRem(12)},[`& .${Ht.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${Ht.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${Ht.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${Ht.icon}`]:V({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&V({color:e.vars?e.vars.palette.Chip.defaultIconColor:r},t.color!=="default"&&{color:"inherit"})),[`& .${Ht.deleteIcon}`]:V({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:Tt(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:Tt(e.palette.text.primary,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:Tt(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${Ht.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Tt(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${Ht.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>V({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Tt(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${Ht.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Tt(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${Ht.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>V({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${Ht.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${Ht.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${Ht.avatar}`]:{marginLeft:4},[`& .${Ht.avatarSmall}`]:{marginLeft:2},[`& .${Ht.icon}`]:{marginLeft:4},[`& .${Ht.iconSmall}`]:{marginLeft:2},[`& .${Ht.deleteIcon}`]:{marginRight:5},[`& .${Ht.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:Tt(e.palette[t.color].main,.7)}`,[`&.${Ht.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Tt(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${Ht.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:Tt(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${Ht.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:Tt(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),lxe=he("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:r}=e,{size:o}=r;return[t.label,t[`label${ue(o)}`]]}})(({ownerState:e})=>V({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.variant==="outlined"&&{paddingLeft:11,paddingRight:11},e.size==="small"&&{paddingLeft:8,paddingRight:8},e.size==="small"&&e.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function A6(e){return e.key==="Backspace"||e.key==="Delete"}const as=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiChip"}),{avatar:s,className:c,clickable:d,color:m="default",component:f,deleteIcon:k,disabled:v=!1,icon:_,label:y,onClick:A,onDelete:D,onKeyDown:S,onKeyUp:I,size:T="medium",variant:P="filled",tabIndex:N,skipFocusWhenDisabled:j=!1}=o,$=ke(o,ixe),U=B.useRef(null),R=Tn(U,r),z=re=>{re.stopPropagation(),D&&D(re)},W=re=>{re.currentTarget===re.target&&A6(re)&&re.preventDefault(),S&&S(re)},q=re=>{re.currentTarget===re.target&&(D&&A6(re)?D(re):re.key==="Escape"&&U.current&&U.current.blur()),I&&I(re)},Y=d!==!1&&A?!0:d,Z=Y||D?Za:f||"div",Q=V({},o,{component:Z,disabled:v,size:T,color:m,iconColor:B.isValidElement(_)&&_.props.color||m,onDelete:!!D,clickable:Y,variant:P}),J=sxe(Q),te=Z===Za?V({component:f||"div",focusVisibleClassName:J.focusVisible},D&&{disableRipple:!0}):{};let ee=null;D&&(ee=k&&B.isValidElement(k)?B.cloneElement(k,{className:pe(k.props.className,J.deleteIcon),onClick:z}):x.jsx(rxe,{className:pe(J.deleteIcon),onClick:z}));let ne=null;s&&B.isValidElement(s)&&(ne=B.cloneElement(s,{className:pe(J.avatar,s.props.className)}));let G=null;return _&&B.isValidElement(_)&&(G=B.cloneElement(_,{className:pe(J.icon,_.props.className)})),x.jsxs(axe,V({as:Z,className:pe(J.root,c),disabled:Y&&v?!0:void 0,onClick:A,onKeyDown:W,onKeyUp:q,ref:R,tabIndex:j&&v?-1:N,ownerState:Q},te,$,{children:[ne||G,x.jsx(lxe,{className:pe(J.label),ownerState:Q,children:y}),ee]}))}),cxe=["onChange","maxRows","minRows","style","value"];function Fv(e){return parseInt(e,10)||0}const uxe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function dxe(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflowing}const qT=B.forwardRef(function(t,r){const{onChange:o,maxRows:s,minRows:c=1,style:d,value:m}=t,f=ke(t,cxe),{current:k}=B.useRef(m!=null),v=B.useRef(null),_=Tn(r,v),y=B.useRef(null),A=B.useRef(null),D=B.useCallback(()=>{const T=v.current,N=nc(T).getComputedStyle(T);if(N.width==="0px")return{outerHeightStyle:0,overflowing:!1};const j=A.current;j.style.width=N.width,j.value=T.value||t.placeholder||"x",j.value.slice(-1)===`
`&&(j.value+=" ");const $=N.boxSizing,U=Fv(N.paddingBottom)+Fv(N.paddingTop),R=Fv(N.borderBottomWidth)+Fv(N.borderTopWidth),z=j.scrollHeight;j.value="x";const W=j.scrollHeight;let q=z;c&&(q=Math.max(Number(c)*W,q)),s&&(q=Math.min(Number(s)*W,q)),q=Math.max(q,W);const Y=q+($==="border-box"?U+R:0),Z=Math.abs(q-z)<=1;return{outerHeightStyle:Y,overflowing:Z}},[s,c,t.placeholder]),S=B.useCallback(()=>{const T=D();if(dxe(T))return;const P=T.outerHeightStyle,N=v.current;y.current!==P&&(y.current=P,N.style.height=`${P}px`),N.style.overflow=T.overflowing?"hidden":""},[D]);ui(()=>{const T=()=>{S()};let P;const N=IT(T),j=v.current,$=nc(j);$.addEventListener("resize",N);let U;return typeof ResizeObserver<"u"&&(U=new ResizeObserver(T),U.observe(j)),()=>{N.clear(),cancelAnimationFrame(P),$.removeEventListener("resize",N),U&&U.disconnect()}},[D,S]),ui(()=>{S()});const I=T=>{k||S(),o&&o(T)};return x.jsxs(B.Fragment,{children:[x.jsx("textarea",V({value:m,onChange:I,ref:_,rows:c,style:d},f)),x.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:A,tabIndex:-1,style:V({},uxe.shadow,d,{paddingTop:0,paddingBottom:0})})]})});function Gu({props:e,states:t,muiFormControl:r}){return t.reduce((o,s)=>(o[s]=e[s],r&&typeof e[s]>"u"&&(o[s]=r[s]),o),{})}const GT=B.createContext(void 0);function kc(){return B.useContext(GT)}function jq(e){return x.jsx(qwe,V({},e,{defaultTheme:OT,themeId:Hh}))}function x6(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function Bw(e,t=!1){return e&&(x6(e.value)&&e.value!==""||t&&x6(e.defaultValue)&&e.defaultValue!=="")}function hxe(e){return e.startAdornment}function pxe(e){return $e("MuiInputBase",e)}const ep=Ve("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),fxe=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],j_=(e,t)=>{const{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,r.size==="small"&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t[`color${ue(r.color)}`],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},F_=(e,t)=>{const{ownerState:r}=e;return[t.input,r.size==="small"&&t.inputSizeSmall,r.multiline&&t.inputMultiline,r.type==="search"&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},mxe=e=>{const{classes:t,color:r,disabled:o,error:s,endAdornment:c,focused:d,formControl:m,fullWidth:f,hiddenLabel:k,multiline:v,readOnly:_,size:y,startAdornment:A,type:D}=e,S={root:["root",`color${ue(r)}`,o&&"disabled",s&&"error",f&&"fullWidth",d&&"focused",m&&"formControl",y&&y!=="medium"&&`size${ue(y)}`,v&&"multiline",A&&"adornedStart",c&&"adornedEnd",k&&"hiddenLabel",_&&"readOnly"],input:["input",o&&"disabled",D==="search"&&"inputTypeSearch",v&&"inputMultiline",y==="small"&&"inputSizeSmall",k&&"inputHiddenLabel",A&&"inputAdornedStart",c&&"inputAdornedEnd",_&&"readOnly"]};return Ue(S,pxe,t)},z_=he("div",{name:"MuiInputBase",slot:"Root",overridesResolver:j_})(({theme:e,ownerState:t})=>V({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ep.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&V({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),$_=he("input",{name:"MuiInputBase",slot:"Input",overridesResolver:F_})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light",o=V({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),s={opacity:"0 !important"},c=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return V({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ep.formControl} &`]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":c,"&:focus::-moz-placeholder":c,"&:focus:-ms-input-placeholder":c,"&:focus::-ms-input-placeholder":c},[`&.${ep.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),gxe=x.jsx(jq,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),KT=B.forwardRef(function(t,r){var o;const s=He({props:t,name:"MuiInputBase"}),{"aria-describedby":c,autoComplete:d,autoFocus:m,className:f,components:k={},componentsProps:v={},defaultValue:_,disabled:y,disableInjectingGlobalStyles:A,endAdornment:D,fullWidth:S=!1,id:I,inputComponent:T="input",inputProps:P={},inputRef:N,maxRows:j,minRows:$,multiline:U=!1,name:R,onBlur:z,onChange:W,onClick:q,onFocus:Y,onKeyDown:Z,onKeyUp:Q,placeholder:J,readOnly:te,renderSuffix:ee,rows:ne,slotProps:G={},slots:re={},startAdornment:ie,type:_e="text",value:Te}=s,et=ke(s,fxe),Le=P.value!=null?P.value:Te,{current:st}=B.useRef(Le!=null),me=B.useRef(),ot=B.useCallback(Dt=>{},[]),it=Tn(me,N,P.ref,ot),[ct,At]=B.useState(!1),tt=kc(),Ne=Gu({props:s,muiFormControl:tt,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ne.focused=tt?tt.focused:ct,B.useEffect(()=>{!tt&&y&&ct&&(At(!1),z&&z())},[tt,y,ct,z]);const be=tt&&tt.onFilled,Pe=tt&&tt.onEmpty,Je=B.useCallback(Dt=>{Bw(Dt)?be&&be():Pe&&Pe()},[be,Pe]);ui(()=>{st&&Je({value:Le})},[Le,Je,st]);const ln=Dt=>{if(Ne.disabled){Dt.stopPropagation();return}Y&&Y(Dt),P.onFocus&&P.onFocus(Dt),tt&&tt.onFocus?tt.onFocus(Dt):At(!0)},Lt=Dt=>{z&&z(Dt),P.onBlur&&P.onBlur(Dt),tt&&tt.onBlur?tt.onBlur(Dt):At(!1)},xt=(Dt,...Ke)=>{if(!st){const cn=Dt.target||me.current;if(cn==null)throw new Error(Mu(1));Je({value:cn.value})}P.onChange&&P.onChange(Dt,...Ke),W&&W(Dt,...Ke)};B.useEffect(()=>{Je(me.current)},[]);const Ut=Dt=>{me.current&&Dt.currentTarget===Dt.target&&me.current.focus(),q&&q(Dt)};let dt=T,We=P;U&&dt==="input"&&(ne?We=V({type:void 0,minRows:ne,maxRows:ne},We):We=V({type:void 0,maxRows:j,minRows:$},We),dt=qT);const ut=Dt=>{Je(Dt.animationName==="mui-auto-fill-cancel"?me.current:{value:"x"})};B.useEffect(()=>{tt&&tt.setAdornedStart(!!ie)},[tt,ie]);const at=V({},s,{color:Ne.color||"primary",disabled:Ne.disabled,endAdornment:D,error:Ne.error,focused:Ne.focused,formControl:tt,fullWidth:S,hiddenLabel:Ne.hiddenLabel,multiline:U,size:Ne.size,startAdornment:ie,type:_e}),Ze=mxe(at),yt=re.root||k.Root||z_,Zt=G.root||v.root||{},Qn=re.input||k.Input||$_;return We=V({},We,(o=G.input)!=null?o:v.input),x.jsxs(B.Fragment,{children:[!A&&gxe,x.jsxs(yt,V({},Zt,!Kh(yt)&&{ownerState:V({},at,Zt.ownerState)},{ref:r,onClick:Ut},et,{className:pe(Ze.root,Zt.className,f,te&&"MuiInputBase-readOnly"),children:[ie,x.jsx(GT.Provider,{value:null,children:x.jsx(Qn,V({ownerState:at,"aria-invalid":Ne.error,"aria-describedby":c,autoComplete:d,autoFocus:m,defaultValue:_,disabled:Ne.disabled,id:I,onAnimationStart:ut,name:R,placeholder:J,readOnly:te,required:Ne.required,rows:ne,value:Le,onKeyDown:Z,onKeyUp:Q,type:_e},We,!Kh(Qn)&&{as:dt,ownerState:V({},at,We.ownerState)},{ref:it,className:pe(Ze.input,We.className,te&&"MuiInputBase-readOnly"),onBlur:Lt,onChange:xt,onFocus:ln}))}),D,ee?ee(V({},Ne,{startAdornment:ie})):null]}))]})});function bxe(e){return $e("MuiInput",e)}const Rf=V({},ep,Ve("MuiInput",["root","underline","input"]));function kxe(e){return $e("MuiOutlinedInput",e)}const kl=V({},ep,Ve("MuiOutlinedInput",["root","notchedOutline","input"]));function vxe(e){return $e("MuiFilledInput",e)}const Wc=V({},ep,Ve("MuiFilledInput",["root","underline","input"])),wxe=gc(x.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),yxe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],_xe={entering:{opacity:1},entered:{opacity:1}},Fq=B.forwardRef(function(t,r){const o=mc(),s={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:c,appear:d=!0,children:m,easing:f,in:k,onEnter:v,onEntered:_,onEntering:y,onExit:A,onExited:D,onExiting:S,style:I,timeout:T=s,TransitionComponent:P=fs}=t,N=ke(t,yxe),j=B.useRef(null),$=Tn(j,qu(m),r),U=J=>te=>{if(J){const ee=j.current;te===void 0?J(ee):J(ee,te)}},R=U(y),z=U((J,te)=>{_q(J);const ee=Yh({style:I,timeout:T,easing:f},{mode:"enter"});J.style.webkitTransition=o.transitions.create("opacity",ee),J.style.transition=o.transitions.create("opacity",ee),v&&v(J,te)}),W=U(_),q=U(S),Y=U(J=>{const te=Yh({style:I,timeout:T,easing:f},{mode:"exit"});J.style.webkitTransition=o.transitions.create("opacity",te),J.style.transition=o.transitions.create("opacity",te),A&&A(J)}),Z=U(D),Q=J=>{c&&c(j.current,J)};return x.jsx(P,V({appear:d,in:k,nodeRef:j,onEnter:z,onEntered:W,onEntering:R,onExit:Y,onExited:Z,onExiting:q,addEndListener:Q,timeout:T},N,{children:(J,te)=>B.cloneElement(m,V({style:V({opacity:0,visibility:J==="exited"&&!k?"hidden":void 0},_xe[J],I,m.props.style),ref:$},te))}))});function Cxe(e){return $e("MuiBackdrop",e)}Ve("MuiBackdrop",["root","invisible"]);const Axe=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],xxe=e=>{const{classes:t,invisible:r}=e;return Ue({root:["root",r&&"invisible"]},Cxe,t)},Exe=he("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})(({ownerState:e})=>V({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),zq=B.forwardRef(function(t,r){var o,s,c;const d=He({props:t,name:"MuiBackdrop"}),{children:m,className:f,component:k="div",components:v={},componentsProps:_={},invisible:y=!1,open:A,slotProps:D={},slots:S={},TransitionComponent:I=Fq,transitionDuration:T}=d,P=ke(d,Axe),N=V({},d,{component:k,invisible:y}),j=xxe(N),$=(o=D.root)!=null?o:_.root;return x.jsx(I,V({in:A,timeout:T},P,{children:x.jsx(Exe,V({"aria-hidden":!0},$,{as:(s=(c=S.root)!=null?c:v.Root)!=null?s:k,className:pe(j.root,f,$==null?void 0:$.className),ownerState:V({},N,$==null?void 0:$.ownerState),classes:j,ref:r,children:m}))}))}),Sxe=Ve("MuiBox",["root"]),Dxe=RT(),fe=Jwe({themeId:Hh,defaultTheme:Dxe,defaultClassName:Sxe.root,generateClassName:ST.generate});function Txe(e){return $e("MuiButton",e)}const zv=Ve("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Ixe=B.createContext({}),Mxe=B.createContext(void 0),Pxe=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Nxe=e=>{const{color:t,disableElevation:r,fullWidth:o,size:s,variant:c,classes:d}=e,m={root:["root",c,`${c}${ue(t)}`,`size${ue(s)}`,`${c}Size${ue(s)}`,`color${ue(t)}`,r&&"disableElevation",o&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${ue(s)}`],endIcon:["icon","endIcon",`iconSize${ue(s)}`]},f=Ue(m,Txe,d);return V({},d,f)},$q=e=>V({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Rxe=he(Za,{shouldForwardProp:e=>Wo(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${ue(r.color)}`],t[`size${ue(r.size)}`],t[`${r.variant}Size${ue(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var r,o;const s=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],c=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return V({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":V({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Tt(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Tt(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Tt(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:c,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":V({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${zv.focusVisible}`]:V({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${zv.disabled}`]:V({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${Tt(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(r=(o=e.palette).getContrastText)==null?void 0:r.call(o,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:s,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${zv.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${zv.disabled}`]:{boxShadow:"none"}}),Oxe=he("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,t[`iconSize${ue(r.size)}`]]}})(({ownerState:e})=>V({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},$q(e))),Bxe=he("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,t[`iconSize${ue(r.size)}`]]}})(({ownerState:e})=>V({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},$q(e))),ze=B.forwardRef(function(t,r){const o=B.useContext(Ixe),s=B.useContext(Mxe),c=wg(o,t),d=He({props:c,name:"MuiButton"}),{children:m,color:f="primary",component:k="button",className:v,disabled:_=!1,disableElevation:y=!1,disableFocusRipple:A=!1,endIcon:D,focusVisibleClassName:S,fullWidth:I=!1,size:T="medium",startIcon:P,type:N,variant:j="text"}=d,$=ke(d,Pxe),U=V({},d,{color:f,component:k,disabled:_,disableElevation:y,disableFocusRipple:A,fullWidth:I,size:T,type:N,variant:j}),R=Nxe(U),z=P&&x.jsx(Oxe,{className:R.startIcon,ownerState:U,children:P}),W=D&&x.jsx(Bxe,{className:R.endIcon,ownerState:U,children:D}),q=s||"";return x.jsxs(Rxe,V({ownerState:U,className:pe(o.className,R.root,v,q),component:k,disabled:_,focusRipple:!A,focusVisibleClassName:pe(R.focusVisible,S),ref:r,type:N},$,{classes:R,children:[z,m,W]}))});function Lxe(e){return $e("MuiCard",e)}Ve("MuiCard",["root"]);const jxe=["className","raised"],Fxe=e=>{const{classes:t}=e;return Ue({root:["root"]},Lxe,t)},zxe=he(co,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),Ts=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiCard"}),{className:s,raised:c=!1}=o,d=ke(o,jxe),m=V({},o,{raised:c}),f=Fxe(m);return x.jsx(zxe,V({className:pe(f.root,s),elevation:c?8:void 0,ref:r,ownerState:m},d))});function $xe(e){return $e("MuiCardActionArea",e)}const kx=Ve("MuiCardActionArea",["root","focusVisible","focusHighlight"]),Vxe=["children","className","focusVisibleClassName"],Uxe=e=>{const{classes:t}=e;return Ue({root:["root"],focusHighlight:["focusHighlight"]},$xe,t)},Hxe=he(Za,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${kx.focusHighlight}`]:{opacity:(e.vars||e).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${kx.focusVisible} .${kx.focusHighlight}`]:{opacity:(e.vars||e).palette.action.focusOpacity}})),Wxe=he("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(e,t)=>t.focusHighlight})(({theme:e})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})})),_a=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiCardActionArea"}),{children:s,className:c,focusVisibleClassName:d}=o,m=ke(o,Vxe),f=o,k=Uxe(f);return x.jsxs(Hxe,V({className:pe(k.root,c),focusVisibleClassName:pe(d,k.focusVisible),ref:r,ownerState:f},m,{children:[s,x.jsx(Wxe,{className:k.focusHighlight,ownerState:f})]}))});function qxe(e){return $e("MuiCardContent",e)}Ve("MuiCardContent",["root"]);const Gxe=["className","component"],Kxe=e=>{const{classes:t}=e;return Ue({root:["root"]},qxe,t)},Yxe=he("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Ca=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiCardContent"}),{className:s,component:c="div"}=o,d=ke(o,Gxe),m=V({},o,{component:c}),f=Kxe(m);return x.jsx(Yxe,V({as:c,className:pe(f.root,s),ownerState:m,ref:r},d))});function Qxe(e){return $e("PrivateSwitchBase",e)}Ve("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Zxe=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],Jxe=e=>{const{classes:t,checked:r,disabled:o,edge:s}=e,c={root:["root",r&&"checked",o&&"disabled",s&&`edge${ue(s)}`],input:["input"]};return Ue(c,Qxe,t)},Xxe=he(Za)(({ownerState:e})=>V({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),eEe=he("input",{shouldForwardProp:Wo})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),tEe=B.forwardRef(function(t,r){const{autoFocus:o,checked:s,checkedIcon:c,className:d,defaultChecked:m,disabled:f,disableFocusRipple:k=!1,edge:v=!1,icon:_,id:y,inputProps:A,inputRef:D,name:S,onBlur:I,onChange:T,onFocus:P,readOnly:N,required:j=!1,tabIndex:$,type:U,value:R}=t,z=ke(t,Zxe),[W,q]=Gh({controlled:s,default:!!m,name:"SwitchBase",state:"checked"}),Y=kc(),Z=re=>{P&&P(re),Y&&Y.onFocus&&Y.onFocus(re)},Q=re=>{I&&I(re),Y&&Y.onBlur&&Y.onBlur(re)},J=re=>{if(re.nativeEvent.defaultPrevented)return;const ie=re.target.checked;q(ie),T&&T(re,ie)};let te=f;Y&&typeof te>"u"&&(te=Y.disabled);const ee=U==="checkbox"||U==="radio",ne=V({},t,{checked:W,disabled:te,disableFocusRipple:k,edge:v}),G=Jxe(ne);return x.jsxs(Xxe,V({component:"span",className:pe(G.root,d),centerRipple:!0,focusRipple:!k,disabled:te,tabIndex:null,role:void 0,onFocus:Z,onBlur:Q,ownerState:ne,ref:r},z,{children:[x.jsx(eEe,V({autoFocus:o,checked:s,defaultChecked:m,className:G.input,disabled:te,id:ee?y:void 0,name:S,onChange:J,readOnly:N,ref:D,required:j,ownerState:ne,tabIndex:$,type:U},U==="checkbox"&&R===void 0?{}:{value:R},A)),W?c:_]}))});function nEe(e){return $e("MuiCircularProgress",e)}Ve("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const rEe=["className","color","disableShrink","size","style","thickness","value","variant"];let V_=e=>e,E6,S6,D6,T6;const vl=44,oEe=_p(E6||(E6=V_`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),iEe=_p(S6||(S6=V_`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),sEe=e=>{const{classes:t,variant:r,color:o,disableShrink:s}=e,c={root:["root",r,`color${ue(o)}`],svg:["svg"],circle:["circle",`circle${ue(r)}`,s&&"circleDisableShrink"]};return Ue(c,nEe,t)},aEe=he("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`color${ue(r.color)}`]]}})(({ownerState:e,theme:t})=>V({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&b_(D6||(D6=V_`
      animation: ${0} 1.4s linear infinite;
    `),oEe)),lEe=he("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),cEe=he("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t[`circle${ue(r.variant)}`],r.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>V({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&b_(T6||(T6=V_`
      animation: ${0} 1.4s ease-in-out infinite;
    `),iEe)),ra=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiCircularProgress"}),{className:s,color:c="primary",disableShrink:d=!1,size:m=40,style:f,thickness:k=3.6,value:v=0,variant:_="indeterminate"}=o,y=ke(o,rEe),A=V({},o,{color:c,disableShrink:d,size:m,thickness:k,value:v,variant:_}),D=sEe(A),S={},I={},T={};if(_==="determinate"){const P=2*Math.PI*((vl-k)/2);S.strokeDasharray=P.toFixed(3),T["aria-valuenow"]=Math.round(v),S.strokeDashoffset=`${((100-v)/100*P).toFixed(3)}px`,I.transform="rotate(-90deg)"}return x.jsx(aEe,V({className:pe(D.root,s),style:V({width:m,height:m},I,f),ownerState:A,ref:r,role:"progressbar"},T,y,{children:x.jsx(lEe,{className:D.svg,ownerState:A,viewBox:`${vl/2} ${vl/2} ${vl} ${vl}`,children:x.jsx(cEe,{className:D.circle,style:S,ownerState:A,cx:vl,cy:vl,r:(vl-k)/2,fill:"none",strokeWidth:k})})}))});function I6(e){return e.substring(2).toLowerCase()}function uEe(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function dEe(e){const{children:t,disableReactTree:r=!1,mouseEvent:o="onClick",onClickAway:s,touchEvent:c="onTouchEnd"}=e,d=B.useRef(!1),m=B.useRef(null),f=B.useRef(!1),k=B.useRef(!1);B.useEffect(()=>(setTimeout(()=>{f.current=!0},0),()=>{f.current=!1}),[]);const v=Tn(qu(t),m),_=Ri(D=>{const S=k.current;k.current=!1;const I=_r(m.current);if(!f.current||!m.current||"clientX"in D&&uEe(D,I))return;if(d.current){d.current=!1;return}let T;D.composedPath?T=D.composedPath().indexOf(m.current)>-1:T=!I.documentElement.contains(D.target)||m.current.contains(D.target),!T&&(r||!S)&&s(D)}),y=D=>S=>{k.current=!0;const I=t.props[D];I&&I(S)},A={ref:v};return c!==!1&&(A[c]=y(c)),B.useEffect(()=>{if(c!==!1){const D=I6(c),S=_r(m.current),I=()=>{d.current=!0};return S.addEventListener(D,_),S.addEventListener("touchmove",I),()=>{S.removeEventListener(D,_),S.removeEventListener("touchmove",I)}}},[_,c]),o!==!1&&(A[o]=y(o)),B.useEffect(()=>{if(o!==!1){const D=I6(o),S=_r(m.current);return S.addEventListener(D,_),()=>{S.removeEventListener(D,_)}}},[_,o]),x.jsx(B.Fragment,{children:B.cloneElement(t,A)})}const Vq=Kye({createStyledComponent:he("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${ue(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>He({props:e,name:"MuiContainer"})}),hEe=(e,t)=>V({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),pEe=e=>V({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),fEe=(e,t=!1)=>{var r;const o={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([d,m])=>{var f;o[e.getColorSchemeSelector(d).replace(/\s*&/,"")]={colorScheme:(f=m.palette)==null?void 0:f.mode}});let s=V({html:hEe(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:V({margin:0},pEe(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},o);const c=(r=e.components)==null||(r=r.MuiCssBaseline)==null?void 0:r.styleOverrides;return c&&(s=[s,c]),s};function mEe(e){const t=He({props:e,name:"MuiCssBaseline"}),{children:r,enableColorScheme:o=!1}=t;return x.jsxs(B.Fragment,{children:[x.jsx(jq,{styles:s=>fEe(s,o)}),r]})}function gEe(e){const t=_r(e);return t.body===e?nc(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Dm(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function M6(e){return parseInt(nc(e).getComputedStyle(e).paddingRight,10)||0}function bEe(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,o=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||o}function P6(e,t,r,o,s){const c=[t,r,...o];[].forEach.call(e.children,d=>{const m=c.indexOf(d)===-1,f=!bEe(d);m&&f&&Dm(d,s)})}function vx(e,t){let r=-1;return e.some((o,s)=>t(o)?(r=s,!0):!1),r}function kEe(e,t){const r=[],o=e.container;if(!t.disableScrollLock){if(gEe(o)){const d=nq(_r(o));r.push({value:o.style.paddingRight,property:"padding-right",el:o}),o.style.paddingRight=`${M6(o)+d}px`;const m=_r(o).querySelectorAll(".mui-fixed");[].forEach.call(m,f=>{r.push({value:f.style.paddingRight,property:"padding-right",el:f}),f.style.paddingRight=`${M6(f)+d}px`})}let c;if(o.parentNode instanceof DocumentFragment)c=_r(o).body;else{const d=o.parentElement,m=nc(o);c=(d==null?void 0:d.nodeName)==="HTML"&&m.getComputedStyle(d).overflowY==="scroll"?d:o}r.push({value:c.style.overflow,property:"overflow",el:c},{value:c.style.overflowX,property:"overflow-x",el:c},{value:c.style.overflowY,property:"overflow-y",el:c}),c.style.overflow="hidden"}return()=>{r.forEach(({value:c,el:d,property:m})=>{c?d.style.setProperty(m,c):d.style.removeProperty(m)})}}function vEe(e){const t=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&t.push(r)}),t}class wEe{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,r){let o=this.modals.indexOf(t);if(o!==-1)return o;o=this.modals.length,this.modals.push(t),t.modalRef&&Dm(t.modalRef,!1);const s=vEe(r);P6(r,t.mount,t.modalRef,s,!0);const c=vx(this.containers,d=>d.container===r);return c!==-1?(this.containers[c].modals.push(t),o):(this.containers.push({modals:[t],container:r,restore:null,hiddenSiblings:s}),o)}mount(t,r){const o=vx(this.containers,c=>c.modals.indexOf(t)!==-1),s=this.containers[o];s.restore||(s.restore=kEe(s,r))}remove(t,r=!0){const o=this.modals.indexOf(t);if(o===-1)return o;const s=vx(this.containers,d=>d.modals.indexOf(t)!==-1),c=this.containers[s];if(c.modals.splice(c.modals.indexOf(t),1),this.modals.splice(o,1),c.modals.length===0)c.restore&&c.restore(),t.modalRef&&Dm(t.modalRef,r),P6(c.container,t.mount,t.modalRef,c.hiddenSiblings,!1),this.containers.splice(s,1);else{const d=c.modals[c.modals.length-1];d.modalRef&&Dm(d.modalRef,!1)}return o}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const yEe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function _Ee(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function CEe(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=o=>e.ownerDocument.querySelector(`input[type="radio"]${o}`);let r=t(`[name="${e.name}"]:checked`);return r||(r=t(`[name="${e.name}"]`)),r!==e}function AEe(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||CEe(e))}function xEe(e){const t=[],r=[];return Array.from(e.querySelectorAll(yEe)).forEach((o,s)=>{const c=_Ee(o);c===-1||!AEe(o)||(c===0?t.push(o):r.push({documentOrder:s,tabIndex:c,node:o}))}),r.sort((o,s)=>o.tabIndex===s.tabIndex?o.documentOrder-s.documentOrder:o.tabIndex-s.tabIndex).map(o=>o.node).concat(t)}function EEe(){return!0}function SEe(e){const{children:t,disableAutoFocus:r=!1,disableEnforceFocus:o=!1,disableRestoreFocus:s=!1,getTabbable:c=xEe,isEnabled:d=EEe,open:m}=e,f=B.useRef(!1),k=B.useRef(null),v=B.useRef(null),_=B.useRef(null),y=B.useRef(null),A=B.useRef(!1),D=B.useRef(null),S=Tn(qu(t),D),I=B.useRef(null);B.useEffect(()=>{!m||!D.current||(A.current=!r)},[r,m]),B.useEffect(()=>{if(!m||!D.current)return;const N=_r(D.current);return D.current.contains(N.activeElement)||(D.current.hasAttribute("tabIndex")||D.current.setAttribute("tabIndex","-1"),A.current&&D.current.focus()),()=>{s||(_.current&&_.current.focus&&(f.current=!0,_.current.focus()),_.current=null)}},[m]),B.useEffect(()=>{if(!m||!D.current)return;const N=_r(D.current),j=R=>{I.current=R,!(o||!d()||R.key!=="Tab")&&N.activeElement===D.current&&R.shiftKey&&(f.current=!0,v.current&&v.current.focus())},$=()=>{const R=D.current;if(R===null)return;if(!N.hasFocus()||!d()||f.current){f.current=!1;return}if(R.contains(N.activeElement)||o&&N.activeElement!==k.current&&N.activeElement!==v.current)return;if(N.activeElement!==y.current)y.current=null;else if(y.current!==null)return;if(!A.current)return;let z=[];if((N.activeElement===k.current||N.activeElement===v.current)&&(z=c(D.current)),z.length>0){var W,q;const Y=!!((W=I.current)!=null&&W.shiftKey&&((q=I.current)==null?void 0:q.key)==="Tab"),Z=z[0],Q=z[z.length-1];typeof Z!="string"&&typeof Q!="string"&&(Y?Q.focus():Z.focus())}else R.focus()};N.addEventListener("focusin",$),N.addEventListener("keydown",j,!0);const U=setInterval(()=>{N.activeElement&&N.activeElement.tagName==="BODY"&&$()},50);return()=>{clearInterval(U),N.removeEventListener("focusin",$),N.removeEventListener("keydown",j,!0)}},[r,o,s,d,m,c]);const T=N=>{_.current===null&&(_.current=N.relatedTarget),A.current=!0,y.current=N.target;const j=t.props.onFocus;j&&j(N)},P=N=>{_.current===null&&(_.current=N.relatedTarget),A.current=!0};return x.jsxs(B.Fragment,{children:[x.jsx("div",{tabIndex:m?0:-1,onFocus:P,ref:k,"data-testid":"sentinelStart"}),B.cloneElement(t,{ref:S,onFocus:T}),x.jsx("div",{tabIndex:m?0:-1,onFocus:P,ref:v,"data-testid":"sentinelEnd"})]})}function DEe(e){return typeof e=="function"?e():e}function TEe(e){return e?e.props.hasOwnProperty("in"):!1}const IEe=new wEe;function MEe(e){const{container:t,disableEscapeKeyDown:r=!1,disableScrollLock:o=!1,manager:s=IEe,closeAfterTransition:c=!1,onTransitionEnter:d,onTransitionExited:m,children:f,onClose:k,open:v,rootRef:_}=e,y=B.useRef({}),A=B.useRef(null),D=B.useRef(null),S=Tn(D,_),[I,T]=B.useState(!v),P=TEe(f);let N=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(N=!1);const j=()=>_r(A.current),$=()=>(y.current.modalRef=D.current,y.current.mount=A.current,y.current),U=()=>{s.mount($(),{disableScrollLock:o}),D.current&&(D.current.scrollTop=0)},R=Ri(()=>{const ee=DEe(t)||j().body;s.add($(),ee),D.current&&U()}),z=B.useCallback(()=>s.isTopModal($()),[s]),W=Ri(ee=>{A.current=ee,ee&&(v&&z()?U():D.current&&Dm(D.current,N))}),q=B.useCallback(()=>{s.remove($(),N)},[N,s]);B.useEffect(()=>()=>{q()},[q]),B.useEffect(()=>{v?R():(!P||!c)&&q()},[v,q,P,c,R]);const Y=ee=>ne=>{var G;(G=ee.onKeyDown)==null||G.call(ee,ne),!(ne.key!=="Escape"||ne.which===229||!z())&&(r||(ne.stopPropagation(),k&&k(ne,"escapeKeyDown")))},Z=ee=>ne=>{var G;(G=ee.onClick)==null||G.call(ee,ne),ne.target===ne.currentTarget&&k&&k(ne,"backdropClick")};return{getRootProps:(ee={})=>{const ne=Pw(e);delete ne.onTransitionEnter,delete ne.onTransitionExited;const G=V({},ne,ee);return V({role:"presentation"},G,{onKeyDown:Y(G),ref:S})},getBackdropProps:(ee={})=>{const ne=ee;return V({"aria-hidden":!0},ne,{onClick:Z(ne),open:v})},getTransitionProps:()=>{const ee=()=>{T(!1),d&&d()},ne=()=>{T(!0),m&&m(),c&&q()};return{onEnter:vS(ee,f==null?void 0:f.props.onEnter),onExited:vS(ne,f==null?void 0:f.props.onExited)}},rootRef:S,portalRef:W,isTopModal:z,exited:I,hasTransition:P}}function PEe(e){return $e("MuiModal",e)}Ve("MuiModal",["root","hidden","backdrop"]);const NEe=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],REe=e=>{const{open:t,exited:r,classes:o}=e;return Ue({root:["root",!t&&r&&"hidden"],backdrop:["backdrop"]},PEe,o)},OEe=he("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})(({theme:e,ownerState:t})=>V({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),BEe=he(zq,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Uq=B.forwardRef(function(t,r){var o,s,c,d,m,f;const k=He({name:"MuiModal",props:t}),{BackdropComponent:v=BEe,BackdropProps:_,className:y,closeAfterTransition:A=!1,children:D,container:S,component:I,components:T={},componentsProps:P={},disableAutoFocus:N=!1,disableEnforceFocus:j=!1,disableEscapeKeyDown:$=!1,disablePortal:U=!1,disableRestoreFocus:R=!1,disableScrollLock:z=!1,hideBackdrop:W=!1,keepMounted:q=!1,onBackdropClick:Y,open:Z,slotProps:Q,slots:J}=k,te=ke(k,NEe),ee=V({},k,{closeAfterTransition:A,disableAutoFocus:N,disableEnforceFocus:j,disableEscapeKeyDown:$,disablePortal:U,disableRestoreFocus:R,disableScrollLock:z,hideBackdrop:W,keepMounted:q}),{getRootProps:ne,getBackdropProps:G,getTransitionProps:re,portalRef:ie,isTopModal:_e,exited:Te,hasTransition:et}=MEe(V({},ee,{rootRef:r})),Le=V({},ee,{exited:Te}),st=REe(Le),me={};if(D.props.tabIndex===void 0&&(me.tabIndex="-1"),et){const{onEnter:be,onExited:Pe}=re();me.onEnter=be,me.onExited=Pe}const ot=(o=(s=J==null?void 0:J.root)!=null?s:T.Root)!=null?o:OEe,it=(c=(d=J==null?void 0:J.backdrop)!=null?d:T.Backdrop)!=null?c:v,ct=(m=Q==null?void 0:Q.root)!=null?m:P.root,At=(f=Q==null?void 0:Q.backdrop)!=null?f:P.backdrop,tt=rc({elementType:ot,externalSlotProps:ct,externalForwardedProps:te,getSlotProps:ne,additionalProps:{ref:r,as:I},ownerState:Le,className:pe(y,ct==null?void 0:ct.className,st==null?void 0:st.root,!Le.open&&Le.exited&&(st==null?void 0:st.hidden))}),Ne=rc({elementType:it,externalSlotProps:At,additionalProps:_,getSlotProps:be=>G(V({},be,{onClick:Pe=>{Y&&Y(Pe),be!=null&&be.onClick&&be.onClick(Pe)}})),className:pe(At==null?void 0:At.className,_==null?void 0:_.className,st==null?void 0:st.backdrop),ownerState:Le});return!q&&!Z&&(!et||Te)?null:x.jsx(Bq,{ref:ie,container:S,disablePortal:U,children:x.jsxs(ot,V({},tt,{children:[!W&&v?x.jsx(it,V({},Ne)):null,x.jsx(SEe,{disableEnforceFocus:j,disableAutoFocus:N,disableRestoreFocus:R,isEnabled:_e,open:Z,children:B.cloneElement(D,me)})]}))})});function LEe(e){return $e("MuiDialog",e)}const wx=Ve("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Hq=B.createContext({}),jEe=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],FEe=he(zq,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),zEe=e=>{const{classes:t,scroll:r,maxWidth:o,fullWidth:s,fullScreen:c}=e,d={root:["root"],container:["container",`scroll${ue(r)}`],paper:["paper",`paperScroll${ue(r)}`,`paperWidth${ue(String(o))}`,s&&"paperFullWidth",c&&"paperFullScreen"]};return Ue(d,LEe,t)},$Ee=he(Uq,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),VEe=he("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.container,t[`scroll${ue(r.scroll)}`]]}})(({ownerState:e})=>V({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),UEe=he(co,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.paper,t[`scrollPaper${ue(r.scroll)}`],t[`paperWidth${ue(String(r.maxWidth))}`],r.fullWidth&&t.paperFullWidth,r.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>V({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${wx.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${wx.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${wx.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),ms=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiDialog"}),s=mc(),c={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":d,"aria-labelledby":m,BackdropComponent:f,BackdropProps:k,children:v,className:_,disableEscapeKeyDown:y=!1,fullScreen:A=!1,fullWidth:D=!1,maxWidth:S="sm",onBackdropClick:I,onClick:T,onClose:P,open:N,PaperComponent:j=co,PaperProps:$={},scroll:U="paper",TransitionComponent:R=Fq,transitionDuration:z=c,TransitionProps:W}=o,q=ke(o,jEe),Y=V({},o,{disableEscapeKeyDown:y,fullScreen:A,fullWidth:D,maxWidth:S,scroll:U}),Z=zEe(Y),Q=B.useRef(),J=G=>{Q.current=G.target===G.currentTarget},te=G=>{T&&T(G),Q.current&&(Q.current=null,I&&I(G),P&&P(G,"backdropClick"))},ee=vb(m),ne=B.useMemo(()=>({titleId:ee}),[ee]);return x.jsx($Ee,V({className:pe(Z.root,_),closeAfterTransition:!0,components:{Backdrop:FEe},componentsProps:{backdrop:V({transitionDuration:z,as:f},k)},disableEscapeKeyDown:y,onClose:P,open:N,ref:r,onClick:te,ownerState:Y},q,{children:x.jsx(R,V({appear:!0,in:N,timeout:z,role:"presentation"},W,{children:x.jsx(VEe,{className:pe(Z.container),onMouseDown:J,ownerState:Y,children:x.jsx(UEe,V({as:j,elevation:24,role:"dialog","aria-describedby":d,"aria-labelledby":ee},$,{className:pe(Z.paper,$.className),ownerState:Y,children:x.jsx(Hq.Provider,{value:ne,children:v})}))})}))}))});function HEe(e){return $e("MuiDialogActions",e)}Ve("MuiDialogActions",["root","spacing"]);const WEe=["className","disableSpacing"],qEe=e=>{const{classes:t,disableSpacing:r}=e;return Ue({root:["root",!r&&"spacing"]},HEe,t)},GEe=he("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})(({ownerState:e})=>V({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),gs=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiDialogActions"}),{className:s,disableSpacing:c=!1}=o,d=ke(o,WEe),m=V({},o,{disableSpacing:c}),f=qEe(m);return x.jsx(GEe,V({className:pe(f.root,s),ownerState:m,ref:r},d))});function KEe(e){return $e("MuiDialogContent",e)}Ve("MuiDialogContent",["root","dividers"]);function YEe(e){return $e("MuiDialogTitle",e)}const QEe=Ve("MuiDialogTitle",["root"]),ZEe=["className","dividers"],JEe=e=>{const{classes:t,dividers:r}=e;return Ue({root:["root",r&&"dividers"]},KEe,t)},XEe=he("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>V({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${QEe.root} + &`]:{paddingTop:0}})),bs=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiDialogContent"}),{className:s,dividers:c=!1}=o,d=ke(o,ZEe),m=V({},o,{dividers:c}),f=JEe(m);return x.jsx(XEe,V({className:pe(f.root,s),ownerState:m,ref:r},d))});function eSe(e){return $e("MuiDialogContentText",e)}Ve("MuiDialogContentText",["root"]);const tSe=["children","className"],nSe=e=>{const{classes:t}=e,o=Ue({root:["root"]},eSe,t);return V({},t,o)},rSe=he(we,{shouldForwardProp:e=>Wo(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ks=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiDialogContentText"}),{className:s}=o,c=ke(o,tSe),d=nSe(c);return x.jsx(rSe,V({component:"p",variant:"body1",color:"text.secondary",ref:r,ownerState:c,className:pe(d.root,s)},o,{classes:d}))}),oSe=["className","id"],iSe=e=>{const{classes:t}=e;return Ue({root:["root"]},YEe,t)},sSe=he(we,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),vs=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiDialogTitle"}),{className:s,id:c}=o,d=ke(o,oSe),m=o,f=iSe(m),{titleId:k=c}=B.useContext(Hq);return x.jsx(sSe,V({component:"h2",className:pe(f.root,s),ownerState:m,ref:r,variant:"h6",id:c??k},d))});function aSe(e){return $e("MuiDivider",e)}const N6=Ve("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),lSe=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],cSe=e=>{const{absolute:t,children:r,classes:o,flexItem:s,light:c,orientation:d,textAlign:m,variant:f}=e;return Ue({root:["root",t&&"absolute",f,c&&"light",d==="vertical"&&"vertical",s&&"flexItem",r&&"withChildren",r&&d==="vertical"&&"withChildrenVertical",m==="right"&&d!=="vertical"&&"textAlignRight",m==="left"&&d!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",d==="vertical"&&"wrapperVertical"]},aSe,o)},uSe=he("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,r.orientation==="vertical"&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&r.orientation==="vertical"&&t.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&t.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>V({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:Tt(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>V({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>V({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}),({theme:e,ownerState:t})=>V({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:e})=>V({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),dSe=he("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.wrapper,r.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>V({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),xg=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiDivider"}),{absolute:s=!1,children:c,className:d,component:m=c?"div":"hr",flexItem:f=!1,light:k=!1,orientation:v="horizontal",role:_=m!=="hr"?"separator":void 0,textAlign:y="center",variant:A="fullWidth"}=o,D=ke(o,lSe),S=V({},o,{absolute:s,component:m,flexItem:f,light:k,orientation:v,role:_,textAlign:y,variant:A}),I=cSe(S);return x.jsx(uSe,V({as:m,className:pe(I.root,d),role:_,ref:r,ownerState:S},D,{children:c?x.jsx(dSe,{className:I.wrapper,ownerState:S,children:c}):null}))});xg.muiSkipListHighlight=!0;const hSe=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],pSe=e=>{const{classes:t,disableUnderline:r}=e,s=Ue({root:["root",!r&&"underline"],input:["input"]},vxe,t);return V({},t,s)},fSe=he(z_,{shouldForwardProp:e=>Wo(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...j_(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var r;const o=e.palette.mode==="light",s=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",c=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",d=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",m=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return V({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:c,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:d,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:c}},[`&.${Wc.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:c},[`&.${Wc.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:m}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(r=(e.vars||e).palette[t.color||"primary"])==null?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Wc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Wc.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Wc.disabled}, .${Wc.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Wc.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&V({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),mSe=he($_,{name:"MuiFilledInput",slot:"Input",overridesResolver:F_})(({theme:e,ownerState:t})=>V({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),YT=B.forwardRef(function(t,r){var o,s,c,d;const m=He({props:t,name:"MuiFilledInput"}),{components:f={},componentsProps:k,fullWidth:v=!1,inputComponent:_="input",multiline:y=!1,slotProps:A,slots:D={},type:S="text"}=m,I=ke(m,hSe),T=V({},m,{fullWidth:v,inputComponent:_,multiline:y,type:S}),P=pSe(m),N={root:{ownerState:T},input:{ownerState:T}},j=A??k?_o(N,A??k):N,$=(o=(s=D.root)!=null?s:f.Root)!=null?o:fSe,U=(c=(d=D.input)!=null?d:f.Input)!=null?c:mSe;return x.jsx(KT,V({slots:{root:$,input:U},componentsProps:j,fullWidth:v,inputComponent:_,multiline:y,ref:r,type:S},I,{classes:P}))});YT.muiName="Input";function gSe(e){return $e("MuiFormControl",e)}Ve("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const bSe=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],kSe=e=>{const{classes:t,margin:r,fullWidth:o}=e,s={root:["root",r!=="none"&&`margin${ue(r)}`,o&&"fullWidth"]};return Ue(s,gSe,t)},vSe=he("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>V({},t.root,t[`margin${ue(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>V({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),Ab=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiFormControl"}),{children:s,className:c,color:d="primary",component:m="div",disabled:f=!1,error:k=!1,focused:v,fullWidth:_=!1,hiddenLabel:y=!1,margin:A="none",required:D=!1,size:S="medium",variant:I="outlined"}=o,T=ke(o,bSe),P=V({},o,{color:d,component:m,disabled:f,error:k,fullWidth:_,hiddenLabel:y,margin:A,required:D,size:S,variant:I}),N=kSe(P),[j,$]=B.useState(()=>{let Q=!1;return s&&B.Children.forEach(s,J=>{if(!xm(J,["Input","Select"]))return;const te=xm(J,["Select"])?J.props.input:J;te&&hxe(te.props)&&(Q=!0)}),Q}),[U,R]=B.useState(()=>{let Q=!1;return s&&B.Children.forEach(s,J=>{xm(J,["Input","Select"])&&(Bw(J.props,!0)||Bw(J.props.inputProps,!0))&&(Q=!0)}),Q}),[z,W]=B.useState(!1);f&&z&&W(!1);const q=v!==void 0&&!f?v:z;let Y;const Z=B.useMemo(()=>({adornedStart:j,setAdornedStart:$,color:d,disabled:f,error:k,filled:U,focused:q,fullWidth:_,hiddenLabel:y,size:S,onBlur:()=>{W(!1)},onEmpty:()=>{R(!1)},onFilled:()=>{R(!0)},onFocus:()=>{W(!0)},registerEffect:Y,required:D,variant:I}),[j,d,f,k,U,q,_,y,Y,D,S,I]);return x.jsx(GT.Provider,{value:Z,children:x.jsx(vSe,V({as:m,ownerState:P,className:pe(N.root,c),ref:r},T,{children:s}))})}),Wq=n_e({createStyledComponent:he("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>He({props:e,name:"MuiStack"})});function wSe(e){return $e("MuiFormControlLabel",e)}const om=Ve("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),ySe=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],_Se=e=>{const{classes:t,disabled:r,labelPlacement:o,error:s,required:c}=e,d={root:["root",r&&"disabled",`labelPlacement${ue(o)}`,s&&"error",c&&"required"],label:["label",r&&"disabled"],asterisk:["asterisk",s&&"error"]};return Ue(d,wSe,t)},CSe=he("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${om.label}`]:t.label},t.root,t[`labelPlacement${ue(r.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>V({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${om.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${om.label}`]:{[`&.${om.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),ASe=he("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${om.error}`]:{color:(e.vars||e).palette.error.main}})),R6=B.forwardRef(function(t,r){var o,s;const c=He({props:t,name:"MuiFormControlLabel"}),{className:d,componentsProps:m={},control:f,disabled:k,disableTypography:v,label:_,labelPlacement:y="end",required:A,slotProps:D={}}=c,S=ke(c,ySe),I=kc(),T=(o=k??f.props.disabled)!=null?o:I==null?void 0:I.disabled,P=A??f.props.required,N={disabled:T,required:P};["checked","name","onChange","value","inputRef"].forEach(W=>{typeof f.props[W]>"u"&&typeof c[W]<"u"&&(N[W]=c[W])});const j=Gu({props:c,muiFormControl:I,states:["error"]}),$=V({},c,{disabled:T,labelPlacement:y,required:P,error:j.error}),U=_Se($),R=(s=D.typography)!=null?s:m.typography;let z=_;return z!=null&&z.type!==we&&!v&&(z=x.jsx(we,V({component:"span"},R,{className:pe(U.label,R==null?void 0:R.className),children:z}))),x.jsxs(CSe,V({className:pe(U.root,d),ownerState:$,ref:r},S,{children:[B.cloneElement(f,N),P?x.jsxs(Wq,{display:"block",children:[z,x.jsxs(ASe,{ownerState:$,"aria-hidden":!0,className:U.asterisk,children:["","*"]})]}):z]}))});function xSe(e){return $e("MuiFormHelperText",e)}const O6=Ve("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var B6;const ESe=["children","className","component","disabled","error","filled","focused","margin","required","variant"],SSe=e=>{const{classes:t,contained:r,size:o,disabled:s,error:c,filled:d,focused:m,required:f}=e,k={root:["root",s&&"disabled",c&&"error",o&&`size${ue(o)}`,r&&"contained",m&&"focused",d&&"filled",f&&"required"]};return Ue(k,xSe,t)},DSe=he("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.size&&t[`size${ue(r.size)}`],r.contained&&t.contained,r.filled&&t.filled]}})(({theme:e,ownerState:t})=>V({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${O6.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${O6.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),TSe=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiFormHelperText"}),{children:s,className:c,component:d="p"}=o,m=ke(o,ESe),f=kc(),k=Gu({props:o,muiFormControl:f,states:["variant","size","disabled","error","filled","focused","required"]}),v=V({},o,{component:d,contained:k.variant==="filled"||k.variant==="outlined",variant:k.variant,size:k.size,disabled:k.disabled,error:k.error,filled:k.filled,focused:k.focused,required:k.required}),_=SSe(v);return x.jsx(DSe,V({as:d,ownerState:v,className:pe(_.root,c),ref:r},m,{children:s===" "?B6||(B6=x.jsx("span",{className:"notranslate",children:""})):s}))});function ISe(e){return $e("MuiFormLabel",e)}const Tm=Ve("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),MSe=["children","className","color","component","disabled","error","filled","focused","required"],PSe=e=>{const{classes:t,color:r,focused:o,disabled:s,error:c,filled:d,required:m}=e,f={root:["root",`color${ue(r)}`,s&&"disabled",c&&"error",d&&"filled",o&&"focused",m&&"required"],asterisk:["asterisk",c&&"error"]};return Ue(f,ISe,t)},NSe=he("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>V({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>V({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Tm.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${Tm.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Tm.error}`]:{color:(e.vars||e).palette.error.main}})),RSe=he("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${Tm.error}`]:{color:(e.vars||e).palette.error.main}})),xi=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiFormLabel"}),{children:s,className:c,component:d="label"}=o,m=ke(o,MSe),f=kc(),k=Gu({props:o,muiFormControl:f,states:["color","required","focused","disabled","error","filled"]}),v=V({},o,{color:k.color||"primary",component:d,disabled:k.disabled,error:k.error,filled:k.filled,focused:k.focused,required:k.required}),_=PSe(v);return x.jsxs(NSe,V({as:d,ownerState:v,className:pe(_.root,c),ref:r},m,{children:[s,k.required&&x.jsxs(RSe,{ownerState:v,"aria-hidden":!0,className:_.asterisk,children:["","*"]})]}))}),L6=B.createContext();function OSe(e){return $e("MuiGrid",e)}const BSe=[0,1,2,3,4,5,6,7,8,9,10],LSe=["column-reverse","column","row-reverse","row"],jSe=["nowrap","wrap-reverse","wrap"],Of=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Eg=Ve("MuiGrid",["root","container","item","zeroMinWidth",...BSe.map(e=>`spacing-xs-${e}`),...LSe.map(e=>`direction-xs-${e}`),...jSe.map(e=>`wrap-xs-${e}`),...Of.map(e=>`grid-xs-${e}`),...Of.map(e=>`grid-sm-${e}`),...Of.map(e=>`grid-md-${e}`),...Of.map(e=>`grid-lg-${e}`),...Of.map(e=>`grid-xl-${e}`)]),FSe=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Ch(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function zSe({theme:e,ownerState:t}){let r;return e.breakpoints.keys.reduce((o,s)=>{let c={};if(t[s]&&(r=t[s]),!r)return o;if(r===!0)c={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(r==="auto")c={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const d=pu({values:t.columns,breakpoints:e.breakpoints.values}),m=typeof d=="object"?d[s]:d;if(m==null)return o;const f=`${Math.round(r/m*1e8)/1e6}%`;let k={};if(t.container&&t.item&&t.columnSpacing!==0){const v=e.spacing(t.columnSpacing);if(v!=="0px"){const _=`calc(${f} + ${Ch(v)})`;k={flexBasis:_,maxWidth:_}}}c=V({flexBasis:f,flexGrow:0,maxWidth:f},k)}return e.breakpoints.values[s]===0?Object.assign(o,c):o[e.breakpoints.up(s)]=c,o},{})}function $Se({theme:e,ownerState:t}){const r=pu({values:t.direction,breakpoints:e.breakpoints.values});return Ho({theme:e},r,o=>{const s={flexDirection:o};return o.indexOf("column")===0&&(s[`& > .${Eg.item}`]={maxWidth:"none"}),s})}function qq({breakpoints:e,values:t}){let r="";Object.keys(t).forEach(s=>{r===""&&t[s]!==0&&(r=s)});const o=Object.keys(e).sort((s,c)=>e[s]-e[c]);return o.slice(0,o.indexOf(r))}function VSe({theme:e,ownerState:t}){const{container:r,rowSpacing:o}=t;let s={};if(r&&o!==0){const c=pu({values:o,breakpoints:e.breakpoints.values});let d;typeof c=="object"&&(d=qq({breakpoints:e.breakpoints.values,values:c})),s=Ho({theme:e},c,(m,f)=>{var k;const v=e.spacing(m);return v!=="0px"?{marginTop:`-${Ch(v)}`,[`& > .${Eg.item}`]:{paddingTop:Ch(v)}}:(k=d)!=null&&k.includes(f)?{}:{marginTop:0,[`& > .${Eg.item}`]:{paddingTop:0}}})}return s}function USe({theme:e,ownerState:t}){const{container:r,columnSpacing:o}=t;let s={};if(r&&o!==0){const c=pu({values:o,breakpoints:e.breakpoints.values});let d;typeof c=="object"&&(d=qq({breakpoints:e.breakpoints.values,values:c})),s=Ho({theme:e},c,(m,f)=>{var k;const v=e.spacing(m);return v!=="0px"?{width:`calc(100% + ${Ch(v)})`,marginLeft:`-${Ch(v)}`,[`& > .${Eg.item}`]:{paddingLeft:Ch(v)}}:(k=d)!=null&&k.includes(f)?{}:{width:"100%",marginLeft:0,[`& > .${Eg.item}`]:{paddingLeft:0}}})}return s}function HSe(e,t,r={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[r[`spacing-xs-${String(e)}`]];const o=[];return t.forEach(s=>{const c=e[s];Number(c)>0&&o.push(r[`spacing-${s}-${String(c)}`])}),o}const WSe=he("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{container:o,direction:s,item:c,spacing:d,wrap:m,zeroMinWidth:f,breakpoints:k}=r;let v=[];o&&(v=HSe(d,k,t));const _=[];return k.forEach(y=>{const A=r[y];A&&_.push(t[`grid-${y}-${String(A)}`])}),[t.root,o&&t.container,c&&t.item,f&&t.zeroMinWidth,...v,s!=="row"&&t[`direction-xs-${String(s)}`],m!=="wrap"&&t[`wrap-xs-${String(m)}`],..._]}})(({ownerState:e})=>V({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),$Se,VSe,USe,zSe);function qSe(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const r=[];return t.forEach(o=>{const s=e[o];if(Number(s)>0){const c=`spacing-${o}-${String(s)}`;r.push(c)}}),r}const GSe=e=>{const{classes:t,container:r,direction:o,item:s,spacing:c,wrap:d,zeroMinWidth:m,breakpoints:f}=e;let k=[];r&&(k=qSe(c,f));const v=[];f.forEach(y=>{const A=e[y];A&&v.push(`grid-${y}-${String(A)}`)});const _={root:["root",r&&"container",s&&"item",m&&"zeroMinWidth",...k,o!=="row"&&`direction-xs-${String(o)}`,d!=="wrap"&&`wrap-xs-${String(d)}`,...v]};return Ue(_,OSe,t)},vt=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiGrid"}),{breakpoints:s}=mc(),c=kb(o),{className:d,columns:m,columnSpacing:f,component:k="div",container:v=!1,direction:_="row",item:y=!1,rowSpacing:A,spacing:D=0,wrap:S="wrap",zeroMinWidth:I=!1}=c,T=ke(c,FSe),P=A||D,N=f||D,j=B.useContext(L6),$=v?m||12:j,U={},R=V({},T);s.keys.forEach(q=>{T[q]!=null&&(U[q]=T[q],delete R[q])});const z=V({},c,{columns:$,container:v,direction:_,item:y,rowSpacing:P,columnSpacing:N,wrap:S,zeroMinWidth:I,spacing:D},U,{breakpoints:s.keys}),W=GSe(z);return x.jsx(L6.Provider,{value:$,children:x.jsx(WSe,V({ownerState:z,className:pe(W.root,d),as:k,ref:r},R))})}),KSe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function IS(e){return`scale(${e}, ${e**2})`}const YSe={entering:{opacity:1,transform:IS(1)},entered:{opacity:1,transform:"none"}},yx=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Sg=B.forwardRef(function(t,r){const{addEndListener:o,appear:s=!0,children:c,easing:d,in:m,onEnter:f,onEntered:k,onEntering:v,onExit:_,onExited:y,onExiting:A,style:D,timeout:S="auto",TransitionComponent:I=fs}=t,T=ke(t,KSe),P=Rl(),N=B.useRef(),j=mc(),$=B.useRef(null),U=Tn($,qu(c),r),R=te=>ee=>{if(te){const ne=$.current;ee===void 0?te(ne):te(ne,ee)}},z=R(v),W=R((te,ee)=>{_q(te);const{duration:ne,delay:G,easing:re}=Yh({style:D,timeout:S,easing:d},{mode:"enter"});let ie;S==="auto"?(ie=j.transitions.getAutoHeightDuration(te.clientHeight),N.current=ie):ie=ne,te.style.transition=[j.transitions.create("opacity",{duration:ie,delay:G}),j.transitions.create("transform",{duration:yx?ie:ie*.666,delay:G,easing:re})].join(","),f&&f(te,ee)}),q=R(k),Y=R(A),Z=R(te=>{const{duration:ee,delay:ne,easing:G}=Yh({style:D,timeout:S,easing:d},{mode:"exit"});let re;S==="auto"?(re=j.transitions.getAutoHeightDuration(te.clientHeight),N.current=re):re=ee,te.style.transition=[j.transitions.create("opacity",{duration:re,delay:ne}),j.transitions.create("transform",{duration:yx?re:re*.666,delay:yx?ne:ne||re*.333,easing:G})].join(","),te.style.opacity=0,te.style.transform=IS(.75),_&&_(te)}),Q=R(y),J=te=>{S==="auto"&&P.start(N.current||0,te),o&&o($.current,te)};return x.jsx(I,V({appear:s,in:m,nodeRef:$,onEnter:W,onEntered:q,onEntering:z,onExit:Z,onExited:Q,onExiting:Y,addEndListener:J,timeout:S==="auto"?null:S},T,{children:(te,ee)=>B.cloneElement(c,V({style:V({opacity:0,transform:IS(.75),visibility:te==="exited"&&!m?"hidden":void 0},YSe[te],D,c.props.style),ref:U},ee))}))});Sg.muiSupportAuto=!0;const QSe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],ZSe=e=>{const{classes:t,disableUnderline:r}=e,s=Ue({root:["root",!r&&"underline"],input:["input"]},bxe,t);return V({},t,s)},JSe=he(z_,{shouldForwardProp:e=>Wo(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...j_(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let o=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(o=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),V({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Rf.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Rf.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Rf.disabled}, .${Rf.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${o}`}},[`&.${Rf.disabled}:before`]:{borderBottomStyle:"dotted"}})}),XSe=he($_,{name:"MuiInput",slot:"Input",overridesResolver:F_})({}),QT=B.forwardRef(function(t,r){var o,s,c,d;const m=He({props:t,name:"MuiInput"}),{disableUnderline:f,components:k={},componentsProps:v,fullWidth:_=!1,inputComponent:y="input",multiline:A=!1,slotProps:D,slots:S={},type:I="text"}=m,T=ke(m,QSe),P=ZSe(m),j={root:{ownerState:{disableUnderline:f}}},$=D??v?_o(D??v,j):j,U=(o=(s=S.root)!=null?s:k.Root)!=null?o:JSe,R=(c=(d=S.input)!=null?d:k.Input)!=null?c:XSe;return x.jsx(KT,V({slots:{root:U,input:R},slotProps:$,fullWidth:_,inputComponent:y,multiline:A,ref:r,type:I},T,{classes:P}))});QT.muiName="Input";function e2e(e){return $e("MuiInputLabel",e)}Ve("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const t2e=["disableAnimation","margin","shrink","variant","className"],n2e=e=>{const{classes:t,formControl:r,size:o,shrink:s,disableAnimation:c,variant:d,required:m}=e,f={root:["root",r&&"formControl",!c&&"animated",s&&"shrink",o&&o!=="normal"&&`size${ue(o)}`,d],asterisk:[m&&"asterisk"]},k=Ue(f,e2e,t);return V({},t,k)},r2e=he(xi,{shouldForwardProp:e=>Wo(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${Tm.asterisk}`]:t.asterisk},t.root,r.formControl&&t.formControl,r.size==="small"&&t.sizeSmall,r.shrink&&t.shrink,!r.disableAnimation&&t.animated,r.focused&&t.focused,t[r.variant]]}})(({theme:e,ownerState:t})=>V({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&V({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&V({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&V({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),xb=B.forwardRef(function(t,r){const o=He({name:"MuiInputLabel",props:t}),{disableAnimation:s=!1,shrink:c,className:d}=o,m=ke(o,t2e),f=kc();let k=c;typeof k>"u"&&f&&(k=f.filled||f.focused||f.adornedStart);const v=Gu({props:o,muiFormControl:f,states:["size","variant","required","focused"]}),_=V({},o,{disableAnimation:s,formControl:f,shrink:k,size:v.size,variant:v.variant,required:v.required,focused:v.focused}),y=n2e(_);return x.jsx(r2e,V({"data-shrink":k,ownerState:_,ref:r,className:pe(y.root,d)},m,{classes:y}))});function o2e(e){return $e("MuiLink",e)}const i2e=Ve("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),Gq={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},s2e=e=>Gq[e]||e,a2e=({theme:e,ownerState:t})=>{const r=s2e(t.color),o=qh(e,`palette.${r}`,!1)||t.color,s=qh(e,`palette.${r}Channel`);return"vars"in e&&s?`rgba(${s} / 0.4)`:Tt(o,.4)},l2e=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],c2e=e=>{const{classes:t,component:r,focusVisible:o,underline:s}=e,c={root:["root",`underline${ue(s)}`,r==="button"&&"button",o&&"focusVisible"]};return Ue(c,o2e,t)},u2e=he(we,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`underline${ue(r.underline)}`],r.component==="button"&&t.button]}})(({theme:e,ownerState:t})=>V({},t.underline==="none"&&{textDecoration:"none"},t.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},t.underline==="always"&&V({textDecoration:"underline"},t.color!=="inherit"&&{textDecorationColor:a2e({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),t.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${i2e.focusVisible}`]:{outline:"auto"}})),MS=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiLink"}),{className:s,color:c="primary",component:d="a",onBlur:m,onFocus:f,TypographyClasses:k,underline:v="always",variant:_="inherit",sx:y}=o,A=ke(o,l2e),{isFocusVisibleRef:D,onBlur:S,onFocus:I,ref:T}=O_(),[P,N]=B.useState(!1),j=Tn(r,T),$=W=>{S(W),D.current===!1&&N(!1),m&&m(W)},U=W=>{I(W),D.current===!0&&N(!0),f&&f(W)},R=V({},o,{color:c,component:d,focusVisible:P,underline:v,variant:_}),z=c2e(R);return x.jsx(u2e,V({color:c,className:pe(z.root,s),classes:k,component:d,onBlur:$,onFocus:U,ref:j,ownerState:R,variant:_,sx:[...Object.keys(Gq).includes(c)?[]:[{color:c}],...Array.isArray(y)?y:[y]]},A))}),Kl=B.createContext({});function d2e(e){return $e("MuiList",e)}Ve("MuiList",["root","padding","dense","subheader"]);const h2e=["children","className","component","dense","disablePadding","subheader"],p2e=e=>{const{classes:t,disablePadding:r,dense:o,subheader:s}=e;return Ue({root:["root",!r&&"padding",o&&"dense",s&&"subheader"]},d2e,t)},f2e=he("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})(({ownerState:e})=>V({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),x0=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiList"}),{children:s,className:c,component:d="ul",dense:m=!1,disablePadding:f=!1,subheader:k}=o,v=ke(o,h2e),_=B.useMemo(()=>({dense:m}),[m]),y=V({},o,{component:d,dense:m,disablePadding:f}),A=p2e(y);return x.jsx(Kl.Provider,{value:_,children:x.jsxs(f2e,V({as:d,className:pe(A.root,c),ref:r,ownerState:y},v,{children:[k,s]}))})});function m2e(e){return $e("MuiListItem",e)}const Wd=Ve("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),g2e=Ve("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function b2e(e){return $e("MuiListItemSecondaryAction",e)}Ve("MuiListItemSecondaryAction",["root","disableGutters"]);const k2e=["className"],v2e=e=>{const{disableGutters:t,classes:r}=e;return Ue({root:["root",t&&"disableGutters"]},b2e,r)},w2e=he("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.disableGutters&&t.disableGutters]}})(({ownerState:e})=>V({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),Kq=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiListItemSecondaryAction"}),{className:s}=o,c=ke(o,k2e),d=B.useContext(Kl),m=V({},o,{disableGutters:d.disableGutters}),f=v2e(m);return x.jsx(w2e,V({className:pe(f.root,s),ownerState:m,ref:r},c))});Kq.muiName="ListItemSecondaryAction";const y2e=["className"],_2e=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],C2e=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.alignItems==="flex-start"&&t.alignItemsFlexStart,r.divider&&t.divider,!r.disableGutters&&t.gutters,!r.disablePadding&&t.padding,r.button&&t.button,r.hasSecondaryAction&&t.secondaryAction]},A2e=e=>{const{alignItems:t,button:r,classes:o,dense:s,disabled:c,disableGutters:d,disablePadding:m,divider:f,hasSecondaryAction:k,selected:v}=e;return Ue({root:["root",s&&"dense",!d&&"gutters",!m&&"padding",f&&"divider",c&&"disabled",r&&"button",t==="flex-start"&&"alignItemsFlexStart",k&&"secondaryAction",v&&"selected"],container:["container"]},m2e,o)},x2e=he("div",{name:"MuiListItem",slot:"Root",overridesResolver:C2e})(({theme:e,ownerState:t})=>V({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&V({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${g2e.root}`]:{paddingRight:48}},{[`&.${Wd.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Wd.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Tt(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Wd.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Tt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Wd.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Wd.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Tt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Tt(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),E2e=he("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),Bf=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiListItem"}),{alignItems:s="center",autoFocus:c=!1,button:d=!1,children:m,className:f,component:k,components:v={},componentsProps:_={},ContainerComponent:y="li",ContainerProps:{className:A}={},dense:D=!1,disabled:S=!1,disableGutters:I=!1,disablePadding:T=!1,divider:P=!1,focusVisibleClassName:N,secondaryAction:j,selected:$=!1,slotProps:U={},slots:R={}}=o,z=ke(o.ContainerProps,y2e),W=ke(o,_2e),q=B.useContext(Kl),Y=B.useMemo(()=>({dense:D||q.dense||!1,alignItems:s,disableGutters:I}),[s,q.dense,D,I]),Z=B.useRef(null);ui(()=>{c&&Z.current&&Z.current.focus()},[c]);const Q=B.Children.toArray(m),J=Q.length&&xm(Q[Q.length-1],["ListItemSecondaryAction"]),te=V({},o,{alignItems:s,autoFocus:c,button:d,dense:Y.dense,disabled:S,disableGutters:I,disablePadding:T,divider:P,hasSecondaryAction:J,selected:$}),ee=A2e(te),ne=Tn(Z,r),G=R.root||v.Root||x2e,re=U.root||_.root||{},ie=V({className:pe(ee.root,re.className,f),disabled:S},W);let _e=k||"li";return d&&(ie.component=k||"div",ie.focusVisibleClassName=pe(Wd.focusVisible,N),_e=Za),J?(_e=!ie.component&&!k?"div":_e,y==="li"&&(_e==="li"?_e="div":ie.component==="li"&&(ie.component="div")),x.jsx(Kl.Provider,{value:Y,children:x.jsxs(E2e,V({as:y,className:pe(ee.container,A),ref:ne,ownerState:te},z,{children:[x.jsx(G,V({},re,!Kh(G)&&{as:_e,ownerState:V({},te,re.ownerState)},ie,{children:Q})),Q.pop()]}))})):x.jsx(Kl.Provider,{value:Y,children:x.jsxs(G,V({},re,{as:_e,ref:ne},!Kh(G)&&{ownerState:V({},te,re.ownerState)},ie,{children:[Q,j&&x.jsx(Kq,{children:j})]}))})});function aLe(e){return $e("MuiListItemIcon",e)}const j6=Ve("MuiListItemIcon",["root","alignItemsFlexStart"]);function S2e(e){return $e("MuiListItemText",e)}const Lw=Ve("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),D2e=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],T2e=e=>{const{classes:t,inset:r,primary:o,secondary:s,dense:c}=e;return Ue({root:["root",r&&"inset",c&&"dense",o&&s&&"multiline"],primary:["primary"],secondary:["secondary"]},S2e,t)},I2e=he("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${Lw.primary}`]:t.primary},{[`& .${Lw.secondary}`]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})(({ownerState:e})=>V({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),Lf=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiListItemText"}),{children:s,className:c,disableTypography:d=!1,inset:m=!1,primary:f,primaryTypographyProps:k,secondary:v,secondaryTypographyProps:_}=o,y=ke(o,D2e),{dense:A}=B.useContext(Kl);let D=f??s,S=v;const I=V({},o,{disableTypography:d,inset:m,primary:!!D,secondary:!!S,dense:A}),T=T2e(I);return D!=null&&D.type!==we&&!d&&(D=x.jsx(we,V({variant:A?"body2":"body1",className:T.primary,component:k!=null&&k.variant?void 0:"span",display:"block"},k,{children:D}))),S!=null&&S.type!==we&&!d&&(S=x.jsx(we,V({variant:"body2",className:T.secondary,color:"text.secondary",display:"block"},_,{children:S}))),x.jsxs(I2e,V({className:pe(T.root,c),ownerState:I,ref:r},y,{children:[D,S]}))}),M2e=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function _x(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function F6(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function Yq(e,t){if(t===void 0)return!0;let r=e.innerText;return r===void 0&&(r=e.textContent),r=r.trim().toLowerCase(),r.length===0?!1:t.repeating?r[0]===t.keys[0]:r.indexOf(t.keys.join(""))===0}function jf(e,t,r,o,s,c){let d=!1,m=s(e,t,t?r:!1);for(;m;){if(m===e.firstChild){if(d)return!1;d=!0}const f=o?!1:m.disabled||m.getAttribute("aria-disabled")==="true";if(!m.hasAttribute("tabindex")||!Yq(m,c)||f)m=s(e,m,r);else return m.focus(),!0}return!1}const P2e=B.forwardRef(function(t,r){const{actions:o,autoFocus:s=!1,autoFocusItem:c=!1,children:d,className:m,disabledItemsFocusable:f=!1,disableListWrap:k=!1,onKeyDown:v,variant:_="selectedMenu"}=t,y=ke(t,M2e),A=B.useRef(null),D=B.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ui(()=>{s&&A.current.focus()},[s]),B.useImperativeHandle(o,()=>({adjustStyleForScrollbar:(N,{direction:j})=>{const $=!A.current.style.width;if(N.clientHeight<A.current.clientHeight&&$){const U=`${nq(_r(N))}px`;A.current.style[j==="rtl"?"paddingLeft":"paddingRight"]=U,A.current.style.width=`calc(100% + ${U})`}return A.current}}),[]);const S=N=>{const j=A.current,$=N.key,U=_r(j).activeElement;if($==="ArrowDown")N.preventDefault(),jf(j,U,k,f,_x);else if($==="ArrowUp")N.preventDefault(),jf(j,U,k,f,F6);else if($==="Home")N.preventDefault(),jf(j,null,k,f,_x);else if($==="End")N.preventDefault(),jf(j,null,k,f,F6);else if($.length===1){const R=D.current,z=$.toLowerCase(),W=performance.now();R.keys.length>0&&(W-R.lastTime>500?(R.keys=[],R.repeating=!0,R.previousKeyMatched=!0):R.repeating&&z!==R.keys[0]&&(R.repeating=!1)),R.lastTime=W,R.keys.push(z);const q=U&&!R.repeating&&Yq(U,R);R.previousKeyMatched&&(q||jf(j,U,!1,f,_x,R))?N.preventDefault():R.previousKeyMatched=!1}v&&v(N)},I=Tn(A,r);let T=-1;B.Children.forEach(d,(N,j)=>{if(!B.isValidElement(N)){T===j&&(T+=1,T>=d.length&&(T=-1));return}N.props.disabled||(_==="selectedMenu"&&N.props.selected||T===-1)&&(T=j),T===j&&(N.props.disabled||N.props.muiSkipListHighlight||N.type.muiSkipListHighlight)&&(T+=1,T>=d.length&&(T=-1))});const P=B.Children.map(d,(N,j)=>{if(j===T){const $={};return c&&($.autoFocus=!0),N.props.tabIndex===void 0&&_==="selectedMenu"&&($.tabIndex=0),B.cloneElement(N,$)}return N});return x.jsx(x0,V({role:"menu",ref:I,className:m,onKeyDown:S,tabIndex:s?0:-1},y,{children:P}))});function N2e(e){return $e("MuiPopover",e)}Ve("MuiPopover",["root","paper"]);const R2e=["onEntering"],O2e=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],B2e=["slotProps"];function z6(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.height/2:t==="bottom"&&(r=e.height),r}function $6(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.width/2:t==="right"&&(r=e.width),r}function V6(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function Cx(e){return typeof e=="function"?e():e}const L2e=e=>{const{classes:t}=e;return Ue({root:["root"],paper:["paper"]},N2e,t)},j2e=he(Uq,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Qq=he(co,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),F2e=B.forwardRef(function(t,r){var o,s,c;const d=He({props:t,name:"MuiPopover"}),{action:m,anchorEl:f,anchorOrigin:k={vertical:"top",horizontal:"left"},anchorPosition:v,anchorReference:_="anchorEl",children:y,className:A,container:D,elevation:S=8,marginThreshold:I=16,open:T,PaperProps:P={},slots:N,slotProps:j,transformOrigin:$={vertical:"top",horizontal:"left"},TransitionComponent:U=Sg,transitionDuration:R="auto",TransitionProps:{onEntering:z}={},disableScrollLock:W=!1}=d,q=ke(d.TransitionProps,R2e),Y=ke(d,O2e),Z=(o=j==null?void 0:j.paper)!=null?o:P,Q=B.useRef(),J=Tn(Q,Z.ref),te=V({},d,{anchorOrigin:k,anchorReference:_,elevation:S,marginThreshold:I,externalPaperSlotProps:Z,transformOrigin:$,TransitionComponent:U,transitionDuration:R,TransitionProps:q}),ee=L2e(te),ne=B.useCallback(()=>{if(_==="anchorPosition")return v;const be=Cx(f),Je=(be&&be.nodeType===1?be:_r(Q.current).body).getBoundingClientRect();return{top:Je.top+z6(Je,k.vertical),left:Je.left+$6(Je,k.horizontal)}},[f,k.horizontal,k.vertical,v,_]),G=B.useCallback(be=>({vertical:z6(be,$.vertical),horizontal:$6(be,$.horizontal)}),[$.horizontal,$.vertical]),re=B.useCallback(be=>{const Pe={width:be.offsetWidth,height:be.offsetHeight},Je=G(Pe);if(_==="none")return{top:null,left:null,transformOrigin:V6(Je)};const ln=ne();let Lt=ln.top-Je.vertical,xt=ln.left-Je.horizontal;const Ut=Lt+Pe.height,dt=xt+Pe.width,We=nc(Cx(f)),ut=We.innerHeight-I,at=We.innerWidth-I;if(I!==null&&Lt<I){const Ze=Lt-I;Lt-=Ze,Je.vertical+=Ze}else if(I!==null&&Ut>ut){const Ze=Ut-ut;Lt-=Ze,Je.vertical+=Ze}if(I!==null&&xt<I){const Ze=xt-I;xt-=Ze,Je.horizontal+=Ze}else if(dt>at){const Ze=dt-at;xt-=Ze,Je.horizontal+=Ze}return{top:`${Math.round(Lt)}px`,left:`${Math.round(xt)}px`,transformOrigin:V6(Je)}},[f,_,ne,G,I]),[ie,_e]=B.useState(T),Te=B.useCallback(()=>{const be=Q.current;if(!be)return;const Pe=re(be);Pe.top!==null&&(be.style.top=Pe.top),Pe.left!==null&&(be.style.left=Pe.left),be.style.transformOrigin=Pe.transformOrigin,_e(!0)},[re]);B.useEffect(()=>(W&&window.addEventListener("scroll",Te),()=>window.removeEventListener("scroll",Te)),[f,W,Te]);const et=(be,Pe)=>{z&&z(be,Pe),Te()},Le=()=>{_e(!1)};B.useEffect(()=>{T&&Te()}),B.useImperativeHandle(m,()=>T?{updatePosition:()=>{Te()}}:null,[T,Te]),B.useEffect(()=>{if(!T)return;const be=IT(()=>{Te()}),Pe=nc(f);return Pe.addEventListener("resize",be),()=>{be.clear(),Pe.removeEventListener("resize",be)}},[f,T,Te]);let st=R;R==="auto"&&!U.muiSupportAuto&&(st=void 0);const me=D||(f?_r(Cx(f)).body:void 0),ot=(s=N==null?void 0:N.root)!=null?s:j2e,it=(c=N==null?void 0:N.paper)!=null?c:Qq,ct=rc({elementType:it,externalSlotProps:V({},Z,{style:ie?Z.style:V({},Z.style,{opacity:0})}),additionalProps:{elevation:S,ref:J},ownerState:te,className:pe(ee.paper,Z==null?void 0:Z.className)}),At=rc({elementType:ot,externalSlotProps:(j==null?void 0:j.root)||{},externalForwardedProps:Y,additionalProps:{ref:r,slotProps:{backdrop:{invisible:!0}},container:me,open:T},ownerState:te,className:pe(ee.root,A)}),{slotProps:tt}=At,Ne=ke(At,B2e);return x.jsx(ot,V({},Ne,!Kh(ot)&&{slotProps:tt,disableScrollLock:W},{children:x.jsx(U,V({appear:!0,in:T,onEntering:et,onExited:Le,timeout:st},q,{children:x.jsx(it,V({},ct,{children:y}))}))}))});function z2e(e){return $e("MuiMenu",e)}Ve("MuiMenu",["root","paper","list"]);const $2e=["onEntering"],V2e=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],U2e={vertical:"top",horizontal:"right"},H2e={vertical:"top",horizontal:"left"},W2e=e=>{const{classes:t}=e;return Ue({root:["root"],paper:["paper"],list:["list"]},z2e,t)},q2e=he(F2e,{shouldForwardProp:e=>Wo(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),G2e=he(Qq,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),K2e=he(P2e,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),Y2e=B.forwardRef(function(t,r){var o,s;const c=He({props:t,name:"MuiMenu"}),{autoFocus:d=!0,children:m,className:f,disableAutoFocusItem:k=!1,MenuListProps:v={},onClose:_,open:y,PaperProps:A={},PopoverClasses:D,transitionDuration:S="auto",TransitionProps:{onEntering:I}={},variant:T="selectedMenu",slots:P={},slotProps:N={}}=c,j=ke(c.TransitionProps,$2e),$=ke(c,V2e),U=lq(),R=V({},c,{autoFocus:d,disableAutoFocusItem:k,MenuListProps:v,onEntering:I,PaperProps:A,transitionDuration:S,TransitionProps:j,variant:T}),z=W2e(R),W=d&&!k&&y,q=B.useRef(null),Y=(G,re)=>{q.current&&q.current.adjustStyleForScrollbar(G,{direction:U?"rtl":"ltr"}),I&&I(G,re)},Z=G=>{G.key==="Tab"&&(G.preventDefault(),_&&_(G,"tabKeyDown"))};let Q=-1;B.Children.map(m,(G,re)=>{B.isValidElement(G)&&(G.props.disabled||(T==="selectedMenu"&&G.props.selected||Q===-1)&&(Q=re))});const J=(o=P.paper)!=null?o:G2e,te=(s=N.paper)!=null?s:A,ee=rc({elementType:P.root,externalSlotProps:N.root,ownerState:R,className:[z.root,f]}),ne=rc({elementType:J,externalSlotProps:te,ownerState:R,className:z.paper});return x.jsx(q2e,V({onClose:_,anchorOrigin:{vertical:"bottom",horizontal:U?"right":"left"},transformOrigin:U?U2e:H2e,slots:{paper:J,root:P.root},slotProps:{root:ee,paper:ne},open:y,ref:r,transitionDuration:S,TransitionProps:V({onEntering:Y},j),ownerState:R},$,{classes:D,children:x.jsx(K2e,V({onKeyDown:Z,actions:q,autoFocus:d&&(Q===-1||k),autoFocusItem:W,variant:T},v,{className:pe(z.list,v.className),children:m}))}))});function Q2e(e){return $e("MuiMenuItem",e)}const Ff=Ve("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Z2e=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],J2e=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]},X2e=e=>{const{disabled:t,dense:r,divider:o,disableGutters:s,selected:c,classes:d}=e,f=Ue({root:["root",r&&"dense",t&&"disabled",!s&&"gutters",o&&"divider",c&&"selected"]},Q2e,d);return V({},d,f)},eDe=he(Za,{shouldForwardProp:e=>Wo(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:J2e})(({theme:e,ownerState:t})=>V({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ff.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Tt(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Ff.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Tt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Ff.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Tt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Tt(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Ff.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Ff.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${N6.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${N6.inset}`]:{marginLeft:52},[`& .${Lw.root}`]:{marginTop:0,marginBottom:0},[`& .${Lw.inset}`]:{paddingLeft:36},[`& .${j6.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&V({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${j6.root} svg`]:{fontSize:"1.25rem"}}))),oa=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiMenuItem"}),{autoFocus:s=!1,component:c="li",dense:d=!1,divider:m=!1,disableGutters:f=!1,focusVisibleClassName:k,role:v="menuitem",tabIndex:_,className:y}=o,A=ke(o,Z2e),D=B.useContext(Kl),S=B.useMemo(()=>({dense:d||D.dense||!1,disableGutters:f}),[D.dense,d,f]),I=B.useRef(null);ui(()=>{s&&I.current&&I.current.focus()},[s]);const T=V({},o,{dense:S.dense,divider:m,disableGutters:f}),P=X2e(o),N=Tn(I,r);let j;return o.disabled||(j=_!==void 0?_:-1),x.jsx(Kl.Provider,{value:S,children:x.jsx(eDe,V({ref:N,role:v,tabIndex:j,component:c,focusVisibleClassName:pe(P.focusVisible,k),className:pe(P.root,y)},A,{ownerState:T,classes:P}))})});function tDe(e){return $e("MuiNativeSelect",e)}const ZT=Ve("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),nDe=["className","disabled","error","IconComponent","inputRef","variant"],rDe=e=>{const{classes:t,variant:r,disabled:o,multiple:s,open:c,error:d}=e,m={select:["select",r,o&&"disabled",s&&"multiple",d&&"error"],icon:["icon",`icon${ue(r)}`,c&&"iconOpen",o&&"disabled"]};return Ue(m,tDe,t)},Zq=({ownerState:e,theme:t})=>V({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":V({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${ZT.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),oDe=he("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Wo,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.select,t[r.variant],r.error&&t.error,{[`&.${ZT.multiple}`]:t.multiple}]}})(Zq),Jq=({ownerState:e,theme:t})=>V({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${ZT.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),iDe=he("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${ue(r.variant)}`],r.open&&t.iconOpen]}})(Jq),sDe=B.forwardRef(function(t,r){const{className:o,disabled:s,error:c,IconComponent:d,inputRef:m,variant:f="standard"}=t,k=ke(t,nDe),v=V({},t,{disabled:s,variant:f,error:c}),_=rDe(v);return x.jsxs(B.Fragment,{children:[x.jsx(oDe,V({ownerState:v,className:pe(_.select,o),disabled:s,ref:m||r},k)),t.multiple?null:x.jsx(iDe,{as:d,ownerState:v,className:_.icon})]})});var U6;const aDe=["children","classes","className","label","notched"],lDe=he("fieldset",{shouldForwardProp:Wo})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),cDe=he("legend",{shouldForwardProp:Wo})(({ownerState:e,theme:t})=>V({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&V({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function uDe(e){const{className:t,label:r,notched:o}=e,s=ke(e,aDe),c=r!=null&&r!=="",d=V({},e,{notched:o,withLabel:c});return x.jsx(lDe,V({"aria-hidden":!0,className:t,ownerState:d},s,{children:x.jsx(cDe,{ownerState:d,children:c?x.jsx("span",{children:r}):U6||(U6=x.jsx("span",{className:"notranslate",children:""}))})}))}const dDe=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],hDe=e=>{const{classes:t}=e,o=Ue({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},kxe,t);return V({},t,o)},pDe=he(z_,{shouldForwardProp:e=>Wo(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:j_})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return V({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${kl.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${kl.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${kl.focused} .${kl.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${kl.error} .${kl.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${kl.disabled} .${kl.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&V({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),fDe=he(uDe,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),mDe=he($_,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:F_})(({theme:e,ownerState:t})=>V({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),Xo=B.forwardRef(function(t,r){var o,s,c,d,m;const f=He({props:t,name:"MuiOutlinedInput"}),{components:k={},fullWidth:v=!1,inputComponent:_="input",label:y,multiline:A=!1,notched:D,slots:S={},type:I="text"}=f,T=ke(f,dDe),P=hDe(f),N=kc(),j=Gu({props:f,muiFormControl:N,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),$=V({},f,{color:j.color||"primary",disabled:j.disabled,error:j.error,focused:j.focused,formControl:N,fullWidth:v,hiddenLabel:j.hiddenLabel,multiline:A,size:j.size,type:I}),U=(o=(s=S.root)!=null?s:k.Root)!=null?o:pDe,R=(c=(d=S.input)!=null?d:k.Input)!=null?c:mDe;return x.jsx(KT,V({slots:{root:U,input:R},renderSuffix:z=>x.jsx(fDe,{ownerState:$,className:P.notchedOutline,label:y!=null&&y!==""&&j.required?m||(m=x.jsxs(B.Fragment,{children:[y,"","*"]})):y,notched:typeof D<"u"?D:!!(z.startAdornment||z.filled||z.focused)}),fullWidth:v,inputComponent:_,multiline:A,ref:r,type:I},T,{classes:V({},P,{notchedOutline:null})}))});Xo.muiName="Input";function gDe(e){return $e("MuiSelect",e)}const zf=Ve("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var H6;const bDe=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],kDe=he("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`&.${zf.select}`]:t.select},{[`&.${zf.select}`]:t[r.variant]},{[`&.${zf.error}`]:t.error},{[`&.${zf.multiple}`]:t.multiple}]}})(Zq,{[`&.${zf.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),vDe=he("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${ue(r.variant)}`],r.open&&t.iconOpen]}})(Jq),wDe=he("input",{shouldForwardProp:e=>wq(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function W6(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function yDe(e){return e==null||typeof e=="string"&&!e.trim()}const _De=e=>{const{classes:t,variant:r,disabled:o,multiple:s,open:c,error:d}=e,m={select:["select",r,o&&"disabled",s&&"multiple",d&&"error"],icon:["icon",`icon${ue(r)}`,c&&"iconOpen",o&&"disabled"],nativeInput:["nativeInput"]};return Ue(m,gDe,t)},CDe=B.forwardRef(function(t,r){var o;const{"aria-describedby":s,"aria-label":c,autoFocus:d,autoWidth:m,children:f,className:k,defaultOpen:v,defaultValue:_,disabled:y,displayEmpty:A,error:D=!1,IconComponent:S,inputRef:I,labelId:T,MenuProps:P={},multiple:N,name:j,onBlur:$,onChange:U,onClose:R,onFocus:z,onOpen:W,open:q,readOnly:Y,renderValue:Z,SelectDisplayProps:Q={},tabIndex:J,value:te,variant:ee="standard"}=t,ne=ke(t,bDe),[G,re]=Gh({controlled:te,default:_,name:"Select"}),[ie,_e]=Gh({controlled:q,default:v,name:"Select"}),Te=B.useRef(null),et=B.useRef(null),[Le,st]=B.useState(null),{current:me}=B.useRef(q!=null),[ot,it]=B.useState(),ct=Tn(r,I),At=B.useCallback(qe=>{et.current=qe,qe&&st(qe)},[]),tt=Le==null?void 0:Le.parentNode;B.useImperativeHandle(ct,()=>({focus:()=>{et.current.focus()},node:Te.current,value:G}),[G]),B.useEffect(()=>{v&&ie&&Le&&!me&&(it(m?null:tt.clientWidth),et.current.focus())},[Le,m]),B.useEffect(()=>{d&&et.current.focus()},[d]),B.useEffect(()=>{if(!T)return;const qe=_r(et.current).getElementById(T);if(qe){const Pt=()=>{getSelection().isCollapsed&&et.current.focus()};return qe.addEventListener("click",Pt),()=>{qe.removeEventListener("click",Pt)}}},[T]);const Ne=(qe,Pt)=>{qe?W&&W(Pt):R&&R(Pt),me||(it(m?null:tt.clientWidth),_e(qe))},be=qe=>{qe.button===0&&(qe.preventDefault(),et.current.focus(),Ne(!0,qe))},Pe=qe=>{Ne(!1,qe)},Je=B.Children.toArray(f),ln=qe=>{const Pt=Je.find(Nt=>Nt.props.value===qe.target.value);Pt!==void 0&&(re(Pt.props.value),U&&U(qe,Pt))},Lt=qe=>Pt=>{let Nt;if(Pt.currentTarget.hasAttribute("tabindex")){if(N){Nt=Array.isArray(G)?G.slice():[];const un=G.indexOf(qe.props.value);un===-1?Nt.push(qe.props.value):Nt.splice(un,1)}else Nt=qe.props.value;if(qe.props.onClick&&qe.props.onClick(Pt),G!==Nt&&(re(Nt),U)){const un=Pt.nativeEvent||Pt,$n=new un.constructor(un.type,un);Object.defineProperty($n,"target",{writable:!0,value:{value:Nt,name:j}}),U($n,qe)}N||Ne(!1,Pt)}},xt=qe=>{Y||[" ","ArrowUp","ArrowDown","Enter"].indexOf(qe.key)!==-1&&(qe.preventDefault(),Ne(!0,qe))},Ut=Le!==null&&ie,dt=qe=>{!Ut&&$&&(Object.defineProperty(qe,"target",{writable:!0,value:{value:G,name:j}}),$(qe))};delete ne["aria-invalid"];let We,ut;const at=[];let Ze=!1;(Bw({value:G})||A)&&(Z?We=Z(G):Ze=!0);const yt=Je.map(qe=>{if(!B.isValidElement(qe))return null;let Pt;if(N){if(!Array.isArray(G))throw new Error(Mu(2));Pt=G.some(Nt=>W6(Nt,qe.props.value)),Pt&&Ze&&at.push(qe.props.children)}else Pt=W6(G,qe.props.value),Pt&&Ze&&(ut=qe.props.children);return B.cloneElement(qe,{"aria-selected":Pt?"true":"false",onClick:Lt(qe),onKeyUp:Nt=>{Nt.key===" "&&Nt.preventDefault(),qe.props.onKeyUp&&qe.props.onKeyUp(Nt)},role:"option",selected:Pt,value:void 0,"data-value":qe.props.value})});Ze&&(N?at.length===0?We=null:We=at.reduce((qe,Pt,Nt)=>(qe.push(Pt),Nt<at.length-1&&qe.push(", "),qe),[]):We=ut);let Zt=ot;!m&&me&&Le&&(Zt=tt.clientWidth);let Qn;typeof J<"u"?Qn=J:Qn=y?null:0;const Dt=Q.id||(j?`mui-component-select-${j}`:void 0),Ke=V({},t,{variant:ee,value:G,open:Ut,error:D}),cn=_De(Ke),Do=V({},P.PaperProps,(o=P.slotProps)==null?void 0:o.paper),Gr=vb();return x.jsxs(B.Fragment,{children:[x.jsx(kDe,V({ref:At,tabIndex:Qn,role:"combobox","aria-controls":Gr,"aria-disabled":y?"true":void 0,"aria-expanded":Ut?"true":"false","aria-haspopup":"listbox","aria-label":c,"aria-labelledby":[T,Dt].filter(Boolean).join(" ")||void 0,"aria-describedby":s,onKeyDown:xt,onMouseDown:y||Y?null:be,onBlur:dt,onFocus:z},Q,{ownerState:Ke,className:pe(Q.className,cn.select,k),id:Dt,children:yDe(We)?H6||(H6=x.jsx("span",{className:"notranslate",children:""})):We})),x.jsx(wDe,V({"aria-invalid":D,value:Array.isArray(G)?G.join(","):G,name:j,ref:Te,"aria-hidden":!0,onChange:ln,tabIndex:-1,disabled:y,className:cn.nativeInput,autoFocus:d,ownerState:Ke},ne)),x.jsx(vDe,{as:S,className:cn.icon,ownerState:Ke}),x.jsx(Y2e,V({id:`menu-${j||""}`,anchorEl:tt,open:Ut,onClose:Pe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},P,{MenuListProps:V({"aria-labelledby":T,role:"listbox","aria-multiselectable":N?"true":void 0,disableListWrap:!0,id:Gr},P.MenuListProps),slotProps:V({},P.slotProps,{paper:V({},Do,{style:V({minWidth:Zt},Do!=null?Do.style:null)})}),children:yt}))]})}),ADe=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],xDe=["root"],EDe=e=>{const{classes:t}=e;return t},JT={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Wo(e)&&e!=="variant",slot:"Root"},SDe=he(QT,JT)(""),DDe=he(Xo,JT)(""),TDe=he(YT,JT)(""),vc=B.forwardRef(function(t,r){const o=He({name:"MuiSelect",props:t}),{autoWidth:s=!1,children:c,classes:d={},className:m,defaultOpen:f=!1,displayEmpty:k=!1,IconComponent:v=wxe,id:_,input:y,inputProps:A,label:D,labelId:S,MenuProps:I,multiple:T=!1,native:P=!1,onClose:N,onOpen:j,open:$,renderValue:U,SelectDisplayProps:R,variant:z="outlined"}=o,W=ke(o,ADe),q=P?sDe:CDe,Y=kc(),Z=Gu({props:o,muiFormControl:Y,states:["variant","error"]}),Q=Z.variant||z,J=V({},o,{variant:Q,classes:d}),te=EDe(J),ee=ke(te,xDe),ne=y||{standard:x.jsx(SDe,{ownerState:J}),outlined:x.jsx(DDe,{label:D,ownerState:J}),filled:x.jsx(TDe,{ownerState:J})}[Q],G=Tn(r,qu(ne));return x.jsx(B.Fragment,{children:B.cloneElement(ne,V({inputComponent:q,inputProps:V({children:c,error:Z.error,IconComponent:v,variant:Q,type:void 0,multiple:T},P?{id:_}:{autoWidth:s,defaultOpen:f,displayEmpty:k,labelId:S,MenuProps:I,onClose:N,onOpen:j,open:$,renderValue:U,SelectDisplayProps:V({id:_},R)},A,{classes:A?_o(ee,A.classes):ee},y?y.props.inputProps:{})},(T&&P||k)&&Q==="outlined"?{notched:!0}:{},{ref:G,className:pe(ne.props.className,m,te.root)},!y&&{variant:Q},W))})});vc.muiName="Select";function IDe(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:r=!1,onClose:o,open:s,resumeHideDuration:c}=e,d=Rl();B.useEffect(()=>{if(!s)return;function T(P){P.defaultPrevented||(P.key==="Escape"||P.key==="Esc")&&(o==null||o(P,"escapeKeyDown"))}return document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)}},[s,o]);const m=Ri((T,P)=>{o==null||o(T,P)}),f=Ri(T=>{!o||T==null||d.start(T,()=>{m(null,"timeout")})});B.useEffect(()=>(s&&f(t),d.clear),[s,t,f,d]);const k=T=>{o==null||o(T,"clickaway")},v=d.clear,_=B.useCallback(()=>{t!=null&&f(c??t*.5)},[t,c,f]),y=T=>P=>{const N=T.onBlur;N==null||N(P),_()},A=T=>P=>{const N=T.onFocus;N==null||N(P),v()},D=T=>P=>{const N=T.onMouseEnter;N==null||N(P),v()},S=T=>P=>{const N=T.onMouseLeave;N==null||N(P),_()};return B.useEffect(()=>{if(!r&&s)return window.addEventListener("focus",_),window.addEventListener("blur",v),()=>{window.removeEventListener("focus",_),window.removeEventListener("blur",v)}},[r,s,_,v]),{getRootProps:(T={})=>{const P=V({},Pw(e),Pw(T));return V({role:"presentation"},T,P,{onBlur:y(P),onFocus:A(P),onMouseEnter:D(P),onMouseLeave:S(P)})},onClickAway:k}}function MDe(e){return $e("MuiSnackbarContent",e)}Ve("MuiSnackbarContent",["root","message","action"]);const PDe=["action","className","message","role"],NDe=e=>{const{classes:t}=e;return Ue({root:["root"],action:["action"],message:["message"]},MDe,t)},RDe=he(co,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,r=s_e(e.palette.background.default,t);return V({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(r),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),ODe=he("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),BDe=he("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),LDe=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiSnackbarContent"}),{action:s,className:c,message:d,role:m="alert"}=o,f=ke(o,PDe),k=o,v=NDe(k);return x.jsxs(RDe,V({role:m,square:!0,elevation:6,className:pe(v.root,c),ownerState:k,ref:r},f,{children:[x.jsx(ODe,{className:v.message,ownerState:k,children:d}),s?x.jsx(BDe,{className:v.action,ownerState:k,children:s}):null]}))});function jDe(e){return $e("MuiSnackbar",e)}Ve("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const FDe=["onEnter","onExited"],zDe=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],$De=e=>{const{classes:t,anchorOrigin:r}=e,o={root:["root",`anchorOrigin${ue(r.vertical)}${ue(r.horizontal)}`]};return Ue(o,jDe,t)},q6=he("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`anchorOrigin${ue(r.anchorOrigin.vertical)}${ue(r.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const r={left:"50%",right:"auto",transform:"translateX(-50%)"};return V({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:V({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&r,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),Gi=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiSnackbar"}),s=mc(),c={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{action:d,anchorOrigin:{vertical:m,horizontal:f}={vertical:"bottom",horizontal:"left"},autoHideDuration:k=null,children:v,className:_,ClickAwayListenerProps:y,ContentProps:A,disableWindowBlurListener:D=!1,message:S,open:I,TransitionComponent:T=Sg,transitionDuration:P=c,TransitionProps:{onEnter:N,onExited:j}={}}=o,$=ke(o.TransitionProps,FDe),U=ke(o,zDe),R=V({},o,{anchorOrigin:{vertical:m,horizontal:f},autoHideDuration:k,disableWindowBlurListener:D,TransitionComponent:T,transitionDuration:P}),z=$De(R),{getRootProps:W,onClickAway:q}=IDe(V({},R)),[Y,Z]=B.useState(!0),Q=rc({elementType:q6,getSlotProps:W,externalForwardedProps:U,ownerState:R,additionalProps:{ref:r},className:[z.root,_]}),J=ee=>{Z(!0),j&&j(ee)},te=(ee,ne)=>{Z(!1),N&&N(ee,ne)};return!I&&Y?null:x.jsx(dEe,V({onClickAway:q},y,{children:x.jsx(q6,V({},Q,{children:x.jsx(T,V({appear:!0,in:I,timeout:P,direction:m==="top"?"down":"up",onEnter:te,onExited:J},$,{children:v||x.jsx(LDe,V({message:S,action:d},A))}))}))}))});function VDe(e){return $e("MuiTooltip",e)}const Ol=Ve("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),UDe=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function HDe(e){return Math.round(e*1e5)/1e5}const WDe=e=>{const{classes:t,disableInteractive:r,arrow:o,touch:s,placement:c}=e,d={popper:["popper",!r&&"popperInteractive",o&&"popperArrow"],tooltip:["tooltip",o&&"tooltipArrow",s&&"touch",`tooltipPlacement${ue(c.split("-")[0])}`],arrow:["arrow"]};return Ue(d,VDe,t)},qDe=he(Lq,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.popper,!r.disableInteractive&&t.popperInteractive,r.arrow&&t.popperArrow,!r.open&&t.popperClose]}})(({theme:e,ownerState:t,open:r})=>V({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${Ol.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Ol.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Ol.arrow}`]:V({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Ol.arrow}`]:V({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),GDe=he("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.tooltip,r.touch&&t.touch,r.arrow&&t.tooltipArrow,t[`tooltipPlacement${ue(r.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>V({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:Tt(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${HDe(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${Ol.popper}[data-popper-placement*="left"] &`]:V({transformOrigin:"right center"},t.isRtl?V({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):V({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${Ol.popper}[data-popper-placement*="right"] &`]:V({transformOrigin:"left center"},t.isRtl?V({marginRight:"14px"},t.touch&&{marginRight:"24px"}):V({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${Ol.popper}[data-popper-placement*="top"] &`]:V({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${Ol.popper}[data-popper-placement*="bottom"] &`]:V({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),KDe=he("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:Tt(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let $v=!1;const G6=new wb;let $f={x:0,y:0};function Vv(e,t){return(r,...o)=>{t&&t(r,...o),e(r,...o)}}const Xa=B.forwardRef(function(t,r){var o,s,c,d,m,f,k,v,_,y,A,D,S,I,T,P,N,j,$;const U=He({props:t,name:"MuiTooltip"}),{arrow:R=!1,children:z,components:W={},componentsProps:q={},describeChild:Y=!1,disableFocusListener:Z=!1,disableHoverListener:Q=!1,disableInteractive:J=!1,disableTouchListener:te=!1,enterDelay:ee=100,enterNextDelay:ne=0,enterTouchDelay:G=700,followCursor:re=!1,id:ie,leaveDelay:_e=0,leaveTouchDelay:Te=1500,onClose:et,onOpen:Le,open:st,placement:me="bottom",PopperComponent:ot,PopperProps:it={},slotProps:ct={},slots:At={},title:tt,TransitionComponent:Ne=Sg,TransitionProps:be}=U,Pe=ke(U,UDe),Je=B.isValidElement(z)?z:x.jsx("span",{children:z}),ln=mc(),Lt=lq(),[xt,Ut]=B.useState(),[dt,We]=B.useState(null),ut=B.useRef(!1),at=J||re,Ze=Rl(),yt=Rl(),Zt=Rl(),Qn=Rl(),[Dt,Ke]=Gh({controlled:st,default:!1,name:"Tooltip",state:"open"});let cn=Dt;const Do=vb(ie),Gr=B.useRef(),qe=Ri(()=>{Gr.current!==void 0&&(document.body.style.WebkitUserSelect=Gr.current,Gr.current=void 0),Qn.clear()});B.useEffect(()=>qe,[qe]);const Pt=_t=>{G6.clear(),$v=!0,Ke(!0),Le&&!cn&&Le(_t)},Nt=Ri(_t=>{G6.start(800+_e,()=>{$v=!1}),Ke(!1),et&&cn&&et(_t),Ze.start(ln.transitions.duration.shortest,()=>{ut.current=!1})}),un=_t=>{ut.current&&_t.type!=="touchstart"||(xt&&xt.removeAttribute("title"),yt.clear(),Zt.clear(),ee||$v&&ne?yt.start($v?ne:ee,()=>{Pt(_t)}):Pt(_t))},$n=_t=>{yt.clear(),Zt.start(_e,()=>{Nt(_t)})},{isFocusVisibleRef:il,onBlur:Or,onFocus:yc,ref:sl}=O_(),[,_c]=B.useState(!1),Cc=_t=>{Or(_t),il.current===!1&&(_c(!1),$n(_t))},al=_t=>{xt||Ut(_t.currentTarget),yc(_t),il.current===!0&&(_c(!0),un(_t))},Ac=_t=>{ut.current=!0;const Zn=Je.props;Zn.onTouchStart&&Zn.onTouchStart(_t)},Ju=_t=>{Ac(_t),Zt.clear(),Ze.clear(),qe(),Gr.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Qn.start(G,()=>{document.body.style.WebkitUserSelect=Gr.current,un(_t)})},Cr=_t=>{Je.props.onTouchEnd&&Je.props.onTouchEnd(_t),qe(),Zt.start(Te,()=>{Nt(_t)})};B.useEffect(()=>{if(!cn)return;function _t(Zn){(Zn.key==="Escape"||Zn.key==="Esc")&&Nt(Zn)}return document.addEventListener("keydown",_t),()=>{document.removeEventListener("keydown",_t)}},[Nt,cn]);const Xu=Tn(qu(Je),sl,Ut,r);!tt&&tt!==0&&(cn=!1);const mi=B.useRef(),ve=_t=>{const Zn=Je.props;Zn.onMouseMove&&Zn.onMouseMove(_t),$f={x:_t.clientX,y:_t.clientY},mi.current&&mi.current.update()},Ae={},Ee=typeof tt=="string";Y?(Ae.title=!cn&&Ee&&!Q?tt:null,Ae["aria-describedby"]=cn?Do:null):(Ae["aria-label"]=Ee?tt:null,Ae["aria-labelledby"]=cn&&!Ee?Do:null);const Fe=V({},Ae,Pe,Je.props,{className:pe(Pe.className,Je.props.className),onTouchStart:Ac,ref:Xu},re?{onMouseMove:ve}:{}),nt={};te||(Fe.onTouchStart=Ju,Fe.onTouchEnd=Cr),Q||(Fe.onMouseOver=Vv(un,Fe.onMouseOver),Fe.onMouseLeave=Vv($n,Fe.onMouseLeave),at||(nt.onMouseOver=un,nt.onMouseLeave=$n)),Z||(Fe.onFocus=Vv(al,Fe.onFocus),Fe.onBlur=Vv(Cc,Fe.onBlur),at||(nt.onFocus=al,nt.onBlur=Cc));const Pn=B.useMemo(()=>{var _t;let Zn=[{name:"arrow",enabled:!!dt,options:{element:dt,padding:4}}];return(_t=it.popperOptions)!=null&&_t.modifiers&&(Zn=Zn.concat(it.popperOptions.modifiers)),V({},it.popperOptions,{modifiers:Zn})},[dt,it]),Nn=V({},U,{isRtl:Lt,arrow:R,disableInteractive:at,placement:me,PopperComponentProp:ot,touch:ut.current}),ua=WDe(Nn),ed=(o=(s=At.popper)!=null?s:W.Popper)!=null?o:qDe,Rb=(c=(d=(m=At.transition)!=null?m:W.Transition)!=null?d:Ne)!=null?c:Sg,Ob=(f=(k=At.tooltip)!=null?k:W.Tooltip)!=null?f:GDe,Bb=(v=(_=At.arrow)!=null?_:W.Arrow)!=null?v:KDe,da=sh(ed,V({},it,(y=ct.popper)!=null?y:q.popper,{className:pe(ua.popper,it==null?void 0:it.className,(A=(D=ct.popper)!=null?D:q.popper)==null?void 0:A.className)}),Nn),Mp=sh(Rb,V({},be,(S=ct.transition)!=null?S:q.transition),Nn),Lb=sh(Ob,V({},(I=ct.tooltip)!=null?I:q.tooltip,{className:pe(ua.tooltip,(T=(P=ct.tooltip)!=null?P:q.tooltip)==null?void 0:T.className)}),Nn),tC=sh(Bb,V({},(N=ct.arrow)!=null?N:q.arrow,{className:pe(ua.arrow,(j=($=ct.arrow)!=null?$:q.arrow)==null?void 0:j.className)}),Nn);return x.jsxs(B.Fragment,{children:[B.cloneElement(Je,Fe),x.jsx(ed,V({as:ot??Lq,placement:me,anchorEl:re?{getBoundingClientRect:()=>({top:$f.y,left:$f.x,right:$f.x,bottom:$f.y,width:0,height:0})}:xt,popperRef:mi,open:xt?cn:!1,id:Do,transition:!0},nt,da,{popperOptions:Pn,children:({TransitionProps:_t})=>x.jsx(Rb,V({timeout:ln.transitions.duration.shorter},_t,Mp,{children:x.jsxs(Ob,V({},Lb,{children:[tt,R?x.jsx(Bb,V({},tC,{ref:We})):null]}))}))}))]})});function YDe(e){return $e("MuiSwitch",e)}const po=Ve("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),QDe=["className","color","edge","size","sx"],ZDe=e=>{const{classes:t,edge:r,size:o,color:s,checked:c,disabled:d}=e,m={root:["root",r&&`edge${ue(r)}`,`size${ue(o)}`],switchBase:["switchBase",`color${ue(s)}`,c&&"checked",d&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},f=Ue(m,YDe,t);return V({},t,f)},JDe=he("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.edge&&t[`edge${ue(r.edge)}`],t[`size${ue(r.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${po.thumb}`]:{width:16,height:16},[`& .${po.switchBase}`]:{padding:4,[`&.${po.checked}`]:{transform:"translateX(16px)"}}}}]}),XDe=he(tEe,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.switchBase,{[`& .${po.input}`]:t.input},r.color!=="default"&&t[`color${ue(r.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${po.checked}`]:{transform:"translateX(20px)"},[`&.${po.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${po.checked} + .${po.track}`]:{opacity:.5},[`&.${po.disabled} + .${po.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${po.input}`]:{left:"-100%",width:"300%"}}),({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Tt(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(([,t])=>t.main&&t.light).map(([t])=>({props:{color:t},style:{[`&.${po.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Tt(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${po.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?_g(e.palette[t].main,.62):yg(e.palette[t].main,.55)}`}},[`&.${po.checked} + .${po.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]})),eTe=he("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),tTe=he("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),K6=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiSwitch"}),{className:s,color:c="primary",edge:d=!1,size:m="medium",sx:f}=o,k=ke(o,QDe),v=V({},o,{color:c,edge:d,size:m}),_=ZDe(v),y=x.jsx(tTe,{className:_.thumb,ownerState:v});return x.jsxs(JDe,{className:pe(_.root,s),sx:f,ownerState:v,children:[x.jsx(XDe,V({type:"checkbox",icon:y,checkedIcon:y,ref:r,ownerState:v},k,{classes:V({},_,{root:_.switchBase})})),x.jsx(eTe,{className:_.track,ownerState:v})]})}),Xq=B.createContext();function nTe(e){return $e("MuiTable",e)}Ve("MuiTable",["root","stickyHeader"]);const rTe=["className","component","padding","size","stickyHeader"],oTe=e=>{const{classes:t,stickyHeader:r}=e;return Ue({root:["root",r&&"stickyHeader"]},nTe,t)},iTe=he("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>V({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":V({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),Y6="table",Eb=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiTable"}),{className:s,component:c=Y6,padding:d="normal",size:m="medium",stickyHeader:f=!1}=o,k=ke(o,rTe),v=V({},o,{component:c,padding:d,size:m,stickyHeader:f}),_=oTe(v),y=B.useMemo(()=>({padding:d,size:m,stickyHeader:f}),[d,m,f]);return x.jsx(Xq.Provider,{value:y,children:x.jsx(iTe,V({as:c,role:c===Y6?null:"table",ref:r,className:pe(_.root,s),ownerState:v},k))})}),U_=B.createContext();function sTe(e){return $e("MuiTableBody",e)}Ve("MuiTableBody",["root"]);const aTe=["className","component"],lTe=e=>{const{classes:t}=e;return Ue({root:["root"]},sTe,t)},cTe=he("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),uTe={variant:"body"},Q6="tbody",Sb=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiTableBody"}),{className:s,component:c=Q6}=o,d=ke(o,aTe),m=V({},o,{component:c}),f=lTe(m);return x.jsx(U_.Provider,{value:uTe,children:x.jsx(cTe,V({className:pe(f.root,s),as:c,ref:r,role:c===Q6?null:"rowgroup",ownerState:m},d))})});function dTe(e){return $e("MuiTableCell",e)}const hTe=Ve("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),pTe=["align","className","component","padding","scope","size","sortDirection","variant"],fTe=e=>{const{classes:t,variant:r,align:o,padding:s,size:c,stickyHeader:d}=e,m={root:["root",r,d&&"stickyHeader",o!=="inherit"&&`align${ue(o)}`,s!=="normal"&&`padding${ue(s)}`,`size${ue(c)}`]};return Ue(m,dTe,t)},mTe=he("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${ue(r.size)}`],r.padding!=="normal"&&t[`padding${ue(r.padding)}`],r.align!=="inherit"&&t[`align${ue(r.align)}`],r.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>V({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?_g(Tt(e.palette.divider,1),.88):yg(Tt(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${hTe.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),Xe=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiTableCell"}),{align:s="inherit",className:c,component:d,padding:m,scope:f,size:k,sortDirection:v,variant:_}=o,y=ke(o,pTe),A=B.useContext(Xq),D=B.useContext(U_),S=D&&D.variant==="head";let I;d?I=d:I=S?"th":"td";let T=f;I==="td"?T=void 0:!T&&S&&(T="col");const P=_||D&&D.variant,N=V({},o,{align:s,component:I,padding:m||(A&&A.padding?A.padding:"normal"),size:k||(A&&A.size?A.size:"medium"),sortDirection:v,stickyHeader:P==="head"&&A&&A.stickyHeader,variant:P}),j=fTe(N);let $=null;return v&&($=v==="asc"?"ascending":"descending"),x.jsx(mTe,V({as:I,ref:r,className:pe(j.root,c),"aria-sort":$,scope:T,ownerState:N},y))});function gTe(e){return $e("MuiTableContainer",e)}Ve("MuiTableContainer",["root"]);const bTe=["className","component"],kTe=e=>{const{classes:t}=e;return Ue({root:["root"]},gTe,t)},vTe=he("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),Db=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiTableContainer"}),{className:s,component:c="div"}=o,d=ke(o,bTe),m=V({},o,{component:c}),f=kTe(m);return x.jsx(vTe,V({ref:r,as:c,className:pe(f.root,s),ownerState:m},d))});function wTe(e){return $e("MuiTableHead",e)}Ve("MuiTableHead",["root"]);const yTe=["className","component"],_Te=e=>{const{classes:t}=e;return Ue({root:["root"]},wTe,t)},CTe=he("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),ATe={variant:"head"},Z6="thead",Tb=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiTableHead"}),{className:s,component:c=Z6}=o,d=ke(o,yTe),m=V({},o,{component:c}),f=_Te(m);return x.jsx(U_.Provider,{value:ATe,children:x.jsx(CTe,V({as:c,className:pe(f.root,s),ref:r,role:c===Z6?null:"rowgroup",ownerState:m},d))})});function xTe(e){return $e("MuiToolbar",e)}Ve("MuiToolbar",["root","gutters","regular","dense"]);const ETe=["className","component","disableGutters","variant"],STe=e=>{const{classes:t,disableGutters:r,variant:o}=e;return Ue({root:["root",!r&&"gutters",o]},xTe,t)},DTe=he("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableGutters&&t.gutters,t[r.variant]]}})(({theme:e,ownerState:t})=>V({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},t.variant==="dense"&&{minHeight:48}),({theme:e,ownerState:t})=>t.variant==="regular"&&e.mixins.toolbar),TTe=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiToolbar"}),{className:s,component:c="div",disableGutters:d=!1,variant:m="regular"}=o,f=ke(o,ETe),k=V({},o,{component:c,disableGutters:d,variant:m}),v=STe(k);return x.jsx(DTe,V({as:c,className:pe(v.root,s),ref:r,ownerState:k},f))});function ITe(e){return $e("MuiTableRow",e)}const J6=Ve("MuiTableRow",["root","selected","hover","head","footer"]),MTe=["className","component","hover","selected"],PTe=e=>{const{classes:t,selected:r,hover:o,head:s,footer:c}=e;return Ue({root:["root",r&&"selected",o&&"hover",s&&"head",c&&"footer"]},ITe,t)},NTe=he("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.head&&t.head,r.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${J6.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${J6.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Tt(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Tt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),X6="tr",ia=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiTableRow"}),{className:s,component:c=X6,hover:d=!1,selected:m=!1}=o,f=ke(o,MTe),k=B.useContext(U_),v=V({},o,{component:c,hover:d,selected:m,head:k&&k.variant==="head",footer:k&&k.variant==="footer"}),_=PTe(v);return x.jsx(NTe,V({as:c,ref:r,className:pe(_.root,s),role:c===X6?null:"row",ownerState:v},f))});function RTe(e){return $e("MuiTextField",e)}Ve("MuiTextField",["root"]);const OTe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],BTe={standard:QT,filled:YT,outlined:Xo},LTe=e=>{const{classes:t}=e;return Ue({root:["root"]},RTe,t)},jTe=he(Ab,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),sr=B.forwardRef(function(t,r){const o=He({props:t,name:"MuiTextField"}),{autoComplete:s,autoFocus:c=!1,children:d,className:m,color:f="primary",defaultValue:k,disabled:v=!1,error:_=!1,FormHelperTextProps:y,fullWidth:A=!1,helperText:D,id:S,InputLabelProps:I,inputProps:T,InputProps:P,inputRef:N,label:j,maxRows:$,minRows:U,multiline:R=!1,name:z,onBlur:W,onChange:q,onFocus:Y,placeholder:Z,required:Q=!1,rows:J,select:te=!1,SelectProps:ee,type:ne,value:G,variant:re="outlined"}=o,ie=ke(o,OTe),_e=V({},o,{autoFocus:c,color:f,disabled:v,error:_,fullWidth:A,multiline:R,required:Q,select:te,variant:re}),Te=LTe(_e),et={};re==="outlined"&&(I&&typeof I.shrink<"u"&&(et.notched=I.shrink),et.label=j),te&&((!ee||!ee.native)&&(et.id=void 0),et["aria-describedby"]=void 0);const Le=vb(S),st=D&&Le?`${Le}-helper-text`:void 0,me=j&&Le?`${Le}-label`:void 0,ot=BTe[re],it=x.jsx(ot,V({"aria-describedby":st,autoComplete:s,autoFocus:c,defaultValue:k,fullWidth:A,multiline:R,name:z,rows:J,maxRows:$,minRows:U,type:ne,value:G,id:Le,inputRef:N,onBlur:W,onChange:q,onFocus:Y,placeholder:Z,inputProps:T},et,P));return x.jsxs(jTe,V({className:pe(Te.root,m),disabled:v,error:_,fullWidth:A,ref:r,required:Q,color:f,variant:re,ownerState:_e},ie,{children:[j!=null&&j!==""&&x.jsx(xb,V({htmlFor:Le,id:me},I,{children:j})),te?x.jsx(vc,V({"aria-describedby":st,id:Le,labelId:me,value:G,input:it},ee,{children:d})):it,D&&x.jsx(TSe,V({id:st},y,{children:D}))]}))}),FTe=()=>{const e=mc(),t=fx(e.breakpoints.down("sm")),r=fx(e.breakpoints.between("sm","md")),o=fx(e.breakpoints.up("md"));return{isMobile:t,isTablet:r,isDesktop:o}},zTe=()=>{const{isMobile:e,isTablet:t,isDesktop:r}=FTe();return x.jsx(NAe,{position:"static",className:"device-version-bar",children:x.jsx(TTe,{className:"device-version-toolbar",children:x.jsxs(fe,{sx:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[e&&x.jsx(we,{variant:"body1",className:"device-version-text",children:"NexLAB Mobile Version 1.0"}),t&&x.jsx(we,{variant:"body1",className:"device-version-text",children:"NexLAB Tablet Version 1.0"}),r&&x.jsx(we,{variant:"body1",className:"device-version-text",children:"NexLAB Desktop Version 1.0"})]})})})},$Te=ae.forwardRef(function(t,r){return x.jsx(qi,{elevation:6,ref:r,variant:"filled",...t})}),VTe=()=>{const[e,t]=B.useState(!1),[r,o]=B.useState(!1),[s,c]=B.useState(""),d=xo();console.log("Logout loaded");const m=()=>{t(!0)},f=()=>{t(!1)},k=()=>{const v=IV();ope(v).then(()=>{t(!1),o(!0),c("Logged out successfully"),d("/")}).catch(_=>{t(!1),o(!0),c("Logout failed: "+_.message)})};return x.jsxs(x.Fragment,{children:[x.jsx(ze,{variant:"outlined",onClick:m,sx:{fontSize:"1rem",fontFamily:"Staatliches, sans-serif",textTransform:"none",minWidth:"120px",color:"#FBFADA",borderColor:"#FBFADA",borderRadius:"15px",backgroundColor:"transparent",boxShadow:"none","&:hover":{borderColor:"#FFFFFF",backgroundColor:"#ffcdd2",color:"#c62828",boxShadow:"0px 0px 10px rgba(0, 0, 0, 0.2)",transform:"scale(1.05)"},transition:"transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, border-color 0.3s ease-in-out, background-color 0.3s ease-in-out"},children:"Logout"}),x.jsxs(ms,{open:e,onClose:f,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[x.jsx(vs,{id:"alert-dialog-title",children:"Logging Out"}),x.jsx(bs,{children:x.jsx(ks,{id:"alert-dialog-description",children:"Are you sure you want to log out?"})}),x.jsxs(gs,{children:[x.jsx(ze,{onClick:k,autoFocus:!0,children:"Yes"}),x.jsx(ze,{onClick:f,children:"No"})]})]}),x.jsx(Gi,{open:r,autoHideDuration:6e3,onClose:()=>o(!1),children:x.jsx($Te,{onClose:()=>o(!1),severity:"info",sx:{width:"100%"},children:s})})]})},UTe=()=>{const{userDetails:e,isSuperAdmin:t}=Eo(),[r,o]=ae.useState(!1),s=()=>{e!=null&&e.uid?navigator.clipboard.writeText(e.uid).then(()=>{o(!0),setTimeout(()=>o(!1),2e3)}).catch(c=>console.error("Could not copy text: ",c)):console.error("User details are null or undefined")};return x.jsxs(fe,{className:"header-box",sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",backgroundColor:"#CDDAFF"},children:[x.jsxs(fe,{sx:{display:"flex",alignItems:"center"},children:[x.jsx("img",{src:"/ate-micr/nexlab-logo.png",alt:"ATE Logo",style:{width:300}}),x.jsx(fe,{className:"divider",sx:{height:"40px",borderLeft:"2px solid #0B53C0",marginRight:"20px"}}),x.jsxs(we,{variant:"body1",component:"p",className:"subtitle",sx:{color:"#0B53C0",fontFamily:"Gabarito",maxWidth:"300px"},children:["Next-Generation Experiments and ",x.jsx("br",{}),"Learning for Advanced Biotech"]})]}),x.jsxs(fe,{className:"user-info-box",sx:{display:"flex",alignItems:"center"},children:[t&&x.jsx(as,{label:"Super-Admin",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),(e==null?void 0:e.isAdmin)&&!t&&x.jsx(as,{label:"Educator",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),!(e!=null&&e.isAdmin)&&x.jsx(as,{label:"Student",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#bbdefb",color:"#1e88e5",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),e&&x.jsx(Xa,{title:r?"Copied!":"Click to Copy",enterDelay:300,leaveDelay:200,children:x.jsx(as,{label:`User ID: ${e.uid}`,variant:"outlined",onClick:s,sx:{borderRadius:"15px",fontSize:"20px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",mr:2,fontFamily:"Staatliches, sans-serif"}})}),x.jsx(VTe,{})]})]})};var XT={},Ax={};const HTe=aa(hCe);var e9;function So(){return e9||(e9=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=HTe}(Ax)),Ax}var WTe=qr;Object.defineProperty(XT,"__esModule",{value:!0});var eG=XT.default=void 0,qTe=WTe(So()),GTe=x;eG=XT.default=(0,qTe.default)((0,GTe.jsx)("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20zm-6 8h-4v-2h4zm0-4h-4v-2h4z"}),"BugReport");const KTe=()=>{const e=()=>{window.open("https://help.waveshi.org","_blank","noopener,noreferrer")};return x.jsx(ze,{onClick:e,className:"report-bug-button",startIcon:x.jsx(eG,{}),children:"Provide Feedback"})};function YTe(){return x.jsxs(fe,{component:"footer",className:"footer-container",children:[x.jsx(fe,{className:"report-bug-container",children:x.jsx(KTe,{})}),x.jsx(xg,{}),x.jsxs(fe,{className:"footer-content",children:[x.jsx("img",{src:"/ate-micr/FooterLogoLong.png",alt:"Logo",className:"footer-logo"}),x.jsx(we,{variant:"body2",className:"footer-text",children:"The Institute for Future Intelligence (IFI) and Kapi'olani Community College (KCC) is funded in part by the National Science Foundation grant DUE 2300976."}),x.jsx(we,{variant:"body2",className:"footer-text",children:" 2024 Institute for Future Intelligence and Kapiolani Community College Antibody Engineering & Research Projects"})]})]})}var eI={},QTe=qr;Object.defineProperty(eI,"__esModule",{value:!0});var tG=eI.default=void 0,ZTe=QTe(So()),JTe=x;tG=eI.default=(0,ZTe.default)((0,JTe.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 14H4V8l8 5 8-5zm-8-7L4 6h16z"}),"MailOutline");var tI={},XTe=qr;Object.defineProperty(tI,"__esModule",{value:!0});var Ah=tI.default=void 0,eIe=XTe(So()),tIe=x;Ah=tI.default=(0,eIe.default)((0,tIe.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");var nI={},nIe=qr;Object.defineProperty(nI,"__esModule",{value:!0});var Sp=nI.default=void 0,rIe=nIe(So()),oIe=x;Sp=nI.default=(0,rIe.default)((0,oIe.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");const t9=({messageId:e,onDelete:t})=>{const[r,o]=B.useState(!1),s=Fn(),c=()=>{o(!0)},d=()=>{o(!1)},m=async()=>{try{await iT(Yt(s,"messages",e)),t(e),d()}catch(f){console.error("Error deleting message: ",f)}};return x.jsxs(x.Fragment,{children:[x.jsx(Gn,{onClick:c,children:x.jsx(Sp,{})}),x.jsxs(ms,{open:r,onClose:d,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[x.jsx(vs,{id:"alert-dialog-title",children:"Confirm Delete"}),x.jsx(bs,{children:x.jsx(ks,{id:"alert-dialog-description",children:"Are you sure you want to delete this message? This action cannot be undone."})}),x.jsxs(gs,{children:[x.jsx(ze,{onClick:d,color:"primary",children:"Cancel"}),x.jsx(ze,{onClick:m,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})};var rI={},iIe=qr;Object.defineProperty(rI,"__esModule",{value:!0});var oI=rI.default=void 0,sIe=iIe(So()),aIe=x;oI=rI.default=(0,sIe.default)((0,aIe.jsx)("path",{fillRule:"evenodd",d:"M16 9V4h1c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3"}),"PushPin");const n9=({message:e,messages:t,setMessages:r})=>{const o=Fn(),s=async()=>{try{const c=!e.isPinned,d=Yt(o,"messages",e.id);await dr(d,{isPinned:c});const m=t.map(f=>f.id===e.id?{...f,isPinned:c}:f);m.sort((f,k)=>(k.isPinned?1:0)-(f.isPinned?1:0)),r(m)}catch(c){console.error("Error updating pin status: ",c)}};return x.jsx(Gn,{onClick:s,sx:{marginRight:1},children:x.jsx(oI,{color:e.isPinned?"primary":"inherit"})})};var iI={},lIe=qr;Object.defineProperty(iI,"__esModule",{value:!0});var Dg=iI.default=void 0,cIe=lIe(So()),uIe=x;Dg=iI.default=(0,cIe.default)((0,uIe.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");const dIe=({messages:e,userDetails:t,navigate:r,handleDeleteMessage:o,setMessages:s})=>{const[c,d]=B.useState(0),m=3,f=e.filter(N=>{var j;return((j=t==null?void 0:t.classes)==null?void 0:j.hasOwnProperty(N.course))||N.course==="Public"}),k=f.filter(N=>N.isPinned),v=f.filter(N=>!N.isPinned),_=(c+1)*m,y=_-m,A=v.slice(y,_),D=Math.ceil(v.length/m),S=()=>{d(c+1)},I=()=>{d(c-1)},T=N=>(t==null?void 0:t.isSuperAdmin)||(t==null?void 0:t.isAdmin)&&N.course!=="Public",P=N=>{var $;const j=($=t==null?void 0:t.classes)==null?void 0:$[N];return j?`${j.number}`:N};return x.jsxs(fe,{className:"messages-display-container",children:[" ",k.length>0&&x.jsxs(co,{elevation:3,sx:{mb:3,p:2,backgroundColor:"#FBFADA",borderRadius:"15px"},children:[x.jsxs(fe,{className:"pinned-section",children:[x.jsx(oI,{color:"primary",sx:{mr:1}}),x.jsx(we,{variant:"h6",className:"pinned-title",children:"Pinned"})]}),k.map(N=>x.jsx(Ts,{className:"messages-card",children:x.jsxs(o6,{children:[x.jsx(u6,{expandIcon:x.jsx(Dg,{}),"aria-controls":`panel-${N.id}-content`,id:`panel-${N.id}-header`,children:x.jsxs(vt,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[x.jsxs(vt,{item:!0,children:[x.jsxs(fe,{display:"flex",alignItems:"center",children:[x.jsx(as,{label:P(N.course),color:"primary",variant:"outlined",className:"message-chip",sx:{marginRight:1}}),x.jsxs(we,{variant:"subtitle2",className:"message-posted-on",children:["Posted On: ",new Date(N.postedOn.seconds*1e3).toLocaleString()]})]}),x.jsxs(we,{variant:"h6",className:"message-title",children:["Subject: ",N.title]})]}),T(N)&&x.jsxs(vt,{item:!0,children:[x.jsx(n9,{message:N,messages:e,setMessages:s}),x.jsx(Gn,{onClick:()=>r(`/edit-message/${N.id}`),sx:{marginRight:1},children:x.jsx(Ah,{})}),x.jsx(t9,{messageId:N.id,onDelete:o})]})]})}),x.jsx(i6,{children:x.jsxs(fe,{sx:{border:"1px solid #e0e0e0",padding:"20px",borderRadius:"4px",backgroundColor:"#fafafa",marginBottom:"16px"},children:[x.jsx(we,{variant:"body1",className:"message-description",children:N.description}),N.links&&N.links.some(j=>j.title&&j.url)&&x.jsxs(fe,{sx:{mt:1},children:[x.jsx(we,{variant:"subtitle2",className:"message-links-title",children:"Links:"}),N.links.map((j,$)=>j.title&&j.url&&x.jsxs(fe,{sx:{mt:1},children:[x.jsxs(we,{variant:"body2",component:"span",className:"message-link",children:[" ",j.title,": "]}),x.jsx(MS,{href:j.url,target:"_blank",rel:"noopener",children:j.url})]},$))]})]})})]})},N.id))]}),x.jsx(co,{elevation:3,sx:{mb:3,p:2,backgroundColor:"#f5f5f5",borderRadius:"15px"},children:A.map(N=>x.jsx(Ts,{className:"messages-card",children:x.jsxs(o6,{children:[x.jsx(u6,{expandIcon:x.jsx(Dg,{}),"aria-controls":`panel-${N.id}-content`,id:`panel-${N.id}-header`,children:x.jsxs(vt,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[x.jsxs(vt,{item:!0,children:[x.jsxs(fe,{display:"flex",alignItems:"center",children:[x.jsx(as,{label:P(N.course),color:"primary",variant:"outlined",className:"message-chip",sx:{marginRight:1}}),x.jsxs(we,{variant:"subtitle2",className:"message-posted-on",children:["Posted On: ",new Date(N.postedOn.seconds*1e3).toLocaleString()]})]}),x.jsxs(we,{variant:"h6",className:"message-title",children:["Subject: ",N.title]})]}),T(N)&&x.jsxs(vt,{item:!0,children:[x.jsx(n9,{message:N,messages:e,setMessages:s}),x.jsx(Gn,{onClick:()=>r(`/edit-message/${N.id}`),sx:{marginRight:1},children:x.jsx(Ah,{})}),x.jsx(t9,{messageId:N.id,onDelete:o})]})]})}),x.jsx(i6,{children:x.jsxs(fe,{sx:{border:"1px solid #e0e0e0",padding:"20px",borderRadius:"4px",backgroundColor:"#fafafa",marginBottom:"16px"},children:[x.jsx(we,{variant:"body1",className:"message-description",children:N.description}),N.links&&N.links.some(j=>j.title&&j.url)&&x.jsxs(fe,{sx:{mt:1},children:[x.jsx(we,{variant:"subtitle2",className:"message-links-title",children:"Links:"}),N.links.map((j,$)=>j.title&&j.url&&x.jsxs(fe,{sx:{mt:1},children:[x.jsxs(we,{variant:"body2",component:"span",className:"message-link",children:[" ",j.title,": "]}),x.jsx(MS,{href:j.url,target:"_blank",rel:"noopener",children:j.url})]},$))]})]})})]})},N.id))}),x.jsxs(fe,{className:"pagination-container",children:[" ",x.jsx(ze,{onClick:I,disabled:c===0,className:"pagination-button",children:"Previous"}),x.jsx(ze,{onClick:S,disabled:c>=D-1,className:"pagination-button",children:"Next"})]})]})},hIe=()=>{const e=xo(),{userDetails:t,isSuperAdmin:r}=Eo(),[o,s]=B.useState(!1),[c,d]=B.useState([]),m=Fn();B.useEffect(()=>{(async()=>{const _=Sw(yr(m,"messages"),dke("postedOn","desc")),A=(await Fi(_)).docs.map(D=>({id:D.id,...D.data()}));d(A)})()},[m]);const f=(v,_)=>{_!=="clickaway"&&s(!1)},k=v=>{d(c.filter(_=>_.id!==v))};return x.jsxs(fe,{sx:{flexGrow:1,padding:3},children:[x.jsxs(vt,{container:!0,spacing:3,children:[x.jsxs(vt,{item:!0,xs:12,md:3,children:[" ",x.jsx(fe,{className:"menu-container",children:x.jsxs(vt,{container:!0,spacing:2,justifyContent:"center",children:[x.jsx(vt,{item:!0,xs:12,children:x.jsx(Ts,{className:"menu-item",children:x.jsx(_a,{onClick:()=>e("/my-profile"),children:x.jsx(Ca,{children:x.jsx(we,{className:"menu-item-typography",variant:"h6",component:"div",children:"My Account"})})})})}),x.jsx(vt,{item:!0,xs:12,children:x.jsx(Ts,{className:"menu-item",children:t&&!t.isAdmin&&(!t.classes||Object.keys(t.classes).length===0)?x.jsx(Xa,{title:"The Laboratory Notebook is accessible to users enrolled in an academic course. Please enroll in a course via 'My Account' by following the instructions provided by your academic instructor.",children:x.jsx("span",{children:x.jsx(_a,{disabled:!0,children:x.jsx(Ca,{children:x.jsxs(we,{className:"menu-item-typography",variant:"h6",component:"div",sx:{color:"#9e9e9e",opacity:.5},children:["Laboratory Notebook",x.jsx("span",{style:{marginLeft:8},children:""})]})})})})}):x.jsx(_a,{onClick:()=>e("/laboratory-notebooks"),children:x.jsx(Ca,{children:x.jsx(we,{className:"menu-item-typography",variant:"h6",component:"div",children:"Laboratory Notebook"})})})})}),x.jsx(vt,{item:!0,xs:12,children:x.jsx(Ts,{className:"menu-item",children:x.jsx(_a,{onClick:()=>e("/supplemental-materials"),children:x.jsx(Ca,{children:x.jsx(we,{className:"menu-item-typography",variant:"h6",component:"div",children:"Course Materials"})})})})}),(t==null?void 0:t.isAdmin)&&x.jsx(x.Fragment,{children:x.jsxs(vt,{item:!0,xs:12,children:[x.jsx(xg,{sx:{my:2}})," ",x.jsx(we,{className:"general-menu-title",variant:"h6",align:"center",component:"h2",children:"Educator"}),x.jsx(Ts,{className:"menu-item",children:x.jsx(_a,{onClick:()=>e("/course-management"),children:x.jsx(Ca,{children:x.jsx(we,{className:"menu-item-typography",variant:"h6",component:"div",children:"Course Management"})})})})]})}),r&&x.jsxs(x.Fragment,{children:[x.jsxs(vt,{item:!0,xs:12,children:[x.jsx(xg,{sx:{my:2}})," ",x.jsx(we,{className:"general-menu-title",variant:"h6",align:"center",component:"h2",children:"Super-Admin"}),x.jsx(Ts,{className:"menu-item",children:x.jsx(_a,{onClick:()=>e("/user-management"),children:x.jsx(Ca,{children:x.jsx(we,{className:"menu-item-typography",variant:"h6",component:"div",children:"User Management"})})})})]}),x.jsx(vt,{item:!0,xs:12,children:x.jsx(Ts,{className:"menu-item",children:x.jsx(_a,{onClick:()=>e("/super-admin-course-management"),children:x.jsx(Ca,{children:x.jsx(we,{className:"menu-item-typography",variant:"h6",component:"div",children:"Course Management"})})})})}),x.jsx(vt,{item:!0,xs:12,children:x.jsx(Ts,{className:"menu-item",children:x.jsx(_a,{onClick:()=>e("/educator-requests"),children:x.jsx(Ca,{children:x.jsx(we,{className:"menu-item-typography",variant:"h6",component:"div",children:"Educator Requests"})})})})}),x.jsx(vt,{item:!0,xs:12,children:x.jsx(Ts,{className:"menu-item",children:x.jsx(_a,{onClick:()=>e("/course-requests"),children:x.jsx(Ca,{children:x.jsx(we,{className:"menu-item-typography",variant:"h6",component:"div",children:"Course Requests"})})})})})]})]})})]}),x.jsxs(vt,{item:!0,xs:12,md:9,children:[" ",x.jsxs(fe,{className:"messages-container",children:[" ",x.jsxs(fe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[x.jsxs(fe,{sx:{display:"flex",alignItems:"center"},children:[x.jsx(tG,{sx:{mr:1}})," ",x.jsx(we,{variant:"h5",component:"h4",className:"inbox-text",children:"Inbox"})]}),(t==null?void 0:t.isAdmin)&&x.jsx(ze,{variant:"contained",onClick:()=>e("/add-message"),sx:{backgroundColor:"#CDDAFF",color:"#FFFFFF",fontFamily:"Staatliches, sans-serif",fontSize:"1.25rem","&:hover":{backgroundColor:"#0B53C0",border:"0px solid #0B53C0"}},children:"+ Add Message"})]}),x.jsx(dIe,{messages:c,userDetails:t,navigate:e,handleDeleteMessage:k,setMessages:d})]})]})]}),x.jsx(Gi,{open:o,autoHideDuration:6e3,onClose:f,children:x.jsx(qi,{onClose:f,severity:"success",sx:{width:"100%"},children:"User ID copied to clipboard!"})})]})};let Uv;const pIe=new Uint8Array(16);function fIe(){if(!Uv&&(Uv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Uv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Uv(pIe)}const jr=[];for(let e=0;e<256;++e)jr.push((e+256).toString(16).slice(1));function mIe(e,t=0){return jr[e[t+0]]+jr[e[t+1]]+jr[e[t+2]]+jr[e[t+3]]+"-"+jr[e[t+4]]+jr[e[t+5]]+"-"+jr[e[t+6]]+jr[e[t+7]]+"-"+jr[e[t+8]]+jr[e[t+9]]+"-"+jr[e[t+10]]+jr[e[t+11]]+jr[e[t+12]]+jr[e[t+13]]+jr[e[t+14]]+jr[e[t+15]]}const gIe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),r9={randomUUID:gIe};function im(e,t,r){if(r9.randomUUID&&!t&&!e)return r9.randomUUID();e=e||{};const o=e.random||(e.rng||fIe)();return o[6]=o[6]&15|64,o[8]=o[8]&63|128,mIe(o)}var sI={},bIe=qr;Object.defineProperty(sI,"__esModule",{value:!0});var E0=sI.default=void 0,kIe=bIe(So()),vIe=x;E0=sI.default=(0,kIe.default)((0,vIe.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save");const xx=({onDelete:e,itemType:t})=>{const[r,o]=ae.useState(!1),s=()=>{o(!0)},c=()=>{o(!1)},d=()=>{e(),c()};return x.jsxs(x.Fragment,{children:[x.jsx(Gn,{onClick:s,size:"small",children:x.jsx(Sp,{})}),x.jsxs(ms,{open:r,onClose:c,children:[x.jsx(vs,{children:`Delete ${t}`}),x.jsx(bs,{children:x.jsx(ks,{children:`Are you sure you want to delete this ${t}? This action cannot be undone.`})}),x.jsxs(gs,{children:[x.jsx(ze,{onClick:c,color:"primary",children:"Cancel"}),x.jsx(ze,{onClick:d,color:"secondary",children:"Delete"})]})]})]})};var aI={},wIe=qr;Object.defineProperty(aI,"__esModule",{value:!0});var PS=aI.default=void 0,yIe=wIe(So()),_Ie=x;PS=aI.default=(0,yIe.default)((0,_Ie.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");const nG=({sections:e,selected:t,onAddSection:r,onAddSubsection:o,onAddSubSubsection:s,onSelectSection:c,onUpdateSectionTitle:d,onUpdateSubsectionTitle:m,onUpdateSubSubsectionTitle:f,onDeleteSection:k,onDeleteSubsection:v,onDeleteSubSubsection:_,isViewMode:y})=>{const[A,D]=B.useState(null),[S,I]=B.useState(null),[T,P]=B.useState(null),[N,j]=B.useState(""),[$,U]=B.useState(e.map(()=>!0)),[R,z]=B.useState(e.reduce((ne,G,re)=>(ne[re]=G.subsections.map(()=>!0),ne),{}));B.useEffect(()=>{U(e.map(()=>!0))},[e]),B.useEffect(()=>{const ne=e.reduce((G,re,ie)=>(G[ie]=re.subsections.map(()=>!0),G),{});z(ne)},[e]);const W=ne=>{const G=[...$];G[ne]=!G[ne],U(G)},q=(ne,G)=>{const re={...R};re[ne][G]=!re[ne][G],z(re)},Y=(ne,G)=>{A!==null?d(A,N):S?m(S.section,S.subsection,N):T&&f(T.section,T.subsection,T.subSubsection,N),D(ne),I(null),P(null),j(G)},Z=ne=>{d(ne,N),D(null),j("")},Q=(ne,G,re)=>{A!==null?d(A,N):S?m(S.section,S.subsection,N):T&&f(T.section,T.subsection,T.subSubsection,N),D(null),I({section:ne,subsection:G}),P(null),j(re)},J=(ne,G)=>{m(ne,G,N),I(null),j("")},te=(ne,G,re,ie)=>{A!==null?d(A,N):S?m(S.section,S.subsection,N):T&&f(T.section,T.subsection,T.subSubsection,N),D(null),I(null),P({section:ne,subsection:G,subSubsection:re}),j(ie)},ee=(ne,G,re)=>{f(ne,G,re,N),P(null),j("")};return x.jsxs(fe,{sx:{width:"450px",borderRight:"1px solid #ddd",padding:2},children:[x.jsx(we,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Outline"}),!y&&x.jsx(ze,{variant:"contained",color:"primary",onClick:r,sx:{mb:2},children:"+ Add Section"}),x.jsxs(x0,{children:[x.jsx(Bf,{button:!0,onClick:()=>c("header"),sx:{backgroundColor:t.type==="header"?"lightgray":"transparent"},children:x.jsx(Lf,{primary:"Header"})}),e.map((ne,G)=>x.jsxs(fe,{children:[x.jsxs(Bf,{button:!0,onClick:()=>c(G),sx:{backgroundColor:t.sectionIndex===G&&t.subsectionIndex===void 0?"lightgray":"transparent"},children:[A===G?x.jsxs(x.Fragment,{children:[x.jsx(sr,{value:N,onChange:re=>j(re.target.value),size:"small",sx:{mr:1},disabled:y}),!y&&x.jsx(Gn,{onClick:()=>Z(G),size:"small",children:x.jsx(E0,{})})]}):x.jsxs(x.Fragment,{children:[x.jsx(Lf,{primary:ne.title}),!y&&x.jsxs(x.Fragment,{children:[x.jsx(Gn,{onClick:()=>Y(G,ne.title),size:"small",children:x.jsx(Ah,{})}),x.jsx(xx,{onDelete:()=>k(G),itemType:"section"})]})]}),ne.subsections.length>0&&x.jsx(Gn,{onClick:()=>W(G),sx:{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"},width:"24px",height:"24px"},children:$[G]?x.jsx(PS,{sx:{fontSize:"20px"}}):x.jsx(Dg,{sx:{fontSize:"20px"}})}),!y&&x.jsx(ze,{variant:"text",onClick:()=>o(G),size:"small",children:"+ Add Subsection"})]}),$[G]&&x.jsx(x0,{sx:{pl:4},children:ne.subsections.map((re,ie)=>x.jsxs(fe,{children:[x.jsxs(Bf,{button:!0,onClick:()=>c(G,ie),sx:{backgroundColor:t.sectionIndex===G&&t.subsectionIndex===ie&&t.subSubsectionIndex===void 0?"lightgray":"transparent"},children:[S&&S.section===G&&S.subsection===ie?x.jsxs(x.Fragment,{children:[x.jsx(sr,{value:N,onChange:_e=>j(_e.target.value),size:"small",sx:{mr:1},disabled:y}),!y&&x.jsx(Gn,{onClick:()=>J(G,ie),size:"small",children:x.jsx(E0,{})})]}):x.jsxs(x.Fragment,{children:[x.jsx(Lf,{primary:re.title}),!y&&x.jsxs(x.Fragment,{children:[x.jsx(Gn,{onClick:()=>Q(G,ie,re.title),size:"small",children:x.jsx(Ah,{})}),x.jsx(xx,{onDelete:()=>v(G,ie),itemType:"subsection"})]})]}),re.subSubsections.length>0&&x.jsx(Gn,{onClick:()=>q(G,ie),sx:{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"},width:"24px",height:"24px"},children:R[G][ie]?x.jsx(PS,{sx:{fontSize:"20px"}}):x.jsx(Dg,{sx:{fontSize:"20px"}})}),!y&&x.jsx(ze,{variant:"text",onClick:()=>s(G,ie),size:"small",children:"+ Add Sub-Subsection"})]}),R[G][ie]&&x.jsx(x0,{sx:{pl:4},children:re.subSubsections.map((_e,Te)=>x.jsx(Bf,{button:!0,onClick:()=>c(G,ie,Te),sx:{backgroundColor:t.sectionIndex===G&&t.subsectionIndex===ie&&t.subSubsectionIndex===Te?"lightgray":"transparent"},children:T&&T.section===G&&T.subsection===ie&&T.subSubsection===Te?x.jsxs(x.Fragment,{children:[x.jsx(sr,{value:N,onChange:et=>j(et.target.value),size:"small",sx:{mr:1},disabled:y}),!y&&x.jsx(Gn,{onClick:()=>ee(G,ie,Te),size:"small",children:x.jsx(E0,{})})]}):x.jsxs(x.Fragment,{children:[x.jsx(Lf,{primary:_e.title}),!y&&x.jsxs(x.Fragment,{children:[x.jsx(Gn,{onClick:()=>te(G,ie,Te,_e.title),size:"small",children:x.jsx(Ah,{})}),x.jsx(xx,{onDelete:()=>_(G,ie,Te),itemType:"subSubsection"})]})]})},_e.id))})]},re.id))})]},ne.id)),x.jsx(Bf,{button:!0,onClick:()=>c("footer"),sx:{backgroundColor:t.type==="footer"?"lightgray":"transparent"},children:x.jsx(Lf,{primary:"Footer"})})]})]})};var lI={},CIe=qr;Object.defineProperty(lI,"__esModule",{value:!0});var cI=lI.default=void 0,AIe=CIe(So()),xIe=x;cI=lI.default=(0,AIe.default)((0,xIe.jsx)("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos");var uI={},EIe=qr;Object.defineProperty(uI,"__esModule",{value:!0});var dI=uI.default=void 0,SIe=EIe(So()),DIe=x;dI=uI.default=(0,SIe.default)((0,DIe.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos");var hI={},TIe=qr;Object.defineProperty(hI,"__esModule",{value:!0});var rG=hI.default=void 0,IIe=TIe(So()),MIe=x;rG=hI.default=(0,IIe.default)((0,MIe.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");const oG=()=>{const e=xo(),t=()=>{e("/supplemental-materials")};return x.jsx(ze,{variant:"outlined",color:"primary",startIcon:x.jsx(rG,{}),onClick:t,sx:{mb:2,padding:"4px 8px",backgroundColor:"transparent",borderColor:"blue",color:"blue"},children:"All Materials"})};var iG={exports:{}};(()=>{var e={d:(c,d)=>{for(var m in d)e.o(d,m)&&!e.o(c,m)&&Object.defineProperty(c,m,{enumerable:!0,get:d[m]})},o:(c,d)=>Object.prototype.hasOwnProperty.call(c,d),r:c=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})}},t={};function r(c,d){for(var m=0;m<d.length;m++){var f=d[m];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}e.r(t),e.d(t,{default:()=>s});var o=function(){function c(){(function(f,k){if(!(f instanceof k))throw new TypeError("Cannot call a class as a function")})(this,c)}var d,m;return d=c,m=[{key:"changeHeightWidth",value:function(f,k,v,_,y,A){return v>_&&(f=Math.round(f*_/v),v=_),f>k&&(v=Math.round(v*k/f),f=k),y&&v<y&&(f=Math.round(f*y/v),v=y),A&&f<A&&(v=Math.round(v*A/f),f=A),{height:f,width:v}}},{key:"resizeAndRotateImage",value:function(f,k,v,_,y){var A=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"jpeg",D=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,S=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,I=D/100,T=document.createElement("canvas"),P=f.width,N=f.height,j=this.changeHeightWidth(N,v,P,k,_,y);!S||S!==90&&S!==270?(T.width=j.width,T.height=j.height):(T.width=j.height,T.height=j.width),P=j.width,N=j.height;var $=T.getContext("2d");return $.fillStyle="rgba(0, 0, 0, 0)",$.fillRect(0,0,P,N),$.imageSmoothingEnabled&&$.imageSmoothingQuality&&($.imageSmoothingQuality="high"),S&&($.rotate(S*Math.PI/180),S===90?$.translate(0,-T.width):S===180?$.translate(-T.width,-T.height):S===270?$.translate(-T.height,0):S!==0&&S!==360||$.translate(0,0)),$.drawImage(f,0,0,P,N),T.toDataURL("image/".concat(A),I)}},{key:"b64toByteArrays",value:function(f,k){for(var v=atob(f.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),_=[],y=0;y<v.length;y+=512){for(var A=v.slice(y,y+512),D=new Array(A.length),S=0;S<A.length;S++)D[S]=A.charCodeAt(S);var I=new Uint8Array(D);_.push(I)}return _}},{key:"b64toBlob",value:function(f,k){var v=this.b64toByteArrays(f,k);return new Blob(v,{type:k,lastModified:new Date})}},{key:"b64toFile",value:function(f,k,v){var _=this.b64toByteArrays(f,v);return new File(_,k,{type:v,lastModified:new Date})}},{key:"createResizedImage",value:function(f,k,v,_,y,A,D){var S=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"base64",I=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,T=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,P=new FileReader;if(!f)throw Error("File Not Found!");if(f.type&&!f.type.includes("image"))throw Error("File Is NOT Image!");P.readAsDataURL(f),P.onload=function(){var N=new Image;N.src=P.result,N.onload=function(){var j=c.resizeAndRotateImage(N,k,v,I,T,_,y,A),$="image/".concat(_);switch(S){case"blob":var U=c.b64toBlob(j,$);D(U);break;case"base64":D(j);break;case"file":var R=f.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(_.toString()),z=c.b64toFile(j,R,$);D(z);break;default:D(j)}}},P.onerror=function(N){throw Error(N)}}}],m&&r(d,m),c}();const s={imageFileResizer:function(c,d,m,f,k,v,_,y,A,D){return o.createResizedImage(c,d,m,f,k,v,_,y,A,D)}};iG.exports=t})();var PIe=iG.exports;const NIe=Xw(PIe);var pI={},RIe=qr;Object.defineProperty(pI,"__esModule",{value:!0});var sG=pI.default=void 0,OIe=RIe(So()),BIe=x;sG=pI.default=(0,OIe.default)((0,BIe.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image");const LIe=({sectionId:e,onImagesUploaded:t})=>{const[r,o]=B.useState(!1),[s,c]=B.useState(""),[d,m]=B.useState("success"),f=fW(),k=async y=>{if(y.target.files){const A=Array.from(y.target.files),D=[];for(const S of A)try{const I=await v(S),T=await _(I);D.push({url:T.url,title:`Image ${im()}`})}catch{c("Failed to upload images"),m("error"),o(!0)}t(D),c("Image(s) uploaded successfully"),m("success"),o(!0)}},v=y=>new Promise((A,D)=>{y.size>5*1024*1024?NIe.imageFileResizer(y,500,500,"JPEG",70,0,S=>{typeof S=="string"?D(new Error("Compression returned a string instead of a file")):A(S)},"file"):A(y)}),_=y=>new Promise((A,D)=>{const S=Nve(f,`materials/${e}/${y.name}`);Mve(S,y).then(I=>{Pve(I.ref).then(T=>{A({url:T,path:I.ref.fullPath})})}).catch(I=>D(I))});return x.jsxs(fe,{children:[x.jsxs(fe,{sx:{mt:2,display:"flex",alignItems:"center"},children:[x.jsx(sG,{sx:{mr:1}}),x.jsx(we,{variant:"h6",children:"Images"})]}),x.jsxs(fe,{sx:{mt:2},children:[x.jsxs(ze,{variant:"contained",component:"label",color:"primary",children:["Add Image",x.jsx("input",{type:"file",hidden:!0,accept:"image/*",multiple:!0,onChange:k})]}),x.jsx(Gi,{open:r,autoHideDuration:6e3,onClose:()=>o(!1),children:x.jsx(qi,{onClose:()=>o(!1),severity:d,sx:{width:"100%"},children:s})})]})]})},jIe=({imageTitle:e,onTitleChange:t})=>x.jsx(sr,{variant:"outlined",fullWidth:!0,value:e,onChange:r=>t(r.target.value),placeholder:"Image Title",sx:{mt:1}});var fI={},FIe=qr;Object.defineProperty(fI,"__esModule",{value:!0});var aG=fI.default=void 0,zIe=FIe(So()),$Ie=x;aG=fI.default=(0,zIe.default)((0,$Ie.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link");const VIe=({links:e,onLinksChange:t})=>{const r=()=>{const s={title:"",url:"",description:""};t([...e,s])},o=s=>{const c=e.filter((d,m)=>m!==s);t(c)};return x.jsxs(fe,{children:[x.jsxs(fe,{sx:{mt:2,display:"flex",alignItems:"center"},children:[x.jsx(aG,{sx:{mr:1}}),x.jsx(we,{variant:"h6",children:"Links"})]}),x.jsx(fe,{sx:{mt:1},children:e.map((s,c)=>x.jsxs(fe,{sx:{display:"flex",alignItems:"center",mb:1},children:[x.jsx(sr,{label:"Title",value:s.title,onChange:d=>{const m=[...e];m[c].title=d.target.value,t(m)},sx:{flexBasis:"20%",mr:1}}),x.jsx(sr,{label:"URL",value:s.url,onChange:d=>{const m=[...e];m[c].url=d.target.value,t(m)},sx:{flexBasis:"40%",mr:1}}),x.jsx(sr,{label:"Description",value:s.description,onChange:d=>{const m=[...e];m[c].description=d.target.value,t(m)},sx:{flexBasis:"40%"}}),x.jsx(Gn,{onClick:()=>o(c),children:x.jsx(Sp,{})})]},c))}),x.jsx(ze,{variant:"contained",onClick:r,sx:{mt:2},children:"Add Link"})]})};var lG={exports:{}};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mI{constructor(t){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof t.crashNumberLimit=="number"?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof t.minimumNonErrorTimePeriod=="number"?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=r=>{const o="error"in r?r.error:r.reason;o instanceof Error&&this._handleError(o,r)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,r){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(r)}off(t,r){this._listeners[t]=this._listeners[t].filter(o=>o!==r)}_fire(t,...r){const o=this._listeners[t]||[];for(const s of o)s.apply(this,[null,...r])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,r){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:r instanceof ErrorEvent?r.filename:void 0,lineno:r instanceof ErrorEvent?r.lineno:void 0,colno:r instanceof ErrorEvent?r.colno:void 0,date:this._now()});const o=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:o}),o?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&t.context!==void 0&&t.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(t)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const t=this.crashes[this.crashes.length-1].date,r=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(t-r)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function NS(e,t=new Set){const r=[e],o=new Set;let s=0;for(;r.length>s;){const c=r[s++];if(!(o.has(c)||!UIe(c)||t.has(c)))if(o.add(c),Symbol.iterator in c)try{for(const d of c)r.push(d)}catch{}else for(const d in c)d!=="defaultValue"&&r.push(c[d])}return o}function UIe(e){const t=Object.prototype.toString.call(e),r=typeof e;return!(r==="number"||r==="boolean"||r==="string"||r==="symbol"||r==="function"||t==="[object Date]"||t==="[object RegExp]"||t==="[object Module]"||e===void 0||e===null||e._watchdogExcluded||e instanceof EventTarget||e instanceof Event)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function cG(e,t,r=new Set){if(e===t&&HIe(e))return!0;const o=NS(e,r),s=NS(t,r);for(const c of o)if(s.has(c))return!0;return!1}function HIe(e){return typeof e=="object"&&e!==null}var uG=typeof global=="object"&&global&&global.Object===Object&&global,WIe=typeof self=="object"&&self&&self.Object===Object&&self,ws=uG||WIe||Function("return this")(),tp=ws.Symbol,dG=Object.prototype,qIe=dG.hasOwnProperty,GIe=dG.toString,Vf=tp?tp.toStringTag:void 0;function KIe(e){var t=qIe.call(e,Vf),r=e[Vf];try{e[Vf]=void 0;var o=!0}catch{}var s=GIe.call(e);return o&&(t?e[Vf]=r:delete e[Vf]),s}var YIe=Object.prototype,QIe=YIe.toString;function ZIe(e){return QIe.call(e)}var JIe="[object Null]",XIe="[object Undefined]",o9=tp?tp.toStringTag:void 0;function Ku(e){return e==null?e===void 0?XIe:JIe:o9&&o9 in Object(e)?KIe(e):ZIe(e)}function wc(e){return e!=null&&typeof e=="object"}var eMe="[object Symbol]";function tMe(e){return typeof e=="symbol"||wc(e)&&Ku(e)==eMe}var gI=Array.isArray,nMe=/\s/;function rMe(e){for(var t=e.length;t--&&nMe.test(e.charAt(t)););return t}var oMe=/^\s+/;function iMe(e){return e&&e.slice(0,rMe(e)+1).replace(oMe,"")}function el(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var i9=NaN,sMe=/^[-+]0x[0-9a-f]+$/i,aMe=/^0b[01]+$/i,lMe=/^0o[0-7]+$/i,cMe=parseInt;function s9(e){if(typeof e=="number")return e;if(tMe(e))return i9;if(el(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=el(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=iMe(e);var r=aMe.test(e);return r||lMe.test(e)?cMe(e.slice(2),r?2:8):sMe.test(e)?i9:+e}var uMe="[object AsyncFunction]",dMe="[object Function]",hMe="[object GeneratorFunction]",pMe="[object Proxy]";function hG(e){if(!el(e))return!1;var t=Ku(e);return t==dMe||t==hMe||t==uMe||t==pMe}var Ex=ws["__core-js_shared__"],a9=function(){var e=/[^.]+$/.exec(Ex&&Ex.keys&&Ex.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function fMe(e){return!!a9&&a9 in e}var mMe=Function.prototype,gMe=mMe.toString;function Yu(e){if(e!=null){try{return gMe.call(e)}catch{}try{return e+""}catch{}}return""}var bMe=/[\\^$.*+?()[\]{}|]/g,kMe=/^\[object .+?Constructor\]$/,vMe=Function.prototype,wMe=Object.prototype,yMe=vMe.toString,_Me=wMe.hasOwnProperty,CMe=RegExp("^"+yMe.call(_Me).replace(bMe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function AMe(e){if(!el(e)||fMe(e))return!1;var t=hG(e)?CMe:kMe;return t.test(Yu(e))}function xMe(e,t){return e==null?void 0:e[t]}function Qu(e,t){var r=xMe(e,t);return AMe(r)?r:void 0}var RS=Qu(ws,"WeakMap"),l9=Object.create,EMe=function(){function e(){}return function(t){if(!el(t))return{};if(l9)return l9(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function SMe(e,t){var r=-1,o=e.length;for(t||(t=Array(o));++r<o;)t[r]=e[r];return t}var c9=function(){try{var e=Qu(Object,"defineProperty");return e({},"",{}),e}catch{}}();function DMe(e,t){for(var r=-1,o=e==null?0:e.length;++r<o&&t(e[r],r,e)!==!1;);return e}var TMe=9007199254740991,IMe=/^(?:0|[1-9]\d*)$/;function MMe(e,t){var r=typeof e;return t=t??TMe,!!t&&(r=="number"||r!="symbol"&&IMe.test(e))&&e>-1&&e%1==0&&e<t}function pG(e,t,r){t=="__proto__"&&c9?c9(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function fG(e,t){return e===t||e!==e&&t!==t}var PMe=Object.prototype,NMe=PMe.hasOwnProperty;function mG(e,t,r){var o=e[t];(!(NMe.call(e,t)&&fG(o,r))||r===void 0&&!(t in e))&&pG(e,t,r)}function H_(e,t,r,o){var s=!r;r||(r={});for(var c=-1,d=t.length;++c<d;){var m=t[c],f=void 0;f===void 0&&(f=e[m]),s?pG(r,m,f):mG(r,m,f)}return r}var RMe=9007199254740991;function gG(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=RMe}function bG(e){return e!=null&&gG(e.length)&&!hG(e)}var OMe=Object.prototype;function bI(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||OMe;return e===r}function BMe(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}var LMe="[object Arguments]";function u9(e){return wc(e)&&Ku(e)==LMe}var kG=Object.prototype,jMe=kG.hasOwnProperty,FMe=kG.propertyIsEnumerable,zMe=u9(function(){return arguments}())?u9:function(e){return wc(e)&&jMe.call(e,"callee")&&!FMe.call(e,"callee")};function $Me(){return!1}var vG=typeof exports=="object"&&exports&&!exports.nodeType&&exports,d9=vG&&typeof module=="object"&&module&&!module.nodeType&&module,VMe=d9&&d9.exports===vG,h9=VMe?ws.Buffer:void 0,UMe=h9?h9.isBuffer:void 0,wG=UMe||$Me,HMe="[object Arguments]",WMe="[object Array]",qMe="[object Boolean]",GMe="[object Date]",KMe="[object Error]",YMe="[object Function]",QMe="[object Map]",ZMe="[object Number]",JMe="[object Object]",XMe="[object RegExp]",e5e="[object Set]",t5e="[object String]",n5e="[object WeakMap]",r5e="[object ArrayBuffer]",o5e="[object DataView]",i5e="[object Float32Array]",s5e="[object Float64Array]",a5e="[object Int8Array]",l5e="[object Int16Array]",c5e="[object Int32Array]",u5e="[object Uint8Array]",d5e="[object Uint8ClampedArray]",h5e="[object Uint16Array]",p5e="[object Uint32Array]",_n={};_n[i5e]=_n[s5e]=_n[a5e]=_n[l5e]=_n[c5e]=_n[u5e]=_n[d5e]=_n[h5e]=_n[p5e]=!0;_n[HMe]=_n[WMe]=_n[r5e]=_n[qMe]=_n[o5e]=_n[GMe]=_n[KMe]=_n[YMe]=_n[QMe]=_n[ZMe]=_n[JMe]=_n[XMe]=_n[e5e]=_n[t5e]=_n[n5e]=!1;function f5e(e){return wc(e)&&gG(e.length)&&!!_n[Ku(e)]}function kI(e){return function(t){return e(t)}}var yG=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Im=yG&&typeof module=="object"&&module&&!module.nodeType&&module,m5e=Im&&Im.exports===yG,Sx=m5e&&uG.process,np=function(){try{var e=Im&&Im.require&&Im.require("util").types;return e||Sx&&Sx.binding&&Sx.binding("util")}catch{}}(),p9=np&&np.isTypedArray,g5e=p9?kI(p9):f5e,b5e=Object.prototype,k5e=b5e.hasOwnProperty;function _G(e,t){var r=gI(e),o=!r&&zMe(e),s=!r&&!o&&wG(e),c=!r&&!o&&!s&&g5e(e),d=r||o||s||c,m=d?BMe(e.length,String):[],f=m.length;for(var k in e)(t||k5e.call(e,k))&&!(d&&(k=="length"||s&&(k=="offset"||k=="parent")||c&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||MMe(k,f)))&&m.push(k);return m}function CG(e,t){return function(r){return e(t(r))}}var v5e=CG(Object.keys,Object),w5e=Object.prototype,y5e=w5e.hasOwnProperty;function _5e(e){if(!bI(e))return v5e(e);var t=[];for(var r in Object(e))y5e.call(e,r)&&r!="constructor"&&t.push(r);return t}function vI(e){return bG(e)?_G(e):_5e(e)}function C5e(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var A5e=Object.prototype,x5e=A5e.hasOwnProperty;function E5e(e){if(!el(e))return C5e(e);var t=bI(e),r=[];for(var o in e)o=="constructor"&&(t||!x5e.call(e,o))||r.push(o);return r}function wI(e){return bG(e)?_G(e,!0):E5e(e)}var Tg=Qu(Object,"create");function S5e(){this.__data__=Tg?Tg(null):{},this.size=0}function D5e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var T5e="__lodash_hash_undefined__",I5e=Object.prototype,M5e=I5e.hasOwnProperty;function P5e(e){var t=this.__data__;if(Tg){var r=t[e];return r===T5e?void 0:r}return M5e.call(t,e)?t[e]:void 0}var N5e=Object.prototype,R5e=N5e.hasOwnProperty;function O5e(e){var t=this.__data__;return Tg?t[e]!==void 0:R5e.call(t,e)}var B5e="__lodash_hash_undefined__";function L5e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Tg&&t===void 0?B5e:t,this}function Ru(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}Ru.prototype.clear=S5e;Ru.prototype.delete=D5e;Ru.prototype.get=P5e;Ru.prototype.has=O5e;Ru.prototype.set=L5e;function j5e(){this.__data__=[],this.size=0}function W_(e,t){for(var r=e.length;r--;)if(fG(e[r][0],t))return r;return-1}var F5e=Array.prototype,z5e=F5e.splice;function $5e(e){var t=this.__data__,r=W_(t,e);if(r<0)return!1;var o=t.length-1;return r==o?t.pop():z5e.call(t,r,1),--this.size,!0}function V5e(e){var t=this.__data__,r=W_(t,e);return r<0?void 0:t[r][1]}function U5e(e){return W_(this.__data__,e)>-1}function H5e(e,t){var r=this.__data__,o=W_(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}function ol(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}ol.prototype.clear=j5e;ol.prototype.delete=$5e;ol.prototype.get=V5e;ol.prototype.has=U5e;ol.prototype.set=H5e;var Ig=Qu(ws,"Map");function W5e(){this.size=0,this.__data__={hash:new Ru,map:new(Ig||ol),string:new Ru}}function q5e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function q_(e,t){var r=e.__data__;return q5e(t)?r[typeof t=="string"?"string":"hash"]:r.map}function G5e(e){var t=q_(this,e).delete(e);return this.size-=t?1:0,t}function K5e(e){return q_(this,e).get(e)}function Y5e(e){return q_(this,e).has(e)}function Q5e(e,t){var r=q_(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}function Dp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}Dp.prototype.clear=W5e;Dp.prototype.delete=G5e;Dp.prototype.get=K5e;Dp.prototype.has=Y5e;Dp.prototype.set=Q5e;function AG(e,t){for(var r=-1,o=t.length,s=e.length;++r<o;)e[s+r]=t[r];return e}var yI=CG(Object.getPrototypeOf,Object),Z5e="[object Object]",J5e=Function.prototype,X5e=Object.prototype,xG=J5e.toString,ePe=X5e.hasOwnProperty,tPe=xG.call(Object);function nPe(e){if(!wc(e)||Ku(e)!=Z5e)return!1;var t=yI(e);if(t===null)return!0;var r=ePe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&xG.call(r)==tPe}function rPe(){this.__data__=new ol,this.size=0}function oPe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function iPe(e){return this.__data__.get(e)}function sPe(e){return this.__data__.has(e)}var aPe=200;function lPe(e,t){var r=this.__data__;if(r instanceof ol){var o=r.__data__;if(!Ig||o.length<aPe-1)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new Dp(o)}return r.set(e,t),this.size=r.size,this}function Tp(e){var t=this.__data__=new ol(e);this.size=t.size}Tp.prototype.clear=rPe;Tp.prototype.delete=oPe;Tp.prototype.get=iPe;Tp.prototype.has=sPe;Tp.prototype.set=lPe;function cPe(e,t){return e&&H_(t,vI(t),e)}function uPe(e,t){return e&&H_(t,wI(t),e)}var EG=typeof exports=="object"&&exports&&!exports.nodeType&&exports,f9=EG&&typeof module=="object"&&module&&!module.nodeType&&module,dPe=f9&&f9.exports===EG,m9=dPe?ws.Buffer:void 0,g9=m9?m9.allocUnsafe:void 0;function hPe(e,t){if(t)return e.slice();var r=e.length,o=g9?g9(r):new e.constructor(r);return e.copy(o),o}function pPe(e,t){for(var r=-1,o=e==null?0:e.length,s=0,c=[];++r<o;){var d=e[r];t(d,r,e)&&(c[s++]=d)}return c}function SG(){return[]}var fPe=Object.prototype,mPe=fPe.propertyIsEnumerable,b9=Object.getOwnPropertySymbols,_I=b9?function(e){return e==null?[]:(e=Object(e),pPe(b9(e),function(t){return mPe.call(e,t)}))}:SG;function gPe(e,t){return H_(e,_I(e),t)}var bPe=Object.getOwnPropertySymbols,DG=bPe?function(e){for(var t=[];e;)AG(t,_I(e)),e=yI(e);return t}:SG;function kPe(e,t){return H_(e,DG(e),t)}function TG(e,t,r){var o=t(e);return gI(e)?o:AG(o,r(e))}function vPe(e){return TG(e,vI,_I)}function wPe(e){return TG(e,wI,DG)}var OS=Qu(ws,"DataView"),BS=Qu(ws,"Promise"),LS=Qu(ws,"Set"),k9="[object Map]",yPe="[object Object]",v9="[object Promise]",w9="[object Set]",y9="[object WeakMap]",_9="[object DataView]",_Pe=Yu(OS),CPe=Yu(Ig),APe=Yu(BS),xPe=Yu(LS),EPe=Yu(RS),Ea=Ku;(OS&&Ea(new OS(new ArrayBuffer(1)))!=_9||Ig&&Ea(new Ig)!=k9||BS&&Ea(BS.resolve())!=v9||LS&&Ea(new LS)!=w9||RS&&Ea(new RS)!=y9)&&(Ea=function(e){var t=Ku(e),r=t==yPe?e.constructor:void 0,o=r?Yu(r):"";if(o)switch(o){case _Pe:return _9;case CPe:return k9;case APe:return v9;case xPe:return w9;case EPe:return y9}return t});var SPe=Object.prototype,DPe=SPe.hasOwnProperty;function TPe(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&DPe.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var C9=ws.Uint8Array;function CI(e){var t=new e.constructor(e.byteLength);return new C9(t).set(new C9(e)),t}function IPe(e,t){var r=t?CI(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var MPe=/\w*$/;function PPe(e){var t=new e.constructor(e.source,MPe.exec(e));return t.lastIndex=e.lastIndex,t}var A9=tp?tp.prototype:void 0,x9=A9?A9.valueOf:void 0;function NPe(e){return x9?Object(x9.call(e)):{}}function RPe(e,t){var r=t?CI(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var OPe="[object Boolean]",BPe="[object Date]",LPe="[object Map]",jPe="[object Number]",FPe="[object RegExp]",zPe="[object Set]",$Pe="[object String]",VPe="[object Symbol]",UPe="[object ArrayBuffer]",HPe="[object DataView]",WPe="[object Float32Array]",qPe="[object Float64Array]",GPe="[object Int8Array]",KPe="[object Int16Array]",YPe="[object Int32Array]",QPe="[object Uint8Array]",ZPe="[object Uint8ClampedArray]",JPe="[object Uint16Array]",XPe="[object Uint32Array]";function eNe(e,t,r){var o=e.constructor;switch(t){case UPe:return CI(e);case OPe:case BPe:return new o(+e);case HPe:return IPe(e,r);case WPe:case qPe:case GPe:case KPe:case YPe:case QPe:case ZPe:case JPe:case XPe:return RPe(e,r);case LPe:return new o;case jPe:case $Pe:return new o(e);case FPe:return PPe(e);case zPe:return new o;case VPe:return NPe(e)}}function tNe(e){return typeof e.constructor=="function"&&!bI(e)?EMe(yI(e)):{}}var nNe="[object Map]";function rNe(e){return wc(e)&&Ea(e)==nNe}var E9=np&&np.isMap,oNe=E9?kI(E9):rNe,iNe="[object Set]";function sNe(e){return wc(e)&&Ea(e)==iNe}var S9=np&&np.isSet,aNe=S9?kI(S9):sNe,lNe=1,cNe=2,uNe=4,IG="[object Arguments]",dNe="[object Array]",hNe="[object Boolean]",pNe="[object Date]",fNe="[object Error]",MG="[object Function]",mNe="[object GeneratorFunction]",gNe="[object Map]",bNe="[object Number]",PG="[object Object]",kNe="[object RegExp]",vNe="[object Set]",wNe="[object String]",yNe="[object Symbol]",_Ne="[object WeakMap]",CNe="[object ArrayBuffer]",ANe="[object DataView]",xNe="[object Float32Array]",ENe="[object Float64Array]",SNe="[object Int8Array]",DNe="[object Int16Array]",TNe="[object Int32Array]",INe="[object Uint8Array]",MNe="[object Uint8ClampedArray]",PNe="[object Uint16Array]",NNe="[object Uint32Array]",kn={};kn[IG]=kn[dNe]=kn[CNe]=kn[ANe]=kn[hNe]=kn[pNe]=kn[xNe]=kn[ENe]=kn[SNe]=kn[DNe]=kn[TNe]=kn[gNe]=kn[bNe]=kn[PG]=kn[kNe]=kn[vNe]=kn[wNe]=kn[yNe]=kn[INe]=kn[MNe]=kn[PNe]=kn[NNe]=!0;kn[fNe]=kn[MG]=kn[_Ne]=!1;function S0(e,t,r,o,s,c){var d,m=t&lNe,f=t&cNe,k=t&uNe;if(r&&(d=s?r(e,o,s,c):r(e)),d!==void 0)return d;if(!el(e))return e;var v=gI(e);if(v){if(d=TPe(e),!m)return SMe(e,d)}else{var _=Ea(e),y=_==MG||_==mNe;if(wG(e))return hPe(e,m);if(_==PG||_==IG||y&&!s){if(d=f||y?{}:tNe(e),!m)return f?kPe(e,uPe(d,e)):gPe(e,cPe(d,e))}else{if(!kn[_])return s?e:{};d=eNe(e,_,m)}}c||(c=new Tp);var A=c.get(e);if(A)return A;c.set(e,d),aNe(e)?e.forEach(function(I){d.add(S0(I,t,r,I,e,c))}):oNe(e)&&e.forEach(function(I,T){d.set(T,S0(I,t,r,T,e,c))});var D=k?f?wPe:vPe:f?wI:vI,S=v?void 0:D(e);return DMe(S||e,function(I,T){S&&(T=I,I=e[T]),mG(d,T,S0(I,t,r,T,e,c))}),d}var RNe=1,ONe=4;function BNe(e,t){return t=typeof t=="function"?t:void 0,S0(e,RNe|ONe,t)}var Dx=function(){return ws.Date.now()},LNe="Expected a function",jNe=Math.max,FNe=Math.min;function zNe(e,t,r){var o,s,c,d,m,f,k=0,v=!1,_=!1,y=!0;if(typeof e!="function")throw new TypeError(LNe);t=s9(t)||0,el(r)&&(v=!!r.leading,_="maxWait"in r,c=_?jNe(s9(r.maxWait)||0,t):c,y="trailing"in r?!!r.trailing:y);function A(U){var R=o,z=s;return o=s=void 0,k=U,d=e.apply(z,R),d}function D(U){return k=U,m=setTimeout(T,t),v?A(U):d}function S(U){var R=U-f,z=U-k,W=t-R;return _?FNe(W,c-z):W}function I(U){var R=U-f,z=U-k;return f===void 0||R>=t||R<0||_&&z>=c}function T(){var U=Dx();if(I(U))return P(U);m=setTimeout(T,S(U))}function P(U){return m=void 0,y&&o?A(U):(o=s=void 0,d)}function N(){m!==void 0&&clearTimeout(m),k=0,o=f=s=m=void 0}function j(){return m===void 0?d:P(Dx())}function $(){var U=Dx(),R=I(U);if(o=arguments,s=this,f=U,R){if(m===void 0)return D(f);if(_)return clearTimeout(m),m=setTimeout(T,t),A(f)}return m===void 0&&(m=setTimeout(T,t)),d}return $.cancel=N,$.flush=j,$}function D9(e){return wc(e)&&e.nodeType===1&&!nPe(e)}var $Ne="Expected a function";function VNe(e,t,r){var o=!0,s=!0;if(typeof e!="function")throw new TypeError($Ne);return el(r)&&(o="leading"in r?!!r.leading:o,s="trailing"in r?!!r.trailing:s),zNe(e,t,{leading:o,maxWait:t,trailing:s})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class NG extends mI{constructor(t,r={}){super(r),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=VNe(this._save.bind(this),typeof r.saveInterval=="number"?r.saveInterval:5e3),t&&(this._creator=(o,s)=>t.create(o,s)),this._destructor=o=>o.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(t=>{console.error("An error happened during the editor destroying.",t)}).then(()=>{const t={},r=[],o=this._config.rootsAttributes||{},s={};for(const[d,m]of Object.entries(this._data.roots))m.isLoaded?(t[d]="",s[d]=o[d]||{}):r.push(d);const c={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:r,rootsAttributes:s,_watchdogInitialData:this._data};return delete c.initialData,c.extraPlugins.push(UNe),this._initUsingData?this.create(t,c,c.context):D9(this._elementOrData)?this.create(this._elementOrData,c,c.context):this.create(this._editables,c,c.context)}).then(()=>{this._fire("restart")})}create(t=this._elementOrData,r=this._config,o){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=t,this._initUsingData=typeof t=="string"||Object.keys(t).length>0&&typeof Object.values(t)[0]=="string",this._config=this._cloneEditorConfiguration(r)||{},this._config.context=o,this._creator(t,this._config))).then(s=>{this._editor=s,s.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=s.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const t=this._editor;return this._editor=null,t.model.document.off("change:data",this._throttledSave),this._destructor(t)})}_save(){const t=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=t}catch(r){console.error(r,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t=this._editor,r=t.model.document.roots.filter(m=>m.isAttached()&&m.rootName!="$graveyard"),{plugins:o}=t,s=o.has("CommentsRepository")&&o.get("CommentsRepository"),c=o.has("TrackChanges")&&o.get("TrackChanges"),d={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};r.forEach(m=>{d.roots[m.rootName]={content:JSON.stringify(Array.from(m.getChildren())),attributes:JSON.stringify(Array.from(m.getAttributes())),isLoaded:m._isLoaded}});for(const m of t.model.markers)m._affectsData&&(d.markers[m.name]={rangeJSON:m.getRange().toJSON(),usingOperation:m._managedUsingOperations,affectsData:m._affectsData});return s&&(d.commentThreads=JSON.stringify(s.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),c&&(d.suggestions=JSON.stringify(c.getSuggestions({toJSON:!0,skipNotAttached:!0}))),d}_getEditables(){const t={};for(const r of this.editor.model.document.getRootNames()){const o=this.editor.ui.getEditableElement(r);o&&(t[r]=o)}return t}_isErrorComingFromThisItem(t){return cG(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return BNe(t,(r,o)=>{if(D9(r)||o==="context")return r})}}class UNe{constructor(t){this.editor=t,this._data=t.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",t=>{t.stop(),this.editor.model.enqueueChange({isUndoable:!1},r=>{this._restoreCollaborationData(),this._restoreEditorData(r)}),this.editor.data.fire("ready")},{priority:999})}_createNode(t,r){if("name"in r){const o=t.createElement(r.name,r.attributes);if(r.children)for(const s of r.children)o._appendChild(this._createNode(t,s));return o}else return t.createText(r.data,r.attributes)}_restoreEditorData(t){const r=this.editor;Object.entries(this._data.roots).forEach(([o,{content:s,attributes:c}])=>{const d=JSON.parse(s),m=JSON.parse(c),f=r.model.document.getRoot(o);for(const[k,v]of m)t.setAttribute(k,v,f);for(const k of d){const v=this._createNode(t,k);t.insert(v,f,"end")}}),Object.entries(this._data.markers).forEach(([o,s])=>{const{document:c}=r.model,{rangeJSON:{start:d,end:m},...f}=s,k=c.getRoot(d.root),v=t.createPositionFromPath(k,d.path,d.stickiness),_=t.createPositionFromPath(k,m.path,m.stickiness),y=t.createRange(v,_);t.addMarker(o,{range:y,...f})})}_restoreCollaborationData(){const t=JSON.parse(this._data.commentThreads),r=JSON.parse(this._data.suggestions);t.forEach(o=>{const s=this.editor.config.get("collaboration.channelId"),c=this.editor.plugins.get("CommentsRepository");c.hasCommentThread(o.threadId)&&c.getCommentThread(o.threadId).remove(),c.addCommentThread({channelId:s,...o})}),r.forEach(o=>{const s=this.editor.plugins.get("TrackChangesEditing");if(s.hasSuggestion(o.id)){const c=s.getSuggestion(o.id);c.attributes=o.attributes}else s.addSuggestionData(o)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Mm=Symbol("MainQueueId");class HNe extends mI{constructor(t,r={}){super(r),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new WNe,this._watchdogConfig=r,this._creator=o=>t.create(o),this._destructor=o=>o.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}get context(){return this._context}create(t={}){return this._actionQueues.enqueue(Mm,()=>(this._contextConfig=t,this._create()))}getItem(t){return this._getWatchdog(t)._item}getItemState(t){return this._getWatchdog(t).state}add(t){const r=T9(t);return Promise.all(r.map(o=>this._actionQueues.enqueue(o.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let s;if(this._watchdogs.has(o.id))throw new Error(`Item with the given id is already added: '${o.id}'.`);if(o.type==="editor")return s=new NG(null,this._watchdogConfig),s.setCreator(o.creator),s._setExcludedProperties(this._contextProps),o.destructor&&s.setDestructor(o.destructor),this._watchdogs.set(o.id,s),s.on("error",(c,{error:d,causesRestart:m})=>{this._fire("itemError",{itemId:o.id,error:d}),m&&this._actionQueues.enqueue(o.id,()=>new Promise(f=>{const k=()=>{s.off("restart",k),this._fire("itemRestart",{itemId:o.id}),f()};s.on("restart",k)}))}),s.create(o.sourceElementOrData,o.config,this._context);throw new Error(`Not supported item type: '${o.type}'.`)})))}remove(t){const r=T9(t);return Promise.all(r.map(o=>this._actionQueues.enqueue(o,()=>{const s=this._getWatchdog(o);return this._watchdogs.delete(o),s.destroy()})))}destroy(){return this._actionQueues.enqueue(Mm,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Mm,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(t=>{console.error("An error happened during destroying the context or items.",t)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(t=>(this._context=t,this._contextProps=NS(this._context),Promise.all(Array.from(this._watchdogs.values()).map(r=>(r._setExcludedProperties(this._contextProps),r.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const t=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(r=>r.destroy())).then(()=>this._destructor(t))})}_getWatchdog(t){const r=this._watchdogs.get(t);if(!r)throw new Error(`Item with the given id was not registered: ${t}.`);return r}_isErrorComingFromThisItem(t){for(const r of this._watchdogs.values())if(r._isErrorComingFromThisItem(t))return!1;return cG(this._context,t.context)}}class WNe{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(t){this._onEmptyCallbacks.push(t)}enqueue(t,r){const o=t===Mm;this._activeActions++,this._queues.get(t)||this._queues.set(t,Promise.resolve());const c=(o?Promise.all(this._queues.values()):Promise.all([this._queues.get(Mm),this._queues.get(t)])).then(r),d=c.catch(()=>{});return this._queues.set(t,d),c.finally(()=>{this._activeActions--,this._queues.get(t)===d&&this._activeActions===0&&this._onEmptyCallbacks.forEach(m=>m())})}}function T9(e){return Array.isArray(e)?e:[e]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const qNe=Object.freeze(Object.defineProperty({__proto__:null,ContextWatchdog:HNe,EditorWatchdog:NG,Watchdog:mI},Symbol.toStringTag,{value:"Module"})),GNe=aa(qNe);/*!
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(e,t){(function(r,o){e.exports=o(B,LW(),GNe)})(self,(r,o,s)=>(()=>{var c={546:k=>{k.exports=s},949:k=>{k.exports=o},155:k=>{k.exports=r}},d={};function m(k){var v=d[k];if(v!==void 0)return v.exports;var _=d[k]={exports:{}};return c[k](_,_.exports,m),_.exports}m.n=k=>{var v=k&&k.__esModule?()=>k.default:()=>k;return m.d(v,{a:v}),v},m.d=(k,v)=>{for(var _ in v)m.o(v,_)&&!m.o(k,_)&&Object.defineProperty(k,_,{enumerable:!0,get:v[_]})},m.o=(k,v)=>Object.prototype.hasOwnProperty.call(k,v),m.r=k=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(k,"__esModule",{value:!0})};var f={};return(()=>{m.r(f),m.d(f,{CKEditor:()=>P,CKEditorContext:()=>I,useMultiRootEditor:()=>U});var k=m(155),v=m.n(k),_=m(949),y=m.n(_);const A=new Array(256).fill("").map((R,z)=>("0"+z.toString(16)).slice(-2));var D=m(546);const S=v().createContext("contextWatchdog");class I extends v().Component{constructor(z,W){super(z,W),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(z){return this._shouldComponentUpdate(z)}async _shouldComponentUpdate(z){return z.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(z.config)),z.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(z.config),!0):this.props.children!==z.children}render(){return v().createElement(S.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(z){this.contextWatchdog=new D.ContextWatchdog(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(W,q)=>{this.props.onError(q.error,{phase:"runtime",willContextRestart:q.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(z).catch(W=>{this.props.onError(W,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}I.defaultProps={isLayoutReady:!0,onError:(R,z)=>console.error(R,z)},I.propTypes={id:y().string,isLayoutReady:y().bool,context:y().func,watchdogConfig:y().object,config:y().object,onReady:y().func,onError:y().func};const T="Lock from React integration (@ckeditor/ckeditor5-react)";class P extends v().Component{constructor(z){super(z),this.editorDestructionInProgress=null,this.domContainer=v().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:W}=window;if(W){const[q]=W.split(".").map(Number);q<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(z){return!!this.editor&&(z.id!==this.props.id||z.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(z)&&this.editor.data.set(z.data),"disabled"in z&&(z.disabled?this.editor.enableReadOnlyMode(T):this.editor.disableReadOnlyMode(T)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return v().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof D.ContextWatchdog?this.watchdog=new N(this.context):this.watchdog=new P._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((z,W)=>this._createEditor(z,W)),this.watchdog.on("error",(z,{error:W,causesRestart:q})=>{(this.props.onError||console.error)(W,{phase:"runtime",willEditorRestart:q})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(z=>{(this.props.onError||console.error)(z,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(z,W){return this.props.editor.create(z,W).then(q=>{"disabled"in this.props&&this.props.disabled&&q.enableReadOnlyMode(T);const Y=q.model.document,Z=q.editing.view.document;return Y.on("change:data",Q=>{this.props.onChange&&this.props.onChange(Q,q)}),Z.on("focus",Q=>{this.props.onFocus&&this.props.onFocus(Q,q)}),Z.on("blur",Q=>{this.props.onBlur&&this.props.onBlur(Q,q)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(q)}),q})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(z=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,z()):this.instance?(await this.instance.destroy(),this.instance=null,z()):void z())})}_shouldUpdateEditor(z){return this.props.data!==z.data&&this.editor.data.get()!==z.data}_getConfig(){const z=this.props.config||{};return this.props.data&&z.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...z,initialData:z.initialData||this.props.data||""}}}P.contextType=S,P.propTypes={editor:y().func.isRequired,data:y().string,config:y().object,disableWatchdog:y().bool,watchdogConfig:y().object,onChange:y().func,onReady:y().func,onFocus:y().func,onBlur:y().func,onError:y().func,disabled:y().bool,id:y().any},P._EditorWatchdog=D.EditorWatchdog;class N{constructor(z){this._contextWatchdog=z,this._id=function(){const W=4294967296*Math.random()>>>0,q=4294967296*Math.random()>>>0,Y=4294967296*Math.random()>>>0,Z=4294967296*Math.random()>>>0;return"e"+A[255&W]+A[W>>8&255]+A[W>>16&255]+A[W>>24&255]+A[255&q]+A[q>>8&255]+A[q>>16&255]+A[q>>24&255]+A[255&Y]+A[Y>>8&255]+A[Y>>16&255]+A[Y>>24&255]+A[255&Z]+A[Z>>8&255]+A[Z>>16&255]+A[Z>>24&255]}()}setCreator(z){this._creator=z}create(z,W){return this._contextWatchdog.add({sourceElementOrData:z,config:W,creator:this._creator,id:this._id,type:"editor"})}on(z,W){this._contextWatchdog.on("itemError",(q,{itemId:Y,error:Z})=>{Y===this._id&&W(null,{error:Z,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}const j="Lock from React integration (@ckeditor/ckeditor5-react)",$=({editor:R})=>{const z=(0,k.useRef)(null);return(0,k.useEffect)(()=>{const W=z.current;if(!R||!W)return;const q=R.ui.view.toolbar.element;return W&&W.appendChild(q),()=>{W&&W.removeChild(q)}},[R&&R.id]),v().createElement("div",{ref:z})},U=R=>{const z=(0,k.useRef)(null),W=(0,k.useRef)(null),q=(0,k.useContext)(S),[Y,Z]=(0,k.useState)(null),[Q,J]=(0,k.useState)(R.data),[te,ee]=(0,k.useState)(R.rootsAttributes||{}),[ne,G]=(0,k.useState)([]),re=(0,k.useRef)(!0);(0,k.useEffect)(()=>((async()=>(await W.current,R.isLayoutReady!==!1&&await Le()))(),()=>{et().then(()=>{W.current=null})}),[R.isLayoutReady]),(0,k.useEffect)(()=>{Y&&(R.disabled?Y.enableReadOnlyMode(j):Y.disableReadOnlyMode(j))},[R.disabled]),(0,k.useEffect)(()=>{if(Y&&!W.current){const Ne=Y.getFullData();J({...Ne}),ee({...Y.getRootsAttributes()}),G([...Object.keys(Ne).map(be=>_e(Y,be))])}},[Y&&Y.id]);const ie=()=>{const Ne=R.config||{};return R.data&&Ne.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` property. The config value takes precedence over `data` property and will be used when both are specified."),{...Ne,rootsAttributes:te}},_e=(Ne,be)=>v().createElement("div",{id:be,key:be,ref:Pe=>{if(Pe){const Je=Ne.ui.view.createEditable(be,Pe);Ne.ui.addEditable(Je),Ne.editing.view.forceRender()}}}),Te=(Ne,be)=>R.editor.create(Ne,be).then(Pe=>{R.disabled&&R.disabled&&Pe.enableReadOnlyMode(j);const Je=Pe.model.document,ln=Pe.editing.view.document;return Je.on("change:data",Lt=>((xt,Ut)=>{const dt=xt.model.document;if(!R.disableTwoWayDataBinding){const We={},ut={};dt.differ.getChanges().forEach(at=>{let Ze;if(Ze=at.type=="insert"||at.type=="remove"?at.position.root:at.range.root,!Ze.isAttached())return;const{rootName:yt}=Ze;We[yt]=xt.getData({rootName:yt})}),dt.differ.getChangedRoots().forEach(at=>{if(at.state)return void(We[at.name]!==void 0&&delete We[at.name]);const Ze=at.name;ut[Ze]=xt.getRootAttributes(Ze)}),Object.keys(We).length&&J(at=>({...at,...We})),Object.keys(ut).length&&ee(at=>({...at,...ut}))}R.onChange&&R.onChange(Ut,xt)})(Pe,Lt)),Pe.on("addRoot",(Lt,xt)=>((Ut,dt,We)=>{const ut=We.rootName,at=_e(Ut,ut);R.disableTwoWayDataBinding||(J(Ze=>({...Ze,[ut]:Ut.getData({rootName:ut})})),ee(Ze=>({...Ze,[ut]:Ut.getRootAttributes(ut)}))),G(Ze=>[...Ze,at])})(Pe,0,xt)),Pe.on("detachRoot",(Lt,xt)=>((Ut,dt,We)=>{const ut=We.rootName;G(at=>at.filter(Ze=>Ze.props.id!==ut)),R.disableTwoWayDataBinding||(J(at=>{const{[ut]:Ze,...yt}=at;return{...yt}}),ee(at=>{const{[ut]:Ze,...yt}=at;return{...yt}})),Ut.detachEditable(We)})(Pe,0,xt)),ln.on("focus",Lt=>{R.onFocus&&R.onFocus(Lt,Pe)}),ln.on("blur",Lt=>{R.onBlur&&R.onBlur(Lt,Pe)}),Z(Pe),R.onReady&&R.onReady(Pe),Pe}),et=async()=>{Z(null),J({}),ee({}),G([]),W.current=new Promise(Ne=>{setTimeout(async()=>z.current?(await z.current.destroy(),z.current=null,Ne()):Y?(await Y.destroy(),Ne()):void Ne())})},Le=async()=>{if(R.disableWatchdog)return void await Te(R.data,ie());if(z.current)return;q instanceof D.ContextWatchdog?z.current=new N(q):z.current=new D.EditorWatchdog(R.editor,R.watchdogConfig);const Ne=z.current;Ne.setCreator((be,Pe)=>Te(be,Pe)),Ne.on("error",(be,{error:Pe,causesRestart:Je})=>{(R.onError||console.error)(Pe,{phase:"runtime",willEditorRestart:Je})}),await Ne.create(Q,ie()).catch(be=>{(R.onError||console.error)(be,{phase:"initialization",willEditorRestart:!1})})};(0,k.useEffect)(()=>{if(Y&&re.current){re.current=!1;const Ne=Object.keys(Q),be=Object.keys(te);if(!Ne.every(dt=>be.includes(dt)))throw new Error("`data` and `attributes` objects must have the same keys (roots).");const Pe=Y.getFullData(),Je=Y.getRootsAttributes(),{addedKeys:ln,removedKeys:Lt}=st(Pe,Q||{}),xt=Ne.some(dt=>Pe[dt]!==void 0&&JSON.stringify(Pe[dt])!==JSON.stringify(Q[dt])),Ut=be.filter(dt=>JSON.stringify(Je[dt])!==JSON.stringify(te[dt]));Y.model.change(dt=>{me(ln),ot(Lt),xt&&it(),Ut.length&&ct(dt,Ut)})}},[Q,te]);const st=(Ne,be)=>{const Pe=Object.keys(Ne),Je=Object.keys(be);return{addedKeys:Je.filter(ln=>!Pe.includes(ln)),removedKeys:Pe.filter(ln=>!Je.includes(ln))}},me=Ne=>{Ne.forEach(be=>{Y.addRoot(be,{data:Q[be]||"",attributes:(te==null?void 0:te[be])||{},isUndoable:!0})})},ot=Ne=>{Ne.forEach(be=>{Y.detachRoot(be,!0)})},it=()=>{Y.data.set(Q,{suppressErrorInCollaboration:!0})},ct=(Ne,be)=>{be.forEach(Pe=>{Object.keys(te[Pe]).forEach(Je=>{Y.registerRootAttribute(Je)}),Ne.clearAttributes(Y.model.document.getRoot(Pe)),Ne.setAttributes(te[Pe],Y.model.document.getRoot(Pe))})},At=(0,k.useCallback)(Ne=>{re.current=!0,J(Ne)},[J]),tt=(0,k.useCallback)(Ne=>{re.current=!0,ee(Ne)},[ee]);return{editor:Y,editableElements:ne,toolbarElement:v().createElement($,{editor:Y}),data:Q,setData:At,attributes:te,setAttributes:tt}}})(),f})())})(lG);var RG=lG.exports,jw={exports:{}};jw.exports;(function(e,t){(function(r){const o=r.en=r.en||{};o.dictionary=Object.assign(o.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(may require <kbd>Fn</kbd>)","%0 of %1":"%0 of %1",Accept:"Accept",Accessibility:"Accessibility","Accessibility help":"Accessibility help","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bold text":"Bold text",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Close:"Close","Close contextual balloons, dropdowns, and dialogs":"Close contextual balloons, dropdowns, and dialogs",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Content editing keystrokes":"Content editing keystrokes","Copy selected content":"Copy selected content","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Create link":"Create link",Custom:"Custom","Custom image size":"Custom image size",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Decrease list item indent":"Decrease list item indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit image":"Edit image","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor dialog":"Editor dialog","Editor editing area: %0":"Editor editing area: %0","Editor menu bar":"Editor menu bar","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Entering a to-do list":"Entering a to-do list","Error during image upload":"Error during image upload","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.","Failed to determine category of edited image.":"Failed to determine category of edited image.","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Help Contents. To close this dialog press ESC.":"Help Contents. To close this dialog press ESC.",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image from computer":"Image from computer","Image resize list":"Image resize list","Image toolbar":"Image toolbar","Image upload complete":"Image upload complete","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Increase list item indent":"Increase list item indent",Insert:"Insert","Insert a hard break (a new paragraph)":"Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget":"Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget":"Insert a new paragraph directly before a widget","Insert a new table row (when in the last cell of a table)":"Insert a new table row (when in the last cell of a table)","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert image with file manager":"Insert image with file manager","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Insert with file manager":"Insert with file manager","Inserting image failed":"Inserting image failed",Inset:"Inset","Invalid start index value.":"Invalid start index value.",Italic:"Italic","Italic text":"Italic text","Justify cell text":"Justify cell text","Keystrokes that can be used in a list":"Keystrokes that can be used in a list","Keystrokes that can be used in a table cell":"Keystrokes that can be used in a table cell","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Leaving a to-do list":"Leaving a to-do list","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Link URL must not be empty.":"Link URL must not be empty.","List properties":"List properties","Lower-latin":"Lower-latin","Lowerroman":"Lowerroman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",MENU_BAR_MENU_EDIT:"Edit",MENU_BAR_MENU_FILE:"File",MENU_BAR_MENU_FONT:"Font",MENU_BAR_MENU_FORMAT:"Format",MENU_BAR_MENU_HELP:"Help",MENU_BAR_MENU_INSERT:"Insert",MENU_BAR_MENU_TEXT:"Text",MENU_BAR_MENU_TOOLS:"Tools",MENU_BAR_MENU_VIEW:"View","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Move focus between form fields (inputs, buttons, etc.)":"Move focus between form fields (inputs, buttons, etc.)","Move focus in and out of an active dialog window":"Move focus in and out of an active dialog window","Move focus to the menu bar, navigate between menu bars":"Move focus to the menu bar, navigate between menu bars","Move focus to the toolbar, navigate between toolbars":"Move focus to the toolbar, navigate between toolbars","Move out of a link":"Move out of a link","Move out of an inline code style":"Move out of an inline code style","Move the caret to allow typing directly after a widget":"Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget":"Move the caret to allow typing directly before a widget","Move the selection to the next cell":"Move the selection to the next cell","Move the selection to the previous cell":"Move the selection to the previous cell","Navigate through the table":"Navigate through the table","Navigate through the toolbar or menu bar":"Navigate through the toolbar or menu bar",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab","Open the accessibility help dialog":"Open the accessibility help dialog",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste content":"Paste content","Paste content as plain text":"Paste content as plain text","Paste the media URL in the input.":"Paste the media URL in the input.",'Please enter a valid color (e.g. "ff0000").':'Please enter a valid color (e.g. "ff0000").',"Press %0 for help.":"Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous","Processing the edited image.":"Processing the edited image.",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Resize image":"Resize image","Resize image (in %0)":"Resize image (in %0)","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Revert autoformatting action":"Revert autoformatting action","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Server failed to process the image.":"Server failed to process the image.","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough","Strikethrough text":"Strikethrough text",Style:"Style",Subscript:"Subscript",Superscript:"Superscript",Table:"Table","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"The value must not be empty.":"The value must not be empty.","The value should be a plain number.":"The value should be a plain number.","These keyboard shortcuts allow for quick access to content editing features.":"These keyboard shortcuts allow for quick access to content editing features.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerlatin list style":"Toggle the lowerlatin list style","Toggle the lowerroman list style":"Toggle the lowerroman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperlatin list style":"Toggle the upperlatin list style","Toggle the upperroman list style":"Toggle the upperroman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline","Underline text":"Underline text",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Upload in progress":"Upload in progress","Uploading image":"Uploading image","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes":"User interface and content navigation keystrokes","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(r,o){e.exports=o()}(self,()=>(()=>{var r={9246:(d,m,f)=>{const k=f(6931),v={};for(const y of Object.keys(k))v[k[y]]=y;const _={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};d.exports=_;for(const y of Object.keys(_)){if(!("channels"in _[y]))throw new Error("missing channels property: "+y);if(!("labels"in _[y]))throw new Error("missing channel labels property: "+y);if(_[y].labels.length!==_[y].channels)throw new Error("channel and label counts mismatch: "+y);const{channels:A,labels:D}=_[y];delete _[y].channels,delete _[y].labels,Object.defineProperty(_[y],"channels",{value:A}),Object.defineProperty(_[y],"labels",{value:D})}_.rgb.hsl=function(y){const A=y[0]/255,D=y[1]/255,S=y[2]/255,I=Math.min(A,D,S),T=Math.max(A,D,S),P=T-I;let N,j;T===I?N=0:A===T?N=(D-S)/P:D===T?N=2+(S-A)/P:S===T&&(N=4+(A-D)/P),N=Math.min(60*N,360),N<0&&(N+=360);const $=(I+T)/2;return j=T===I?0:$<=.5?P/(T+I):P/(2-T-I),[N,100*j,100*$]},_.rgb.hsv=function(y){let A,D,S,I,T;const P=y[0]/255,N=y[1]/255,j=y[2]/255,$=Math.max(P,N,j),U=$-Math.min(P,N,j),R=function(z){return($-z)/6/U+.5};return U===0?(I=0,T=0):(T=U/$,A=R(P),D=R(N),S=R(j),P===$?I=S-D:N===$?I=.3333333333333333+A-S:j===$&&(I=.6666666666666666+D-A),I<0?I+=1:I>1&&(I-=1)),[360*I,100*T,100*$]},_.rgb.hwb=function(y){const A=y[0],D=y[1];let S=y[2];const I=_.rgb.hsl(y)[0],T=1/255*Math.min(A,Math.min(D,S));return S=1-.00392156862745098*Math.max(A,Math.max(D,S)),[I,100*T,100*S]},_.rgb.cmyk=function(y){const A=y[0]/255,D=y[1]/255,S=y[2]/255,I=Math.min(1-A,1-D,1-S);return[100*((1-A-I)/(1-I)||0),100*((1-D-I)/(1-I)||0),100*((1-S-I)/(1-I)||0),100*I]},_.rgb.keyword=function(y){const A=v[y];if(A)return A;let D,S=1/0;for(const P of Object.keys(k)){const N=k[P],j=(T=N,((I=y)[0]-T[0])**2+(I[1]-T[1])**2+(I[2]-T[2])**2);j<S&&(S=j,D=P)}var I,T;return D},_.keyword.rgb=function(y){return k[y]},_.rgb.xyz=function(y){let A=y[0]/255,D=y[1]/255,S=y[2]/255;return A=A>.04045?((A+.055)/1.055)**2.4:A/12.92,D=D>.04045?((D+.055)/1.055)**2.4:D/12.92,S=S>.04045?((S+.055)/1.055)**2.4:S/12.92,[100*(.4124*A+.3576*D+.1805*S),100*(.2126*A+.7152*D+.0722*S),100*(.0193*A+.1192*D+.9505*S)]},_.rgb.lab=function(y){const A=_.rgb.xyz(y);let D=A[0],S=A[1],I=A[2];return D/=95.047,S/=100,I/=108.883,D=D>.008856?D**.3333333333333333:7.787*D+.13793103448275862,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,I=I>.008856?I**.3333333333333333:7.787*I+.13793103448275862,[116*S-16,500*(D-S),200*(S-I)]},_.hsl.rgb=function(y){const A=y[0]/360,D=y[1]/100,S=y[2]/100;let I,T,P;if(D===0)return P=255*S,[P,P,P];I=S<.5?S*(1+D):S+D-S*D;const N=2*S-I,j=[0,0,0];for(let $=0;$<3;$++)T=A+.3333333333333333*-($-1),T<0&&T++,T>1&&T--,P=6*T<1?N+6*(I-N)*T:2*T<1?I:3*T<2?N+(I-N)*(.6666666666666666-T)*6:N,j[$]=255*P;return j},_.hsl.hsv=function(y){const A=y[0];let D=y[1]/100,S=y[2]/100,I=D;const T=Math.max(S,.01);return S*=2,D*=S<=1?S:2-S,I*=T<=1?T:2-T,[A,100*(S===0?2*I/(T+I):2*D/(S+D)),100*((S+D)/2)]},_.hsv.rgb=function(y){const A=y[0]/60,D=y[1]/100;let S=y[2]/100;const I=Math.floor(A)%6,T=A-Math.floor(A),P=255*S*(1-D),N=255*S*(1-D*T),j=255*S*(1-D*(1-T));switch(S*=255,I){case 0:return[S,j,P];case 1:return[N,S,P];case 2:return[P,S,j];case 3:return[P,N,S];case 4:return[j,P,S];case 5:return[S,P,N]}},_.hsv.hsl=function(y){const A=y[0],D=y[1]/100,S=y[2]/100,I=Math.max(S,.01);let T,P;P=(2-D)*S;const N=(2-D)*I;return T=D*I,T/=N<=1?N:2-N,T=T||0,P/=2,[A,100*T,100*P]},_.hwb.rgb=function(y){const A=y[0]/360;let D=y[1]/100,S=y[2]/100;const I=D+S;let T;I>1&&(D/=I,S/=I);const P=Math.floor(6*A),N=1-S;T=6*A-P,1&P&&(T=1-T);const j=D+T*(N-D);let $,U,R;switch(P){default:case 6:case 0:$=N,U=j,R=D;break;case 1:$=j,U=N,R=D;break;case 2:$=D,U=N,R=j;break;case 3:$=D,U=j,R=N;break;case 4:$=j,U=D,R=N;break;case 5:$=N,U=D,R=j}return[255*$,255*U,255*R]},_.cmyk.rgb=function(y){const A=y[0]/100,D=y[1]/100,S=y[2]/100,I=y[3]/100;return[255*(1-Math.min(1,A*(1-I)+I)),255*(1-Math.min(1,D*(1-I)+I)),255*(1-Math.min(1,S*(1-I)+I))]},_.xyz.rgb=function(y){const A=y[0]/100,D=y[1]/100,S=y[2]/100;let I,T,P;return I=3.2406*A+-1.5372*D+-.4986*S,T=-.9689*A+1.8758*D+.0415*S,P=.0557*A+-.204*D+1.057*S,I=I>.0031308?1.055*I**.4166666666666667-.055:12.92*I,T=T>.0031308?1.055*T**.4166666666666667-.055:12.92*T,P=P>.0031308?1.055*P**.4166666666666667-.055:12.92*P,I=Math.min(Math.max(0,I),1),T=Math.min(Math.max(0,T),1),P=Math.min(Math.max(0,P),1),[255*I,255*T,255*P]},_.xyz.lab=function(y){let A=y[0],D=y[1],S=y[2];return A/=95.047,D/=100,S/=108.883,A=A>.008856?A**.3333333333333333:7.787*A+.13793103448275862,D=D>.008856?D**.3333333333333333:7.787*D+.13793103448275862,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,[116*D-16,500*(A-D),200*(D-S)]},_.lab.xyz=function(y){let A,D,S;D=(y[0]+16)/116,A=y[1]/500+D,S=D-y[2]/200;const I=D**3,T=A**3,P=S**3;return D=I>.008856?I:(D-.13793103448275862)/7.787,A=T>.008856?T:(A-.13793103448275862)/7.787,S=P>.008856?P:(S-.13793103448275862)/7.787,A*=95.047,D*=100,S*=108.883,[A,D,S]},_.lab.lch=function(y){const A=y[0],D=y[1],S=y[2];let I;return I=360*Math.atan2(S,D)/2/Math.PI,I<0&&(I+=360),[A,Math.sqrt(D*D+S*S),I]},_.lch.lab=function(y){const A=y[0],D=y[1],S=y[2]/360*2*Math.PI;return[A,D*Math.cos(S),D*Math.sin(S)]},_.rgb.ansi16=function(y,A=null){const[D,S,I]=y;let T=A===null?_.rgb.hsv(y)[2]:A;if(T=Math.round(T/50),T===0)return 30;let P=30+(Math.round(I/255)<<2|Math.round(S/255)<<1|Math.round(D/255));return T===2&&(P+=60),P},_.hsv.ansi16=function(y){return _.rgb.ansi16(_.hsv.rgb(y),y[2])},_.rgb.ansi256=function(y){const A=y[0],D=y[1],S=y[2];return A===D&&D===S?A<8?16:A>248?231:Math.round((A-8)/247*24)+232:16+36*Math.round(A/255*5)+6*Math.round(D/255*5)+Math.round(S/255*5)},_.ansi16.rgb=function(y){let A=y%10;if(A===0||A===7)return y>50&&(A+=3.5),A=A/10.5*255,[A,A,A];const D=.5*(1+~~(y>50));return[(1&A)*D*255,(A>>1&1)*D*255,(A>>2&1)*D*255]},_.ansi256.rgb=function(y){if(y>=232){const D=10*(y-232)+8;return[D,D,D]}let A;return y-=16,[Math.floor(y/36)/5*255,Math.floor((A=y%36)/6)/5*255,A%6/5*255]},_.rgb.hex=function(y){const A=(((255&Math.round(y[0]))<<16)+((255&Math.round(y[1]))<<8)+(255&Math.round(y[2]))).toString(16).toUpperCase();return"000000".substring(A.length)+A},_.hex.rgb=function(y){const A=y.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!A)return[0,0,0];let D=A[0];A[0].length===3&&(D=D.split("").map(I=>I+I).join(""));const S=parseInt(D,16);return[S>>16&255,S>>8&255,255&S]},_.rgb.hcg=function(y){const A=y[0]/255,D=y[1]/255,S=y[2]/255,I=Math.max(Math.max(A,D),S),T=Math.min(Math.min(A,D),S),P=I-T;let N,j;return N=P<1?T/(1-P):0,j=P<=0?0:I===A?(D-S)/P%6:I===D?2+(S-A)/P:4+(A-D)/P,j/=6,j%=1,[360*j,100*P,100*N]},_.hsl.hcg=function(y){const A=y[1]/100,D=y[2]/100,S=D<.5?2*A*D:2*A*(1-D);let I=0;return S<1&&(I=(D-.5*S)/(1-S)),[y[0],100*S,100*I]},_.hsv.hcg=function(y){const A=y[1]/100,D=y[2]/100,S=A*D;let I=0;return S<1&&(I=(D-S)/(1-S)),[y[0],100*S,100*I]},_.hcg.rgb=function(y){const A=y[0]/360,D=y[1]/100,S=y[2]/100;if(D===0)return[255*S,255*S,255*S];const I=[0,0,0],T=A%1*6,P=T%1,N=1-P;let j=0;switch(Math.floor(T)){case 0:I[0]=1,I[1]=P,I[2]=0;break;case 1:I[0]=N,I[1]=1,I[2]=0;break;case 2:I[0]=0,I[1]=1,I[2]=P;break;case 3:I[0]=0,I[1]=N,I[2]=1;break;case 4:I[0]=P,I[1]=0,I[2]=1;break;default:I[0]=1,I[1]=0,I[2]=N}return j=(1-D)*S,[255*(D*I[0]+j),255*(D*I[1]+j),255*(D*I[2]+j)]},_.hcg.hsv=function(y){const A=y[1]/100,D=A+y[2]/100*(1-A);let S=0;return D>0&&(S=A/D),[y[0],100*S,100*D]},_.hcg.hsl=function(y){const A=y[1]/100,D=y[2]/100*(1-A)+.5*A;let S=0;return D>0&&D<.5?S=A/(2*D):D>=.5&&D<1&&(S=A/(2*(1-D))),[y[0],100*S,100*D]},_.hcg.hwb=function(y){const A=y[1]/100,D=A+y[2]/100*(1-A);return[y[0],100*(D-A),100*(1-D)]},_.hwb.hcg=function(y){const A=y[1]/100,D=1-y[2]/100,S=D-A;let I=0;return S<1&&(I=(D-S)/(1-S)),[y[0],100*S,100*I]},_.apple.rgb=function(y){return[y[0]/65535*255,y[1]/65535*255,y[2]/65535*255]},_.rgb.apple=function(y){return[y[0]/255*65535,y[1]/255*65535,y[2]/255*65535]},_.gray.rgb=function(y){return[y[0]/100*255,y[0]/100*255,y[0]/100*255]},_.gray.hsl=function(y){return[0,0,y[0]]},_.gray.hsv=_.gray.hsl,_.gray.hwb=function(y){return[0,100,y[0]]},_.gray.cmyk=function(y){return[0,0,0,y[0]]},_.gray.lab=function(y){return[y[0],0,0]},_.gray.hex=function(y){const A=255&Math.round(y[0]/100*255),D=((A<<16)+(A<<8)+A).toString(16).toUpperCase();return"000000".substring(D.length)+D},_.rgb.gray=function(y){return[(y[0]+y[1]+y[2])/3/255*100]}},9047:(d,m,f)=>{const k=f(9246),v=f(802),_={};Object.keys(k).forEach(y=>{_[y]={},Object.defineProperty(_[y],"channels",{value:k[y].channels}),Object.defineProperty(_[y],"labels",{value:k[y].labels});const A=v(y);Object.keys(A).forEach(D=>{const S=A[D];_[y][D]=function(I){const T=function(...P){const N=P[0];if(N==null)return N;N.length>1&&(P=N);const j=I(P);if(typeof j=="object")for(let $=j.length,U=0;U<$;U++)j[U]=Math.round(j[U]);return j};return"conversion"in I&&(T.conversion=I.conversion),T}(S),_[y][D].raw=function(I){const T=function(...P){const N=P[0];return N==null?N:(N.length>1&&(P=N),I(P))};return"conversion"in I&&(T.conversion=I.conversion),T}(S)})}),d.exports=_},802:(d,m,f)=>{const k=f(9246);function v(A){const D=function(){const I={},T=Object.keys(k);for(let P=T.length,N=0;N<P;N++)I[T[N]]={distance:-1,parent:null};return I}(),S=[A];for(D[A].distance=0;S.length;){const I=S.pop(),T=Object.keys(k[I]);for(let P=T.length,N=0;N<P;N++){const j=T[N],$=D[j];$.distance===-1&&($.distance=D[I].distance+1,$.parent=I,S.unshift(j))}}return D}function _(A,D){return function(S){return D(A(S))}}function y(A,D){const S=[D[A].parent,A];let I=k[D[A].parent][A],T=D[A].parent;for(;D[T].parent;)S.unshift(D[T].parent),I=_(k[D[T].parent][T],I),T=D[T].parent;return I.conversion=S,I}d.exports=function(A){const D=v(A),S={},I=Object.keys(D);for(let T=I.length,P=0;P<T;P++){const N=I[P];D[N].parent!==null&&(S[N]=y(N,D))}return S}},6931:d=>{d.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4199:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const A=y},8708:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const A=y},1866:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,':root{--ck-image-processing-highlight-color:#f9fafa;--ck-image-processing-background-color:#e3e5e8}.ck.ck-editor__editable .image.image-processing{position:relative}.ck.ck-editor__editable .image.image-processing:before{animation:ck-image-processing-animation 2s linear infinite;background:linear-gradient(90deg,var(--ck-image-processing-background-color),var(--ck-image-processing-highlight-color),var(--ck-image-processing-background-color));background-size:200% 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ck.ck-editor__editable .image.image-processing img{height:100%}@keyframes ck-image-processing-animation{0%{background-position:200% 0}to{background-position:-200% 0}}',"",{version:3,sources:["webpack://./../ckeditor5-ckbox/theme/ckboximageedit.css"],names:[],mappings:"AAKA,MAEC,6CAAyD,CACzD,8CACD,CAIE,gDACC,iBA2BD,CAzBC,uDAmBC,0DAA2D,CAR3D,oKAKC,CACD,yBAA0B,CAhB1B,UAAW,CAOX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAClB,KAAM,CAKN,UAAW,CAHX,SAcD,CAEA,oDACC,WACD,CAKH,yCACC,GACC,0BACD,CACA,GACC,2BACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Based on default CKBox theme colors */
	--ck-image-processing-highlight-color: hsl(220, 10%, 98%);
	--ck-image-processing-background-color: hsl(220, 10%, 90%);
}

.ck.ck-editor__editable {
	& .image {
		&.image-processing {
			position: relative;

			&:before {
				content: '';

				position: absolute;
				top: 0;
				left: 0;
				z-index: 1;

				height: 100%;
				width: 100%;

				background: linear-gradient(
					90deg,
					var(--ck-image-processing-background-color),
					var(--ck-image-processing-highlight-color),
					var(--ck-image-processing-background-color)
				);
				background-size: 200% 100%;

				animation: ck-image-processing-animation 2s linear infinite;
			}

			& img {
				height: 100%;
			}
		}
	}
}

@keyframes ck-image-processing-animation {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}
`],sourceRoot:""}]);const A=y},7793:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const A=y},7388:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-width:1px 1px 0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,8DCED,eDeC,CAjBA,mKCMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAcF,CAjBA,8DAOC,wCAAsB,CAAtB,sBAUD,CARC,8FACC,uBACD,CAEA,qJAEC,QACD,CAMH,yCAEC,0CAA2C,CCtB3C,eDgCD,CAZA,yHChBE,qCAAsC,CDqBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-panel);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-sticky-panel__content {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border: 1px solid var(--ck-color-base-border);
			border-bottom-width: 0;

			&.ck-sticky-panel__content_sticky {
				border-bottom-width: 1px;
			}

			& .ck-menu-bar,
			& .ck-toolbar {
				border: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=y},4098:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}@media (forced-colors:active){.ck .ck-placeholder,.ck.ck-placeholder{forced-color-adjust:preserve-parent-color}}.ck .ck-placeholder:before,.ck.ck-placeholder:before{cursor:text}@media (forced-colors:none){.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text)}}@media (forced-colors:active){.ck .ck-placeholder:before,.ck.ck-placeholder:before{font-style:italic;margin-left:1px}}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC7BC,8BACC,uCCOA,yCDLA,CACD,CCOA,qDACC,WAmBD,CDvBA,4BACC,qDCMC,6CDJD,CACD,CAZA,8BACC,qDCsBC,iBAAkB,CAMlB,eD1BD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	@mixin ck-media-forced-colors {
		/*
		 * This is needed for Edge on Windows to use the right color for the placeholder content (::before).
		 * See https://github.com/ckeditor/ckeditor5/issues/14907.
		 */
		forced-color-adjust: preserve-parent-color;
	}

	&::before {
		cursor: text;

		@mixin ck-media-default-colors {
			color: var(--ck-color-engine-placeholder-text);
		}

		@mixin ck-media-forced-colors {
			/*
			 * In the high contrast mode there is no telling between regular and placeholder text. Using
			 * italic text to address that issue. See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			font-style: italic;

			/*
			 * Without this margin, the caret will not show up and blink when the user puts the selection
			 * in the placeholder (Edge on Windows). See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			margin-left: 1px;
		}
	}
}
`],sourceRoot:""}]);const A=y},8264:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const A=y},6269:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const A=y},265:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const A=y},5247:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAYD,CAJC,8BAXD,8BAYE,sBAAuB,CACvB,WAEF,CADC,CCdA,4BACC,qEDmBA,iDCjBA,CACD,CDmBA,uCALD,qEAME,cAEF,CADC,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@media (forced-colors: active) {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	@mixin ck-media-default-colors {
		animation: ck-image-caption-highlight .6s ease-out;
	}

	@media (prefers-reduced-motion: reduce) {
		animation: none;
	}
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const A=y},4642:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-image-custom-resize-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{display:inline-block}.ck.ck-image-custom-resize-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-image-custom-resize-form{flex-wrap:wrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-image-custom-resize-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecustomresizeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,gCAIC,sBAAuB,CAHvB,YAAa,CACb,kBAAmB,CACnB,gBAsBD,CAnBC,uDACC,oBACD,CAEA,0CACC,YACD,CCbA,oCDCD,gCAeE,cAUF,CARE,uDACC,eACD,CAEA,2CACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-image-custom-resize-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: flex-start;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=y},3350:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css"],names:[],mappings:"AAMC,yDACC,YAAa,CACb,mCACD,CCFD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CAEd,qCAAsC,CADtC,UAUD,CAZA,iDAME,eAMF,CAZA,iDAUE,gBAEF,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-url {
	& .ck-image-insert-url__action-row {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-image-insert-insert-by-url-width: 250px;
}

.ck.ck-image-insert-url {
	--ck-input-width: 100%;

	& .ck-image-insert-url__action-row {
		grid-column-gap: var(--ck-spacing-large);
		margin-top: var(--ck-spacing-large);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
			min-width: auto;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}

.ck.ck-image-insert-form {
	& > .ck.ck-button {
		display: block;
		width: 100%;
		padding: var(--ck-list-button-padding);

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& > .ck.ck-collapsible {
		&:not(:first-child) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		&:not(:last-child) {
			border-bottom: 1px solid var(--ck-color-base-border);
		}

		min-width: var(--ck-image-insert-insert-by-url-width);
	}

	/* This is the case when there are no other integrations configured than insert by URL */
	& > .ck.ck-image-insert-url {
		min-width: var(--ck-image-insert-insert-by-url-width);
		padding: var(--ck-spacing-large);
	}

	&:focus {
		outline: none;
	}
}
`],sourceRoot:""}]);const A=y},7378:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageplaceholder.css"],names:[],mappings:"AAMC,8CACC,yBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& img.image_placeholder {
		background-size: 100% 100%;
	}
}
`],sourceRoot:""}]);const A=y},3469:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const A=y},6386:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const A=y},7693:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0ms}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFAqCD,CAjCC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAEA,uCA7CD,+BA8CE,sBASF,CAPE,qCACC,cAAe,CAGf,YAAc,CAFd,SAAU,CACV,UAED,CACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 0ms;

		&::after {
			animation: none;
			opacity: 1;
			width: 0.3em;
			height: 0.45em;
		}
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const A=y},1559:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const A=y},2267:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBAMD,CAJC,uCAHD,yFAKE,cAAe,CADf,SAGF,CADC,CAKF,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;

			@media (prefers-reduced-motion: reduce) {
				opacity: 1;
				animation: none;
			}
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const A=y},4062:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=y},7719:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const A=y},8762:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const A=y},3817:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-link-form{align-items:flex-start;display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBAEC,sBAAuB,CADvB,YAkBD,CAfC,2BACC,YACD,CCPA,oCDCD,iBASE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CChBD,CDwBD,iCACC,aAYD,CALE,wHAEC,mCACD,CEhCF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;
	align-items: flex-start;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const A=y},4808:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzUuNzUgMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTUuNy43IDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NHptNS40OTQtNS4zMzVhLjc1Ljc1IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NS43NSAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTVtLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,k2BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const A=y},1232:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const A=y},6903:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const A=y},9968:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const A=y},7141:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const A=y},8991:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CA4EA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAtFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqFC,CAFA,wDApEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAoEA,CAhED,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sDAYE,eAEF,CADC,CAGD,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FAxHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAuHA,CAFA,wGAtGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAsGD,CAlGA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sGAYE,eAEF,CADC,CAGD,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const A=y},70:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const A=y},7048:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSlzY2FsZSguOTgwMTIpIj48cmVjdCB3aWR0aD0iNjAuMDk5IiBoZWlnaHQ9IjYwLjA5OSIgeD0iMTc2LjAzMSIgeT0iMjMxLjM5OSIgZmlsbD0iIzM0YTY2OCIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjIzOCIgcnk9IjUuMjM4Ii8+PHBhdGggZmlsbD0iIzVjODhjNSIgZD0ibTIwNi40NzcgMjYwLjktMjguOTg3IDI4Ljk4N2E1LjIyIDUuMjIgMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiLz48cGF0aCBmaWxsPSIjZGQ0YjNlIiBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwN3EuNS43NTMuOTUgMS41MDguNTE1LjcxNS45ODggMS40NGMxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5cS40NzMtLjcyMy45ODgtMS40MzkuNDUtLjc1NS45NS0xLjUwOGMuMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIGN4PSIyMjYuNzQyIiBjeT0iMjM5LjAwMiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjgyOCIgcnk9IjUuNTY0Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjlxLS4wMDEtLjU0My0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhxLS4wMDEtLjAwMy0uMDA0LS4wMDVjLTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTVtNC40MyA1LjY2LjAwMy4wMDZ2LS4wMDN6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGZpbGw9IiNjM2MzYzMiIGQ9Im0yMTUuMTg0IDI1MS45MjktNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMiA1LjIgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjl6Ii8+PHBhdGggZmlsbD0iI2ZkZGM0ZiIgZD0ibTIxMi45ODMgMjQ4LjQ5NS0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYgMTM2IDAgMCAwLTIuNzY0LTMuOSAzOCAzOCAwIDAgMC0uOTg5LTEuNDQgMzUgMzUgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiPjxwYXRoIGZpbGw9IiNGRkZGRkUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTk2Ny40ODQgMEg1Ni41MTdDMjUuMzA0IDAgMCAyNS4zMDQgMCA1Ni41MTd2OTEwLjk2NkMwIDk5OC42OTQgMjUuMjk3IDEwMjQgNTYuNTIyIDEwMjRINTQ3VjYyOEg0MTRWNDczaDEzM1YzNTkuMDI5YzAtMTMyLjI2MiA4MC43NzMtMjA0LjI4MiAxOTguNzU2LTIwNC4yODIgNTYuNTEzIDAgMTA1LjA4NiA0LjIwOCAxMTkuMjQ0IDYuMDg5VjI5OWwtODEuNjE2LjAzN2MtNjMuOTkzIDAtNzYuMzg0IDMwLjQ5Mi03Ni4zODQgNzUuMjM2VjQ3M2gxNTMuNDg3bC0xOS45ODYgMTU1SDcwN3YzOTZoMjYwLjQ4NGMzMS4yMTMgMCA1Ni41MTYtMjUuMzAzIDU2LjUxNi01Ni41MTZWNTYuNTE1QzEwMjQgMjUuMzAzIDk5OC42OTcgMCA5NjcuNDg0IDAiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OW0wIDQ1LjM5MWM2Ny4yNjUgMCA3NS4yMzMuMjU3IDEwMS43OTcgMS40NjkgMjQuNTYyIDEuMTIgMzcuOTAxIDUuMjI0IDQ2Ljc3OCA4LjY3NCAxMS43NTkgNC41NyAyMC4xNTEgMTAuMDI5IDI4Ljk2NiAxOC44NDVzMTQuMjc1IDE3LjIwNyAxOC44NDUgMjguOTY2YzMuNDUgOC44NzcgNy41NTQgMjIuMjE2IDguNjc0IDQ2Ljc3OCAxLjIxMiAyNi41NjQgMS40NjkgMzQuNTMyIDEuNDY5IDEwMS43OTggMCA2Ny4yNjUtLjI1NyA3NS4yMzMtMS40NjkgMTAxLjc5Ny0xLjEyIDI0LjU2Mi01LjIyNCAzNy45MDEtOC42NzQgNDYuNzc4LTQuNTcgMTEuNzU5LTEwLjAyOSAyMC4xNTEtMTguODQ1IDI4Ljk2NnMtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1Yy04Ljg3NyAzLjQ1LTIyLjIxNiA3LjU1NC00Ni43NzggOC42NzQtMjYuNTYgMS4yMTItMzQuNTI3IDEuNDY5LTEwMS43OTcgMS40NjktNjcuMjcxIDAtNzUuMjM3LS4yNTctMTAxLjc5OC0xLjQ2OS0yNC41NjItMS4xMi0zNy45MDEtNS4yMjQtNDYuNzc4LTguNjc0LTExLjc1OS00LjU3LTIwLjE1MS0xMC4wMjktMjguOTY2LTE4Ljg0NXMtMTQuMjc1LTE3LjIwNy0xOC44NDUtMjguOTY2Yy0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NnMxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDVjOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OSIgbWFzaz0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0yNTEuOTIxIDMzNi4wNTNjLTQ2LjM3OCAwLTgzLjk3NC0zNy41OTYtODMuOTc0LTgzLjk3M3MzNy41OTYtODMuOTc0IDgzLjk3NC04My45NzRjNDYuMzc3IDAgODMuOTczIDM3LjU5NiA4My45NzMgODMuOTc0IDAgNDYuMzc3LTM3LjU5NiA4My45NzMtODMuOTczIDgzLjk3M20wLTIxMy4zMzhjLTcxLjQ0NyAwLTEyOS4zNjUgNTcuOTE4LTEyOS4zNjUgMTI5LjM2NSAwIDcxLjQ0NiA1Ny45MTggMTI5LjM2NCAxMjkuMzY1IDEyOS4zNjQgNzEuNDQ2IDAgMTI5LjM2NC01Ny45MTggMTI5LjM2NC0xMjkuMzY0IDAtNzEuNDQ3LTU3LjkxOC0xMjkuMzY1LTEyOS4zNjQtMTI5LjM2NU00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjNzMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzFjMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwME0xNjMuNCAzMDUuNWM4OC43IDAgMTM3LjItNzMuNSAxMzcuMi0xMzcuMiAwLTIuMSAwLTQuMi0uMS02LjIgOS40LTYuOCAxNy42LTE1LjMgMjQuMS0yNS04LjYgMy44LTE3LjkgNi40LTI3LjcgNy42IDEwLTYgMTcuNi0xNS40IDIxLjItMjYuNy05LjMgNS41LTE5LjYgOS41LTMwLjYgMTEuNy04LjgtOS40LTIxLjMtMTUuMi0zNS4yLTE1LjItMjYuNiAwLTQ4LjIgMjEuNi00OC4yIDQ4LjIgMCAzLjguNCA3LjUgMS4zIDExLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40LTQuMSA3LjEtNi41IDE1LjQtNi41IDI0LjIgMCAxNi43IDguNSAzMS41IDIxLjUgNDAuMS03LjktLjItMTUuMy0yLjQtMjEuOC02di42YzAgMjMuNCAxNi42IDQyLjggMzguNyA0Ny4zLTQgMS4xLTguMyAxLjctMTIuNyAxLjctMy4xIDAtNi4xLS4zLTkuMS0uOSA2LjEgMTkuMiAyMy45IDMzLjEgNDUgMzMuNS0xNi41IDEyLjktMzcuMyAyMC42LTU5LjkgMjAuNi0zLjkgMC03LjctLjItMTEuNS0uNyAyMS4xIDEzLjggNDYuNSAyMS44IDczLjcgMjEuOCIgc3R5bGU9ImZpbGw6I2ZmZiIvPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,goGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,o+GACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,g/BACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const A=y},5651:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=y},5506:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=y},4043:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const A=y},2655:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const A=y},5032:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAcD,CAZC,uCATD,uCAUE,eAWF,CAVC,CAEA,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const A=y},2329:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const A=y},4143:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAaD,CCxBC,8BACC,8BDoBA,sBAAuB,CACvB,WCnBA,CACD,CAIA,4BDqBC,qEACC,iDACD,CCnBD,CDsBA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@mixin ck-media-forced-colors {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	@mixin ck-media-default-colors {
		&.table__caption_highlighted {
			animation: ck-table-caption-highlight .6s ease-out;
		}
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const A=y},8986:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const A=y},8795:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const A=y},8137:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const A=y},1623:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCA6BD,CA3BC,8ECxCD,eD6DC,CArBA,mMCpCA,qCDyDA,CArBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAcD,CAXC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEAKD,CAHC,uCAlBD,8EAmBE,cAEF,CADC,CAID,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;

			@media (prefers-reduced-motion: reduce) {
				animation: none;
			}
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=y},5562:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const A=y},8423:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const A=y},1801:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}.ck.ck-aria-live-region-list{list-style-type:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names:[],mappings:"AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD,CAEA,6BACC,oBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-aria-live-announcer {
	position: absolute;
	left: -10000px;
	top: -10000px;
}

.ck.ck-aria-live-region-list {
	list-style-type: none;
}
`],sourceRoot:""}]);const A=y},5727:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-panel);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=y},9715:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}@media (prefers-reduced-motion:reduce){.ck.ck-button,a.ck.ck-button{transition:none}}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{opacity:.5}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CA9BA,iDASE,oBAqBF,CA9BA,iDAaE,qBAiBF,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEzBD,6BCAC,oDD+ID,CC5IE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eFgJD,CA/IA,wIEGE,qCF4IF,CA/IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBA0ID,CAhHC,uCA/BD,6BAgCE,eA+GF,CA9GC,CAEA,oFGpCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHyCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAWD,CAZA,6FAIE,mCAQF,CAZA,6FAQE,oCAIF,CAZA,yEAWC,UACD,CAIC,oIIxFD,oDJ4FC,CAOA,gLKnGD,kCLqGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCClIA,+CDsIA,CCnIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDmHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CClJC,mDDuJD,CCpJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDmID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";
@import "../../mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;

	@mixin ck-dir ltr {
		justify-content: left;
	}

	@mixin ck-dir rtl {
		justify-content: right;
	}

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		opacity: .5;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const A=y},4391:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{transition:none}}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eDgFA,CA5CA,yIChCC,qCD4ED,CA5CA,2DAKE,gBAuCF,CA5CA,2DAUE,iBAkCF,CA5CA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CA2BD,CAxBC,2ECxDD,eDuEC,CAfA,6LCpDA,qCAAsC,CDsDpC,8CAaF,CAfA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAUD,CAHC,uCAZD,2EAaE,eAEF,CADC,CAGD,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEpFA,kCFsFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const A=y},25:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/collapsible/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/collapsible/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,qCAAsC,CAFtC,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,gFACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-list-button-padding);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const A=y},7317:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{transition:box-shadow .2s ease}@media (forced-colors:none){.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}}@media (forced-colors:active){.ck.ck-color-grid__tile{height:unset;min-height:unset;min-width:unset;padding:0 var(--ck-spacing-small);width:unset}.ck.ck-color-grid__tile .ck-button__label{display:inline-block}}@media (prefers-reduced-motion:reduce){.ck.ck-color-grid__tile{transition:none}}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,kBACC,YACD,CCCA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,8BAkED,CC3EC,4BACC,wBDgBA,QAAS,CAJT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CAJV,oCCTA,CDgBA,8HAIC,QACD,CAEA,+DACC,gDACD,CAEA,8BACC,8FACD,CAEA,gGAEC,iGACD,CCjCD,CAZA,8BACC,wBDqDA,YAAa,CAEb,gBAAiB,CADjB,eAAgB,CAEhB,iCAAkC,CAJlC,WClDA,CDwDA,0CACC,oBACD,CCzDD,CD4DA,uCAhDD,wBAiDE,eAkBF,CAjBC,CAEA,oCACC,YAAa,CACb,gBACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAGC,0CACC,aACD,CAIF,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	transition: .2s ease box-shadow;

	@mixin ck-media-default-colors {
		width: var(--ck-color-grid-tile-size);
		height: var(--ck-color-grid-tile-size);
		min-width: var(--ck-color-grid-tile-size);
		min-height: var(--ck-color-grid-tile-size);
		padding: 0;
		border: 0;

		&.ck-on,
		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			/* Disable the default .ck-button's border ring. */
			border: 0;
		}

		&.ck-color-selector__color-tile_bordered {
			box-shadow: 0 0 0 1px var(--ck-color-base-border);
		}

		&.ck-on {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);
		}

		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
		}
	}

	/*
	 * In high contrast mode, the colors are replaced with text labels.
	 * See https://github.com/ckeditor/ckeditor5/issues/14907.
	 */
	@mixin ck-media-forced-colors {
		width: unset;
		height: unset;
		min-width: unset;
		min-height: unset;
		padding: 0 var(--ck-spacing-small);

		& .ck-button__label {
			display: inline-block;
		}
	}

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		& .ck.ck-icon {
			display: block;
		}
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const A=y},1905:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const A=y},6309:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const A=y},9819:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{box-shadow:var(--ck-drop-shadow),0 0;--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width)}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,sBAKC,QAAS,CACT,MAAO,CAJP,wBAAyB,CAEzB,cAAe,CAGf,OAAQ,CACR,KAAM,CAPN,gBAcD,CALC,qDAEC,cAAe,CACf,eAAgB,CAFhB,mBAGD,CAGD,cACC,wBAAyB,CAEzB,iBAAkB,CADlB,iBAcD,CAXC,kCACC,aAKD,CAHC,0DACC,WACD,CAVF,mEAcE,kBAEF,CC7BA,MACC,mDAA2D,CAC3D,uDAA8D,CAC9D,2BAA4B,CAC5B,2BAA4B,CAC5B,4DAA6D,CAC7D,gEACD,CAEA,sBACC,+BAAgC,CAChC,oDAAqD,CACrD,0BACD,CAEA,cCbC,eD2BD,CAdA,mECTE,qCDuBF,CAdA,cEfC,oCAA8B,CFmB9B,6CAA8C,CAE9C,4CAA6C,CAG7C,4CAA6C,CAF7C,sCAAuC,CACvC,oCAMD,CAHC,kCACC,iEACD,CAGD,6BACC,GACC,sBACD,CAEA,GACC,oDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog-overlay {
	user-select: none;
	overscroll-behavior: none;

	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	top: 0;

	&.ck-dialog-overlay__transparent {
		pointer-events: none;
		animation: none;
		background: none;
	}
}

.ck.ck-dialog {
	overscroll-behavior: none;
	width: fit-content;
	position: absolute;

	& .ck.ck-form__header  {
		flex-shrink: 0;

		& .ck-form__header__label {
			cursor: grab;
		}
	}

	@nest .ck.ck-dialog-overlay.ck-dialog-overlay__transparent & {
		pointer-events: all;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

:root {
	--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );
	--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);
	--ck-dialog-max-width: 100vw;
	--ck-dialog-max-height: 90vh;
	--ck-color-dialog-background: var(--ck-color-base-background);
	--ck-color-dialog-form-header-border: var(--ck-color-base-border);
}

.ck.ck-dialog-overlay {
	animation: ck-dialog-fade-in .3s;
	background: var(--ck-dialog-overlay-background-color);
	z-index: var(--ck-z-dialog);
}

.ck.ck-dialog {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	--ck-drop-shadow: var(--ck-dialog-drop-shadow);

	background: var(--ck-color-dialog-background);
	max-height: var(--ck-dialog-max-height);
	max-width: var(--ck-dialog-max-width);
	border: 1px solid var(--ck-color-base-border);

	& .ck.ck-form__header {
		border-bottom: 1px solid var(--ck-color-dialog-form-header-border);
	}
}

@keyframes ck-dialog-fade-in {
	0% {
		background: hsla( 0, 0%, 0%, 0 );
	}

	100% {
		background: var(--ck-dialog-overlay-background-color);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=y},9822:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialogactions.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialogactions.css"],names:[],mappings:"AAMC,qCACC,YAAa,CACb,wBAAyB,CCDzB,+BDED,CCAC,yCACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		display: flex;
		justify-content: flex-end;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		padding: var(--ck-spacing-large);

		& > * + * {
			margin-left: var(--ck-spacing-large);
		}
	}
}
`],sourceRoot:""}]);const A=y},8149:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-panel);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-panel) + 1 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=y},3629:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown > .ck-dropdown__panel > .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=y},1792:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=y},1666:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const A=y},8527:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{*{white-space:normal}}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/accessibilityhelp.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAQA,MACC,8CAA+C,CAC/C,+CAAgD,CAChD,mDAA8D,CAC9D,4DAAyE,CACzE,uDACD,CAEA,wEAOC,4BAA6B,CAJ7B,yDAA0D,CAD1D,uDAAwD,CAExD,aAAc,CAHd,+BAAgC,CAIhC,gBAgFD,CA5EC,8ECdA,2BAA2B,CCF3B,2CAA8B,CDC9B,YDkBA,CAZD,wEAcC,EACC,kBACD,CAqED,CAlEC,kFACC,YACD,CAEA,2EAEC,eAAgB,CADhB,eAED,CAEA,2EAEC,aAAc,CADd,eAED,CAEA,8SAIC,YACD,CAEA,2EAIC,kBAAmB,CADnB,qEAAsE,CAFtE,YAAa,CACb,6BAiBD,CAbC,4JACC,wEAAyE,CACzE,cACD,CAEA,8EACC,mBACD,CAEA,8EACC,mBAAoB,CACpB,gBACD,CAGD,yJAEC,oEAAqE,CAIrE,iBAAkB,CALlB,oBAAqB,CAOrB,cAAe,CAHf,aAAc,CAFd,YAAa,CAIb,iBAAkB,CAHlB,qBAKD,CAEA,6EACC,qBACD,CAEA,4EAEC,yEAA4E,CAC5E,YAAa,CAFb,eAOD,CAHC,gFACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-accessibility-help-dialog-max-width: 600px;
	--ck-accessibility-help-dialog-max-height: 400px;
	--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);
	--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);
	--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%);
}

.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content {
	padding: var(--ck-spacing-large);
	max-width: var(--ck-accessibility-help-dialog-max-width);
	max-height: var(--ck-accessibility-help-dialog-max-height);
	overflow: auto;
	user-select: text;

	border: 1px solid transparent;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	* {
		white-space: normal;
	}

	/* Hide the main label of the content container. */
	& .ck-label {
		display: none;
	}

	& h3 {
		font-weight: bold;
		font-size: 1.2em;
	}

	& h4 {
		font-weight: bold;
		font-size: 1em;
	}

	& p,
	& h3,
	& h4,
	& table {
		margin: 1em 0;
	}

	& dl {
		display: grid;
		grid-template-columns: 2fr 1fr;
		border-top: 1px solid var(--ck-accessibility-help-dialog-border-color);
		border-bottom: none;

		& dt, & dd {
			border-bottom: 1px solid var(--ck-accessibility-help-dialog-border-color);
			padding: .4em 0;
		}

		& dt {
			grid-column-start: 1;
		}

		& dd {
			grid-column-start: 2;
			text-align: right;
		}
	}

	& kbd, & code {
		display: inline-block;
		background: var(--ck-accessibility-help-dialog-code-background-color);
		padding: .4em;
		vertical-align: middle;
		line-height: 1;
		border-radius: 2px;
		text-align: center;
		font-size: .9em;
	}

	& code {
		font-family: monospace;
	}

	& kbd {
		min-width: 1.8em;
		box-shadow: 0px 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);
		margin: 0 1px;

		& + kbd {
			margin-left: 2px;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=y},1185:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=y},7913:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAmBD,CAdC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,wBAAyB,CACzB,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-form-header-height: 44px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& > .ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-medium);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-medium);
		}
	}

	& .ck-form__header__label {
		--ck-font-size-base: 15px;
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const A=y},9529:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const A=y},7621:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const A=y},253:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}@media (prefers-reduced-motion:reduce){.ck.ck-input{transition:none}}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}@media (prefers-reduced-motion:reduce){.ck.ck-input.ck-error{animation:none}}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eDmDD,CA9CA,iECDE,qCD+CF,CA9CA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DAkCD,CAhCC,uCAdD,aAeE,eA+BF,CA9BC,CAEA,mBEvBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YF2BA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BGnCD,oDHsCC,CAGD,sBAEC,sCAAuC,CADvC,+CAUD,CAPC,uCAJD,sBAKE,cAMF,CALC,CAEA,4BGjDD,iDHmDC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		@media (prefers-reduced-motion: reduce) {
			animation: none;
		}

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=y},7801:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const A=y},4962:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}@media (prefers-reduced-motion:reduce){.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transition:none}}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eDmHD,CA9GA,2FCDE,qCD+GF,CA3GC,mEACC,UAwCD,CAtCC,gFACC,KAoCD,CArCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBAgCF,CArCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAyBF,CArCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAQD,CAHC,uCAlCD,gFAmCE,eAEF,CADC,CASD,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,2XAGE,+HAYF,CAfA,2XAOE,wIAQF,CAfA,uWAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
				transform-origin: 0 0;
				/* By default, display the label scaled down above the field. */
				transform: translate(var(--ck-spacing-medium), -6px) scale(.75);
			}

			@mixin ck-dir rtl {
				right: 0px;
				transform-origin: 100% 0;
				transform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);
			}

			pointer-events: none;

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=y},5199:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.11*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item>.ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item>.ck-button{text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button{text-align:right}.ck.ck-list__item>.ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item>.ck-button:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,MACC,qJAGD,CAEA,YCLC,eDUD,CALA,+DCDE,qCDMF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UAwCD,CA1CA,uCAME,eAoCF,CA1CA,uCAUE,gBAgCF,CA1CA,6BAgBC,qCA0BD,CAxBC,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-list-button-padding:
		calc(.11 * var(--ck-line-height-base) * var(--ck-font-size-base))
		calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));
}

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& > .ck-button {
		min-height: unset;
		width: 100%;
		border-radius: 0;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding: var(--ck-list-button-padding);

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& > .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > .ck-label {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=y},497:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubar.css"],names:[],mappings:"AAKA,gBAIC,0CAA2C,CAG3C,+CAAgD,CANhD,YAAa,CACb,cAAe,CAIf,2BAA4B,CAH5B,0BAA2B,CAE3B,+BAAgC,CAGhC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar {
	display: flex;
	flex-wrap: wrap;
	justify-content: flex-start;
	background: var(--ck-color-base-background);
	padding: var(--ck-spacing-small);
	gap: var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);
	width: 100%;
}
`],sourceRoot:""}]);const A=y},4:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-menu-bar__menu{display:block;font-size:inherit;position:relative}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenu.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenu.css"],names:[],mappings:"AAKA,sBACC,aAAc,CCCd,iBAAkB,CDAlB,iBACD,CCCC,kDACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	display: block;
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	&.ck-menu-bar__menu_top-level {
		max-width: 100%;
	}
}
`],sourceRoot:""}]);const A=y},3344:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{padding:var(--ck-list-button-padding);width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAMC,mFACC,mBAAoB,CACpB,2BACD,CCIA,iDACC,qCAAsC,CACtC,UAuBD,CArBC,mEACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,+ECdD,kCDgBC,CAGC,qFACC,oCACD,CAIA,qFACC,qCACD,CAOF,6EAEC,gBAAiB,CADjB,wDAgBD,CAbC,+FAEC,iBAAkB,CADlB,WAED,CAEA,mFACC,2BAA4B,CAC5B,4BACD,CAEA,sFACC,YACD,CAMD,mFACC,eAiDD,CA/CC,yFACC,wBAAyB,CACzB,eAKD,CAHC,qGACC,0DACD,CAID,iIACC,+DACD,CAEA,qHACC,mCASD,CAVA,+HAIE,wBAMF,CAVA,+HAQE,uBAEF,CAEA,iICrFD,kCDuFC,CAGC,+HAIC,sCAAuC,CAHvC,gCAID,CAIA,+HACC,+BAAgC,CAGhC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu  {
	& > .ck-menu-bar__menu__button > .ck-menu-bar__menu__button__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-menu-bar__menu {
	/*
	 * All menu buttons.
	 */
	& > .ck-menu-bar__menu__button {
		padding: var(--ck-list-button-padding);
		width: 100%;

		& > .ck-button__label {
			flex-grow: 1;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		&.ck-disabled > .ck-button__label {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				padding-right: var(--ck-spacing-small);
			}
		}
	}

	/*
	 * Top-level menu buttons only.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__button {
		padding: var(--ck-spacing-small) var(--ck-spacing-medium);
		min-height: unset;

		& .ck-button__label {
			width: unset;
			line-height: unset;
		}

		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		& .ck-icon {
			display: none;
		}
	}

	/*
	 * Sub-menu buttons.
	 */
	&:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button {
		border-radius: 0;

		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}

		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}

		& > .ck-menu-bar__menu__button__arrow {
			width: var(--ck-dropdown-arrow-size);

			@mixin ck-dir ltr {
				transform: rotate(-90deg);
			}

			@mixin ck-dir rtl {
				transform: rotate(90deg);
			}
		}

		&.ck-disabled > .ck-menu-bar__menu__button__arrow {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			& > .ck-menu-bar__menu__button__arrow {
				right: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-left: var(--ck-spacing-standard);
			}
		}

		@mixin ck-dir rtl {
			& > .ck-menu-bar__menu__button__arrow {
				left: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-right: var(--ck-spacing-small);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const A=y},9481:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,":root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitem.css"],names:[],mappings:"AAKA,MACC,sCACD,CAEA,kDACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-item-min-width: 18em;
}

.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item {
	min-width: var(--ck-menu-bar-menu-item-min-width);
}
`],sourceRoot:""}]);const A=y},977:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__panel>ul>.ck-menu-bar__menu__item>.ck-menu-bar__menu__item__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitembutton.css"],names:[],mappings:"AASC,iEACC,eA0BD,CAxBC,0LAGC,8BACD,CAEA,uFAEC,4CAA+C,CAC/C,oCACD,CAMA,uEACC,wBAAyB,CACzB,eAKD,CAHC,mFACC,0DACD,CASD,uLACC,+DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/*
	 * List item buttons.
	 */
	& .ck-button.ck-menu-bar__menu__item__button {
		border-radius: 0;

		& > .ck-spinner-container,
		& > .ck-spinner-container .ck-spinner {
			/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */
			--ck-toolbar-spinner-size: 20px;
		}

		& > .ck-spinner-container {
			/* These margins are the same as for .ck-icon. */
			margin-left: calc(-1 * var(--ck-spacing-small));
			margin-right: var(--ck-spacing-small);
		}

		/*
		 * Hovered items automatically get focused. Default focus styles look odd
		 * while moving across a huge list of items so let's get rid of them
		 */
		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}
	}

	/*
	 * First-level sub-menu item buttons.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__panel > ul > .ck-menu-bar__menu__item > .ck-menu-bar__menu__item__button {
		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}
	}
}


`],sourceRoot:""}]);const A=y},9108:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,":root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{border-radius:0}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,iCAAkC,CAClC,+CACD,CAEA,mDAEC,2CAA4C,CAC5C,iBAAkB,CAFlB,yBAkDD,CA9CC,gLAEC,WACD,CAEA,gLAGC,WAAY,CADZ,QAED,CAEA,gLAEC,MACD,CAEA,gLAEC,OACD,CAEA,gLAEC,kEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CAEA,gLAEC,mEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CCpDD,MACC,uCACD,CAEA,mDCDC,eDmCD,CAlCA,6ICGE,qCD+BF,CAlCA,mDAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CETT,oCAA8B,CFU9B,kBAAmB,CACnB,iDA0BD,CAvBC,gLAEC,wBACD,CAEA,gLAEC,yBACD,CAEA,gLAEC,2BACD,CAEA,gLAEC,4BACD,CAEA,yDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-max-width: 75vw;
	--ck-menu-bar-nested-menu-horizontal-offset: 5px;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	z-index: var(--ck-z-panel);
	max-width: var(--ck-menu-bar-menu-max-width);
	position: absolute;

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_nw {
		bottom: 100%;
	}

	&.ck-menu-bar__menu__panel_position_se,
	&.ck-menu-bar__menu__panel_position_sw {
		top: 100%;
		bottom: auto;
	}

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_se {
		left: 0px;
	}

	&.ck-menu-bar__menu__panel_position_nw,
	&.ck-menu-bar__menu__panel_position_sw {
		right: 0px;
	}

	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_en {
		left: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_es {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_en {
		bottom: 0px;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_wn {
		right: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_ws {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_wn {
		bottom: 0px;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-menu-bar-menu-panel-max-width: 75vw;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;
	height: fit-content;
	max-width: var(--ck-menu-bar-menu-panel-max-width);

	/* Corner border radius consistent with the button. */
	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_se {
		border-top-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_sw {
		border-top-right-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_en,
	&.ck-menu-bar__menu__panel_position_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_wn,
	&.ck-menu-bar__menu__panel_position_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=y},3710:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-panel);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=y},991:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const A=y},5380:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-panel) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=y},8298:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-panel); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=y},2722:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAoED,CAlEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA+CF,CA7CE,8CACC,wDAYD,CAVC,4HAEC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDrEH",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text,
			& .ck-input-number {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const A=y},8107:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/search/search.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const A=y},109:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-spinner-container{animation-duration:3s}}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCAAsC,CADtC,qCAAsC,CADtC,oCAOD,CAHC,uCALD,yBAME,qBAEF,CADC,CAGD,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCAA6B,CAH7B,qCAAsC,CADtC,oCAKD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite rotate linear;

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 3s;
	}
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes rotate {
	to {
		transform: rotate(360deg)
	}
}
`],sourceRoot:""}]);const A=y},1671:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const A=y},2710:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const A=y},9677:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=y},9205:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100);--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAOA,gCCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,sCAAyC,CEFzC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCFJD,CEMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CAErB,eAAgB,CADhB,wCAAyC,CAFzC,wBAID,CArBD,gCAwBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-balloon-panel.ck-tooltip {
	@mixin ck-unselectable;

	z-index: calc( var(--ck-z-dialog) + 100 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
		max-width: 200px;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const A=y},7676:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck-hidden{display:none!important}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{background:transparent;border:0;box-sizing:border-box;height:auto;margin:0;padding:0;position:static;text-decoration:none;transition:none;vertical-align:middle;width:auto;word-wrap:break-word}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CAC/C,kBACD,CCDA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,wDAAiE,CACjE,4DAAmE,CAInE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CChHhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJgHD,CI1GA,2EAYC,sBAAuB,CADvB,QAAS,CART,qBAAsB,CAEtB,WAAY,CAIZ,QAAS,CACT,SAAU,CAJV,eAAgB,CAOhB,oBAAqB,CAErB,eAAgB,CADhB,qBAAsB,CAVtB,UAAW,CAcX,oBACD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCxFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-panel: calc( var(--ck-z-default) + 999 );
	--ck-z-dialog: 9999;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-panel) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Dialog -------------------------------------------------------------------------------- */

	--ck-color-dialog-background: 								var(--ck-custom-background);
	--ck-color-dialog-form-header-border: 						var(--ck-custom-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%);

	/* -- Generic colors ------------------------------------------------------------------------- */

	--ck-color-light-red:										hsl(0, 100%, 90%);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;

	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const A=y},695:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget{transition:none}}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}@media (forced-colors:none){.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background)}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CChFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAcD,CAZC,uCAND,eAOE,eAWF,CAVC,CAEA,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAYD,CARC,yGCnCA,2BAA2B,CCF3B,qCAA8B,CDC9B,YD2CA,CGvCA,4BACC,yGHoCC,iEGlCD,CACD,CHuCA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAwCD,CA3BC,uCAzBD,4EA0BE,eA0BF,CAzBC,CAEA,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAeD,CAVC,kHACC,SAAU,CAGV,+DAKD,CAHC,uCAND,kHAOE,eAEF,CADC,CAKF,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
		@mixin ck-media-default-colors {
			background-color: var(--ck-color-widget-editable-focus-background);
		}
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);

				@media (prefers-reduced-motion: reduce) {
					transition: none;
				}
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const A=y},4095:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const A=y},8508:(d,m,f)=>{f.d(m,{A:()=>A});var k=f(9372),v=f.n(k),_=f(935),y=f.n(_)()(v());y.push([d.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button svg{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button:hover,.ck .ck-widget .ck-widget__type-around__button:hover svg line,.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:none}}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAwED,CAhEC,uCATD,+CAUE,eA+DF,CA9DC,CAEA,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAwBD,CAlBC,uCAPD,mDAQE,eAiBF,CAhBC,CAEA,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DA4BD,CAtBE,kEACC,oDACD,CAEA,8DACC,wDACD,CAGD,uCAQE,qLACC,cACD,CAEF,CASD,uKA7FD,SAAU,CACV,mBA8FC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAxKD,SAAU,CACV,mBAyKC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAxNF,SAAU,CACV,mBAyNE,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}

			@media (prefers-reduced-motion: reduce) {
				animation: none;

				& svg {
					& polyline {
						animation: none;
					}

					& line {
						animation: none;
					}
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const A=y},935:d=>{d.exports=function(m){var f=[];return f.toString=function(){return this.map(function(k){var v=m(k);return k[2]?"@media ".concat(k[2]," {").concat(v,"}"):v}).join("")},f.i=function(k,v,_){typeof k=="string"&&(k=[[null,k,""]]);var y={};if(_)for(var A=0;A<this.length;A++){var D=this[A][0];D!=null&&(y[D]=!0)}for(var S=0;S<k.length;S++){var I=[].concat(k[S]);_&&y[I[0]]||(v&&(I[2]?I[2]="".concat(v," and ").concat(I[2]):I[2]=v),f.push(I))}},f}},9372:d=>{function m(k,v){return function(_){if(Array.isArray(_))return _}(k)||function(_,y){var A=_&&(typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"]);if(A!=null){var D,S,I=[],T=!0,P=!1;try{for(A=A.call(_);!(T=(D=A.next()).done)&&(I.push(D.value),!y||I.length!==y);T=!0);}catch(N){P=!0,S=N}finally{try{T||A.return==null||A.return()}finally{if(P)throw S}}return I}}(k,v)||function(_,y){if(_){if(typeof _=="string")return f(_,y);var A=Object.prototype.toString.call(_).slice(8,-1);if(A==="Object"&&_.constructor&&(A=_.constructor.name),A==="Map"||A==="Set")return Array.from(_);if(A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return f(_,y)}}(k,v)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f(k,v){(v==null||v>k.length)&&(v=k.length);for(var _=0,y=new Array(v);_<v;_++)y[_]=k[_];return y}d.exports=function(k){var v=m(k,4),_=v[1],y=v[3];if(!y)return _;if(typeof btoa=="function"){var A=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),D="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(A),S="/*# ".concat(D," */"),I=y.sources.map(function(T){return"/*# sourceURL=".concat(y.sourceRoot||"").concat(T," */")});return[_].concat(I).concat([S]).join(`
`)}return[_].join(`
`)}},2591:(d,m,f)=>{var k,v=function(){return k===void 0&&(k=!!(window&&document&&document.all&&!window.atob)),k},_=function(){var R={};return function(z){if(R[z]===void 0){var W=document.querySelector(z);if(window.HTMLIFrameElement&&W instanceof window.HTMLIFrameElement)try{W=W.contentDocument.head}catch{W=null}R[z]=W}return R[z]}}(),y=[];function A(R){for(var z=-1,W=0;W<y.length;W++)if(y[W].identifier===R){z=W;break}return z}function D(R,z){for(var W={},q=[],Y=0;Y<R.length;Y++){var Z=R[Y],Q=z.base?Z[0]+z.base:Z[0],J=W[Q]||0,te="".concat(Q," ").concat(J);W[Q]=J+1;var ee=A(te),ne={css:Z[1],media:Z[2],sourceMap:Z[3]};ee!==-1?(y[ee].references++,y[ee].updater(ne)):y.push({identifier:te,updater:U(ne,z),references:1}),q.push(te)}return q}function S(R){var z=document.createElement("style"),W=R.attributes||{};if(W.nonce===void 0){var q=f.nc;q&&(W.nonce=q)}if(Object.keys(W).forEach(function(Z){z.setAttribute(Z,W[Z])}),typeof R.insert=="function")R.insert(z);else{var Y=_(R.insert||"head");if(!Y)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");Y.appendChild(z)}return z}var I,T=(I=[],function(R,z){return I[R]=z,I.filter(Boolean).join(`
`)});function P(R,z,W,q){var Y=W?"":q.media?"@media ".concat(q.media," {").concat(q.css,"}"):q.css;if(R.styleSheet)R.styleSheet.cssText=T(z,Y);else{var Z=document.createTextNode(Y),Q=R.childNodes;Q[z]&&R.removeChild(Q[z]),Q.length?R.insertBefore(Z,Q[z]):R.appendChild(Z)}}function N(R,z,W){var q=W.css,Y=W.media,Z=W.sourceMap;if(Y?R.setAttribute("media",Y):R.removeAttribute("media"),Z&&typeof btoa<"u"&&(q+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(Z))))," */")),R.styleSheet)R.styleSheet.cssText=q;else{for(;R.firstChild;)R.removeChild(R.firstChild);R.appendChild(document.createTextNode(q))}}var j=null,$=0;function U(R,z){var W,q,Y;if(z.singleton){var Z=$++;W=j||(j=S(z)),q=P.bind(null,W,Z,!1),Y=P.bind(null,W,Z,!0)}else W=S(z),q=N.bind(null,W,z),Y=function(){(function(Q){if(Q.parentNode===null)return!1;Q.parentNode.removeChild(Q)})(W)};return q(R),function(Q){if(Q){if(Q.css===R.css&&Q.media===R.media&&Q.sourceMap===R.sourceMap)return;q(R=Q)}else Y()}}d.exports=function(R,z){(z=z||{}).singleton||typeof z.singleton=="boolean"||(z.singleton=v());var W=D(R=R||[],z);return function(q){if(q=q||[],Object.prototype.toString.call(q)==="[object Array]"){for(var Y=0;Y<W.length;Y++){var Z=A(W[Y]);y[Z].references--}for(var Q=D(q,z),J=0;J<W.length;J++){var te=A(W[J]);y[te].references===0&&(y[te].updater(),y.splice(te,1))}W=Q}}}}},o={};function s(d){var m=o[d];if(m!==void 0)return m.exports;var f=o[d]={id:d,exports:{}};return r[d](f,f.exports,s),f.exports}s.n=d=>{var m=d&&d.__esModule?()=>d.default:()=>d;return s.d(m,{a:m}),m},s.d=(d,m)=>{for(var f in m)s.o(m,f)&&!s.o(d,f)&&Object.defineProperty(d,f,{enumerable:!0,get:m[f]})},s.o=(d,m)=>Object.prototype.hasOwnProperty.call(d,m),s.nc=void 0;var c={};return(()=>{let d;s.d(c,{default:()=>d1});try{d={window,document}}catch{d={window:{},document:{}}}const m=d,f=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var k;const v={isMac:_(f),isWindows:(k=f,k.indexOf("windows")>-1),isGecko:function(l){return!!l.match(/gecko\/\d+/)}(f),isSafari:function(l){return l.indexOf(" applewebkit/")>-1&&l.indexOf("chrome")===-1}(f),isiOS:function(l){return!!l.match(/iphone|ipad/i)||_(l)&&navigator.maxTouchPoints>0}(f),isAndroid:function(l){return l.indexOf("android")>-1}(f),isBlink:function(l){return l.indexOf("chrome/")>-1&&l.indexOf("edge/")<0}(f),get isMediaForcedColors(){return!!m.window.matchMedia&&m.window.matchMedia("(forced-colors: active)").matches},get isMotionReduced(){return!!m.window.matchMedia&&m.window.matchMedia("(prefers-reduced-motion)").matches},features:{isRegExpUnicodePropertySupported:function(){let l=!1;try{l="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return l}()}};function _(l){return l.indexOf("macintosh")>-1}function y(l,n,i,a){i=i||function(b,w){return b===w};const u=Array.isArray(l)?l:Array.prototype.slice.call(l),h=Array.isArray(n)?n:Array.prototype.slice.call(n),p=function(b,w,C){const E=A(b,w,C);if(E===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const M=D(b,E),O=D(w,E),L=A(M,O,C),F=b.length-L,H=w.length-L;return{firstIndex:E,lastIndexOld:F,lastIndexNew:H}}(u,h,i);return a?function(b,w){const{firstIndex:C,lastIndexOld:E,lastIndexNew:M}=b;if(C===-1)return Array(w).fill("equal");let O=[];return C>0&&(O=O.concat(Array(C).fill("equal"))),M-C>0&&(O=O.concat(Array(M-C).fill("insert"))),E-C>0&&(O=O.concat(Array(E-C).fill("delete"))),M<w&&(O=O.concat(Array(w-M).fill("equal"))),O}(p,h.length):function(b,w){const C=[],{firstIndex:E,lastIndexOld:M,lastIndexNew:O}=w;return O-E>0&&C.push({index:E,type:"insert",values:b.slice(E,O)}),M-E>0&&C.push({index:E+(O-E),type:"delete",howMany:M-E}),C}(h,p)}function A(l,n,i){for(let a=0;a<Math.max(l.length,n.length);a++)if(l[a]===void 0||n[a]===void 0||!i(l[a],n[a]))return a;return-1}function D(l,n){return l.slice(n).reverse()}function S(l,n,i){i=i||function(F,H){return F===H};const a=l.length,u=n.length;if(a>200||u>200||a+u>300)return S.fastDiff(l,n,i,!0);let h,p;if(u<a){const F=l;l=n,n=F,h="delete",p="insert"}else h="insert",p="delete";const g=l.length,b=n.length,w=b-g,C={},E={};function M(F){const H=(E[F-1]!==void 0?E[F-1]:-1)+1,K=E[F+1]!==void 0?E[F+1]:-1,X=H>K?-1:1;C[F+X]&&(C[F]=C[F+X].slice(0)),C[F]||(C[F]=[]),C[F].push(H>K?h:p);let oe=Math.max(H,K),le=oe-F;for(;le<g&&oe<b&&i(l[le],n[oe]);)le++,oe++,C[F].push("equal");return oe}let O,L=0;do{for(O=-L;O<w;O++)E[O]=M(O);for(O=w+L;O>w;O--)E[O]=M(O);E[w]=M(w),L++}while(E[w]!==b);return C[w].slice(1)}S.fastDiff=y;const I=function(){return function l(){l.called=!0}};class T{constructor(n,i){this.source=n,this.name=i,this.path=[],this.stop=I(),this.off=I()}}const P=new Array(256).fill("").map((l,n)=>("0"+n.toString(16)).slice(-2));function N(){const l=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,a=4294967296*Math.random()>>>0;return"e"+P[255&l]+P[l>>8&255]+P[l>>16&255]+P[l>>24&255]+P[255&n]+P[n>>8&255]+P[n>>16&255]+P[n>>24&255]+P[255&i]+P[i>>8&255]+P[i>>16&255]+P[i>>24&255]+P[255&a]+P[a>>8&255]+P[a>>16&255]+P[a>>24&255]}const j={get(l="normal"){return typeof l!="number"?this[l]||this.normal:l},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function $(l,n){const i=j.get(n.priority);for(let a=0;a<l.length;a++)if(j.get(l[a].priority)<i)return void l.splice(a,0,n);l.push(n)}const U="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class R extends Error{constructor(n,i,a){super(function(u,h){const p=new WeakSet,g=(C,E)=>{if(typeof E=="object"&&E!==null){if(p.has(E))return`[object ${E.constructor.name}]`;p.add(E)}return E},b=h?` ${JSON.stringify(h,g)}`:"",w=q(u);return u+b+w}(n,a)),this.name="CKEditorError",this.context=i,this.data=a}is(n){return n==="CKEditorError"}static rethrowUnexpectedError(n,i){if(n.is&&n.is("CKEditorError"))throw n;const a=new R(n.message,i);throw a.stack=n.stack,a}}function z(l,n){console.warn(...Y(l,n))}function W(l,n){console.error(...Y(l,n))}function q(l){return`
Read more: ${U}#error-${l}`}function Y(l,n){const i=q(l);return n?[l,n,i]:[l,i]}const Z="41.4.2",Q=new Date(2024,4,17);if(globalThis.CKEDITOR_VERSION)throw new R("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=Z;const J=Symbol("listeningTo"),te=Symbol("emitterId"),ee=Symbol("delegations"),ne=G(Object);function G(l){return l?class extends l{on(n,i,a){this.listenTo(this,n,i,a)}once(n,i,a){let u=!1;this.listenTo(this,n,(h,...p)=>{u||(u=!0,h.off(),i.call(this,h,...p))},a)}off(n,i){this.stopListening(this,n,i)}listenTo(n,i,a,u={}){let h,p;this[J]||(this[J]={});const g=this[J];ie(n)||re(n);const b=ie(n);(h=g[b])||(h=g[b]={emitter:n,callbacks:{}}),(p=h.callbacks[i])||(p=h.callbacks[i]=[]),p.push(a),function(w,C,E,M,O){C._addEventListener?C._addEventListener(E,M,O):w._addEventListener.call(C,E,M,O)}(this,n,i,a,u)}stopListening(n,i,a){const u=this[J];let h=n&&ie(n);const p=u&&h?u[h]:void 0,g=p&&i?p.callbacks[i]:void 0;if(!(!u||n&&!p||i&&!g))if(a)st(this,n,i,a),g.indexOf(a)!==-1&&(g.length===1?delete p.callbacks[i]:st(this,n,i,a));else if(g){for(;a=g.pop();)st(this,n,i,a);delete p.callbacks[i]}else if(p){for(i in p.callbacks)this.stopListening(n,i);delete u[h]}else{for(h in u)this.stopListening(u[h].emitter);delete this[J]}}fire(n,...i){try{const a=n instanceof T?n:new T(this,n),u=a.name;let h=et(this,u);if(a.path.push(this),h){const g=[a,...i];h=Array.from(h);for(let b=0;b<h.length&&(h[b].callback.apply(this,g),a.off.called&&(delete a.off.called,this._removeEventListener(u,h[b].callback)),!a.stop.called);b++);}const p=this[ee];if(p){const g=p.get(u),b=p.get("*");g&&Le(g,a,i),b&&Le(b,a,i)}return a.return}catch(a){R.rethrowUnexpectedError(a,this)}}delegate(...n){return{to:(i,a)=>{this[ee]||(this[ee]=new Map),n.forEach(u=>{const h=this[ee].get(u);h?h.set(i,a):this[ee].set(u,new Map([[i,a]]))})}}}stopDelegating(n,i){if(this[ee])if(n)if(i){const a=this[ee].get(n);a&&a.delete(i)}else this[ee].delete(n);else this[ee].clear()}_addEventListener(n,i,a){(function(p,g){const b=_e(p);if(b[g])return;let w=g,C=null;const E=[];for(;w!==""&&!b[w];)b[w]={callbacks:[],childEvents:[]},E.push(b[w]),C&&b[w].childEvents.push(C),C=w,w=w.substr(0,w.lastIndexOf(":"));if(w!==""){for(const M of E)M.callbacks=b[w].callbacks.slice();b[w].childEvents.push(C)}})(this,n);const u=Te(this,n),h={callback:i,priority:j.get(a.priority)};for(const p of u)$(p,h)}_removeEventListener(n,i){const a=Te(this,n);for(const u of a)for(let h=0;h<u.length;h++)u[h].callback==i&&(u.splice(h,1),h--)}}:ne}function re(l,n){l[te]||(l[te]=n||N())}function ie(l){return l[te]}function _e(l){return l._events||Object.defineProperty(l,"_events",{value:{}}),l._events}function Te(l,n){const i=_e(l)[n];if(!i)return[];let a=[i.callbacks];for(let u=0;u<i.childEvents.length;u++){const h=Te(l,i.childEvents[u]);a=a.concat(h)}return a}function et(l,n){let i;return l._events&&(i=l._events[n])&&i.callbacks.length?i.callbacks:n.indexOf(":")>-1?et(l,n.substr(0,n.lastIndexOf(":"))):null}function Le(l,n,i){for(let[a,u]of l){u?typeof u=="function"&&(u=u(n.name)):u=n.name;const h=new T(n.source,u);h.path=[...n.path],a.fire(h,...i)}}function st(l,n,i,a){n._removeEventListener?n._removeEventListener(i,a):l._removeEventListener.call(n,i,a)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(l=>{G[l]=ne.prototype[l]});const me=function(l){var n=typeof l;return l!=null&&(n=="object"||n=="function")},ot=Symbol("observableProperties"),it=Symbol("boundObservables"),ct=Symbol("boundProperties"),At=Symbol("decoratedMethods"),tt=Symbol("decoratedOriginal"),Ne=be(G());function be(l){return l?class extends l{set(n,i){if(me(n))return void Object.keys(n).forEach(u=>{this.set(u,n[u])},this);Pe(this);const a=this[ot];if(n in this&&!a.has(n))throw new R("observable-set-cannot-override",this);Object.defineProperty(this,n,{enumerable:!0,configurable:!0,get:()=>a.get(n),set(u){const h=a.get(n);let p=this.fire(`set:${n}`,n,u,h);p===void 0&&(p=u),h===p&&a.has(n)||(a.set(n,p),this.fire(`change:${n}`,n,p,h))}}),this[n]=i}bind(...n){if(!n.length||!Lt(n))throw new R("observable-bind-wrong-properties",this);if(new Set(n).size!==n.length)throw new R("observable-bind-duplicate-properties",this);Pe(this);const i=this[ct];n.forEach(u=>{if(i.has(u))throw new R("observable-bind-rebind",this)});const a=new Map;return n.forEach(u=>{const h={property:u,to:[]};i.set(u,h),a.set(u,h)}),{to:Je,toMany:ln,_observable:this,_bindProperties:n,_to:[],_bindings:a}}unbind(...n){if(!this[ot])return;const i=this[ct],a=this[it];if(n.length){if(!Lt(n))throw new R("observable-unbind-wrong-properties",this);n.forEach(u=>{const h=i.get(u);h&&(h.to.forEach(([p,g])=>{const b=a.get(p),w=b[g];w.delete(h),w.size||delete b[g],Object.keys(b).length||(a.delete(p),this.stopListening(p,"change"))}),i.delete(u))})}else a.forEach((u,h)=>{this.stopListening(h,"change")}),a.clear(),i.clear()}decorate(n){Pe(this);const i=this[n];if(!i)throw new R("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:n});this.on(n,(a,u)=>{a.return=i.apply(this,u)}),this[n]=function(...a){return this.fire(n,a)},this[n][tt]=i,this[At]||(this[At]=[]),this[At].push(n)}stopListening(n,i,a){if(!n&&this[At]){for(const u of this[At])this[u]=this[u][tt];delete this[At]}super.stopListening(n,i,a)}}:Ne}function Pe(l){l[ot]||(Object.defineProperty(l,ot,{value:new Map}),Object.defineProperty(l,it,{value:new Map}),Object.defineProperty(l,ct,{value:new Map}))}function Je(...l){const n=function(...h){if(!h.length)throw new R("observable-bind-to-parse-error",null);const p={to:[]};let g;return typeof h[h.length-1]=="function"&&(p.callback=h.pop()),h.forEach(b=>{if(typeof b=="string")g.properties.push(b);else{if(typeof b!="object")throw new R("observable-bind-to-parse-error",null);g={observable:b,properties:[]},p.to.push(g)}}),p}(...l),i=Array.from(this._bindings.keys()),a=i.length;if(!n.callback&&n.to.length>1)throw new R("observable-bind-to-no-callback",this);if(a>1&&n.callback)throw new R("observable-bind-to-extra-callback",this);var u;n.to.forEach(h=>{if(h.properties.length&&h.properties.length!==a)throw new R("observable-bind-to-properties-length",this);h.properties.length||(h.properties=this._bindProperties)}),this._to=n.to,n.callback&&(this._bindings.get(i[0]).callback=n.callback),u=this._observable,this._to.forEach(h=>{const p=u[it];let g;p.get(h.observable)||u.listenTo(h.observable,"change",(b,w)=>{g=p.get(h.observable)[w],g&&g.forEach(C=>{xt(u,C.property)})})}),function(h){let p;h._bindings.forEach((g,b)=>{h._to.forEach(w=>{p=w.properties[g.callback?0:h._bindProperties.indexOf(b)],g.to.push([w.observable,p]),function(C,E,M,O){const L=C[it],F=L.get(M),H=F||{};H[O]||(H[O]=new Set),H[O].add(E),F||L.set(M,H)}(h._observable,g,w.observable,p)})})}(this),this._bindProperties.forEach(h=>{xt(this._observable,h)})}function ln(l,n,i){if(this._bindings.size>1)throw new R("observable-bind-to-many-not-one-binding",this);this.to(...function(a,u){const h=a.map(p=>[p,u]);return Array.prototype.concat.apply([],h)}(l,n),i)}function Lt(l){return l.every(n=>typeof n=="string")}function xt(l,n){const i=l[ct].get(n);let a;i.callback?a=i.callback.apply(l,i.to.map(u=>u[0][u[1]])):(a=i.to[0],a=a[0][a[1]]),Object.prototype.hasOwnProperty.call(l,n)?l[n]=a:l.set(n,a)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(l=>{be[l]=Ne.prototype[l]});class Ut{constructor(){this._replacedElements=[]}replace(n,i){this._replacedElements.push({element:n,newElement:i}),n.style.display="none",i&&n.parentNode.insertBefore(i,n.nextSibling)}restore(){this._replacedElements.forEach(({element:n,newElement:i})=>{n.style.display="",i&&i.remove()}),this._replacedElements=[]}}function dt(l){let n=0;for(const i of l)n++;return n}function We(l,n){const i=Math.min(l.length,n.length);for(let a=0;a<i;a++)if(l[a]!=n[a])return a;return l.length==n.length?"same":l.length<n.length?"prefix":"extension"}function ut(l){return!(!l||!l[Symbol.iterator])}const at=typeof rv=="object"&&rv&&rv.Object===Object&&rv;var Ze=typeof self=="object"&&self&&self.Object===Object&&self;const yt=at||Ze||Function("return this")(),Zt=yt.Symbol;var Qn=Object.prototype,Dt=Qn.hasOwnProperty,Ke=Qn.toString,cn=Zt?Zt.toStringTag:void 0;const Do=function(l){var n=Dt.call(l,cn),i=l[cn];try{l[cn]=void 0;var a=!0}catch{}var u=Ke.call(l);return a&&(n?l[cn]=i:delete l[cn]),u};var Gr=Object.prototype.toString;const qe=function(l){return Gr.call(l)};var Pt=Zt?Zt.toStringTag:void 0;const Nt=function(l){return l==null?l===void 0?"[object Undefined]":"[object Null]":Pt&&Pt in Object(l)?Do(l):qe(l)},un=Array.isArray,$n=function(l){return l!=null&&typeof l=="object"},il=function(l){return typeof l=="string"||!un(l)&&$n(l)&&Nt(l)=="[object String]"};function Or(l,n,i={},a=[]){const u=i&&i.xmlns,h=u?l.createElementNS(u,n):l.createElement(n);for(const p in i)h.setAttribute(p,i[p]);!il(a)&&ut(a)||(a=[a]);for(let p of a)il(p)&&(p=l.createTextNode(p)),h.appendChild(p);return h}const yc=function(l,n){return function(i){return l(n(i))}},sl=yc(Object.getPrototypeOf,Object);var _c=Function.prototype,Cc=Object.prototype,al=_c.toString,Ac=Cc.hasOwnProperty,Ju=al.call(Object);const Cr=function(l){if(!$n(l)||Nt(l)!="[object Object]")return!1;var n=sl(l);if(n===null)return!0;var i=Ac.call(n,"constructor")&&n.constructor;return typeof i=="function"&&i instanceof i&&al.call(i)==Ju},Xu=function(){this.__data__=[],this.size=0},mi=function(l,n){return l===n||l!=l&&n!=n},ve=function(l,n){for(var i=l.length;i--;)if(mi(l[i][0],n))return i;return-1};var Ae=Array.prototype.splice;const Ee=function(l){var n=this.__data__,i=ve(n,l);return!(i<0)&&(i==n.length-1?n.pop():Ae.call(n,i,1),--this.size,!0)},Fe=function(l){var n=this.__data__,i=ve(n,l);return i<0?void 0:n[i][1]},nt=function(l){return ve(this.__data__,l)>-1},Pn=function(l,n){var i=this.__data__,a=ve(i,l);return a<0?(++this.size,i.push([l,n])):i[a][1]=n,this};function Nn(l){var n=-1,i=l==null?0:l.length;for(this.clear();++n<i;){var a=l[n];this.set(a[0],a[1])}}Nn.prototype.clear=Xu,Nn.prototype.delete=Ee,Nn.prototype.get=Fe,Nn.prototype.has=nt,Nn.prototype.set=Pn;const ua=Nn,ed=function(){this.__data__=new ua,this.size=0},Rb=function(l){var n=this.__data__,i=n.delete(l);return this.size=n.size,i},Ob=function(l){return this.__data__.get(l)},Bb=function(l){return this.__data__.has(l)},da=function(l){if(!me(l))return!1;var n=Nt(l);return n=="[object Function]"||n=="[object GeneratorFunction]"||n=="[object AsyncFunction]"||n=="[object Proxy]"},Mp=yt["__core-js_shared__"];var Lb=function(){var l=/[^.]+$/.exec(Mp&&Mp.keys&&Mp.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}();const tC=function(l){return!!Lb&&Lb in l};var _t=Function.prototype.toString;const Zn=function(l){if(l!=null){try{return _t.call(l)}catch{}try{return l+""}catch{}}return""};var wK=/^\[object .+?Constructor\]$/,yK=Function.prototype,_K=Object.prototype,CK=yK.toString,AK=_K.hasOwnProperty,xK=RegExp("^"+CK.call(AK).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const EK=function(l){return!(!me(l)||tC(l))&&(da(l)?xK:wK).test(Zn(l))},SK=function(l,n){return l==null?void 0:l[n]},xc=function(l,n){var i=SK(l,n);return EK(i)?i:void 0},Pp=xc(yt,"Map"),Np=xc(Object,"create"),DK=function(){this.__data__=Np?Np(null):{},this.size=0},TK=function(l){var n=this.has(l)&&delete this.__data__[l];return this.size-=n?1:0,n};var IK=Object.prototype.hasOwnProperty;const MK=function(l){var n=this.__data__;if(Np){var i=n[l];return i==="__lodash_hash_undefined__"?void 0:i}return IK.call(n,l)?n[l]:void 0};var PK=Object.prototype.hasOwnProperty;const NK=function(l){var n=this.__data__;return Np?n[l]!==void 0:PK.call(n,l)},RK=function(l,n){var i=this.__data__;return this.size+=this.has(l)?0:1,i[l]=Np&&n===void 0?"__lodash_hash_undefined__":n,this};function td(l){var n=-1,i=l==null?0:l.length;for(this.clear();++n<i;){var a=l[n];this.set(a[0],a[1])}}td.prototype.clear=DK,td.prototype.delete=TK,td.prototype.get=MK,td.prototype.has=NK,td.prototype.set=RK;const $I=td,OK=function(){this.size=0,this.__data__={hash:new $I,map:new(Pp||ua),string:new $I}},BK=function(l){var n=typeof l;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?l!=="__proto__":l===null},jb=function(l,n){var i=l.__data__;return BK(n)?i[typeof n=="string"?"string":"hash"]:i.map},LK=function(l){var n=jb(this,l).delete(l);return this.size-=n?1:0,n},jK=function(l){return jb(this,l).get(l)},FK=function(l){return jb(this,l).has(l)},zK=function(l,n){var i=jb(this,l),a=i.size;return i.set(l,n),this.size+=i.size==a?0:1,this};function nd(l){var n=-1,i=l==null?0:l.length;for(this.clear();++n<i;){var a=l[n];this.set(a[0],a[1])}}nd.prototype.clear=OK,nd.prototype.delete=LK,nd.prototype.get=jK,nd.prototype.has=FK,nd.prototype.set=zK;const Fb=nd,$K=function(l,n){var i=this.__data__;if(i instanceof ua){var a=i.__data__;if(!Pp||a.length<199)return a.push([l,n]),this.size=++i.size,this;i=this.__data__=new Fb(a)}return i.set(l,n),this.size=i.size,this};function rd(l){var n=this.__data__=new ua(l);this.size=n.size}rd.prototype.clear=ed,rd.prototype.delete=Rb,rd.prototype.get=Ob,rd.prototype.has=Bb,rd.prototype.set=$K;const od=rd,VK=function(l,n){for(var i=-1,a=l==null?0:l.length;++i<a&&n(l[i],i,l)!==!1;);return l},zb=function(){try{var l=xc(Object,"defineProperty");return l({},"",{}),l}catch{}}(),$b=function(l,n,i){n=="__proto__"&&zb?zb(l,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):l[n]=i};var UK=Object.prototype.hasOwnProperty;const nC=function(l,n,i){var a=l[n];UK.call(l,n)&&mi(a,i)&&(i!==void 0||n in l)||$b(l,n,i)},id=function(l,n,i,a){var u=!i;i||(i={});for(var h=-1,p=n.length;++h<p;){var g=n[h],b=void 0;b===void 0&&(b=l[g]),u?$b(i,g,b):nC(i,g,b)}return i},HK=function(l,n){for(var i=-1,a=Array(l);++i<l;)a[i]=n(i);return a},VI=function(l){return $n(l)&&Nt(l)=="[object Arguments]"};var UI=Object.prototype,WK=UI.hasOwnProperty,qK=UI.propertyIsEnumerable;const Vb=VI(function(){return arguments}())?VI:function(l){return $n(l)&&WK.call(l,"callee")&&!qK.call(l,"callee")},GK=function(){return!1};var HI=t&&!t.nodeType&&t,WI=HI&&!0&&e&&!e.nodeType&&e,qI=WI&&WI.exports===HI?yt.Buffer:void 0;const Rp=(qI?qI.isBuffer:void 0)||GK;var KK=/^(?:0|[1-9]\d*)$/;const Ub=function(l,n){var i=typeof l;return!!(n=n??9007199254740991)&&(i=="number"||i!="symbol"&&KK.test(l))&&l>-1&&l%1==0&&l<n},rC=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991};var wn={};wn["[object Float32Array]"]=wn["[object Float64Array]"]=wn["[object Int8Array]"]=wn["[object Int16Array]"]=wn["[object Int32Array]"]=wn["[object Uint8Array]"]=wn["[object Uint8ClampedArray]"]=wn["[object Uint16Array]"]=wn["[object Uint32Array]"]=!0,wn["[object Arguments]"]=wn["[object Array]"]=wn["[object ArrayBuffer]"]=wn["[object Boolean]"]=wn["[object DataView]"]=wn["[object Date]"]=wn["[object Error]"]=wn["[object Function]"]=wn["[object Map]"]=wn["[object Number]"]=wn["[object Object]"]=wn["[object RegExp]"]=wn["[object Set]"]=wn["[object String]"]=wn["[object WeakMap]"]=!1;const YK=function(l){return $n(l)&&rC(l.length)&&!!wn[Nt(l)]},oC=function(l){return function(n){return l(n)}};var GI=t&&!t.nodeType&&t,Op=GI&&!0&&e&&!e.nodeType&&e,iC=Op&&Op.exports===GI&&at.process;const sd=function(){try{var l=Op&&Op.require&&Op.require("util").types;return l||iC&&iC.binding&&iC.binding("util")}catch{}}();var KI=sd&&sd.isTypedArray;const sC=KI?oC(KI):YK;var QK=Object.prototype.hasOwnProperty;const YI=function(l,n){var i=un(l),a=!i&&Vb(l),u=!i&&!a&&Rp(l),h=!i&&!a&&!u&&sC(l),p=i||a||u||h,g=p?HK(l.length,String):[],b=g.length;for(var w in l)!n&&!QK.call(l,w)||p&&(w=="length"||u&&(w=="offset"||w=="parent")||h&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||Ub(w,b))||g.push(w);return g};var ZK=Object.prototype;const aC=function(l){var n=l&&l.constructor;return l===(typeof n=="function"&&n.prototype||ZK)},JK=yc(Object.keys,Object);var XK=Object.prototype.hasOwnProperty;const eY=function(l){if(!aC(l))return JK(l);var n=[];for(var i in Object(l))XK.call(l,i)&&i!="constructor"&&n.push(i);return n},Hb=function(l){return l!=null&&rC(l.length)&&!da(l)},Bp=function(l){return Hb(l)?YI(l):eY(l)},tY=function(l,n){return l&&id(n,Bp(n),l)},nY=function(l){var n=[];if(l!=null)for(var i in Object(l))n.push(i);return n};var rY=Object.prototype.hasOwnProperty;const oY=function(l){if(!me(l))return nY(l);var n=aC(l),i=[];for(var a in l)(a!="constructor"||!n&&rY.call(l,a))&&i.push(a);return i},ad=function(l){return Hb(l)?YI(l,!0):oY(l)},iY=function(l,n){return l&&id(n,ad(n),l)};var QI=t&&!t.nodeType&&t,ZI=QI&&!0&&e&&!e.nodeType&&e,JI=ZI&&ZI.exports===QI?yt.Buffer:void 0,XI=JI?JI.allocUnsafe:void 0;const eM=function(l,n){if(n)return l.slice();var i=l.length,a=XI?XI(i):new l.constructor(i);return l.copy(a),a},tM=function(l,n){var i=-1,a=l.length;for(n||(n=Array(a));++i<a;)n[i]=l[i];return n},sY=function(l,n){for(var i=-1,a=l==null?0:l.length,u=0,h=[];++i<a;){var p=l[i];n(p,i,l)&&(h[u++]=p)}return h},nM=function(){return[]};var aY=Object.prototype.propertyIsEnumerable,rM=Object.getOwnPropertySymbols;const lC=rM?function(l){return l==null?[]:(l=Object(l),sY(rM(l),function(n){return aY.call(l,n)}))}:nM,lY=function(l,n){return id(l,lC(l),n)},oM=function(l,n){for(var i=-1,a=n.length,u=l.length;++i<a;)l[u+i]=n[i];return l},iM=Object.getOwnPropertySymbols?function(l){for(var n=[];l;)oM(n,lC(l)),l=sl(l);return n}:nM,cY=function(l,n){return id(l,iM(l),n)},sM=function(l,n,i){var a=n(l);return un(l)?a:oM(a,i(l))},cC=function(l){return sM(l,Bp,lC)},uY=function(l){return sM(l,ad,iM)},uC=xc(yt,"DataView"),dC=xc(yt,"Promise"),hC=xc(yt,"Set"),pC=xc(yt,"WeakMap");var aM="[object Map]",lM="[object Promise]",cM="[object Set]",uM="[object WeakMap]",dM="[object DataView]",dY=Zn(uC),hY=Zn(Pp),pY=Zn(dC),fY=Zn(hC),mY=Zn(pC),Ec=Nt;(uC&&Ec(new uC(new ArrayBuffer(1)))!=dM||Pp&&Ec(new Pp)!=aM||dC&&Ec(dC.resolve())!=lM||hC&&Ec(new hC)!=cM||pC&&Ec(new pC)!=uM)&&(Ec=function(l){var n=Nt(l),i=n=="[object Object]"?l.constructor:void 0,a=i?Zn(i):"";if(a)switch(a){case dY:return dM;case hY:return aM;case pY:return lM;case fY:return cM;case mY:return uM}return n});const Lp=Ec;var gY=Object.prototype.hasOwnProperty;const bY=function(l){var n=l.length,i=new l.constructor(n);return n&&typeof l[0]=="string"&&gY.call(l,"index")&&(i.index=l.index,i.input=l.input),i},Wb=yt.Uint8Array,fC=function(l){var n=new l.constructor(l.byteLength);return new Wb(n).set(new Wb(l)),n},kY=function(l,n){var i=n?fC(l.buffer):l.buffer;return new l.constructor(i,l.byteOffset,l.byteLength)};var vY=/\w*$/;const wY=function(l){var n=new l.constructor(l.source,vY.exec(l));return n.lastIndex=l.lastIndex,n};var hM=Zt?Zt.prototype:void 0,pM=hM?hM.valueOf:void 0;const yY=function(l){return pM?Object(pM.call(l)):{}},fM=function(l,n){var i=n?fC(l.buffer):l.buffer;return new l.constructor(i,l.byteOffset,l.length)},_Y=function(l,n,i){var a=l.constructor;switch(n){case"[object ArrayBuffer]":return fC(l);case"[object Boolean]":case"[object Date]":return new a(+l);case"[object DataView]":return kY(l,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return fM(l,i);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(l);case"[object RegExp]":return wY(l);case"[object Symbol]":return yY(l)}};var mM=Object.create;const CY=function(){function l(){}return function(n){if(!me(n))return{};if(mM)return mM(n);l.prototype=n;var i=new l;return l.prototype=void 0,i}}(),gM=function(l){return typeof l.constructor!="function"||aC(l)?{}:CY(sl(l))},AY=function(l){return $n(l)&&Lp(l)=="[object Map]"};var bM=sd&&sd.isMap;const xY=bM?oC(bM):AY,EY=function(l){return $n(l)&&Lp(l)=="[object Set]"};var kM=sd&&sd.isSet;const SY=kM?oC(kM):EY;var vM="[object Arguments]",wM="[object Function]",yM="[object Object]",bn={};bn[vM]=bn["[object Array]"]=bn["[object ArrayBuffer]"]=bn["[object DataView]"]=bn["[object Boolean]"]=bn["[object Date]"]=bn["[object Float32Array]"]=bn["[object Float64Array]"]=bn["[object Int8Array]"]=bn["[object Int16Array]"]=bn["[object Int32Array]"]=bn["[object Map]"]=bn["[object Number]"]=bn[yM]=bn["[object RegExp]"]=bn["[object Set]"]=bn["[object String]"]=bn["[object Symbol]"]=bn["[object Uint8Array]"]=bn["[object Uint8ClampedArray]"]=bn["[object Uint16Array]"]=bn["[object Uint32Array]"]=!0,bn["[object Error]"]=bn[wM]=bn["[object WeakMap]"]=!1;const mC=function l(n,i,a,u,h,p){var g,b=1&i,w=2&i,C=4&i;if(a&&(g=h?a(n,u,h,p):a(n)),g!==void 0)return g;if(!me(n))return n;var E=un(n);if(E){if(g=bY(n),!b)return tM(n,g)}else{var M=Lp(n),O=M==wM||M=="[object GeneratorFunction]";if(Rp(n))return eM(n,b);if(M==yM||M==vM||O&&!h){if(g=w||O?{}:gM(n),!b)return w?cY(n,iY(g,n)):lY(n,tY(g,n))}else{if(!bn[M])return h?n:{};g=_Y(n,M,b)}}p||(p=new od);var L=p.get(n);if(L)return L;p.set(n,g),SY(n)?n.forEach(function(H){g.add(l(H,i,a,H,n,p))}):xY(n)&&n.forEach(function(H,K){g.set(K,l(H,i,a,K,n,p))});var F=E?void 0:(C?w?uY:cC:w?ad:Bp)(n);return VK(F||n,function(H,K){F&&(H=n[K=H]),nC(g,K,l(H,i,a,K,n,p))}),g},gC=function(l,n){return mC(l,5,n=typeof n=="function"?n:void 0)},Sc=function(l){return $n(l)&&l.nodeType===1&&!Cr(l)};class _M{constructor(n,i){this._config={},i&&this.define(CM(i)),n&&this._setObjectToTarget(this._config,n)}set(n,i){this._setToTarget(this._config,n,i)}define(n,i){this._setToTarget(this._config,n,i,!0)}get(n){return this._getFromSource(this._config,n)}*names(){for(const n of Object.keys(this._config))yield n}_setToTarget(n,i,a,u=!1){if(Cr(i))return void this._setObjectToTarget(n,i,u);const h=i.split(".");i=h.pop();for(const p of h)Cr(n[p])||(n[p]={}),n=n[p];if(Cr(a))return Cr(n[i])||(n[i]={}),n=n[i],void this._setObjectToTarget(n,a,u);u&&n[i]!==void 0||(n[i]=a)}_getFromSource(n,i){const a=i.split(".");i=a.pop();for(const u of a){if(!Cr(n[u])){n=null;break}n=n[u]}return n?CM(n[i]):void 0}_setObjectToTarget(n,i,a){Object.keys(i).forEach(u=>{this._setToTarget(n,u,i[u],a)})}}function CM(l){return gC(l,DY)}function DY(l){return Sc(l)||typeof l=="function"?l:void 0}function ll(l){if(l){if(l.defaultView)return l instanceof l.defaultView.Document;if(l.ownerDocument&&l.ownerDocument.defaultView)return l instanceof l.ownerDocument.defaultView.Node}return!1}function qb(l){const n=Object.prototype.toString.apply(l);return n=="[object Window]"||n=="[object global]"}const AM=gi(G());function gi(l){return l?class extends l{listenTo(n,i,a,u={}){if(ll(n)||qb(n)){const h={capture:!!u.useCapture,passive:!!u.usePassive},p=this._getProxyEmitter(n,h)||new TY(n,h);this.listenTo(p,i,a,u)}else super.listenTo(n,i,a,u)}stopListening(n,i,a){if(ll(n)||qb(n)){const u=this._getAllProxyEmitters(n);for(const h of u)this.stopListening(h,i,a)}else super.stopListening(n,i,a)}_getProxyEmitter(n,i){return function(a,u){const h=a[J];return h&&h[u]?h[u].emitter:null}(this,xM(n,i))}_getAllProxyEmitters(n){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(i=>this._getProxyEmitter(n,i)).filter(i=>!!i)}}:AM}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(l=>{gi[l]=AM.prototype[l]});class TY extends G(){constructor(n,i){super(),re(this,xM(n,i)),this._domNode=n,this._options=i}attach(n){if(this._domListeners&&this._domListeners[n])return;const i=this._createDomListener(n);this._domNode.addEventListener(n,i,this._options),this._domListeners||(this._domListeners={}),this._domListeners[n]=i}detach(n){let i;!this._domListeners[n]||(i=this._events[n])&&i.callbacks.length||this._domListeners[n].removeListener()}_addEventListener(n,i,a){this.attach(n),G().prototype._addEventListener.call(this,n,i,a)}_removeEventListener(n,i){G().prototype._removeEventListener.call(this,n,i),this.detach(n)}_createDomListener(n){const i=a=>{this.fire(n,a)};return i.removeListener=()=>{this._domNode.removeEventListener(n,i,this._options),delete this._domListeners[n]},i}}function xM(l,n){let i=function(a){return a["data-ck-expando"]||(a["data-ck-expando"]=N())}(l);for(const a of Object.keys(n).sort())n[a]&&(i+="-"+a);return i}function EM(l){const n=l.ownerDocument.defaultView.getComputedStyle(l);return{top:parseInt(n.borderTopWidth,10),right:parseInt(n.borderRightWidth,10),bottom:parseInt(n.borderBottomWidth,10),left:parseInt(n.borderLeftWidth,10)}}function Jn(l){return Object.prototype.toString.call(l)=="[object Text]"}function Gb(l){return Object.prototype.toString.apply(l)=="[object Range]"}function SM(l){return l&&l.parentNode?l.offsetParent===m.document.body?null:l.offsetParent:null}const DM=["top","right","bottom","left","width","height"];class Et{constructor(n){const i=Gb(n);if(Object.defineProperty(this,"_source",{value:n._source||n,writable:!0,enumerable:!1}),bC(n)||i)if(i){const a=Et.getDomRangeRects(n);Kb(this,Et.getBoundingRect(a))}else Kb(this,n.getBoundingClientRect());else if(qb(n)){const{innerWidth:a,innerHeight:u}=n;Kb(this,{top:0,right:a,bottom:u,left:0,width:a,height:u})}else Kb(this,n)}clone(){return new Et(this)}moveTo(n,i){return this.top=i,this.right=n+this.width,this.bottom=i+this.height,this.left=n,this}moveBy(n,i){return this.top+=i,this.right+=n,this.left+=n,this.bottom+=i,this}getIntersection(n){const i={top:Math.max(this.top,n.top),right:Math.min(this.right,n.right),bottom:Math.min(this.bottom,n.bottom),left:Math.max(this.left,n.left),width:0,height:0};if(i.width=i.right-i.left,i.height=i.bottom-i.top,i.width<0||i.height<0)return null;{const a=new Et(i);return a._source=this._source,a}}getIntersectionArea(n){const i=this.getIntersection(n);return i?i.getArea():0}getArea(){return this.width*this.height}getVisible(){const n=this._source;let i=this.clone();if(TM(n))return i;let a,u=n,h=n.parentNode||n.commonAncestorContainer;for(;h&&!TM(h);){const g=((p=h)instanceof HTMLElement?p.ownerDocument.defaultView.getComputedStyle(p).overflow:"visible")==="visible";u instanceof HTMLElement&&IM(u)==="absolute"&&(a=u);const b=IM(h);if(g||a&&(b==="relative"&&g||b!=="relative")){u=h,h=h.parentNode;continue}const w=new Et(h),C=i.getIntersection(w);if(!C)return null;C.getArea()<i.getArea()&&(i=C),u=h,h=h.parentNode}var p;return i}isEqual(n){for(const i of DM)if(this[i]!==n[i])return!1;return!0}contains(n){const i=this.getIntersection(n);return!(!i||!i.isEqual(n))}toAbsoluteRect(){const{scrollX:n,scrollY:i}=m.window,a=this.clone().moveBy(n,i);if(bC(a._source)){const u=SM(a._source);u&&function(h,p){const g=new Et(p),b=EM(p);let w=0,C=0;w-=g.left,C-=g.top,w+=p.scrollLeft,C+=p.scrollTop,w-=b.left,C-=b.top,h.moveBy(w,C)}(a,u)}return a}excludeScrollbarsAndBorders(){const n=this._source;let i,a,u;if(qb(n))i=n.innerWidth-n.document.documentElement.clientWidth,a=n.innerHeight-n.document.documentElement.clientHeight,u=n.getComputedStyle(n.document.documentElement).direction;else{const h=EM(n);i=n.offsetWidth-n.clientWidth-h.left-h.right,a=n.offsetHeight-n.clientHeight-h.top-h.bottom,u=n.ownerDocument.defaultView.getComputedStyle(n).direction,this.left+=h.left,this.top+=h.top,this.right-=h.right,this.bottom-=h.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=i,u==="ltr"?this.right-=i:this.left+=i,this.height-=a,this.bottom-=a,this}static getDomRangeRects(n){const i=[],a=Array.from(n.getClientRects());if(a.length)for(const u of a)i.push(new Et(u));else{let u=n.startContainer;Jn(u)&&(u=u.parentNode);const h=new Et(u.getBoundingClientRect());h.right=h.left,h.width=0,i.push(h)}return i}static getBoundingRect(n){const i={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let a=0;for(const u of n)a++,i.left=Math.min(i.left,u.left),i.top=Math.min(i.top,u.top),i.right=Math.max(i.right,u.right),i.bottom=Math.max(i.bottom,u.bottom);return a==0?null:(i.width=i.right-i.left,i.height=i.bottom-i.top,new Et(i))}}function Kb(l,n){for(const i of DM)l[i]=n[i]}function TM(l){return!!bC(l)&&l===l.ownerDocument.body}function bC(l){return l!==null&&typeof l=="object"&&l.nodeType===1&&typeof l.getBoundingClientRect=="function"}function IM(l){return l instanceof HTMLElement?l.ownerDocument.defaultView.getComputedStyle(l).position:"static"}const Xn=class{constructor(l,n){Xn._observerInstance||Xn._createObserver(),this._element=l,this._callback=n,Xn._addElementCallback(l,n),Xn._observerInstance.observe(l)}get element(){return this._element}destroy(){Xn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(l,n){Xn._elementCallbacks||(Xn._elementCallbacks=new Map);let i=Xn._elementCallbacks.get(l);i||(i=new Set,Xn._elementCallbacks.set(l,i)),i.add(n)}static _deleteElementCallback(l,n){const i=Xn._getElementCallbacks(l);i&&(i.delete(n),i.size||(Xn._elementCallbacks.delete(l),Xn._observerInstance.unobserve(l))),Xn._elementCallbacks&&!Xn._elementCallbacks.size&&(Xn._observerInstance=null,Xn._elementCallbacks=null)}static _getElementCallbacks(l){return Xn._elementCallbacks?Xn._elementCallbacks.get(l):null}static _createObserver(){Xn._observerInstance=new m.window.ResizeObserver(l=>{for(const n of l){const i=Xn._getElementCallbacks(n.target);if(i)for(const a of i)a(n)}})}};let jp=Xn;function MM(l,n){l instanceof HTMLTextAreaElement&&(l.value=n),l.innerHTML=n}function ld(l){return n=>n+l}function Fp(l){let n=0;for(;l.previousSibling;)l=l.previousSibling,n++;return n}function PM(l,n,i){l.insertBefore(i,l.childNodes[n]||null)}function zp(l){return l&&l.nodeType===Node.COMMENT_NODE}function Dc(l){return!!(l&&l.getClientRects&&l.getClientRects().length)}jp._observerInstance=null,jp._elementCallbacks=null;var NM=Math.pow;function Yb({element:l,target:n,positions:i,limiter:a,fitInViewport:u,viewportOffsetConfig:h}){da(n)&&(n=n()),da(a)&&(a=a());const p=SM(l),g=function(M){M=Object.assign({top:0,bottom:0,left:0,right:0},M);const O=new Et(m.window);return O.top+=M.top,O.height-=M.top,O.bottom-=M.bottom,O.height-=M.bottom,O}(h),b=new Et(l),w=RM(n,g);let C;if(!w||!g.getIntersection(w))return null;const E={targetRect:w,elementRect:b,positionedElementAncestor:p,viewportRect:g};if(a||u){if(a){const M=RM(a,g);M&&(E.limiterRect=M)}C=function(M,O){const{elementRect:L}=O,F=L.getArea(),H=M.map(oe=>new OM(oe,O)).filter(oe=>!!oe.name);let K=0,X=null;for(const oe of H){const{limiterIntersectionArea:le,viewportIntersectionArea:De}=oe;if(le===F)return oe;const rt=NM(De,2)+NM(le,2);rt>K&&(K=rt,X=oe)}return X}(i,E)}else C=new OM(i[0],E);return C}function RM(l,n){const i=new Et(l).getVisible();return i?i.getIntersection(n):null}class OM{constructor(n,i){const a=n(i.targetRect,i.elementRect,i.viewportRect,i.limiterRect);if(!a)return;const{left:u,top:h,name:p,config:g}=a;this.name=p,this.config=g,this._positioningFunctionCoordinates={left:u,top:h},this._options=i}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const n=this._options.limiterRect;return n?n.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function BM(l){const n=l.parentNode;n&&n.removeChild(l)}function IY({window:l,rect:n,alignToTop:i,forceScroll:a,viewportOffset:u}){const h=n.clone().moveBy(0,u.bottom),p=n.clone().moveBy(0,-u.top),g=new Et(l).excludeScrollbarsAndBorders(),b=i&&a,w=[p,h].every(L=>g.contains(L));let{scrollX:C,scrollY:E}=l;const M=C,O=E;b?E-=g.top-n.top+u.top:w||(jM(p,g)?E-=g.top-n.top+u.top:LM(h,g)&&(E+=i?n.top-g.top-u.top:n.bottom-g.bottom+u.bottom)),w||(FM(n,g)?C-=g.left-n.left+u.left:zM(n,g)&&(C+=n.right-g.right+u.right)),C==M&&E===O||l.scrollTo(C,E)}function MY({parent:l,getRect:n,alignToTop:i,forceScroll:a,ancestorOffset:u=0,limiterElement:h}){const p=kC(l),g=i&&a;let b,w,C;const E=h||p.document.body;for(;l!=E;)w=n(),b=new Et(l).excludeScrollbarsAndBorders(),C=b.contains(w),g?l.scrollTop-=b.top-w.top+u:C||(jM(w,b)?l.scrollTop-=b.top-w.top+u:LM(w,b)&&(l.scrollTop+=i?w.top-b.top-u:w.bottom-b.bottom+u)),C||(FM(w,b)?l.scrollLeft-=b.left-w.left+u:zM(w,b)&&(l.scrollLeft+=w.right-b.right+u)),l=l.parentNode}function LM(l,n){return l.bottom>n.bottom}function jM(l,n){return l.top<n.top}function FM(l,n){return l.left<n.left}function zM(l,n){return l.right>n.right}function kC(l){return Gb(l)?l.startContainer.ownerDocument.defaultView:l.ownerDocument.defaultView}function PY(l){if(Gb(l)){let n=l.commonAncestorContainer;return Jn(n)&&(n=n.parentNode),n}return l.parentNode}function $M(l,n){const i=kC(l),a=new Et(l);if(i===n)return a;{let u=i;for(;u!=n;){const h=u.frameElement,p=new Et(h).excludeScrollbarsAndBorders();a.moveBy(p.left,p.top),u=u.parent}}return a}const NY={ctrl:"",cmd:"",alt:"",shift:""},RY={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},VM={37:"",38:"",39:"",40:"",9:"",33:"Page Up",34:"Page Down"},Mt=function(){const l={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let n=65;n<=90;n++)l[String.fromCharCode(n).toLowerCase()]=n;for(let n=48;n<=57;n++)l[n-48]=n;for(let n=112;n<=123;n++)l["f"+(n-111)]=n;return Object.assign(l,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),l}(),OY=Object.fromEntries(Object.entries(Mt).map(([l,n])=>{let i;return i=n in VM?VM[n]:l.charAt(0).toUpperCase()+l.slice(1),[n,i]}));function cd(l){let n;if(typeof l=="string"){if(n=Mt[l.toLowerCase()],!n)throw new R("keyboard-unknown-key",null,{key:l})}else n=l.keyCode+(l.altKey?Mt.alt:0)+(l.ctrlKey?Mt.ctrl:0)+(l.shiftKey?Mt.shift:0)+(l.metaKey?Mt.cmd:0);return n}function $p(l){return typeof l=="string"&&(l=function(n){return n.split("+").map(i=>i.trim())}(l)),l.map(n=>typeof n=="string"?function(i){if(i.endsWith("!"))return cd(i.slice(0,-1));const a=cd(i);return(v.isMac||v.isiOS)&&a==Mt.ctrl?Mt.cmd:a}(n):n).reduce((n,i)=>i+n,0)}function Qb(l){let n=$p(l);return Object.entries(v.isMac||v.isiOS?NY:RY).reduce((i,[a,u])=>(n&Mt[a]&&(n&=~Mt[a],i+=u),i),"")+(n?OY[n]:"")}function vC(l,n){const i=n==="ltr";switch(l){case Mt.arrowleft:return i?"left":"right";case Mt.arrowright:return i?"right":"left";case Mt.arrowup:return"up";case Mt.arrowdown:return"down"}}function fn(l){return Array.isArray(l)?l:[l]}const wC=function(l,n,i){(i!==void 0&&!mi(l[n],i)||i===void 0&&!(n in l))&&$b(l,n,i)},UM=function(l){return function(n,i,a){for(var u=-1,h=Object(n),p=a(n),g=p.length;g--;){var b=p[++u];if(i(h[b],b,h)===!1)break}return n}}(),BY=function(l){return $n(l)&&Hb(l)},HM=function(l,n){if((n!=="constructor"||typeof l[n]!="function")&&n!="__proto__")return l[n]},LY=function(l){return id(l,ad(l))},jY=function(l,n,i,a,u,h,p){var g=HM(l,i),b=HM(n,i),w=p.get(b);if(w)wC(l,i,w);else{var C=void 0,E=C===void 0;if(E){var M=un(b),O=!M&&Rp(b),L=!M&&!O&&sC(b);C=b,M||O||L?un(g)?C=g:BY(g)?C=tM(g):O?(E=!1,C=eM(b,!0)):L?(E=!1,C=fM(b,!0)):C=[]:Cr(b)||Vb(b)?(C=g,Vb(g)?C=LY(g):me(g)&&!da(g)||(C=gM(b))):E=!1}E&&(p.set(b,C),u(C,b,a,h,p),p.delete(b)),wC(l,i,C)}},FY=function l(n,i,a,u,h){n!==i&&UM(i,function(p,g){if(h||(h=new od),me(p))jY(n,i,g,a,l,u,h);else{var b=void 0;b===void 0&&(b=p),wC(n,g,b)}},ad)},cl=function(l){return l},zY=function(l,n,i){switch(i.length){case 0:return l.call(n);case 1:return l.call(n,i[0]);case 2:return l.call(n,i[0],i[1]);case 3:return l.call(n,i[0],i[1],i[2])}return l.apply(n,i)};var WM=Math.max;const $Y=function(l,n,i){return n=WM(n===void 0?l.length-1:n,0),function(){for(var a=arguments,u=-1,h=WM(a.length-n,0),p=Array(h);++u<h;)p[u]=a[n+u];u=-1;for(var g=Array(n+1);++u<n;)g[u]=a[u];return g[n]=i(p),zY(l,this,g)}},VY=function(l){return function(){return l}},UY=zb?function(l,n){return zb(l,"toString",{configurable:!0,enumerable:!1,value:VY(n),writable:!0})}:cl;var HY=Date.now;const WY=function(l){var n=0,i=0;return function(){var a=HY(),u=16-(a-i);if(i=a,u>0){if(++n>=800)return arguments[0]}else n=0;return l.apply(void 0,arguments)}}(UY),qY=function(l,n){return WY($Y(l,n,cl),l+"")},GY=function(l,n,i){if(!me(i))return!1;var a=typeof n;return!!(a=="number"?Hb(i)&&Ub(n,i.length):a=="string"&&n in i)&&mi(i[n],l)},qM=function(l){return qY(function(n,i){var a=-1,u=i.length,h=u>1?i[u-1]:void 0,p=u>2?i[2]:void 0;for(h=l.length>3&&typeof h=="function"?(u--,h):void 0,p&&GY(i[0],i[1],p)&&(h=u<3?void 0:h,u=1),n=Object(n);++a<u;){var g=i[a];g&&l(n,g,a,h)}return n})},yC=qM(function(l,n,i){FY(l,n,i)});function KY(l,n,i=1,a){if(typeof i!="number")throw new R("translation-service-quantity-not-a-number",null,{quantity:i});const u=a||m.window.CKEDITOR_TRANSLATIONS,h=function(C){return Object.keys(C).length}(u);h===1&&(l=Object.keys(u)[0]);const p=n.id||n.string;if(h===0||!function(C,E,M){return!!M[C]&&!!M[C].dictionary[E]}(l,p,u))return i!==1?n.plural:n.string;const g=u[l].dictionary,b=u[l].getPluralForm||(C=>C===1?0:1),w=g[p];return typeof w=="string"?w:w[Number(b(i))]}m.window.CKEDITOR_TRANSLATIONS||(m.window.CKEDITOR_TRANSLATIONS={});const YY=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function GM(l){return YY.includes(l)?"rtl":"ltr"}class QY{constructor({uiLanguage:n="en",contentLanguage:i,translations:a}={}){this.uiLanguage=n,this.contentLanguage=i||this.uiLanguage,this.uiLanguageDirection=GM(this.uiLanguage),this.contentLanguageDirection=GM(this.contentLanguage),this.translations=function(u){return Array.isArray(u)?u.reduce((h,p)=>yC(h,p)):u}(a),this.t=(u,h)=>this._t(u,h)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(n,i=[]){i=fn(i),typeof n=="string"&&(n={string:n});const a=n.plural?i[0]:1;return function(u,h){return u.replace(/%(\d+)/g,(p,g)=>g<h.length?h[g]:p)}(KY(this.uiLanguage,n,a,this.translations),i)}}class Ki extends G(){constructor(n={},i={}){super();const a=ut(n);if(a||(i=n),this._items=[],this._itemMap=new Map,this._idProperty=i.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],a)for(const u of n)this._items.push(u),this._itemMap.set(this._getItemIdBeforeAdding(u),u)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(n,i){return this.addMany([n],i)}addMany(n,i){if(i===void 0)i=this._items.length;else if(i>this._items.length||i<0)throw new R("collection-add-item-invalid-index",this);let a=0;for(const u of n){const h=this._getItemIdBeforeAdding(u),p=i+a;this._items.splice(p,0,u),this._itemMap.set(h,u),this.fire("add",u,p),a++}return this.fire("change",{added:n,removed:[],index:i}),this}get(n){let i;if(typeof n=="string")i=this._itemMap.get(n);else{if(typeof n!="number")throw new R("collection-get-invalid-arg",this);i=this._items[n]}return i||null}has(n){if(typeof n=="string")return this._itemMap.has(n);{const i=n[this._idProperty];return i&&this._itemMap.has(i)}}getIndex(n){let i;return i=typeof n=="string"?this._itemMap.get(n):n,i?this._items.indexOf(i):-1}remove(n){const[i,a]=this._remove(n);return this.fire("change",{added:[],removed:[i],index:a}),i}map(n,i){return this._items.map(n,i)}forEach(n,i){this._items.forEach(n,i)}find(n,i){return this._items.find(n,i)}filter(n,i){return this._items.filter(n,i)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const n=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:n,index:0})}bindTo(n){if(this._bindToCollection)throw new R("collection-bind-to-rebind",this);return this._bindToCollection=n,{as:i=>{this._setUpBindToBinding(a=>new i(a))},using:i=>{typeof i=="function"?this._setUpBindToBinding(i):this._setUpBindToBinding(a=>a[i])}}}_setUpBindToBinding(n){const i=this._bindToCollection,a=(u,h,p)=>{const g=i._bindToCollection==this,b=i._bindToInternalToExternalMap.get(h);if(g&&b)this._bindToExternalToInternalMap.set(h,b),this._bindToInternalToExternalMap.set(b,h);else{const w=n(h);if(!w)return void this._skippedIndexesFromExternal.push(p);let C=p;for(const E of this._skippedIndexesFromExternal)p>E&&C--;for(const E of i._skippedIndexesFromExternal)C>=E&&C++;this._bindToExternalToInternalMap.set(h,w),this._bindToInternalToExternalMap.set(w,h),this.add(w,C);for(let E=0;E<i._skippedIndexesFromExternal.length;E++)C<=i._skippedIndexesFromExternal[E]&&i._skippedIndexesFromExternal[E]++}};for(const u of i)a(0,u,i.getIndex(u));this.listenTo(i,"add",a),this.listenTo(i,"remove",(u,h,p)=>{const g=this._bindToExternalToInternalMap.get(h);g&&this.remove(g),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((b,w)=>(p<w&&b.push(w-1),p>w&&b.push(w),b),[])})}_getItemIdBeforeAdding(n){const i=this._idProperty;let a;if(i in n){if(a=n[i],typeof a!="string")throw new R("collection-add-invalid-id",this);if(this.get(a))throw new R("collection-add-item-already-exists",this)}else n[i]=a=N();return a}_remove(n){let i,a,u,h=!1;const p=this._idProperty;if(typeof n=="string"?(a=n,u=this._itemMap.get(a),h=!u,u&&(i=this._items.indexOf(u))):typeof n=="number"?(i=n,u=this._items[i],h=!u,u&&(a=u[p])):(u=n,a=u[p],i=this._items.indexOf(u),h=i==-1||!this._itemMap.get(a)),h)throw new R("collection-remove-404",this);this._items.splice(i,1),this._itemMap.delete(a);const g=this._bindToInternalToExternalMap.get(u);return this._bindToInternalToExternalMap.delete(u),this._bindToExternalToInternalMap.delete(g),this.fire("remove",u,i),[u,i]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Ar(l){const n=l.next();return n.done?null:n.value}class xr extends gi(be()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(n){if(this._elements.has(n))throw new R("focustracker-add-element-already-exist",this);this.listenTo(n,"focus",()=>this._focus(n),{useCapture:!0}),this.listenTo(n,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(n)}remove(n){n===this.focusedElement&&this._blur(),this._elements.has(n)&&(this.stopListening(n),this._elements.delete(n))}destroy(){this.stopListening()}_focus(n){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=n,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class uo{constructor(){this._listener=new(gi())}listenTo(n){this._listener.listenTo(n,"keydown",(i,a)=>{this._listener.fire("_keydown:"+cd(a),a)})}set(n,i,a={}){const u=$p(n),h=a.priority;this._listener.listenTo(this._listener,"_keydown:"+u,(p,g)=>{i(g,()=>{g.preventDefault(),g.stopPropagation(),p.stop()}),p.return=!0},{priority:h})}press(n){return!!this._listener.fire("_keydown:"+cd(n),n)}stopListening(n){this._listener.stopListening(n)}destroy(){this.stopListening()}}function ys(l){return ut(l)?new Map(l):function(n){const i=new Map;for(const a in n)i.set(a,n[a]);return i}(l)}function _C(l,n){let i;function a(...u){a.cancel(),i=setTimeout(()=>l(...u),n)}return a.cancel=()=>{clearTimeout(i)},a}function CC(l,n){return!!(i=l.charAt(n-1))&&i.length==1&&/[\ud800-\udbff]/.test(i)&&function(a){return!!a&&a.length==1&&/[\udc00-\udfff]/.test(a)}(l.charAt(n));var i}function AC(l,n){return!!(i=l.charAt(n))&&i.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(i);var i}const ZY=function(){const l=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],n=new RegExp("\\p{Regional_Indicator}{2}","u").source,i="(?:"+l.map(a=>a.source).join("|")+")";return new RegExp(`${n}|${i}(?:${i})*`,"ug")}();function KM(l,n){const i=String(l).matchAll(ZY);return Array.from(i).some(a=>a.index<n&&n<a.index+a[0].length)}class bi extends Ki{constructor(n=[]){super(n,{idProperty:"viewUid"}),this.on("add",(i,a,u)=>{this._renderViewIntoCollectionParent(a,u)}),this.on("remove",(i,a)=>{a.element&&this._parentElement&&a.element.remove()}),this._parentElement=null}destroy(){this.map(n=>n.destroy())}setParent(n){this._parentElement=n;for(const i of this)this._renderViewIntoCollectionParent(i)}delegate(...n){if(!n.length||!n.every(i=>typeof i=="string"))throw new R("ui-viewcollection-delegate-wrong-events",this);return{to:i=>{for(const a of this)for(const u of n)a.delegate(u).to(i);this.on("add",(a,u)=>{for(const h of n)u.delegate(h).to(i)}),this.on("remove",(a,u)=>{for(const h of n)u.stopDelegating(h,i)})}}}_renderViewIntoCollectionParent(n,i){n.isRendered||n.render(),n.element&&this._parentElement&&this._parentElement.insertBefore(n.element,this._parentElement.children[i])}remove(n){return super.remove(n)}}class Yi extends G(){constructor(n){super(),Object.assign(this,JM(ZM(n))),this._isRendered=!1,this._revertData=null}render(){const n=this._renderNode({intoFragment:!0});return this._isRendered=!0,n}apply(n){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:n,intoFragment:!1,isApplying:!0,revertData:this._revertData}),n}revert(n){if(!this._revertData)throw new R("ui-template-revert-not-applied",[this,n]);this._revertTemplateFromNode(n,this._revertData)}*getViews(){yield*function*n(i){if(i.children)for(const a of i.children)Jb(a)?yield a:xC(a)&&(yield*n(a))}(this)}static bind(n,i){return{to:(a,u)=>new JY({eventNameOrFunction:a,attribute:a,observable:n,emitter:i,callback:u}),if:(a,u,h)=>new YM({observable:n,emitter:i,attribute:a,valueIfTrue:u,callback:h})}}static extend(n,i){if(n._isRendered)throw new R("template-extend-render",[this,n]);n5(n,JM(ZM(i)))}_renderNode(n){let i;if(i=n.node?this.tag&&this.text:this.tag?this.text:!this.text,i)throw new R("ui-template-wrong-syntax",this);return this.text?this._renderText(n):this._renderElement(n)}_renderElement(n){let i=n.node;return i||(i=n.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(n),this._renderElementChildren(n),this._setUpListeners(n),i}_renderText(n){let i=n.node;return i?n.revertData.text=i.textContent:i=n.node=document.createTextNode(""),Zb(this.text)?this._bindToObservable({schema:this.text,updater:XY(i),data:n}):i.textContent=this.text.join(""),i}_renderAttributes(n){if(!this.attributes)return;const i=n.node,a=n.revertData;for(const u in this.attributes){const h=i.getAttribute(u),p=this.attributes[u];a&&(a.attributes[u]=h);const g=r5(p)?p[0].ns:null;if(Zb(p)){const b=r5(p)?p[0].value:p;a&&o5(u)&&b.unshift(h),this._bindToObservable({schema:b,updater:eQ(i,u,g),data:n})}else if(u=="style"&&typeof p[0]!="string")this._renderStyleAttribute(p[0],n);else{a&&h&&o5(u)&&p.unshift(h);const b=p.map(w=>w&&w.value||w).reduce((w,C)=>w.concat(C),[]).reduce(e5,"");ud(b)||i.setAttributeNS(g,u,b)}}}_renderStyleAttribute(n,i){const a=i.node;for(const u in n){const h=n[u];Zb(h)?this._bindToObservable({schema:[h],updater:tQ(a,u),data:i}):a.style[u]=h}}_renderElementChildren(n){const i=n.node,a=n.intoFragment?document.createDocumentFragment():i,u=n.isApplying;let h=0;for(const p of this.children)if(EC(p)){if(!u){p.setParent(i);for(const g of p)a.appendChild(g.element)}}else if(Jb(p))u||(p.isRendered||p.render(),a.appendChild(p.element));else if(ll(p))a.appendChild(p);else if(u){const g={children:[],bindings:[],attributes:{}};n.revertData.children.push(g),p._renderNode({intoFragment:!1,node:a.childNodes[h++],isApplying:!0,revertData:g})}else a.appendChild(p.render());n.intoFragment&&i.appendChild(a)}_setUpListeners(n){if(this.eventListeners)for(const i in this.eventListeners){const a=this.eventListeners[i].map(u=>{const[h,p]=i.split("@");return u.activateDomEventListener(h,p,n)});n.revertData&&n.revertData.bindings.push(a)}}_bindToObservable({schema:n,updater:i,data:a}){const u=a.revertData;QM(n,i,a);const h=n.filter(p=>!ud(p)).filter(p=>p.observable).map(p=>p.activateAttributeListener(n,i,a));u&&u.bindings.push(h)}_revertTemplateFromNode(n,i){for(const u of i.bindings)for(const h of u)h();if(i.text)return void(n.textContent=i.text);const a=n;for(const u in i.attributes){const h=i.attributes[u];h===null?a.removeAttribute(u):a.setAttribute(u,h)}for(let u=0;u<i.children.length;++u)this._revertTemplateFromNode(a.childNodes[u],i.children[u])}}class Vp{constructor(n){this.attribute=n.attribute,this.observable=n.observable,this.emitter=n.emitter,this.callback=n.callback}getValue(n){const i=this.observable[this.attribute];return this.callback?this.callback(i,n):i}activateAttributeListener(n,i,a){const u=()=>QM(n,i,a);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,u),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,u)}}}class JY extends Vp{constructor(n){super(n),this.eventNameOrFunction=n.eventNameOrFunction}activateDomEventListener(n,i,a){const u=(h,p)=>{i&&!p.target.matches(i)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(p):this.observable.fire(this.eventNameOrFunction,p))};return this.emitter.listenTo(a.node,n,u),()=>{this.emitter.stopListening(a.node,n,u)}}}class YM extends Vp{constructor(n){super(n),this.valueIfTrue=n.valueIfTrue}getValue(n){return!ud(super.getValue(n))&&(this.valueIfTrue||!0)}}function Zb(l){return!!l&&(l.value&&(l=l.value),Array.isArray(l)?l.some(Zb):l instanceof Vp)}function QM(l,n,{node:i}){const a=function(h,p){return h.map(g=>g instanceof Vp?g.getValue(p):g)}(l,i);let u;u=l.length==1&&l[0]instanceof YM?a[0]:a.reduce(e5,""),ud(u)?n.remove():n.set(u)}function XY(l){return{set(n){l.textContent=n},remove(){l.textContent=""}}}function eQ(l,n,i){return{set(a){l.setAttributeNS(i,n,a)},remove(){l.removeAttributeNS(i,n)}}}function tQ(l,n){return{set(i){l.style[n]=i},remove(){l.style[n]=null}}}function ZM(l){return gC(l,n=>{if(n&&(n instanceof Vp||xC(n)||Jb(n)||EC(n)))return n})}function JM(l){if(typeof l=="string"?l=function(n){return{text:[n]}}(l):l.text&&function(n){n.text=fn(n.text)}(l),l.on&&(l.eventListeners=function(n){for(const i in n)XM(n,i);return n}(l.on),delete l.on),!l.text){l.attributes&&function(i){for(const a in i)i[a].value&&(i[a].value=fn(i[a].value)),XM(i,a)}(l.attributes);const n=[];if(l.children)if(EC(l.children))n.push(l.children);else for(const i of l.children)xC(i)||Jb(i)||ll(i)?n.push(i):n.push(new Yi(i));l.children=n}return l}function XM(l,n){l[n]=fn(l[n])}function e5(l,n){return ud(n)?l:ud(l)?n:`${l} ${n}`}function t5(l,n){for(const i in n)l[i]?l[i].push(...n[i]):l[i]=n[i]}function n5(l,n){if(n.attributes&&(l.attributes||(l.attributes={}),t5(l.attributes,n.attributes)),n.eventListeners&&(l.eventListeners||(l.eventListeners={}),t5(l.eventListeners,n.eventListeners)),n.text&&l.text.push(...n.text),n.children&&n.children.length){if(l.children.length!=n.children.length)throw new R("ui-template-extend-children-mismatch",l);let i=0;for(const a of n.children)n5(l.children[i++],a)}}function ud(l){return!l&&l!==0}function Jb(l){return l instanceof Ye}function xC(l){return l instanceof Yi}function EC(l){return l instanceof bi}function r5(l){return me(l[0])&&l[0].ns}function o5(l){return l=="class"||l=="style"}var nQ=s(2591),xe=s.n(nQ),i5=s(7676),rQ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(i5.A,rQ),i5.A.locals;class Ye extends gi(be()){constructor(n){super(),this.element=null,this.isRendered=!1,this.locale=n,this.t=n&&n.t,this._viewCollections=new Ki,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(i,a)=>{a.locale=n,a.t=n&&n.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Yi.bind(this,this)}createCollection(n){const i=new bi(n);return this._viewCollections.add(i),i}registerChild(n){ut(n)||(n=[n]);for(const i of n)this._unboundChildren.add(i)}deregisterChild(n){ut(n)||(n=[n]);for(const i of n)this._unboundChildren.remove(i)}setTemplate(n){this.template=new Yi(n)}extendTemplate(n){Yi.extend(this.template,n)}render(){if(this.isRendered)throw new R("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(n=>n.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}function Xb({emitter:l,activator:n,callback:i,contextElements:a}){l.listenTo(document,"mousedown",(u,h)=>{if(!n())return;const p=typeof h.composedPath=="function"?h.composedPath():[],g=typeof a=="function"?a():a;for(const b of g)if(b.contains(h.target)||p.includes(b))return;i()})}function SC(l){return class extends l{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...n){super(...n),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function ek({view:l}){l.listenTo(l.element,"submit",(n,i)=>{i.preventDefault(),l.fire("submit")},{useCapture:!0})}function oQ({keystrokeHandler:l,focusTracker:n,gridItems:i,numberOfColumns:a,uiLanguageDirection:u}){const h=typeof a=="number"?()=>a:a;function p(w){return C=>{const E=i.find(L=>L.element===n.focusedElement),M=i.getIndex(E),O=w(M,i);i.get(O).focus(),C.stopPropagation(),C.preventDefault()}}function g(w,C){return w===C-1?0:w+1}function b(w,C){return w===0?C-1:w-1}l.set("arrowright",p((w,C)=>u==="rtl"?b(w,C.length):g(w,C.length))),l.set("arrowleft",p((w,C)=>u==="rtl"?g(w,C.length):b(w,C.length))),l.set("arrowup",p((w,C)=>{let E=w-h();return E<0&&(E=w+h()*Math.floor(C.length/h()),E>C.length-1&&(E-=h())),E})),l.set("arrowdown",p((w,C)=>{let E=w+h();return E>C.length-1&&(E=w%h()),E}))}class ge extends be(){constructor(n){super(),this._disableStack=new Set,this.editor=n,this.set("isEnabled",!0)}forceDisabled(n){this._disableStack.add(n),this._disableStack.size==1&&(this.on("set:isEnabled",s5,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(n){this._disableStack.delete(n),this._disableStack.size==0&&(this.off("set:isEnabled",s5),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function s5(l){l.return=!1,l.stop()}class wt extends be(){constructor(n){super(),this.editor=n,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(n,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",i=>{if(!this.affectsData)return;const a=n.model.document.selection,u=a.getFirstPosition().root.rootName!="$graveyard"&&n.model.canEditAt(a);(n.isReadOnly||this._isEnabledBasedOnSelection&&!u)&&(i.return=!1,i.stop())},{priority:"highest"}),this.on("execute",i=>{this.isEnabled||i.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(n){this._affectsData=n}refresh(){this.isEnabled=!0}forceDisabled(n){this._disableStack.add(n),this._disableStack.size==1&&(this.on("set:isEnabled",a5,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(n){this._disableStack.delete(n),this._disableStack.size==0&&(this.off("set:isEnabled",a5),this.refresh())}execute(...n){}destroy(){this.stopListening()}}function a5(l){l.return=!1,l.stop()}class l5 extends wt{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...n){const i=this._getFirstEnabledCommand();return!!i&&i.execute(n)}registerChildCommand(n,i={}){$(this._childCommandsDefinitions,{command:n,priority:i.priority||"normal"}),n.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const n=this._childCommandsDefinitions.find(({command:i})=>i.isEnabled);return n&&n.command}}class c5 extends G(){constructor(n,i=[],a=[]){super(),this._plugins=new Map,this._context=n,this._availablePlugins=new Map;for(const u of i)u.pluginName&&this._availablePlugins.set(u.pluginName,u);this._contextPlugins=new Map;for(const[u,h]of a)this._contextPlugins.set(u,h),this._contextPlugins.set(h,u),u.pluginName&&this._availablePlugins.set(u.pluginName,u)}*[Symbol.iterator](){for(const n of this._plugins)typeof n[0]=="function"&&(yield n)}get(n){const i=this._plugins.get(n);if(!i){let a=n;throw typeof n=="function"&&(a=n.pluginName||n.name),new R("plugincollection-plugin-not-loaded",this._context,{plugin:a})}return i}has(n){return this._plugins.has(n)}init(n,i=[],a=[]){const u=this,h=this._context;(function L(F,H=new Set){F.forEach(K=>{b(K)&&(H.has(K)||(H.add(K),K.pluginName&&!u._availablePlugins.has(K.pluginName)&&u._availablePlugins.set(K.pluginName,K),K.requires&&L(K.requires,H)))})})(n),M(n);const p=[...function L(F,H=new Set){return F.map(K=>b(K)?K:u._availablePlugins.get(K)).reduce((K,X)=>H.has(X)?K:(H.add(X),X.requires&&(M(X.requires,X),L(X.requires,H).forEach(oe=>K.add(oe))),K.add(X)),new Set)}(n.filter(L=>!C(L,i)))];(function(L,F){for(const H of F){if(typeof H!="function")throw new R("plugincollection-replace-plugin-invalid-type",null,{pluginItem:H});const K=H.pluginName;if(!K)throw new R("plugincollection-replace-plugin-missing-name",null,{pluginItem:H});if(H.requires&&H.requires.length)throw new R("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:K});const X=u._availablePlugins.get(K);if(!X)throw new R("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:K});const oe=L.indexOf(X);if(oe===-1){if(u._contextPlugins.has(X))return;throw new R("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:K})}if(X.requires&&X.requires.length)throw new R("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:K});L.splice(oe,1,H),u._availablePlugins.set(K,H)}})(p,a);const g=p.map(L=>{let F=u._contextPlugins.get(L);return F=F||new L(h),u._add(L,F),F});return O(g,"init").then(()=>O(g,"afterInit")).then(()=>g);function b(L){return typeof L=="function"}function w(L){return b(L)&&!!L.isContextPlugin}function C(L,F){return F.some(H=>H===L||E(L)===H||E(H)===L)}function E(L){return b(L)?L.pluginName||L.name:L}function M(L,F=null){L.map(H=>b(H)?H:u._availablePlugins.get(H)||H).forEach(H=>{(function(K,X){if(!b(K))throw X?new R("plugincollection-soft-required",h,{missingPlugin:K,requiredBy:E(X)}):new R("plugincollection-plugin-not-found",h,{plugin:K})})(H,F),function(K,X){if(w(X)&&!w(K))throw new R("plugincollection-context-required",h,{plugin:E(K),requiredBy:E(X)})}(H,F),function(K,X){if(X&&C(K,i))throw new R("plugincollection-required",h,{plugin:E(K),requiredBy:E(X)})}(H,F)})}function O(L,F){return L.reduce((H,K)=>K[F]?u._contextPlugins.has(K)?H:H.then(K[F].bind(K)):H,Promise.resolve())}}destroy(){const n=[];for(const[,i]of this)typeof i.destroy!="function"||this._contextPlugins.has(i)||n.push(i.destroy());return Promise.all(n)}_add(n,i){this._plugins.set(n,i);const a=n.pluginName;if(a){if(this._plugins.has(a))throw new R("plugincollection-plugin-name-conflict",null,{pluginName:a,plugin1:this._plugins.get(a).constructor,plugin2:n});this._plugins.set(a,i)}}}var u5=Object.getOwnPropertySymbols,iQ=Object.prototype.hasOwnProperty,sQ=Object.prototype.propertyIsEnumerable;class d5{constructor(n){this._contextOwner=null;const i=n||{},{translations:a}=i,u=((g,b)=>{var w={};for(var C in g)iQ.call(g,C)&&b.indexOf(C)<0&&(w[C]=g[C]);if(g!=null&&u5)for(var C of u5(g))b.indexOf(C)<0&&sQ.call(g,C)&&(w[C]=g[C]);return w})(i,["translations"]);this.config=new _M(u,this.constructor.defaultConfig);const h=this.constructor.builtinPlugins;this.config.define("plugins",h),this.plugins=new c5(this,h);const p=this.config.get("language")||{};this.locale=new QY({uiLanguage:typeof p=="string"?p:p.ui,contentLanguage:this.config.get("language.content"),translations:a}),this.t=this.locale.t,this.editors=new Ki}initPlugins(){const n=this.config.get("plugins")||[],i=this.config.get("substitutePlugins")||[];for(const a of n.concat(i)){if(typeof a!="function")throw new R("context-initplugins-constructor-only",null,{Plugin:a});if(a.isContextPlugin!==!0)throw new R("context-initplugins-invalid-plugin",null,{Plugin:a})}return this.plugins.init(n,[],i)}destroy(){return Promise.all(Array.from(this.editors,n=>n.destroy())).then(()=>this.plugins.destroy())}_addEditor(n,i){if(this._contextOwner)throw new R("context-addeditor-private-context");this.editors.add(n),i&&(this._contextOwner=n)}_removeEditor(n){return this.editors.has(n)&&this.editors.remove(n),this._contextOwner===n?this.destroy():Promise.resolve()}_getEditorConfig(){const n={};for(const i of this.config.names())["plugins","removePlugins","extraPlugins"].includes(i)||(n[i]=this.config.get(i));return n}static create(n){return new Promise(i=>{const a=new this(n);i(a.initPlugins().then(()=>a))})}}class tk extends be(){constructor(n){super(),this.context=n}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class aQ extends uo{constructor(n){super(),this.editor=n}set(n,i,a={}){if(typeof i=="string"){const u=i;i=(h,p)=>{this.editor.execute(u),p()}}super.set(n,i,a)}}var h5=s(4098),lQ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(h5.A,lQ),h5.A.locals;const nk=new WeakMap;let p5=!1;function f5({view:l,element:n,text:i,isDirectHost:a=!0,keepOnFocus:u=!1}){const h=l.document;function p(g){nk.get(h).set(n,{text:g,isDirectHost:a,keepOnFocus:u,hostElement:a?n:null}),l.change(b=>DC(h,b))}nk.has(h)||(nk.set(h,new Map),h.registerPostFixer(g=>DC(h,g)),h.on("change:isComposing",()=>{l.change(g=>DC(h,g))},{priority:"high"})),n.is("editableElement")&&n.on("change:placeholder",(g,b,w)=>{p(w)}),n.placeholder?p(n.placeholder):i&&p(i),i&&function(){p5||z("enableplaceholder-deprecated-text-option"),p5=!0}()}function cQ(l,n){return!n.hasClass("ck-placeholder")&&(l.addClass("ck-placeholder",n),!0)}function uQ(l,n){return!!n.hasClass("ck-placeholder")&&(l.removeClass("ck-placeholder",n),!0)}function dQ(l,n){if(!l.isAttached()||Array.from(l.getChildren()).some(u=>!u.is("uiElement")))return!1;const i=l.document,a=i.selection.anchor;return(!i.isComposing||!a||a.parent!==l)&&(!!n||!i.isFocused||!!a&&a.parent!==l)}function DC(l,n){const i=nk.get(l),a=[];let u=!1;for(const[h,p]of i)p.isDirectHost&&(a.push(h),m5(n,h,p)&&(u=!0));for(const[h,p]of i){if(p.isDirectHost)continue;const g=hQ(h);g&&(a.includes(g)||(p.hostElement=g,m5(n,h,p)&&(u=!0)))}return u}function m5(l,n,i){const{text:a,isDirectHost:u,hostElement:h}=i;let p=!1;return h.getAttribute("data-placeholder")!==a&&(l.setAttribute("data-placeholder",a,h),p=!0),(u||n.childCount==1)&&dQ(h,i.keepOnFocus)?cQ(l,h)&&(p=!0):uQ(l,h)&&(p=!0),p}function hQ(l){if(l.childCount){const n=l.getChild(0);if(n.is("element")&&!n.is("uiElement")&&!n.is("attributeElement"))return n}return null}class Tc{is(){throw new Error("is() method is abstract")}}const g5=function(l){return mC(l,4)};class Ic extends G(Tc){constructor(n){super(),this.document=n,this.parent=null}get index(){let n;if(!this.parent)return null;if((n=this.parent.getChildIndex(this))==-1)throw new R("view-node-not-found-in-parent",this);return n}get nextSibling(){const n=this.index;return n!==null&&this.parent.getChild(n+1)||null}get previousSibling(){const n=this.index;return n!==null&&this.parent.getChild(n-1)||null}get root(){let n=this;for(;n.parent;)n=n.parent;return n}isAttached(){return this.root.is("rootElement")}getPath(){const n=[];let i=this;for(;i.parent;)n.unshift(i.index),i=i.parent;return n}getAncestors(n={}){const i=[];let a=n.includeSelf?this:this.parent;for(;a;)i[n.parentFirst?"push":"unshift"](a),a=a.parent;return i}getCommonAncestor(n,i={}){const a=this.getAncestors(i),u=n.getAncestors(i);let h=0;for(;a[h]==u[h]&&a[h];)h++;return h===0?null:a[h-1]}isBefore(n){if(this==n||this.root!==n.root)return!1;const i=this.getPath(),a=n.getPath(),u=We(i,a);switch(u){case"prefix":return!0;case"extension":return!1;default:return i[u]<a[u]}}isAfter(n){return this!=n&&this.root===n.root&&!this.isBefore(n)}_remove(){this.parent._removeChildren(this.index)}_fireChange(n,i){this.fire(`change:${n}`,i),this.parent&&this.parent._fireChange(n,i)}toJSON(){const n=g5(this);return delete n.parent,n}}Ic.prototype.is=function(l){return l==="node"||l==="view:node"};class dn extends Ic{constructor(n,i){super(n),this._textData=i}get data(){return this._textData}get _data(){return this.data}set _data(n){this._fireChange("text",this),this._textData=n}isSimilar(n){return n instanceof dn&&(this===n||this.data===n.data)}_clone(){return new dn(this.document,this.data)}}dn.prototype.is=function(l){return l==="$text"||l==="view:$text"||l==="text"||l==="view:text"||l==="node"||l==="view:node"};class _s extends Tc{constructor(n,i,a){if(super(),this.textNode=n,i<0||i>n.data.length)throw new R("view-textproxy-wrong-offsetintext",this);if(a<0||i+a>n.data.length)throw new R("view-textproxy-wrong-length",this);this.data=n.data.substring(i,i+a),this.offsetInText=i}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(n={}){const i=[];let a=n.includeSelf?this.textNode:this.parent;for(;a!==null;)i[n.parentFirst?"push":"unshift"](a),a=a.parent;return i}}_s.prototype.is=function(l){return l==="$textProxy"||l==="view:$textProxy"||l==="textProxy"||l==="view:textProxy"};class Cs{constructor(...n){this._patterns=[],this.add(...n)}add(...n){for(let i of n)(typeof i=="string"||i instanceof RegExp)&&(i={name:i}),this._patterns.push(i)}match(...n){for(const i of n)for(const a of this._patterns){const u=b5(i,a);if(u)return{element:i,pattern:a,match:u}}return null}matchAll(...n){const i=[];for(const a of n)for(const u of this._patterns){const h=b5(a,u);h&&i.push({element:a,pattern:u,match:h})}return i.length>0?i:null}getElementName(){if(this._patterns.length!==1)return null;const n=this._patterns[0],i=n.name;return typeof n=="function"||!i||i instanceof RegExp?null:i}}function b5(l,n){if(typeof n=="function")return n(l);const i={};return n.name&&(i.name=function(a,u){return a instanceof RegExp?!!u.match(a):a===u}(n.name,l.name),!i.name)||n.attributes&&(i.attributes=function(a,u){const h=new Set(u.getAttributeKeys());return Cr(a)?(a.style!==void 0&&z("matcher-pattern-deprecated-attributes-style-key",a),a.class!==void 0&&z("matcher-pattern-deprecated-attributes-class-key",a)):(h.delete("style"),h.delete("class")),TC(a,h,p=>u.getAttribute(p))}(n.attributes,l),!i.attributes)||n.classes&&(i.classes=function(a,u){return TC(a,u.getClassNames(),()=>{})}(n.classes,l),!i.classes)||n.styles&&(i.styles=function(a,u){return TC(a,u.getStyleNames(!0),h=>u.getStyle(h))}(n.styles,l),!i.styles)?null:i}function TC(l,n,i){const a=function(p){return Array.isArray(p)?p.map(g=>Cr(g)?(g.key!==void 0&&g.value!==void 0||z("matcher-pattern-missing-key-or-value",g),[g.key,g.value]):[g,!0]):Cr(p)?Object.entries(p):[[p,!0]]}(l),u=Array.from(n),h=[];if(a.forEach(([p,g])=>{u.forEach(b=>{(function(w,C){return w===!0||w===C||w instanceof RegExp&&C.match(w)})(p,b)&&function(w,C,E){if(w===!0)return!0;const M=E(C);return w===M||w instanceof RegExp&&!!String(M).match(w)}(g,b,i)&&h.push(b)})}),a.length&&!(h.length<a.length))return h}const rk=function(l){return typeof l=="symbol"||$n(l)&&Nt(l)=="[object Symbol]"};var pQ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fQ=/^\w*$/;const IC=function(l,n){if(un(l))return!1;var i=typeof l;return!(i!="number"&&i!="symbol"&&i!="boolean"&&l!=null&&!rk(l))||fQ.test(l)||!pQ.test(l)||n!=null&&l in Object(n)};function MC(l,n){if(typeof l!="function"||n!=null&&typeof n!="function")throw new TypeError("Expected a function");var i=function(){var a=arguments,u=n?n.apply(this,a):a[0],h=i.cache;if(h.has(u))return h.get(u);var p=l.apply(this,a);return i.cache=h.set(u,p)||h,p};return i.cache=new(MC.Cache||Fb),i}MC.Cache=Fb;const mQ=MC,gQ=function(l){var n=mQ(l,function(a){return i.size===500&&i.clear(),a}),i=n.cache;return n};var bQ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kQ=/\\(\\)?/g,vQ=gQ(function(l){var n=[];return l.charCodeAt(0)===46&&n.push(""),l.replace(bQ,function(i,a,u,h){n.push(u?h.replace(kQ,"$1"):a||i)}),n});const wQ=vQ,yQ=function(l,n){for(var i=-1,a=l==null?0:l.length,u=Array(a);++i<a;)u[i]=n(l[i],i,l);return u};var k5=Zt?Zt.prototype:void 0,v5=k5?k5.toString:void 0;const _Q=function l(n){if(typeof n=="string")return n;if(un(n))return yQ(n,l)+"";if(rk(n))return v5?v5.call(n):"";var i=n+"";return i=="0"&&1/n==-1/0?"-0":i},PC=function(l){return l==null?"":_Q(l)},ok=function(l,n){return un(l)?l:IC(l,n)?[l]:wQ(PC(l))},CQ=function(l){var n=l==null?0:l.length;return n?l[n-1]:void 0},dd=function(l){if(typeof l=="string"||rk(l))return l;var n=l+"";return n=="0"&&1/l==-1/0?"-0":n},NC=function(l,n){for(var i=0,a=(n=ok(n,l)).length;l!=null&&i<a;)l=l[dd(n[i++])];return i&&i==a?l:void 0},w5=function(l,n,i){var a=-1,u=l.length;n<0&&(n=-n>u?0:u+n),(i=i>u?u:i)<0&&(i+=u),u=n>i?0:i-n>>>0,n>>>=0;for(var h=Array(u);++a<u;)h[a]=l[a+n];return h},AQ=function(l,n){return n.length<2?l:NC(l,w5(n,0,-1))},xQ=function(l,n){return n=ok(n,l),(l=AQ(l,n))==null||delete l[dd(CQ(n))]},EQ=function(l,n){return l==null||xQ(l,n)},Up=function(l,n,i){var a=l==null?void 0:NC(l,n);return a===void 0?i:a},SQ=function(l,n,i,a){if(!me(l))return l;for(var u=-1,h=(n=ok(n,l)).length,p=h-1,g=l;g!=null&&++u<h;){var b=dd(n[u]),w=i;if(b==="__proto__"||b==="constructor"||b==="prototype")return l;if(u!=p){var C=g[b];(w=void 0)==void 0&&(w=me(C)?C:Ub(n[u+1])?[]:{})}nC(g,b,w),g=g[b]}return l},DQ=function(l,n,i){return l==null?l:SQ(l,n,i)};class RC{constructor(n){this._styles={},this._styleProcessor=n}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(n){this.clear();const i=function(a){let u=null,h=0,p=0,g=null;const b=new Map;if(a==="")return b;a.charAt(a.length-1)!=";"&&(a+=";");for(let w=0;w<a.length;w++){const C=a.charAt(w);if(u===null)switch(C){case":":g||(g=a.substr(h,w-h),p=w+1);break;case'"':case"'":u=C;break;case";":{const E=a.substr(p,w-p);g&&b.set(g.trim(),E.trim()),g=null,h=w+1;break}}else C===u&&(u=null)}return b}(n);for(const[a,u]of i)this._styleProcessor.toNormalizedForm(a,u,this._styles)}has(n){if(this.isEmpty)return!1;const i=this._styleProcessor.getReducedForm(n,this._styles).find(([a])=>a===n);return Array.isArray(i)}set(n,i){if(me(n))for(const[a,u]of Object.entries(n))this._styleProcessor.toNormalizedForm(a,u,this._styles);else this._styleProcessor.toNormalizedForm(n,i,this._styles)}remove(n){const i=OC(n);EQ(this._styles,i),delete this._styles[n],this._cleanEmptyObjectsOnPath(i)}getNormalized(n){return this._styleProcessor.getNormalized(n,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(n=>n.join(":")).sort().join(";")+";"}getAsString(n){if(this.isEmpty)return;if(this._styles[n]&&!me(this._styles[n]))return this._styles[n];const i=this._styleProcessor.getReducedForm(n,this._styles).find(([a])=>a===n);return Array.isArray(i)?i[1]:void 0}getStyleNames(n=!1){return this.isEmpty?[]:n?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([i])=>i)}clear(){this._styles={}}getStylesEntries(){const n=[],i=Object.keys(this._styles);for(const a of i)n.push(...this._styleProcessor.getReducedForm(a,this._styles));return n}_cleanEmptyObjectsOnPath(n){const i=n.split(".");if(!(i.length>1))return;const a=i.splice(0,i.length-1).join("."),u=Up(this._styles,a);u&&!Object.keys(u).length&&this.remove(a)}}class TQ{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(n,i,a){if(me(i))BC(a,OC(n),i);else if(this._normalizers.has(n)){const u=this._normalizers.get(n),{path:h,value:p}=u(i);BC(a,h,p)}else BC(a,n,i)}getNormalized(n,i){if(!n)return yC({},i);if(i[n]!==void 0)return i[n];if(this._extractors.has(n)){const a=this._extractors.get(n);if(typeof a=="string")return Up(i,a);const u=a(n,i);if(u)return u}return Up(i,OC(n))}getReducedForm(n,i){const a=this.getNormalized(n,i);return a===void 0?[]:this._reducers.has(n)?this._reducers.get(n)(a):[[n,a]]}getStyleNames(n){const i=Array.from(this._consumables.keys()).filter(u=>{const h=this.getNormalized(u,n);return h&&typeof h=="object"?Object.keys(h).length:h}),a=new Set([...i,...Object.keys(n)]);return Array.from(a)}getRelatedStyles(n){return this._consumables.get(n)||[]}setNormalizer(n,i){this._normalizers.set(n,i)}setExtractor(n,i){this._extractors.set(n,i)}setReducer(n,i){this._reducers.set(n,i)}setStyleRelation(n,i){this._mapStyleNames(n,i);for(const a of i)this._mapStyleNames(a,[n])}_mapStyleNames(n,i){this._consumables.has(n)||this._consumables.set(n,[]),this._consumables.get(n).push(...i)}}function OC(l){return l.replace("-",".")}function BC(l,n,i){let a=i;me(i)&&(a=yC({},Up(l,n),i)),DQ(l,n,a)}class qo extends Ic{constructor(n,i,a,u){if(super(n),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=i,this._attrs=function(h){const p=ys(h);for(const[g,b]of p)b===null?p.delete(g):typeof b!="string"&&p.set(g,String(b));return p}(a),this._children=[],u&&this._insertChild(0,u),this._classes=new Set,this._attrs.has("class")){const h=this._attrs.get("class");y5(this._classes,h),this._attrs.delete("class")}this._styles=new RC(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(n){return this._children[n]}getChildIndex(n){return this._children.indexOf(n)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(n){if(n=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(n=="style"){const i=this._styles.toString();return i==""?void 0:i}return this._attrs.get(n)}hasAttribute(n){return n=="class"?this._classes.size>0:n=="style"?!this._styles.isEmpty:this._attrs.has(n)}isSimilar(n){if(!(n instanceof qo))return!1;if(this===n)return!0;if(this.name!=n.name||this._attrs.size!==n._attrs.size||this._classes.size!==n._classes.size||this._styles.size!==n._styles.size)return!1;for(const[i,a]of this._attrs)if(!n._attrs.has(i)||n._attrs.get(i)!==a)return!1;for(const i of this._classes)if(!n._classes.has(i))return!1;for(const i of this._styles.getStyleNames())if(!n._styles.has(i)||n._styles.getAsString(i)!==this._styles.getAsString(i))return!1;return!0}hasClass(...n){for(const i of n)if(!this._classes.has(i))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(n){return this._styles.getAsString(n)}getNormalizedStyle(n){return this._styles.getNormalized(n)}getStyleNames(n){return this._styles.getStyleNames(n)}hasStyle(...n){for(const i of n)if(!this._styles.has(i))return!1;return!0}findAncestor(...n){const i=new Cs(...n);let a=this.parent;for(;a&&!a.is("documentFragment");){if(i.match(a))return a;a=a.parent}return null}getCustomProperty(n){return this._customProperties.get(n)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const n=Array.from(this._classes).sort().join(","),i=this._styles.toString(),a=Array.from(this._attrs).map(u=>`${u[0]}="${u[1]}"`).sort().join(" ");return this.name+(n==""?"":` class="${n}"`)+(i?` style="${i}"`:"")+(a==""?"":` ${a}`)}shouldRenderUnsafeAttribute(n){return this._unsafeAttributesToRender.includes(n)}_clone(n=!1){const i=[];if(n)for(const u of this.getChildren())i.push(u._clone(n));const a=new this.constructor(this.document,this.name,this._attrs,i);return a._classes=new Set(this._classes),a._styles.set(this._styles.getNormalized()),a._customProperties=new Map(this._customProperties),a.getFillerOffset=this.getFillerOffset,a._unsafeAttributesToRender=this._unsafeAttributesToRender,a}_appendChild(n){return this._insertChild(this.childCount,n)}_insertChild(n,i){this._fireChange("children",this);let a=0;const u=function(h,p){return typeof p=="string"?[new dn(h,p)]:(ut(p)||(p=[p]),Array.from(p).map(g=>typeof g=="string"?new dn(h,g):g instanceof _s?new dn(h,g.data):g))}(this.document,i);for(const h of u)h.parent!==null&&h._remove(),h.parent=this,h.document=this.document,this._children.splice(n,0,h),n++,a++;return a}_removeChildren(n,i=1){this._fireChange("children",this);for(let a=n;a<n+i;a++)this._children[a].parent=null;return this._children.splice(n,i)}_setAttribute(n,i){const a=String(i);this._fireChange("attributes",this),n=="class"?y5(this._classes,a):n=="style"?this._styles.setTo(a):this._attrs.set(n,a)}_removeAttribute(n){return this._fireChange("attributes",this),n=="class"?this._classes.size>0&&(this._classes.clear(),!0):n=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(n)}_addClass(n){this._fireChange("attributes",this);for(const i of fn(n))this._classes.add(i)}_removeClass(n){this._fireChange("attributes",this);for(const i of fn(n))this._classes.delete(i)}_setStyle(n,i){this._fireChange("attributes",this),typeof n!="string"?this._styles.set(n):this._styles.set(n,i)}_removeStyle(n){this._fireChange("attributes",this);for(const i of fn(n))this._styles.remove(i)}_setCustomProperty(n,i){this._customProperties.set(n,i)}_removeCustomProperty(n){return this._customProperties.delete(n)}}function y5(l,n){const i=n.split(/\s+/);l.clear(),i.forEach(a=>l.add(a))}qo.prototype.is=function(l,n){return n?n===this.name&&(l==="element"||l==="view:element"):l==="element"||l==="view:element"||l==="node"||l==="view:node"};class Hp extends qo{constructor(n,i,a,u){super(n,i,a,u),this.getFillerOffset=IQ}}function IQ(){const l=[...this.getChildren()],n=l[this.childCount-1];if(n&&n.is("element","br"))return this.childCount;for(const i of l)if(!i.is("uiElement"))return null;return this.childCount}Hp.prototype.is=function(l,n){return n?n===this.name&&(l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"):l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class ik extends be(Hp){constructor(n,i,a,u){super(n,i,a,u),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(n),this.bind("isFocused").to(n,"isFocused",h=>h&&n.selection.editableElement==this),this.listenTo(n.selection,"change",()=>{this.isFocused=n.isFocused&&n.selection.editableElement==this})}destroy(){this.stopListening()}}ik.prototype.is=function(l,n){return n?n===this.name&&(l==="editableElement"||l==="view:editableElement"||l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"):l==="editableElement"||l==="view:editableElement"||l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};const _5=Symbol("rootName");class C5 extends ik{constructor(n,i){super(n,i),this.rootName="main"}get rootName(){return this.getCustomProperty(_5)}set rootName(n){this._setCustomProperty(_5,n)}set _name(n){this.name=n}}C5.prototype.is=function(l,n){return n?n===this.name&&(l==="rootElement"||l==="view:rootElement"||l==="editableElement"||l==="view:editableElement"||l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"):l==="rootElement"||l==="view:rootElement"||l==="editableElement"||l==="view:editableElement"||l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class Mc{constructor(n={}){if(!n.boundaries&&!n.startPosition)throw new R("view-tree-walker-no-start-position",null);if(n.direction&&n.direction!="forward"&&n.direction!="backward")throw new R("view-tree-walker-unknown-direction",n.startPosition,{direction:n.direction});this.boundaries=n.boundaries||null,n.startPosition?this._position=Se._createAt(n.startPosition):this._position=Se._createAt(n.boundaries[n.direction=="backward"?"end":"start"]),this.direction=n.direction||"forward",this.singleCharacters=!!n.singleCharacters,this.shallow=!!n.shallow,this.ignoreElementEnd=!!n.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(n){let i,a;do a=this.position,i=this.next();while(!i.done&&n(i.value));i.done||(this._position=a)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let n=this.position.clone();const i=this.position,a=n.parent;if(a.parent===null&&n.offset===a.childCount)return{done:!0,value:void 0};if(a===this._boundaryEndParent&&n.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let u;if(a instanceof dn){if(n.isAtEnd)return this._position=Se._createAfter(a),this._next();u=a.data[n.offset]}else u=a.getChild(n.offset);if(u instanceof qo){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(n))return{done:!0,value:void 0};n.offset++}else n=new Se(u,0);return this._position=n,this._formatReturnValue("elementStart",u,i,n,1)}if(u instanceof dn){if(this.singleCharacters)return n=new Se(u,0),this._position=n,this._next();let h,p=u.data.length;return u==this._boundaryEndParent?(p=this.boundaries.end.offset,h=new _s(u,0,p),n=Se._createAfter(h)):(h=new _s(u,0,u.data.length),n.offset++),this._position=n,this._formatReturnValue("text",h,i,n,p)}if(typeof u=="string"){let h;this.singleCharacters?h=1:h=(a===this._boundaryEndParent?this.boundaries.end.offset:a.data.length)-n.offset;const p=new _s(a,n.offset,h);return n.offset+=h,this._position=n,this._formatReturnValue("text",p,i,n,h)}return n=Se._createAfter(a),this._position=n,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",a,i,n)}_previous(){let n=this.position.clone();const i=this.position,a=n.parent;if(a.parent===null&&n.offset===0)return{done:!0,value:void 0};if(a==this._boundaryStartParent&&n.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let u;if(a instanceof dn){if(n.isAtStart)return this._position=Se._createBefore(a),this._previous();u=a.data[n.offset-1]}else u=a.getChild(n.offset-1);if(u instanceof qo)return this.shallow?(n.offset--,this._position=n,this._formatReturnValue("elementStart",u,i,n,1)):(n=new Se(u,u.childCount),this._position=n,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",u,i,n));if(u instanceof dn){if(this.singleCharacters)return n=new Se(u,u.data.length),this._position=n,this._previous();let h,p=u.data.length;if(u==this._boundaryStartParent){const g=this.boundaries.start.offset;h=new _s(u,g,u.data.length-g),p=h.data.length,n=Se._createBefore(h)}else h=new _s(u,0,u.data.length),n.offset--;return this._position=n,this._formatReturnValue("text",h,i,n,p)}if(typeof u=="string"){let h;if(this.singleCharacters)h=1;else{const g=a===this._boundaryStartParent?this.boundaries.start.offset:0;h=n.offset-g}n.offset-=h;const p=new _s(a,n.offset,h);return this._position=n,this._formatReturnValue("text",p,i,n,h)}return n=Se._createBefore(a),this._position=n,this._formatReturnValue("elementStart",a,i,n,1)}_formatReturnValue(n,i,a,u,h){return i instanceof _s&&(i.offsetInText+i.data.length==i.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?a=Se._createAfter(i.textNode):(u=Se._createAfter(i.textNode),this._position=u)),i.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?a=Se._createBefore(i.textNode):(u=Se._createBefore(i.textNode),this._position=u))),{done:!1,value:{type:n,item:i,previousPosition:a,nextPosition:u,length:h}}}}class Se extends Tc{constructor(n,i){super(),this.parent=n,this.offset=i}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const n=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===n}get root(){return this.parent.root}get editableElement(){let n=this.parent;for(;!(n instanceof ik);){if(!n.parent)return null;n=n.parent}return n}getShiftedBy(n){const i=Se._createAt(this),a=i.offset+n;return i.offset=a<0?0:a,i}getLastMatchingPosition(n,i={}){i.startPosition=this;const a=new Mc(i);return a.skip(n),a.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(n){const i=this.getAncestors(),a=n.getAncestors();let u=0;for(;i[u]==a[u]&&i[u];)u++;return u===0?null:i[u-1]}isEqual(n){return this.parent==n.parent&&this.offset==n.offset}isBefore(n){return this.compareWith(n)=="before"}isAfter(n){return this.compareWith(n)=="after"}compareWith(n){if(this.root!==n.root)return"different";if(this.isEqual(n))return"same";const i=this.parent.is("node")?this.parent.getPath():[],a=n.parent.is("node")?n.parent.getPath():[];i.push(this.offset),a.push(n.offset);const u=We(i,a);switch(u){case"prefix":return"before";case"extension":return"after";default:return i[u]<a[u]?"before":"after"}}getWalker(n={}){return n.startPosition=this,new Mc(n)}clone(){return new Se(this.parent,this.offset)}static _createAt(n,i){if(n instanceof Se)return new this(n.parent,n.offset);{const a=n;if(i=="end")i=a.is("$text")?a.data.length:a.childCount;else{if(i=="before")return this._createBefore(a);if(i=="after")return this._createAfter(a);if(i!==0&&!i)throw new R("view-createpositionat-offset-required",a)}return new Se(a,i)}}static _createAfter(n){if(n.is("$textProxy"))return new Se(n.textNode,n.offsetInText+n.data.length);if(!n.parent)throw new R("view-position-after-root",n,{root:n});return new Se(n.parent,n.index+1)}static _createBefore(n){if(n.is("$textProxy"))return new Se(n.textNode,n.offsetInText);if(!n.parent)throw new R("view-position-before-root",n,{root:n});return new Se(n.parent,n.index)}}Se.prototype.is=function(l){return l==="position"||l==="view:position"};class lt extends Tc{constructor(n,i=null){super(),this.start=n.clone(),this.end=i?i.clone():n.clone()}*[Symbol.iterator](){yield*new Mc({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let n=this.start.getLastMatchingPosition(sk,{direction:"backward"}),i=this.end.getLastMatchingPosition(sk);return n.parent.is("$text")&&n.isAtStart&&(n=Se._createBefore(n.parent)),i.parent.is("$text")&&i.isAtEnd&&(i=Se._createAfter(i.parent)),new lt(n,i)}getTrimmed(){let n=this.start.getLastMatchingPosition(sk);if(n.isAfter(this.end)||n.isEqual(this.end))return new lt(n,n);let i=this.end.getLastMatchingPosition(sk,{direction:"backward"});const a=n.nodeAfter,u=i.nodeBefore;return a&&a.is("$text")&&(n=new Se(a,0)),u&&u.is("$text")&&(i=new Se(u,u.data.length)),new lt(n,i)}isEqual(n){return this==n||this.start.isEqual(n.start)&&this.end.isEqual(n.end)}containsPosition(n){return n.isAfter(this.start)&&n.isBefore(this.end)}containsRange(n,i=!1){n.isCollapsed&&(i=!1);const a=this.containsPosition(n.start)||i&&this.start.isEqual(n.start),u=this.containsPosition(n.end)||i&&this.end.isEqual(n.end);return a&&u}getDifference(n){const i=[];return this.isIntersecting(n)?(this.containsPosition(n.start)&&i.push(new lt(this.start,n.start)),this.containsPosition(n.end)&&i.push(new lt(n.end,this.end))):i.push(this.clone()),i}getIntersection(n){if(this.isIntersecting(n)){let i=this.start,a=this.end;return this.containsPosition(n.start)&&(i=n.start),this.containsPosition(n.end)&&(a=n.end),new lt(i,a)}return null}getWalker(n={}){return n.boundaries=this,new Mc(n)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let n=this.start.nodeAfter,i=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(n=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(i=this.end.parent.previousSibling),n&&n.is("element")&&n===i?n:null}clone(){return new lt(this.start,this.end)}*getItems(n={}){n.boundaries=this,n.ignoreElementEnd=!0;const i=new Mc(n);for(const a of i)yield a.item}*getPositions(n={}){n.boundaries=this;const i=new Mc(n);yield i.position;for(const a of i)yield a.nextPosition}isIntersecting(n){return this.start.isBefore(n.end)&&this.end.isAfter(n.start)}static _createFromParentsAndOffsets(n,i,a,u){return new this(new Se(n,i),new Se(a,u))}static _createFromPositionAndShift(n,i){const a=n,u=n.getShiftedBy(i);return i>0?new this(a,u):new this(u,a)}static _createIn(n){return this._createFromParentsAndOffsets(n,0,n,n.childCount)}static _createOn(n){const i=n.is("$textProxy")?n.offsetSize:1;return this._createFromPositionAndShift(Se._createBefore(n),i)}}function sk(l){return!(!l.item.is("attributeElement")&&!l.item.is("uiElement"))}lt.prototype.is=function(l){return l==="range"||l==="view:range"};class Qi extends G(Tc){constructor(...n){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",n.length&&this.setTo(...n)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const n=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?n.end:n.start).clone()}get focus(){if(!this._ranges.length)return null;const n=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?n.start:n.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const n of this._ranges)yield n.clone()}getFirstRange(){let n=null;for(const i of this._ranges)n&&!i.start.isBefore(n.start)||(n=i);return n?n.clone():null}getLastRange(){let n=null;for(const i of this._ranges)n&&!i.end.isAfter(n.end)||(n=i);return n?n.clone():null}getFirstPosition(){const n=this.getFirstRange();return n?n.start.clone():null}getLastPosition(){const n=this.getLastRange();return n?n.end.clone():null}isEqual(n){if(this.isFake!=n.isFake||this.isFake&&this.fakeSelectionLabel!=n.fakeSelectionLabel||this.rangeCount!=n.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(n.anchor)||!this.focus.isEqual(n.focus))return!1;for(const i of this._ranges){let a=!1;for(const u of n._ranges)if(i.isEqual(u)){a=!0;break}if(!a)return!1}return!0}isSimilar(n){if(this.isBackward!=n.isBackward)return!1;const i=dt(this.getRanges());if(i!=dt(n.getRanges()))return!1;if(i==0)return!0;for(let a of this.getRanges()){a=a.getTrimmed();let u=!1;for(let h of n.getRanges())if(h=h.getTrimmed(),a.start.isEqual(h.start)&&a.end.isEqual(h.end)){u=!0;break}if(!u)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...n){let[i,a,u]=n;if(typeof a=="object"&&(u=a,a=void 0),i===null)this._setRanges([]),this._setFakeOptions(u);else if(i instanceof Qi||i instanceof LC)this._setRanges(i.getRanges(),i.isBackward),this._setFakeOptions({fake:i.isFake,label:i.fakeSelectionLabel});else if(i instanceof lt)this._setRanges([i],u&&u.backward),this._setFakeOptions(u);else if(i instanceof Se)this._setRanges([new lt(i)]),this._setFakeOptions(u);else if(i instanceof Ic){const h=!!u&&!!u.backward;let p;if(a===void 0)throw new R("view-selection-setto-required-second-parameter",this);p=a=="in"?lt._createIn(i):a=="on"?lt._createOn(i):new lt(Se._createAt(i,a)),this._setRanges([p],h),this._setFakeOptions(u)}else{if(!ut(i))throw new R("view-selection-setto-not-selectable",this);this._setRanges(i,u&&u.backward),this._setFakeOptions(u)}this.fire("change")}setFocus(n,i){if(this.anchor===null)throw new R("view-selection-setfocus-no-ranges",this);const a=Se._createAt(n,i);if(a.compareWith(this.focus)=="same")return;const u=this.anchor;this._ranges.pop(),a.compareWith(u)=="before"?this._addRange(new lt(a,u),!0):this._addRange(new lt(u,a)),this.fire("change")}_setRanges(n,i=!1){n=Array.from(n),this._ranges=[];for(const a of n)this._addRange(a);this._lastRangeBackward=!!i}_setFakeOptions(n={}){this._isFake=!!n.fake,this._fakeSelectionLabel=n.fake&&n.label||""}_addRange(n,i=!1){if(!(n instanceof lt))throw new R("view-selection-add-range-not-range",this);this._pushRange(n),this._lastRangeBackward=!!i}_pushRange(n){for(const i of this._ranges)if(n.isIntersecting(i))throw new R("view-selection-range-intersects",this,{addedRange:n,intersectingRange:i});this._ranges.push(new lt(n.start,n.end))}}Qi.prototype.is=function(l){return l==="selection"||l==="view:selection"};class LC extends G(Tc){constructor(...n){super(),this._selection=new Qi,this._selection.delegate("change").to(this),n.length&&this._selection.setTo(...n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(n){return this._selection.isEqual(n)}isSimilar(n){return this._selection.isSimilar(n)}_setTo(...n){this._selection.setTo(...n)}_setFocus(n,i){this._selection.setFocus(n,i)}}LC.prototype.is=function(l){return l==="selection"||l=="documentSelection"||l=="view:selection"||l=="view:documentSelection"};class hd extends T{constructor(n,i,a){super(n,i),this.startRange=a,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const jC=Symbol("bubbling contexts");function FC(l){return class extends l{fire(n,...i){try{const a=n instanceof T?n:new T(this,n),u=zC(this);if(!u.size)return;if(Wp(a,"capturing",this),pd(u,"$capture",a,...i))return a.return;const h=a.startRange||this.selection.getFirstRange(),p=h?h.getContainedElement():null,g=!!p&&!!A5(u,p);let b=p||function(w){if(!w)return null;const C=w.start.parent,E=w.end.parent,M=C.getPath(),O=E.getPath();return M.length>O.length?C:E}(h);if(Wp(a,"atTarget",b),!g){if(pd(u,"$text",a,...i))return a.return;Wp(a,"bubbling",b)}for(;b;){if(b.is("rootElement")){if(pd(u,"$root",a,...i))return a.return}else if(b.is("element")&&pd(u,b.name,a,...i))return a.return;if(pd(u,b,a,...i))return a.return;b=b.parent,Wp(a,"bubbling",b)}return Wp(a,"bubbling",this),pd(u,"$document",a,...i),a.return}catch(a){R.rethrowUnexpectedError(a,this)}}_addEventListener(n,i,a){const u=fn(a.context||"$document"),h=zC(this);for(const p of u){let g=h.get(p);g||(g=new(G()),h.set(p,g)),this.listenTo(g,n,i,a)}}_removeEventListener(n,i){const a=zC(this);for(const u of a.values())this.stopListening(u,n,i)}}}{const l=FC(Object);["fire","_addEventListener","_removeEventListener"].forEach(n=>{FC[n]=l.prototype[n]})}function Wp(l,n,i){l instanceof hd&&(l._eventPhase=n,l._currentTarget=i)}function pd(l,n,i,...a){const u=typeof n=="string"?l.get(n):A5(l,n);return!!u&&(u.fire(i,...a),i.stop.called)}function A5(l,n){for(const[i,a]of l)if(typeof i=="function"&&i(n))return a;return null}function zC(l){return l[jC]||(l[jC]=new Map),l[jC]}class ak extends FC(be()){constructor(n){super(),this._postFixers=new Set,this.selection=new LC,this.roots=new Ki({idProperty:"rootName"}),this.stylesProcessor=n,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(n="main"){return this.roots.get(n)}registerPostFixer(n){this._postFixers.add(n)}destroy(){this.roots.forEach(n=>n.destroy()),this.stopListening()}_callPostFixers(n){let i=!1;do for(const a of this._postFixers)if(i=a(n),i)break;while(i)}}class Pc extends qo{constructor(n,i,a,u){super(n,i,a,u),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=MQ}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new R("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(n){return this.id!==null||n.id!==null?this.id===n.id:super.isSimilar(n)&&this.priority==n.priority}_clone(n=!1){const i=super._clone(n);return i._priority=this._priority,i._id=this._id,i}}function MQ(){if($C(this))return null;let l=this.parent;for(;l&&l.is("attributeElement");){if($C(l)>1)return null;l=l.parent}return!l||$C(l)>1?null:this.childCount}function $C(l){return Array.from(l.getChildren()).filter(n=>!n.is("uiElement")).length}Pc.DEFAULT_PRIORITY=10,Pc.prototype.is=function(l,n){return n?n===this.name&&(l==="attributeElement"||l==="view:attributeElement"||l==="element"||l==="view:element"):l==="attributeElement"||l==="view:attributeElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class VC extends qo{constructor(n,i,a,u){super(n,i,a,u),this.getFillerOffset=PQ}_insertChild(n,i){if(i&&(i instanceof Ic||Array.from(i).length>0))throw new R("view-emptyelement-cannot-add",[this,i]);return 0}}function PQ(){return null}VC.prototype.is=function(l,n){return n?n===this.name&&(l==="emptyElement"||l==="view:emptyElement"||l==="element"||l==="view:element"):l==="emptyElement"||l==="view:emptyElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class lk extends qo{constructor(n,i,a,u){super(n,i,a,u),this.getFillerOffset=RQ}_insertChild(n,i){if(i&&(i instanceof Ic||Array.from(i).length>0))throw new R("view-uielement-cannot-add",[this,i]);return 0}render(n,i){return this.toDomElement(n)}toDomElement(n){const i=n.createElement(this.name);for(const a of this.getAttributeKeys())i.setAttribute(a,this.getAttribute(a));return i}}function NQ(l){l.document.on("arrowKey",(n,i)=>function(a,u,h){if(u.keyCode==Mt.arrowright){const p=u.domTarget.ownerDocument.defaultView.getSelection(),g=p.rangeCount==1&&p.getRangeAt(0).collapsed;if(g||u.shiftKey){const b=p.focusNode,w=p.focusOffset,C=h.domPositionToView(b,w);if(C===null)return;let E=!1;const M=C.getLastMatchingPosition(O=>(O.item.is("uiElement")&&(E=!0),!(!O.item.is("uiElement")&&!O.item.is("attributeElement"))));if(E){const O=h.viewPositionToDom(M);g?p.collapse(O.parent,O.offset):p.extend(O.parent,O.offset)}}}}(0,i,l.domConverter),{priority:"low"})}function RQ(){return null}lk.prototype.is=function(l,n){return n?n===this.name&&(l==="uiElement"||l==="view:uiElement"||l==="element"||l==="view:element"):l==="uiElement"||l==="view:uiElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class UC extends qo{constructor(n,i,a,u){super(n,i,a,u),this.getFillerOffset=OQ}_insertChild(n,i){if(i&&(i instanceof Ic||Array.from(i).length>0))throw new R("view-rawelement-cannot-add",[this,i]);return 0}render(n,i){}}function OQ(){return null}UC.prototype.is=function(l,n){return n?n===this.name&&(l==="rawElement"||l==="view:rawElement"||l==="element"||l==="view:element"):l==="rawElement"||l==="view:rawElement"||l===this.name||l==="view:"+this.name||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class Nc extends G(Tc){constructor(n,i){super(),this._children=[],this._customProperties=new Map,this.document=n,i&&this._insertChild(0,i)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(n){return this._customProperties.get(n)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(n){return this._insertChild(this.childCount,n)}getChild(n){return this._children[n]}getChildIndex(n){return this._children.indexOf(n)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(n,i){this._fireChange("children",this);let a=0;const u=function(h,p){return typeof p=="string"?[new dn(h,p)]:(ut(p)||(p=[p]),Array.from(p).map(g=>typeof g=="string"?new dn(h,g):g instanceof _s?new dn(h,g.data):g))}(this.document,i);for(const h of u)h.parent!==null&&h._remove(),h.parent=this,this._children.splice(n,0,h),n++,a++;return a}_removeChildren(n,i=1){this._fireChange("children",this);for(let a=n;a<n+i;a++)this._children[a].parent=null;return this._children.splice(n,i)}_fireChange(n,i){this.fire("change:"+n,i)}_setCustomProperty(n,i){this._customProperties.set(n,i)}_removeCustomProperty(n){return this._customProperties.delete(n)}}Nc.prototype.is=function(l){return l==="documentFragment"||l==="view:documentFragment"};class x5{constructor(n){this._cloneGroups=new Map,this._slotFactory=null,this.document=n}setSelection(...n){this.document.selection._setTo(...n)}setSelectionFocus(n,i){this.document.selection._setFocus(n,i)}createDocumentFragment(n){return new Nc(this.document,n)}createText(n){return new dn(this.document,n)}createAttributeElement(n,i,a={}){const u=new Pc(this.document,n,i);return typeof a.priority=="number"&&(u._priority=a.priority),a.id&&(u._id=a.id),a.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),u}createContainerElement(n,i,a={},u={}){let h=null;Cr(a)?u=a:h=a;const p=new Hp(this.document,n,i,h);return u.renderUnsafeAttributes&&p._unsafeAttributesToRender.push(...u.renderUnsafeAttributes),p}createEditableElement(n,i,a={}){const u=new ik(this.document,n,i);return a.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),u}createEmptyElement(n,i,a={}){const u=new VC(this.document,n,i);return a.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),u}createUIElement(n,i,a){const u=new lk(this.document,n,i);return a&&(u.render=a),u}createRawElement(n,i,a,u={}){const h=new UC(this.document,n,i);return a&&(h.render=a),u.renderUnsafeAttributes&&h._unsafeAttributesToRender.push(...u.renderUnsafeAttributes),h}setAttribute(n,i,a){a._setAttribute(n,i)}removeAttribute(n,i){i._removeAttribute(n)}addClass(n,i){i._addClass(n)}removeClass(n,i){i._removeClass(n)}setStyle(n,i,a){Cr(n)&&a===void 0?i._setStyle(n):a._setStyle(n,i)}removeStyle(n,i){i._removeStyle(n)}setCustomProperty(n,i,a){a._setCustomProperty(n,i)}removeCustomProperty(n,i){return i._removeCustomProperty(n)}breakAttributes(n){return n instanceof Se?this._breakAttributes(n):this._breakAttributesRange(n)}breakContainer(n){const i=n.parent;if(!i.is("containerElement"))throw new R("view-writer-break-non-container-element",this.document);if(!i.parent)throw new R("view-writer-break-root",this.document);if(n.isAtStart)return Se._createBefore(i);if(!n.isAtEnd){const a=i._clone(!1);this.insert(Se._createAfter(i),a);const u=new lt(n,Se._createAt(i,"end")),h=new Se(a,0);this.move(u,h)}return Se._createAfter(i)}mergeAttributes(n){const i=n.offset,a=n.parent;if(a.is("$text"))return n;if(a.is("attributeElement")&&a.childCount===0){const p=a.parent,g=a.index;return a._remove(),this._removeFromClonedElementsGroup(a),this.mergeAttributes(new Se(p,g))}const u=a.getChild(i-1),h=a.getChild(i);if(!u||!h)return n;if(u.is("$text")&&h.is("$text"))return S5(u,h);if(u.is("attributeElement")&&h.is("attributeElement")&&u.isSimilar(h)){const p=u.childCount;return u._appendChild(h.getChildren()),h._remove(),this._removeFromClonedElementsGroup(h),this.mergeAttributes(new Se(u,p))}return n}mergeContainers(n){const i=n.nodeBefore,a=n.nodeAfter;if(!(i&&a&&i.is("containerElement")&&a.is("containerElement")))throw new R("view-writer-merge-containers-invalid-position",this.document);const u=i.getChild(i.childCount-1),h=u instanceof dn?Se._createAt(u,"end"):Se._createAt(i,"end");return this.move(lt._createIn(a),Se._createAt(i,"end")),this.remove(lt._createOn(a)),h}insert(n,i){D5(i=ut(i)?[...i]:[i],this.document);const a=i.reduce((p,g)=>{const b=p[p.length-1],w=!g.is("uiElement");return b&&b.breakAttributes==w?b.nodes.push(g):p.push({breakAttributes:w,nodes:[g]}),p},[]);let u=null,h=n;for(const{nodes:p,breakAttributes:g}of a){const b=this._insertNodes(h,p,g);u||(u=b.start),h=b.end}return u?new lt(u,h):new lt(n)}remove(n){const i=n instanceof lt?n:lt._createOn(n);if(qp(i,this.document),i.isCollapsed)return new Nc(this.document);const{start:a,end:u}=this._breakAttributesRange(i,!0),h=a.parent,p=u.offset-a.offset,g=h._removeChildren(a.offset,p);for(const w of g)this._removeFromClonedElementsGroup(w);const b=this.mergeAttributes(a);return i.start=b,i.end=b.clone(),new Nc(this.document,g)}clear(n,i){qp(n,this.document);const a=n.getWalker({direction:"backward",ignoreElementEnd:!0});for(const u of a){const h=u.item;let p;if(h.is("element")&&i.isSimilar(h))p=lt._createOn(h);else if(!u.nextPosition.isAfter(n.start)&&h.is("$textProxy")){const g=h.getAncestors().find(b=>b.is("element")&&i.isSimilar(b));g&&(p=lt._createIn(g))}p&&(p.end.isAfter(n.end)&&(p.end=n.end),p.start.isBefore(n.start)&&(p.start=n.start),this.remove(p))}}move(n,i){let a;if(i.isAfter(n.end)){const u=(i=this._breakAttributes(i,!0)).parent,h=u.childCount;n=this._breakAttributesRange(n,!0),a=this.remove(n),i.offset+=u.childCount-h}else a=this.remove(n);return this.insert(i,a)}wrap(n,i){if(!(i instanceof Pc))throw new R("view-writer-wrap-invalid-attribute",this.document);if(qp(n,this.document),n.isCollapsed){let u=n.start;u.parent.is("element")&&(a=u.parent,!Array.from(a.getChildren()).some(p=>!p.is("uiElement")))&&(u=u.getLastMatchingPosition(p=>p.item.is("uiElement"))),u=this._wrapPosition(u,i);const h=this.document.selection;return h.isCollapsed&&h.getFirstPosition().isEqual(n.start)&&this.setSelection(u),new lt(u)}return this._wrapRange(n,i);var a}unwrap(n,i){if(!(i instanceof Pc))throw new R("view-writer-unwrap-invalid-attribute",this.document);if(qp(n,this.document),n.isCollapsed)return n;const{start:a,end:u}=this._breakAttributesRange(n,!0),h=a.parent,p=this._unwrapChildren(h,a.offset,u.offset,i),g=this.mergeAttributes(p.start);g.isEqual(p.start)||p.end.offset--;const b=this.mergeAttributes(p.end);return new lt(g,b)}rename(n,i){const a=new Hp(this.document,n,i.getAttributes());return this.insert(Se._createAfter(i),a),this.move(lt._createIn(i),Se._createAt(a,0)),this.remove(lt._createOn(i)),a}clearClonedElementsGroup(n){this._cloneGroups.delete(n)}createPositionAt(n,i){return Se._createAt(n,i)}createPositionAfter(n){return Se._createAfter(n)}createPositionBefore(n){return Se._createBefore(n)}createRange(n,i){return new lt(n,i)}createRangeOn(n){return lt._createOn(n)}createRangeIn(n){return lt._createIn(n)}createSelection(...n){return new Qi(...n)}createSlot(n="children"){if(!this._slotFactory)throw new R("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,n)}_registerSlotFactory(n){this._slotFactory=n}_clearSlotFactory(){this._slotFactory=null}_insertNodes(n,i,a){let u,h;if(u=a?HC(n):n.parent.is("$text")?n.parent.parent:n.parent,!u)throw new R("view-writer-invalid-position-container",this.document);h=a?this._breakAttributes(n,!0):n.parent.is("$text")?WC(n):n;const p=u._insertChild(h.offset,i);for(const C of i)this._addToClonedElementsGroup(C);const g=h.getShiftedBy(p),b=this.mergeAttributes(h);b.isEqual(h)||g.offset--;const w=this.mergeAttributes(g);return new lt(b,w)}_wrapChildren(n,i,a,u){let h=i;const p=[];for(;h<a;){const b=n.getChild(h),w=b.is("$text"),C=b.is("attributeElement");if(C&&this._wrapAttributeElement(u,b))p.push(new Se(n,h));else if(w||!C||BQ(u,b)){const E=u._clone();b._remove(),E._appendChild(b),n._insertChild(h,E),this._addToClonedElementsGroup(E),p.push(new Se(n,h))}else this._wrapChildren(b,0,b.childCount,u);h++}let g=0;for(const b of p)b.offset-=g,b.offset!=i&&(this.mergeAttributes(b).isEqual(b)||(g++,a--));return lt._createFromParentsAndOffsets(n,i,n,a)}_unwrapChildren(n,i,a,u){let h=i;const p=[];for(;h<a;){const b=n.getChild(h);if(b.is("attributeElement"))if(b.isSimilar(u)){const w=b.getChildren(),C=b.childCount;b._remove(),n._insertChild(h,w),this._removeFromClonedElementsGroup(b),p.push(new Se(n,h),new Se(n,h+C)),h+=C,a+=C-1}else this._unwrapAttributeElement(u,b)?(p.push(new Se(n,h),new Se(n,h+1)),h++):(this._unwrapChildren(b,0,b.childCount,u),h++);else h++}let g=0;for(const b of p)b.offset-=g,!(b.offset==i||b.offset==a)&&(this.mergeAttributes(b).isEqual(b)||(g++,a--));return lt._createFromParentsAndOffsets(n,i,n,a)}_wrapRange(n,i){const{start:a,end:u}=this._breakAttributesRange(n,!0),h=a.parent,p=this._wrapChildren(h,a.offset,u.offset,i),g=this.mergeAttributes(p.start);g.isEqual(p.start)||p.end.offset--;const b=this.mergeAttributes(p.end);return new lt(g,b)}_wrapPosition(n,i){if(i.isSimilar(n.parent))return E5(n.clone());n.parent.is("$text")&&(n=WC(n));const a=this.createAttributeElement("_wrapPosition-fake-element");a._priority=Number.POSITIVE_INFINITY,a.isSimilar=()=>!1,n.parent._insertChild(n.offset,a);const u=new lt(n,n.getShiftedBy(1));this.wrap(u,i);const h=new Se(a.parent,a.index);a._remove();const p=h.nodeBefore,g=h.nodeAfter;return p instanceof dn&&g instanceof dn?S5(p,g):E5(h)}_wrapAttributeElement(n,i){if(!T5(n,i)||n.name!==i.name||n.priority!==i.priority)return!1;for(const a of n.getAttributeKeys())if(a!=="class"&&a!=="style"&&i.hasAttribute(a)&&i.getAttribute(a)!==n.getAttribute(a))return!1;for(const a of n.getStyleNames())if(i.hasStyle(a)&&i.getStyle(a)!==n.getStyle(a))return!1;for(const a of n.getAttributeKeys())a!=="class"&&a!=="style"&&(i.hasAttribute(a)||this.setAttribute(a,n.getAttribute(a),i));for(const a of n.getStyleNames())i.hasStyle(a)||this.setStyle(a,n.getStyle(a),i);for(const a of n.getClassNames())i.hasClass(a)||this.addClass(a,i);return!0}_unwrapAttributeElement(n,i){if(!T5(n,i)||n.name!==i.name||n.priority!==i.priority)return!1;for(const a of n.getAttributeKeys())if(a!=="class"&&a!=="style"&&(!i.hasAttribute(a)||i.getAttribute(a)!==n.getAttribute(a)))return!1;if(!i.hasClass(...n.getClassNames()))return!1;for(const a of n.getStyleNames())if(!i.hasStyle(a)||i.getStyle(a)!==n.getStyle(a))return!1;for(const a of n.getAttributeKeys())a!=="class"&&a!=="style"&&this.removeAttribute(a,i);return this.removeClass(Array.from(n.getClassNames()),i),this.removeStyle(Array.from(n.getStyleNames()),i),!0}_breakAttributesRange(n,i=!1){const a=n.start,u=n.end;if(qp(n,this.document),n.isCollapsed){const b=this._breakAttributes(n.start,i);return new lt(b,b)}const h=this._breakAttributes(u,i),p=h.parent.childCount,g=this._breakAttributes(a,i);return h.offset+=h.parent.childCount-p,new lt(g,h)}_breakAttributes(n,i=!1){const a=n.offset,u=n.parent;if(n.parent.is("emptyElement"))throw new R("view-writer-cannot-break-empty-element",this.document);if(n.parent.is("uiElement"))throw new R("view-writer-cannot-break-ui-element",this.document);if(n.parent.is("rawElement"))throw new R("view-writer-cannot-break-raw-element",this.document);if(!i&&u.is("$text")&&qC(u.parent)||qC(u))return n.clone();if(u.is("$text"))return this._breakAttributes(WC(n),i);if(a==u.childCount){const h=new Se(u.parent,u.index+1);return this._breakAttributes(h,i)}if(a===0){const h=new Se(u.parent,u.index);return this._breakAttributes(h,i)}{const h=u.index+1,p=u._clone();u.parent._insertChild(h,p),this._addToClonedElementsGroup(p);const g=u.childCount-a,b=u._removeChildren(a,g);p._appendChild(b);const w=new Se(u.parent,h);return this._breakAttributes(w,i)}}_addToClonedElementsGroup(n){if(!n.root.is("rootElement"))return;if(n.is("element"))for(const u of n.getChildren())this._addToClonedElementsGroup(u);const i=n.id;if(!i)return;let a=this._cloneGroups.get(i);a||(a=new Set,this._cloneGroups.set(i,a)),a.add(n),n._clonesGroup=a}_removeFromClonedElementsGroup(n){if(n.is("element"))for(const u of n.getChildren())this._removeFromClonedElementsGroup(u);const i=n.id;if(!i)return;const a=this._cloneGroups.get(i);a&&a.delete(n)}}function HC(l){let n=l.parent;for(;!qC(n);){if(!n)return;n=n.parent}return n}function BQ(l,n){return l.priority<n.priority||!(l.priority>n.priority)&&l.getIdentity()<n.getIdentity()}function E5(l){const n=l.nodeBefore;if(n&&n.is("$text"))return new Se(n,n.data.length);const i=l.nodeAfter;return i&&i.is("$text")?new Se(i,0):l}function WC(l){if(l.offset==l.parent.data.length)return new Se(l.parent.parent,l.parent.index+1);if(l.offset===0)return new Se(l.parent.parent,l.parent.index);const n=l.parent.data.slice(l.offset);return l.parent._data=l.parent.data.slice(0,l.offset),l.parent.parent._insertChild(l.parent.index+1,new dn(l.root.document,n)),new Se(l.parent.parent,l.parent.index+1)}function S5(l,n){const i=l.data.length;return l._data+=n.data,n._remove(),new Se(l,i)}const LQ=[dn,Pc,Hp,VC,UC,lk];function D5(l,n){for(const i of l){if(!LQ.some(a=>i instanceof a))throw new R("view-writer-insert-invalid-node-type",n);i.is("$text")||D5(i.getChildren(),n)}}function qC(l){return l&&(l.is("containerElement")||l.is("documentFragment"))}function qp(l,n){const i=HC(l.start),a=HC(l.end);if(!i||!a||i!==a)throw new R("view-writer-invalid-range-container",n)}function T5(l,n){return l.id===null&&n.id===null}const I5=l=>l.createTextNode(""),M5=l=>{const n=l.createElement("span");return n.dataset.ckeFiller="true",n.innerText="",n},P5=l=>{const n=l.createElement("br");return n.dataset.ckeFiller="true",n},Zi=7,Gp="".repeat(Zi);function Go(l){return typeof l=="string"?l.substr(0,Zi)===Gp:Jn(l)&&l.data.substr(0,Zi)===Gp}function fd(l){return l.data.length==Zi&&Go(l)}function N5(l){const n=typeof l=="string"?l:l.data;return Go(l)?n.slice(Zi):n}function jQ(l,n){if(n.keyCode==Mt.arrowleft){const i=n.domTarget.ownerDocument.defaultView.getSelection();if(i.rangeCount==1&&i.getRangeAt(0).collapsed){const a=i.getRangeAt(0).startContainer,u=i.getRangeAt(0).startOffset;Go(a)&&u<=Zi&&i.collapse(a,0)}}}var R5=s(8264),FQ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(R5.A,FQ),R5.A.locals;class zQ extends be(){constructor(n,i){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=n,this.selection=i,this.set("isFocused",!1),this.set("isSelecting",!1),v.isBlink&&!v.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(n,i){if(n==="text")this.domConverter.mapViewToDom(i.parent)&&this.markedTexts.add(i);else{if(!this.domConverter.mapViewToDom(i))return;if(n==="attributes")this.markedAttributes.add(i);else{if(n!=="children")throw new R("view-renderer-unknown-type",this);this.markedChildren.add(i)}}}render(){if(this.isComposing&&!v.isAndroid)return;let n=null;const i=!(v.isBlink&&!v.isAndroid)||!this.isSelecting;for(const a of this.markedChildren)this._updateChildrenMappings(a);i?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?n=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(n=this.selection.getFirstPosition(),this.markedChildren.add(n.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(n=this.domConverter.domPositionToView(this._inlineFiller),n&&n.parent.is("$text")&&(n=Se._createBefore(n.parent)));for(const a of this.markedAttributes)this._updateAttrs(a);for(const a of this.markedChildren)this._updateChildren(a,{inlineFillerPosition:n});for(const a of this.markedTexts)!this.markedChildren.has(a.parent)&&this.domConverter.mapViewToDom(a.parent)&&this._updateText(a,{inlineFillerPosition:n});if(i)if(n){const a=this.domConverter.viewPositionToDom(n),u=a.parent.ownerDocument;Go(a.parent)?this._inlineFiller=a.parent:this._inlineFiller=O5(u,a.parent,a.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(n){const i=this.domConverter.mapViewToDom(n);if(!i)return;const a=Array.from(i.childNodes),u=Array.from(this.domConverter.viewChildrenToDom(n,{withChildren:!1})),h=this._diffNodeLists(a,u),p=this._findUpdateActions(h,a,u,$Q);if(p.indexOf("update")!==-1){const g={equal:0,insert:0,delete:0};for(const b of p)if(b==="update"){const w=g.equal+g.insert,C=g.equal+g.delete,E=n.getChild(w);!E||E.is("uiElement")||E.is("rawElement")||this._updateElementMappings(E,a[C]),BM(u[w]),g.equal++}else g[b]++}}_updateElementMappings(n,i){this.domConverter.unbindDomElement(i),this.domConverter.bindElements(i,n),this.markedChildren.add(n),this.markedAttributes.add(n)}_getInlineFillerPosition(){const n=this.selection.getFirstPosition();return n.parent.is("$text")?Se._createBefore(n.parent):n}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const n=this.selection.getFirstPosition(),i=this.domConverter.viewPositionToDom(n);return!!(i&&Jn(i.parent)&&Go(i.parent))}_removeInlineFiller(){const n=this._inlineFiller;if(!Go(n))throw new R("view-renderer-filler-was-lost",this);fd(n)?n.remove():n.data=n.data.substr(Zi),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const n=this.selection.getFirstPosition(),i=n.parent,a=n.offset;if(!this.domConverter.mapViewToDom(i.root)||!i.is("element")||!function(p){if(p.getAttribute("contenteditable")=="false")return!1;const g=p.findAncestor(b=>b.hasAttribute("contenteditable"));return!g||g.getAttribute("contenteditable")=="true"}(i))return!1;const u=n.nodeBefore,h=n.nodeAfter;return!(u instanceof dn||h instanceof dn)&&!!(a!==i.getFillerOffset()||u&&u.is("element","br"))&&(!v.isAndroid||!u&&!h)}_updateText(n,i){const a=this.domConverter.findCorrespondingDomText(n);let u=this.domConverter.viewToDom(n).data;const h=i.inlineFillerPosition;h&&h.parent==n.parent&&h.offset==n.index&&(u=Gp+u),B5(a,u)}_updateAttrs(n){const i=this.domConverter.mapViewToDom(n);if(!i)return;const a=Array.from(i.attributes).map(h=>h.name),u=n.getAttributeKeys();for(const h of u)this.domConverter.setDomElementAttribute(i,h,n.getAttribute(h),n);for(const h of a)n.hasAttribute(h)||this.domConverter.removeDomElementAttribute(i,h)}_updateChildren(n,i){const a=this.domConverter.mapViewToDom(n);if(!a)return;if(v.isAndroid){let E=null;for(const M of Array.from(a.childNodes)){if(E&&Jn(E)&&Jn(M)){a.normalize();break}E=M}}const u=i.inlineFillerPosition,h=a.childNodes,p=Array.from(this.domConverter.viewChildrenToDom(n,{bind:!0}));u&&u.parent===n&&O5(a.ownerDocument,p,u.offset);const g=this._diffNodeLists(h,p),b=this._findUpdateActions(g,h,p,VQ);let w=0;const C=new Set;for(const E of b)E==="delete"?(C.add(h[w]),BM(h[w])):E!=="equal"&&E!=="update"||w++;w=0;for(const E of b)E==="insert"?(PM(a,w,p[w]),w++):E==="update"?(B5(h[w],p[w].data),w++):E==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(p[w])),w++);for(const E of C)E.parentNode||this.domConverter.unbindDomElement(E)}_diffNodeLists(n,i){return n=function(a,u){const h=Array.from(a);return h.length==0||!u||h[h.length-1]==u&&h.pop(),h}(n,this._fakeSelectionContainer),S(n,i,UQ.bind(null,this.domConverter))}_findUpdateActions(n,i,a,u){if(n.indexOf("insert")===-1||n.indexOf("delete")===-1)return n;let h=[],p=[],g=[];const b={equal:0,insert:0,delete:0};for(const w of n)w==="insert"?g.push(a[b.equal+b.insert]):w==="delete"?p.push(i[b.equal+b.delete]):(h=h.concat(S(p,g,u).map(C=>C==="equal"?"update":C)),h.push("equal"),p=[],g=[]),b[w]++;return h.concat(S(p,g,u).map(w=>w==="equal"?"update":w))}_markDescendantTextToSync(n){if(n){if(n.is("$text"))this.markedTexts.add(n);else if(n.is("element"))for(const i of n.getChildren())this._markDescendantTextToSync(i)}}_updateSelection(){if(v.isBlink&&!v.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const n=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&n&&(this.selection.isFake?this._updateFakeSelection(n):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(n)):this.isComposing&&v.isAndroid||this._updateDomSelection(n))}_updateFakeSelection(n){const i=n.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(p){const g=p.createElement("div");return g.className="ck-fake-selection-container",Object.assign(g.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),g.textContent="",g}(i));const a=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(a,this.selection),!this._fakeSelectionNeedsUpdate(n))return;a.parentElement&&a.parentElement==n||n.appendChild(a),a.textContent=this.selection.fakeSelectionLabel||"";const u=i.getSelection(),h=i.createRange();u.removeAllRanges(),h.selectNodeContents(a),u.addRange(h)}_updateDomSelection(n){const i=n.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(i))return;const a=this.domConverter.viewPositionToDom(this.selection.anchor),u=this.domConverter.viewPositionToDom(this.selection.focus);i.setBaseAndExtent(a.parent,a.offset,u.parent,u.offset),v.isGecko&&function(h,p){let g=h.parent,b=h.offset;if(Jn(g)&&fd(g)&&(b=Fp(g)+1,g=g.parentNode),g.nodeType!=Node.ELEMENT_NODE||b!=g.childNodes.length-1)return;const w=g.childNodes[b];w&&w.tagName=="BR"&&p.addRange(p.getRangeAt(0))}(u,i)}_domSelectionNeedsUpdate(n){if(!this.domConverter.isDomSelectionCorrect(n))return!0;const i=n&&this.domConverter.domSelectionToView(n);return(!i||!this.selection.isEqual(i))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(i))}_fakeSelectionNeedsUpdate(n){const i=this._fakeSelectionContainer,a=n.ownerDocument.getSelection();return!i||i.parentElement!==n||a.anchorNode!==i&&!i.contains(a.anchorNode)||i.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const n of this.domDocuments){const i=n.getSelection();if(i.rangeCount){const a=n.activeElement,u=this.domConverter.mapDomToView(a);a&&u&&i.removeAllRanges()}}}_removeFakeSelection(){const n=this._fakeSelectionContainer;n&&n.remove()}_updateFocus(){if(this.isFocused){const n=this.selection.editableElement;n&&this.domConverter.focus(n)}}}function O5(l,n,i){const a=n instanceof Array?n:n.childNodes,u=a[i];if(Jn(u))return u.data=Gp+u.data,u;{const h=l.createTextNode(Gp);return Array.isArray(n)?a.splice(i,0,h):PM(n,i,h),h}}function $Q(l,n){return ll(l)&&ll(n)&&!Jn(l)&&!Jn(n)&&!zp(l)&&!zp(n)&&l.tagName.toLowerCase()===n.tagName.toLowerCase()}function VQ(l,n){return ll(l)&&ll(n)&&Jn(l)&&Jn(n)}function UQ(l,n,i){return n===i||(Jn(n)&&Jn(i)?n.data===i.data:!(!l.isBlockFiller(n)||!l.isBlockFiller(i)))}function B5(l,n){const i=l.data;if(i==n)return;const a=y(i,n);for(const u of a)u.type==="insert"?l.insertData(u.index,u.values.join("")):l.deleteData(u.index,u.howMany)}const HQ=P5(m.document),WQ=I5(m.document),qQ=M5(m.document),ck="data-ck-unsafe-attribute-",L5="data-ck-unsafe-element";class uk{constructor(n,{blockFillerMode:i,renderingMode:a="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Cs,this._inlineObjectElementMatcher=new Cs,this._elementsWithTemporaryCustomProperties=new Set,this.document=n,this.renderingMode=a,this.blockFillerMode=i||(a==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?m.document:m.document.implementation.createHTMLDocument("")}bindFakeSelection(n,i){this._fakeSelectionMapping.set(n,new Qi(i))}fakeSelectionToView(n){return this._fakeSelectionMapping.get(n)}bindElements(n,i){this._domToViewMapping.set(n,i),this._viewToDomMapping.set(i,n)}unbindDomElement(n){const i=this._domToViewMapping.get(n);if(i){this._domToViewMapping.delete(n),this._viewToDomMapping.delete(i);for(const a of Array.from(n.children))this.unbindDomElement(a)}}bindDocumentFragments(n,i){this._domToViewMapping.set(n,i),this._viewToDomMapping.set(i,n)}shouldRenderAttribute(n,i,a){return this.renderingMode==="data"||!(n=n.toLowerCase()).startsWith("on")&&(n!=="srcdoc"||!i.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(a==="img"&&(n==="src"||n==="srcset")||a==="source"&&n==="srcset"||!i.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(n,i){if(this.renderingMode==="data")return void(n.innerHTML=i);const a=new DOMParser().parseFromString(i,"text/html"),u=a.createDocumentFragment(),h=a.body.childNodes;for(;h.length>0;)u.appendChild(h[0]);const p=a.createTreeWalker(u,NodeFilter.SHOW_ELEMENT),g=[];let b;for(;b=p.nextNode();)g.push(b);for(const w of g){for(const E of w.getAttributeNames())this.setDomElementAttribute(w,E,w.getAttribute(E));const C=w.tagName.toLowerCase();this._shouldRenameElement(C)&&(z5(C),w.replaceWith(this._createReplacementDomElement(C,w)))}for(;n.firstChild;)n.firstChild.remove();n.append(u)}viewToDom(n,i={}){if(n.is("$text")){const a=this._processDataFromViewText(n);return this._domDocument.createTextNode(a)}{const a=n;if(this.mapViewToDom(a)){if(!a.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(a);this._elementsWithTemporaryCustomProperties.add(a)}let u;if(a.is("documentFragment"))u=this._domDocument.createDocumentFragment(),i.bind&&this.bindDocumentFragments(u,a);else{if(a.is("uiElement"))return u=a.name==="$comment"?this._domDocument.createComment(a.getCustomProperty("$rawContent")):a.render(this._domDocument,this),i.bind&&this.bindElements(u,a),u;this._shouldRenameElement(a.name)?(z5(a.name),u=this._createReplacementDomElement(a.name)):u=a.hasAttribute("xmlns")?this._domDocument.createElementNS(a.getAttribute("xmlns"),a.name):this._domDocument.createElement(a.name),a.is("rawElement")&&a.render(u,this),i.bind&&this.bindElements(u,a);for(const h of a.getAttributeKeys())this.setDomElementAttribute(u,h,a.getAttribute(h),a)}if(i.withChildren!==!1)for(const h of this.viewChildrenToDom(a,i))u instanceof HTMLTemplateElement?u.content.appendChild(h):u.appendChild(h);return u}}setDomElementAttribute(n,i,a,u){const h=this.shouldRenderAttribute(i,a,n.tagName.toLowerCase())||u&&u.shouldRenderUnsafeAttribute(i);h||z("domconverter-unsafe-attribute-detected",{domElement:n,key:i,value:a}),function(p){try{m.document.createAttribute(p)}catch{return!1}return!0}(i)?(n.hasAttribute(i)&&!h?n.removeAttribute(i):n.hasAttribute(ck+i)&&h&&n.removeAttribute(ck+i),n.setAttribute(h?i:ck+i,a)):z("domconverter-invalid-attribute-detected",{domElement:n,key:i,value:a})}removeDomElementAttribute(n,i){i!=L5&&(n.removeAttribute(i),n.removeAttribute(ck+i))}*viewChildrenToDom(n,i={}){const a=n.getFillerOffset&&n.getFillerOffset();let u=0;for(const h of n.getChildren()){a===u&&(yield this._getBlockFiller());const p=h.is("element")&&!!h.getCustomProperty("dataPipeline:transparentRendering")&&!Ar(h.getAttributes());p&&this.renderingMode=="data"?yield*this.viewChildrenToDom(h,i):(p&&z("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:h}),yield this.viewToDom(h,i)),u++}a===u&&(yield this._getBlockFiller())}viewRangeToDom(n){const i=this.viewPositionToDom(n.start),a=this.viewPositionToDom(n.end),u=this._domDocument.createRange();return u.setStart(i.parent,i.offset),u.setEnd(a.parent,a.offset),u}viewPositionToDom(n){const i=n.parent;if(i.is("$text")){const a=this.findCorrespondingDomText(i);if(!a)return null;let u=n.offset;return Go(a)&&(u+=Zi),{parent:a,offset:u}}{let a,u,h;if(n.offset===0){if(a=this.mapViewToDom(i),!a)return null;h=a.childNodes[0]}else{const p=n.nodeBefore;if(u=p.is("$text")?this.findCorrespondingDomText(p):this.mapViewToDom(p),!u)return null;a=u.parentNode,h=u.nextSibling}return Jn(h)&&Go(h)?{parent:h,offset:Zi}:{parent:a,offset:u?Fp(u)+1:0}}}domToView(n,i={}){const a=[],u=this._domToView(n,i,a),h=u.next().value;return h?(u.next(),this._processDomInlineNodes(null,a,i),h.is("$text")&&h.data.length==0?null:h):null}*domChildrenToView(n,i={},a=[]){let u=[];u=n instanceof HTMLTemplateElement?[...n.content.childNodes]:[...n.childNodes];for(let h=0;h<u.length;h++){const p=u[h],g=this._domToView(p,i,a),b=g.next().value;b!==null&&(this._isBlockViewElement(b)&&this._processDomInlineNodes(n,a,i),yield b,g.next())}this._processDomInlineNodes(n,a,i)}domSelectionToView(n){if(function(u){if(!v.isGecko||!u.rangeCount)return!1;const h=u.getRangeAt(0).startContainer;try{Object.prototype.toString.call(h)}catch{return!0}return!1}(n))return new Qi([]);if(n.rangeCount===1){let u=n.getRangeAt(0).startContainer;Jn(u)&&(u=u.parentNode);const h=this.fakeSelectionToView(u);if(h)return h}const i=this.isDomSelectionBackward(n),a=[];for(let u=0;u<n.rangeCount;u++){const h=n.getRangeAt(u),p=this.domRangeToView(h);p&&a.push(p)}return new Qi(a,{backward:i})}domRangeToView(n){const i=this.domPositionToView(n.startContainer,n.startOffset),a=this.domPositionToView(n.endContainer,n.endOffset);return i&&a?new lt(i,a):null}domPositionToView(n,i=0){if(this.isBlockFiller(n))return this.domPositionToView(n.parentNode,Fp(n));const a=this.mapDomToView(n);if(a&&(a.is("uiElement")||a.is("rawElement")))return Se._createBefore(a);if(Jn(n)){if(fd(n))return this.domPositionToView(n.parentNode,Fp(n));const u=this.findCorrespondingViewText(n);let h=i;return u?(Go(n)&&(h-=Zi,h=h<0?0:h),new Se(u,h)):null}if(i===0){const u=this.mapDomToView(n);if(u)return new Se(u,0)}else{const u=n.childNodes[i-1];if(Jn(u)&&fd(u)||u&&this.isBlockFiller(u))return this.domPositionToView(u.parentNode,Fp(u));const h=Jn(u)?this.findCorrespondingViewText(u):this.mapDomToView(u);if(h&&h.parent)return new Se(h.parent,h.index+1)}return null}mapDomToView(n){return this.getHostViewElement(n)||this._domToViewMapping.get(n)}findCorrespondingViewText(n){if(fd(n))return null;const i=this.getHostViewElement(n);if(i)return i;const a=n.previousSibling;if(a){if(!this.isElement(a))return null;const u=this.mapDomToView(a);if(u){const h=u.nextSibling;return h instanceof dn?h:null}}else{const u=this.mapDomToView(n.parentNode);if(u){const h=u.getChild(0);return h instanceof dn?h:null}}return null}mapViewToDom(n){return this._viewToDomMapping.get(n)}findCorrespondingDomText(n){const i=n.previousSibling;return i&&this.mapViewToDom(i)?this.mapViewToDom(i).nextSibling:!i&&n.parent&&this.mapViewToDom(n.parent)?this.mapViewToDom(n.parent).childNodes[0]:null}focus(n){const i=this.mapViewToDom(n);if(i&&i.ownerDocument.activeElement!==i){const{scrollX:a,scrollY:u}=m.window,h=[];j5(i,p=>{const{scrollLeft:g,scrollTop:b}=p;h.push([g,b])}),i.focus(),j5(i,p=>{const[g,b]=h.shift();p.scrollLeft=g,p.scrollTop=b}),m.window.scrollTo(a,u)}}_clearDomSelection(){const n=this.mapViewToDom(this.document.selection.editableElement);if(!n)return;const i=n.ownerDocument.defaultView.getSelection(),a=this.domSelectionToView(i);a&&a.rangeCount>0&&i.removeAllRanges()}isElement(n){return n&&n.nodeType==Node.ELEMENT_NODE}isDocumentFragment(n){return n&&n.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(n){return this.blockFillerMode=="br"?n.isEqualNode(HQ):!(n.tagName!=="BR"||!F5(n,this.blockElements)||n.parentNode.childNodes.length!==1)||n.isEqualNode(qQ)||function(i,a){return i.isEqualNode(WQ)&&F5(i,a)&&i.parentNode.childNodes.length===1}(n,this.blockElements)}isDomSelectionBackward(n){if(n.isCollapsed)return!1;const i=this._domDocument.createRange();try{i.setStart(n.anchorNode,n.anchorOffset),i.setEnd(n.focusNode,n.focusOffset)}catch{return!1}const a=i.collapsed;return i.detach(),a}getHostViewElement(n){const i=function(a){const u=[];let h=a;for(;h&&h.nodeType!=Node.DOCUMENT_NODE;)u.unshift(h),h=h.parentNode;return u}(n);for(i.pop();i.length;){const a=i.pop(),u=this._domToViewMapping.get(a);if(u&&(u.is("uiElement")||u.is("rawElement")))return u}return null}isDomSelectionCorrect(n){return this._isDomSelectionPositionCorrect(n.anchorNode,n.anchorOffset)&&this._isDomSelectionPositionCorrect(n.focusNode,n.focusOffset)}registerRawContentMatcher(n){this._rawContentElementMatcher.add(n)}registerInlineObjectMatcher(n){this._inlineObjectElementMatcher.add(n)}_clearTemporaryCustomProperties(){for(const n of this._elementsWithTemporaryCustomProperties)n._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return I5(this._domDocument);case"markedNbsp":return M5(this._domDocument);case"br":return P5(this._domDocument)}}_isDomSelectionPositionCorrect(n,i){if(Jn(n)&&Go(n)&&i<Zi||this.isElement(n)&&Go(n.childNodes[i]))return!1;const a=this.mapDomToView(n);return!a||!a.is("uiElement")&&!a.is("rawElement")}*_domToView(n,i,a){if(this.isBlockFiller(n))return null;const u=this.getHostViewElement(n);if(u)return u;if(zp(n)&&i.skipComments)return null;if(Jn(n)){if(fd(n))return null;{const h=n.data;if(h==="")return null;const p=new dn(this.document,h);return a.push(p),p}}{let h=this.mapDomToView(n);if(h)return this._isInlineObjectElement(h)&&a.push(h),h;if(this.isDocumentFragment(n))h=new Nc(this.document),i.bind&&this.bindDocumentFragments(n,h);else{h=this._createViewElement(n,i),i.bind&&this.bindElements(n,h);const g=n.attributes;if(g)for(let b=g.length,w=0;w<b;w++)h._setAttribute(g[w].name,g[w].value);if(this._isViewElementWithRawContent(h,i))return h._setCustomProperty("$rawContent",n.innerHTML),this._isBlockViewElement(h)||a.push(h),h;if(zp(n))return h._setCustomProperty("$rawContent",n.data),h}yield h;const p=[];if(i.withChildren!==!1)for(const g of this.domChildrenToView(n,i,p))h._appendChild(g);if(this._isInlineObjectElement(h))a.push(h);else for(const g of p)a.push(g)}}_processDomInlineNodes(n,i,a){if(!i.length||n&&!this.isDocumentFragment(n)&&!this._isBlockDomElement(n))return;let u=!1;for(let h=0;h<i.length;h++){const p=i[h];if(!p.is("$text")){u=!1;continue}let g,b=!1;if(GQ(p,this.preElements))g=N5(p.data);else{g=p.data.replace(/[ \n\t\r]{1,}/g," "),b=/[^\S\u00A0]/.test(g.charAt(g.length-1));const w=h>0?i[h-1]:null,C=h+1<i.length?i[h+1]:null,E=!w||w.is("element")&&w.name=="br"||u,M=!C&&!Go(p.data);a.withChildren!==!1&&(E&&(g=g.replace(/^ /,"")),M&&(g=g.replace(/ $/,""))),g=N5(g),g=g.replace(/ \u00A0/g,"  ");const O=C&&C.is("element")&&C.name!="br",L=C&&C.is("$text")&&C.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(g)||!C||O||L)&&(g=g.replace(/\u00A0$/," ")),(E||w&&w.is("element")&&w.name!="br")&&(g=g.replace(/^\u00A0/," "))}g.length==0&&p.parent?(p._remove(),i.splice(h,1),h--):(p._data=g,u=b)}i.length=0}_processDataFromViewText(n){let i=n.data;if(n.getAncestors().some(a=>this.preElements.includes(a.name)))return i;if(i.charAt(0)==" "){const a=this._getTouchingInlineViewNode(n,!1);!(a&&a.is("$textProxy")&&this._nodeEndsWithSpace(a))&&a||(i=""+i.substr(1))}if(i.charAt(i.length-1)==" "){const a=this._getTouchingInlineViewNode(n,!0),u=a&&a.is("$textProxy")&&a.data.charAt(0)==" ";i.charAt(i.length-2)!=" "&&a&&!u||(i=i.substr(0,i.length-1)+"")}return i.replace(/ {2}/g," ")}_nodeEndsWithSpace(n){if(n.getAncestors().some(a=>this.preElements.includes(a.name)))return!1;const i=this._processDataFromViewText(n);return i.charAt(i.length-1)==" "}_getTouchingInlineViewNode(n,i){const a=new Mc({startPosition:i?Se._createAfter(n):Se._createBefore(n),direction:i?"forward":"backward"});for(const u of a){if(u.item.is("element","br"))return null;if(this._isInlineObjectElement(u.item))return u.item;if(u.item.is("containerElement"))return null;if(u.item.is("$textProxy"))return u.item}return null}_isBlockDomElement(n){return this.isElement(n)&&this.blockElements.includes(n.tagName.toLowerCase())}_isBlockViewElement(n){return n.is("element")&&this.blockElements.includes(n.name)}_isInlineObjectElement(n){return!!n.is("element")&&(n.name=="br"||this.inlineObjectElements.includes(n.name)||!!this._inlineObjectElementMatcher.match(n))}_createViewElement(n,i){if(zp(n))return new lk(this.document,"$comment");const a=i.keepOriginalCase?n.tagName:n.tagName.toLowerCase();return new qo(this.document,a)}_isViewElementWithRawContent(n,i){return i.withChildren!==!1&&n.is("element")&&!!this._rawContentElementMatcher.match(n)}_shouldRenameElement(n){const i=n.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(i)}_createReplacementDomElement(n,i){const a=this._domDocument.createElement("span");if(a.setAttribute(L5,n),i){for(;i.firstChild;)a.appendChild(i.firstChild);for(const u of i.getAttributeNames())a.setAttribute(u,i.getAttribute(u))}return a}}function GQ(l,n){return l.getAncestors().some(i=>i.is("element")&&n.includes(i.name))}function j5(l,n){let i=l;for(;i;)n(i),i=i.parentElement}function F5(l,n){const i=l.parentNode;return!!i&&!!i.tagName&&n.includes(i.tagName.toLowerCase())}function z5(l){l==="script"&&z("domconverter-unsafe-script-element-detected"),l==="style"&&z("domconverter-unsafe-style-element-detected")}class As extends gi(){constructor(n){super(),this._isEnabled=!1,this.view=n,this.document=n.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(n){return n&&n.nodeType===3&&(n=n.parentNode),!(!n||n.nodeType!==1)&&n.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const $5=qM(function(l,n){id(n,ad(n),l)});class md{constructor(n,i,a){this.view=n,this.document=n.document,this.domEvent=i,this.domTarget=i.target,$5(this,a)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class ul extends As{constructor(){super(...arguments),this.useCapture=!1}observe(n){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(i=>{this.listenTo(n,i,(a,u)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(u.target)&&this.onDomEvent(u)},{useCapture:this.useCapture})})}stopObserving(n){this.stopListening(n)}fire(n,i,a){this.isEnabled&&this.document.fire(n,new md(this.view,i,a))}}class KQ extends ul{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(n){const i={keyCode:n.keyCode,altKey:n.altKey,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,metaKey:n.metaKey,get keystroke(){return cd(this)}};this.fire(n.type,n,i)}}const GC=function(){return yt.Date.now()};var YQ=/\s/;const QQ=function(l){for(var n=l.length;n--&&YQ.test(l.charAt(n)););return n};var ZQ=/^\s+/;const JQ=function(l){return l&&l.slice(0,QQ(l)+1).replace(ZQ,"")};var XQ=/^[-+]0x[0-9a-f]+$/i,eZ=/^0b[01]+$/i,tZ=/^0o[0-7]+$/i,nZ=parseInt;const V5=function(l){if(typeof l=="number")return l;if(rk(l))return NaN;if(me(l)){var n=typeof l.valueOf=="function"?l.valueOf():l;l=me(n)?n+"":n}if(typeof l!="string")return l===0?l:+l;l=JQ(l);var i=eZ.test(l);return i||tZ.test(l)?nZ(l.slice(2),i?2:8):XQ.test(l)?NaN:+l};var rZ=Math.max,oZ=Math.min;const gd=function(l,n,i){var a,u,h,p,g,b,w=0,C=!1,E=!1,M=!0;if(typeof l!="function")throw new TypeError("Expected a function");function O(X){var oe=a,le=u;return a=u=void 0,w=X,p=l.apply(le,oe)}function L(X){var oe=X-b;return b===void 0||oe>=n||oe<0||E&&X-w>=h}function F(){var X=GC();if(L(X))return H(X);g=setTimeout(F,function(oe){var le=n-(oe-b);return E?oZ(le,h-(oe-w)):le}(X))}function H(X){return g=void 0,M&&a?O(X):(a=u=void 0,p)}function K(){var X=GC(),oe=L(X);if(a=arguments,u=this,b=X,oe){if(g===void 0)return function(le){return w=le,g=setTimeout(F,n),C?O(le):p}(b);if(E)return clearTimeout(g),g=setTimeout(F,n),O(b)}return g===void 0&&(g=setTimeout(F,n)),p}return n=V5(n)||0,me(i)&&(C=!!i.leading,h=(E="maxWait"in i)?rZ(V5(i.maxWait)||0,n):h,M="trailing"in i?!!i.trailing:M),K.cancel=function(){g!==void 0&&clearTimeout(g),w=0,a=b=u=g=void 0},K.flush=function(){return g===void 0?p:H(GC())},K};class iZ extends As{constructor(n){super(n),this._fireSelectionChangeDoneDebounced=gd(i=>{this.document.fire("selectionChangeDone",i)},200)}observe(){const n=this.document;n.on("arrowKey",(i,a)=>{n.selection.isFake&&this.isEnabled&&a.preventDefault()},{context:"$capture"}),n.on("arrowKey",(i,a)=>{n.selection.isFake&&this.isEnabled&&this._handleSelectionMove(a.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(n){const i=this.document.selection,a=new Qi(i.getRanges(),{backward:i.isBackward,fake:!1});n!=Mt.arrowleft&&n!=Mt.arrowup||a.setTo(a.getFirstPosition()),n!=Mt.arrowright&&n!=Mt.arrowdown||a.setTo(a.getLastPosition());const u={oldSelection:i,newSelection:a,domSelection:null};this.document.fire("selectionChange",u),this._fireSelectionChangeDoneDebounced(u)}}const sZ=function(l){return this.__data__.set(l,"__lodash_hash_undefined__"),this},aZ=function(l){return this.__data__.has(l)};function dk(l){var n=-1,i=l==null?0:l.length;for(this.__data__=new Fb;++n<i;)this.add(l[n])}dk.prototype.add=dk.prototype.push=sZ,dk.prototype.has=aZ;const lZ=dk,cZ=function(l,n){for(var i=-1,a=l==null?0:l.length;++i<a;)if(n(l[i],i,l))return!0;return!1},uZ=function(l,n){return l.has(n)},U5=function(l,n,i,a,u,h){var p=1&i,g=l.length,b=n.length;if(g!=b&&!(p&&b>g))return!1;var w=h.get(l),C=h.get(n);if(w&&C)return w==n&&C==l;var E=-1,M=!0,O=2&i?new lZ:void 0;for(h.set(l,n),h.set(n,l);++E<g;){var L=l[E],F=n[E];if(a)var H=p?a(F,L,E,n,l,h):a(L,F,E,l,n,h);if(H!==void 0){if(H)continue;M=!1;break}if(O){if(!cZ(n,function(K,X){if(!uZ(O,X)&&(L===K||u(L,K,i,a,h)))return O.push(X)})){M=!1;break}}else if(L!==F&&!u(L,F,i,a,h)){M=!1;break}}return h.delete(l),h.delete(n),M},dZ=function(l){var n=-1,i=Array(l.size);return l.forEach(function(a,u){i[++n]=[u,a]}),i},hZ=function(l){var n=-1,i=Array(l.size);return l.forEach(function(a){i[++n]=a}),i};var H5=Zt?Zt.prototype:void 0,KC=H5?H5.valueOf:void 0;const pZ=function(l,n,i,a,u,h,p){switch(i){case"[object DataView]":if(l.byteLength!=n.byteLength||l.byteOffset!=n.byteOffset)return!1;l=l.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(l.byteLength!=n.byteLength||!h(new Wb(l),new Wb(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return mi(+l,+n);case"[object Error]":return l.name==n.name&&l.message==n.message;case"[object RegExp]":case"[object String]":return l==n+"";case"[object Map]":var g=dZ;case"[object Set]":var b=1&a;if(g||(g=hZ),l.size!=n.size&&!b)return!1;var w=p.get(l);if(w)return w==n;a|=2,p.set(l,n);var C=U5(g(l),g(n),a,u,h,p);return p.delete(l),C;case"[object Symbol]":if(KC)return KC.call(l)==KC.call(n)}return!1};var fZ=Object.prototype.hasOwnProperty;const mZ=function(l,n,i,a,u,h){var p=1&i,g=cC(l),b=g.length;if(b!=cC(n).length&&!p)return!1;for(var w=b;w--;){var C=g[w];if(!(p?C in n:fZ.call(n,C)))return!1}var E=h.get(l),M=h.get(n);if(E&&M)return E==n&&M==l;var O=!0;h.set(l,n),h.set(n,l);for(var L=p;++w<b;){var F=l[C=g[w]],H=n[C];if(a)var K=p?a(H,F,C,n,l,h):a(F,H,C,l,n,h);if(!(K===void 0?F===H||u(F,H,i,a,h):K)){O=!1;break}L||(L=C=="constructor")}if(O&&!L){var X=l.constructor,oe=n.constructor;X==oe||!("constructor"in l)||!("constructor"in n)||typeof X=="function"&&X instanceof X&&typeof oe=="function"&&oe instanceof oe||(O=!1)}return h.delete(l),h.delete(n),O};var W5="[object Arguments]",q5="[object Array]",hk="[object Object]",G5=Object.prototype.hasOwnProperty;const gZ=function(l,n,i,a,u,h){var p=un(l),g=un(n),b=p?q5:Lp(l),w=g?q5:Lp(n),C=(b=b==W5?hk:b)==hk,E=(w=w==W5?hk:w)==hk,M=b==w;if(M&&Rp(l)){if(!Rp(n))return!1;p=!0,C=!1}if(M&&!C)return h||(h=new od),p||sC(l)?U5(l,n,i,a,u,h):pZ(l,n,b,i,a,u,h);if(!(1&i)){var O=C&&G5.call(l,"__wrapped__"),L=E&&G5.call(n,"__wrapped__");if(O||L){var F=O?l.value():l,H=L?n.value():n;return h||(h=new od),u(F,H,i,a,h)}}return!!M&&(h||(h=new od),mZ(l,n,i,a,u,h))},pk=function l(n,i,a,u,h){return n===i||(n==null||i==null||!$n(n)&&!$n(i)?n!=n&&i!=i:gZ(n,i,a,u,l,h))},bZ=function(l,n,i){var a=(i=typeof i=="function"?i:void 0)?i(l,n):void 0;return a===void 0?pk(l,n,void 0,i):!!a};class K5 extends As{constructor(n){super(n),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=n.domConverter,this.renderer=n._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(n){this._domElements.add(n),this.isEnabled&&this._mutationObserver.observe(n,this._config)}stopObserving(n){if(this._domElements.delete(n),this.isEnabled){this._mutationObserver.disconnect();for(const i of this._domElements)this._mutationObserver.observe(i,this._config)}}enable(){super.enable();for(const n of this._domElements)this._mutationObserver.observe(n,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(n){if(n.length===0)return;const i=this.domConverter,a=new Set,u=new Set;for(const p of n){const g=i.mapDomToView(p.target);g&&(g.is("uiElement")||g.is("rawElement")||p.type!=="childList"||this._isBogusBrMutation(p)||u.add(g))}for(const p of n){const g=i.mapDomToView(p.target);if((!g||!g.is("uiElement")&&!g.is("rawElement"))&&p.type==="characterData"){const b=i.findCorrespondingViewText(p.target);b&&!u.has(b.parent)?a.add(b):!b&&Go(p.target)&&u.add(i.mapDomToView(p.target.parentNode))}}let h=!1;for(const p of a)h=!0,this.renderer.markToSync("text",p);for(const p of u){const g=i.mapViewToDom(p),b=Array.from(p.getChildren()),w=Array.from(i.domChildrenToView(g,{withChildren:!1}));bZ(b,w,kZ)||(h=!0,this.renderer.markToSync("children",p))}h&&this.view.forceRender()}_isBogusBrMutation(n){let i=null;return n.nextSibling===null&&n.removedNodes.length===0&&n.addedNodes.length==1&&(i=this.domConverter.domToView(n.addedNodes[0],{withChildren:!1})),i&&i.is("element","br")}}function kZ(l,n){if(!Array.isArray(l))return l===n||!(!l.is("$text")||!n.is("$text"))&&l.data===n.data}class fk extends ul{constructor(n){super(n),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const i=this.document;i.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),n.change(()=>{})},50)}),i.on("blur",(a,u)=>{const h=i.selection.editableElement;h!==null&&h!==u.target||(i.isFocused=!1,this._isFocusChanging=!1,n.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(n){this.fire(n.type,n)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class vZ extends As{constructor(n){super(n),this.mutationObserver=n.getObserver(K5),this.focusObserver=n.getObserver(fk),this.selection=this.document.selection,this.domConverter=n.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=gd(i=>{this.document.fire("selectionChangeDone",i)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=gd(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(n){const i=n.ownerDocument,a=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,i),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(n,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(n,"keydown",a,{priority:"highest",useCapture:!0}),this.listenTo(n,"keyup",a,{priority:"highest",useCapture:!0}),this._documents.has(i)||(this.listenTo(i,"mouseup",a,{priority:"highest",useCapture:!0}),this.listenTo(i,"selectionchange",(u,h)=>{this.document.isComposing&&!v.isAndroid||(this._handleSelectionChange(h,i),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(i))}stopObserving(n){this.stopListening(n)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(n,i){if(!this.isEnabled)return;const a=i.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(a.anchorNode))return;this.mutationObserver.flush();const u=this.domConverter.domSelectionToView(a);if(u.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(u)||!this.domConverter.isDomSelectionCorrect(a))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(u))this.view.forceRender();else{const h={oldSelection:this.selection,newSelection:u,domSelection:a};this.document.fire("selectionChange",h),this._fireSelectionChangeDoneDebounced(h)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class wZ extends ul{constructor(n){super(n),this.domEventType=["compositionstart","compositionupdate","compositionend"];const i=this.document;i.on("compositionstart",()=>{i.isComposing=!0},{priority:"low"}),i.on("compositionend",()=>{i.isComposing=!1},{priority:"low"})}onDomEvent(n){this.fire(n.type,n,{data:n.data})}}class Y5{constructor(n,i={}){this._files=i.cacheFiles?Q5(n):null,this._native=n}get files(){return this._files||(this._files=Q5(this._native)),this._files}get types(){return this._native.types}getData(n){return this._native.getData(n)}setData(n,i){this._native.setData(n,i)}set effectAllowed(n){this._native.effectAllowed=n}get effectAllowed(){return this._native.effectAllowed}set dropEffect(n){this._native.dropEffect=n}get dropEffect(){return this._native.dropEffect}setDragImage(n,i,a){this._native.setDragImage(n,i,a)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function Q5(l){const n=Array.from(l.files||[]),i=Array.from(l.items||[]);return n.length?n:i.filter(a=>a.kind==="file").map(a=>a.getAsFile())}class yZ extends ul{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(n){const i=n.getTargetRanges(),a=this.view,u=a.document;let h=null,p=null,g=[];if(n.dataTransfer&&(h=new Y5(n.dataTransfer)),n.data!==null?p=n.data:h&&(p=h.getData("text/plain")),u.selection.isFake)g=Array.from(u.selection.getRanges());else if(i.length)g=i.map(b=>{const w=a.domConverter.domPositionToView(b.startContainer,b.startOffset),C=a.domConverter.domPositionToView(b.endContainer,b.endOffset);return w?a.createRange(w,C):C?a.createRange(C):void 0}).filter(b=>!!b);else if(v.isAndroid){const b=n.target.ownerDocument.defaultView.getSelection();g=Array.from(a.domConverter.domSelectionToView(b).getRanges())}if(v.isAndroid&&n.inputType=="insertCompositionText"&&p&&p.endsWith(`
`))this.fire(n.type,n,{inputType:"insertParagraph",targetRanges:[a.createRange(g[0].end)]});else if(n.inputType=="insertText"&&p&&p.includes(`
`)){const b=p.split(/\n{1,2}/g);let w=g;for(let C=0;C<b.length;C++){const E=b[C];E!=""&&(this.fire(n.type,n,{data:E,dataTransfer:h,targetRanges:w,inputType:n.inputType,isComposing:n.isComposing}),w=[u.selection.getFirstRange()]),C+1<b.length&&(this.fire(n.type,n,{inputType:"insertParagraph",targetRanges:w}),w=[u.selection.getFirstRange()])}}else this.fire(n.type,n,{data:p,dataTransfer:h,targetRanges:g,inputType:n.inputType,isComposing:n.isComposing})}}class _Z extends As{constructor(n){super(n),this.document.on("keydown",(i,a)=>{if(this.isEnabled&&((u=a.keyCode)==Mt.arrowright||u==Mt.arrowleft||u==Mt.arrowup||u==Mt.arrowdown)){const h=new hd(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(h,a),h.stop.called&&i.stop()}var u})}observe(){}stopObserving(){}}class CZ extends As{constructor(n){super(n);const i=this.document;i.on("keydown",(a,u)=>{if(!this.isEnabled||u.keyCode!=Mt.tab||u.ctrlKey)return;const h=new hd(i,"tab",i.selection.getFirstRange());i.fire(h,u),h.stop.called&&a.stop()})}observe(){}stopObserving(){}}const Ji=function(l){return mC(l,5)};class AZ extends be(){constructor(n){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new ak(n),this.domConverter=new uk(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new zQ(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new x5(this.document),this.addObserver(K5),this.addObserver(fk),this.addObserver(vZ),this.addObserver(KQ),this.addObserver(iZ),this.addObserver(wZ),this.addObserver(_Z),this.addObserver(yZ),this.addObserver(CZ),this.document.on("arrowKey",jQ,{priority:"low"}),NQ(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),v.isiOS&&this.listenTo(this.document,"blur",(i,a)=>{this.domConverter.mapDomToView(a.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(n,i="main"){const a=this.document.getRoot(i);a._name=n.tagName.toLowerCase();const u={};for(const{name:p,value:g}of Array.from(n.attributes))u[p]=g,p==="class"?this._writer.addClass(g.split(" "),a):this._writer.setAttribute(p,g,a);this._initialDomRootAttributes.set(n,u);const h=()=>{this._writer.setAttribute("contenteditable",(!a.isReadOnly).toString(),a),a.isReadOnly?this._writer.addClass("ck-read-only",a):this._writer.removeClass("ck-read-only",a)};h(),this.domRoots.set(i,n),this.domConverter.bindElements(n,a),this._renderer.markToSync("children",a),this._renderer.markToSync("attributes",a),this._renderer.domDocuments.add(n.ownerDocument),a.on("change:children",(p,g)=>this._renderer.markToSync("children",g)),a.on("change:attributes",(p,g)=>this._renderer.markToSync("attributes",g)),a.on("change:text",(p,g)=>this._renderer.markToSync("text",g)),a.on("change:isReadOnly",()=>this.change(h)),a.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const p of this._observers.values())p.observe(n,i)}detachDomRoot(n){const i=this.domRoots.get(n);Array.from(i.attributes).forEach(({name:u})=>i.removeAttribute(u));const a=this._initialDomRootAttributes.get(i);for(const u in a)i.setAttribute(u,a[u]);this.domRoots.delete(n),this.domConverter.unbindDomElement(i);for(const u of this._observers.values())u.stopObserving(i)}getDomRoot(n="main"){return this.domRoots.get(n)}addObserver(n){let i=this._observers.get(n);if(i)return i;i=new n(this),this._observers.set(n,i);for(const[a,u]of this.domRoots)i.observe(u,a);return i.enable(),i}getObserver(n){return this._observers.get(n)}disableObservers(){for(const n of this._observers.values())n.disable()}enableObservers(){for(const n of this._observers.values())n.enable()}scrollToTheSelection({alignToTop:n,forceScroll:i,viewportOffset:a=20,ancestorOffset:u=20}={}){const h=this.document.selection.getFirstRange();if(!h)return;const p=Ji({alignToTop:n,forceScroll:i,viewportOffset:a,ancestorOffset:u});typeof a=="number"&&(a={top:a,bottom:a,left:a,right:a});const g={target:this.domConverter.viewRangeToDom(h),viewportOffset:a,ancestorOffset:u,alignToTop:n,forceScroll:i};this.fire("scrollToTheSelection",g,p),function({target:b,viewportOffset:w=0,ancestorOffset:C=0,alignToTop:E,forceScroll:M}){const O=kC(b);let L=O,F=null;for(w=function(H){return typeof H=="number"?{top:H,bottom:H,left:H,right:H}:H}(w);L;){let H;H=PY(L==O?b:F),MY({parent:H,getRect:()=>$M(b,L),alignToTop:E,ancestorOffset:C,forceScroll:M});const K=$M(b,L);if(IY({window:L,rect:K,viewportOffset:w,alignToTop:E,forceScroll:M}),L.parent!=L){if(F=L.frameElement,L=L.parent,!F)return}else L=null}}(g)}focus(){if(!this.document.isFocused){const n=this.document.selection.editableElement;n&&(this.domConverter.focus(n),this.forceRender())}}change(n){if(this.isRenderingInProgress||this._postFixersInProgress)throw new R("cannot-change-view-tree",this);try{if(this._ongoingChange)return n(this._writer);this._ongoingChange=!0;const i=n(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),i}catch(i){R.rethrowUnexpectedError(i,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(fk).flush(),this.change(()=>{})}destroy(){for(const n of this._observers.values())n.destroy();this.document.destroy(),this.stopListening()}createPositionAt(n,i){return Se._createAt(n,i)}createPositionAfter(n){return Se._createAfter(n)}createPositionBefore(n){return Se._createBefore(n)}createRange(n,i){return new lt(n,i)}createRangeOn(n){return lt._createOn(n)}createRangeIn(n){return lt._createIn(n)}createSelection(...n){return new Qi(...n)}_disableRendering(n){this._renderingDisabled=n,n==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class dl{is(){throw new Error("is() method is abstract")}}class Rc extends dl{constructor(n){super(),this.parent=null,this._attrs=ys(n)}get document(){return null}get index(){let n;if(!this.parent)return null;if((n=this.parent.getChildIndex(this))===null)throw new R("model-node-not-found-in-parent",this);return n}get startOffset(){let n;if(!this.parent)return null;if((n=this.parent.getChildStartOffset(this))===null)throw new R("model-node-not-found-in-parent",this);return n}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const n=this.index;return n!==null&&this.parent.getChild(n+1)||null}get previousSibling(){const n=this.index;return n!==null&&this.parent.getChild(n-1)||null}get root(){let n=this;for(;n.parent;)n=n.parent;return n}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const n=[];let i=this;for(;i.parent;)n.unshift(i.startOffset),i=i.parent;return n}getAncestors(n={}){const i=[];let a=n.includeSelf?this:this.parent;for(;a;)i[n.parentFirst?"push":"unshift"](a),a=a.parent;return i}getCommonAncestor(n,i={}){const a=this.getAncestors(i),u=n.getAncestors(i);let h=0;for(;a[h]==u[h]&&a[h];)h++;return h===0?null:a[h-1]}isBefore(n){if(this==n||this.root!==n.root)return!1;const i=this.getPath(),a=n.getPath(),u=We(i,a);switch(u){case"prefix":return!0;case"extension":return!1;default:return i[u]<a[u]}}isAfter(n){return this!=n&&this.root===n.root&&!this.isBefore(n)}hasAttribute(n){return this._attrs.has(n)}getAttribute(n){return this._attrs.get(n)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const n={};return this._attrs.size&&(n.attributes=Array.from(this._attrs).reduce((i,a)=>(i[a[0]]=a[1],i),{})),n}_clone(n){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(n,i){this._attrs.set(n,i)}_setAttributesTo(n){this._attrs=ys(n)}_removeAttribute(n){return this._attrs.delete(n)}_clearAttributes(){this._attrs.clear()}}Rc.prototype.is=function(l){return l==="node"||l==="model:node"};class Kp{constructor(n){this._nodes=[],n&&this._insertNodes(0,n)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((n,i)=>n+i.offsetSize,0)}getNode(n){return this._nodes[n]||null}getNodeIndex(n){const i=this._nodes.indexOf(n);return i==-1?null:i}getNodeStartOffset(n){const i=this.getNodeIndex(n);return i===null?null:this._nodes.slice(0,i).reduce((a,u)=>a+u.offsetSize,0)}indexToOffset(n){if(n==this._nodes.length)return this.maxOffset;const i=this._nodes[n];if(!i)throw new R("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(i)}offsetToIndex(n){let i=0;for(const a of this._nodes){if(n>=i&&n<i+a.offsetSize)return this.getNodeIndex(a);i+=a.offsetSize}if(i!=n)throw new R("model-nodelist-offset-out-of-bounds",this,{offset:n,nodeList:this});return this.length}_insertNodes(n,i){for(const a of i)if(!(a instanceof Rc))throw new R("model-nodelist-insertnodes-not-node",this);this._nodes=function(a,u,h,p){if(Math.max(u.length,a.length)>1e4)return a.slice(0,h).concat(u).concat(a.slice(h+p,a.length));{const g=Array.from(a);return g.splice(h,p,...u),g}}(this._nodes,Array.from(i),n,0)}_removeNodes(n,i=1){return this._nodes.splice(n,i)}toJSON(){return this._nodes.map(n=>n.toJSON())}}class hn extends Rc{constructor(n,i){super(i),this._data=n||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const n=super.toJSON();return n.data=this.data,n}_clone(){return new hn(this.data,this.getAttributes())}static fromJSON(n){return new hn(n.data,n.attributes)}}hn.prototype.is=function(l){return l==="$text"||l==="model:$text"||l==="text"||l==="model:text"||l==="node"||l==="model:node"};class Xi extends dl{constructor(n,i,a){if(super(),this.textNode=n,i<0||i>n.offsetSize)throw new R("model-textproxy-wrong-offsetintext",this);if(a<0||i+a>n.offsetSize)throw new R("model-textproxy-wrong-length",this);this.data=n.data.substring(i,i+a),this.offsetInText=i}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const n=this.textNode.getPath();return n.length>0&&(n[n.length-1]+=this.offsetInText),n}getAncestors(n={}){const i=[];let a=n.includeSelf?this:this.parent;for(;a;)i[n.parentFirst?"push":"unshift"](a),a=a.parent;return i}hasAttribute(n){return this.textNode.hasAttribute(n)}getAttribute(n){return this.textNode.getAttribute(n)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Xi.prototype.is=function(l){return l==="$textProxy"||l==="model:$textProxy"||l==="textProxy"||l==="model:textProxy"};class Jt extends Rc{constructor(n,i,a){super(i),this._children=new Kp,this.name=n,a&&this._insertChild(0,a)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(n){return this._children.getNode(n)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(n){return this._children.getNodeIndex(n)}getChildStartOffset(n){return this._children.getNodeStartOffset(n)}offsetToIndex(n){return this._children.offsetToIndex(n)}getNodeByPath(n){let i=this;for(const a of n)i=i.getChild(i.offsetToIndex(a));return i}findAncestor(n,i={}){let a=i.includeSelf?this:this.parent;for(;a;){if(a.name===n)return a;a=a.parent}return null}toJSON(){const n=super.toJSON();if(n.name=this.name,this._children.length>0){n.children=[];for(const i of this._children)n.children.push(i.toJSON())}return n}_clone(n=!1){const i=n?Array.from(this._children).map(a=>a._clone(!0)):void 0;return new Jt(this.name,this.getAttributes(),i)}_appendChild(n){this._insertChild(this.childCount,n)}_insertChild(n,i){const a=function(u){return typeof u=="string"?[new hn(u)]:(ut(u)||(u=[u]),Array.from(u).map(h=>typeof h=="string"?new hn(h):h instanceof Xi?new hn(h.data,h.getAttributes()):h))}(i);for(const u of a)u.parent!==null&&u._remove(),u.parent=this;this._children._insertNodes(n,a)}_removeChildren(n,i=1){const a=this._children._removeNodes(n,i);for(const u of a)u.parent=null;return a}static fromJSON(n){let i;if(n.children){i=[];for(const a of n.children)a.name?i.push(Jt.fromJSON(a)):i.push(hn.fromJSON(a))}return new Jt(n.name,n.attributes,i)}}Jt.prototype.is=function(l,n){return n?n===this.name&&(l==="element"||l==="model:element"):l==="element"||l==="model:element"||l==="node"||l==="model:node"};class ha{constructor(n){if(!n||!n.boundaries&&!n.startPosition)throw new R("model-tree-walker-no-start-position",null);const i=n.direction||"forward";if(i!="forward"&&i!="backward")throw new R("model-tree-walker-unknown-direction",n,{direction:i});this.direction=i,this.boundaries=n.boundaries||null,n.startPosition?this._position=n.startPosition.clone():this._position=de._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!n.singleCharacters,this.shallow=!!n.shallow,this.ignoreElementEnd=!!n.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(n){let i,a,u,h;do u=this.position,h=this._visitedParent,{done:i,value:a}=this.next();while(!i&&n(a));i||(this._position=u,this._visitedParent=h)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const n=this.position,i=this.position.clone(),a=this._visitedParent;if(a.parent===null&&i.offset===a.maxOffset)return{done:!0,value:void 0};if(a===this._boundaryEndParent&&i.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const u=Yp(i,a),h=u||Z5(i,a,u);if(h instanceof Jt){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(i))return{done:!0,value:void 0};i.offset++}else i.path.push(0),this._visitedParent=h;return this._position=i,Oc("elementStart",h,n,i,1)}if(h instanceof hn){let p;if(this.singleCharacters)p=1;else{let w=h.endOffset;this._boundaryEndParent==a&&this.boundaries.end.offset<w&&(w=this.boundaries.end.offset),p=w-i.offset}const g=i.offset-h.startOffset,b=new Xi(h,g,p);return i.offset+=p,this._position=i,Oc("text",b,n,i,p)}return i.path.pop(),i.offset++,this._position=i,this._visitedParent=a.parent,this.ignoreElementEnd?this._next():Oc("elementEnd",a,n,i)}_previous(){const n=this.position,i=this.position.clone(),a=this._visitedParent;if(a.parent===null&&i.offset===0)return{done:!0,value:void 0};if(a==this._boundaryStartParent&&i.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const u=i.parent,h=Yp(i,u),p=h||J5(i,u,h);if(p instanceof Jt)return i.offset--,this.shallow?(this._position=i,Oc("elementStart",p,n,i,1)):(i.path.push(p.maxOffset),this._position=i,this._visitedParent=p,this.ignoreElementEnd?this._previous():Oc("elementEnd",p,n,i));if(p instanceof hn){let g;if(this.singleCharacters)g=1;else{let C=p.startOffset;this._boundaryStartParent==a&&this.boundaries.start.offset>C&&(C=this.boundaries.start.offset),g=i.offset-C}const b=i.offset-p.startOffset,w=new Xi(p,b-g,g);return i.offset-=g,this._position=i,Oc("text",w,n,i,g)}return i.path.pop(),this._position=i,this._visitedParent=a.parent,Oc("elementStart",a,n,i,1)}}function Oc(l,n,i,a,u){return{done:!1,value:{type:l,item:n,previousPosition:i,nextPosition:a,length:u}}}class de extends dl{constructor(n,i,a="toNone"){if(super(),!n.is("element")&&!n.is("documentFragment"))throw new R("model-position-root-invalid",n);if(!(i instanceof Array)||i.length===0)throw new R("model-position-path-incorrect-format",n,{path:i});n.is("rootElement")?i=i.slice():(i=[...n.getPath(),...i],n=n.root),this.root=n,this.path=i,this.stickiness=a}get offset(){return this.path[this.path.length-1]}set offset(n){this.path[this.path.length-1]=n}get parent(){let n=this.root;for(let i=0;i<this.path.length-1;i++)if(n=n.getChild(n.offsetToIndex(this.path[i])),!n)throw new R("model-position-path-incorrect",this,{position:this});if(n.is("$text"))throw new R("model-position-path-incorrect",this,{position:this});return n}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Yp(this,this.parent)}get nodeAfter(){const n=this.parent;return Z5(this,n,Yp(this,n))}get nodeBefore(){const n=this.parent;return J5(this,n,Yp(this,n))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(n){if(this.root!=n.root)return"different";const i=We(this.path,n.path);switch(i){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[i]<n.path[i]?"before":"after"}}getLastMatchingPosition(n,i={}){i.startPosition=this;const a=new ha(i);return a.skip(n),a.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const n=this.parent;return n.is("documentFragment")?[n]:n.getAncestors({includeSelf:!0})}findAncestor(n){const i=this.parent;return i.is("element")?i.findAncestor(n,{includeSelf:!0}):null}getCommonPath(n){if(this.root!=n.root)return[];const i=We(this.path,n.path),a=typeof i=="string"?Math.min(this.path.length,n.path.length):i;return this.path.slice(0,a)}getCommonAncestor(n){const i=this.getAncestors(),a=n.getAncestors();let u=0;for(;i[u]==a[u]&&i[u];)u++;return u===0?null:i[u-1]}getShiftedBy(n){const i=this.clone(),a=i.offset+n;return i.offset=a<0?0:a,i}isAfter(n){return this.compareWith(n)=="after"}isBefore(n){return this.compareWith(n)=="before"}isEqual(n){return this.compareWith(n)=="same"}isTouching(n){if(this.root!==n.root)return!1;const i=Math.min(this.path.length,n.path.length);for(let a=0;a<i;a++){const u=this.path[a]-n.path[a];if(u<-1||u>1)return!1;if(u===1)return X5(n,this,a);if(u===-1)return X5(this,n,a)}return this.path.length===n.path.length||(this.path.length>n.path.length?YC(this.path,i):YC(n.path,i))}hasSameParentAs(n){return this.root!==n.root?!1:We(this.getParentPath(),n.getParentPath())=="same"}getTransformedByOperation(n){let i;switch(n.type){case"insert":i=this._getTransformedByInsertOperation(n);break;case"move":case"remove":case"reinsert":i=this._getTransformedByMoveOperation(n);break;case"split":i=this._getTransformedBySplitOperation(n);break;case"merge":i=this._getTransformedByMergeOperation(n);break;default:i=de._createAt(this)}return i}_getTransformedByInsertOperation(n){return this._getTransformedByInsertion(n.position,n.howMany)}_getTransformedByMoveOperation(n){return this._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany)}_getTransformedBySplitOperation(n){const i=n.movedRange;return i.containsPosition(this)||i.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(n.splitPosition,n.moveTargetPosition):n.graveyardPosition?this._getTransformedByMove(n.graveyardPosition,n.insertionPosition,1):this._getTransformedByInsertion(n.insertionPosition,1)}_getTransformedByMergeOperation(n){const i=n.movedRange;let a;return i.containsPosition(this)||i.start.isEqual(this)?(a=this._getCombined(n.sourcePosition,n.targetPosition),n.sourcePosition.isBefore(n.targetPosition)&&(a=a._getTransformedByDeletion(n.deletionPosition,1))):a=this.isEqual(n.deletionPosition)?de._createAt(n.deletionPosition):this._getTransformedByMove(n.deletionPosition,n.graveyardPosition,1),a}_getTransformedByDeletion(n,i){const a=de._createAt(this);if(this.root!=n.root)return a;if(We(n.getParentPath(),this.getParentPath())=="same"){if(n.offset<this.offset){if(n.offset+i>this.offset)return null;a.offset-=i}}else if(We(n.getParentPath(),this.getParentPath())=="prefix"){const u=n.path.length-1;if(n.offset<=this.path[u]){if(n.offset+i>this.path[u])return null;a.path[u]-=i}}return a}_getTransformedByInsertion(n,i){const a=de._createAt(this);if(this.root!=n.root)return a;if(We(n.getParentPath(),this.getParentPath())=="same")(n.offset<this.offset||n.offset==this.offset&&this.stickiness!="toPrevious")&&(a.offset+=i);else if(We(n.getParentPath(),this.getParentPath())=="prefix"){const u=n.path.length-1;n.offset<=this.path[u]&&(a.path[u]+=i)}return a}_getTransformedByMove(n,i,a){if(i=i._getTransformedByDeletion(n,a),n.isEqual(i))return de._createAt(this);const u=this._getTransformedByDeletion(n,a);return u===null||n.isEqual(this)&&this.stickiness=="toNext"||n.getShiftedBy(a).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(n,i):u._getTransformedByInsertion(i,a)}_getCombined(n,i){const a=n.path.length-1,u=de._createAt(i);return u.stickiness=this.stickiness,u.offset=u.offset+this.path[a]-n.offset,u.path=[...u.path,...this.path.slice(a+1)],u}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(n,i,a="toNone"){if(n instanceof de)return new de(n.root,n.path,n.stickiness);{const u=n;if(i=="end")i=u.maxOffset;else{if(i=="before")return this._createBefore(u,a);if(i=="after")return this._createAfter(u,a);if(i!==0&&!i)throw new R("model-createpositionat-offset-required",[this,n])}if(!u.is("element")&&!u.is("documentFragment"))throw new R("model-position-parent-incorrect",[this,n]);const h=u.getPath();return h.push(i),new this(u.root,h,a)}}static _createAfter(n,i){if(!n.parent)throw new R("model-position-after-root",[this,n],{root:n});return this._createAt(n.parent,n.endOffset,i)}static _createBefore(n,i){if(!n.parent)throw new R("model-position-before-root",n,{root:n});return this._createAt(n.parent,n.startOffset,i)}static fromJSON(n,i){if(n.root==="$graveyard"){const a=new de(i.graveyard,n.path);return a.stickiness=n.stickiness,a}if(!i.getRoot(n.root))throw new R("model-position-fromjson-no-root",i,{rootName:n.root});return new de(i.getRoot(n.root),n.path,n.stickiness)}}function Yp(l,n){const i=n.getChild(n.offsetToIndex(l.offset));return i&&i.is("$text")&&i.startOffset<l.offset?i:null}function Z5(l,n,i){return i!==null?null:n.getChild(n.offsetToIndex(l.offset))}function J5(l,n,i){return i!==null?null:n.getChild(n.offsetToIndex(l.offset)-1)}function X5(l,n,i){return i+1!==l.path.length&&!!YC(n.path,i+1)&&!!function(a,u){let h=a.parent,p=a.path.length-1,g=0;for(;p>=u;){if(a.path[p]+g!==h.maxOffset)return!1;g=1,p--,h=h.parent}return!0}(l,i+1)}function YC(l,n){for(;n<l.length;){if(l[n]!==0)return!1;n++}return!0}de.prototype.is=function(l){return l==="position"||l==="model:position"};class se extends dl{constructor(n,i){super(),this.start=de._createAt(n),this.end=i?de._createAt(i):de._createAt(n),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new ha({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return We(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(n){return n.isAfter(this.start)&&n.isBefore(this.end)}containsRange(n,i=!1){n.isCollapsed&&(i=!1);const a=this.containsPosition(n.start)||i&&this.start.isEqual(n.start),u=this.containsPosition(n.end)||i&&this.end.isEqual(n.end);return a&&u}containsItem(n){const i=de._createBefore(n);return this.containsPosition(i)||this.start.isEqual(i)}isEqual(n){return this.start.isEqual(n.start)&&this.end.isEqual(n.end)}isIntersecting(n){return this.start.isBefore(n.end)&&this.end.isAfter(n.start)}getDifference(n){const i=[];return this.isIntersecting(n)?(this.containsPosition(n.start)&&i.push(new se(this.start,n.start)),this.containsPosition(n.end)&&i.push(new se(n.end,this.end))):i.push(new se(this.start,this.end)),i}getIntersection(n){if(this.isIntersecting(n)){let i=this.start,a=this.end;return this.containsPosition(n.start)&&(i=n.start),this.containsPosition(n.end)&&(a=n.end),new se(i,a)}return null}getJoined(n,i=!1){let a=this.isIntersecting(n);if(a||(a=this.start.isBefore(n.start)?i?this.end.isTouching(n.start):this.end.isEqual(n.start):i?n.end.isTouching(this.start):n.end.isEqual(this.start)),!a)return null;let u=this.start,h=this.end;return n.start.isBefore(u)&&(u=n.start),n.end.isAfter(h)&&(h=n.end),new se(u,h)}getMinimalFlatRanges(){const n=[],i=this.start.getCommonPath(this.end).length,a=de._createAt(this.start);let u=a.parent;for(;a.path.length>i+1;){const h=u.maxOffset-a.offset;h!==0&&n.push(new se(a,a.getShiftedBy(h))),a.path=a.path.slice(0,-1),a.offset++,u=u.parent}for(;a.path.length<=this.end.path.length;){const h=this.end.path[a.path.length-1],p=h-a.offset;p!==0&&n.push(new se(a,a.getShiftedBy(p))),a.offset=h,a.path.push(0)}return n}getWalker(n={}){return n.boundaries=this,new ha(n)}*getItems(n={}){n.boundaries=this,n.ignoreElementEnd=!0;const i=new ha(n);for(const a of i)yield a.item}*getPositions(n={}){n.boundaries=this;const i=new ha(n);yield i.position;for(const a of i)yield a.nextPosition}getTransformedByOperation(n){switch(n.type){case"insert":return this._getTransformedByInsertOperation(n);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(n);case"split":return[this._getTransformedBySplitOperation(n)];case"merge":return[this._getTransformedByMergeOperation(n)]}return[new se(this.start,this.end)]}getTransformedByOperations(n){const i=[new se(this.start,this.end)];for(const a of n)for(let u=0;u<i.length;u++){const h=i[u].getTransformedByOperation(a);i.splice(u,1,...h),u+=h.length-1}for(let a=0;a<i.length;a++){const u=i[a];for(let h=a+1;h<i.length;h++){const p=i[h];(u.containsRange(p)||p.containsRange(u)||u.isEqual(p))&&i.splice(h,1)}}return i}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const n=this.start.nodeAfter,i=this.end.nodeBefore;return n&&n.is("element")&&n===i?n:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(n,i=!1){return this._getTransformedByInsertion(n.position,n.howMany,i)}_getTransformedByMoveOperation(n,i=!1){const a=n.sourcePosition,u=n.howMany,h=n.targetPosition;return this._getTransformedByMove(a,h,u,i)}_getTransformedBySplitOperation(n){const i=this.start._getTransformedBySplitOperation(n);let a=this.end._getTransformedBySplitOperation(n);return this.end.isEqual(n.insertionPosition)&&(a=this.end.getShiftedBy(1)),i.root!=a.root&&(a=this.end.getShiftedBy(-1)),new se(i,a)}_getTransformedByMergeOperation(n){if(this.start.isEqual(n.targetPosition)&&this.end.isEqual(n.deletionPosition))return new se(this.start);let i=this.start._getTransformedByMergeOperation(n),a=this.end._getTransformedByMergeOperation(n);return i.root!=a.root&&(a=this.end.getShiftedBy(-1)),i.isAfter(a)?(n.sourcePosition.isBefore(n.targetPosition)?(i=de._createAt(a),i.offset=0):(n.deletionPosition.isEqual(i)||(a=n.deletionPosition),i=n.targetPosition),new se(i,a)):new se(i,a)}_getTransformedByInsertion(n,i,a=!1){if(a&&this.containsPosition(n))return[new se(this.start,n),new se(n.getShiftedBy(i),this.end._getTransformedByInsertion(n,i))];{const u=new se(this.start,this.end);return u.start=u.start._getTransformedByInsertion(n,i),u.end=u.end._getTransformedByInsertion(n,i),[u]}}_getTransformedByMove(n,i,a,u=!1){if(this.isCollapsed){const E=this.start._getTransformedByMove(n,i,a);return[new se(E)]}const h=se._createFromPositionAndShift(n,a),p=i._getTransformedByDeletion(n,a);if(this.containsPosition(i)&&!u&&(h.containsPosition(this.start)||h.containsPosition(this.end))){const E=this.start._getTransformedByMove(n,i,a),M=this.end._getTransformedByMove(n,i,a);return[new se(E,M)]}let g;const b=this.getDifference(h);let w=null;const C=this.getIntersection(h);if(b.length==1?w=new se(b[0].start._getTransformedByDeletion(n,a),b[0].end._getTransformedByDeletion(n,a)):b.length==2&&(w=new se(this.start,this.end._getTransformedByDeletion(n,a))),g=w?w._getTransformedByInsertion(p,a,C!==null||u):[],C){const E=new se(C.start._getCombined(h.start,p),C.end._getCombined(h.start,p));g.length==2?g.splice(1,0,E):g.push(E)}return g}_getTransformedByDeletion(n,i){let a=this.start._getTransformedByDeletion(n,i),u=this.end._getTransformedByDeletion(n,i);return a==null&&u==null?null:(a==null&&(a=n),u==null&&(u=n),new se(a,u))}static _createFromPositionAndShift(n,i){const a=n,u=n.getShiftedBy(i);return i>0?new this(a,u):new this(u,a)}static _createIn(n){return new this(de._createAt(n,0),de._createAt(n,n.maxOffset))}static _createOn(n){return this._createFromPositionAndShift(de._createBefore(n),n.offsetSize)}static _createFromRanges(n){if(n.length===0)throw new R("range-create-from-ranges-empty-array",null);if(n.length==1)return n[0].clone();const i=n[0];n.sort((h,p)=>h.start.isAfter(p.start)?1:-1);const a=n.indexOf(i),u=new this(i.start,i.end);if(a>0)for(let h=a-1;n[h].end.isEqual(u.start);h++)u.start=de._createAt(n[h].start);for(let h=a+1;h<n.length&&n[h].start.isEqual(u.end);h++)u.end=de._createAt(n[h].end);return u}static fromJSON(n,i){return new this(de.fromJSON(n.start,i),de.fromJSON(n.end,i))}}se.prototype.is=function(l){return l==="range"||l==="model:range"};class eP extends G(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(n,i)=>{if(i.viewPosition)return;const a=this._modelToViewMapping.get(i.modelPosition.parent);if(!a)throw new R("mapping-model-position-view-parent-not-found",this,{modelPosition:i.modelPosition});i.viewPosition=this.findPositionIn(a,i.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(n,i)=>{if(i.modelPosition)return;const a=this.findMappedViewAncestor(i.viewPosition),u=this._viewToModelMapping.get(a),h=this._toModelOffset(i.viewPosition.parent,i.viewPosition.offset,a);i.modelPosition=de._createAt(u,h)},{priority:"low"})}bindElements(n,i){this._modelToViewMapping.set(n,i),this._viewToModelMapping.set(i,n)}unbindViewElement(n,i={}){const a=this.toModelElement(n);if(this._elementToMarkerNames.has(n))for(const u of this._elementToMarkerNames.get(n))this._unboundMarkerNames.add(u);i.defer?this._deferredBindingRemovals.set(n,n.root):(this._viewToModelMapping.delete(n),this._modelToViewMapping.get(a)==n&&this._modelToViewMapping.delete(a))}unbindModelElement(n){const i=this.toViewElement(n);this._modelToViewMapping.delete(n),this._viewToModelMapping.get(i)==n&&this._viewToModelMapping.delete(i)}bindElementToMarker(n,i){const a=this._markerNameToElements.get(i)||new Set;a.add(n);const u=this._elementToMarkerNames.get(n)||new Set;u.add(i),this._markerNameToElements.set(i,a),this._elementToMarkerNames.set(n,u)}unbindElementFromMarkerName(n,i){const a=this._markerNameToElements.get(i);a&&(a.delete(n),a.size==0&&this._markerNameToElements.delete(i));const u=this._elementToMarkerNames.get(n);u&&(u.delete(i),u.size==0&&this._elementToMarkerNames.delete(n))}flushUnboundMarkerNames(){const n=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),n}flushDeferredBindings(){for(const[n,i]of this._deferredBindingRemovals)n.root==i&&this.unbindViewElement(n);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(n){return this._viewToModelMapping.get(n)}toViewElement(n){return this._modelToViewMapping.get(n)}toModelRange(n){return new se(this.toModelPosition(n.start),this.toModelPosition(n.end))}toViewRange(n){return new lt(this.toViewPosition(n.start),this.toViewPosition(n.end))}toModelPosition(n){const i={viewPosition:n,mapper:this};return this.fire("viewToModelPosition",i),i.modelPosition}toViewPosition(n,i={}){const a={modelPosition:n,mapper:this,isPhantom:i.isPhantom};return this.fire("modelToViewPosition",a),a.viewPosition}markerNameToElements(n){const i=this._markerNameToElements.get(n);if(!i)return null;const a=new Set;for(const u of i)if(u.is("attributeElement"))for(const h of u.getElementsWithSameId())a.add(h);else a.add(u);return a}registerViewToModelLength(n,i){this._viewToModelLengthCallbacks.set(n,i)}findMappedViewAncestor(n){let i=n.parent;for(;!this._viewToModelMapping.has(i);)i=i.parent;return i}_toModelOffset(n,i,a){if(a!=n)return this._toModelOffset(n.parent,n.index,a)+this._toModelOffset(n,i,n);if(n.is("$text"))return i;let u=0;for(let h=0;h<i;h++)u+=this.getModelLength(n.getChild(h));return u}getModelLength(n){if(this._viewToModelLengthCallbacks.get(n.name))return this._viewToModelLengthCallbacks.get(n.name)(n);if(this._viewToModelMapping.has(n))return 1;if(n.is("$text"))return n.data.length;if(n.is("uiElement"))return 0;{let i=0;for(const a of n.getChildren())i+=this.getModelLength(a);return i}}findPositionIn(n,i){let a,u=0,h=0,p=0;if(n.is("$text"))return new Se(n,i);for(;h<i;)a=n.getChild(p),u=this.getModelLength(a),h+=u,p++;return h==i?this._moveViewPositionToTextNode(new Se(n,p)):this.findPositionIn(a,i-(h-u))}_moveViewPositionToTextNode(n){const i=n.nodeBefore,a=n.nodeAfter;return i instanceof dn?new Se(i,i.data.length):a instanceof dn?new Se(a,0):n}}class xZ{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(n,i){i=mk(i),n instanceof Xi&&(n=this._getSymbolForTextProxy(n)),this._consumable.has(n)||this._consumable.set(n,new Map),this._consumable.get(n).set(i,!0)}consume(n,i){return i=mk(i),n instanceof Xi&&(n=this._getSymbolForTextProxy(n)),!!this.test(n,i)&&(this._consumable.get(n).set(i,!1),!0)}test(n,i){i=mk(i),n instanceof Xi&&(n=this._getSymbolForTextProxy(n));const a=this._consumable.get(n);if(a===void 0)return null;const u=a.get(i);return u===void 0?null:u}revert(n,i){i=mk(i),n instanceof Xi&&(n=this._getSymbolForTextProxy(n));const a=this.test(n,i);return a===!1?(this._consumable.get(n).set(i,!0),!0):a!==!0&&null}verifyAllConsumed(n){const i=[];for(const[a,u]of this._consumable)for(const[h,p]of u){const g=h.split(":")[0];p&&n==g&&i.push({event:h,item:a.name||a.description})}if(i.length)throw new R("conversion-model-consumable-not-consumed",null,{items:i})}_getSymbolForTextProxy(n){let i=null;const a=this._textProxyRegistry.get(n.startOffset);if(a){const u=a.get(n.endOffset);u&&(i=u.get(n.parent))}return i||(i=this._addSymbolForTextProxy(n)),i}_addSymbolForTextProxy(n){const i=n.startOffset,a=n.endOffset,u=n.parent,h=Symbol("$textProxy:"+n.data);let p,g;return p=this._textProxyRegistry.get(i),p||(p=new Map,this._textProxyRegistry.set(i,p)),g=p.get(a),g||(g=new Map,p.set(a,g)),g.set(u,h),h}}function mk(l){const n=l.split(":");return n[0]=="insert"?n[0]:n[0]=="addMarker"||n[0]=="removeMarker"?l:n.length>1?n[0]+":"+n[1]:n[0]}var EZ=Object.defineProperty,SZ=Object.defineProperties,DZ=Object.getOwnPropertyDescriptors,tP=Object.getOwnPropertySymbols,TZ=Object.prototype.hasOwnProperty,IZ=Object.prototype.propertyIsEnumerable,nP=(l,n,i)=>n in l?EZ(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,QC=(l,n)=>{for(var i in n||(n={}))TZ.call(n,i)&&nP(l,i,n[i]);if(tP)for(var i of tP(n))IZ.call(n,i)&&nP(l,i,n[i]);return l},rP=(l,n)=>SZ(l,DZ(n));class oP extends G(){constructor(n){super(),this._conversionApi=QC({dispatcher:this},n),this._firedEventsMap=new WeakMap}convertChanges(n,i,a){const u=this._createConversionApi(a,n.getRefreshedItems());for(const p of n.getMarkersToRemove())this._convertMarkerRemove(p.name,p.range,u);const h=this._reduceChanges(n.getChanges());for(const p of h)p.type==="insert"?this._convertInsert(se._createFromPositionAndShift(p.position,p.length),u):p.type==="reinsert"?this._convertReinsert(se._createFromPositionAndShift(p.position,p.length),u):p.type==="remove"?this._convertRemove(p.position,p.length,p.name,u):this._convertAttribute(p.range,p.attributeKey,p.attributeOldValue,p.attributeNewValue,u);u.mapper.flushDeferredBindings();for(const p of u.mapper.flushUnboundMarkerNames()){const g=i.get(p).getRange();this._convertMarkerRemove(p,g,u),this._convertMarkerAdd(p,g,u)}for(const p of n.getMarkersToAdd())this._convertMarkerAdd(p.name,p.range,u);u.consumable.verifyAllConsumed("insert")}convert(n,i,a,u={}){const h=this._createConversionApi(a,void 0,u);this._convertInsert(n,h);for(const[p,g]of i)this._convertMarkerAdd(p,g,h);h.consumable.verifyAllConsumed("insert")}convertSelection(n,i,a){const u=this._createConversionApi(a);this.fire("cleanSelection",{selection:n},u);const h=n.getFirstPosition().root;if(!u.mapper.toViewElement(h))return;const p=Array.from(i.getMarkersAtPosition(n.getFirstPosition()));if(this._addConsumablesForSelection(u.consumable,n,p),this.fire("selection",{selection:n},u),n.isCollapsed){for(const g of p)if(u.consumable.test(n,"addMarker:"+g.name)){const b=g.getRange();if(!MZ(n.getFirstPosition(),g,u.mapper))continue;const w={item:n,markerName:g.name,markerRange:b};this.fire(`addMarker:${g.name}`,w,u)}for(const g of n.getAttributeKeys())if(u.consumable.test(n,"attribute:"+g)){const b={item:n,range:n.getFirstRange(),attributeKey:g,attributeOldValue:null,attributeNewValue:n.getAttribute(g)};this.fire(`attribute:${g}:$text`,b,u)}}}_convertInsert(n,i,a={}){a.doNotAddConsumables||this._addConsumablesForInsert(i.consumable,n);for(const u of Array.from(n.getWalker({shallow:!0})).map(iP))this._testAndFire("insert",u,i)}_convertRemove(n,i,a,u){this.fire(`remove:${a}`,{position:n,length:i},u)}_convertAttribute(n,i,a,u,h){this._addConsumablesForRange(h.consumable,n,`attribute:${i}`);for(const p of n){const g={item:p.item,range:se._createFromPositionAndShift(p.previousPosition,p.length),attributeKey:i,attributeOldValue:a,attributeNewValue:u};this._testAndFire(`attribute:${i}`,g,h)}}_convertReinsert(n,i){const a=Array.from(n.getWalker({shallow:!0}));this._addConsumablesForInsert(i.consumable,a);for(const u of a.map(iP))this._testAndFire("insert",rP(QC({},u),{reconversion:!0}),i)}_convertMarkerAdd(n,i,a){if(i.root.rootName=="$graveyard")return;const u=`addMarker:${n}`;if(a.consumable.add(i,u),this.fire(u,{markerName:n,markerRange:i},a),a.consumable.consume(i,u)){this._addConsumablesForRange(a.consumable,i,u);for(const h of i.getItems()){if(!a.consumable.test(h,u))continue;const p={item:h,range:se._createOn(h),markerName:n,markerRange:i};this.fire(u,p,a)}}}_convertMarkerRemove(n,i,a){i.root.rootName!="$graveyard"&&this.fire(`removeMarker:${n}`,{markerName:n,markerRange:i},a)}_reduceChanges(n){const i={changes:n};return this.fire("reduceChanges",i),i.changes}_addConsumablesForInsert(n,i){for(const a of i){const u=a.item;if(n.test(u,"insert")===null){n.add(u,"insert");for(const h of u.getAttributeKeys())n.add(u,"attribute:"+h)}}return n}_addConsumablesForRange(n,i,a){for(const u of i.getItems())n.add(u,a);return n}_addConsumablesForSelection(n,i,a){n.add(i,"selection");for(const u of a)n.add(i,"addMarker:"+u.name);for(const u of i.getAttributeKeys())n.add(i,"attribute:"+u);return n}_testAndFire(n,i,a){const u=function(b,w){const C=w.item.is("element")?w.item.name:"$text";return`${b}:${C}`}(n,i),h=i.item.is("$textProxy")?a.consumable._getSymbolForTextProxy(i.item):i.item,p=this._firedEventsMap.get(a),g=p.get(h);if(g){if(g.has(u))return;g.add(u)}else p.set(h,new Set([u]));this.fire(u,i,a)}_testAndFireAddAttributes(n,i){const a={item:n,range:se._createOn(n)};for(const u of a.item.getAttributeKeys())a.attributeKey=u,a.attributeOldValue=null,a.attributeNewValue=a.item.getAttribute(u),this._testAndFire(`attribute:${u}`,a,i)}_createConversionApi(n,i=new Set,a={}){const u=rP(QC({},this._conversionApi),{consumable:new xZ,writer:n,options:a,convertItem:h=>this._convertInsert(se._createOn(h),u),convertChildren:h=>this._convertInsert(se._createIn(h),u,{doNotAddConsumables:!0}),convertAttributes:h=>this._testAndFireAddAttributes(h,u),canReuseView:h=>!i.has(u.mapper.toModelElement(h))});return this._firedEventsMap.set(u,new Map),u}}function MZ(l,n,i){const a=n.getRange(),u=Array.from(l.getAncestors());return u.shift(),u.reverse(),!u.some(h=>{if(a.containsItem(h))return!!i.toViewElement(h).getCustomProperty("addHighlight")})}function iP(l){return{item:l.item,range:se._createFromPositionAndShift(l.previousPosition,l.length)}}class Ko extends G(dl){constructor(...n){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],n.length&&this.setTo(...n)}get anchor(){if(this._ranges.length>0){const n=this._ranges[this._ranges.length-1];return this._lastRangeBackward?n.end:n.start}return null}get focus(){if(this._ranges.length>0){const n=this._ranges[this._ranges.length-1];return this._lastRangeBackward?n.start:n.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(n){if(this.rangeCount!=n.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(n.anchor)||!this.focus.isEqual(n.focus))return!1;for(const i of this._ranges){let a=!1;for(const u of n._ranges)if(i.isEqual(u)){a=!0;break}if(!a)return!1}return!0}*getRanges(){for(const n of this._ranges)yield new se(n.start,n.end)}getFirstRange(){let n=null;for(const i of this._ranges)n&&!i.start.isBefore(n.start)||(n=i);return n?new se(n.start,n.end):null}getLastRange(){let n=null;for(const i of this._ranges)n&&!i.end.isAfter(n.end)||(n=i);return n?new se(n.start,n.end):null}getFirstPosition(){const n=this.getFirstRange();return n?n.start.clone():null}getLastPosition(){const n=this.getLastRange();return n?n.end.clone():null}setTo(...n){let[i,a,u]=n;if(typeof a=="object"&&(u=a,a=void 0),i===null)this._setRanges([]);else if(i instanceof Ko)this._setRanges(i.getRanges(),i.isBackward);else if(i&&typeof i.getRanges=="function")this._setRanges(i.getRanges(),i.isBackward);else if(i instanceof se)this._setRanges([i],!!u&&!!u.backward);else if(i instanceof de)this._setRanges([new se(i)]);else if(i instanceof Rc){const h=!!u&&!!u.backward;let p;if(a=="in")p=se._createIn(i);else if(a=="on")p=se._createOn(i);else{if(a===void 0)throw new R("model-selection-setto-required-second-parameter",[this,i]);p=new se(de._createAt(i,a))}this._setRanges([p],h)}else{if(!ut(i))throw new R("model-selection-setto-not-selectable",[this,i]);this._setRanges(i,u&&!!u.backward)}}_setRanges(n,i=!1){const a=Array.from(n),u=a.some(h=>{if(!(h instanceof se))throw new R("model-selection-set-ranges-not-range",[this,n]);return this._ranges.every(p=>!p.isEqual(h))});(a.length!==this._ranges.length||u)&&(this._replaceAllRanges(a),this._lastRangeBackward=!!i,this.fire("change:range",{directChange:!0}))}setFocus(n,i){if(this.anchor===null)throw new R("model-selection-setfocus-no-ranges",[this,n]);const a=de._createAt(n,i);if(a.compareWith(this.focus)=="same")return;const u=this.anchor;this._ranges.length&&this._popRange(),a.compareWith(u)=="before"?(this._pushRange(new se(a,u)),this._lastRangeBackward=!0):(this._pushRange(new se(u,a)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(n){return this._attrs.get(n)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(n){return this._attrs.has(n)}removeAttribute(n){this.hasAttribute(n)&&(this._attrs.delete(n),this.fire("change:attribute",{attributeKeys:[n],directChange:!0}))}setAttribute(n,i){this.getAttribute(n)!==i&&(this._attrs.set(n,i),this.fire("change:attribute",{attributeKeys:[n],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const n=new WeakSet;for(const i of this.getRanges()){const a=aP(i.start,n);NZ(a,i)&&(yield a);for(const h of i.getWalker()){const p=h.item;h.type=="elementEnd"&&PZ(p,n,i)&&(yield p)}const u=aP(i.end,n);RZ(u,i)&&(yield u)}}containsEntireContent(n=this.anchor.root){const i=de._createAt(n,0),a=de._createAt(n,"end");return i.isTouching(this.getFirstPosition())&&a.isTouching(this.getLastPosition())}_pushRange(n){this._checkRange(n),this._ranges.push(new se(n.start,n.end))}_checkRange(n){for(let i=0;i<this._ranges.length;i++)if(n.isIntersecting(this._ranges[i]))throw new R("model-selection-range-intersects",[this,n],{addedRange:n,intersectingRange:this._ranges[i]})}_replaceAllRanges(n){this._removeAllRanges();for(const i of n)this._pushRange(i)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function sP(l,n){return!n.has(l)&&(n.add(l),l.root.document.model.schema.isBlock(l)&&!!l.parent)}function PZ(l,n,i){return sP(l,n)&&ZC(l,i)}function aP(l,n){const i=l.parent.root.document.model.schema,a=l.parent.getAncestors({parentFirst:!0,includeSelf:!0});let u=!1;const h=a.find(p=>!u&&(u=i.isLimit(p),!u&&sP(p,n)));return a.forEach(p=>n.add(p)),h}function ZC(l,n){const i=function(a){const u=a.root.document.model.schema;let h=a.parent;for(;h;){if(u.isBlock(h))return h;h=h.parent}}(l);return i?!n.containsRange(se._createOn(i),!0):!0}function NZ(l,n){return!!l&&(!(!n.isCollapsed&&!l.isEmpty)||!n.start.isTouching(de._createAt(l,l.maxOffset))&&ZC(l,n))}function RZ(l,n){return!!l&&(!(!n.isCollapsed&&!l.isEmpty)||!n.end.isTouching(de._createAt(l,0))&&ZC(l,n))}Ko.prototype.is=function(l){return l==="selection"||l==="model:selection"};class Yo extends G(se){constructor(n,i){super(n,i),OZ.call(this)}detach(){this.stopListening()}toRange(){return new se(this.start,this.end)}static fromRange(n){return new Yo(n.start,n.end)}}function OZ(){this.listenTo(this.root.document.model,"applyOperation",(l,n)=>{const i=n[0];i.isDocumentOperation&&BZ.call(this,i)},{priority:"low"})}function BZ(l){const n=this.getTransformedByOperation(l),i=se._createFromRanges(n),a=!i.isEqual(this),u=function(p,g){switch(g.type){case"insert":return p.containsPosition(g.position);case"move":case"remove":case"reinsert":case"merge":return p.containsPosition(g.sourcePosition)||p.start.isEqual(g.sourcePosition)||p.containsPosition(g.targetPosition);case"split":return p.containsPosition(g.splitPosition)||p.containsPosition(g.insertionPosition)}return!1}(this,l);let h=null;if(a){i.root.rootName=="$graveyard"&&(h=l.type=="remove"?l.sourcePosition:l.deletionPosition);const p=this.toRange();this.start=i.start,this.end=i.end,this.fire("change:range",p,{deletionPosition:h})}else u&&this.fire("change:content",this.toRange(),{deletionPosition:h})}Yo.prototype.is=function(l){return l==="liveRange"||l==="model:liveRange"||l=="range"||l==="model:range"};const gk="selection:";class es extends G(dl){constructor(n){super(),this._selection=new LZ(n),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(n){return this._selection.containsEntireContent(n)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(n){return this._selection.getAttribute(n)}hasAttribute(n){return this._selection.hasAttribute(n)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(n){this._selection.observeMarkers(n)}_setFocus(n,i){this._selection.setFocus(n,i)}_setTo(...n){this._selection.setTo(...n)}_setAttribute(n,i){this._selection.setAttribute(n,i)}_removeAttribute(n){this._selection.removeAttribute(n)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(n){this._selection.restoreGravity(n)}static _getStoreAttributeKey(n){return gk+n}static _isStoreAttributeKey(n){return n.startsWith(gk)}}es.prototype.is=function(l){return l==="selection"||l=="model:selection"||l=="documentSelection"||l=="model:documentSelection"};class LZ extends Ko{constructor(n){super(),this.markers=new Ki({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=n.model,this._document=n,this.listenTo(this._model,"applyOperation",(i,a)=>{const u=a[0];u.isDocumentOperation&&u.type!="marker"&&u.type!="rename"&&u.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(i,a,u,h)=>{this._updateMarker(a,h)}),this.listenTo(this._document,"change",(i,a)=>{(function(u,h){const p=u.document.differ;for(const g of p.getChanges()){if(g.type!="insert")continue;const b=g.position.parent;g.length===b.maxOffset&&u.enqueueChange(h,w=>{const C=Array.from(b.getAttributeKeys()).filter(E=>E.startsWith(gk));for(const E of C)w.removeAttribute(E,b)})}})(this._model,a)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let n=0;n<this._ranges.length;n++)this._ranges[n].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...n){super.setTo(...n),this._updateAttributes(!0),this.updateMarkers()}setFocus(n,i){super.setFocus(n,i),this._updateAttributes(!0),this.updateMarkers()}setAttribute(n,i){if(this._setAttribute(n,i)){const a=[n];this.fire("change:attribute",{attributeKeys:a,directChange:!0})}}removeAttribute(n){if(this._removeAttribute(n)){const i=[n];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}overrideGravity(){const n=N();return this._overriddenGravityRegister.add(n),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),n}restoreGravity(n){if(!this._overriddenGravityRegister.has(n))throw new R("document-selection-gravity-wrong-restore",this,{uid:n});this._overriddenGravityRegister.delete(n),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(n){this._observedMarkers.add(n),this.updateMarkers()}_replaceAllRanges(n){this._validateSelectionRanges(n),super._replaceAllRanges(n)}_popRange(){this._ranges.pop().detach()}_pushRange(n){const i=this._prepareRange(n);i&&this._ranges.push(i)}_validateSelectionRanges(n){for(const i of n)if(!this._document._validateSelectionRange(i))throw new R("document-selection-wrong-position",this,{range:i})}_prepareRange(n){if(this._checkRange(n),n.root==this._document.graveyard)return;const i=Yo.fromRange(n);return i.on("change:range",(a,u,h)=>{if(this._hasChangedRange=!0,i.root==this._document.graveyard){this._selectionRestorePosition=h.deletionPosition;const p=this._ranges.indexOf(i);this._ranges.splice(p,1),i.detach()}}),i}updateMarkers(){if(!this._observedMarkers.size)return;const n=[];let i=!1;for(const u of this._model.markers){const h=u.name.split(":",1)[0];if(!this._observedMarkers.has(h))continue;const p=u.getRange();for(const g of this.getRanges())p.containsRange(g,!g.isCollapsed)&&n.push(u)}const a=Array.from(this.markers);for(const u of n)this.markers.has(u)||(this.markers.add(u),i=!0);for(const u of Array.from(this.markers))n.includes(u)||(this.markers.remove(u),i=!0);i&&this.fire("change:marker",{oldMarkers:a,directChange:!1})}_updateMarker(n,i){const a=n.name.split(":",1)[0];if(!this._observedMarkers.has(a))return;let u=!1;const h=Array.from(this.markers),p=this.markers.has(n);if(i){let g=!1;for(const b of this.getRanges())if(i.containsRange(b,!b.isCollapsed)){g=!0;break}g&&!p?(this.markers.add(n),u=!0):!g&&p&&(this.markers.remove(n),u=!0)}else p&&(this.markers.remove(n),u=!0);u&&this.fire("change:marker",{oldMarkers:h,directChange:!1})}_updateAttributes(n){const i=ys(this._getSurroundingAttributes()),a=ys(this.getAttributes());if(n)this._attributePriority=new Map,this._attrs=new Map;else for(const[h,p]of this._attributePriority)p=="low"&&(this._attrs.delete(h),this._attributePriority.delete(h));this._setAttributesTo(i);const u=[];for(const[h,p]of this.getAttributes())a.has(h)&&a.get(h)===p||u.push(h);for(const[h]of a)this.hasAttribute(h)||u.push(h);u.length>0&&this.fire("change:attribute",{attributeKeys:u,directChange:!1})}_setAttribute(n,i,a=!0){const u=a?"normal":"low";return u=="low"&&this._attributePriority.get(n)=="normal"?!1:super.getAttribute(n)!==i&&(this._attrs.set(n,i),this._attributePriority.set(n,u),!0)}_removeAttribute(n,i=!0){const a=i?"normal":"low";return(a!="low"||this._attributePriority.get(n)!="normal")&&(this._attributePriority.set(n,a),!!super.hasAttribute(n)&&(this._attrs.delete(n),!0))}_setAttributesTo(n){const i=new Set;for(const[a,u]of this.getAttributes())n.get(a)!==u&&this._removeAttribute(a,!1);for(const[a,u]of n)this._setAttribute(a,u,!1)&&i.add(a);return i}*getStoredAttributes(){const n=this.getFirstPosition().parent;if(this.isCollapsed&&n.isEmpty)for(const i of n.getAttributeKeys())i.startsWith(gk)&&(yield[i.substr(10),n.getAttribute(i)])}_getSurroundingAttributes(){const n=this.getFirstPosition(),i=this._model.schema;if(n.root.rootName=="$graveyard")return null;let a=null;if(this.isCollapsed){const u=n.textNode?n.textNode:n.nodeBefore,h=n.textNode?n.textNode:n.nodeAfter;if(this.isGravityOverridden||(a=Qp(u,i)),a||(a=Qp(h,i)),!this.isGravityOverridden&&!a){let p=u;for(;p&&!a;)p=p.previousSibling,a=Qp(p,i)}if(!a){let p=h;for(;p&&!a;)p=p.nextSibling,a=Qp(p,i)}a||(a=this.getStoredAttributes())}else{const u=this.getFirstRange();for(const h of u){if(h.item.is("element")&&i.isObject(h.item)){a=Qp(h.item,i);break}if(h.type=="text"){a=h.item.getAttributes();break}}}return a}_fixGraveyardSelection(n){const i=this._model.schema.getNearestSelectionRange(n);i&&this._pushRange(i)}}function Qp(l,n){if(!l)return null;if(l instanceof Xi||l instanceof hn)return l.getAttributes();if(!n.isInline(l))return null;if(!n.isObject(l))return[];const i=[];for(const[a,u]of l.getAttributes())n.checkAttribute("$text",a)&&n.getAttributeProperties(a).copyFromObject!==!1&&i.push([a,u]);return i}class lP{constructor(n){this._dispatchers=n}add(n){for(const i of this._dispatchers)n(i);return this}}class jZ extends lP{elementToElement(n){return this.add(function(i){const a=dP(i.model),u=Zp(i.view,"container");return a.attributes.length&&(a.children=!0),h=>{h.on(`insert:${a.name}`,zZ(u,mP(a)),{priority:i.converterPriority||"normal"}),(a.children||a.attributes.length)&&h.on("reduceChanges",fP(a),{priority:"low"})}}(n))}elementToStructure(n){return this.add(function(i){const a=dP(i.model),u=Zp(i.view,"container");return a.children=!0,h=>{if(h._conversionApi.schema.checkChild(a.name,"$text"))throw new R("conversion-element-to-structure-disallowed-text",h,{elementName:a.name});var p,g;h.on(`insert:${a.name}`,(p=u,g=mP(a),(b,w,C)=>{if(!g(w.item,C.consumable,{preflight:!0}))return;const E=new Map;C.writer._registerSlotFactory(function(L,F,H){return(K,X)=>{const oe=K.createContainerElement("$slot");let le=null;if(X==="children")le=Array.from(L.getChildren());else{if(typeof X!="function")throw new R("conversion-slot-mode-unknown",H.dispatcher,{modeOrFilter:X});le=Array.from(L.getChildren()).filter(De=>X(De))}return F.set(oe,le),oe}}(w.item,E,C));const M=p(w.item,C,w);if(C.writer._clearSlotFactory(),!M)return;(function(L,F,H){const K=Array.from(F.values()).flat(),X=new Set(K);if(X.size!=K.length)throw new R("conversion-slot-filter-overlap",H.dispatcher,{element:L});if(X.size!=L.childCount)throw new R("conversion-slot-filter-incomplete",H.dispatcher,{element:L})})(w.item,E,C),g(w.item,C.consumable);const O=C.mapper.toViewPosition(w.range.start);C.mapper.bindElements(w.item,M),C.writer.insert(O,M),C.convertAttributes(w.item),function(L,F,H,K){H.mapper.on("modelToViewPosition",le,{priority:"highest"});let X=null,oe=null;for([X,oe]of F)gP(L,oe,H,K),H.writer.move(H.writer.createRangeIn(X),H.writer.createPositionBefore(X)),H.writer.remove(X);function le(De,rt){const mt=rt.modelPosition.nodeAfter,mn=oe.indexOf(mt);mn<0||(rt.viewPosition=rt.mapper.findPositionIn(X,mn))}H.mapper.off("modelToViewPosition",le)}(M,E,C,{reconversion:w.reconversion})}),{priority:i.converterPriority||"normal"}),h.on("reduceChanges",fP(a),{priority:"low"})}}(n))}attributeToElement(n){return this.add(function(i){i=Ji(i);let a=i.model;typeof a=="string"&&(a={key:a});let u=`attribute:${a.key}`;if(a.name&&(u+=":"+a.name),a.values)for(const p of a.values)i.view[p]=Zp(i.view[p],"attribute");else i.view=Zp(i.view,"attribute");const h=hP(i);return p=>{p.on(u,FZ(h),{priority:i.converterPriority||"normal"})}}(n))}attributeToAttribute(n){return this.add(function(i){i=Ji(i);let a=i.model;typeof a=="string"&&(a={key:a});let u=`attribute:${a.key}`;if(a.name&&(u+=":"+a.name),a.values)for(const p of a.values)i.view[p]=pP(i.view[p]);else i.view=pP(i.view);const h=hP(i);return p=>{var g;p.on(u,(g=h,(b,w,C)=>{if(!C.consumable.test(w.item,b.name))return;const E=g(w.attributeOldValue,C,w),M=g(w.attributeNewValue,C,w);if(!E&&!M)return;C.consumable.consume(w.item,b.name);const O=C.mapper.toViewElement(w.item),L=C.writer;if(!O)throw new R("conversion-attribute-to-attribute-on-text",C.dispatcher,w);if(w.attributeOldValue!==null&&E)if(E.key=="class"){const F=typeof E.value=="string"?E.value.split(/\s+/):E.value;for(const H of F)L.removeClass(H,O)}else if(E.key=="style")if(typeof E.value=="string"){const F=new RC(L.document.stylesProcessor);F.setTo(E.value);for(const[H]of F.getStylesEntries())L.removeStyle(H,O)}else{const F=Object.keys(E.value);for(const H of F)L.removeStyle(H,O)}else L.removeAttribute(E.key,O);if(w.attributeNewValue!==null&&M)if(M.key=="class"){const F=typeof M.value=="string"?M.value.split(/\s+/):M.value;for(const H of F)L.addClass(H,O)}else if(M.key=="style")if(typeof M.value=="string"){const F=new RC(L.document.stylesProcessor);F.setTo(M.value);for(const[H,K]of F.getStylesEntries())L.setStyle(H,K,O)}else{const F=Object.keys(M.value);for(const H of F)L.setStyle(H,M.value[H],O)}else L.setAttribute(M.key,M.value,O)}),{priority:i.converterPriority||"normal"})}}(n))}markerToElement(n){return this.add(function(i){const a=Zp(i.view,"ui");return u=>{u.on(`addMarker:${i.model}`,$Z(a),{priority:i.converterPriority||"normal"}),u.on(`removeMarker:${i.model}`,(h,p,g)=>{const b=g.mapper.markerNameToElements(p.markerName);if(b){for(const w of b)g.mapper.unbindElementFromMarkerName(w,p.markerName),g.writer.clear(g.writer.createRangeOn(w),w);g.writer.clearClonedElementsGroup(p.markerName),h.stop()}},{priority:i.converterPriority||"normal"})}}(n))}markerToHighlight(n){return this.add(function(i){return a=>{var u;a.on(`addMarker:${i.model}`,(u=i.view,(h,p,g)=>{if(!p.item||!(p.item instanceof Ko||p.item instanceof es||p.item.is("$textProxy")))return;const b=JC(u,p,g);if(!b||!g.consumable.consume(p.item,h.name))return;const w=g.writer,C=cP(w,b),E=w.document.selection;if(p.item instanceof Ko||p.item instanceof es)w.wrap(E.getFirstRange(),C);else{const M=g.mapper.toViewRange(p.range),O=w.wrap(M,C);for(const L of O.getItems())if(L.is("attributeElement")&&L.isSimilar(C)){g.mapper.bindElementToMarker(L,p.markerName);break}}}),{priority:i.converterPriority||"normal"}),a.on(`addMarker:${i.model}`,function(h){return(p,g,b)=>{if(!g.item||!(g.item instanceof Jt))return;const w=JC(h,g,b);if(!w||!b.consumable.test(g.item,p.name))return;const C=b.mapper.toViewElement(g.item);if(C&&C.getCustomProperty("addHighlight")){b.consumable.consume(g.item,p.name);for(const E of se._createIn(g.item))b.consumable.consume(E.item,p.name);C.getCustomProperty("addHighlight")(C,w,b.writer),b.mapper.bindElementToMarker(C,g.markerName)}}}(i.view),{priority:i.converterPriority||"normal"}),a.on(`removeMarker:${i.model}`,function(h){return(p,g,b)=>{if(g.markerRange.isCollapsed)return;const w=JC(h,g,b);if(!w)return;const C=cP(b.writer,w),E=b.mapper.markerNameToElements(g.markerName);if(E){for(const M of E)b.mapper.unbindElementFromMarkerName(M,g.markerName),M.is("attributeElement")?b.writer.unwrap(b.writer.createRangeOn(M),C):M.getCustomProperty("removeHighlight")(M,w.id,b.writer);b.writer.clearClonedElementsGroup(g.markerName),p.stop()}}}(i.view),{priority:i.converterPriority||"normal"})}}(n))}markerToData(n){return this.add(function(i){i=Ji(i);const a=i.model;let u=i.view;return u||(u=h=>({group:a,name:h.substr(i.model.length+1)})),h=>{var p;h.on(`addMarker:${a}`,(p=u,(g,b,w)=>{const C=p(b.markerName,w);if(!C)return;const E=b.markerRange;w.consumable.consume(E,g.name)&&(uP(E,!1,w,b,C),uP(E,!0,w,b,C),g.stop())}),{priority:i.converterPriority||"normal"}),h.on(`removeMarker:${a}`,function(g){return(b,w,C)=>{const E=g(w.markerName,C);if(!E)return;const M=C.mapper.markerNameToElements(w.markerName);if(M){for(const L of M)C.mapper.unbindElementFromMarkerName(L,w.markerName),L.is("containerElement")?(O(`data-${E.group}-start-before`,L),O(`data-${E.group}-start-after`,L),O(`data-${E.group}-end-before`,L),O(`data-${E.group}-end-after`,L)):C.writer.clear(C.writer.createRangeOn(L),L);C.writer.clearClonedElementsGroup(w.markerName),b.stop()}function O(L,F){if(F.hasAttribute(L)){const H=new Set(F.getAttribute(L).split(","));H.delete(E.name),H.size==0?C.writer.removeAttribute(L,F):C.writer.setAttribute(L,Array.from(H).join(","),F)}}}}(u),{priority:i.converterPriority||"normal"})}}(n))}}function cP(l,n){const i=l.createAttributeElement("span",n.attributes);return n.classes&&i._addClass(n.classes),typeof n.priority=="number"&&(i._priority=n.priority),i._id=n.id,i}function FZ(l){return(n,i,a)=>{if(!a.consumable.test(i.item,n.name))return;const u=l(i.attributeOldValue,a,i),h=l(i.attributeNewValue,a,i);if(!u&&!h)return;a.consumable.consume(i.item,n.name);const p=a.writer,g=p.document.selection;if(i.item instanceof Ko||i.item instanceof es)p.wrap(g.getFirstRange(),h);else{let b=a.mapper.toViewRange(i.range);i.attributeOldValue!==null&&u&&(b=p.unwrap(b,u)),i.attributeNewValue!==null&&h&&p.wrap(b,h)}}}function zZ(l,n=UZ){return(i,a,u)=>{if(!n(a.item,u.consumable,{preflight:!0}))return;const h=l(a.item,u,a);if(!h)return;n(a.item,u.consumable);const p=u.mapper.toViewPosition(a.range.start);u.mapper.bindElements(a.item,h),u.writer.insert(p,h),u.convertAttributes(a.item),gP(h,a.item.getChildren(),u,{reconversion:a.reconversion})}}function $Z(l){return(n,i,a)=>{i.isOpening=!0;const u=l(i,a);i.isOpening=!1;const h=l(i,a);if(!u||!h)return;const p=i.markerRange;if(p.isCollapsed&&!a.consumable.consume(p,n.name))return;for(const w of p)if(!a.consumable.consume(w.item,n.name))return;const g=a.mapper,b=a.writer;b.insert(g.toViewPosition(p.start),u),a.mapper.bindElementToMarker(u,i.markerName),p.isCollapsed||(b.insert(g.toViewPosition(p.end),h),a.mapper.bindElementToMarker(h,i.markerName)),n.stop()}}function uP(l,n,i,a,u){const h=n?l.start:l.end,p=h.nodeAfter&&h.nodeAfter.is("element")?h.nodeAfter:null,g=h.nodeBefore&&h.nodeBefore.is("element")?h.nodeBefore:null;if(p||g){let b,w;n&&p||!n&&!g?(b=p,w=!0):(b=g,w=!1);const C=i.mapper.toViewElement(b);if(C)return void function(E,M,O,L,F,H){const K=`data-${H.group}-${M?"start":"end"}-${O?"before":"after"}`,X=E.hasAttribute(K)?E.getAttribute(K).split(","):[];X.unshift(H.name),L.writer.setAttribute(K,X.join(","),E),L.mapper.bindElementToMarker(E,F.markerName)}(C,n,w,i,a,u)}(function(b,w,C,E,M){const O=`${M.group}-${w?"start":"end"}`,L=M.name?{name:M.name}:null,F=C.writer.createUIElement(O,L);C.writer.insert(b,F),C.mapper.bindElementToMarker(F,E.markerName)})(i.mapper.toViewPosition(h),n,i,a,u)}function dP(l){return typeof l=="string"&&(l={name:l}),{name:l.name,attributes:l.attributes?fn(l.attributes):[],children:!!l.children}}function Zp(l,n){return typeof l=="function"?l:(i,a)=>function(u,h,p){typeof u=="string"&&(u={name:u});let g;const b=h.writer,w=Object.assign({},u.attributes);if(p=="container")g=b.createContainerElement(u.name,w);else if(p=="attribute"){const C={priority:u.priority||Pc.DEFAULT_PRIORITY};g=b.createAttributeElement(u.name,w,C)}else g=b.createUIElement(u.name,w);if(u.styles){const C=Object.keys(u.styles);for(const E of C)b.setStyle(E,u.styles[E],g)}if(u.classes){const C=u.classes;if(typeof C=="string")b.addClass(C,g);else for(const E of C)b.addClass(E,g)}return g}(l,a,n)}function hP(l){return l.model.values?(n,i,a)=>{const u=l.view[n];return u?u(n,i,a):null}:l.view}function pP(l){return typeof l=="string"?n=>({key:l,value:n}):typeof l=="object"?l.value?()=>l:n=>({key:l.key,value:n}):l}function JC(l,n,i){const a=typeof l=="function"?l(n,i):l;return a?(a.priority||(a.priority=10),a.id||(a.id=n.markerName),a):null}function fP(l){const n=function(i){return(a,u)=>{if(!a.is("element",i.name))return!1;if(u.type=="attribute"){if(i.attributes.includes(u.attributeKey))return!0}else if(i.children)return!0;return!1}}(l);return(i,a)=>{const u=[];a.reconvertedElements||(a.reconvertedElements=new Set);for(const h of a.changes){const p=h.type=="attribute"?h.range.start.nodeAfter:h.position.parent;if(p&&n(p,h)){if(!a.reconvertedElements.has(p)){a.reconvertedElements.add(p);const g=de._createBefore(p);let b=u.length;for(let w=u.length-1;w>=0;w--){const C=u[w],E=(C.type=="attribute"?C.range.start:C.position).compareWith(g);if(E=="before"||C.type=="remove"&&E=="same")break;b=w}u.splice(b,0,{type:"remove",name:p.name,position:g,length:1},{type:"reinsert",name:p.name,position:g,length:1})}}else u.push(h)}a.changes=u}}function mP(l){return(n,i,a={})=>{const u=["insert"];for(const h of l.attributes)n.hasAttribute(h)&&u.push(`attribute:${h}`);return!!u.every(h=>i.test(n,h))&&(a.preflight||u.forEach(h=>i.consume(n,h)),!0)}}function gP(l,n,i,a){for(const u of n)VZ(l.root,u,i,a)||i.convertItem(u)}function VZ(l,n,i,a){const{writer:u,mapper:h}=i;if(!a.reconversion)return!1;const p=h.toViewElement(n);return!(!p||p.root==l)&&!!i.canReuseView(p)&&(u.move(u.createRangeOn(p),h.toViewPosition(de._createBefore(n))),!0)}function UZ(l,n,{preflight:i}={}){return i?n.test(l,"insert"):n.consume(l,"insert")}function bP(l){const{schema:n,document:i}=l.model;for(const a of i.getRoots())if(a.isEmpty&&!n.checkChild(a,"$text")&&n.checkChild(a,"paragraph"))return l.insertElement("paragraph",a),!0;return!1}function kP(l,n,i){const a=i.createContext(l);return!!i.checkChild(a,"paragraph")&&!!i.checkChild(a.push("paragraph"),n)}function vP(l,n){const i=n.createElement("paragraph");return n.insert(i,l),n.createPositionAt(i,0)}var HZ=Object.defineProperty,WZ=Object.defineProperties,qZ=Object.getOwnPropertyDescriptors,wP=Object.getOwnPropertySymbols,GZ=Object.prototype.hasOwnProperty,KZ=Object.prototype.propertyIsEnumerable,yP=(l,n,i)=>n in l?HZ(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i;class YZ extends lP{elementToElement(n){return this.add(_P(n))}elementToAttribute(n){return this.add(function(i){i=Ji(i),CP(i);const a=AP(i,!1),u=XC(i.view),h=u?`element:${u}`:"element";return p=>{p.on(h,a,{priority:i.converterPriority||"low"})}}(n))}attributeToAttribute(n){return this.add(function(i){i=Ji(i);let a=null;(typeof i.view=="string"||i.view.key)&&(a=function(h){typeof h.view=="string"&&(h.view={key:h.view});const p=h.view.key,g=h.view.value===void 0?/[\s\S]*/:h.view.value;let b;return p=="class"||p=="style"?b={[p=="class"?"classes":"styles"]:g}:b={attributes:{[p]:g}},h.view.name&&(b.name=h.view.name),h.view=b,p}(i)),CP(i,a);const u=AP(i,!0);return h=>{h.on("element",u,{priority:i.converterPriority||"low"})}}(n))}elementToMarker(n){return this.add(function(i){const a=function(p){return(g,b)=>{const w=typeof p=="string"?p:p(g,b);return b.writer.createElement("$marker",{"data-name":w})}}(i.model);return _P((u=((p,g)=>{for(var b in g||(g={}))GZ.call(g,b)&&yP(p,b,g[b]);if(wP)for(var b of wP(g))KZ.call(g,b)&&yP(p,b,g[b]);return p})({},i),h={model:a},WZ(u,qZ(h))));var u,h}(n))}dataToMarker(n){return this.add(function(i){i=Ji(i),i.model||(i.model=p=>p?i.view+":"+p:i.view);const a={view:i.view,model:i.model},u=eA(xP(a,"start")),h=eA(xP(a,"end"));return p=>{p.on(`element:${i.view}-start`,u,{priority:i.converterPriority||"normal"}),p.on(`element:${i.view}-end`,h,{priority:i.converterPriority||"normal"});const g=j.low,b=j.highest,w=j.get(i.converterPriority)/b;p.on("element",function(C){return(E,M,O)=>{const L=`data-${C.view}`;function F(H,K){for(const X of K){const oe=C.model(X,O),le=O.writer.createElement("$marker",{"data-name":oe});O.writer.insert(le,H),M.modelCursor.isEqual(H)?M.modelCursor=M.modelCursor.getShiftedBy(1):M.modelCursor=M.modelCursor._getTransformedByInsertion(H,1),M.modelRange=M.modelRange._getTransformedByInsertion(H,1)[0]}}(O.consumable.test(M.viewItem,{attributes:L+"-end-after"})||O.consumable.test(M.viewItem,{attributes:L+"-start-after"})||O.consumable.test(M.viewItem,{attributes:L+"-end-before"})||O.consumable.test(M.viewItem,{attributes:L+"-start-before"}))&&(M.modelRange||Object.assign(M,O.convertChildren(M.viewItem,M.modelCursor)),O.consumable.consume(M.viewItem,{attributes:L+"-end-after"})&&F(M.modelRange.end,M.viewItem.getAttribute(L+"-end-after").split(",")),O.consumable.consume(M.viewItem,{attributes:L+"-start-after"})&&F(M.modelRange.end,M.viewItem.getAttribute(L+"-start-after").split(",")),O.consumable.consume(M.viewItem,{attributes:L+"-end-before"})&&F(M.modelRange.start,M.viewItem.getAttribute(L+"-end-before").split(",")),O.consumable.consume(M.viewItem,{attributes:L+"-start-before"})&&F(M.modelRange.start,M.viewItem.getAttribute(L+"-start-before").split(",")))}}(a),{priority:g+w})}}(n))}}function _P(l){const n=eA(l=Ji(l)),i=XC(l.view),a=i?`element:${i}`:"element";return u=>{u.on(a,n,{priority:l.converterPriority||"normal"})}}function XC(l){return typeof l=="string"?l:typeof l=="object"&&typeof l.name=="string"?l.name:null}function eA(l){const n=new Cs(l.view);return(i,a,u)=>{const h=n.match(a.viewItem);if(!h)return;const p=h.match;if(p.name=!0,!u.consumable.test(a.viewItem,p))return;const g=function(b,w,C){return b instanceof Function?b(w,C):C.writer.createElement(b)}(l.model,a.viewItem,u);g&&u.safeInsert(g,a.modelCursor)&&(u.consumable.consume(a.viewItem,p),u.convertChildren(a.viewItem,g),u.updateConversionResult(g,a))}}function CP(l,n=null){const i=n===null||(h=>h.getAttribute(n)),a=typeof l.model!="object"?l.model:l.model.key,u=typeof l.model!="object"||l.model.value===void 0?i:l.model.value;l.model={key:a,value:u}}function AP(l,n){const i=new Cs(l.view);return(a,u,h)=>{if(!u.modelRange&&n)return;const p=i.match(u.viewItem);if(!p||(function(C,E){const M=typeof C=="function"?C(E):C;return typeof M=="object"&&!XC(M)?!1:!M.classes&&!M.attributes&&!M.styles}(l.view,u.viewItem)?p.match.name=!0:delete p.match.name,!h.consumable.test(u.viewItem,p.match)))return;const g=l.model.key,b=typeof l.model.value=="function"?l.model.value(u.viewItem,h):l.model.value;if(b===null)return;u.modelRange||Object.assign(u,h.convertChildren(u.viewItem,u.modelCursor)),function(C,E,M,O){let L=!1;for(const F of Array.from(C.getItems({shallow:M})))O.schema.checkAttribute(F,E.key)&&(L=!0,F.hasAttribute(E.key)||O.writer.setAttribute(E.key,E.value,F));return L}(u.modelRange,{key:g,value:b},n,h)&&(h.consumable.test(u.viewItem,{name:!0})&&(p.match.name=!0),h.consumable.consume(u.viewItem,p.match))}}function xP(l,n){return{view:`${l.view}-${n}`,model:(i,a)=>{const u=i.getAttribute("name"),h=l.model(u,a);return a.writer.createElement("$marker",{"data-name":h})}}}function QZ(l){l.document.registerPostFixer(n=>function(i,a){const u=a.document.selection,h=a.schema,p=[];let g=!1;for(const b of u.getRanges()){const w=EP(b,h);w&&!w.isEqual(b)?(p.push(w),g=!0):p.push(b)}return g&&i.setSelection(function(b){const w=[...b],C=new Set;let E=1;for(;E<w.length;){const M=w[E],O=w.slice(0,E);for(const[L,F]of O.entries())if(!C.has(L)){if(M.isEqual(F))C.add(L);else if(M.isIntersecting(F)){C.add(L),C.add(E);const H=M.getJoined(F);w.push(H)}}E++}return w.filter((M,O)=>!C.has(O))}(p),{backward:u.isBackward}),!1}(n,l))}function EP(l,n){return l.isCollapsed?function(i,a){const u=i.start,h=a.getNearestSelectionRange(u);if(!h){const g=u.getAncestors().reverse().find(b=>a.isObject(b));return g?se._createOn(g):null}if(!h.isCollapsed)return h;const p=h.start;return u.isEqual(p)?null:new se(p)}(l,n):function(i,a){const{start:u,end:h}=i,p=a.checkChild(u,"$text"),g=a.checkChild(h,"$text"),b=a.getLimitElement(u),w=a.getLimitElement(h);if(b===w){if(p&&g)return null;if(function(M,O,L){const F=M.nodeAfter&&!L.isLimit(M.nodeAfter)||L.checkChild(M,"$text"),H=O.nodeBefore&&!L.isLimit(O.nodeBefore)||L.checkChild(O,"$text");return F||H}(u,h,a)){const M=u.nodeAfter&&a.isSelectable(u.nodeAfter)?null:a.getNearestSelectionRange(u,"forward"),O=h.nodeBefore&&a.isSelectable(h.nodeBefore)?null:a.getNearestSelectionRange(h,"backward"),L=M?M.start:u,F=O?O.end:h;return new se(L,F)}}const C=b&&!b.is("rootElement"),E=w&&!w.is("rootElement");if(C||E){const M=u.nodeAfter&&h.nodeBefore&&u.nodeAfter.parent===h.nodeBefore.parent,O=C&&(!M||!DP(u.nodeAfter,a)),L=E&&(!M||!DP(h.nodeBefore,a));let F=u,H=h;return O&&(F=de._createBefore(SP(b,a))),L&&(H=de._createAfter(SP(w,a))),new se(F,H)}return null}(l,n)}function SP(l,n){let i=l,a=i;for(;n.isLimit(a)&&a.parent;)i=a,a=a.parent;return i}function DP(l,n){return l&&n.isSelectable(l)}class ZZ extends be(){constructor(n,i){super(),this.model=n,this.view=new AZ(i),this.mapper=new eP,this.downcastDispatcher=new oP({mapper:this.mapper,schema:n.schema});const a=this.model.document,u=a.selection,h=this.model.markers;var p,g,b;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(a,"change",()=>{this.view.change(w=>{this.downcastDispatcher.convertChanges(a.differ,h,w),this.downcastDispatcher.convertSelection(u,h,w)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(w,C){return(E,M)=>{const O=M.newSelection,L=[];for(const H of O.getRanges())L.push(C.toModelRange(H));const F=w.createSelection(L,{backward:O.isBackward});F.isEqual(w.document.selection)||w.change(H=>{H.setSelection(F)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(p=this.mapper,g=this.model.schema,b=this.view,(w,C)=>{if(!b.document.isComposing||v.isAndroid)for(let E=0;E<C.targetRanges.length;E++){const M=C.targetRanges[E],O=p.toModelRange(M),L=EP(O,g);L&&!L.isEqual(O)&&(C.targetRanges[E]=p.toViewRange(L))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(w,C,E)=>{if(!E.consumable.consume(C.item,w.name))return;const M=E.writer,O=E.mapper.toViewPosition(C.range.start),L=M.createText(C.item.data);M.insert(O,L)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(w,C,E)=>{E.convertAttributes(C.item),C.reconversion||!C.item.is("element")||C.item.isEmpty||E.convertChildren(C.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(w,C,E)=>{const M=E.mapper.toViewPosition(C.position),O=C.position.getShiftedBy(C.length),L=E.mapper.toViewPosition(O,{isPhantom:!0}),F=E.writer.createRange(M,L),H=E.writer.remove(F.getTrimmed());for(const K of E.writer.createRangeIn(H).getItems())E.mapper.unbindViewElement(K,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(w,C,E)=>{const M=E.writer,O=M.document.selection;for(const L of O.getRanges())L.isCollapsed&&L.end.parent.isAttached()&&E.writer.mergeAttributes(L.start);M.setSelection(null)}),this.downcastDispatcher.on("selection",(w,C,E)=>{const M=C.selection;if(M.isCollapsed||!E.consumable.consume(M,"selection"))return;const O=[];for(const L of M.getRanges())O.push(E.mapper.toViewRange(L));E.writer.setSelection(O,{backward:M.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(w,C,E)=>{const M=C.selection;if(!M.isCollapsed||!E.consumable.consume(M,"selection"))return;const O=E.writer,L=M.getFirstPosition(),F=E.mapper.toViewPosition(L),H=O.breakAttributes(F);O.setSelection(H)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(w=>{if(w.rootName=="$graveyard")return null;const C=new C5(this.view.document,w.name);return C.rootName=w.rootName,this.mapper.bindElements(w,C),C})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(n){const i=typeof n=="string"?n:n.name,a=this.model.markers.get(i);if(!a)throw new R("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:i});this.model.change(()=>{this.model.markers._refresh(a)})}reconvertItem(n){this.model.change(()=>{this.model.document.differ._refreshItem(n)})}}class Jp{constructor(){this._consumables=new Map}add(n,i){let a;n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!0):(this._consumables.has(n)?a=this._consumables.get(n):(a=new JZ(n),this._consumables.set(n,a)),a.add(i))}test(n,i){const a=this._consumables.get(n);return a===void 0?null:n.is("$text")||n.is("documentFragment")?a:a.test(i)}consume(n,i){return!!this.test(n,i)&&(n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!1):this._consumables.get(n).consume(i),!0)}revert(n,i){const a=this._consumables.get(n);a!==void 0&&(n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!0):a.revert(i))}static consumablesFromElement(n){const i={element:n,name:!0,attributes:[],classes:[],styles:[]},a=n.getAttributeKeys();for(const p of a)p!="style"&&p!="class"&&i.attributes.push(p);const u=n.getClassNames();for(const p of u)i.classes.push(p);const h=n.getStyleNames();for(const p of h)i.styles.push(p);return i}static createFrom(n,i){if(i||(i=new Jp),n.is("$text"))return i.add(n),i;n.is("element")&&i.add(n,Jp.consumablesFromElement(n)),n.is("documentFragment")&&i.add(n);for(const a of n.getChildren())i=Jp.createFrom(a,i);return i}}const bk=["attributes","classes","styles"];class JZ{constructor(n){this.element=n,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(n){n.name&&(this._canConsumeName=!0);for(const i of bk)i in n&&this._add(i,n[i])}test(n){if(n.name&&!this._canConsumeName)return this._canConsumeName;for(const i of bk)if(i in n){const a=this._test(i,n[i]);if(a!==!0)return a}return!0}consume(n){n.name&&(this._canConsumeName=!1);for(const i of bk)i in n&&this._consume(i,n[i])}revert(n){n.name&&(this._canConsumeName=!0);for(const i of bk)i in n&&this._revert(i,n[i])}_add(n,i){const a=fn(i),u=this._consumables[n];for(const h of a){if(n==="attributes"&&(h==="class"||h==="style"))throw new R("viewconsumable-invalid-attribute",this);if(u.set(h,!0),n==="styles")for(const p of this.element.document.stylesProcessor.getRelatedStyles(h))u.set(p,!0)}}_test(n,i){const a=fn(i),u=this._consumables[n];for(const h of a)if(n!=="attributes"||h!=="class"&&h!=="style"){const p=u.get(h);if(p===void 0)return null;if(!p)return!1}else{const p=h=="class"?"classes":"styles",g=this._test(p,[...this._consumables[p].keys()]);if(g!==!0)return g}return!0}_consume(n,i){const a=fn(i),u=this._consumables[n];for(const h of a)if(n!=="attributes"||h!=="class"&&h!=="style"){if(u.set(h,!1),n=="styles")for(const p of this.element.document.stylesProcessor.getRelatedStyles(h))u.set(p,!1)}else{const p=h=="class"?"classes":"styles";this._consume(p,[...this._consumables[p].keys()])}}_revert(n,i){const a=fn(i),u=this._consumables[n];for(const h of a)if(n!=="attributes"||h!=="class"&&h!=="style")u.get(h)===!1&&u.set(h,!0);else{const p=h=="class"?"classes":"styles";this._revert(p,[...this._consumables[p].keys()])}}}class XZ extends be(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(n,i)=>{i[0]=new Bc(i[0])},{priority:"highest"}),this.on("checkChild",(n,i)=>{i[0]=new Bc(i[0]),i[1]=this.getDefinition(i[1])},{priority:"highest"})}register(n,i){if(this._sourceDefinitions[n])throw new R("schema-cannot-register-item-twice",this,{itemName:n});this._sourceDefinitions[n]=[Object.assign({},i)],this._clearCache()}extend(n,i){if(!this._sourceDefinitions[n])throw new R("schema-cannot-extend-missing-item",this,{itemName:n});this._sourceDefinitions[n].push(Object.assign({},i)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(n){let i;return i=typeof n=="string"?n:"is"in n&&(n.is("$text")||n.is("$textProxy"))?"$text":n.name,this.getDefinitions()[i]}isRegistered(n){return!!this.getDefinition(n)}isBlock(n){const i=this.getDefinition(n);return!(!i||!i.isBlock)}isLimit(n){const i=this.getDefinition(n);return!!i&&!(!i.isLimit&&!i.isObject)}isObject(n){const i=this.getDefinition(n);return!!i&&!!(i.isObject||i.isLimit&&i.isSelectable&&i.isContent)}isInline(n){const i=this.getDefinition(n);return!(!i||!i.isInline)}isSelectable(n){const i=this.getDefinition(n);return!!i&&!(!i.isSelectable&&!i.isObject)}isContent(n){const i=this.getDefinition(n);return!!i&&!(!i.isContent&&!i.isObject)}checkChild(n,i){return!!i&&this._checkContextMatch(i,n)}checkAttribute(n,i){const a=this.getDefinition(n.last);return!!a&&a.allowAttributes.includes(i)}checkMerge(n,i){if(n instanceof de){const a=n.nodeBefore,u=n.nodeAfter;if(!(a instanceof Jt))throw new R("schema-check-merge-no-element-before",this);if(!(u instanceof Jt))throw new R("schema-check-merge-no-element-after",this);return this.checkMerge(a,u)}for(const a of i.getChildren())if(!this.checkChild(n,a))return!1;return!0}addChildCheck(n){this.on("checkChild",(i,[a,u])=>{if(!u)return;const h=n(a,u);typeof h=="boolean"&&(i.stop(),i.return=h)},{priority:"high"})}addAttributeCheck(n){this.on("checkAttribute",(i,[a,u])=>{const h=n(a,u);typeof h=="boolean"&&(i.stop(),i.return=h)},{priority:"high"})}setAttributeProperties(n,i){this._attributeProperties[n]=Object.assign(this.getAttributeProperties(n),i)}getAttributeProperties(n){return this._attributeProperties[n]||{}}getLimitElement(n){let i;for(n instanceof de?i=n.parent:i=(n instanceof se?[n]:Array.from(n.getRanges())).reduce((a,u)=>{const h=u.getCommonAncestor();return a?a.getCommonAncestor(h,{includeSelf:!0}):h},null);!this.isLimit(i)&&i.parent;)i=i.parent;return i}checkAttributeInSelection(n,i){if(n.isCollapsed){const a=[...n.getFirstPosition().getAncestors(),new hn("",n.getAttributes())];return this.checkAttribute(a,i)}{const a=n.getRanges();for(const u of a)for(const h of u)if(this.checkAttribute(h.item,i))return!0}return!1}*getValidRanges(n,i){n=function*(a){for(const u of a)yield*u.getMinimalFlatRanges()}(n);for(const a of n)yield*this._getValidRangesForRange(a,i)}getNearestSelectionRange(n,i="both"){if(n.root.rootName=="$graveyard")return null;if(this.checkChild(n,"$text"))return new se(n);let a,u;const h=n.getAncestors().reverse().find(p=>this.isLimit(p))||n.root;i!="both"&&i!="backward"||(a=new ha({boundaries:se._createIn(h),startPosition:n,direction:"backward"})),i!="both"&&i!="forward"||(u=new ha({boundaries:se._createIn(h),startPosition:n}));for(const p of function*(g,b){let w=!1;for(;!w;){if(w=!0,g){const C=g.next();C.done||(w=!1,yield{walker:g,value:C.value})}if(b){const C=b.next();C.done||(w=!1,yield{walker:b,value:C.value})}}}(a,u)){const g=p.walker==a?"elementEnd":"elementStart",b=p.value;if(b.type==g&&this.isObject(b.item))return se._createOn(b.item);if(this.checkChild(b.nextPosition,"$text"))return new se(b.nextPosition)}return null}findAllowedParent(n,i){let a=n.parent;for(;a;){if(this.checkChild(a,i))return a;if(this.isLimit(a))return null;a=a.parent}return null}setAllowedAttributes(n,i,a){const u=a.model;for(const[h,p]of Object.entries(i))u.schema.checkAttribute(n,h)&&a.setAttribute(h,p,n)}removeDisallowedAttributes(n,i){for(const a of n)if(a.is("$text"))TP(this,a,i);else{const u=se._createIn(a).getPositions();for(const h of u)TP(this,h.nodeBefore||h.parent,i)}}getAttributesWithProperty(n,i,a){const u={};for(const[h,p]of n.getAttributes()){const g=this.getAttributeProperties(h);g[i]!==void 0&&(a!==void 0&&a!==g[i]||(u[h]=p))}return u}createContext(n){return new Bc(n)}_clearCache(){this._compiledDefinitions=null}_compile(){const n={},i=this._sourceDefinitions,a=Object.keys(i);for(const u of a)n[u]=eJ(i[u],u);for(const u of a)tJ(n,u);for(const u of a)nJ(n,u);for(const u of a)rJ(n,u);for(const u of a)oJ(n,u),iJ(n,u);for(const u of a)sJ(n,u),aJ(n,u),lJ(n,u);this._compiledDefinitions=n}_checkContextMatch(n,i,a=i.length-1){const u=i.getItem(a);if(n.allowIn.includes(u.name)){if(a==0)return!0;{const h=this.getDefinition(u);return this._checkContextMatch(h,i,a-1)}}return!1}*_getValidRangesForRange(n,i){let a=n.start,u=n.start;for(const h of n.getItems({shallow:!0}))h.is("element")&&(yield*this._getValidRangesForRange(se._createIn(h),i)),this.checkAttribute(h,i)||(a.isEqual(u)||(yield new se(a,u)),a=de._createAfter(h)),u=de._createAfter(h);a.isEqual(u)||(yield new se(a,u))}findOptimalInsertionRange(n,i){const a=n.getSelectedElement();if(a&&this.isObject(a)&&!this.isInline(a))return i=="before"||i=="after"?new se(de._createAt(a,i)):se._createOn(a);const u=Ar(n.getSelectedBlocks());if(!u)return new se(n.focus);if(u.isEmpty)return new se(de._createAt(u,0));const h=de._createAfter(u);return n.focus.isTouching(h)?new se(h):new se(de._createBefore(u))}}class Bc{constructor(n){if(n instanceof Bc)return n;let i;i=typeof n=="string"?[n]:Array.isArray(n)?n:n.getAncestors({includeSelf:!0}),this._items=i.map(uJ)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(n){const i=new Bc([n]);return i._items=[...this._items,...i._items],i}getItem(n){return this._items[n]}*getNames(){yield*this._items.map(n=>n.name)}endsWith(n){return Array.from(this.getNames()).join(" ").endsWith(n)}startsWith(n){return Array.from(this.getNames()).join(" ").startsWith(n)}}function eJ(l,n){const i={name:n,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(a,u){for(const h of a){const p=Object.keys(h).filter(g=>g.startsWith("is"));for(const g of p)u[g]=!!h[g]}}(l,i),Lc(l,i,"allowIn"),Lc(l,i,"allowContentOf"),Lc(l,i,"allowWhere"),Lc(l,i,"allowAttributes"),Lc(l,i,"allowAttributesOf"),Lc(l,i,"allowChildren"),Lc(l,i,"inheritTypesFrom"),function(a,u){for(const h of a){const p=h.inheritAllFrom;p&&(u.allowContentOf.push(p),u.allowWhere.push(p),u.allowAttributesOf.push(p),u.inheritTypesFrom.push(p))}}(l,i),i}function tJ(l,n){const i=l[n];for(const a of i.allowChildren){const u=l[a];u&&u.allowIn.push(n)}i.allowChildren.length=0}function nJ(l,n){for(const i of l[n].allowContentOf)l[i]&&cJ(l,i).forEach(a=>{a.allowIn.push(n)});delete l[n].allowContentOf}function rJ(l,n){for(const i of l[n].allowWhere){const a=l[i];if(a){const u=a.allowIn;l[n].allowIn.push(...u)}}delete l[n].allowWhere}function oJ(l,n){for(const i of l[n].allowAttributesOf){const a=l[i];if(a){const u=a.allowAttributes;l[n].allowAttributes.push(...u)}}delete l[n].allowAttributesOf}function iJ(l,n){const i=l[n];for(const a of i.inheritTypesFrom){const u=l[a];if(u){const h=Object.keys(u).filter(p=>p.startsWith("is"));for(const p of h)p in i||(i[p]=u[p])}}delete i.inheritTypesFrom}function sJ(l,n){const i=l[n],a=i.allowIn.filter(u=>l[u]);i.allowIn=Array.from(new Set(a))}function aJ(l,n){const i=l[n];for(const a of i.allowIn)l[a].allowChildren.push(n)}function lJ(l,n){const i=l[n];i.allowAttributes=Array.from(new Set(i.allowAttributes))}function Lc(l,n,i){for(const a of l){const u=a[i];typeof u=="string"?n[i].push(u):Array.isArray(u)&&n[i].push(...u)}}function cJ(l,n){const i=l[n];return(a=l,Object.keys(a).map(u=>a[u])).filter(u=>u.allowIn.includes(i.name));var a}function uJ(l){return typeof l=="string"||l.is("documentFragment")?{name:typeof l=="string"?l:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:l.is("element")?l.name:"$text",*getAttributeKeys(){yield*l.getAttributeKeys()},getAttribute:n=>l.getAttribute(n)}}function TP(l,n,i){for(const a of n.getAttributeKeys())l.checkAttribute(n,a)||i.removeAttribute(a,n)}var dJ=Object.defineProperty,hJ=Object.defineProperties,pJ=Object.getOwnPropertyDescriptors,IP=Object.getOwnPropertySymbols,fJ=Object.prototype.hasOwnProperty,mJ=Object.prototype.propertyIsEnumerable,MP=(l,n,i)=>n in l?dJ(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i;class gJ extends G(){constructor(n){var i;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(i=((a,u)=>{for(var h in u||(u={}))fJ.call(u,h)&&MP(a,h,u[h]);if(IP)for(var h of IP(u))mJ.call(u,h)&&MP(a,h,u[h]);return a})({},n),hJ(i,pJ({consumable:null,writer:null,store:null,convertItem:(a,u)=>this._convertItem(a,u),convertChildren:(a,u)=>this._convertChildren(a,u),safeInsert:(a,u)=>this._safeInsert(a,u),updateConversionResult:(a,u)=>this._updateConversionResult(a,u),splitToAllowedParent:(a,u)=>this._splitToAllowedParent(a,u),getSplitParts:a=>this._getSplitParts(a),keepEmptyElement:a=>this._keepEmptyElement(a)})))}convert(n,i,a=["$root"]){this.fire("viewCleanup",n),this._modelCursor=function(p,g){let b;for(const w of new Bc(p)){const C={};for(const M of w.getAttributeKeys())C[M]=w.getAttribute(M);const E=g.createElement(w.name,C);b&&g.insert(E,b),b=de._createAt(E,0)}return b}(a,i),this.conversionApi.writer=i,this.conversionApi.consumable=Jp.createFrom(n),this.conversionApi.store={};const{modelRange:u}=this._convertItem(n,this._modelCursor),h=i.createDocumentFragment();if(u){this._removeEmptyElements();for(const p of Array.from(this._modelCursor.parent.getChildren()))i.append(p,h);h.markers=function(p,g){const b=new Set,w=new Map,C=se._createIn(p).getItems();for(const E of C)E.is("element","$marker")&&b.add(E);for(const E of b){const M=E.getAttribute("data-name"),O=g.createPositionBefore(E);w.has(M)?w.get(M).end=O.clone():w.set(M,new se(O.clone())),g.remove(E)}return w}(h,i)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,h}_convertItem(n,i){const a={viewItem:n,modelCursor:i,modelRange:null};if(n.is("element")?this.fire(`element:${n.name}`,a,this.conversionApi):n.is("$text")?this.fire("text",a,this.conversionApi):this.fire("documentFragment",a,this.conversionApi),a.modelRange&&!(a.modelRange instanceof se))throw new R("view-conversion-dispatcher-incorrect-result",this);return{modelRange:a.modelRange,modelCursor:a.modelCursor}}_convertChildren(n,i){let a=i.is("position")?i:de._createAt(i,0);const u=new se(a);for(const h of Array.from(n.getChildren())){const p=this._convertItem(h,a);p.modelRange instanceof se&&(u.end=p.modelRange.end,a=p.modelCursor)}return{modelRange:u,modelCursor:a}}_safeInsert(n,i){const a=this._splitToAllowedParent(n,i);return!!a&&(this.conversionApi.writer.insert(n,a.position),!0)}_updateConversionResult(n,i){const a=this._getSplitParts(n),u=this.conversionApi.writer;i.modelRange||(i.modelRange=u.createRange(u.createPositionBefore(n),u.createPositionAfter(a[a.length-1])));const h=this._cursorParents.get(n);i.modelCursor=h?u.createPositionAt(h,0):i.modelRange.end}_splitToAllowedParent(n,i){const{schema:a,writer:u}=this.conversionApi;let h=a.findAllowedParent(i,n);if(h){if(h===i.parent)return{position:i};this._modelCursor.parent.getAncestors().includes(h)&&(h=null)}if(!h)return kP(i,n,a)?{position:vP(i,u)}:null;const p=this.conversionApi.writer.split(i,h),g=[];for(const w of p.range.getWalker())if(w.type=="elementEnd")g.push(w.item);else{const C=g.pop(),E=w.item;this._registerSplitPair(C,E)}const b=p.range.end.parent;return this._cursorParents.set(n,b),{position:p.position,cursorParent:b}}_registerSplitPair(n,i){this._splitParts.has(n)||this._splitParts.set(n,[n]);const a=this._splitParts.get(n);this._splitParts.set(i,a),a.push(i)}_getSplitParts(n){let i;return i=this._splitParts.has(n)?this._splitParts.get(n):[n],i}_keepEmptyElement(n){this._emptyElementsToKeep.add(n)}_removeEmptyElements(){let n=!1;for(const i of this._splitParts.keys())i.isEmpty&&!this._emptyElementsToKeep.has(i)&&(this.conversionApi.writer.remove(i),this._splitParts.delete(i),n=!0);n&&this._removeEmptyElements()}}class bJ{getHtml(n){const i=m.document.implementation.createHTMLDocument("").createElement("div");return i.appendChild(n),i.innerHTML}}class kJ{constructor(n){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new uk(n,{renderingMode:"data"}),this.htmlWriter=new bJ}toData(n){const i=this.domConverter.viewToDom(n);return this.htmlWriter.getHtml(i)}toView(n){const i=this._toDom(n);return this.domConverter.domToView(i,{skipComments:this.skipComments})}registerRawContentMatcher(n){this.domConverter.registerRawContentMatcher(n)}useFillerType(n){this.domConverter.blockFillerMode=n=="marked"?"markedNbsp":"nbsp"}_toDom(n){n.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(n=`<body>${n}</body>`);const i=this.domParser.parseFromString(n,"text/html"),a=i.createDocumentFragment(),u=i.body.childNodes;for(;u.length>0;)a.appendChild(u[0]);return a}}class vJ extends G(){constructor(n,i){super(),this.model=n,this.mapper=new eP,this.downcastDispatcher=new oP({mapper:this.mapper,schema:n.schema}),this.downcastDispatcher.on("insert:$text",(a,u,h)=>{if(!h.consumable.consume(u.item,a.name))return;const p=h.writer,g=h.mapper.toViewPosition(u.range.start),b=p.createText(u.item.data);p.insert(g,b)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(a,u,h)=>{h.convertAttributes(u.item),u.reconversion||!u.item.is("element")||u.item.isEmpty||h.convertChildren(u.item)},{priority:"lowest"}),this.upcastDispatcher=new gJ({schema:n.schema}),this.viewDocument=new ak(i),this.stylesProcessor=i,this.htmlProcessor=new kJ(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new x5(this.viewDocument),this.upcastDispatcher.on("text",(a,u,{schema:h,consumable:p,writer:g})=>{let b=u.modelCursor;if(!p.test(u.viewItem))return;if(!h.checkChild(b,"$text")){if(!kP(b,"$text",h)||u.viewItem.data.trim().length==0)return;const C=b.nodeBefore;b=vP(b,g),C&&C.is("element","$marker")&&(g.move(g.createRangeOn(C),b),b=g.createPositionAfter(C))}p.consume(u.viewItem);const w=g.createText(u.viewItem.data);g.insert(w,b),u.modelRange=g.createRange(b,b.getShiftedBy(w.offsetSize)),u.modelCursor=u.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(a,u,h)=>{if(!u.modelRange&&h.consumable.consume(u.viewItem,{name:!0})){const{modelRange:p,modelCursor:g}=h.convertChildren(u.viewItem,u.modelCursor);u.modelRange=p,u.modelCursor=g}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(a,u,h)=>{if(!u.modelRange&&h.consumable.consume(u.viewItem,{name:!0})){const{modelRange:p,modelCursor:g}=h.convertChildren(u.viewItem,u.modelCursor);u.modelRange=p,u.modelCursor=g}},{priority:"lowest"}),be().prototype.decorate.call(this,"init"),be().prototype.decorate.call(this,"set"),be().prototype.decorate.call(this,"get"),be().prototype.decorate.call(this,"toView"),be().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},bP)},{priority:"lowest"})}get(n={}){const{rootName:i="main",trim:a="empty"}=n;if(!this._checkIfRootsExists([i]))throw new R("datacontroller-get-non-existent-root",this);const u=this.model.document.getRoot(i);return u.isAttached()||z("datacontroller-get-detached-root",this),a!=="empty"||this.model.hasContent(u,{ignoreWhitespaces:!0})?this.stringify(u,n):""}stringify(n,i={}){const a=this.toView(n,i);return this.processor.toData(a)}toView(n,i={}){const a=this.viewDocument,u=this._viewWriter;this.mapper.clearBindings();const h=se._createIn(n),p=new Nc(a);this.mapper.bindElements(n,p);const g=n.is("documentFragment")?n.markers:function(b){const w=[],C=b.root.document;if(!C)return new Map;const E=se._createIn(b);for(const M of C.model.markers){const O=M.getRange(),L=O.isCollapsed,F=O.start.isEqual(E.start)||O.end.isEqual(E.end);if(L&&F)w.push([M.name,O]);else{const H=E.getIntersection(O);H&&w.push([M.name,H])}}return w.sort(([M,O],[L,F])=>{if(O.end.compareWith(F.start)!=="after")return 1;if(O.start.compareWith(F.end)!=="before")return-1;switch(O.start.compareWith(F.start)){case"before":return 1;case"after":return-1;default:switch(O.end.compareWith(F.end)){case"before":return 1;case"after":return-1;default:return L.localeCompare(M)}}}),new Map(w)}(n);return this.downcastDispatcher.convert(h,g,u,i),p}init(n){if(this.model.document.version)throw new R("datacontroller-init-document-not-empty",this);let i={};if(typeof n=="string"?i.main=n:i=n,!this._checkIfRootsExists(Object.keys(i)))throw new R("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},a=>{for(const u of Object.keys(i)){const h=this.model.document.getRoot(u);a.insert(this.parse(i[u],h),h,0)}}),Promise.resolve()}set(n,i={}){let a={};if(typeof n=="string"?a.main=n:a=n,!this._checkIfRootsExists(Object.keys(a)))throw new R("datacontroller-set-non-existent-root",this);this.model.enqueueChange(i.batchType||{},u=>{u.setSelection(null),u.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const h of Object.keys(a)){const p=this.model.document.getRoot(h);u.remove(u.createRangeIn(p)),u.insert(this.parse(a[h],p),p,0)}})}parse(n,i="$root"){const a=this.processor.toView(n);return this.toModel(a,i)}toModel(n,i="$root"){return this.model.change(a=>this.upcastDispatcher.convert(n,a,i))}addStyleProcessorRules(n){n(this.stylesProcessor)}registerRawContentMatcher(n){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(n),this.htmlProcessor.registerRawContentMatcher(n)}destroy(){this.stopListening()}_checkIfRootsExists(n){for(const i of n)if(!this.model.document.getRoot(i))return!1;return!0}}class wJ{constructor(n,i){this._helpers=new Map,this._downcast=fn(n),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=fn(i),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(n,i){const a=this._downcast.includes(i);if(!this._upcast.includes(i)&&!a)throw new R("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:n,dispatchers:[i],isDowncast:a})}for(n){if(!this._helpers.has(n))throw new R("conversion-for-unknown-group",this);return this._helpers.get(n)}elementToElement(n){this.for("downcast").elementToElement(n);for(const{model:i,view:a}of tA(n))this.for("upcast").elementToElement({model:i,view:a,converterPriority:n.converterPriority})}attributeToElement(n){this.for("downcast").attributeToElement(n);for(const{model:i,view:a}of tA(n))this.for("upcast").elementToAttribute({view:a,model:i,converterPriority:n.converterPriority})}attributeToAttribute(n){this.for("downcast").attributeToAttribute(n);for(const{model:i,view:a}of tA(n))this.for("upcast").attributeToAttribute({view:a,model:i})}_createConversionHelpers({name:n,dispatchers:i,isDowncast:a}){if(this._helpers.has(n))throw new R("conversion-group-exists",this);const u=a?new jZ(i):new YZ(i);this._helpers.set(n,u)}}function*tA(l){if(l.model.values)for(const n of l.model.values){const i={key:l.model.key,value:n},a=l.view[n],u=l.upcastAlso?l.upcastAlso[n]:void 0;yield*PP(i,a,u)}else yield*PP(l.model,l.view,l.upcastAlso)}function*PP(l,n,i){if(yield{model:l,view:n},i)for(const a of fn(i))yield{model:l,view:a}}class Qo{constructor(n){this.baseVersion=n,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const n=Object.assign({},this);return n.__className=this.constructor.className,delete n.batch,delete n.isDocumentOperation,n}static get className(){return"Operation"}static fromJSON(n,i){return new this(n.baseVersion)}}function nA(l,n){const i=RP(n),a=i.reduce((p,g)=>p+g.offsetSize,0),u=l.parent;tf(l);const h=l.index;return u._insertChild(h,i),ef(u,h+i.length),ef(u,h),new se(l,l.getShiftedBy(a))}function NP(l){if(!l.isFlat)throw new R("operation-utils-remove-range-not-flat",this);const n=l.start.parent;tf(l.start),tf(l.end);const i=n._removeChildren(l.start.index,l.end.index-l.start.index);return ef(n,l.start.index),i}function Xp(l,n){if(!l.isFlat)throw new R("operation-utils-move-range-not-flat",this);const i=NP(l);return nA(n=n._getTransformedByDeletion(l.start,l.end.offset-l.start.offset),i)}function RP(l){const n=[];(function i(a){if(typeof a=="string")n.push(new hn(a));else if(a instanceof Xi)n.push(new hn(a.data,a.getAttributes()));else if(a instanceof Rc)n.push(a);else if(ut(a))for(const u of a)i(u)})(l);for(let i=1;i<n.length;i++){const a=n[i],u=n[i-1];a instanceof hn&&u instanceof hn&&OP(a,u)&&(n.splice(i-1,2,new hn(u.data+a.data,u.getAttributes())),i--)}return n}function ef(l,n){const i=l.getChild(n-1),a=l.getChild(n);if(i&&a&&i.is("$text")&&a.is("$text")&&OP(i,a)){const u=new hn(i.data+a.data,i.getAttributes());l._removeChildren(n-1,2),l._insertChild(n-1,u)}}function tf(l){const n=l.textNode,i=l.parent;if(n){const a=l.offset-n.startOffset,u=n.index;i._removeChildren(u,1);const h=new hn(n.data.substr(0,a),n.getAttributes()),p=new hn(n.data.substr(a),n.getAttributes());i._insertChild(u,[h,p])}}function OP(l,n){const i=l.getAttributes(),a=n.getAttributes();for(const u of i){if(u[1]!==n.getAttribute(u[0]))return!1;a.next()}return a.next().done}class jt extends Qo{constructor(n,i,a,u){super(u),this.sourcePosition=n.clone(),this.sourcePosition.stickiness="toNext",this.howMany=i,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[se._createFromPositionAndShift(this.sourcePosition,this.howMany),se._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new jt(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const n=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new jt(this.getMovedRangeStart(),this.howMany,n,this.baseVersion+1)}_validate(){const n=this.sourcePosition.parent,i=this.targetPosition.parent,a=this.sourcePosition.offset,u=this.targetPosition.offset;if(a+this.howMany>n.maxOffset)throw new R("move-operation-nodes-do-not-exist",this);if(n===i&&a<u&&u<a+this.howMany)throw new R("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&We(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const h=this.sourcePosition.path.length-1;if(this.targetPosition.path[h]>=a&&this.targetPosition.path[h]<a+this.howMany)throw new R("move-operation-node-into-itself",this)}}_execute(){Xp(se._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const n=super.toJSON();return n.sourcePosition=this.sourcePosition.toJSON(),n.targetPosition=this.targetPosition.toJSON(),n}static get className(){return"MoveOperation"}static fromJSON(n,i){const a=de.fromJSON(n.sourcePosition,i),u=de.fromJSON(n.targetPosition,i);return new this(a,n.howMany,u,n.baseVersion)}}class Er extends Qo{constructor(n,i,a){super(a),this.position=n.clone(),this.position.stickiness="toNone",this.nodes=new Kp(RP(i)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const n=new Kp([...this.nodes].map(a=>a._clone(!0))),i=new Er(this.position,n,this.baseVersion);return i.shouldReceiveAttributes=this.shouldReceiveAttributes,i}getReversed(){const n=this.position.root.document.graveyard,i=new de(n,[0]);return new jt(this.position,this.nodes.maxOffset,i,this.baseVersion+1)}_validate(){const n=this.position.parent;if(!n||n.maxOffset<this.position.offset)throw new R("insert-operation-position-invalid",this)}_execute(){const n=this.nodes;this.nodes=new Kp([...n].map(i=>i._clone(!0))),nA(this.position,n)}toJSON(){const n=super.toJSON();return n.position=this.position.toJSON(),n.nodes=this.nodes.toJSON(),n}static get className(){return"InsertOperation"}static fromJSON(n,i){const a=[];for(const h of n.nodes)h.name?a.push(Jt.fromJSON(h)):a.push(hn.fromJSON(h));const u=new Er(de.fromJSON(n.position,i),a,n.baseVersion);return u.shouldReceiveAttributes=n.shouldReceiveAttributes,u}}class pn extends Qo{constructor(n,i,a,u,h){super(h),this.splitPosition=n.clone(),this.splitPosition.stickiness="toNext",this.howMany=i,this.insertionPosition=a,this.graveyardPosition=u?u.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const n=this.insertionPosition.path.slice();return n.push(0),new de(this.insertionPosition.root,n)}get movedRange(){const n=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new se(this.splitPosition,n)}get affectedSelectable(){const n=[se._createFromPositionAndShift(this.splitPosition,0),se._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&n.push(se._createFromPositionAndShift(this.graveyardPosition,0)),n}clone(){return new pn(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const n=this.splitPosition.root.document.graveyard,i=new de(n,[0]);return new Vn(this.moveTargetPosition,this.howMany,this.splitPosition,i,this.baseVersion+1)}_validate(){const n=this.splitPosition.parent,i=this.splitPosition.offset;if(!n||n.maxOffset<i)throw new R("split-operation-position-invalid",this);if(!n.parent)throw new R("split-operation-split-in-root",this);if(this.howMany!=n.maxOffset-this.splitPosition.offset)throw new R("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new R("split-operation-graveyard-position-invalid",this)}_execute(){const n=this.splitPosition.parent;if(this.graveyardPosition)Xp(se._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const i=n._clone();nA(this.insertionPosition,i)}Xp(new se(de._createAt(n,this.splitPosition.offset),de._createAt(n,n.maxOffset)),this.moveTargetPosition)}toJSON(){const n=super.toJSON();return n.splitPosition=this.splitPosition.toJSON(),n.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(n.graveyardPosition=this.graveyardPosition.toJSON()),n}static get className(){return"SplitOperation"}static getInsertionPosition(n){const i=n.path.slice(0,-1);return i[i.length-1]++,new de(n.root,i,"toPrevious")}static fromJSON(n,i){const a=de.fromJSON(n.splitPosition,i),u=de.fromJSON(n.insertionPosition,i),h=n.graveyardPosition?de.fromJSON(n.graveyardPosition,i):null;return new this(a,n.howMany,u,h,n.baseVersion)}}class Vn extends Qo{constructor(n,i,a,u,h){super(h),this.sourcePosition=n.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=i,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=u.clone()}get type(){return"merge"}get deletionPosition(){return new de(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const n=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new se(this.sourcePosition,n)}get affectedSelectable(){const n=this.sourcePosition.parent;return[se._createOn(n),se._createFromPositionAndShift(this.targetPosition,0),se._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Vn(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const n=this.targetPosition._getTransformedByMergeOperation(this),i=this.sourcePosition.path.slice(0,-1),a=new de(this.sourcePosition.root,i)._getTransformedByMergeOperation(this);return new pn(n,this.howMany,a,this.graveyardPosition,this.baseVersion+1)}_validate(){const n=this.sourcePosition.parent,i=this.targetPosition.parent;if(!n.parent)throw new R("merge-operation-source-position-invalid",this);if(!i.parent)throw new R("merge-operation-target-position-invalid",this);if(this.howMany!=n.maxOffset)throw new R("merge-operation-how-many-invalid",this)}_execute(){const n=this.sourcePosition.parent;Xp(se._createIn(n),this.targetPosition),Xp(se._createOn(n),this.graveyardPosition)}toJSON(){const n=super.toJSON();return n.sourcePosition=n.sourcePosition.toJSON(),n.targetPosition=n.targetPosition.toJSON(),n.graveyardPosition=n.graveyardPosition.toJSON(),n}static get className(){return"MergeOperation"}static fromJSON(n,i){const a=de.fromJSON(n.sourcePosition,i),u=de.fromJSON(n.targetPosition,i),h=de.fromJSON(n.graveyardPosition,i);return new this(a,n.howMany,u,h,n.baseVersion)}}class To extends Qo{constructor(n,i,a,u,h,p){super(p),this.name=n,this.oldRange=i?i.clone():null,this.newRange=a?a.clone():null,this.affectsData=h,this._markers=u}get type(){return"marker"}get affectedSelectable(){const n=[];return this.oldRange&&n.push(this.oldRange.clone()),this.newRange&&(this.oldRange?n.push(...this.newRange.getDifference(this.oldRange)):n.push(this.newRange.clone())),n}clone(){return new To(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new To(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const n=super.toJSON();return this.oldRange&&(n.oldRange=this.oldRange.toJSON()),this.newRange&&(n.newRange=this.newRange.toJSON()),delete n._markers,n}static get className(){return"MarkerOperation"}static fromJSON(n,i){return new To(n.name,n.oldRange?se.fromJSON(n.oldRange,i):null,n.newRange?se.fromJSON(n.newRange,i):null,i.model.markers,n.affectsData,n.baseVersion)}}const BP=function(l,n){return pk(l,n)};class er extends Qo{constructor(n,i,a,u,h){super(h),this.range=n.clone(),this.key=i,this.oldValue=a===void 0?null:a,this.newValue=u===void 0?null:u}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new er(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new er(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const n=super.toJSON();return n.range=this.range.toJSON(),n}_validate(){if(!this.range.isFlat)throw new R("attribute-operation-range-not-flat",this);for(const n of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!BP(n.getAttribute(this.key),this.oldValue))throw new R("attribute-operation-wrong-old-value",this,{item:n,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&n.hasAttribute(this.key))throw new R("attribute-operation-attribute-exists",this,{node:n,key:this.key})}}_execute(){BP(this.oldValue,this.newValue)||function(n,i,a){tf(n.start),tf(n.end);for(const u of n.getItems({shallow:!0})){const h=u.is("$textProxy")?u.textNode:u;a!==null?h._setAttribute(i,a):h._removeAttribute(i),ef(h.parent,h.index)}ef(n.end.parent,n.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(n,i){return new er(se.fromJSON(n.range,i),n.key,n.oldValue,n.newValue,n.baseVersion)}}class gr extends Qo{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new gr(this.baseVersion)}getReversed(){return new gr(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Io extends Qo{constructor(n,i,a,u){super(u),this.position=n,this.position.stickiness="toNext",this.oldName=i,this.newName=a}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Io(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Io(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const n=this.position.nodeAfter;if(!(n instanceof Jt))throw new R("rename-operation-wrong-position",this);if(n.name!==this.oldName)throw new R("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const n=super.toJSON();return n.position=this.position.toJSON(),n}static get className(){return"RenameOperation"}static fromJSON(n,i){return new Io(de.fromJSON(n.position,i),n.oldName,n.newName,n.baseVersion)}}class pa extends Qo{constructor(n,i,a,u,h){super(h),this.root=n,this.key=i,this.oldValue=a===void 0?null:a,this.newValue=u===void 0?null:u}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new pa(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new pa(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new R("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new R("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new R("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const n=super.toJSON();return n.root=this.root.toJSON(),n}static get className(){return"RootAttributeOperation"}static fromJSON(n,i){if(!i.getRoot(n.root))throw new R("rootattribute-operation-fromjson-no-root",this,{rootName:n.root});return new pa(i.getRoot(n.root),n.key,n.oldValue,n.newValue,n.baseVersion)}}class xs extends Qo{constructor(n,i,a,u,h){super(h),this.rootName=n,this.elementName=i,this.isAdd=a,this._document=u,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new xs(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new xs(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const n=super.toJSON();return delete n._document,n}static get className(){return"RootOperation"}static fromJSON(n,i){return new xs(n.rootName,n.elementName,n.isAdd,i,n.baseVersion)}}const ki={};ki[er.className]=er,ki[Er.className]=Er,ki[To.className]=To,ki[jt.className]=jt,ki[gr.className]=gr,ki[Qo.className]=Qo,ki[Io.className]=Io,ki[pa.className]=pa,ki[xs.className]=xs,ki[pn.className]=pn,ki[Vn.className]=Vn;class yJ{static fromJSON(n,i){return ki[n.__className].fromJSON(n,i)}}const rA=new Map;function Rt(l,n,i){let a=rA.get(l);a||(a=new Map,rA.set(l,a)),a.set(n,i)}function _J(l){return[l]}function LP(l,n,i={}){const a=function(u,h){const p=rA.get(u);return p&&p.has(h)?p.get(h):_J}(l.constructor,n.constructor);try{return a(l=l.clone(),n,i)}catch(u){throw u}}function CJ(l,n,i){l=l.slice(),n=n.slice();const a=new AJ(i.document,i.useRelations,i.forceWeakRemove);a.setOriginalOperations(l),a.setOriginalOperations(n);const u=a.originalOperations;if(l.length==0||n.length==0)return{operationsA:l,operationsB:n,originalOperations:u};const h=new WeakMap;for(const b of l)h.set(b,0);const p={nextBaseVersionA:l[l.length-1].baseVersion+1,nextBaseVersionB:n[n.length-1].baseVersion+1,originalOperationsACount:l.length,originalOperationsBCount:n.length};let g=0;for(;g<l.length;){const b=l[g],w=h.get(b);if(w==n.length){g++;continue}const C=n[w],E=LP(b,C,a.getContext(b,C,!0)),M=LP(C,b,a.getContext(C,b,!1));a.updateRelation(b,C),a.setOriginalOperations(E,b),a.setOriginalOperations(M,C);for(const O of E)h.set(O,w+M.length);l.splice(g,1,...E),n.splice(w,1,...M)}return jP(l,p.nextBaseVersionB),jP(n,p.nextBaseVersionA),{operationsA:l,operationsB:n,originalOperations:u}}class AJ{constructor(n,i,a=!1){this.originalOperations=new Map,this._history=n.history,this._useRelations=i,this._forceWeakRemove=!!a,this._relations=new Map}setOriginalOperations(n,i=null){const a=i?this.originalOperations.get(i):null;for(const u of n)this.originalOperations.set(u,a||u)}updateRelation(n,i){if(n instanceof jt)i instanceof Vn?n.targetPosition.isEqual(i.sourcePosition)||i.movedRange.containsPosition(n.targetPosition)?this._setRelation(n,i,"insertAtSource"):n.targetPosition.isEqual(i.deletionPosition)?this._setRelation(n,i,"insertBetween"):n.targetPosition.isAfter(i.sourcePosition)&&this._setRelation(n,i,"moveTargetAfter"):i instanceof jt&&(n.targetPosition.isEqual(i.sourcePosition)||n.targetPosition.isBefore(i.sourcePosition)?this._setRelation(n,i,"insertBefore"):this._setRelation(n,i,"insertAfter"));else if(n instanceof pn){if(i instanceof Vn)n.splitPosition.isBefore(i.sourcePosition)&&this._setRelation(n,i,"splitBefore");else if(i instanceof jt)if(n.splitPosition.isEqual(i.sourcePosition)||n.splitPosition.isBefore(i.sourcePosition))this._setRelation(n,i,"splitBefore");else{const a=se._createFromPositionAndShift(i.sourcePosition,i.howMany);if(n.splitPosition.hasSameParentAs(i.sourcePosition)&&a.containsPosition(n.splitPosition)){const u=a.end.offset-n.splitPosition.offset,h=n.splitPosition.offset-a.start.offset;this._setRelation(n,i,{howMany:u,offset:h})}}}else if(n instanceof Vn)i instanceof Vn?(n.targetPosition.isEqual(i.sourcePosition)||this._setRelation(n,i,"mergeTargetNotMoved"),n.sourcePosition.isEqual(i.targetPosition)&&this._setRelation(n,i,"mergeSourceNotMoved"),n.sourcePosition.isEqual(i.sourcePosition)&&this._setRelation(n,i,"mergeSameElement")):i instanceof pn?n.sourcePosition.isEqual(i.splitPosition)&&this._setRelation(n,i,"splitAtSource"):i instanceof jt&&i.howMany>0&&(n.sourcePosition.isEqual(i.sourcePosition.getShiftedBy(i.howMany))&&this._setRelation(n,i,"mergeSourceAffected"),n.targetPosition.isEqual(i.sourcePosition)&&this._setRelation(n,i,"mergeTargetWasBefore"));else if(n instanceof To){const a=n.newRange;if(!a)return;if(i instanceof jt){const u=se._createFromPositionAndShift(i.sourcePosition,i.howMany),h=u.containsPosition(a.start)||u.start.isEqual(a.start),p=u.containsPosition(a.end)||u.end.isEqual(a.end);!h&&!p||u.containsRange(a)||this._setRelation(n,i,{side:h?"left":"right",path:h?a.start.path.slice():a.end.path.slice()})}else if(i instanceof Vn){const u=a.start.isEqual(i.targetPosition),h=a.start.isEqual(i.deletionPosition),p=a.end.isEqual(i.deletionPosition),g=a.end.isEqual(i.sourcePosition);(u||h||p||g)&&this._setRelation(n,i,{wasInLeftElement:u,wasStartBeforeMergedElement:h,wasEndBeforeMergedElement:p,wasInRightElement:g})}}}getContext(n,i,a){return{aIsStrong:a,aWasUndone:this._wasUndone(n),bWasUndone:this._wasUndone(i),abRelation:this._useRelations?this._getRelation(n,i):null,baRelation:this._useRelations?this._getRelation(i,n):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(n){const i=this.originalOperations.get(n);return i.wasUndone||this._history.isUndoneOperation(i)}_getRelation(n,i){const a=this.originalOperations.get(i),u=this._history.getUndoneOperation(a);if(!u)return null;const h=this.originalOperations.get(n),p=this._relations.get(h);return p&&p.get(u)||null}_setRelation(n,i,a){const u=this.originalOperations.get(n),h=this.originalOperations.get(i);let p=this._relations.get(u);p||(p=new Map,this._relations.set(u,p)),p.set(h,a)}}function jP(l,n){for(const i of l)i.baseVersion=n++}function FP(l,n,i){const a=l.nodes.getNode(0).getAttribute(n);if(a==i)return null;const u=new se(l.position,l.position.getShiftedBy(l.howMany));return new er(u,n,a,i,0)}function zP(l,n){return l.targetPosition._getTransformedByDeletion(n.sourcePosition,n.howMany)===null}function bd(l,n){const i=[];for(let a=0;a<l.length;a++){const u=l[a],h=new jt(u.start,u.end.offset-u.start.offset,n,0);i.push(h);for(let p=a+1;p<l.length;p++)l[p]=l[p]._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany)[0];n=n._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany)}return i}Rt(er,er,(l,n,i)=>{if(l.key===n.key&&l.range.start.hasSameParentAs(n.range.start)){const a=l.range.getDifference(n.range).map(h=>new er(h,l.key,l.oldValue,l.newValue,0)),u=l.range.getIntersection(n.range);return u&&i.aIsStrong&&a.push(new er(u,n.key,n.newValue,l.newValue,0)),a.length==0?[new gr(0)]:a}return[l]}),Rt(er,Er,(l,n)=>{if(l.range.start.hasSameParentAs(n.position)&&l.range.containsPosition(n.position)){const i=l.range._getTransformedByInsertion(n.position,n.howMany,!n.shouldReceiveAttributes).map(a=>new er(a,l.key,l.oldValue,l.newValue,l.baseVersion));if(n.shouldReceiveAttributes){const a=FP(n,l.key,l.oldValue);a&&i.unshift(a)}return i}return l.range=l.range._getTransformedByInsertion(n.position,n.howMany,!1)[0],[l]}),Rt(er,Vn,(l,n)=>{const i=[];l.range.start.hasSameParentAs(n.deletionPosition)&&(l.range.containsPosition(n.deletionPosition)||l.range.start.isEqual(n.deletionPosition))&&i.push(se._createFromPositionAndShift(n.graveyardPosition,1));const a=l.range._getTransformedByMergeOperation(n);return a.isCollapsed||i.push(a),i.map(u=>new er(u,l.key,l.oldValue,l.newValue,l.baseVersion))}),Rt(er,jt,(l,n)=>function(a,u){const h=se._createFromPositionAndShift(u.sourcePosition,u.howMany);let p=null,g=[];h.containsRange(a,!0)?p=a:a.start.hasSameParentAs(h.start)?(g=a.getDifference(h),p=a.getIntersection(h)):g=[a];const b=[];for(let w of g){w=w._getTransformedByDeletion(u.sourcePosition,u.howMany);const C=u.getMovedRangeStart(),E=w.start.hasSameParentAs(C),M=w._getTransformedByInsertion(C,u.howMany,E);b.push(...M)}return p&&b.push(p._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany,!1)[0]),b}(l.range,n).map(a=>new er(a,l.key,l.oldValue,l.newValue,l.baseVersion))),Rt(er,pn,(l,n)=>{if(l.range.end.isEqual(n.insertionPosition))return n.graveyardPosition||l.range.end.offset++,[l];if(l.range.start.hasSameParentAs(n.splitPosition)&&l.range.containsPosition(n.splitPosition)){const i=l.clone();return i.range=new se(n.moveTargetPosition.clone(),l.range.end._getCombined(n.splitPosition,n.moveTargetPosition)),l.range.end=n.splitPosition.clone(),l.range.end.stickiness="toPrevious",[l,i]}return l.range=l.range._getTransformedBySplitOperation(n),[l]}),Rt(Er,er,(l,n)=>{const i=[l];if(l.shouldReceiveAttributes&&l.position.hasSameParentAs(n.range.start)&&n.range.containsPosition(l.position)){const a=FP(l,n.key,n.newValue);a&&i.push(a)}return i}),Rt(Er,Er,(l,n,i)=>(l.position.isEqual(n.position)&&i.aIsStrong||(l.position=l.position._getTransformedByInsertOperation(n)),[l])),Rt(Er,jt,(l,n)=>(l.position=l.position._getTransformedByMoveOperation(n),[l])),Rt(Er,pn,(l,n)=>(l.position=l.position._getTransformedBySplitOperation(n),[l])),Rt(Er,Vn,(l,n)=>(l.position=l.position._getTransformedByMergeOperation(n),[l])),Rt(To,Er,(l,n)=>(l.oldRange&&(l.oldRange=l.oldRange._getTransformedByInsertOperation(n)[0]),l.newRange&&(l.newRange=l.newRange._getTransformedByInsertOperation(n)[0]),[l])),Rt(To,To,(l,n,i)=>{if(l.name==n.name){if(!i.aIsStrong)return[new gr(0)];l.oldRange=n.newRange?n.newRange.clone():null}return[l]}),Rt(To,Vn,(l,n)=>(l.oldRange&&(l.oldRange=l.oldRange._getTransformedByMergeOperation(n)),l.newRange&&(l.newRange=l.newRange._getTransformedByMergeOperation(n)),[l])),Rt(To,jt,(l,n,i)=>{if(l.oldRange&&(l.oldRange=se._createFromRanges(l.oldRange._getTransformedByMoveOperation(n))),l.newRange){if(i.abRelation){const a=se._createFromRanges(l.newRange._getTransformedByMoveOperation(n));if(i.abRelation.side=="left"&&n.targetPosition.isEqual(l.newRange.start))return l.newRange.end=a.end,l.newRange.start.path=i.abRelation.path,[l];if(i.abRelation.side=="right"&&n.targetPosition.isEqual(l.newRange.end))return l.newRange.start=a.start,l.newRange.end.path=i.abRelation.path,[l]}l.newRange=se._createFromRanges(l.newRange._getTransformedByMoveOperation(n))}return[l]}),Rt(To,pn,(l,n,i)=>{if(l.oldRange&&(l.oldRange=l.oldRange._getTransformedBySplitOperation(n)),l.newRange){if(i.abRelation){const a=l.newRange._getTransformedBySplitOperation(n);return l.newRange.start.isEqual(n.splitPosition)&&i.abRelation.wasStartBeforeMergedElement?l.newRange.start=de._createAt(n.insertionPosition):l.newRange.start.isEqual(n.splitPosition)&&!i.abRelation.wasInLeftElement&&(l.newRange.start=de._createAt(n.moveTargetPosition)),l.newRange.end.isEqual(n.splitPosition)&&i.abRelation.wasInRightElement?l.newRange.end=de._createAt(n.moveTargetPosition):l.newRange.end.isEqual(n.splitPosition)&&i.abRelation.wasEndBeforeMergedElement?l.newRange.end=de._createAt(n.insertionPosition):l.newRange.end=a.end,[l]}l.newRange=l.newRange._getTransformedBySplitOperation(n)}return[l]}),Rt(Vn,Er,(l,n)=>(l.sourcePosition.hasSameParentAs(n.position)&&(l.howMany+=n.howMany),l.sourcePosition=l.sourcePosition._getTransformedByInsertOperation(n),l.targetPosition=l.targetPosition._getTransformedByInsertOperation(n),[l])),Rt(Vn,Vn,(l,n,i)=>{if(l.sourcePosition.isEqual(n.sourcePosition)&&l.targetPosition.isEqual(n.targetPosition)){if(i.bWasUndone){const a=n.graveyardPosition.path.slice();return a.push(0),l.sourcePosition=new de(n.graveyardPosition.root,a),l.howMany=0,[l]}return[new gr(0)]}if(l.sourcePosition.isEqual(n.sourcePosition)&&!l.targetPosition.isEqual(n.targetPosition)&&!i.bWasUndone&&i.abRelation!="splitAtSource"){const a=l.targetPosition.root.rootName=="$graveyard",u=n.targetPosition.root.rootName=="$graveyard";if(u&&!a||!(a&&!u)&&i.aIsStrong){const h=n.targetPosition._getTransformedByMergeOperation(n),p=l.targetPosition._getTransformedByMergeOperation(n);return[new jt(h,l.howMany,p,0)]}return[new gr(0)]}return l.sourcePosition.hasSameParentAs(n.targetPosition)&&(l.howMany+=n.howMany),l.sourcePosition=l.sourcePosition._getTransformedByMergeOperation(n),l.targetPosition=l.targetPosition._getTransformedByMergeOperation(n),l.graveyardPosition.isEqual(n.graveyardPosition)&&i.aIsStrong||(l.graveyardPosition=l.graveyardPosition._getTransformedByMergeOperation(n)),[l]}),Rt(Vn,jt,(l,n,i)=>{const a=se._createFromPositionAndShift(n.sourcePosition,n.howMany);return n.type=="remove"&&!i.bWasUndone&&!i.forceWeakRemove&&l.deletionPosition.hasSameParentAs(n.sourcePosition)&&a.containsPosition(l.sourcePosition)?[new gr(0)]:(n.sourcePosition.getShiftedBy(n.howMany).isEqual(l.sourcePosition)?l.sourcePosition.stickiness="toNone":n.targetPosition.isEqual(l.sourcePosition)&&i.abRelation=="mergeSourceAffected"?l.sourcePosition.stickiness="toNext":n.sourcePosition.isEqual(l.targetPosition)?(l.targetPosition.stickiness="toNone",l.howMany-=n.howMany):n.targetPosition.isEqual(l.targetPosition)&&i.abRelation=="mergeTargetWasBefore"?(l.targetPosition.stickiness="toPrevious",l.howMany+=n.howMany):(l.sourcePosition.hasSameParentAs(n.targetPosition)&&(l.howMany+=n.howMany),l.sourcePosition.hasSameParentAs(n.sourcePosition)&&(l.howMany-=n.howMany)),l.sourcePosition=l.sourcePosition._getTransformedByMoveOperation(n),l.targetPosition=l.targetPosition._getTransformedByMoveOperation(n),l.sourcePosition.stickiness="toPrevious",l.targetPosition.stickiness="toNext",l.graveyardPosition.isEqual(n.targetPosition)||(l.graveyardPosition=l.graveyardPosition._getTransformedByMoveOperation(n)),[l])}),Rt(Vn,pn,(l,n,i)=>{if(n.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedByDeletion(n.graveyardPosition,1),l.deletionPosition.isEqual(n.graveyardPosition)&&(l.howMany=n.howMany)),l.targetPosition.isEqual(n.splitPosition)){const a=n.howMany!=0,u=n.graveyardPosition&&l.deletionPosition.isEqual(n.graveyardPosition);if(a||u||i.abRelation=="mergeTargetNotMoved")return l.sourcePosition=l.sourcePosition._getTransformedBySplitOperation(n),[l]}if(l.sourcePosition.isEqual(n.splitPosition)){if(i.abRelation=="mergeSourceNotMoved")return l.howMany=0,l.targetPosition=l.targetPosition._getTransformedBySplitOperation(n),[l];if(i.abRelation=="mergeSameElement"||l.sourcePosition.offset>0)return l.sourcePosition=n.moveTargetPosition.clone(),l.targetPosition=l.targetPosition._getTransformedBySplitOperation(n),[l]}return l.sourcePosition.hasSameParentAs(n.splitPosition)&&(l.howMany=n.splitPosition.offset),l.sourcePosition=l.sourcePosition._getTransformedBySplitOperation(n),l.targetPosition=l.targetPosition._getTransformedBySplitOperation(n),[l]}),Rt(jt,Er,(l,n)=>{const i=se._createFromPositionAndShift(l.sourcePosition,l.howMany)._getTransformedByInsertOperation(n,!1)[0];return l.sourcePosition=i.start,l.howMany=i.end.offset-i.start.offset,l.targetPosition.isEqual(n.position)||(l.targetPosition=l.targetPosition._getTransformedByInsertOperation(n)),[l]}),Rt(jt,jt,(l,n,i)=>{const a=se._createFromPositionAndShift(l.sourcePosition,l.howMany),u=se._createFromPositionAndShift(n.sourcePosition,n.howMany);let h,p=i.aIsStrong,g=!i.aIsStrong;if(i.abRelation=="insertBefore"||i.baRelation=="insertAfter"?g=!0:i.abRelation!="insertAfter"&&i.baRelation!="insertBefore"||(g=!1),h=l.targetPosition.isEqual(n.targetPosition)&&g?l.targetPosition._getTransformedByDeletion(n.sourcePosition,n.howMany):l.targetPosition._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),zP(l,n)&&zP(n,l))return[n.getReversed()];if(a.containsPosition(n.targetPosition)&&a.containsRange(u,!0))return a.start=a.start._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),a.end=a.end._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),bd([a],h);if(u.containsPosition(l.targetPosition)&&u.containsRange(a,!0))return a.start=a.start._getCombined(n.sourcePosition,n.getMovedRangeStart()),a.end=a.end._getCombined(n.sourcePosition,n.getMovedRangeStart()),bd([a],h);const b=We(l.sourcePosition.getParentPath(),n.sourcePosition.getParentPath());if(b=="prefix"||b=="extension")return a.start=a.start._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),a.end=a.end._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),bd([a],h);l.type!="remove"||n.type=="remove"||i.aWasUndone||i.forceWeakRemove?l.type=="remove"||n.type!="remove"||i.bWasUndone||i.forceWeakRemove||(p=!1):p=!0;const w=[],C=a.getDifference(u);for(const M of C){M.start=M.start._getTransformedByDeletion(n.sourcePosition,n.howMany),M.end=M.end._getTransformedByDeletion(n.sourcePosition,n.howMany);const O=We(M.start.getParentPath(),n.getMovedRangeStart().getParentPath())=="same",L=M._getTransformedByInsertion(n.getMovedRangeStart(),n.howMany,O);w.push(...L)}const E=a.getIntersection(u);return E!==null&&p&&(E.start=E.start._getCombined(n.sourcePosition,n.getMovedRangeStart()),E.end=E.end._getCombined(n.sourcePosition,n.getMovedRangeStart()),w.length===0?w.push(E):w.length==1?u.start.isBefore(a.start)||u.start.isEqual(a.start)?w.unshift(E):w.push(E):w.splice(1,0,E)),w.length===0?[new gr(l.baseVersion)]:bd(w,h)}),Rt(jt,pn,(l,n,i)=>{let a=l.targetPosition.clone();l.targetPosition.isEqual(n.insertionPosition)&&n.graveyardPosition&&i.abRelation!="moveTargetAfter"||(a=l.targetPosition._getTransformedBySplitOperation(n));const u=se._createFromPositionAndShift(l.sourcePosition,l.howMany);if(u.end.isEqual(n.insertionPosition))return n.graveyardPosition||l.howMany++,l.targetPosition=a,[l];if(u.start.hasSameParentAs(n.splitPosition)&&u.containsPosition(n.splitPosition)){let p=new se(n.splitPosition,u.end);return p=p._getTransformedBySplitOperation(n),bd([new se(u.start,n.splitPosition),p],a)}l.targetPosition.isEqual(n.splitPosition)&&i.abRelation=="insertAtSource"&&(a=n.moveTargetPosition),l.targetPosition.isEqual(n.insertionPosition)&&i.abRelation=="insertBetween"&&(a=l.targetPosition);const h=[u._getTransformedBySplitOperation(n)];if(n.graveyardPosition){const p=u.start.isEqual(n.graveyardPosition)||u.containsPosition(n.graveyardPosition);l.howMany>1&&p&&!i.aWasUndone&&h.push(se._createFromPositionAndShift(n.insertionPosition,1))}return bd(h,a)}),Rt(jt,Vn,(l,n,i)=>{const a=se._createFromPositionAndShift(l.sourcePosition,l.howMany);if(n.deletionPosition.hasSameParentAs(l.sourcePosition)&&a.containsPosition(n.sourcePosition)){if(l.type!="remove"||i.forceWeakRemove){if(l.howMany==1)return i.bWasUndone?(l.sourcePosition=n.graveyardPosition.clone(),l.targetPosition=l.targetPosition._getTransformedByMergeOperation(n),[l]):[new gr(0)]}else if(!i.aWasUndone){const h=[];let p=n.graveyardPosition.clone(),g=n.targetPosition._getTransformedByMergeOperation(n);l.howMany>1&&(h.push(new jt(l.sourcePosition,l.howMany-1,l.targetPosition,0)),p=p._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany-1),g=g._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany-1));const b=n.deletionPosition._getCombined(l.sourcePosition,l.targetPosition),w=new jt(p,1,b,0),C=w.getMovedRangeStart().path.slice();C.push(0);const E=new de(w.targetPosition.root,C);g=g._getTransformedByMove(p,b,1);const M=new jt(g,n.howMany,E,0);return h.push(w),h.push(M),h}}const u=se._createFromPositionAndShift(l.sourcePosition,l.howMany)._getTransformedByMergeOperation(n);return l.sourcePosition=u.start,l.howMany=u.end.offset-u.start.offset,l.targetPosition=l.targetPosition._getTransformedByMergeOperation(n),[l]}),Rt(Io,Er,(l,n)=>(l.position=l.position._getTransformedByInsertOperation(n),[l])),Rt(Io,Vn,(l,n)=>l.position.isEqual(n.deletionPosition)?(l.position=n.graveyardPosition.clone(),l.position.stickiness="toNext",[l]):(l.position=l.position._getTransformedByMergeOperation(n),[l])),Rt(Io,jt,(l,n)=>(l.position=l.position._getTransformedByMoveOperation(n),[l])),Rt(Io,Io,(l,n,i)=>{if(l.position.isEqual(n.position)){if(!i.aIsStrong)return[new gr(0)];l.oldName=n.newName}return[l]}),Rt(Io,pn,(l,n)=>{if(We(l.position.path,n.splitPosition.getParentPath())=="same"&&!n.graveyardPosition){const i=new Io(l.position.getShiftedBy(1),l.oldName,l.newName,0);return[l,i]}return l.position=l.position._getTransformedBySplitOperation(n),[l]}),Rt(pa,pa,(l,n,i)=>{if(l.root===n.root&&l.key===n.key){if(!i.aIsStrong||l.newValue===n.newValue)return[new gr(0)];l.oldValue=n.newValue}return[l]}),Rt(xs,xs,(l,n)=>l.rootName===n.rootName&&l.isAdd===n.isAdd?[new gr(0)]:[l]),Rt(pn,Er,(l,n)=>(l.splitPosition.hasSameParentAs(n.position)&&l.splitPosition.offset<n.position.offset&&(l.howMany+=n.howMany),l.splitPosition=l.splitPosition._getTransformedByInsertOperation(n),l.insertionPosition=l.insertionPosition._getTransformedByInsertOperation(n),[l])),Rt(pn,Vn,(l,n,i)=>{if(!l.graveyardPosition&&!i.bWasUndone&&l.splitPosition.hasSameParentAs(n.sourcePosition)){const a=n.graveyardPosition.path.slice();a.push(0);const u=new de(n.graveyardPosition.root,a),h=pn.getInsertionPosition(new de(n.graveyardPosition.root,a)),p=new pn(u,0,h,null,0);return l.splitPosition=l.splitPosition._getTransformedByMergeOperation(n),l.insertionPosition=pn.getInsertionPosition(l.splitPosition),l.graveyardPosition=p.insertionPosition.clone(),l.graveyardPosition.stickiness="toNext",[p,l]}return l.splitPosition.hasSameParentAs(n.deletionPosition)&&!l.splitPosition.isAfter(n.deletionPosition)&&l.howMany--,l.splitPosition.hasSameParentAs(n.targetPosition)&&(l.howMany+=n.howMany),l.splitPosition=l.splitPosition._getTransformedByMergeOperation(n),l.insertionPosition=pn.getInsertionPosition(l.splitPosition),l.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedByMergeOperation(n)),[l]}),Rt(pn,jt,(l,n,i)=>{const a=se._createFromPositionAndShift(n.sourcePosition,n.howMany);if(l.graveyardPosition){const h=a.start.isEqual(l.graveyardPosition)||a.containsPosition(l.graveyardPosition);if(!i.bWasUndone&&h){const p=l.splitPosition._getTransformedByMoveOperation(n),g=l.graveyardPosition._getTransformedByMoveOperation(n),b=g.path.slice();b.push(0);const w=new de(g.root,b);return[new jt(p,l.howMany,w,0)]}l.graveyardPosition=l.graveyardPosition._getTransformedByMoveOperation(n)}const u=l.splitPosition.isEqual(n.targetPosition);if(u&&(i.baRelation=="insertAtSource"||i.abRelation=="splitBefore"))return l.howMany+=n.howMany,l.splitPosition=l.splitPosition._getTransformedByDeletion(n.sourcePosition,n.howMany),l.insertionPosition=pn.getInsertionPosition(l.splitPosition),[l];if(u&&i.abRelation&&i.abRelation.howMany){const{howMany:h,offset:p}=i.abRelation;return l.howMany+=h,l.splitPosition=l.splitPosition.getShiftedBy(p),[l]}if(l.splitPosition.hasSameParentAs(n.sourcePosition)&&a.containsPosition(l.splitPosition)){const h=n.howMany-(l.splitPosition.offset-n.sourcePosition.offset);return l.howMany-=h,l.splitPosition.hasSameParentAs(n.targetPosition)&&l.splitPosition.offset<n.targetPosition.offset&&(l.howMany+=n.howMany),l.splitPosition=n.sourcePosition.clone(),l.insertionPosition=pn.getInsertionPosition(l.splitPosition),[l]}return n.sourcePosition.isEqual(n.targetPosition)||(l.splitPosition.hasSameParentAs(n.sourcePosition)&&l.splitPosition.offset<=n.sourcePosition.offset&&(l.howMany-=n.howMany),l.splitPosition.hasSameParentAs(n.targetPosition)&&l.splitPosition.offset<n.targetPosition.offset&&(l.howMany+=n.howMany)),l.splitPosition.stickiness="toNone",l.splitPosition=l.splitPosition._getTransformedByMoveOperation(n),l.splitPosition.stickiness="toNext",l.graveyardPosition?l.insertionPosition=l.insertionPosition._getTransformedByMoveOperation(n):l.insertionPosition=pn.getInsertionPosition(l.splitPosition),[l]}),Rt(pn,pn,(l,n,i)=>{if(l.splitPosition.isEqual(n.splitPosition)){if(!l.graveyardPosition&&!n.graveyardPosition)return[new gr(0)];if(l.graveyardPosition&&n.graveyardPosition&&l.graveyardPosition.isEqual(n.graveyardPosition))return[new gr(0)];if(i.abRelation=="splitBefore")return l.howMany=0,l.graveyardPosition=l.graveyardPosition._getTransformedBySplitOperation(n),[l]}if(l.graveyardPosition&&n.graveyardPosition&&l.graveyardPosition.isEqual(n.graveyardPosition)){const a=l.splitPosition.root.rootName=="$graveyard",u=n.splitPosition.root.rootName=="$graveyard";if(u&&!a||!(a&&!u)&&i.aIsStrong){const h=[];return n.howMany&&h.push(new jt(n.moveTargetPosition,n.howMany,n.splitPosition,0)),l.howMany&&h.push(new jt(l.splitPosition,l.howMany,l.moveTargetPosition,0)),h}return[new gr(0)]}if(l.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedBySplitOperation(n)),l.splitPosition.isEqual(n.insertionPosition)&&i.abRelation=="splitBefore")return l.howMany++,[l];if(n.splitPosition.isEqual(l.insertionPosition)&&i.baRelation=="splitBefore"){const a=n.insertionPosition.path.slice();a.push(0);const u=new de(n.insertionPosition.root,a);return[l,new jt(l.insertionPosition,1,u,0)]}return l.splitPosition.hasSameParentAs(n.splitPosition)&&l.splitPosition.offset<n.splitPosition.offset&&(l.howMany-=n.howMany),l.splitPosition=l.splitPosition._getTransformedBySplitOperation(n),l.insertionPosition=pn.getInsertionPosition(l.splitPosition),[l]});class Br extends G(de){constructor(n,i,a="toNone"){if(super(n,i,a),!this.root.is("rootElement"))throw new R("model-liveposition-root-not-rootelement",n);xJ.call(this)}detach(){this.stopListening()}toPosition(){return new de(this.root,this.path.slice(),this.stickiness)}static fromPosition(n,i){return new this(n.root,n.path.slice(),i||n.stickiness)}}function xJ(){this.listenTo(this.root.document.model,"applyOperation",(l,n)=>{const i=n[0];i.isDocumentOperation&&EJ.call(this,i)},{priority:"low"})}function EJ(l){const n=this.getTransformedByOperation(l);if(!this.isEqual(n)){const i=this.toPosition();this.path=n.path,this.root=n.root,this.fire("change",i)}}Br.prototype.is=function(l){return l==="livePosition"||l==="model:livePosition"||l=="position"||l==="model:position"};class kd{constructor(n={}){typeof n=="string"&&(n=n==="transparent"?{isUndoable:!1}:{},z("batch-constructor-deprecated-string-type"));const{isUndoable:i=!0,isLocal:a=!0,isUndo:u=!1,isTyping:h=!1}=n;this.operations=[],this.isUndoable=i,this.isLocal=a,this.isUndo=u,this.isTyping=h}get type(){return z("batch-type-deprecated"),"default"}get baseVersion(){for(const n of this.operations)if(n.baseVersion!==null)return n.baseVersion;return null}addOperation(n){return n.batch=this,this.operations.push(n),n}}var SJ=Object.defineProperty,DJ=Object.defineProperties,TJ=Object.getOwnPropertyDescriptors,$P=Object.getOwnPropertySymbols,IJ=Object.prototype.hasOwnProperty,MJ=Object.prototype.propertyIsEnumerable,VP=(l,n,i)=>n in l?SJ(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,UP=(l,n)=>{for(var i in n||(n={}))IJ.call(n,i)&&VP(l,i,n[i]);if($P)for(var i of $P(n))MJ.call(n,i)&&VP(l,i,n[i]);return l};class PJ{constructor(n){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=n}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(n){const i=n;switch(i.type){case"insert":if(this._isInInsertedElement(i.position.parent))return;this._markInsert(i.position.parent,i.position.offset,i.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const a of i.range.getItems({shallow:!0}))this._isInInsertedElement(a.parent)||this._markAttribute(a);break;case"remove":case"move":case"reinsert":{if(i.sourcePosition.isEqual(i.targetPosition)||i.sourcePosition.getShiftedBy(i.howMany).isEqual(i.targetPosition))return;const a=this._isInInsertedElement(i.sourcePosition.parent),u=this._isInInsertedElement(i.targetPosition.parent);a||this._markRemove(i.sourcePosition.parent,i.sourcePosition.offset,i.howMany),u||this._markInsert(i.targetPosition.parent,i.getMovedRangeStart().offset,i.howMany);break}case"rename":{if(this._isInInsertedElement(i.position.parent))return;this._markRemove(i.position.parent,i.position.offset,1),this._markInsert(i.position.parent,i.position.offset,1);const a=se._createFromPositionAndShift(i.position,1);for(const u of this._markerCollection.getMarkersIntersectingRange(a)){const h=u.getData();this.bufferMarkerChange(u.name,h,h)}break}case"split":{const a=i.splitPosition.parent;this._isInInsertedElement(a)||this._markRemove(a,i.splitPosition.offset,i.howMany),this._isInInsertedElement(i.insertionPosition.parent)||this._markInsert(i.insertionPosition.parent,i.insertionPosition.offset,1),i.graveyardPosition&&this._markRemove(i.graveyardPosition.parent,i.graveyardPosition.offset,1);break}case"merge":{const a=i.sourcePosition.parent;this._isInInsertedElement(a.parent)||this._markRemove(a.parent,a.startOffset,1);const u=i.graveyardPosition.parent;this._markInsert(u,i.graveyardPosition.offset,1);const h=i.targetPosition.parent;this._isInInsertedElement(h)||this._markInsert(h,i.targetPosition.offset,a.maxOffset);break}case"detachRoot":case"addRoot":{const a=i.affectedSelectable;if(!a._isLoaded||a.isAttached()==i.isAdd)return;this._bufferRootStateChange(i.rootName,i.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!i.root._isLoaded)return;const a=i.root.rootName;this._bufferRootAttributeChange(a,i.key,i.oldValue,i.newValue);break}}this._cachedChanges=null}bufferMarkerChange(n,i,a){i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null),a.range&&a.range.root.is("rootElement")&&!a.range.root._isLoaded&&(a.range=null);let u=this._changedMarkers.get(n);u?u.newMarkerData=a:(u={newMarkerData:a,oldMarkerData:i},this._changedMarkers.set(n,u)),u.oldMarkerData.range==null&&a.range==null&&this._changedMarkers.delete(n)}getMarkersToRemove(){const n=[];for(const[i,a]of this._changedMarkers)a.oldMarkerData.range!=null&&n.push({name:i,range:a.oldMarkerData.range});return n}getMarkersToAdd(){const n=[];for(const[i,a]of this._changedMarkers)a.newMarkerData.range!=null&&n.push({name:i,range:a.newMarkerData.range});return n}getChangedMarkers(){return Array.from(this._changedMarkers).map(([n,i])=>({name:n,data:{oldRange:i.oldMarkerData.range,newRange:i.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:n,oldMarkerData:i}of this._changedMarkers.values()){if(n.affectsData!==i.affectsData)return!0;if(n.affectsData){const a=n.range&&!i.range,u=!n.range&&i.range,h=n.range&&i.range&&!n.range.isEqual(i.range);if(a||u||h)return!0}}return!1}getChanges(n={}){if(this._cachedChanges)return n.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let i=[];for(const a of this._changesInElement.keys()){const u=this._changesInElement.get(a).sort((C,E)=>C.offset===E.offset?C.type!=E.type?C.type=="remove"?-1:1:0:C.offset<E.offset?-1:1),h=this._elementSnapshots.get(a),p=HP(a.getChildren()),g=NJ(h.length,u);let b=0,w=0;for(const C of g)if(C==="i")i.push(this._getInsertDiff(a,b,p[b])),b++;else if(C==="r")i.push(this._getRemoveDiff(a,b,h[w])),w++;else if(C==="a"){const E=p[b].attributes,M=h[w].attributes;let O;if(p[b].name=="$text")O=new se(de._createAt(a,b),de._createAt(a,b+1));else{const L=a.offsetToIndex(b);O=new se(de._createAt(a,b),de._createAt(a.getChild(L),0))}i.push(...this._getAttributesDiff(O,M,E)),b++,w++}else b++,w++}i.sort((a,u)=>a.position.root!=u.position.root?a.position.root.rootName<u.position.root.rootName?-1:1:a.position.isEqual(u.position)?a.changeCount-u.changeCount:a.position.isBefore(u.position)?-1:1);for(let a=1,u=0;a<i.length;a++){const h=i[u],p=i[a],g=h.type=="remove"&&p.type=="remove"&&h.name=="$text"&&p.name=="$text"&&h.position.isEqual(p.position),b=h.type=="insert"&&p.type=="insert"&&h.name=="$text"&&p.name=="$text"&&h.position.parent==p.position.parent&&h.position.offset+h.length==p.position.offset,w=h.type=="attribute"&&p.type=="attribute"&&h.position.parent==p.position.parent&&h.range.isFlat&&p.range.isFlat&&h.position.offset+h.length==p.position.offset&&h.attributeKey==p.attributeKey&&h.attributeOldValue==p.attributeOldValue&&h.attributeNewValue==p.attributeNewValue;g||b||w?(h.length++,w&&(h.range.end=h.range.end.getShiftedBy(1)),i[a]=null):u=a}i=i.filter(a=>a);for(const a of i)delete a.changeCount,a.type=="attribute"&&(delete a.position,delete a.length);return this._changeCount=0,this._cachedChangesWithGraveyard=i,this._cachedChanges=i.filter(RJ),n.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(n=>{const i=UP({},n);return i.state!==void 0&&delete i.attributes,i})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(n,i){if(!this._changedRoots.has(n))return void this._changedRoots.set(n,{name:n,state:i?"attached":"detached"});const a=this._changedRoots.get(n);a.state!==void 0?(delete a.state,a.attributes===void 0&&this._changedRoots.delete(n)):a.state=i?"attached":"detached"}_bufferRootAttributeChange(n,i,a,u){const h=this._changedRoots.get(n)||{name:n},p=h.attributes||{};if(p[i]){const g=p[i];u===g.oldValue?delete p[i]:g.newValue=u}else p[i]={oldValue:a,newValue:u};Object.entries(p).length===0?(delete h.attributes,h.state===void 0&&this._changedRoots.delete(n)):(h.attributes=p,this._changedRoots.set(n,h))}_refreshItem(n){if(this._isInInsertedElement(n.parent))return;this._markRemove(n.parent,n.startOffset,n.offsetSize),this._markInsert(n.parent,n.startOffset,n.offsetSize),this._refreshedItems.add(n);const i=se._createOn(n);for(const a of this._markerCollection.getMarkersIntersectingRange(i)){const u=a.getData();this.bufferMarkerChange(a.name,u,u)}this._cachedChanges=null}_bufferRootLoad(n){if(n.isAttached()){this._bufferRootStateChange(n.rootName,!0),this._markInsert(n,0,n.maxOffset);for(const a of n.getAttributeKeys())this._bufferRootAttributeChange(n.rootName,a,null,n.getAttribute(a));for(const a of this._markerCollection)if(a.getRange().root==n){const u=a.getData();this.bufferMarkerChange(a.name,(i=UP({},u),DJ(i,TJ({range:null}))),u)}var i}}_markInsert(n,i,a){if(n.root.is("rootElement")&&!n.root._isLoaded)return;const u={type:"insert",offset:i,howMany:a,count:this._changeCount++};this._markChange(n,u)}_markRemove(n,i,a){if(n.root.is("rootElement")&&!n.root._isLoaded)return;const u={type:"remove",offset:i,howMany:a,count:this._changeCount++};this._markChange(n,u),this._removeAllNestedChanges(n,i,a)}_markAttribute(n){if(n.root.is("rootElement")&&!n.root._isLoaded)return;const i={type:"attribute",offset:n.startOffset,howMany:n.offsetSize,count:this._changeCount++};this._markChange(n.parent,i)}_markChange(n,i){this._makeSnapshot(n);const a=this._getChangesForElement(n);this._handleChange(i,a),a.push(i);for(let u=0;u<a.length;u++)a[u].howMany<1&&(a.splice(u,1),u--)}_getChangesForElement(n){let i;return this._changesInElement.has(n)?i=this._changesInElement.get(n):(i=[],this._changesInElement.set(n,i)),i}_makeSnapshot(n){this._elementSnapshots.has(n)||this._elementSnapshots.set(n,HP(n.getChildren()))}_handleChange(n,i){n.nodesToHandle=n.howMany;for(const a of i){const u=n.offset+n.howMany,h=a.offset+a.howMany;if(n.type=="insert"&&(a.type=="insert"&&(n.offset<=a.offset?a.offset+=n.howMany:n.offset<h&&(a.howMany+=n.nodesToHandle,n.nodesToHandle=0)),a.type=="remove"&&n.offset<a.offset&&(a.offset+=n.howMany),a.type=="attribute")){if(n.offset<=a.offset)a.offset+=n.howMany;else if(n.offset<h){const p=a.howMany;a.howMany=n.offset-a.offset,i.unshift({type:"attribute",offset:u,howMany:p-a.howMany,count:this._changeCount++})}}if(n.type=="remove"){if(a.type=="insert"){if(u<=a.offset)a.offset-=n.howMany;else if(u<=h)if(n.offset<a.offset){const p=u-a.offset;a.offset=n.offset,a.howMany-=p,n.nodesToHandle-=p}else a.howMany-=n.nodesToHandle,n.nodesToHandle=0;else if(n.offset<=a.offset)n.nodesToHandle-=a.howMany,a.howMany=0;else if(n.offset<h){const p=h-n.offset;a.howMany-=p,n.nodesToHandle-=p}}if(a.type=="remove"&&(u<=a.offset?a.offset-=n.howMany:n.offset<a.offset&&(n.nodesToHandle+=a.howMany,a.howMany=0)),a.type=="attribute"){if(u<=a.offset)a.offset-=n.howMany;else if(n.offset<a.offset){const p=u-a.offset;a.offset=n.offset,a.howMany-=p}else if(n.offset<h)if(u<=h){const p=a.howMany;a.howMany=n.offset-a.offset;const g=p-a.howMany-n.nodesToHandle;i.unshift({type:"attribute",offset:n.offset,howMany:g,count:this._changeCount++})}else a.howMany-=h-n.offset}}if(n.type=="attribute"){if(a.type=="insert")if(n.offset<a.offset&&u>a.offset){if(u>h){const p={type:"attribute",offset:h,howMany:u-h,count:this._changeCount++};this._handleChange(p,i),i.push(p)}n.nodesToHandle=a.offset-n.offset,n.howMany=n.nodesToHandle}else n.offset>=a.offset&&n.offset<h&&(u>h?(n.nodesToHandle=u-h,n.offset=h):n.nodesToHandle=0);if(a.type=="remove"&&n.offset<a.offset&&u>a.offset){const p={type:"attribute",offset:a.offset,howMany:u-a.offset,count:this._changeCount++};this._handleChange(p,i),i.push(p),n.nodesToHandle=a.offset-n.offset,n.howMany=n.nodesToHandle}a.type=="attribute"&&(n.offset>=a.offset&&u<=h?(n.nodesToHandle=0,n.howMany=0,n.offset=0):n.offset<=a.offset&&u>=h&&(a.howMany=0))}}n.howMany=n.nodesToHandle,delete n.nodesToHandle}_getInsertDiff(n,i,a){return{type:"insert",position:de._createAt(n,i),name:a.name,attributes:new Map(a.attributes),length:1,changeCount:this._changeCount++,_element:a.element}}_getRemoveDiff(n,i,a){return{type:"remove",position:de._createAt(n,i),name:a.name,attributes:new Map(a.attributes),length:1,changeCount:this._changeCount++,_element:a.element}}_getAttributesDiff(n,i,a){const u=[];a=new Map(a);for(const[h,p]of i){const g=a.has(h)?a.get(h):null;g!==p&&u.push({type:"attribute",position:n.start,range:n.clone(),length:1,attributeKey:h,attributeOldValue:p,attributeNewValue:g,changeCount:this._changeCount++}),a.delete(h)}for(const[h,p]of a)u.push({type:"attribute",position:n.start,range:n.clone(),length:1,attributeKey:h,attributeOldValue:null,attributeNewValue:p,changeCount:this._changeCount++});return u}_isInInsertedElement(n){const i=n.parent;if(!i)return!1;const a=this._changesInElement.get(i),u=n.startOffset;if(a){for(const h of a)if(h.type=="insert"&&u>=h.offset&&u<h.offset+h.howMany)return!0}return this._isInInsertedElement(i)}_removeAllNestedChanges(n,i,a){const u=new se(de._createAt(n,i),de._createAt(n,i+a));for(const h of u.getItems({shallow:!0}))h.is("element")&&(this._elementSnapshots.delete(h),this._changesInElement.delete(h),this._removeAllNestedChanges(h,0,h.maxOffset))}}function HP(l){const n=[];for(const i of l)if(i.is("$text"))for(let a=0;a<i.data.length;a++)n.push({name:"$text",attributes:new Map(i.getAttributes())});else n.push({name:i.name,attributes:new Map(i.getAttributes()),element:i});return n}function NJ(l,n){const i=[];let a=0,u=0;for(const h of n){if(h.offset>a){for(let p=0;p<h.offset-a;p++)i.push("e");u+=h.offset-a}if(h.type=="insert"){for(let p=0;p<h.howMany;p++)i.push("i");a=h.offset+h.howMany}else if(h.type=="remove"){for(let p=0;p<h.howMany;p++)i.push("r");a=h.offset,u+=h.howMany}else i.push(..."a".repeat(h.howMany).split("")),a=h.offset+h.howMany,u+=h.howMany}if(u<l)for(let h=0;h<l-u-a;h++)i.push("e");return i}function RJ(l){const n="position"in l&&l.position.root.rootName=="$graveyard",i="range"in l&&l.range.root.rootName=="$graveyard";return!n&&!i}class OJ{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(n){this._operations.length&&n>this._version+1&&this._gaps.set(this._version,n),this._version=n}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(n){if(n.baseVersion!==this.version)throw new R("model-document-history-addoperation-incorrect-version",this,{operation:n,historyVersion:this.version});this._operations.push(n),this._version++,this._baseVersionToOperationIndex.set(n.baseVersion,this._operations.length-1)}getOperations(n,i=this.version){if(!this._operations.length)return[];const a=this._operations[0];n===void 0&&(n=a.baseVersion);let u=i-1;for(const[g,b]of this._gaps)n>g&&n<b&&(n=b),u>g&&u<b&&(u=g-1);if(u<a.baseVersion||n>this.lastOperation.baseVersion)return[];let h=this._baseVersionToOperationIndex.get(n);h===void 0&&(h=0);let p=this._baseVersionToOperationIndex.get(u);return p===void 0&&(p=this._operations.length-1),this._operations.slice(h,p+1)}getOperation(n){const i=this._baseVersionToOperationIndex.get(n);if(i!==void 0)return this._operations[i]}setOperationAsUndone(n,i){this._undoPairs.set(i,n),this._undoneOperations.add(n)}isUndoingOperation(n){return this._undoPairs.has(n)}isUndoneOperation(n){return this._undoneOperations.has(n)}getUndoneOperation(n){return this._undoPairs.get(n)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class kk extends Jt{constructor(n,i,a="main"){super(i),this._isAttached=!0,this._isLoaded=!0,this._document=n,this.rootName=a}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}kk.prototype.is=function(l,n){return n?n===this.name&&(l==="rootElement"||l==="model:rootElement"||l==="element"||l==="model:element"):l==="rootElement"||l==="model:rootElement"||l==="element"||l==="model:element"||l==="node"||l==="model:node"};var BJ=Object.defineProperty,LJ=Object.defineProperties,jJ=Object.getOwnPropertyDescriptors,WP=Object.getOwnPropertySymbols,FJ=Object.prototype.hasOwnProperty,zJ=Object.prototype.propertyIsEnumerable,qP=(l,n,i)=>n in l?BJ(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,GP=(l,n)=>{for(var i in n||(n={}))FJ.call(n,i)&&qP(l,i,n[i]);if(WP)for(var i of WP(n))zJ.call(n,i)&&qP(l,i,n[i]);return l},KP=(l,n)=>LJ(l,jJ(n));const YP="$graveyard";class $J extends G(){constructor(n){super(),this.model=n,this.history=new OJ,this.selection=new es(this),this.roots=new Ki({idProperty:"rootName"}),this.differ=new PJ(n.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",YP),this.listenTo(n,"applyOperation",(i,a)=>{const u=a[0];u.isDocumentOperation&&this.differ.bufferOperation(u)},{priority:"high"}),this.listenTo(n,"applyOperation",(i,a)=>{const u=a[0];u.isDocumentOperation&&this.history.addOperation(u)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(n.markers,"update",(i,a,u,h,p)=>{const g=KP(GP({},a.getData()),{range:h});this.differ.bufferMarkerChange(a.name,p,g),u===null&&a.on("change",(b,w)=>{const C=a.getData();this.differ.bufferMarkerChange(a.name,KP(GP({},C),{range:w}),C)})}),this.registerPostFixer(i=>{let a=!1;for(const u of this.roots)u.isAttached()||u.isEmpty||(i.remove(i.createRangeIn(u)),a=!0);for(const u of this.model.markers)u.getRange().root.isAttached()||(i.removeMarker(u),a=!0);return a})}get version(){return this.history.version}set version(n){this.history.version=n}get graveyard(){return this.getRoot(YP)}createRoot(n="$root",i="main"){if(this.roots.get(i))throw new R("model-document-createroot-name-exists",this,{name:i});const a=new kk(this,n,i);return this.roots.add(a),a}destroy(){this.selection.destroy(),this.stopListening()}getRoot(n="main"){return this.roots.get(n)}getRootNames(n=!1){return this.getRoots(n).map(i=>i.rootName)}getRoots(n=!1){return this.roots.filter(i=>i!=this.graveyard&&(n||i.isAttached())&&i._isLoaded)}registerPostFixer(n){this._postFixers.add(n)}toJSON(){const n=g5(this);return n.selection="[engine.model.DocumentSelection]",n.model="[engine.model.Model]",n}_handleChangeBlock(n){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(n),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",n.batch):this.fire("change",n.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const n=this.getRoots();return n.length?n[0]:this.graveyard}_getDefaultRange(){const n=this._getDefaultRoot(),i=this.model,a=i.schema,u=i.createPositionFromPath(n,[0]);return a.getNearestSelectionRange(u)||i.createRange(u)}_validateSelectionRange(n){return QP(n.start)&&QP(n.end)}_callPostFixers(n){let i=!1;do for(const a of this._postFixers)if(this.selection.refresh(),i=a(n),i)break;while(i)}}function QP(l){const n=l.textNode;if(n){const i=n.data,a=l.offset-n.startOffset;return!CC(i,a)&&!AC(i,a)}return!0}var VJ=Object.defineProperty,UJ=Object.defineProperties,HJ=Object.getOwnPropertyDescriptors,ZP=Object.getOwnPropertySymbols,WJ=Object.prototype.hasOwnProperty,qJ=Object.prototype.propertyIsEnumerable,JP=(l,n,i)=>n in l?VJ(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i;class GJ extends G(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(n){const i=n instanceof vd?n.name:n;return this._markers.has(i)}get(n){return this._markers.get(n)||null}_set(n,i,a=!1,u=!1){const h=n instanceof vd?n.name:n;if(h.includes(","))throw new R("markercollection-incorrect-marker-name",this);const p=this._markers.get(h);if(p){const C=p.getData(),E=p.getRange();let M=!1;return E.isEqual(i)||(p._attachLiveRange(Yo.fromRange(i)),M=!0),a!=p.managedUsingOperations&&(p._managedUsingOperations=a,M=!0),typeof u=="boolean"&&u!=p.affectsData&&(p._affectsData=u,M=!0),M&&this.fire(`update:${h}`,p,E,i,C),p}const g=Yo.fromRange(i),b=new vd(h,g,a,u);var w;return this._markers.set(h,b),this.fire(`update:${h}`,b,null,i,(w=((C,E)=>{for(var M in E||(E={}))WJ.call(E,M)&&JP(C,M,E[M]);if(ZP)for(var M of ZP(E))qJ.call(E,M)&&JP(C,M,E[M]);return C})({},b.getData()),UJ(w,HJ({range:null})))),b}_remove(n){const i=n instanceof vd?n.name:n,a=this._markers.get(i);return!!a&&(this._markers.delete(i),this.fire(`update:${i}`,a,a.getRange(),null,a.getData()),this._destroyMarker(a),!0)}_refresh(n){const i=n instanceof vd?n.name:n,a=this._markers.get(i);if(!a)throw new R("markercollection-refresh-marker-not-exists",this);const u=a.getRange();this.fire(`update:${i}`,a,u,u,a.getData())}*getMarkersAtPosition(n){for(const i of this)i.getRange().containsPosition(n)&&(yield i)}*getMarkersIntersectingRange(n){for(const i of this)i.getRange().getIntersection(n)!==null&&(yield i)}destroy(){for(const n of this._markers.values())this._destroyMarker(n);this._markers=null,this.stopListening()}*getMarkersGroup(n){for(const i of this._markers.values())i.name.startsWith(n+":")&&(yield i)}_destroyMarker(n){n.stopListening(),n._detachLiveRange()}}class vd extends G(dl){constructor(n,i,a,u){super(),this.name=n,this._liveRange=this._attachLiveRange(i),this._managedUsingOperations=a,this._affectsData=u}get managedUsingOperations(){if(!this._liveRange)throw new R("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new R("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new R("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new R("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new R("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(n){return this._liveRange&&this._detachLiveRange(),n.delegate("change:range").to(this),n.delegate("change:content").to(this),this._liveRange=n,n}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}vd.prototype.is=function(l){return l==="marker"||l==="model:marker"};class KJ extends Qo{constructor(n,i){super(null),this.sourcePosition=n.clone(),this.howMany=i}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const n=super.toJSON();return n.sourcePosition=this.sourcePosition.toJSON(),n}_validate(){if(this.sourcePosition.root.document)throw new R("detach-operation-on-document-node",this)}_execute(){NP(se._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class fa extends dl{constructor(n){super(),this.markers=new Map,this._children=new Kp,n&&this._insertChild(0,n)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(n){return this._children.getNode(n)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(n){return this._children.getNodeIndex(n)}getChildStartOffset(n){return this._children.getNodeStartOffset(n)}getPath(){return[]}getNodeByPath(n){let i=this;for(const a of n)i=i.getChild(i.offsetToIndex(a));return i}offsetToIndex(n){return this._children.offsetToIndex(n)}toJSON(){const n=[];for(const i of this._children)n.push(i.toJSON());return n}static fromJSON(n){const i=[];for(const a of n)a.name?i.push(Jt.fromJSON(a)):i.push(hn.fromJSON(a));return new fa(i)}_appendChild(n){this._insertChild(this.childCount,n)}_insertChild(n,i){const a=function(u){return typeof u=="string"?[new hn(u)]:(ut(u)||(u=[u]),Array.from(u).map(h=>typeof h=="string"?new hn(h):h instanceof Xi?new hn(h.data,h.getAttributes()):h))}(i);for(const u of a)u.parent!==null&&u._remove(),u.parent=this;this._children._insertNodes(n,a)}_removeChildren(n,i=1){const a=this._children._removeNodes(n,i);for(const u of a)u.parent=null;return a}}fa.prototype.is=function(l){return l==="documentFragment"||l==="model:documentFragment"};class YJ{constructor(n,i){this.model=n,this.batch=i}createText(n,i){return new hn(n,i)}createElement(n,i){return new Jt(n,i)}createDocumentFragment(){return new fa}cloneElement(n,i=!0){return n._clone(i)}insert(n,i,a=0){if(this._assertWriterUsedCorrectly(),n instanceof hn&&n.data=="")return;const u=de._createAt(i,a);if(n.parent){if(tN(n.root,u.root))return void this.move(se._createOn(n),u);if(n.root.document)throw new R("model-writer-insert-forbidden-move",this);this.remove(n)}const h=u.root.document?u.root.document.version:null,p=new Er(u,n,h);if(n instanceof hn&&(p.shouldReceiveAttributes=!0),this.batch.addOperation(p),this.model.applyOperation(p),n instanceof fa)for(const[g,b]of n.markers){const w=de._createAt(b.root,0),C={range:new se(b.start._getCombined(w,u),b.end._getCombined(w,u)),usingOperation:!0,affectsData:!0};this.model.markers.has(g)?this.updateMarker(g,C):this.addMarker(g,C)}}insertText(n,i,a,u){i instanceof fa||i instanceof Jt||i instanceof de?this.insert(this.createText(n),i,a):this.insert(this.createText(n,i),a,u)}insertElement(n,i,a,u){i instanceof fa||i instanceof Jt||i instanceof de?this.insert(this.createElement(n),i,a):this.insert(this.createElement(n,i),a,u)}append(n,i){this.insert(n,i,"end")}appendText(n,i,a){i instanceof fa||i instanceof Jt?this.insert(this.createText(n),i,"end"):this.insert(this.createText(n,i),a,"end")}appendElement(n,i,a){i instanceof fa||i instanceof Jt?this.insert(this.createElement(n),i,"end"):this.insert(this.createElement(n,i),a,"end")}setAttribute(n,i,a){if(this._assertWriterUsedCorrectly(),a instanceof se){const u=a.getMinimalFlatRanges();for(const h of u)XP(this,n,i,h)}else eN(this,n,i,a)}setAttributes(n,i){for(const[a,u]of ys(n))this.setAttribute(a,u,i)}removeAttribute(n,i){if(this._assertWriterUsedCorrectly(),i instanceof se){const a=i.getMinimalFlatRanges();for(const u of a)XP(this,n,null,u)}else eN(this,n,null,i)}clearAttributes(n){this._assertWriterUsedCorrectly();const i=a=>{for(const u of a.getAttributeKeys())this.removeAttribute(u,a)};if(n instanceof se)for(const a of n.getItems())i(a);else i(n)}move(n,i,a){if(this._assertWriterUsedCorrectly(),!(n instanceof se))throw new R("writer-move-invalid-range",this);if(!n.isFlat)throw new R("writer-move-range-not-flat",this);const u=de._createAt(i,a);if(u.isEqual(n.start))return;if(this._addOperationForAffectedMarkers("move",n),!tN(n.root,u.root))throw new R("writer-move-different-document",this);const h=n.root.document?n.root.document.version:null,p=new jt(n.start,n.end.offset-n.start.offset,u,h);this.batch.addOperation(p),this.model.applyOperation(p)}remove(n){this._assertWriterUsedCorrectly();const i=(n instanceof se?n:se._createOn(n)).getMinimalFlatRanges().reverse();for(const a of i)this._addOperationForAffectedMarkers("move",a),QJ(a.start,a.end.offset-a.start.offset,this.batch,this.model)}merge(n){this._assertWriterUsedCorrectly();const i=n.nodeBefore,a=n.nodeAfter;if(this._addOperationForAffectedMarkers("merge",n),!(i instanceof Jt))throw new R("writer-merge-no-element-before",this);if(!(a instanceof Jt))throw new R("writer-merge-no-element-after",this);n.root.document?this._merge(n):this._mergeDetached(n)}createPositionFromPath(n,i,a){return this.model.createPositionFromPath(n,i,a)}createPositionAt(n,i){return this.model.createPositionAt(n,i)}createPositionAfter(n){return this.model.createPositionAfter(n)}createPositionBefore(n){return this.model.createPositionBefore(n)}createRange(n,i){return this.model.createRange(n,i)}createRangeIn(n){return this.model.createRangeIn(n)}createRangeOn(n){return this.model.createRangeOn(n)}createSelection(...n){return this.model.createSelection(...n)}_mergeDetached(n){const i=n.nodeBefore,a=n.nodeAfter;this.move(se._createIn(a),de._createAt(i,"end")),this.remove(a)}_merge(n){const i=de._createAt(n.nodeBefore,"end"),a=de._createAt(n.nodeAfter,0),u=n.root.document.graveyard,h=new de(u,[0]),p=n.root.document.version,g=new Vn(a,n.nodeAfter.maxOffset,i,h,p);this.batch.addOperation(g),this.model.applyOperation(g)}rename(n,i){if(this._assertWriterUsedCorrectly(),!(n instanceof Jt))throw new R("writer-rename-not-element-instance",this);const a=n.root.document?n.root.document.version:null,u=new Io(de._createBefore(n),n.name,i,a);this.batch.addOperation(u),this.model.applyOperation(u)}split(n,i){this._assertWriterUsedCorrectly();let a,u,h=n.parent;if(!h.parent)throw new R("writer-split-element-no-parent",this);if(i||(i=h.parent),!n.parent.getAncestors({includeSelf:!0}).includes(i))throw new R("writer-split-invalid-limit-element",this);do{const p=h.root.document?h.root.document.version:null,g=h.maxOffset-n.offset,b=pn.getInsertionPosition(n),w=new pn(n,g,b,null,p);this.batch.addOperation(w),this.model.applyOperation(w),a||u||(a=h,u=n.parent.nextSibling),h=(n=this.createPositionAfter(n.parent)).parent}while(h!==i);return{position:n,range:new se(de._createAt(a,"end"),de._createAt(u,0))}}wrap(n,i){if(this._assertWriterUsedCorrectly(),!n.isFlat)throw new R("writer-wrap-range-not-flat",this);const a=i instanceof Jt?i:new Jt(i);if(a.childCount>0)throw new R("writer-wrap-element-not-empty",this);if(a.parent!==null)throw new R("writer-wrap-element-attached",this);this.insert(a,n.start);const u=new se(n.start.getShiftedBy(1),n.end.getShiftedBy(1));this.move(u,de._createAt(a,0))}unwrap(n){if(this._assertWriterUsedCorrectly(),n.parent===null)throw new R("writer-unwrap-element-no-parent",this);this.move(se._createIn(n),this.createPositionAfter(n)),this.remove(n)}addMarker(n,i){if(this._assertWriterUsedCorrectly(),!i||typeof i.usingOperation!="boolean")throw new R("writer-addmarker-no-usingoperation",this);const a=i.usingOperation,u=i.range,h=i.affectsData!==void 0&&i.affectsData;if(this.model.markers.has(n))throw new R("writer-addmarker-marker-exists",this);if(!u)throw new R("writer-addmarker-no-range",this);return a?(nf(this,n,null,u,h),this.model.markers.get(n)):this.model.markers._set(n,u,a,h)}updateMarker(n,i){this._assertWriterUsedCorrectly();const a=typeof n=="string"?n:n.name,u=this.model.markers.get(a);if(!u)throw new R("writer-updatemarker-marker-not-exists",this);if(!i)return z("writer-updatemarker-reconvert-using-editingcontroller",{markerName:a}),void this.model.markers._refresh(u);const h=typeof i.usingOperation=="boolean",p=typeof i.affectsData=="boolean",g=p?i.affectsData:u.affectsData;if(!h&&!i.range&&!p)throw new R("writer-updatemarker-wrong-options",this);const b=u.getRange(),w=i.range?i.range:b;h&&i.usingOperation!==u.managedUsingOperations?i.usingOperation?nf(this,a,null,w,g):(nf(this,a,b,null,g),this.model.markers._set(a,w,void 0,g)):u.managedUsingOperations?nf(this,a,b,w,g):this.model.markers._set(a,w,void 0,g)}removeMarker(n){this._assertWriterUsedCorrectly();const i=typeof n=="string"?n:n.name;if(!this.model.markers.has(i))throw new R("writer-removemarker-no-marker",this);const a=this.model.markers.get(i);if(!a.managedUsingOperations)return void this.model.markers._remove(i);nf(this,i,a.getRange(),null,a.affectsData)}addRoot(n,i="$root"){this._assertWriterUsedCorrectly();const a=this.model.document.getRoot(n);if(a&&a.isAttached())throw new R("writer-addroot-root-exists",this);const u=this.model.document,h=new xs(n,i,!0,u,u.version);return this.batch.addOperation(h),this.model.applyOperation(h),this.model.document.getRoot(n)}detachRoot(n){this._assertWriterUsedCorrectly();const i=typeof n=="string"?this.model.document.getRoot(n):n;if(!i||!i.isAttached())throw new R("writer-detachroot-no-root",this);for(const h of this.model.markers)h.getRange().root===i&&this.removeMarker(h);for(const h of i.getAttributeKeys())this.removeAttribute(h,i);this.remove(this.createRangeIn(i));const a=this.model.document,u=new xs(i.rootName,i.name,!1,a,a.version);this.batch.addOperation(u),this.model.applyOperation(u)}setSelection(...n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...n)}setSelectionFocus(n,i){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(n,i)}setSelectionAttribute(n,i){if(this._assertWriterUsedCorrectly(),typeof n=="string")this._setSelectionAttribute(n,i);else for(const[a,u]of ys(n))this._setSelectionAttribute(a,u)}removeSelectionAttribute(n){if(this._assertWriterUsedCorrectly(),typeof n=="string")this._removeSelectionAttribute(n);else for(const i of n)this._removeSelectionAttribute(i)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(n){this.model.document.selection._restoreGravity(n)}_setSelectionAttribute(n,i){const a=this.model.document.selection;if(a.isCollapsed&&a.anchor.parent.isEmpty){const u=es._getStoreAttributeKey(n);this.setAttribute(u,i,a.anchor.parent)}a._setAttribute(n,i)}_removeSelectionAttribute(n){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const a=es._getStoreAttributeKey(n);this.removeAttribute(a,i.anchor.parent)}i._removeAttribute(n)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new R("writer-incorrect-use",this)}_addOperationForAffectedMarkers(n,i){for(const a of this.model.markers){if(!a.managedUsingOperations)continue;const u=a.getRange();let h=!1;if(n==="move"){const p=i;h=p.containsPosition(u.start)||p.start.isEqual(u.start)||p.containsPosition(u.end)||p.end.isEqual(u.end)}else{const p=i,g=p.nodeBefore,b=p.nodeAfter,w=u.start.parent==g&&u.start.isAtEnd,C=u.end.parent==b&&u.end.offset==0,E=u.end.nodeAfter==b,M=u.start.nodeAfter==b;h=w||C||E||M}h&&this.updateMarker(a.name,{range:u})}}}function XP(l,n,i,a){const u=l.model,h=u.document;let p,g,b,w=a.start;for(const E of a.getWalker({shallow:!0}))b=E.item.getAttribute(n),p&&g!=b&&(g!=i&&C(),w=p),p=E.nextPosition,g=b;function C(){const E=new se(w,p),M=E.root.document?h.version:null,O=new er(E,n,g,i,M);l.batch.addOperation(O),u.applyOperation(O)}p instanceof de&&p!=w&&g!=i&&C()}function eN(l,n,i,a){const u=l.model,h=u.document,p=a.getAttribute(n);let g,b;if(p!=i){if(a.root===a){const w=a.document?h.version:null;b=new pa(a,n,p,i,w)}else{g=new se(de._createBefore(a),l.createPositionAfter(a));const w=g.root.document?h.version:null;b=new er(g,n,p,i,w)}l.batch.addOperation(b),u.applyOperation(b)}}function nf(l,n,i,a,u){const h=l.model,p=h.document,g=new To(n,i,a,h.markers,!!u,p.version);l.batch.addOperation(g),h.applyOperation(g)}function QJ(l,n,i,a){let u;if(l.root.document){const h=a.document,p=new de(h.graveyard,[0]);u=new jt(l,n,p,h.version)}else u=new KJ(l,n);i.addOperation(u),a.applyOperation(u)}function tN(l,n){return l===n||l instanceof kk&&n instanceof kk}function ZJ(l,n,i={}){if(n.isCollapsed)return;const a=n.getFirstRange();if(a.root.rootName=="$graveyard")return;const u=l.schema;l.change(h=>{if(!i.doNotResetEntireContent&&function(w,C){const E=w.getLimitElement(C);if(!C.containsEntireContent(E))return!1;const M=C.getFirstRange();return M.start.parent==M.end.parent?!1:w.checkChild(E,"paragraph")}(u,n))return void function(w,C){const E=w.model.schema.getLimitElement(C);w.remove(w.createRangeIn(E)),oN(w,w.createPositionAt(E,0),C)}(h,n);const p={};if(!i.doNotAutoparagraph){const w=n.getSelectedElement();w&&Object.assign(p,u.getAttributesWithProperty(w,"copyOnReplace",!0))}const[g,b]=function(w){const C=w.root.document.model,E=w.start;let M=w.end;if(C.hasContent(w,{ignoreMarkers:!0})){const O=function(L){const F=L.parent,H=F.root.document.model.schema,K=F.getAncestors({parentFirst:!0,includeSelf:!0});for(const X of K){if(H.isLimit(X))return null;if(H.isBlock(X))return X}}(M);if(O&&M.isTouching(C.createPositionAt(O,0))){const L=C.createSelection(w);C.modifySelection(L,{direction:"backward"});const F=L.getLastPosition(),H=C.createRange(F,M);C.hasContent(H,{ignoreMarkers:!0})||(M=F)}}return[Br.fromPosition(E,"toPrevious"),Br.fromPosition(M,"toNext")]}(a);g.isTouching(b)||h.remove(h.createRange(g,b)),i.leaveUnmerged||(function(w,C,E){const M=w.model;if(!oA(w.model.schema,C,E))return;const[O,L]=function(F,H){const K=F.getAncestors(),X=H.getAncestors();let oe=0;for(;K[oe]&&K[oe]==X[oe];)oe++;return[K[oe],X[oe]]}(C,E);!O||!L||(!M.hasContent(O,{ignoreMarkers:!0})&&M.hasContent(L,{ignoreMarkers:!0})?rN(w,C,E,O.parent):nN(w,C,E,O.parent))}(h,g,b),u.removeDisallowedAttributes(g.parent.getChildren(),h)),iN(h,n,g),!i.doNotAutoparagraph&&function(w,C){const E=w.checkChild(C,"$text"),M=w.checkChild(C,"paragraph");return!E&&M}(u,g)&&oN(h,g,n,p),g.detach(),b.detach()})}function nN(l,n,i,a){const u=n.parent,h=i.parent;if(u!=a&&h!=a){for(n=l.createPositionAfter(u),(i=l.createPositionBefore(h)).isEqual(n)||l.insert(h,n),l.merge(n);i.parent.isEmpty;){const p=i.parent;i=l.createPositionBefore(p),l.remove(p)}oA(l.model.schema,n,i)&&nN(l,n,i,a)}}function rN(l,n,i,a){const u=n.parent,h=i.parent;if(u!=a&&h!=a){for(n=l.createPositionAfter(u),(i=l.createPositionBefore(h)).isEqual(n)||l.insert(u,i);n.parent.isEmpty;){const p=n.parent;n=l.createPositionBefore(p),l.remove(p)}i=l.createPositionBefore(h),function(p,g){const b=g.nodeBefore,w=g.nodeAfter;b.name!=w.name&&p.rename(b,w.name),p.clearAttributes(b),p.setAttributes(Object.fromEntries(w.getAttributes()),b),p.merge(g)}(l,i),oA(l.model.schema,n,i)&&rN(l,n,i,a)}}function oA(l,n,i){const a=n.parent,u=i.parent;return a!=u&&!l.isLimit(a)&&!l.isLimit(u)&&function(h,p,g){const b=new se(h,p);for(const w of b.getWalker())if(g.isLimit(w.item))return!1;return!0}(n,i,l)}function oN(l,n,i,a={}){const u=l.createElement("paragraph");l.model.schema.setAllowedAttributes(u,a,l),l.insert(u,n),iN(l,i,l.createPositionAt(u,0))}function iN(l,n,i){n instanceof es?l.setSelection(i):n.setTo(i)}function sN(l,n){const i=[];Array.from(l.getItems({direction:"backward"})).map(a=>n.createRangeOn(a)).filter(a=>(a.start.isAfter(l.start)||a.start.isEqual(l.start))&&(a.end.isBefore(l.end)||a.end.isEqual(l.end))).forEach(a=>{i.push(a.start.parent),n.remove(a)}),i.forEach(a=>{let u=a;for(;u.parent&&u.isEmpty;){const h=n.createRangeOn(u);u=u.parent,n.remove(h)}})}class JJ{constructor(n,i,a){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=n,this.writer=i,this.position=a,this.canMergeWith=new Set([this.position.parent]),this.schema=n.schema,this._documentFragment=i.createDocumentFragment(),this._documentFragmentPosition=i.createPositionAt(this._documentFragment,0)}handleNodes(n){for(const i of Array.from(n))this._handleNode(i);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(n){const i=this.writer.createPositionAfter(this._lastNode),a=this.writer.createPositionAfter(n);if(a.isAfter(i)){if(this._lastNode=n,this.position.parent!=n||!this.position.isAtEnd)throw new R("insertcontent-invalid-insertion-position",this);this.position=a,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?se._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new se(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(n){if(this.schema.isObject(n))return void this._handleObject(n);let i=this._checkAndAutoParagraphToAllowedPosition(n);i||(i=this._checkAndSplitToAllowedPosition(n),i)?(this._appendToFragment(n),this._firstNode||(this._firstNode=n),this._lastNode=n):this._handleDisallowedNode(n)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const n=Br.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=n.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=n.toPosition(),n.detach()}_handleObject(n){this._checkAndSplitToAllowedPosition(n)?this._appendToFragment(n):this._tryAutoparagraphing(n)}_handleDisallowedNode(n){n.is("element")?this.handleNodes(n.getChildren()):this._tryAutoparagraphing(n)}_appendToFragment(n){if(!this.schema.checkChild(this.position,n))throw new R("insertcontent-wrong-position",this,{node:n,position:this.position});this.writer.insert(n,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(n.offsetSize),this.schema.isObject(n)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=n:this._nodeToSelect=null,this._filterAttributesOf.push(n)}_setAffectedBoundaries(n){this._affectedStart||(this._affectedStart=Br.fromPosition(n,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(n)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Br.fromPosition(n,"toNext"))}_mergeOnLeft(){const n=this._firstNode;if(!(n instanceof Jt)||!this._canMergeLeft(n))return;const i=Br._createBefore(n);i.stickiness="toNext";const a=Br.fromPosition(this.position,"toNext");this._affectedStart.isEqual(i)&&(this._affectedStart.detach(),this._affectedStart=Br._createAt(i.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Br._createAt(i.nodeBefore,"end","toNext")),this.position=a.toPosition(),a.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_mergeOnRight(){const n=this._lastNode;if(!(n instanceof Jt)||!this._canMergeRight(n))return;const i=Br._createAfter(n);if(i.stickiness="toNext",!this.position.isEqual(i))throw new R("insertcontent-invalid-insertion-position",this);this.position=de._createAt(i.nodeBefore,"end");const a=Br.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(i)&&(this._affectedEnd.detach(),this._affectedEnd=Br._createAt(i.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Br._createAt(i.nodeBefore,0,"toPrevious")),this.position=a.toPosition(),a.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_canMergeLeft(n){const i=n.previousSibling;return i instanceof Jt&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(i,n)}_canMergeRight(n){const i=n.nextSibling;return i instanceof Jt&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(n,i)}_tryAutoparagraphing(n){const i=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,i)&&this.schema.checkChild(i,n)&&(i._appendChild(n),this._handleNode(i))}_checkAndAutoParagraphToAllowedPosition(n){if(this.schema.checkChild(this.position.parent,n))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",n))return!1;this._insertPartialFragment();const i=this.writer.createElement("paragraph");return this.writer.insert(i,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=i,this.position=this.writer.createPositionAt(i,0),!0}_checkAndSplitToAllowedPosition(n){const i=this._getAllowedIn(this.position.parent,n);if(!i)return!1;for(i!=this.position.parent&&this._insertPartialFragment();i!=this.position.parent;)if(this.position.isAtStart){const a=this.position.parent;this.position=this.writer.createPositionBefore(a),a.isEmpty&&a.parent===i&&this.writer.remove(a)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const a=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=a,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(n,i){return this.schema.checkChild(n,i)?n:this.schema.isLimit(n)?null:this._getAllowedIn(n.parent,i)}}function XJ(l,n,i,a={}){if(!l.schema.isObject(n))throw new R("insertobject-element-not-an-object",l,{object:n});const u=i||l.document.selection;let h=u;a.findOptimalPosition&&l.schema.isBlock(n)&&(h=l.createSelection(l.schema.findOptimalInsertionRange(u,a.findOptimalPosition)));const p=Ar(u.getSelectedBlocks()),g={};return p&&Object.assign(g,l.schema.getAttributesWithProperty(p,"copyOnReplace",!0)),l.change(b=>{h.isCollapsed||l.deleteContent(h,{doNotAutoparagraph:!0});let w=n;const C=h.anchor.parent;!l.schema.checkChild(C,n)&&l.schema.checkChild(C,"paragraph")&&l.schema.checkChild("paragraph",n)&&(w=b.createElement("paragraph"),b.insert(n,w)),l.schema.setAllowedAttributes(w,g,b);const E=l.insertContent(w,h);return E.isCollapsed||a.setSelection&&function(M,O,L,F){const H=M.model;if(L=="on")return void M.setSelection(O,"on");if(L!="after")throw new R("insertobject-invalid-place-parameter-value",H);let K=O.nextSibling;if(H.schema.isInline(O))return void M.setSelection(O,"after");!(K&&H.schema.checkChild(K,"$text"))&&H.schema.checkChild(O.parent,"paragraph")&&(K=M.createElement("paragraph"),H.schema.setAllowedAttributes(K,F,M),H.insertContent(K,M.createPositionAfter(O))),K&&M.setSelection(K,0)}(b,n,a.setSelection,g),E})}const eX=' ,.?!:;"-()';function tX(l,n){const{isForward:i,walker:a,unit:u,schema:h,treatEmojiAsSingleUnit:p}=l,{type:g,item:b,nextPosition:w}=n;if(g=="text")return l.unit==="word"?function(C,E){let M=C.position.textNode;for(M||(M=E?C.position.nodeAfter:C.position.nodeBefore);M&&M.is("$text");){const O=C.position.offset-M.startOffset;if(oX(M,O,E))M=E?C.position.nodeAfter:C.position.nodeBefore;else{if(rX(M.data,O,E))break;C.next()}}return C.position}(a,i):function(C,E,M){const O=C.position.textNode;if(O){const L=O.data;let F=C.position.offset-O.startOffset;for(;CC(L,F)||E=="character"&&AC(L,F)||M&&KM(L,F);)C.next(),F=C.position.offset-O.startOffset}return C.position}(a,u,p);if(g==(i?"elementStart":"elementEnd")){if(h.isSelectable(b))return de._createAt(b,i?"after":"before");if(h.checkChild(w,"$text"))return w}else{if(h.isLimit(b))return void a.skip(()=>!0);if(h.checkChild(w,"$text"))return w}}function nX(l,n){const i=l.root,a=de._createAt(i,n?"end":0);return n?new se(l,a):new se(a,l)}function rX(l,n,i){const a=n+(i?0:-1);return eX.includes(l.charAt(a))}function oX(l,n,i){return n===(i?l.offsetSize:0)}class iX extends be(){constructor(){super(),this.markers=new GJ,this.document=new $J(this),this.schema=new XZ,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(n=>this.decorate(n)),this.on("applyOperation",(n,i)=>{i[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((n,i)=>{if(i.name==="$marker")return!0}),QZ(this),this.document.registerPostFixer(bP),this.on("insertContent",(n,[i,a])=>{n.return=function(u,h,p){return u.change(g=>{const b=p||u.document.selection;b.isCollapsed||u.deleteContent(b,{doNotAutoparagraph:!0});const w=new JJ(u,g,b.anchor),C=[];let E;if(h.is("documentFragment")){if(h.markers.size){const L=[];for(const[F,H]of h.markers){const{start:K,end:X}=H,oe=K.isEqual(X);L.push({position:K,name:F,isCollapsed:oe},{position:X,name:F,isCollapsed:oe})}L.sort(({position:F},{position:H})=>F.isBefore(H)?1:-1);for(const{position:F,name:H,isCollapsed:K}of L){let X=null,oe=null;const le=F.parent===h&&F.isAtStart,De=F.parent===h&&F.isAtEnd;le||De?K&&(oe=le?"start":"end"):(X=g.createElement("$marker"),g.insert(X,F)),C.push({name:H,element:X,collapsed:oe})}}E=h.getChildren()}else E=[h];w.handleNodes(E);let M=w.getSelectionRange();if(h.is("documentFragment")&&C.length){const L=M?Yo.fromRange(M):null,F={};for(let H=C.length-1;H>=0;H--){const{name:K,element:X,collapsed:oe}=C[H],le=!F[K];if(le&&(F[K]=[]),X){const De=g.createPositionAt(X,"before");F[K].push(De),g.remove(X)}else{const De=w.getAffectedRange();if(!De){oe&&F[K].push(w.position);continue}oe?F[K].push(De[oe]):F[K].push(le?De.start:De.end)}}for(const[H,[K,X]]of Object.entries(F))K&&X&&K.root===X.root&&K.root.document&&!g.model.markers.has(H)&&g.addMarker(H,{usingOperation:!0,affectsData:!0,range:new se(K,X)});L&&(M=L.toRange(),L.detach())}M&&(b instanceof es?g.setSelection(M):b.setTo(M));const O=w.getAffectedRange()||u.createRange(b.anchor);return w.destroy(),O})}(this,i,a)}),this.on("insertObject",(n,[i,a,u])=>{n.return=XJ(this,i,a,u)}),this.on("canEditAt",n=>{const i=!this.document.isReadOnly;n.return=i,i||n.stop()})}change(n){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new kd,callback:n}),this._runPendingChanges()[0]):n(this._currentWriter)}catch(i){R.rethrowUnexpectedError(i,this)}}enqueueChange(n,i){try{n?typeof n=="function"?(i=n,n=new kd):n instanceof kd||(n=new kd(n)):n=new kd,this._pendingChanges.push({batch:n,callback:i}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(a){R.rethrowUnexpectedError(a,this)}}applyOperation(n){n._execute()}insertContent(n,i,a,...u){const h=iA(i,a);return this.fire("insertContent",[n,h,a,...u])}insertObject(n,i,a,u,...h){const p=iA(i,a);return this.fire("insertObject",[n,p,u,u,...h])}deleteContent(n,i){ZJ(this,n,i)}modifySelection(n,i){(function(a,u,h={}){const p=a.schema,g=h.direction!="backward",b=h.unit?h.unit:"character",w=!!h.treatEmojiAsSingleUnit,C=u.focus,E=new ha({boundaries:nX(C,g),singleCharacters:!0,direction:g?"forward":"backward"}),M={walker:E,schema:p,isForward:g,unit:b,treatEmojiAsSingleUnit:w};let O;for(;O=E.next();){if(O.done)return;const L=tX(M,O.value);if(L)return void(u instanceof es?a.change(F=>{F.setSelectionFocus(L)}):u.setFocus(L))}})(this,n,i)}getSelectedContent(n){return function(i,a){return i.change(u=>{const h=u.createDocumentFragment(),p=a.getFirstRange();if(!p||p.isCollapsed)return h;const g=p.start.root,b=p.start.getCommonPath(p.end),w=g.getNodeByPath(b);let C;C=p.start.parent==p.end.parent?p:u.createRange(u.createPositionAt(w,p.start.path[b.length]),u.createPositionAt(w,p.end.path[b.length]+1));const E=C.end.offset-C.start.offset;for(const M of C.getItems({shallow:!0}))M.is("$textProxy")?u.appendText(M.data,M.getAttributes(),h):u.append(u.cloneElement(M,!0),h);if(C!=p){const M=p._getTransformedByMove(C.start,u.createPositionAt(h,0),E)[0],O=u.createRange(u.createPositionAt(h,0),M.start);sN(u.createRange(M.end,u.createPositionAt(h,"end")),u),sN(O,u)}return h})}(this,n)}hasContent(n,i={}){const a=n instanceof se?n:se._createIn(n);if(a.isCollapsed)return!1;const{ignoreWhitespaces:u=!1,ignoreMarkers:h=!1}=i;if(!h){for(const p of this.markers.getMarkersIntersectingRange(a))if(p.affectsData)return!0}for(const p of a.getItems())if(this.schema.isContent(p)&&(!p.is("$textProxy")||!u||p.data.search(/\S/)!==-1))return!0;return!1}canEditAt(n){const i=iA(n);return this.fire("canEditAt",[i])}createPositionFromPath(n,i,a){return new de(n,i,a)}createPositionAt(n,i){return de._createAt(n,i)}createPositionAfter(n){return de._createAfter(n)}createPositionBefore(n){return de._createBefore(n)}createRange(n,i){return new se(n,i)}createRangeIn(n){return se._createIn(n)}createRangeOn(n){return se._createOn(n)}createSelection(...n){return new Ko(...n)}createBatch(n){return new kd(n)}createOperationFromJSON(n){return yJ.fromJSON(n,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const n=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const i=this._pendingChanges[0].batch;this._currentWriter=new YJ(this,i);const a=this._pendingChanges[0].callback(this._currentWriter);n.push(a),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return n}}function iA(l,n){if(l)return l instanceof Ko||l instanceof es?l:l instanceof Rc?n||n===0?new Ko(l,n):l.is("rootElement")?new Ko(l,"in"):new Ko(l,"on"):new Ko(l)}class sX extends ul{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(n){this.fire(n.type,n)}}class sA extends ul{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(n){this.fire(n.type,n)}}class ma{constructor(n){this.document=n}createDocumentFragment(n){return new Nc(this.document,n)}createElement(n,i,a){return new qo(this.document,n,i,a)}createText(n){return new dn(this.document,n)}clone(n,i=!1){return n._clone(i)}appendChild(n,i){return i._appendChild(n)}insertChild(n,i,a){return a._insertChild(n,i)}removeChildren(n,i,a){return a._removeChildren(n,i)}remove(n){const i=n.parent;return i?this.removeChildren(i.getChildIndex(n),1,i):[]}replace(n,i){const a=n.parent;if(a){const u=a.getChildIndex(n);return this.removeChildren(u,1,a),this.insertChild(u,i,a),!0}return!1}unwrapElement(n){const i=n.parent;if(i){const a=i.getChildIndex(n);this.remove(n),this.insertChild(a,n.getChildren(),i)}}rename(n,i){const a=new qo(this.document,n,i.getAttributes(),i.getChildren());return this.replace(i,a)?a:null}setAttribute(n,i,a){a._setAttribute(n,i)}removeAttribute(n,i){i._removeAttribute(n)}addClass(n,i){i._addClass(n)}removeClass(n,i){i._removeClass(n)}setStyle(n,i,a){Cr(n)&&a===void 0?i._setStyle(n):a._setStyle(n,i)}removeStyle(n,i){i._removeStyle(n)}setCustomProperty(n,i,a){a._setCustomProperty(n,i)}removeCustomProperty(n,i){return i._removeCustomProperty(n)}createPositionAt(n,i){return Se._createAt(n,i)}createPositionAfter(n){return Se._createAfter(n)}createPositionBefore(n){return Se._createBefore(n)}createRange(n,i){return new lt(n,i)}createRangeOn(n){return lt._createOn(n)}createRangeIn(n){return lt._createIn(n)}createSelection(...n){return new Qi(...n)}}class aX{constructor(){this._commands=new Map}add(n,i){this._commands.set(n,i)}get(n){return this._commands.get(n)}execute(n,...i){const a=this.get(n);if(!a)throw new R("commandcollection-command-not-found",this,{commandName:n});return a.execute(...i)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const n of this.commands())n.destroy()}}var lX=Object.defineProperty,aN=Object.getOwnPropertySymbols,cX=Object.prototype.hasOwnProperty,uX=Object.prototype.propertyIsEnumerable,lN=(l,n,i)=>n in l?lX(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i;const aA="contentEditing",cN="common";class dX{constructor(n){this.keystrokeInfos=new Map,this._editor=n;const i=n.config.get("menuBar.isVisible"),a=n.locale.t;this.addKeystrokeInfoCategory({id:aA,label:a("Content editing keystrokes"),description:a("These keyboard shortcuts allow for quick access to content editing features.")});const u=[{label:a("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:a("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:a("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:a("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:a("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:a("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];i&&u.push({label:a("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:a("User interface and content navigation keystrokes"),description:a("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:u}]})}addKeystrokeInfoCategory({id:n,label:i,description:a,groups:u}){this.keystrokeInfos.set(n,{id:n,label:i,description:a,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:n,id:cN}),u&&u.forEach(h=>{this.addKeystrokeInfoGroup(((p,g)=>{for(var b in g||(g={}))cX.call(g,b)&&lN(p,b,g[b]);if(aN)for(var b of aN(g))uX.call(g,b)&&lN(p,b,g[b]);return p})({categoryId:n},h))})}addKeystrokeInfoGroup({categoryId:n=aA,id:i,label:a,keystrokes:u}){const h=this.keystrokeInfos.get(n);if(!h)throw new R("accessibility-unknown-keystroke-info-category",this._editor,{groupId:i,categoryId:n});h.groups.set(i,{id:i,label:a,keystrokes:u||[]})}addKeystrokeInfos({categoryId:n=aA,groupId:i=cN,keystrokes:a}){if(!this.keystrokeInfos.has(n))throw new R("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:n,keystrokes:a});const u=this.keystrokeInfos.get(n);if(!u.groups.has(i))throw new R("accessibility-unknown-keystroke-info-group",this._editor,{groupId:i,categoryId:n,keystrokes:a});u.groups.get(i).keystrokes.push(...a)}}var uN=Object.getOwnPropertySymbols,hX=Object.prototype.hasOwnProperty,pX=Object.prototype.propertyIsEnumerable,dN=(l,n)=>{var i={};for(var a in l)hX.call(l,a)&&n.indexOf(a)<0&&(i[a]=l[a]);if(l!=null&&uN)for(var a of uN(l))n.indexOf(a)<0&&pX.call(l,a)&&(i[a]=l[a]);return i};class fX extends be(){constructor(n={}){super();const i=this.constructor,a=i.defaultConfig||{},{translations:u}=a,h=dN(a,["translations"]),p=n,{translations:g=u}=p,b=dN(p,["translations"]),w=n.language||h.language;this._context=n.context||new d5({language:w,translations:g}),this._context._addEditor(this,!n.context);const C=Array.from(i.builtinPlugins||[]);this.config=new _M(b,h),this.config.define("plugins",C),this.config.define(this._context._getEditorConfig()),this.plugins=new c5(this,C,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new aX,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new iX,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const E=new TQ;this.data=new vJ(this.model,E),this.editing=new ZZ(this.model,E),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new wJ([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new aQ(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new dX(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(n){throw new R("editor-isreadonly-has-no-setter")}enableReadOnlyMode(n){if(typeof n!="string"&&typeof n!="symbol")throw new R("editor-read-only-lock-id-invalid",null,{lockId:n});this._readOnlyLocks.has(n)||(this._readOnlyLocks.add(n),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(n){if(typeof n!="string"&&typeof n!="symbol")throw new R("editor-read-only-lock-id-invalid",null,{lockId:n});this._readOnlyLocks.has(n)&&(this._readOnlyLocks.delete(n),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(n){this.data.set(n)}getData(n){return this.data.get(n)}initPlugins(){const n=this.config,i=n.get("plugins"),a=n.get("removePlugins")||[],u=n.get("extraPlugins")||[],h=n.get("substitutePlugins")||[];return this.plugins.init(i.concat(u),a,h)}destroy(){let n=Promise.resolve();return this.state=="initializing"&&(n=new Promise(i=>this.once("ready",i))),n.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(n,...i){try{return this.commands.execute(n,...i)}catch(a){R.rethrowUnexpectedError(a,this)}}focus(){this.editing.view.focus()}static create(...n){throw new Error("This is an abstract method.")}}function lA(l){return class extends l{updateSourceElement(n){if(!this.sourceElement)throw new R("editor-missing-sourceelement",this);const i=this.config.get("updateSourceElementOnDestroy"),a=this.sourceElement instanceof HTMLTextAreaElement;if(!i&&!a)return void MM(this.sourceElement,"");const u=typeof n=="string"?n:this.data.get();MM(this.sourceElement,u)}}}lA.updateSourceElement=lA(Object).prototype.updateSourceElement;class hN extends tk{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Ki({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(n){if(typeof n!="string")throw new R("pendingactions-add-invalid-message",this);const i=new(be());return i.set("message",n),this._actions.add(i),this.hasAny=!0,i}remove(n){this._actions.remove(n),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const ht={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',colorPalette:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',imageUrl:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.401 5.401 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023c.449.131.887.32 1.307.573l.058.033c.046.028.09.057.135.086V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.118 2.118 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.647.647 0 0 0-.096.492.664.664 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.741 1.741 0 0 1 2.478-.463 1.869 1.869 0 0 1 .476 2.55.637.637 0 0 0-.071.5.646.646 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.228 3.228 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.626.626 0 0 0 .092-.475.638.638 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.741 1.741 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236l1.268-1.907Z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeCustom:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:v="https://vecta.io/nano" viewBox="0 0 20 20"><path d="M.95 1.43a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h.75v6.3H.95a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-.65h1.932l1.539-1.5H5v-.95a.95.95 0 0 0-.95-.95H3.2v-6.3h.85A.95.95 0 0 0 5 5.48v-.55h10v.55a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-3.1a.95.95 0 0 0-.95-.95h-3.1a.95.95 0 0 0-.95.95v1.05H5V2.38a.95.95 0 0 0-.95-.95H.95zm.55 3.5v-2h2v2h-2zm0 9.3v2h2v-2h-2zm15-11.3v2h2v-2h-2z"/><path d="M8.139 20.004v-2.388l7.045-7.048 2.391 2.391-7.046 7.046h-2.39zm11.421-9.101a.64.64 0 0 1-.138.206l-1.165 1.168-2.391-2.391 1.167-1.163a.63.63 0 0 1 .206-.138.635.635 0 0 1 .243-.049.63.63 0 0 1 .449.187l1.491 1.488c.059.059.108.129.138.206s.049.16.049.243a.6.6 0 0 1-.049.243z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2ZM13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7h11Z"/></svg>',objectSizeSmall:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2ZM7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11h5Z"/></svg>',objectSizeMedium:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2ZM10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9h8Z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',todoList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',codeBlock:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',heading1:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',heading2:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',heading3:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',heading4:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',heading5:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',heading6:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>',horizontalLine:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',html:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'};var pN=s(7801),mX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(pN.A,mX),pN.A.locals;class vk extends Ye{constructor(n){super(n),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${N()}`;const i=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:i.to("for")},children:[{text:i.to("text")}]})}}class gX extends Ye{constructor(n,i){super(n);const a=n.t,u=new vk;u.text=a("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":u.id,role:"document",tabindex:-1},children:[Or(document,"p",{},a("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(i.values())),u]})}focus(){this.element.focus()}_createCategories(n){return n.map(i=>{const a=[Or(document,"h3",{},i.label),...Array.from(i.groups.values()).map(u=>this._createGroup(u)).flat()];return i.description&&a.splice(1,0,Or(document,"p",{},i.description)),Or(document,"section",{},a)})}_createGroup(n){const i=n.keystrokes.sort((u,h)=>u.label.localeCompare(h.label)).map(u=>this._createGroupRow(u)).flat(),a=[Or(document,"dl",{},i)];return n.label&&a.unshift(Or(document,"h4",{},n.label)),a}_createGroupRow(n){const i=this.locale.t,a=Or(document,"dt"),u=Or(document,"dd"),h=function(g){return typeof g=="string"?[[g]]:typeof g[0]=="string"?[g]:g}(n.keystroke),p=[];for(const g of h)p.push(g.map(bX).join(""));return a.innerHTML=n.label,u.innerHTML=p.join(", ")+(n.mayRequireFn&&v.isMac?` ${i("(may require <kbd>Fn</kbd>)")}`:""),[a,u]}}function bX(l){return Qb(l).split("+").map(n=>`<kbd>${n}</kbd>`).join("+")}const fN='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var mN=s(8527),kX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(mN.A,kX),mN.A.locals;class vX extends ge{constructor(){super(...arguments),this.contentView=null}static get requires(){return[ka]}static get pluginName(){return"AccessibilityHelp"}init(){const n=this.editor,i=n.locale.t;n.ui.componentFactory.add("accessibilityHelp",()=>{const a=this._createButton(Ft);return a.set({tooltip:!0,withText:!1,label:i("Accessibility help")}),a}),n.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const a=this._createButton(Zo);return a.label=i("Accessibility"),a}),n.keystrokes.set("Alt+0",(a,u)=>{this._showDialog(),u()}),this._setupRootLabels()}_createButton(n){const i=new n(this.editor.locale);return i.set({keystroke:"Alt+0",icon:fN}),i.on("execute",()=>this._showDialog()),i}_setupRootLabels(){const n=this.editor,i=n.editing.view,a=n.t;function u(h,p){const g=`${p.getAttribute("aria-label")}. ${a("Press %0 for help.",[Qb("Alt+0")])}`;h.setAttribute("aria-label",g,p)}n.ui.on("ready",()=>{i.change(h=>{for(const p of i.document.roots)u(h,p)}),n.on("addRoot",(h,p)=>{const g=n.editing.view.document.getRoot(p.rootName);i.change(b=>u(b,g))},{priority:"low"})})}_showDialog(){const n=this.editor,i=n.plugins.get("Dialog"),a=n.locale.t;this.contentView||(this.contentView=new gX(n.locale,n.accessibility.keystrokeInfos)),i.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:a("Accessibility help"),icon:fN,hasCloseButton:!0,content:this.contentView})}}class wX extends bi{constructor(n,i=[]){super(i),this.locale=n}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Yi({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let n=document.querySelector(".ck-body-wrapper");n||(n=Or(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(n)),n.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const n=document.querySelector(".ck-body-wrapper");n&&n.childElementCount==0&&n.remove()}}var gN=s(7621),yX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(gN.A,yX),gN.A.locals;const bN=class extends Ye{constructor(){super();const l=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",l.if("isVisible","ck-hidden",n=>!n),"ck-reset_all-excluded",l.if("isColorInherited","ck-icon_inherit-color")],viewBox:l.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const l=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),n=l.getAttribute("viewBox");n&&(this.viewBox=n);for(const{name:i,value:a}of Array.from(l.attributes))bN.presentationalAttributeNames.includes(i)&&this.element.setAttribute(i,a);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;l.childNodes.length>0;)this.element.appendChild(l.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(l=>{l.style.fill=this.fillColor})}};let ga=bN;ga.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class _X extends Ye{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const n=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("style"),id:n.to("id")},children:[{text:n.to("text")}]})}}var kN=s(9715),CX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(kN.A,CX),kN.A.locals;class Ft extends Ye{constructor(n,i=new _X){super(n),this._focusDelayed=null;const a=this.bindTemplate,u=N();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${u}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(i),this.iconView=new ga,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const h={tag:"button",attributes:{class:["ck","ck-button",a.to("class"),a.if("isEnabled","ck-disabled",p=>!p),a.if("isVisible","ck-hidden",p=>!p),a.to("isOn",p=>p?"ck-on":"ck-off"),a.if("withText","ck-button_with-text"),a.if("withKeystroke","ck-button_with-keystroke")],role:a.to("role"),type:a.to("type",p=>p||"button"),tabindex:a.to("tabindex"),"aria-checked":a.to("ariaChecked"),"aria-label":a.to("ariaLabel"),"aria-labelledby":a.to("ariaLabelledBy"),"aria-disabled":a.if("isEnabled",!0,p=>!p),"aria-pressed":a.to("isOn",p=>!!this.isToggleable&&String(!!p)),"data-cke-tooltip-text":a.to("_tooltipString"),"data-cke-tooltip-position":a.to("tooltipPosition")},children:this.children,on:{click:a.to(p=>{this.isEnabled?this.fire("execute"):p.preventDefault()})}};v.isSafari&&(this._focusDelayed||(this._focusDelayed=_C(()=>this.focus(),0)),h.on.mousedown=a.to(()=>{this._focusDelayed()}),h.on.mouseup=a.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(h)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(n){return n.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),n}_createKeystrokeView(){const n=new Ye;return n.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",i=>Qb(i))}]}),n}_getTooltipString(n,i,a){return n?typeof n=="string"?n:(a&&(a=Qb(a)),n instanceof Function?n(i,a):`${i}${a?` (${a})`:""}`):""}}var vN=s(4391),AX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(vN.A,AX),vN.A.locals;class wk extends Ft{constructor(n){super(n),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const n=new Ye;return n.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),n}}class wN extends Ft{constructor(n){super(n),this.buttonView=this,this._fileInputView=new xX(n),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class xX extends Ye{constructor(n){super(n),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:i.to("acceptedType"),multiple:i.to("allowMultipleFiles")},on:{change:i.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const yk='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var yN=s(25),EX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(yN.A,EX),yN.A.locals;class SX extends Ye{constructor(n,i){super(n);const a=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),i&&this.children.addMany(i),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",a.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:a.if("isCollapsed","hidden"),"aria-labelledby":a.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const n=new Ft(this.locale),i=n.bindTemplate;return n.set({withText:!0,icon:yk}),n.extendTemplate({attributes:{"aria-expanded":i.to("isOn",a=>String(a))}}),n.bind("label").to(this),n.bind("isOn").to(this,"isCollapsed",a=>!a),n.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),n}}var _N=s(7317),DX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(_N.A,DX),_N.A.locals,s(6931),s(9047);var CN=s(4962),TX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(CN.A,TX),CN.A.locals;class _k extends Ye{constructor(n,i){super(n);const a=`ck-labeled-field-view-${N()}`,u=`ck-labeled-field-view-status-${N()}`;this.fieldView=i(this,a,u),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(a),this.statusView=this._createStatusView(u),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(p,g)=>p||g);const h=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",h.to("class"),h.if("isEnabled","ck-disabled",p=>!p),h.if("isEmpty","ck-labeled-field-view_empty"),h.if("isFocused","ck-labeled-field-view_focused"),h.if("placeholder","ck-labeled-field-view_placeholder"),h.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(n){const i=new vk(this.locale);return i.for=n,i.bind("text").to(this,"label"),i}_createStatusView(n){const i=new Ye(this.locale),a=this.bindTemplate;return i.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",a.if("errorText","ck-labeled-field-view__status_error"),a.if("_statusText","ck-hidden",u=>!u)],id:n,role:a.if("errorText","alert")},children:[{text:a.to("_statusText")}]}),i}focus(n){this.fieldView.focus(n)}}class IX extends Ye{constructor(n){super(n),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new xr,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",i.if("isFocused","ck-input_focused"),i.if("isEmpty","ck-input-text_empty"),i.if("hasError","ck-error")],id:i.to("id"),placeholder:i.to("placeholder"),tabindex:i.to("tabIndex"),readonly:i.to("isReadOnly"),"aria-invalid":i.if("hasError",!0),"aria-describedby":i.to("ariaDescribedById"),"aria-label":i.to("ariaLabel")},on:{input:i.to((...a)=>{this.fire("input",...a),this._updateIsEmpty()}),change:i.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(n,i,a)=>{this._setDomElementValue(a),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(n){this.element.value=n||n===0?n:""}}var AN=s(253),MX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(AN.A,MX),AN.A.locals;class PX extends IX{constructor(n){super(n),this.set("inputMode","text");const i=this.bindTemplate;this.extendTemplate({attributes:{inputmode:i.to("inputMode")}})}}class NX extends PX{constructor(n){super(n),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var xN=s(1671),RX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(xN.A,RX),xN.A.locals;class OX extends Ye{constructor(n){super(n);const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",i.to("position",a=>`ck-dropdown__panel_${a}`),i.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:i.to(a=>{a.target.tagName.toLocaleLowerCase()!=="input"&&a.preventDefault()})}})}focus(){if(this.children.length){const n=this.children.first;typeof n.focus=="function"?n.focus():z("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const n=this.children.last;typeof n.focusLast=="function"?n.focusLast():n.focus()}}}var EN=s(8149),BX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(EN.A,BX),EN.A.locals;const cA=class extends Ye{constructor(l,n,i){super(l);const a=this.bindTemplate;this.buttonView=n,this.panelView=i,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new uo,this.focusTracker=new xr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",a.to("class"),a.if("isEnabled","ck-disabled",u=>!u)],id:a.to("id"),"aria-describedby":a.to("ariaDescribedById")},children:[n,i]}),n.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":a.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(n,i,a)=>{if(a)if(this.panelPosition==="auto"){const u=cA._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=u?u.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const l=(n,i)=>{this.isOpen&&(this.isOpen=!1,i())};this.keystrokes.set("arrowdown",(n,i)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,i())}),this.keystrokes.set("arrowright",(n,i)=>{this.isOpen&&i()}),this.keystrokes.set("arrowleft",l),this.keystrokes.set("esc",l)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:l,north:n,southEast:i,southWest:a,northEast:u,northWest:h,southMiddleEast:p,southMiddleWest:g,northMiddleEast:b,northMiddleWest:w}=cA.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[i,a,p,g,l,u,h,b,w,n]:[a,i,g,p,l,h,u,w,b,n]}};let uA=cA;uA.defaultPanelPositions={south:(l,n)=>({top:l.bottom,left:l.left-(n.width-l.width)/2,name:"s"}),southEast:l=>({top:l.bottom,left:l.left,name:"se"}),southWest:(l,n)=>({top:l.bottom,left:l.left-n.width+l.width,name:"sw"}),southMiddleEast:(l,n)=>({top:l.bottom,left:l.left-(n.width-l.width)/4,name:"sme"}),southMiddleWest:(l,n)=>({top:l.bottom,left:l.left-3*(n.width-l.width)/4,name:"smw"}),north:(l,n)=>({top:l.top-n.height,left:l.left-(n.width-l.width)/2,name:"n"}),northEast:(l,n)=>({top:l.top-n.height,left:l.left,name:"ne"}),northWest:(l,n)=>({top:l.top-n.height,left:l.left-n.width+l.width,name:"nw"}),northMiddleEast:(l,n)=>({top:l.top-n.height,left:l.left-(n.width-l.width)/4,name:"nme"}),northMiddleWest:(l,n)=>({top:l.top-n.height,left:l.left-3*(n.width-l.width)/4,name:"nmw"})},uA._getOptimalPosition=Yb;class LX extends Ft{constructor(n){super(n),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",i=>String(i))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const n=new ga;return n.content=yk,n.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),n}}class vi extends G(){constructor(n){if(super(),this.focusables=n.focusables,this.focusTracker=n.focusTracker,this.keystrokeHandler=n.keystrokeHandler,this.actions=n.actions,n.actions&&n.keystrokeHandler)for(const i in n.actions){let a=n.actions[i];typeof a=="string"&&(a=[a]);for(const u of a)n.keystrokeHandler.set(u,(h,p)=>{this[i](),p()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(dA)||null}get last(){return this.focusables.filter(dA).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let n=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((i,a)=>{const u=i.element===this.focusTracker.focusedElement;return u&&(n=a),u}),n)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const n=this.next;n&&this.focusables.getIndex(n)===this.current||n===this.first?this.fire("forwardCycle"):this._focus(n,1)}focusPrevious(){const n=this.previous;n&&this.focusables.getIndex(n)===this.current||n===this.last?this.fire("backwardCycle"):this._focus(n,-1)}_focus(n,i){n&&this.focusTracker.focusedElement!==n.element&&n.focus(i)}_getDomFocusableItem(n){const i=this.focusables.length;if(!i)return null;const a=this.current;if(a===null)return this[n===1?"first":"last"];let u=this.focusables.get(a),h=(a+i+n)%i;do{const p=this.focusables.get(h);if(dA(p)){u=p;break}h=(h+i+n)%i}while(h!==a);return u}}function dA(l){return rf(l)&&Dc(l.element)}function rf(l){return!(!("focus"in l)||typeof l.focus!="function")}class SN extends Ye{constructor(n){super(n),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class jX extends Ye{constructor(n){super(n),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var FX=Object.defineProperty,DN=Object.getOwnPropertySymbols,zX=Object.prototype.hasOwnProperty,$X=Object.prototype.propertyIsEnumerable,TN=(l,n,i)=>n in l?FX(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,IN=(l,n)=>{for(var i in n||(n={}))zX.call(n,i)&&TN(l,i,n[i]);if(DN)for(var i of DN(n))$X.call(n,i)&&TN(l,i,n[i]);return l};function MN(l){if(Array.isArray(l))return{items:l,removeItems:[]};const n={items:[],removeItems:[]};return l?IN(IN({},n),l):n}var PN=s(9677),VX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(PN.A,VX),PN.A.locals;const UX={alignLeft:ht.alignLeft,bold:ht.bold,importExport:ht.importExport,paragraph:ht.paragraph,plus:ht.plus,text:ht.text,threeVerticalDots:ht.threeVerticalDots,pilcrow:ht.pilcrow,dragIndicator:ht.dragIndicator};class hA extends Ye{constructor(n,i){super(n);const a=this.bindTemplate,u=this.t;this.options=i||{},this.set("ariaLabel",u("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new xr,this.keystrokes=new uo,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new HX(n),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const h=n.uiLanguageDirection==="rtl";this._focusCycler=new vi({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[h?"arrowright":"arrowleft","arrowup"],focusNext:[h?"arrowleft":"arrowright","arrowdown"]}});const p=["ck","ck-toolbar",a.to("class"),a.if("isCompact","ck-toolbar_compact")];var g;this.options.shouldGroupWhenFull&&this.options.isFloating&&p.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:p,role:"toolbar","aria-label":a.to("ariaLabel"),style:{maxWidth:a.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(g=this,g.bindTemplate.to(b=>{b.target===g.element&&b.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new qX(this):new WX(this)}render(){super.render(),this.focusTracker.add(this.element);for(const n of this.items)this.focusTracker.add(n.element);this.items.on("add",(n,i)=>{this.focusTracker.add(i.element)}),this.items.on("remove",(n,i)=>{this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(n,i,a){this.items.addMany(this._buildItemsFromConfig(n,i,a))}_buildItemsFromConfig(n,i,a){const u=MN(n),h=a||u.removeItems;return this._cleanItemsConfiguration(u.items,i,h).map(p=>me(p)?this._createNestedToolbarDropdown(p,i,h):p==="|"?new SN:p==="-"?new jX:i.create(p)).filter(p=>!!p)}_cleanItemsConfiguration(n,i,a){const u=n.filter((h,p,g)=>h==="|"||a.indexOf(h)===-1&&(h==="-"?!this.options.shouldGroupWhenFull||(z("toolbarview-line-break-ignored-when-grouping-items",g),!1):!(!me(h)&&!i.has(h))||(z("toolbarview-item-unavailable",{item:h}),!1)));return this._cleanSeparatorsAndLineBreaks(u)}_cleanSeparatorsAndLineBreaks(n){const i=p=>p!=="-"&&p!=="|",a=n.length,u=n.findIndex(i);if(u===-1)return[];const h=a-n.slice().reverse().findIndex(i);return n.slice(u,h).filter((p,g,b)=>i(p)?!0:!(g>0&&b[g-1]===p))}_createNestedToolbarDropdown(n,i,a){let{label:u,icon:h,items:p,tooltip:g=!0,withText:b=!1}=n;if(p=this._cleanItemsConfiguration(p,i,a),!p.length)return null;const w=ba(this.locale);return u||z("toolbarview-nested-toolbar-dropdown-missing-label",n),w.class="ck-toolbar__nested-toolbar-dropdown",w.buttonView.set({label:u,tooltip:g,withText:!!b}),h!==!1?w.buttonView.icon=UX[h]||h||ht.threeVerticalDots:w.buttonView.withText=!0,mA(w,()=>w.toolbarView._buildItemsFromConfig(p,i,a)),w}}class HX extends Ye{constructor(n){super(n),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class WX{constructor(n){const i=n.bindTemplate;n.set("isVertical",!1),n.itemsView.children.bindTo(n.items).using(a=>a),n.focusables.bindTo(n.items).using(a=>rf(a)?a:null),n.extendTemplate({attributes:{class:[i.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class qX{constructor(n){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=n,this.viewChildren=n.children,this.viewFocusables=n.focusables,this.viewItemsView=n.itemsView,this.viewFocusTracker=n.focusTracker,this.viewLocale=n.locale,this.ungroupedItems=n.createCollection(),this.groupedItems=n.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),n.itemsView.children.bindTo(this.ungroupedItems).using(i=>i),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),n.children.on("change",this._updateFocusCyclableItems.bind(this)),n.items.on("change",(i,a)=>{const u=a.index,h=Array.from(a.added);for(const p of a.removed)u>=this.ungroupedItems.length?this.groupedItems.remove(p):this.ungroupedItems.remove(p);for(let p=u;p<u+h.length;p++){const g=h[p-u];p>this.ungroupedItems.length?this.groupedItems.add(g,p-this.ungroupedItems.length):this.ungroupedItems.add(g,p)}this._updateGrouping()}),n.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(n){this.viewElement=n.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(n)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Dc(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const n=this.groupedItems.length;let i;for(;this._areItemsOverflowing;)this._groupLastItem(),i=!0;if(!i&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==n&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const n=this.viewElement,i=this.viewLocale.uiLanguageDirection,a=new Et(n.lastChild),u=new Et(n);if(!this.cachedPadding){const h=m.window.getComputedStyle(n),p=i==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(h[p])}return i==="ltr"?a.right>u.right-this.cachedPadding:a.left<u.left+this.cachedPadding}_enableGroupingOnResize(){let n;this.resizeObserver=new jp(this.viewElement,i=>{n&&n===i.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),n=i.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(n){n.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new SN),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const n=this.viewLocale,i=n.t,a=ba(n);return a.class="ck-toolbar__grouped-dropdown",a.panelPosition=n.uiLanguageDirection==="ltr"?"sw":"se",mA(a,this.groupedItems),a.buttonView.set({label:i("Show more items"),tooltip:!0,tooltipPosition:n.uiLanguageDirection==="rtl"?"se":"sw",icon:ht.threeVerticalDots}),a}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(n=>{rf(n)&&this.viewFocusables.add(n)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class wd extends Ye{constructor(n){super(n);const i=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",i.if("isVisible","ck-hidden",a=>!a)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class pA extends Ye{constructor(n){super(n),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class Ck extends Ye{constructor(n,i=new vk){super(n);const a=this.bindTemplate,u=new fA(n);this.set({label:"",isVisible:!0}),this.labelView=i,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,u]),u.set({role:"group",ariaLabelledBy:i.id}),u.focusTracker.destroy(),u.keystrokes.destroy(),this.items=u.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",a.if("isVisible","ck-hidden",h=>!h)]},children:this.children})}focus(){if(this.items){const n=this.items.find(i=>!(i instanceof pA));n&&n.focus()}}}var NN=s(5199),GX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(NN.A,GX),NN.A.locals;class fA extends Ye{constructor(n){super(n),this._listItemGroupToChangeListeners=new WeakMap;const i=this.bindTemplate;this.focusables=new bi,this.items=this.createCollection(),this.focusTracker=new xr,this.keystrokes=new uo,this._focusCycler=new vi({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:i.to("role"),"aria-label":i.to("ariaLabel"),"aria-labelledby":i.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const n of this.items)n instanceof Ck?this._registerFocusableItemsGroup(n):n instanceof wd&&this._registerFocusableListItem(n);this.items.on("change",(n,i)=>{for(const a of i.removed)a instanceof Ck?this._deregisterFocusableItemsGroup(a):a instanceof wd&&this._deregisterFocusableListItem(a);for(const a of Array.from(i.added).reverse())a instanceof Ck?this._registerFocusableItemsGroup(a,i.index):this._registerFocusableListItem(a,i.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(n,i){this.focusTracker.add(n.element),this.focusables.add(n,i)}_deregisterFocusableListItem(n){this.focusTracker.remove(n.element),this.focusables.remove(n)}_getOnGroupItemsChangeCallback(n){return(i,a)=>{for(const u of a.removed)this._deregisterFocusableListItem(u);for(const u of Array.from(a.added).reverse())this._registerFocusableListItem(u,this.items.getIndex(n)+a.index)}}_registerFocusableItemsGroup(n,i){Array.from(n.items).forEach((u,h)=>{const p=i!==void 0?i+h:void 0;this._registerFocusableListItem(u,p)});const a=this._getOnGroupItemsChangeCallback(n);this._listItemGroupToChangeListeners.set(n,a),n.items.on("change",a)}_deregisterFocusableItemsGroup(n){for(const i of n.items)this._deregisterFocusableListItem(i);n.items.off("change",this._listItemGroupToChangeListeners.get(n)),this._listItemGroupToChangeListeners.delete(n)}}var RN=s(1792),KX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(RN.A,KX),RN.A.locals;class Ak extends Ye{constructor(n,i){super(n);const a=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(i),this.arrowView=this._createArrowView(),this.keystrokes=new uo,this.focusTracker=new xr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",a.to("class"),a.if("isVisible","ck-hidden",u=>!u),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(n,i)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),i())}),this.keystrokes.set("arrowleft",(n,i)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),i())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(n){const i=n||new Ft;return n||i.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),i.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),i.delegate("execute").to(this),i}_createArrowView(){const n=new Ft,i=n.bindTemplate;return n.icon=yk,n.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":i.to("isOn"),"aria-haspopup":!0,"aria-expanded":i.to("isOn",a=>String(a))}}),n.bind("isEnabled").to(this),n.bind("label").to(this),n.bind("tooltip").to(this),n.delegate("execute").to(this,"open"),n}}var ON=s(1666),YX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(ON.A,YX),ON.A.locals;var BN=s(3629),QX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(BN.A,QX),BN.A.locals;function ba(l,n=LX){const i=typeof n=="function"?new n(l):n,a=new OX(l),u=new uA(l,i,a);return i.bind("isEnabled").to(u),i instanceof Ak?i.arrowView.bind("isOn").to(u,"isOpen"):i.bind("isOn").to(u,"isOpen"),function(h){(function(p){p.on("render",()=>{Xb({emitter:p,activator:()=>p.isOpen,callback:()=>{p.isOpen=!1},contextElements:()=>[p.element,...p.focusTracker._elements]})})})(h),function(p){p.on("execute",g=>{g.source instanceof wk||(p.isOpen=!1)})}(h),function(p){p.focusTracker.on("change:isFocused",(g,b,w)=>{p.isOpen&&!w&&(p.isOpen=!1)})}(h),function(p){p.keystrokes.set("arrowdown",(g,b)=>{p.isOpen&&(p.panelView.focus(),b())}),p.keystrokes.set("arrowup",(g,b)=>{p.isOpen&&(p.panelView.focusLast(),b())})}(h),function(p){p.on("change:isOpen",(g,b,w)=>{if(w)return;const C=p.panelView.element;C&&C.contains(m.document.activeElement)&&p.buttonView.focus()})}(h),function(p){p.on("change:isOpen",(g,b,w)=>{w&&p.panelView.focus()},{priority:"low"})}(h)}(u),u}function mA(l,n,i={}){l.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),l.isOpen?LN(l,n,i):l.once("change:isOpen",()=>LN(l,n,i),{priority:"highest"}),i.enableActiveItemFocusOnDropdownOpen&&zN(l,()=>l.toolbarView.items.find(a=>a.isOn))}function LN(l,n,i){const a=l.locale,u=a.t,h=l.toolbarView=new hA(a),p=typeof n=="function"?n():n;h.ariaLabel=i.ariaLabel||u("Dropdown toolbar"),i.maxWidth&&(h.maxWidth=i.maxWidth),i.class&&(h.class=i.class),i.isCompact&&(h.isCompact=i.isCompact),i.isVertical&&(h.isVertical=!0),p instanceof bi?h.items.bindTo(p).using(g=>g):h.items.addMany(p),l.panelView.children.add(h),h.items.delegate("execute").to(l)}function jN(l,n,i={}){l.isOpen?FN(l,n,i):l.once("change:isOpen",()=>FN(l,n,i),{priority:"highest"}),zN(l,()=>l.listView.items.find(a=>a instanceof wd&&a.children.first.isOn))}function FN(l,n,i){const a=l.locale,u=l.listView=new fA(a),h=typeof n=="function"?n():n;u.ariaLabel=i.ariaLabel,u.role=i.role,$N(l,u.items,h,a),l.panelView.children.add(u),u.items.delegate("execute").to(l)}function zN(l,n){l.on("change:isOpen",()=>{if(!l.isOpen)return;const i=n();i&&(typeof i.focus=="function"?i.focus():z("ui-dropdown-focus-child-on-open-child-missing-focus",{view:i}))},{priority:j.low-10})}function $N(l,n,i,a){n.bindTo(i).using(u=>{if(u.type==="separator")return new pA(a);if(u.type==="group"){const h=new Ck(a);return h.set({label:u.label}),$N(l,h.items,u.items,a),h.items.delegate("execute").to(l),h}if(u.type==="button"||u.type==="switchbutton"){const h=new wd(a);let p;return u.type==="button"?(p=new Ft(a),p.bind("ariaChecked").to(p,"isOn")):p=new wk(a),p.bind(...Object.keys(u.model)).to(u.model),p.delegate("execute").to(h),h.children.add(p),h}return null})}const xk=(l,n,i)=>{const a=new NX(l.locale);return a.set({id:n,ariaDescribedById:i}),a.bind("isReadOnly").to(l,"isEnabled",u=>!u),a.bind("hasError").to(l,"errorText",u=>!!u),a.on("input",()=>{l.errorText=null}),l.bind("isEmpty","isFocused","placeholder").to(a),a};var VN=s(1905),ZX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(VN.A,ZX),VN.A.locals;var UN=s(6309),JX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(UN.A,JX),UN.A.locals;class XX{constructor(n){this._components=new Map,this.editor=n}*names(){for(const n of this._components.values())yield n.originalName}add(n,i){this._components.set(gA(n),{callback:i,originalName:n})}create(n){if(!this.has(n))throw new R("componentfactory-item-missing",this,{name:n});return this._components.get(gA(n)).callback(this.editor.locale)}has(n){return this._components.has(gA(n))}}function gA(l){return String(l).toLowerCase()}var HN=s(7913),eee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(HN.A,eee),HN.A.locals;class tee extends Ye{constructor(n,i={}){super(n);const a=this.bindTemplate;this.set("label",i.label||""),this.set("class",i.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",a.to("class")]},children:this.children}),i.icon&&(this.iconView=new ga,this.iconView.content=i.icon,this.children.add(this.iconView));const u=new Ye(n);u.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:a.to("label")}]}),this.children.add(u)}}var WN=s(9822),nee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(WN.A,nee),WN.A.locals;class ree extends Ye{constructor(n){super(n),this.children=this.createCollection(),this.keystrokes=new uo,this._focusTracker=new xr,this._focusables=new bi,this.focusCycler=new vi({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(n){for(const i of n){const a=new Ft(this.locale);let u;for(u in a.on("execute",()=>i.onExecute()),i.onCreate&&i.onCreate(a),i)u!="onExecute"&&u!="onCreate"&&a.set(u,i[u]);this.children.add(a)}this._updateFocusCyclableItems()}focus(n){n===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(n=>{this._focusables.add(n),this._focusTracker.add(n.element)})}}class oee extends Ye{constructor(n){super(n),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var qN=s(9819),iee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(qN.A,iee),qN.A.locals;const Ek="screen-center",GN="editor-center",see="editor-top-side",aee="editor-top-center",lee="editor-bottom-center",cee="editor-above-center",uee="editor-below-center",KN=ld("px"),YN=class extends function(l){return class extends l{constructor(...n){super(...n),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(m.document,"mouseup",this._onDragEndBound),this.listenTo(m.document,"touchend",this._onDragEndBound),this.listenTo(m.document,"mousemove",this._onDragBound),this.listenTo(m.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(m.document,"mouseup",this._onDragEndBound),this.stopListening(m.document,"touchend",this._onDragEndBound),this.stopListening(m.document,"mousemove",this._onDragBound),this.stopListening(m.document,"touchmove",this._onDragBound)}_onDragStart(n,i){if(!this._isHandleElementPressed(i))return;this._attachDragListeners();let a=0,u=0;i instanceof MouseEvent?(a=i.clientX,u=i.clientY):(a=i.touches[0].clientX,u=i.touches[0].clientY),this._lastDraggingCoordinates={x:a,y:u},this.isDragging=!0}_onDrag(n,i){if(!this.isDragging)return void this._detachDragListeners();let a=0,u=0;i instanceof MouseEvent?(a=i.clientX,u=i.clientY):(a=i.touches[0].clientX,u=i.touches[0].clientY),i.preventDefault(),this.fire("drag",{deltaX:Math.round(a-this._lastDraggingCoordinates.x),deltaY:Math.round(u-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:a,y:u}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(n){return!!this.dragHandleElement&&(this.dragHandleElement===n.target||n.target instanceof HTMLElement&&this.dragHandleElement.contains(n.target))}}}(Ye){constructor(l,{getCurrentDomRoot:n,getViewportOffset:i}){super(l),this.wasMoved=!1;const a=this.bindTemplate,u=l.t;this.set("className",""),this.set("ariaLabel",u("Editor dialog")),this.set("isModal",!1),this.set("position",Ek),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=n,this._getViewportOffset=i,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new uo,this.focusTracker=new xr,this._focusables=new bi,this._focusCycler=new vi({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",a.if("isModal","ck-dialog-overlay__transparent",h=>!h),a.if("_isVisible","ck-hidden",h=>!h)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",a.to("className")],role:"dialog","aria-label":a.to("ariaLabel"),style:{top:a.to("_top",h=>KN(h)),left:a.to("_left",h=>KN(h)),visibility:a.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(l,n)=>{this.fire("close",{source:"escKeyPress"}),n()}),this.on("drag",(l,{deltaX:n,deltaY:i})=>{this.wasMoved=!0,this.moveBy(n,i)}),this.listenTo(m.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(m.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(l,n,i)=>{i&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:l,title:n,hasCloseButton:i=!0,content:a,actionButtons:u}){n&&(this.headerView=new tee(this.locale,{icon:l}),i&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=n,this.ariaLabel=n,this.parts.add(this.headerView,0)),a&&(a instanceof Ye&&(a=[a]),this.contentView=new oee(this.locale),this.contentView.children.addMany(a),this.parts.add(this.contentView)),u&&(this.actionsView=new ree(this.locale),this.actionsView.setButtons(u),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(l,n){const i=this._getViewportRect(),a=this._getDialogRect();l+a.width>i.right&&(l=i.right-a.width),l<i.left&&(l=i.left),n<i.top&&(n=i.top),this._moveTo(l,n)}_moveTo(l,n){this._left=l,this._top=n}moveBy(l,n){this.moveTo(this._left+l,this._top+n)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const l=this._getViewportRect();let n,i=this.position;this._getCurrentDomRoot()?n=this._getVisibleDomRootRect(l):i=Ek;const a=YN.defaultOffset,u=this._getDialogRect();switch(i){case see:if(n){const h=this.locale.contentLanguageDirection==="ltr"?n.right-u.width-a:n.left+a;this.moveTo(h,n.top+a)}else this._moveOffScreen();break;case GN:n?this.moveTo(Math.round(n.left+n.width/2-u.width/2),Math.round(n.top+n.height/2-u.height/2)):this._moveOffScreen();break;case Ek:this.moveTo(Math.round((l.width-u.width)/2),Math.round((l.height-u.height)/2));break;case aee:n?this.moveTo(Math.round(n.left+n.width/2-u.width/2),n.top+a):this._moveOffScreen();break;case lee:n?this.moveTo(Math.round(n.left+n.width/2-u.width/2),n.bottom-u.height-a):this._moveOffScreen();break;case cee:n?this.moveTo(Math.round(n.left+n.width/2-u.width/2),n.top-u.height-a):this._moveOffScreen();break;case uee:n?this.moveTo(Math.round(n.left+n.width/2-u.width/2),n.bottom+a):this._moveOffScreen()}}_getVisibleDomRootRect(l){let n=new Et(this._getCurrentDomRoot()).getVisible();return n?(n=l.getIntersection(n),n||null):null}_getDialogRect(){return new Et(this.element.firstElementChild)}_getViewportRect(){return function(l){l=Object.assign({top:0,bottom:0,left:0,right:0},l);const n=new Et(m.window);return n.top+=l.top,n.height-=l.top,n.bottom-=l.bottom,n.height-=l.bottom,n.left+=l.left,n.right-=l.right,n.width-=l.left+l.right,n}(this._getViewportOffset())}_updateFocusCyclableItems(){const l=[];if(this.contentView)for(const n of this.contentView.children)rf(n)&&l.push(n);this.actionsView&&l.push(this.actionsView),this.closeButtonView&&l.push(this.closeButtonView),l.forEach(n=>{var i;this._focusables.add(n),this.focusTracker.add(n.element),rf(i=n)&&"focusCycler"in i&&i.focusCycler instanceof vi&&(this.listenTo(n.focusCycler,"forwardCycle",a=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&a.stop()}),this.listenTo(n.focusCycler,"backwardCycle",a=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&a.stop()}))})}_createCloseButton(){const l=new Ft(this.locale),n=this.locale.t;return l.set({label:n("Close"),tooltip:!0,icon:ht.cancel}),l.on("execute",()=>this.fire("close",{source:"closeButton"})),l}};let Sk=YN;Sk.defaultOffset=15;class ka extends ge{constructor(n){super(n);const i=n.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),n.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:i("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}_initShowHideListeners(){this.on("show",(n,i)=>{this._show(i)}),this.on("show",(n,i)=>{i.onShow&&i.onShow(this)},{priority:"low"}),this.on("hide",()=>{ka._visibleDialogPlugin&&ka._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const n=this.editor;n.keystrokes.set("Ctrl+F6",(i,a)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?n.editing.view.focus():this.view.focus(),a())})}_initMultiRootIntegration(){const n=this.editor.model;n.document.on("change:data",()=>{if(!this.view)return;const i=n.document.differ.getChangedRoots();for(const a of i)a.state&&this.view.updatePosition()})}show(n){this.hide(),this.fire(`show:${n.id}`,n)}_show({id:n,icon:i,title:a,hasCloseButton:u=!0,content:h,actionButtons:p,className:g,isModal:b,position:w,onHide:C}){const E=this.editor;this.view=new Sk(E.locale,{getCurrentDomRoot:()=>E.editing.view.getDomRoot(E.model.document.selection.anchor.root.rootName),getViewportOffset:()=>E.ui.viewportOffset});const M=this.view;M.on("close",()=>{this.hide()}),E.ui.view.body.add(M),E.ui.focusTracker.add(M.element),E.keystrokes.listenTo(M.element),w||(w=b?Ek:GN),M.set({position:w,_isVisible:!0,className:g,isModal:b}),M.setupParts({icon:i,title:a,hasCloseButton:u,content:h,actionButtons:p}),this.id=n,C&&(this._onHide=C),this.isOpen=!0,ka._visibleDialogPlugin=this}hide(){ka._visibleDialogPlugin&&ka._visibleDialogPlugin.fire(`hide:${ka._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const n=this.editor,i=this.view;i.contentView&&i.contentView.reset(),n.ui.view.body.remove(i),n.ui.focusTracker.remove(i.element),n.keystrokes.stopListening(i.element),i.destroy(),n.editing.view.focus(),this.id=null,this.isOpen=!1,ka._visibleDialogPlugin=null}}var QN=s(3710),dee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(QN.A,dee),QN.A.locals;var hee=Object.defineProperty,ZN=Object.getOwnPropertySymbols,pee=Object.prototype.hasOwnProperty,fee=Object.prototype.propertyIsEnumerable,JN=(l,n,i)=>n in l?hee(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,zt=(l,n)=>{for(var i in n||(n={}))pee.call(n,i)&&JN(l,i,n[i]);if(ZN)for(var i of ZN(n))fee.call(n,i)&&JN(l,i,n[i]);return l};const XN=ld("px"),eR=m.document.body,mee={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},bA=class extends Ye{constructor(l){super(l);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",n.to("position",i=>`ck-balloon-panel_${i}`),n.if("isVisible","ck-balloon-panel_visible"),n.if("withArrow","ck-balloon-panel_with-arrow"),n.to("class")],style:{top:n.to("top",XN),left:n.to("left",XN)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(l){this.show();const n=bA.defaultPositions,i=Object.assign({},{element:this.element,positions:[n.southArrowNorth,n.southArrowNorthMiddleWest,n.southArrowNorthMiddleEast,n.southArrowNorthWest,n.southArrowNorthEast,n.northArrowSouth,n.northArrowSouthMiddleWest,n.northArrowSouthMiddleEast,n.northArrowSouthWest,n.northArrowSouthEast,n.viewportStickyNorth],limiter:eR,fitInViewport:!0},l),a=bA._getOptimalPosition(i)||mee,u=parseInt(a.left),h=parseInt(a.top),p=a.name,g=a.config||{},{withArrow:b=!0}=g;this.top=h,this.left=u,this.position=p,this.withArrow=b}pin(l){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(l):this._stopPinning()},this._startPinning(l),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(l){this.attachTo(l);const n=kA(l.target),i=l.limiter?kA(l.limiter):eR;this.listenTo(m.document,"scroll",(a,u)=>{const h=u.target,p=n&&h.contains(n),g=i&&h.contains(i);!p&&!g&&n&&i||this.attachTo(l)},{useCapture:!0}),this.listenTo(m.window,"resize",()=>{this.attachTo(l)})}_stopPinning(){this.stopListening(m.document,"scroll"),this.stopListening(m.window,"resize")}};let Mo=bA;function kA(l){return Sc(l)?l:Gb(l)?l.commonAncestorContainer:typeof l=="function"?kA(l()):null}function tR(l={}){const{sideOffset:n=Mo.arrowSideOffset,heightOffset:i=Mo.arrowHeightOffset,stickyVerticalOffset:a=Mo.stickyVerticalOffset,config:u}=l;return{northWestArrowSouthWest:(g,b)=>zt({top:h(g,b),left:g.left-n,name:"arrow_sw"},u&&{config:u}),northWestArrowSouthMiddleWest:(g,b)=>zt({top:h(g,b),left:g.left-.25*b.width-n,name:"arrow_smw"},u&&{config:u}),northWestArrowSouth:(g,b)=>zt({top:h(g,b),left:g.left-b.width/2,name:"arrow_s"},u&&{config:u}),northWestArrowSouthMiddleEast:(g,b)=>zt({top:h(g,b),left:g.left-.75*b.width+n,name:"arrow_sme"},u&&{config:u}),northWestArrowSouthEast:(g,b)=>zt({top:h(g,b),left:g.left-b.width+n,name:"arrow_se"},u&&{config:u}),northArrowSouthWest:(g,b)=>zt({top:h(g,b),left:g.left+g.width/2-n,name:"arrow_sw"},u&&{config:u}),northArrowSouthMiddleWest:(g,b)=>zt({top:h(g,b),left:g.left+g.width/2-.25*b.width-n,name:"arrow_smw"},u&&{config:u}),northArrowSouth:(g,b)=>zt({top:h(g,b),left:g.left+g.width/2-b.width/2,name:"arrow_s"},u&&{config:u}),northArrowSouthMiddleEast:(g,b)=>zt({top:h(g,b),left:g.left+g.width/2-.75*b.width+n,name:"arrow_sme"},u&&{config:u}),northArrowSouthEast:(g,b)=>zt({top:h(g,b),left:g.left+g.width/2-b.width+n,name:"arrow_se"},u&&{config:u}),northEastArrowSouthWest:(g,b)=>zt({top:h(g,b),left:g.right-n,name:"arrow_sw"},u&&{config:u}),northEastArrowSouthMiddleWest:(g,b)=>zt({top:h(g,b),left:g.right-.25*b.width-n,name:"arrow_smw"},u&&{config:u}),northEastArrowSouth:(g,b)=>zt({top:h(g,b),left:g.right-b.width/2,name:"arrow_s"},u&&{config:u}),northEastArrowSouthMiddleEast:(g,b)=>zt({top:h(g,b),left:g.right-.75*b.width+n,name:"arrow_sme"},u&&{config:u}),northEastArrowSouthEast:(g,b)=>zt({top:h(g,b),left:g.right-b.width+n,name:"arrow_se"},u&&{config:u}),southWestArrowNorthWest:g=>zt({top:p(g),left:g.left-n,name:"arrow_nw"},u&&{config:u}),southWestArrowNorthMiddleWest:(g,b)=>zt({top:p(g),left:g.left-.25*b.width-n,name:"arrow_nmw"},u&&{config:u}),southWestArrowNorth:(g,b)=>zt({top:p(g),left:g.left-b.width/2,name:"arrow_n"},u&&{config:u}),southWestArrowNorthMiddleEast:(g,b)=>zt({top:p(g),left:g.left-.75*b.width+n,name:"arrow_nme"},u&&{config:u}),southWestArrowNorthEast:(g,b)=>zt({top:p(g),left:g.left-b.width+n,name:"arrow_ne"},u&&{config:u}),southArrowNorthWest:g=>zt({top:p(g),left:g.left+g.width/2-n,name:"arrow_nw"},u&&{config:u}),southArrowNorthMiddleWest:(g,b)=>zt({top:p(g),left:g.left+g.width/2-.25*b.width-n,name:"arrow_nmw"},u&&{config:u}),southArrowNorth:(g,b)=>zt({top:p(g),left:g.left+g.width/2-b.width/2,name:"arrow_n"},u&&{config:u}),southArrowNorthMiddleEast:(g,b)=>zt({top:p(g),left:g.left+g.width/2-.75*b.width+n,name:"arrow_nme"},u&&{config:u}),southArrowNorthEast:(g,b)=>zt({top:p(g),left:g.left+g.width/2-b.width+n,name:"arrow_ne"},u&&{config:u}),southEastArrowNorthWest:g=>zt({top:p(g),left:g.right-n,name:"arrow_nw"},u&&{config:u}),southEastArrowNorthMiddleWest:(g,b)=>zt({top:p(g),left:g.right-.25*b.width-n,name:"arrow_nmw"},u&&{config:u}),southEastArrowNorth:(g,b)=>zt({top:p(g),left:g.right-b.width/2,name:"arrow_n"},u&&{config:u}),southEastArrowNorthMiddleEast:(g,b)=>zt({top:p(g),left:g.right-.75*b.width+n,name:"arrow_nme"},u&&{config:u}),southEastArrowNorthEast:(g,b)=>zt({top:p(g),left:g.right-b.width+n,name:"arrow_ne"},u&&{config:u}),westArrowEast:(g,b)=>zt({top:g.top+g.height/2-b.height/2,left:g.left-b.width-i,name:"arrow_e"},u&&{config:u}),eastArrowWest:(g,b)=>zt({top:g.top+g.height/2-b.height/2,left:g.right+i,name:"arrow_w"},u&&{config:u}),viewportStickyNorth:(g,b,w,C)=>{const E=C||w;return g.getIntersection(E)?E.height-g.height>a?null:{top:E.top+a,left:g.left+g.width/2-b.width/2,name:"arrowless",config:zt({withArrow:!1},u)}:null}};function h(g,b){return g.top-b.height-i}function p(g){return g.bottom+i}}Mo.arrowSideOffset=25,Mo.arrowHeightOffset=10,Mo.stickyVerticalOffset=20,Mo._getOptimalPosition=Yb,Mo.defaultPositions=tR();var nR=s(9205),gee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(nR.A,gee),nR.A.locals;const rR="ck-tooltip",Po=class extends gi(){constructor(l){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,this._mutationObserver=null,Po._editors.add(l),Po._instance)return Po._instance;Po._instance=this,this.tooltipTextView=new Ye(l.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Mo(l.locale),this.balloonPanelView.class=rR,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(n){const i=new MutationObserver(()=>{n()});return{attach(a){i.observe(a,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){i.disconnect()}}}(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=gd(this._pinTooltip,600),this._unpinTooltipDebounced=gd(this._unpinTooltip,400),this.listenTo(m.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(m.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(m.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(m.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(m.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(m.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(l){const n=l.ui.view&&l.ui.view.body;Po._editors.delete(l),this.stopListening(l.ui),n&&n.has(this.balloonPanelView)&&n.remove(this.balloonPanelView),Po._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Po._instance=null)}static getPositioningFunctions(l){const n=Po.defaultBalloonPositions;return{s:[n.southArrowNorth,n.southArrowNorthEast,n.southArrowNorthWest],n:[n.northArrowSouth],e:[n.eastArrowWest],w:[n.westArrowEast],sw:[n.southArrowNorthEast],se:[n.southArrowNorthWest]}[l]}_onKeyDown(l,n){n.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),n.stopPropagation())}_onEnterOrFocus(l,{target:n}){const i=vA(n);i?i!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(i,oR(i))):l.name==="focus"&&this._unpinTooltip()}_onLeaveOrBlur(l,{target:n,relatedTarget:i}){if(l.name==="mouseleave"){if(!Sc(n))return;const a=this.balloonPanelView.element,u=a&&(a===i||a.contains(i)),h=!u&&n===a;if(u)return void this._unpinTooltipDebounced.cancel();if(!h&&this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;const p=vA(n),g=vA(i);(h||p&&p!==g)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(l,{target:n}){this._currentElementWithTooltip&&(n.contains(this.balloonPanelView.element)&&n.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(l,{text:n,position:i,cssClass:a}){this._unpinTooltip();const u=Ar(Po._editors.values()).ui.view.body;u.has(this.balloonPanelView)||u.add(this.balloonPanelView),this.tooltipTextView.text=n,this.balloonPanelView.pin({target:l,positions:Po.getPositioningFunctions(i)}),this._resizeObserver=new jp(l,()=>{Dc(l)||this._unpinTooltip()}),this._mutationObserver.attach(l),this.balloonPanelView.class=[rR,a].filter(h=>h).join(" ");for(const h of Po._editors)this.listenTo(h.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=l,this._currentTooltipPosition=i}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const l of Po._editors)this.stopListening(l.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const l=oR(this._currentElementWithTooltip);Dc(this._currentElementWithTooltip)&&l.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Po.getPositioningFunctions(l.position)}):this._unpinTooltip()}};let Dk=Po;function vA(l){return Sc(l)?l.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function oR(l){return{text:l.dataset.ckeTooltipText,position:l.dataset.ckeTooltipPosition||"s",cssClass:l.dataset.ckeTooltipClass||""}}Dk.defaultBalloonPositions=tR({heightOffset:5,sideOffset:13}),Dk._editors=new Set,Dk._instance=null;const Tk=function(l,n,i){var a=!0,u=!0;if(typeof l!="function")throw new TypeError("Expected a function");return me(i)&&(a="leading"in i?!!i.leading:a,u="trailing"in i?!!i.trailing:u),gd(l,n,{leading:a,maxWait:n,trailing:u})};var bee=Object.defineProperty,iR=Object.getOwnPropertySymbols,kee=Object.prototype.hasOwnProperty,vee=Object.prototype.propertyIsEnumerable,sR=(l,n,i)=>n in l?bee(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,wee=(l,n)=>{for(var i in n||(n={}))kee.call(n,i)&&sR(l,i,n[i]);if(iR)for(var i of iR(n))vee.call(n,i)&&sR(l,i,n[i]);return l};const yee=50,_ee=350,Cee="Powered by";class Aee extends gi(){constructor(n){super(),this.editor=n,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=Tk(this._showBalloon.bind(this),50,{leading:!0}),n.on("ready",this._handleEditorReady.bind(this))}destroy(){const n=this._balloonView;n&&(n.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const n=this.editor;(n.config.get("ui.poweredBy.forceVisible")||function(i){function a(O){return O.length>=40&&O.length<=255?"VALID":"INVALID"}if(!i)return"INVALID";let u="";try{u=atob(i)}catch{return"INVALID"}const h=u.split("-"),p=h[0],g=h[1];if(!g)return a(i);try{atob(g)}catch{try{if(atob(p),!atob(p).length)return a(i)}catch{return a(i)}}if(p.length<40||p.length>255)return"INVALID";let b="";try{atob(p),b=atob(g)}catch{return"INVALID"}if(b.length!==8)return"INVALID";const w=Number(b.substring(0,4)),C=Number(b.substring(4,6))-1,E=Number(b.substring(6,8)),M=new Date(w,C,E);return M<Q||isNaN(Number(M))?"INVALID":"VALID"}(n.config.get("licenseKey"))!=="VALID")&&n.ui.view&&(n.ui.focusTracker.on("change:isFocused",(i,a,u)=>{this._updateLastFocusedEditableElement(),u?this._showBalloon():this._hideBalloon()}),n.ui.focusTracker.on("change:focusedElement",(i,a,u)=>{this._updateLastFocusedEditableElement(),u&&this._showBalloon()}),n.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const n=this.editor,i=this._balloonView=new Mo,a=lR(n),u=new xee(n.locale,a.label);i.content.add(u),i.set({class:"ck-powered-by-balloon"}),n.ui.view.body.add(i),n.ui.focusTracker.add(i.element),this._balloonView=i}_showBalloon(){if(!this._lastFocusedEditableElement)return;const n=function(i,a){const u=lR(i),h=u.side==="right"?function(p,g){return aR(p,g,(b,w)=>b.left+b.width-w.width-g.horizontalOffset)}(a,u):function(p,g){return aR(p,g,b=>b.left+g.horizontalOffset)}(a,u);return{target:a,positions:[h]}}(this.editor,this._lastFocusedEditableElement);n&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(n))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const n=this.editor,i=n.ui.focusTracker.isFocused,a=n.ui.focusTracker.focusedElement;if(!i||!a)return void(this._lastFocusedEditableElement=null);const u=Array.from(n.ui.getEditableElementsNames()).map(h=>n.ui.getEditableElement(h));u.includes(a)?this._lastFocusedEditableElement=a:this._lastFocusedEditableElement=u[0]}}class xee extends Ye{constructor(n,i){super(n);const a=new ga,u=this.bindTemplate;a.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),a.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...i?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[i]}]:[],a],on:{dragstart:u.to(h=>h.preventDefault())}}]})}}function aR(l,n,i){return(a,u)=>{const h=new Et(l);if(h.width<_ee||h.height<yee)return null;let p;p=n.position==="inside"?h.bottom-u.height:h.bottom-u.height/2,p-=n.verticalOffset;const g=i(h,u),b=a.clone().moveTo(g,p).getIntersection(u.clone().moveTo(g,p)).getVisible();return!b||b.getArea()<u.getArea()?null:{top:p,left:g,name:`position_${n.position}-side_${n.side}`,config:{withArrow:!1}}}}function lR(l){const n=l.config.get("ui.poweredBy"),i=n&&n.position||"border";return wee({position:i,label:Cee,verticalOffset:i==="inside"?5:0,horizontalOffset:5,side:l.locale.contentLanguageDirection==="ltr"?"right":"left"},n)}var cR=s(1801),Eee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(cR.A,Eee),cR.A.locals;const uR={POLITE:"polite",ASSERTIVE:"assertive"};class See{constructor(n){this.editor=n,n.once("ready",()=>{for(const i of Object.values(uR))this.announce("",i)})}announce(n,i=uR.POLITE){const a=this.editor;if(!a.ui.view)return;this.view||(this.view=new Dee(a.locale),a.ui.view.body.add(this.view));const{politeness:u,isUnsafeHTML:h}=typeof i=="string"?{politeness:i}:i;let p=this.view.regionViews.find(g=>g.politeness===u);p||(p=new Tee(a,u),this.view.regionViews.add(p)),p.announce({announcement:n,isUnsafeHTML:h})}}class Dee extends Ye{constructor(n){super(n),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class Tee extends Ye{constructor(n,i){super(n.locale),this.setTemplate({tag:"div",attributes:{role:"region","aria-live":i,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),n.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=i,this._domConverter=n.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:n,isUnsafeHTML:i}){if(!n.trim().length)return;const a=document.createElement("li");i?this._domConverter.setContentOf(a,n):a.innerText=n,this._listElement.appendChild(a)}get _listElement(){return this.element.querySelector("ul")}}var Iee=Object.defineProperty,dR=Object.getOwnPropertySymbols,Mee=Object.prototype.hasOwnProperty,Pee=Object.prototype.propertyIsEnumerable,hR=(l,n,i)=>n in l?Iee(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i;class Nee extends be(){constructor(n){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const i=n.editing.view;this.editor=n,this.componentFactory=new XX(n),this.focusTracker=new xr,this.tooltipManager=new Dk(n),this.poweredBy=new Aee(n),this.ariaLiveAnnouncer=new See(n),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(i.document,"layoutChanged",this.update.bind(this)),this.listenTo(i,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const n of this._editableElementsMap.values())n.ckeditorInstance=null,this.editor.keystrokes.stopListening(n);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(n,i){this._editableElementsMap.set(n,i),i.ckeditorInstance||(i.ckeditorInstance=this.editor),this.focusTracker.add(i);const a=()=>{this.editor.editing.view.getDomRoot(n)||this.editor.keystrokes.listenTo(i)};this.isReady?a():this.once("ready",a)}removeEditableElement(n){const i=this._editableElementsMap.get(n);i&&(this._editableElementsMap.delete(n),this.editor.keystrokes.stopListening(i),this.focusTracker.remove(i),i.ckeditorInstance=null)}getEditableElement(n="main"){return this._editableElementsMap.get(n)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(n,i={}){n.isRendered?(this.focusTracker.add(n.element),this.editor.keystrokes.listenTo(n.element)):n.once("render",()=>{this.focusTracker.add(n.element),this.editor.keystrokes.listenTo(n.element)}),this._focusableToolbarDefinitions.push({toolbarView:n,options:i})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const n=this.editor,i=n.config.get("ui.viewportOffset");if(i)return i;const a=n.config.get("toolbar.viewportTopOffset");return a?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:a}):{top:0}}_initFocusTracking(){const n=this.editor,i=n.editing.view;let a,u;n.keystrokes.set("Alt+F10",(h,p)=>{const g=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(g)&&!Array.from(i.domRoots.values()).includes(g)&&(a=g);const b=this._getCurrentFocusedToolbarDefinition();b&&u||(u=this._getFocusableCandidateToolbarDefinitions());for(let w=0;w<u.length;w++){const C=u.shift();if(u.push(C),C!==b&&this._focusFocusableCandidateToolbar(C)){b&&b.options.afterBlur&&b.options.afterBlur();break}}p()}),n.keystrokes.set("Esc",(h,p)=>{const g=this._getCurrentFocusedToolbarDefinition();g&&(a?(a.focus(),a=null):n.editing.view.focus(),g.options.afterBlur&&g.options.afterBlur(),p())})}_getFocusableCandidateToolbarDefinitions(){const n=[];for(const i of this._focusableToolbarDefinitions){const{toolbarView:a,options:u}=i;(Dc(a.element)||u.beforeFocus)&&n.push(i)}return n.sort((i,a)=>pR(i)-pR(a)),n}_getCurrentFocusedToolbarDefinition(){for(const n of this._focusableToolbarDefinitions)if(n.toolbarView.element&&n.toolbarView.element.contains(this.focusTracker.focusedElement))return n;return null}_focusFocusableCandidateToolbar(n){const{toolbarView:i,options:{beforeFocus:a}}=n;return a&&a(),!!Dc(i.element)&&(i.focus(),!0)}_handleScrollToTheSelection(n,i){const a=((u,h)=>{for(var p in h||(h={}))Mee.call(h,p)&&hR(u,p,h[p]);if(dR)for(var p of dR(h))Pee.call(h,p)&&hR(u,p,h[p]);return u})({top:0,bottom:0,left:0,right:0},this.viewportOffset);i.viewportOffset.top+=a.top,i.viewportOffset.bottom+=a.bottom,i.viewportOffset.left+=a.left,i.viewportOffset.right+=a.right}}function pR(l){const{toolbarView:n,options:i}=l;let a=10;return Dc(n.element)&&a--,i.isContextual&&a--,a}var fR=s(1185),Ree={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(fR.A,Ree),fR.A.locals;class Oee extends Ye{constructor(n){super(n),this.body=new wX(n)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class Bee extends Oee{constructor(n){super(n),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:n.uiLanguageDirection,lang:n.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const n=this.t,i=new vk;return i.text=n("Rich Text Editor"),i.extendTemplate({attributes:{class:"ck-voice-label"}}),i}}class Lee extends Ye{constructor(n,i,a){super(n),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:n.contentLanguage,dir:n.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=a,this._hasExternalElement=!!this._editableElement,this._editingView=i}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const n=this._editingView;function i(a){n.change(u=>{const h=n.document.getRoot(a.name);u.addClass(a.isFocused?"ck-focused":"ck-blurred",h),u.removeClass(a.isFocused?"ck-blurred":"ck-focused",h)})}n.isRenderingInProgress?function a(u){n.once("change:isRenderingInProgress",(h,p,g)=>{g?a(u):i(u)})}(this):i(this)}}class jee extends Lee{constructor(n,i,a,u={}){super(n,i,a);const h=n.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=u.label||(()=>h("Editor editing area: %0",this.name))}render(){super.render();const n=this._editingView;n.change(i=>{const a=n.document.getRoot(this.name);i.setAttribute("aria-label",this._generateLabel(this),a)})}}class wA extends tk{static get pluginName(){return"Notification"}init(){this.on("show:warning",(n,i)=>{window.alert(i.message)},{priority:"lowest"})}showSuccess(n,i={}){this._showNotification({message:n,type:"success",namespace:i.namespace,title:i.title})}showInfo(n,i={}){this._showNotification({message:n,type:"info",namespace:i.namespace,title:i.title})}showWarning(n,i={}){this._showNotification({message:n,type:"warning",namespace:i.namespace,title:i.title})}_showNotification(n){const i=n.namespace?`show:${n.type}:${n.namespace}`:`show:${n.type}`;this.fire(i,{message:n.message,type:n.type,title:n.title||""})}}class mR extends be(){constructor(n,i){super(),i&&$5(this,i),n&&this.set(n)}}var gR=s(991),Fee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(gR.A,Fee),gR.A.locals;var bR=s(5380),zee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(bR.A,zee),bR.A.locals;const Ik=ld("px");class Mk extends ge{constructor(n){super(n),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const i=this.editor.editing.view,a=i.document.selection.editableElement;return a?i.domConverter.mapViewToDom(a.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(n){return Array.from(this._viewToStack.keys()).includes(n)}add(n){if(this._view||this._createPanelView(),this.hasView(n.view))throw new R("contextualballoon-add-view-exist",[this,n]);const i=n.stackId||"main";if(!this._idToStack.has(i))return this._idToStack.set(i,new Map([[n.view,n]])),this._viewToStack.set(n.view,this._idToStack.get(i)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!n.singleViewMode||this.showStack(i));const a=this._idToStack.get(i);n.singleViewMode&&this.showStack(i),a.set(n.view,n),this._viewToStack.set(n.view,a),a===this._visibleStack&&this._showView(n)}remove(n){if(!this.hasView(n))throw new R("contextualballoon-remove-view-not-exist",[this,n]);const i=this._viewToStack.get(n);this._singleViewMode&&this.visibleView===n&&(this._singleViewMode=!1),this.visibleView===n&&(i.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(i.values())[i.size-2])),i.size===1?(this._idToStack.delete(this._getStackId(i)),this._numberOfStacks=this._idToStack.size):i.delete(n),this._viewToStack.delete(n)}updatePosition(n){n&&(this._visibleStack.get(this.visibleView).position=n),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(n){this.visibleStack=n;const i=this._idToStack.get(n);if(!i)throw new R("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==i&&this._showView(Array.from(i.values()).pop())}_createPanelView(){this._view=new Mo(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(n){return Array.from(this._idToStack.entries()).find(i=>i[1]===n)[0]}_showNextStack(){const n=Array.from(this._idToStack.values());let i=n.indexOf(this._visibleStack)+1;n[i]||(i=0),this.showStack(this._getStackId(n[i]))}_showPrevStack(){const n=Array.from(this._idToStack.values());let i=n.indexOf(this._visibleStack)-1;n[i]||(i=n.length-1),this.showStack(this._getStackId(n[i]))}_createRotatorView(){const n=new $ee(this.editor.locale),i=this.editor.locale.t;return this.view.content.add(n),n.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(a,u)=>!u&&a>1),n.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),n.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(a,u)=>{if(u<2)return"";const h=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return i("%0 of %1",[h,u])}),n.buttonNextView.on("execute",()=>{n.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),n.buttonPrevView.on("execute",()=>{n.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),n}_createFakePanelsView(){const n=new Vee(this.editor.locale,this.view);return n.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(i,a)=>!a&&i>=2?Math.min(i-1,2):0),n.listenTo(this.view,"change:top",()=>n.updatePosition()),n.listenTo(this.view,"change:left",()=>n.updatePosition()),this.editor.ui.view.body.add(n),n}_showView({view:n,balloonClassName:i="",withArrow:a=!0,singleViewMode:u=!1}){this.view.class=i,this.view.withArrow=a,this._rotatorView.showView(n),this.visibleView=n,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),u&&(this._singleViewMode=!0)}_getBalloonPosition(){let n=Array.from(this._visibleStack.values()).pop().position;return n&&(n.limiter||(n=Object.assign({},n,{limiter:this.positionLimiter})),n=Object.assign({},n,{viewportOffsetConfig:this.editor.ui.viewportOffset})),n}}class $ee extends Ye{constructor(n){super(n);const i=n.t,a=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new xr,this.buttonPrevView=this._createButtonView(i("Previous"),ht.previousArrow),this.buttonNextView=this._createButtonView(i("Next"),ht.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",a.to("isNavigationVisible",u=>u?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:a.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(n){this.hideView(),this.content.add(n)}hideView(){this.content.clear()}_createButtonView(n,i){const a=new Ft(this.locale);return a.set({label:n,icon:i,tooltip:!0}),a}}class Vee extends Ye{constructor(n,i){super(n);const a=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=i,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",a.to("numberOfPanels",u=>u?"":"ck-hidden")],style:{top:a.to("top",Ik),left:a.to("left",Ik),width:a.to("width",Ik),height:a.to("height",Ik)}},children:this.content}),this.on("change:numberOfPanels",(u,h,p,g)=>{p>g?this._addPanels(p-g):this._removePanels(g-p),this.updatePosition()})}_addPanels(n){for(;n--;){const i=new Ye;i.setTemplate({tag:"div"}),this.content.add(i),this.registerChild(i)}}_removePanels(n){for(;n--;){const i=this.content.last;this.content.remove(i),this.deregisterChild(i),i.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:n,left:i}=this._balloonPanelView,{width:a,height:u}=new Et(this._balloonPanelView.element);Object.assign(this,{top:n,left:i,width:a,height:u})}}}var kR=s(8298),Uee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(kR.A,Uee),kR.A.locals;const yd=ld("px");class Hee extends Ye{constructor(n){super(n);const i=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new Yi({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:i.to("isSticky",a=>a?"block":"none"),height:i.to("isSticky",a=>a?yd(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new Yi({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",i.if("isSticky","ck-sticky-panel__content_sticky"),i.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:i.to("isSticky",a=>a?yd(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:i.to("_stickyTopOffset",a=>a&&yd(a)),bottom:i.to("_stickyBottomOffset",a=>a&&yd(a)),marginLeft:i.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(m.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const n=new Et(this.limiterElement);let i=n.getVisible();if(i){const a=new Et(m.window);a.top+=this.viewportTopOffset,a.height-=this.viewportTopOffset,i=i.getIntersection(a)}if(i&&n.top<i.top){const a=i.top;if(a+this._contentPanelRect.height+this.limiterBottomOffset>i.bottom){const u=Math.max(n.bottom-i.bottom,0)+this.limiterBottomOffset;n.bottom-u>n.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(u):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<n.height?this._stickToTopOfAncestors(a):this._unstick()}else this._unstick()}_stickToTopOfAncestors(n){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=n,this._stickyBottomOffset=null,this._marginLeft=yd(-m.window.scrollX)}_stickToBottomOfLimiter(n){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=n,this._marginLeft=yd(-m.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new Et(this.contentPanelElement)}}class Wee extends _k{constructor(n,i){const a=n.t,u=Object.assign({},{showResetButton:!0,showIcon:!0,creator:xk},i);super(n,u.creator),this.label=i.label,this._viewConfig=u,this._viewConfig.showIcon&&(this.iconView=new ga,this.iconView.content=ht.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new Ft(n),this.resetButtonView.set({label:a("Clear"),icon:ht.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",h=>!h),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class qee extends Ye{constructor(){super();const n=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",n.if("isVisible","ck-hidden",i=>!i)],tabindex:-1},children:[{tag:"span",children:[{text:[n.to("primaryText")]}]},{tag:"span",children:[{text:[n.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class Gee extends Ye{constructor(n){super(n),this.children=this.createCollection(),this.focusTracker=new xr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new vi({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const n of this.children)this.focusTracker.add(n.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var vR=/[\\^$.*+?()[\]{}|]/g,Kee=RegExp(vR.source);const wR=function(l){return(l=PC(l))&&Kee.test(l)?l.replace(vR,"\\$&"):l};var yR=s(8107),Yee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(yR.A,Yee),yR.A.locals;var Qee=Object.defineProperty,_R=Object.getOwnPropertySymbols,Zee=Object.prototype.hasOwnProperty,Jee=Object.prototype.propertyIsEnumerable,CR=(l,n,i)=>n in l?Qee(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i;class Xee extends Ye{constructor(n,i){super(n),this._config=i,this.filteredView=i.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new xr,this.keystrokes=new uo,this.resultsView=new Gee(n),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),i.infoView&&i.infoView.instance?this.infoView=i.infoView.instance:(this.infoView=new qee,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new vi({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(a,{resultsCount:u,totalItemsCount:h})=>{this.resultsCount=u,this.totalItemsCount=h}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",i.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const n=i=>i.stopPropagation();for(const i of this.focusableChildren)this.focusTracker.add(i.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",n),this.keystrokes.set("arrowleft",n),this.keystrokes.set("arrowup",n),this.keystrokes.set("arrowdown",n)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(n){const i=n?new RegExp(wR(n),"ig"):null,a=this.filteredView.filter(i);this.fire("search",((u,h)=>{for(var p in h||(h={}))Zee.call(h,p)&&CR(u,p,h[p]);if(_R)for(var p of _R(h))Jee.call(h,p)&&CR(u,p,h[p]);return u})({query:n},a))}_createSearchTextQueryView(){const n=new Wee(this.locale,this._config.queryView);return this.listenTo(n.fieldView,"input",()=>{this.search(n.fieldView.element.value)}),n.on("reset",()=>this.reset()),n.bind("isEnabled").to(this),n}_enableDefaultInfoViewBehavior(){const n=this.locale.t,i=this.infoView;function a(u,{query:h,resultsCount:p,totalItemsCount:g}){return typeof u=="function"?u(h,p,g):u}this.on("search",(u,h)=>{if(h.resultsCount)i.set({isVisible:!1});else{const p=this._config.infoView&&this._config.infoView.text;let g,b;h.totalItemsCount?p&&p.notFound?(g=p.notFound.primary,b=p.notFound.secondary):(g=n("No results found"),b=""):p&&p.noSearchableItems?(g=p.noSearchableItems.primary,b=p.noSearchableItems.secondary):(g=n("No searchable items"),b=""),i.set({primaryText:a(g,h),secondaryText:a(b,h),isVisible:!0})}})}}var AR=s(5727),ete={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(AR.A,ete),AR.A.locals;const yA=class extends Xee{constructor(l,n){super(l,n),this._config=n;const i=ld("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const a=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[a.if("isVisible","ck-hidden",u=>!u),a.to("_position",u=>`ck-search__results_${u}`)],style:{width:a.to("_width",i)}}}),this.focusTracker.on("change:isFocused",(u,h,p)=>{this._updateResultsVisibility(),p?this.resultsView.element.scrollTop=0:n.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(u,h)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,h())}),this.listenTo(m.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(u,{value:h})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=h,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new Et(this.queryView.fieldView.element).width;const l=yA._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:yA.defaultResultsPositions});this.resultsView._position=l?l.name:"s"}_updateResultsVisibility(){const l=this._config.queryMinChars===void 0?0:this._config.queryMinChars,n=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&n>=l}};let xR=yA;xR.defaultResultsPositions=[l=>({top:l.bottom,left:l.left,name:"s"}),(l,n)=>({top:l.top-n.height,left:l.left,name:"n"})],xR._getOptimalPosition=Yb;var ER=s(9529),tte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(ER.A,tte),ER.A.locals;var SR=s(109),nte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(SR.A,nte),SR.A.locals;var DR=s(2710),rte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(DR.A,rte),DR.A.locals;var TR=s(3344),ote={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(TR.A,ote),TR.A.locals;class ite extends Ft{constructor(n){super(n);const i=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",a=>String(a)),"data-cke-tooltip-disabled":i.to("isOn")},on:{mouseenter:i.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const n=new ga;return n.content=yk,n.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),n}}var IR=s(9481),ste={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(IR.A,ste),IR.A.locals;class _A extends wd{constructor(n,i){super(n);const a=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:a.to("mouseenter")}}),this.delegate("mouseenter").to(i)}}var ate=Object.defineProperty,MR=Object.getOwnPropertySymbols,lte=Object.prototype.hasOwnProperty,cte=Object.prototype.propertyIsEnumerable,PR=(l,n,i)=>n in l?ate(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,NR=(l,n)=>{for(var i in n||(n={}))lte.call(n,i)&&PR(l,i,n[i]);if(MR)for(var i of MR(n))cte.call(n,i)&&PR(l,i,n[i]);return l};const of={toggleMenusAndFocusItemsOnHover(l){l.on("menu:mouseenter",n=>{if(l.isOpen){for(const i of l.menus){const a=n.path[0],u=a instanceof _A&&a.children.first===i;i.isOpen=(n.path.includes(i)||u)&&i.isEnabled}n.source.focus()}})},focusCycleMenusOnArrows(l){const n=l.locale.uiLanguageDirection==="rtl";function i(a,u){const h=l.children.getIndex(a),p=a.isOpen,g=l.children.length,b=l.children.get((h+g+u)%g);a.isOpen=!1,p&&(b.isOpen=!0),b.buttonView.focus()}l.on("menu:arrowright",a=>{i(a.source,n?-1:1)}),l.on("menu:arrowleft",a=>{i(a.source,n?1:-1)})},closeMenusWhenTheBarCloses(l){l.on("change:isOpen",()=>{l.isOpen||l.menus.forEach(n=>{n.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(l){l.on("menu:change:isOpen",(n,i,a)=>{a&&l.menus.filter(u=>n.source.parentMenuView===u.parentMenuView&&n.source!==u&&u.isOpen).forEach(u=>{u.isOpen=!1})})},closeOnClickOutside(l){Xb({emitter:l,activator:()=>l.isOpen,callback:()=>l.close(),contextElements:()=>l.children.map(n=>n.element)})}},jc={openAndFocusPanelOnArrowDownKey(l){l.keystrokes.set("arrowdown",(n,i)=>{l.focusTracker.focusedElement===l.buttonView.element&&(l.isOpen||(l.isOpen=!0),l.panelView.focus(),i())})},openOnArrowRightKey(l){const n=l.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";l.keystrokes.set(n,(i,a)=>{l.focusTracker.focusedElement===l.buttonView.element&&l.isEnabled&&(l.isOpen||(l.isOpen=!0),l.panelView.focus(),a())})},openOnButtonClick(l){l.buttonView.on("execute",()=>{l.isOpen=!0,l.panelView.focus()})},toggleOnButtonClick(l){l.buttonView.on("execute",()=>{l.isOpen=!l.isOpen,l.isOpen&&l.panelView.focus()})},closeOnArrowLeftKey(l){const n=l.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";l.keystrokes.set(n,(i,a)=>{l.isOpen&&(l.isOpen=!1,l.focus(),a())})},closeOnEscKey(l){l.keystrokes.set("esc",(n,i)=>{l.isOpen&&(l.isOpen=!1,l.focus(),i())})},closeOnParentClose(l){l.parentMenuView.on("change:isOpen",(n,i,a)=>{a||n.source!==l.parentMenuView||(l.isOpen=!1)})}},ute={southEast:l=>({top:l.bottom,left:l.left,name:"se"}),southWest:(l,n)=>({top:l.bottom,left:l.left-n.width+l.width,name:"sw"}),northEast:(l,n)=>({top:l.top-n.height,left:l.left,name:"ne"}),northWest:(l,n)=>({top:l.top-n.height,left:l.left-n.width+l.width,name:"nw"}),eastSouth:l=>({top:l.top,left:l.right-5,name:"es"}),eastNorth:(l,n)=>({top:l.top-n.height,left:l.right-5,name:"en"}),westSouth:(l,n)=>({top:l.top,left:l.left-n.width+5,name:"ws"}),westNorth:(l,n)=>({top:l.top-n.height,left:l.left-n.width+5,name:"wn"})},dte=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:uploadImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment"]},{groupId:"insertMinorWidgets",items:["menuBar:insertTemplate","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function hte({normalizedConfig:l,locale:n,componentFactory:i}){const a=Ji(l);return function(u,h){const p=h.removeItems,g=[];h.items=h.items.filter(({menuId:b})=>!p.includes(b)||(g.push(b),!1)),_d(h.items,b=>{b.groups=b.groups.filter(({groupId:w})=>!p.includes(w)||(g.push(w),!1));for(const w of b.groups)w.items=w.items.filter(C=>{const E=BR(C);return!p.includes(E)||(g.push(E),!1)})});for(const b of p)g.includes(b)||z("menu-bar-item-could-not-be-removed",{menuBarConfig:u,itemName:b})}(l,a),function(u,h){const p=h.addItems,g=[];for(const b of p){const w=mte(b.position),C=gte(b.position);if(pte(b))if(C){const E=h.items.findIndex(M=>M.menuId===C);E!=-1?w==="before"?(h.items.splice(E,0,b.menu),g.push(b)):w==="after"&&(h.items.splice(E+1,0,b.menu),g.push(b)):RR(h,b.menu,C,w)&&g.push(b)}else w==="start"?(h.items.unshift(b.menu),g.push(b)):w==="end"&&(h.items.push(b.menu),g.push(b));else fte(b)?_d(h.items,E=>{if(E.menuId===C)w==="start"?(E.groups.unshift(b.group),g.push(b)):w==="end"&&(E.groups.push(b.group),g.push(b));else{const M=E.groups.findIndex(O=>O.groupId===C);M!==-1&&(w==="before"?(E.groups.splice(M,0,b.group),g.push(b)):w==="after"&&(E.groups.splice(M+1,0,b.group),g.push(b)))}}):RR(h,b.item,C,w)&&g.push(b)}for(const b of p)g.includes(b)||z("menu-bar-item-could-not-be-added",{menuBarConfig:u,addedItemConfig:b})}(l,a),function(u,h,p){_d(h.items,g=>{for(const b of g.groups)b.items=b.items.filter(w=>{const C=typeof w=="string"&&!p.has(w);return C&&!h.isUsingDefaultConfig&&z("menu-bar-item-unavailable",{menuBarConfig:u,parentMenuConfig:Ji(g),componentName:w}),!C})})}(l,a,i),OR(l,a),function(u,h){const p=h.t,g={File:p({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:p({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:p({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:p({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:p({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:p({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:p({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:p({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:p({string:"Font",id:"MENU_BAR_MENU_FONT"})};_d(u.items,b=>{b.label in g&&(b.label=g[b.label])})}(a,n),a}function RR(l,n,i,a){let u=!1;return _d(l.items,h=>{for(const{groupId:p,items:g}of h.groups){if(u)return;if(p===i)a==="start"?(g.unshift(n),u=!0):a==="end"&&(g.push(n),u=!0);else{const b=g.findIndex(w=>BR(w)===i);b!==-1&&(a==="before"?(g.splice(b,0,n),u=!0):a==="after"&&(g.splice(b+1,0,n),u=!0))}}}),u}function OR(l,n){const i=n.isUsingDefaultConfig;let a=!1;n.items=n.items.filter(u=>!!u.groups.length||(CA(l,u,i),!1)),n.items.length?(_d(n.items,u=>{u.groups=u.groups.filter(h=>!!h.items.length||(a=!0,!1));for(const h of u.groups)h.items=h.items.filter(p=>!(LR(p)&&!p.groups.length)||(CA(l,p,i),a=!0,!1))}),a&&OR(l,n)):CA(l,l,i)}function CA(l,n,i){i||z("menu-bar-menu-empty",{menuBarConfig:l,emptyMenuConfig:n})}function _d(l,n){if(Array.isArray(l))for(const a of l)i(a);function i(a){n(a);for(const u of a.groups)for(const h of u.items)LR(h)&&i(h)}}function pte(l){return typeof l=="object"&&"menu"in l}function fte(l){return typeof l=="object"&&"group"in l}function mte(l){return l.startsWith("start")?"start":l.startsWith("end")?"end":l.startsWith("after")?"after":"before"}function gte(l){const n=l.match(/^[^:]+:(.+)/);return n?n[1]:null}function BR(l){return typeof l=="string"?l:l.menuId}function LR(l){return typeof l=="object"&&"menuId"in l}function bte(l,n){const i=n.element;l.ui.focusTracker.add(i),l.keystrokes.listenTo(i);const a=function(u){let h;return h="items"in u&&u.items?NR({items:u.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1},u):NR({items:Ji(dte),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0},u),h}(l.config.get("menuBar")||{});n.fillFromConfig(a,l.ui.componentFactory),l.keystrokes.set("Esc",(u,h)=>{i.contains(l.ui.focusTracker.focusedElement)&&(l.editing.view.focus(),h())}),l.keystrokes.set("Alt+F9",(u,h)=>{i.contains(l.ui.focusTracker.focusedElement)||(n.focus(),h())})}var jR=s(9108),kte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(jR.A,kte),jR.A.locals;class vte extends Ye{constructor(n){super(n);const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",i.to("position",a=>`ck-menu-bar__menu__panel_position_${a}`),i.if("isVisible","ck-hidden",a=>!a)],tabindex:"-1"},children:this.children,on:{selectstart:i.to(a=>{a.target.tagName.toLocaleLowerCase()!=="input"&&a.preventDefault()})}})}focus(n=1){this.children.length&&(n===1?this.children.first.focus():this.children.last.focus())}}var FR=s(4),wte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(FR.A,wte),FR.A.locals;const zR=class extends Ye{constructor(l){super(l);const n=this.bindTemplate;this.buttonView=new ite(l),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new vte(l),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new uo,this.focusTracker=new xr,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",n.to("class"),n.if("isEnabled","ck-disabled",i=>!i),n.if("parentMenuView","ck-menu-bar__menu_top-level",i=>!i)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),jc.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(jc.openOnButtonClick(this),jc.openOnArrowRightKey(this),jc.closeOnArrowLeftKey(this),jc.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),jc.openAndFocusPanelOnArrowDownKey(this),jc.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(l,n)=>{this.fire("arrowright"),n()}),this.keystrokes.set("arrowleft",(l,n)=>{this.fire("arrowleft"),n()})}_repositionPanelOnOpen(){this.on("change:isOpen",(l,n,i)=>{if(!i)return;const a=zR._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=a?a.name:this._panelPositions[0].name})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:l,southWest:n,northEast:i,northWest:a,westSouth:u,eastSouth:h,westNorth:p,eastNorth:g}=ute;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[h,g,u,p]:[l,n,i,a]:this.parentMenuView?[u,p,h,g]:[n,l,a,i]}};let Cd=zR;Cd._getOptimalPosition=Yb;class AA extends fA{constructor(n){super(n),this.role="menu"}}var $R=s(977),yte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()($R.A,yte),$R.A.locals;class Zo extends Ft{constructor(n){super(n),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class VR extends wN{constructor(n){super(n),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var UR=s(497),_te={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(UR.A,_te),UR.A.locals;const HR=["mouseenter","arrowleft","arrowright","change:isOpen"];class Cte extends Ye{constructor(n){super(n),this.menus=[];const i=n.t;this.set("isOpen",!1),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar"],"aria-label":i("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(n,i){const a=hte({normalizedConfig:n,locale:this.locale,componentFactory:i}).items.map(u=>this._createMenu({componentFactory:i,menuDefinition:u}));this.children.addMany(a)}render(){super.render(),of.toggleMenusAndFocusItemsOnHover(this),of.closeMenusWhenTheBarCloses(this),of.closeMenuWhenAnotherOnTheSameLevelOpens(this),of.focusCycleMenusOnArrows(this),of.closeOnClickOutside(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const n of this.children)n.isOpen=!1}registerMenu(n,i=null){i?(n.delegate(...HR).to(i),n.parentMenuView=i):n.delegate(...HR).to(this,a=>"menu:"+a),n._attachBehaviors(),this.menus.push(n)}_createMenu({componentFactory:n,menuDefinition:i,parentMenuView:a}){const u=this.locale,h=new Cd(u);return this.registerMenu(h,a),h.buttonView.set({label:i.label}),h.once("change:isOpen",()=>{const p=new AA(u);p.ariaLabel=i.label,h.panelView.children.add(p),p.items.addMany(this._createMenuItems({menuDefinition:i,parentMenuView:h,componentFactory:n}))}),h}_createMenuItems({menuDefinition:n,parentMenuView:i,componentFactory:a}){const u=this.locale,h=[];for(const p of n.groups){for(const g of p.items){const b=new _A(u,i);if(me(g))b.children.add(this._createMenu({componentFactory:a,menuDefinition:g,parentMenuView:i}));else{const w=this._createMenuItemContentFromFactory({componentName:g,componentFactory:a,parentMenuView:i});if(!w)continue;b.children.add(w)}h.push(b)}p!==n.groups[n.groups.length-1]&&h.push(new pA(u))}return h}_createMenuItemContentFromFactory({componentName:n,parentMenuView:i,componentFactory:a}){const u=a.create(n);return u instanceof Cd||u instanceof Zo||u instanceof VR?(this._registerMenuTree(u,i),u.on("execute",()=>{this.close()}),u):(z("menu-bar-component-unsupported",{componentName:n,componentView:u}),null)}_registerMenuTree(n,i){if(!(n instanceof Cd))return void n.delegate("mouseenter").to(i);this.registerMenu(n,i);const a=n.panelView.children.filter(h=>h instanceof AA)[0];if(!a)return void n.delegate("mouseenter").to(i);const u=a.items.filter(h=>h instanceof wd);for(const h of u)this._registerMenuTree(h.children.get(0),n)}_setupIsOpenUpdater(){let n;this.on("menu:change:isOpen",(i,a,u)=>{clearTimeout(n),u?this.isOpen=!0:n=setTimeout(()=>{this.isOpen=Array.from(this.children).some(h=>h.isOpen)},0)})}}class Ate extends Nee{constructor(n,i){super(n),this.view=i,this._toolbarConfig=MN(n.config.get("toolbar")),this._elementReplacer=new Ut,this.listenTo(n.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(n){const i=this.editor,a=this.view,u=i.editing.view,h=a.editable,p=u.document.getRoot();h.name=p.rootName,a.render();const g=h.element;this.setEditableElement(h.name,g),a.editable.bind("isFocused").to(this.focusTracker),u.attachDomRoot(g),n&&this._elementReplacer.replace(n,this.element),this._initPlaceholder(),this._initToolbar(),a.menuBarView&&bte(i,a.menuBarView),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const n=this.view,i=this.editor.editing.view;this._elementReplacer.restore(),i.detachDomRoot(n.editable.name),n.destroy()}_initToolbar(){const n=this.view;n.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),n.stickyPanel.limiterElement=n.element,n.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:i})=>i||0),n.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(n.toolbar)}_initPlaceholder(){const n=this.editor,i=n.editing.view,a=i.document.getRoot(),u=n.sourceElement;let h;const p=n.config.get("placeholder");p&&(h=typeof p=="string"?p:p[this.view.editable.name]),!h&&u&&u.tagName.toLowerCase()==="textarea"&&(h=u.getAttribute("placeholder")),h&&(a.placeholder=h),f5({view:i,element:a,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(n,i,a){const u=this.view.stickyPanel;if(u.isSticky){const h=new Et(u.element).height;i.viewportOffset.top+=h}else{const h=()=>{this.editor.editing.view.scrollToTheSelection(a)};this.listenTo(u,"change:isSticky",h),setTimeout(()=>{this.stopListening(u,"change:isSticky",h)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const n=this.view.stickyPanel,i=this.editor.plugins.get("Dialog");i.on("show",()=>{const a=i.view;a.on("moveTo",(u,h)=>{if(!n.isSticky||a.wasMoved)return;const p=new Et(n.contentPanelElement);h[1]<p.bottom+Sk.defaultOffset&&(h[1]=p.bottom+Sk.defaultOffset)},{priority:"high"})},{priority:"low"})}}var WR=s(7388),xte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(WR.A,xte),WR.A.locals;class Ete extends Bee{constructor(n,i,a={}){super(n),this.stickyPanel=new Hee(n),this.toolbar=new hA(n,{shouldGroupWhenFull:a.shouldToolbarGroupWhenFull}),a.useMenuBar&&(this.menuBarView=new Cte(n)),this.editable=new jee(n,i)}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class qR{constructor(n){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof n.crashNumberLimit=="number"?n.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof n.minimumNonErrorTimePeriod=="number"?n.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=i=>{const a="error"in i?i.error:i.reason;a instanceof Error&&this._handleError(a,i)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(n,i){this._listeners[n]||(this._listeners[n]=[]),this._listeners[n].push(i)}off(n,i){this._listeners[n]=this._listeners[n].filter(a=>a!==i)}_fire(n,...i){const a=this._listeners[n]||[];for(const u of a)u.apply(this,[null,...i])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(n,i){if(this._shouldReactToError(n)){this.crashes.push({message:n.message,stack:n.stack,filename:i instanceof ErrorEvent?i.filename:void 0,lineno:i instanceof ErrorEvent?i.lineno:void 0,colno:i instanceof ErrorEvent?i.colno:void 0,date:this._now()});const a=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:n,causesRestart:a}),a?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(n){return n.is&&n.is("CKEditorError")&&n.context!==void 0&&n.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(n)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function xA(l,n=new Set){const i=[l],a=new Set;let u=0;for(;i.length>u;){const h=i[u++];if(!a.has(h)&&Ste(h)&&!n.has(h))if(a.add(h),Symbol.iterator in h)try{for(const p of h)i.push(p)}catch{}else for(const p in h)p!=="defaultValue"&&i.push(h[p])}return a}function Ste(l){const n=Object.prototype.toString.call(l),i=typeof l;return!(i==="number"||i==="boolean"||i==="string"||i==="symbol"||i==="function"||n==="[object Date]"||n==="[object RegExp]"||n==="[object Module]"||l==null||l._watchdogExcluded||l instanceof EventTarget||l instanceof Event)}function GR(l,n,i=new Set){if(l===n&&typeof(a=l)=="object"&&a!==null)return!0;var a;const u=xA(l,i),h=xA(n,i);for(const p of u)if(h.has(p))return!0;return!1}var Dte=Object.defineProperty,Tte=Object.defineProperties,Ite=Object.getOwnPropertyDescriptors,Pk=Object.getOwnPropertySymbols,KR=Object.prototype.hasOwnProperty,YR=Object.prototype.propertyIsEnumerable,QR=(l,n,i)=>n in l?Dte(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,EA=(l,n)=>{for(var i in n||(n={}))KR.call(n,i)&&QR(l,i,n[i]);if(Pk)for(var i of Pk(n))YR.call(n,i)&&QR(l,i,n[i]);return l};class ZR extends qR{constructor(n,i={}){super(i),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=Tk(this._save.bind(this),typeof i.saveInterval=="number"?i.saveInterval:5e3),n&&(this._creator=(a,u)=>n.create(a,u)),this._destructor=a=>a.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(n){this._creator=n}setDestructor(n){this._destructor=n}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(n=>{console.error("An error happened during the editor destroying.",n)}).then(()=>{const n={},i=[],a=this._config.rootsAttributes||{},u={};for(const[b,w]of Object.entries(this._data.roots))w.isLoaded?(n[b]="",u[b]=a[b]||{}):i.push(b);const h=(p=EA({},this._config),g={extraPlugins:this._config.extraPlugins||[],lazyRoots:i,rootsAttributes:u,_watchdogInitialData:this._data},Tte(p,Ite(g)));var p,g;return delete h.initialData,h.extraPlugins.push(Mte),this._initUsingData?this.create(n,h,h.context):Sc(this._elementOrData)?this.create(this._elementOrData,h,h.context):this.create(this._editables,h,h.context)}).then(()=>{this._fire("restart")})}create(n=this._elementOrData,i=this._config,a){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=n,this._initUsingData=typeof n=="string"||Object.keys(n).length>0&&typeof Object.values(n)[0]=="string",this._config=this._cloneEditorConfiguration(i)||{},this._config.context=a,this._creator(n,this._config))).then(u=>{this._editor=u,u.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=u.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const n=this._editor;return this._editor=null,n.model.document.off("change:data",this._throttledSave),this._destructor(n)})}_save(){const n=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=n}catch(i){console.error(i,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(n){this._excludedProps=n}_getData(){const n=this._editor,i=n.model.document.roots.filter(g=>g.isAttached()&&g.rootName!="$graveyard"),{plugins:a}=n,u=a.has("CommentsRepository")&&a.get("CommentsRepository"),h=a.has("TrackChanges")&&a.get("TrackChanges"),p={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};i.forEach(g=>{p.roots[g.rootName]={content:JSON.stringify(Array.from(g.getChildren())),attributes:JSON.stringify(Array.from(g.getAttributes())),isLoaded:g._isLoaded}});for(const g of n.model.markers)g._affectsData&&(p.markers[g.name]={rangeJSON:g.getRange().toJSON(),usingOperation:g._managedUsingOperations,affectsData:g._affectsData});return u&&(p.commentThreads=JSON.stringify(u.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),h&&(p.suggestions=JSON.stringify(h.getSuggestions({toJSON:!0,skipNotAttached:!0}))),p}_getEditables(){const n={};for(const i of this.editor.model.document.getRootNames()){const a=this.editor.ui.getEditableElement(i);a&&(n[i]=a)}return n}_isErrorComingFromThisItem(n){return GR(this._editor,n.context,this._excludedProps)}_cloneEditorConfiguration(n){return gC(n,(i,a)=>Sc(i)||a==="context"?i:void 0)}}class Mte{constructor(n){this.editor=n,this._data=n.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",n=>{n.stop(),this.editor.model.enqueueChange({isUndoable:!1},i=>{this._restoreCollaborationData(),this._restoreEditorData(i)}),this.editor.data.fire("ready")},{priority:999})}_createNode(n,i){if("name"in i){const a=n.createElement(i.name,i.attributes);if(i.children)for(const u of i.children)a._appendChild(this._createNode(n,u));return a}return n.createText(i.data,i.attributes)}_restoreEditorData(n){const i=this.editor;Object.entries(this._data.roots).forEach(([a,{content:u,attributes:h}])=>{const p=JSON.parse(u),g=JSON.parse(h),b=i.model.document.getRoot(a);for(const[w,C]of g)n.setAttribute(w,C,b);for(const w of p){const C=this._createNode(n,w);n.insert(C,b,"end")}}),Object.entries(this._data.markers).forEach(([a,u])=>{const{document:h}=i.model,p=u,{rangeJSON:{start:g,end:b}}=p,w=((L,F)=>{var H={};for(var K in L)KR.call(L,K)&&F.indexOf(K)<0&&(H[K]=L[K]);if(L!=null&&Pk)for(var K of Pk(L))F.indexOf(K)<0&&YR.call(L,K)&&(H[K]=L[K]);return H})(p,["rangeJSON"]),C=h.getRoot(g.root),E=n.createPositionFromPath(C,g.path,g.stickiness),M=n.createPositionFromPath(C,b.path,b.stickiness),O=n.createRange(E,M);n.addMarker(a,EA({range:O},w))})}_restoreCollaborationData(){const n=JSON.parse(this._data.commentThreads),i=JSON.parse(this._data.suggestions);n.forEach(a=>{const u=this.editor.config.get("collaboration.channelId"),h=this.editor.plugins.get("CommentsRepository");h.hasCommentThread(a.threadId)&&h.getCommentThread(a.threadId).remove(),h.addCommentThread(EA({channelId:u},a))}),i.forEach(a=>{const u=this.editor.plugins.get("TrackChangesEditing");u.hasSuggestion(a.id)?u.getSuggestion(a.id).attributes=a.attributes:u.addSuggestionData(a)})}}const sf=Symbol("MainQueueId");class Pte{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(n){this._onEmptyCallbacks.push(n)}enqueue(n,i){const a=n===sf;this._activeActions++,this._queues.get(n)||this._queues.set(n,Promise.resolve());const u=(a?Promise.all(this._queues.values()):Promise.all([this._queues.get(sf),this._queues.get(n)])).then(i),h=u.catch(()=>{});return this._queues.set(n,h),u.finally(()=>{this._activeActions--,this._queues.get(n)===h&&this._activeActions===0&&this._onEmptyCallbacks.forEach(p=>p())})}}function JR(l){return Array.isArray(l)?l:[l]}class Nk extends lA(fX){constructor(n,i={}){if(!Rk(n)&&i.initialData!==void 0)throw new R("editor-create-initial-data",null);super(i),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",function(p){return Rk(p)?(g=p,g instanceof HTMLTextAreaElement?g.value:g.innerHTML):p;var g}(n)),Rk(n)&&(this.sourceElement=n),this.model.document.createRoot();const a=!this.config.get("toolbar.shouldNotGroupWhenFull"),u=this.config.get("menuBar"),h=new Ete(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:a,useMenuBar:u.isVisible});this.ui=new Ate(this,h),function(p){if(!da(p.updateSourceElement))throw new R("attachtoform-missing-elementapi-interface",p);const g=p.sourceElement;if(function(b){return!!b&&b.tagName.toLowerCase()==="textarea"}(g)&&g.form){let b;const w=g.form,C=()=>p.updateSourceElement();da(w.submit)&&(b=w.submit,w.submit=()=>{C(),b.apply(w)}),w.addEventListener("submit",C),p.on("destroy",()=>{w.removeEventListener("submit",C),b&&(w.submit=b)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(n,i={}){return new Promise(a=>{const u=new this(n,i);a(u.initPlugins().then(()=>u.ui.init(Rk(n)?n:null)).then(()=>u.data.init(u.config.get("initialData"))).then(()=>u.fire("ready")).then(()=>u))})}}function Rk(l){return Sc(l)}Nk.Context=d5,Nk.EditorWatchdog=ZR,Nk.ContextWatchdog=class extends qR{constructor(l,n={}){super(n),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new Pte,this._watchdogConfig=n,this._creator=i=>l.create(i),this._destructor=i=>i.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(l){this._creator=l}setDestructor(l){this._destructor=l}get context(){return this._context}create(l={}){return this._actionQueues.enqueue(sf,()=>(this._contextConfig=l,this._create()))}getItem(l){return this._getWatchdog(l)._item}getItemState(l){return this._getWatchdog(l).state}add(l){const n=JR(l);return Promise.all(n.map(i=>this._actionQueues.enqueue(i.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let a;if(this._watchdogs.has(i.id))throw new Error(`Item with the given id is already added: '${i.id}'.`);if(i.type==="editor")return a=new ZR(null,this._watchdogConfig),a.setCreator(i.creator),a._setExcludedProperties(this._contextProps),i.destructor&&a.setDestructor(i.destructor),this._watchdogs.set(i.id,a),a.on("error",(u,{error:h,causesRestart:p})=>{this._fire("itemError",{itemId:i.id,error:h}),p&&this._actionQueues.enqueue(i.id,()=>new Promise(g=>{const b=()=>{a.off("restart",b),this._fire("itemRestart",{itemId:i.id}),g()};a.on("restart",b)}))}),a.create(i.sourceElementOrData,i.config,this._context);throw new Error(`Not supported item type: '${i.type}'.`)})))}remove(l){const n=JR(l);return Promise.all(n.map(i=>this._actionQueues.enqueue(i,()=>{const a=this._getWatchdog(i);return this._watchdogs.delete(i),a.destroy()})))}destroy(){return this._actionQueues.enqueue(sf,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(sf,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(l=>{console.error("An error happened during destroying the context or items.",l)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(l=>(this._context=l,this._contextProps=xA(this._context),Promise.all(Array.from(this._watchdogs.values()).map(n=>(n._setExcludedProperties(this._contextProps),n.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const l=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(n=>n.destroy())).then(()=>this._destructor(l))})}_getWatchdog(l){const n=this._watchdogs.get(l);if(!n)throw new Error(`Item with the given id was not registered: ${l}.`);return n}_isErrorComingFromThisItem(l){for(const n of this._watchdogs.values())if(n._isErrorComingFromThisItem(l))return!1;return GR(this._context,l.context)}};class af extends ul{constructor(n){super(n),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const i=this.document;function a(u){return(h,p)=>{p.preventDefault();const g=p.dropRange?[p.dropRange]:null,b=new T(i,u);i.fire(b,{dataTransfer:p.dataTransfer,method:h.name,targetRanges:g,target:p.target,domEvent:p.domEvent}),b.stop.called&&p.stopPropagation()}}this.listenTo(i,"paste",a("clipboardInput"),{priority:"low"}),this.listenTo(i,"drop",a("clipboardInput"),{priority:"low"}),this.listenTo(i,"dragover",a("dragging"),{priority:"low"})}onDomEvent(n){const i="clipboardData"in n?n.clipboardData:n.dataTransfer,a=n.type=="drop"||n.type=="paste",u={dataTransfer:new Y5(i,{cacheFiles:a})};n.type!="drop"&&n.type!="dragover"||(u.dropRange=function(h,p){const g=p.target.ownerDocument,b=p.clientX,w=p.clientY;let C;return g.caretRangeFromPoint&&g.caretRangeFromPoint(b,w)?C=g.caretRangeFromPoint(b,w):p.rangeParent&&(C=g.createRange(),C.setStart(p.rangeParent,p.rangeOffset),C.collapse(!0)),C?h.domConverter.domRangeToView(C):null}(this.view,n)),this.fire(n.type,n,u)}}const XR=["figcaption","li"],e4=["ol","ul"];function t4(l){if(l.is("$text")||l.is("$textProxy"))return l.data;if(l.is("element","img")&&l.hasAttribute("alt"))return l.getAttribute("alt");if(l.is("element","br"))return`
`;let n="",i=null;for(const a of l.getChildren())n+=Nte(a,i)+t4(a),i=a;return n}function Nte(l,n){return n?l.is("element","li")&&!l.isEmpty&&l.getChild(0).is("containerElement")||e4.includes(l.name)&&e4.includes(n.name)?`

`:l.is("containerElement")||n.is("containerElement")?XR.includes(l.name)||XR.includes(n.name)?`
`:`

`:"":""}const Rte=function(l,n){return l&&UM(l,n,Bp)},Ote=function(l,n,i,a){var u=i.length,h=u;if(l==null)return!h;for(l=Object(l);u--;){var p=i[u];if(p[2]?p[1]!==l[p[0]]:!(p[0]in l))return!1}for(;++u<h;){var g=(p=i[u])[0],b=l[g],w=p[1];if(p[2]){if(b===void 0&&!(g in l))return!1}else{var C=new od,E;if(!(E===void 0?pk(w,b,3,a,C):E))return!1}}return!0},n4=function(l){return l==l&&!me(l)},Bte=function(l){for(var n=Bp(l),i=n.length;i--;){var a=n[i],u=l[a];n[i]=[a,u,n4(u)]}return n},r4=function(l,n){return function(i){return i!=null&&i[l]===n&&(n!==void 0||l in Object(i))}},Lte=function(l){var n=Bte(l);return n.length==1&&n[0][2]?r4(n[0][0],n[0][1]):function(i){return i===l||Ote(i,l,n)}},jte=function(l,n){return l!=null&&n in Object(l)},Fte=function(l,n,i){for(var a=-1,u=(n=ok(n,l)).length,h=!1;++a<u;){var p=dd(n[a]);if(!(h=l!=null&&i(l,p)))break;l=l[p]}return h||++a!=u?h:!!(u=l==null?0:l.length)&&rC(u)&&Ub(p,u)&&(un(l)||Vb(l))},zte=function(l,n){return l!=null&&Fte(l,n,jte)},$te=function(l,n){return IC(l)&&n4(n)?r4(dd(l),n):function(i){var a=Up(i,l);return a===void 0&&a===n?zte(i,l):pk(n,a,3)}},Vte=function(l){return function(n){return n==null?void 0:n[l]}},Ute=function(l){return function(n){return NC(n,l)}},Hte=function(l){return IC(l)?Vte(dd(l)):Ute(l)},Wte=function(l){return typeof l=="function"?l:l==null?cl:typeof l=="object"?un(l)?$te(l[0],l[1]):Lte(l):Hte(l)},qte=function(l,n){var i={};return n=Wte(n),Rte(l,function(a,u,h){$b(i,u,n(a,u,h))}),i};var Gte=Object.defineProperty,Kte=Object.defineProperties,Yte=Object.getOwnPropertyDescriptors,o4=Object.getOwnPropertySymbols,Qte=Object.prototype.hasOwnProperty,Zte=Object.prototype.propertyIsEnumerable,i4=(l,n,i)=>n in l?Gte(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i;class lf extends ge{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(n,i){this._markersToCopy.set(n,i)}_copySelectedFragmentWithMarkers(n,i,a=u=>u.model.getSelectedContent(u.model.document.selection)){return this.editor.model.change(u=>{const h=u.model.document.selection;u.setSelection(i);const p=this._insertFakeMarkersIntoSelection(u,u.model.document.selection,n),g=a(u),b=this._removeFakeMarkersInsideElement(u,g);for(const[w,C]of Object.entries(p)){b[w]||(b[w]=u.createRangeIn(g));for(const E of C)u.remove(E)}g.markers.clear();for(const[w,C]of Object.entries(b))g.markers.set(w,C);return u.setSelection(h),g})}_pasteMarkersIntoTransformedElement(n,i){const a=this._getPasteMarkersFromRangeMap(n);return this.editor.model.change(u=>{const h=this._insertFakeMarkersElements(u,a),p=i(u),g=this._removeFakeMarkersInsideElement(u,p);for(const b of Object.values(h).flat())u.remove(b);for(const[b,w]of Object.entries(g))u.model.markers.has(b)||u.addMarker(b,{usingOperation:!0,affectsData:!0,range:w});return p})}_pasteFragmentWithMarkers(n){const i=this._getPasteMarkersFromRangeMap(n.markers);n.markers.clear();for(const a of i)n.markers.set(a.name,a.range);return this.editor.model.insertContent(n)}_forceMarkersCopy(n,i,a={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const u=this._markersToCopy.get(n);this._markersToCopy.set(n,a),i(),u?this._markersToCopy.set(n,u):this._markersToCopy.delete(n)}_isMarkerCopyable(n,i){const a=this._getMarkerClipboardConfig(n);if(!a)return!1;if(!i)return!0;const{allowedActions:u}=a;return u==="all"||u.includes(i)}_hasMarkerConfiguration(n){return!!this._getMarkerClipboardConfig(n)}_getMarkerClipboardConfig(n){const[i]=n.split(":");return this._markersToCopy.get(i)||null}_insertFakeMarkersIntoSelection(n,i,a){const u=this._getCopyableMarkersFromSelection(n,i,a);return this._insertFakeMarkersElements(n,u)}_getCopyableMarkersFromSelection(n,i,a){const u=Array.from(i.getRanges()),h=new Set(u.flatMap(p=>Array.from(n.model.markers.getMarkersIntersectingRange(p))));return Array.from(h).filter(p=>{if(!this._isMarkerCopyable(p.name,a))return!1;const{copyPartiallySelected:g}=this._getMarkerClipboardConfig(p.name);if(!g){const b=p.getRange();return u.some(w=>w.containsRange(b,!0))}return!0}).map(p=>({name:a==="dragstart"?this._getUniqueMarkerName(p.name):p.name,range:p.getRange()}))}_getPasteMarkersFromRangeMap(n,i=null){const{model:a}=this.editor;return(n instanceof Map?Array.from(n.entries()):Object.entries(n)).flatMap(([u,h])=>{if(!this._hasMarkerConfiguration(u))return[{name:u,range:h}];if(this._isMarkerCopyable(u,i)){const p=this._getMarkerClipboardConfig(u),g=a.markers.has(u)&&a.markers.get(u).getRange().root.rootName==="$graveyard";return(p.duplicateOnPaste||g)&&(u=this._getUniqueMarkerName(u)),[{name:u,range:h}]}return[]})}_insertFakeMarkersElements(n,i){const a={},u=i.flatMap(h=>{const{start:p,end:g}=h.range;return[{position:p,marker:h,type:"start"},{position:g,marker:h,type:"end"}]}).sort(({position:h},{position:p})=>h.isBefore(p)?1:-1);for(const{position:h,marker:p,type:g}of u){const b=n.createElement("$marker",{"data-name":p.name,"data-type":g});a[p.name]||(a[p.name]=[]),a[p.name].push(b),n.insert(b,h)}return a}_removeFakeMarkersInsideElement(n,i){const a=this._getAllFakeMarkersFromElement(n,i).reduce((u,h)=>{const p=h.markerElement&&n.createPositionBefore(h.markerElement);let g=u[h.name],b=!1;g&&g.start&&g.end&&(this._getMarkerClipboardConfig(h.name).duplicateOnPaste?u[this._getUniqueMarkerName(h.name)]=u[h.name]:b=!0,g=null);var w,C;return b||(u[h.name]=(w=((E,M)=>{for(var O in M||(M={}))Qte.call(M,O)&&i4(E,O,M[O]);if(o4)for(var O of o4(M))Zte.call(M,O)&&i4(E,O,M[O]);return E})({},g),C={[h.type]:p},Kte(w,Yte(C)))),h.markerElement&&n.remove(h.markerElement),u},{});return qte(a,u=>new se(u.start||n.createPositionFromPath(i,[0]),u.end||n.createPositionAt(i,"end")))}_getAllFakeMarkersFromElement(n,i){const a=Array.from(n.createRangeIn(i)).flatMap(({item:p})=>{if(!p.is("element","$marker"))return[];const g=p.getAttribute("data-name"),b=p.getAttribute("data-type");return[{markerElement:p,name:g,type:b}]}),u=[],h=[];for(const p of a)p.type==="end"&&(a.some(g=>g.name===p.name&&g.type==="start")||u.push({markerElement:null,name:p.name,type:"start"})),p.type==="start"&&(a.some(g=>g.name===p.name&&g.type==="end")||h.unshift({markerElement:null,name:p.name,type:"end"}));return[...u,...a,...h]}_getUniqueMarkerName(n){const i=n.split(":"),a=N().substring(1,6);return i.length===3?`${i.slice(0,2).join(":")}:${a}`:`${i.join(":")}:${a}`}}class wi extends ge{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[lf]}init(){this.editor.editing.view.addObserver(af),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(n,i,a){const u=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:a==="cut"},()=>{const h=u._copySelectedFragmentWithMarkers(a,i);this.fire("outputTransformation",{dataTransfer:n,content:h,method:a})})}_setupPasteDrop(){const n=this.editor,i=n.model,a=n.editing.view,u=a.document,h=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(u,"clipboardInput",(p,g)=>{g.method!="paste"||n.model.canEditAt(n.model.document.selection)||p.stop()},{priority:"highest"}),this.listenTo(u,"clipboardInput",(p,g)=>{const b=g.dataTransfer;let w;if(g.content)w=g.content;else{let M="";b.getData("text/html")?M=function(O){return O.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(L,F)=>F.length==1?" ":F).replace(/<!--[\s\S]*?-->/g,"")}(b.getData("text/html")):b.getData("text/plain")&&(((C=(C=b.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||C.includes("<br>"))&&(C=`<p>${C}</p>`),M=C),w=this.editor.data.htmlProcessor.toView(M)}var C;const E=new T(this,"inputTransformation");this.fire(E,{content:w,dataTransfer:b,targetRanges:g.targetRanges,method:g.method}),E.stop.called&&p.stop(),a.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(p,g)=>{if(g.content.isEmpty)return;const b=this.editor.data.toModel(g.content,"$clipboardHolder");b.childCount!=0&&(p.stop(),i.change(()=>{this.fire("contentInsertion",{content:b,method:g.method,dataTransfer:g.dataTransfer,targetRanges:g.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(p,g)=>{g.resultRange=h._pasteFragmentWithMarkers(g.content)},{priority:"low"})}_setupCopyCut(){const n=this.editor,i=n.model.document,a=n.editing.view.document,u=(h,p)=>{const g=p.dataTransfer;p.preventDefault(),this._fireOutputTransformationEvent(g,i.selection,h.name)};this.listenTo(a,"copy",u,{priority:"low"}),this.listenTo(a,"cut",(h,p)=>{n.model.canEditAt(n.model.document.selection)?u(h,p):p.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(h,p)=>{const g=n.data.toView(p.content);a.fire("clipboardOutput",{dataTransfer:p.dataTransfer,content:g,method:p.method})},{priority:"low"}),this.listenTo(a,"clipboardOutput",(h,p)=>{p.content.isEmpty||(p.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(p.content)),p.dataTransfer.setData("text/plain",t4(p.content))),p.method=="cut"&&n.model.deleteContent(i.selection)},{priority:"low"})}}class s4{constructor(n,i=20){this._batch=null,this.model=n,this._size=0,this.limit=i,this._isLocked=!1,this._changeCallback=(a,u)=>{u.isLocal&&u.isUndoable&&u!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(n){this._size+=n,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(n=!1){this.isLocked&&!n||(this._batch=null,this._size=0)}}class Jte extends wt{constructor(n,i){super(n),this._buffer=new s4(n.model,i),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(n={}){const i=this.editor.model,a=i.document,u=n.text||"",h=u.length;let p=a.selection;if(n.selection?p=n.selection:n.range&&(p=i.createSelection(n.range)),!i.canEditAt(p))return;const g=n.resultRange;i.enqueueChange(this._buffer.batch,b=>{this._buffer.lock();const w=Array.from(a.selection.getAttributes());i.deleteContent(p),u&&i.insertContent(b.createText(u,w),p),g?b.setSelection(g):p.is("documentSelection")||b.setSelection(p),this._buffer.unlock(),this._buffer.input(h)})}}const a4=["insertText","insertReplacementText"];class Xte extends As{constructor(n){super(n),this.focusObserver=n.getObserver(fk),v.isAndroid&&a4.push("insertCompositionText");const i=n.document;i.on("beforeinput",(a,u)=>{if(!this.isEnabled)return;const{data:h,targetRanges:p,inputType:g,domEvent:b}=u;if(!a4.includes(g))return;this.focusObserver.flush();const w=new T(i,"insertText");i.fire(w,new md(n,b,{text:h,selection:n.createSelection(p)})),w.stop.called&&a.stop()}),i.on("compositionend",(a,{data:u,domEvent:h})=>{this.isEnabled&&!v.isAndroid&&u&&i.fire("insertText",new md(n,h,{text:u,selection:i.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class l4 extends ge{static get pluginName(){return"Input"}init(){const n=this.editor,i=n.model,a=n.editing.view,u=i.document.selection;a.addObserver(Xte);const h=new Jte(n,n.config.get("typing.undoStep")||20);n.commands.add("insertText",h),n.commands.add("input",h),this.listenTo(a.document,"insertText",(p,g)=>{a.document.isComposing||g.preventDefault();const{text:b,selection:w,resultRange:C}=g,E=Array.from(w.getRanges()).map(L=>n.editing.mapper.toModelRange(L));let M=b;if(v.isAndroid){const L=Array.from(E[0].getItems()).reduce((F,H)=>F+(H.is("$textProxy")?H.data:""),"");L&&(L.length<=M.length?M.startsWith(L)&&(M=M.substring(L.length),E[0].start=E[0].start.getShiftedBy(L.length)):L.startsWith(M)&&(E[0].start=E[0].start.getShiftedBy(M.length),M=""))}const O={text:M,selection:i.createSelection(E)};C&&(O.resultRange=n.editing.mapper.toModelRange(C)),n.execute("insertText",O),a.scrollToTheSelection()}),v.isAndroid?this.listenTo(a.document,"keydown",(p,g)=>{!u.isCollapsed&&g.keyCode==229&&a.document.isComposing&&c4(i,h)}):this.listenTo(a.document,"compositionstart",()=>{u.isCollapsed||c4(i,h)})}}function c4(l,n){if(!n.isEnabled)return;const i=n.buffer;i.lock(),l.enqueueChange(i.batch,()=>{l.deleteContent(l.document.selection)}),i.unlock()}class u4 extends wt{constructor(n,i){super(n),this.direction=i,this._buffer=new s4(n.model,n.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(n={}){const i=this.editor.model,a=i.document;i.enqueueChange(this._buffer.batch,u=>{this._buffer.lock();const h=u.createSelection(n.selection||a.selection);if(!i.canEditAt(h))return;const p=n.sequence||1,g=h.isCollapsed;if(h.isCollapsed&&i.modifySelection(h,{direction:this.direction,unit:n.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(p))return void this._replaceEntireContentWithParagraph(u);if(this._shouldReplaceFirstBlockWithParagraph(h,p))return void this.editor.execute("paragraph",{selection:h});if(h.isCollapsed)return;let b=0;h.getFirstRange().getMinimalFlatRanges().forEach(w=>{b+=dt(w.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),i.deleteContent(h,{doNotResetEntireContent:g,direction:this.direction}),this._buffer.input(b),u.setSelection(h),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(n){if(n>1)return!1;const i=this.editor.model,a=i.document.selection,u=i.schema.getLimitElement(a);if(!(a.isCollapsed&&a.containsEntireContent(u))||!i.schema.checkChild(u,"paragraph"))return!1;const h=u.getChild(0);return!h||!h.is("element","paragraph")}_replaceEntireContentWithParagraph(n){const i=this.editor.model,a=i.document.selection,u=i.schema.getLimitElement(a),h=n.createElement("paragraph");n.remove(n.createRangeIn(u)),n.insert(h,u),n.setSelection(h,0)}_shouldReplaceFirstBlockWithParagraph(n,i){const a=this.editor.model;if(i>1||this.direction!="backward"||!n.isCollapsed)return!1;const u=n.getFirstPosition(),h=a.schema.getLimitElement(u),p=h.getChild(0);return u.parent==p&&!!n.containsEntireContent(p)&&!!a.schema.checkChild(h,"paragraph")&&p.name!="paragraph"}}const d4="word",hl="selection",Ad="backward",cf="forward",h4={deleteContent:{unit:hl,direction:Ad},deleteContentBackward:{unit:"codePoint",direction:Ad},deleteWordBackward:{unit:d4,direction:Ad},deleteHardLineBackward:{unit:hl,direction:Ad},deleteSoftLineBackward:{unit:hl,direction:Ad},deleteContentForward:{unit:"character",direction:cf},deleteWordForward:{unit:d4,direction:cf},deleteHardLineForward:{unit:hl,direction:cf},deleteSoftLineForward:{unit:hl,direction:cf}};class ene extends As{constructor(n){super(n);const i=n.document;let a=0;i.on("keydown",()=>{a++}),i.on("keyup",()=>{a=0}),i.on("beforeinput",(u,h)=>{if(!this.isEnabled)return;const{targetRanges:p,domEvent:g,inputType:b}=h,w=h4[b];if(!w)return;const C={direction:w.direction,unit:w.unit,sequence:a};C.unit==hl&&(C.selectionToRemove=n.createSelection(p[0])),b==="deleteContentBackward"&&(v.isAndroid&&(C.sequence=1),function(M){if(M.length!=1||M[0].isCollapsed)return!1;const O=M[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let L=0;for(const{nextPosition:F,item:H}of O){if(F.parent.is("$text")){const K=F.parent.data,X=F.offset;if(CC(K,X)||AC(K,X)||KM(K,X))continue;L++}else(H.is("containerElement")||H.is("emptyElement"))&&L++;if(L>1)return!0}return!1}(p)&&(C.unit=hl,C.selectionToRemove=n.createSelection(p)));const E=new hd(i,"delete",p[0]);i.fire(E,new md(n,g,C)),E.stop.called&&u.stop()}),v.isBlink&&function(u){const h=u.view,p=h.document;let g=null,b=!1;function w(E){return E==Mt.backspace||E==Mt.delete}function C(E){return E==Mt.backspace?Ad:cf}p.on("keydown",(E,{keyCode:M})=>{g=M,b=!1}),p.on("keyup",(E,{keyCode:M,domEvent:O})=>{const L=p.selection,F=u.isEnabled&&M==g&&w(M)&&!L.isCollapsed&&!b;if(g=null,F){const H=L.getFirstRange(),K=new hd(p,"delete",H),X={unit:hl,direction:C(M),selectionToRemove:L};p.fire(K,new md(h,O,X))}}),p.on("beforeinput",(E,{inputType:M})=>{const O=h4[M];w(g)&&O&&O.direction==C(g)&&(b=!0)},{priority:"high"}),p.on("beforeinput",(E,{inputType:M,data:O})=>{g==Mt.delete&&M=="insertText"&&O==""&&E.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class va extends ge{static get pluginName(){return"Delete"}init(){const n=this.editor,i=n.editing.view,a=i.document,u=n.model.document;i.addObserver(ene),this._undoOnBackspace=!1;const h=new u4(n,"forward");n.commands.add("deleteForward",h),n.commands.add("forwardDelete",h),n.commands.add("delete",new u4(n,"backward")),this.listenTo(a,"delete",(p,g)=>{a.isComposing||g.preventDefault();const{direction:b,sequence:w,selectionToRemove:C,unit:E}=g,M=b==="forward"?"deleteForward":"delete",O={sequence:w};if(E=="selection"){const L=Array.from(C.getRanges()).map(F=>n.editing.mapper.toModelRange(F));O.selection=n.model.createSelection(L)}else O.unit=E;n.execute(M,O),i.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(a,"delete",(p,g)=>{this._undoOnBackspace&&g.direction=="backward"&&g.sequence==1&&g.unit=="codePoint"&&(this._undoOnBackspace=!1,n.execute("undo"),g.preventDefault(),p.stop())},{context:"$capture"}),this.listenTo(u,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class tne extends ge{static get requires(){return[l4,va]}static get pluginName(){return"Typing"}}function p4(l,n){let i=l.start;return{text:Array.from(l.getWalker({ignoreElementEnd:!1})).reduce((a,{item:u})=>u.is("$text")||u.is("$textProxy")?a+u.data:(i=n.createPositionAfter(u),""),""),range:n.createRange(i,l.end)}}class f4 extends be(){constructor(n,i){super(),this.model=n,this.testCallback=i,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(n.document.selection),this.stopListening(n.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const n=this.model.document;this.listenTo(n.selection,"change:range",(i,{directChange:a})=>{a&&(n.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(n,"change:data",(i,a)=>{!a.isUndo&&a.isLocal&&this._evaluateTextBeforeSelection("data",{batch:a})})}_evaluateTextBeforeSelection(n,i={}){const a=this.model,u=a.document.selection,h=a.createRange(a.createPositionAt(u.focus.parent,0),u.focus),{text:p,range:g}=p4(h,a),b=this.testCallback(p);if(!b&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!b,b){const w=Object.assign(i,{text:p,range:g});typeof b=="object"&&Object.assign(w,b),this.fire(`matched:${n}`,w)}}}class m4 extends ge{constructor(n){super(n),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const n=this.editor,i=n.model,a=n.editing.view,u=n.locale,h=i.document.selection;this.listenTo(a.document,"arrowKey",(p,g)=>{if(!h.isCollapsed||g.shiftKey||g.altKey||g.ctrlKey)return;const b=g.keyCode==Mt.arrowright,w=g.keyCode==Mt.arrowleft;if(!b&&!w)return;const C=u.contentLanguageDirection;let E=!1;E=C==="ltr"&&b||C==="rtl"&&w?this._handleForwardMovement(g):this._handleBackwardMovement(g),E===!0&&p.stop()},{context:"$text",priority:"highest"}),this.listenTo(h,"change:range",(p,g)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!g.directChange&&yi(h.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(n){this.attributes.add(n)}_handleForwardMovement(n){const i=this.attributes,a=this.editor.model,u=a.document.selection,h=u.getFirstPosition();return!this._isGravityOverridden&&(!h.isAtStart||!wa(u,i))&&!!yi(h,i)&&(df(n),wa(u,i)&&yi(h,i,!0)?uf(a,i):this._overrideGravity(),!0)}_handleBackwardMovement(n){const i=this.attributes,a=this.editor.model,u=a.document.selection,h=u.getFirstPosition();return this._isGravityOverridden?(df(n),this._restoreGravity(),yi(h,i,!0)?uf(a,i):Ok(a,i,h),!0):h.isAtStart?!!wa(u,i)&&(df(n),Ok(a,i,h),!0):!wa(u,i)&&yi(h,i,!0)?(df(n),Ok(a,i,h),!0):!!g4(h,i)&&(h.isAtEnd&&!wa(u,i)&&yi(h,i)?(df(n),Ok(a,i,h),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const n=this.editor,i=n.model,a=i.document.selection,u=n.editing.view.document;n.editing.view.addObserver(sA);let h=!1;this.listenTo(u,"mousedown",()=>{h=!0}),this.listenTo(u,"selectionChange",()=>{const p=this.attributes;if(!h||(h=!1,!a.isCollapsed)||!wa(a,p))return;const g=a.getFirstPosition();yi(g,p)&&(g.isAtStart||yi(g,p,!0)?uf(i,p):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const n=this.editor.model,i=n.document.selection,a=this.attributes;this.listenTo(n,"insertContent",()=>{const u=i.getFirstPosition();wa(i,a)&&yi(u,a)&&uf(n,a)},{priority:"low"})}_handleDeleteContentAfterNode(){const n=this.editor,i=n.model,a=i.document.selection,u=n.editing.view;let h=!1,p=!1;this.listenTo(u.document,"delete",(g,b)=>{h=b.direction==="backward"},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{if(!h)return;const g=a.getFirstPosition();p=wa(a,this.attributes)&&!g4(g,this.attributes)},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{h&&(h=!1,p||n.model.enqueueChange(()=>{const g=a.getFirstPosition();wa(a,this.attributes)&&yi(g,this.attributes)&&(g.isAtStart||yi(g,this.attributes,!0)?uf(i,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(n=>n.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(n=>{n.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function wa(l,n){for(const i of n)if(l.hasAttribute(i))return!0;return!1}function Ok(l,n,i){const a=i.nodeBefore;l.change(u=>{if(a){const h=[],p=l.schema.isObject(a)&&l.schema.isInline(a);for(const[g,b]of a.getAttributes())!l.schema.checkAttribute("$text",g)||p&&l.schema.getAttributeProperties(g).copyFromObject===!1||h.push([g,b]);u.setSelectionAttribute(h)}else u.removeSelectionAttribute(n)})}function uf(l,n){l.change(i=>{i.removeSelectionAttribute(n)})}function df(l){l.preventDefault()}function g4(l,n){return yi(l.getShiftedBy(-1),n)}function yi(l,n,i=!1){const{nodeBefore:a,nodeAfter:u}=l;for(const h of n){const p=a?a.getAttribute(h):void 0,g=u?u.getAttribute(h):void 0;if((!i||p!==void 0&&g!==void 0)&&g!==p)return!0}return!1}const b4={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:xd('"'),to:[null,"",null,""]},quotesSecondary:{from:xd("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:xd("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:xd('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:xd('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:xd("'"),to:[null,"",null,""]}},k4={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},nne=["symbols","mathematical","typography","quotes"];function rne(l){return typeof l=="string"?new RegExp(`(${wR(l)})$`):l}function one(l){return typeof l=="string"?()=>[l]:l instanceof Array?()=>l:l}function ine(l){return(l.textNode?l.textNode:l.nodeAfter).getAttributes()}function xd(l){return new RegExp(`(^|\\s)(${l})([^${l}]*)(${l})$`)}function Bk(l,n,i,a){return a.createRange(v4(l,n,i,!0,a),v4(l,n,i,!1,a))}function v4(l,n,i,a,u){let h=l.textNode||(a?l.nodeBefore:l.nodeAfter),p=null;for(;h&&h.getAttribute(n)==i;)p=h,h=a?h.previousSibling:h.nextSibling;return p?u.createPositionAt(p,a?"before":"after"):l}function*w4(l,n){for(const i of n)i&&l.getAttributeProperties(i[0]).copyOnEnter&&(yield i)}class sne extends wt{execute(){this.editor.model.change(n=>{this.enterBlock(n),this.fire("afterExecute",{writer:n})})}enterBlock(n){const i=this.editor.model,a=i.document.selection,u=i.schema,h=a.isCollapsed,p=a.getFirstRange(),g=p.start.parent,b=p.end.parent;if(u.isLimit(g)||u.isLimit(b))return h||g!=b||i.deleteContent(a),!1;if(h){const w=w4(n.model.schema,a.getAttributes());return y4(n,p.start),n.setSelectionAttribute(w),!0}{const w=!(p.start.isAtStart&&p.end.isAtEnd),C=g==b;if(i.deleteContent(a,{leaveUnmerged:w}),w){if(C)return y4(n,a.focus),!0;n.setSelection(b,0)}}return!1}}function y4(l,n){l.split(n),l.setSelection(n.parent.nextSibling,0)}const ane={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class _4 extends As{constructor(n){super(n);const i=this.document;let a=!1;i.on("keydown",(u,h)=>{a=h.shiftKey}),i.on("beforeinput",(u,h)=>{if(!this.isEnabled)return;let p=h.inputType;v.isSafari&&a&&p=="insertParagraph"&&(p="insertLineBreak");const g=h.domEvent,b=ane[p];if(!b)return;const w=new hd(i,"enter",h.targetRanges[0]);i.fire(w,new md(n,g,{isSoft:b.isSoft})),w.stop.called&&u.stop()})}observe(){}stopObserving(){}}class Lk extends ge{static get pluginName(){return"Enter"}init(){const n=this.editor,i=n.editing.view,a=i.document,u=this.editor.t;i.addObserver(_4),n.commands.add("enter",new sne(n)),this.listenTo(a,"enter",(h,p)=>{a.isComposing||p.preventDefault(),p.isSoft||(n.execute("enter"),i.scrollToTheSelection())},{priority:"low"}),n.accessibility.addKeystrokeInfos({keystrokes:[{label:u("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class lne extends wt{execute(){const n=this.editor.model,i=n.document;n.change(a=>{(function(u,h,p){const g=p.isCollapsed,b=p.getFirstRange(),w=b.start.parent,C=b.end.parent,E=w==C;if(g){const M=w4(u.schema,p.getAttributes());C4(u,h,b.end),h.removeSelectionAttribute(p.getAttributeKeys()),h.setSelectionAttribute(M)}else{const M=!(b.start.isAtStart&&b.end.isAtEnd);u.deleteContent(p,{leaveUnmerged:M}),E?C4(u,h,p.focus):M&&h.setSelection(C,0)}})(n,a,i.selection),this.fire("afterExecute",{writer:a})})}refresh(){const n=this.editor.model,i=n.document;this.isEnabled=function(a,u){if(u.rangeCount>1)return!1;const h=u.anchor;if(!h||!a.checkChild(h,"softBreak"))return!1;const p=u.getFirstRange(),g=p.start.parent,b=p.end.parent;return!((SA(g,a)||SA(b,a))&&g!==b)}(n.schema,i.selection)}}function C4(l,n,i){const a=n.createElement("softBreak");l.insertContent(a,i),n.setSelection(a,"after")}function SA(l,n){return!l.is("rootElement")&&(n.isLimit(l)||SA(l.parent,n))}class cne extends ge{static get pluginName(){return"ShiftEnter"}init(){const n=this.editor,i=n.model.schema,a=n.conversion,u=n.editing.view,h=u.document,p=this.editor.t;i.register("softBreak",{allowWhere:"$text",isInline:!0}),a.for("upcast").elementToElement({model:"softBreak",view:"br"}),a.for("downcast").elementToElement({model:"softBreak",view:(g,{writer:b})=>b.createEmptyElement("br")}),u.addObserver(_4),n.commands.add("shiftEnter",new lne(n)),this.listenTo(h,"enter",(g,b)=>{h.isComposing||b.preventDefault(),b.isSoft&&(n.execute("shiftEnter"),u.scrollToTheSelection())},{priority:"low"}),n.accessibility.addKeystrokeInfos({keystrokes:[{label:p("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class une extends G(){constructor(){super(...arguments),this._stack=[]}add(n,i){const a=this._stack,u=a[0];this._insertDescriptor(n);const h=a[0];u===h||DA(u,h)||this.fire("change:top",{oldDescriptor:u,newDescriptor:h,writer:i})}remove(n,i){const a=this._stack,u=a[0];this._removeDescriptor(n);const h=a[0];u===h||DA(u,h)||this.fire("change:top",{oldDescriptor:u,newDescriptor:h,writer:i})}_insertDescriptor(n){const i=this._stack,a=i.findIndex(h=>h.id===n.id);if(DA(n,i[a]))return;a>-1&&i.splice(a,1);let u=0;for(;i[u]&&dne(i[u],n);)u++;i.splice(u,0,n)}_removeDescriptor(n){const i=this._stack,a=i.findIndex(u=>u.id===n);a>-1&&i.splice(a,1)}}function DA(l,n){return l&&n&&l.priority==n.priority&&jk(l.classes)==jk(n.classes)}function dne(l,n){return l.priority>n.priority||!(l.priority<n.priority)&&jk(l.classes)>jk(n.classes)}function jk(l){return Array.isArray(l)?l.sort().join(","):l}const hne='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',pne="ck-widget",A4="ck-widget_selected";function tr(l){return!!l.is("element")&&!!l.getCustomProperty("widget")}function TA(l,n,i={}){if(!l.is("containerElement"))throw new R("widget-to-widget-wrong-element-type",null,{element:l});return n.setAttribute("contenteditable","false",l),n.addClass(pne,l),n.setCustomProperty("widget",!0,l),l.getFillerOffset=gne,n.setCustomProperty("widgetLabel",[],l),i.label&&function(a,u){a.getCustomProperty("widgetLabel").push(u)}(l,i.label),i.hasSelectionHandle&&function(a,u){const h=u.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(p){const g=this.toDomElement(p),b=new ga;return b.set("content",hne),b.render(),g.appendChild(b.element),g});u.insert(u.createPositionAt(a,0),h),u.addClass(["ck-widget_with-selection-handle"],a)}(l,n),x4(l,n),l}function fne(l,n,i){if(n.classes&&i.addClass(fn(n.classes),l),n.attributes)for(const a in n.attributes)i.setAttribute(a,n.attributes[a],l)}function mne(l,n,i){if(n.classes&&i.removeClass(fn(n.classes),l),n.attributes)for(const a in n.attributes)i.removeAttribute(a,l)}function x4(l,n,i=fne,a=mne){const u=new une;u.on("change:top",(h,p)=>{p.oldDescriptor&&a(l,p.oldDescriptor,p.writer),p.newDescriptor&&i(l,p.newDescriptor,p.writer)}),n.setCustomProperty("addHighlight",(h,p,g)=>u.add(p,g),l),n.setCustomProperty("removeHighlight",(h,p,g)=>u.remove(p,g),l)}function E4(l,n,i={}){return n.addClass(["ck-editor__editable","ck-editor__nested-editable"],l),n.setAttribute("role","textbox",l),n.setAttribute("tabindex","-1",l),i.label&&n.setAttribute("aria-label",i.label,l),n.setAttribute("contenteditable",l.isReadOnly?"false":"true",l),l.on("change:isReadOnly",(a,u,h)=>{n.setAttribute("contenteditable",h?"false":"true",l)}),l.on("change:isFocused",(a,u,h)=>{h?n.addClass("ck-editor__nested-editable_focused",l):n.removeClass("ck-editor__nested-editable_focused",l)}),x4(l,n),l}function S4(l,n){const i=l.getSelectedElement();if(i){const a=pl(l);if(a)return n.createRange(n.createPositionAt(i,a))}return n.schema.findOptimalInsertionRange(l)}function gne(){return null}const ya="widget-type-around";function Fc(l,n,i){return!!l&&tr(l)&&!i.isInline(n)}function pl(l){return l.getAttribute(ya)}var D4=s(8508),bne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(D4.A,bne),D4.A.locals;const T4=["before","after"],kne=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,I4="ck-widget__type-around_disabled";class vne extends ge{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Lk,va]}init(){const n=this.editor,i=n.editing.view;this.on("change:isEnabled",(a,u,h)=>{i.change(p=>{for(const g of i.document.roots)h?p.removeClass(I4,g):p.addClass(I4,g)}),h||n.model.change(p=>{p.removeSelectionAttribute(ya)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(n,i){const a=this.editor,u=a.editing.view,h=a.model.schema.getAttributesWithProperty(n,"copyOnReplace",!0);a.execute("insertParagraph",{position:a.model.createPositionAt(n,i),attributes:h}),u.focus(),u.scrollToTheSelection()}_listenToIfEnabled(n,i,a,u){this.listenTo(n,i,(...h)=>{this.isEnabled&&a(...h)},u)}_insertParagraphAccordingToFakeCaretPosition(){const n=this.editor.model.document.selection,i=pl(n);if(!i)return!1;const a=n.getSelectedElement();return this._insertParagraph(a,i),!0}_enableTypeAroundUIInjection(){const n=this.editor,i=n.model.schema,a=n.locale.t,u={before:a("Insert paragraph before block"),after:a("Insert paragraph after block")};n.editing.downcastDispatcher.on("insert",(h,p,g)=>{const b=g.mapper.toViewElement(p.item);b&&Fc(b,p.item,i)&&(function(w,C,E){const M=w.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(O){const L=this.toDomElement(O);return function(F,H){for(const K of T4){const X=new Yi({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${K}`],title:H[K],"aria-hidden":"true"},children:[F.ownerDocument.importNode(kne,!0)]});F.appendChild(X.render())}}(L,C),function(F){const H=new Yi({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});F.appendChild(H.render())}(L),L});w.insert(w.createPositionAt(E,"end"),M)}(g.writer,u,b),b.getCustomProperty("widgetLabel").push(()=>this.isEnabled?a("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const n=this.editor,i=n.model,a=i.document.selection,u=i.schema,h=n.editing.view;function p(g){return`ck-widget_type-around_show-fake-caret_${g}`}this._listenToIfEnabled(h.document,"arrowKey",(g,b)=>{this._handleArrowKeyPress(g,b)},{context:[tr,"$text"],priority:"high"}),this._listenToIfEnabled(a,"change:range",(g,b)=>{b.directChange&&n.model.change(w=>{w.removeSelectionAttribute(ya)})}),this._listenToIfEnabled(i.document,"change:data",()=>{const g=a.getSelectedElement();g&&Fc(n.editing.mapper.toViewElement(g),g,u)||n.model.change(b=>{b.removeSelectionAttribute(ya)})}),this._listenToIfEnabled(n.editing.downcastDispatcher,"selection",(g,b,w)=>{const C=w.writer;if(this._currentFakeCaretModelElement){const L=w.mapper.toViewElement(this._currentFakeCaretModelElement);L&&(C.removeClass(T4.map(p),L),this._currentFakeCaretModelElement=null)}const E=b.selection.getSelectedElement();if(!E)return;const M=w.mapper.toViewElement(E);if(!Fc(M,E,u))return;const O=pl(b.selection);O&&(C.addClass(p(O),M),this._currentFakeCaretModelElement=E)}),this._listenToIfEnabled(n.ui.focusTracker,"change:isFocused",(g,b,w)=>{w||n.model.change(C=>{C.removeSelectionAttribute(ya)})})}_handleArrowKeyPress(n,i){const a=this.editor,u=a.model,h=u.document.selection,p=u.schema,g=a.editing.view,b=function(E,M){const O=vC(E,M);return O==="down"||O==="right"}(i.keyCode,a.locale.contentLanguageDirection),w=g.document.selection.getSelectedElement();let C;Fc(w,a.editing.mapper.toModelElement(w),p)?C=this._handleArrowKeyPressOnSelectedWidget(b):h.isCollapsed?C=this._handleArrowKeyPressWhenSelectionNextToAWidget(b):i.shiftKey||(C=this._handleArrowKeyPressWhenNonCollapsedSelection(b)),C&&(i.preventDefault(),n.stop())}_handleArrowKeyPressOnSelectedWidget(n){const i=this.editor.model,a=pl(i.document.selection);return i.change(u=>a?a!==(n?"after":"before")?(u.removeSelectionAttribute(ya),!0):!1:(u.setSelectionAttribute(ya,n?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(n){const i=this.editor,a=i.model,u=a.schema,h=i.plugins.get("Widget"),p=h._getObjectElementNextToSelection(n);return!!Fc(i.editing.mapper.toViewElement(p),p,u)&&(a.change(g=>{h._setSelectionOverElement(p),g.setSelectionAttribute(ya,n?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(n){const i=this.editor,a=i.model,u=a.schema,h=i.editing.mapper,p=a.document.selection,g=n?p.getLastPosition().nodeBefore:p.getFirstPosition().nodeAfter;return!!Fc(h.toViewElement(g),g,u)&&(a.change(b=>{b.setSelection(g,"on"),b.setSelectionAttribute(ya,n?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const n=this.editor,i=n.editing.view;this._listenToIfEnabled(i.document,"mousedown",(a,u)=>{const h=u.domTarget.closest(".ck-widget__type-around__button");if(!h)return;const p=function(w){return w.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(h),g=function(w,C){const E=w.closest(".ck-widget");return C.mapDomToView(E)}(h,i.domConverter),b=n.editing.mapper.toModelElement(g);this._insertParagraph(b,p),u.preventDefault(),a.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const n=this.editor,i=n.model.document.selection,a=n.editing.view;this._listenToIfEnabled(a.document,"enter",(u,h)=>{if(u.eventPhase!="atTarget")return;const p=i.getSelectedElement(),g=n.editing.mapper.toViewElement(p),b=n.model.schema;let w;this._insertParagraphAccordingToFakeCaretPosition()?w=!0:Fc(g,p,b)&&(this._insertParagraph(p,h.isSoft?"before":"after"),w=!0),w&&(h.preventDefault(),u.stop())},{context:tr})}_enableInsertingParagraphsOnTypingKeystroke(){const n=this.editor.editing.view.document;this._listenToIfEnabled(n,"insertText",(i,a)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(a.selection=n.selection)},{priority:"high"}),v.isAndroid?this._listenToIfEnabled(n,"keydown",(i,a)=>{a.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(n,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const n=this.editor,i=n.editing.view,a=n.model,u=a.schema;this._listenToIfEnabled(i.document,"delete",(h,p)=>{if(h.eventPhase!="atTarget")return;const g=pl(a.document.selection);if(!g)return;const b=p.direction,w=a.document.selection.getSelectedElement(),C=b=="forward";if(g==="before"===C)n.execute("delete",{selection:a.createSelection(w,"on")});else{const E=u.getNearestSelectionRange(a.createPositionAt(w,g),b);if(E)if(E.isCollapsed){const M=a.createSelection(E.start);if(a.modifySelection(M,{direction:b}),M.focus.isEqual(E.start)){const O=function(L,F){let H=F;for(const K of F.getAncestors({parentFirst:!0})){if(K.childCount>1||L.isLimit(K))break;H=K}return H}(u,E.start.parent);a.deleteContent(a.createSelection(O,"on"),{doNotAutoparagraph:!0})}else a.change(O=>{O.setSelection(E),n.execute(C?"deleteForward":"delete")})}else a.change(M=>{M.setSelection(E),n.execute(C?"deleteForward":"delete")})}p.preventDefault(),h.stop()},{context:tr})}_enableInsertContentIntegration(){const n=this.editor,i=this.editor.model,a=i.document.selection;this._listenToIfEnabled(n.model,"insertContent",(u,[h,p])=>{if(p&&!p.is("documentSelection"))return;const g=pl(a);return g?(u.stop(),i.change(b=>{const w=a.getSelectedElement(),C=i.createPositionAt(w,g),E=b.createSelection(C),M=i.insertContent(h,E);return b.setSelection(E),M})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const n=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(n.model,"insertObject",(a,u)=>{const[,h,p={}]=u;if(h&&!h.is("documentSelection"))return;const g=pl(i);g&&(p.findOptimalPosition=g,u[3]=p)},{priority:"high"})}_enableDeleteContentIntegration(){const n=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(n.model,"deleteContent",(a,[u])=>{u&&!u.is("documentSelection")||pl(i)&&a.stop()},{priority:"high"})}}function wne(l){const n=l.model;return(i,a)=>{const u=a.keyCode==Mt.arrowup,h=a.keyCode==Mt.arrowdown,p=a.shiftKey,g=n.document.selection;if(!u&&!h)return;const b=h;if(p&&function(C,E){return!C.isCollapsed&&C.isBackward==E}(g,b))return;const w=function(C,E,M){const O=C.model;if(M){const L=E.isCollapsed?E.focus:E.getLastPosition(),F=M4(O,L,"forward");if(!F)return null;const H=O.createRange(L,F),K=P4(O.schema,H,"backward");return K?O.createRange(L,K):null}{const L=E.isCollapsed?E.focus:E.getFirstPosition(),F=M4(O,L,"backward");if(!F)return null;const H=O.createRange(F,L),K=P4(O.schema,H,"forward");return K?O.createRange(K,L):null}}(l,g,b);if(w){if(w.isCollapsed&&(g.isCollapsed||p))return;(w.isCollapsed||function(C,E,M){const O=C.model,L=C.view.domConverter;if(M){const oe=O.createSelection(E.start);O.modifySelection(oe),oe.focus.isAtEnd||E.start.isEqual(oe.focus)||(E=O.createRange(oe.focus,E.end))}const F=C.mapper.toViewRange(E),H=L.viewRangeToDom(F),K=Et.getDomRangeRects(H);let X;for(const oe of K)if(X!==void 0){if(Math.round(oe.top)>=X)return!1;X=Math.max(X,Math.round(oe.bottom))}else X=Math.round(oe.bottom);return!0}(l,w,b))&&(n.change(C=>{const E=b?w.end:w.start;if(p){const M=n.createSelection(g.anchor);M.setFocus(E),C.setSelection(M)}else C.setSelection(E)}),i.stop(),a.preventDefault(),a.stopPropagation())}}}function M4(l,n,i){const a=l.schema,u=l.createRangeIn(n.root),h=i=="forward"?"elementStart":"elementEnd";for(const{previousPosition:p,item:g,type:b}of u.getWalker({startPosition:n,direction:i})){if(a.isLimit(g)&&!a.isInline(g))return p;if(b==h&&a.isBlock(g))return null}return null}function P4(l,n,i){const a=i=="backward"?n.end:n.start;if(l.checkChild(a,"$text"))return a;for(const{nextPosition:u}of n.getWalker({direction:i}))if(l.checkChild(u,"$text"))return u;return null}var N4=s(695),yne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(N4.A,yne),N4.A.locals;class hf extends ge{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[vne,va]}init(){const n=this.editor,i=n.editing.view,a=i.document,u=n.t;this.editor.editing.downcastDispatcher.on("selection",(h,p,g)=>{const b=g.writer,w=p.selection;if(w.isCollapsed)return;const C=w.getSelectedElement();if(!C)return;const E=n.editing.mapper.toViewElement(C);var M;tr(E)&&g.consumable.consume(w,"selection")&&b.setSelection(b.createRangeOn(E),{fake:!0,label:(M=E,M.getCustomProperty("widgetLabel").reduce((O,L)=>typeof L=="function"?O?O+". "+L():L():O?O+". "+L:L,""))})}),this.editor.editing.downcastDispatcher.on("selection",(h,p,g)=>{this._clearPreviouslySelectedWidgets(g.writer);const b=g.writer,w=b.document.selection;let C=null;for(const E of w.getRanges())for(const M of E){const O=M.item;tr(O)&&!_ne(O,C)&&(b.addClass(A4,O),this._previouslySelected.add(O),C=O)}},{priority:"low"}),i.addObserver(sA),this.listenTo(a,"mousedown",(...h)=>this._onMousedown(...h)),this.listenTo(a,"arrowKey",(...h)=>{this._handleSelectionChangeOnArrowKeyPress(...h)},{context:[tr,"$text"]}),this.listenTo(a,"arrowKey",(...h)=>{this._preventDefaultOnArrowKeyPress(...h)},{context:"$root"}),this.listenTo(a,"arrowKey",wne(this.editor.editing),{context:"$text"}),this.listenTo(a,"delete",(h,p)=>{this._handleDelete(p.direction=="forward")&&(p.preventDefault(),h.stop())},{context:"$root"}),this.listenTo(a,"tab",(h,p)=>{h.eventPhase=="atTarget"&&(p.shiftKey||this._selectFirstNestedEditable()&&(p.preventDefault(),h.stop()))},{context:tr,priority:"low"}),this.listenTo(a,"tab",(h,p)=>{p.shiftKey&&this._selectAncestorWidget()&&(p.preventDefault(),h.stop())},{priority:"low"}),this.listenTo(a,"keydown",(h,p)=>{p.keystroke==Mt.esc&&this._selectAncestorWidget()&&(p.preventDefault(),h.stop())},{priority:"low"}),n.accessibility.addKeystrokeInfoGroup({id:"widget",label:u("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:u("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:u("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:u("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:u("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(n,i){const a=this.editor,u=a.editing.view,h=u.document;let p=i.target;if(i.domEvent.detail>=3)return void(this._selectBlockContent(p)&&i.preventDefault());if(function(b){let w=b;for(;w;){if(w.is("editableElement")&&!w.is("rootElement"))return!0;if(tr(w))return!1;w=w.parent}return!1}(p)||!tr(p)&&(p=p.findAncestor(tr),!p))return;v.isAndroid&&i.preventDefault(),h.isFocused||u.focus();const g=a.editing.mapper.toModelElement(p);this._setSelectionOverElement(g)}_selectBlockContent(n){const i=this.editor,a=i.model,u=i.editing.mapper,h=a.schema,p=u.findMappedViewAncestor(this.editor.editing.view.createPositionAt(n,0)),g=function(b,w){for(const C of b.getAncestors({includeSelf:!0,parentFirst:!0})){if(w.checkChild(C,"$text"))return C;if(w.isLimit(C)&&!w.isObject(C))break}return null}(u.toModelElement(p),a.schema);return!!g&&(a.change(b=>{const w=h.isLimit(g)?null:function(M,O){const L=new ha({startPosition:M});for(const{item:F}of L){if(O.isLimit(F)||!F.is("element"))return null;if(O.checkChild(F,"$text"))return F}return null}(b.createPositionAfter(g),h),C=b.createPositionAt(g,0),E=w?b.createPositionAt(w,0):b.createPositionAt(g,"end");b.setSelection(b.createRange(C,E))}),!0)}_handleSelectionChangeOnArrowKeyPress(n,i){const a=i.keyCode,u=this.editor.model,h=u.schema,p=u.document.selection,g=p.getSelectedElement(),b=vC(a,this.editor.locale.contentLanguageDirection),w=b=="down"||b=="right",C=b=="up"||b=="down";if(g&&h.isObject(g)){const M=w?p.getLastPosition():p.getFirstPosition(),O=h.getNearestSelectionRange(M,w?"forward":"backward");return void(O&&(u.change(L=>{L.setSelection(O)}),i.preventDefault(),n.stop()))}if(!p.isCollapsed&&!i.shiftKey){const M=p.getFirstPosition(),O=p.getLastPosition(),L=M.nodeAfter,F=O.nodeBefore;return void((L&&h.isObject(L)||F&&h.isObject(F))&&(u.change(H=>{H.setSelection(w?O:M)}),i.preventDefault(),n.stop()))}if(!p.isCollapsed)return;const E=this._getObjectElementNextToSelection(w);if(E&&h.isObject(E)){if(h.isInline(E)&&C)return;this._setSelectionOverElement(E),i.preventDefault(),n.stop()}}_preventDefaultOnArrowKeyPress(n,i){const a=this.editor.model,u=a.schema,h=a.document.selection.getSelectedElement();h&&u.isObject(h)&&(i.preventDefault(),n.stop())}_handleDelete(n){const i=this.editor.model.document.selection;if(!this.editor.model.canEditAt(i)||!i.isCollapsed)return;const a=this._getObjectElementNextToSelection(n);return a?(this.editor.model.change(u=>{let h=i.anchor.parent;for(;h.isEmpty;){const p=h;h=p.parent,u.remove(p)}this._setSelectionOverElement(a)}),!0):void 0}_setSelectionOverElement(n){this.editor.model.change(i=>{i.setSelection(i.createRangeOn(n))})}_getObjectElementNextToSelection(n){const i=this.editor.model,a=i.schema,u=i.document.selection,h=i.createSelection(u);if(i.modifySelection(h,{direction:n?"forward":"backward"}),h.isEqual(u))return null;const p=n?h.focus.nodeBefore:h.focus.nodeAfter;return p&&a.isObject(p)?p:null}_clearPreviouslySelectedWidgets(n){for(const i of this._previouslySelected)n.removeClass(A4,i);this._previouslySelected.clear()}_selectFirstNestedEditable(){const n=this.editor,i=this.editor.editing.view.document;for(const a of i.selection.getFirstRange().getItems())if(a.is("editableElement")){const u=n.editing.mapper.toModelElement(a);if(!u)continue;const h=n.model.createPositionAt(u,0),p=n.model.schema.getNearestSelectionRange(h,"forward");return n.model.change(g=>{g.setSelection(p)}),!0}return!1}_selectAncestorWidget(){const n=this.editor,i=n.editing.mapper,a=n.editing.view.document.selection.getFirstPosition().parent,u=(a.is("$text")?a.parent:a).findAncestor(tr);if(!u)return!1;const h=i.toModelElement(u);return!!h&&(n.model.change(p=>{p.setSelection(h,"on")}),!0)}}function _ne(l,n){return!!n&&Array.from(l.getAncestors()).includes(n)}class Fk extends ge{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[Mk]}static get pluginName(){return"WidgetToolbarRepository"}init(){const n=this.editor;if(n.plugins.has("BalloonToolbar")){const i=n.plugins.get("BalloonToolbar");this.listenTo(i,"show",a=>{(function(u){const h=u.getSelectedElement();return!(!h||!tr(h))})(n.editing.view.document.selection)&&a.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(n.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(n.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const n of this._toolbarDefinitions.values())n.view.destroy()}register(n,{ariaLabel:i,items:a,getRelatedElement:u,balloonClassName:h="ck-toolbar-container"}){if(!a.length)return void z("widget-toolbar-no-items",{toolbarId:n});const p=this.editor,g=p.t,b=new hA(p.locale);if(b.ariaLabel=i||g("Widget toolbar"),this._toolbarDefinitions.has(n))throw new R("widget-toolbar-duplicated",this,{toolbarId:n});const w={view:b,getRelatedElement:u,balloonClassName:h,itemsConfig:a,initialized:!1};p.ui.addToolbar(b,{isContextual:!0,beforeFocus:()=>{const C=u(p.editing.view.document.selection);C&&this._showToolbar(w,C)},afterBlur:()=>{this._hideToolbar(w)}}),this._toolbarDefinitions.set(n,w)}_updateToolbarsVisibility(){let n=0,i=null,a=null;for(const u of this._toolbarDefinitions.values()){const h=u.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&h)if(this.editor.ui.focusTracker.isFocused){const p=h.getAncestors().length;p>n&&(n=p,i=h,a=u)}else this._isToolbarVisible(u)&&this._hideToolbar(u);else this._isToolbarInBalloon(u)&&this._hideToolbar(u)}a&&this._showToolbar(a,i)}_hideToolbar(n){this._balloon.remove(n.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(n,i){this._isToolbarVisible(n)?R4(this.editor,i):this._isToolbarInBalloon(n)||(n.initialized||(n.initialized=!0,n.view.fillFromConfig(n.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:n.view,position:O4(this.editor,i),balloonClassName:n.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const a of this._toolbarDefinitions.values())if(this._isToolbarVisible(a)){const u=a.getRelatedElement(this.editor.editing.view.document.selection);R4(this.editor,u)}}))}_isToolbarVisible(n){return this._balloon.visibleView===n.view}_isToolbarInBalloon(n){return this._balloon.hasView(n.view)}}function R4(l,n){const i=l.plugins.get("ContextualBalloon"),a=O4(l,n);i.updatePosition(a)}function O4(l,n){const i=l.editing.view,a=Mo.defaultPositions;return{target:i.domConverter.mapViewToDom(n),positions:[a.northArrowSouth,a.northArrowSouthWest,a.northArrowSouthEast,a.southArrowNorth,a.southArrowNorthWest,a.southArrowNorthEast,a.viewportStickyNorth]}}var B4=s(4095),Cne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(B4.A,Cne),B4.A.locals;const IA=ld("px");class Ane extends Ye{constructor(){super();const n=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",n.if("isVisible","ck-hidden",i=>!i)],style:{left:n.to("left",i=>IA(i)),top:n.to("top",i=>IA(i)),width:n.to("width",i=>IA(i))}}})}}class zk extends ge{constructor(){super(...arguments),this.removeDropMarkerDelayed=_C(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=Tk(n=>this._updateDropMarker(n),40),this._reconvertMarkerThrottled=Tk(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new Ane,this._domEmitter=new(gi()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:n}of this._scrollables.values())n.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(n,i,a,u,h,p){this.removeDropMarkerDelayed.cancel();const g=L4(this.editor,n,i,a,u,h,p);if(g)return p&&p.containsRange(g)?this.removeDropMarker():void this._updateDropMarkerThrottled(g)}getFinalDropRange(n,i,a,u,h,p){const g=L4(this.editor,n,i,a,u,h,p);return this.removeDropMarker(),g}removeDropMarker(){const n=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,n.markers.has("drop-target")&&n.change(i=>{i.removeMarker("drop-target")})}_setupDropMarker(){const n=this.editor;n.ui.view.body.add(this._dropTargetLineView),n.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),n.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(i,{writer:a})=>{if(n.model.schema.checkChild(i.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(a);i.markerRange.isCollapsed?this._updateDropTargetLine(i.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(n){const i=this.editor,a=i.model.markers;i.model.change(u=>{a.has("drop-target")?a.get("drop-target").getRange().isEqual(n)||u.updateMarker("drop-target",{range:n}):u.addMarker("drop-target",{range:n,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(n){return n.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(i){const a=this.toDomElement(i);return a.append("",i.createElement("span"),""),a})}_updateDropTargetLine(n){const i=this.editor.editing,a=n.start.nodeBefore,u=n.start.nodeAfter,h=n.start.parent,p=a?i.mapper.toViewElement(a):null,g=p?i.view.domConverter.mapViewToDom(p):null,b=u?i.mapper.toViewElement(u):null,w=b?i.view.domConverter.mapViewToDom(b):null,C=i.mapper.toViewElement(h);if(!C)return;const E=i.view.domConverter.mapViewToDom(C),M=this._getScrollableRect(C),{scrollX:O,scrollY:L}=m.window,F=g?new Et(g):null,H=w?new Et(w):null,K=new Et(E).excludeScrollbarsAndBorders(),X=F?F.bottom:K.top,oe=H?H.top:K.bottom,le=m.window.getComputedStyle(E),De=X<=oe?(X+oe)/2:oe;if(M.top<De&&De<M.bottom){const rt=K.left+parseFloat(le.paddingLeft),mt=K.right-parseFloat(le.paddingRight),mn=Math.max(rt+O,M.left),kr=Math.min(mt+O,M.right);this._dropTargetLineView.set({isVisible:!0,left:mn,top:De+L,width:kr-mn})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(n){const i=n.root.rootName;let a;if(this._scrollables.has(i))a=this._scrollables.get(i).domElement;else{a=function(h){let p=h;do{p=p.parentElement;const g=m.window.getComputedStyle(p).overflowY;if(g=="auto"||g=="scroll")break}while(p.tagName!="BODY");return p}(this.editor.editing.view.domConverter.mapViewToDom(n)),this._domEmitter.listenTo(a,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const u=new jp(a,this._reconvertMarkerThrottled);this._scrollables.set(i,{domElement:a,resizeObserver:u})}return new Et(a).excludeScrollbarsAndBorders()}}function L4(l,n,i,a,u,h,p){const g=l.model,b=l.editing.mapper;let w=F4(l,n);for(;w;){if(!h){if(g.schema.checkChild(w,"$text")){if(i){const C=i[0].start,E=b.toModelPosition(C);if(!p||Array.from(p.getItems()).every(M=>g.schema.checkChild(E,M))){if(g.schema.checkChild(E,"$text"))return g.createRange(E);if(C)return $k(l,F4(l,C.parent),a,u)}}}else if(g.schema.isInline(w))return $k(l,w,a,u)}if(g.schema.isBlock(w))return $k(l,w,a,u);if(g.schema.checkChild(w,"$block")){const C=Array.from(w.getChildren()).filter(O=>O.is("element")&&!xne(l,O));let E=0,M=C.length;if(M==0)return g.createRange(g.createPositionAt(w,"end"));for(;E<M-1;){const O=Math.floor((E+M)/2);j4(l,C[O],a,u)=="before"?M=O:E=O}return $k(l,C[E],a,u)}w=w.parent}return null}function xne(l,n){const i=l.editing.mapper,a=l.editing.view.domConverter,u=i.toViewElement(n);if(!u)return!0;const h=a.mapViewToDom(u);return m.window.getComputedStyle(h).float!="none"}function $k(l,n,i,a){const u=l.model;return u.createRange(u.createPositionAt(n,j4(l,n,i,a)))}function j4(l,n,i,a){const u=l.editing.mapper,h=l.editing.view.domConverter,p=u.toViewElement(n),g=h.mapViewToDom(p),b=new Et(g);return l.model.schema.isInline(n)?i<(b.left+b.right)/2?"before":"after":a<(b.top+b.bottom)/2?"before":"after"}function F4(l,n){const i=l.editing.mapper,a=l.editing.view,u=i.toModelElement(n);if(u)return u;const h=a.createPositionBefore(n),p=i.findMappedViewAncestor(h);return i.toModelElement(p)}var Ene=Object.defineProperty,Sne=Object.defineProperties,Dne=Object.getOwnPropertyDescriptors,z4=Object.getOwnPropertySymbols,Tne=Object.prototype.hasOwnProperty,Ine=Object.prototype.propertyIsEnumerable,$4=(l,n,i)=>n in l?Ene(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i;class Mne extends ge{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(gi())}static get pluginName(){return"DragDropBlockToolbar"}init(){const n=this.editor;if(this.listenTo(n,"change:isReadOnly",(i,a,u)=>{u?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),v.isAndroid&&this.forceDisabled("noAndroidSupport"),n.plugins.has("BlockToolbar")){const i=n.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(i,"dragstart",(a,u)=>this._handleBlockDragStart(u)),this._domEmitter.listenTo(m.document,"dragover",(a,u)=>this._handleBlockDragging(u)),this._domEmitter.listenTo(m.document,"drop",(a,u)=>this._handleBlockDragging(u)),this._domEmitter.listenTo(m.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&i.setAttribute("draggable","true"),this.on("change:isEnabled",(a,u,h)=>{i.setAttribute("draggable",h?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(n){if(!this.isEnabled)return;const i=this.editor.model,a=i.document.selection,u=this.editor.editing.view,h=Array.from(a.getSelectedBlocks()),p=i.createRange(i.createPositionBefore(h[0]),i.createPositionAfter(h[h.length-1]));i.change(g=>g.setSelection(p)),this._isBlockDragging=!0,u.focus(),u.getObserver(af).onDomEvent(n)}_handleBlockDragging(n){if(!this.isEnabled||!this._isBlockDragging)return;const i=n.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),a=n.clientY,u=document.elementFromPoint(i,a),h=this.editor.editing.view;var p,g;u&&u.closest(".ck-editor__editable")&&h.getObserver(af).onDomEvent((p=((b,w)=>{for(var C in w||(w={}))Tne.call(w,C)&&$4(b,C,w[C]);if(z4)for(var C of z4(w))Ine.call(w,C)&&$4(b,C,w[C]);return b})({},n),g={type:n.type,dataTransfer:n.dataTransfer,target:u,clientX:i,clientY:a,preventDefault:()=>n.preventDefault(),stopPropagation:()=>n.stopPropagation()},Sne(p,Dne(g))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}var V4=s(7793),Pne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(V4.A,Pne),V4.A.locals;class Nne extends ge{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=_C(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(gi())}static get pluginName(){return"DragDrop"}static get requires(){return[wi,hf,zk,Mne]}init(){const n=this.editor,i=n.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,i.addObserver(af),i.addObserver(sA),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(n,"change:isReadOnly",(a,u,h)=>{h?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(a,u,h)=>{h||this._finalizeDragging(!1)}),v.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const n=this.editor,i=n.model,a=n.editing.view,u=a.document,h=n.plugins.get(zk);this.listenTo(u,"dragstart",(p,g)=>{if(g.target&&g.target.is("editableElement")||(this._prepareDraggedRange(g.target),!this._draggedRange))return void g.preventDefault();this._draggingUid=N(),g.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",g.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const b=i.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(g.dataTransfer,b,"dragstart");const{dataTransfer:w,domTarget:C,domEvent:E}=g,{clientX:M}=E;this._updatePreview({dataTransfer:w,domTarget:C,clientX:M}),g.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(u,"dragend",(p,g)=>{this._finalizeDragging(!g.dataTransfer.isCanceled&&g.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(m.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(u,"dragenter",()=>{this.isEnabled&&a.focus()}),this.listenTo(u,"dragleave",()=>{h.removeDropMarkerDelayed()}),this.listenTo(u,"dragging",(p,g)=>{if(!this.isEnabled)return void(g.dataTransfer.dropEffect="none");const{clientX:b,clientY:w}=g.domEvent;h.updateDropMarker(g.target,g.targetRanges,b,w,this._blockMode,this._draggedRange),this._draggedRange||(g.dataTransfer.dropEffect="copy"),v.isGecko||(g.dataTransfer.effectAllowed=="copy"?g.dataTransfer.dropEffect="copy":["all","copyMove"].includes(g.dataTransfer.effectAllowed)&&(g.dataTransfer.dropEffect="move")),p.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const n=this.editor,i=n.editing.view.document,a=n.plugins.get(zk);this.listenTo(i,"clipboardInput",(u,h)=>{if(h.method!="drop")return;const{clientX:p,clientY:g}=h.domEvent,b=a.getFinalDropRange(h.target,h.targetRanges,p,g,this._blockMode,this._draggedRange);if(!b)return this._finalizeDragging(!1),void u.stop();if(this._draggedRange&&this._draggingUid!=h.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),U4(h.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(b,!0))return this._finalizeDragging(!1),void u.stop();h.targetRanges=[n.editing.mapper.toViewRange(b)]},{priority:"high"})}_setupContentInsertionIntegration(){const n=this.editor.plugins.get(wi);n.on("contentInsertion",(i,a)=>{if(!this.isEnabled||a.method!=="drop")return;const u=a.targetRanges.map(h=>this.editor.editing.mapper.toModelRange(h));this.editor.model.change(h=>h.setSelection(u))},{priority:"high"}),n.on("contentInsertion",(i,a)=>{if(!this.isEnabled||a.method!=="drop")return;const u=U4(a.dataTransfer)=="move",h=!a.resultRange||!a.resultRange.isCollapsed;this._finalizeDragging(h&&u)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const n=this.editor,i=n.editing.view,a=i.document;this.listenTo(a,"mousedown",(u,h)=>{if(v.isAndroid||!h)return;this._clearDraggableAttributesDelayed.cancel();let p=H4(h.target);if(v.isBlink&&!n.isReadOnly&&!p&&!a.selection.isCollapsed){const g=a.selection.getSelectedElement();g&&tr(g)||(p=a.selection.editableElement)}p&&(i.change(g=>{g.setAttribute("draggable","true",p)}),this._draggableElement=n.editing.mapper.toModelElement(p))}),this.listenTo(a,"mouseup",()=>{v.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const n=this.editor.editing;n.view.change(i=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&i.removeAttribute("draggable",n.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(n){const i=this.editor,a=i.model;i.plugins.get(zk).removeDropMarker(),this._clearDraggableAttributes(),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(n&&this.isEnabled&&a.change(u=>{const h=a.createSelection(this._draggedRange);a.deleteContent(h,{doNotAutoparagraph:!0});const p=h.getFirstPosition().parent;p.isEmpty&&!a.schema.checkChild(p,"$text")&&a.schema.checkChild(p,"paragraph")&&u.insertElement("paragraph",p,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(n){const i=this.editor,a=i.model,u=a.document.selection,h=n?H4(n):null;if(h){const w=i.editing.mapper.toModelElement(h);this._draggedRange=Yo.fromRange(a.createRangeOn(w)),this._blockMode=a.schema.isBlock(w),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(u.isCollapsed&&!u.getFirstPosition().parent.isEmpty)return;const p=Array.from(u.getSelectedBlocks()),g=u.getFirstRange();if(p.length==0)return void(this._draggedRange=Yo.fromRange(g));const b=W4(a,p);if(p.length>1)this._draggedRange=Yo.fromRange(b),this._blockMode=!0;else if(p.length==1){const w=g.start.isTouching(b.start)&&g.end.isTouching(b.end);this._draggedRange=Yo.fromRange(w?b:g),this._blockMode=w}a.change(w=>w.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:n,domTarget:i,clientX:a}){const u=this.editor.editing.view,h=u.document.selection.editableElement,p=u.domConverter.mapViewToDom(h),g=m.window.getComputedStyle(p);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=Or(m.document,"div",{style:"position: fixed; left: -999999px;"}),m.document.body.appendChild(this._previewContainer));const b=new Et(p);if(p.contains(i))return;const w=parseFloat(g.paddingLeft),C=Or(m.document,"div");C.className="ck ck-content",C.style.width=g.width,C.style.paddingLeft=`${b.left-a+w}px`,v.isiOS&&(C.style.backgroundColor="white"),C.innerHTML=n.getData("text/html"),n.setDragImage(C,0,0),this._previewContainer.appendChild(C)}}function U4(l){return v.isGecko?l.dropEffect:["all","copyMove"].includes(l.effectAllowed)?"move":"copy"}function H4(l){if(l.is("editableElement"))return null;if(l.hasClass("ck-widget__selection-handle"))return l.findAncestor(tr);if(tr(l))return l;const n=l.findAncestor(i=>tr(i)||i.is("editableElement"));return tr(n)?n:null}function W4(l,n){const i=n[0],a=n[n.length-1],u=i.getCommonAncestor(a),h=l.createPositionBefore(i),p=l.createPositionAfter(a);if(u&&u.is("element")&&!l.schema.isLimit(u)){const g=l.createRangeOn(u),b=h.isTouching(g.start),w=p.isTouching(g.end);if(b&&w)return W4(l,[u])}return l.createRange(h,p)}class Rne extends ge{static get pluginName(){return"PastePlainText"}static get requires(){return[wi]}init(){const n=this.editor,i=n.model,a=n.editing.view,u=a.document,h=i.document.selection;let p=!1;a.addObserver(af),this.listenTo(u,"keydown",(g,b)=>{p=b.shiftKey}),n.plugins.get(wi).on("contentInsertion",(g,b)=>{(p||function(w,C){if(w.childCount>1)return!1;const E=w.getChild(0);return C.isObject(E)?!1:Array.from(E.getAttributeKeys()).length==0}(b.content,i.schema))&&i.change(w=>{const C=Array.from(h.getAttributes()).filter(([M])=>i.schema.getAttributeProperties(M).isFormatting);h.isCollapsed||i.deleteContent(h,{doNotAutoparagraph:!0}),C.push(...h.getAttributes());const E=w.createRangeIn(b.content);for(const M of E.getItems())M.is("$textProxy")&&w.setAttributes(C,M)})})}}class q4 extends ge{static get pluginName(){return"Clipboard"}static get requires(){return[lf,wi,Nne,Rne]}init(){const n=this.editor,i=this.editor.t;n.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Copy selected content"),keystroke:"CTRL+C"},{label:i("Paste content"),keystroke:"CTRL+V"},{label:i("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class One extends wt{constructor(n){super(n),this.affectsData=!1}execute(){const n=this.editor.model,i=n.document.selection;let a=n.schema.getLimitElement(i);if(i.containsEntireContent(a)||!G4(n.schema,a))do if(a=a.parent,!a)return;while(!G4(n.schema,a));n.change(u=>{u.setSelection(a,"in")})}}function G4(l,n){return l.isLimit(n)&&(l.checkChild(n,"$text")||l.checkChild(n,"paragraph"))}const Bne=$p("Ctrl+A");class Lne extends ge{static get pluginName(){return"SelectAllEditing"}init(){const n=this.editor,i=n.t,a=n.editing.view.document;n.commands.add("selectAll",new One(n)),this.listenTo(a,"keydown",(u,h)=>{cd(h)===Bne&&(n.execute("selectAll"),h.preventDefault())}),n.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Select all"),keystroke:"CTRL+A"}]})}}class jne extends ge{static get pluginName(){return"SelectAllUI"}init(){const n=this.editor;n.ui.componentFactory.add("selectAll",()=>{const i=this._createButton(Ft);return i.set({tooltip:!0}),i}),n.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(Zo))}_createButton(n){const i=this.editor,a=i.locale,u=i.commands.get("selectAll"),h=new n(i.locale),p=a.t;return h.set({label:p("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),h.bind("isEnabled").to(u,"isEnabled"),this.listenTo(h,"execute",()=>{i.execute("selectAll"),i.editing.view.focus()}),h}}class Fne extends ge{static get requires(){return[Lne,jne]}static get pluginName(){return"SelectAll"}}var zne=Object.defineProperty,K4=Object.getOwnPropertySymbols,$ne=Object.prototype.hasOwnProperty,Vne=Object.prototype.propertyIsEnumerable,Y4=(l,n,i)=>n in l?zne(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i;class Q4 extends wt{constructor(n){super(n),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(n.data,"set",(i,a)=>{a[1]=((h,p)=>{for(var g in p||(p={}))$ne.call(p,g)&&Y4(h,g,p[g]);if(K4)for(var g of K4(p))Vne.call(p,g)&&Y4(h,g,p[g]);return h})({},a[1]);const u=a[1];u.batchType||(u.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(n.data,"set",(i,a)=>{a[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(n){const i=this.editor.model.document.selection,a={ranges:i.hasOwnRange?Array.from(i.getRanges()):[],isBackward:i.isBackward};this._stack.push({batch:n,selection:a}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(n,i,a){const u=this.editor.model,h=u.document,p=[],g=n.map(w=>w.getTransformedByOperations(a)),b=g.flat();for(const w of g){const C=w.filter(E=>E.root!=h.graveyard).filter(E=>!Hne(E,b));C.length&&(Une(C),p.push(C[0]))}p.length&&u.change(w=>{w.setSelection(p,{backward:i})})}_undo(n,i){const a=this.editor.model,u=a.document;this._createdBatches.add(i);const h=n.operations.slice().filter(p=>p.isDocumentOperation);h.reverse();for(const p of h){const g=p.baseVersion+1,b=Array.from(u.history.getOperations(g)),w=CJ([p.getReversed()],b,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let C of w){const E=C.affectedSelectable;E&&!a.canEditAt(E)&&(C=new gr(C.baseVersion)),i.addOperation(C),a.applyOperation(C),u.history.setOperationAsUndone(p,C)}}}}function Une(l){l.sort((n,i)=>n.start.isBefore(i.start)?-1:1);for(let n=1;n<l.length;n++){const i=l[n-1].getJoined(l[n],!0);i&&(n--,l.splice(n,2,i))}}function Hne(l,n){return n.some(i=>i!==l&&i.containsRange(l,!0))}class Wne extends Q4{execute(n=null){const i=n?this._stack.findIndex(h=>h.batch==n):this._stack.length-1,a=this._stack.splice(i,1)[0],u=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(u,()=>{this._undo(a.batch,u);const h=this.editor.model.document.history.getOperations(a.batch.baseVersion);this._restoreSelection(a.selection.ranges,a.selection.isBackward,h)}),this.fire("revert",a.batch,u),this.refresh()}}class qne extends Q4{execute(){const n=this._stack.pop(),i=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(i,()=>{const a=n.batch.operations[n.batch.operations.length-1].baseVersion+1,u=this.editor.model.document.history.getOperations(a);this._restoreSelection(n.selection.ranges,n.selection.isBackward,u),this._undo(n.batch,i)}),this.refresh()}}class Gne extends ge{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const n=this.editor,i=n.t;this._undoCommand=new Wne(n),this._redoCommand=new qne(n),n.commands.add("undo",this._undoCommand),n.commands.add("redo",this._redoCommand),this.listenTo(n.model,"applyOperation",(a,u)=>{const h=u[0];if(!h.isDocumentOperation)return;const p=h.batch,g=this._redoCommand.createdBatches.has(p),b=this._undoCommand.createdBatches.has(p);this._batchRegistry.has(p)||(this._batchRegistry.add(p),p.isUndoable&&(g?this._undoCommand.addBatch(p):b||(this._undoCommand.addBatch(p),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(a,u,h)=>{this._redoCommand.addBatch(h)}),n.keystrokes.set("CTRL+Z","undo"),n.keystrokes.set("CTRL+Y","redo"),n.keystrokes.set("CTRL+SHIFT+Z","redo"),n.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Undo"),keystroke:"CTRL+Z"},{label:i("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class Kne extends ge{static get pluginName(){return"UndoUI"}init(){const n=this.editor,i=n.locale,a=n.t,u=i.uiLanguageDirection=="ltr"?ht.undo:ht.redo,h=i.uiLanguageDirection=="ltr"?ht.redo:ht.undo;this._addButtonsToFactory("undo",a("Undo"),"CTRL+Z",u),this._addButtonsToFactory("redo",a("Redo"),"CTRL+Y",h)}_addButtonsToFactory(n,i,a,u){const h=this.editor;h.ui.componentFactory.add(n,()=>{const p=this._createButton(Ft,n,i,a,u);return p.set({tooltip:!0}),p}),h.ui.componentFactory.add("menuBar:"+n,()=>this._createButton(Zo,n,i,a,u))}_createButton(n,i,a,u,h){const p=this.editor,g=p.locale,b=p.commands.get(i),w=new n(g);return w.set({label:a,icon:h,keystroke:u}),w.bind("isEnabled").to(b,"isEnabled"),this.listenTo(w,"execute",()=>{p.execute(i),p.editing.view.focus()}),w}}class Z4 extends ge{static get requires(){return[Gne,Kne]}static get pluginName(){return"Undo"}}class Yne extends be(){constructor(){super();const n=new window.FileReader;this._reader=n,this._data=void 0,this.set("loaded",0),n.onprogress=i=>{this.loaded=i.loaded}}get error(){return this._reader.error}get data(){return this._data}read(n){const i=this._reader;return this.total=n.size,new Promise((a,u)=>{i.onload=()=>{const h=i.result;this._data=h,a(h)},i.onerror=()=>{u("error")},i.onabort=()=>{u("aborted")},this._reader.readAsDataURL(n)})}abort(){this._reader.abort()}}class ts extends ge{constructor(){super(...arguments),this.loaders=new Ki,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[hN]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(n,i)=>i?n/i*100:0)}getLoader(n){return this._loadersMap.get(n)||null}createLoader(n){if(!this.createUploadAdapter)return z("filerepository-no-upload-adapter"),null;const i=new J4(Promise.resolve(n),this.createUploadAdapter);return this.loaders.add(i),this._loadersMap.set(n,i),n instanceof Promise&&i.file.then(a=>{this._loadersMap.set(a,i)}).catch(()=>{}),i.on("change:uploaded",()=>{let a=0;for(const u of this.loaders)a+=u.uploaded;this.uploaded=a}),i.on("change:uploadTotal",()=>{let a=0;for(const u of this.loaders)u.uploadTotal&&(a+=u.uploadTotal);this.uploadTotal=a}),i}destroyLoader(n){const i=n instanceof J4?n:this.getLoader(n);i._destroy(),this.loaders.remove(i),this._loadersMap.forEach((a,u)=>{a===i&&this._loadersMap.delete(u)})}_updatePendingAction(){const n=this.editor.plugins.get(hN);if(this.loaders.length){if(!this._pendingAction){const i=this.editor.t,a=u=>`${i("Upload in progress")} ${parseInt(u)}%.`;this._pendingAction=n.add(a(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",a)}}else n.remove(this._pendingAction),this._pendingAction=null}}class J4 extends be(){constructor(n,i){super(),this.id=N(),this._filePromiseWrapper=this._createFilePromiseWrapper(n),this._adapter=i(this),this._reader=new Yne,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(a,u)=>u?a/u*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(n=>this._filePromiseWrapper?n:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new R("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(n=>this._reader.read(n)).then(n=>{if(this.status!=="reading")throw this.status;return this.status="idle",n}).catch(n=>{throw n==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:n)})}upload(){if(this.status!="idle")throw new R("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(n=>(this.uploadResponse=n,this.status="idle",n)).catch(n=>{throw this.status==="aborted"?"aborted":(this.status="error",n)})}abort(){const n=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?n=="reading"?this._reader.abort():n=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(n){const i={};return i.promise=new Promise((a,u)=>{i.rejecter=u,i.isFulfilled=!1,n.then(h=>{i.isFulfilled=!0,a(h)}).catch(h=>{i.isFulfilled=!0,u(h)})}),i}}const X4="ckCsrfToken",eO="abcdefghijklmnopqrstuvwxyz0123456789";function Qne(){let l=function(a){a=a.toLowerCase();const u=document.cookie.split(";");for(const h of u){const p=h.split("=");if(decodeURIComponent(p[0].trim().toLowerCase())===a)return decodeURIComponent(p[1])}return null}(X4);var n,i;return l&&l.length==40||(l=function(a){let u="";const h=new Uint8Array(a);window.crypto.getRandomValues(h);for(let p=0;p<h.length;p++){const g=eO.charAt(h[p]%eO.length);u+=Math.random()>.5?g.toUpperCase():g}return u}(40),n=X4,i=l,document.cookie=encodeURIComponent(n)+"="+encodeURIComponent(i)+";path=/"),l}class Zne{constructor(n,i,a){this.loader=n,this.url=i,this.t=a}upload(){return this.loader.file.then(n=>new Promise((i,a)=>{this._initRequest(),this._initListeners(i,a,n),this._sendRequest(n)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const n=this.xhr=new XMLHttpRequest;n.open("POST",this.url,!0),n.responseType="json"}_initListeners(n,i,a){const u=this.xhr,h=this.loader,p=(0,this.t)("Cannot upload file:")+` ${a.name}.`;u.addEventListener("error",()=>i(p)),u.addEventListener("abort",()=>i()),u.addEventListener("load",()=>{const g=u.response;if(!g||!g.uploaded)return i(g&&g.error&&g.error.message?g.error.message:p);n({default:g.url})}),u.upload&&u.upload.addEventListener("progress",g=>{g.lengthComputable&&(h.uploadTotal=g.total,h.uploaded=g.loaded)})}_sendRequest(n){const i=new FormData;i.append("upload",n),i.append("ckCsrfToken",Qne()),this.xhr.send(i)}}function fl(l,n,i,a){let u,h=null;typeof a=="function"?u=a:(h=l.commands.get(a),u=()=>{l.execute(a)}),l.model.document.on("change:data",(p,g)=>{if(h&&!h.isEnabled||!n.isEnabled)return;const b=Ar(l.model.document.selection.getRanges());if(!b.isCollapsed||g.isUndo||!g.isLocal)return;const w=Array.from(l.model.document.differ.getChanges()),C=w[0];if(w.length!=1||C.type!=="insert"||C.name!="$text"||C.length!=1)return;const E=C.position.parent;if(E.is("element","codeBlock")||E.is("element","listItem")&&typeof a!="function"&&!["numberedList","bulletedList","todoList"].includes(a)||h&&h.value===!0)return;const M=E.getChild(0),O=l.model.createRangeOn(M);if(!O.containsRange(b)&&!b.end.isEqual(O.end))return;const L=i.exec(M.data.substr(0,b.end.offset));L&&l.model.enqueueChange(F=>{const H=F.createPositionAt(E,0),K=F.createPositionAt(E,L[0].length),X=new Yo(H,K);if(u({match:L})!==!1){F.remove(X);const oe=l.model.document.selection.getFirstRange(),le=F.createRangeIn(E);!E.isEmpty||le.isEqual(oe)||le.containsRange(oe,!0)||F.remove(E)}X.detach(),l.model.enqueueChange(()=>{l.plugins.get("Delete").requestUndoOnBackspace()})})})}function Ed(l,n,i,a){let u,h;i instanceof RegExp?u=i:h=i,h=h||(p=>{let g;const b=[],w=[];for(;(g=u.exec(p))!==null&&!(g&&g.length<4);){let{index:C,1:E,2:M,3:O}=g;const L=E+M+O;C+=g[0].length-L.length;const F=[C,C+E.length],H=[C+E.length+M.length,C+E.length+M.length+O.length];b.push(F),b.push(H),w.push([C+E.length,C+E.length+M.length])}return{remove:b,format:w}}),l.model.document.on("change:data",(p,g)=>{if(g.isUndo||!g.isLocal||!n.isEnabled)return;const b=l.model,w=b.document.selection;if(!w.isCollapsed)return;const C=Array.from(b.document.differ.getChanges()),E=C[0];if(C.length!=1||E.type!=="insert"||E.name!="$text"||E.length!=1)return;const M=w.focus,O=M.parent,{text:L,range:F}=function(oe,le){let De=oe.start;return{text:Array.from(oe.getItems()).reduce((mt,mn)=>!mn.is("$text")&&!mn.is("$textProxy")||mn.getAttribute("code")?(De=le.createPositionAfter(mn),""):mt+mn.data,""),range:le.createRange(De,oe.end)}}(b.createRange(b.createPositionAt(O,0),M),b),H=h(L),K=tO(F.start,H.format,b),X=tO(F.start,H.remove,b);K.length&&X.length&&b.enqueueChange(oe=>{if(a(oe,K)!==!1){for(const le of X.reverse())oe.remove(le);b.enqueueChange(()=>{l.plugins.get("Delete").requestUndoOnBackspace()})}})})}function tO(l,n,i){return n.filter(a=>a[0]!==void 0&&a[1]!==void 0).map(a=>i.createRange(l.getShiftedBy(a[0]),l.getShiftedBy(a[1])))}function Vk(l,n){return(i,a)=>{if(!l.commands.get(n).isEnabled)return!1;const u=l.model.schema.getValidRanges(a,n);for(const h of u)i.setAttribute(n,!0,h);i.removeSelectionAttribute(n)}}class nO extends wt{constructor(n,i){super(n),this.attributeKey=i}refresh(){const n=this.editor.model,i=n.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=n.schema.checkAttributeInSelection(i.selection,this.attributeKey)}execute(n={}){const i=this.editor.model,a=i.document.selection,u=n.forceValue===void 0?!this.value:n.forceValue;i.change(h=>{if(a.isCollapsed)u?h.setSelectionAttribute(this.attributeKey,!0):h.removeSelectionAttribute(this.attributeKey);else{const p=i.schema.getValidRanges(a.getRanges(),this.attributeKey);for(const g of p)u?h.setAttribute(this.attributeKey,u,g):h.removeAttribute(this.attributeKey,g)}})}_getValueFromFirstAllowedNode(){const n=this.editor.model,i=n.schema,a=n.document.selection;if(a.isCollapsed)return a.hasAttribute(this.attributeKey);for(const u of a.getRanges())for(const h of u.getItems())if(i.checkAttribute(h,this.attributeKey))return h.hasAttribute(this.attributeKey);return!1}}const Sd="bold";class Jne extends ge{static get pluginName(){return"BoldEditing"}init(){const n=this.editor,i=this.editor.t;n.model.schema.extend("$text",{allowAttributes:Sd}),n.model.schema.setAttributeProperties(Sd,{isFormatting:!0,copyOnEnter:!0}),n.conversion.attributeToElement({model:Sd,view:"strong",upcastAlso:["b",a=>{const u=a.getStyle("font-weight");return u&&(u=="bold"||Number(u)>=600)?{name:!0,styles:["font-weight"]}:null}]}),n.commands.add(Sd,new nO(n,Sd)),n.keystrokes.set("CTRL+B",Sd),n.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Bold text"),keystroke:"CTRL+B"}]})}}function rO({editor:l,commandName:n,plugin:i,icon:a,label:u,keystroke:h}){return p=>{const g=l.commands.get(n),b=new p(l.locale);return b.set({label:u,icon:a,keystroke:h,isToggleable:!0}),b.bind("isEnabled").to(g,"isEnabled"),i.listenTo(b,"execute",()=>{l.execute(n),l.editing.view.focus()}),b}}const Uk="bold";class Xne extends ge{static get pluginName(){return"BoldUI"}init(){const n=this.editor,i=n.locale.t,a=n.commands.get(Uk),u=rO({editor:n,commandName:Uk,plugin:this,icon:ht.bold,label:i("Bold"),keystroke:"CTRL+B"});n.ui.componentFactory.add(Uk,()=>{const h=u(Ft);return h.set({tooltip:!0}),h.bind("isOn").to(a,"value"),h}),n.ui.componentFactory.add("menuBar:"+Uk,()=>u(Zo))}}var oO=s(4199),ere={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(oO.A,ere),oO.A.locals;const Dd="italic";class tre extends ge{static get pluginName(){return"ItalicEditing"}init(){const n=this.editor,i=this.editor.t;n.model.schema.extend("$text",{allowAttributes:Dd}),n.model.schema.setAttributeProperties(Dd,{isFormatting:!0,copyOnEnter:!0}),n.conversion.attributeToElement({model:Dd,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),n.commands.add(Dd,new nO(n,Dd)),n.keystrokes.set("CTRL+I",Dd),n.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Italic text"),keystroke:"CTRL+I"}]})}}const Hk="italic";class nre extends ge{static get pluginName(){return"ItalicUI"}init(){const n=this.editor,i=n.commands.get(Hk),a=n.locale.t,u=rO({editor:n,commandName:Hk,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:a("Italic")});n.ui.componentFactory.add(Hk,()=>{const h=u(Ft);return h.set({tooltip:!0}),h.bind("isOn").to(i,"value"),h}),n.ui.componentFactory.add("menuBar:"+Hk,()=>u(Zo))}}class rre extends wt{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(n={}){const i=this.editor.model,a=i.schema,u=i.document.selection,h=Array.from(u.getSelectedBlocks()),p=n.forceValue===void 0?!this.value:n.forceValue;i.change(g=>{if(p){const b=h.filter(w=>Wk(w)||sO(a,w));this._applyQuote(g,b)}else this._removeQuote(g,h.filter(Wk))})}_getValue(){const n=Ar(this.editor.model.document.selection.getSelectedBlocks());return!(!n||!Wk(n))}_checkEnabled(){if(this.value)return!0;const n=this.editor.model.document.selection,i=this.editor.model.schema,a=Ar(n.getSelectedBlocks());return!!a&&sO(i,a)}_removeQuote(n,i){iO(n,i).reverse().forEach(a=>{if(a.start.isAtStart&&a.end.isAtEnd)return void n.unwrap(a.start.parent);if(a.start.isAtStart){const h=n.createPositionBefore(a.start.parent);return void n.move(a,h)}a.end.isAtEnd||n.split(a.end);const u=n.createPositionAfter(a.end.parent);n.move(a,u)})}_applyQuote(n,i){const a=[];iO(n,i).reverse().forEach(u=>{let h=Wk(u.start);h||(h=n.createElement("blockQuote"),n.wrap(u,h)),a.push(h)}),a.reverse().reduce((u,h)=>u.nextSibling==h?(n.merge(n.createPositionAfter(u)),u):h)}}function Wk(l){return l.parent.name=="blockQuote"?l.parent:null}function iO(l,n){let i,a=0;const u=[];for(;a<n.length;){const h=n[a],p=n[a+1];i||(i=l.createPositionBefore(h)),p&&h.nextSibling==p||(u.push(l.createRange(i,l.createPositionAfter(h))),i=null),a++}return u}function sO(l,n){const i=l.checkChild(n.parent,"blockQuote"),a=l.checkChild(["$root","blockQuote"],n);return i&&a}class ore extends ge{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Lk,va]}init(){const n=this.editor,i=n.model.schema;n.commands.add("blockQuote",new rre(n)),i.register("blockQuote",{inheritAllFrom:"$container"}),n.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),n.model.document.registerPostFixer(p=>{const g=n.model.document.differ.getChanges();for(const b of g)if(b.type=="insert"){const w=b.position.nodeAfter;if(!w)continue;if(w.is("element","blockQuote")&&w.isEmpty)return p.remove(w),!0;if(w.is("element","blockQuote")&&!i.checkChild(b.position,w))return p.unwrap(w),!0;if(w.is("element")){const C=p.createRangeIn(w);for(const E of C.getItems())if(E.is("element","blockQuote")&&!i.checkChild(p.createPositionBefore(E),E))return p.unwrap(E),!0}}else if(b.type=="remove"){const w=b.position.parent;if(w.is("element","blockQuote")&&w.isEmpty)return p.remove(w),!0}return!1});const a=this.editor.editing.view.document,u=n.model.document.selection,h=n.commands.get("blockQuote");this.listenTo(a,"enter",(p,g)=>{!u.isCollapsed||!h.value||u.getLastPosition().parent.isEmpty&&(n.execute("blockQuote"),n.editing.view.scrollToTheSelection(),g.preventDefault(),p.stop())},{context:"blockquote"}),this.listenTo(a,"delete",(p,g)=>{if(g.direction!="backward"||!u.isCollapsed||!h.value)return;const b=u.getLastPosition().parent;b.isEmpty&&!b.previousSibling&&(n.execute("blockQuote"),n.editing.view.scrollToTheSelection(),g.preventDefault(),p.stop())},{context:"blockquote"})}}var aO=s(8708),ire={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(aO.A,ire),aO.A.locals;class sre extends ge{static get pluginName(){return"BlockQuoteUI"}init(){const n=this.editor,i=n.commands.get("blockQuote");n.ui.componentFactory.add("blockQuote",()=>{const a=this._createButton(Ft);return a.set({tooltip:!0}),a.bind("isOn").to(i,"value"),a}),n.ui.componentFactory.add("menuBar:blockQuote",()=>this._createButton(Zo))}_createButton(n){const i=this.editor,a=i.locale,u=i.commands.get("blockQuote"),h=new n(i.locale),p=a.t;return h.set({label:p("Block quote"),icon:ht.quote,isToggleable:!0}),h.bind("isEnabled").to(u,"isEnabled"),this.listenTo(h,"execute",()=>{i.execute("blockQuote"),i.editing.view.focus()}),h}}class are extends ge{static get pluginName(){return"CKBoxUI"}afterInit(){const n=this.editor;if(!n.commands.get("ckbox"))return;const i=n.t,a=n.ui.componentFactory;if(a.add("ckbox",()=>{const u=this._createButton(Ft);return u.tooltip=!0,u}),a.add("menuBar:ckbox",()=>this._createButton(Zo)),n.plugins.has("ImageInsertUI")){const u=n.plugins.get("ImageInsertUI");u.registerIntegration({name:"assetManager",observable:()=>n.commands.get("ckbox"),buttonViewCreator:()=>{const h=this.editor.ui.componentFactory.create("ckbox");return h.icon=ht.imageAssetManager,h.bind("label").to(u,"isImageSelected",p=>i(p?"Replace image with file manager":"Insert image with file manager")),h},formViewCreator:()=>{const h=this.editor.ui.componentFactory.create("ckbox");return h.icon=ht.imageAssetManager,h.withText=!0,h.bind("label").to(u,"isImageSelected",p=>i(p?"Replace with file manager":"Insert with file manager")),h.on("execute",()=>{u.dropdownView.isOpen=!1}),h}})}}_createButton(n){const i=this.editor,a=i.locale,u=new n(a),h=i.commands.get("ckbox"),p=a.t;return u.set({label:p("Open file manager"),icon:ht.browseFiles}),u.bind("isOn","isEnabled").to(h,"value","isEnabled"),u.on("execute",()=>{i.execute("ckbox")}),u}}var lre=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],pf=l=>{let n=0;for(let i=0;i<l.length;i++){let a=l[i];n=83*n+lre.indexOf(a)}return n},MA=l=>{let n=l/255;return n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)},PA=l=>{let n=Math.max(0,Math.min(1,l));return n<=.0031308?Math.trunc(12.92*n*255+.5):Math.trunc(255*(1.055*Math.pow(n,.4166666666666667)-.055)+.5)},NA=(l,n)=>(i=>i<0?-1:1)(l)*Math.pow(Math.abs(l),n),lO=class extends Error{constructor(l){super(l),this.name="ValidationError",this.message=l}},cre=l=>{if(!l||l.length<6)throw new lO("The blurhash string must be at least 6 characters");let n=pf(l[0]),i=Math.floor(n/9)+1,a=n%9+1;if(l.length!==4+2*a*i)throw new lO(`blurhash length mismatch: length is ${l.length} but it should be ${4+2*a*i}`)},ure=l=>{let n=l>>8&255,i=255&l;return[MA(l>>16),MA(n),MA(i)]},dre=(l,n)=>{let i=Math.floor(l/361),a=Math.floor(l/19)%19,u=l%19;return[NA((i-9)/9,2)*n,NA((a-9)/9,2)*n,NA((u-9)/9,2)*n]},hre=(l,n,i,a)=>{cre(l),a|=1;let u=pf(l[0]),h=Math.floor(u/9)+1,p=u%9+1,g=(pf(l[1])+1)/166,b=new Array(p*h);for(let E=0;E<b.length;E++)if(E===0){let M=pf(l.substring(2,6));b[E]=ure(M)}else{let M=pf(l.substring(4+2*E,6+2*E));b[E]=dre(M,g*a)}let w=4*n,C=new Uint8ClampedArray(w*i);for(let E=0;E<i;E++)for(let M=0;M<n;M++){let O=0,L=0,F=0;for(let oe=0;oe<h;oe++)for(let le=0;le<p;le++){let De=Math.cos(Math.PI*M*le/n)*Math.cos(Math.PI*E*oe/i),rt=b[le+oe*p];O+=rt[0]*De,L+=rt[1]*De,F+=rt[2]*De}let H=PA(O),K=PA(L),X=PA(F);C[4*M+0+E*w]=H,C[4*M+1+E*w]=K,C[4*M+2+E*w]=X,C[4*M+3+E*w]=255}return C},pre=Object.defineProperty,cO=Object.getOwnPropertySymbols,fre=Object.prototype.hasOwnProperty,mre=Object.prototype.propertyIsEnumerable,uO=(l,n,i)=>n in l?pre(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i;function dO(l){const n=[];let i=0;for(const u in l){const h=parseInt(u,10);isNaN(h)||(h>i&&(i=h),n.push(`${l[u]} ${u}w`))}const a=[{srcset:n.join(","),sizes:`(max-width: ${i}px) 100vw, ${i}px`,type:"image/webp"}];return{imageFallbackUrl:l.default,imageSources:a}}const ff=32;function hO({url:l,method:n="GET",data:i,onUploadProgress:a,signal:u,authorization:h}){const p=new XMLHttpRequest;p.open(n,l.toString()),p.setRequestHeader("Authorization",h),p.setRequestHeader("CKBox-Version","CKEditor 5"),p.responseType="json";const g=()=>{p.abort()};return new Promise((b,w)=>{u.throwIfAborted(),u.addEventListener("abort",g),p.addEventListener("loadstart",()=>{u.addEventListener("abort",g)}),p.addEventListener("loadend",()=>{u.removeEventListener("abort",g)}),p.addEventListener("error",()=>{w()}),p.addEventListener("abort",()=>{w()}),p.addEventListener("load",()=>{const C=p.response;if(!C||C.statusCode>=400)return w(C&&C.message);b(C)}),a&&p.upload.addEventListener("progress",C=>{a(C)}),p.send(i)})}const gre={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};function bre(l,n){return i=this,a=null,u=function*(){try{const h=yield fetch(l,((p,g)=>{for(var b in g||(g={}))fre.call(g,b)&&uO(p,b,g[b]);if(cO)for(var b of cO(g))mre.call(g,b)&&uO(p,b,g[b]);return p})({method:"HEAD",cache:"force-cache"},n));return h.ok&&h.headers.get("content-type")||""}catch{return""}},new Promise((h,p)=>{var g=C=>{try{w(u.next(C))}catch(E){p(E)}},b=C=>{try{w(u.throw(C))}catch(E){p(E)}},w=C=>C.done?h(C.value):Promise.resolve(C.value).then(g,b);w((u=u.apply(i,a)).next())});var i,a,u}var kre=Object.defineProperty,pO=Object.getOwnPropertySymbols,vre=Object.prototype.hasOwnProperty,wre=Object.prototype.propertyIsEnumerable,fO=(l,n,i)=>n in l?kre(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,mO=(l,n)=>{for(var i in n||(n={}))vre.call(n,i)&&fO(l,i,n[i]);if(pO)for(var i of pO(n))wre.call(n,i)&&fO(l,i,n[i]);return l};class yre extends wt{constructor(n){super(n),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const n=this.editor.commands.get("insertImage"),i=this.editor.commands.get("link");return!(!n.isEnabled&&!i.isEnabled)}_prepareOptions(){const n=this.editor.config.get("ckbox");return{theme:n.theme,language:n.language,tokenUrl:n.tokenUrl,serviceOrigin:n.serviceOrigin,forceDemoLabel:n.forceDemoLabel,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:i=>this.fire("ckbox:choose",i)}}}_initListeners(){const n=this.editor,i=n.model,a=!n.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=Or(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null,n.editing.view.focus())}),this.on("ckbox:choose",(u,h)=>{if(!this.isEnabled)return;const p=n.commands.get("insertImage"),g=n.commands.get("link"),b=function({assets:C,isImageAllowed:E,isLinkAllowed:M}){return C.map(O=>function(L){const F=L.data.metadata;return F?F.width&&F.height:!1}(O)?{id:O.data.id,type:"image",attributes:_re(O)}:{id:O.data.id,type:"link",attributes:Cre(O)}).filter(O=>O.type==="image"?E:M)}({assets:h,isImageAllowed:p.isEnabled,isLinkAllowed:g.isEnabled}),w=b.length;w!==0&&(i.change(C=>{for(const E of b){const M=E===b[w-1],O=w===1;this._insertAsset(E,M,C,O),a&&(setTimeout(()=>this._chosenAssets.delete(E),1e3),this._chosenAssets.add(E))}}),n.editing.view.focus())}),this.listenTo(n,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(n,i,a,u){const h=this.editor.model.document.selection;a.removeSelectionAttribute("linkHref"),n.type==="image"?this._insertImage(n):this._insertLink(n,a,u),i||a.setSelection(h.getLastPosition())}_insertImage(n){const i=this.editor,{imageFallbackUrl:a,imageSources:u,imageTextAlternative:h,imageWidth:p,imageHeight:g,imagePlaceholder:b}=n.attributes;i.execute("insertImage",{source:mO({src:a,sources:u,alt:h,width:p,height:g},b?{placeholder:b}:null)})}_insertLink(n,i,a){const u=this.editor,h=u.model,p=h.document.selection,{linkName:g,linkHref:b}=n.attributes;if(p.isCollapsed){const w=ys(p.getAttributes()),C=i.createText(g,w);if(!a){const M=p.getLastPosition(),O=M.parent;O.name==="paragraph"&&O.isEmpty||u.execute("insertParagraph",{position:M});const L=h.insertContent(C);return i.setSelection(L),void u.execute("link",b)}const E=h.insertContent(C);i.setSelection(E)}u.execute("link",b)}}function _re(l){const{imageFallbackUrl:n,imageSources:i}=dO(l.data.imageUrls),{description:a,width:u,height:h,blurHash:p}=l.data.metadata,g=function(b){if(b)try{const w=`${ff}px`,C=document.createElement("canvas");C.setAttribute("width",w),C.setAttribute("height",w);const E=C.getContext("2d");if(!E)return;const M=E.createImageData(ff,ff),O=hre(b,ff,ff);return M.data.set(O),E.putImageData(M,0,0),C.toDataURL()}catch{return}}(p);return mO({imageFallbackUrl:n,imageSources:i,imageTextAlternative:a||"",imageWidth:u,imageHeight:h},g?{imagePlaceholder:g}:null)}function Cre(l){return{linkName:l.data.name,linkHref:Are(l)}}function Are(l){const n=new URL(l.data.url);return n.searchParams.set("download","true"),n.toString()}var RA=(l,n,i)=>new Promise((a,u)=>{var h=b=>{try{g(i.next(b))}catch(w){u(w)}},p=b=>{try{g(i.throw(b))}catch(w){u(w)}},g=b=>b.done?a(b.value):Promise.resolve(b.value).then(h,p);g((i=i.apply(l,n)).next())});class gO extends ge{static get pluginName(){return"CKBoxUtils"}static get requires(){return["CloudServices"]}init(){return RA(this,null,function*(){const n=this.editor,i=!!n.config.get("ckbox"),a=!!window.CKBox;if(!i&&!a)return;n.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:n.locale.uiLanguage,theme:"lark",tokenUrl:n.config.get("cloudServices.tokenUrl")});const u=n.plugins.get("CloudServices"),h=n.config.get("cloudServices.tokenUrl"),p=n.config.get("ckbox.tokenUrl");if(!p)throw new R("ckbox-plugin-missing-token-url",this);this._token=p==h?u.token:yield u.registerTokenUrl(p)})}getToken(){return this._token}getWorkspaceId(){const n=(0,this.editor.t)("Cannot access default workspace."),i=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),a=function(u,h){const[,p]=u.value.split("."),g=JSON.parse(atob(p)),b=g.auth&&g.auth.ckbox&&g.auth.ckbox.workspaces||[g.aud];return h?(g.auth&&g.auth.ckbox&&g.auth.ckbox.role)=="superadmin"||b.includes(h)?h:null:b[0]}(this._token,i);if(a==null)throw W("ckbox-access-default-workspace-error"),n;return a}getCategoryIdForFile(n,i){return RA(this,null,function*(){const a=(0,this.editor.t)("Cannot determine a category for the uploaded file."),u=this.editor.config.get("ckbox.defaultUploadCategories"),h=this._getAvailableCategories(i),p=typeof n=="string"?(g=yield bre(n,i),gre[g]):function(C){const E=C.name,M=new RegExp("\\.(?<ext>[^.]+)$");return E.match(M).groups.ext.toLowerCase()}(n);var g;const b=yield h;if(!b)throw a;if(u){const C=Object.keys(u).find(E=>u[E].find(M=>M.toLowerCase()==p));if(C){const E=b.find(M=>M.id===C||M.name===C);if(!E)throw a;return E.id}}const w=b.find(C=>C.extensions.find(E=>E.toLowerCase()==p));if(!w)throw a;return w.id})}_getAvailableCategories(n){return RA(this,null,function*(){const i=this.editor,a=this._token,{signal:u}=n,h=i.config.get("ckbox.serviceOrigin"),p=this.getWorkspaceId();try{const b=[];let w,C=0;do{const E=yield g(C);b.push(...E.items),w=E.totalCount-(C+50),C+=50}while(w>0);return b}catch{return u.throwIfAborted(),void W("ckbox-fetch-category-http-error")}function g(b){const w=new URL("categories",h);return w.searchParams.set("limit","50"),w.searchParams.set("offset",b.toString()),w.searchParams.set("workspaceId",p),hO({url:w,signal:u,authorization:a.value})}})}}var OA=(l,n,i)=>new Promise((a,u)=>{var h=b=>{try{g(i.next(b))}catch(w){u(w)}},p=b=>{try{g(i.throw(b))}catch(w){u(w)}},g=b=>b.done?a(b.value):Promise.resolve(b.value).then(h,p);g((i=i.apply(l,n)).next())});class xre extends ge{static get requires(){return["ImageUploadEditing","ImageUploadProgress",ts,bO]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return OA(this,null,function*(){const n=this.editor,i=!!n.config.get("ckbox"),a=!!window.CKBox;if(!i&&!a)return;const u=n.plugins.get(ts),h=n.plugins.get(gO);u.createUploadAdapter=b=>new Ere(b,n,h);const p=!n.config.get("ckbox.ignoreDataId"),g=n.plugins.get("ImageUploadEditing");p&&g.on("uploadComplete",(b,{imageElement:w,data:C})=>{n.model.change(E=>{E.setAttribute("ckboxImageId",C.ckboxImageId,w)})})})}}class Ere{constructor(n,i,a){this.loader=n,this.token=a.getToken(),this.ckboxUtils=a,this.editor=i,this.controller=new AbortController,this.serviceOrigin=i.config.get("ckbox.serviceOrigin")}upload(){return OA(this,null,function*(){const n=this.ckboxUtils,i=this.editor.t,a=yield this.loader.file,u=yield n.getCategoryIdForFile(a,{signal:this.controller.signal}),h=new URL("assets",this.serviceOrigin),p=new FormData;return h.searchParams.set("workspaceId",n.getWorkspaceId()),p.append("categoryId",u),p.append("file",a),hO({method:"POST",url:h,data:p,onUploadProgress:g=>{g.lengthComputable&&(this.loader.uploadTotal=g.total,this.loader.uploaded=g.loaded)},signal:this.controller.signal,authorization:this.token.value}).then(g=>OA(this,null,function*(){const b=dO(g.imageUrls);return{ckboxImageId:g.id,default:b.imageFallbackUrl,sources:b.imageSources}})).catch(()=>{const g=i("Cannot upload file:")+` ${a.name}.`;return Promise.reject(g)})})}abort(){this.controller.abort()}}class bO extends ge{static get pluginName(){return"CKBoxEditing"}static get requires(){return["LinkEditing","PictureEditing",xre,gO]}init(){const n=this.editor;this._shouldBeInitialised()&&(this._checkImagePlugins(),vO()&&n.commands.add("ckbox",new yre(n)))}afterInit(){const n=this.editor;this._shouldBeInitialised()&&(n.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()))}_shouldBeInitialised(){return!!this.editor.config.get("ckbox")||vO()}_checkImagePlugins(){const n=this.editor;n.plugins.has("ImageBlockEditing")||n.plugins.has("ImageInlineEditing")||W("ckbox-plugin-image-feature-missing",n)}_initSchema(){const n=this.editor.model.schema;n.extend("$text",{allowAttributes:"ckboxLinkId"}),n.isRegistered("imageBlock")&&n.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),n.isRegistered("imageInline")&&n.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),n.addAttributeCheck((i,a)=>{if(!i.last.getAttribute("linkHref")&&a==="ckboxLinkId")return!1})}_initConversion(){const n=this.editor;n.conversion.for("downcast").add(a=>{a.on("attribute:ckboxLinkId:imageBlock",(u,h,p)=>{const{writer:g,mapper:b,consumable:w}=p;if(!w.consume(h.item,u.name))return;const C=[...b.toViewElement(h.item).getChildren()].find(E=>E.name==="a");C&&(h.item.hasAttribute("ckboxLinkId")?g.setAttribute("data-ckbox-resource-id",h.item.getAttribute("ckboxLinkId"),C):g.removeAttribute("data-ckbox-resource-id",C))},{priority:"low"}),a.on("attribute:ckboxLinkId",(u,h,p)=>{const{writer:g,mapper:b,consumable:w}=p;if(w.consume(h.item,u.name)){if(h.attributeOldValue){const C=kO(g,h.attributeOldValue);g.unwrap(b.toViewRange(h.range),C)}if(h.attributeNewValue){const C=kO(g,h.attributeNewValue);if(h.item.is("selection")){const E=g.document.selection;g.wrap(E.getFirstRange(),C)}else g.wrap(b.toViewRange(h.range),C)}}},{priority:"low"})}),n.conversion.for("upcast").add(a=>{a.on("element:a",(u,h,p)=>{const{writer:g,consumable:b}=p;if(!h.viewItem.getAttribute("href")||!b.consume(h.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const w=h.viewItem.getAttribute("data-ckbox-resource-id");if(w)if(h.modelRange)for(let C of h.modelRange.getItems())C.is("$textProxy")&&(C=C.textNode),Dre(C)&&g.setAttribute("ckboxLinkId",w,C);else{const C=h.modelCursor.nodeBefore||h.modelCursor.parent;g.setAttribute("ckboxLinkId",w,C)}},{priority:"low"})}),n.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),n.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:a=>a.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}});const i=n.commands.get("replaceImageSource");i&&this.listenTo(i,"cleanupImage",(a,[u,h])=>{u.removeAttribute("ckboxImageId",h)})}_initFixers(){const n=this.editor,i=n.model,a=i.document.selection;i.document.registerPostFixer(function(u){return h=>{let p=!1;const g=u.model,b=u.commands.get("ckbox");if(!b)return p;for(const w of g.document.differ.getChanges()){if(w.type!=="insert"&&w.type!=="attribute")continue;const C=w.type==="insert"?new se(w.position,w.position.getShiftedBy(w.length)):w.range,E=w.type==="attribute"&&w.attributeKey==="linkHref"&&w.attributeNewValue===null;for(const M of C.getItems()){if(E&&M.hasAttribute("ckboxLinkId")){h.removeAttribute("ckboxLinkId",M),p=!0;continue}const O=Sre(M,b._chosenAssets);for(const L of O){const F=L.type==="image"?"ckboxImageId":"ckboxLinkId";L.id!==M.getAttribute(F)&&(h.setAttribute(F,L.id,M),p=!0)}}}return p}}(n)),i.document.registerPostFixer(function(u){return h=>!(u.hasAttribute("linkHref")||!u.hasAttribute("ckboxLinkId"))&&(h.removeSelectionAttribute("ckboxLinkId"),!0)}(a))}}function Sre(l,n){const i=l.is("element","imageInline")||l.is("element","imageBlock"),a=l.hasAttribute("linkHref");return[...n].filter(u=>u.type==="image"&&i?u.attributes.imageFallbackUrl===l.getAttribute("src"):u.type==="link"&&a?u.attributes.linkHref===l.getAttribute("linkHref"):void 0)}function kO(l,n){const i=l.createAttributeElement("a",{"data-ckbox-resource-id":n},{priority:5});return l.setCustomProperty("link",!0,i),i}function Dre(l){return!!l.is("$text")||!(!l.is("element","imageInline")&&!l.is("element","imageBlock"))}function vO(){return!!window.CKBox}var wO=s(1866),Tre={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(wO.A,Tre),wO.A.locals;class Ire extends ge{static get pluginName(){return"CKFinderUI"}init(){const n=this.editor,i=n.ui.componentFactory,a=n.t;if(i.add("ckfinder",u=>{const h=this._createButton(Ft),p=u.t;return h.set({label:p("Insert image or file"),tooltip:!0}),h}),i.add("menuBar:ckfinder",u=>{const h=this._createButton(Zo),p=u.t;return h.label=p("Image or file"),h}),n.plugins.has("ImageInsertUI")){const u=n.plugins.get("ImageInsertUI");u.registerIntegration({name:"assetManager",observable:()=>n.commands.get("ckfinder"),buttonViewCreator:()=>{const h=this.editor.ui.componentFactory.create("ckfinder");return h.icon=ht.imageAssetManager,h.bind("label").to(u,"isImageSelected",p=>a(p?"Replace image with file manager":"Insert image with file manager")),h},formViewCreator:()=>{const h=this.editor.ui.componentFactory.create("ckfinder");return h.icon=ht.imageAssetManager,h.withText=!0,h.bind("label").to(u,"isImageSelected",p=>a(p?"Replace with file manager":"Insert with file manager")),h.on("execute",()=>{u.dropdownView.isOpen=!1}),h}})}}_createButton(n){const i=this.editor,a=new n(i.locale),u=i.commands.get("ckfinder");return a.icon=ht.browseFiles,a.bind("isEnabled").to(u),a.on("execute",()=>{i.execute("ckfinder"),i.editing.view.focus()}),a}}class Mre extends wt{constructor(n){super(n),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const n=this.editor.commands.get("insertImage"),i=this.editor.commands.get("link");this.isEnabled=n.isEnabled||i.isEnabled}execute(){const n=this.editor,i=this.editor.config.get("ckfinder.openerMethod")||"modal";if(i!="popup"&&i!="modal")throw new R("ckfinder-unknown-openermethod",n);const a=this.editor.config.get("ckfinder.options")||{};a.chooseFiles=!0;const u=a.onInit;a.language||(a.language=n.locale.uiLanguage),a.onInit=h=>{u&&u(h),h.on("files:choose",p=>{const g=p.data.files.toArray(),b=g.filter(E=>!E.isImage()),w=g.filter(E=>E.isImage());for(const E of b)n.execute("link",E.getUrl());const C=[];for(const E of w){const M=E.getUrl();C.push(M||h.request("file:getProxyUrl",{file:E}))}C.length&&yO(n,C)}),h.on("file:choose:resizedImage",p=>{const g=p.data.resizedUrl;if(g)yO(n,[g]);else{const b=n.plugins.get("Notification"),w=n.locale.t;b.showWarning(w("Could not obtain resized image URL."),{title:w("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[i](a)}}function yO(l,n){if(l.commands.get("insertImage").isEnabled)l.execute("insertImage",{source:n});else{const i=l.plugins.get("Notification"),a=l.locale.t;i.showWarning(a("Could not insert image at the current position."),{title:a("Inserting image failed"),namespace:"ckfinder"})}}class Pre extends ge{static get pluginName(){return"CKFinderEditing"}static get requires(){return[wA,"LinkEditing"]}init(){const n=this.editor;if(!n.plugins.has("ImageBlockEditing")&&!n.plugins.has("ImageInlineEditing"))throw new R("ckfinder-missing-image-plugin",n);n.commands.add("ckfinder",new Mre(n))}}class Nre extends ge{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",ts]}init(){const n=this.editor,i=n.plugins.get("CloudServices"),a=i.token,u=i.uploadUrl;if(!a)return;const h=n.plugins.get("CloudServicesCore");this._uploadGateway=h.createUploadGateway(a,u),n.plugins.get(ts).createUploadAdapter=p=>new Rre(this._uploadGateway,p)}}class Rre{constructor(n,i){this.uploadGateway=n,this.loader=i}upload(){return this.loader.file.then(n=>(this.fileUploader=this.uploadGateway.upload(n),this.fileUploader.on("progress",(i,a)=>{this.loader.uploadTotal=a.total,this.loader.uploaded=a.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class Ore extends wt{constructor(n){super(n),this._isEnabledBasedOnSelection=!1}refresh(){const n=this.editor.model,i=Ar(n.document.selection.getSelectedBlocks());this.value=!!i&&i.is("element","paragraph"),this.isEnabled=!!i&&_O(i,n.schema)}execute(n={}){const i=this.editor.model,a=i.document,u=n.selection||a.selection;i.canEditAt(u)&&i.change(h=>{const p=u.getSelectedBlocks();for(const g of p)!g.is("element","paragraph")&&_O(g,i.schema)&&h.rename(g,"paragraph")})}}function _O(l,n){return n.checkChild(l.parent,"paragraph")&&!n.isObject(l)}class Bre extends wt{constructor(n){super(n),this._isEnabledBasedOnSelection=!1}execute(n){const i=this.editor.model,a=n.attributes;let u=n.position;i.canEditAt(u)&&i.change(h=>{if(u=this._findPositionToInsertParagraph(u,h),!u)return;const p=h.createElement("paragraph");a&&i.schema.setAllowedAttributes(p,a,h),i.insertContent(p,u),h.setSelection(p,"in")})}_findPositionToInsertParagraph(n,i){const a=this.editor.model;if(a.schema.checkChild(n,"paragraph"))return n;const u=a.schema.findAllowedParent(n,"paragraph");if(!u)return null;const h=n.parent,p=a.schema.checkChild(h,"$text");return h.isEmpty||p&&n.isAtEnd?a.createPositionAfter(h):!h.isEmpty&&p&&n.isAtStart?a.createPositionBefore(h):i.split(n,u).position}}const CO=class extends ge{static get pluginName(){return"Paragraph"}init(){const l=this.editor,n=l.model;l.commands.add("paragraph",new Ore(l)),l.commands.add("insertParagraph",new Bre(l)),n.schema.register("paragraph",{inheritAllFrom:"$block"}),l.conversion.elementToElement({model:"paragraph",view:"p"}),l.conversion.for("upcast").elementToElement({model:(i,{writer:a})=>CO.paragraphLikeElements.has(i.name)?i.isEmpty?null:a.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let BA=CO;BA.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class Lre extends wt{constructor(n,i){super(n),this.modelElements=i}refresh(){const n=Ar(this.editor.model.document.selection.getSelectedBlocks());this.value=!!n&&this.modelElements.includes(n.name)&&n.name,this.isEnabled=!!n&&this.modelElements.some(i=>AO(n,i,this.editor.model.schema))}execute(n){const i=this.editor.model,a=i.document,u=n.value;i.change(h=>{const p=Array.from(a.selection.getSelectedBlocks()).filter(g=>AO(g,u,i.schema));for(const g of p)g.is("element",u)||h.rename(g,u)})}}function AO(l,n,i){return i.checkChild(l.parent,n)&&!i.isObject(l)}const xO="paragraph";class jre extends ge{static get pluginName(){return"HeadingEditing"}constructor(n){super(n),n.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[BA]}init(){const n=this.editor,i=n.config.get("heading.options"),a=[];for(const u of i)u.model!=="paragraph"&&(n.model.schema.register(u.model,{inheritAllFrom:"$block"}),n.conversion.elementToElement(u),a.push(u.model));this._addDefaultH1Conversion(n),n.commands.add("heading",new Lre(n,a))}afterInit(){const n=this.editor,i=n.commands.get("enter"),a=n.config.get("heading.options");i&&this.listenTo(i,"afterExecute",(u,h)=>{const p=n.model.document.selection.getFirstPosition().parent;a.some(g=>p.is("element",g.model))&&!p.is("element",xO)&&p.childCount===0&&h.writer.rename(p,xO)})}_addDefaultH1Conversion(n){n.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:j.low+1})}}var EO=s(6269),Fre={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(EO.A,Fre),EO.A.locals;class zre extends ge{static get pluginName(){return"HeadingUI"}init(){const n=this.editor,i=n.t,a=function(p){const g=p.t,b={Paragraph:g("Paragraph"),"Heading 1":g("Heading 1"),"Heading 2":g("Heading 2"),"Heading 3":g("Heading 3"),"Heading 4":g("Heading 4"),"Heading 5":g("Heading 5"),"Heading 6":g("Heading 6")};return p.config.get("heading.options").map(w=>{const C=b[w.title];return C&&C!=w.title&&(w.title=C),w})}(n),u=i("Choose heading"),h=i("Heading");n.ui.componentFactory.add("heading",p=>{const g={},b=new Ki,w=n.commands.get("heading"),C=n.commands.get("paragraph"),E=[w];for(const O of a){const L={type:"button",model:new mR({label:O.title,class:O.class,role:"menuitemradio",withText:!0})};O.model==="paragraph"?(L.model.bind("isOn").to(C,"value"),L.model.set("commandName","paragraph"),E.push(C)):(L.model.bind("isOn").to(w,"value",F=>F===O.model),L.model.set({commandName:"heading",commandValue:O.model})),b.add(L),g[O.model]=O.title}const M=ba(p);return jN(M,b,{ariaLabel:h,role:"menu"}),M.buttonView.set({ariaLabel:h,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:h}),M.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),M.bind("isEnabled").toMany(E,"isEnabled",(...O)=>O.some(L=>L)),M.buttonView.bind("label").to(w,"value",C,"value",(O,L)=>{const F=L?"paragraph":O;return typeof F=="boolean"?u:g[F]?g[F]:u}),M.buttonView.bind("ariaLabel").to(w,"value",C,"value",(O,L)=>{const F=L?"paragraph":O;return typeof F=="boolean"?h:g[F]?`${g[F]}, ${h}`:h}),this.listenTo(M,"execute",O=>{const{commandName:L,commandValue:F}=O.source;n.execute(L,F?{value:F}:void 0),n.editing.view.focus()}),M}),n.ui.componentFactory.add("menuBar:heading",p=>{const g=new Cd(p),b=n.commands.get("heading"),w=n.commands.get("paragraph"),C=[b],E=new AA(p);g.set({class:"ck-heading-dropdown"}),E.set({ariaLabel:i("Heading"),role:"menu"}),g.buttonView.set({label:i("Heading")}),g.panelView.children.add(E);for(const M of a){const O=new _A(p,g),L=new Zo(p);O.children.add(L),E.items.add(O),L.set({label:M.title,role:"menuitemradio",class:M.class}),L.bind("ariaChecked").to(L,"isOn"),L.delegate("execute").to(g),L.on("execute",()=>{const F=M.model==="paragraph"?"paragraph":"heading";n.execute(F,{value:M.model}),n.editing.view.focus()}),M.model==="paragraph"?(L.bind("isOn").to(w,"value"),C.push(w)):L.bind("isOn").to(b,"value",F=>F===M.model)}return g.bind("isEnabled").toMany(C,"isEnabled",(...M)=>M.some(O=>O)),g})}}function SO(l){return l.createContainerElement("figure",{class:"image"},[l.createEmptyElement("img"),l.createSlot("children")])}function DO(l,n){const i=l.plugins.get("ImageUtils"),a=l.plugins.has("ImageInlineEditing")&&l.plugins.has("ImageBlockEditing");return h=>i.isInlineImageView(h)?a&&(h.getStyle("display")=="block"||h.findAncestor(i.isBlockImageView)?"imageBlock":"imageInline")!==n?null:u(h):null;function u(h){const p={name:!0};return h.hasAttribute("src")&&(p.attributes=["src"]),p}}function LA(l,n){const i=Ar(n.getSelectedBlocks());return!i||l.isObject(i)||i.isEmpty&&i.name!="listItem"?"imageBlock":"imageInline"}function qk(l){return l&&l.endsWith("px")?parseInt(l):null}function TO(l){const n=qk(l.getStyle("width")),i=qk(l.getStyle("height"));return!(!n||!i)}var $re=Object.defineProperty,IO=Object.getOwnPropertySymbols,Vre=Object.prototype.hasOwnProperty,Ure=Object.prototype.propertyIsEnumerable,MO=(l,n,i)=>n in l?$re(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,PO=(l,n)=>{for(var i in n||(n={}))Vre.call(n,i)&&MO(l,i,n[i]);if(IO)for(var i of IO(n))Ure.call(n,i)&&MO(l,i,n[i]);return l};const Hre=/^(image|image-inline)$/;class No extends ge{constructor(){super(...arguments),this._domEmitter=new(gi())}static get pluginName(){return"ImageUtils"}isImage(n){return this.isInlineImage(n)||this.isBlockImage(n)}isInlineImageView(n){return!!n&&n.is("element","img")}isBlockImageView(n){return!!n&&n.is("element","figure")&&n.hasClass("image")}insertImage(n={},i=null,a=null,u={}){const h=this.editor,p=h.model,g=p.document.selection,b=NO(h,i||g,a);n=PO(PO({},Object.fromEntries(g.getAttributes())),n);for(const w in n)p.schema.checkAttribute(b,w)||delete n[w];return p.change(w=>{const{setImageSizes:C=!0}=u,E=w.createElement(b,n);return p.insertObject(E,i,null,{setSelection:"on",findOptimalPosition:i||b=="imageInline"?void 0:"auto"}),E.parent?(C&&this.setImageNaturalSizeAttributes(E),E):null})}setImageNaturalSizeAttributes(n){const i=n.getAttribute("src");i&&(n.getAttribute("width")||n.getAttribute("height")||this.editor.model.change(a=>{const u=new m.window.Image;this._domEmitter.listenTo(u,"load",()=>{n.getAttribute("width")||n.getAttribute("height")||this.editor.model.enqueueChange(a.batch,h=>{h.setAttribute("width",u.naturalWidth,n),h.setAttribute("height",u.naturalHeight,n)}),this._domEmitter.stopListening(u,"load")}),u.src=i}))}getClosestSelectedImageWidget(n){const i=n.getFirstPosition();if(!i)return null;const a=n.getSelectedElement();if(a&&this.isImageWidget(a))return a;let u=i.parent;for(;u;){if(u.is("element")&&this.isImageWidget(u))return u;u=u.parent}return null}getClosestSelectedImageElement(n){const i=n.getSelectedElement();return this.isImage(i)?i:n.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(n){return n.findAncestor({classes:Hre})}isImageAllowed(){const n=this.editor.model.document.selection;return function(i,a){if(NO(i,a,null)=="imageBlock"){const h=function(p,g){const b=S4(p,g),w=b.start.parent;return w.isEmpty&&!w.is("element","$root")?w.parent:w}(a,i.model);if(i.model.schema.checkChild(h,"imageBlock"))return!0}else if(i.model.schema.checkChild(a.focus,"imageInline"))return!0;return!1}(this.editor,n)&&function(i){return[...i.focus.getAncestors()].every(a=>!a.is("element","imageBlock"))}(n)}toImageWidget(n,i,a){return i.setCustomProperty("image",!0,n),TA(n,i,{label:()=>{const u=this.findViewImgElement(n).getAttribute("alt");return u?`${u} ${a}`:a}})}isImageWidget(n){return!!n.getCustomProperty("image")&&tr(n)}isBlockImage(n){return!!n&&n.is("element","imageBlock")}isInlineImage(n){return!!n&&n.is("element","imageInline")}findViewImgElement(n){if(this.isInlineImageView(n))return n;const i=this.editor.editing.view;for(const{item:a}of i.createRangeIn(n))if(this.isInlineImageView(a))return a}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function NO(l,n,i){const a=l.model.schema,u=l.config.get("image.insert.type");return l.plugins.has("ImageBlockEditing")?l.plugins.has("ImageInlineEditing")?i||(u==="inline"?"imageInline":u!=="auto"?"imageBlock":n.is("selection")?LA(a,n):a.checkChild(n,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class Wre extends wt{refresh(){const n=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled&&n.hasAttribute("alt")?this.value=n.getAttribute("alt"):this.value=!1}execute(n){const i=this.editor,a=i.plugins.get("ImageUtils"),u=i.model,h=a.getClosestSelectedImageElement(u.document.selection);u.change(p=>{p.setAttribute("alt",n.newValue,h)})}}class qre extends ge{static get requires(){return[No]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new Wre(this.editor))}}var RO=s(4062),Gre={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(RO.A,Gre),RO.A.locals;var OO=s(2722),Kre={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(OO.A,Kre),OO.A.locals;class Yre extends Ye{constructor(n){super(n);const i=this.locale.t;this.focusTracker=new xr,this.keystrokes=new uo,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(i("Save"),ht.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),ht.cancel,"ck-button-cancel","cancel"),this._focusables=new bi,this._focusCycler=new vi({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),ek({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(n,i,a,u){const h=new Ft(this.locale);return h.set({label:n,icon:i,tooltip:!0}),h.extendTemplate({attributes:{class:a}}),u&&h.delegate("execute").to(this,u),h}_createLabeledInputView(){const n=this.locale.t,i=new _k(this.locale,xk);return i.label=n("Text alternative"),i}}function BO(l){const n=l.editing.view,i=Mo.defaultPositions,a=l.plugins.get("ImageUtils");return{target:n.domConverter.mapViewToDom(a.getClosestSelectedImageWidget(n.document.selection)),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}class Qre extends ge{static get requires(){return[Mk]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const n=this.editor,i=n.t;n.ui.componentFactory.add("imageTextAlternative",a=>{const u=n.commands.get("imageTextAlternative"),h=new Ft(a);return h.set({label:i("Change image text alternative"),icon:ht.textAlternative,tooltip:!0}),h.bind("isEnabled").to(u,"isEnabled"),h.bind("isOn").to(u,"value",p=>!!p),this.listenTo(h,"execute",()=>{this._showForm()}),h})}_createForm(){const n=this.editor,i=n.editing.view.document,a=n.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(SC(Yre))(n.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{n.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(u,h)=>{this._hideForm(!0),h()}),this.listenTo(n.ui,"update",()=>{a.getClosestSelectedImageWidget(i.selection)?this._isVisible&&function(u){const h=u.plugins.get("ContextualBalloon");if(u.plugins.get("ImageUtils").getClosestSelectedImageWidget(u.editing.view.document.selection)){const p=BO(u);h.updatePosition(p)}}(n):this._hideForm(!0)}),Xb({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const n=this.editor,i=n.commands.get("imageTextAlternative"),a=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:BO(n)}),a.fieldView.value=a.fieldView.element.value=i.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(n=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),n&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class LO extends ge{static get requires(){return[qre,Qre]}static get pluginName(){return"ImageTextAlternative"}}function jO(l,n){const i=(a,u,h)=>{if(!h.consumable.consume(u.item,a.name))return;const p=h.writer,g=h.mapper.toViewElement(u.item),b=l.findViewImgElement(g);u.attributeNewValue===null?(p.removeAttribute("srcset",b),p.removeAttribute("sizes",b)):u.attributeNewValue&&(p.setAttribute("srcset",u.attributeNewValue,b),p.setAttribute("sizes","100vw",b))};return a=>{a.on(`attribute:srcset:${n}`,i)}}function Gk(l,n,i){const a=(u,h,p)=>{if(!p.consumable.consume(h.item,u.name))return;const g=p.writer,b=p.mapper.toViewElement(h.item),w=l.findViewImgElement(b);g.setAttribute(h.attributeKey,h.attributeNewValue||"",w)};return u=>{u.on(`attribute:${i}:${n}`,a)}}class FO extends As{observe(n){this.listenTo(n,"load",(i,a)=>{const u=a.target;this.checkShouldIgnoreEventFromTarget(u)||u.tagName=="IMG"&&this._fireEvents(a)},{useCapture:!0})}stopObserving(n){this.stopListening(n)}_fireEvents(n){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",n))}}var Zre=Object.defineProperty,zO=Object.getOwnPropertySymbols,Jre=Object.prototype.hasOwnProperty,Xre=Object.prototype.propertyIsEnumerable,$O=(l,n,i)=>n in l?Zre(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,Kk=(l,n)=>{for(var i in n||(n={}))Jre.call(n,i)&&$O(l,i,n[i]);if(zO)for(var i of zO(n))Xre.call(n,i)&&$O(l,i,n[i]);return l};class eoe extends wt{constructor(n){super(n);const i=n.config.get("image.insert.type");n.plugins.has("ImageBlockEditing")||i==="block"&&z("image-block-plugin-required"),n.plugins.has("ImageInlineEditing")||i==="inline"&&z("image-inline-plugin-required")}refresh(){const n=this.editor.plugins.get("ImageUtils");this.isEnabled=n.isImageAllowed()}execute(n){const i=fn(n.source),a=this.editor.model.document.selection,u=this.editor.plugins.get("ImageUtils"),h=Object.fromEntries(a.getAttributes());i.forEach((p,g)=>{const b=a.getSelectedElement();if(typeof p=="string"&&(p={src:p}),g&&b&&u.isImage(b)){const w=this.editor.model.createPositionAfter(b);u.insertImage(Kk(Kk({},p),h),w)}else u.insertImage(Kk(Kk({},p),h))})}}class toe extends wt{constructor(n){super(n),this.decorate("cleanupImage")}refresh(){const n=this.editor.plugins.get("ImageUtils"),i=this.editor.model.document.selection.getSelectedElement();this.isEnabled=n.isImage(i),this.value=this.isEnabled?i.getAttribute("src"):null}execute(n){const i=this.editor.model.document.selection.getSelectedElement(),a=this.editor.plugins.get("ImageUtils");this.editor.model.change(u=>{u.setAttribute("src",n.source,i),this.cleanupImage(u,i),a.setImageNaturalSizeAttributes(i)})}cleanupImage(n,i){n.removeAttribute("srcset",i),n.removeAttribute("sizes",i),n.removeAttribute("sources",i),n.removeAttribute("width",i),n.removeAttribute("height",i),n.removeAttribute("alt",i)}}class jA extends ge{static get requires(){return[No]}static get pluginName(){return"ImageEditing"}init(){const n=this.editor,i=n.conversion;n.editing.view.addObserver(FO),i.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const a=new eoe(n),u=new toe(n);n.commands.add("insertImage",a),n.commands.add("replaceImageSource",u),n.commands.add("imageInsert",a)}}class VO extends ge{static get requires(){return[No]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(n){const i=this.editor,a=i.plugins.get("ImageUtils"),u=n==="imageBlock"?"figure":"img";function h(p,g,b,w){p.on(`attribute:${g}:${n}`,(C,E,M)=>{if(!M.consumable.consume(E.item,C.name))return;const O=M.writer,L=M.mapper.toViewElement(E.item),F=a.findViewImgElement(L);if(E.attributeNewValue!==null?O.setAttribute(b,E.attributeNewValue,F):O.removeAttribute(b,F),E.item.hasAttribute("sources"))return;const H=E.item.hasAttribute("resizedWidth");if(n==="imageInline"&&!H&&!w)return;const K=E.item.getAttribute("width"),X=E.item.getAttribute("height");K&&X&&O.setStyle("aspect-ratio",`${K}/${X}`,F)})}i.conversion.for("upcast").attributeToAttribute({view:{name:u,styles:{width:/.+/}},model:{key:"width",value:p=>TO(p)?qk(p.getStyle("width")):null}}).attributeToAttribute({view:{name:u,key:"width"},model:"width"}).attributeToAttribute({view:{name:u,styles:{height:/.+/}},model:{key:"height",value:p=>TO(p)?qk(p.getStyle("height")):null}}).attributeToAttribute({view:{name:u,key:"height"},model:"height"}),i.conversion.for("editingDowncast").add(p=>{h(p,"width","width",!0),h(p,"height","height",!0)}),i.conversion.for("dataDowncast").add(p=>{h(p,"width","width",!1),h(p,"height","height",!1)})}}class UO extends wt{constructor(n,i){super(n),this._modelElementName=i}refresh(){const n=this.editor.plugins.get("ImageUtils"),i=n.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=n.isInlineImage(i):this.isEnabled=n.isBlockImage(i)}execute(n={}){const i=this.editor,a=this.editor.model,u=i.plugins.get("ImageUtils"),h=u.getClosestSelectedImageElement(a.document.selection),p=Object.fromEntries(h.getAttributes());return p.src||p.uploadId?a.change(g=>{const{setImageSizes:b=!0}=n,w=Array.from(a.markers).filter(M=>M.getRange().containsItem(h)),C=u.insertImage(p,a.createSelection(h,"on"),this._modelElementName,{setImageSizes:b});if(!C)return null;const E=g.createRangeOn(C);for(const M of w){const O=M.getRange(),L=O.root.rootName!="$graveyard"?O.getJoined(E,!0):E;g.updateMarker(M,{range:L})}return{oldElement:h,newElement:C}}):null}}var HO=s(7378),noe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(HO.A,noe),HO.A.locals;class WO extends ge{static get requires(){return[No]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const n=this.editor.model.schema;n.isRegistered("imageBlock")&&n.extend("imageBlock",{allowAttributes:["placeholder"]}),n.isRegistered("imageInline")&&n.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const n=this.editor,i=n.conversion,a=n.plugins.get("ImageUtils");i.for("editingDowncast").add(u=>{u.on("attribute:placeholder",(h,p,g)=>{if(!g.consumable.test(p.item,h.name)||!p.item.is("element","imageBlock")&&!p.item.is("element","imageInline"))return;g.consumable.consume(p.item,h.name);const b=g.writer,w=g.mapper.toViewElement(p.item),C=a.findViewImgElement(w);p.attributeNewValue?(b.addClass("image_placeholder",C),b.setStyle("background-image",`url(${p.attributeNewValue})`,C),b.setCustomProperty("editingPipeline:doNotReuseOnce",!0,C)):(b.removeClass("image_placeholder",C),b.removeStyle("background-image",C))})})}_setupLoadListener(){const n=this.editor,i=n.model,a=n.editing,u=a.view,h=n.plugins.get("ImageUtils");u.addObserver(FO),this.listenTo(u.document,"imageLoaded",(p,g)=>{const b=u.domConverter.mapDomToView(g.target);if(!b)return;const w=h.getImageWidgetFromImageView(b);if(!w)return;const C=a.mapper.toModelElement(w);C&&C.hasAttribute("placeholder")&&i.enqueueChange({isUndoable:!1},E=>{E.removeAttribute("placeholder",C)})})}}class qO extends ge{static get requires(){return[jA,VO,No,WO,wi]}static get pluginName(){return"ImageBlockEditing"}init(){const n=this.editor;n.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),n.plugins.has("ImageInlineEditing")&&(n.commands.add("imageTypeBlock",new UO(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const n=this.editor,i=n.t,a=n.conversion,u=n.plugins.get("ImageUtils");a.for("dataDowncast").elementToStructure({model:"imageBlock",view:(h,{writer:p})=>SO(p)}),a.for("editingDowncast").elementToStructure({model:"imageBlock",view:(h,{writer:p})=>u.toImageWidget(SO(p),p,i("image widget"))}),a.for("downcast").add(Gk(u,"imageBlock","src")).add(Gk(u,"imageBlock","alt")).add(jO(u,"imageBlock")),a.for("upcast").elementToElement({view:DO(n,"imageBlock"),model:(h,{writer:p})=>p.createElement("imageBlock",h.hasAttribute("src")?{src:h.getAttribute("src")}:void 0)}).add(function(h){const p=(g,b,w)=>{if(!w.consumable.test(b.viewItem,{name:!0,classes:"image"}))return;const C=h.findViewImgElement(b.viewItem);if(!C||!w.consumable.test(C,{name:!0}))return;w.consumable.consume(b.viewItem,{name:!0,classes:"image"});const E=Ar(w.convertItem(C,b.modelCursor).modelRange.getItems());E?(w.convertChildren(b.viewItem,E),w.updateConversionResult(E,b)):w.consumable.revert(b.viewItem,{name:!0,classes:"image"})};return g=>{g.on("element:figure",p)}}(u))}_setupClipboardIntegration(){const n=this.editor,i=n.model,a=n.editing.view,u=n.plugins.get("ImageUtils"),h=n.plugins.get("ClipboardPipeline");this.listenTo(h,"inputTransformation",(p,g)=>{const b=Array.from(g.content.getChildren());let w;if(!b.every(u.isInlineImageView))return;w=g.targetRanges?n.editing.mapper.toModelRange(g.targetRanges[0]):i.document.selection.getFirstRange();const C=i.createSelection(w);if(LA(i.schema,C)==="imageBlock"){const E=new ma(a.document),M=b.map(O=>E.createElement("figure",{class:"image"},O));g.content=E.createDocumentFragment(M)}}),this.listenTo(h,"contentInsertion",(p,g)=>{g.method==="paste"&&i.change(b=>{const w=b.createRangeIn(g.content);for(const C of w.getItems())C.is("element","imageBlock")&&u.setImageNaturalSizeAttributes(C)})})}}var GO=s(3350),roe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(GO.A,roe),GO.A.locals;class ooe extends Ye{constructor(n,i=[]){super(n),this.focusTracker=new xr,this.keystrokes=new uo,this._focusables=new bi,this.children=this.createCollection(),this._focusCycler=new vi({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const a of i)this.children.add(a),this._focusables.add(a),a instanceof SX&&this._focusables.addMany(a.children);if(this._focusables.length>1)for(const a of this._focusables)ioe(a)&&(a.focusCycler.on("forwardCycle",u=>{this._focusCycler.focusNext(),u.stop()}),a.focusCycler.on("backwardCycle",u=>{this._focusCycler.focusPrevious(),u.stop()}));this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),ek({view:this});for(const i of this._focusables)this.focusTracker.add(i.element);this.keystrokes.listenTo(this.element);const n=i=>i.stopPropagation();this.keystrokes.set("arrowright",n),this.keystrokes.set("arrowleft",n),this.keystrokes.set("arrowup",n),this.keystrokes.set("arrowdown",n)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}function ioe(l){return"focusCycler"in l}class KO extends ge{constructor(n){super(n),this._integrations=new Map,n.config.define("image.insert.integrations",["upload","assetManager","url"])}static get pluginName(){return"ImageInsertUI"}static get requires(){return[No]}init(){const n=this.editor,i=n.model.document.selection,a=n.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(n.model.document,"change",()=>{this.isImageSelected=a.isImage(i.getSelectedElement())});const u=h=>this._createToolbarComponent(h);n.ui.componentFactory.add("insertImage",u),n.ui.componentFactory.add("imageInsert",u)}registerIntegration({name:n,observable:i,buttonViewCreator:a,formViewCreator:u,requiresForm:h}){this._integrations.has(n)&&z("image-insert-integration-exists",{name:n}),this._integrations.set(n,{observable:i,buttonViewCreator:a,formViewCreator:u,requiresForm:!!h})}_createToolbarComponent(n){const i=this.editor,a=n.t,u=this._prepareIntegrations();if(!u.length)return null;let h;const p=u[0];if(u.length==1){if(!p.requiresForm)return p.buttonViewCreator(!0);h=p.buttonViewCreator(!0)}else{const w=p.buttonViewCreator(!1);h=new Ak(n,w),h.tooltip=!0,h.bind("label").to(this,"isImageSelected",C=>a(C?"Replace image":"Insert image"))}const g=this.dropdownView=ba(n,h),b=u.map(({observable:w})=>typeof w=="function"?w():w);return g.bind("isEnabled").toMany(b,"isEnabled",(...w)=>w.some(C=>C)),g.once("change:isOpen",()=>{const w=u.map(({formViewCreator:E})=>E(u.length==1)),C=new ooe(i.locale,w);g.panelView.children.add(C)}),g}_prepareIntegrations(){const n=this.editor.config.get("image.insert.integrations"),i=[];if(!n.length)return z("image-insert-integrations-not-specified"),i;for(const a of n)this._integrations.has(a)?i.push(this._integrations.get(a)):["upload","assetManager","url"].includes(a)||z("image-insert-unknown-integration",{item:a});return i.length||z("image-insert-integrations-not-registered"),i}}var YO=s(265),soe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(YO.A,soe),YO.A.locals;class aoe extends ge{static get requires(){return[qO,hf,LO,KO]}static get pluginName(){return"ImageBlock"}}class loe extends ge{static get requires(){return[jA,VO,No,WO,wi]}static get pluginName(){return"ImageInlineEditing"}init(){const n=this.editor,i=n.model.schema;i.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),i.addChildCheck((a,u)=>{if(a.endsWith("caption")&&u.name==="imageInline")return!1}),this._setupConversion(),n.plugins.has("ImageBlockEditing")&&(n.commands.add("imageTypeInline",new UO(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const n=this.editor,i=n.t,a=n.conversion,u=n.plugins.get("ImageUtils");a.for("dataDowncast").elementToElement({model:"imageInline",view:(h,{writer:p})=>p.createEmptyElement("img")}),a.for("editingDowncast").elementToStructure({model:"imageInline",view:(h,{writer:p})=>u.toImageWidget(function(g){return g.createContainerElement("span",{class:"image-inline"},g.createEmptyElement("img"))}(p),p,i("image widget"))}),a.for("downcast").add(Gk(u,"imageInline","src")).add(Gk(u,"imageInline","alt")).add(jO(u,"imageInline")),a.for("upcast").elementToElement({view:DO(n,"imageInline"),model:(h,{writer:p})=>p.createElement("imageInline",h.hasAttribute("src")?{src:h.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const n=this.editor,i=n.model,a=n.editing.view,u=n.plugins.get("ImageUtils"),h=n.plugins.get("ClipboardPipeline");this.listenTo(h,"inputTransformation",(p,g)=>{const b=Array.from(g.content.getChildren());let w;if(!b.every(u.isBlockImageView))return;w=g.targetRanges?n.editing.mapper.toModelRange(g.targetRanges[0]):i.document.selection.getFirstRange();const C=i.createSelection(w);if(LA(i.schema,C)==="imageInline"){const E=new ma(a.document),M=b.map(O=>O.childCount===1?(Array.from(O.getAttributes()).forEach(L=>E.setAttribute(...L,u.findViewImgElement(O))),O.getChild(0)):O);g.content=E.createDocumentFragment(M)}}),this.listenTo(h,"contentInsertion",(p,g)=>{g.method==="paste"&&i.change(b=>{const w=b.createRangeIn(g.content);for(const C of w.getItems())C.is("element","imageInline")&&u.setImageNaturalSizeAttributes(C)})})}}class coe extends ge{static get requires(){return[loe,hf,LO,KO]}static get pluginName(){return"ImageInline"}}class QO extends ge{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[No]}getCaptionFromImageModelElement(n){for(const i of n.getChildren())if(i&&i.is("element","caption"))return i;return null}getCaptionFromModelSelection(n){const i=this.editor.plugins.get("ImageUtils"),a=n.getFirstPosition().findAncestor("caption");return a&&i.isBlockImage(a.parent)?a:null}matchImageCaptionViewElement(n){const i=this.editor.plugins.get("ImageUtils");return n.name=="figcaption"&&i.isBlockImageView(n.parent)?{name:!0}:null}}class uoe extends wt{refresh(){const n=this.editor,i=n.plugins.get("ImageCaptionUtils"),a=n.plugins.get("ImageUtils");if(!n.plugins.has(qO))return this.isEnabled=!1,void(this.value=!1);const u=n.model.document.selection,h=u.getSelectedElement();if(!h){const p=i.getCaptionFromModelSelection(u);return this.isEnabled=!!p,void(this.value=!!p)}this.isEnabled=a.isImage(h),this.isEnabled?this.value=!!i.getCaptionFromImageModelElement(h):this.value=!1}execute(n={}){const{focusCaptionOnShow:i}=n;this.editor.model.change(a=>{this.value?this._hideImageCaption(a):this._showImageCaption(a,i)})}_showImageCaption(n,i){const a=this.editor.model.document.selection,u=this.editor.plugins.get("ImageCaptionEditing"),h=this.editor.plugins.get("ImageUtils");let p=a.getSelectedElement();const g=u._getSavedCaption(p);h.isInlineImage(p)&&(this.editor.execute("imageTypeBlock"),p=a.getSelectedElement());const b=g||n.createElement("caption");n.append(b,p),i&&n.setSelection(b,"in")}_hideImageCaption(n){const i=this.editor,a=i.model.document.selection,u=i.plugins.get("ImageCaptionEditing"),h=i.plugins.get("ImageCaptionUtils");let p,g=a.getSelectedElement();g?p=h.getCaptionFromImageModelElement(g):(p=h.getCaptionFromModelSelection(a),g=p.parent),u._saveCaption(g,p),n.setSelection(g,"on"),n.remove(p)}}class doe extends ge{constructor(n){super(n),this._savedCaptionsMap=new WeakMap}static get requires(){return[No,QO]}static get pluginName(){return"ImageCaptionEditing"}init(){const n=this.editor,i=n.model.schema;i.isRegistered("caption")?i.extend("caption",{allowIn:"imageBlock"}):i.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),n.commands.add("toggleImageCaption",new uoe(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const n=this.editor,i=n.editing.view,a=n.plugins.get("ImageUtils"),u=n.plugins.get("ImageCaptionUtils"),h=n.t;n.conversion.for("upcast").elementToElement({view:p=>u.matchImageCaptionViewElement(p),model:"caption"}),n.conversion.for("dataDowncast").elementToElement({model:"caption",view:(p,{writer:g})=>a.isBlockImage(p.parent)?g.createContainerElement("figcaption"):null}),n.conversion.for("editingDowncast").elementToElement({model:"caption",view:(p,{writer:g})=>{if(!a.isBlockImage(p.parent))return null;const b=g.createEditableElement("figcaption");g.setCustomProperty("imageCaption",!0,b),b.placeholder=h("Enter image caption"),f5({view:i,element:b,keepOnFocus:!0});const w=p.parent.getAttribute("alt");return E4(b,g,{label:w?h("Caption for image: %0",[w]):h("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const n=this.editor,i=n.plugins.get("ImageUtils"),a=n.plugins.get("ImageCaptionUtils"),u=n.commands.get("imageTypeInline"),h=n.commands.get("imageTypeBlock"),p=g=>{if(!g.return)return;const{oldElement:b,newElement:w}=g.return;if(!b)return;if(i.isBlockImage(b)){const E=a.getCaptionFromImageModelElement(b);if(E)return void this._saveCaption(w,E)}const C=this._getSavedCaption(b);C&&this._saveCaption(w,C)};u&&this.listenTo(u,"execute",p,{priority:"low"}),h&&this.listenTo(h,"execute",p,{priority:"low"})}_getSavedCaption(n){const i=this._savedCaptionsMap.get(n);return i?Jt.fromJSON(i):null}_saveCaption(n,i){this._savedCaptionsMap.set(n,i.toJSON())}_registerCaptionReconversion(){const n=this.editor,i=n.model,a=n.plugins.get("ImageUtils"),u=n.plugins.get("ImageCaptionUtils");i.document.on("change:data",()=>{const h=i.document.differ.getChanges();for(const p of h){if(p.attributeKey!=="alt")continue;const g=p.range.start.nodeAfter;if(a.isBlockImage(g)){const b=u.getCaptionFromImageModelElement(g);if(!b)return;n.editing.reconvertItem(b)}}})}}class hoe extends ge{static get requires(){return[QO]}static get pluginName(){return"ImageCaptionUI"}init(){const n=this.editor,i=n.editing.view,a=n.plugins.get("ImageCaptionUtils"),u=n.t;n.ui.componentFactory.add("toggleImageCaption",h=>{const p=n.commands.get("toggleImageCaption"),g=new Ft(h);return g.set({icon:ht.caption,tooltip:!0,isToggleable:!0}),g.bind("isOn","isEnabled").to(p,"value","isEnabled"),g.bind("label").to(p,"value",b=>u(b?"Toggle caption off":"Toggle caption on")),this.listenTo(g,"execute",()=>{n.execute("toggleImageCaption",{focusCaptionOnShow:!0});const b=a.getCaptionFromModelSelection(n.model.document.selection);if(b){const w=n.editing.mapper.toViewElement(b);i.scrollToTheSelection(),i.change(C=>{C.addClass("image__caption_highlighted",w)})}n.editing.view.focus()}),g})}}var ZO=s(5247),poe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(ZO.A,poe),ZO.A.locals;function JO(l){const n=l.map(i=>i.replace("+","\\+"));return new RegExp(`^image\\/(${n.join("|")})$`)}function foe(l){return new Promise((n,i)=>{const a=l.getAttribute("src");fetch(a).then(u=>u.blob()).then(u=>{const h=XO(u,a),p=h.replace("image/",""),g=new File([u],`image.${p}`,{type:h});n(g)}).catch(u=>u&&u.name==="TypeError"?function(h){return function(p){return new Promise((g,b)=>{const w=m.document.createElement("img");w.addEventListener("load",()=>{const C=m.document.createElement("canvas");C.width=w.width,C.height=w.height,C.getContext("2d").drawImage(w,0,0),C.toBlob(E=>E?g(E):b())}),w.addEventListener("error",()=>b()),w.src=p})}(h).then(p=>{const g=XO(p,h),b=g.replace("image/","");return new File([p],`image.${b}`,{type:g})})}(a).then(n).catch(i):i(u))})}function XO(l,n){return l.type?l.type:n.match(/data:(image\/\w+);base64/)?n.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class moe extends ge{static get pluginName(){return"ImageUploadUI"}init(){const n=this.editor,i=n.t,a=()=>{const u=this._createButton(wN);return u.set({label:i("Upload image from computer"),tooltip:!0}),u};if(n.ui.componentFactory.add("uploadImage",a),n.ui.componentFactory.add("imageUpload",a),n.ui.componentFactory.add("menuBar:uploadImage",()=>{const u=this._createButton(VR);return u.label=i("Image from computer"),u}),n.plugins.has("ImageInsertUI")){const u=n.plugins.get("ImageInsertUI");u.registerIntegration({name:"upload",observable:()=>n.commands.get("uploadImage"),buttonViewCreator:()=>{const h=n.ui.componentFactory.create("uploadImage");return h.bind("label").to(u,"isImageSelected",p=>i(p?"Replace image from computer":"Upload image from computer")),h},formViewCreator:()=>{const h=n.ui.componentFactory.create("uploadImage");return h.withText=!0,h.bind("label").to(u,"isImageSelected",p=>i(p?"Replace from computer":"Upload from computer")),h.on("execute",()=>{u.dropdownView.isOpen=!1}),h}})}}_createButton(n){const i=this.editor,a=i.locale,u=i.commands.get("uploadImage"),h=i.config.get("image.upload.types"),p=JO(h),g=new n(i.locale),b=a.t;return g.set({acceptedType:h.map(w=>`image/${w}`).join(","),allowMultipleFiles:!0,label:b("Upload image from computer"),icon:ht.imageUpload}),g.bind("isEnabled").to(u),g.on("done",(w,C)=>{const E=Array.from(C).filter(M=>p.test(M.type));E.length&&(i.execute("uploadImage",{file:E}),i.editing.view.focus())}),g}}var eB=s(2267),goe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(eB.A,goe),eB.A.locals;var tB=s(7693),boe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(tB.A,boe),tB.A.locals;var nB=s(1559),koe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(nB.A,koe),nB.A.locals;class voe extends ge{constructor(n){super(n),this.uploadStatusChange=(i,a,u)=>{const h=this.editor,p=a.item,g=p.getAttribute("uploadId");if(!u.consumable.consume(a.item,i.name))return;const b=h.plugins.get("ImageUtils"),w=h.plugins.get(ts),C=g?a.attributeNewValue:null,E=this.placeholder,M=h.editing.mapper.toViewElement(p),O=u.writer;if(C=="reading")return rB(M,O),void oB(b,E,M,O);if(C=="uploading"){const L=w.loaders.get(g);return rB(M,O),void(L?(iB(M,O),function(F,H,K,X){const oe=function(le){const De=le.createUIElement("div",{class:"ck-progress-bar"});return le.setCustomProperty("progressBar",!0,De),De}(H);H.insert(H.createPositionAt(F,"end"),oe),K.on("change:uploadedPercent",(le,De,rt)=>{X.change(mt=>{mt.setStyle("width",rt+"%",oe)})})}(M,O,L,h.editing.view),function(F,H,K,X){if(X.data){const oe=F.findViewImgElement(H);K.setAttribute("src",X.data,oe)}}(b,M,O,L)):oB(b,E,M,O))}C=="complete"&&w.loaders.get(g)&&function(L,F,H){const K=F.createUIElement("div",{class:"ck-image-upload-complete-icon"});F.insert(F.createPositionAt(L,"end"),K),setTimeout(()=>{H.change(X=>X.remove(X.createRangeOn(K)))},3e3)}(M,O,h.editing.view),function(L,F){aB(L,F,"progressBar")}(M,O),iB(M,O),function(L,F){F.removeClass("ck-appear",L)}(M,O)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const n=this.editor;n.plugins.has("ImageBlockEditing")&&n.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),n.plugins.has("ImageInlineEditing")&&n.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function rB(l,n){l.hasClass("ck-appear")||n.addClass("ck-appear",l)}function oB(l,n,i,a){i.hasClass("ck-image-upload-placeholder")||a.addClass("ck-image-upload-placeholder",i);const u=l.findViewImgElement(i);u.getAttribute("src")!==n&&a.setAttribute("src",n,u),sB(i,"placeholder")||a.insert(a.createPositionAfter(u),function(h){const p=h.createUIElement("div",{class:"ck-upload-placeholder-loader"});return h.setCustomProperty("placeholder",!0,p),p}(a))}function iB(l,n){l.hasClass("ck-image-upload-placeholder")&&n.removeClass("ck-image-upload-placeholder",l),aB(l,n,"placeholder")}function sB(l,n){for(const i of l.getChildren())if(i.getCustomProperty(n))return i}function aB(l,n,i){const a=sB(l,i);a&&n.remove(n.createRangeOn(a))}var woe=Object.defineProperty,yoe=Object.defineProperties,_oe=Object.getOwnPropertyDescriptors,lB=Object.getOwnPropertySymbols,Coe=Object.prototype.hasOwnProperty,Aoe=Object.prototype.propertyIsEnumerable,cB=(l,n,i)=>n in l?woe(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i;class xoe extends wt{refresh(){const n=this.editor,i=n.plugins.get("ImageUtils"),a=n.model.document.selection.getSelectedElement();this.isEnabled=i.isImageAllowed()||i.isImage(a)}execute(n){const i=fn(n.file),a=this.editor.model.document.selection,u=this.editor.plugins.get("ImageUtils"),h=Object.fromEntries(a.getAttributes());i.forEach((p,g)=>{const b=a.getSelectedElement();if(g&&b&&u.isImage(b)){const w=this.editor.model.createPositionAfter(b);this._uploadImage(p,h,w)}else this._uploadImage(p,h)})}_uploadImage(n,i,a){const u=this.editor,h=u.plugins.get(ts).createLoader(n),p=u.plugins.get("ImageUtils");var g,b;h&&p.insertImage((g=((w,C)=>{for(var E in C||(C={}))Coe.call(C,E)&&cB(w,E,C[E]);if(lB)for(var E of lB(C))Aoe.call(C,E)&&cB(w,E,C[E]);return w})({},i),b={uploadId:h.id},yoe(g,_oe(b))),a)}}class Eoe extends ge{constructor(n){super(n),n.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[ts,wA,wi,No]}static get pluginName(){return"ImageUploadEditing"}init(){const n=this.editor,i=n.model.document,a=n.conversion,u=n.plugins.get(ts),h=n.plugins.get("ImageUtils"),p=n.plugins.get("ClipboardPipeline"),g=JO(n.config.get("image.upload.types")),b=new xoe(n);n.commands.add("uploadImage",b),n.commands.add("imageUpload",b),a.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(n.editing.view.document,"clipboardInput",(w,C)=>{if(E=C.dataTransfer,Array.from(E.types).includes("text/html")&&E.getData("text/html")!=="")return;var E;const M=Array.from(C.dataTransfer.files).filter(O=>!!O&&g.test(O.type));M.length&&(w.stop(),n.model.change(O=>{C.targetRanges&&O.setSelection(C.targetRanges.map(L=>n.editing.mapper.toModelRange(L))),n.execute("uploadImage",{file:M})}))}),this.listenTo(p,"inputTransformation",(w,C)=>{const E=Array.from(n.editing.view.createRangeIn(C.content)).map(O=>O.item).filter(O=>function(L,F){return!(!L.isInlineImageView(F)||!F.getAttribute("src")||!F.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!F.getAttribute("src").match(/^blob:/g))}(h,O)&&!O.getAttribute("uploadProcessed")).map(O=>({promise:foe(O),imageElement:O}));if(!E.length)return;const M=new ma(n.editing.view.document);for(const O of E){M.setAttribute("uploadProcessed",!0,O.imageElement);const L=u.createLoader(O.promise);L&&(M.setAttribute("src","",O.imageElement),M.setAttribute("uploadId",L.id,O.imageElement))}}),n.editing.view.document.on("dragover",(w,C)=>{C.preventDefault()}),i.on("change",()=>{const w=i.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),C=new Set;for(const E of w)if(E.type=="insert"&&E.name!="$text"){const M=E.position.nodeAfter,O=E.position.root.rootName=="$graveyard";for(const L of Soe(n,M)){const F=L.getAttribute("uploadId");if(!F)continue;const H=u.loaders.get(F);H&&(O?C.has(F)||H.abort():(C.add(F),this._uploadImageElements.set(F,L),H.status=="idle"&&this._readAndUpload(H)))}}}),this.on("uploadComplete",(w,{imageElement:C,data:E})=>{const M=E.urls?E.urls:E;this.editor.model.change(O=>{O.setAttribute("src",M.default,C),this._parseAndSetSrcsetAttributeOnImage(M,C,O),h.setImageNaturalSizeAttributes(C)})},{priority:"low"})}afterInit(){const n=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&n.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&n.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(n){const i=this.editor,a=i.model,u=i.locale.t,h=i.plugins.get(ts),p=i.plugins.get(wA),g=i.plugins.get("ImageUtils"),b=this._uploadImageElements;return a.enqueueChange({isUndoable:!1},C=>{C.setAttribute("uploadStatus","reading",b.get(n.id))}),n.read().then(()=>{const C=n.upload(),E=b.get(n.id);if(v.isSafari){const M=i.editing.mapper.toViewElement(E),O=g.findViewImgElement(M);i.editing.view.once("render",()=>{if(!O.parent)return;const L=i.editing.view.domConverter.mapViewToDom(O.parent);if(!L)return;const F=L.style.display;L.style.display="none",L._ckHack=L.offsetHeight,L.style.display=F})}return i.ui&&i.ui.ariaLiveAnnouncer.announce(u("Uploading image")),a.enqueueChange({isUndoable:!1},M=>{M.setAttribute("uploadStatus","uploading",E)}),C}).then(C=>{a.enqueueChange({isUndoable:!1},E=>{const M=b.get(n.id);E.setAttribute("uploadStatus","complete",M),i.ui&&i.ui.ariaLiveAnnouncer.announce(u("Image upload complete")),this.fire("uploadComplete",{data:C,imageElement:M})}),w()}).catch(C=>{if(i.ui&&i.ui.ariaLiveAnnouncer.announce(u("Error during image upload")),n.status!=="error"&&n.status!=="aborted")throw C;n.status=="error"&&C&&p.showWarning(C,{title:u("Upload failed"),namespace:"upload"}),a.enqueueChange({isUndoable:!1},E=>{E.remove(b.get(n.id))}),w()});function w(){a.enqueueChange({isUndoable:!1},C=>{const E=b.get(n.id);C.removeAttribute("uploadId",E),C.removeAttribute("uploadStatus",E),b.delete(n.id)}),h.destroyLoader(n)}}_parseAndSetSrcsetAttributeOnImage(n,i,a){let u=0;const h=Object.keys(n).filter(p=>{const g=parseInt(p,10);if(!isNaN(g))return u=Math.max(u,g),!0}).map(p=>`${n[p]} ${p}w`).join(", ");if(h!=""){const p={srcset:h};i.hasAttribute("width")||i.hasAttribute("height")||(p.width=u),a.setAttributes(p,i)}}}function Soe(l,n){const i=l.plugins.get("ImageUtils");return Array.from(l.model.createRangeOn(n)).filter(a=>i.isImage(a.item)).map(a=>a.item)}var uB=s(4642),Doe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(uB.A,Doe),uB.A.locals;var dB=s(3469),Toe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(dB.A,Toe),dB.A.locals;class Ioe extends wt{constructor(n,i){super(n),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(i.map(a=>{if(a.isDefault)for(const u of a.modelElements)this._defaultStyles[u]=a.name;return[a.name,a]}))}refresh(){const n=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled?n.hasAttribute("imageStyle")?this.value=n.getAttribute("imageStyle"):this.value=this._defaultStyles[n.name]:this.value=!1}execute(n={}){const i=this.editor,a=i.model,u=i.plugins.get("ImageUtils");a.change(h=>{const p=n.value,{setImageSizes:g=!0}=n;let b=u.getClosestSelectedImageElement(a.document.selection);p&&this.shouldConvertImageType(p,b)&&(this.editor.execute(u.isBlockImage(b)?"imageTypeInline":"imageTypeBlock",{setImageSizes:g}),b=u.getClosestSelectedImageElement(a.document.selection)),!p||this._styles.get(p).isDefault?h.removeAttribute("imageStyle",b):h.setAttribute("imageStyle",p,b),g&&u.setImageNaturalSizeAttributes(b)})}shouldConvertImageType(n,i){return!this._styles.get(n).modelElements.includes(i.name)}}var Moe=Object.defineProperty,hB=Object.getOwnPropertySymbols,Poe=Object.prototype.hasOwnProperty,Noe=Object.prototype.propertyIsEnumerable,pB=(l,n,i)=>n in l?Moe(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,fB=(l,n)=>{for(var i in n||(n={}))Poe.call(n,i)&&pB(l,i,n[i]);if(hB)for(var i of hB(n))Noe.call(n,i)&&pB(l,i,n[i]);return l};const{objectFullWidth:Roe,objectInline:mB,objectLeft:gB,objectRight:FA,objectCenter:zA,objectBlockLeft:bB,objectBlockRight:kB}=ht,Yk={get inline(){return{name:"inline",title:"In line",icon:mB,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:gB,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:bB,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:zA,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:FA,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:kB,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:zA,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:FA,modelElements:["imageBlock"],className:"image-style-side"}}},vB={full:Roe,left:bB,right:kB,center:zA,inlineLeft:gB,inlineRight:FA,inline:mB},wB=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function yB(l){z("image-style-configuration-definition-invalid",l)}const $A={normalizeStyles:function(l){return(l.configuredStyles.options||[]).map(n=>function(i){return i=typeof i=="string"?Yk[i]?fB({},Yk[i]):{name:i}:function(a,u){const h=fB({},u);for(const p in a)Object.prototype.hasOwnProperty.call(u,p)||(h[p]=a[p]);return h}(Yk[i.name],i),typeof i.icon=="string"&&(i.icon=vB[i.icon]||i.icon),i}(n)).filter(n=>function(i,{isBlockPluginLoaded:a,isInlinePluginLoaded:u}){const{modelElements:h,name:p}=i;if(!(h&&h.length&&p))return yB({style:i}),!1;{const g=[a?"imageBlock":null,u?"imageInline":null];if(!h.some(b=>g.includes(b)))return z("image-style-missing-dependency",{style:i,missingPlugins:h.map(b=>b==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(n,l))},getDefaultStylesConfiguration:function(l,n){return l&&n?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:l?{options:["block","side"]}:n?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(l){return l.has("ImageBlockEditing")&&l.has("ImageInlineEditing")?[...wB]:[]},warnInvalidStyle:yB,DEFAULT_OPTIONS:Yk,DEFAULT_ICONS:vB,DEFAULT_DROPDOWN_DEFINITIONS:wB};function _B(l,n){for(const i of n)if(i.name===l)return i}class CB extends ge{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[No]}init(){const{normalizeStyles:n,getDefaultStylesConfiguration:i}=$A,a=this.editor,u=a.plugins.has("ImageBlockEditing"),h=a.plugins.has("ImageInlineEditing");a.config.define("image.styles",i(u,h)),this.normalizedStyles=n({configuredStyles:a.config.get("image.styles"),isBlockPluginLoaded:u,isInlinePluginLoaded:h}),this._setupConversion(u,h),this._setupPostFixer(),a.commands.add("imageStyle",new Ioe(a,this.normalizedStyles))}_setupConversion(n,i){const a=this.editor,u=a.model.schema,h=(p=this.normalizedStyles,(b,w,C)=>{if(!C.consumable.consume(w.item,b.name))return;const E=_B(w.attributeNewValue,p),M=_B(w.attributeOldValue,p),O=C.mapper.toViewElement(w.item),L=C.writer;M&&L.removeClass(M.className,O),E&&L.addClass(E.className,O)});var p;const g=function(b){const w={imageInline:b.filter(C=>!C.isDefault&&C.modelElements.includes("imageInline")),imageBlock:b.filter(C=>!C.isDefault&&C.modelElements.includes("imageBlock"))};return(C,E,M)=>{if(!E.modelRange)return;const O=E.viewItem,L=Ar(E.modelRange.getItems());if(L&&M.schema.checkAttribute(L,"imageStyle"))for(const F of w[L.name])M.consumable.consume(O,{classes:F.className})&&M.writer.setAttribute("imageStyle",F.name,L)}}(this.normalizedStyles);a.editing.downcastDispatcher.on("attribute:imageStyle",h),a.data.downcastDispatcher.on("attribute:imageStyle",h),n&&(u.extend("imageBlock",{allowAttributes:"imageStyle"}),a.data.upcastDispatcher.on("element:figure",g,{priority:"low"})),i&&(u.extend("imageInline",{allowAttributes:"imageStyle"}),a.data.upcastDispatcher.on("element:img",g,{priority:"low"}))}_setupPostFixer(){const n=this.editor,i=n.model.document,a=n.plugins.get(No),u=new Map(this.normalizedStyles.map(h=>[h.name,h]));i.registerPostFixer(h=>{let p=!1;for(const g of i.differ.getChanges())if(g.type=="insert"||g.type=="attribute"&&g.attributeKey=="imageStyle"){let b=g.type=="insert"?g.position.nodeAfter:g.range.start.nodeAfter;if(b&&b.is("element","paragraph")&&b.childCount>0&&(b=b.getChild(0)),!a.isImage(b))continue;const w=b.getAttribute("imageStyle");if(!w)continue;const C=u.get(w);C&&C.modelElements.includes(b.name)||(h.removeAttribute("imageStyle",b),p=!0)}return p})}}var AB=s(6386),Ooe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(AB.A,Ooe),AB.A.locals;class Boe extends ge{static get requires(){return[CB]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const n=this.editor.t;return{"Wrap text":n("Wrap text"),"Break text":n("Break text"),"In line":n("In line"),"Full size image":n("Full size image"),"Side image":n("Side image"),"Left aligned image":n("Left aligned image"),"Centered image":n("Centered image"),"Right aligned image":n("Right aligned image")}}init(){const n=this.editor.plugins,i=this.editor.config.get("image.toolbar")||[],a=xB(n.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const h of a)this._createButton(h);const u=xB([...i.filter(me),...$A.getDefaultDropdownDefinitions(n)],this.localizedDefaultStylesTitles);for(const h of u)this._createDropdown(h,a)}_createDropdown(n,i){const a=this.editor.ui.componentFactory;a.add(n.name,u=>{let h;const{defaultItem:p,items:g,title:b}=n,w=g.filter(O=>i.find(({name:L})=>EB(L)===O)).map(O=>{const L=a.create(O);return O===p&&(h=L),L});g.length!==w.length&&$A.warnInvalidStyle({dropdown:n});const C=ba(u,Ak),E=C.buttonView,M=E.arrowView;return mA(C,w,{enableActiveItemFocusOnDropdownOpen:!0}),E.set({label:SB(b,h.label),class:null,tooltip:!0}),M.unbind("label"),M.set({label:b}),E.bind("icon").toMany(w,"isOn",(...O)=>{const L=O.findIndex(cl);return L<0?h.icon:w[L].icon}),E.bind("label").toMany(w,"isOn",(...O)=>{const L=O.findIndex(cl);return SB(b,L<0?h.label:w[L].label)}),E.bind("isOn").toMany(w,"isOn",(...O)=>O.some(cl)),E.bind("class").toMany(w,"isOn",(...O)=>O.some(cl)?"ck-splitbutton_flatten":void 0),E.on("execute",()=>{w.some(({isOn:O})=>O)?C.isOpen=!C.isOpen:h.fire("execute")}),C.bind("isEnabled").toMany(w,"isEnabled",(...O)=>O.some(cl)),this.listenTo(C,"execute",()=>{this.editor.editing.view.focus()}),C})}_createButton(n){const i=n.name;this.editor.ui.componentFactory.add(EB(i),a=>{const u=this.editor.commands.get("imageStyle"),h=new Ft(a);return h.set({label:n.title,icon:n.icon,tooltip:!0,isToggleable:!0}),h.bind("isEnabled").to(u,"isEnabled"),h.bind("isOn").to(u,"value",p=>p===i),h.on("execute",this._executeCommand.bind(this,i)),h})}_executeCommand(n){this.editor.execute("imageStyle",{value:n}),this.editor.editing.view.focus()}}function xB(l,n){for(const i of l)n[i.title]&&(i.title=n[i.title]);return l}function EB(l){return`imageStyle:${l}`}function SB(l,n){return(l?l+": ":"")+n}class Loe extends ge{static get pluginName(){return"IndentEditing"}init(){const n=this.editor;n.commands.add("indent",new l5(n)),n.commands.add("outdent",new l5(n))}}class joe extends ge{static get pluginName(){return"IndentUI"}init(){const n=this.editor,i=n.locale,a=n.t,u=i.uiLanguageDirection=="ltr"?ht.indent:ht.outdent,h=i.uiLanguageDirection=="ltr"?ht.outdent:ht.indent;this._defineButton("indent",a("Increase indent"),u),this._defineButton("outdent",a("Decrease indent"),h)}_defineButton(n,i,a){const u=this.editor;u.ui.componentFactory.add(n,()=>{const h=this._createButton(Ft,n,i,a);return h.set({tooltip:!0}),h}),u.ui.componentFactory.add("menuBar:"+n,()=>this._createButton(Zo,n,i,a))}_createButton(n,i,a,u){const h=this.editor,p=h.commands.get(i),g=new n(h.locale);return g.set({label:a,icon:u}),g.bind("isEnabled").to(p,"isEnabled"),this.listenTo(g,"execute",()=>{h.execute(i),h.editing.view.focus()}),g}}class Foe{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(n){Array.isArray(n)?n.forEach(i=>this._definitions.add(i)):this._definitions.add(n)}getDispatcher(){return n=>{n.on("attribute:linkHref",(i,a,u)=>{if(!u.consumable.test(a.item,"attribute:linkHref")||!a.item.is("selection")&&!u.schema.isInline(a.item))return;const h=u.writer,p=h.document.selection;for(const g of this._definitions){const b=h.createAttributeElement("a",g.attributes,{priority:5});g.classes&&h.addClass(g.classes,b);for(const w in g.styles)h.setStyle(w,g.styles[w],b);h.setCustomProperty("link",!0,b),g.callback(a.attributeNewValue)?a.item.is("selection")?h.wrap(p.getFirstRange(),b):h.wrap(u.mapper.toViewRange(a.range),b):h.unwrap(u.mapper.toViewRange(a.range),b)}},{priority:"high"})}}getDispatcherForLinkedImage(){return n=>{n.on("attribute:linkHref:imageBlock",(i,a,{writer:u,mapper:h})=>{const p=h.toViewElement(a.item),g=Array.from(p.getChildren()).find(b=>b.is("element","a"));for(const b of this._definitions){const w=ys(b.attributes);if(b.callback(a.attributeNewValue)){for(const[C,E]of w)C==="class"?u.addClass(E,g):u.setAttribute(C,E,g);b.classes&&u.addClass(b.classes,g);for(const C in b.styles)u.setStyle(C,b.styles[C],g)}else{for(const[C,E]of w)C==="class"?u.removeClass(E,g):u.removeAttribute(C,g);b.classes&&u.removeClass(b.classes,g);for(const C in b.styles)u.removeStyle(C,g)}}})}}}const zoe=function(l,n,i){var a=l.length;return i=i===void 0?a:i,!n&&i>=a?l:w5(l,n,i)};var $oe=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const DB=function(l){return $oe.test(l)},Voe=function(l){return l.split("")};var TB="\\ud800-\\udfff",Uoe="["+TB+"]",VA="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",UA="\\ud83c[\\udffb-\\udfff]",IB="[^"+TB+"]",MB="(?:\\ud83c[\\udde6-\\uddff]){2}",PB="[\\ud800-\\udbff][\\udc00-\\udfff]",NB="(?:"+VA+"|"+UA+")?",RB="[\\ufe0e\\ufe0f]?",Hoe=RB+NB+("(?:\\u200d(?:"+[IB,MB,PB].join("|")+")"+RB+NB+")*"),Woe="(?:"+[IB+VA+"?",VA,MB,PB,Uoe].join("|")+")",qoe=RegExp(UA+"(?="+UA+")|"+Woe+Hoe,"g");const Goe=function(l){return l.match(qoe)||[]},Koe=function(l){return DB(l)?Goe(l):Voe(l)},Yoe=function(l){return function(n){n=PC(n);var i=DB(n)?Koe(n):void 0,a=i?i[0]:n.charAt(0),u=i?zoe(i,1).join(""):n.slice(1);return a[l]()+u}}("toUpperCase"),Qoe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Zoe=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,Joe=/^((\w+:(\/{2,})?)|(\W))/i,Xoe=["https?","ftps?","mailto"],Qk="Ctrl+K";function OB(l,{writer:n}){const i=n.createAttributeElement("a",{href:l},{priority:5});return n.setCustomProperty("link",!0,i),i}function BB(l,n=Xoe){const i=String(l),a=n.join("|");return function(u,h){return!!u.replace(Qoe,"").match(h)}(i,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",a)}`,"i"))?i:"#"}function HA(l,n){return!!l&&n.checkAttribute(l.name,"linkHref")}function WA(l,n){const i=(a=l,Zoe.test(a)?"mailto:":n);var a;const u=!!i&&!LB(l);return l&&u?i+l:l}function LB(l){return Joe.test(l)}function jB(l){window.open(l,"_blank","noopener")}class eie extends wt{constructor(){super(...arguments),this.manualDecorators=new Ki,this.automaticDecorators=new Foe}restoreManualDecoratorStates(){for(const n of this.manualDecorators)n.value=this._getDecoratorStateFromModel(n.id)}refresh(){const n=this.editor.model,i=n.document.selection,a=i.getSelectedElement()||Ar(i.getSelectedBlocks());HA(a,n.schema)?(this.value=a.getAttribute("linkHref"),this.isEnabled=n.schema.checkAttribute(a,"linkHref")):(this.value=i.getAttribute("linkHref"),this.isEnabled=n.schema.checkAttributeInSelection(i,"linkHref"));for(const u of this.manualDecorators)u.value=this._getDecoratorStateFromModel(u.id)}execute(n,i={}){const a=this.editor.model,u=a.document.selection,h=[],p=[];for(const g in i)i[g]?h.push(g):p.push(g);a.change(g=>{if(u.isCollapsed){const b=u.getFirstPosition();if(u.hasAttribute("linkHref")){const w=FB(u);let C=Bk(b,"linkHref",u.getAttribute("linkHref"),a);u.getAttribute("linkHref")===w&&(C=this._updateLinkContent(a,g,C,n)),g.setAttribute("linkHref",n,C),h.forEach(E=>{g.setAttribute(E,!0,C)}),p.forEach(E=>{g.removeAttribute(E,C)}),g.setSelection(g.createPositionAfter(C.end.nodeBefore))}else if(n!==""){const w=ys(u.getAttributes());w.set("linkHref",n),h.forEach(E=>{w.set(E,!0)});const{end:C}=a.insertContent(g.createText(n,w),b);g.setSelection(C)}["linkHref",...h,...p].forEach(w=>{g.removeSelectionAttribute(w)})}else{const b=a.schema.getValidRanges(u.getRanges(),"linkHref"),w=[];for(const E of u.getSelectedBlocks())a.schema.checkAttribute(E,"linkHref")&&w.push(g.createRangeOn(E));const C=w.slice();for(const E of b)this._isRangeToUpdate(E,w)&&C.push(E);for(const E of C){let M=E;if(C.length===1){const O=FB(u);u.getAttribute("linkHref")===O&&(M=this._updateLinkContent(a,g,E,n),g.setSelection(g.createSelection(M)))}g.setAttribute("linkHref",n,M),h.forEach(O=>{g.setAttribute(O,!0,M)}),p.forEach(O=>{g.removeAttribute(O,M)})}}})}_getDecoratorStateFromModel(n){const i=this.editor.model,a=i.document.selection,u=a.getSelectedElement();return HA(u,i.schema)?u.getAttribute(n):a.getAttribute(n)}_isRangeToUpdate(n,i){for(const a of i)if(a.containsRange(n))return!1;return!0}_updateLinkContent(n,i,a,u){const h=i.createText(u,{linkHref:u});return n.insertContent(h,a)}}function FB(l){if(l.isCollapsed){const n=l.getFirstPosition();return n.textNode&&n.textNode.data}{const n=Array.from(l.getFirstRange().getItems());if(n.length>1)return null;const i=n[0];return i.is("$text")||i.is("$textProxy")?i.data:null}}class tie extends wt{refresh(){const n=this.editor.model,i=n.document.selection,a=i.getSelectedElement();HA(a,n.schema)?this.isEnabled=n.schema.checkAttribute(a,"linkHref"):this.isEnabled=n.schema.checkAttributeInSelection(i,"linkHref")}execute(){const n=this.editor,i=this.editor.model,a=i.document.selection,u=n.commands.get("link");i.change(h=>{const p=a.isCollapsed?[Bk(a.getFirstPosition(),"linkHref",a.getAttribute("linkHref"),i)]:i.schema.getValidRanges(a.getRanges(),"linkHref");for(const g of p)if(h.removeAttribute("linkHref",g),u)for(const b of u.manualDecorators)h.removeAttribute(b.id,g)})}}class nie extends be(){constructor({id:n,label:i,attributes:a,classes:u,styles:h,defaultValue:p}){super(),this.id=n,this.set("value",void 0),this.defaultValue=p,this.label=i,this.attributes=a,this.classes=u,this.styles=h}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var zB=s(7719),rie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(zB.A,rie),zB.A.locals;var oie=Object.defineProperty,$B=Object.getOwnPropertySymbols,iie=Object.prototype.hasOwnProperty,sie=Object.prototype.propertyIsEnumerable,VB=(l,n,i)=>n in l?oie(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,aie=(l,n)=>{for(var i in n||(n={}))iie.call(n,i)&&VB(l,i,n[i]);if($B)for(var i of $B(n))sie.call(n,i)&&VB(l,i,n[i]);return l};const UB="automatic",lie=/^(https?:)?\/\//;class HB extends ge{static get pluginName(){return"LinkEditing"}static get requires(){return[m4,l4,wi]}constructor(n){super(n),n.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const n=this.editor,i=this.editor.config.get("link.allowedProtocols");n.model.schema.extend("$text",{allowAttributes:"linkHref"}),n.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:OB}),n.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(u,h)=>OB(BB(u,i),h)}),n.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:u=>u.getAttribute("href")}}),n.commands.add("link",new eie(n)),n.commands.add("unlink",new tie(n));const a=function(u,h){const p={"Open in a new tab":u("Open in a new tab"),Downloadable:u("Downloadable")};return h.forEach(g=>("label"in g&&p[g.label]&&(g.label=p[g.label]),g)),h}(n.t,function(u){const h=[];if(u)for(const[p,g]of Object.entries(u)){const b=Object.assign({},g,{id:`link${Yoe(p)}`});h.push(b)}return h}(n.config.get("link.decorators")));this._enableAutomaticDecorators(a.filter(u=>u.mode===UB)),this._enableManualDecorators(a.filter(u=>u.mode==="manual")),n.plugins.get(m4).registerAttribute("linkHref"),function(u,h,p,g){const b=u.editing.view,w=new Set;b.document.registerPostFixer(C=>{const E=u.model.document.selection;let M=!1;if(E.hasAttribute(h)){const O=Bk(E.getFirstPosition(),h,E.getAttribute(h),u.model),L=u.editing.mapper.toViewRange(O);for(const F of L.getItems())F.is("element",p)&&!F.hasClass(g)&&(C.addClass(g,F),w.add(F),M=!0)}return M}),u.conversion.for("editingDowncast").add(C=>{function E(){b.change(M=>{for(const O of w.values())M.removeClass(g,O),w.delete(O)})}C.on("insert",E,{priority:"highest"}),C.on("remove",E,{priority:"highest"}),C.on("attribute",E,{priority:"highest"}),C.on("selection",E,{priority:"highest"})})}(n,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(n){const i=this.editor,a=i.commands.get("link").automaticDecorators;i.config.get("link.addTargetToExternalLinks")&&a.add({id:"linkIsExternal",mode:UB,callback:u=>!!u&&lie.test(u),attributes:{target:"_blank",rel:"noopener noreferrer"}}),a.add(n),a.length&&i.conversion.for("downcast").add(a.getDispatcher())}_enableManualDecorators(n){if(!n.length)return;const i=this.editor,a=i.commands.get("link").manualDecorators;n.forEach(u=>{i.model.schema.extend("$text",{allowAttributes:u.id});const h=new nie(u);a.add(h),i.conversion.for("downcast").attributeToElement({model:h.id,view:(p,{writer:g,schema:b},{item:w})=>{if((w.is("selection")||b.isInline(w))&&p){const C=g.createAttributeElement("a",h.attributes,{priority:5});h.classes&&g.addClass(h.classes,C);for(const E in h.styles)g.setStyle(E,h.styles[E],C);return g.setCustomProperty("link",!0,C),C}}}),i.conversion.for("upcast").elementToAttribute({view:aie({name:"a"},h._createPattern()),model:{key:h.id}})})}_enableLinkOpen(){const n=this.editor,i=n.editing.view.document;this.listenTo(i,"click",(a,u)=>{if(!(v.isMac?u.domEvent.metaKey:u.domEvent.ctrlKey))return;let h=u.domTarget;if(h.tagName.toLowerCase()!="a"&&(h=h.closest("a")),!h)return;const p=h.getAttribute("href");p&&(a.stop(),u.preventDefault(),jB(p))},{context:"$capture"}),this.listenTo(i,"keydown",(a,u)=>{const h=n.commands.get("link").value;h&&u.keyCode===Mt.enter&&u.altKey&&(a.stop(),jB(h))})}_enableSelectionAttributesFixer(){const n=this.editor.model,i=n.document.selection;this.listenTo(i,"change:attribute",(a,{attributeKeys:u})=>{u.includes("linkHref")&&!i.hasAttribute("linkHref")&&n.change(h=>{var p;(function(g,b){g.removeSelectionAttribute("linkHref");for(const w of b)g.removeSelectionAttribute(w)})(h,(p=n.schema,p.getDefinition("$text").allowAttributes.filter(g=>g.startsWith("link"))))})})}_enableClipboardIntegration(){const n=this.editor,i=n.model,a=this.editor.config.get("link.defaultProtocol");a&&this.listenTo(n.plugins.get("ClipboardPipeline"),"contentInsertion",(u,h)=>{i.change(p=>{const g=p.createRangeIn(h.content);for(const b of g.getItems())if(b.hasAttribute("linkHref")){const w=WA(b.getAttribute("linkHref"),a);p.setAttribute("linkHref",w,b)}})})}}var WB=s(3817),cie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(WB.A,cie),WB.A.locals;class uie extends Ye{constructor(n,i,a){super(n),this.focusTracker=new xr,this.keystrokes=new uo,this._focusables=new bi;const u=n.t;this._validators=a,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(u("Save"),ht.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(u("Cancel"),ht.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(i),this.children=this._createFormChildren(i.manualDecorators),this._focusCycler=new vi({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const h=["ck","ck-link-form","ck-responsive-form"];i.manualDecorators.length&&h.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:h,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((n,i)=>(n[i.name]=i.isOn,n),{})}render(){super.render(),ek({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const n of this._validators){const i=n(this);if(i)return this.urlInputView.errorText=i,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const n=this.locale.t,i=new _k(this.locale,xk);return i.label=n("Link URL"),i}_createButton(n,i,a,u){const h=new Ft(this.locale);return h.set({label:n,icon:i,tooltip:!0}),h.extendTemplate({attributes:{class:a}}),u&&h.delegate("execute").to(this,u),h}_createManualDecoratorSwitches(n){const i=this.createCollection();for(const a of n.manualDecorators){const u=new wk(this.locale);u.set({name:a.id,label:a.label,withText:!0}),u.bind("isOn").toMany([a,n],"value",(h,p)=>p===void 0&&h===void 0?!!a.defaultValue:!!h),u.on("execute",()=>{a.set("value",!u.isOn)}),i.add(u)}return i}_createFormChildren(n){const i=this.createCollection();if(i.add(this.urlInputView),n.length){const a=new Ye;a.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(u=>({tag:"li",children:[u],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),i.add(a)}return i.add(this.saveButtonView),i.add(this.cancelButtonView),i}get url(){const{element:n}=this.urlInputView.fieldView;return n?n.value.trim():null}}var qB=s(8762),die={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(qB.A,die),qB.A.locals;class hie extends Ye{constructor(n,i={}){super(n),this.focusTracker=new xr,this.keystrokes=new uo,this._focusables=new bi;const a=n.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(a("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(a("Edit link"),ht.pencil,"edit"),this.set("href",void 0),this._linkConfig=i,this._focusCycler=new vi({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(n,i,a){const u=new Ft(this.locale);return u.set({label:n,icon:i,tooltip:!0}),u.delegate("execute").to(this,a),u}_createPreviewButton(){const n=new Ft(this.locale),i=this.bindTemplate,a=this.t;return n.set({withText:!0,tooltip:a("Open link in new tab")}),n.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:i.to("href",u=>u&&BB(u,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"}}),n.bind("label").to(this,"href",u=>u||a("This link has no URL")),n.bind("isEnabled").to(this,"href",u=>!!u),n.template.tag="a",n.template.eventListeners={},n}}const Es="link-ui";class pie extends ge{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[Mk]}static get pluginName(){return"LinkUI"}init(){const n=this.editor,i=this.editor.t;n.editing.view.addObserver(sX),this._balloon=n.plugins.get(Mk),this._createToolbarLinkButton(),this._enableBalloonActivators(),n.conversion.for("editingDowncast").markerToHighlight({model:Es,view:{classes:["ck-fake-link-selection"]}}),n.conversion.for("editingDowncast").markerToElement({model:Es,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}}),n.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Create link"),keystroke:Qk},{label:i("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const n=this.editor,i=new hie(n.locale,n.config.get("link")),a=n.commands.get("link"),u=n.commands.get("unlink");return i.bind("href").to(a,"value"),i.editButtonView.bind("isEnabled").to(a),i.unlinkButtonView.bind("isEnabled").to(u),this.listenTo(i,"edit",()=>{this._addFormView()}),this.listenTo(i,"unlink",()=>{n.execute("unlink"),this._hideUI()}),i.keystrokes.set("Esc",(h,p)=>{this._hideUI(),p()}),i.keystrokes.set(Qk,(h,p)=>{this._addFormView(),p()}),i}_createFormView(){const n=this.editor,i=n.commands.get("link"),a=n.config.get("link.defaultProtocol"),u=new(SC(uie))(n.locale,i,function(h){const p=h.t,g=h.config.get("link.allowCreatingEmptyLinks");return[b=>{if(!g&&!b.url.length)return p("Link URL must not be empty.")}]}(n));return u.urlInputView.fieldView.bind("value").to(i,"value"),u.urlInputView.bind("isEnabled").to(i,"isEnabled"),u.saveButtonView.bind("isEnabled").to(i,"isEnabled"),this.listenTo(u,"submit",()=>{if(u.isValid()){const{value:h}=u.urlInputView.fieldView.element,p=WA(h,a);n.execute("link",p,u.getDecoratorSwitchesState()),this._closeFormView()}}),this.listenTo(u.urlInputView,"change:errorText",()=>{n.ui.update()}),this.listenTo(u,"cancel",()=>{this._closeFormView()}),u.keystrokes.set("Esc",(h,p)=>{this._closeFormView(),p()}),u}_createToolbarLinkButton(){const n=this.editor,i=n.commands.get("link");n.ui.componentFactory.add("link",()=>{const a=this._createButton(Ft);return a.set({tooltip:!0,isToggleable:!0}),a.bind("isOn").to(i,"value",u=>!!u),a}),n.ui.componentFactory.add("menuBar:link",()=>this._createButton(Zo))}_createButton(n){const i=this.editor,a=i.locale,u=i.commands.get("link"),h=new n(i.locale),p=a.t;return h.set({label:p("Link"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',keystroke:Qk}),h.bind("isEnabled").to(u,"isEnabled"),this.listenTo(h,"execute",()=>this._showUI(!0)),h}_enableBalloonActivators(){const n=this.editor,i=n.editing.view.document;this.listenTo(i,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),n.keystrokes.set(Qk,(a,u)=>{u(),n.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(n,i)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),i())},{priority:"high"}),this.editor.keystrokes.set("Esc",(n,i)=>{this._isUIVisible&&(this._hideUI(),i())}),Xb({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const n=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=n.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const n=this.editor.commands.get("link");n.restoreManualDecoratorStates(),n.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(n=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),n&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),n&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const n=this.editor;this.stopListening(n.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),n.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const n=this.editor,i=n.editing.view.document;let a=this._getSelectedLinkElement(),u=p();const h=()=>{const g=this._getSelectedLinkElement(),b=p();a&&!g||!a&&b!==u?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),a=g,u=b};function p(){return i.selection.focus.getAncestors().reverse().find(g=>g.is("element"))}this.listenTo(n.ui,"update",h),this.listenTo(this._balloon,"change:visibleView",h)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const n=this._balloon.visibleView;return!!this.formView&&n==this.formView||this._areActionsVisible}_getBalloonPositionData(){const n=this.editor.editing.view,i=this.editor.model,a=n.document;let u;if(i.markers.has(Es)){const h=Array.from(this.editor.editing.mapper.markerNameToElements(Es)),p=n.createRange(n.createPositionBefore(h[0]),n.createPositionAfter(h[h.length-1]));u=n.domConverter.viewRangeToDom(p)}else u=()=>{const h=this._getSelectedLinkElement();return h?n.domConverter.mapViewToDom(h):n.domConverter.viewRangeToDom(a.selection.getFirstRange())};return{target:u}}_getSelectedLinkElement(){const n=this.editor.editing.view,i=n.document.selection,a=i.getSelectedElement();if(i.isCollapsed||a&&tr(a))return qA(i.getFirstPosition());{const u=i.getFirstRange().getTrimmed(),h=qA(u.start),p=qA(u.end);return h&&h==p&&n.createRangeIn(h).getTrimmed().isEqual(u)?h:null}}_showFakeVisualSelection(){const n=this.editor.model;n.change(i=>{const a=n.document.selection.getFirstRange();if(n.markers.has(Es))i.updateMarker(Es,{range:a});else if(a.start.isAtEnd){const u=a.start.getLastMatchingPosition(({item:h})=>!n.schema.isContent(h),{boundaries:a});i.addMarker(Es,{usingOperation:!1,affectsData:!1,range:i.createRange(u,a.end)})}else i.addMarker(Es,{usingOperation:!1,affectsData:!1,range:a})})}_hideFakeVisualSelection(){const n=this.editor.model;n.markers.has(Es)&&n.change(i=>{i.removeMarker(Es)})}}function qA(l){return l.getAncestors().find(n=>{return(i=n).is("attributeElement")&&!!i.getCustomProperty("link");var i})||null}const GB=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class fie extends ge{static get requires(){return[va,HB]}static get pluginName(){return"AutoLink"}init(){const n=this.editor.model.document.selection;n.on("change:range",()=>{this.isEnabled=!n.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(n,i){return i.textNode&&i.textNode.hasAttribute("linkHref")?Bk(i,"linkHref",i.textNode.getAttribute("linkHref"),n):null}_selectEntireLinks(n,i){const a=this.editor.model,u=a.document.selection,h=u.getFirstPosition(),p=u.getLastPosition();let g=i.getJoined(this._expandLinkRange(a,h)||i);g&&(g=g.getJoined(this._expandLinkRange(a,p)||i)),g&&(g.start.isBefore(h)||g.end.isAfter(p))&&n.setSelection(g)}_enablePasteLinking(){const n=this.editor,i=n.model,a=i.document.selection,u=n.plugins.get("ClipboardPipeline"),h=n.commands.get("link");u.on("inputTransformation",(p,g)=>{if(!this.isEnabled||!h.isEnabled||a.isCollapsed||g.method!=="paste"||a.rangeCount>1)return;const b=a.getFirstRange(),w=g.dataTransfer.getData("text/plain");if(!w)return;const C=w.match(GB);C&&C[2]===w&&(i.change(E=>{this._selectEntireLinks(E,b),h.execute(w)}),p.stop())},{priority:"high"})}_enableTypingHandling(){const n=this.editor,i=new f4(n.model,a=>{if(!function(h){return h.length>4&&h[h.length-1]===" "&&h[h.length-2]!==" "}(a))return;const u=KB(a.substr(0,a.length-1));return u?{url:u}:void 0});i.on("matched:data",(a,u)=>{const{batch:h,range:p,url:g}=u;if(!h.isTyping)return;const b=p.end.getShiftedBy(-1),w=b.getShiftedBy(-g.length),C=n.model.createRange(w,b);this._applyAutoLink(g,C)}),i.bind("isEnabled").to(this)}_enableEnterHandling(){const n=this.editor,i=n.model,a=n.commands.get("enter");a&&a.on("execute",()=>{const u=i.document.selection.getFirstPosition();if(!u.parent.previousSibling)return;const h=i.createRangeIn(u.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(h)})}_enableShiftEnterHandling(){const n=this.editor,i=n.model,a=n.commands.get("shiftEnter");a&&a.on("execute",()=>{const u=i.document.selection.getFirstPosition(),h=i.createRange(i.createPositionAt(u.parent,0),u.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(h)})}_checkAndApplyAutoLinkOnRange(n){const i=this.editor.model,{text:a,range:u}=p4(n,i),h=KB(a);if(h){const p=i.createRange(u.end.getShiftedBy(-h.length),u.end);this._applyAutoLink(h,p)}}_applyAutoLink(n,i){const a=this.editor.model,u=WA(n,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(h,p){return p.schema.checkAttributeInSelection(p.createSelection(h),"linkHref")}(i,a)&&LB(u)&&!function(h){const p=h.start.nodeAfter;return!!p&&p.hasAttribute("linkHref")}(i)&&this._persistAutoLink(u,i)}_persistAutoLink(n,i){const a=this.editor.model,u=this.editor.plugins.get("Delete");a.enqueueChange(h=>{h.setAttribute("linkHref",n,i),a.enqueueChange(()=>{u.requestUndoOnBackspace()})})}}function KB(l){const n=GB.exec(l);return n?n[2]:null}var YB=s(4808),mie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(YB.A,mie),YB.A.locals;class _i{constructor(n,i){this._startElement=n,this._referenceIndent=n.getAttribute("listIndent"),this._isForward=i.direction=="forward",this._includeSelf=!!i.includeSelf,this._sameAttributes=fn(i.sameAttributes||[]),this._sameIndent=!!i.sameIndent,this._lowerIndent=!!i.lowerIndent,this._higherIndent=!!i.higherIndent}static first(n,i){return Ar(new this(n,i)[Symbol.iterator]())}*[Symbol.iterator](){const n=[];for(const{node:i}of mf(this._getStartNode(),this._isForward?"forward":"backward")){const a=i.getAttribute("listIndent");if(a<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=a}else if(a>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){n.push(i);continue}}else{if(!this._sameIndent){if(this._higherIndent){n.length&&(yield*n,n.length=0);break}continue}if(this._sameAttributes.some(u=>i.getAttribute(u)!==this._startElement.getAttribute(u)))break}n.length&&(yield*n,n.length=0),yield i}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*mf(l,n="forward"){const i=n=="forward",a=[];let u=null;for(;br(l);){let h=null;if(u){const p=l.getAttribute("listIndent"),g=u.getAttribute("listIndent");p>g?a[g]=u:p<g?(h=a[p],a.length=p):h=u}yield{node:l,previous:u,previousNodeInList:h},u=l,l=i?l.nextSibling:l.previousSibling}}class gie{constructor(n){this._listHead=n}[Symbol.iterator](){return mf(this._listHead,"forward")}}var bie=Object.defineProperty,kie=Object.defineProperties,vie=Object.getOwnPropertyDescriptors,QB=Object.getOwnPropertySymbols,wie=Object.prototype.hasOwnProperty,yie=Object.prototype.propertyIsEnumerable,ZB=(l,n,i)=>n in l?bie(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,gf=(l,n)=>{for(var i in n||(n={}))wie.call(n,i)&&ZB(l,i,n[i]);if(QB)for(var i of QB(n))yie.call(n,i)&&ZB(l,i,n[i]);return l},GA=(l,n)=>kie(l,vie(n));class Td{static next(){return N()}}function br(l){return!!l&&l.is("element")&&l.hasAttribute("listItemId")}function KA(l,n={}){return[...ml(l,GA(gf({},n),{direction:"backward"})),...ml(l,GA(gf({},n),{direction:"forward"}))]}function ml(l,n={}){const i=n.direction=="forward",a=Array.from(new _i(l,GA(gf({},n),{includeSelf:i,sameIndent:!0,sameAttributes:"listItemId"})));return i?a:a.reverse()}function JB(l,n){const i=new _i(l,gf({sameIndent:!0,sameAttributes:"listType"},n)),a=new _i(l,gf({sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"},n));return[...Array.from(i).reverse(),...a]}function zc(l){return!_i.first(l,{sameIndent:!0,sameAttributes:"listItemId"})}function XB(l){return!_i.first(l,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function bf(l,n={}){l=fn(l);const i=n.withNested!==!1,a=new Set;for(const u of l)for(const h of KA(u,{higherIndent:i}))a.add(h);return $c(a)}function _ie(l){l=fn(l);const n=new Set;for(const i of l)for(const a of JB(i))n.add(a);return $c(n)}function YA(l,n){const i=ml(l,{direction:"forward"}),a=Td.next();for(const u of i)n.setAttribute("listItemId",a,u);return i}function QA(l,n,i){const a={};for(const[h,p]of n.getAttributes())h.startsWith("list")&&(a[h]=p);const u=ml(l,{direction:"forward"});for(const h of u)i.setAttributes(a,h);return u}function ZA(l,n,{expand:i,indentBy:a=1}={}){l=fn(l);const u=i?bf(l):l;for(const h of u){const p=h.getAttribute("listIndent")+a;p<0?Zk(h,n):n.setAttribute("listIndent",p,h)}return u}function Zk(l,n){l=fn(l);for(const i of l)i.is("element","listItem")&&n.rename(i,"paragraph");for(const i of l)for(const a of i.getAttributeKeys())a.startsWith("list")&&n.removeAttribute(a,i);return l}function kf(l){if(!l.length)return!1;const n=l[0].getAttribute("listItemId");return!!n&&!l.some(i=>i.getAttribute("listItemId")!=n)}function $c(l){return Array.from(l).filter(n=>n.root.rootName!=="$graveyard").sort((n,i)=>n.index-i.index)}function vf(l){const n=l.document.selection.getSelectedElement();return n&&l.schema.isObject(n)&&l.schema.isBlock(n)?n:null}function JA(l,n){return n.checkChild(l.parent,"listItem")&&n.checkChild(l,"$text")&&!n.isObject(l)}function Cie(l){return l=="numbered"||l=="customNumbered"}function Aie(l,n,i){return ml(n,{direction:"forward"}).pop().index>l.index?QA(l,n,i):[]}class e3 extends wt{constructor(n,i){super(n),this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute(){const n=this.editor.model,i=t3(n.document.selection);n.change(a=>{const u=[];kf(i)&&!zc(i[0])?(this._direction=="forward"&&u.push(...ZA(i,a)),u.push(...YA(i[0],a))):this._direction=="forward"?u.push(...ZA(i,a,{expand:!0})):u.push(...function(h,p){const g=bf(h=fn(h)),b=new Set,w=Math.min(...g.map(E=>E.getAttribute("listIndent"))),C=new Map;for(const E of g)C.set(E,_i.first(E,{lowerIndent:!0}));for(const E of g){if(b.has(E))continue;b.add(E);const M=E.getAttribute("listIndent")-1;if(M<0)Zk(E,p);else{if(E.getAttribute("listIndent")==w){const O=Aie(E,C.get(E),p);for(const L of O)b.add(L);if(O.length)continue}p.setAttribute("listIndent",M,E)}}return $c(b)}(i,a));for(const h of u){if(!h.hasAttribute("listType"))continue;const p=_i.first(h,{sameIndent:!0});p&&a.setAttribute("listType",p.getAttribute("listType"),h)}this._fireAfterExecute(u)})}_fireAfterExecute(n){this.fire("afterExecute",$c(new Set(n)))}_checkEnabled(){let n=t3(this.editor.model.document.selection),i=n[0];if(!i)return!1;if(this._direction=="backward"||kf(n)&&!zc(n[0]))return!0;n=bf(n),i=n[0];const a=_i.first(i,{sameIndent:!0});return!!a&&a.getAttribute("listType")==i.getAttribute("listType")}}function t3(l){const n=Array.from(l.getSelectedBlocks()),i=n.findIndex(a=>!br(a));return i!=-1&&(n.length=i),n}var xie=Object.defineProperty,Eie=Object.defineProperties,Sie=Object.getOwnPropertyDescriptors,n3=Object.getOwnPropertySymbols,Die=Object.prototype.hasOwnProperty,Tie=Object.prototype.propertyIsEnumerable,r3=(l,n,i)=>n in l?xie(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,XA=(l,n)=>{for(var i in n||(n={}))Die.call(n,i)&&r3(l,i,n[i]);if(n3)for(var i of n3(n))Tie.call(n,i)&&r3(l,i,n[i]);return l},e1=(l,n)=>Eie(l,Sie(n));class Jk extends wt{constructor(n,i,a={}){super(n),this.type=i,this._listWalkerOptions=a.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(n={}){const i=this.editor.model,a=i.document,u=vf(i),h=Array.from(a.selection.getSelectedBlocks()).filter(g=>i.schema.checkAttribute(g,"listType")||JA(g,i.schema)),p=n.forceValue!==void 0?!n.forceValue:this.value;i.change(g=>{if(p){const b=h[h.length-1],w=ml(b,{direction:"forward"}),C=[];w.length>1&&C.push(...YA(w[1],g)),C.push(...Zk(h,g)),C.push(...function(E,M){const O=[];let L=Number.POSITIVE_INFINITY;for(const{node:F}of mf(E.nextSibling,"forward")){const H=F.getAttribute("listIndent");if(H==0)break;H<L&&(L=H);const K=H-L;M.setAttribute("listIndent",K,F),O.push(F)}return O}(b,g)),this._fireAfterExecute(C)}else if((u||a.selection.isCollapsed)&&br(h[0])){const b=JB(u||h[0],this._listWalkerOptions);for(const w of b)g.setAttributes(e1(XA({},n.additionalAttributes),{listType:this.type}),w);this._fireAfterExecute(b)}else{const b=[];for(const w of h)if(w.hasAttribute("listType"))for(const C of bf(w,{withNested:!1}))C.getAttribute("listType")!=this.type&&(g.setAttributes(e1(XA({},n.additionalAttributes),{listType:this.type}),C),b.push(C));else!w.is("element","listItem")&&JA(w,i.schema)&&g.rename(w,"listItem"),g.setAttributes(e1(XA({},n.additionalAttributes),{listIndent:0,listItemId:Td.next(),listType:this.type}),w),b.push(w);this._fireAfterExecute(b)}})}_fireAfterExecute(n){this.fire("afterExecute",$c(new Set(n)))}_getValue(){const n=this.editor.model.document.selection,i=Array.from(n.getSelectedBlocks());if(!i.length)return!1;for(const a of i)if(a.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const n=this.editor.model,i=n.schema,a=n.document.selection,u=Array.from(a.getSelectedBlocks());if(!u.length)return!1;if(this.value)return!0;for(const h of u)if(i.checkAttribute(h,"listType")||JA(h,i))return!0;return!1}}class o3 extends wt{constructor(n,i){super(n),this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:n=!1}={}){const i=this.editor.model,a=i.document.selection,u=[];i.change(h=>{const{firstElement:p,lastElement:g}=this._getMergeSubjectElements(a,n),b=p.getAttribute("listIndent")||0,w=g.getAttribute("listIndent"),C=g.getAttribute("listItemId");if(b!=w){const M=(E=g,Array.from(new _i(E,{direction:"forward",higherIndent:!0})));u.push(...ZA([g,...M],h,{indentBy:b-w,expand:b<w}))}var E;if(n){let M=a;a.isCollapsed&&(M=h.createSelection(h.createRange(h.createPositionAt(p,"end"),h.createPositionAt(g,0)))),i.deleteContent(M,{doNotResetEntireContent:a.isCollapsed});const O=M.getLastPosition().parent,L=O.nextSibling;u.push(O),L&&L!==g&&L.getAttribute("listItemId")==C&&u.push(...QA(L,O,h))}else u.push(...QA(g,p,h));this._fireAfterExecute(u)})}_fireAfterExecute(n){this.fire("afterExecute",$c(new Set(n)))}_checkEnabled(){const n=this.editor.model,i=n.document.selection,a=vf(n);if(i.isCollapsed||a){const u=a||i.getFirstPosition().parent;if(!br(u))return!1;const h=this._direction=="backward"?u.previousSibling:u.nextSibling;if(!h||kf([u,h]))return!1}else{const u=i.getLastPosition(),h=i.getFirstPosition();if(u.parent===h.parent||!br(u.parent))return!1}return!0}_getMergeSubjectElements(n,i){const a=vf(this.editor.model);let u,h;if(n.isCollapsed||a){const p=a||n.getFirstPosition().parent,g=zc(p);this._direction=="backward"?(h=p,u=g&&!i?_i.first(p,{sameIndent:!0,lowerIndent:!0}):p.previousSibling):(u=p,h=p.nextSibling)}else u=n.getFirstPosition().parent,h=n.getLastPosition().parent;return{firstElement:u,lastElement:h}}}class i3 extends wt{constructor(n,i){super(n),this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(n=>{const i=YA(this._getStartBlock(),n);this._fireAfterExecute(i)})}_fireAfterExecute(n){this.fire("afterExecute",$c(new Set(n)))}_checkEnabled(){const n=this.editor.model.document.selection,i=this._getStartBlock();return n.isCollapsed&&br(i)&&!zc(i)}_getStartBlock(){const n=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?n:n.nextSibling}}class Iie extends ge{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(n){return _ie(n)}isFirstBlockOfListItem(n){return zc(n)}isListItemBlock(n){return br(n)}expandListBlocksToCompleteItems(n,i={}){return bf(n,i)}isNumberedListType(n){return Cie(n)}}function s3(l){return l.is("element","ol")||l.is("element","ul")}function Xk(l){return l.is("element","li")}function Mie(l,n,i,a=l3(i,n)){return l.createAttributeElement(a3(i),null,{priority:2*n/100-100,id:a})}function Pie(l,n,i){return l.createAttributeElement("li",null,{priority:(2*n+1)/100-100,id:i})}function a3(l){return l=="numbered"||l=="customNumbered"?"ol":"ul"}function l3(l,n){return`list-${l}-${n}`}function ns(l,n){const i=l.nodeBefore;if(br(i)){let a=i;for(const{node:u}of mf(a,"backward"))if(a=u,n.has(a))return;n.set(i,a)}else{const a=l.nodeAfter;br(a)&&n.set(a,a)}}function Nie(){return(l,n,i)=>{const{writer:a,schema:u}=i;if(!n.modelRange)return;const h=Array.from(n.modelRange.getItems({shallow:!0})).filter(E=>u.checkAttribute(E,"listItemId"));if(!h.length)return;const p=Td.next(),g=function(E){let M=0,O=E.parent;for(;O;){if(Xk(O))M++;else{const L=O.previousSibling;L&&Xk(L)&&M++}O=O.parent}return M}(n.viewItem);let b=n.viewItem.parent&&n.viewItem.parent.is("element","ol")?"numbered":"bulleted";const w=h[0].getAttribute("listType");w&&(b=w);const C={listItemId:p,listIndent:g,listType:b};for(const E of h)E.hasAttribute("listItemId")||a.setAttributes(C,E);h.length>1&&h[1].getAttribute("listItemId")!=C.listItemId&&i.keepEmptyElement(h[0])}}function c3(){return(l,n,i)=>{if(!i.consumable.test(n.viewItem,{name:!0}))return;const a=new ma(n.viewItem.document);for(const u of Array.from(n.viewItem.getChildren()))Xk(u)||s3(u)||a.remove(u)}}function u3(l,n,i,{dataPipeline:a}={}){const u=function(h){return(p,g)=>{const b=[];for(const w of h)p.hasAttribute(w)&&b.push(`attribute:${w}`);return!!b.every(w=>g.test(p,w)!==!1)&&(b.forEach(w=>g.consume(p,w)),!0)}}(l);return(h,p,g)=>{const{writer:b,mapper:w,consumable:C}=g,E=p.item;if(!l.includes(p.attributeKey)||!u(E,C))return;const M=function(L,F,H){const K=H.createRangeOn(L);return F.toViewRange(K).getTrimmed().end.nodeBefore}(E,w,i);h3(M,b,w),function(L,F){let H=L.parent;for(;H.is("attributeElement")&&["ul","ol","li"].includes(H.name);){const K=H.parent;F.unwrap(F.createRangeOn(L),H),H=K}}(M,b);const O=function(L,F,H,K,{dataPipeline:X}){let oe=K.createRangeOn(F);if(!zc(L))return oe;for(const le of H){if(le.scope!="itemMarker")continue;const De=le.createElement(K,L,{dataPipeline:X});if(!De||(K.setCustomProperty("listItemMarker",!0,De),le.canInjectMarkerIntoElement&&le.canInjectMarkerIntoElement(L)?K.insert(K.createPositionAt(F,0),De):(K.insert(oe.start,De),oe=K.createRange(K.createPositionBefore(De),K.createPositionAfter(F))),!le.createWrapperElement||!le.canWrapElement))continue;const rt=le.createWrapperElement(K,L,{dataPipeline:X});K.setCustomProperty("listItemWrapper",!0,rt),le.canWrapElement(L)?oe=K.wrap(oe,rt):(oe=K.wrap(K.createRangeOn(De),rt),oe=K.createRange(oe.start,K.createPositionAfter(F)))}return oe}(E,M,n,b,{dataPipeline:a});(function(L,F,H,K){if(!L.hasAttribute("listIndent"))return;const X=L.getAttribute("listIndent");let oe=L;for(let le=X;le>=0;le--){const De=Pie(K,le,oe.getAttribute("listItemId")),rt=Mie(K,le,oe.getAttribute("listType"));for(const mt of H)mt.scope!="list"&&mt.scope!="item"||!oe.hasAttribute(mt.attributeName)||mt.setAttributeOnDowncast(K,oe.getAttribute(mt.attributeName),mt.scope=="list"?rt:De);if(F=K.wrap(F,De),F=K.wrap(F,rt),le==0||(oe=_i.first(oe,{lowerIndent:!0}),!oe))break}})(E,O,n,b)}}function d3(l,{dataPipeline:n}={}){return(i,{writer:a})=>{if(!p3(i,l))return null;if(!n)return a.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const u=a.createContainerElement("p");return a.setCustomProperty("dataPipeline:transparentRendering",!0,u),u}}function h3(l,n,i){for(;l.parent.is("attributeElement")&&l.parent.getCustomProperty("listItemWrapper");)n.unwrap(n.createRangeOn(l),l.parent);const a=[];u(n.createPositionBefore(l).getWalker({direction:"backward"})),u(n.createRangeIn(l).getWalker());for(const h of a)n.remove(h);function u(h){for(const{item:p}of h){if(p.is("element")&&i.toModelElement(p))break;p.is("element")&&p.getCustomProperty("listItemMarker")&&a.push(p)}}}function p3(l,n,i=KA(l)){if(!br(l))return!1;for(const a of l.getAttributeKeys())if(!a.startsWith("selection:")&&!n.includes(a))return!1;return i.length<2}var f3=s(1232),Rie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(f3.A,Rie),f3.A.locals;var m3=s(6903),Oie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(m3.A,Oie),m3.A.locals;const ev=["listType","listIndent","listItemId"];class Bie extends ge{constructor(n){super(n),this._downcastStrategies=[],n.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get requires(){return[Lk,va,Iie,wi]}init(){const n=this.editor,i=n.model,a=n.config.get("list.multiBlock");if(n.plugins.has("LegacyListEditing"))throw new R("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});i.schema.register("$listItem",{allowAttributes:ev}),a?(i.schema.extend("$container",{allowAttributesOf:"$listItem"}),i.schema.extend("$block",{allowAttributesOf:"$listItem"}),i.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):i.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const u of ev)i.schema.setAttributeProperties(u,{copyOnReplace:!0});n.commands.add("numberedList",new Jk(n,"numbered")),n.commands.add("bulletedList",new Jk(n,"bulleted")),n.commands.add("customNumberedList",new Jk(n,"customNumbered",{multiLevel:!0})),n.commands.add("customBulletedList",new Jk(n,"customBulleted",{multiLevel:!0})),n.commands.add("indentList",new e3(n,"forward")),n.commands.add("outdentList",new e3(n,"backward")),n.commands.add("splitListItemBefore",new i3(n,"before")),n.commands.add("splitListItemAfter",new i3(n,"after")),a&&(n.commands.add("mergeListItemBackward",new o3(n,"backward")),n.commands.add("mergeListItemForward",new o3(n,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const n=this.editor.commands,i=n.get("indent"),a=n.get("outdent");i&&i.registerChildCommand(n.get("indentList"),{priority:"high"}),a&&a.registerChildCommand(n.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(n){this._downcastStrategies.push(n)}getListAttributeNames(){return[...ev,...this._downcastStrategies.map(n=>n.attributeName)]}_setupDeleteIntegration(){const n=this.editor,i=n.commands.get("mergeListItemBackward"),a=n.commands.get("mergeListItemForward");this.listenTo(n.editing.view.document,"delete",(u,h)=>{const p=n.model.document.selection;vf(n.model)||n.model.change(()=>{const g=p.getFirstPosition();if(p.isCollapsed&&h.direction=="backward"){if(!g.isAtStart)return;const b=g.parent;if(!br(b))return;if(_i.first(b,{sameAttributes:"listType",sameIndent:!0})||b.getAttribute("listIndent")!==0){if(!i||!i.isEnabled)return;i.execute({shouldMergeOnBlocksContentLevel:g3(n.model,"backward")})}else XB(b)||n.execute("splitListItemAfter"),n.execute("outdentList");h.preventDefault(),u.stop()}else{if(p.isCollapsed&&!p.getLastPosition().isAtEnd||!a||!a.isEnabled)return;a.execute({shouldMergeOnBlocksContentLevel:g3(n.model,"forward")}),h.preventDefault(),u.stop()}})},{context:"li"})}_setupEnterIntegration(){const n=this.editor,i=n.model,a=n.commands,u=a.get("enter");this.listenTo(n.editing.view.document,"enter",(h,p)=>{const g=i.document,b=g.selection.getFirstPosition().parent;if(g.selection.isCollapsed&&br(b)&&b.isEmpty&&!p.isSoft){const w=zc(b),C=XB(b);w&&C?(n.execute("outdentList"),p.preventDefault(),h.stop()):w&&!C?(n.execute("splitListItemAfter"),p.preventDefault(),h.stop()):C&&(n.execute("splitListItemBefore"),p.preventDefault(),h.stop())}},{context:"li"}),this.listenTo(u,"afterExecute",()=>{const h=a.get("splitListItemBefore");h.refresh(),h.isEnabled&&KA(n.model.document.selection.getLastPosition().parent).length===2&&h.execute()})}_setupTabIntegration(){const n=this.editor;this.listenTo(n.editing.view.document,"tab",(i,a)=>{const u=a.shiftKey?"outdentList":"indentList";this.editor.commands.get(u).isEnabled&&(n.execute(u),a.stopPropagation(),a.preventDefault(),i.stop())},{context:"li"})}_setupConversion(){const n=this.editor,i=n.model,a=this.getListAttributeNames(),u=n.config.get("list.multiBlock"),h=u?"paragraph":"listItem";n.conversion.for("upcast").elementToElement({view:"li",model:(w,{writer:C})=>C.createElement(h,{listType:""})}).elementToElement({view:"p",model:(w,{writer:C})=>w.parent&&w.parent.is("element","li")?C.createElement(h,{listType:""}):null,converterPriority:"high"}).add(w=>{w.on("element:li",Nie()),w.on("element:ul",c3(),{priority:"high"}),w.on("element:ol",c3(),{priority:"high"})}),u||n.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),n.conversion.for("editingDowncast").elementToElement({model:h,view:d3(a),converterPriority:"high"}).add(w=>{var C;w.on("attribute",u3(a,this._downcastStrategies,i)),w.on("remove",(C=i.schema,(E,M,O)=>{const{writer:L,mapper:F}=O,H=E.name.split(":")[1];if(!C.checkAttribute(H,"listItemId"))return;const K=F.toViewPosition(M.position),X=M.position.getShiftedBy(M.length),oe=F.toViewPosition(X,{isPhantom:!0}),le=L.createRange(K,oe).getTrimmed().end.nodeBefore;le&&h3(le,L,F)}))}),n.conversion.for("dataDowncast").elementToElement({model:h,view:d3(a,{dataPipeline:!0}),converterPriority:"high"}).add(w=>{w.on("attribute",u3(a,this._downcastStrategies,i,{dataPipeline:!0}))});const p=(g=this._downcastStrategies,b=n.editing.view,(w,C)=>{if(C.modelPosition.offset>0)return;const E=C.modelPosition.parent;if(!br(E)||!g.some(H=>H.scope=="itemMarker"&&H.canInjectMarkerIntoElement&&H.canInjectMarkerIntoElement(E)))return;const M=C.mapper.toViewElement(E),O=b.createRangeIn(M),L=O.getWalker();let F=O.start;for(const{item:H}of L){if(H.is("element")&&C.mapper.toModelElement(H)||H.is("$textProxy"))break;H.is("element")&&H.getCustomProperty("listItemMarker")&&(F=b.createPositionAfter(H),L.skip(({previousPosition:K})=>!K.isEqual(F)))}C.viewPosition=F});var g,b;n.editing.mapper.on("modelToViewPosition",p),n.data.mapper.on("modelToViewPosition",p),this.listenTo(i.document,"change:data",function(w,C,E,M){return()=>{const H=w.document.differ.getChanges(),K=[],X=new Map,oe=new Set;for(const le of H)if(le.type=="insert"&&le.name!="$text")ns(le.position,X),le.attributes.has("listItemId")?oe.add(le.position.nodeAfter):ns(le.position.getShiftedBy(le.length),X);else if(le.type=="remove"&&le.attributes.has("listItemId"))ns(le.position,X);else if(le.type=="attribute"){const De=le.range.start.nodeAfter;E.includes(le.attributeKey)?(ns(le.range.start,X),le.attributeNewValue===null?(ns(le.range.start.getShiftedBy(1),X),L(De)&&K.push(De)):oe.add(De)):br(De)&&L(De)&&K.push(De)}for(const le of X.values())K.push(...O(le,oe));for(const le of new Set(K))C.reconvertItem(le)};function O(H,K){const X=[],oe=new Set,le=[];for(const{node:De,previous:rt}of mf(H,"forward")){if(oe.has(De))continue;const mt=De.getAttribute("listIndent");rt&&mt<rt.getAttribute("listIndent")&&(le.length=mt+1),le[mt]=Object.fromEntries(Array.from(De.getAttributes()).filter(([kr])=>E.includes(kr)));const mn=ml(De,{direction:"forward"});for(const kr of mn)oe.add(kr),(L(kr,mn)||F(kr,le,K))&&X.push(kr)}return X}function L(H,K){const X=C.mapper.toViewElement(H);if(!X)return!1;if(M.fire("checkElement",{modelElement:H,viewElement:X}))return!0;if(!H.is("element","paragraph")&&!H.is("element","listItem"))return!1;const oe=p3(H,E,K);return!(!oe||!X.is("element","p"))||!(oe||!X.is("element","span"))}function F(H,K,X){if(X.has(H))return!1;const oe=C.mapper.toViewElement(H);let le=K.length-1;for(let De=oe.parent;!De.is("editableElement");De=De.parent){const rt=Xk(De),mt=s3(De);if(!mt&&!rt)continue;const mn="checkAttributes:"+(rt?"item":"list");if(M.fire(mn,{viewElement:De,modelAttributes:K[le]}))break;if(mt&&(le--,le<0))return!1}return!0}}(i,n.editing,a,this),{priority:"high"}),this.on("checkAttributes:item",(w,{viewElement:C,modelAttributes:E})=>{C.id!=E.listItemId&&(w.return=!0,w.stop())}),this.on("checkAttributes:list",(w,{viewElement:C,modelAttributes:E})=>{C.name==a3(E.listType)&&C.id==l3(E.listType,E.listIndent)||(w.return=!0,w.stop())})}_setupModelPostFixing(){const n=this.editor.model,i=this.getListAttributeNames();n.document.registerPostFixer(a=>function(u,h,p,g){const b=u.document.differ.getChanges(),w=new Map,C=g.editor.config.get("list.multiBlock");let E=!1;for(const O of b){if(O.type=="insert"&&O.name!="$text"){const L=O.position.nodeAfter;if(!u.schema.checkAttribute(L,"listItemId"))for(const F of Array.from(L.getAttributeKeys()))p.includes(F)&&(h.removeAttribute(F,L),E=!0);ns(O.position,w),O.attributes.has("listItemId")||ns(O.position.getShiftedBy(O.length),w);for(const{item:F,previousPosition:H}of u.createRangeIn(L))br(F)&&ns(H,w)}else O.type=="remove"?ns(O.position,w):O.type=="attribute"&&p.includes(O.attributeKey)&&(ns(O.range.start,w),O.attributeNewValue===null&&ns(O.range.start.getShiftedBy(1),w));if(!C&&O.type=="attribute"&&ev.includes(O.attributeKey)){const L=O.range.start.nodeAfter;O.attributeNewValue===null&&L&&L.is("element","listItem")?(h.rename(L,"paragraph"),E=!0):O.attributeOldValue===null&&L&&L.is("element")&&L.name!="listItem"&&(h.rename(L,"listItem"),E=!0)}}const M=new Set;for(const O of w.values())E=g.fire("postFixer",{listNodes:new gie(O),listHead:O,writer:h,seenIds:M})||E;return E}(n,a,i,this)),this.on("postFixer",(a,{listNodes:u,writer:h})=>{a.return=function(p,g){let b=0,w=-1,C=null,E=!1;for(const{node:M}of p){const O=M.getAttribute("listIndent");if(O>b){let L;C===null?(C=O-b,L=b):(C>O&&(C=O),L=O-C),L>w+1&&(L=w+1),g.setAttribute("listIndent",L,M),E=!0,w=L}else C=null,b=O+1,w=O}return E}(u,h)||a.return},{priority:"high"}),this.on("postFixer",(a,{listNodes:u,writer:h,seenIds:p})=>{a.return=function(g,b,w){const C=new Set;let E=!1;for(const{node:M}of g){if(C.has(M))continue;let O=M.getAttribute("listType"),L=M.getAttribute("listItemId");if(b.has(L)&&(L=Td.next()),b.add(L),M.is("element","listItem"))M.getAttribute("listItemId")!=L&&(w.setAttribute("listItemId",L,M),E=!0);else for(const F of ml(M,{direction:"forward"}))C.add(F),F.getAttribute("listType")!=O&&(L=Td.next(),O=F.getAttribute("listType")),F.getAttribute("listItemId")!=L&&(w.setAttribute("listItemId",L,F),E=!0)}return E}(u,p,h)||a.return},{priority:"high"})}_setupClipboardIntegration(){const n=this.editor.model,i=this.editor.plugins.get("ClipboardPipeline");this.listenTo(n,"insertContent",function(a){return(u,[h,p])=>{const g=h.is("documentFragment")?Array.from(h.getChildren()):[h];if(!g.length)return;const b=(p?a.createSelection(p):a.document.selection).getFirstPosition();let w;if(br(b.parent))w=b.parent;else{if(!br(b.nodeBefore))return;w=b.nodeBefore}a.change(C=>{const E=w.getAttribute("listType"),M=w.getAttribute("listIndent"),O=g[0].getAttribute("listIndent")||0,L=Math.max(M-O,0);for(const F of g){const H=br(F);w.is("element","listItem")&&F.is("element","paragraph")&&C.rename(F,"listItem"),C.setAttributes({listIndent:(H?F.getAttribute("listIndent"):0)+L,listItemId:H?F.getAttribute("listItemId"):Td.next(),listType:E},F)}})}}(n),{priority:"high"}),this.listenTo(i,"outputTransformation",(a,u)=>{n.change(h=>{const p=Array.from(u.content.getChildren()),g=p[p.length-1];if(p.length>1&&g.is("element")&&g.isEmpty&&p.slice(0,-1).every(br)&&h.remove(g),u.method=="copy"||u.method=="cut"){const b=Array.from(u.content.getChildren());kf(b)&&Zk(b,h)}})})}_setupAccessibilityIntegration(){const n=this.editor,i=n.t;n.accessibility.addKeystrokeInfoGroup({id:"list",label:i("Keystrokes that can be used in a list"),keystrokes:[{label:i("Increase list item indent"),keystroke:"Tab"},{label:i("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function g3(l,n){const i=l.document.selection;if(!i.isCollapsed)return!vf(l);if(n==="forward")return!0;const a=i.getFirstPosition().parent,u=a.previousSibling;return!l.schema.isObject(u)&&(!!u.isEmpty||kf([a,u]))}function b3(l,n,i,a){l.ui.componentFactory.add(n,()=>{const u=k3(Ft,l,n,i,a);return u.set({tooltip:!0,isToggleable:!0}),u}),l.ui.componentFactory.add(`menuBar:${n}`,()=>k3(Zo,l,n,i,a))}function k3(l,n,i,a,u){const h=n.commands.get(i),p=new l(n.locale);return p.set({label:a,icon:u}),p.bind("isOn","isEnabled").to(h,"value","isEnabled"),p.on("execute",()=>{n.execute(i),n.editing.view.focus()}),p}class Lie extends ge{static get pluginName(){return"ListUI"}init(){const n=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||b3(this.editor,"numberedList",n("Numbered List"),ht.numberedList),this.editor.ui.componentFactory.has("bulletedList")||b3(this.editor,"bulletedList",n("Bulleted List"),ht.bulletedList)}}class jie extends ge{static get requires(){return[Bie,Lie]}static get pluginName(){return"List"}}const Fie=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:l,typeAttribute:n,listType:i}of Fie);var v3=s(9968),zie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(v3.A,zie),v3.A.locals;var w3=s(7141),$ie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(w3.A,$ie),w3.A.locals,$p("Ctrl+Enter");var y3=s(8991),Vie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(y3.A,Vie),y3.A.locals,$p("Ctrl+Enter");function _3(l,n){const i=(a,u,h)=>{if(!h.consumable.consume(u.item,a.name))return;const p=u.attributeNewValue,g=h.writer,b=h.mapper.toViewElement(u.item),w=[...b.getChildren()].find(E=>E.getCustomProperty("media-content"));g.remove(w);const C=l.getMediaViewElement(g,p,n);g.insert(g.createPositionAt(b,0),C)};return a=>{a.on("attribute:url:media",i)}}function C3(l,n,i,a){return l.createContainerElement("figure",{class:"media"},[n.getMediaViewElement(l,i,a),l.createSlot()])}function A3(l){const n=l.getSelectedElement();return n&&n.is("element","media")?n:null}function x3(l,n,i,a){l.change(u=>{const h=u.createElement("media",{url:n});l.insertObject(h,i,null,{setSelection:"on",findOptimalPosition:a?"auto":void 0})})}class Uie extends wt{refresh(){const n=this.editor.model,i=n.document.selection,a=A3(i);this.value=a?a.getAttribute("url"):void 0,this.isEnabled=function(u){const h=u.getSelectedElement();return!!h&&h.name==="media"}(i)||function(u,h){let g=S4(u,h).start.parent;return g.isEmpty&&!h.schema.isLimit(g)&&(g=g.parent),h.schema.checkChild(g,"media")}(i,n)}execute(n){const i=this.editor.model,a=i.document.selection,u=A3(a);u?i.change(h=>{h.setAttribute("url",n,u)}):x3(i,n,a,!0)}}class Hie{constructor(n,i){const a=i.providers,u=i.extraProviders||[],h=new Set(i.removeProviders),p=a.concat(u).filter(g=>{const b=g.name;return b?!h.has(b):(z("media-embed-no-provider-name",{provider:g}),!1)});this.locale=n,this.providerDefinitions=p}hasMedia(n){return!!this._getMedia(n)}getMediaViewElement(n,i,a){return this._getMedia(i).getViewElement(n,a)}_getMedia(n){if(!n)return new E3(this.locale);n=n.trim();for(const i of this.providerDefinitions){const a=i.html,u=fn(i.url);for(const h of u){const p=this._getUrlMatches(n,h);if(p)return new E3(this.locale,n,p,a)}}return null}_getUrlMatches(n,i){let a=n.match(i);if(a)return a;let u=n.replace(/^https?:\/\//,"");return a=u.match(i),a||(u=u.replace(/^www\./,""),a=u.match(i),a||null)}}class E3{constructor(n,i,a,u){this.url=this._getValidUrl(i),this._locale=n,this._match=a,this._previewRenderer=u}getViewElement(n,i){const a={};let u;if(i.renderForEditingView||i.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(a["data-oembed-url"]=this.url),i.renderForEditingView&&(a.class="ck-media__wrapper");const h=this._getPreviewHtml(i);u=n.createRawElement("div",a,(p,g)=>{g.setContentOf(p,h)})}else this.url&&(a.url=this.url),u=n.createEmptyElement(i.elementName,a);return n.setCustomProperty("media-content",!0,u),u}_getPreviewHtml(n){return this._previewRenderer?this._previewRenderer(this._match):this.url&&n.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const n=new ga,i=this._locale.t;return n.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',n.viewBox="0 0 64 42",new Yi({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[n]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":i("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(n){return n?n.match(/^https?/)?n:"https://"+n:null}}var S3=s(7048),Wie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(S3.A,Wie),S3.A.locals;class tv extends ge{constructor(n){super(n),n.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:i=>{const a=i[1],u=i[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${a}${u?`?start=${u}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new Hie(n.locale,n.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const n=this.editor,i=n.model.schema,a=n.t,u=n.conversion,h=n.config.get("mediaEmbed.previewsInData"),p=n.config.get("mediaEmbed.elementName"),g=this.registry;n.commands.add("mediaEmbed",new Uie(n)),i.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),u.for("dataDowncast").elementToStructure({model:"media",view:(b,{writer:w})=>{const C=b.getAttribute("url");return C3(w,g,C,{elementName:p,renderMediaPreview:!!C&&h})}}),u.for("dataDowncast").add(_3(g,{elementName:p,renderMediaPreview:h})),u.for("editingDowncast").elementToStructure({model:"media",view:(b,{writer:w})=>{const C=b.getAttribute("url");return function(E,M,O){return M.setCustomProperty("media",!0,E),TA(E,M,{label:O})}(C3(w,g,C,{elementName:p,renderForEditingView:!0}),w,a("media widget"))}}),u.for("editingDowncast").add(_3(g,{elementName:p,renderForEditingView:!0})),u.for("upcast").elementToElement({view:b=>["oembed",p].includes(b.name)&&b.getAttribute("url")?{name:!0}:null,model:(b,{writer:w})=>{const C=b.getAttribute("url");return g.hasMedia(C)?w.createElement("media",{url:C}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(b,{writer:w})=>{const C=b.getAttribute("data-oembed-url");return g.hasMedia(C)?w.createElement("media",{url:C}):null}}).add(b=>{b.on("element:figure",(w,C,E)=>{if(!E.consumable.consume(C.viewItem,{name:!0,classes:"media"}))return;const{modelRange:M,modelCursor:O}=E.convertChildren(C.viewItem,C.modelCursor);C.modelRange=M,C.modelCursor=O,Ar(M.getItems())||E.consumable.revert(C.viewItem,{name:!0,classes:"media"})})})}}const qie=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class Gie extends ge{constructor(n){super(n),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[q4,va,Z4]}static get pluginName(){return"AutoMediaEmbed"}init(){const n=this.editor,i=n.model.document,a=n.plugins.get("ClipboardPipeline");this.listenTo(a,"inputTransformation",()=>{const u=i.selection.getFirstRange(),h=Br.fromPosition(u.start);h.stickiness="toPrevious";const p=Br.fromPosition(u.end);p.stickiness="toNext",i.once("change:data",()=>{this._embedMediaBetweenPositions(h,p),h.detach(),p.detach()},{priority:"high"})}),n.commands.get("undo").on("execute",()=>{this._timeoutId&&(m.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(n,i){const a=this.editor,u=a.plugins.get(tv).registry,h=new Yo(n,i),p=h.getWalker({ignoreElementEnd:!0});let g="";for(const b of p)b.item.is("$textProxy")&&(g+=b.item.data);if(g=g.trim(),!g.match(qie)||!u.hasMedia(g))return void h.detach();a.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Br.fromPosition(n),this._timeoutId=m.window.setTimeout(()=>{a.model.change(b=>{this._timeoutId=null,b.remove(h),h.detach();let w=null;this._positionToInsert.root.rootName!=="$graveyard"&&(w=this._positionToInsert),x3(a.model,g,w,!1),this._positionToInsert.detach(),this._positionToInsert=null}),a.plugins.get(va).requestUndoOnBackspace()},100)):h.detach()}}var D3=s(5651),Kie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(D3.A,Kie),D3.A.locals;class Yie extends Ye{constructor(n,i){super(i);const a=i.t;this.focusTracker=new xr,this.keystrokes=new uo,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(a("Save"),ht.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(a("Cancel"),ht.cancel,"ck-button-cancel","cancel"),this._focusables=new bi,this._focusCycler=new vi({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=n,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),ek({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element);const n=i=>i.stopPropagation();this.keystrokes.set("arrowright",n),this.keystrokes.set("arrowleft",n),this.keystrokes.set("arrowup",n),this.keystrokes.set("arrowdown",n)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(n){this.urlInputView.fieldView.element.value=n.trim()}isValid(){this.resetFormStatus();for(const n of this._validators){const i=n(this);if(i)return this.urlInputView.errorText=i,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const n=this.locale.t,i=new _k(this.locale,xk),a=i.fieldView;return this._urlInputViewInfoDefault=n("Paste the media URL in the input."),this._urlInputViewInfoTip=n("Tip: Paste the URL into the content to embed faster."),i.label=n("Media URL"),i.infoText=this._urlInputViewInfoDefault,a.on("input",()=>{i.infoText=a.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=a.element.value.trim()}),i}_createButton(n,i,a,u){const h=new Ft(this.locale);return h.set({label:n,icon:i,tooltip:!0}),h.extendTemplate({attributes:{class:a}}),u&&h.delegate("execute").to(this,u),h}}class Qie extends ge{static get requires(){return[tv]}static get pluginName(){return"MediaEmbedUI"}init(){const n=this.editor,i=n.commands.get("mediaEmbed");n.ui.componentFactory.add("mediaEmbed",a=>{const u=ba(a);return this._setUpDropdown(u,i),u})}_setUpDropdown(n,i){const a=this.editor,u=a.t,h=n.buttonView,p=a.plugins.get(tv).registry;n.once("change:isOpen",()=>{const g=new(SC(Yie))(function(b,w){return[C=>{if(!C.url.length)return b("The URL must not be empty.")},C=>{if(!w.hasMedia(C.url))return b("This media URL is not supported.")}]}(a.t,p),a.locale);n.panelView.children.add(g),h.on("open",()=>{g.disableCssTransitions(),g.url=i.value||"",g.urlInputView.fieldView.select(),g.enableCssTransitions()},{priority:"low"}),n.on("submit",()=>{g.isValid()&&(a.execute("mediaEmbed",g.url),a.editing.view.focus())}),n.on("change:isOpen",()=>g.resetFormStatus()),n.on("cancel",()=>{a.editing.view.focus()}),g.delegate("submit","cancel").to(n),g.urlInputView.fieldView.bind("value").to(i,"value"),g.urlInputView.on("change:errorText",()=>{a.ui.update()}),g.urlInputView.bind("isEnabled").to(i,"isEnabled")}),n.bind("isEnabled").to(i),h.set({label:u("Insert media"),icon:'<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',tooltip:!0})}}var T3=s(70),Zie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(T3.A,Zie),T3.A.locals;function I3(l){return l!==void 0&&l.endsWith("px")}function Id(l){return l.toFixed(2).replace(/\.?0+$/,"")+"px"}var Jie=Object.defineProperty,Xie=Object.defineProperties,ese=Object.getOwnPropertyDescriptors,M3=Object.getOwnPropertySymbols,tse=Object.prototype.hasOwnProperty,nse=Object.prototype.propertyIsEnumerable,P3=(l,n,i)=>n in l?Jie(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,rse=(l,n)=>{for(var i in n||(n={}))tse.call(n,i)&&P3(l,i,n[i]);if(M3)for(var i of M3(n))nse.call(n,i)&&P3(l,i,n[i]);return l};function ose(l,n,i){if(!l.childCount)return;const a=new ma(l.document),u=function(b,w){const C=w.createRangeIn(b),E=[],M=new Set;for(const O of C.getItems()){if(!O.is("element")||!O.name.match(/^(p|h\d+|li|div)$/))continue;let L=hse(O);if(L===void 0||parseFloat(L)!=0||Array.from(O.getClassNames()).find(F=>F.startsWith("MsoList"))||(L=void 0),O.hasStyle("mso-list")||L!==void 0&&M.has(L)){const F=use(O);E.push({element:O,id:F.id,order:F.order,indent:F.indent,marginLeft:L}),L!==void 0&&M.add(L)}else M.clear()}return E}(l,a);if(!u.length)return;const h={},p=[];for(const b of u)if(b.indent!==void 0){ise(b)||(p.length=0);const w=`${b.id}:${b.indent}`,C=Math.min(b.indent-1,p.length);if(C<p.length&&p[C].id!==b.id&&(p.length=C),C<p.length-1)p.length=C+1;else{const M=ase(b,n);if(C>p.length-1||p[C].listElement.name!=M.type){C==0&&M.type=="ol"&&b.id!==void 0&&h[w]&&(M.startIndex=h[w]);const O=cse(M,a,i);if(I3(b.marginLeft)&&(C==0||I3(p[C-1].marginLeft))){let L=b.marginLeft;C>0&&(L=Id(parseFloat(L)-parseFloat(p[C-1].marginLeft))),a.setStyle("padding-left",L,O)}if(p.length==0){const L=b.element.parent,F=L.getChildIndex(b.element)+1;a.insertChild(F,O,L)}else{const L=p[C-1].listItemElements;a.appendChild(O,L[L.length-1])}p[C]=(g=rse({},b),Xie(g,ese({listElement:O,listItemElements:[]}))),C==0&&b.id!==void 0&&(h[w]=M.startIndex||1)}}const E=b.element.name=="li"?b.element:a.createElement("li");a.appendChild(E,p[C].listElement),p[C].listItemElements.push(E),C==0&&b.id!==void 0&&h[w]++,b.element!=E&&a.appendChild(b.element,E),dse(b.element,a),a.removeStyle("text-indent",b.element),a.removeStyle("margin-left",b.element)}else{const w=p.find(C=>C.marginLeft==b.marginLeft);if(w){const C=w.listItemElements;a.appendChild(b.element,C[C.length-1]),a.removeStyle("margin-left",b.element)}else p.length=0}var g}function ise(l){const n=l.element.previousSibling;return sse(n||l.element.parent)}function sse(l){return l.is("element","ol")||l.is("element","ul")}function ase(l,n){const i=new RegExp(`@list l${l.id}:level${l.indent}\\s*({[^}]*)`,"gi"),a=/mso-level-number-format:([^;]{0,100});/gi,u=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,h=new RegExp(`@list\\s+l${l.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),p=new RegExp(`@list l${l.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),g=h.exec(n),b=p.exec(n),w=g&&!b,C=i.exec(n);let E="decimal",M="ol",O=null;if(C&&C[1]){const L=a.exec(C[1]);if(L&&L[1]&&(E=L[1].trim(),M=E!=="bullet"&&E!=="image"?"ol":"ul"),E==="bullet"){const F=function(H){if(H.name=="li"&&H.parent.name=="ul"&&H.parent.hasAttribute("type"))return H.parent.getAttribute("type");const K=function(oe){if(oe.getChild(0).is("$text"))return null;for(const le of oe.getChildren()){if(!le.is("element","span"))continue;const De=le.getChild(0);if(De)return De.is("$text")?De:De.getChild(0)}return null}(H);if(!K)return null;const X=K._data;return X==="o"?"circle":X===""?"disc":X===""?"square":null}(l.element);F&&(E=F)}else{const F=u.exec(C[1]);F&&F[1]&&(O=parseInt(F[1]))}w&&(M="ol")}return{type:M,startIndex:O,style:lse(E),isLegalStyleList:w}}function lse(l){if(l.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(l){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return l;default:return null}}function cse(l,n,i){const a=n.createElement(l.type);return l.style&&n.setStyle("list-style-type",l.style,a),l.startIndex&&l.startIndex>1&&n.setAttribute("start",l.startIndex,a),l.isLegalStyleList&&i&&n.addClass("legal-list",a),a}function use(l){const n=l.getStyle("mso-list");if(n===void 0)return{};const i=n.match(/(^|\s{1,100})l(\d+)/i),a=n.match(/\s{0,100}lfo(\d+)/i),u=n.match(/\s{0,100}level(\d+)/i);return i&&a&&u?{id:i[2],order:a[1],indent:parseInt(u[1])}:{indent:1}}function dse(l,n){const i=new Cs({name:"span",styles:{"mso-list":"Ignore"}}),a=n.createRangeIn(l);for(const u of a)u.type==="elementStart"&&i.match(u.item)&&n.remove(u.item)}function hse(l){const n=l.getStyle("margin-left");return n===void 0||n.endsWith("px")?n:function(i){const a=parseFloat(i);return i.endsWith("pt")?Id(96*a/72):i.endsWith("pc")?Id(12*a*96/72):i.endsWith("in")?Id(96*a):i.endsWith("cm")?Id(96*a/2.54):i.endsWith("mm")?Id(a/10*96/2.54):i}(n)}function pse(l,n){if(!l.childCount)return;const i=new ma(l.document),a=function(h,p){const g=p.createRangeIn(h),b=new Cs({name:/v:(.+)/}),w=[];for(const C of g){if(C.type!="elementStart")continue;const E=C.item,M=E.previousSibling,O=M&&M.is("element")?M.name:null,L=["Chart"],F=b.match(E),H=E.getAttribute("o:gfxdata"),K=O==="v:shapetype",X=H&&L.some(oe=>E.getAttribute("id").includes(oe));F&&H&&!K&&!X&&w.push(C.item.getAttribute("id"))}return w}(l,i);(function(h,p,g){const b=g.createRangeIn(p),w=new Cs({name:"img"}),C=[];for(const E of b)if(E.item.is("element")&&w.match(E.item)){const M=E.item,O=M.getAttribute("v:shapes")?M.getAttribute("v:shapes").split(" "):[];O.length&&O.every(L=>h.indexOf(L)>-1)?C.push(M):M.getAttribute("src")||C.push(M)}for(const E of C)g.remove(E)})(a,l,i),function(h,p,g){const b=g.createRangeIn(p),w=[];for(const M of b)if(M.type=="elementStart"&&M.item.is("element","v:shape")){const O=M.item.getAttribute("id");if(h.includes(O))continue;C(M.item.parent.getChildren(),O)||w.push(M.item)}for(const M of w){const O={src:E(M)};M.hasAttribute("alt")&&(O.alt=M.getAttribute("alt"));const L=g.createElement("img",O);g.insertChild(M.index+1,L,M.parent)}function C(M,O){for(const L of M)if(L.is("element")&&(L.name=="img"&&L.getAttribute("v:shapes")==O||C(L.getChildren(),O)))return!0;return!1}function E(M){for(const O of M.getChildren())if(O.is("element")&&O.getAttribute("src"))return O.getAttribute("src")}}(a,l,i),function(h,p){const g=p.createRangeIn(h),b=new Cs({name:/v:(.+)/}),w=[];for(const C of g)C.type=="elementStart"&&b.match(C.item)&&w.push(C.item);for(const C of w)p.remove(C)}(l,i);const u=function(h,p){const g=p.createRangeIn(h),b=new Cs({name:"img"}),w=[];for(const C of g)C.item.is("element")&&b.match(C.item)&&C.item.getAttribute("src").startsWith("file://")&&w.push(C.item);return w}(l,i);u.length&&function(h,p,g){if(h.length===p.length)for(let b=0;b<h.length;b++){const w=`data:${p[b].type};base64,${fse(p[b].hex)}`;g.setAttribute("src",w,h[b])}}(u,function(h){if(!h)return[];const p=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,g=new RegExp("(?:("+p.source+"))([\\da-fA-F\\s]+)\\}","g"),b=h.match(g),w=[];if(b)for(const C of b){let E=!1;C.includes("\\pngblip")?E="image/png":C.includes("\\jpegblip")&&(E="image/jpeg"),E&&w.push({hex:C.replace(p,"").replace(/[^\da-fA-F]/g,""),type:E})}return w}(n),i)}function fse(l){return btoa(l.match(/\w{2}/g).map(n=>String.fromCharCode(parseInt(n,16))).join(""))}const mse=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,gse=/xmlns:o="urn:schemas-microsoft-com/i;class bse{constructor(n,i=!1){this.document=n,this.hasMultiLevelListPlugin=i}isActive(n){return mse.test(n)||gse.test(n)}execute(n){const{body:i,stylesString:a}=n._parsedData;ose(i,a,this.hasMultiLevelListPlugin),pse(i,n.dataTransfer.getData("text/rtf")),function(u){const h=[],p=new ma(u.document);for(const{item:g}of p.createRangeIn(u))if(g.is("element")){for(const b of g.getClassNames())/\bmso/gi.exec(b)&&p.removeClass(b,g);for(const b of g.getStyleNames())/\bmso/gi.exec(b)&&p.removeStyle(b,g);(g.is("element","w:sdt")||g.is("element","w:sdtpr")&&g.isEmpty||g.is("element","o:p")&&g.isEmpty)&&h.push(g)}for(const g of h){const b=g.parent,w=b.getChildIndex(g);p.insertChild(w,g.getChildren(),b),p.remove(g)}}(i),n.content=i}}function N3(l,n,i,{blockElements:a,inlineObjectElements:u}){let h=i.createPositionAt(l,n=="forward"?"after":"before");return h=h.getLastMatchingPosition(({item:p})=>p.is("element")&&!a.includes(p.name)&&!u.includes(p.name),{direction:n}),n=="forward"?h.nodeAfter:h.nodeBefore}function R3(l,n){return!!l&&l.is("element")&&n.includes(l.name)}const kse=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class vse{constructor(n){this.document=n}isActive(n){return kse.test(n)}execute(n){const i=new ma(this.document),{body:a}=n._parsedData;(function(u,h){for(const p of u.getChildren())if(p.is("element","b")&&p.getStyle("font-weight")==="normal"){const g=u.getChildIndex(p);h.remove(p),h.insertChild(g,p.getChildren(),u)}})(a,i),function(u,h){for(const p of h.createRangeIn(u)){const g=p.item;if(g.is("element","li")){const b=g.getChild(0);b&&b.is("element","p")&&h.unwrapElement(b)}}}(a,i),function(u,h){const p=new ak(h.document.stylesProcessor),g=new uk(p,{renderingMode:"data"}),b=g.blockElements,w=g.inlineObjectElements,C=[];for(const E of h.createRangeIn(u)){const M=E.item;if(M.is("element","br")){const O=N3(M,"forward",h,{blockElements:b,inlineObjectElements:w}),L=N3(M,"backward",h,{blockElements:b,inlineObjectElements:w}),F=R3(O,b);(R3(L,b)||F)&&C.push(M)}}for(const E of C)E.hasClass("Apple-interchange-newline")?h.remove(E):h.replace(E,h.createElement("p"))}(a,i),n.content=a}}const wse=/<google-sheets-html-origin/i;class yse{constructor(n){this.document=n}isActive(n){return wse.test(n)}execute(n){const i=new ma(this.document),{body:a}=n._parsedData;(function(u,h){for(const p of u.getChildren())if(p.is("element","google-sheets-html-origin")){const g=u.getChildIndex(p);h.remove(p),h.insertChild(g,p.getChildren(),u)}})(a,i),function(u,h){for(const p of u.getChildren())p.is("element","table")&&p.hasAttribute("xmlns")&&h.removeAttribute("xmlns",p)}(a,i),function(u,h){for(const p of u.getChildren())p.is("element","table")&&p.getStyle("width")==="0px"&&h.removeStyle("width",p)}(a,i),function(u,h){for(const p of Array.from(u.getChildren()))p.is("element","style")&&h.remove(p)}(a,i),n.content=a}}function O3(l){return l.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(n,i)=>i.length===1?" ":Array(i.length+1).join(" ").substr(0,i.length))}function _se(l,n){const i=new DOMParser,a=function(b){return O3(O3(b)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(b){const w="</body>",C="</html>",E=b.indexOf(w);if(E<0)return b;const M=b.indexOf(C,E+w.length);return b.substring(0,E+w.length)+(M>=0?b.substring(M):"")}(l=(l=l.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),u=i.parseFromString(a,"text/html");(function(b){b.querySelectorAll("span[style*=spacerun]").forEach(w=>{const C=w,E=C.innerText.length||0;C.innerText=Array(E+1).join(" ").substr(0,E)})})(u);const h=u.body.innerHTML,p=function(b,w){const C=new ak(w),E=new uk(C,{renderingMode:"data"}),M=b.createDocumentFragment(),O=b.body.childNodes;for(;O.length>0;)M.appendChild(O[0]);return E.domToView(M,{skipComments:!0})}(u,n),g=function(b){const w=[],C=[],E=Array.from(b.getElementsByTagName("style"));for(const M of E)M.sheet&&M.sheet.cssRules&&M.sheet.cssRules.length&&(w.push(M.sheet),C.push(M.innerHTML));return{styles:w,stylesString:C.join(" ")}}(u);return{body:p,bodyString:h,styles:g.styles,stylesString:g.stylesString}}function Un(l,n,i,a,u=1){n!=null&&u!=null&&n>u?a.setAttribute(l,n,i):a.removeAttribute(l,i)}function Vc(l,n,i={}){const a=l.createElement("tableCell",i);return l.insertElement("paragraph",a),l.insert(a,n),a}function t1(l,n){const i=n.parent.parent,a=parseInt(i.getAttribute("headingColumns")||"0"),{column:u}=l.getCellLocation(n);return!!a&&u<a}function Cse(){return l=>{l.on("element:table",(n,i,a)=>{const u=i.viewItem;if(!a.consumable.test(u,{name:!0}))return;const{rows:h,headingRows:p,headingColumns:g}=function(C){let E,M=0;const O=[],L=[];let F;for(const H of Array.from(C.getChildren())){if(H.name!=="tbody"&&H.name!=="thead"&&H.name!=="tfoot")continue;H.name!=="thead"||F||(F=H);const K=Array.from(H.getChildren()).filter(X=>X.is("element","tr"));for(const X of K)if(F&&H===F||H.name==="tbody"&&Array.from(X.getChildren()).length&&Array.from(X.getChildren()).every(oe=>oe.is("element","th")))M++,O.push(X);else{L.push(X);const oe=Ase(X);(!E||oe<E)&&(E=oe)}}return{headingRows:M,headingColumns:E||0,rows:[...O,...L]}}(u),b={};g&&(b.headingColumns=g),p&&(b.headingRows=p);const w=a.writer.createElement("table",b);if(a.safeInsert(w,i.modelCursor)){if(a.consumable.consume(u,{name:!0}),h.forEach(C=>a.convertItem(C,a.writer.createPositionAt(w,"end"))),a.convertChildren(u,a.writer.createPositionAt(w,"end")),w.isEmpty){const C=a.writer.createElement("tableRow");a.writer.insert(C,a.writer.createPositionAt(w,"end")),Vc(a.writer,a.writer.createPositionAt(C,"end"))}a.updateConversionResult(w,i)}})}}function B3(l){return n=>{n.on(`element:${l}`,(i,a,{writer:u})=>{if(!a.modelRange)return;const h=a.modelRange.start.nodeAfter,p=u.createPositionAt(h,0);if(a.viewItem.isEmpty)return void u.insertElement("paragraph",p);const g=Array.from(h.getChildren());if(g.every(b=>b.is("element","$marker"))){const b=u.createElement("paragraph");u.insert(b,u.createPositionAt(h,0));for(const w of g)u.move(u.createRangeOn(w),u.createPositionAt(b,"end"))}},{priority:"low"})}}function Ase(l){let n=0,i=0;const a=Array.from(l.getChildren()).filter(u=>u.name==="th"||u.name==="td");for(;i<a.length&&a[i].name==="th";){const u=a[i];n+=parseInt(u.getAttribute("colspan")||"1"),i++}return n}class Xt{constructor(n,i={}){this._jumpedToStartRow=!1,this._table=n,this._startRow=i.row!==void 0?i.row:i.startRow||0,this._endRow=i.row!==void 0?i.row:i.endRow,this._startColumn=i.column!==void 0?i.column:i.startColumn||0,this._endColumn=i.column!==void 0?i.column:i.endColumn,this._includeAllSlots=!!i.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const n=this._table.getChild(this._rowIndex);if(!n||this._isOverEndRow())return{done:!0,value:void 0};if(!n.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let i=null;const a=this._getSpanned();if(a)this._includeAllSlots&&!this._shouldSkipSlot()&&(i=this._formatOutValue(a.cell,a.row,a.column));else{const u=n.getChild(this._cellIndex);if(!u)return this._advanceToNextRow();const h=parseInt(u.getAttribute("colspan")||"1"),p=parseInt(u.getAttribute("rowspan")||"1");(h>1||p>1)&&this._recordSpans(u,p,h),this._shouldSkipSlot()||(i=this._formatOutValue(u)),this._nextCellAtColumn=this._column+h}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,i||this.next()}skipRow(n){this._skipRows.add(n)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(n,i=this._row,a=this._column){return{done:!1,value:new xse(this,n,i,a)}}_shouldSkipSlot(){const n=this._skipRows.has(this._row),i=this._row<this._startRow,a=this._column<this._startColumn,u=this._endColumn!==void 0&&this._column>this._endColumn;return n||i||a||u}_getSpanned(){const n=this._spannedCells.get(this._row);return n&&n.get(this._column)||null}_recordSpans(n,i,a){const u={cell:n,row:this._row,column:this._column};for(let h=this._row;h<this._row+i;h++)for(let p=this._column;p<this._column+a;p++)h==this._row&&p==this._column||this._markSpannedCell(h,p,u)}_markSpannedCell(n,i,a){this._spannedCells.has(n)||this._spannedCells.set(n,new Map),this._spannedCells.get(n).set(i,a)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const n=this._getRowLength(0);for(let i=this._startRow;!this._jumpedToStartRow;i--)n===this._getRowLength(i)&&(this._row=i,this._rowIndex=i,this._jumpedToStartRow=!0)}_getRowLength(n){return[...this._table.getChild(n).getChildren()].reduce((i,a)=>i+parseInt(a.getAttribute("colspan")||"1"),0)}}class xse{constructor(n,i,a,u){this.cell=i,this.row=n._row,this.column=n._column,this.cellAnchorRow=a,this.cellAnchorColumn=u,this._cellIndex=n._cellIndex,this._rowIndex=n._rowIndex,this._table=n._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function L3(l,n){return(i,{writer:a})=>{const u=i.getAttribute("headingRows")||0,h=a.createContainerElement("table",null,[]),p=a.createContainerElement("figure",{class:"table"},h);u>0&&a.insert(a.createPositionAt(h,"end"),a.createContainerElement("thead",null,a.createSlot(g=>g.is("element","tableRow")&&g.index<u))),u<l.getRows(i)&&a.insert(a.createPositionAt(h,"end"),a.createContainerElement("tbody",null,a.createSlot(g=>g.is("element","tableRow")&&g.index>=u)));for(const{positionOffset:g,filter:b}of n.additionalSlots)a.insert(a.createPositionAt(h,g),a.createSlot(b));return a.insert(a.createPositionAt(h,"after"),a.createSlot(g=>!g.is("element","tableRow")&&!n.additionalSlots.some(({filter:b})=>b(g)))),n.asWidget?function(g,b){return b.setCustomProperty("table",!0,g),TA(g,b,{hasSelectionHandle:!0})}(p,a):p}}function j3(l={}){return(n,{writer:i})=>{const a=n.parent,u=a.parent,h=u.getChildIndex(a),p=new Xt(u,{row:h}),g=u.getAttribute("headingRows")||0,b=u.getAttribute("headingColumns")||0;let w=null;for(const C of p)if(C.cell==n){const E=C.row<g||C.column<b?"th":"td";w=l.asWidget?E4(i.createEditableElement(E),i):i.createContainerElement(E);break}return w}}function F3(l={}){return(n,{writer:i})=>{if(!n.parent.is("element","tableCell")||!z3(n))return null;if(l.asWidget)return i.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const a=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,a),a}}}function z3(l){return l.parent.childCount==1&&!!l.getAttributeKeys().next().done}class Ese extends wt{refresh(){const n=this.editor.model,i=n.document.selection,a=n.schema;this.isEnabled=function(u,h){const p=u.getFirstPosition().parent,g=p===p.root?p:p.parent;return h.checkChild(g,"table")}(i,a)}execute(n={}){const i=this.editor,a=i.model,u=i.plugins.get("TableUtils"),h=i.config.get("table.defaultHeadings.rows"),p=i.config.get("table.defaultHeadings.columns");n.headingRows===void 0&&h&&(n.headingRows=h),n.headingColumns===void 0&&p&&(n.headingColumns=p),a.change(g=>{const b=u.createTable(g,n);a.insertObject(b,null,null,{findOptimalPosition:"auto"}),g.setSelection(g.createPositionAt(b.getNodeByPath([0,0,0]),0))})}}class $3 extends wt{constructor(n,i={}){super(n),this.order=i.order||"below"}refresh(){const n=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(n).length;this.isEnabled=i}execute(){const n=this.editor,i=n.model.document.selection,a=n.plugins.get("TableUtils"),u=this.order==="above",h=a.getSelectionAffectedTableCells(i),p=a.getRowIndexes(h),g=u?p.first:p.last,b=h[0].findAncestor("table");a.insertRows(b,{at:u?g:g+1,copyStructureFromAbove:!u})}}class V3 extends wt{constructor(n,i={}){super(n),this.order=i.order||"right"}refresh(){const n=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(n).length;this.isEnabled=i}execute(){const n=this.editor,i=n.model.document.selection,a=n.plugins.get("TableUtils"),u=this.order==="left",h=a.getSelectionAffectedTableCells(i),p=a.getColumnIndexes(h),g=u?p.first:p.last,b=h[0].findAncestor("table");a.insertColumns(b,{columns:1,at:u?g:g+1})}}class U3 extends wt{constructor(n,i={}){super(n),this.direction=i.direction||"horizontally"}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length===1}execute(){const n=this.editor.plugins.get("TableUtils"),i=n.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?n.splitCellHorizontally(i,2):n.splitCellVertically(i,2)}}function H3(l,n,i){const{startRow:a,startColumn:u,endRow:h,endColumn:p}=n,g=i.createElement("table"),b=h-a+1;for(let C=0;C<b;C++)i.insertElement("tableRow",g,"end");const w=[...new Xt(l,{startRow:a,endRow:h,startColumn:u,endColumn:p,includeAllSlots:!0})];for(const{row:C,column:E,cell:M,isAnchor:O,cellAnchorRow:L,cellAnchorColumn:F}of w){const H=C-a,K=g.getChild(H);if(O){const X=i.cloneElement(M);i.append(X,K),Y3(X,C,E,h,p,i)}else(L<a||F<u)&&Vc(i,i.createPositionAt(K,"end"))}return function(C,E,M,O,L){const F=parseInt(E.getAttribute("headingRows")||"0");F>0&&Un("headingRows",F-M,C,L,0);const H=parseInt(E.getAttribute("headingColumns")||"0");H>0&&Un("headingColumns",H-O,C,L,0)}(g,l,a,u,i),g}function W3(l,n,i=0){const a=[],u=new Xt(l,{startRow:i,endRow:n-1});for(const h of u){const{row:p,cellHeight:g}=h;p<n&&n<=p+g-1&&a.push(h)}return a}function q3(l,n,i){const a=l.parent,u=a.parent,h=a.index,p=n-h,g={},b=parseInt(l.getAttribute("rowspan"))-p;b>1&&(g.rowspan=b);const w=parseInt(l.getAttribute("colspan")||"1");w>1&&(g.colspan=w);const C=h+p,E=[...new Xt(u,{startRow:h,endRow:C,includeAllSlots:!0})];let M,O=null;for(const L of E){const{row:F,column:H,cell:K}=L;K===l&&M===void 0&&(M=H),M!==void 0&&M===H&&F===C&&(O=Vc(i,L.getPositionBefore(),g))}return Un("rowspan",p,l,i),O}function G3(l,n){const i=[],a=new Xt(l);for(const u of a){const{column:h,cellWidth:p}=u;h<n&&n<=h+p-1&&i.push(u)}return i}function K3(l,n,i,a){const u=i-n,h={},p=parseInt(l.getAttribute("colspan"))-u;p>1&&(h.colspan=p);const g=parseInt(l.getAttribute("rowspan")||"1");g>1&&(h.rowspan=g);const b=Vc(a,a.createPositionAfter(l),h);return Un("colspan",u,l,a),b}function Y3(l,n,i,a,u,h){const p=parseInt(l.getAttribute("colspan")||"1"),g=parseInt(l.getAttribute("rowspan")||"1");i+p-1>u&&Un("colspan",u-i+1,l,h,1),n+g-1>a&&Un("rowspan",a-n+1,l,h,1)}function n1(l,n){const i=n.getColumns(l),a=new Array(i).fill(0);for(const{column:h}of new Xt(l))a[h]++;const u=a.reduce((h,p,g)=>p?h:[...h,g],[]);if(u.length>0){const h=u[u.length-1];return n.removeColumns(l,{at:h}),!0}return!1}function r1(l,n){const i=[],a=n.getRows(l);for(let u=0;u<a;u++)l.getChild(u).isEmpty&&i.push(u);if(i.length>0){const u=i[i.length-1];return n.removeRows(l,{at:u}),!0}return!1}function o1(l,n){n1(l,n)||r1(l,n)}function Q3(l,n){const i=Array.from(new Xt(l,{startColumn:n.firstColumn,endColumn:n.lastColumn,row:n.lastRow}));if(i.every(({cellHeight:u})=>u===1))return n.lastRow;const a=i[0].cellHeight-1;return n.lastRow+a}function Z3(l,n){const i=Array.from(new Xt(l,{startRow:n.firstRow,endRow:n.lastRow,column:n.lastColumn}));if(i.every(({cellWidth:u})=>u===1))return n.lastColumn;const a=i[0].cellWidth-1;return n.lastColumn+a}class nv extends wt{constructor(n,i){super(n),this.direction=i.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const n=this._getMergeableCell();this.value=n,this.isEnabled=!!n}execute(){const n=this.editor.model,i=n.document,a=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(i.selection)[0],u=this.value,h=this.direction;n.change(p=>{const g=h=="right"||h=="down",b=g?a:u,w=g?u:a,C=w.parent;(function(F,H,K){J3(F)||(J3(H)&&K.remove(K.createRangeIn(H)),K.move(K.createRangeIn(F),K.createPositionAt(H,"end"))),K.remove(F)})(w,b,p);const E=this.isHorizontal?"colspan":"rowspan",M=parseInt(a.getAttribute(E)||"1"),O=parseInt(u.getAttribute(E)||"1");p.setAttribute(E,M+O,b),p.setSelection(p.createRangeIn(b));const L=this.editor.plugins.get("TableUtils");o1(C.findAncestor("table"),L)})}_getMergeableCell(){const n=this.editor.model.document,i=this.editor.plugins.get("TableUtils"),a=i.getTableCellsContainingSelection(n.selection)[0];if(!a)return;const u=this.isHorizontal?function(g,b,w){const C=g.parent,E=C.parent,M=b=="right"?g.nextSibling:g.previousSibling,O=(E.getAttribute("headingColumns")||0)>0;if(!M)return;const L=b=="right"?g:M,F=b=="right"?M:g,{column:H}=w.getCellLocation(L),{column:K}=w.getCellLocation(F),X=parseInt(L.getAttribute("colspan")||"1"),oe=t1(w,L),le=t1(w,F);if(!(O&&oe!=le))return H+X===K?M:void 0}(a,this.direction,i):function(g,b,w){const C=g.parent,E=C.parent,M=E.getChildIndex(C);if(b=="down"&&M===w.getRows(E)-1||b=="up"&&M===0)return null;const O=parseInt(g.getAttribute("rowspan")||"1"),L=E.getAttribute("headingRows")||0,F=b=="down"&&M+O===L,H=b=="up"&&M===L;if(L&&(F||H))return null;const K=parseInt(g.getAttribute("rowspan")||"1"),X=b=="down"?M+K:M,oe=[...new Xt(E,{endRow:X})],le=oe.find(mt=>mt.cell===g),De=le.column,rt=oe.find(({row:mt,cellHeight:mn,column:kr})=>kr===De&&(b=="down"?mt===X:X===mt+mn));return rt&&rt.cell?rt.cell:null}(a,this.direction,i);if(!u)return;const h=this.isHorizontal?"rowspan":"colspan",p=parseInt(a.getAttribute(h)||"1");return parseInt(u.getAttribute(h)||"1")===p?u:void 0}}function J3(l){const n=l.getChild(0);return l.childCount==1&&n.is("element","paragraph")&&n.isEmpty}class Sse extends wt{refresh(){const n=this.editor.plugins.get("TableUtils"),i=n.getSelectionAffectedTableCells(this.editor.model.document.selection),a=i[0];if(a){const u=a.findAncestor("table"),h=n.getRows(u)-1,p=n.getRowIndexes(i),g=p.first===0&&p.last===h;this.isEnabled=!g}else this.isEnabled=!1}execute(){const n=this.editor.model,i=this.editor.plugins.get("TableUtils"),a=i.getSelectionAffectedTableCells(n.document.selection),u=i.getRowIndexes(a),h=a[0],p=h.findAncestor("table"),g=i.getCellLocation(h).column;n.change(b=>{const w=u.last-u.first+1;i.removeRows(p,{at:u.first,rows:w});const C=function(E,M,O,L){const F=E.getChild(Math.min(M,L-1));let H=F.getChild(0),K=0;for(const X of F.getChildren()){if(K>O)return H;H=X,K+=parseInt(X.getAttribute("colspan")||"1")}return H}(p,u.first,g,i.getRows(p));b.setSelection(b.createPositionAt(C,0))})}}class Dse extends wt{refresh(){const n=this.editor.plugins.get("TableUtils"),i=n.getSelectionAffectedTableCells(this.editor.model.document.selection),a=i[0];if(a){const u=a.findAncestor("table"),h=n.getColumns(u),{first:p,last:g}=n.getColumnIndexes(i);this.isEnabled=g-p<h-1}else this.isEnabled=!1}execute(){const n=this.editor.plugins.get("TableUtils"),[i,a]=function(b,w){const C=w.getSelectionAffectedTableCells(b),E=C[0],M=C.pop(),O=[E,M];return E.isBefore(M)?O:O.reverse()}(this.editor.model.document.selection,n),u=i.parent.parent,h=[...new Xt(u)],p={first:h.find(b=>b.cell===i).column,last:h.find(b=>b.cell===a).column},g=function(b,w,C,E){return parseInt(C.getAttribute("colspan")||"1")>1?C:w.previousSibling||C.nextSibling?C.nextSibling||w.previousSibling:E.first?b.reverse().find(({column:O})=>O<E.first).cell:b.reverse().find(({column:O})=>O>E.last).cell}(h,i,a,p);this.editor.model.change(b=>{const w=p.last-p.first+1;n.removeColumns(u,{at:p.first,columns:w}),b.setSelection(b.createPositionAt(g,0))})}}class Tse extends wt{refresh(){const n=this.editor.plugins.get("TableUtils"),i=this.editor.model,a=n.getSelectionAffectedTableCells(i.document.selection),u=a.length>0;this.isEnabled=u,this.value=u&&a.every(h=>this._isInHeading(h,h.parent.parent))}execute(n={}){if(n.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),a=this.editor.model,u=i.getSelectionAffectedTableCells(a.document.selection),h=u[0].findAncestor("table"),{first:p,last:g}=i.getRowIndexes(u),b=this.value?p:g+1,w=h.getAttribute("headingRows")||0;a.change(C=>{if(b){const E=W3(h,b,b>w?w:0);for(const{cell:M}of E)q3(M,b,C)}Un("headingRows",b,h,C,0)})}_isInHeading(n,i){const a=parseInt(i.getAttribute("headingRows")||"0");return!!a&&n.parent.index<a}}class Ise extends wt{refresh(){const n=this.editor.model,i=this.editor.plugins.get("TableUtils"),a=i.getSelectionAffectedTableCells(n.document.selection),u=a.length>0;this.isEnabled=u,this.value=u&&a.every(h=>t1(i,h))}execute(n={}){if(n.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),a=this.editor.model,u=i.getSelectionAffectedTableCells(a.document.selection),h=u[0].findAncestor("table"),{first:p,last:g}=i.getColumnIndexes(u),b=this.value?p:g+1;a.change(w=>{if(b){const C=G3(h,b);for(const{cell:E,column:M}of C)K3(E,M,b,w)}Un("headingColumns",b,h,w,0)})}}function Mse(l){if(l.is("element","tableColumnGroup"))return l;const n=l.getChildren();return Array.from(n).find(i=>i.is("element","tableColumnGroup"))}function Pse(l){const n=Mse(l);return n?Array.from(n.getChildren()):[]}class Lr extends ge{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(n){const i=n.parent,a=i.parent,u=a.getChildIndex(i),h=new Xt(a,{row:u});for(const{cell:p,row:g,column:b}of h)if(p===n)return{row:g,column:b}}createTable(n,i){const a=n.createElement("table"),u=i.rows||2,h=i.columns||2;return i1(n,a,0,u,h),i.headingRows&&Un("headingRows",Math.min(i.headingRows,u),a,n,0),i.headingColumns&&Un("headingColumns",Math.min(i.headingColumns,h),a,n,0),a}insertRows(n,i={}){const a=this.editor.model,u=i.at||0,h=i.rows||1,p=i.copyStructureFromAbove!==void 0,g=i.copyStructureFromAbove?u-1:u,b=this.getRows(n),w=this.getColumns(n);if(u>b)throw new R("tableutils-insertrows-insert-out-of-range",this,{options:i});a.change(C=>{const E=n.getAttribute("headingRows")||0;if(E>u&&Un("headingRows",E+h,n,C,0),!p&&(u===0||u===b))return void i1(C,n,u,h,w);const M=p?Math.max(u,g):u,O=new Xt(n,{endRow:M}),L=new Array(w).fill(1);for(const{row:F,column:H,cellHeight:K,cellWidth:X,cell:oe}of O){const le=F+K-1,De=F<=g&&g<=le;F<u&&u<=le?(C.setAttribute("rowspan",K+h,oe),L[H]=-X):p&&De&&(L[H]=X)}for(let F=0;F<h;F++){const H=C.createElement("tableRow");C.insert(H,n,u);for(let K=0;K<L.length;K++){const X=L[K],oe=C.createPositionAt(H,"end");X>0&&Vc(C,oe,X>1?{colspan:X}:void 0),K+=Math.abs(X)-1}}})}insertColumns(n,i={}){const a=this.editor.model,u=i.at||0,h=i.columns||1;a.change(p=>{const g=n.getAttribute("headingColumns");u<g&&p.setAttribute("headingColumns",g+h,n);const b=this.getColumns(n);if(u===0||b===u){for(const C of n.getChildren())C.is("element","tableRow")&&Md(h,p,p.createPositionAt(C,u?"end":0));return}const w=new Xt(n,{column:u,includeAllSlots:!0});for(const C of w){const{row:E,cell:M,cellAnchorColumn:O,cellAnchorRow:L,cellWidth:F,cellHeight:H}=C;if(O<u){p.setAttribute("colspan",F+h,M);const K=L+H-1;for(let X=E;X<=K;X++)w.skipRow(X)}else Md(h,p,C.getPositionBefore())}})}removeRows(n,i){const a=this.editor.model,u=i.rows||1,h=this.getRows(n),p=i.at,g=p+u-1;if(g>h-1)throw new R("tableutils-removerows-row-index-out-of-range",this,{table:n,options:i});a.change(b=>{const w={first:p,last:g},{cellsToMove:C,cellsToTrim:E}=function(M,{first:O,last:L}){const F=new Map,H=[];for(const{row:K,column:X,cellHeight:oe,cell:le}of new Xt(M,{endRow:L})){const De=K+oe-1;if(K>=O&&K<=L&&De>L){const rt=oe-(L-K+1);F.set(X,{cell:le,rowspan:rt})}if(K<O&&De>=O){let rt;rt=De>=L?L-O+1:De-O+1,H.push({cell:le,rowspan:oe-rt})}}return{cellsToMove:F,cellsToTrim:H}}(n,w);C.size&&function(M,O,L,F){const H=new Xt(M,{includeAllSlots:!0,row:O}),K=[...H],X=M.getChild(O);let oe;for(const{column:le,cell:De,isAnchor:rt}of K)if(L.has(le)){const{cell:mt,rowspan:mn}=L.get(le),kr=oe?F.createPositionAfter(oe):F.createPositionAt(X,0);F.move(F.createRangeOn(mt),kr),Un("rowspan",mn,mt,F),oe=mt}else rt&&(oe=De)}(n,g+1,C,b);for(let M=g;M>=p;M--)b.remove(n.getChild(M));for(const{rowspan:M,cell:O}of E)Un("rowspan",M,O,b);(function(M,{first:O,last:L},F){const H=M.getAttribute("headingRows")||0;O<H&&Un("headingRows",L<H?H-(L-O+1):O,M,F,0)})(n,w,b),n1(n,this)||r1(n,this)})}removeColumns(n,i){const a=this.editor.model,u=i.at,h=i.columns||1,p=i.at+h-1;a.change(g=>{(function(w,C,E){const M=w.getAttribute("headingColumns")||0;if(M&&C.first<M){const O=Math.min(M-1,C.last)-C.first+1;E.setAttribute("headingColumns",M-O,w)}})(n,{first:u,last:p},g);const b=Pse(n);for(let w=p;w>=u;w--){for(const{cell:C,column:E,cellWidth:M}of[...new Xt(n)])E<=w&&M>1&&E+M>w?Un("colspan",M-1,C,g):E===w&&g.remove(C);if(b[w]){const C=w===0?b[1]:b[w-1],E=parseFloat(b[w].getAttribute("columnWidth")),M=parseFloat(C.getAttribute("columnWidth"));g.remove(b[w]),g.setAttribute("columnWidth",E+M+"%",C)}}r1(n,this)||n1(n,this)})}splitCellVertically(n,i=2){const a=this.editor.model,u=n.parent.parent,h=parseInt(n.getAttribute("rowspan")||"1"),p=parseInt(n.getAttribute("colspan")||"1");a.change(g=>{if(p>1){const{newCellsSpan:b,updatedSpan:w}=X3(p,i);Un("colspan",w,n,g);const C={};b>1&&(C.colspan=b),h>1&&(C.rowspan=h),Md(p>i?i-1:p-1,g,g.createPositionAfter(n),C)}if(p<i){const b=i-p,w=[...new Xt(u)],{column:C}=w.find(({cell:L})=>L===n),E=w.filter(({cell:L,cellWidth:F,column:H})=>L!==n&&H===C||H<C&&H+F>C);for(const{cell:L,cellWidth:F}of E)g.setAttribute("colspan",F+b,L);const M={};h>1&&(M.rowspan=h),Md(b,g,g.createPositionAfter(n),M);const O=u.getAttribute("headingColumns")||0;O>C&&Un("headingColumns",O+b,u,g)}})}splitCellHorizontally(n,i=2){const a=this.editor.model,u=n.parent,h=u.parent,p=h.getChildIndex(u),g=parseInt(n.getAttribute("rowspan")||"1"),b=parseInt(n.getAttribute("colspan")||"1");a.change(w=>{if(g>1){const C=[...new Xt(h,{startRow:p,endRow:p+g-1,includeAllSlots:!0})],{newCellsSpan:E,updatedSpan:M}=X3(g,i);Un("rowspan",M,n,w);const{column:O}=C.find(({cell:F})=>F===n),L={};E>1&&(L.rowspan=E),b>1&&(L.colspan=b);for(const F of C){const{column:H,row:K}=F;K>=p+M&&H===O&&(K+p+M)%E==0&&Md(1,w,F.getPositionBefore(),L)}}if(g<i){const C=i-g,E=[...new Xt(h,{startRow:0,endRow:p})];for(const{cell:L,cellHeight:F,row:H}of E)if(L!==n&&H+F>p){const K=F+C;w.setAttribute("rowspan",K,L)}const M={};b>1&&(M.colspan=b),i1(w,h,p+1,C,1,M);const O=h.getAttribute("headingRows")||0;O>p&&Un("headingRows",O+C,h,w)}})}getColumns(n){return[...n.getChild(0).getChildren()].filter(i=>i.is("element","tableCell")).reduce((i,a)=>i+parseInt(a.getAttribute("colspan")||"1"),0)}getRows(n){return Array.from(n.getChildren()).reduce((i,a)=>a.is("element","tableRow")?i+1:i,0)}createTableWalker(n,i={}){return new Xt(n,i)}getSelectedTableCells(n){const i=[];for(const a of this.sortRanges(n.getRanges())){const u=a.getContainedElement();u&&u.is("element","tableCell")&&i.push(u)}return i}getTableCellsContainingSelection(n){const i=[];for(const a of n.getRanges()){const u=a.start.findAncestor("tableCell");u&&i.push(u)}return i}getSelectionAffectedTableCells(n){const i=this.getSelectedTableCells(n);return i.length?i:this.getTableCellsContainingSelection(n)}getRowIndexes(n){const i=n.map(a=>a.parent.index);return this._getFirstLastIndexesObject(i)}getColumnIndexes(n){const i=n[0].findAncestor("table"),a=[...new Xt(i)].filter(u=>n.includes(u.cell)).map(u=>u.column);return this._getFirstLastIndexesObject(a)}isSelectionRectangular(n){if(n.length<2||!this._areCellInTheSameTableSection(n))return!1;const i=new Set,a=new Set;let u=0;for(const p of n){const{row:g,column:b}=this.getCellLocation(p),w=parseInt(p.getAttribute("rowspan"))||1,C=parseInt(p.getAttribute("colspan"))||1;i.add(g),a.add(b),w>1&&i.add(g+w-1),C>1&&a.add(b+C-1),u+=w*C}return function(p,g){const b=Array.from(p.values()),w=Array.from(g.values()),C=Math.max(...b),E=Math.min(...b),M=Math.max(...w),O=Math.min(...w);return(C-E+1)*(M-O+1)}(i,a)==u}sortRanges(n){return Array.from(n).sort(Nse)}_getFirstLastIndexesObject(n){const i=n.sort((a,u)=>a-u);return{first:i[0],last:i[i.length-1]}}_areCellInTheSameTableSection(n){const i=n[0].findAncestor("table"),a=this.getRowIndexes(n),u=parseInt(i.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(a,u))return!1;const h=this.getColumnIndexes(n),p=parseInt(i.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(h,p)}_areIndexesInSameSection({first:n,last:i},a){return n<a==i<a}}function i1(l,n,i,a,u,h={}){for(let p=0;p<a;p++){const g=l.createElement("tableRow");l.insert(g,n,i),Md(u,l,l.createPositionAt(g,"end"),h)}}function Md(l,n,i,a={}){for(let u=0;u<l;u++)Vc(n,i,a)}function X3(l,n){if(l<n)return{newCellsSpan:1,updatedSpan:1};const i=Math.floor(l/n);return{newCellsSpan:i,updatedSpan:l-i*n+i}}function Nse(l,n){const i=l.start,a=n.start;return i.isBefore(a)?-1:1}class Rse extends wt{refresh(){const n=this.editor.plugins.get(Lr),i=n.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=n.isSelectionRectangular(i)}execute(){const n=this.editor.model,i=this.editor.plugins.get(Lr);n.change(a=>{const u=i.getSelectedTableCells(n.document.selection),h=u.shift(),{mergeWidth:p,mergeHeight:g}=function(b,w,C){let E=0,M=0;for(const K of w){const{row:X,column:oe}=C.getCellLocation(K);E=tL(K,oe,E,"colspan"),M=tL(K,X,M,"rowspan")}const{row:O,column:L}=C.getCellLocation(b),F=E-L,H=M-O;return{mergeWidth:F,mergeHeight:H}}(h,u,i);Un("colspan",p,h,a),Un("rowspan",g,h,a);for(const b of u)Ose(b,h,a);o1(h.findAncestor("table"),i),a.setSelection(h,"in")})}}function Ose(l,n,i){eL(l)||(eL(n)&&i.remove(i.createRangeIn(n)),i.move(i.createRangeIn(l),i.createPositionAt(n,"end"))),i.remove(l)}function eL(l){const n=l.getChild(0);return l.childCount==1&&n.is("element","paragraph")&&n.isEmpty}function tL(l,n,i,a){const u=parseInt(l.getAttribute(a)||"1");return Math.max(i,n+u)}class Bse extends wt{constructor(n){super(n),this.affectsData=!1}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length>0}execute(){const n=this.editor.model,i=this.editor.plugins.get("TableUtils"),a=i.getSelectionAffectedTableCells(n.document.selection),u=i.getRowIndexes(a),h=a[0].findAncestor("table"),p=[];for(let g=u.first;g<=u.last;g++)for(const b of h.getChild(g).getChildren())p.push(n.createRangeOn(b));n.change(g=>{g.setSelection(p)})}}class Lse extends wt{constructor(n){super(n),this.affectsData=!1}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length>0}execute(){const n=this.editor.plugins.get("TableUtils"),i=this.editor.model,a=n.getSelectionAffectedTableCells(i.document.selection),u=a[0],h=a.pop(),p=u.findAncestor("table"),g=n.getCellLocation(u),b=n.getCellLocation(h),w=Math.min(g.column,b.column),C=Math.max(g.column,b.column),E=[];for(const M of new Xt(p,{startColumn:w,endColumn:C}))E.push(i.createRangeOn(M.cell));i.change(M=>{M.setSelection(E)})}}function jse(l){l.document.registerPostFixer(n=>function(i,a){const u=a.document.differ.getChanges();let h=!1;const p=new Set;for(const g of u){let b=null;g.type=="insert"&&g.name=="table"&&(b=g.position.nodeAfter),g.type!="insert"&&g.type!="remove"||g.name!="tableRow"&&g.name!="tableCell"||(b=g.position.findAncestor("table")),$se(g)&&(b=g.range.start.findAncestor("table")),b&&!p.has(b)&&(h=Fse(b,i)||h,h=zse(b,i)||h,p.add(b))}return h}(n,l))}function Fse(l,n){let i=!1;const a=function(u){const h=parseInt(u.getAttribute("headingRows")||"0"),p=Array.from(u.getChildren()).reduce((b,w)=>w.is("element","tableRow")?b+1:b,0),g=[];for(const{row:b,cell:w,cellHeight:C}of new Xt(u)){if(C<2)continue;const E=b<h?h:p;if(b+C>E){const M=E-b;g.push({cell:w,rowspan:M})}}return g}(l);if(a.length){i=!0;for(const u of a)Un("rowspan",u.rowspan,u.cell,n,1)}return i}function zse(l,n){let i=!1;const a=function(g){const b=new Array(g.childCount).fill(0);for(const{rowIndex:w}of new Xt(g,{includeAllSlots:!0}))b[w]++;return b}(l),u=[];for(const[g,b]of a.entries())!b&&l.getChild(g).is("element","tableRow")&&u.push(g);if(u.length){i=!0;for(const g of u.reverse())n.remove(l.getChild(g)),a.splice(g,1)}const h=a.filter((g,b)=>l.getChild(b).is("element","tableRow")),p=h[0];if(!h.every(g=>g===p)){const g=h.reduce((b,w)=>w>b?w:b,0);for(const[b,w]of h.entries()){const C=g-w;if(C){for(let E=0;E<C;E++)Vc(n,n.createPositionAt(l.getChild(b),"end"));i=!0}}}return i}function $se(l){if(l.type!=="attribute")return!1;const n=l.attributeKey;return n==="headingRows"||n==="colspan"||n==="rowspan"}function Vse(l){l.document.registerPostFixer(n=>function(i,a){const u=a.document.differ.getChanges();let h=!1;for(const p of u)p.type=="insert"&&p.name=="table"&&(h=Use(p.position.nodeAfter,i)||h),p.type=="insert"&&p.name=="tableRow"&&(h=nL(p.position.nodeAfter,i)||h),p.type=="insert"&&p.name=="tableCell"&&(h=s1(p.position.nodeAfter,i)||h),p.type!="remove"&&p.type!="insert"||!Hse(p)||(h=s1(p.position.parent,i)||h);return h}(n,l))}function Use(l,n){let i=!1;for(const a of l.getChildren())a.is("element","tableRow")&&(i=nL(a,n)||i);return i}function nL(l,n){let i=!1;for(const a of l.getChildren())i=s1(a,n)||i;return i}function s1(l,n){if(l.childCount==0)return n.insertElement("paragraph",l),!0;const i=Array.from(l.getChildren()).filter(a=>a.is("$text"));for(const a of i)n.wrap(n.createRangeOn(a),"paragraph");return!!i.length}function Hse(l){return!!l.position.parent.is("element","tableCell")&&(l.type=="insert"&&l.name=="$text"||l.type=="remove")}function Wse(l,n){if(!l.is("element","paragraph"))return!1;const i=n.toViewElement(l);return!!i&&z3(l)!==i.is("element","span")}var rL=s(8137),qse={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(rL.A,qse),rL.A.locals;class Gse extends ge{constructor(n){super(n),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[Lr]}init(){const n=this.editor,i=n.model,a=i.schema,u=n.conversion,h=n.plugins.get(Lr);a.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),a.register("tableRow",{allowIn:"table",isLimit:!0}),a.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),u.for("upcast").add(p=>{p.on("element:figure",(g,b,w)=>{if(!w.consumable.test(b.viewItem,{name:!0,classes:"table"}))return;const C=function(M){for(const O of M.getChildren())if(O.is("element","table"))return O}(b.viewItem);if(!C||!w.consumable.test(C,{name:!0}))return;w.consumable.consume(b.viewItem,{name:!0,classes:"table"});const E=Ar(w.convertItem(C,b.modelCursor).modelRange.getItems());E?(w.convertChildren(b.viewItem,w.writer.createPositionAt(E,"end")),w.updateConversionResult(E,b)):w.consumable.revert(b.viewItem,{name:!0,classes:"table"})})}),u.for("upcast").add(Cse()),u.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:L3(h,{asWidget:!0,additionalSlots:this._additionalSlots})}),u.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:L3(h,{additionalSlots:this._additionalSlots})}),u.for("upcast").elementToElement({model:"tableRow",view:"tr"}),u.for("upcast").add(p=>{p.on("element:tr",(g,b)=>{b.viewItem.isEmpty&&b.modelCursor.index==0&&g.stop()},{priority:"high"})}),u.for("downcast").elementToElement({model:"tableRow",view:(p,{writer:g})=>p.isEmpty?g.createEmptyElement("tr"):g.createContainerElement("tr")}),u.for("upcast").elementToElement({model:"tableCell",view:"td"}),u.for("upcast").elementToElement({model:"tableCell",view:"th"}),u.for("upcast").add(B3("td")),u.for("upcast").add(B3("th")),u.for("editingDowncast").elementToElement({model:"tableCell",view:j3({asWidget:!0})}),u.for("dataDowncast").elementToElement({model:"tableCell",view:j3()}),u.for("editingDowncast").elementToElement({model:"paragraph",view:F3({asWidget:!0}),converterPriority:"high"}),u.for("dataDowncast").elementToElement({model:"paragraph",view:F3(),converterPriority:"high"}),u.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),u.for("upcast").attributeToAttribute({model:{key:"colspan",value:oL("colspan")},view:"colspan"}),u.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),u.for("upcast").attributeToAttribute({model:{key:"rowspan",value:oL("rowspan")},view:"rowspan"}),n.config.define("table.defaultHeadings.rows",0),n.config.define("table.defaultHeadings.columns",0),n.commands.add("insertTable",new Ese(n)),n.commands.add("insertTableRowAbove",new $3(n,{order:"above"})),n.commands.add("insertTableRowBelow",new $3(n,{order:"below"})),n.commands.add("insertTableColumnLeft",new V3(n,{order:"left"})),n.commands.add("insertTableColumnRight",new V3(n,{order:"right"})),n.commands.add("removeTableRow",new Sse(n)),n.commands.add("removeTableColumn",new Dse(n)),n.commands.add("splitTableCellVertically",new U3(n,{direction:"vertically"})),n.commands.add("splitTableCellHorizontally",new U3(n,{direction:"horizontally"})),n.commands.add("mergeTableCells",new Rse(n)),n.commands.add("mergeTableCellRight",new nv(n,{direction:"right"})),n.commands.add("mergeTableCellLeft",new nv(n,{direction:"left"})),n.commands.add("mergeTableCellDown",new nv(n,{direction:"down"})),n.commands.add("mergeTableCellUp",new nv(n,{direction:"up"})),n.commands.add("setTableColumnHeader",new Ise(n)),n.commands.add("setTableRowHeader",new Tse(n)),n.commands.add("selectTableRow",new Bse(n)),n.commands.add("selectTableColumn",new Lse(n)),jse(i),Vse(i),this.listenTo(i.document,"change:data",()=>{(function(p,g){const b=p.document.differ;for(const w of b.getChanges()){let C,E=!1;if(w.type=="attribute"){const F=w.range.start.nodeAfter;if(!F||!F.is("element","table")||w.attributeKey!="headingRows"&&w.attributeKey!="headingColumns")continue;C=F,E=w.attributeKey=="headingRows"}else w.name!="tableRow"&&w.name!="tableCell"||(C=w.position.findAncestor("table"),E=w.name=="tableRow");if(!C)continue;const M=C.getAttribute("headingRows")||0,O=C.getAttribute("headingColumns")||0,L=new Xt(C);for(const F of L){const H=F.row<M||F.column<O?"th":"td",K=g.mapper.toViewElement(F.cell);K&&K.is("element")&&K.name!=H&&g.reconvertItem(E?F.cell.parent:F.cell)}}})(i,n.editing),function(p,g){const b=p.document.differ,w=new Set;for(const C of b.getChanges()){const E=C.type=="attribute"?C.range.start.parent:C.position.parent;E.is("element","tableCell")&&w.add(E)}for(const C of w.values()){const E=Array.from(C.getChildren()).filter(M=>Wse(M,g.mapper));for(const M of E)g.reconvertItem(M)}}(i,n.editing)})}registerAdditionalSlot(n){this._additionalSlots.push(n)}}function oL(l){return n=>{const i=parseInt(n.getAttribute(l));return Number.isNaN(i)||i<=0?null:i}}var iL=s(5032),Kse={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(iL.A,Kse),iL.A.locals;class sL extends Ye{constructor(n){super(n);const i=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new uo,this.focusTracker=new xr,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(a,u)=>`${u}  ${a}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":i.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:i.to("label")}]}],on:{mousedown:i.to(a=>{a.preventDefault()}),click:i.to(()=>{this.fire("execute")})}}),this.on("boxover",(a,u)=>{const{row:h,column:p}=u.target.dataset;this.items.get(10*(parseInt(h,10)-1)+(parseInt(p,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(a,u,h)=>{if(!h)return;const{row:p,column:g}=h.dataset;this.set({rows:parseInt(p),columns:parseInt(g)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),oQ({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const n of this.items)this.focusTracker.add(n.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const n=this.rows,i=this.columns;this.items.map((a,u)=>{const h=Math.floor(u/10)<n&&u%10<i;a.set("isOn",h)})}_createGridButton(n,i,a,u){const h=new Ft(n);return h.set({label:u,class:"ck-insert-table-dropdown-grid-box"}),h.extendTemplate({attributes:{"data-row":i,"data-column":a}}),h}_createGridCollection(){const n=[];for(let i=0;i<100;i++){const a=Math.floor(i/10),u=i%10,h=`${a+1}  ${u+1}`;n.push(this._createGridButton(this.locale,a+1,u+1,h))}return this.createCollection(n)}}class Yse extends ge{static get pluginName(){return"TableUI"}init(){const n=this.editor,i=this.editor.t,a=n.locale.contentLanguageDirection==="ltr";n.ui.componentFactory.add("insertTable",u=>{const h=n.commands.get("insertTable"),p=ba(u);let g;return p.bind("isEnabled").to(h),p.buttonView.set({icon:ht.table,label:i("Insert table"),tooltip:!0}),p.on("change:isOpen",()=>{g||(g=new sL(u),p.panelView.children.add(g),g.delegate("execute").to(p),p.on("execute",()=>{n.execute("insertTable",{rows:g.rows,columns:g.columns}),n.editing.view.focus()}))}),p}),n.ui.componentFactory.add("menuBar:insertTable",u=>{const h=n.commands.get("insertTable"),p=new Cd(u),g=new sL(u);return g.delegate("execute").to(p),p.on("change:isOpen",(b,w,C)=>{C||g.reset()}),g.on("execute",()=>{n.execute("insertTable",{rows:g.rows,columns:g.columns}),n.editing.view.focus()}),p.buttonView.set({label:i("Table"),icon:ht.table}),p.panelView.children.add(g),p.bind("isEnabled").to(h),p}),n.ui.componentFactory.add("tableColumn",u=>{const h=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:i("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:a?"insertTableColumnLeft":"insertTableColumnRight",label:i("Insert column left")}},{type:"button",model:{commandName:a?"insertTableColumnRight":"insertTableColumnLeft",label:i("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:i("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:i("Select column")}}];return this._prepareDropdown(i("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',h,u)}),n.ui.componentFactory.add("tableRow",u=>{const h=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:i("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:i("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:i("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:i("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:i("Select row")}}];return this._prepareDropdown(i("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',h,u)}),n.ui.componentFactory.add("mergeTableCells",u=>{const h=[{type:"button",model:{commandName:"mergeTableCellUp",label:i("Merge cell up")}},{type:"button",model:{commandName:a?"mergeTableCellRight":"mergeTableCellLeft",label:i("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:i("Merge cell down")}},{type:"button",model:{commandName:a?"mergeTableCellLeft":"mergeTableCellRight",label:i("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:i("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:i("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(i("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',h,u)})}_prepareDropdown(n,i,a,u){const h=this.editor,p=ba(u),g=this._fillDropdownWithListOptions(p,a);return p.buttonView.set({label:n,icon:i,tooltip:!0}),p.bind("isEnabled").toMany(g,"isEnabled",(...b)=>b.some(w=>w)),this.listenTo(p,"execute",b=>{h.execute(b.source.commandName),b.source instanceof wk||h.editing.view.focus()}),p}_prepareMergeSplitButtonDropdown(n,i,a,u){const h=this.editor,p=ba(u,Ak),g="mergeTableCells",b=h.commands.get(g),w=this._fillDropdownWithListOptions(p,a);return p.buttonView.set({label:n,icon:i,tooltip:!0,isEnabled:!0}),p.bind("isEnabled").toMany([b,...w],"isEnabled",(...C)=>C.some(E=>E)),this.listenTo(p.buttonView,"execute",()=>{h.execute(g),h.editing.view.focus()}),this.listenTo(p,"execute",C=>{h.execute(C.source.commandName),h.editing.view.focus()}),p}_fillDropdownWithListOptions(n,i){const a=this.editor,u=[],h=new Ki;for(const p of i)Qse(p,a,u,h);return jN(n,h),u}}function Qse(l,n,i,a){if(l.type==="button"||l.type==="switchbutton"){const u=l.model=new mR(l.model),{commandName:h,bindIsOn:p}=l.model,g=n.commands.get(h);i.push(g),u.set({commandName:h}),u.bind("isEnabled").to(g),p&&u.bind("isOn").to(g,"value"),u.set({withText:!0})}a.add(l)}var aL=s(8423),Zse={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(aL.A,Zse),aL.A.locals;class Uc extends ge{static get pluginName(){return"TableSelection"}static get requires(){return[Lr,Lr]}init(){const n=this.editor,i=n.model,a=n.editing.view;this.listenTo(i,"deleteContent",(u,h)=>this._handleDeleteContent(u,h),{priority:"high"}),this.listenTo(a.document,"insertText",(u,h)=>this._handleInsertTextEvent(u,h),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const n=this.editor.plugins.get(Lr),i=this.editor.model.document.selection,a=n.getSelectedTableCells(i);return a.length==0?null:a}getSelectionAsFragment(){const n=this.editor.plugins.get(Lr),i=this.getSelectedTableCells();return i?this.editor.model.change(a=>{const u=a.createDocumentFragment(),{first:h,last:p}=n.getColumnIndexes(i),{first:g,last:b}=n.getRowIndexes(i),w=i[0].findAncestor("table");let C=b,E=p;if(n.isSelectionRectangular(i)){const O={firstColumn:h,lastColumn:p,firstRow:g,lastRow:b};C=Q3(w,O),E=Z3(w,O)}const M=H3(w,{startRow:g,startColumn:h,endRow:C,endColumn:E},a);return a.insert(M,u,0),u}):null}setCellSelection(n,i){const a=this._getCellsToSelect(n,i);this.editor.model.change(u=>{u.setSelection(a.cells.map(h=>u.createRangeOn(h)),{backward:a.backward})})}getFocusCell(){const n=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return n&&n.is("element","tableCell")?n:null}getAnchorCell(){const n=Ar(this.editor.model.document.selection.getRanges()).getContainedElement();return n&&n.is("element","tableCell")?n:null}_defineSelectionConverter(){const n=this.editor,i=new Set;n.conversion.for("editingDowncast").add(a=>a.on("selection",(u,h,p)=>{const g=p.writer;(function(C){for(const E of i)C.removeClass("ck-editor__editable_selected",E);i.clear()})(g);const b=this.getSelectedTableCells();if(!b)return;for(const C of b){const E=p.mapper.toViewElement(C);g.addClass("ck-editor__editable_selected",E),i.add(E)}const w=p.mapper.toViewElement(b[b.length-1]);g.setSelection(w,0)},{priority:"lowest"}))}_enablePluginDisabling(){const n=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const i=this.getSelectedTableCells();if(!i)return;n.model.change(a=>{const u=a.createPositionAt(i[0],0),h=n.model.schema.getNearestSelectionRange(u);a.setSelection(h)})}})}_handleDeleteContent(n,i){const a=this.editor.plugins.get(Lr),u=i[0],h=i[1],p=this.editor.model,g=!h||h.direction=="backward",b=a.getSelectedTableCells(u);b.length&&(n.stop(),p.change(w=>{const C=b[g?b.length-1:0];p.change(M=>{for(const O of b)p.deleteContent(M.createSelection(O,"in"))});const E=p.schema.getNearestSelectionRange(w.createPositionAt(C,0));u.is("documentSelection")?w.setSelection(E):u.setTo(E)}))}_handleInsertTextEvent(n,i){const a=this.editor,u=this.getSelectedTableCells();if(!u)return;const h=a.editing.view,p=a.editing.mapper,g=u.map(b=>h.createRangeOn(p.toViewElement(b)));i.selection=h.createSelection(g)}_getCellsToSelect(n,i){const a=this.editor.plugins.get("TableUtils"),u=a.getCellLocation(n),h=a.getCellLocation(i),p=Math.min(u.row,h.row),g=Math.max(u.row,h.row),b=Math.min(u.column,h.column),w=Math.max(u.column,h.column),C=new Array(g-p+1).fill(null).map(()=>[]),E={startRow:p,endRow:g,startColumn:b,endColumn:w};for(const{row:L,cell:F}of new Xt(n.findAncestor("table"),E))C[L-p].push(F);const M=h.row<u.row,O=h.column<u.column;return M&&C.reverse(),O&&C.forEach(L=>L.reverse()),{cells:C.flat(),backward:M||O}}}class Jse extends ge{static get pluginName(){return"TableClipboard"}static get requires(){return[lf,wi,Uc,Lr]}init(){const n=this.editor,i=n.editing.view.document;this.listenTo(i,"copy",(a,u)=>this._onCopyCut(a,u)),this.listenTo(i,"cut",(a,u)=>this._onCopyCut(a,u)),this.listenTo(n.model,"insertContent",(a,[u,h])=>this._onInsertContent(a,u,h),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(n,i){const a=this.editor.editing.view,u=this.editor.plugins.get(Uc),h=this.editor.plugins.get(lf);u.getSelectedTableCells()&&(n.name!="cut"||this.editor.model.canEditAt(this.editor.model.document.selection))&&(i.preventDefault(),n.stop(),this.editor.model.enqueueChange({isUndoable:n.name==="cut"},()=>{const p=h._copySelectedFragmentWithMarkers(n.name,this.editor.model.document.selection,()=>u.getSelectionAsFragment());a.document.fire("clipboardOutput",{dataTransfer:i.dataTransfer,content:this.editor.data.toView(p),method:n.name})}))}_onInsertContent(n,i,a){if(a&&!a.is("documentSelection"))return;const u=this.editor.model,h=this.editor.plugins.get(Lr),p=this.editor.plugins.get(lf),g=this.getTableIfOnlyTableInContent(i,u);if(!g)return;const b=h.getSelectionAffectedTableCells(u.document.selection);b.length?(n.stop(),i.is("documentFragment")?p._pasteMarkersIntoTransformedElement(i.markers,w=>this._replaceSelectedCells(g,b,w)):this.editor.model.change(w=>{this._replaceSelectedCells(g,b,w)})):o1(g,h)}_replaceSelectedCells(n,i,a){const u=this.editor.plugins.get(Lr),h={width:u.getColumns(n),height:u.getRows(n)},p=function(E,M,O,L){const F=E[0].findAncestor("table"),H=L.getColumnIndexes(E),K=L.getRowIndexes(E),X={firstColumn:H.first,lastColumn:H.last,firstRow:K.first,lastRow:K.last},oe=E.length===1;return oe&&(X.lastRow+=M.height-1,X.lastColumn+=M.width-1,function(le,De,rt,mt){const mn=mt.getColumns(le),kr=mt.getRows(le);rt>mn&&mt.insertColumns(le,{at:mn,columns:rt-mn}),De>kr&&mt.insertRows(le,{at:kr,rows:De-kr})}(F,X.lastRow+1,X.lastColumn+1,L)),oe||!L.isSelectionRectangular(E)?function(le,De,rt){const{firstRow:mt,lastRow:mn,firstColumn:kr,lastColumn:xL}=De,EL={first:mt,last:mn},SL={first:kr,last:xL};l1(le,kr,EL,rt),l1(le,xL+1,EL,rt),a1(le,mt,SL,rt),a1(le,mn+1,SL,rt,mt)}(F,X,O):(X.lastRow=Q3(F,X),X.lastColumn=Z3(F,X)),X}(i,h,a,u),g=p.lastRow-p.firstRow+1,b=p.lastColumn-p.firstColumn+1;n=H3(n,{startRow:0,startColumn:0,endRow:Math.min(g,h.height)-1,endColumn:Math.min(b,h.width)-1},a);const w=i[0].findAncestor("table"),C=this._replaceSelectedCellsWithPasted(n,h,w,p,a);if(this.editor.plugins.get("TableSelection").isEnabled){const E=u.sortRanges(C.map(M=>a.createRangeOn(M)));a.setSelection(E)}else a.setSelection(C[0],0);return w}_replaceSelectedCellsWithPasted(n,i,a,u,h){const{width:p,height:g}=i,b=function(H,K,X){const oe=new Array(X).fill(null).map(()=>new Array(K).fill(null));for(const{column:le,row:De,cell:rt}of new Xt(H))oe[De][le]=rt;return oe}(n,p,g),w=[...new Xt(a,{startRow:u.firstRow,endRow:u.lastRow,startColumn:u.firstColumn,endColumn:u.lastColumn,includeAllSlots:!0})],C=[];let E;for(const H of w){const{row:K,column:X}=H;X===u.firstColumn&&(E=H.getPositionBefore());const oe=K-u.firstRow,le=X-u.firstColumn,De=b[oe%g][le%p],rt=De?h.cloneElement(De):null,mt=this._replaceTableSlotCell(H,rt,E,h);mt&&(Y3(mt,K,X,u.lastRow,u.lastColumn,h),C.push(mt),E=h.createPositionAfter(mt))}const M=parseInt(a.getAttribute("headingRows")||"0"),O=parseInt(a.getAttribute("headingColumns")||"0"),L=u.firstRow<M&&M<=u.lastRow,F=u.firstColumn<O&&O<=u.lastColumn;if(L){const H=a1(a,M,{first:u.firstColumn,last:u.lastColumn},h,u.firstRow);C.push(...H)}if(F){const H=l1(a,O,{first:u.firstRow,last:u.lastRow},h);C.push(...H)}return C}_replaceTableSlotCell(n,i,a,u){const{cell:h,isAnchor:p}=n;return p&&u.remove(h),i?(u.insert(i,a),i):null}getTableIfOnlyTableInContent(n,i){if(!n.is("documentFragment")&&!n.is("element"))return null;if(n.is("element","table"))return n;if(n.childCount==1&&n.getChild(0).is("element","table"))return n.getChild(0);const a=i.createRangeIn(n);for(const u of a.getItems())if(u.is("element","table")){const h=i.createRange(a.start,i.createPositionBefore(u));if(i.hasContent(h,{ignoreWhitespaces:!0}))return null;const p=i.createRange(i.createPositionAfter(u),a.end);return i.hasContent(p,{ignoreWhitespaces:!0})?null:u}return null}}function a1(l,n,i,a,u=0){if(!(n<1))return W3(l,n,u).filter(({column:h,cellWidth:p})=>lL(h,p,i)).map(({cell:h})=>q3(h,n,a))}function l1(l,n,i,a){if(!(n<1))return G3(l,n).filter(({row:u,cellHeight:h})=>lL(u,h,i)).map(({cell:u,column:h})=>K3(u,h,n,a))}function lL(l,n,i){const a=l+n-1,{first:u,last:h}=i;return l>=u&&l<=h||l<u&&a>=u}class Xse extends ge{static get pluginName(){return"TableKeyboard"}static get requires(){return[Uc,Lr]}init(){const n=this.editor,i=n.editing.view.document,a=n.t;this.listenTo(i,"arrowKey",(...u)=>this._onArrowKey(...u),{context:"table"}),this.listenTo(i,"tab",(...u)=>this._handleTabOnSelectedTable(...u),{context:"figure"}),this.listenTo(i,"tab",(...u)=>this._handleTab(...u),{context:["th","td"]}),n.accessibility.addKeystrokeInfoGroup({id:"table",label:a("Keystrokes that can be used in a table cell"),keystrokes:[{label:a("Move the selection to the next cell"),keystroke:"Tab"},{label:a("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:a("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:a("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(n,i){const a=this.editor,u=a.model.document.selection.getSelectedElement();u&&u.is("element","table")&&(i.preventDefault(),i.stopPropagation(),n.stop(),a.model.change(h=>{h.setSelection(h.createRangeIn(u.getChild(0).getChild(0)))}))}_handleTab(n,i){const a=this.editor,u=this.editor.plugins.get(Lr),h=this.editor.plugins.get("TableSelection"),p=a.model.document.selection,g=!i.shiftKey;let b=u.getTableCellsContainingSelection(p)[0];if(b||(b=h.getFocusCell()),!b)return;i.preventDefault(),i.stopPropagation(),n.stop();const w=b.parent,C=w.parent,E=C.getChildIndex(w),M=w.getChildIndex(b),O=M===0;if(!g&&O&&E===0)return void a.model.change(K=>{K.setSelection(K.createRangeOn(C))});const L=M===w.childCount-1,F=E===u.getRows(C)-1;if(g&&F&&L&&(a.execute("insertTableRowBelow"),E===u.getRows(C)-1))return void a.model.change(K=>{K.setSelection(K.createRangeOn(C))});let H;if(g&&L)H=C.getChild(E+1).getChild(0);else if(!g&&O){const K=C.getChild(E-1);H=K.getChild(K.childCount-1)}else H=w.getChild(M+(g?1:-1));a.model.change(K=>{K.setSelection(K.createRangeIn(H))})}_onArrowKey(n,i){const a=this.editor,u=vC(i.keyCode,a.locale.contentLanguageDirection);this._handleArrowKeys(u,i.shiftKey)&&(i.preventDefault(),i.stopPropagation(),n.stop())}_handleArrowKeys(n,i){const a=this.editor.plugins.get(Lr),u=this.editor.plugins.get("TableSelection"),h=this.editor.model,p=h.document.selection,g=["right","down"].includes(n),b=a.getSelectedTableCells(p);if(b.length){let C;return C=i?u.getFocusCell():g?b[b.length-1]:b[0],this._navigateFromCellInDirection(C,n,i),!0}const w=p.focus.findAncestor("tableCell");if(!w)return!1;if(!p.isCollapsed)if(i){if(p.isBackward==g&&!p.containsEntireContent(w))return!1}else{const C=p.getSelectedElement();if(!C||!h.schema.isObject(C))return!1}return!!this._isSelectionAtCellEdge(p,w,g)&&(this._navigateFromCellInDirection(w,n,i),!0)}_isSelectionAtCellEdge(n,i,a){const u=this.editor.model,h=this.editor.model.schema,p=a?n.getLastPosition():n.getFirstPosition();if(!h.getLimitElement(p).is("element","tableCell"))return u.createPositionAt(i,a?"end":0).isTouching(p);const g=u.createSelection(p);return u.modifySelection(g,{direction:a?"forward":"backward"}),p.isEqual(g.focus)}_navigateFromCellInDirection(n,i,a=!1){const u=this.editor.model,h=n.findAncestor("table"),p=[...new Xt(h,{includeAllSlots:!0})],{row:g,column:b}=p[p.length-1],w=p.find(({cell:F})=>F==n);let{row:C,column:E}=w;switch(i){case"left":E--;break;case"up":C--;break;case"right":E+=w.cellWidth;break;case"down":C+=w.cellHeight}if(C<0||C>g||E<0&&C<=0||E>b&&C>=g)return void u.change(F=>{F.setSelection(F.createRangeOn(h))});E<0?(E=a?0:b,C--):E>b&&(E=a?b:0,C++);const M=p.find(F=>F.row==C&&F.column==E).cell,O=["right","down"].includes(i),L=this.editor.plugins.get("TableSelection");if(a&&L.isEnabled){const F=L.getAnchorCell()||n;L.setCellSelection(F,M)}else{const F=u.createPositionAt(M,O?0:"end");u.change(H=>{H.setSelection(F)})}}}class eae extends ul{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(n){this.fire(n.type,n)}}class tae extends ge{static get pluginName(){return"TableMouse"}static get requires(){return[Uc,Lr]}init(){this.editor.editing.view.addObserver(eae),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const n=this.editor,i=n.plugins.get(Lr);let a=!1;const u=n.plugins.get(Uc);this.listenTo(n.editing.view.document,"mousedown",(h,p)=>{const g=n.model.document.selection;if(!this.isEnabled||!u.isEnabled||!p.domEvent.shiftKey)return;const b=u.getAnchorCell()||i.getTableCellsContainingSelection(g)[0];if(!b)return;const w=this._getModelTableCellFromDomEvent(p);w&&cL(b,w)&&(a=!0,u.setCellSelection(b,w),p.preventDefault())}),this.listenTo(n.editing.view.document,"mouseup",()=>{a=!1}),this.listenTo(n.editing.view.document,"selectionChange",h=>{a&&h.stop()},{priority:"highest"})}_enableMouseDragSelection(){const n=this.editor;let i,a,u=!1,h=!1;const p=n.plugins.get(Uc);this.listenTo(n.editing.view.document,"mousedown",(g,b)=>{this.isEnabled&&p.isEnabled&&(b.domEvent.shiftKey||b.domEvent.ctrlKey||b.domEvent.altKey||(i=this._getModelTableCellFromDomEvent(b)))}),this.listenTo(n.editing.view.document,"mousemove",(g,b)=>{if(!b.domEvent.buttons||!i)return;const w=this._getModelTableCellFromDomEvent(b);w&&cL(i,w)&&(a=w,u||a==i||(u=!0)),u&&(h=!0,p.setCellSelection(i,a),b.preventDefault())}),this.listenTo(n.editing.view.document,"mouseup",()=>{u=!1,h=!1,i=null,a=null}),this.listenTo(n.editing.view.document,"selectionChange",g=>{h&&g.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(n){const i=n.target,a=this.editor.editing.view.createPositionAt(i,0);return this.editor.editing.mapper.toModelPosition(a).parent.findAncestor("tableCell",{includeSelf:!0})}}function cL(l,n){return l.parent.parent==n.parent.parent}var uL=s(2329),nae={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(uL.A,nae),uL.A.locals;function rae(l){const n=l.getSelectedElement();return n&&dL(n)?n:null}function oae(l){const n=l.getFirstPosition();if(!n)return null;let i=n.parent;for(;i;){if(i.is("element")&&dL(i))return i;i=i.parent}return null}function dL(l){return!!l.getCustomProperty("table")&&tr(l)}var hL=s(5506),iae={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(hL.A,iae),hL.A.locals;var pL=s(2655),sae={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(pL.A,sae),pL.A.locals;var fL=s(4043),aae={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(fL.A,aae),fL.A.locals;var mL=s(1623),lae={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(mL.A,lae),mL.A.locals;var gL=s(8986),cae={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(gL.A,cae),gL.A.locals;const Hc=Mo.defaultPositions;Hc.northArrowSouth,Hc.northArrowSouthWest,Hc.northArrowSouthEast,Hc.southArrowNorth,Hc.southArrowNorthWest,Hc.southArrowNorthEast,Hc.viewportStickyNorth;var bL=s(5562),uae={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(bL.A,uae),bL.A.locals;var kL=s(4143),dae={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(kL.A,dae),kL.A.locals;var vL=s(8795),hae={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(vL.A,hae),vL.A.locals;var pae=Object.defineProperty,wL=Object.getOwnPropertySymbols,fae=Object.prototype.hasOwnProperty,mae=Object.prototype.propertyIsEnumerable,yL=(l,n,i)=>n in l?pae(l,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[n]=i,_L=(l,n)=>{for(var i in n||(n={}))fae.call(n,i)&&yL(l,i,n[i]);if(wL)for(var i of wL(n))mae.call(n,i)&&yL(l,i,n[i]);return l};const gae={autoRefresh:!0},CL=36e5;class c1 extends be(){constructor(n,i={}){if(super(),!n)throw new R("token-missing-token-url",this);i.initValue&&this._validateTokenValue(i.initValue),this.set("value",i.initValue),this._refresh=typeof n=="function"?n:()=>{return a=n,new Promise((u,h)=>{const p=new XMLHttpRequest;p.open("GET",a),p.addEventListener("load",()=>{const g=p.status,b=p.response;return g<200||g>299?h(new R("token-cannot-download-new-token",null)):u(b)}),p.addEventListener("error",()=>h(new Error("Network Error"))),p.addEventListener("abort",()=>h(new Error("Abort"))),p.send()});var a},this._options=_L(_L({},gae),i)}init(){return new Promise((n,i)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),n(this)):this.refreshToken().then(n).catch(i)})}refreshToken(){return this._refresh().then(n=>(this._validateTokenValue(n),this.set("value",n),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(n){const i=typeof n=="string",a=!/^".*"$/.test(n),u=i&&n.split(".").length===3;if(!a||!u)throw new R("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const n=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},n)}_getTokenRefreshTimeoutTime(){try{const[,n]=this.value.split("."),{exp:i}=JSON.parse(atob(n));return i?Math.floor((1e3*i-Date.now())/2):CL}catch{return CL}}static create(n,i={}){return new c1(n,i).init()}}const u1=/^data:(\S*?);base64,/;class bae extends G(){constructor(n,i,a){if(super(),!n)throw new R("fileuploader-missing-file",null);if(!i)throw new R("fileuploader-missing-token",null);if(!a)throw new R("fileuploader-missing-api-address",null);this.file=function(u){if(typeof u!="string")return!1;const h=u.match(u1);return!(!h||!h.length)}(n)?function(u,h=512){try{const p=u.match(u1)[1],g=atob(u.replace(u1,"")),b=[];for(let w=0;w<g.length;w+=h){const C=g.slice(w,w+h),E=new Array(C.length);for(let M=0;M<C.length;M++)E[M]=C.charCodeAt(M);b.push(new Uint8Array(E))}return new Blob(b,{type:p})}catch{throw new R("fileuploader-decoding-image-data-error",null)}}(n):n,this._token=i,this._apiAddress=a}onProgress(n){return this.on("progress",(i,a)=>n(a)),this}onError(n){return this.once("error",(i,a)=>n(a)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const n=new XMLHttpRequest;n.open("POST",this._apiAddress),n.setRequestHeader("Authorization",this._token.value),n.responseType="json",this.xhr=n}_attachXHRListeners(){const n=this.xhr,i=a=>()=>this.fire("error",a);n.addEventListener("error",i("Network Error")),n.addEventListener("abort",i("Abort")),n.upload&&n.upload.addEventListener("progress",a=>{a.lengthComputable&&this.fire("progress",{total:a.total,uploaded:a.loaded})}),n.addEventListener("load",()=>{const a=n.status,u=n.response;if(a<200||a>299)return this.fire("error",u.message||u.error)})}_sendRequest(){const n=new FormData,i=this.xhr;return n.append("file",this.file),new Promise((a,u)=>{i.addEventListener("load",()=>{const h=i.status,p=i.response;return h<200||h>299?p.message?u(new R("fileuploader-uploading-data-failed",this,{message:p.message})):u(p.error):a(p)}),i.addEventListener("error",()=>u(new Error("Network Error"))),i.addEventListener("abort",()=>u(new Error("Abort"))),i.send(n)})}}class kae{constructor(n,i){if(!n)throw new R("uploadgateway-missing-token",null);if(!i)throw new R("uploadgateway-missing-api-address",null);this._token=n,this._apiAddress=i}upload(n){return new bae(n,this._token,this._apiAddress)}}class vae extends tk{static get pluginName(){return"CloudServicesCore"}createToken(n,i){return new c1(n,i)}createUploadGateway(n,i){return new kae(n,i)}}var AL=(l,n,i)=>new Promise((a,u)=>{var h=b=>{try{g(i.next(b))}catch(w){u(w)}},p=b=>{try{g(i.throw(b))}catch(w){u(w)}},g=b=>b.done?a(b.value):Promise.resolve(b.value).then(h,p);g((i=i.apply(l,n)).next())});class d1 extends Nk{}d1.builtinPlugins=[class extends ge{static get requires(){return[vX,q4,Lk,Fne,cne,tne,Z4]}static get pluginName(){return"Essentials"}},class extends ge{static get requires(){return[ts]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const l=this.editor.config.get("ckfinder.uploadUrl");l&&(this.editor.plugins.get(ts).createUploadAdapter=n=>new Zne(n,l,this.editor.t))}},class extends ge{static get requires(){return[va]}static get pluginName(){return"Autoformat"}afterInit(){const l=this.editor,n=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),l.accessibility.addKeystrokeInfos({keystrokes:[{label:n("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const l=this.editor.commands;l.get("bulletedList")&&fl(this.editor,this,/^[*-]\s$/,"bulletedList"),l.get("numberedList")&&fl(this.editor,this,/^1[.|)]\s$/,"numberedList"),l.get("todoList")&&fl(this.editor,this,/^\[\s?\]\s$/,"todoList"),l.get("checkTodoList")&&fl(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const l=this.editor.commands;if(l.get("bold")){const n=Vk(this.editor,"bold");Ed(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,n),Ed(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,n)}if(l.get("italic")){const n=Vk(this.editor,"italic");Ed(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,n),Ed(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,n)}if(l.get("code")){const n=Vk(this.editor,"code");Ed(this.editor,this,/(`)([^`]+)(`)$/g,n)}if(l.get("strikethrough")){const n=Vk(this.editor,"strikethrough");Ed(this.editor,this,/(~~)([^~]+)(~~)$/g,n)}}_addHeadingAutoformats(){const l=this.editor.commands.get("heading");l&&l.modelElements.filter(n=>n.match(/^heading[1-6]$/)).forEach(n=>{const i=n[7],a=new RegExp(`^(#{${i}})\\s$`);fl(this.editor,this,a,()=>{if(!l.isEnabled||l.value===n)return!1;this.editor.execute("heading",{value:n})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&fl(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const l=this.editor,n=l.model.document.selection;l.commands.get("codeBlock")&&fl(l,this,/^```$/,()=>{if(n.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&fl(this.editor,this,/^---$/,"horizontalLine")}},class extends ge{static get requires(){return[Jne,Xne]}static get pluginName(){return"Bold"}},class extends ge{static get requires(){return[tre,nre]}static get pluginName(){return"Italic"}},class extends ge{static get requires(){return[ore,sre]}static get pluginName(){return"BlockQuote"}},class extends ge{static get pluginName(){return"CKBox"}static get requires(){return[bO,are]}},class extends ge{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",Pre,Ire]}},class extends tk{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[vae]}init(){return AL(this,null,function*(){const l=this.context.config.get("cloudServices")||{};for(const[i,a]of Object.entries(l))this[i]=a;if(!this.tokenUrl)return void(this.token=null);const n=this.context.plugins.get("CloudServicesCore");this.token=yield n.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(l){return AL(this,null,function*(){if(this._tokens.has(l))return this.getTokenFor(l);const n=this.context.plugins.get("CloudServicesCore"),i=yield n.createToken(l).init();return this._tokens.set(l,i),i})}getTokenFor(l){const n=this._tokens.get(l);if(!n)throw new R("cloudservices-token-not-registered",this);return n}destroy(){super.destroy();for(const l of this._tokens.values())l.destroy()}},class extends ge{static get pluginName(){return"EasyImage"}static get requires(){return[Nre,"ImageUpload"]}init(){const l=this.editor;l.plugins.has("ImageBlockEditing")||l.plugins.has("ImageInlineEditing")||z("easy-image-image-feature-missing",l)}},class extends ge{static get requires(){return[jre,zre]}static get pluginName(){return"Heading"}},class extends ge{static get requires(){return[aoe,coe]}static get pluginName(){return"Image"}},class extends ge{static get requires(){return[doe,hoe]}static get pluginName(){return"ImageCaption"}},class extends ge{static get requires(){return[CB,Boe]}static get pluginName(){return"ImageStyle"}},class extends ge{static get requires(){return[Fk,No]}static get pluginName(){return"ImageToolbar"}afterInit(){const l=this.editor,n=l.t,i=l.plugins.get(Fk),a=l.plugins.get("ImageUtils");var u;i.register("image",{ariaLabel:n("Image toolbar"),items:(u=l.config.get("image.toolbar")||[],u.map(h=>me(h)?h.name:h)),getRelatedElement:h=>a.getClosestSelectedImageWidget(h)})}},class extends ge{static get pluginName(){return"ImageUpload"}static get requires(){return[Eoe,moe,voe]}},class extends ge{static get pluginName(){return"Indent"}static get requires(){return[Loe,joe]}},class extends ge{static get requires(){return[HB,pie,fie]}static get pluginName(){return"Link"}},jie,class extends ge{static get requires(){return[tv,Qie,Gie,hf]}static get pluginName(){return"MediaEmbed"}},BA,class extends ge{static get pluginName(){return"PasteFromOffice"}static get requires(){return[wi]}init(){const l=this.editor,n=l.plugins.get("ClipboardPipeline"),i=l.editing.view.document,a=[],u=this.editor.plugins.has("MultiLevelList");a.push(new bse(i,u)),a.push(new vse(i)),a.push(new yse(i)),n.on("inputTransformation",(h,p)=>{if(p._isTransformedWithPasteFromOffice||l.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const g=p.dataTransfer.getData("text/html"),b=a.find(w=>w.isActive(g));b&&(p._parsedData||(p._parsedData=_se(g,i.stylesProcessor)),b.execute(p),p._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends ge{static get requires(){return[jA,No]}static get pluginName(){return"PictureEditing"}afterInit(){const l=this.editor;l.plugins.has("ImageBlockEditing")&&l.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),l.plugins.has("ImageInlineEditing")&&l.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const l=this.editor,n=l.conversion,i=l.plugins.get("ImageUtils");n.for("upcast").add(function(a){const u=["srcset","media","type","sizes"],h=(p,g,b)=>{const w=g.viewItem;if(!b.consumable.test(w,{name:!0}))return;const C=new Map;for(const O of w.getChildren())if(O.is("element","source")){const L={};for(const F of u)O.hasAttribute(F)&&b.consumable.test(O,{attributes:F})&&(L[F]=O.getAttribute(F));Object.keys(L).length&&C.set(O,L)}const E=a.findViewImgElement(w);if(!E)return;let M=g.modelCursor.parent;if(!M.is("element","imageBlock")){const O=b.convertItem(E,g.modelCursor);g.modelRange=O.modelRange,g.modelCursor=O.modelCursor,M=Ar(O.modelRange.getItems())}b.consumable.consume(w,{name:!0});for(const[O,L]of C)b.consumable.consume(O,{attributes:Object.keys(L)});C.size&&b.writer.setAttribute("sources",Array.from(C.values()),M),b.convertChildren(w,M)};return p=>{p.on("element:picture",h)}}(i)),n.for("downcast").add(function(a){const u=(h,p,g)=>{if(!g.consumable.consume(p.item,h.name))return;const b=g.writer,w=g.mapper.toViewElement(p.item),C=a.findViewImgElement(w),E=p.attributeNewValue;if(E&&E.length){const M=b.createContainerElement("picture",null,E.map(F=>b.createEmptyElement("source",F))),O=[];let L=C.parent;for(;L&&L.is("attributeElement");){const F=L.parent;b.unwrap(b.createRangeOn(C),L),O.unshift(L),L=F}b.insert(b.createPositionBefore(C),M),b.move(b.createRangeOn(C),b.createPositionAt(M,"end"));for(const F of O)b.wrap(b.createRangeOn(M),F)}else if(C.parent.is("element","picture")){const M=C.parent;b.move(b.createRangeOn(C),b.createPositionBefore(M)),b.remove(M)}};return h=>{h.on("attribute:sources:imageBlock",u),h.on("attribute:sources:imageInline",u)}}(i))}_setupImageUploadEditingIntegration(){const l=this.editor;if(!l.plugins.has("ImageUploadEditing"))return;const n=l.plugins.get("ImageUploadEditing");this.listenTo(n,"uploadComplete",(i,{imageElement:a,data:u})=>{const h=u.sources;h&&l.model.change(p=>{p.setAttributes({sources:h},a)})})}},class extends ge{static get requires(){return[Gse,Yse,Uc,tae,Xse,Jse,hf]}static get pluginName(){return"Table"}},class extends ge{static get requires(){return[Fk]}static get pluginName(){return"TableToolbar"}afterInit(){const l=this.editor,n=l.t,i=l.plugins.get(Fk),a=l.config.get("table.contentToolbar"),u=l.config.get("table.tableToolbar");a&&i.register("tableContent",{ariaLabel:n("Table toolbar"),items:a,getRelatedElement:oae}),u&&i.register("table",{ariaLabel:n("Table toolbar"),items:u,getRelatedElement:rae})}},class extends ge{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(l){super(l),l.config.define("typing",{transformations:{include:nne}})}init(){const l=this.editor.model.document.selection;l.on("change:range",()=>{this.isEnabled=!l.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const l=this.editor,n=l.model,i=l.plugins.get("Delete"),a=function(h){const p=h.extra||[],g=h.remove||[],b=w=>!g.includes(w);return function(w){const C=new Set;for(const E of w)if(typeof E=="string"&&k4[E])for(const M of k4[E])C.add(M);else C.add(E);return Array.from(C)}(h.include.concat(p).filter(b)).filter(b).map(w=>typeof w=="string"&&b4[w]?b4[w]:w).filter(w=>typeof w=="object").map(w=>({from:rne(w.from),to:one(w.to)}))}(l.config.get("typing.transformations")),u=new f4(l.model,h=>{for(const p of a)if(p.from.test(h))return{normalizedTransformation:p}});u.on("matched:data",(h,p)=>{if(!p.batch.isTyping)return;const{from:g,to:b}=p.normalizedTransformation,w=g.exec(p.text),C=b(w.slice(1)),E=p.range;let M=w.index;n.enqueueChange(O=>{for(let L=1;L<w.length;L++){const F=w[L],H=C[L-1];if(H==null){M+=F.length;continue}const K=E.start.getShiftedBy(M),X=n.createRange(K,K.getShiftedBy(F.length)),oe=ine(K);n.insertContent(O.createText(H,oe),X),M+=H.length}n.enqueueChange(()=>{i.requestUndoOnBackspace()})})}),u.bind("isEnabled").to(this)}}],d1.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),c=c.default})())})(jw,jw.exports);var KNe=jw.exports;const OG=Xw(KNe),YNe=({content:e,onChange:t})=>x.jsx(RG.CKEditor,{editor:OG,data:e,onChange:(r,o)=>{const s=o.getData();t(s)},config:{toolbar:["undo","redo","|","heading","|","bold","italic","|","blockQuote","numberedList","bulletedList","|","insertTable","link","|"],table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},link:{defaultProtocol:"https://",decorators:{addTargetToExternalLinks:{mode:"automatic",callback:r=>/^(https?:)?\/\//.test(r||""),attributes:{target:"_blank",rel:"noopener noreferrer"}}}}}}),I9=({content:e,onChange:t})=>x.jsx(RG.CKEditor,{editor:OG,data:e,onChange:(r,o)=>{const s=o.getData();t(s)},config:{toolbar:["heading","|","bold","italic","|","blockQuote","numberedList","bulletedList","|","link"],link:{defaultProtocol:"https://",decorators:{addTargetToExternalLinks:{mode:"automatic",callback:r=>/^(https?:)?\/\//.test(r||""),attributes:{target:"_blank",rel:"noopener noreferrer"}}}}}}),QNe=({value:e,onChange:t})=>{const[r,o]=B.useState([]),{userDetails:s}=Eo();return B.useEffect(()=>{if(s!=null&&s.classes){const c=Object.entries(s.classes).map(([d,m])=>({id:d,number:m.number,title:m.title}));o(c)}else o([])},[s]),x.jsx(sr,{select:!0,label:"Select Course",value:e,onChange:c=>t(c.target.value),fullWidth:!0,sx:{mb:2},children:r.map(c=>x.jsxs(oa,{value:c.id,children:[c.number," - ",c.title]},c.id))})};function Oe(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function tn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function tl(e,t){const r=Oe(e);return isNaN(t)?tn(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function ps(e,t){const r=Oe(e);if(isNaN(t))return tn(e,NaN);if(!t)return r;const o=r.getDate(),s=tn(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const c=s.getDate();return o>=c?s:(r.setFullYear(s.getFullYear(),s.getMonth(),o),r)}function AI(e,t){const r=+Oe(e);return tn(e,r+t)}const BG=6048e5,ZNe=864e5,G_=6e4,K_=36e5,JNe=1e3;function XNe(e,t){return AI(e,t*K_)}let eRe={};function Zu(){return eRe}function nl(e,t){var m,f,k,v;const r=Zu(),o=(t==null?void 0:t.weekStartsOn)??((f=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((v=(k=r.locale)==null?void 0:k.options)==null?void 0:v.weekStartsOn)??0,s=Oe(e),c=s.getDay(),d=(c<o?7:0)+c-o;return s.setDate(s.getDate()-d),s.setHours(0,0,0,0),s}function rp(e){return nl(e,{weekStartsOn:1})}function LG(e){const t=Oe(e),r=t.getFullYear(),o=tn(e,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const s=rp(o),c=tn(e,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const d=rp(c);return t.getTime()>=s.getTime()?r+1:t.getTime()>=d.getTime()?r:r-1}function Ou(e){const t=Oe(e);return t.setHours(0,0,0,0),t}function Fw(e){const t=Oe(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function op(e,t){const r=Ou(e),o=Ou(t),s=+r-Fw(r),c=+o-Fw(o);return Math.round((s-c)/ZNe)}function tRe(e){const t=LG(e),r=tn(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),rp(r)}function jS(e,t){return AI(e,t*G_)}function xI(e,t){const r=t*3;return ps(e,r)}function nRe(e,t){return AI(e,t*1e3)}function zw(e,t){const r=t*7;return tl(e,r)}function ja(e,t){return ps(e,t*12)}function M9(e){let t;return e.forEach(function(r){const o=Oe(r);(t===void 0||t<o||isNaN(Number(o)))&&(t=o)}),t||new Date(NaN)}function P9(e){let t;return e.forEach(r=>{const o=Oe(r);(!t||t>o||isNaN(+o))&&(t=o)}),t||new Date(NaN)}function rRe(e,t){const r=Ou(e),o=Ou(t);return+r==+o}function Fa(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function $w(e){if(!Fa(e)&&typeof e!="number")return!1;const t=Oe(e);return!isNaN(Number(t))}function Vw(e,t){const r=Oe(e),o=Oe(t),s=r.getFullYear()-o.getFullYear(),c=r.getMonth()-o.getMonth();return s*12+c}function mu(e){const t=Oe(e);return Math.trunc(t.getMonth()/3)+1}function Uw(e,t){const r=Oe(e),o=Oe(t),s=r.getFullYear()-o.getFullYear(),c=mu(r)-mu(o);return s*4+c}function Hw(e,t){const r=Oe(e),o=Oe(t);return r.getFullYear()-o.getFullYear()}function oRe(e,t){const r=Oe(e),o=Oe(t),s=N9(r,o),c=Math.abs(op(r,o));r.setDate(r.getDate()-s*c);const d=+(N9(r,o)===-s),m=s*(c-d);return m===0?0:m}function N9(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function jG(e){const t=Oe(e);return t.setHours(23,59,59,999),t}function FG(e){const t=Oe(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function FS(e){const t=Oe(e),r=t.getMonth(),o=r-r%3;return t.setMonth(o,1),t.setHours(0,0,0,0),t}function zG(e){const t=Oe(e);return t.setDate(1),t.setHours(0,0,0,0),t}function $G(e){const t=Oe(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function Y_(e){const t=Oe(e),r=tn(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function iRe(e,t){var m,f;const r=Zu(),o=r.weekStartsOn??((f=(m=r.locale)==null?void 0:m.options)==null?void 0:f.weekStartsOn)??0,s=Oe(e),c=s.getDay(),d=(c<o?-7:0)+6-(c-o);return s.setDate(s.getDate()+d),s.setHours(23,59,59,999),s}const sRe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},aRe=(e,t,r)=>{let o;const s=sRe[e];return typeof s=="string"?o=s:t===1?o=s.one:o=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};function Tx(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const lRe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cRe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uRe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dRe={date:Tx({formats:lRe,defaultWidth:"full"}),time:Tx({formats:cRe,defaultWidth:"full"}),dateTime:Tx({formats:uRe,defaultWidth:"full"})},hRe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},pRe=(e,t,r,o)=>hRe[e];function Uf(e){return(t,r)=>{const o=r!=null&&r.context?String(r.context):"standalone";let s;if(o==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,m=r!=null&&r.width?String(r.width):d;s=e.formattingValues[m]||e.formattingValues[d]}else{const d=e.defaultWidth,m=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[m]||e.values[d]}const c=e.argumentCallback?e.argumentCallback(t):t;return s[c]}}const fRe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mRe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gRe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bRe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kRe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vRe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wRe=(e,t)=>{const r=Number(e),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},yRe={ordinalNumber:wRe,era:Uf({values:fRe,defaultWidth:"wide"}),quarter:Uf({values:mRe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Uf({values:gRe,defaultWidth:"wide"}),day:Uf({values:bRe,defaultWidth:"wide"}),dayPeriod:Uf({values:kRe,defaultWidth:"wide",formattingValues:vRe,defaultFormattingWidth:"wide"})};function Hf(e){return(t,r={})=>{const o=r.width,s=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],c=t.match(s);if(!c)return null;const d=c[0],m=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(m)?CRe(m,_=>_.test(d)):_Re(m,_=>_.test(d));let k;k=e.valueCallback?e.valueCallback(f):f,k=r.valueCallback?r.valueCallback(k):k;const v=t.slice(d.length);return{value:k,rest:v}}}function _Re(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function CRe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function ARe(e){return(t,r={})=>{const o=t.match(e.matchPattern);if(!o)return null;const s=o[0],c=t.match(e.parsePattern);if(!c)return null;let d=e.valueCallback?e.valueCallback(c[0]):c[0];d=r.valueCallback?r.valueCallback(d):d;const m=t.slice(s.length);return{value:d,rest:m}}}const xRe=/^(\d+)(th|st|nd|rd)?/i,ERe=/\d+/i,SRe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},DRe={any:[/^b/i,/^(a|c)/i]},TRe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},IRe={any:[/1/i,/2/i,/3/i,/4/i]},MRe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},PRe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},NRe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},RRe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ORe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},BRe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},LRe={ordinalNumber:ARe({matchPattern:xRe,parsePattern:ERe,valueCallback:e=>parseInt(e,10)}),era:Hf({matchPatterns:SRe,defaultMatchWidth:"wide",parsePatterns:DRe,defaultParseWidth:"any"}),quarter:Hf({matchPatterns:TRe,defaultMatchWidth:"wide",parsePatterns:IRe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Hf({matchPatterns:MRe,defaultMatchWidth:"wide",parsePatterns:PRe,defaultParseWidth:"any"}),day:Hf({matchPatterns:NRe,defaultMatchWidth:"wide",parsePatterns:RRe,defaultParseWidth:"any"}),dayPeriod:Hf({matchPatterns:ORe,defaultMatchWidth:"any",parsePatterns:BRe,defaultParseWidth:"any"})},VG={code:"en-US",formatDistance:aRe,formatLong:dRe,formatRelative:pRe,localize:yRe,match:LRe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jRe(e){const t=Oe(e);return op(t,Y_(t))+1}function EI(e){const t=Oe(e),r=+rp(t)-+tRe(t);return Math.round(r/BG)+1}function SI(e,t){var v,_,y,A;const r=Oe(e),o=r.getFullYear(),s=Zu(),c=(t==null?void 0:t.firstWeekContainsDate)??((_=(v=t==null?void 0:t.locale)==null?void 0:v.options)==null?void 0:_.firstWeekContainsDate)??s.firstWeekContainsDate??((A=(y=s.locale)==null?void 0:y.options)==null?void 0:A.firstWeekContainsDate)??1,d=tn(e,0);d.setFullYear(o+1,0,c),d.setHours(0,0,0,0);const m=nl(d,t),f=tn(e,0);f.setFullYear(o,0,c),f.setHours(0,0,0,0);const k=nl(f,t);return r.getTime()>=m.getTime()?o+1:r.getTime()>=k.getTime()?o:o-1}function FRe(e,t){var m,f,k,v;const r=Zu(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((v=(k=r.locale)==null?void 0:k.options)==null?void 0:v.firstWeekContainsDate)??1,s=SI(e,t),c=tn(e,0);return c.setFullYear(s,0,o),c.setHours(0,0,0,0),nl(c,t)}function UG(e,t){const r=Oe(e),o=+nl(r,t)-+FRe(r,t);return Math.round(o/BG)+1}function en(e,t){const r=e<0?"-":"",o=Math.abs(e).toString().padStart(t,"0");return r+o}const wl={y(e,t){const r=e.getFullYear(),o=r>0?r:1-r;return en(t==="yy"?o%100:o,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):en(r+1,2)},d(e,t){return en(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return en(e.getHours()%12||12,t.length)},H(e,t){return en(e.getHours(),t.length)},m(e,t){return en(e.getMinutes(),t.length)},s(e,t){return en(e.getSeconds(),t.length)},S(e,t){const r=t.length,o=e.getMilliseconds(),s=Math.trunc(o*Math.pow(10,r-3));return en(s,t.length)}},$d={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},R9={G:function(e,t,r){const o=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const o=e.getFullYear(),s=o>0?o:1-o;return r.ordinalNumber(s,{unit:"year"})}return wl.y(e,t)},Y:function(e,t,r,o){const s=SI(e,o),c=s>0?s:1-s;if(t==="YY"){const d=c%100;return en(d,2)}return t==="Yo"?r.ordinalNumber(c,{unit:"year"}):en(c,t.length)},R:function(e,t){const r=LG(e);return en(r,t.length)},u:function(e,t){const r=e.getFullYear();return en(r,t.length)},Q:function(e,t,r){const o=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(o);case"QQ":return en(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(e,t,r){const o=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(o);case"qq":return en(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(e,t,r){const o=e.getMonth();switch(t){case"M":case"MM":return wl.M(e,t);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(e,t,r){const o=e.getMonth();switch(t){case"L":return String(o+1);case"LL":return en(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(e,t,r,o){const s=UG(e,o);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):en(s,t.length)},I:function(e,t,r){const o=EI(e);return t==="Io"?r.ordinalNumber(o,{unit:"week"}):en(o,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):wl.d(e,t)},D:function(e,t,r){const o=jRe(e);return t==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):en(o,t.length)},E:function(e,t,r){const o=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(e,t,r,o){const s=e.getDay(),c=(s-o.weekStartsOn+8)%7||7;switch(t){case"e":return String(c);case"ee":return en(c,2);case"eo":return r.ordinalNumber(c,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,o){const s=e.getDay(),c=(s-o.weekStartsOn+8)%7||7;switch(t){case"c":return String(c);case"cc":return en(c,t.length);case"co":return r.ordinalNumber(c,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const o=e.getDay(),s=o===0?7:o;switch(t){case"i":return String(s);case"ii":return en(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const o=e.getHours();let s;switch(o===12?s=$d.noon:o===0?s=$d.midnight:s=o/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const o=e.getHours();let s;switch(o>=17?s=$d.evening:o>=12?s=$d.afternoon:o>=4?s=$d.morning:s=$d.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let o=e.getHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return wl.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):wl.H(e,t)},K:function(e,t,r){const o=e.getHours()%12;return t==="Ko"?r.ordinalNumber(o,{unit:"hour"}):en(o,t.length)},k:function(e,t,r){let o=e.getHours();return o===0&&(o=24),t==="ko"?r.ordinalNumber(o,{unit:"hour"}):en(o,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):wl.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):wl.s(e,t)},S:function(e,t){return wl.S(e,t)},X:function(e,t,r){const o=e.getTimezoneOffset();if(o===0)return"Z";switch(t){case"X":return B9(o);case"XXXX":case"XX":return Zc(o);case"XXXXX":case"XXX":default:return Zc(o,":")}},x:function(e,t,r){const o=e.getTimezoneOffset();switch(t){case"x":return B9(o);case"xxxx":case"xx":return Zc(o);case"xxxxx":case"xxx":default:return Zc(o,":")}},O:function(e,t,r){const o=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+O9(o,":");case"OOOO":default:return"GMT"+Zc(o,":")}},z:function(e,t,r){const o=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+O9(o,":");case"zzzz":default:return"GMT"+Zc(o,":")}},t:function(e,t,r){const o=Math.trunc(e.getTime()/1e3);return en(o,t.length)},T:function(e,t,r){const o=e.getTime();return en(o,t.length)}};function O9(e,t=""){const r=e>0?"-":"+",o=Math.abs(e),s=Math.trunc(o/60),c=o%60;return c===0?r+String(s):r+String(s)+t+en(c,2)}function B9(e,t){return e%60===0?(e>0?"-":"+")+en(Math.abs(e)/60,2):Zc(e,t)}function Zc(e,t=""){const r=e>0?"-":"+",o=Math.abs(e),s=en(Math.trunc(o/60),2),c=en(o%60,2);return r+s+t+c}const L9=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},HG=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},zRe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],o=r[1],s=r[2];if(!s)return L9(e,t);let c;switch(o){case"P":c=t.dateTime({width:"short"});break;case"PP":c=t.dateTime({width:"medium"});break;case"PPP":c=t.dateTime({width:"long"});break;case"PPPP":default:c=t.dateTime({width:"full"});break}return c.replace("{{date}}",L9(o,t)).replace("{{time}}",HG(s,t))},Ww={p:HG,P:zRe},$Re=/^D+$/,VRe=/^Y+$/,URe=["D","DD","YY","YYYY"];function WG(e){return $Re.test(e)}function qG(e){return VRe.test(e)}function zS(e,t,r){const o=HRe(e,t,r);if(console.warn(o),URe.includes(e))throw new RangeError(o)}function HRe(e,t,r){const o=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${o} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const WRe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qRe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,GRe=/^'([^]*?)'?$/,KRe=/''/g,YRe=/[a-zA-Z]/;function j9(e,t,r){var v,_,y,A,D,S,I,T;const o=Zu(),s=(r==null?void 0:r.locale)??o.locale??VG,c=(r==null?void 0:r.firstWeekContainsDate)??((_=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:_.firstWeekContainsDate)??o.firstWeekContainsDate??((A=(y=o.locale)==null?void 0:y.options)==null?void 0:A.firstWeekContainsDate)??1,d=(r==null?void 0:r.weekStartsOn)??((S=(D=r==null?void 0:r.locale)==null?void 0:D.options)==null?void 0:S.weekStartsOn)??o.weekStartsOn??((T=(I=o.locale)==null?void 0:I.options)==null?void 0:T.weekStartsOn)??0,m=Oe(e);if(!$w(m))throw new RangeError("Invalid time value");let f=t.match(qRe).map(P=>{const N=P[0];if(N==="p"||N==="P"){const j=Ww[N];return j(P,s.formatLong)}return P}).join("").match(WRe).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const N=P[0];if(N==="'")return{isToken:!1,value:QRe(P)};if(R9[N])return{isToken:!0,value:P};if(N.match(YRe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:P}});s.localize.preprocessor&&(f=s.localize.preprocessor(m,f));const k={firstWeekContainsDate:c,weekStartsOn:d,locale:s};return f.map(P=>{if(!P.isToken)return P.value;const N=P.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&qG(N)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&WG(N))&&zS(N,t,String(e));const j=R9[N[0]];return j(m,N,s.localize,k)}).join("")}function QRe(e){const t=e.match(GRe);return t?t[1].replace(KRe,"'"):e}function F9(e){return Oe(e).getDate()}function ZRe(e){return Oe(e).getDay()}function JRe(e){const t=Oe(e),r=t.getFullYear(),o=t.getMonth(),s=tn(e,0);return s.setFullYear(r,o+1,0),s.setHours(0,0,0,0),s.getDate()}function XRe(){return Object.assign({},Zu())}function Qs(e){return Oe(e).getHours()}function e4e(e){let r=Oe(e).getDay();return r===0&&(r=7),r}function Zs(e){return Oe(e).getMinutes()}function bo(e){return Oe(e).getMonth()}function za(e){return Oe(e).getSeconds()}function $S(e){return Oe(e).getTime()}function Ct(e){return Oe(e).getFullYear()}function oc(e,t){const r=Oe(e),o=Oe(t);return r.getTime()>o.getTime()}function Bu(e,t){const r=Oe(e),o=Oe(t);return+r<+o}function t4e(e,t){const r=Oe(e),o=Oe(t);return+r==+o}function n4e(e,t){const r=t instanceof Date?tn(t,0):new t(0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}const r4e=10;class GG{constructor(){Be(this,"subPriority",0)}validate(t,r){return!0}}class o4e extends GG{constructor(t,r,o,s,c){super(),this.value=t,this.validateValue=r,this.setValue=o,this.priority=s,c&&(this.subPriority=c)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,o){return this.setValue(t,r,this.value,o)}}class i4e extends GG{constructor(){super(...arguments);Be(this,"priority",r4e);Be(this,"subPriority",-1)}set(r,o){return o.timestampIsSet?r:tn(r,n4e(r,Date))}}class Qt{run(t,r,o,s){const c=this.parse(t,r,o,s);return c?{setter:new o4e(c.value,this.validate,this.set,this.priority,this.subPriority),rest:c.rest}:null}validate(t,r,o){return!0}}class s4e extends Qt{constructor(){super(...arguments);Be(this,"priority",140);Be(this,"incompatibleTokens",["R","u","t","T"])}parse(r,o,s){switch(o){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})||s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"})}}set(r,o,s){return o.era=s,r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}const rr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Bs={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function or(e,t){return e&&{value:t(e.value),rest:e.rest}}function On(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Ls(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const o=r[1]==="+"?1:-1,s=r[2]?parseInt(r[2],10):0,c=r[3]?parseInt(r[3],10):0,d=r[5]?parseInt(r[5],10):0;return{value:o*(s*K_+c*G_+d*JNe),rest:t.slice(r[0].length)}}function KG(e){return On(rr.anyDigitsSigned,e)}function Yn(e,t){switch(e){case 1:return On(rr.singleDigit,t);case 2:return On(rr.twoDigits,t);case 3:return On(rr.threeDigits,t);case 4:return On(rr.fourDigits,t);default:return On(new RegExp("^\\d{1,"+e+"}"),t)}}function qw(e,t){switch(e){case 1:return On(rr.singleDigitSigned,t);case 2:return On(rr.twoDigitsSigned,t);case 3:return On(rr.threeDigitsSigned,t);case 4:return On(rr.fourDigitsSigned,t);default:return On(new RegExp("^-?\\d{1,"+e+"}"),t)}}function DI(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function YG(e,t){const r=t>0,o=r?t:1-t;let s;if(o<=50)s=e||100;else{const c=o+50,d=Math.trunc(c/100)*100,m=e>=c%100;s=e+d-(m?100:0)}return r?s:1-s}function QG(e){return e%400===0||e%4===0&&e%100!==0}class a4e extends Qt{constructor(){super(...arguments);Be(this,"priority",130);Be(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,o,s){const c=d=>({year:d,isTwoDigitYear:o==="yy"});switch(o){case"y":return or(Yn(4,r),c);case"yo":return or(s.ordinalNumber(r,{unit:"year"}),c);default:return or(Yn(o.length,r),c)}}validate(r,o){return o.isTwoDigitYear||o.year>0}set(r,o,s){const c=r.getFullYear();if(s.isTwoDigitYear){const m=YG(s.year,c);return r.setFullYear(m,0,1),r.setHours(0,0,0,0),r}const d=!("era"in o)||o.era===1?s.year:1-s.year;return r.setFullYear(d,0,1),r.setHours(0,0,0,0),r}}class l4e extends Qt{constructor(){super(...arguments);Be(this,"priority",130);Be(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,o,s){const c=d=>({year:d,isTwoDigitYear:o==="YY"});switch(o){case"Y":return or(Yn(4,r),c);case"Yo":return or(s.ordinalNumber(r,{unit:"year"}),c);default:return or(Yn(o.length,r),c)}}validate(r,o){return o.isTwoDigitYear||o.year>0}set(r,o,s,c){const d=SI(r,c);if(s.isTwoDigitYear){const f=YG(s.year,d);return r.setFullYear(f,0,c.firstWeekContainsDate),r.setHours(0,0,0,0),nl(r,c)}const m=!("era"in o)||o.era===1?s.year:1-s.year;return r.setFullYear(m,0,c.firstWeekContainsDate),r.setHours(0,0,0,0),nl(r,c)}}class c4e extends Qt{constructor(){super(...arguments);Be(this,"priority",130);Be(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,o){return qw(o==="R"?4:o.length,r)}set(r,o,s){const c=tn(r,0);return c.setFullYear(s,0,4),c.setHours(0,0,0,0),rp(c)}}class u4e extends Qt{constructor(){super(...arguments);Be(this,"priority",130);Be(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,o){return qw(o==="u"?4:o.length,r)}set(r,o,s){return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}class d4e extends Qt{constructor(){super(...arguments);Be(this,"priority",120);Be(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,o,s){switch(o){case"Q":case"QQ":return Yn(o.length,r);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})||s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,o){return o>=1&&o<=4}set(r,o,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}class h4e extends Qt{constructor(){super(...arguments);Be(this,"priority",120);Be(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,o,s){switch(o){case"q":case"qq":return Yn(o.length,r);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})||s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,o){return o>=1&&o<=4}set(r,o,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}class p4e extends Qt{constructor(){super(...arguments);Be(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Be(this,"priority",110)}parse(r,o,s){const c=d=>d-1;switch(o){case"M":return or(On(rr.month,r),c);case"MM":return or(Yn(2,r),c);case"Mo":return or(s.ordinalNumber(r,{unit:"month"}),c);case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})||s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"})}}validate(r,o){return o>=0&&o<=11}set(r,o,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}class f4e extends Qt{constructor(){super(...arguments);Be(this,"priority",110);Be(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,o,s){const c=d=>d-1;switch(o){case"L":return or(On(rr.month,r),c);case"LL":return or(Yn(2,r),c);case"Lo":return or(s.ordinalNumber(r,{unit:"month"}),c);case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})||s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"})}}validate(r,o){return o>=0&&o<=11}set(r,o,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}function m4e(e,t,r){const o=Oe(e),s=UG(o,r)-t;return o.setDate(o.getDate()-s*7),o}class g4e extends Qt{constructor(){super(...arguments);Be(this,"priority",100);Be(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,o,s){switch(o){case"w":return On(rr.week,r);case"wo":return s.ordinalNumber(r,{unit:"week"});default:return Yn(o.length,r)}}validate(r,o){return o>=1&&o<=53}set(r,o,s,c){return nl(m4e(r,s,c),c)}}function b4e(e,t){const r=Oe(e),o=EI(r)-t;return r.setDate(r.getDate()-o*7),r}class k4e extends Qt{constructor(){super(...arguments);Be(this,"priority",100);Be(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,o,s){switch(o){case"I":return On(rr.week,r);case"Io":return s.ordinalNumber(r,{unit:"week"});default:return Yn(o.length,r)}}validate(r,o){return o>=1&&o<=53}set(r,o,s){return rp(b4e(r,s))}}const v4e=[31,28,31,30,31,30,31,31,30,31,30,31],w4e=[31,29,31,30,31,30,31,31,30,31,30,31];class y4e extends Qt{constructor(){super(...arguments);Be(this,"priority",90);Be(this,"subPriority",1);Be(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,o,s){switch(o){case"d":return On(rr.date,r);case"do":return s.ordinalNumber(r,{unit:"date"});default:return Yn(o.length,r)}}validate(r,o){const s=r.getFullYear(),c=QG(s),d=r.getMonth();return c?o>=1&&o<=w4e[d]:o>=1&&o<=v4e[d]}set(r,o,s){return r.setDate(s),r.setHours(0,0,0,0),r}}class _4e extends Qt{constructor(){super(...arguments);Be(this,"priority",90);Be(this,"subpriority",1);Be(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,o,s){switch(o){case"D":case"DD":return On(rr.dayOfYear,r);case"Do":return s.ordinalNumber(r,{unit:"date"});default:return Yn(o.length,r)}}validate(r,o){const s=r.getFullYear();return QG(s)?o>=1&&o<=366:o>=1&&o<=365}set(r,o,s){return r.setMonth(0,s),r.setHours(0,0,0,0),r}}function TI(e,t,r){var _,y,A,D;const o=Zu(),s=(r==null?void 0:r.weekStartsOn)??((y=(_=r==null?void 0:r.locale)==null?void 0:_.options)==null?void 0:y.weekStartsOn)??o.weekStartsOn??((D=(A=o.locale)==null?void 0:A.options)==null?void 0:D.weekStartsOn)??0,c=Oe(e),d=c.getDay(),f=(t%7+7)%7,k=7-s,v=t<0||t>6?t-(d+k)%7:(f+k)%7-(d+k)%7;return tl(c,v)}class C4e extends Qt{constructor(){super(...arguments);Be(this,"priority",90);Be(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,o,s){switch(o){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,o){return o>=0&&o<=6}set(r,o,s,c){return r=TI(r,s,c),r.setHours(0,0,0,0),r}}class A4e extends Qt{constructor(){super(...arguments);Be(this,"priority",90);Be(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,o,s,c){const d=m=>{const f=Math.floor((m-1)/7)*7;return(m+c.weekStartsOn+6)%7+f};switch(o){case"e":case"ee":return or(Yn(o.length,r),d);case"eo":return or(s.ordinalNumber(r,{unit:"day"}),d);case"eee":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,o){return o>=0&&o<=6}set(r,o,s,c){return r=TI(r,s,c),r.setHours(0,0,0,0),r}}class x4e extends Qt{constructor(){super(...arguments);Be(this,"priority",90);Be(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,o,s,c){const d=m=>{const f=Math.floor((m-1)/7)*7;return(m+c.weekStartsOn+6)%7+f};switch(o){case"c":case"cc":return or(Yn(o.length,r),d);case"co":return or(s.ordinalNumber(r,{unit:"day"}),d);case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(r,{width:"wide",context:"standalone"})||s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"})}}validate(r,o){return o>=0&&o<=6}set(r,o,s,c){return r=TI(r,s,c),r.setHours(0,0,0,0),r}}function E4e(e,t){const r=Oe(e),o=e4e(r),s=t-o;return tl(r,s)}class S4e extends Qt{constructor(){super(...arguments);Be(this,"priority",90);Be(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,o,s){const c=d=>d===0?7:d;switch(o){case"i":case"ii":return Yn(o.length,r);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return or(s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),c);case"iiiii":return or(s.day(r,{width:"narrow",context:"formatting"}),c);case"iiiiii":return or(s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),c);case"iiii":default:return or(s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),c)}}validate(r,o){return o>=1&&o<=7}set(r,o,s){return r=E4e(r,s),r.setHours(0,0,0,0),r}}class D4e extends Qt{constructor(){super(...arguments);Be(this,"priority",80);Be(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,o,s){switch(o){case"a":case"aa":case"aaa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,o,s){return r.setHours(DI(s),0,0,0),r}}class T4e extends Qt{constructor(){super(...arguments);Be(this,"priority",80);Be(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,o,s){switch(o){case"b":case"bb":case"bbb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,o,s){return r.setHours(DI(s),0,0,0),r}}class I4e extends Qt{constructor(){super(...arguments);Be(this,"priority",80);Be(this,"incompatibleTokens",["a","b","t","T"])}parse(r,o,s){switch(o){case"B":case"BB":case"BBB":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,o,s){return r.setHours(DI(s),0,0,0),r}}class M4e extends Qt{constructor(){super(...arguments);Be(this,"priority",70);Be(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,o,s){switch(o){case"h":return On(rr.hour12h,r);case"ho":return s.ordinalNumber(r,{unit:"hour"});default:return Yn(o.length,r)}}validate(r,o){return o>=1&&o<=12}set(r,o,s){const c=r.getHours()>=12;return c&&s<12?r.setHours(s+12,0,0,0):!c&&s===12?r.setHours(0,0,0,0):r.setHours(s,0,0,0),r}}class P4e extends Qt{constructor(){super(...arguments);Be(this,"priority",70);Be(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,o,s){switch(o){case"H":return On(rr.hour23h,r);case"Ho":return s.ordinalNumber(r,{unit:"hour"});default:return Yn(o.length,r)}}validate(r,o){return o>=0&&o<=23}set(r,o,s){return r.setHours(s,0,0,0),r}}class N4e extends Qt{constructor(){super(...arguments);Be(this,"priority",70);Be(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,o,s){switch(o){case"K":return On(rr.hour11h,r);case"Ko":return s.ordinalNumber(r,{unit:"hour"});default:return Yn(o.length,r)}}validate(r,o){return o>=0&&o<=11}set(r,o,s){return r.getHours()>=12&&s<12?r.setHours(s+12,0,0,0):r.setHours(s,0,0,0),r}}class R4e extends Qt{constructor(){super(...arguments);Be(this,"priority",70);Be(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,o,s){switch(o){case"k":return On(rr.hour24h,r);case"ko":return s.ordinalNumber(r,{unit:"hour"});default:return Yn(o.length,r)}}validate(r,o){return o>=1&&o<=24}set(r,o,s){const c=s<=24?s%24:s;return r.setHours(c,0,0,0),r}}class O4e extends Qt{constructor(){super(...arguments);Be(this,"priority",60);Be(this,"incompatibleTokens",["t","T"])}parse(r,o,s){switch(o){case"m":return On(rr.minute,r);case"mo":return s.ordinalNumber(r,{unit:"minute"});default:return Yn(o.length,r)}}validate(r,o){return o>=0&&o<=59}set(r,o,s){return r.setMinutes(s,0,0),r}}class B4e extends Qt{constructor(){super(...arguments);Be(this,"priority",50);Be(this,"incompatibleTokens",["t","T"])}parse(r,o,s){switch(o){case"s":return On(rr.second,r);case"so":return s.ordinalNumber(r,{unit:"second"});default:return Yn(o.length,r)}}validate(r,o){return o>=0&&o<=59}set(r,o,s){return r.setSeconds(s,0),r}}class L4e extends Qt{constructor(){super(...arguments);Be(this,"priority",30);Be(this,"incompatibleTokens",["t","T"])}parse(r,o){const s=c=>Math.trunc(c*Math.pow(10,-o.length+3));return or(Yn(o.length,r),s)}set(r,o,s){return r.setMilliseconds(s),r}}class j4e extends Qt{constructor(){super(...arguments);Be(this,"priority",10);Be(this,"incompatibleTokens",["t","T","x"])}parse(r,o){switch(o){case"X":return Ls(Bs.basicOptionalMinutes,r);case"XX":return Ls(Bs.basic,r);case"XXXX":return Ls(Bs.basicOptionalSeconds,r);case"XXXXX":return Ls(Bs.extendedOptionalSeconds,r);case"XXX":default:return Ls(Bs.extended,r)}}set(r,o,s){return o.timestampIsSet?r:tn(r,r.getTime()-Fw(r)-s)}}class F4e extends Qt{constructor(){super(...arguments);Be(this,"priority",10);Be(this,"incompatibleTokens",["t","T","X"])}parse(r,o){switch(o){case"x":return Ls(Bs.basicOptionalMinutes,r);case"xx":return Ls(Bs.basic,r);case"xxxx":return Ls(Bs.basicOptionalSeconds,r);case"xxxxx":return Ls(Bs.extendedOptionalSeconds,r);case"xxx":default:return Ls(Bs.extended,r)}}set(r,o,s){return o.timestampIsSet?r:tn(r,r.getTime()-Fw(r)-s)}}class z4e extends Qt{constructor(){super(...arguments);Be(this,"priority",40);Be(this,"incompatibleTokens","*")}parse(r){return KG(r)}set(r,o,s){return[tn(r,s*1e3),{timestampIsSet:!0}]}}class $4e extends Qt{constructor(){super(...arguments);Be(this,"priority",20);Be(this,"incompatibleTokens","*")}parse(r){return KG(r)}set(r,o,s){return[tn(r,s),{timestampIsSet:!0}]}}const V4e={G:new s4e,y:new a4e,Y:new l4e,R:new c4e,u:new u4e,Q:new d4e,q:new h4e,M:new p4e,L:new f4e,w:new g4e,I:new k4e,d:new y4e,D:new _4e,E:new C4e,e:new A4e,c:new x4e,i:new S4e,a:new D4e,b:new T4e,B:new I4e,h:new M4e,H:new P4e,K:new N4e,k:new R4e,m:new O4e,s:new B4e,S:new L4e,X:new j4e,x:new F4e,t:new z4e,T:new $4e},U4e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,H4e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,W4e=/^'([^]*?)'?$/,q4e=/''/g,G4e=/\S/,K4e=/[a-zA-Z]/;function Ix(e,t,r,o){var S,I,T,P,N,j,$,U;const s=XRe(),c=(o==null?void 0:o.locale)??s.locale??VG,d=(o==null?void 0:o.firstWeekContainsDate)??((I=(S=o==null?void 0:o.locale)==null?void 0:S.options)==null?void 0:I.firstWeekContainsDate)??s.firstWeekContainsDate??((P=(T=s.locale)==null?void 0:T.options)==null?void 0:P.firstWeekContainsDate)??1,m=(o==null?void 0:o.weekStartsOn)??((j=(N=o==null?void 0:o.locale)==null?void 0:N.options)==null?void 0:j.weekStartsOn)??s.weekStartsOn??((U=($=s.locale)==null?void 0:$.options)==null?void 0:U.weekStartsOn)??0;if(t==="")return e===""?Oe(r):tn(r,NaN);const f={firstWeekContainsDate:d,weekStartsOn:m,locale:c},k=[new i4e],v=t.match(H4e).map(R=>{const z=R[0];if(z in Ww){const W=Ww[z];return W(R,c.formatLong)}return R}).join("").match(U4e),_=[];for(let R of v){!(o!=null&&o.useAdditionalWeekYearTokens)&&qG(R)&&zS(R,t,e),!(o!=null&&o.useAdditionalDayOfYearTokens)&&WG(R)&&zS(R,t,e);const z=R[0],W=V4e[z];if(W){const{incompatibleTokens:q}=W;if(Array.isArray(q)){const Z=_.find(Q=>q.includes(Q.token)||Q.token===z);if(Z)throw new RangeError(`The format string mustn't contain \`${Z.fullToken}\` and \`${R}\` at the same time`)}else if(W.incompatibleTokens==="*"&&_.length>0)throw new RangeError(`The format string mustn't contain \`${R}\` and any other token at the same time`);_.push({token:z,fullToken:R});const Y=W.run(e,R,c.match,f);if(!Y)return tn(r,NaN);k.push(Y.setter),e=Y.rest}else{if(z.match(K4e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+z+"`");if(R==="''"?R="'":z==="'"&&(R=Y4e(R)),e.indexOf(R)===0)e=e.slice(R.length);else return tn(r,NaN)}}if(e.length>0&&G4e.test(e))return tn(r,NaN);const y=k.map(R=>R.priority).sort((R,z)=>z-R).filter((R,z,W)=>W.indexOf(R)===z).map(R=>k.filter(z=>z.priority===R).sort((z,W)=>W.subPriority-z.subPriority)).map(R=>R[0]);let A=Oe(r);if(isNaN(A.getTime()))return tn(r,NaN);const D={};for(const R of y){if(!R.validate(A,f))return tn(r,NaN);const z=R.set(A,D,f);Array.isArray(z)?(A=z[0],Object.assign(D,z[1])):A=z}return tn(r,A)}function Y4e(e){return e.match(W4e)[1].replace(q4e,"'")}function Q4e(e,t){const r=Oe(e),o=Oe(t);return r.getFullYear()===o.getFullYear()&&r.getMonth()===o.getMonth()}function Z4e(e,t){const r=FS(e),o=FS(t);return+r==+o}function J4e(e,t){const r=Oe(e),o=Oe(t);return r.getFullYear()===o.getFullYear()}function Mg(e,t){const r=+Oe(e),[o,s]=[+Oe(t.start),+Oe(t.end)].sort((c,d)=>c-d);return r>=o&&r<=s}function X4e(e,t){return tl(e,-t)}function eOe(e,t){const o=oOe(e);let s;if(o.date){const f=iOe(o.date,2);s=sOe(f.restDateString,f.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const c=s.getTime();let d=0,m;if(o.time&&(d=aOe(o.time),isNaN(d)))return new Date(NaN);if(o.timezone){if(m=lOe(o.timezone),isNaN(m))return new Date(NaN)}else{const f=new Date(c+d),k=new Date(0);return k.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),k.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),k}return new Date(c+d+m)}const Hv={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},tOe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,nOe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,rOe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function oOe(e){const t={},r=e.split(Hv.dateTimeDelimiter);let o;if(r.length>2)return t;if(/:/.test(r[0])?o=r[0]:(t.date=r[0],o=r[1],Hv.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Hv.timeZoneDelimiter)[0],o=e.substr(t.date.length,e.length))),o){const s=Hv.timezone.exec(o);s?(t.time=o.replace(s[1],""),t.timezone=s[1]):t.time=o}return t}function iOe(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),o=e.match(r);if(!o)return{year:NaN,restDateString:""};const s=o[1]?parseInt(o[1]):null,c=o[2]?parseInt(o[2]):null;return{year:c===null?s:c*100,restDateString:e.slice((o[1]||o[2]).length)}}function sOe(e,t){if(t===null)return new Date(NaN);const r=e.match(tOe);if(!r)return new Date(NaN);const o=!!r[4],s=Wf(r[1]),c=Wf(r[2])-1,d=Wf(r[3]),m=Wf(r[4]),f=Wf(r[5])-1;if(o)return pOe(t,m,f)?cOe(t,m,f):new Date(NaN);{const k=new Date(0);return!dOe(t,c,d)||!hOe(t,s)?new Date(NaN):(k.setUTCFullYear(t,c,Math.max(s,d)),k)}}function Wf(e){return e?parseInt(e):1}function aOe(e){const t=e.match(nOe);if(!t)return NaN;const r=Mx(t[1]),o=Mx(t[2]),s=Mx(t[3]);return fOe(r,o,s)?r*K_+o*G_+s*1e3:NaN}function Mx(e){return e&&parseFloat(e.replace(",","."))||0}function lOe(e){if(e==="Z")return 0;const t=e.match(rOe);if(!t)return 0;const r=t[1]==="+"?-1:1,o=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return mOe(o,s)?r*(o*K_+s*G_):NaN}function cOe(e,t,r){const o=new Date(0);o.setUTCFullYear(e,0,4);const s=o.getUTCDay()||7,c=(t-1)*7+r+1-s;return o.setUTCDate(o.getUTCDate()+c),o}const uOe=[31,null,31,30,31,30,31,31,30,31,30,31];function ZG(e){return e%400===0||e%4===0&&e%100!==0}function dOe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(uOe[t]||(ZG(e)?29:28))}function hOe(e,t){return t>=1&&t<=(ZG(e)?366:365)}function pOe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function fOe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function mOe(e,t){return t>=0&&t<=59}function ei(e,t){const r=Oe(e),o=r.getFullYear(),s=r.getDate(),c=tn(e,0);c.setFullYear(o,t,15),c.setHours(0,0,0,0);const d=JRe(c);return r.setMonth(t,Math.min(s,d)),r}function gOe(e,t){let r=Oe(e);return isNaN(+r)?tn(e,NaN):(t.year!=null&&r.setFullYear(t.year),t.month!=null&&(r=ei(r,t.month)),t.date!=null&&r.setDate(t.date),t.hours!=null&&r.setHours(t.hours),t.minutes!=null&&r.setMinutes(t.minutes),t.seconds!=null&&r.setSeconds(t.seconds),t.milliseconds!=null&&r.setMilliseconds(t.milliseconds),r)}function D0(e,t){const r=Oe(e);return r.setHours(t),r}function T0(e,t){const r=Oe(e);return r.setMinutes(t),r}function qd(e,t){const r=Oe(e),o=Math.trunc(r.getMonth()/3)+1,s=t-o;return ei(r,r.getMonth()+s*3)}function I0(e,t){const r=Oe(e);return r.setSeconds(t),r}function Is(e,t){const r=Oe(e);return isNaN(+r)?tn(e,NaN):(r.setFullYear(t),r)}function ip(e,t){return ps(e,-t)}function JG(e,t){return xI(e,-t)}function z9(e,t){return zw(e,-t)}function sp(e,t){return ja(e,-t)}function Q_(){return typeof window<"u"}function Ip(e){return XG(e)?(e.nodeName||"").toLowerCase():"#document"}function ai(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ca(e){var t;return(t=(XG(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function XG(e){return Q_()?e instanceof Node||e instanceof ai(e).Node:!1}function ko(e){return Q_()?e instanceof Element||e instanceof ai(e).Element:!1}function sa(e){return Q_()?e instanceof HTMLElement||e instanceof ai(e).HTMLElement:!1}function $9(e){return!Q_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ai(e).ShadowRoot}function Ib(e){const{overflow:t,overflowX:r,overflowY:o,display:s}=Ui(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+r)&&!["inline","contents"].includes(s)}function bOe(e){return["table","td","th"].includes(Ip(e))}function Z_(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function II(e){const t=MI(),r=ko(e)?Ui(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(r.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(r.contain||"").includes(o))}function kOe(e){let t=ic(e);for(;sa(t)&&!ap(t);){if(II(t))return t;if(Z_(t))return null;t=ic(t)}return null}function MI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ap(e){return["html","body","#document"].includes(Ip(e))}function Ui(e){return ai(e).getComputedStyle(e)}function J_(e){return ko(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ic(e){if(Ip(e)==="html")return e;const t=e.assignedSlot||e.parentNode||$9(e)&&e.host||ca(e);return $9(t)?t.host:t}function eK(e){const t=ic(e);return ap(t)?e.ownerDocument?e.ownerDocument.body:e.body:sa(t)&&Ib(t)?t:eK(t)}function Pg(e,t,r){var o;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=eK(e),c=s===((o=e.ownerDocument)==null?void 0:o.body),d=ai(s);if(c){const m=VS(d);return t.concat(d,d.visualViewport||[],Ib(s)?s:[],m&&r?Pg(m):[])}return t.concat(s,Pg(s,[],r))}function VS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const lp=Math.min,gu=Math.max,Gw=Math.round,Wv=Math.floor,Js=e=>({x:e,y:e}),vOe={left:"right",right:"left",bottom:"top",top:"bottom"},wOe={start:"end",end:"start"};function yOe(e,t,r){return gu(e,lp(t,r))}function X_(e,t){return typeof e=="function"?e(t):e}function cp(e){return e.split("-")[0]}function Mb(e){return e.split("-")[1]}function _Oe(e){return e==="x"?"y":"x"}function PI(e){return e==="y"?"height":"width"}function Ng(e){return["top","bottom"].includes(cp(e))?"y":"x"}function NI(e){return _Oe(Ng(e))}function COe(e,t,r){r===void 0&&(r=!1);const o=Mb(e),s=NI(e),c=PI(s);let d=s==="x"?o===(r?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[c]>t.floating[c]&&(d=Kw(d)),[d,Kw(d)]}function AOe(e){const t=Kw(e);return[US(e),t,US(t)]}function US(e){return e.replace(/start|end/g,t=>wOe[t])}function xOe(e,t,r){const o=["left","right"],s=["right","left"],c=["top","bottom"],d=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:o:t?o:s;case"left":case"right":return t?c:d;default:return[]}}function EOe(e,t,r,o){const s=Mb(e);let c=xOe(cp(e),r==="start",o);return s&&(c=c.map(d=>d+"-"+s),t&&(c=c.concat(c.map(US)))),c}function Kw(e){return e.replace(/left|right|bottom|top/g,t=>vOe[t])}function SOe(e){return{top:0,right:0,bottom:0,left:0,...e}}function tK(e){return typeof e!="number"?SOe(e):{top:e,right:e,bottom:e,left:e}}function Yw(e){const{x:t,y:r,width:o,height:s}=e;return{width:o,height:s,top:r,left:t,right:t+o,bottom:r+s,x:t,y:r}}function V9(e,t,r){let{reference:o,floating:s}=e;const c=Ng(t),d=NI(t),m=PI(d),f=cp(t),k=c==="y",v=o.x+o.width/2-s.width/2,_=o.y+o.height/2-s.height/2,y=o[m]/2-s[m]/2;let A;switch(f){case"top":A={x:v,y:o.y-s.height};break;case"bottom":A={x:v,y:o.y+o.height};break;case"right":A={x:o.x+o.width,y:_};break;case"left":A={x:o.x-s.width,y:_};break;default:A={x:o.x,y:o.y}}switch(Mb(t)){case"start":A[d]-=y*(r&&k?-1:1);break;case"end":A[d]+=y*(r&&k?-1:1);break}return A}const DOe=async(e,t,r)=>{const{placement:o="bottom",strategy:s="absolute",middleware:c=[],platform:d}=r,m=c.filter(Boolean),f=await(d.isRTL==null?void 0:d.isRTL(t));let k=await d.getElementRects({reference:e,floating:t,strategy:s}),{x:v,y:_}=V9(k,o,f),y=o,A={},D=0;for(let S=0;S<m.length;S++){const{name:I,fn:T}=m[S],{x:P,y:N,data:j,reset:$}=await T({x:v,y:_,initialPlacement:o,placement:y,strategy:s,middlewareData:A,rects:k,platform:d,elements:{reference:e,floating:t}});v=P??v,_=N??_,A={...A,[I]:{...A[I],...j}},$&&D<=50&&(D++,typeof $=="object"&&($.placement&&(y=$.placement),$.rects&&(k=$.rects===!0?await d.getElementRects({reference:e,floating:t,strategy:s}):$.rects),{x:v,y:_}=V9(k,y,f)),S=-1)}return{x:v,y:_,placement:y,strategy:s,middlewareData:A}};async function TOe(e,t){var r;t===void 0&&(t={});const{x:o,y:s,platform:c,rects:d,elements:m,strategy:f}=e,{boundary:k="clippingAncestors",rootBoundary:v="viewport",elementContext:_="floating",altBoundary:y=!1,padding:A=0}=X_(t,e),D=tK(A),I=m[y?_==="floating"?"reference":"floating":_],T=Yw(await c.getClippingRect({element:(r=await(c.isElement==null?void 0:c.isElement(I)))==null||r?I:I.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(m.floating)),boundary:k,rootBoundary:v,strategy:f})),P=_==="floating"?{x:o,y:s,width:d.floating.width,height:d.floating.height}:d.reference,N=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m.floating)),j=await(c.isElement==null?void 0:c.isElement(N))?await(c.getScale==null?void 0:c.getScale(N))||{x:1,y:1}:{x:1,y:1},$=Yw(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:P,offsetParent:N,strategy:f}):P);return{top:(T.top-$.top+D.top)/j.y,bottom:($.bottom-T.bottom+D.bottom)/j.y,left:(T.left-$.left+D.left)/j.x,right:($.right-T.right+D.right)/j.x}}const IOe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:o,placement:s,rects:c,platform:d,elements:m,middlewareData:f}=t,{element:k,padding:v=0}=X_(e,t)||{};if(k==null)return{};const _=tK(v),y={x:r,y:o},A=NI(s),D=PI(A),S=await d.getDimensions(k),I=A==="y",T=I?"top":"left",P=I?"bottom":"right",N=I?"clientHeight":"clientWidth",j=c.reference[D]+c.reference[A]-y[A]-c.floating[D],$=y[A]-c.reference[A],U=await(d.getOffsetParent==null?void 0:d.getOffsetParent(k));let R=U?U[N]:0;(!R||!await(d.isElement==null?void 0:d.isElement(U)))&&(R=m.floating[N]||c.floating[D]);const z=j/2-$/2,W=R/2-S[D]/2-1,q=lp(_[T],W),Y=lp(_[P],W),Z=q,Q=R-S[D]-Y,J=R/2-S[D]/2+z,te=yOe(Z,J,Q),ee=!f.arrow&&Mb(s)!=null&&J!==te&&c.reference[D]/2-(J<Z?q:Y)-S[D]/2<0,ne=ee?J<Z?J-Z:J-Q:0;return{[A]:y[A]+ne,data:{[A]:te,centerOffset:J-te-ne,...ee&&{alignmentOffset:ne}},reset:ee}}}),MOe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,o;const{placement:s,middlewareData:c,rects:d,initialPlacement:m,platform:f,elements:k}=t,{mainAxis:v=!0,crossAxis:_=!0,fallbackPlacements:y,fallbackStrategy:A="bestFit",fallbackAxisSideDirection:D="none",flipAlignment:S=!0,...I}=X_(e,t);if((r=c.arrow)!=null&&r.alignmentOffset)return{};const T=cp(s),P=Ng(m),N=cp(m)===m,j=await(f.isRTL==null?void 0:f.isRTL(k.floating)),$=y||(N||!S?[Kw(m)]:AOe(m)),U=D!=="none";!y&&U&&$.push(...EOe(m,S,D,j));const R=[m,...$],z=await TOe(t,I),W=[];let q=((o=c.flip)==null?void 0:o.overflows)||[];if(v&&W.push(z[T]),_){const J=COe(s,d,j);W.push(z[J[0]],z[J[1]])}if(q=[...q,{placement:s,overflows:W}],!W.every(J=>J<=0)){var Y,Z;const J=(((Y=c.flip)==null?void 0:Y.index)||0)+1,te=R[J];if(te)return{data:{index:J,overflows:q},reset:{placement:te}};let ee=(Z=q.filter(ne=>ne.overflows[0]<=0).sort((ne,G)=>ne.overflows[1]-G.overflows[1])[0])==null?void 0:Z.placement;if(!ee)switch(A){case"bestFit":{var Q;const ne=(Q=q.filter(G=>{if(U){const re=Ng(G.placement);return re===P||re==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(re=>re>0).reduce((re,ie)=>re+ie,0)]).sort((G,re)=>G[1]-re[1])[0])==null?void 0:Q[0];ne&&(ee=ne);break}case"initialPlacement":ee=m;break}if(s!==ee)return{reset:{placement:ee}}}return{}}}};async function POe(e,t){const{placement:r,platform:o,elements:s}=e,c=await(o.isRTL==null?void 0:o.isRTL(s.floating)),d=cp(r),m=Mb(r),f=Ng(r)==="y",k=["left","top"].includes(d)?-1:1,v=c&&f?-1:1,_=X_(t,e);let{mainAxis:y,crossAxis:A,alignmentAxis:D}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return m&&typeof D=="number"&&(A=m==="end"?D*-1:D),f?{x:A*v,y:y*k}:{x:y*k,y:A*v}}const NOe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,o;const{x:s,y:c,placement:d,middlewareData:m}=t,f=await POe(t,e);return d===((r=m.offset)==null?void 0:r.placement)&&(o=m.arrow)!=null&&o.alignmentOffset?{}:{x:s+f.x,y:c+f.y,data:{...f,placement:d}}}}};function nK(e){const t=Ui(e);let r=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const s=sa(e),c=s?e.offsetWidth:r,d=s?e.offsetHeight:o,m=Gw(r)!==c||Gw(o)!==d;return m&&(r=c,o=d),{width:r,height:o,$:m}}function RI(e){return ko(e)?e:e.contextElement}function xh(e){const t=RI(e);if(!sa(t))return Js(1);const r=t.getBoundingClientRect(),{width:o,height:s,$:c}=nK(t);let d=(c?Gw(r.width):r.width)/o,m=(c?Gw(r.height):r.height)/s;return(!d||!Number.isFinite(d))&&(d=1),(!m||!Number.isFinite(m))&&(m=1),{x:d,y:m}}const ROe=Js(0);function rK(e){const t=ai(e);return!MI()||!t.visualViewport?ROe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function OOe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ai(e)?!1:t}function Lu(e,t,r,o){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),c=RI(e);let d=Js(1);t&&(o?ko(o)&&(d=xh(o)):d=xh(e));const m=OOe(c,r,o)?rK(c):Js(0);let f=(s.left+m.x)/d.x,k=(s.top+m.y)/d.y,v=s.width/d.x,_=s.height/d.y;if(c){const y=ai(c),A=o&&ko(o)?ai(o):o;let D=y,S=VS(D);for(;S&&o&&A!==D;){const I=xh(S),T=S.getBoundingClientRect(),P=Ui(S),N=T.left+(S.clientLeft+parseFloat(P.paddingLeft))*I.x,j=T.top+(S.clientTop+parseFloat(P.paddingTop))*I.y;f*=I.x,k*=I.y,v*=I.x,_*=I.y,f+=N,k+=j,D=ai(S),S=VS(D)}}return Yw({width:v,height:_,x:f,y:k})}function OI(e,t){const r=J_(e).scrollLeft;return t?t.left+r:Lu(ca(e)).left+r}function oK(e,t,r){r===void 0&&(r=!1);const o=e.getBoundingClientRect(),s=o.left+t.scrollLeft-(r?0:OI(e,o)),c=o.top+t.scrollTop;return{x:s,y:c}}function BOe(e){let{elements:t,rect:r,offsetParent:o,strategy:s}=e;const c=s==="fixed",d=ca(o),m=t?Z_(t.floating):!1;if(o===d||m&&c)return r;let f={scrollLeft:0,scrollTop:0},k=Js(1);const v=Js(0),_=sa(o);if((_||!_&&!c)&&((Ip(o)!=="body"||Ib(d))&&(f=J_(o)),sa(o))){const A=Lu(o);k=xh(o),v.x=A.x+o.clientLeft,v.y=A.y+o.clientTop}const y=d&&!_&&!c?oK(d,f,!0):Js(0);return{width:r.width*k.x,height:r.height*k.y,x:r.x*k.x-f.scrollLeft*k.x+v.x+y.x,y:r.y*k.y-f.scrollTop*k.y+v.y+y.y}}function LOe(e){return Array.from(e.getClientRects())}function jOe(e){const t=ca(e),r=J_(e),o=e.ownerDocument.body,s=gu(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),c=gu(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let d=-r.scrollLeft+OI(e);const m=-r.scrollTop;return Ui(o).direction==="rtl"&&(d+=gu(t.clientWidth,o.clientWidth)-s),{width:s,height:c,x:d,y:m}}function FOe(e,t){const r=ai(e),o=ca(e),s=r.visualViewport;let c=o.clientWidth,d=o.clientHeight,m=0,f=0;if(s){c=s.width,d=s.height;const k=MI();(!k||k&&t==="fixed")&&(m=s.offsetLeft,f=s.offsetTop)}return{width:c,height:d,x:m,y:f}}function zOe(e,t){const r=Lu(e,!0,t==="fixed"),o=r.top+e.clientTop,s=r.left+e.clientLeft,c=sa(e)?xh(e):Js(1),d=e.clientWidth*c.x,m=e.clientHeight*c.y,f=s*c.x,k=o*c.y;return{width:d,height:m,x:f,y:k}}function U9(e,t,r){let o;if(t==="viewport")o=FOe(e,r);else if(t==="document")o=jOe(ca(e));else if(ko(t))o=zOe(t,r);else{const s=rK(e);o={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Yw(o)}function iK(e,t){const r=ic(e);return r===t||!ko(r)||ap(r)?!1:Ui(r).position==="fixed"||iK(r,t)}function $Oe(e,t){const r=t.get(e);if(r)return r;let o=Pg(e,[],!1).filter(m=>ko(m)&&Ip(m)!=="body"),s=null;const c=Ui(e).position==="fixed";let d=c?ic(e):e;for(;ko(d)&&!ap(d);){const m=Ui(d),f=II(d);!f&&m.position==="fixed"&&(s=null),(c?!f&&!s:!f&&m.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Ib(d)&&!f&&iK(e,d))?o=o.filter(v=>v!==d):s=m,d=ic(d)}return t.set(e,o),o}function VOe(e){let{element:t,boundary:r,rootBoundary:o,strategy:s}=e;const d=[...r==="clippingAncestors"?Z_(t)?[]:$Oe(t,this._c):[].concat(r),o],m=d[0],f=d.reduce((k,v)=>{const _=U9(t,v,s);return k.top=gu(_.top,k.top),k.right=lp(_.right,k.right),k.bottom=lp(_.bottom,k.bottom),k.left=gu(_.left,k.left),k},U9(t,m,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function UOe(e){const{width:t,height:r}=nK(e);return{width:t,height:r}}function HOe(e,t,r){const o=sa(t),s=ca(t),c=r==="fixed",d=Lu(e,!0,c,t);let m={scrollLeft:0,scrollTop:0};const f=Js(0);if(o||!o&&!c)if((Ip(t)!=="body"||Ib(s))&&(m=J_(t)),o){const y=Lu(t,!0,c,t);f.x=y.x+t.clientLeft,f.y=y.y+t.clientTop}else s&&(f.x=OI(s));const k=s&&!o&&!c?oK(s,m):Js(0),v=d.left+m.scrollLeft-f.x-k.x,_=d.top+m.scrollTop-f.y-k.y;return{x:v,y:_,width:d.width,height:d.height}}function Px(e){return Ui(e).position==="static"}function H9(e,t){if(!sa(e)||Ui(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ca(e)===r&&(r=r.ownerDocument.body),r}function sK(e,t){const r=ai(e);if(Z_(e))return r;if(!sa(e)){let s=ic(e);for(;s&&!ap(s);){if(ko(s)&&!Px(s))return s;s=ic(s)}return r}let o=H9(e,t);for(;o&&bOe(o)&&Px(o);)o=H9(o,t);return o&&ap(o)&&Px(o)&&!II(o)?r:o||kOe(e)||r}const WOe=async function(e){const t=this.getOffsetParent||sK,r=this.getDimensions,o=await r(e.floating);return{reference:HOe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function qOe(e){return Ui(e).direction==="rtl"}const GOe={convertOffsetParentRelativeRectToViewportRelativeRect:BOe,getDocumentElement:ca,getClippingRect:VOe,getOffsetParent:sK,getElementRects:WOe,getClientRects:LOe,getDimensions:UOe,getScale:xh,isElement:ko,isRTL:qOe};function KOe(e,t){let r=null,o;const s=ca(e);function c(){var m;clearTimeout(o),(m=r)==null||m.disconnect(),r=null}function d(m,f){m===void 0&&(m=!1),f===void 0&&(f=1),c();const{left:k,top:v,width:_,height:y}=e.getBoundingClientRect();if(m||t(),!_||!y)return;const A=Wv(v),D=Wv(s.clientWidth-(k+_)),S=Wv(s.clientHeight-(v+y)),I=Wv(k),P={rootMargin:-A+"px "+-D+"px "+-S+"px "+-I+"px",threshold:gu(0,lp(1,f))||1};let N=!0;function j($){const U=$[0].intersectionRatio;if(U!==f){if(!N)return d();U?d(!1,U):o=setTimeout(()=>{d(!1,1e-7)},1e3)}N=!1}try{r=new IntersectionObserver(j,{...P,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,P)}r.observe(e)}return d(!0),c}function YOe(e,t,r,o){o===void 0&&(o={});const{ancestorScroll:s=!0,ancestorResize:c=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:f=!1}=o,k=RI(e),v=s||c?[...k?Pg(k):[],...Pg(t)]:[];v.forEach(T=>{s&&T.addEventListener("scroll",r,{passive:!0}),c&&T.addEventListener("resize",r)});const _=k&&m?KOe(k,r):null;let y=-1,A=null;d&&(A=new ResizeObserver(T=>{let[P]=T;P&&P.target===k&&A&&(A.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var N;(N=A)==null||N.observe(t)})),r()}),k&&!f&&A.observe(k),A.observe(t));let D,S=f?Lu(e):null;f&&I();function I(){const T=Lu(e);S&&(T.x!==S.x||T.y!==S.y||T.width!==S.width||T.height!==S.height)&&r(),S=T,D=requestAnimationFrame(I)}return r(),()=>{var T;v.forEach(P=>{s&&P.removeEventListener("scroll",r),c&&P.removeEventListener("resize",r)}),_==null||_(),(T=A)==null||T.disconnect(),A=null,f&&cancelAnimationFrame(D)}}const QOe=NOe,ZOe=MOe,W9=IOe,JOe=(e,t,r)=>{const o=new Map,s={platform:GOe,...r},c={...s.platform,_c:o};return DOe(e,t,{...s,platform:c})};var M0=typeof document<"u"?B.useLayoutEffect:B.useEffect;function Qw(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,o,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(o=r;o--!==0;)if(!Qw(e[o],t[o]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!{}.hasOwnProperty.call(t,s[o]))return!1;for(o=r;o--!==0;){const c=s[o];if(!(c==="_owner"&&e.$$typeof)&&!Qw(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}function aK(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function q9(e,t){const r=aK(e);return Math.round(t*r)/r}function Nx(e){const t=B.useRef(e);return M0(()=>{t.current=e}),t}function XOe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:o=[],platform:s,elements:{reference:c,floating:d}={},transform:m=!0,whileElementsMounted:f,open:k}=e,[v,_]=B.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[y,A]=B.useState(o);Qw(y,o)||A(o);const[D,S]=B.useState(null),[I,T]=B.useState(null),P=B.useCallback(G=>{G!==U.current&&(U.current=G,S(G))},[]),N=B.useCallback(G=>{G!==R.current&&(R.current=G,T(G))},[]),j=c||D,$=d||I,U=B.useRef(null),R=B.useRef(null),z=B.useRef(v),W=f!=null,q=Nx(f),Y=Nx(s),Z=Nx(k),Q=B.useCallback(()=>{if(!U.current||!R.current)return;const G={placement:t,strategy:r,middleware:y};Y.current&&(G.platform=Y.current),JOe(U.current,R.current,G).then(re=>{const ie={...re,isPositioned:Z.current!==!1};J.current&&!Qw(z.current,ie)&&(z.current=ie,gy.flushSync(()=>{_(ie)}))})},[y,t,r,Y,Z]);M0(()=>{k===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,_(G=>({...G,isPositioned:!1})))},[k]);const J=B.useRef(!1);M0(()=>(J.current=!0,()=>{J.current=!1}),[]),M0(()=>{if(j&&(U.current=j),$&&(R.current=$),j&&$){if(q.current)return q.current(j,$,Q);Q()}},[j,$,Q,q,W]);const te=B.useMemo(()=>({reference:U,floating:R,setReference:P,setFloating:N}),[P,N]),ee=B.useMemo(()=>({reference:j,floating:$}),[j,$]),ne=B.useMemo(()=>{const G={position:r,left:0,top:0};if(!ee.floating)return G;const re=q9(ee.floating,v.x),ie=q9(ee.floating,v.y);return m?{...G,transform:"translate("+re+"px, "+ie+"px)",...aK(ee.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:re,top:ie}},[r,m,ee.floating,v.x,v.y]);return B.useMemo(()=>({...v,update:Q,refs:te,elements:ee,floatingStyles:ne}),[v,Q,te,ee,ne])}const eBe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:o,padding:s}=typeof e=="function"?e(r):e;return o&&t(o)?o.current!=null?W9({element:o.current,padding:s}).fn(r):{}:o?W9({element:o,padding:s}).fn(r):{}}}},tBe=(e,t)=>({...QOe(e),options:[e,t]}),nBe=(e,t)=>({...ZOe(e),options:[e,t]}),rBe=(e,t)=>({...eBe(e),options:[e,t]}),lK={...Nm},oBe=lK.useInsertionEffect,iBe=oBe||(e=>e());function sBe(e){const t=B.useRef(()=>{});return iBe(()=>{t.current=e}),B.useCallback(function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t.current==null?void 0:t.current(...o)},[])}var Zw=typeof document<"u"?B.useLayoutEffect:B.useEffect;function HS(){return HS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},HS.apply(this,arguments)}let G9=!1,aBe=0;const K9=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+aBe++;function lBe(){const[e,t]=B.useState(()=>G9?K9():void 0);return Zw(()=>{e==null&&t(K9())},[]),B.useEffect(()=>{G9=!0},[]),e}const cBe=lK.useId,cK=cBe||lBe,uBe=B.forwardRef(function(t,r){const{context:{placement:o,elements:{floating:s},middlewareData:{arrow:c,shift:d}},width:m=14,height:f=7,tipRadius:k=0,strokeWidth:v=0,staticOffset:_,stroke:y,d:A,style:{transform:D,...S}={},...I}=t,T=cK(),[P,N]=B.useState(!1);if(Zw(()=>{if(!s)return;Ui(s).direction==="rtl"&&N(!0)},[s]),!s)return null;const[j,$]=o.split("-"),U=j==="top"||j==="bottom";let R=_;(U&&d!=null&&d.x||!U&&d!=null&&d.y)&&(R=null);const z=v*2,W=z/2,q=m/2*(k/-8+1),Y=f/2*k/4,Z=!!A,Q=R&&$==="end"?"bottom":"top";let J=R&&$==="end"?"right":"left";R&&P&&(J=$==="end"?"left":"right");const te=(c==null?void 0:c.x)!=null?R||c.x:"",ee=(c==null?void 0:c.y)!=null?R||c.y:"",ne=A||"M0,0"+(" H"+m)+(" L"+(m-q)+","+(f-Y))+(" Q"+m/2+","+f+" "+q+","+(f-Y))+" Z",G={top:Z?"rotate(180deg)":"",left:Z?"rotate(90deg)":"rotate(-90deg)",bottom:Z?"":"rotate(180deg)",right:Z?"rotate(-90deg)":"rotate(90deg)"}[j];return B.createElement("svg",HS({},I,{"aria-hidden":!0,ref:r,width:Z?m:m+z,height:m,viewBox:"0 0 "+m+" "+(f>m?f:m),style:{position:"absolute",pointerEvents:"none",[J]:te,[Q]:ee,[j]:U||Z?"100%":"calc(100% - "+z/2+"px)",transform:[G,D].filter(re=>!!re).join(" "),...S}}),z>0&&B.createElement("path",{clipPath:"url(#"+T+")",fill:"none",stroke:y,strokeWidth:z+(A?0:1),d:ne}),B.createElement("path",{stroke:z&&!A?I.fill:"none",d:ne}),B.createElement("clipPath",{id:T},B.createElement("rect",{x:-W,y:W*(Z?-1:1),width:m+z,height:m})))});function dBe(){const e=new Map;return{emit(t,r){var o;(o=e.get(t))==null||o.forEach(s=>s(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var o;e.set(t,((o=e.get(t))==null?void 0:o.filter(s=>s!==r))||[])}}}const hBe=B.createContext(null),pBe=B.createContext(null),fBe=()=>{var e;return((e=B.useContext(hBe))==null?void 0:e.id)||null},mBe=()=>B.useContext(pBe);function gBe(e){const{open:t=!1,onOpenChange:r,elements:o}=e,s=cK(),c=B.useRef({}),[d]=B.useState(()=>dBe()),m=fBe()!=null,[f,k]=B.useState(o.reference),v=sBe((A,D,S)=>{c.current.openEvent=A?D:void 0,d.emit("openchange",{open:A,event:D,reason:S,nested:m}),r==null||r(A,D,S)}),_=B.useMemo(()=>({setPositionReference:k}),[]),y=B.useMemo(()=>({reference:f||o.reference||null,floating:o.floating||null,domReference:o.reference}),[f,o.reference,o.floating]);return B.useMemo(()=>({dataRef:c,open:t,onOpenChange:v,elements:y,events:d,floatingId:s,refs:_}),[t,v,y,d,s,_])}function bBe(e){e===void 0&&(e={});const{nodeId:t}=e,r=gBe({...e,elements:{reference:null,floating:null,...e.elements}}),o=e.rootContext||r,s=o.elements,[c,d]=B.useState(null),[m,f]=B.useState(null),v=(s==null?void 0:s.domReference)||c,_=B.useRef(null),y=mBe();Zw(()=>{v&&(_.current=v)},[v]);const A=XOe({...e,elements:{...s,...m&&{reference:m}}}),D=B.useCallback(N=>{const j=ko(N)?{getBoundingClientRect:()=>N.getBoundingClientRect(),contextElement:N}:N;f(j),A.refs.setReference(j)},[A.refs]),S=B.useCallback(N=>{(ko(N)||N===null)&&(_.current=N,d(N)),(ko(A.refs.reference.current)||A.refs.reference.current===null||N!==null&&!ko(N))&&A.refs.setReference(N)},[A.refs]),I=B.useMemo(()=>({...A.refs,setReference:S,setPositionReference:D,domReference:_}),[A.refs,S,D]),T=B.useMemo(()=>({...A.elements,domReference:v}),[A.elements,v]),P=B.useMemo(()=>({...A,...o,refs:I,elements:T,nodeId:t}),[A,I,T,t,o]);return Zw(()=>{o.dataRef.current.floatingContext=P;const N=y==null?void 0:y.nodesRef.current.find(j=>j.id===t);N&&(N.context=P)}),B.useMemo(()=>({...A,context:P,refs:I,elements:T}),[A,I,T,P])}/*!
  react-datepicker v7.5.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var WS=function(t,r){return WS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])},WS(t,r)};function Rr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");WS(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var $t=function(){return $t=Object.assign||function(r){for(var o,s=1,c=arguments.length;s<c;s++){o=arguments[s];for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(r[d]=o[d])}return r},$t.apply(this,arguments)};function $s(e,t,r){if(r||arguments.length===2)for(var o=0,s=t.length,c;o<s;o++)(c||!(o in t))&&(c||(c=Array.prototype.slice.call(t,0,o)),c[o]=t[o]);return e.concat(c||Array.prototype.slice.call(t))}var kBe=function(e){var t=e.showTimeSelectOnly,r=t===void 0?!1:t,o=e.showTime,s=o===void 0?!1:o,c=e.className,d=e.children,m=r?"Choose Time":"Choose Date".concat(s?" and Time":"");return ae.createElement("div",{className:c,role:"dialog","aria-label":m,"aria-modal":"true"},d)},vBe=function(e,t){var r=B.useRef(null),o=B.useRef(e);o.current=e;var s=B.useCallback(function(c){var d;r.current&&!r.current.contains(c.target)&&(t&&c.target instanceof HTMLElement&&c.target.classList.contains(t)||(d=o.current)===null||d===void 0||d.call(o,c))},[t]);return B.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),r},eC=function(e){var t=e.children,r=e.onClickOutside,o=e.className,s=e.containerRef,c=e.style,d=e.ignoreClass,m=vBe(r,d);return ae.createElement("div",{className:o,style:c,ref:function(f){m.current=f,s&&(s.current=f)}},t)},Me;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Me||(Me={}));function uK(){var e=typeof window<"u"?window:globalThis;return e}var Pb=12,wBe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function nn(e){if(e==null)return new Date;var t=typeof e=="string"?eOe(e):Oe(e);return Sa(t)?t:new Date}function Rx(e,t,r,o,s){var c,d=null,m=bu(r)||bu(Pm()),f=!0;if(Array.isArray(t))return t.forEach(function(v){var _=Ix(e,v,new Date,{locale:m,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});o&&(f=Sa(_,s)&&e===En(_,v,r)),Sa(_,s)&&f&&(d=_)}),d;if(d=Ix(e,t,new Date,{locale:m,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),o)f=Sa(d)&&e===En(d,t,r);else if(!Sa(d)){var k=((c=t.match(wBe))!==null&&c!==void 0?c:[]).map(function(v){var _=v[0];if(_==="p"||_==="P"){var y=Ww[_];return m?y(v,m.formatLong):_}return v}).join("");e.length>0&&(d=Ix(e,k.slice(0,e.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Sa(d)||(d=new Date(e))}return Sa(d)&&f?d:null}function Sa(e,t){return $w(e)&&!Bu(e,t??new Date("1/1/1800"))}function En(e,t,r){if(r==="en")return j9(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var o=r?bu(r):void 0;return r&&!o&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),!o&&Pm()&&bu(Pm())&&(o=bu(Pm())),j9(e,t,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Ei(e,t){var r=t.dateFormat,o=t.locale,s=Array.isArray(r)&&r.length>0?r[0]:r;return e&&En(e,s,o)||""}function yBe(e,t,r){if(!e)return"";var o=Ei(e,r),s=t?Ei(t,r):"";return"".concat(o," - ").concat(s)}function _Be(e,t){if(!(e!=null&&e.length))return"";var r=e[0]?Ei(e[0],t):"";if(e.length===1)return r;if(e.length===2&&e[1]){var o=Ei(e[1],t);return"".concat(r,", ").concat(o)}var s=e.length-1;return"".concat(r," (+").concat(s,")")}function Ox(e,t){var r=t.hour,o=r===void 0?0:r,s=t.minute,c=s===void 0?0:s,d=t.second,m=d===void 0?0:d;return D0(T0(I0(e,m),c),o)}function CBe(e){return EI(e)}function ABe(e,t){return En(e,"ddd",t)}function P0(e){return Ou(e)}function Yl(e,t,r){var o=bu(t||Pm());return nl(e,{locale:o,weekStartsOn:r})}function $a(e){return zG(e)}function sm(e){return Y_(e)}function Y9(e){return FS(e)}function Q9(){return Ou(nn())}function Z9(e){return jG(e)}function xBe(e){return iRe(e)}function EBe(e){return FG(e)}function Ns(e,t){return e&&t?J4e(e,t):!e&&!t}function mo(e,t){return e&&t?Q4e(e,t):!e&&!t}function Jw(e,t){return e&&t?Z4e(e,t):!e&&!t}function Bt(e,t){return e&&t?rRe(e,t):!e&&!t}function su(e,t){return e&&t?t4e(e,t):!e&&!t}function am(e,t,r){var o,s=Ou(t),c=jG(r);try{o=Mg(e,{start:s,end:c})}catch{o=!1}return o}function Pm(){var e=uK();return e.__localeId__}function bu(e){if(typeof e=="string"){var t=uK();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function SBe(e,t,r){return t(En(e,"EEEE",r))}function DBe(e,t){return En(e,"EEEEEE",t)}function TBe(e,t){return En(e,"EEE",t)}function BI(e,t){return En(ei(nn(),e),"LLLL",t)}function dK(e,t){return En(ei(nn(),e),"LLL",t)}function IBe(e,t){return En(qd(nn(),e),"QQQ",t)}function Mi(e,t){var r=t===void 0?{}:t,o=r.minDate,s=r.maxDate,c=r.excludeDates,d=r.excludeDateIntervals,m=r.includeDates,f=r.includeDateIntervals,k=r.filterDate;return Nb(e,{minDate:o,maxDate:s})||c&&c.some(function(v){return v instanceof Date?Bt(e,v):Bt(e,v.date)})||d&&d.some(function(v){var _=v.start,y=v.end;return Mg(e,{start:_,end:y})})||m&&!m.some(function(v){return Bt(e,v)})||f&&!f.some(function(v){var _=v.start,y=v.end;return Mg(e,{start:_,end:y})})||k&&!k(nn(e))||!1}function LI(e,t){var r=t===void 0?{}:t,o=r.excludeDates,s=r.excludeDateIntervals;return s&&s.length>0?s.some(function(c){var d=c.start,m=c.end;return Mg(e,{start:d,end:m})}):o&&o.some(function(c){var d;return c instanceof Date?Bt(e,c):Bt(e,(d=c.date)!==null&&d!==void 0?d:new Date)})||!1}function hK(e,t){var r=t===void 0?{}:t,o=r.minDate,s=r.maxDate,c=r.excludeDates,d=r.includeDates,m=r.filterDate;return Nb(e,{minDate:o?zG(o):void 0,maxDate:s?FG(s):void 0})||(c==null?void 0:c.some(function(f){return mo(e,f instanceof Date?f:f.date)}))||d&&!d.some(function(f){return mo(e,f)})||m&&!m(nn(e))||!1}function qv(e,t,r,o){var s=Ct(e),c=bo(e),d=Ct(t),m=bo(t),f=Ct(o);return s===d&&s===f?c<=r&&r<=m:s<d?f===s&&c<=r||f===d&&m>=r||f<d&&f>s:!1}function MBe(e,t){var r=t===void 0?{}:t,o=r.minDate,s=r.maxDate,c=r.excludeDates,d=r.includeDates;return Nb(e,{minDate:o,maxDate:s})||c&&c.some(function(m){return mo(m instanceof Date?m:m.date,e)})||d&&!d.some(function(m){return mo(m,e)})||!1}function Gv(e,t){var r=t===void 0?{}:t,o=r.minDate,s=r.maxDate,c=r.excludeDates,d=r.includeDates,m=r.filterDate;return Nb(e,{minDate:o,maxDate:s})||(c==null?void 0:c.some(function(f){return Jw(e,f instanceof Date?f:f.date)}))||d&&!d.some(function(f){return Jw(e,f)})||m&&!m(nn(e))||!1}function Kv(e,t,r){if(!t||!r||!$w(t)||!$w(r))return!1;var o=Ct(t),s=Ct(r);return o<=e&&s>=e}function N0(e,t){var r=t===void 0?{}:t,o=r.minDate,s=r.maxDate,c=r.excludeDates,d=r.includeDates,m=r.filterDate,f=new Date(e,0,1);return Nb(f,{minDate:o?Y_(o):void 0,maxDate:s?$G(s):void 0})||(c==null?void 0:c.some(function(k){return Ns(f,k instanceof Date?k:k.date)}))||d&&!d.some(function(k){return Ns(f,k)})||m&&!m(nn(f))||!1}function Yv(e,t,r,o){var s=Ct(e),c=mu(e),d=Ct(t),m=mu(t),f=Ct(o);return s===d&&s===f?c<=r&&r<=m:s<d?f===s&&c<=r||f===d&&m>=r||f<d&&f>s:!1}function Nb(e,t){var r,o=t===void 0?{}:t,s=o.minDate,c=o.maxDate;return(r=s&&op(e,s)<0||c&&op(e,c)>0)!==null&&r!==void 0?r:!1}function J9(e,t){return t.some(function(r){return Qs(r)===Qs(e)&&Zs(r)===Zs(e)&&za(r)===za(e)})}function X9(e,t){var r=t===void 0?{}:t,o=r.excludeTimes,s=r.includeTimes,c=r.filterTime;return o&&J9(e,o)||s&&!J9(e,s)||c&&!c(e)||!1}function e7(e,t){var r=t.minTime,o=t.maxTime;if(!r||!o)throw new Error("Both minTime and maxTime props required");var s=nn();s=D0(s,Qs(e)),s=T0(s,Zs(e)),s=I0(s,za(e));var c=nn();c=D0(c,Qs(r)),c=T0(c,Zs(r)),c=I0(c,za(r));var d=nn();d=D0(d,Qs(o)),d=T0(d,Zs(o)),d=I0(d,za(o));var m;try{m=!Mg(s,{start:c,end:d})}catch{m=!1}return m}function t7(e,t){var r=t===void 0?{}:t,o=r.minDate,s=r.includeDates,c=ip(e,1);return o&&Vw(o,c)>0||s&&s.every(function(d){return Vw(d,c)>0})||!1}function n7(e,t){var r=t===void 0?{}:t,o=r.maxDate,s=r.includeDates,c=ps(e,1);return o&&Vw(c,o)>0||s&&s.every(function(d){return Vw(c,d)>0})||!1}function PBe(e,t){var r=t===void 0?{}:t,o=r.minDate,s=r.includeDates,c=Y_(e),d=JG(c,1);return o&&Uw(o,d)>0||s&&s.every(function(m){return Uw(m,d)>0})||!1}function NBe(e,t){var r=t===void 0?{}:t,o=r.maxDate,s=r.includeDates,c=$G(e),d=xI(c,1);return o&&Uw(d,o)>0||s&&s.every(function(m){return Uw(d,m)>0})||!1}function r7(e,t){var r=t===void 0?{}:t,o=r.minDate,s=r.includeDates,c=sp(e,1);return o&&Hw(o,c)>0||s&&s.every(function(d){return Hw(d,c)>0})||!1}function RBe(e,t){var r=t===void 0?{}:t,o=r.minDate,s=r.yearItemNumber,c=s===void 0?Pb:s,d=sm(sp(e,c)),m=Bl(d,c).endPeriod,f=o&&Ct(o);return f&&f>m||!1}function o7(e,t){var r=t===void 0?{}:t,o=r.maxDate,s=r.includeDates,c=ja(e,1);return o&&Hw(c,o)>0||s&&s.every(function(d){return Hw(c,d)>0})||!1}function OBe(e,t){var r=t===void 0?{}:t,o=r.maxDate,s=r.yearItemNumber,c=s===void 0?Pb:s,d=ja(e,c),m=Bl(d,c).startPeriod,f=o&&Ct(o);return f&&f<m||!1}function pK(e){var t=e.minDate,r=e.includeDates;if(r&&t){var o=r.filter(function(s){return op(s,t)>=0});return P9(o)}else return r?P9(r):t}function fK(e){var t=e.maxDate,r=e.includeDates;if(r&&t){var o=r.filter(function(s){return op(s,t)<=0});return M9(o)}else return r?M9(r):t}function i7(e,t){var r;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var o=new Map,s=0,c=e.length;s<c;s++){var d=e[s];if(Fa(d)){var m=En(d,"MM.dd.yyyy"),f=o.get(m)||[];f.includes(t)||(f.push(t),o.set(m,f))}else if(typeof d=="object"){var k=Object.keys(d),v=(r=k[0])!==null&&r!==void 0?r:"",_=d[v];if(typeof v=="string"&&Array.isArray(_))for(var y=0,A=_.length;y<A;y++){var D=_[y];if(D){var m=En(D,"MM.dd.yyyy"),f=o.get(m)||[];f.includes(v)||(f.push(v),o.set(m,f))}}}}return o}function BBe(e,t){return e.length!==t.length?!1:e.every(function(r,o){return r===t[o]})}function LBe(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var r=new Map;return e.forEach(function(o){var s=o.date,c=o.holidayName;if(Fa(s)){var d=En(s,"MM.dd.yyyy"),m=r.get(d)||{className:"",holidayNames:[]};if(!("className"in m&&m.className===t&&BBe(m.holidayNames,[c]))){m.className=t;var f=m.holidayNames;m.holidayNames=f?$s($s([],f,!0),[c],!1):[c],r.set(d,m)}}}),r}function jBe(e,t,r,o,s){for(var c=s.length,d=[],m=0;m<c;m++){var f=e,k=s[m];k&&(f=XNe(f,Qs(k)),f=jS(f,Zs(k)),f=nRe(f,za(k)));var v=jS(e,(r+1)*o);oc(f,t)&&Bu(f,v)&&k!=null&&d.push(k)}return d}function s7(e){return e<10?"0".concat(e):"".concat(e)}function Bl(e,t){t===void 0&&(t=Pb);var r=Math.ceil(Ct(e)/t)*t,o=r-(t-1);return{startPeriod:o,endPeriod:r}}function FBe(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+r-+t)/36e5)}function a7(e){var t=e.getSeconds(),r=e.getMilliseconds();return Oe(e.getTime()-t*1e3-r)}function zBe(e,t){return a7(e).getTime()===a7(t).getTime()}function l7(e){if(!Fa(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function c7(e,t){if(!Fa(e)||!Fa(t))throw new Error("Invalid date received");var r=l7(e),o=l7(t);return Bu(r,o)}function mK(e){return e.key===Me.Space}var $Be=function(e){Rr(t,e);function t(r){var o=e.call(this,r)||this;return o.inputRef=ae.createRef(),o.onTimeChange=function(s){var c,d;o.setState({time:s});var m=o.props.date,f=m instanceof Date&&!isNaN(+m),k=f?m:new Date;if(s!=null&&s.includes(":")){var v=s.split(":"),_=v[0],y=v[1];k.setHours(Number(_)),k.setMinutes(Number(y))}(d=(c=o.props).onChange)===null||d===void 0||d.call(c,k)},o.renderTimeInput=function(){var s=o.state.time,c=o.props,d=c.date,m=c.timeString,f=c.customTimeInput;return f?B.cloneElement(f,{date:d,value:s,onChange:o.onTimeChange}):ae.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:o.inputRef,onClick:function(){var k;(k=o.inputRef.current)===null||k===void 0||k.focus()},required:!0,value:s,onChange:function(k){o.onTimeChange(k.target.value||m)}})},o.state={time:o.props.timeString},o}return t.getDerivedStateFromProps=function(r,o){return r.timeString!==o.time?{time:r.timeString}:null},t.prototype.render=function(){return ae.createElement("div",{className:"react-datepicker__input-time-container"},ae.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ae.createElement("div",{className:"react-datepicker-time__input-container"},ae.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(B.Component),VBe=function(e){Rr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.dayEl=B.createRef(),r.handleClick=function(o){!r.isDisabled()&&r.props.onClick&&r.props.onClick(o)},r.handleMouseEnter=function(o){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(o)},r.handleOnKeyDown=function(o){var s,c,d=o.key;d===Me.Space&&(o.preventDefault(),o.key=Me.Enter),(c=(s=r.props).handleOnKeyDown)===null||c===void 0||c.call(s,o)},r.isSameDay=function(o){return Bt(r.props.day,o)},r.isKeyboardSelected=function(){var o;if(r.props.disabledKeyboardNavigation)return!1;var s=r.props.selectsMultiple?(o=r.props.selectedDates)===null||o===void 0?void 0:o.some(function(d){return r.isSameDayOrWeek(d)}):r.isSameDayOrWeek(r.props.selected),c=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!s&&r.isSameDayOrWeek(r.props.preSelection)&&!c},r.isDisabled=function(o){return o===void 0&&(o=r.props.day),Mi(o,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(){return LI(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return Bt(r.props.day,Yl(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(o){return r.props.showWeekPicker&&Bt(o,Yl(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(o){return r.isSameDay(o)||r.isSameWeek(o)},r.getHighLightedClass=function(){var o=r.props,s=o.day,c=o.highlightDates;if(!c)return!1;var d=En(s,"MM.dd.yyyy");return c.get(d)},r.getHolidaysClass=function(){var o,s=r.props,c=s.day,d=s.holidays;if(!d)return[void 0];var m=En(c,"MM.dd.yyyy");return d.has(m)?[(o=d.get(m))===null||o===void 0?void 0:o.className]:[void 0]},r.isInRange=function(){var o=r.props,s=o.day,c=o.startDate,d=o.endDate;return!c||!d?!1:am(s,c,d)},r.isInSelectingRange=function(){var o,s=r.props,c=s.day,d=s.selectsStart,m=s.selectsEnd,f=s.selectsRange,k=s.selectsDisabledDaysInRange,v=s.startDate,_=s.endDate,y=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return!(d||m||f)||!y||!k&&r.isDisabled()?!1:d&&_&&(Bu(y,_)||su(y,_))?am(c,y,_):m&&v&&(oc(y,v)||su(y,v))||f&&v&&!_&&(oc(y,v)||su(y,v))?am(c,v,y):!1},r.isSelectingRangeStart=function(){var o;if(!r.isInSelectingRange())return!1;var s=r.props,c=s.day,d=s.startDate,m=s.selectsStart,f=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return m?Bt(c,f):Bt(c,d)},r.isSelectingRangeEnd=function(){var o;if(!r.isInSelectingRange())return!1;var s=r.props,c=s.day,d=s.endDate,m=s.selectsEnd,f=s.selectsRange,k=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return m||f?Bt(c,k):Bt(c,d)},r.isRangeStart=function(){var o=r.props,s=o.day,c=o.startDate,d=o.endDate;return!c||!d?!1:Bt(c,s)},r.isRangeEnd=function(){var o=r.props,s=o.day,c=o.startDate,d=o.endDate;return!c||!d?!1:Bt(d,s)},r.isWeekend=function(){var o=ZRe(r.props.day);return o===0||o===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===bo(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(bo(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(nn())},r.isSelected=function(){var o;return r.props.selectsMultiple?(o=r.props.selectedDates)===null||o===void 0?void 0:o.some(function(s){return r.isSameDayOrWeek(s)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(o){var s=r.props.dayClassName?r.props.dayClassName(o):void 0;return pe("react-datepicker__day",s,"react-datepicker__day--"+ABe(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var o=r.props,s=o.day,c=o.ariaLabelPrefixWhenEnabled,d=c===void 0?"Choose":c,m=o.ariaLabelPrefixWhenDisabled,f=m===void 0?"Not available":m,k=r.isDisabled()||r.isExcluded()?f:d;return"".concat(k," ").concat(En(s,"PPPP",r.props.locale))},r.getTitle=function(){var o=r.props,s=o.day,c=o.holidays,d=c===void 0?new Map:c,m=o.excludeDates,f=En(s,"MM.dd.yyyy"),k=[];return d.has(f)&&k.push.apply(k,d.get(f).holidayNames),r.isExcluded()&&k.push(m==null?void 0:m.filter(function(v){return v instanceof Date?Bt(v,s):Bt(v==null?void 0:v.date,s)}).map(function(v){if(!(v instanceof Date))return v==null?void 0:v.message})),k.join(", ")},r.getTabIndex=function(){var o=r.props.selected,s=r.props.preSelection,c=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(o)&&Bt(s,o))?0:-1;return c},r.handleFocusDay=function(){var o;r.shouldFocusDay()&&((o=r.dayEl.current)===null||o===void 0||o.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(F9(r.props.day),r.props.day):F9(r.props.day)},r.render=function(){return ae.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"option",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&ae.createElement("span",{className:"overlay"},r.getTitle()))},r}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},t.prototype.isDayActiveElement=function(){var r,o,s;return((o=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||o===void 0?void 0:o.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(B.Component),UBe=function(e){Rr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.weekNumberEl=B.createRef(),r.handleClick=function(o){r.props.onClick&&r.props.onClick(o)},r.handleOnKeyDown=function(o){var s,c,d=o.key;d===Me.Space&&(o.preventDefault(),o.key=Me.Enter),(c=(s=r.props).handleOnKeyDown)===null||c===void 0||c.call(s,o)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Bt(r.props.date,r.props.selected)&&Bt(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||Bt(r.props.date,r.props.selected)&&Bt(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(o){var s=!1;r.getTabIndex()===0&&!(o!=null&&o.isInputFocused)&&Bt(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(s=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},t.prototype.render=function(){var r=this.props,o=r.weekNumber,s=r.ariaLabelPrefix,c=s===void 0?t.defaultProps.ariaLabelPrefix:s,d=r.onClick,m={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!d,"react-datepicker__week-number--selected":!!d&&Bt(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return ae.createElement("div",{ref:this.weekNumberEl,className:pe(m),"aria-label":"".concat(c," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},o)},t}(B.Component),HBe=function(e){Rr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isDisabled=function(o){return Mi(o,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(o,s){r.props.onDayClick&&r.props.onDayClick(o,s)},r.handleDayMouseEnter=function(o){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(o)},r.handleWeekClick=function(o,s,c){for(var d,m,f,k=new Date(o),v=0;v<7;v++){var _=new Date(o);_.setDate(_.getDate()+v);var y=!r.isDisabled(_);if(y){k=_;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(k,s,c),r.props.showWeekPicker&&r.handleDayClick(k,c),((d=r.props.shouldCloseOnSelect)!==null&&d!==void 0?d:t.defaultProps.shouldCloseOnSelect)&&((f=(m=r.props).setOpen)===null||f===void 0||f.call(m,!1))},r.formatWeekNumber=function(o){return r.props.formatWeekNumber?r.props.formatWeekNumber(o):CBe(o)},r.renderDays=function(){var o=r.startOfWeek(),s=[],c=r.formatWeekNumber(o);if(r.props.showWeekNumber){var d=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,o,c):void 0;s.push(ae.createElement(UBe,$t({key:"W"},t.defaultProps,r.props,{weekNumber:c,date:o,onClick:d})))}return s.concat([0,1,2,3,4,5,6].map(function(m){var f=tl(o,m);return ae.createElement(VBe,$t({},t.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:f.valueOf(),day:f,onClick:r.handleDayClick.bind(r,f),onMouseEnter:r.handleDayMouseEnter.bind(r,f)}))}))},r.startOfWeek=function(){return Yl(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Bt(r.startOfWeek(),r.props.selected)&&Bt(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":Bt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return ae.createElement("div",{className:pe(r)},this.renderDays())},t}(B.Component),qf,WBe=6,Eh={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Bx=(qf={},qf[Eh.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},qf[Eh.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},qf[Eh.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},qf),Qv=1;function u7(e,t){return e?Eh.FOUR_COLUMNS:t?Eh.TWO_COLUMNS:Eh.THREE_COLUMNS}var qBe=function(e){Rr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.MONTH_REFS=$s([],Array(12),!0).map(function(){return B.createRef()}),r.QUARTER_REFS=$s([],Array(4),!0).map(function(){return B.createRef()}),r.isDisabled=function(o){return Mi(o,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(o){return LI(o,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(o,s){var c,d;(d=(c=r.props).onDayClick)===null||d===void 0||d.call(c,o,s,r.props.orderInDisplay)},r.handleDayMouseEnter=function(o){var s,c;(c=(s=r.props).onDayMouseEnter)===null||c===void 0||c.call(s,o)},r.handleMouseLeave=function(){var o,s;(s=(o=r.props).onMouseLeave)===null||s===void 0||s.call(o)},r.isRangeStartMonth=function(o){var s=r.props,c=s.day,d=s.startDate,m=s.endDate;return!d||!m?!1:mo(ei(c,o),d)},r.isRangeStartQuarter=function(o){var s=r.props,c=s.day,d=s.startDate,m=s.endDate;return!d||!m?!1:Jw(qd(c,o),d)},r.isRangeEndMonth=function(o){var s=r.props,c=s.day,d=s.startDate,m=s.endDate;return!d||!m?!1:mo(ei(c,o),m)},r.isRangeEndQuarter=function(o){var s=r.props,c=s.day,d=s.startDate,m=s.endDate;return!d||!m?!1:Jw(qd(c,o),m)},r.isInSelectingRangeMonth=function(o){var s,c=r.props,d=c.day,m=c.selectsStart,f=c.selectsEnd,k=c.selectsRange,v=c.startDate,_=c.endDate,y=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return!(m||f||k)||!y?!1:m&&_?qv(y,_,o,d):f&&v||k&&v&&!_?qv(v,y,o,d):!1},r.isSelectingMonthRangeStart=function(o){var s;if(!r.isInSelectingRangeMonth(o))return!1;var c=r.props,d=c.day,m=c.startDate,f=c.selectsStart,k=ei(d,o),v=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return f?mo(k,v):mo(k,m)},r.isSelectingMonthRangeEnd=function(o){var s;if(!r.isInSelectingRangeMonth(o))return!1;var c=r.props,d=c.day,m=c.endDate,f=c.selectsEnd,k=c.selectsRange,v=ei(d,o),_=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return f||k?mo(v,_):mo(v,m)},r.isInSelectingRangeQuarter=function(o){var s,c=r.props,d=c.day,m=c.selectsStart,f=c.selectsEnd,k=c.selectsRange,v=c.startDate,_=c.endDate,y=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return!(m||f||k)||!y?!1:m&&_?Yv(y,_,o,d):f&&v||k&&v&&!_?Yv(v,y,o,d):!1},r.isWeekInMonth=function(o){var s=r.props.day,c=tl(o,6);return mo(o,s)||mo(c,s)},r.isCurrentMonth=function(o,s){return Ct(o)===Ct(nn())&&s===bo(nn())},r.isCurrentQuarter=function(o,s){return Ct(o)===Ct(nn())&&s===mu(nn())},r.isSelectedMonth=function(o,s,c){return bo(c)===s&&Ct(o)===Ct(c)},r.isSelectMonthInList=function(o,s,c){return c.some(function(d){return r.isSelectedMonth(o,s,d)})},r.isSelectedQuarter=function(o,s,c){return mu(o)===s&&Ct(o)===Ct(c)},r.renderWeeks=function(){for(var o=[],s=r.props.fixedHeight,c=0,d=!1,m=Yl($a(r.props.day),r.props.locale,r.props.calendarStartDay),f=function(D){return r.props.showWeekPicker?Yl(D,r.props.locale,r.props.calendarStartDay):r.props.preSelection},k=function(D){return r.props.showWeekPicker?Yl(D,r.props.locale,r.props.calendarStartDay):r.props.selected},v=r.props.selected?k(r.props.selected):void 0,_=r.props.preSelection?f(r.props.preSelection):void 0;o.push(ae.createElement(HBe,$t({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:c,day:m,month:bo(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:v,preSelection:_,showWeekNumber:r.props.showWeekNumbers}))),!d;){c++,m=zw(m,1);var y=s&&c>=WBe,A=!s&&!r.isWeekInMonth(m);if(y||A)if(r.props.peekNextMonth)d=!0;else break}return o},r.onMonthClick=function(o,s){var c=r.isMonthDisabledForLabelDate(s),d=c.isDisabled,m=c.labelDate;d||r.handleDayClick($a(m),o)},r.onMonthMouseEnter=function(o){var s=r.isMonthDisabledForLabelDate(o),c=s.isDisabled,d=s.labelDate;c||r.handleDayMouseEnter($a(d))},r.handleMonthNavigation=function(o,s){var c,d,m,f;(d=(c=r.props).setPreSelection)===null||d===void 0||d.call(c,s),(f=(m=r.MONTH_REFS[o])===null||m===void 0?void 0:m.current)===null||f===void 0||f.focus()},r.handleKeyboardNavigation=function(o,s,c){var d,m=r.props,f=m.selected,k=m.preSelection,v=m.setPreSelection,_=m.minDate,y=m.maxDate,A=m.showFourColumnMonthYearPicker,D=m.showTwoColumnMonthYearPicker;if(k){var S=u7(A,D),I=r.getVerticalOffset(S),T=(d=Bx[S])===null||d===void 0?void 0:d.grid,P=function(R,z,W){var q,Y,Z=z,Q=W;switch(R){case Me.ArrowRight:Z=ps(z,Qv),Q=W===11?0:W+Qv;break;case Me.ArrowLeft:Z=ip(z,Qv),Q=W===0?11:W-Qv;break;case Me.ArrowUp:Z=ip(z,I),Q=!((q=T==null?void 0:T[0])===null||q===void 0)&&q.includes(W)?W+12-I:W-I;break;case Me.ArrowDown:Z=ps(z,I),Q=!((Y=T==null?void 0:T[T.length-1])===null||Y===void 0)&&Y.includes(W)?W-12+I:W+I;break}return{newCalculatedDate:Z,newCalculatedMonth:Q}},N=function(R,z,W){for(var q=40,Y=R,Z=!1,Q=0,J=P(Y,z,W),te=J.newCalculatedDate,ee=J.newCalculatedMonth;!Z;){if(Q>=q){te=z,ee=W;break}if(_&&te<_){Y=Me.ArrowRight;var ne=P(Y,te,ee);te=ne.newCalculatedDate,ee=ne.newCalculatedMonth}if(y&&te>y){Y=Me.ArrowLeft;var ne=P(Y,te,ee);te=ne.newCalculatedDate,ee=ne.newCalculatedMonth}if(MBe(te,r.props)){var ne=P(Y,te,ee);te=ne.newCalculatedDate,ee=ne.newCalculatedMonth}else Z=!0;Q++}return{newCalculatedDate:te,newCalculatedMonth:ee}};if(s===Me.Enter){r.isMonthDisabled(c)||(r.onMonthClick(o,c),v==null||v(f));return}var j=N(s,k,c),$=j.newCalculatedDate,U=j.newCalculatedMonth;switch(s){case Me.ArrowRight:case Me.ArrowLeft:case Me.ArrowUp:case Me.ArrowDown:r.handleMonthNavigation(U,$);break}}},r.getVerticalOffset=function(o){var s,c;return(c=(s=Bx[o])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&c!==void 0?c:0},r.onMonthKeyDown=function(o,s){var c=r.props,d=c.disabledKeyboardNavigation,m=c.handleOnMonthKeyDown,f=o.key;f!==Me.Tab&&o.preventDefault(),d||r.handleKeyboardNavigation(o,f,s),m&&m(o)},r.onQuarterClick=function(o,s){var c=qd(r.props.day,s);Gv(c,r.props)||r.handleDayClick(Y9(c),o)},r.onQuarterMouseEnter=function(o){var s=qd(r.props.day,o);Gv(s,r.props)||r.handleDayMouseEnter(Y9(s))},r.handleQuarterNavigation=function(o,s){var c,d,m,f;r.isDisabled(s)||r.isExcluded(s)||((d=(c=r.props).setPreSelection)===null||d===void 0||d.call(c,s),(f=(m=r.QUARTER_REFS[o-1])===null||m===void 0?void 0:m.current)===null||f===void 0||f.focus())},r.onQuarterKeyDown=function(o,s){var c,d,m=o.key;if(!r.props.disabledKeyboardNavigation)switch(m){case Me.Enter:r.onQuarterClick(o,s),(d=(c=r.props).setPreSelection)===null||d===void 0||d.call(c,r.props.selected);break;case Me.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(s===4?1:s+1,xI(r.props.preSelection,1));break;case Me.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(s===1?4:s-1,JG(r.props.preSelection,1));break}},r.isMonthDisabledForLabelDate=function(o){var s,c=r.props,d=c.day,m=c.minDate,f=c.maxDate,k=c.excludeDates,v=c.includeDates,_=ei(d,o);return{isDisabled:(s=(m||f||k||v)&&hK(_,r.props))!==null&&s!==void 0?s:!1,labelDate:_}},r.isMonthDisabled=function(o){var s=r.isMonthDisabledForLabelDate(o).isDisabled;return s},r.getMonthClassNames=function(o){var s=r.props,c=s.day,d=s.startDate,m=s.endDate,f=s.preSelection,k=s.monthClassName,v=k?k(ei(c,o)):void 0,_=r.getSelection();return pe("react-datepicker__month-text","react-datepicker__month-".concat(o),v,{"react-datepicker__month-text--disabled":r.isMonthDisabled(o),"react-datepicker__month-text--selected":_?r.isSelectMonthInList(c,o,_):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&f&&r.isSelectedMonth(c,o,f)&&!r.isMonthDisabled(o),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(o),"react-datepicker__month-text--in-range":d&&m?qv(d,m,o,c):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(o),"react-datepicker__month-text--range-end":r.isRangeEndMonth(o),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(o),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(o),"react-datepicker__month-text--today":r.isCurrentMonth(c,o)})},r.getTabIndex=function(o){if(r.props.preSelection==null)return"-1";var s=bo(r.props.preSelection),c=r.isMonthDisabledForLabelDate(s).isDisabled,d=o===s&&!(c||r.props.disabledKeyboardNavigation)?"0":"-1";return d},r.getQuarterTabIndex=function(o){if(r.props.preSelection==null)return"-1";var s=mu(r.props.preSelection),c=Gv(r.props.day,r.props),d=o===s&&!(c||r.props.disabledKeyboardNavigation)?"0":"-1";return d},r.getAriaLabel=function(o){var s=r.props,c=s.chooseDayAriaLabelPrefix,d=c===void 0?"Choose":c,m=s.disabledDayAriaLabelPrefix,f=m===void 0?"Not available":m,k=s.day,v=s.locale,_=ei(k,o),y=r.isDisabled(_)||r.isExcluded(_)?f:d;return"".concat(y," ").concat(En(_,"MMMM yyyy",v))},r.getQuarterClassNames=function(o){var s=r.props,c=s.day,d=s.startDate,m=s.endDate,f=s.selected,k=s.minDate,v=s.maxDate,_=s.excludeDates,y=s.includeDates,A=s.filterDate,D=s.preSelection,S=s.disabledKeyboardNavigation,I=(k||v||_||y||A)&&Gv(qd(c,o),r.props);return pe("react-datepicker__quarter-text","react-datepicker__quarter-".concat(o),{"react-datepicker__quarter-text--disabled":I,"react-datepicker__quarter-text--selected":f?r.isSelectedQuarter(c,o,f):void 0,"react-datepicker__quarter-text--keyboard-selected":!S&&D&&r.isSelectedQuarter(c,o,D)&&!I,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(o),"react-datepicker__quarter-text--in-range":d&&m?Yv(d,m,o,c):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(o),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(o)})},r.getMonthContent=function(o){var s=r.props,c=s.showFullMonthYearPicker,d=s.renderMonthContent,m=s.locale,f=s.day,k=dK(o,m),v=BI(o,m);return d?d(o,k,v,f):c?v:k},r.getQuarterContent=function(o){var s,c=r.props,d=c.renderQuarterContent,m=c.locale,f=IBe(o,m);return(s=d==null?void 0:d(o,f))!==null&&s!==void 0?s:f},r.renderMonths=function(){var o,s=r.props,c=s.showTwoColumnMonthYearPicker,d=s.showFourColumnMonthYearPicker,m=s.day,f=s.selected,k=(o=Bx[u7(d,c)])===null||o===void 0?void 0:o.grid;return k==null?void 0:k.map(function(v,_){return ae.createElement("div",{className:"react-datepicker__month-wrapper",key:_},v.map(function(y,A){return ae.createElement("div",{ref:r.MONTH_REFS[y],key:A,onClick:function(D){r.onMonthClick(D,y)},onKeyDown:function(D){mK(D)&&(D.preventDefault(),D.key=Me.Enter),r.onMonthKeyDown(D,y)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(y)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(y)}:void 0,tabIndex:Number(r.getTabIndex(y)),className:r.getMonthClassNames(y),"aria-disabled":r.isMonthDisabled(y),role:"option","aria-label":r.getAriaLabel(y),"aria-current":r.isCurrentMonth(m,y)?"date":void 0,"aria-selected":f?r.isSelectedMonth(m,y,f):void 0},r.getMonthContent(y))}))})},r.renderQuarters=function(){var o=r.props,s=o.day,c=o.selected,d=[1,2,3,4];return ae.createElement("div",{className:"react-datepicker__quarter-wrapper"},d.map(function(m,f){return ae.createElement("div",{key:f,ref:r.QUARTER_REFS[f],role:"option",onClick:function(k){r.onQuarterClick(k,m)},onKeyDown:function(k){r.onQuarterKeyDown(k,m)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(m)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(m)}:void 0,className:r.getQuarterClassNames(m),"aria-selected":c?r.isSelectedQuarter(s,m,c):void 0,tabIndex:Number(r.getQuarterTabIndex(m)),"aria-current":r.isCurrentQuarter(s,m)?"date":void 0},r.getQuarterContent(m))}))},r.getClassNames=function(){var o=r.props,s=o.selectingDate,c=o.selectsStart,d=o.selectsEnd,m=o.showMonthYearPicker,f=o.showQuarterYearPicker,k=o.showWeekPicker;return pe("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(c||d)},{"react-datepicker__monthPicker":m},{"react-datepicker__quarterPicker":f},{"react-datepicker__weekPicker":k})},r}return t.prototype.getSelection=function(){var r=this.props,o=r.selected,s=r.selectedDates,c=r.selectsMultiple;if(c)return s;if(o)return[o]},t.prototype.render=function(){var r=this.props,o=r.showMonthYearPicker,s=r.showQuarterYearPicker,c=r.day,d=r.ariaLabelPrefix,m=d===void 0?"Month ":d,f=m?m.trim()+" ":"";return ae.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(f).concat(En(c,"MMMM, yyyy",this.props.locale)),role:"listbox"},o?this.renderMonths():s?this.renderQuarters():this.renderWeeks())},t}(B.Component),GBe=function(e){Rr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isSelectedMonth=function(o){return r.props.month===o},r.renderOptions=function(){return r.props.monthNames.map(function(o,s){return ae.createElement("div",{className:r.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:o,onClick:r.onChange.bind(r,s),"aria-selected":r.isSelectedMonth(s)?"true":void 0},r.isSelectedMonth(s)?ae.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",o)})},r.onChange=function(o){return r.props.onChange(o)},r.handleClickOutside=function(){return r.props.onCancel()},r}return t.prototype.render=function(){return ae.createElement(eC,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(B.Component),KBe=function(e){Rr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(o){return o.map(function(s,c){return ae.createElement("option",{key:s,value:c},s)})},r.renderSelectMode=function(o){return ae.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(s){return r.onChange(parseInt(s.target.value))}},r.renderSelectOptions(o))},r.renderReadView=function(o,s){return ae.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},ae.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[r.props.month]))},r.renderDropdown=function(o){return ae.createElement(GBe,$t({key:"dropdown"},r.props,{monthNames:o,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(o){var s=r.state.dropdownVisible,c=[r.renderReadView(!s,o)];return s&&c.unshift(r.renderDropdown(o)),c},r.onChange=function(o){r.toggleDropdown(),o!==r.props.month&&r.props.onChange(o)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r=this,o=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(c){return dK(c,r.props.locale)}:function(c){return BI(c,r.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(o);break;case"select":s=this.renderSelectMode(o);break}return ae.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},t}(B.Component);function YBe(e,t){for(var r=[],o=$a(e),s=$a(t);!oc(o,s);)r.push(nn(o)),o=ps(o,1);return r}var QBe=function(e){Rr(t,e);function t(r){var o=e.call(this,r)||this;return o.renderOptions=function(){return o.state.monthYearsList.map(function(s){var c=$S(s),d=Ns(o.props.date,s)&&mo(o.props.date,s);return ae.createElement("div",{className:d?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:c,onClick:o.onChange.bind(o,c),"aria-selected":d?"true":void 0},d?ae.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",En(s,o.props.dateFormat,o.props.locale))})},o.onChange=function(s){return o.props.onChange(s)},o.handleClickOutside=function(){o.props.onCancel()},o.state={monthYearsList:YBe(o.props.minDate,o.props.maxDate)},o}return t.prototype.render=function(){var r=pe({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ae.createElement(eC,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(B.Component),ZBe=function(e){Rr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var o=$a(r.props.minDate),s=$a(r.props.maxDate),c=[];!oc(o,s);){var d=$S(o);c.push(ae.createElement("option",{key:d,value:d},En(o,r.props.dateFormat,r.props.locale))),o=ps(o,1)}return c},r.onSelectChange=function(o){r.onChange(parseInt(o.target.value))},r.renderSelectMode=function(){return ae.createElement("select",{value:$S($a(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(o){var s=En(r.props.date,r.props.dateFormat,r.props.locale);return ae.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},ae.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},r.renderDropdown=function(){return ae.createElement(QBe,$t({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var o=r.state.dropdownVisible,s=[r.renderReadView(!o)];return o&&s.unshift(r.renderDropdown()),s},r.onChange=function(o){r.toggleDropdown();var s=nn(o);Ns(r.props.date,s)&&mo(r.props.date,s)||r.props.onChange(s)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return ae.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(B.Component),JBe=function(e){Rr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var o,s,c;r.list&&(r.list.scrollTop=(c=r.centerLi&&t.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((s=(o=r.header)===null||o===void 0?void 0:o.clientHeight)!==null&&s!==void 0?s:0):r.list.clientHeight,r.centerLi))!==null&&c!==void 0?c:0)})},r.handleClick=function(o){var s,c;(r.props.minTime||r.props.maxTime)&&e7(o,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&X9(o,r.props)||(c=(s=r.props).onChange)===null||c===void 0||c.call(s,o)},r.isSelectedTime=function(o){return r.props.selected&&zBe(r.props.selected,o)},r.isDisabledTime=function(o){return(r.props.minTime||r.props.maxTime)&&e7(o,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&X9(o,r.props)},r.liClasses=function(o){var s,c=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(o):void 0];return r.isSelectedTime(o)&&c.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(o)&&c.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(Qs(o)*3600+Zs(o)*60+za(o))%(((s=r.props.intervals)!==null&&s!==void 0?s:t.defaultProps.intervals)*60)!==0&&c.push("react-datepicker__time-list-item--injected"),c.join(" ")},r.handleOnKeyDown=function(o,s){var c,d;o.key===Me.Space&&(o.preventDefault(),o.key=Me.Enter),(o.key===Me.ArrowUp||o.key===Me.ArrowLeft)&&o.target instanceof HTMLElement&&o.target.previousSibling&&(o.preventDefault(),o.target.previousSibling instanceof HTMLElement&&o.target.previousSibling.focus()),(o.key===Me.ArrowDown||o.key===Me.ArrowRight)&&o.target instanceof HTMLElement&&o.target.nextSibling&&(o.preventDefault(),o.target.nextSibling instanceof HTMLElement&&o.target.nextSibling.focus()),o.key===Me.Enter&&r.handleClick(s),(d=(c=r.props).handleOnKeyDown)===null||d===void 0||d.call(c,o)},r.renderTimes=function(){for(var o,s=[],c=typeof r.props.format=="string"?r.props.format:"p",d=(o=r.props.intervals)!==null&&o!==void 0?o:t.defaultProps.intervals,m=r.props.selected||r.props.openToDate||nn(),f=P0(m),k=r.props.injectTimes&&r.props.injectTimes.sort(function(I,T){return I.getTime()-T.getTime()}),v=60*FBe(m),_=v/d,y=0;y<_;y++){var A=jS(f,y*d);if(s.push(A),k){var D=jBe(f,A,y,d,k);s=s.concat(D)}}var S=s.reduce(function(I,T){return T.getTime()<=m.getTime()?T:I},s[0]);return s.map(function(I){return ae.createElement("li",{key:I.valueOf(),onClick:r.handleClick.bind(r,I),className:r.liClasses(I),ref:function(T){I===S&&(r.centerLi=T)},onKeyDown:function(T){r.handleOnKeyDown(T,I)},tabIndex:I===S?0:-1,role:"option","aria-selected":r.isSelectedTime(I)?"true":void 0,"aria-disabled":r.isDisabledTime(I)?"true":void 0},En(I,c,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?ae.createElement(ae.Fragment,null):ae.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(o){r.header=o}},ae.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var r=this,o,s=this.state.height;return ae.createElement("div",{className:"react-datepicker__time-container ".concat(((o=this.props.todayButton)!==null&&o!==void 0?o:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ae.createElement("div",{className:"react-datepicker__time"},ae.createElement("div",{className:"react-datepicker__time-box"},ae.createElement("ul",{className:"react-datepicker__time-list",ref:function(c){r.list=c},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(r,o){return o.offsetTop-(r/2-o.clientHeight/2)},t}(B.Component),d7=3,XBe=function(e){Rr(t,e);function t(r){var o=e.call(this,r)||this;return o.YEAR_REFS=$s([],Array(o.props.yearItemNumber),!0).map(function(){return B.createRef()}),o.isDisabled=function(s){return Mi(s,{minDate:o.props.minDate,maxDate:o.props.maxDate,excludeDates:o.props.excludeDates,includeDates:o.props.includeDates,filterDate:o.props.filterDate})},o.isExcluded=function(s){return LI(s,{excludeDates:o.props.excludeDates})},o.selectingDate=function(){var s;return(s=o.props.selectingDate)!==null&&s!==void 0?s:o.props.preSelection},o.updateFocusOnPaginate=function(s){var c=function(){var d,m;(m=(d=o.YEAR_REFS[s])===null||d===void 0?void 0:d.current)===null||m===void 0||m.focus()};window.requestAnimationFrame(c)},o.handleYearClick=function(s,c){o.props.onDayClick&&o.props.onDayClick(s,c)},o.handleYearNavigation=function(s,c){var d,m,f,k,v=o.props,_=v.date,y=v.yearItemNumber;if(!(_===void 0||y===void 0)){var A=Bl(_,y).startPeriod;o.isDisabled(c)||o.isExcluded(c)||((m=(d=o.props).setPreSelection)===null||m===void 0||m.call(d,c),s-A<0?o.updateFocusOnPaginate(y-(A-s)):s-A>=y?o.updateFocusOnPaginate(Math.abs(y-(s-A))):(k=(f=o.YEAR_REFS[s-A])===null||f===void 0?void 0:f.current)===null||k===void 0||k.focus())}},o.isSameDay=function(s,c){return Bt(s,c)},o.isCurrentYear=function(s){return s===Ct(nn())},o.isRangeStart=function(s){return o.props.startDate&&o.props.endDate&&Ns(Is(nn(),s),o.props.startDate)},o.isRangeEnd=function(s){return o.props.startDate&&o.props.endDate&&Ns(Is(nn(),s),o.props.endDate)},o.isInRange=function(s){return Kv(s,o.props.startDate,o.props.endDate)},o.isInSelectingRange=function(s){var c=o.props,d=c.selectsStart,m=c.selectsEnd,f=c.selectsRange,k=c.startDate,v=c.endDate;return!(d||m||f)||!o.selectingDate()?!1:d&&v?Kv(s,o.selectingDate(),v):m&&k||f&&k&&!v?Kv(s,k,o.selectingDate()):!1},o.isSelectingRangeStart=function(s){var c;if(!o.isInSelectingRange(s))return!1;var d=o.props,m=d.startDate,f=d.selectsStart,k=Is(nn(),s);return f?Ns(k,(c=o.selectingDate())!==null&&c!==void 0?c:null):Ns(k,m??null)},o.isSelectingRangeEnd=function(s){var c;if(!o.isInSelectingRange(s))return!1;var d=o.props,m=d.endDate,f=d.selectsEnd,k=d.selectsRange,v=Is(nn(),s);return f||k?Ns(v,(c=o.selectingDate())!==null&&c!==void 0?c:null):Ns(v,m??null)},o.isKeyboardSelected=function(s){if(!(o.props.date===void 0||o.props.selected==null||o.props.preSelection==null)){var c=o.props,d=c.minDate,m=c.maxDate,f=c.excludeDates,k=c.includeDates,v=c.filterDate,_=sm(Is(o.props.date,s)),y=(d||m||f||k||v)&&N0(s,o.props);return!o.props.disabledKeyboardNavigation&&!o.props.inline&&!Bt(_,sm(o.props.selected))&&Bt(_,sm(o.props.preSelection))&&!y}},o.onYearClick=function(s,c){var d=o.props.date;d!==void 0&&o.handleYearClick(sm(Is(d,c)),s)},o.onYearKeyDown=function(s,c){var d,m,f=s.key,k=o.props,v=k.date,_=k.yearItemNumber,y=k.handleOnKeyDown;if(f!==Me.Tab&&s.preventDefault(),!o.props.disabledKeyboardNavigation)switch(f){case Me.Enter:if(o.props.selected==null)break;o.onYearClick(s,c),(m=(d=o.props).setPreSelection)===null||m===void 0||m.call(d,o.props.selected);break;case Me.ArrowRight:if(o.props.preSelection==null)break;o.handleYearNavigation(c+1,ja(o.props.preSelection,1));break;case Me.ArrowLeft:if(o.props.preSelection==null)break;o.handleYearNavigation(c-1,sp(o.props.preSelection,1));break;case Me.ArrowUp:{if(v===void 0||_===void 0||o.props.preSelection==null)break;var A=Bl(v,_).startPeriod,D=d7,S=c-D;if(S<A){var I=_%D;c>=A&&c<A+I?D=I:D+=I,S=c-D}o.handleYearNavigation(S,sp(o.props.preSelection,D));break}case Me.ArrowDown:{if(v===void 0||_===void 0||o.props.preSelection==null)break;var T=Bl(v,_).endPeriod,D=d7,S=c+D;if(S>T){var I=_%D;c<=T&&c>T-I?D=I:D+=I,S=c+D}o.handleYearNavigation(S,ja(o.props.preSelection,D));break}}y&&y(s)},o.getYearClassNames=function(s){var c=o.props,d=c.date,m=c.minDate,f=c.maxDate,k=c.selected,v=c.excludeDates,_=c.includeDates,y=c.filterDate,A=c.yearClassName;return pe("react-datepicker__year-text","react-datepicker__year-".concat(s),d?A==null?void 0:A(Is(d,s)):void 0,{"react-datepicker__year-text--selected":k?s===Ct(k):void 0,"react-datepicker__year-text--disabled":(m||f||v||_||y)&&N0(s,o.props),"react-datepicker__year-text--keyboard-selected":o.isKeyboardSelected(s),"react-datepicker__year-text--range-start":o.isRangeStart(s),"react-datepicker__year-text--range-end":o.isRangeEnd(s),"react-datepicker__year-text--in-range":o.isInRange(s),"react-datepicker__year-text--in-selecting-range":o.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":o.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":o.isSelectingRangeEnd(s),"react-datepicker__year-text--today":o.isCurrentYear(s)})},o.getYearTabIndex=function(s){if(o.props.disabledKeyboardNavigation||o.props.preSelection==null)return"-1";var c=Ct(o.props.preSelection),d=N0(s,o.props);return s===c&&!d?"0":"-1"},o.getYearContainerClassNames=function(){var s=o.props,c=s.selectingDate,d=s.selectsStart,m=s.selectsEnd,f=s.selectsRange;return pe("react-datepicker__year",{"react-datepicker__year--selecting-range":c&&(d||m||f)})},o.getYearContent=function(s){return o.props.renderYearContent?o.props.renderYearContent(s):s},o}return t.prototype.render=function(){var r=this,o=[],s=this.props,c=s.date,d=s.yearItemNumber,m=s.onYearMouseEnter,f=s.onYearMouseLeave;if(c===void 0)return null;for(var k=Bl(c,d),v=k.startPeriod,_=k.endPeriod,y=function(S){o.push(ae.createElement("div",{ref:A.YEAR_REFS[S-v],onClick:function(I){r.onYearClick(I,S)},onKeyDown:function(I){mK(I)&&(I.preventDefault(),I.key=Me.Enter),r.onYearKeyDown(I,S)},tabIndex:Number(A.getYearTabIndex(S)),className:A.getYearClassNames(S),onMouseEnter:A.props.usePointerEvent?void 0:function(I){return m(I,S)},onPointerEnter:A.props.usePointerEvent?function(I){return m(I,S)}:void 0,onMouseLeave:A.props.usePointerEvent?void 0:function(I){return f(I,S)},onPointerLeave:A.props.usePointerEvent?function(I){return f(I,S)}:void 0,key:S,"aria-current":A.isCurrentYear(S)?"date":void 0},A.getYearContent(S)))},A=this,D=v;D<=_;D++)y(D);return ae.createElement("div",{className:this.getYearContainerClassNames()},ae.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},o))},t}(B.Component);function e3e(e,t,r,o){for(var s=[],c=0;c<2*t+1;c++){var d=e+t-c,m=!0;r&&(m=Ct(r)<=d),o&&m&&(m=Ct(o)>=d),m&&s.push(d)}return s}var t3e=function(e){Rr(t,e);function t(r){var o=e.call(this,r)||this;o.renderOptions=function(){var m=o.props.year,f=o.state.yearsList.map(function(_){return ae.createElement("div",{className:m===_?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:_,onClick:o.onChange.bind(o,_),"aria-selected":m===_?"true":void 0},m===_?ae.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",_)}),k=o.props.minDate?Ct(o.props.minDate):null,v=o.props.maxDate?Ct(o.props.maxDate):null;return(!v||!o.state.yearsList.find(function(_){return _===v}))&&f.unshift(ae.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:o.incrementYears},ae.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!k||!o.state.yearsList.find(function(_){return _===k}))&&f.push(ae.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:o.decrementYears},ae.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),f},o.onChange=function(m){o.props.onChange(m)},o.handleClickOutside=function(){o.props.onCancel()},o.shiftYears=function(m){var f=o.state.yearsList.map(function(k){return k+m});o.setState({yearsList:f})},o.incrementYears=function(){return o.shiftYears(1)},o.decrementYears=function(){return o.shiftYears(-1)};var s=r.yearDropdownItemNumber,c=r.scrollableYearDropdown,d=s||(c?10:5);return o.state={yearsList:e3e(o.props.year,d,o.props.minDate,o.props.maxDate)},o.dropdownRef=B.createRef(),o}return t.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var o=r.children?Array.from(r.children):null,s=o?o.find(function(c){return c.ariaSelected}):null;r.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},t.prototype.render=function(){var r=pe({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ae.createElement(eC,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(B.Component),n3e=function(e){Rr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var o=r.props.minDate?Ct(r.props.minDate):1900,s=r.props.maxDate?Ct(r.props.maxDate):2100,c=[],d=o;d<=s;d++)c.push(ae.createElement("option",{key:d,value:d},d));return c},r.onSelectChange=function(o){r.onChange(parseInt(o.target.value))},r.renderSelectMode=function(){return ae.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(o){return ae.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(s){return r.toggleDropdown(s)}},ae.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return ae.createElement(t3e,$t({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var o=r.state.dropdownVisible,s=[r.renderReadView(!o)];return o&&s.unshift(r.renderDropdown()),s},r.onChange=function(o){r.toggleDropdown(),o!==r.props.year&&r.props.onChange(o)},r.toggleDropdown=function(o){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,o)})},r.handleYearChange=function(o,s){var c;(c=r.onSelect)===null||c===void 0||c.call(r,o,s),r.setOpen()},r.onSelect=function(o,s){var c,d;(d=(c=r.props).onSelect)===null||d===void 0||d.call(c,o,s)},r.setOpen=function(){var o,s;(s=(o=r.props).setOpen)===null||s===void 0||s.call(o,!0)},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return ae.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(B.Component),r3e=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],o3e=function(e){var t=(e.className||"").split(/\s+/);return r3e.some(function(r){return t.indexOf(r)>=0})},i3e=function(e){Rr(t,e);function t(r){var o=e.call(this,r)||this;return o.monthContainer=void 0,o.handleClickOutside=function(s){o.props.onClickOutside(s)},o.setClickOutsideRef=function(){return o.containerRef.current},o.handleDropdownFocus=function(s){var c,d;o3e(s.target)&&((d=(c=o.props).onDropdownFocus)===null||d===void 0||d.call(c,s))},o.getDateInView=function(){var s=o.props,c=s.preSelection,d=s.selected,m=s.openToDate,f=pK(o.props),k=fK(o.props),v=nn(),_=m||d||c;return _||(f&&Bu(v,f)?f:k&&oc(v,k)?k:v)},o.increaseMonth=function(){o.setState(function(s){var c=s.date;return{date:ps(c,1)}},function(){return o.handleMonthChange(o.state.date)})},o.decreaseMonth=function(){o.setState(function(s){var c=s.date;return{date:ip(c,1)}},function(){return o.handleMonthChange(o.state.date)})},o.handleDayClick=function(s,c,d){o.props.onSelect(s,c,d),o.props.setPreSelection&&o.props.setPreSelection(s)},o.handleDayMouseEnter=function(s){o.setState({selectingDate:s}),o.props.onDayMouseEnter&&o.props.onDayMouseEnter(s)},o.handleMonthMouseLeave=function(){o.setState({selectingDate:void 0}),o.props.onMonthMouseLeave&&o.props.onMonthMouseLeave()},o.handleYearMouseEnter=function(s,c){o.setState({selectingDate:Is(nn(),c)}),o.props.onYearMouseEnter&&o.props.onYearMouseEnter(s,c)},o.handleYearMouseLeave=function(s,c){o.props.onYearMouseLeave&&o.props.onYearMouseLeave(s,c)},o.handleYearChange=function(s){var c,d,m,f;(d=(c=o.props).onYearChange)===null||d===void 0||d.call(c,s),o.setState({isRenderAriaLiveMessage:!0}),o.props.adjustDateOnChange&&(o.props.onSelect(s),(f=(m=o.props).setOpen)===null||f===void 0||f.call(m,!0)),o.props.setPreSelection&&o.props.setPreSelection(s)},o.getEnabledPreSelectionDateForMonth=function(s){if(!Mi(s,o.props))return s;for(var c=$a(s),d=EBe(s),m=oRe(d,c),f=null,k=0;k<=m;k++){var v=tl(c,k);if(!Mi(v,o.props)){f=v;break}}return f},o.handleMonthChange=function(s){var c,d,m,f=(c=o.getEnabledPreSelectionDateForMonth(s))!==null&&c!==void 0?c:s;o.handleCustomMonthChange(f),o.props.adjustDateOnChange&&(o.props.onSelect(f),(m=(d=o.props).setOpen)===null||m===void 0||m.call(d,!0)),o.props.setPreSelection&&o.props.setPreSelection(f)},o.handleCustomMonthChange=function(s){var c,d;(d=(c=o.props).onMonthChange)===null||d===void 0||d.call(c,s),o.setState({isRenderAriaLiveMessage:!0})},o.handleMonthYearChange=function(s){o.handleYearChange(s),o.handleMonthChange(s)},o.changeYear=function(s){o.setState(function(c){var d=c.date;return{date:Is(d,Number(s))}},function(){return o.handleYearChange(o.state.date)})},o.changeMonth=function(s){o.setState(function(c){var d=c.date;return{date:ei(d,Number(s))}},function(){return o.handleMonthChange(o.state.date)})},o.changeMonthYear=function(s){o.setState(function(c){var d=c.date;return{date:Is(ei(d,bo(s)),Ct(s))}},function(){return o.handleMonthYearChange(o.state.date)})},o.header=function(s){s===void 0&&(s=o.state.date);var c=Yl(s,o.props.locale,o.props.calendarStartDay),d=[];return o.props.showWeekNumbers&&d.push(ae.createElement("div",{key:"W",className:"react-datepicker__day-name"},o.props.weekLabel||"#")),d.concat([0,1,2,3,4,5,6].map(function(m){var f=tl(c,m),k=o.formatWeekday(f,o.props.locale),v=o.props.weekDayClassName?o.props.weekDayClassName(f):void 0;return ae.createElement("div",{key:m,"aria-label":En(f,"EEEE",o.props.locale),className:pe("react-datepicker__day-name",v)},k)}))},o.formatWeekday=function(s,c){return o.props.formatWeekDay?SBe(s,o.props.formatWeekDay,c):o.props.useWeekdaysShort?TBe(s,c):DBe(s,c)},o.decreaseYear=function(){o.setState(function(s){var c,d=s.date;return{date:sp(d,o.props.showYearPicker?(c=o.props.yearItemNumber)!==null&&c!==void 0?c:t.defaultProps.yearItemNumber:1)}},function(){return o.handleYearChange(o.state.date)})},o.clearSelectingDate=function(){o.setState({selectingDate:void 0})},o.renderPreviousButton=function(){var s;if(!o.props.renderCustomHeader){var c;switch(!0){case o.props.showMonthYearPicker:c=r7(o.state.date,o.props);break;case o.props.showYearPicker:c=RBe(o.state.date,o.props);break;case o.props.showQuarterYearPicker:c=PBe(o.state.date,o.props);break;default:c=t7(o.state.date,o.props);break}if(!(!((s=o.props.forceShowMonthNavigation)!==null&&s!==void 0?s:t.defaultProps.forceShowMonthNavigation)&&!o.props.showDisabledMonthNavigation&&c||o.props.showTimeSelectOnly)){var d=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],m=["react-datepicker__navigation","react-datepicker__navigation--previous"],f=o.decreaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(f=o.decreaseYear),c&&o.props.showDisabledMonthNavigation&&(m.push("react-datepicker__navigation--previous--disabled"),f=void 0);var k=o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker,v=o.props,_=v.previousMonthButtonLabel,y=_===void 0?t.defaultProps.previousMonthButtonLabel:_,A=v.previousYearButtonLabel,D=A===void 0?t.defaultProps.previousYearButtonLabel:A,S=o.props,I=S.previousMonthAriaLabel,T=I===void 0?typeof y=="string"?y:"Previous Month":I,P=S.previousYearAriaLabel,N=P===void 0?typeof D=="string"?D:"Previous Year":P;return ae.createElement("button",{type:"button",className:m.join(" "),onClick:f,onKeyDown:o.props.handleOnKeyDown,"aria-label":k?N:T},ae.createElement("span",{className:d.join(" ")},k?D:y))}}},o.increaseYear=function(){o.setState(function(s){var c,d=s.date;return{date:ja(d,o.props.showYearPicker?(c=o.props.yearItemNumber)!==null&&c!==void 0?c:t.defaultProps.yearItemNumber:1)}},function(){return o.handleYearChange(o.state.date)})},o.renderNextButton=function(){var s;if(!o.props.renderCustomHeader){var c;switch(!0){case o.props.showMonthYearPicker:c=o7(o.state.date,o.props);break;case o.props.showYearPicker:c=OBe(o.state.date,o.props);break;case o.props.showQuarterYearPicker:c=NBe(o.state.date,o.props);break;default:c=n7(o.state.date,o.props);break}if(!(!((s=o.props.forceShowMonthNavigation)!==null&&s!==void 0?s:t.defaultProps.forceShowMonthNavigation)&&!o.props.showDisabledMonthNavigation&&c||o.props.showTimeSelectOnly)){var d=["react-datepicker__navigation","react-datepicker__navigation--next"],m=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];o.props.showTimeSelect&&d.push("react-datepicker__navigation--next--with-time"),o.props.todayButton&&d.push("react-datepicker__navigation--next--with-today-button");var f=o.increaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(f=o.increaseYear),c&&o.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--next--disabled"),f=void 0);var k=o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker,v=o.props,_=v.nextMonthButtonLabel,y=_===void 0?t.defaultProps.nextMonthButtonLabel:_,A=v.nextYearButtonLabel,D=A===void 0?t.defaultProps.nextYearButtonLabel:A,S=o.props,I=S.nextMonthAriaLabel,T=I===void 0?typeof y=="string"?y:"Next Month":I,P=S.nextYearAriaLabel,N=P===void 0?typeof D=="string"?D:"Next Year":P;return ae.createElement("button",{type:"button",className:d.join(" "),onClick:f,onKeyDown:o.props.handleOnKeyDown,"aria-label":k?N:T},ae.createElement("span",{className:m.join(" ")},k?D:y))}}},o.renderCurrentMonth=function(s){s===void 0&&(s=o.state.date);var c=["react-datepicker__current-month"];return o.props.showYearDropdown&&c.push("react-datepicker__current-month--hasYearDropdown"),o.props.showMonthDropdown&&c.push("react-datepicker__current-month--hasMonthDropdown"),o.props.showMonthYearDropdown&&c.push("react-datepicker__current-month--hasMonthYearDropdown"),ae.createElement("h2",{className:c.join(" ")},En(s,o.props.dateFormat,o.props.locale))},o.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!o.props.showYearDropdown||s))return ae.createElement(n3e,$t({},t.defaultProps,o.props,{date:o.state.date,onChange:o.changeYear,year:Ct(o.state.date)}))},o.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!o.props.showMonthDropdown||s))return ae.createElement(KBe,$t({},t.defaultProps,o.props,{month:bo(o.state.date),onChange:o.changeMonth}))},o.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!o.props.showMonthYearDropdown||s))return ae.createElement(ZBe,$t({},t.defaultProps,o.props,{date:o.state.date,onChange:o.changeMonthYear}))},o.handleTodayButtonClick=function(s){o.props.onSelect(Q9(),s),o.props.setPreSelection&&o.props.setPreSelection(Q9())},o.renderTodayButton=function(){if(!(!o.props.todayButton||o.props.showTimeSelectOnly))return ae.createElement("div",{className:"react-datepicker__today-button",onClick:o.handleTodayButtonClick},o.props.todayButton)},o.renderDefaultHeader=function(s){var c=s.monthDate,d=s.i;return ae.createElement("div",{className:"react-datepicker__header ".concat(o.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},o.renderCurrentMonth(c),ae.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(o.props.dropdownMode),onFocus:o.handleDropdownFocus},o.renderMonthDropdown(d!==0),o.renderMonthYearDropdown(d!==0),o.renderYearDropdown(d!==0)),ae.createElement("div",{className:"react-datepicker__day-names"},o.header(c)))},o.renderCustomHeader=function(s){var c,d,m=s.monthDate,f=s.i;if(o.props.showTimeSelect&&!o.state.monthContainer||o.props.showTimeSelectOnly)return null;var k=t7(o.state.date,o.props),v=n7(o.state.date,o.props),_=r7(o.state.date,o.props),y=o7(o.state.date,o.props),A=!o.props.showMonthYearPicker&&!o.props.showQuarterYearPicker&&!o.props.showYearPicker;return ae.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:o.props.onDropdownFocus},(d=(c=o.props).renderCustomHeader)===null||d===void 0?void 0:d.call(c,$t($t({},o.state),{customHeaderCount:f,monthDate:m,changeMonth:o.changeMonth,changeYear:o.changeYear,decreaseMonth:o.decreaseMonth,increaseMonth:o.increaseMonth,decreaseYear:o.decreaseYear,increaseYear:o.increaseYear,prevMonthButtonDisabled:k,nextMonthButtonDisabled:v,prevYearButtonDisabled:_,nextYearButtonDisabled:y})),A&&ae.createElement("div",{className:"react-datepicker__day-names"},o.header(m)))},o.renderYearHeader=function(s){var c=s.monthDate,d=o.props,m=d.showYearPicker,f=d.yearItemNumber,k=f===void 0?t.defaultProps.yearItemNumber:f,v=Bl(c,k),_=v.startPeriod,y=v.endPeriod;return ae.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},m?"".concat(_," - ").concat(y):Ct(c))},o.renderHeader=function(s){var c=s.monthDate,d=s.i,m=d===void 0?0:d,f={monthDate:c,i:m};switch(!0){case o.props.renderCustomHeader!==void 0:return o.renderCustomHeader(f);case(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker):return o.renderYearHeader(f);default:return o.renderDefaultHeader(f)}},o.renderMonths=function(){var s,c;if(!(o.props.showTimeSelectOnly||o.props.showYearPicker)){for(var d=[],m=(s=o.props.monthsShown)!==null&&s!==void 0?s:t.defaultProps.monthsShown,f=o.props.showPreviousMonths?m-1:0,k=o.props.showMonthYearPicker||o.props.showQuarterYearPicker?ja(o.state.date,f):ip(o.state.date,f),v=(c=o.props.monthSelectedIn)!==null&&c!==void 0?c:f,_=0;_<m;++_){var y=_-v+f,A=o.props.showMonthYearPicker||o.props.showQuarterYearPicker?ja(k,y):ps(k,y),D="month-".concat(_),S=_<m-1,I=_>0;d.push(ae.createElement("div",{key:D,ref:function(T){o.monthContainer=T??void 0},className:"react-datepicker__month-container"},o.renderHeader({monthDate:A,i:_}),ae.createElement(qBe,$t({},t.defaultProps,o.props,{ariaLabelPrefix:o.props.monthAriaLabelPrefix,day:A,onDayClick:o.handleDayClick,handleOnKeyDown:o.props.handleOnDayKeyDown,handleOnMonthKeyDown:o.props.handleOnKeyDown,onDayMouseEnter:o.handleDayMouseEnter,onMouseLeave:o.handleMonthMouseLeave,orderInDisplay:_,selectingDate:o.state.selectingDate,monthShowsDuplicateDaysEnd:S,monthShowsDuplicateDaysStart:I}))))}return d}},o.renderYears=function(){if(!o.props.showTimeSelectOnly&&o.props.showYearPicker)return ae.createElement("div",{className:"react-datepicker__year--container"},o.renderHeader({monthDate:o.state.date}),ae.createElement(XBe,$t({},t.defaultProps,o.props,{selectingDate:o.state.selectingDate,date:o.state.date,onDayClick:o.handleDayClick,clearSelectingDate:o.clearSelectingDate,onYearMouseEnter:o.handleYearMouseEnter,onYearMouseLeave:o.handleYearMouseLeave})))},o.renderTimeSection=function(){if(o.props.showTimeSelect&&(o.state.monthContainer||o.props.showTimeSelectOnly))return ae.createElement(JBe,$t({},t.defaultProps,o.props,{onChange:o.props.onTimeChange,format:o.props.timeFormat,intervals:o.props.timeIntervals,monthRef:o.state.monthContainer}))},o.renderInputTimeSection=function(){var s=o.props.selected?new Date(o.props.selected):void 0,c=s&&Sa(s)&&!!o.props.selected,d=c?"".concat(s7(s.getHours()),":").concat(s7(s.getMinutes())):"";if(o.props.showTimeInput)return ae.createElement($Be,$t({},t.defaultProps,o.props,{date:s,timeString:d,onChange:o.props.onTimeChange}))},o.renderAriaLiveRegion=function(){var s,c=Bl(o.state.date,(s=o.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber),d=c.startPeriod,m=c.endPeriod,f;return o.props.showYearPicker?f="".concat(d," - ").concat(m):o.props.showMonthYearPicker||o.props.showQuarterYearPicker?f=Ct(o.state.date):f="".concat(BI(bo(o.state.date),o.props.locale)," ").concat(Ct(o.state.date)),ae.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},o.state.isRenderAriaLiveMessage&&f)},o.renderChildren=function(){if(o.props.children)return ae.createElement("div",{className:"react-datepicker__children-container"},o.props.children)},o.containerRef=B.createRef(),o.state={date:o.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},o}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Pb}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){r.setState({monthContainer:r.monthContainer})}())},t.prototype.componentDidUpdate=function(r){var o=this;if(this.props.preSelection&&(!Bt(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var s=!mo(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&o.handleCustomMonthChange(o.state.date)})}else this.props.openToDate&&!Bt(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var r=this.props.container||kBe;return ae.createElement(eC,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},ae.createElement(r,{className:pe("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},t}(B.Component),s3e=function(e){var t=e.icon,r=e.className,o=r===void 0?"":r,s=e.onClick,c="react-datepicker__calendar-icon";return typeof t=="string"?ae.createElement("i",{className:"".concat(c," ").concat(t," ").concat(o),"aria-hidden":"true",onClick:s}):ae.isValidElement(t)?ae.cloneElement(t,{className:"".concat(t.props.className||""," ").concat(c," ").concat(o),onClick:function(d){typeof t.props.onClick=="function"&&t.props.onClick(d),typeof s=="function"&&s(d)}}):ae.createElement("svg",{className:"".concat(c," ").concat(o),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},ae.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},gK=function(e){Rr(t,e);function t(r){var o=e.call(this,r)||this;return o.portalRoot=null,o.el=document.createElement("div"),o}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return Zf.createPortal(this.props.children,this.el)},t}(B.Component),a3e="[tabindex], a, button, input, select, textarea",l3e=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},bK=function(e){Rr(t,e);function t(r){var o=e.call(this,r)||this;return o.getTabChildren=function(){var s;return Array.prototype.slice.call((s=o.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(a3e),1,-1).filter(l3e)},o.handleFocusStart=function(){var s=o.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},o.handleFocusEnd=function(){var s=o.getTabChildren();s&&s.length>1&&s[0].focus()},o.tabLoopRef=B.createRef(),o}return t.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:t.defaultProps.enableTabLoop)?ae.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ae.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ae.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(B.Component);function c3e(e){var t=function(r){var o,s=typeof r.hidePopper=="boolean"?r.hidePopper:!0,c=B.useRef(null),d=bBe($t({open:!s,whileElementsMounted:YOe,placement:r.popperPlacement,middleware:$s([nBe({padding:15}),tBe(10),rBe({element:c})],(o=r.popperModifiers)!==null&&o!==void 0?o:[],!0)},r.popperProps)),m=$t($t({},r),{hidePopper:s,popperProps:$t($t({},d),{arrowRef:c})});return ae.createElement(e,$t({},m))};return t}var u3e=function(e){Rr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r=this.props,o=r.className,s=r.wrapperClassName,c=r.hidePopper,d=c===void 0?t.defaultProps.hidePopper:c,m=r.popperComponent,f=r.targetComponent,k=r.enableTabLoop,v=r.popperOnKeyDown,_=r.portalId,y=r.portalHost,A=r.popperProps,D=r.showArrow,S=void 0;if(!d){var I=pe("react-datepicker-popper",o);S=ae.createElement(bK,{enableTabLoop:k},ae.createElement("div",{ref:A.refs.setFloating,style:A.floatingStyles,className:I,"data-placement":A.placement,onKeyDown:v},m,D&&ae.createElement(uBe,{ref:A.arrowRef,context:A.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(S=B.createElement(this.props.popperContainer,{},S)),_&&!d&&(S=ae.createElement(gK,{portalId:_,portalHost:y},S));var T=pe("react-datepicker-wrapper",s);return ae.createElement(ae.Fragment,null,ae.createElement("div",{ref:A.refs.setReference,className:T},f),S)},t}(B.Component),d3e=c3e(u3e),h7="react-datepicker-ignore-onclickoutside";function h3e(e,t){return e&&t?bo(e)!==bo(t)||Ct(e)!==Ct(t):e!==t}var Lx="Date input not valid.",p3e=function(e){Rr(t,e);function t(r){var o=e.call(this,r)||this;return o.calendar=null,o.input=null,o.getPreSelection=function(){return o.props.openToDate?o.props.openToDate:o.props.selectsEnd&&o.props.startDate?o.props.startDate:o.props.selectsStart&&o.props.endDate?o.props.endDate:nn()},o.modifyHolidays=function(){var s;return(s=o.props.holidays)===null||s===void 0?void 0:s.reduce(function(c,d){var m=new Date(d.date);return Sa(m)?$s($s([],c,!0),[$t($t({},d),{date:m})],!1):c},[])},o.calcInitialState=function(){var s,c=o.getPreSelection(),d=pK(o.props),m=fK(o.props),f=d&&Bu(c,P0(d))?d:m&&oc(c,Z9(m))?m:c;return{open:o.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=o.props.selectsRange?o.props.startDate:o.props.selected)!==null&&s!==void 0?s:f,highlightDates:i7(o.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},o.resetHiddenStatus=function(){o.setState($t($t({},o.state),{wasHidden:!1}))},o.setHiddenStatus=function(){o.setState($t($t({},o.state),{wasHidden:!0}))},o.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&o.setHiddenStatus()},o.clearPreventFocusTimeout=function(){o.preventFocusTimeout&&clearTimeout(o.preventFocusTimeout)},o.setFocus=function(){o.input&&o.input.focus&&o.input.focus({preventScroll:!0})},o.setBlur=function(){o.input&&o.input.blur&&o.input.blur(),o.cancelFocusInput()},o.setOpen=function(s,c){c===void 0&&(c=!1),o.setState({open:s,preSelection:s&&o.state.open?o.state.preSelection:o.calcInitialState().preSelection,lastPreSelectChange:jx},function(){s||o.setState(function(d){return{focused:c?d.focused:!1}},function(){!c&&o.setBlur(),o.setState({inputValue:null})})})},o.inputOk=function(){return Fa(o.state.preSelection)},o.isCalendarOpen=function(){return o.props.open===void 0?o.state.open&&!o.props.disabled&&!o.props.readOnly:o.props.open},o.handleFocus=function(s){var c,d,m=o.state.wasHidden,f=m?o.state.open:!0;m&&o.resetHiddenStatus(),!o.state.preventFocus&&f&&((d=(c=o.props).onFocus)===null||d===void 0||d.call(c,s),!o.props.preventOpenOnFocus&&!o.props.readOnly&&o.setOpen(!0)),o.setState({focused:!0})},o.sendFocusBackToInput=function(){o.preventFocusTimeout&&o.clearPreventFocusTimeout(),o.setState({preventFocus:!0},function(){o.preventFocusTimeout=setTimeout(function(){o.setFocus(),o.setState({preventFocus:!1})})})},o.cancelFocusInput=function(){clearTimeout(o.inputFocusTimeout),o.inputFocusTimeout=void 0},o.deferFocusInput=function(){o.cancelFocusInput(),o.inputFocusTimeout=setTimeout(function(){return o.setFocus()},1)},o.handleDropdownFocus=function(){o.cancelFocusInput()},o.handleBlur=function(s){var c,d;(!o.state.open||o.props.withPortal||o.props.showTimeInput)&&((d=(c=o.props).onBlur)===null||d===void 0||d.call(c,s)),o.setState({focused:!1})},o.handleCalendarClickOutside=function(s){var c,d;o.props.inline||o.setOpen(!1),(d=(c=o.props).onClickOutside)===null||d===void 0||d.call(c,s),o.props.withPortal&&s.preventDefault()},o.handleChange=function(){for(var s,c,d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];var f=d[0];if(!(o.props.onChangeRaw&&(o.props.onChangeRaw.apply(o,d),!f||typeof f.isDefaultPrevented!="function"||f.isDefaultPrevented()))){o.setState({inputValue:(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:null,lastPreSelectChange:f3e});var k=o.props,v=k.dateFormat,_=v===void 0?t.defaultProps.dateFormat:v,y=k.strictParsing,A=y===void 0?t.defaultProps.strictParsing:y,D=k.selectsRange,S=k.startDate,I=k.endDate,T=(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:"";if(D){var P=T.split("-",2).map(function(q){return q.trim()}),N=P[0],j=P[1],$=Rx(N??"",_,o.props.locale,A),U=Rx(j??"",_,o.props.locale,A),R=(S==null?void 0:S.getTime())!==($==null?void 0:$.getTime()),z=(I==null?void 0:I.getTime())!==(U==null?void 0:U.getTime());if(!R&&!z||$&&Mi($,o.props)||U&&Mi(U,o.props))return;(c=(s=o.props).onChange)===null||c===void 0||c.call(s,[$,U],f)}else{var W=Rx(T,_,o.props.locale,A,o.props.minDate);o.props.showTimeSelectOnly&&o.props.selected&&W&&!Bt(W,o.props.selected)&&(W=gOe(o.props.selected,{hours:Qs(W),minutes:Zs(W),seconds:za(W)})),(W||!T)&&o.setSelected(W,f,!0)}}},o.handleSelect=function(s,c,d){if(o.props.shouldCloseOnSelect&&!o.props.showTimeSelect&&o.sendFocusBackToInput(),o.props.onChangeRaw&&o.props.onChangeRaw(c),o.setSelected(s,c,!1,d),o.props.showDateSelect&&o.setState({isRenderAriaLiveMessage:!0}),!o.props.shouldCloseOnSelect||o.props.showTimeSelect)o.setPreSelection(s);else if(!o.props.inline){o.props.selectsRange||o.setOpen(!1);var m=o.props,f=m.startDate,k=m.endDate;f&&!k&&(o.props.swapRange||!c7(s,f))&&o.setOpen(!1)}},o.setSelected=function(s,c,d,m){var f,k,v=s;if(o.props.showYearPicker){if(v!==null&&N0(Ct(v),o.props))return}else if(o.props.showMonthYearPicker){if(v!==null&&hK(v,o.props))return}else if(v!==null&&Mi(v,o.props))return;var _=o.props,y=_.onChange,A=_.selectsRange,D=_.startDate,S=_.endDate,I=_.selectsMultiple,T=_.selectedDates,P=_.minTime,N=_.swapRange;if(!su(o.props.selected,v)||o.props.allowSameDay||A||I)if(v!==null&&(o.props.selected&&(!d||!o.props.showTimeSelect&&!o.props.showTimeSelectOnly&&!o.props.showTimeInput)&&(v=Ox(v,{hour:Qs(o.props.selected),minute:Zs(o.props.selected),second:za(o.props.selected)})),!d&&(o.props.showTimeSelect||o.props.showTimeSelectOnly)&&P&&(v=Ox(v,{hour:P.getHours(),minute:P.getMinutes(),second:P.getSeconds()})),o.props.inline||o.setState({preSelection:v}),o.props.focusSelectedMonth||o.setState({monthSelectedIn:m})),A){var j=!D&&!S,$=D&&!S,U=D&&S;j?y==null||y([v,null],c):$&&(v===null?y==null||y([null,null],c):c7(v,D)?N?y==null||y([v,D],c):y==null||y([v,null],c):y==null||y([D,v],c)),U&&(y==null||y([v,null],c))}else if(I){if(v!==null)if(!(T!=null&&T.length))y==null||y([v],c);else{var R=T.some(function(W){return Bt(W,v)});if(R){var z=T.filter(function(W){return!Bt(W,v)});y==null||y(z,c)}else y==null||y($s($s([],T,!0),[v],!1),c)}}else y==null||y(v,c);d||((k=(f=o.props).onSelect)===null||k===void 0||k.call(f,v,c),o.setState({inputValue:null}))},o.setPreSelection=function(s){var c=Fa(o.props.minDate),d=Fa(o.props.maxDate),m=!0;if(s){var f=P0(s);if(c&&d)m=am(s,o.props.minDate,o.props.maxDate);else if(c){var k=P0(o.props.minDate);m=oc(s,k)||su(f,k)}else if(d){var v=Z9(o.props.maxDate);m=Bu(s,v)||su(f,v)}}m&&o.setState({preSelection:s})},o.toggleCalendar=function(){o.setOpen(!o.state.open)},o.handleTimeChange=function(s){var c,d;if(!(o.props.selectsRange||o.props.selectsMultiple)){var m=o.props.selected?o.props.selected:o.getPreSelection(),f=o.props.selected?s:Ox(m,{hour:Qs(s),minute:Zs(s)});o.setState({preSelection:f}),(d=(c=o.props).onChange)===null||d===void 0||d.call(c,f),o.props.shouldCloseOnSelect&&!o.props.showTimeInput&&(o.sendFocusBackToInput(),o.setOpen(!1)),o.props.showTimeInput&&o.setOpen(!0),(o.props.showTimeSelectOnly||o.props.showTimeSelect)&&o.setState({isRenderAriaLiveMessage:!0}),o.setState({inputValue:null})}},o.onInputClick=function(){var s,c;!o.props.disabled&&!o.props.readOnly&&o.setOpen(!0),(c=(s=o.props).onInputClick)===null||c===void 0||c.call(s)},o.onInputKeyDown=function(s){var c,d,m,f,k,v;(d=(c=o.props).onKeyDown)===null||d===void 0||d.call(c,s);var _=s.key;if(!o.state.open&&!o.props.inline&&!o.props.preventOpenOnFocus){(_===Me.ArrowDown||_===Me.ArrowUp||_===Me.Enter)&&((m=o.onInputClick)===null||m===void 0||m.call(o));return}if(o.state.open){if(_===Me.ArrowDown||_===Me.ArrowUp){s.preventDefault();var y=o.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":o.props.showWeekPicker&&o.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':o.props.showFullMonthYearPicker||o.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',A=((f=o.calendar)===null||f===void 0?void 0:f.containerRef.current)instanceof Element&&o.calendar.containerRef.current.querySelector(y);A instanceof HTMLElement&&A.focus({preventScroll:!0});return}var D=nn(o.state.preSelection);_===Me.Enter?(s.preventDefault(),o.inputOk()&&o.state.lastPreSelectChange===jx?(o.handleSelect(D,s),!o.props.shouldCloseOnSelect&&o.setPreSelection(D)):o.setOpen(!1)):_===Me.Escape?(s.preventDefault(),o.sendFocusBackToInput(),o.setOpen(!1)):_===Me.Tab&&o.setOpen(!1),o.inputOk()||(v=(k=o.props).onInputError)===null||v===void 0||v.call(k,{code:1,msg:Lx})}},o.onPortalKeyDown=function(s){var c=s.key;c===Me.Escape&&(s.preventDefault(),o.setState({preventFocus:!0},function(){o.setOpen(!1),setTimeout(function(){o.setFocus(),o.setState({preventFocus:!1})})}))},o.onDayKeyDown=function(s){var c,d,m,f,k,v,_=o.props,y=_.minDate,A=_.maxDate,D=_.disabledKeyboardNavigation,S=_.showWeekPicker,I=_.shouldCloseOnSelect,T=_.locale,P=_.calendarStartDay,N=_.adjustDateOnChange,j=_.inline;if((d=(c=o.props).onKeyDown)===null||d===void 0||d.call(c,s),!D){var $=s.key,U=s.shiftKey,R=nn(o.state.preSelection),z=function(te,ee){var ne=ee;switch(te){case Me.ArrowRight:ne=S?zw(ee,1):tl(ee,1);break;case Me.ArrowLeft:ne=S?z9(ee,1):X4e(ee,1);break;case Me.ArrowUp:ne=z9(ee,1);break;case Me.ArrowDown:ne=zw(ee,1);break;case Me.PageUp:ne=U?sp(ee,1):ip(ee,1);break;case Me.PageDown:ne=U?ja(ee,1):ps(ee,1);break;case Me.Home:ne=Yl(ee,T,P);break;case Me.End:ne=xBe(ee);break}return ne},W=function(te,ee){for(var ne=40,G=te,re=!1,ie=0,_e=z(te,ee);!re;){if(ie>=ne){_e=ee;break}y&&_e<y&&(G=Me.ArrowRight,_e=Mi(y,o.props)?z(G,_e):y),A&&_e>A&&(G=Me.ArrowLeft,_e=Mi(A,o.props)?z(G,_e):A),Mi(_e,o.props)?((G===Me.PageUp||G===Me.Home)&&(G=Me.ArrowRight),(G===Me.PageDown||G===Me.End)&&(G=Me.ArrowLeft),_e=z(G,_e)):re=!0,ie++}return _e};if($===Me.Enter){s.preventDefault(),o.handleSelect(R,s),!I&&o.setPreSelection(R);return}else if($===Me.Escape){s.preventDefault(),o.setOpen(!1),o.inputOk()||(f=(m=o.props).onInputError)===null||f===void 0||f.call(m,{code:1,msg:Lx});return}var q=null;switch($){case Me.ArrowLeft:case Me.ArrowRight:case Me.ArrowUp:case Me.ArrowDown:case Me.PageUp:case Me.PageDown:case Me.Home:case Me.End:q=W($,R);break}if(!q){(v=(k=o.props).onInputError)===null||v===void 0||v.call(k,{code:1,msg:Lx});return}if(s.preventDefault(),o.setState({lastPreSelectChange:jx}),N&&o.setSelected(q),o.setPreSelection(q),j){var Y=bo(R),Z=bo(q),Q=Ct(R),J=Ct(q);Y!==Z||Q!==J?o.setState({shouldFocusDayInline:!0}):o.setState({shouldFocusDayInline:!1})}}},o.onPopperKeyDown=function(s){var c=s.key;c===Me.Escape&&(s.preventDefault(),o.sendFocusBackToInput())},o.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),o.sendFocusBackToInput();var c=o.props,d=c.selectsRange,m=c.onChange;d?m==null||m([null,null],s):m==null||m(null,s),o.setState({inputValue:null})},o.clear=function(){o.onClearClick()},o.onScroll=function(s){typeof o.props.closeOnScroll=="boolean"&&o.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&o.setOpen(!1):typeof o.props.closeOnScroll=="function"&&o.props.closeOnScroll(s)&&o.setOpen(!1)},o.renderCalendar=function(){var s,c;return!o.props.inline&&!o.isCalendarOpen()?null:ae.createElement(i3e,$t({showMonthYearDropdown:void 0,ref:function(d){o.calendar=d}},o.props,o.state,{setOpen:o.setOpen,dateFormat:(s=o.props.dateFormatCalendar)!==null&&s!==void 0?s:t.defaultProps.dateFormatCalendar,onSelect:o.handleSelect,onClickOutside:o.handleCalendarClickOutside,holidays:LBe(o.modifyHolidays()),outsideClickIgnoreClass:h7,onDropdownFocus:o.handleDropdownFocus,onTimeChange:o.handleTimeChange,className:o.props.calendarClassName,container:o.props.calendarContainer,handleOnKeyDown:o.props.onKeyDown,handleOnDayKeyDown:o.onDayKeyDown,setPreSelection:o.setPreSelection,dropdownMode:(c=o.props.dropdownMode)!==null&&c!==void 0?c:t.defaultProps.dropdownMode}),o.props.children)},o.renderAriaLiveRegion=function(){var s=o.props,c=s.dateFormat,d=c===void 0?t.defaultProps.dateFormat:c,m=s.locale,f=o.props.showTimeInput||o.props.showTimeSelect,k=f?"PPPPp":"PPPP",v;return o.props.selectsRange?v="Selected start date: ".concat(Ei(o.props.startDate,{dateFormat:k,locale:m}),". ").concat(o.props.endDate?"End date: "+Ei(o.props.endDate,{dateFormat:k,locale:m}):""):o.props.showTimeSelectOnly?v="Selected time: ".concat(Ei(o.props.selected,{dateFormat:d,locale:m})):o.props.showYearPicker?v="Selected year: ".concat(Ei(o.props.selected,{dateFormat:"yyyy",locale:m})):o.props.showMonthYearPicker?v="Selected month: ".concat(Ei(o.props.selected,{dateFormat:"MMMM yyyy",locale:m})):o.props.showQuarterYearPicker?v="Selected quarter: ".concat(Ei(o.props.selected,{dateFormat:"yyyy, QQQ",locale:m})):v="Selected date: ".concat(Ei(o.props.selected,{dateFormat:k,locale:m})),ae.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},v)},o.renderDateInput=function(){var s,c,d,m=pe(o.props.className,(s={},s[h7]=o.state.open,s)),f=o.props.customInput||ae.createElement("input",{type:"text"}),k=o.props.customInputRef||"ref",v=o.props,_=v.dateFormat,y=_===void 0?t.defaultProps.dateFormat:_,A=v.locale,D=typeof o.props.value=="string"?o.props.value:typeof o.state.inputValue=="string"?o.state.inputValue:o.props.selectsRange?yBe(o.props.startDate,o.props.endDate,{dateFormat:y,locale:A}):o.props.selectsMultiple?_Be((d=o.props.selectedDates)!==null&&d!==void 0?d:[],{dateFormat:y,locale:A}):Ei(o.props.selected,{dateFormat:y,locale:A});return B.cloneElement(f,(c={},c[k]=function(S){o.input=S},c.value=D,c.onBlur=o.handleBlur,c.onChange=o.handleChange,c.onClick=o.onInputClick,c.onFocus=o.handleFocus,c.onKeyDown=o.onInputKeyDown,c.id=o.props.id,c.name=o.props.name,c.form=o.props.form,c.autoFocus=o.props.autoFocus,c.placeholder=o.props.placeholderText,c.disabled=o.props.disabled,c.autoComplete=o.props.autoComplete,c.className=pe(f.props.className,m),c.title=o.props.title,c.readOnly=o.props.readOnly,c.required=o.props.required,c.tabIndex=o.props.tabIndex,c["aria-describedby"]=o.props.ariaDescribedBy,c["aria-invalid"]=o.props.ariaInvalid,c["aria-labelledby"]=o.props.ariaLabelledBy,c["aria-required"]=o.props.ariaRequired,c))},o.renderClearButton=function(){var s=o.props,c=s.isClearable,d=s.disabled,m=s.selected,f=s.startDate,k=s.endDate,v=s.clearButtonTitle,_=s.clearButtonClassName,y=_===void 0?"":_,A=s.ariaLabelClose,D=A===void 0?"Close":A,S=s.selectedDates;return c&&(m!=null||f!=null||k!=null||S!=null&&S.length)?ae.createElement("button",{type:"button",className:pe("react-datepicker__close-icon",y,{"react-datepicker__close-icon--disabled":d}),disabled:d,"aria-label":D,onClick:o.onClearClick,title:v,tabIndex:-1}):null},o.state=o.calcInitialState(),o.preventFocusTimeout=void 0,o}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Pb,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(r,o){var s,c,d,m;r.inline&&h3e(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:i7(this.props.highlightDates)}),!o.focused&&!su(r.selected,this.props.selected)&&this.setState({inputValue:null}),o.open!==this.state.open&&(o.open===!1&&this.state.open===!0&&((c=(s=this.props).onCalendarOpen)===null||c===void 0||c.call(s)),o.open===!0&&this.state.open===!1&&((m=(d=this.props).onCalendarClose)===null||m===void 0||m.call(d)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var r=this.props,o=r.showIcon,s=r.icon,c=r.calendarIconClassname,d=r.calendarIconClassName,m=r.toggleCalendarOnIconClick,f=this.state.open;return c&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ae.createElement("div",{className:"react-datepicker__input-container".concat(o?" react-datepicker__view-calendar-icon":"")},o&&ae.createElement(s3e,$t({icon:s,className:pe(d,!d&&c,f&&"react-datepicker-ignore-onclickoutside")},m?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var o=this.state.open?ae.createElement(bK,{enableTabLoop:this.props.enableTabLoop},ae.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(o=ae.createElement(gK,$t({portalId:this.props.portalId},this.props),o)),ae.createElement("div",null,this.renderInputContainer(),o)}return ae.createElement(d3e,$t({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(B.Component),f3e="input",jx="navigate";const m3e=he(sr)({width:"100%"}),g3e=ae.forwardRef((e,t)=>x.jsx(m3e,{...e,inputRef:t,fullWidth:!0})),b3e=({value:e,onChange:t})=>x.jsx(fe,{sx:{mb:2},children:x.jsx(p3e,{selected:e,onChange:r=>t(r),showTimeSelect:!0,dateFormat:"Pp",customInput:x.jsx(g3e,{label:"Schedule Publish Date & Time"})})}),kK=({materialData:e,onSubmit:t})=>{var ln,Lt,xt,Ut,dt,We,ut,at,Ze,yt,Zt,Qn,Dt,Ke,cn,Do,Gr,qe,Pt,Nt,un,$n,il,Or,yc,sl,_c,Cc,al,Ac,Ju,Cr,Xu,mi;const r=xo(),{userDetails:o}=Eo(),s=Fn(),[c,d]=B.useState((e==null?void 0:e.course)||""),[m,f]=B.useState((e==null?void 0:e.title)||""),[k,v]=B.useState((e==null?void 0:e.header)||{title:"Header",content:""}),[_,y]=B.useState((e==null?void 0:e.footer)||{title:"Footer",content:""}),[A,D]=B.useState((e==null?void 0:e.sections)||[{id:im(),title:"Section 1",content:"",subsections:[],images:[],links:[]}]),[S,I]=B.useState({sectionIndex:0}),[T,P]=B.useState(!1),[N,j]=B.useState(""),[$,U]=B.useState("success"),[R,z]=B.useState(!1),[W,q]=B.useState(((ln=e==null?void 0:e.scheduledTimestamp)==null?void 0:ln.toDate())||null),[Y,Z]=B.useState(!1);B.useEffect(()=>{const ve=Ae=>{Ae.key==="ArrowLeft"?Ne("prev"):Ae.key==="ArrowRight"&&Ne("next")};return window.addEventListener("keydown",ve),()=>{window.removeEventListener("keydown",ve)}},[S,A]);const Q=async(ve,Ae=!1,Ee)=>{ve.preventDefault();try{if(e){const Fe=Yt(s,"materials",e.id);await dr(Fe,{course:c,title:m,header:k,footer:_,sections:A,published:Ae,scheduledTimestamp:Ee?ir.fromDate(Ee):null}),j("Material updated successfully")}else{const Fe=await Tu(yr(s,"materials"),{course:c,title:m,header:k,footer:_,sections:A,author:(o==null?void 0:o.uid)||"",timestamp:_m(),published:Ae,scheduledTimestamp:Ee?ir.fromDate(Ee):null});j("Material saved successfully")}U("success"),P(!0),z(!0),setTimeout(()=>z(!1),3e3)}catch{j("Failed to save material"),U("error"),P(!0)}},J=()=>{r("/supplemental-materials")},te=ve=>{Q(ve,!0)},ee=ve=>{Y&&W?Q(ve,!1,W):Z(!0)},ne=()=>{D([...A,{id:im(),title:`Section ${A.length+1}`,content:"",subsections:[],images:[],links:[]}])},G=ve=>{const Ae=[...A],Ee=Ae[ve];Ee.subsections.push({id:im(),title:`Subsection ${Ee.subsections.length+1}`,content:"",subSubsections:[],images:[],links:[]}),D(Ae),I({sectionIndex:ve,subsectionIndex:Ee.subsections.length-1})},re=(ve,Ae)=>{const Ee=[...A],Fe=Ee[ve].subsections[Ae];Fe.subSubsections.push({id:im(),title:`Sub-Subsection ${Fe.subSubsections.length+1}`,content:"",images:[],links:[]}),D(Ee),I({sectionIndex:ve,subsectionIndex:Ae,subSubsectionIndex:Fe.subSubsections.length-1})},ie=(ve,Ae,Ee,Fe)=>{const nt=[...A];Fe!==void 0?nt[ve].subsections[Ee].subSubsections[Fe].images=[...nt[ve].subsections[Ee].subSubsections[Fe].images,...Ae]:Ee!==void 0?nt[ve].subsections[Ee].images=[...nt[ve].subsections[Ee].images,...Ae]:nt[ve].images=[...nt[ve].images,...Ae],D(nt)},_e=(ve,Ae,Ee,Fe)=>{const nt=[...A];Fe!==void 0?nt[ve].subsections[Ee].subSubsections[Fe].links=Ae:Ee!==void 0?nt[ve].subsections[Ee].links=Ae:nt[ve].links=Ae,D(nt)},Te=(ve,Ae,Ee)=>{I({sectionIndex:typeof ve=="number"?ve:void 0,subsectionIndex:Ae,subSubsectionIndex:Ee,type:typeof ve=="string"?ve:void 0})},et=(ve,Ae)=>{const Ee=[...A];Ee[ve].title=Ae,D(Ee)},Le=(ve,Ae,Ee)=>{const Fe=[...A];Fe[ve].subsections[Ae].title=Ee,D(Fe)},st=(ve,Ae,Ee,Fe)=>{const nt=[...A];nt[ve].subsections[Ae].subSubsections[Ee].title=Fe,D(nt)},me=(ve,Ae,Ee,Fe)=>{const nt=[...A];Fe!==void 0?nt[ve].subsections[Ee].subSubsections[Fe].content=Ae:Ee!==void 0?nt[ve].subsections[Ee].content=Ae:nt[ve].content=Ae,D(nt)},ot=ve=>{v({...k,content:ve})},it=ve=>{y({..._,content:ve})},ct=ve=>{const Ae=A.filter((Ee,Fe)=>Fe!==ve);D(Ae),Ae.length===0?I({sectionIndex:void 0,type:"header"}):ve>=Ae.length?I({sectionIndex:Ae.length-1}):I({sectionIndex:ve})},At=(ve,Ae)=>{var Fe;const Ee=[...A];(Fe=Ee[ve])!=null&&Fe.subsections&&(Ee[ve].subsections=Ee[ve].subsections.filter((nt,Pn)=>Pn!==Ae),D(Ee),Ee[ve].subsections.length===0?I({sectionIndex:ve}):Ae>=Ee[ve].subsections.length?I({sectionIndex:ve,subsectionIndex:Ee[ve].subsections.length-1}):I({sectionIndex:ve,subsectionIndex:Ae}))},tt=(ve,Ae,Ee)=>{var Pn,Nn;const Fe=[...A],nt=(Nn=(Pn=Fe[ve])==null?void 0:Pn.subsections)==null?void 0:Nn[Ae];nt&&nt.subSubsections&&(nt.subSubsections=nt.subSubsections.filter((ua,ed)=>ed!==Ee),D(Fe),nt.subSubsections.length?Ee>=nt.subSubsections.length?I({sectionIndex:ve,subsectionIndex:Ae,subSubsectionIndex:nt.subSubsections.length-1}):I({sectionIndex:ve,subsectionIndex:Ae,subSubsectionIndex:Ee}):I({sectionIndex:ve,subsectionIndex:Ae}))},Ne=ve=>{const{sectionIndex:Ae,subsectionIndex:Ee,subSubsectionIndex:Fe,type:nt}=S;if(ve==="prev")if(Fe!==void 0&&Fe>0)I({sectionIndex:Ae,subsectionIndex:Ee,subSubsectionIndex:Fe-1});else if(Fe!==void 0&&Fe===0)I({sectionIndex:Ae,subsectionIndex:Ee});else if(Ee!==void 0&&Ee>0)I({sectionIndex:Ae,subsectionIndex:Ee-1});else if(Ee!==void 0&&Ee===0)I({sectionIndex:Ae});else if(Ae>0){const Pn=A[Ae-1];I({sectionIndex:Ae-1,subsectionIndex:Pn.subsections.length?Pn.subsections.length-1:void 0,subSubsectionIndex:Pn.subsections.length?Pn.subsections[Pn.subsections.length-1].subSubsections.length-1:void 0})}else nt==="footer"?I({sectionIndex:A.length-1,type:"footer"}):Ae===void 0&&nt==="header"&&I({sectionIndex:A.length-1});else ve==="next"&&(Fe===void 0&&Ee!==void 0&&A[Ae].subsections[Ee].subSubsections.length?I({sectionIndex:Ae,subsectionIndex:Ee,subSubsectionIndex:0}):Fe!==void 0&&Fe<A[Ae].subsections[Ee].subSubsections.length-1?I({sectionIndex:Ae,subsectionIndex:Ee,subSubsectionIndex:Fe+1}):Fe!==void 0&&Fe===A[Ae].subsections[Ee].subSubsections.length-1&&Ee<A[Ae].subsections.length-1?I({sectionIndex:Ae,subsectionIndex:Ee+1}):Ee===void 0&&A[Ae].subsections.length?I({sectionIndex:Ae,subsectionIndex:0}):Ee!==void 0&&Ee<A[Ae].subsections.length-1?I({sectionIndex:Ae,subsectionIndex:Ee+1}):Ee!==void 0&&Ee===A[Ae].subsections.length-1&&Ae<A.length-1?I({sectionIndex:Ae+1}):Ae<A.length-1?I({sectionIndex:Ae+1}):Ae===A.length-1&&Ee===void 0&&I({sectionIndex:void 0,type:"footer"}))},be=S.type==="header"||S.type==="footer"?"":S.sectionIndex!==void 0?S.subSubsectionIndex!==void 0?((Lt=A[S.sectionIndex].subsections[S.subsectionIndex].subSubsections[S.subSubsectionIndex])==null?void 0:Lt.content)||"":S.subsectionIndex!==void 0?((xt=A[S.sectionIndex].subsections[S.subsectionIndex])==null?void 0:xt.content)||"":((Ut=A[S.sectionIndex])==null?void 0:Ut.content)||"":"",Pe=S.type==="header"||S.type==="footer"?"":S.sectionIndex!==void 0?S.subSubsectionIndex!==void 0?((dt=A[S.sectionIndex].subsections[S.subsectionIndex].subSubsections[S.subSubsectionIndex])==null?void 0:dt.title)||"":S.subsectionIndex!==void 0?((We=A[S.sectionIndex].subsections[S.subsectionIndex])==null?void 0:We.title)||"":((ut=A[S.sectionIndex])==null?void 0:ut.title)||"":"",Je=(ve,Ae,Ee,Fe)=>{const nt=[...A];Fe!==void 0?nt[ve].subsections[Ee].subSubsections[Fe].images=nt[ve].subsections[Ee].subSubsections[Fe].images.filter(Pn=>Pn.url!==Ae):Ee!==void 0?nt[ve].subsections[Ee].images=nt[ve].subsections[Ee].images.filter(Pn=>Pn.url!==Ae):nt[ve].images=nt[ve].images.filter(Pn=>Pn.url!==Ae),D(nt)};return x.jsxs(fe,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:[x.jsxs(fe,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[x.jsx(fe,{sx:{width:"450px",ml:2,mt:2},children:x.jsx(oG,{})}),x.jsxs(fe,{sx:{display:"flex",flexGrow:1},children:[x.jsx(nG,{sections:A,selected:S,onAddSection:ne,onAddSubsection:G,onAddSubSubsection:re,onSelectSection:Te,onUpdateSectionTitle:et,onUpdateSubsectionTitle:Le,onUpdateSubSubsectionTitle:st,onDeleteSection:ct,onDeleteSubsection:At,onDeleteSubSubsection:tt}),x.jsxs(fe,{sx:{flexGrow:1,padding:3},children:[x.jsx(sr,{label:"Material Title",variant:"outlined",fullWidth:!0,value:m,onChange:ve=>f(ve.target.value),sx:{mb:2}}),x.jsx(QNe,{value:c,onChange:d}),W&&x.jsxs(we,{variant:"body1",gutterBottom:!0,children:["Scheduled Publish Date & Time: ",W.toLocaleString()]}),x.jsxs(fe,{sx:{border:S.type==="header"?"2px solid blue":"none",borderRadius:1,padding:2,mb:2},children:[x.jsx(fe,{sx:{mt:2,display:"flex",justifyContent:"center",alignItems:"center"},children:x.jsx(we,{variant:"h6",sx:{color:"gray",textAlign:"center"},children:"Header"})}),x.jsx(I9,{content:k.content,onChange:ot})]}),x.jsx(we,{variant:"h4",align:"center",gutterBottom:!0,children:Pe}),S.type!=="header"&&S.type!=="footer"&&x.jsxs(x.Fragment,{children:[x.jsx(YNe,{content:be,onChange:ve=>me(S.sectionIndex,ve,S.subsectionIndex,S.subSubsectionIndex)},`${S.sectionIndex}-${S.subsectionIndex}-${S.subSubsectionIndex}`),x.jsx(LIe,{sectionId:S.sectionIndex!==void 0?S.subSubsectionIndex!==void 0&&S.subsectionIndex!==void 0?((Qn=(Zt=(yt=(Ze=(at=A[S.sectionIndex])==null?void 0:at.subsections)==null?void 0:Ze[S.subsectionIndex])==null?void 0:yt.subSubsections)==null?void 0:Zt[S.subSubsectionIndex])==null?void 0:Qn.id)||"":S.subsectionIndex!==void 0?((cn=(Ke=(Dt=A[S.sectionIndex])==null?void 0:Dt.subsections)==null?void 0:Ke[S.subsectionIndex])==null?void 0:cn.id)||"":((Do=A[S.sectionIndex])==null?void 0:Do.id)||"":"",onImagesUploaded:ve=>ie(S.sectionIndex,ve,S.subsectionIndex,S.subSubsectionIndex)}),(S.subSubsectionIndex!==void 0?((un=(Nt=(Pt=(qe=(Gr=A[S.sectionIndex])==null?void 0:Gr.subsections)==null?void 0:qe[S.subsectionIndex])==null?void 0:Pt.subSubsections)==null?void 0:Nt[S.subSubsectionIndex])==null?void 0:un.images)||[]:S.subsectionIndex!==void 0?((Or=(il=($n=A[S.sectionIndex])==null?void 0:$n.subsections)==null?void 0:il[S.subsectionIndex])==null?void 0:Or.images)||[]:((yc=A[S.sectionIndex])==null?void 0:yc.images)||[]).map((ve,Ae)=>x.jsxs(fe,{sx:{position:"relative",mt:2},children:[x.jsx("img",{src:ve.url,alt:`Section ${S.sectionIndex+1} Image ${Ae+1}`,style:{maxWidth:"50%",marginBottom:"16px"}}),x.jsx(jIe,{imageTitle:ve.title,onTitleChange:Ee=>{var nt,Pn;const Fe=[...A];if(S.sectionIndex!==void 0)if(S.subSubsectionIndex!==void 0&&S.subsectionIndex!==void 0){const Nn=(Pn=(nt=Fe[S.sectionIndex].subsections)==null?void 0:nt[S.subsectionIndex])==null?void 0:Pn.subSubsections;Nn&&Nn[S.subSubsectionIndex]&&(Nn[S.subSubsectionIndex].images[Ae].title=Ee)}else if(S.subsectionIndex!==void 0){const Nn=Fe[S.sectionIndex].subsections;Nn&&Nn[S.subsectionIndex]&&(Nn[S.subsectionIndex].images[Ae].title=Ee)}else Fe[S.sectionIndex].images[Ae].title=Ee;D(Fe)}}),x.jsx(Gn,{sx:{position:"absolute",top:0,right:0,backgroundColor:"rgba(255, 255, 255, 0.7)"},onClick:()=>Je(S.sectionIndex,ve.url,S.subsectionIndex,S.subSubsectionIndex),children:x.jsx(Sp,{})})]},Ae)),x.jsx(VIe,{links:S.sectionIndex!==void 0?S.subSubsectionIndex!==void 0&&S.subsectionIndex!==void 0?((Ac=(al=(Cc=(_c=(sl=A[S.sectionIndex])==null?void 0:sl.subsections)==null?void 0:_c[S.subsectionIndex])==null?void 0:Cc.subSubsections)==null?void 0:al[S.subSubsectionIndex])==null?void 0:Ac.links)||[]:S.subsectionIndex!==void 0?((Xu=(Cr=(Ju=A[S.sectionIndex])==null?void 0:Ju.subsections)==null?void 0:Cr[S.subsectionIndex])==null?void 0:Xu.links)||[]:((mi=A[S.sectionIndex])==null?void 0:mi.links)||[]:[],onLinksChange:ve=>_e(S.sectionIndex,ve,S.subsectionIndex,S.subSubsectionIndex)})]}),x.jsxs(fe,{sx:{border:S.type==="footer"?"2px solid blue":"none",borderRadius:1,padding:2,mt:2},children:[x.jsx(fe,{sx:{mt:2,display:"flex",justifyContent:"center",alignItems:"center"},children:x.jsx(we,{variant:"h6",sx:{color:"gray",textAlign:"center"},children:"Footer"})}),x.jsx(I9,{content:_.content,onChange:it})]}),x.jsxs(fe,{sx:{display:"flex",justifyContent:"space-between"},children:[x.jsx(Xa,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:x.jsx("span",{children:x.jsx(Gn,{onClick:()=>Ne("prev"),disabled:S.sectionIndex===0&&S.subsectionIndex===void 0&&S.type==="header",children:x.jsx(cI,{})})})}),x.jsx(Xa,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:x.jsx("span",{children:x.jsx(Gn,{onClick:()=>Ne("next"),disabled:S.sectionIndex===A.length-1&&(S.subsectionIndex===void 0||S.subsectionIndex===A[S.sectionIndex].subsections.length-1)&&S.type==="footer",children:x.jsx(dI,{})})})})]}),x.jsxs(fe,{sx:{mt:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[x.jsx(ze,{type:"button",variant:"outlined",color:"secondary",onClick:J,children:"Cancel"}),x.jsxs(fe,{sx:{display:"flex",alignItems:"center"},children:[x.jsx(ze,{type:"submit",variant:"contained",color:"primary",onClick:ve=>Q(ve,!1),children:"Save"}),R&&x.jsx(we,{variant:"body2",sx:{fontStyle:"italic",ml:1},children:"Changes Saved"})]}),x.jsx(ze,{type:"button",variant:"contained",color:"primary",onClick:te,sx:{backgroundColor:"green"},children:"Publish"}),x.jsxs("div",{children:[Y&&x.jsx(b3e,{value:W,onChange:q}),x.jsx(ze,{type:"button",variant:"contained",color:"primary",onClick:ee,sx:{backgroundColor:"blue"},children:"Schedule Publish"})]})]})]})]})]}),x.jsx(Gi,{open:T,autoHideDuration:6e3,onClose:()=>P(!1),children:x.jsx(qi,{onClose:()=>P(!1),severity:$,sx:{width:"100%"},children:N})})]})},k3e=()=>{const{id:e}=H2(),t=Fn(),[r,o]=B.useState(null);B.useEffect(()=>{e&&(async()=>{const d=Yt(t,"materials",e),m=await fc(d);if(m.exists()){const f={id:m.id,...m.data()};f.sections=f.sections.map(k=>({...k,images:k.images.map(v=>({...v,title:v.title||""})),subsections:k.subsections.map(v=>({...v,images:v.images.map(_=>({..._,title:_.title||""})),subSubsections:v.subSubsections.map(_=>({..._,images:_.images.map(y=>({...y,title:y.title||""}))}))}))})),o(f)}})()},[e,t]);const s=async c=>{if(e){const d=Yt(t,"materials",e);await dr(d,{...c})}};return r?x.jsx(kK,{materialData:r,onSubmit:s}):x.jsx(fe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:x.jsx(ra,{})})},Fx=({images:e})=>x.jsx(fe,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:2},children:e.map((t,r)=>x.jsxs(fe,{sx:{mb:4,textAlign:"center"},children:[x.jsx("img",{src:t.url,alt:`Image ${r+1}`,style:{maxWidth:"100%",maxHeight:"500px",marginBottom:"8px"}}),x.jsx(we,{variant:"body2",sx:{fontStyle:"italic"},children:t.title})]},r))}),v3e=e=>!e.startsWith("http://")&&!e.startsWith("https://")?`https://${e}`:e,w3e=({links:e})=>e.length===0?null:x.jsxs(fe,{sx:{mt:2,width:"50%"},children:[x.jsx(we,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Links"}),x.jsxs(fe,{sx:{display:"flex",mb:1,borderBottom:"1px solid gray"},children:[x.jsx(we,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"Title"}),x.jsx(we,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"URL"}),x.jsx(we,{sx:{flexBasis:"40%",fontWeight:"bold"},children:"Description"})]}),e.map((t,r)=>x.jsx(fe,{children:x.jsxs(fe,{sx:{display:"flex",alignItems:"center",mb:1,flexWrap:"wrap",borderBottom:"1px solid lightgray"},children:[x.jsx(we,{sx:{flexBasis:"30%",fontStyle:"italic",wordWrap:"break-word",paddingRight:"8px"},children:t.title}),x.jsx(MS,{sx:{flexBasis:"30%",wordWrap:"break-word",paddingRight:"8px"},href:v3e(t.url),target:"_blank",rel:"noopener",children:t.url}),x.jsx(we,{sx:{flexBasis:"40%",wordWrap:"break-word"},children:t.description})]})},r))]}),y3e=()=>{var _,y,A,D,S,I,T,P,N,j,$,U,R,z,W,q,Y,Z;const{id:e}=H2(),t=Fn(),[r,o]=B.useState(null),[s,c]=B.useState({sectionIndex:0});B.useEffect(()=>{e&&(async()=>{const J=Yt(t,"materials",e),te=await fc(J);te.exists()&&o({id:te.id,...te.data()})})()},[e,t]);const d=(Q,J,te)=>{c({sectionIndex:typeof Q=="number"?Q:void 0,subsectionIndex:J,subSubsectionIndex:te,type:typeof Q=="string"?Q:void 0})},m=Q=>{const{sectionIndex:J,subsectionIndex:te,subSubsectionIndex:ee,type:ne}=s;if(Q==="prev")if(ee!==void 0&&ee>0)c({sectionIndex:J,subsectionIndex:te,subSubsectionIndex:ee-1});else if(ee!==void 0&&ee===0)c({sectionIndex:J,subsectionIndex:te});else if(te!==void 0&&te>0)c({sectionIndex:J,subsectionIndex:te-1});else if(te!==void 0&&te===0)c({sectionIndex:J});else if(J>0){const G=r==null?void 0:r.sections[J-1];c({sectionIndex:J-1,subsectionIndex:G!=null&&G.subsections.length?G.subsections.length-1:void 0,subSubsectionIndex:G!=null&&G.subsections.length?G.subsections[G.subsections.length-1].subSubsections.length-1:void 0})}else ne==="footer"?c({sectionIndex:(r==null?void 0:r.sections.length)-1,type:"footer"}):J===void 0&&ne==="header"&&c({sectionIndex:(r==null?void 0:r.sections.length)-1});else Q==="next"&&(ee===void 0&&te!==void 0&&(r!=null&&r.sections[J].subsections[te].subSubsections.length)?c({sectionIndex:J,subsectionIndex:te,subSubsectionIndex:0}):ee!==void 0&&ee<(r==null?void 0:r.sections[J].subsections[te].subSubsections.length)-1?c({sectionIndex:J,subsectionIndex:te,subSubsectionIndex:ee+1}):ee!==void 0&&ee===(r==null?void 0:r.sections[J].subsections[te].subSubsections.length)-1&&te<(r==null?void 0:r.sections[J].subsections.length)-1?c({sectionIndex:J,subsectionIndex:te+1}):te===void 0&&(r!=null&&r.sections[J].subsections.length)?c({sectionIndex:J,subsectionIndex:0}):te!==void 0&&te<(r==null?void 0:r.sections[J].subsections.length)-1?c({sectionIndex:J,subsectionIndex:te+1}):te!==void 0&&te===(r==null?void 0:r.sections[J].subsections.length)-1&&J<(r==null?void 0:r.sections.length)-1?c({sectionIndex:J+1}):J<(r==null?void 0:r.sections.length)-1?c({sectionIndex:J+1}):J===(r==null?void 0:r.sections.length)-1&&te===void 0&&c({sectionIndex:void 0,type:"footer"}))};if(!r)return x.jsx(ra,{});const f=s.type==="header"||s.type==="footer"?"":s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((A=(y=(_=r.sections[s.sectionIndex])==null?void 0:_.subsections[s.subsectionIndex])==null?void 0:y.subSubsections[s.subSubsectionIndex])==null?void 0:A.content)||"":s.subsectionIndex!==void 0?((S=(D=r.sections[s.sectionIndex])==null?void 0:D.subsections[s.subsectionIndex])==null?void 0:S.content)||"":((I=r.sections[s.sectionIndex])==null?void 0:I.content)||"":"",k=s.type==="header"||s.type==="footer"?"":s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((N=(P=(T=r.sections[s.sectionIndex])==null?void 0:T.subsections[s.subsectionIndex])==null?void 0:P.subSubsections[s.subSubsectionIndex])==null?void 0:N.title)||"":s.subsectionIndex!==void 0?(($=(j=r.sections[s.sectionIndex])==null?void 0:j.subsections[s.subsectionIndex])==null?void 0:$.title)||"":((U=r.sections[s.sectionIndex])==null?void 0:U.title)||"":"",v=s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((W=(z=(R=r.sections[s.sectionIndex])==null?void 0:R.subsections[s.subsectionIndex])==null?void 0:z.subSubsections[s.subSubsectionIndex])==null?void 0:W.links)||[]:s.subsectionIndex!==void 0?((Y=(q=r.sections[s.sectionIndex])==null?void 0:q.subsections[s.subsectionIndex])==null?void 0:Y.links)||[]:((Z=r.sections[s.sectionIndex])==null?void 0:Z.links)||[]:[];return x.jsx(fe,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:x.jsxs(fe,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[x.jsx(fe,{sx:{width:"450px",ml:2,mt:2},children:x.jsx(oG,{})}),x.jsxs(fe,{sx:{display:"flex",flexGrow:1},children:[x.jsx(fe,{sx:{width:"450px",minWidth:"450px",maxWidth:"450px",borderRight:"1px solid #ddd",padding:2},children:x.jsx(nG,{sections:r.sections,selected:s,onAddSection:()=>{},onAddSubsection:()=>{},onAddSubSubsection:()=>{},onSelectSection:d,onUpdateSectionTitle:()=>{},onUpdateSubsectionTitle:()=>{},onUpdateSubSubsectionTitle:()=>{},onDeleteSection:()=>{},onDeleteSubsection:()=>{},onDeleteSubSubsection:()=>{},isViewMode:!0})}),x.jsxs(fe,{sx:{flexGrow:1,padding:3},children:[x.jsx("hr",{})," ",x.jsx(fe,{sx:{border:s.type==="header"?"2px solid blue":"none",borderRadius:1,padding:2,mb:2},children:x.jsx(we,{dangerouslySetInnerHTML:{__html:r.header.content.replace(/\n/g,"<br />")}})}),x.jsx("hr",{})," ",x.jsx(we,{variant:"h3",align:"center",gutterBottom:!0,children:r.title}),x.jsx("hr",{})," ",x.jsx(we,{variant:"h4",align:"center",gutterBottom:!0,children:k}),s.type!=="header"&&s.type!=="footer"&&x.jsxs(x.Fragment,{children:[x.jsxs(fe,{sx:{mb:2,border:s.sectionIndex!==void 0&&s.subsectionIndex===void 0?"2px solid blue":s.subSubsectionIndex!==void 0?"2px solid red":s.subsectionIndex!==void 0?"2px solid green":"none",borderRadius:1,padding:2},children:[x.jsx(we,{dangerouslySetInnerHTML:{__html:f.replace(/\n/g,"<br />")}}),x.jsx(fe,{children:s.sectionIndex!==void 0&&x.jsx(x.Fragment,{children:s.subSubsectionIndex!==void 0?r.sections[s.sectionIndex].subsections[s.subsectionIndex].subSubsections[s.subSubsectionIndex].images.length>0&&x.jsx(Fx,{images:r.sections[s.sectionIndex].subsections[s.subsectionIndex].subSubsections[s.subSubsectionIndex].images}):s.subsectionIndex!==void 0?r.sections[s.sectionIndex].subsections[s.subsectionIndex].images.length>0&&x.jsx(Fx,{images:r.sections[s.sectionIndex].subsections[s.subsectionIndex].images}):r.sections[s.sectionIndex].images.length>0&&x.jsx(Fx,{images:r.sections[s.sectionIndex].images})})})]}),x.jsx(w3e,{links:v})]}),x.jsxs(fe,{sx:{display:"flex",justifyContent:"space-between"},children:[x.jsx(Xa,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:x.jsx("span",{children:x.jsx(Gn,{onClick:()=>m("prev"),disabled:s.sectionIndex===0&&s.subsectionIndex===void 0&&s.type==="header",children:x.jsx(cI,{})})})}),x.jsx(Xa,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:x.jsx("span",{children:x.jsx(Gn,{onClick:()=>m("next"),disabled:s.sectionIndex===r.sections.length-1&&(s.subsectionIndex===void 0||s.subsectionIndex===r.sections[s.sectionIndex].subsections.length-1)&&s.type==="footer",children:x.jsx(dI,{})})})})]}),x.jsx("hr",{})," ",x.jsx(fe,{sx:{border:s.type==="footer"?"2px solid blue":"none",borderRadius:1,padding:2,mt:2},children:x.jsx(we,{dangerouslySetInnerHTML:{__html:r.footer.content.replace(/\n/g,"<br />")}})}),x.jsx("hr",{})," "]})]})]})})},Ci=({element:e})=>{const{userDetails:t}=Eo();return t?x.jsx(e,{}):x.jsx(B8,{to:"/"})},_3e=()=>{const[e,t]=B.useState(""),[r,o]=B.useState(""),[s,c]=B.useState([{title:"",url:""}]),[d,m]=B.useState(""),f=xo(),k=Fn(),{userDetails:v}=Eo(),_=async()=>{try{await Tu(yr(k,"messages"),{title:e,description:r,links:s,course:d,postedOn:_m(),isPinned:!1}),f("/")}catch(S){console.error("Error adding message: ",S)}},y=()=>{f("/")},A=(S,I,T)=>{const P=[...s];P[S][I]=T,c(P)},D=()=>{c([...s,{title:"",url:""}])};return x.jsx(Vq,{maxWidth:"sm",children:x.jsxs(fe,{sx:{mt:4},children:[x.jsxs(fe,{sx:{display:"flex",alignItems:"center",mb:2},children:[x.jsx(we,{variant:"h4",component:"h1",gutterBottom:!0,children:"Add New Message"}),x.jsxs(Ab,{fullWidth:!0,sx:{mb:2},children:[x.jsx(xb,{id:"select-course-label",children:"Course"}),x.jsx(vc,{labelId:"select-course-label",value:d,onChange:S=>m(S.target.value),label:"Course",children:(v==null?void 0:v.classes)&&Object.entries(v.classes).map(([S,I])=>x.jsx(oa,{value:S,children:`${I.number} - ${I.title}`},S))})]})]}),x.jsx(sr,{label:"Title",fullWidth:!0,value:e,onChange:S=>t(S.target.value),sx:{mb:2}}),x.jsx(qT,{"aria-label":"description",minRows:4,placeholder:"Description",style:{width:"100%",padding:"16.5px 14px",fontSize:"1rem",borderRadius:"4px",borderColor:"rgba(0, 0, 0, 0.23)",marginBottom:"16px"},value:r,onChange:S=>o(S.target.value)}),x.jsx(we,{variant:"h6",component:"h2",sx:{mb:2},children:"Links"}),s.map((S,I)=>x.jsxs(fe,{sx:{mb:2},children:[x.jsx(sr,{label:`Link Title ${I+1}`,fullWidth:!0,value:S.title,onChange:T=>A(I,"title",T.target.value),sx:{mb:1}}),x.jsx(sr,{label:`Link URL ${I+1}`,fullWidth:!0,value:S.url,onChange:T=>A(I,"url",T.target.value)})]},I)),x.jsx(ze,{variant:"text",onClick:D,sx:{mb:2},children:"+ Add another link"}),x.jsxs(fe,{sx:{display:"flex",justifyContent:"flex-end"},children:[x.jsx(ze,{variant:"outlined",onClick:y,sx:{marginRight:"8px",borderColor:"#A5D6A7",color:"#424242","&:hover":{borderColor:"#81C784",backgroundColor:"rgba(165, 214, 167, 0.1)"}},children:"Cancel"}),x.jsx(ze,{variant:"contained",onClick:_,sx:{backgroundColor:"#CDDAFF",color:"#424242","&:hover":{backgroundColor:"#0B53C0"}},children:"Save Changes"})]})]})})},C3e=()=>{const{id:e}=H2(),[t,r]=B.useState(""),[o,s]=B.useState(""),[c,d]=B.useState([{title:"",url:""}]),[m,f]=B.useState(""),k=xo(),v=Fn(),{userDetails:_}=Eo();B.useEffect(()=>{(async()=>{const T=Yt(v,"messages",e),P=await fc(T);if(P.exists()){const N=P.data();r(N.title),s(N.description),d(N.links||[{title:"",url:""}]),f(N.course||"")}else console.log("No such document!")})()},[v,e]);const y=async()=>{try{const I=Yt(v,"messages",e);await dr(I,{title:t,description:o,links:c,course:m}),k("/")}catch(I){console.error("Error editing message: ",I)}},A=()=>{k("/")},D=(I,T,P)=>{const N=[...c];N[I][T]=P,d(N)},S=()=>{d([...c,{title:"",url:""}])};return x.jsx(Vq,{maxWidth:"sm",children:x.jsxs(fe,{sx:{mt:4},children:[x.jsxs(fe,{sx:{display:"flex",alignItems:"center",mb:2},children:[x.jsx(we,{variant:"h4",component:"h1",gutterBottom:!0,children:"Edit Message"}),x.jsxs(Ab,{fullWidth:!0,sx:{mb:2},children:[x.jsx(xb,{id:"select-course-label",children:"Course"}),x.jsx(vc,{labelId:"select-course-label",value:m,onChange:I=>f(I.target.value),label:"Course",children:(_==null?void 0:_.classes)&&Object.entries(_.classes).map(([I,T])=>x.jsx(oa,{value:I,children:`${T.number} - ${T.title}`},I))})]})]}),x.jsx(sr,{label:"Title",fullWidth:!0,value:t,onChange:I=>r(I.target.value),sx:{mb:2}}),x.jsx(qT,{"aria-label":"description",minRows:4,placeholder:"Description",style:{width:"100%",padding:"16.5px 14px",fontSize:"1rem",borderRadius:"4px",borderColor:"rgba(0, 0, 0, 0.23)",marginBottom:"16px"},value:o,onChange:I=>s(I.target.value)}),x.jsx(we,{variant:"h6",component:"h2",sx:{mb:2},children:"Links"}),c.map((I,T)=>x.jsxs(fe,{sx:{mb:2},children:[x.jsx(sr,{label:`Link Title ${T+1}`,fullWidth:!0,value:I.title,onChange:P=>D(T,"title",P.target.value),sx:{mb:1}}),x.jsx(sr,{label:`Link URL ${T+1}`,fullWidth:!0,value:I.url,onChange:P=>D(T,"url",P.target.value)})]},T)),x.jsx(ze,{variant:"text",onClick:S,sx:{mb:2},children:"+ Add another link"}),x.jsxs(fe,{sx:{display:"flex",justifyContent:"flex-end"},children:[x.jsx(ze,{variant:"outlined",onClick:A,sx:{marginRight:"8px",borderColor:"#A5D6A7",color:"#424242","&:hover":{borderColor:"#81C784",backgroundColor:"rgba(165, 214, 167, 0.1)"}},children:"Cancel"}),x.jsx(ze,{variant:"contained",onClick:y,sx:{backgroundColor:"#A5D6A7",color:"#424242","&:hover":{backgroundColor:"#81C784"}},children:"Save Changes"})]})]})})},A3e=({users:e})=>x.jsx(Db,{component:co,children:x.jsxs(Eb,{children:[x.jsx(Tb,{children:x.jsxs(ia,{children:[x.jsx(Xe,{children:"ID"}),x.jsx(Xe,{children:"Status"}),x.jsx(Xe,{children:"Last Login"}),x.jsx(Xe,{children:"Courses"})]})}),x.jsx(Sb,{children:e.map(t=>x.jsxs(ia,{children:[x.jsx(Xe,{children:t.id}),x.jsx(Xe,{children:t.isSuperAdmin?x.jsx(as,{label:"Super Admin",color:"secondary"}):t.isAdmin?x.jsx(as,{label:"Educator (Admin)",color:"primary"}):x.jsx(as,{label:"Student (Regular)"})}),x.jsx(Xe,{children:t.lastLogin?t.lastLogin.toDate().toLocaleString():"No data available"}),x.jsx(Xe,{children:t.classes?Object.values(t.classes).map(r=>`${r.number} - ${r.title}`).join(", "):"None"})]},t.id))})]})}),x3e=({userId:e,onUserDeleted:t})=>{const[r,o]=B.useState(!1),[s,c]=B.useState(!1),d=Fn(),m=()=>{o(!0)},f=()=>{o(!1)},k=async()=>{c(!0);try{const v=Yt(d,"users",e);await iT(v),t(!0)}catch(v){console.error("Error deleting user:",v),t(!1)}c(!1),o(!1)};return x.jsxs(x.Fragment,{children:[x.jsx(ze,{variant:"text",color:"error",onClick:m,children:"Delete User Account"}),x.jsxs(ms,{open:r,onClose:f,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[x.jsx(vs,{id:"alert-dialog-title",children:"Confirm Deletion"}),x.jsx(bs,{children:x.jsx(ks,{id:"alert-dialog-description",children:"Are you sure you want to delete this user account? This action cannot be undone."})}),x.jsxs(gs,{children:[x.jsx(ze,{onClick:f,color:"primary",disabled:s,children:"Cancel"}),x.jsx(ze,{onClick:k,color:"error",autoFocus:!0,disabled:s,children:s?x.jsx(ra,{size:24}):"Delete"})]})]})]})},E3e=({userId:e,userClasses:t,courses:r})=>{const[o,s]=B.useState(""),[c,d]=B.useState(!1),[m,f]=B.useState(""),[k,v]=B.useState(!1),_=Fn(),y=async()=>{if(!e||!o){f("Please enter a User ID and select a course."),v(!0);return}d(!0);try{const D=Yt(_,"users",e),S=r.find(I=>I.id===o);S?(await dr(D,{[`classes.${o}`]:{number:S.number,title:S.title}}),f(`Course ${S.title} assigned successfully to user ${e}.`)):f("Selected course not found.")}catch(D){console.error("Error assigning course:",D),f("Error assigning course.")}d(!1),v(!0)},A=()=>{v(!1)};return x.jsxs(x.Fragment,{children:[x.jsxs(fe,{sx:{display:"flex",alignItems:"center",mt:2},children:[x.jsxs(we,{variant:"h6",component:"h2",sx:{mr:2},children:["Current Courses: ",t?Object.values(t).map(D=>`${D.number} - ${D.title}`).join(", "):"None"]}),x.jsxs(Ab,{sx:{minWidth:200,mr:2},children:[x.jsx(xb,{children:"Course"}),x.jsx(vc,{value:o,onChange:D=>s(D.target.value),children:r.map(D=>x.jsx(oa,{value:D.id,children:`${D.number} - ${D.title}`},D.id))})]}),x.jsx(ze,{variant:"contained",color:"primary",onClick:y,disabled:c,children:c?x.jsx(ra,{size:24}):"Assign Course"})]}),x.jsx(Gi,{open:k,autoHideDuration:6e3,onClose:A,children:x.jsx(qi,{onClose:A,severity:"info",children:m})})]})},S3e=()=>{const[e,t]=B.useState(""),[r,o]=B.useState(!1),[s,c]=B.useState(!1),[d,m]=B.useState(void 0),[f,k]=B.useState(!1),[v,_]=B.useState(""),[y,A]=B.useState(!1),[D,S]=B.useState(!1),[I,T]=B.useState(!1),[P,N]=B.useState([]),[j,$]=B.useState(""),[U,R]=B.useState([]),z=Fn(),W=xo(),q=()=>{W("/")};B.useEffect(()=>{(async()=>{try{const _e=yr(z,"courses"),et=(await Fi(_e)).docs.map(Le=>({id:Le.id,number:Le.data().number,title:Le.data().title}));R(et)}catch(_e){console.error("Error fetching courses:",_e)}})()},[z]);const Y=async()=>{if(e){k(!0),c(!1);try{const ie=Yt(z,"users",e),_e=await fc(ie);if(_e.exists()){const Te=_e.data();o(Te.isAdmin),m(Te.classes),c(!0)}else _("User not found."),A(!0)}catch(ie){console.error("Error fetching user:",ie),_("Error fetching user."),A(!0)}k(!1)}},Z=async()=>{k(!0);try{const ie=yr(z,"users"),Te=(await Fi(ie)).docs.map(et=>({id:et.id,...et.data()}));N(Te)}catch(ie){console.error("Error fetching users:",ie),_("Error fetching users."),A(!0)}k(!1)};B.useEffect(()=>{Z()},[]);const Q=async()=>{try{const ie=Yt(z,"users",e);await dr(ie,{isAdmin:I}),_(`User ${I?"granted":"revoked"} admin privileges successfully.`),o(I);const _e=P.map(Te=>Te.id===e?{...Te,isAdmin:I}:Te);N(_e)}catch(ie){console.error("Error updating user:",ie),_("Error updating user.")}A(!0),S(!1)},J=ie=>{ie.preventDefault(),s?(T(!r),S(!0)):(_("User not found."),A(!0))},te=()=>{A(!1)},ee=()=>{S(!1)},ne=ie=>{$(ie.target.value)},G=ie=>j?ie.filter(_e=>_e.classes&&_e.classes.hasOwnProperty(j)):ie,re=ie=>{ie?(_("User account deleted successfully."),c(!1),t(""),Z()):_("Error deleting user account."),A(!0)};return x.jsxs(fe,{sx:{padding:3},children:[x.jsx(fe,{sx:{display:"flex",alignItems:"center"},children:x.jsx(ze,{variant:"text",onClick:q,sx:{mr:2},children:" Home Page"})}),x.jsx(we,{variant:"h4",component:"h1",gutterBottom:!0,children:"User Management"}),x.jsx(we,{variant:"body1",gutterBottom:!0,children:"Use this page to view and manage user permissions. Enter the User ID to grant or revoke admin privileges, or delete user account."}),x.jsx(fe,{sx:{display:"flex",justifyContent:"flex-start"},children:x.jsxs("form",{onSubmit:J,children:[x.jsx(sr,{label:"User ID",value:e,onChange:ie=>t(ie.target.value),fullWidth:!0,required:!0,margin:"normal",onKeyPress:ie=>{ie.key==="Enter"&&(Y(),ie.preventDefault())},sx:{minWidth:"300px"}}),f?x.jsx(ra,{}):s&&x.jsxs(co,{variant:"outlined",sx:{padding:2,borderRadius:"15px",mb:2},children:[x.jsxs(fe,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[x.jsxs(we,{variant:"h6",component:"h2",sx:{mr:2},children:["Current Status: ",r?"Educator (Admin)":"Student (Non-Admin)"]}),x.jsx(ze,{type:"submit",variant:"contained",color:r?"secondary":"primary",sx:{mt:2},children:r?"Revoke Admin":"Make Admin"})]}),x.jsx(E3e,{userId:e,userClasses:d,courses:U}),x.jsx(x3e,{userId:e,onUserDeleted:re})]})]})}),x.jsx(we,{variant:"h5",component:"h2",gutterBottom:!0,children:"Current Users"}),x.jsxs(Ab,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[x.jsx(xb,{children:"Filter by Course"}),x.jsxs(vc,{value:j,onChange:ne,children:[x.jsx(oa,{value:"",children:"All Courses"}),U.map(ie=>x.jsx(oa,{value:ie.id,children:ie.number},ie.id))]})]}),x.jsx(A3e,{users:G(P)}),x.jsxs(ms,{open:D,onClose:ee,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[x.jsx(vs,{id:"alert-dialog-title",children:r?"Revoke Admin Privileges":"Grant Admin Privileges"}),x.jsx(bs,{children:x.jsxs(ks,{id:"alert-dialog-description",children:["Are you sure you want to ",r?"revoke":"grant"," admin privileges for this user?"]})}),x.jsxs(gs,{children:[x.jsx(ze,{onClick:ee,color:"primary",children:"Cancel"}),x.jsx(ze,{onClick:Q,color:"primary",autoFocus:!0,children:"Confirm"})]})]}),x.jsx(Gi,{open:y,autoHideDuration:6e3,onClose:te,children:x.jsx(qi,{onClose:te,severity:"info",children:v})})]})},D3e=({onCourseAdded:e})=>{const[t,r]=B.useState(""),{userDetails:o,setUserDetails:s}=Eo(),c=Fn(),d=f=>{r(f.target.value)},m=async()=>{try{const v=(await Fi(yr(c,"courses"))).docs.map(_=>({id:_.id,passcode:_.data().passcode,number:_.data().number,title:_.data().title})).find(_=>_.passcode===t);if(v){if(o)if((o.classes||{})[v.id])e(`Course access for ${v.number} is already added to your account!`,"info");else{const y=Yt(c,"users",o.uid);await dr(y,{[`classes.${v.id}`]:{number:v.number,title:v.title}});const A=await fc(y);if(A.exists()){const D=A.data();s({...D,uid:o.uid})}e(`Course access for ${v.number} added to your account successfully!`,"success"),r("")}}else e("Invalid passcode. Course not found.","error")}catch(f){console.error("Error updating document: ",f),e("Error adding course access to your account.","error")}};return x.jsx("div",{children:x.jsxs(vt,{container:!0,spacing:2,sx:{maxWidth:"50%"},children:[x.jsx(vt,{item:!0,xs:10,children:x.jsx(sr,{label:"Enter Course Passcode",value:t,onChange:d,fullWidth:!0,sx:{mb:2}})}),x.jsx(vt,{item:!0,xs:2,sx:{display:"flex",alignItems:"center"},children:x.jsx(ze,{variant:"contained",onClick:m,children:"Add Course"})})]})})},T3e=({text:e,tooltipText:t="Click to Copy",successText:r="Copied!"})=>{const[o,s]=B.useState(!1),c=()=>{navigator.clipboard.writeText(e).then(()=>{s(!0),setTimeout(()=>s(!1),2e3)}).catch(d=>console.error("Could not copy text: ",d))};return x.jsx(Xa,{title:o?r:t,enterDelay:300,leaveDelay:200,children:x.jsx(as,{label:e,variant:"outlined",onClick:c,sx:{borderRadius:"15px",fontSize:"16px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",fontFamily:"Gabarito, sans-serif"}})})},I3e=()=>{const{userDetails:e}=Eo(),[t,r]=B.useState(""),[o,s]=B.useState([]),[c,d]=B.useState(null),[m,f]=B.useState(!1),[k,v]=B.useState(""),[_,y]=B.useState("success"),A=Fn();B.useEffect(()=>{(async()=>{if(e!=null&&e.isAdmin){const T=Sw(yr(A,"courses"),g0("courseAdmin","array-contains",e.uid)),N=(await Fi(T)).docs.map(j=>({id:j.id,number:j.data().number,title:j.data().title,passcode:j.data().passcode}));s(N)}})()},[A,e]);const D=I=>{const T=I.target.value;r(T);const P=o.find(N=>N.id===T);P?(d(P.passcode),v(`Passcode for course "${P.number} - ${P.title}" retrieved successfully.`),y("success"),f(!0)):(d(null),v("Course not found."),y("error"),f(!0))},S=()=>{f(!1)};return x.jsxs(fe,{sx:{mt:4},children:[x.jsx(we,{variant:"subtitle1",component:"h2",sx:{mb:2},children:"Retrieve Course Passcode"}),x.jsx(vt,{container:!0,spacing:2,sx:{maxWidth:"40%"},children:x.jsxs(vt,{item:!0,xs:12,sx:{display:"flex",alignItems:"center"},children:[x.jsx(sr,{select:!0,label:"Select Course Number",value:t,onChange:D,fullWidth:!0,sx:{mb:2,mr:2},children:o.map(I=>x.jsx(oa,{value:I.id,children:`${I.number} - ${I.title}`},I.id))}),c&&x.jsxs(fe,{sx:{display:"flex",alignItems:"center",ml:2},children:[x.jsx(we,{variant:"body1",sx:{mr:1},children:"Passcode:"}),x.jsx(T3e,{text:`${c}`})]})]})}),x.jsx(Gi,{open:m,autoHideDuration:6e3,onClose:S,children:x.jsx(qi,{onClose:S,severity:_,sx:{width:"100%"},children:k})})]})},M3e=()=>{const{userDetails:e,setUserDetails:t}=Eo(),[r,o]=B.useState(!1),[s,c]=B.useState(!1),[d,m]=B.useState(!1),[f,k]=B.useState(""),[v,_]=B.useState("success"),y=xo(),A=Fn(),D=()=>{y("/")},S=()=>{e!=null&&e.isAdmin||y("/request-educator-permissions")},I=()=>{y("/request-new-course")},T=(R,z)=>{m(!0),k(R),_(z),z==="success"&&e&&(async()=>{const q=Yt(A,"users",e.uid),Y=await fc(q);if(Y.exists()){const Z=Y.data();t({...Z,uid:e.uid})}})()},P=()=>{o(!r)},N=()=>{c(!s)},j=()=>e!=null&&e.isSuperAdmin?"Super Admin":e!=null&&e.isAdmin?"Educator":"Student",$=()=>{m(!1)},U=()=>e!=null&&e.classes?Object.entries(e.classes).map(([R,z])=>x.jsx(as,{label:`${z.number} - ${z.title}`,variant:"filled",sx:{margin:"4px"}},R)):"None";return x.jsxs(fe,{className:"profile-container",children:[x.jsx(ze,{variant:"text",onClick:D,className:"profile-button",children:" Home Page"}),x.jsx(we,{className:"webpage_title",children:"My Account"}),e&&x.jsxs(x.Fragment,{children:[x.jsxs(we,{className:"profile-text",children:["User ID: ",e.uid]}),x.jsxs(we,{className:"profile-text",children:["Account Status: ",j()]}),x.jsx(we,{className:"profile-text",children:"Current Courses:"}),x.jsxs(fe,{sx:{display:"flex",flexWrap:"wrap"},children:[" ",U()]})]}),!(e!=null&&e.isAdmin)&&x.jsxs(fe,{className:"profile-switch-container",children:[x.jsx(R6,{control:x.jsx(K6,{checked:r,onChange:P}),label:"Enroll in a Course (As a Student)"}),r&&x.jsxs(fe,{sx:{mt:2},children:[x.jsx(we,{variant:"body1",className:"profile-text",children:"Use the area below to add a course access to your account."}),x.jsx(D3e,{onCourseAdded:T})]})]}),x.jsxs(fe,{className:"profile-advanced-section",children:[x.jsx(R6,{control:x.jsx(K6,{checked:s,onChange:N}),label:"Advanced"}),s&&x.jsxs(x.Fragment,{children:[x.jsx(fe,{sx:{mt:2},children:x.jsx(ze,{variant:"text",onClick:S,disabled:e==null?void 0:e.isAdmin,className:"profile-button",children:e!=null&&e.isAdmin?x.jsx(we,{children:x.jsx("span",{className:"success-text",children:" Educator Account Approved"})}):"Request Educator Permissions"})}),(e==null?void 0:e.isAdmin)&&x.jsxs(x.Fragment,{children:[x.jsx(fe,{sx:{mt:2},children:x.jsx(ze,{variant:"text",onClick:I,children:"Request Creating a New Course"})}),x.jsx(I3e,{})]})]})]}),x.jsx(Gi,{open:d,autoHideDuration:6e3,onClose:$,children:x.jsx(qi,{onClose:$,severity:v,sx:{width:"100%"},children:f})})]})},P3e=({selectedCourse:e,selectedCourseDetails:t,onStudentChange:r})=>{const[o,s]=B.useState(""),[c,d]=B.useState(!1),[m,f]=B.useState(""),[k,v]=B.useState(!1),[_,y]=B.useState(!1),A=Fn(),D=async()=>{if(!o||!e){f("Please enter a Student ID and select a course."),v(!0);return}d(!0);try{const P=Yt(A,"users",o),N=await fc(P);if(N.exists()){const $=N.data().classes||{};e in $?y(!0):(f(`Student ${o} is not enrolled in course ${(t==null?void 0:t.number)||e}, cannot remove.`),v(!0))}else f(`Student ${o} does not exist.`),v(!0)}catch(P){console.error("Error checking student course:",P),f("Error checking student course."),v(!0)}d(!1)},S=async()=>{d(!0);try{const P=Yt(A,"users",o);await dr(P,{[`classes.${e}`]:gke()}),f(`Student ${o} removed from course ${(t==null?void 0:t.number)||e}.`),s(""),r()}catch(P){console.error("Error updating student course:",P),f("Error updating student course.")}d(!1),v(!0),y(!1)},I=()=>{v(!1)},T=()=>{y(!1)};return x.jsxs(fe,{sx:{mt:4},children:[x.jsxs(we,{variant:"h6",component:"h2",children:["Remove Students from ",t?`${t.number} - ${t.title}`:e]}),x.jsxs(fe,{sx:{display:"flex",alignItems:"center",mt:2},children:[x.jsx(sr,{label:"Student ID",value:o,onChange:P=>s(P.target.value),fullWidth:!0,required:!0,margin:"normal",sx:{mr:2}}),x.jsx(ze,{variant:"contained",color:"primary",onClick:D,disabled:c,children:c?x.jsx(ra,{size:24}):"Remove"})]}),x.jsx(Gi,{open:k,autoHideDuration:6e3,onClose:I,children:x.jsx(qi,{onClose:I,severity:"info",children:m})}),x.jsxs(ms,{open:_,onClose:T,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[x.jsx(vs,{id:"confirm-dialog-title",children:"Confirm Removal"}),x.jsx(bs,{children:x.jsx(ks,{id:"confirm-dialog-description",children:"Are you sure you want to remove the student from the course? This action cannot be undone."})}),x.jsxs(gs,{children:[x.jsx(ze,{onClick:T,color:"primary",children:"Cancel"}),x.jsx(ze,{onClick:S,color:"secondary",autoFocus:!0,children:"Confirm"})]})]})]})},N3e=({students:e,selectedCourse:t})=>{const r=()=>{if(e.length>0){const o=["User ID","Courses","Last Login"],s=e.map(k=>[`"${k.id}"`,`"${k.classes?Object.values(k.classes).map(v=>`${v.number} - ${v.title}`).join(", "):"None"}"`,`"${k.lastLogin?new Date(k.lastLogin.seconds*1e3).toLocaleString():"N/A"}"`]),c=[o.join(","),...s.map(k=>k.join(","))].join(`
`),d=new Blob([c],{type:"text/csv;charset=utf-8;"}),m=URL.createObjectURL(d),f=document.createElement("a");f.href=m,f.setAttribute("download",`${t}_students.csv`),document.body.appendChild(f),f.click(),document.body.removeChild(f)}};return x.jsx(fe,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:x.jsx(ze,{variant:"contained",color:"primary",onClick:r,disabled:e.length===0,sx:{background:"linear-gradient(45deg, #3f51b5 30%, #1e88e5 90%)",borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"white",padding:"0 30px",fontSize:"16px",fontWeight:"bold",textTransform:"none","&:hover":{background:"linear-gradient(45deg, #1e88e5 30%, #3f51b5 90%)",boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)"}},children:"Export as CSV"})})},R3e=()=>{const{userDetails:e}=Eo(),[t,r]=B.useState([]),[o,s]=B.useState(""),c=Fn(),d=xo();B.useEffect(()=>{(async()=>{if(e){const D=e.classes?Object.keys(e.classes):[],S=Sw(yr(c,"users"),g0("classes","array-contains-any",D),g0("isAdmin","==",!1)),T=(await Fi(S)).docs.map(P=>({uid:P.id,...P.data()}));r(T),s(D[0]||"")}})()},[e,c]);const m=()=>{d("/")},f=A=>{s(A)},k=async()=>{if(e)try{const A=Sw(yr(c,"users"),g0("isAdmin","==",!1)),I=(await Fi(A)).docs.map(T=>({uid:T.id,...T.data()})).filter(T=>T.classes&&T.classes[o]);r(I)}catch(A){console.error("Error fetching students:",A)}};B.useEffect(()=>{k()},[o,c]);const v=t.filter(A=>A.classes&&A.classes[o]),_=e!=null&&e.classes?e.classes[o]:null,y=_?`${_.number} - ${_.title}`:o;return x.jsxs(fe,{sx:{flexGrow:1,padding:3},children:[x.jsx(fe,{sx:{display:"flex",alignItems:"center",mb:2},children:x.jsx(ze,{variant:"text",onClick:m,sx:{mr:2},children:" Home Page"})}),x.jsx(we,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:2},children:"Course Management"}),x.jsx(we,{variant:"h6",component:"h2",sx:{fontWeight:"bold",textDecoration:"underline",mb:2},children:"Students Enrolled in Your Courses"}),(e==null?void 0:e.classes)&&Object.keys(e.classes).length>1&&x.jsx(Wq,{direction:"row",spacing:2,sx:{mb:2},children:Object.entries(e.classes).map(([A,D])=>x.jsx(ze,{variant:o===A?"contained":"outlined",onClick:()=>f(A),children:`${D.number} - ${D.title}`},A))}),v.length===0?x.jsxs(we,{children:["No students enrolled in ",y,"."]}):x.jsxs(x.Fragment,{children:[x.jsx(Db,{component:co,children:x.jsxs(Eb,{children:[x.jsx(Tb,{children:x.jsxs(ia,{children:[x.jsx(Xe,{sx:{fontWeight:"bold"},children:"User ID"}),x.jsx(Xe,{sx:{fontWeight:"bold"},children:"Last Login"})]})}),x.jsx(Sb,{children:v.map(A=>x.jsxs(ia,{children:[x.jsx(Xe,{children:A.uid}),x.jsx(Xe,{children:A.lastLogin?new Date(A.lastLogin.seconds*1e3).toLocaleString():"No data available"})]},A.uid))})]})}),x.jsx(N3e,{students:v,selectedCourse:o})]}),x.jsx(P3e,{selectedCourse:o,selectedCourseDetails:_,onStudentChange:k})]})};var jI={},O3e=qr;Object.defineProperty(jI,"__esModule",{value:!0});var FI=jI.default=void 0,B3e=O3e(So()),L3e=x;FI=jI.default=(0,B3e.default)((0,L3e.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle");const j3e=()=>{const{userDetails:e}=Eo(),[t,r]=B.useState(""),[o,s]=B.useState(""),[c,d]=B.useState(""),[m,f]=B.useState(""),[k,v]=B.useState(""),[_,y]=B.useState(""),[A,D]=B.useState(""),[S,I]=B.useState("primary"),[T,P]=B.useState(!1),[N,j]=B.useState(!1),[$,U]=B.useState(""),[R,z]=B.useState(""),W=Fn(),q=xo(),Y=ee=>ne=>{ee(ne.target.value)},Z=ee=>{I(ee.target.value)},Q=async()=>{if(!t||!o||!c||!m||!k||!_||S==="primary"&&!A){U("Error"),z("Please fill in all required fields."),j(!0);return}P(!0);try{const ee={uid:e==null?void 0:e.uid,firstName:t,lastName:o,institution:c,email:m,courseNumber:k,courseTitle:_,courseDescription:S==="primary"?A:"CO-INSTRUCTOR REQUEST",requestType:S,status:"pending",timestamp:new Date},ne=await Tu(yr(W,"educatorRequests"),ee),G={to:["andriy@intofuture.org"],message:{subject:"New Educator Request Submitted",html:`
            <p>A new educator request has been submitted:</p>
            <p><strong>Name:</strong> ${t} ${o}</p>
            <p><strong>Email:</strong> ${m}</p>
            <p><strong>Institution:</strong> ${c}</p>
            <p><strong>Course:</strong> ${k} - ${_}</p>
            <p><strong>Request Type:</strong> ${S}</p>
            <p><strong>Description:</strong> ${A}</p>
            <p><strong>Request ID:</strong> ${ne.id}</p>
            <p><a href="https://kashyrskyy.github.io/ate-micr/#/educator-requests">
            Click here to review the request.
            </a></p>
          `}};await Tu(yr(W,"mail"),G),U("Success"),z("Your request has been submitted for review."),r(""),s(""),d(""),f(""),v(""),y(""),D(""),I("primary"),j(!0),setTimeout(()=>{q("/my-profile")},2e3)}catch(ee){console.error("Error submitting request: ",ee),U("Error"),z("Error submitting your request. Please try again."),j(!0)}finally{P(!1)}},J=()=>{j(!1)},te=()=>{q("/my-profile")};return x.jsxs(fe,{className:"request-form-container",sx:{padding:3},children:[x.jsx(fe,{sx:{display:"flex",alignItems:"center"},children:x.jsx(ze,{variant:"text",onClick:te,className:"back-home-button",children:" My Account"})}),x.jsxs(fe,{className:"request-form-outline",children:[x.jsx(we,{variant:"h5",component:"h1",className:"request-form-title",children:"Request Educator Permissions"}),x.jsxs(vt,{item:!0,xs:12,children:[x.jsx(xi,{htmlFor:"request-type",required:!0,children:"Request Type"}),x.jsxs(vc,{id:"request-type",name:"request-type",value:S,onChange:Z,fullWidth:!0,required:!0,disabled:T,children:[x.jsx(oa,{value:"primary",children:"I am a primary course instructor, I want to create a new course"}),x.jsx(oa,{value:"co-instructor",children:"I am a co-instructor, I want to be added to an existing course"})]})]}),x.jsxs(vt,{container:!0,spacing:3,children:[x.jsxs(vt,{item:!0,xs:12,md:6,children:[x.jsx(xi,{htmlFor:"first-name",required:!0,children:"First Name"}),x.jsx(Xo,{id:"first-name",name:"first-name",value:t,onChange:Y(r),placeholder:"John",fullWidth:!0,required:!0,disabled:T})]}),x.jsxs(vt,{item:!0,xs:12,md:6,children:[x.jsx(xi,{htmlFor:"last-name",required:!0,children:"Last Name"}),x.jsx(Xo,{id:"last-name",name:"last-name",value:o,onChange:Y(s),placeholder:"Doe",fullWidth:!0,required:!0,disabled:T})]}),x.jsxs(vt,{item:!0,xs:12,children:[x.jsx(xi,{htmlFor:"institution",required:!0,children:"Institution Affiliation"}),x.jsx(Xo,{id:"institution",name:"institution",value:c,onChange:Y(d),placeholder:"University Name",fullWidth:!0,required:!0,disabled:T})]}),x.jsxs(vt,{item:!0,xs:12,children:[x.jsx(xi,{htmlFor:"email",required:!0,children:"Institutional Email"}),x.jsx(Xo,{id:"email",name:"email",value:m,onChange:Y(f),placeholder:"name@institution.edu",fullWidth:!0,required:!0,disabled:T}),x.jsx(we,{variant:"caption",sx:{mt:1},children:"Please use your institutional email to confirm your affiliation."})]})]}),x.jsx(xg,{sx:{my:3}}),x.jsx(we,{variant:"h6",component:"h2",sx:{mb:2},children:S==="primary"?"New Course Details":"Existing Course Details"}),x.jsxs(vt,{container:!0,spacing:3,children:[x.jsxs(vt,{item:!0,xs:12,md:6,children:[x.jsx(xi,{htmlFor:"course-number",required:!0,children:"Course Number"}),x.jsx(Xo,{id:"course-number",name:"course-number",value:k,onChange:Y(v),placeholder:"e.g., BIOL301",fullWidth:!0,required:!0,disabled:T})]}),x.jsxs(vt,{item:!0,xs:12,md:6,children:[x.jsx(xi,{htmlFor:"course-title",required:!0,children:"Course Title"}),x.jsx(Xo,{id:"course-title",name:"course-title",value:_,onChange:Y(y),placeholder:"e.g., Biotech Research Methods",fullWidth:!0,required:!0,disabled:T})]}),S==="primary"&&x.jsxs(vt,{item:!0,xs:12,children:[x.jsx(xi,{htmlFor:"course-description",required:!0,children:"Course Description"}),x.jsx(Xo,{id:"course-description",name:"course-description",value:A,onChange:Y(D),placeholder:"e.g., A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",fullWidth:!0,multiline:!0,rows:2,required:!0,disabled:T})]}),x.jsx(vt,{item:!0,xs:12,children:x.jsx(ze,{variant:"contained",color:"primary",onClick:Q,fullWidth:!0,className:"submit-button",sx:{mt:3,py:1.5,fontWeight:"bold",fontSize:"16px",textTransform:"uppercase"},disabled:T,children:T?x.jsx(ra,{size:24,color:"inherit"}):"Submit Request"})}),x.jsx(vt,{item:!0,xs:12,children:x.jsxs(we,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["For any questions, please contact ",x.jsx("a",{href:"mailto:andriy@intofuture.org",children:"andriy@intofuture.org"}),"."]})})]}),x.jsxs(ms,{open:N,onClose:J,children:[x.jsx(vs,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:x.jsx(FI,{sx:{color:"green",fontSize:50,marginRight:1}})}),x.jsx(bs,{children:x.jsx(ks,{sx:{textAlign:"center"},children:R})}),x.jsx(gs,{children:x.jsx(ze,{onClick:J,color:"primary",autoFocus:!0,children:"Close"})})]})]})]})},F3e=()=>{const[e,t]=B.useState([]),[r,o]=B.useState([]),[s,c]=B.useState(""),[d,m]=B.useState(!1),[f,k]=B.useState(""),[v,_]=B.useState("success"),[y,A]=B.useState(!1),[D,S]=B.useState(null),[I,T]=B.useState(null),[P,N]=B.useState(null),j=Fn(),$=xo();B.useEffect(()=>{(async()=>{const te=(await Fi(yr(j,"educatorRequests"))).docs.map(G=>({id:G.id,...G.data()})),ne=(await Fi(yr(j,"courses"))).docs.map(G=>({id:G.id,...G.data()}));t(te),o(ne)})()},[j]);function U(){const Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let J="";for(let te=0;te<28;te++)J+=Q.charAt(Math.floor(Math.random()*Q.length));return J}const R=async()=>{if(!(!I||!P)){try{if(P.requestType==="primary"){const Q=U(),J=await Tu(yr(j,"courses"),{number:P.courseNumber,title:P.courseTitle,passcode:Q,courseAdmin:[P.uid]}),te=Yt(j,"users",P.uid);await dr(te,{isAdmin:!0,[`classes.${J.id}`]:{number:P.courseNumber,title:P.courseTitle}}),await dr(Yt(j,"educatorRequests",I),{status:"approved",courseId:J.id,passcode:Q})}else if(P.requestType==="co-instructor"){const Q=Yt(j,"courses",s);await dr(Q,{courseAdmin:bke(P.uid)});const J=Yt(j,"users",P.uid);await dr(J,{isAdmin:!0,[`classes.${s}`]:{number:P.courseNumber,title:P.courseTitle}}),await dr(Yt(j,"educatorRequests",I),{status:"approved",courseId:s})}k("Request approved, and user promoted to educator."),_("success"),t(e.map(Q=>Q.id===I?{...Q,status:"approved"}:Q))}catch(Q){console.error("Error approving request: ",Q),k("Error approving the request. Please try again."),_("error")}m(!0),q()}},z=async()=>{if(I){try{await dr(Yt(j,"educatorRequests",I),{status:"denied"}),k("Request denied."),_("success"),t(e.map(Q=>Q.id===I?{...Q,status:"denied"}:Q))}catch(Q){console.error("Error denying request: ",Q),k("Error denying the request. Please try again."),_("error")}m(!0),q()}},W=(Q,J,te)=>{S(Q),T(J),N(te),c(""),A(!0)},q=()=>{A(!1),S(null),T(null),N(null)},Y=()=>{m(!1)},Z=()=>{$("/")};return x.jsxs(fe,{sx:{padding:3},children:[x.jsx(fe,{sx:{display:"flex",alignItems:"center"},children:x.jsx(ze,{variant:"text",onClick:Z,sx:{mr:2},children:" Home Page"})}),x.jsx(we,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:3},children:"Educator Permission Requests"}),x.jsx(Db,{component:co,children:x.jsxs(Eb,{children:[x.jsx(Tb,{children:x.jsxs(ia,{children:[x.jsx(Xe,{children:"Name"}),x.jsx(Xe,{children:"User ID"}),x.jsx(Xe,{children:"Institution"}),x.jsx(Xe,{children:"Email"}),x.jsx(Xe,{children:"Course Number"}),x.jsx(Xe,{children:"Course Title"}),x.jsx(Xe,{children:"Course Description"}),x.jsx(Xe,{children:"Timestamp"}),x.jsx(Xe,{children:"Actions"})]})}),x.jsx(Sb,{children:e.map(Q=>x.jsxs(ia,{children:[x.jsx(Xe,{children:`${Q.firstName} ${Q.lastName}`}),x.jsx(Xe,{children:Q.uid}),x.jsx(Xe,{children:Q.institution}),x.jsx(Xe,{children:Q.email}),x.jsx(Xe,{children:Q.courseNumber}),x.jsx(Xe,{children:Q.courseTitle}),x.jsx(Xe,{children:Q.courseDescription}),x.jsx(Xe,{children:new Date(Q.timestamp.seconds*1e3).toLocaleString()}),x.jsxs(Xe,{children:[Q.status==="pending"&&x.jsxs(x.Fragment,{children:[x.jsx(ze,{variant:"contained",color:"primary",sx:{mr:1},onClick:()=>W("approve",Q.id,Q),children:"Approve"}),x.jsx(ze,{variant:"contained",color:"secondary",onClick:()=>W("deny",Q.id,Q),children:"Deny"})]}),Q.status==="approved"&&x.jsx(we,{color:"success.main",children:"Approved"}),Q.status==="denied"&&x.jsx(we,{color:"error.main",children:"Denied"})]})]},Q.id))})]})}),x.jsx(Gi,{open:d,autoHideDuration:6e3,onClose:Y,children:x.jsx(qi,{onClose:Y,severity:v,sx:{width:"100%"},children:f})}),x.jsxs(ms,{open:y,onClose:q,"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description",children:[x.jsx(vs,{id:"confirmation-dialog-title",children:D==="approve"?"Confirm Approval":"Confirm Denial"}),x.jsxs(bs,{children:[x.jsxs(ks,{id:"confirmation-dialog-description",children:["Are you sure you want to ",D," this request for ",P==null?void 0:P.firstName," ",P==null?void 0:P.lastName,"?"]}),D==="approve"&&(P==null?void 0:P.requestType)==="co-instructor"&&x.jsxs(fe,{sx:{mt:2},children:[x.jsx(we,{children:"Select Course:"}),x.jsx(vc,{fullWidth:!0,value:s,onChange:Q=>c(Q.target.value),children:r.map(Q=>x.jsx(oa,{value:Q.id,children:`${Q.number} - ${Q.title}`},Q.id))})]})]}),x.jsxs(gs,{children:[x.jsx(ze,{onClick:q,color:"primary",children:"Cancel"}),x.jsx(ze,{onClick:D==="approve"?R:z,color:"primary",variant:"contained",autoFocus:!0,disabled:(P==null?void 0:P.requestType)==="co-instructor"&&!s,children:"Confirm"})]})]})]})},z3e=()=>{const{userDetails:e}=Eo(),[t,r]=B.useState(""),[o,s]=B.useState(""),[c,d]=B.useState(""),[m,f]=B.useState(!1),[k,v]=B.useState(!1),[_,y]=B.useState(""),[A,D]=B.useState(""),S=Fn(),I=xo(),T=$=>U=>{$(U.target.value)},P=async()=>{if(!t||!o||!c){y("Error"),D("Please fill in all required fields."),v(!0);return}f(!0);try{const $={uid:e==null?void 0:e.uid,courseNumber:t,courseTitle:o,courseDescription:c,status:"pending",timestamp:new Date};await Tu(yr(S,"courseRequests"),$),y("Success"),D("Your course request has been submitted for review."),r(""),s(""),d(""),v(!0),setTimeout(()=>{I("/my-profile")},2e3)}catch($){console.error("Error submitting course request: ",$),y("Error"),D("Error submitting your course request. Please try again."),v(!0)}finally{f(!1)}},N=()=>{v(!1)},j=()=>{I("/my-profile")};return x.jsxs(fe,{className:"request-form-container",sx:{padding:3},children:[x.jsx(fe,{sx:{display:"flex",alignItems:"center"},children:x.jsx(ze,{variant:"text",onClick:j,className:"back-home-button",children:" My Account"})}),x.jsxs(fe,{className:"request-form-outline",children:[x.jsx(we,{variant:"h5",component:"h1",className:"request-form-title",children:"Request Creating a New Course"}),x.jsxs(vt,{container:!0,spacing:3,children:[x.jsxs(vt,{item:!0,xs:12,md:6,children:[x.jsx(xi,{htmlFor:"course-number",required:!0,children:"Course Number"}),x.jsx(Xo,{id:"course-number",name:"course-number",value:t,onChange:T(r),placeholder:"e.g., BIOL301",fullWidth:!0,required:!0,disabled:m})]}),x.jsxs(vt,{item:!0,xs:12,md:6,children:[x.jsx(xi,{htmlFor:"course-title",required:!0,children:"Course Title"}),x.jsx(Xo,{id:"course-title",name:"course-title",value:o,onChange:T(s),placeholder:"e.g., Biotech Research Methods",fullWidth:!0,required:!0,disabled:m})]}),x.jsxs(vt,{item:!0,xs:12,children:[x.jsx(xi,{htmlFor:"course-description",required:!0,children:"Course Description"}),x.jsx(Xo,{id:"course-description",name:"course-description",value:c,onChange:T(d),placeholder:"e.g., A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",fullWidth:!0,multiline:!0,rows:4,required:!0,disabled:m})]}),x.jsx(vt,{item:!0,xs:12,children:x.jsx(ze,{variant:"contained",color:"primary",onClick:P,fullWidth:!0,className:"submit-button",disabled:m,sx:{mt:3,py:1.5,fontWeight:"bold",fontSize:"16px",textTransform:"uppercase"},children:m?x.jsx(ra,{size:24,color:"inherit"}):"Submit Request"})}),x.jsx(vt,{item:!0,xs:12,children:x.jsxs(we,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["For any questions, please contact ",x.jsx("a",{href:"mailto:andriy@intofuture.org",children:"andriy@intofuture.org"}),"."]})})]}),x.jsxs(ms,{open:k,onClose:N,children:[x.jsx(vs,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:x.jsx(FI,{sx:{color:"green",fontSize:50,marginRight:1}})}),x.jsx(bs,{children:x.jsx(ks,{sx:{textAlign:"center"},children:A})}),x.jsx(gs,{children:x.jsx(ze,{onClick:N,color:"primary",autoFocus:!0,children:"Close"})})]})]})]})},$3e=()=>{const[e,t]=B.useState([]),[r,o]=B.useState(!1),[s,c]=B.useState(""),[d,m]=B.useState("success"),[f,k]=B.useState(!1),[v,_]=B.useState(null),[y,A]=B.useState(null),[D,S]=B.useState(null),I=Fn(),T=xo();B.useEffect(()=>{(async()=>{try{const Y=(await Fi(yr(I,"courseRequests"))).docs.map(Z=>({id:Z.id,...Z.data()}));Y.sort((Z,Q)=>Z.status==="pending"&&Q.status!=="pending"||Z.status==="approved"&&Q.status==="denied"?-1:Z.status==="denied"&&Q.status==="approved"?1:0),t(Y)}catch(q){console.error("Error fetching course requests: ",q)}})()},[I]);function P(){const W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let q="";for(let Y=0;Y<28;Y++)q+=W.charAt(Math.floor(Math.random()*W.length));return q}const N=async()=>{if(!(!y||!D)){try{const W=P(),q=await Tu(yr(I,"courses"),{number:D.courseNumber,title:D.courseTitle,passcode:W,courseAdmin:[D.uid]}),Y=Yt(I,"users",D.uid);await dr(Y,{[`classes.${q.id}`]:{number:D.courseNumber,title:D.courseTitle}}),await dr(Yt(I,"courseRequests",y),{status:"approved",courseId:q.id,passcode:W}),c("Course request approved, course added."),m("success"),t(e.map(Z=>Z.id===y?{...Z,status:"approved"}:Z))}catch(W){console.error("Error approving request: ",W),c("Error approving the request. Please try again."),m("error")}o(!0),U()}},j=async()=>{if(y){try{await dr(Yt(I,"courseRequests",y),{status:"denied"}),c("Course request denied."),m("success"),t(e.map(W=>W.id===y?{...W,status:"denied"}:W))}catch(W){console.error("Error denying request: ",W),c("Error denying the request. Please try again."),m("error")}o(!0),U()}},$=(W,q,Y)=>{_(W),A(q),S(Y),k(!0)},U=()=>{k(!1),_(null),A(null),S(null)},R=()=>{o(!1)},z=()=>{T("/")};return x.jsxs(fe,{sx:{padding:3},children:[x.jsx(fe,{sx:{display:"flex",alignItems:"center"},children:x.jsx(ze,{variant:"text",onClick:z,sx:{mr:2},children:" Home Page"})}),x.jsx(we,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:3},children:"Course Creation Requests"}),x.jsx(Db,{component:co,children:x.jsxs(Eb,{children:[x.jsx(Tb,{children:x.jsxs(ia,{children:[x.jsx(Xe,{children:"Educator ID"}),x.jsx(Xe,{children:"Course Number"}),x.jsx(Xe,{children:"Course Title"}),x.jsx(Xe,{children:"Course Description"}),x.jsx(Xe,{children:"Timestamp"}),x.jsx(Xe,{children:"Actions"})]})}),x.jsx(Sb,{children:e.map(W=>x.jsxs(ia,{children:[x.jsx(Xe,{children:W.uid}),x.jsx(Xe,{children:W.courseNumber}),x.jsx(Xe,{children:W.courseTitle}),x.jsx(Xe,{children:W.courseDescription}),x.jsx(Xe,{children:new Date(W.timestamp.seconds*1e3).toLocaleString()}),x.jsxs(Xe,{children:[W.status==="pending"&&x.jsxs(x.Fragment,{children:[x.jsx(ze,{variant:"contained",color:"primary",sx:{mr:1},onClick:()=>$("approve",W.id,W),children:"Approve"}),x.jsx(ze,{variant:"contained",color:"secondary",onClick:()=>$("deny",W.id,W),children:"Deny"})]}),W.status==="approved"&&x.jsx(we,{color:"success.main",children:"Approved"}),W.status==="denied"&&x.jsx(we,{color:"error.main",children:"Denied"})]})]},W.id))})]})}),x.jsx(Gi,{open:r,autoHideDuration:6e3,onClose:R,children:x.jsx(qi,{onClose:R,severity:d,sx:{width:"100%"},children:s})}),x.jsxs(ms,{open:f,onClose:U,"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description",children:[x.jsx(vs,{id:"confirmation-dialog-title",children:v==="approve"?"Confirm Approval":"Confirm Denial"}),x.jsx(bs,{children:x.jsxs(ks,{id:"confirmation-dialog-description",children:["Are you sure you want to ",v," this request for ",D==null?void 0:D.courseNumber," submitted by Educator ID: ",D==null?void 0:D.uid,"?"]})}),x.jsxs(gs,{children:[x.jsx(ze,{onClick:U,color:"primary",children:"Cancel"}),x.jsx(ze,{onClick:v==="approve"?N:j,color:"primary",variant:"contained",autoFocus:!0,children:"Confirm"})]})]})]})};var zI={},V3e=qr;Object.defineProperty(zI,"__esModule",{value:!0});var vK=zI.default=void 0,U3e=V3e(So()),H3e=x;vK=zI.default=(0,U3e.default)((0,H3e.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");const W3e=()=>{const e=Fn(),{userDetails:t}=Eo(),[r,o]=B.useState([]),[s,c]=B.useState(!0),[d,m]=B.useState(!1),[f,k]=B.useState(""),[v,_]=B.useState("info"),[y,A]=B.useState(!1),[D,S]=B.useState(""),[I,T]=B.useState(""),P=xo();B.useEffect(()=>{(async()=>{c(!0);try{const Z=(await Fi(yr(e,"courses"))).docs.map(Q=>{const J=Q.data();return{id:Q.id,title:J.title||"Untitled",number:J.number||"N/A",courseAdmin:J.courseAdmin||[]}});o(Z)}catch(Y){console.error("Error fetching courses: ",Y)}finally{c(!1)}})()},[e]);const N=async q=>{if(!t){U("User details are not available.","error");return}const Y=r.find(Z=>Z.id===q);if(Y&&t)try{if(Y.courseAdmin.includes(t.uid)){U("You are already an admin for this course.","warning");return}const Z=Yt(e,"courses",q),Q=[...Y.courseAdmin,t.uid];await dr(Z,{courseAdmin:Q});const J=Yt(e,"users",t.uid);await dr(J,{[`classes.${q}`]:{number:Y.number,title:Y.title}}),o(r.map(te=>te.id===q?{...te,courseAdmin:Q}:te)),U("You have been successfully added as an admin to this course.","success")}catch(Z){console.error("Error adding super-admin to course: ",Z),U("Failed to add admin to course.","error")}},j=q=>{T(q),A(!0)},$=async()=>{if(t&&D===t.uid){const q=r.find(Y=>Y.id===I);if(q&&q.courseAdmin.includes(t.uid))try{await iT(Yt(e,"courses",I));const Y=await Fi(yr(e,"users")),Z=kke(e);Y.forEach(Q=>{const J=Yt(e,"users",Q.id),ee={...Q.data().classes};delete ee[I],Z.update(J,{classes:ee})}),await Z.commit(),o(r.filter(Q=>Q.id!==I)),U("Course deleted successfully.","success")}catch(Y){console.error("Error deleting course: ",Y),U("Failed to delete course.","error")}finally{A(!1),S("")}else U("You are not authorized to delete this course.","warning"),A(!1)}else U("User ID does not match. Please try again.","error")},U=(q,Y)=>{k(q),_(Y),m(!0)},R=(q,Y)=>{Y!=="clickaway"&&m(!1)},z=()=>{A(!1),S("")},W=()=>{P("/")};return x.jsxs(fe,{sx:{p:3},children:[x.jsx(fe,{sx:{display:"flex",alignItems:"center",mb:2},children:x.jsx(ze,{variant:"text",onClick:W,sx:{mr:2},children:" Home Page"})}),x.jsx(we,{variant:"h4",gutterBottom:!0,children:"Super Admin Course Management"}),s?x.jsx(we,{children:"Loading courses..."}):x.jsx(Db,{component:co,children:x.jsxs(Eb,{"aria-label":"courses table",children:[x.jsx(Tb,{children:x.jsxs(ia,{children:[x.jsx(Xe,{sx:{fontWeight:"bold"},children:"Course ID"}),x.jsx(Xe,{sx:{fontWeight:"bold"},children:"Course Number"}),x.jsx(Xe,{sx:{fontWeight:"bold"},children:"Course Title"}),x.jsx(Xe,{sx:{fontWeight:"bold"},children:"Instructors"}),x.jsx(Xe,{align:"right",sx:{fontWeight:"bold"},children:"Actions"})]})}),x.jsx(Sb,{children:r.map(q=>{const Y=!!(t!=null&&t.uid)&&q.courseAdmin.includes(t.uid);return x.jsxs(ia,{sx:{backgroundColor:Y?"#e0f7fa":"transparent"},children:[x.jsx(Xe,{children:q.id}),x.jsx(Xe,{children:q.number}),x.jsx(Xe,{children:q.title}),x.jsx(Xe,{children:q.courseAdmin.length>0?q.courseAdmin.join(", "):"No admins assigned"}),x.jsxs(Xe,{align:"right",children:[x.jsx(Xa,{title:"Add yourself as an instructor",children:x.jsx("span",{children:x.jsx(Gn,{edge:"end","aria-label":"add",onClick:()=>N(q.id),disabled:Y,children:x.jsx(vK,{})})})}),x.jsx(Xa,{title:Y?"Delete this course":"You are not authorized to delete this course",children:x.jsx("span",{children:x.jsx(Gn,{edge:"end","aria-label":"delete",onClick:()=>j(q.id),disabled:!Y,children:x.jsx(Sp,{})})})})]})]},q.id)})})]})}),x.jsx(Gi,{open:d,autoHideDuration:6e3,onClose:R,children:x.jsx(qi,{onClose:R,severity:v,sx:{width:"100%"},children:f})}),x.jsxs(ms,{open:y,onClose:z,children:[x.jsx(vs,{children:"Confirm Delete"}),x.jsxs(bs,{children:[x.jsx(ks,{children:"To confirm the deletion of this course, please enter your User ID:"}),x.jsx(sr,{autoFocus:!0,margin:"dense",id:"userId",label:"User ID",type:"text",fullWidth:!0,variant:"outlined",value:D,onChange:q=>S(q.target.value)})]}),x.jsxs(gs,{children:[x.jsx(ze,{onClick:z,color:"primary",children:"Cancel"}),x.jsx(ze,{onClick:$,color:"primary",children:"Confirm"})]})]})]})},q3e=B.lazy(()=>z2(()=>import("./index-BJrqcaA3.js"),[])),G3e=B.lazy(()=>z2(()=>import("./index-BTQxGBAX.js"),__vite__mapDeps([0,1]))),K3e=B.lazy(()=>z2(()=>import("./SupplementalMaterials-CPZjghHK.js"),__vite__mapDeps([2,1]))),Y3e=()=>{const{userDetails:e,loading:t,isSuperAdmin:r}=Eo();if(t)return x.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:x.jsx(ra,{})});const o=RT({breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}}});return console.log("App loaded"),x.jsxs(sCe,{theme:o,children:[x.jsx(mEe,{}),x.jsxs($ue,{children:[e&&x.jsx(UTe,{}),x.jsx("div",{className:"content",children:x.jsx(B.Suspense,{fallback:x.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:x.jsx(ra,{})}),children:x.jsxs(jue,{children:[x.jsx(Sr,{path:"/",element:e?x.jsx(hIe,{}):x.jsx(q3e,{})}),x.jsx(Sr,{path:"/laboratory-notebooks",element:x.jsx(Ci,{element:G3e})}),x.jsx(Sr,{path:"/supplemental-materials",element:x.jsx(Ci,{element:K3e})}),x.jsx(Sr,{path:"/my-profile",element:x.jsx(Ci,{element:M3e})}),x.jsx(Sr,{path:"/add-material",element:x.jsx(Ci,{element:kK})}),x.jsx(Sr,{path:"/edit-material/:id",element:x.jsx(Ci,{element:k3e})}),x.jsx(Sr,{path:"/view-material/:id",element:x.jsx(Ci,{element:y3e})}),x.jsx(Sr,{path:"/add-message",element:x.jsx(Ci,{element:_3e})}),x.jsx(Sr,{path:"/edit-message/:id",element:x.jsx(Ci,{element:C3e})}),r&&x.jsx(Sr,{path:"/user-management",element:x.jsx(Ci,{element:S3e})}),x.jsx(Sr,{path:"/course-management",element:x.jsx(Ci,{element:R3e})}),x.jsx(Sr,{path:"/request-educator-permissions",element:x.jsx(Ci,{element:j3e})}),x.jsx(Sr,{path:"/educator-requests",element:x.jsx(Ci,{element:F3e})}),x.jsx(Sr,{path:"/request-new-course",element:x.jsx(z3e,{})}),x.jsx(Sr,{path:"/course-requests",element:x.jsx($3e,{})}),x.jsx(Sr,{path:"/super-admin-course-management",element:x.jsx(W3e,{})}),x.jsx(Sr,{path:"*",element:x.jsx(B8,{to:"/"})})]})})}),x.jsx(YTe,{}),x.jsx(zTe,{})]})]})},Q3e=document.getElementById("root"),Z3e=zx.createRoot(Q3e);Z3e.render(x.jsx(ae.StrictMode,{children:x.jsx(jve,{children:x.jsx(Y3e,{})})}));export{bs as $,qi as A,fe as B,Vq as C,xg as D,Kl as E,R6 as F,vt as G,aLe as H,xo as I,Db as J,Eb as K,MS as L,Tb as M,ia as N,Xe as O,co as P,Sb as Q,Gn as R,tEe as S,we as T,Ah as U,Sp as V,ir as W,rv as X,Xw as Y,ms as Z,V as _,$e as a,fW as a0,Nve as a1,oLe as a2,Pve as a3,iLe as a4,xb as a5,Ab as a6,vc as a7,oa as a8,RG as a9,ra as aA,OG as aa,x0 as ab,Bf as ac,sr as ad,Lf as ae,E0 as af,Eo as ag,vs as ah,ks as ai,gs as aj,_m as ak,Tu as al,yr as am,sLe as an,fke as ao,Yt as ap,fc as aq,dr as ar,Sw as as,g0 as at,dke as au,Fi as av,iT as aw,ae as ax,Fn as ay,rLe as az,ue as b,gc as c,Tt as d,B as e,ke as f,Ve as g,pe as h,Ue as i,x as j,So as k,qr as l,IV as m,mc as n,fx as o,ze as p,Xa as q,Wo as r,he as s,Gi as t,He as u,eLe as v,lpe as w,_V as x,El as y,tLe as z};
