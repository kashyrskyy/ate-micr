const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BuiDwvJR.js","assets/Visibility-CW3YUwus.js","assets/SupplementalMaterials-DMrFRNbi.js"])))=>i.map(i=>d[i]);
function kne(e,t){for(var o=0;o<t.length;o++){const s=t[o];if(typeof s!="string"&&!Array.isArray(s)){for(const c in s)if(c!=="default"&&!(c in e)){const u=Object.getOwnPropertyDescriptor(s,c);u&&Object.defineProperty(e,c,u.get?u:{enumerable:!0,get:()=>s[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function o(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(c){if(c.ep)return;c.ep=!0;const u=o(c);fetch(c.href,u)}})();var Om=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function s0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Yi(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var o=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};o.prototype=t.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var c=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(o,s,c.get?c:{enumerable:!0,get:function(){return e[s]}})}),o}var Kj={exports:{}},a0={},Yj={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf=Symbol.for("react.element"),bne=Symbol.for("react.portal"),vne=Symbol.for("react.fragment"),wne=Symbol.for("react.strict_mode"),yne=Symbol.for("react.profiler"),_ne=Symbol.for("react.provider"),Cne=Symbol.for("react.context"),Ane=Symbol.for("react.forward_ref"),xne=Symbol.for("react.suspense"),Ene=Symbol.for("react.memo"),Sne=Symbol.for("react.lazy"),nO=Symbol.iterator;function Tne(e){return e===null||typeof e!="object"?null:(e=nO&&e[nO]||e["@@iterator"],typeof e=="function"?e:null)}var Qj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zj=Object.assign,Jj={};function ru(e,t,o){this.props=e,this.context=t,this.refs=Jj,this.updater=o||Qj}ru.prototype.isReactComponent={};ru.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ru.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xj(){}Xj.prototype=ru.prototype;function $1(e,t,o){this.props=e,this.context=t,this.refs=Jj,this.updater=o||Qj}var V1=$1.prototype=new Xj;V1.constructor=$1;Zj(V1,ru.prototype);V1.isPureReactComponent=!0;var oO=Array.isArray,ez=Object.prototype.hasOwnProperty,U1={current:null},tz={key:!0,ref:!0,__self:!0,__source:!0};function nz(e,t,o){var s,c={},u=null,p=null;if(t!=null)for(s in t.ref!==void 0&&(p=t.ref),t.key!==void 0&&(u=""+t.key),t)ez.call(t,s)&&!tz.hasOwnProperty(s)&&(c[s]=t[s]);var m=arguments.length-2;if(m===1)c.children=o;else if(1<m){for(var g=Array(m),v=0;v<m;v++)g[v]=arguments[v+2];c.children=g}if(e&&e.defaultProps)for(s in m=e.defaultProps,m)c[s]===void 0&&(c[s]=m[s]);return{$$typeof:wf,type:e,key:u,ref:p,props:c,_owner:U1.current}}function Ine(e,t){return{$$typeof:wf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function H1(e){return typeof e=="object"&&e!==null&&e.$$typeof===wf}function Dne(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(o){return t[o]})}var rO=/\/+/g;function T_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Dne(""+e.key):t.toString(36)}function yk(e,t,o,s,c){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var p=!1;if(e===null)p=!0;else switch(u){case"string":case"number":p=!0;break;case"object":switch(e.$$typeof){case wf:case bne:p=!0}}if(p)return p=e,c=c(p),e=s===""?"."+T_(p,0):s,oO(c)?(o="",e!=null&&(o=e.replace(rO,"$&/")+"/"),yk(c,t,o,"",function(v){return v})):c!=null&&(H1(c)&&(c=Ine(c,o+(!c.key||p&&p.key===c.key?"":(""+c.key).replace(rO,"$&/")+"/")+e)),t.push(c)),1;if(p=0,s=s===""?".":s+":",oO(e))for(var m=0;m<e.length;m++){u=e[m];var g=s+T_(u,m);p+=yk(u,t,o,g,c)}else if(g=Tne(e),typeof g=="function")for(e=g.call(e),m=0;!(u=e.next()).done;)u=u.value,g=s+T_(u,m++),p+=yk(u,t,o,g,c);else if(u==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return p}function Bm(e,t,o){if(e==null)return e;var s=[],c=0;return yk(e,s,"","",function(u){return t.call(o,u,c++)}),s}function Mne(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(o){(e._status===0||e._status===-1)&&(e._status=1,e._result=o)},function(o){(e._status===0||e._status===-1)&&(e._status=2,e._result=o)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oo={current:null},_k={transition:null},Pne={ReactCurrentDispatcher:Oo,ReactCurrentBatchConfig:_k,ReactCurrentOwner:U1};function oz(){throw Error("act(...) is not supported in production builds of React.")}ft.Children={map:Bm,forEach:function(e,t,o){Bm(e,function(){t.apply(this,arguments)},o)},count:function(e){var t=0;return Bm(e,function(){t++}),t},toArray:function(e){return Bm(e,function(t){return t})||[]},only:function(e){if(!H1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ft.Component=ru;ft.Fragment=vne;ft.Profiler=yne;ft.PureComponent=$1;ft.StrictMode=wne;ft.Suspense=xne;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pne;ft.act=oz;ft.cloneElement=function(e,t,o){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Zj({},e.props),c=e.key,u=e.ref,p=e._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,p=U1.current),t.key!==void 0&&(c=""+t.key),e.type&&e.type.defaultProps)var m=e.type.defaultProps;for(g in t)ez.call(t,g)&&!tz.hasOwnProperty(g)&&(s[g]=t[g]===void 0&&m!==void 0?m[g]:t[g])}var g=arguments.length-2;if(g===1)s.children=o;else if(1<g){m=Array(g);for(var v=0;v<g;v++)m[v]=arguments[v+2];s.children=m}return{$$typeof:wf,type:e.type,key:c,ref:u,props:s,_owner:p}};ft.createContext=function(e){return e={$$typeof:Cne,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_ne,_context:e},e.Consumer=e};ft.createElement=nz;ft.createFactory=function(e){var t=nz.bind(null,e);return t.type=e,t};ft.createRef=function(){return{current:null}};ft.forwardRef=function(e){return{$$typeof:Ane,render:e}};ft.isValidElement=H1;ft.lazy=function(e){return{$$typeof:Sne,_payload:{_status:-1,_result:e},_init:Mne}};ft.memo=function(e,t){return{$$typeof:Ene,type:e,compare:t===void 0?null:t}};ft.startTransition=function(e){var t=_k.transition;_k.transition={};try{e()}finally{_k.transition=t}};ft.unstable_act=oz;ft.useCallback=function(e,t){return Oo.current.useCallback(e,t)};ft.useContext=function(e){return Oo.current.useContext(e)};ft.useDebugValue=function(){};ft.useDeferredValue=function(e){return Oo.current.useDeferredValue(e)};ft.useEffect=function(e,t){return Oo.current.useEffect(e,t)};ft.useId=function(){return Oo.current.useId()};ft.useImperativeHandle=function(e,t,o){return Oo.current.useImperativeHandle(e,t,o)};ft.useInsertionEffect=function(e,t){return Oo.current.useInsertionEffect(e,t)};ft.useLayoutEffect=function(e,t){return Oo.current.useLayoutEffect(e,t)};ft.useMemo=function(e,t){return Oo.current.useMemo(e,t)};ft.useReducer=function(e,t,o){return Oo.current.useReducer(e,t,o)};ft.useRef=function(e){return Oo.current.useRef(e)};ft.useState=function(e){return Oo.current.useState(e)};ft.useSyncExternalStore=function(e,t,o){return Oo.current.useSyncExternalStore(e,t,o)};ft.useTransition=function(){return Oo.current.useTransition()};ft.version="18.3.1";Yj.exports=ft;var z=Yj.exports;const ur=s0(z),Zk=kne({__proto__:null,default:ur},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nne=z,Rne=Symbol.for("react.element"),One=Symbol.for("react.fragment"),Bne=Object.prototype.hasOwnProperty,Lne=Nne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jne={key:!0,ref:!0,__self:!0,__source:!0};function rz(e,t,o){var s,c={},u=null,p=null;o!==void 0&&(u=""+o),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(p=t.ref);for(s in t)Bne.call(t,s)&&!jne.hasOwnProperty(s)&&(c[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)c[s]===void 0&&(c[s]=t[s]);return{$$typeof:Rne,type:e,key:u,ref:p,props:c,_owner:Lne.current}}a0.Fragment=One;a0.jsx=rz;a0.jsxs=rz;Kj.exports=a0;var N=Kj.exports,HC={},iz={exports:{}},wr={},sz={exports:{}},az={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,te){var de=q.length;q.push(te);e:for(;0<de;){var Te=de-1>>>1,Ie=q[Te];if(0<c(Ie,te))q[Te]=te,q[de]=Ie,de=Te;else break e}}function o(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var te=q[0],de=q.pop();if(de!==te){q[0]=de;e:for(var Te=0,Ie=q.length,We=Ie>>>1;Te<We;){var De=2*(Te+1)-1,Qe=q[De],xe=De+1,ut=q[xe];if(0>c(Qe,de))xe<Ie&&0>c(ut,Qe)?(q[Te]=ut,q[xe]=de,Te=xe):(q[Te]=Qe,q[De]=de,Te=De);else if(xe<Ie&&0>c(ut,de))q[Te]=ut,q[xe]=de,Te=xe;else break e}}return te}function c(q,te){var de=q.sortIndex-te.sortIndex;return de!==0?de:q.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var p=Date,m=p.now();e.unstable_now=function(){return p.now()-m}}var g=[],v=[],_=1,C=null,y=3,x=!1,S=!1,T=!1,P=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(q){for(var te=o(v);te!==null;){if(te.callback===null)s(v);else if(te.startTime<=q)s(v),te.sortIndex=te.expirationTime,t(g,te);else break;te=o(v)}}function j(q){if(T=!1,B(q),!S)if(o(g)!==null)S=!0,ie(V);else{var te=o(v);te!==null&&ae(j,te.startTime-q)}}function V(q,te){S=!1,T&&(T=!1,D(U),U=-1),x=!0;var de=y;try{for(B(te),C=o(g);C!==null&&(!(C.expirationTime>te)||q&&!Z());){var Te=C.callback;if(typeof Te=="function"){C.callback=null,y=C.priorityLevel;var Ie=Te(C.expirationTime<=te);te=e.unstable_now(),typeof Ie=="function"?C.callback=Ie:C===o(g)&&s(g),B(te)}else s(g);C=o(g)}if(C!==null)var We=!0;else{var De=o(v);De!==null&&ae(j,De.startTime-te),We=!1}return We}finally{C=null,y=de,x=!1}}var H=!1,M=null,U=-1,G=5,K=-1;function Z(){return!(e.unstable_now()-K<G)}function se(){if(M!==null){var q=e.unstable_now();K=q;var te=!0;try{te=M(!0,q)}finally{te?X():(H=!1,M=null)}}else H=!1}var X;if(typeof R=="function")X=function(){R(se)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,oe=ee.port2;ee.port1.onmessage=se,X=function(){oe.postMessage(null)}}else X=function(){P(se,0)};function ie(q){M=q,H||(H=!0,X())}function ae(q,te){U=P(function(){q(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){S||x||(S=!0,ie(V))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return o(g)},e.unstable_next=function(q){switch(y){case 1:case 2:case 3:var te=3;break;default:te=y}var de=y;y=te;try{return q()}finally{y=de}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,te){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var de=y;y=q;try{return te()}finally{y=de}},e.unstable_scheduleCallback=function(q,te,de){var Te=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Te+de:Te):de=Te,q){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=de+Ie,q={id:_++,callback:te,priorityLevel:q,startTime:de,expirationTime:Ie,sortIndex:-1},de>Te?(q.sortIndex=de,t(v,q),o(g)===null&&q===o(v)&&(T?(D(U),U=-1):T=!0,ae(j,de-Te))):(q.sortIndex=Ie,t(g,q),S||x||(S=!0,ie(V))),q},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(q){var te=y;return function(){var de=y;y=te;try{return q.apply(this,arguments)}finally{y=de}}}})(az);sz.exports=az;var zne=sz.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fne=z,kr=zne;function ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)t+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lz=new Set,Ap={};function Xl(e,t){Md(e,t),Md(e+"Capture",t)}function Md(e,t){for(Ap[e]=t,e=0;e<t.length;e++)lz.add(t[e])}var As=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),WC=Object.prototype.hasOwnProperty,$ne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iO={},sO={};function Vne(e){return WC.call(sO,e)?!0:WC.call(iO,e)?!1:$ne.test(e)?sO[e]=!0:(iO[e]=!0,!1)}function Une(e,t,o,s){if(o!==null&&o.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hne(e,t,o,s){if(t===null||typeof t>"u"||Une(e,t,o,s))return!0;if(s)return!1;if(o!==null)switch(o.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Bo(e,t,o,s,c,u,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=c,this.mustUseProperty=o,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=p}var ho={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ho[e]=new Bo(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ho[t]=new Bo(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ho[e]=new Bo(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ho[e]=new Bo(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ho[e]=new Bo(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ho[e]=new Bo(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ho[e]=new Bo(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ho[e]=new Bo(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ho[e]=new Bo(e,5,!1,e.toLowerCase(),null,!1,!1)});var W1=/[\-:]([a-z])/g;function q1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(W1,q1);ho[t]=new Bo(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(W1,q1);ho[t]=new Bo(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(W1,q1);ho[t]=new Bo(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ho[e]=new Bo(e,1,!1,e.toLowerCase(),null,!1,!1)});ho.xlinkHref=new Bo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ho[e]=new Bo(e,1,!1,e.toLowerCase(),null,!0,!0)});function G1(e,t,o,s){var c=ho.hasOwnProperty(t)?ho[t]:null;(c!==null?c.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hne(t,o,c,s)&&(o=null),s||c===null?Vne(t)&&(o===null?e.removeAttribute(t):e.setAttribute(t,""+o)):c.mustUseProperty?e[c.propertyName]=o===null?c.type===3?!1:"":o:(t=c.attributeName,s=c.attributeNamespace,o===null?e.removeAttribute(t):(c=c.type,o=c===3||c===4&&o===!0?"":""+o,s?e.setAttributeNS(s,t,o):e.setAttribute(t,o))))}var Ls=Fne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lm=Symbol.for("react.element"),td=Symbol.for("react.portal"),nd=Symbol.for("react.fragment"),K1=Symbol.for("react.strict_mode"),qC=Symbol.for("react.profiler"),cz=Symbol.for("react.provider"),dz=Symbol.for("react.context"),Y1=Symbol.for("react.forward_ref"),GC=Symbol.for("react.suspense"),KC=Symbol.for("react.suspense_list"),Q1=Symbol.for("react.memo"),ea=Symbol.for("react.lazy"),uz=Symbol.for("react.offscreen"),aO=Symbol.iterator;function vh(e){return e===null||typeof e!="object"?null:(e=aO&&e[aO]||e["@@iterator"],typeof e=="function"?e:null)}var fn=Object.assign,I_;function Vh(e){if(I_===void 0)try{throw Error()}catch(o){var t=o.stack.trim().match(/\n( *(at )?)/);I_=t&&t[1]||""}return`
`+I_+e}var D_=!1;function M_(e,t){if(!e||D_)return"";D_=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var s=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){s=v}e.call(t.prototype)}else{try{throw Error()}catch(v){s=v}e()}}catch(v){if(v&&s&&typeof v.stack=="string"){for(var c=v.stack.split(`
`),u=s.stack.split(`
`),p=c.length-1,m=u.length-1;1<=p&&0<=m&&c[p]!==u[m];)m--;for(;1<=p&&0<=m;p--,m--)if(c[p]!==u[m]){if(p!==1||m!==1)do if(p--,m--,0>m||c[p]!==u[m]){var g=`
`+c[p].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=p&&0<=m);break}}}finally{D_=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?Vh(e):""}function Wne(e){switch(e.tag){case 5:return Vh(e.type);case 16:return Vh("Lazy");case 13:return Vh("Suspense");case 19:return Vh("SuspenseList");case 0:case 2:case 15:return e=M_(e.type,!1),e;case 11:return e=M_(e.type.render,!1),e;case 1:return e=M_(e.type,!0),e;default:return""}}function YC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nd:return"Fragment";case td:return"Portal";case qC:return"Profiler";case K1:return"StrictMode";case GC:return"Suspense";case KC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dz:return(e.displayName||"Context")+".Consumer";case cz:return(e._context.displayName||"Context")+".Provider";case Y1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q1:return t=e.displayName||null,t!==null?t:YC(e.type)||"Memo";case ea:t=e._payload,e=e._init;try{return YC(e(t))}catch{}}return null}function qne(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return YC(t);case 8:return t===K1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hz(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Gne(e){var t=hz(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,u=o.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(p){s=""+p,u.call(this,p)}}),Object.defineProperty(e,t,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jm(e){e._valueTracker||(e._valueTracker=Gne(e))}function pz(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var o=t.getValue(),s="";return e&&(s=hz(e)?e.checked?"true":"false":e.value),e=s,e!==o?(t.setValue(e),!0):!1}function Jk(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function QC(e,t){var o=t.checked;return fn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function lO(e,t){var o=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;o=Sa(t.value!=null?t.value:o),e._wrapperState={initialChecked:s,initialValue:o,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fz(e,t){t=t.checked,t!=null&&G1(e,"checked",t,!1)}function ZC(e,t){fz(e,t);var o=Sa(t.value),s=t.type;if(o!=null)s==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?JC(e,t.type,o):t.hasOwnProperty("defaultValue")&&JC(e,t.type,Sa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cO(e,t,o){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,o||t===e.value||(e.value=t),e.defaultValue=t}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function JC(e,t,o){(t!=="number"||Jk(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var Uh=Array.isArray;function gd(e,t,o,s){if(e=e.options,t){t={};for(var c=0;c<o.length;c++)t["$"+o[c]]=!0;for(o=0;o<e.length;o++)c=t.hasOwnProperty("$"+e[o].value),e[o].selected!==c&&(e[o].selected=c),c&&s&&(e[o].defaultSelected=!0)}else{for(o=""+Sa(o),t=null,c=0;c<e.length;c++){if(e[c].value===o){e[c].selected=!0,s&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function XC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ge(91));return fn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dO(e,t){var o=t.value;if(o==null){if(o=t.children,t=t.defaultValue,o!=null){if(t!=null)throw Error(ge(92));if(Uh(o)){if(1<o.length)throw Error(ge(93));o=o[0]}t=o}t==null&&(t=""),o=t}e._wrapperState={initialValue:Sa(o)}}function gz(e,t){var o=Sa(t.value),s=Sa(t.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),t.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),s!=null&&(e.defaultValue=""+s)}function uO(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function mz(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eA(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mz(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zm,kz=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,o,s,c){MSApp.execUnsafeLocalFunction(function(){return e(t,o,s,c)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zm=zm||document.createElement("div"),zm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xp(e,t){if(t){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=t;return}}e.textContent=t}var Xh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kne=["Webkit","ms","Moz","O"];Object.keys(Xh).forEach(function(e){Kne.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xh[t]=Xh[e]})});function bz(e,t,o){return t==null||typeof t=="boolean"||t===""?"":o||typeof t!="number"||t===0||Xh.hasOwnProperty(e)&&Xh[e]?(""+t).trim():t+"px"}function vz(e,t){e=e.style;for(var o in t)if(t.hasOwnProperty(o)){var s=o.indexOf("--")===0,c=bz(o,t[o],s);o==="float"&&(o="cssFloat"),s?e.setProperty(o,c):e[o]=c}}var Yne=fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tA(e,t){if(t){if(Yne[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ge(62))}}function nA(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oA=null;function Z1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rA=null,md=null,kd=null;function hO(e){if(e=Cf(e)){if(typeof rA!="function")throw Error(ge(280));var t=e.stateNode;t&&(t=h0(t),rA(e.stateNode,e.type,t))}}function wz(e){md?kd?kd.push(e):kd=[e]:md=e}function yz(){if(md){var e=md,t=kd;if(kd=md=null,hO(e),t)for(e=0;e<t.length;e++)hO(t[e])}}function _z(e,t){return e(t)}function Cz(){}var P_=!1;function Az(e,t,o){if(P_)return e(t,o);P_=!0;try{return _z(e,t,o)}finally{P_=!1,(md!==null||kd!==null)&&(Cz(),yz())}}function Ep(e,t){var o=e.stateNode;if(o===null)return null;var s=h0(o);if(s===null)return null;o=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(ge(231,t,typeof o));return o}var iA=!1;if(As)try{var wh={};Object.defineProperty(wh,"passive",{get:function(){iA=!0}}),window.addEventListener("test",wh,wh),window.removeEventListener("test",wh,wh)}catch{iA=!1}function Qne(e,t,o,s,c,u,p,m,g){var v=Array.prototype.slice.call(arguments,3);try{t.apply(o,v)}catch(_){this.onError(_)}}var ep=!1,Xk=null,eb=!1,sA=null,Zne={onError:function(e){ep=!0,Xk=e}};function Jne(e,t,o,s,c,u,p,m,g){ep=!1,Xk=null,Qne.apply(Zne,arguments)}function Xne(e,t,o,s,c,u,p,m,g){if(Jne.apply(this,arguments),ep){if(ep){var v=Xk;ep=!1,Xk=null}else throw Error(ge(198));eb||(eb=!0,sA=v)}}function ec(e){var t=e,o=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(o=t.return),e=t.return;while(e)}return t.tag===3?o:null}function xz(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pO(e){if(ec(e)!==e)throw Error(ge(188))}function eoe(e){var t=e.alternate;if(!t){if(t=ec(e),t===null)throw Error(ge(188));return t!==e?null:e}for(var o=e,s=t;;){var c=o.return;if(c===null)break;var u=c.alternate;if(u===null){if(s=c.return,s!==null){o=s;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===o)return pO(c),e;if(u===s)return pO(c),t;u=u.sibling}throw Error(ge(188))}if(o.return!==s.return)o=c,s=u;else{for(var p=!1,m=c.child;m;){if(m===o){p=!0,o=c,s=u;break}if(m===s){p=!0,s=c,o=u;break}m=m.sibling}if(!p){for(m=u.child;m;){if(m===o){p=!0,o=u,s=c;break}if(m===s){p=!0,s=u,o=c;break}m=m.sibling}if(!p)throw Error(ge(189))}}if(o.alternate!==s)throw Error(ge(190))}if(o.tag!==3)throw Error(ge(188));return o.stateNode.current===o?e:t}function Ez(e){return e=eoe(e),e!==null?Sz(e):null}function Sz(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Sz(e);if(t!==null)return t;e=e.sibling}return null}var Tz=kr.unstable_scheduleCallback,fO=kr.unstable_cancelCallback,toe=kr.unstable_shouldYield,noe=kr.unstable_requestPaint,Tn=kr.unstable_now,ooe=kr.unstable_getCurrentPriorityLevel,J1=kr.unstable_ImmediatePriority,Iz=kr.unstable_UserBlockingPriority,tb=kr.unstable_NormalPriority,roe=kr.unstable_LowPriority,Dz=kr.unstable_IdlePriority,l0=null,ji=null;function ioe(e){if(ji&&typeof ji.onCommitFiberRoot=="function")try{ji.onCommitFiberRoot(l0,e,void 0,(e.current.flags&128)===128)}catch{}}var gi=Math.clz32?Math.clz32:loe,soe=Math.log,aoe=Math.LN2;function loe(e){return e>>>=0,e===0?32:31-(soe(e)/aoe|0)|0}var Fm=64,$m=4194304;function Hh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nb(e,t){var o=e.pendingLanes;if(o===0)return 0;var s=0,c=e.suspendedLanes,u=e.pingedLanes,p=o&268435455;if(p!==0){var m=p&~c;m!==0?s=Hh(m):(u&=p,u!==0&&(s=Hh(u)))}else p=o&~c,p!==0?s=Hh(p):u!==0&&(s=Hh(u));if(s===0)return 0;if(t!==0&&t!==s&&!(t&c)&&(c=s&-s,u=t&-t,c>=u||c===16&&(u&4194240)!==0))return t;if(s&4&&(s|=o&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)o=31-gi(t),c=1<<o,s|=e[o],t&=~c;return s}function coe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function doe(e,t){for(var o=e.suspendedLanes,s=e.pingedLanes,c=e.expirationTimes,u=e.pendingLanes;0<u;){var p=31-gi(u),m=1<<p,g=c[p];g===-1?(!(m&o)||m&s)&&(c[p]=coe(m,t)):g<=t&&(e.expiredLanes|=m),u&=~m}}function aA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mz(){var e=Fm;return Fm<<=1,!(Fm&4194240)&&(Fm=64),e}function N_(e){for(var t=[],o=0;31>o;o++)t.push(e);return t}function yf(e,t,o){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gi(t),e[t]=o}function uoe(e,t){var o=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<o;){var c=31-gi(o),u=1<<c;t[c]=0,s[c]=-1,e[c]=-1,o&=~u}}function X1(e,t){var o=e.entangledLanes|=t;for(e=e.entanglements;o;){var s=31-gi(o),c=1<<s;c&t|e[s]&t&&(e[s]|=t),o&=~c}}var jt=0;function Pz(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Nz,ex,Rz,Oz,Bz,lA=!1,Vm=[],ga=null,ma=null,ka=null,Sp=new Map,Tp=new Map,na=[],hoe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gO(e,t){switch(e){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":ka=null;break;case"pointerover":case"pointerout":Sp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tp.delete(t.pointerId)}}function yh(e,t,o,s,c,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:o,eventSystemFlags:s,nativeEvent:u,targetContainers:[c]},t!==null&&(t=Cf(t),t!==null&&ex(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function poe(e,t,o,s,c){switch(t){case"focusin":return ga=yh(ga,e,t,o,s,c),!0;case"dragenter":return ma=yh(ma,e,t,o,s,c),!0;case"mouseover":return ka=yh(ka,e,t,o,s,c),!0;case"pointerover":var u=c.pointerId;return Sp.set(u,yh(Sp.get(u)||null,e,t,o,s,c)),!0;case"gotpointercapture":return u=c.pointerId,Tp.set(u,yh(Tp.get(u)||null,e,t,o,s,c)),!0}return!1}function Lz(e){var t=yl(e.target);if(t!==null){var o=ec(t);if(o!==null){if(t=o.tag,t===13){if(t=xz(o),t!==null){e.blockedOn=t,Bz(e.priority,function(){Rz(o)});return}}else if(t===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ck(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var o=cA(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);oA=s,o.target.dispatchEvent(s),oA=null}else return t=Cf(o),t!==null&&ex(t),e.blockedOn=o,!1;t.shift()}return!0}function mO(e,t,o){Ck(e)&&o.delete(t)}function foe(){lA=!1,ga!==null&&Ck(ga)&&(ga=null),ma!==null&&Ck(ma)&&(ma=null),ka!==null&&Ck(ka)&&(ka=null),Sp.forEach(mO),Tp.forEach(mO)}function _h(e,t){e.blockedOn===t&&(e.blockedOn=null,lA||(lA=!0,kr.unstable_scheduleCallback(kr.unstable_NormalPriority,foe)))}function Ip(e){function t(c){return _h(c,e)}if(0<Vm.length){_h(Vm[0],e);for(var o=1;o<Vm.length;o++){var s=Vm[o];s.blockedOn===e&&(s.blockedOn=null)}}for(ga!==null&&_h(ga,e),ma!==null&&_h(ma,e),ka!==null&&_h(ka,e),Sp.forEach(t),Tp.forEach(t),o=0;o<na.length;o++)s=na[o],s.blockedOn===e&&(s.blockedOn=null);for(;0<na.length&&(o=na[0],o.blockedOn===null);)Lz(o),o.blockedOn===null&&na.shift()}var bd=Ls.ReactCurrentBatchConfig,ob=!0;function goe(e,t,o,s){var c=jt,u=bd.transition;bd.transition=null;try{jt=1,tx(e,t,o,s)}finally{jt=c,bd.transition=u}}function moe(e,t,o,s){var c=jt,u=bd.transition;bd.transition=null;try{jt=4,tx(e,t,o,s)}finally{jt=c,bd.transition=u}}function tx(e,t,o,s){if(ob){var c=cA(e,t,o,s);if(c===null)U_(e,t,s,rb,o),gO(e,s);else if(poe(c,e,t,o,s))s.stopPropagation();else if(gO(e,s),t&4&&-1<hoe.indexOf(e)){for(;c!==null;){var u=Cf(c);if(u!==null&&Nz(u),u=cA(e,t,o,s),u===null&&U_(e,t,s,rb,o),u===c)break;c=u}c!==null&&s.stopPropagation()}else U_(e,t,s,null,o)}}var rb=null;function cA(e,t,o,s){if(rb=null,e=Z1(s),e=yl(e),e!==null)if(t=ec(e),t===null)e=null;else if(o=t.tag,o===13){if(e=xz(t),e!==null)return e;e=null}else if(o===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rb=e,null}function jz(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ooe()){case J1:return 1;case Iz:return 4;case tb:case roe:return 16;case Dz:return 536870912;default:return 16}default:return 16}}var ca=null,nx=null,Ak=null;function zz(){if(Ak)return Ak;var e,t=nx,o=t.length,s,c="value"in ca?ca.value:ca.textContent,u=c.length;for(e=0;e<o&&t[e]===c[e];e++);var p=o-e;for(s=1;s<=p&&t[o-s]===c[u-s];s++);return Ak=c.slice(e,1<s?1-s:void 0)}function xk(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Um(){return!0}function kO(){return!1}function yr(e){function t(o,s,c,u,p){this._reactName=o,this._targetInst=c,this.type=s,this.nativeEvent=u,this.target=p,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(o=e[m],this[m]=o?o(u):u[m]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Um:kO,this.isPropagationStopped=kO,this}return fn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Um)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Um)},persist:function(){},isPersistent:Um}),t}var iu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ox=yr(iu),_f=fn({},iu,{view:0,detail:0}),koe=yr(_f),R_,O_,Ch,c0=fn({},_f,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ch&&(Ch&&e.type==="mousemove"?(R_=e.screenX-Ch.screenX,O_=e.screenY-Ch.screenY):O_=R_=0,Ch=e),R_)},movementY:function(e){return"movementY"in e?e.movementY:O_}}),bO=yr(c0),boe=fn({},c0,{dataTransfer:0}),voe=yr(boe),woe=fn({},_f,{relatedTarget:0}),B_=yr(woe),yoe=fn({},iu,{animationName:0,elapsedTime:0,pseudoElement:0}),_oe=yr(yoe),Coe=fn({},iu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Aoe=yr(Coe),xoe=fn({},iu,{data:0}),vO=yr(xoe),Eoe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Soe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Toe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ioe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Toe[e])?!!t[e]:!1}function rx(){return Ioe}var Doe=fn({},_f,{key:function(e){if(e.key){var t=Eoe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xk(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Soe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rx,charCode:function(e){return e.type==="keypress"?xk(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xk(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Moe=yr(Doe),Poe=fn({},c0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wO=yr(Poe),Noe=fn({},_f,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rx}),Roe=yr(Noe),Ooe=fn({},iu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Boe=yr(Ooe),Loe=fn({},c0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),joe=yr(Loe),zoe=[9,13,27,32],ix=As&&"CompositionEvent"in window,tp=null;As&&"documentMode"in document&&(tp=document.documentMode);var Foe=As&&"TextEvent"in window&&!tp,Fz=As&&(!ix||tp&&8<tp&&11>=tp),yO=" ",_O=!1;function $z(e,t){switch(e){case"keyup":return zoe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vz(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var od=!1;function $oe(e,t){switch(e){case"compositionend":return Vz(t);case"keypress":return t.which!==32?null:(_O=!0,yO);case"textInput":return e=t.data,e===yO&&_O?null:e;default:return null}}function Voe(e,t){if(od)return e==="compositionend"||!ix&&$z(e,t)?(e=zz(),Ak=nx=ca=null,od=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fz&&t.locale!=="ko"?null:t.data;default:return null}}var Uoe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Uoe[e.type]:t==="textarea"}function Uz(e,t,o,s){wz(s),t=ib(t,"onChange"),0<t.length&&(o=new ox("onChange","change",null,o,s),e.push({event:o,listeners:t}))}var np=null,Dp=null;function Hoe(e){e6(e,0)}function d0(e){var t=sd(e);if(pz(t))return e}function Woe(e,t){if(e==="change")return t}var Hz=!1;if(As){var L_;if(As){var j_="oninput"in document;if(!j_){var AO=document.createElement("div");AO.setAttribute("oninput","return;"),j_=typeof AO.oninput=="function"}L_=j_}else L_=!1;Hz=L_&&(!document.documentMode||9<document.documentMode)}function xO(){np&&(np.detachEvent("onpropertychange",Wz),Dp=np=null)}function Wz(e){if(e.propertyName==="value"&&d0(Dp)){var t=[];Uz(t,Dp,e,Z1(e)),Az(Hoe,t)}}function qoe(e,t,o){e==="focusin"?(xO(),np=t,Dp=o,np.attachEvent("onpropertychange",Wz)):e==="focusout"&&xO()}function Goe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return d0(Dp)}function Koe(e,t){if(e==="click")return d0(t)}function Yoe(e,t){if(e==="input"||e==="change")return d0(t)}function Qoe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ki=typeof Object.is=="function"?Object.is:Qoe;function Mp(e,t){if(ki(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var c=o[s];if(!WC.call(t,c)||!ki(e[c],t[c]))return!1}return!0}function EO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function SO(e,t){var o=EO(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=t&&s>=t)return{node:o,offset:t-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=EO(o)}}function qz(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qz(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gz(){for(var e=window,t=Jk();t instanceof e.HTMLIFrameElement;){try{var o=typeof t.contentWindow.location.href=="string"}catch{o=!1}if(o)e=t.contentWindow;else break;t=Jk(e.document)}return t}function sx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Zoe(e){var t=Gz(),o=e.focusedElem,s=e.selectionRange;if(t!==o&&o&&o.ownerDocument&&qz(o.ownerDocument.documentElement,o)){if(s!==null&&sx(o)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in o)o.selectionStart=t,o.selectionEnd=Math.min(e,o.value.length);else if(e=(t=o.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=o.textContent.length,u=Math.min(s.start,c);s=s.end===void 0?u:Math.min(s.end,c),!e.extend&&u>s&&(c=s,s=u,u=c),c=SO(o,u);var p=SO(o,s);c&&p&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),u>s?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=o;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<t.length;o++)e=t[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Joe=As&&"documentMode"in document&&11>=document.documentMode,rd=null,dA=null,op=null,uA=!1;function TO(e,t,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;uA||rd==null||rd!==Jk(s)||(s=rd,"selectionStart"in s&&sx(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),op&&Mp(op,s)||(op=s,s=ib(dA,"onSelect"),0<s.length&&(t=new ox("onSelect","select",null,t,o),e.push({event:t,listeners:s}),t.target=rd)))}function Hm(e,t){var o={};return o[e.toLowerCase()]=t.toLowerCase(),o["Webkit"+e]="webkit"+t,o["Moz"+e]="moz"+t,o}var id={animationend:Hm("Animation","AnimationEnd"),animationiteration:Hm("Animation","AnimationIteration"),animationstart:Hm("Animation","AnimationStart"),transitionend:Hm("Transition","TransitionEnd")},z_={},Kz={};As&&(Kz=document.createElement("div").style,"AnimationEvent"in window||(delete id.animationend.animation,delete id.animationiteration.animation,delete id.animationstart.animation),"TransitionEvent"in window||delete id.transitionend.transition);function u0(e){if(z_[e])return z_[e];if(!id[e])return e;var t=id[e],o;for(o in t)if(t.hasOwnProperty(o)&&o in Kz)return z_[e]=t[o];return e}var Yz=u0("animationend"),Qz=u0("animationiteration"),Zz=u0("animationstart"),Jz=u0("transitionend"),Xz=new Map,IO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oa(e,t){Xz.set(e,t),Xl(t,[e])}for(var F_=0;F_<IO.length;F_++){var $_=IO[F_],Xoe=$_.toLowerCase(),ere=$_[0].toUpperCase()+$_.slice(1);Oa(Xoe,"on"+ere)}Oa(Yz,"onAnimationEnd");Oa(Qz,"onAnimationIteration");Oa(Zz,"onAnimationStart");Oa("dblclick","onDoubleClick");Oa("focusin","onFocus");Oa("focusout","onBlur");Oa(Jz,"onTransitionEnd");Md("onMouseEnter",["mouseout","mouseover"]);Md("onMouseLeave",["mouseout","mouseover"]);Md("onPointerEnter",["pointerout","pointerover"]);Md("onPointerLeave",["pointerout","pointerover"]);Xl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tre=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wh));function DO(e,t,o){var s=e.type||"unknown-event";e.currentTarget=o,Xne(s,t,void 0,e),e.currentTarget=null}function e6(e,t){t=(t&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],c=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var p=s.length-1;0<=p;p--){var m=s[p],g=m.instance,v=m.currentTarget;if(m=m.listener,g!==u&&c.isPropagationStopped())break e;DO(c,m,v),u=g}else for(p=0;p<s.length;p++){if(m=s[p],g=m.instance,v=m.currentTarget,m=m.listener,g!==u&&c.isPropagationStopped())break e;DO(c,m,v),u=g}}}if(eb)throw e=sA,eb=!1,sA=null,e}function en(e,t){var o=t[mA];o===void 0&&(o=t[mA]=new Set);var s=e+"__bubble";o.has(s)||(t6(t,e,2,!1),o.add(s))}function V_(e,t,o){var s=0;t&&(s|=4),t6(o,e,s,t)}var Wm="_reactListening"+Math.random().toString(36).slice(2);function Pp(e){if(!e[Wm]){e[Wm]=!0,lz.forEach(function(o){o!=="selectionchange"&&(tre.has(o)||V_(o,!1,e),V_(o,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wm]||(t[Wm]=!0,V_("selectionchange",!1,t))}}function t6(e,t,o,s){switch(jz(t)){case 1:var c=goe;break;case 4:c=moe;break;default:c=tx}o=c.bind(null,t,o,e),c=void 0,!iA||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),s?c!==void 0?e.addEventListener(t,o,{capture:!0,passive:c}):e.addEventListener(t,o,!0):c!==void 0?e.addEventListener(t,o,{passive:c}):e.addEventListener(t,o,!1)}function U_(e,t,o,s,c){var u=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var p=s.tag;if(p===3||p===4){var m=s.stateNode.containerInfo;if(m===c||m.nodeType===8&&m.parentNode===c)break;if(p===4)for(p=s.return;p!==null;){var g=p.tag;if((g===3||g===4)&&(g=p.stateNode.containerInfo,g===c||g.nodeType===8&&g.parentNode===c))return;p=p.return}for(;m!==null;){if(p=yl(m),p===null)return;if(g=p.tag,g===5||g===6){s=u=p;continue e}m=m.parentNode}}s=s.return}Az(function(){var v=u,_=Z1(o),C=[];e:{var y=Xz.get(e);if(y!==void 0){var x=ox,S=e;switch(e){case"keypress":if(xk(o)===0)break e;case"keydown":case"keyup":x=Moe;break;case"focusin":S="focus",x=B_;break;case"focusout":S="blur",x=B_;break;case"beforeblur":case"afterblur":x=B_;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=bO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=voe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Roe;break;case Yz:case Qz:case Zz:x=_oe;break;case Jz:x=Boe;break;case"scroll":x=koe;break;case"wheel":x=joe;break;case"copy":case"cut":case"paste":x=Aoe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=wO}var T=(t&4)!==0,P=!T&&e==="scroll",D=T?y!==null?y+"Capture":null:y;T=[];for(var R=v,B;R!==null;){B=R;var j=B.stateNode;if(B.tag===5&&j!==null&&(B=j,D!==null&&(j=Ep(R,D),j!=null&&T.push(Np(R,j,B)))),P)break;R=R.return}0<T.length&&(y=new x(y,S,null,o,_),C.push({event:y,listeners:T}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",y&&o!==oA&&(S=o.relatedTarget||o.fromElement)&&(yl(S)||S[xs]))break e;if((x||y)&&(y=_.window===_?_:(y=_.ownerDocument)?y.defaultView||y.parentWindow:window,x?(S=o.relatedTarget||o.toElement,x=v,S=S?yl(S):null,S!==null&&(P=ec(S),S!==P||S.tag!==5&&S.tag!==6)&&(S=null)):(x=null,S=v),x!==S)){if(T=bO,j="onMouseLeave",D="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(T=wO,j="onPointerLeave",D="onPointerEnter",R="pointer"),P=x==null?y:sd(x),B=S==null?y:sd(S),y=new T(j,R+"leave",x,o,_),y.target=P,y.relatedTarget=B,j=null,yl(_)===v&&(T=new T(D,R+"enter",S,o,_),T.target=B,T.relatedTarget=P,j=T),P=j,x&&S)t:{for(T=x,D=S,R=0,B=T;B;B=Vc(B))R++;for(B=0,j=D;j;j=Vc(j))B++;for(;0<R-B;)T=Vc(T),R--;for(;0<B-R;)D=Vc(D),B--;for(;R--;){if(T===D||D!==null&&T===D.alternate)break t;T=Vc(T),D=Vc(D)}T=null}else T=null;x!==null&&MO(C,y,x,T,!1),S!==null&&P!==null&&MO(C,P,S,T,!0)}}e:{if(y=v?sd(v):window,x=y.nodeName&&y.nodeName.toLowerCase(),x==="select"||x==="input"&&y.type==="file")var V=Woe;else if(CO(y))if(Hz)V=Yoe;else{V=Goe;var H=qoe}else(x=y.nodeName)&&x.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(V=Koe);if(V&&(V=V(e,v))){Uz(C,V,o,_);break e}H&&H(e,y,v),e==="focusout"&&(H=y._wrapperState)&&H.controlled&&y.type==="number"&&JC(y,"number",y.value)}switch(H=v?sd(v):window,e){case"focusin":(CO(H)||H.contentEditable==="true")&&(rd=H,dA=v,op=null);break;case"focusout":op=dA=rd=null;break;case"mousedown":uA=!0;break;case"contextmenu":case"mouseup":case"dragend":uA=!1,TO(C,o,_);break;case"selectionchange":if(Joe)break;case"keydown":case"keyup":TO(C,o,_)}var M;if(ix)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else od?$z(e,o)&&(U="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(U="onCompositionStart");U&&(Fz&&o.locale!=="ko"&&(od||U!=="onCompositionStart"?U==="onCompositionEnd"&&od&&(M=zz()):(ca=_,nx="value"in ca?ca.value:ca.textContent,od=!0)),H=ib(v,U),0<H.length&&(U=new vO(U,e,null,o,_),C.push({event:U,listeners:H}),M?U.data=M:(M=Vz(o),M!==null&&(U.data=M)))),(M=Foe?$oe(e,o):Voe(e,o))&&(v=ib(v,"onBeforeInput"),0<v.length&&(_=new vO("onBeforeInput","beforeinput",null,o,_),C.push({event:_,listeners:v}),_.data=M))}e6(C,t)})}function Np(e,t,o){return{instance:e,listener:t,currentTarget:o}}function ib(e,t){for(var o=t+"Capture",s=[];e!==null;){var c=e,u=c.stateNode;c.tag===5&&u!==null&&(c=u,u=Ep(e,o),u!=null&&s.unshift(Np(e,u,c)),u=Ep(e,t),u!=null&&s.push(Np(e,u,c))),e=e.return}return s}function Vc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function MO(e,t,o,s,c){for(var u=t._reactName,p=[];o!==null&&o!==s;){var m=o,g=m.alternate,v=m.stateNode;if(g!==null&&g===s)break;m.tag===5&&v!==null&&(m=v,c?(g=Ep(o,u),g!=null&&p.unshift(Np(o,g,m))):c||(g=Ep(o,u),g!=null&&p.push(Np(o,g,m)))),o=o.return}p.length!==0&&e.push({event:t,listeners:p})}var nre=/\r\n?/g,ore=/\u0000|\uFFFD/g;function PO(e){return(typeof e=="string"?e:""+e).replace(nre,`
`).replace(ore,"")}function qm(e,t,o){if(t=PO(t),PO(e)!==t&&o)throw Error(ge(425))}function sb(){}var hA=null,pA=null;function fA(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gA=typeof setTimeout=="function"?setTimeout:void 0,rre=typeof clearTimeout=="function"?clearTimeout:void 0,NO=typeof Promise=="function"?Promise:void 0,ire=typeof queueMicrotask=="function"?queueMicrotask:typeof NO<"u"?function(e){return NO.resolve(null).then(e).catch(sre)}:gA;function sre(e){setTimeout(function(){throw e})}function H_(e,t){var o=t,s=0;do{var c=o.nextSibling;if(e.removeChild(o),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(s===0){e.removeChild(c),Ip(t);return}s--}else o!=="$"&&o!=="$?"&&o!=="$!"||s++;o=c}while(o);Ip(t)}function ba(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function RO(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(t===0)return e;t--}else o==="/$"&&t++}e=e.previousSibling}return null}var su=Math.random().toString(36).slice(2),Ni="__reactFiber$"+su,Rp="__reactProps$"+su,xs="__reactContainer$"+su,mA="__reactEvents$"+su,are="__reactListeners$"+su,lre="__reactHandles$"+su;function yl(e){var t=e[Ni];if(t)return t;for(var o=e.parentNode;o;){if(t=o[xs]||o[Ni]){if(o=t.alternate,t.child!==null||o!==null&&o.child!==null)for(e=RO(e);e!==null;){if(o=e[Ni])return o;e=RO(e)}return t}e=o,o=e.parentNode}return null}function Cf(e){return e=e[Ni]||e[xs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function sd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ge(33))}function h0(e){return e[Rp]||null}var kA=[],ad=-1;function Ba(e){return{current:e}}function rn(e){0>ad||(e.current=kA[ad],kA[ad]=null,ad--)}function Qt(e,t){ad++,kA[ad]=e.current,e.current=t}var Ta={},xo=Ba(Ta),Go=Ba(!1),Ll=Ta;function Pd(e,t){var o=e.type.contextTypes;if(!o)return Ta;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var c={},u;for(u in o)c[u]=t[u];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function Ko(e){return e=e.childContextTypes,e!=null}function ab(){rn(Go),rn(xo)}function OO(e,t,o){if(xo.current!==Ta)throw Error(ge(168));Qt(xo,t),Qt(Go,o)}function n6(e,t,o){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return o;s=s.getChildContext();for(var c in s)if(!(c in t))throw Error(ge(108,qne(e)||"Unknown",c));return fn({},o,s)}function lb(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ta,Ll=xo.current,Qt(xo,e),Qt(Go,Go.current),!0}function BO(e,t,o){var s=e.stateNode;if(!s)throw Error(ge(169));o?(e=n6(e,t,Ll),s.__reactInternalMemoizedMergedChildContext=e,rn(Go),rn(xo),Qt(xo,e)):rn(Go),Qt(Go,o)}var hs=null,p0=!1,W_=!1;function o6(e){hs===null?hs=[e]:hs.push(e)}function cre(e){p0=!0,o6(e)}function La(){if(!W_&&hs!==null){W_=!0;var e=0,t=jt;try{var o=hs;for(jt=1;e<o.length;e++){var s=o[e];do s=s(!0);while(s!==null)}hs=null,p0=!1}catch(c){throw hs!==null&&(hs=hs.slice(e+1)),Tz(J1,La),c}finally{jt=t,W_=!1}}return null}var ld=[],cd=0,cb=null,db=0,Or=[],Br=0,jl=null,ms=1,ks="";function ml(e,t){ld[cd++]=db,ld[cd++]=cb,cb=e,db=t}function r6(e,t,o){Or[Br++]=ms,Or[Br++]=ks,Or[Br++]=jl,jl=e;var s=ms;e=ks;var c=32-gi(s)-1;s&=~(1<<c),o+=1;var u=32-gi(t)+c;if(30<u){var p=c-c%5;u=(s&(1<<p)-1).toString(32),s>>=p,c-=p,ms=1<<32-gi(t)+c|o<<c|s,ks=u+e}else ms=1<<u|o<<c|s,ks=e}function ax(e){e.return!==null&&(ml(e,1),r6(e,1,0))}function lx(e){for(;e===cb;)cb=ld[--cd],ld[cd]=null,db=ld[--cd],ld[cd]=null;for(;e===jl;)jl=Or[--Br],Or[Br]=null,ks=Or[--Br],Or[Br]=null,ms=Or[--Br],Or[Br]=null}var gr=null,hr=null,dn=!1,fi=null;function i6(e,t){var o=zr(5,null,null,0);o.elementType="DELETED",o.stateNode=t,o.return=e,t=e.deletions,t===null?(e.deletions=[o],e.flags|=16):t.push(o)}function LO(e,t){switch(e.tag){case 5:var o=e.type;return t=t.nodeType!==1||o.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gr=e,hr=ba(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gr=e,hr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(o=jl!==null?{id:ms,overflow:ks}:null,e.memoizedState={dehydrated:t,treeContext:o,retryLane:1073741824},o=zr(18,null,null,0),o.stateNode=t,o.return=e,e.child=o,gr=e,hr=null,!0):!1;default:return!1}}function bA(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vA(e){if(dn){var t=hr;if(t){var o=t;if(!LO(e,t)){if(bA(e))throw Error(ge(418));t=ba(o.nextSibling);var s=gr;t&&LO(e,t)?i6(s,o):(e.flags=e.flags&-4097|2,dn=!1,gr=e)}}else{if(bA(e))throw Error(ge(418));e.flags=e.flags&-4097|2,dn=!1,gr=e}}}function jO(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gr=e}function Gm(e){if(e!==gr)return!1;if(!dn)return jO(e),dn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fA(e.type,e.memoizedProps)),t&&(t=hr)){if(bA(e))throw s6(),Error(ge(418));for(;t;)i6(e,t),t=ba(t.nextSibling)}if(jO(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(t===0){hr=ba(e.nextSibling);break e}t--}else o!=="$"&&o!=="$!"&&o!=="$?"||t++}e=e.nextSibling}hr=null}}else hr=gr?ba(e.stateNode.nextSibling):null;return!0}function s6(){for(var e=hr;e;)e=ba(e.nextSibling)}function Nd(){hr=gr=null,dn=!1}function cx(e){fi===null?fi=[e]:fi.push(e)}var dre=Ls.ReactCurrentBatchConfig;function Ah(e,t,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(ge(309));var s=o.stateNode}if(!s)throw Error(ge(147,e));var c=s,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(p){var m=c.refs;p===null?delete m[u]:m[u]=p},t._stringRef=u,t)}if(typeof e!="string")throw Error(ge(284));if(!o._owner)throw Error(ge(290,e))}return e}function Km(e,t){throw e=Object.prototype.toString.call(t),Error(ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zO(e){var t=e._init;return t(e._payload)}function a6(e){function t(D,R){if(e){var B=D.deletions;B===null?(D.deletions=[R],D.flags|=16):B.push(R)}}function o(D,R){if(!e)return null;for(;R!==null;)t(D,R),R=R.sibling;return null}function s(D,R){for(D=new Map;R!==null;)R.key!==null?D.set(R.key,R):D.set(R.index,R),R=R.sibling;return D}function c(D,R){return D=_a(D,R),D.index=0,D.sibling=null,D}function u(D,R,B){return D.index=B,e?(B=D.alternate,B!==null?(B=B.index,B<R?(D.flags|=2,R):B):(D.flags|=2,R)):(D.flags|=1048576,R)}function p(D){return e&&D.alternate===null&&(D.flags|=2),D}function m(D,R,B,j){return R===null||R.tag!==6?(R=J_(B,D.mode,j),R.return=D,R):(R=c(R,B),R.return=D,R)}function g(D,R,B,j){var V=B.type;return V===nd?_(D,R,B.props.children,j,B.key):R!==null&&(R.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ea&&zO(V)===R.type)?(j=c(R,B.props),j.ref=Ah(D,R,B),j.return=D,j):(j=Pk(B.type,B.key,B.props,null,D.mode,j),j.ref=Ah(D,R,B),j.return=D,j)}function v(D,R,B,j){return R===null||R.tag!==4||R.stateNode.containerInfo!==B.containerInfo||R.stateNode.implementation!==B.implementation?(R=X_(B,D.mode,j),R.return=D,R):(R=c(R,B.children||[]),R.return=D,R)}function _(D,R,B,j,V){return R===null||R.tag!==7?(R=Ml(B,D.mode,j,V),R.return=D,R):(R=c(R,B),R.return=D,R)}function C(D,R,B){if(typeof R=="string"&&R!==""||typeof R=="number")return R=J_(""+R,D.mode,B),R.return=D,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Lm:return B=Pk(R.type,R.key,R.props,null,D.mode,B),B.ref=Ah(D,null,R),B.return=D,B;case td:return R=X_(R,D.mode,B),R.return=D,R;case ea:var j=R._init;return C(D,j(R._payload),B)}if(Uh(R)||vh(R))return R=Ml(R,D.mode,B,null),R.return=D,R;Km(D,R)}return null}function y(D,R,B,j){var V=R!==null?R.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return V!==null?null:m(D,R,""+B,j);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Lm:return B.key===V?g(D,R,B,j):null;case td:return B.key===V?v(D,R,B,j):null;case ea:return V=B._init,y(D,R,V(B._payload),j)}if(Uh(B)||vh(B))return V!==null?null:_(D,R,B,j,null);Km(D,B)}return null}function x(D,R,B,j,V){if(typeof j=="string"&&j!==""||typeof j=="number")return D=D.get(B)||null,m(R,D,""+j,V);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Lm:return D=D.get(j.key===null?B:j.key)||null,g(R,D,j,V);case td:return D=D.get(j.key===null?B:j.key)||null,v(R,D,j,V);case ea:var H=j._init;return x(D,R,B,H(j._payload),V)}if(Uh(j)||vh(j))return D=D.get(B)||null,_(R,D,j,V,null);Km(R,j)}return null}function S(D,R,B,j){for(var V=null,H=null,M=R,U=R=0,G=null;M!==null&&U<B.length;U++){M.index>U?(G=M,M=null):G=M.sibling;var K=y(D,M,B[U],j);if(K===null){M===null&&(M=G);break}e&&M&&K.alternate===null&&t(D,M),R=u(K,R,U),H===null?V=K:H.sibling=K,H=K,M=G}if(U===B.length)return o(D,M),dn&&ml(D,U),V;if(M===null){for(;U<B.length;U++)M=C(D,B[U],j),M!==null&&(R=u(M,R,U),H===null?V=M:H.sibling=M,H=M);return dn&&ml(D,U),V}for(M=s(D,M);U<B.length;U++)G=x(M,D,U,B[U],j),G!==null&&(e&&G.alternate!==null&&M.delete(G.key===null?U:G.key),R=u(G,R,U),H===null?V=G:H.sibling=G,H=G);return e&&M.forEach(function(Z){return t(D,Z)}),dn&&ml(D,U),V}function T(D,R,B,j){var V=vh(B);if(typeof V!="function")throw Error(ge(150));if(B=V.call(B),B==null)throw Error(ge(151));for(var H=V=null,M=R,U=R=0,G=null,K=B.next();M!==null&&!K.done;U++,K=B.next()){M.index>U?(G=M,M=null):G=M.sibling;var Z=y(D,M,K.value,j);if(Z===null){M===null&&(M=G);break}e&&M&&Z.alternate===null&&t(D,M),R=u(Z,R,U),H===null?V=Z:H.sibling=Z,H=Z,M=G}if(K.done)return o(D,M),dn&&ml(D,U),V;if(M===null){for(;!K.done;U++,K=B.next())K=C(D,K.value,j),K!==null&&(R=u(K,R,U),H===null?V=K:H.sibling=K,H=K);return dn&&ml(D,U),V}for(M=s(D,M);!K.done;U++,K=B.next())K=x(M,D,U,K.value,j),K!==null&&(e&&K.alternate!==null&&M.delete(K.key===null?U:K.key),R=u(K,R,U),H===null?V=K:H.sibling=K,H=K);return e&&M.forEach(function(se){return t(D,se)}),dn&&ml(D,U),V}function P(D,R,B,j){if(typeof B=="object"&&B!==null&&B.type===nd&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case Lm:e:{for(var V=B.key,H=R;H!==null;){if(H.key===V){if(V=B.type,V===nd){if(H.tag===7){o(D,H.sibling),R=c(H,B.props.children),R.return=D,D=R;break e}}else if(H.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ea&&zO(V)===H.type){o(D,H.sibling),R=c(H,B.props),R.ref=Ah(D,H,B),R.return=D,D=R;break e}o(D,H);break}else t(D,H);H=H.sibling}B.type===nd?(R=Ml(B.props.children,D.mode,j,B.key),R.return=D,D=R):(j=Pk(B.type,B.key,B.props,null,D.mode,j),j.ref=Ah(D,R,B),j.return=D,D=j)}return p(D);case td:e:{for(H=B.key;R!==null;){if(R.key===H)if(R.tag===4&&R.stateNode.containerInfo===B.containerInfo&&R.stateNode.implementation===B.implementation){o(D,R.sibling),R=c(R,B.children||[]),R.return=D,D=R;break e}else{o(D,R);break}else t(D,R);R=R.sibling}R=X_(B,D.mode,j),R.return=D,D=R}return p(D);case ea:return H=B._init,P(D,R,H(B._payload),j)}if(Uh(B))return S(D,R,B,j);if(vh(B))return T(D,R,B,j);Km(D,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,R!==null&&R.tag===6?(o(D,R.sibling),R=c(R,B),R.return=D,D=R):(o(D,R),R=J_(B,D.mode,j),R.return=D,D=R),p(D)):o(D,R)}return P}var Rd=a6(!0),l6=a6(!1),ub=Ba(null),hb=null,dd=null,dx=null;function ux(){dx=dd=hb=null}function hx(e){var t=ub.current;rn(ub),e._currentValue=t}function wA(e,t,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===o)break;e=e.return}}function vd(e,t){hb=e,dx=dd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qo=!0),e.firstContext=null)}function Hr(e){var t=e._currentValue;if(dx!==e)if(e={context:e,memoizedValue:t,next:null},dd===null){if(hb===null)throw Error(ge(308));dd=e,hb.dependencies={lanes:0,firstContext:e}}else dd=dd.next=e;return t}var _l=null;function px(e){_l===null?_l=[e]:_l.push(e)}function c6(e,t,o,s){var c=t.interleaved;return c===null?(o.next=o,px(t)):(o.next=c.next,c.next=o),t.interleaved=o,Es(e,s)}function Es(e,t){e.lanes|=t;var o=e.alternate;for(o!==null&&(o.lanes|=t),o=e,e=e.return;e!==null;)e.childLanes|=t,o=e.alternate,o!==null&&(o.childLanes|=t),o=e,e=e.return;return o.tag===3?o.stateNode:null}var ta=!1;function fx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function d6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ys(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function va(e,t,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Et&2){var c=s.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),s.pending=t,Es(e,o)}return c=s.interleaved,c===null?(t.next=t,px(s)):(t.next=c.next,c.next=t),s.interleaved=t,Es(e,o)}function Ek(e,t,o){if(t=t.updateQueue,t!==null&&(t=t.shared,(o&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,o|=s,t.lanes=o,X1(e,o)}}function FO(e,t){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var c=null,u=null;if(o=o.firstBaseUpdate,o!==null){do{var p={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};u===null?c=u=p:u=u.next=p,o=o.next}while(o!==null);u===null?c=u=t:u=u.next=t}else c=u=t;o={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:s.shared,effects:s.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=t:e.next=t,o.lastBaseUpdate=t}function pb(e,t,o,s){var c=e.updateQueue;ta=!1;var u=c.firstBaseUpdate,p=c.lastBaseUpdate,m=c.shared.pending;if(m!==null){c.shared.pending=null;var g=m,v=g.next;g.next=null,p===null?u=v:p.next=v,p=g;var _=e.alternate;_!==null&&(_=_.updateQueue,m=_.lastBaseUpdate,m!==p&&(m===null?_.firstBaseUpdate=v:m.next=v,_.lastBaseUpdate=g))}if(u!==null){var C=c.baseState;p=0,_=v=g=null,m=u;do{var y=m.lane,x=m.eventTime;if((s&y)===y){_!==null&&(_=_.next={eventTime:x,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var S=e,T=m;switch(y=t,x=o,T.tag){case 1:if(S=T.payload,typeof S=="function"){C=S.call(x,C,y);break e}C=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=T.payload,y=typeof S=="function"?S.call(x,C,y):S,y==null)break e;C=fn({},C,y);break e;case 2:ta=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,y=c.effects,y===null?c.effects=[m]:y.push(m))}else x={eventTime:x,lane:y,tag:m.tag,payload:m.payload,callback:m.callback,next:null},_===null?(v=_=x,g=C):_=_.next=x,p|=y;if(m=m.next,m===null){if(m=c.shared.pending,m===null)break;y=m,m=y.next,y.next=null,c.lastBaseUpdate=y,c.shared.pending=null}}while(!0);if(_===null&&(g=C),c.baseState=g,c.firstBaseUpdate=v,c.lastBaseUpdate=_,t=c.shared.interleaved,t!==null){c=t;do p|=c.lane,c=c.next;while(c!==t)}else u===null&&(c.shared.lanes=0);Fl|=p,e.lanes=p,e.memoizedState=C}}function $O(e,t,o){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],c=s.callback;if(c!==null){if(s.callback=null,s=o,typeof c!="function")throw Error(ge(191,c));c.call(s)}}}var Af={},zi=Ba(Af),Op=Ba(Af),Bp=Ba(Af);function Cl(e){if(e===Af)throw Error(ge(174));return e}function gx(e,t){switch(Qt(Bp,t),Qt(Op,e),Qt(zi,Af),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eA(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=eA(t,e)}rn(zi),Qt(zi,t)}function Od(){rn(zi),rn(Op),rn(Bp)}function u6(e){Cl(Bp.current);var t=Cl(zi.current),o=eA(t,e.type);t!==o&&(Qt(Op,e),Qt(zi,o))}function mx(e){Op.current===e&&(rn(zi),rn(Op))}var hn=Ba(0);function fb(e){for(var t=e;t!==null;){if(t.tag===13){var o=t.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var q_=[];function kx(){for(var e=0;e<q_.length;e++)q_[e]._workInProgressVersionPrimary=null;q_.length=0}var Sk=Ls.ReactCurrentDispatcher,G_=Ls.ReactCurrentBatchConfig,zl=0,pn=null,$n=null,Qn=null,gb=!1,rp=!1,Lp=0,ure=0;function po(){throw Error(ge(321))}function bx(e,t){if(t===null)return!1;for(var o=0;o<t.length&&o<e.length;o++)if(!ki(e[o],t[o]))return!1;return!0}function vx(e,t,o,s,c,u){if(zl=u,pn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sk.current=e===null||e.memoizedState===null?gre:mre,e=o(s,c),rp){u=0;do{if(rp=!1,Lp=0,25<=u)throw Error(ge(301));u+=1,Qn=$n=null,t.updateQueue=null,Sk.current=kre,e=o(s,c)}while(rp)}if(Sk.current=mb,t=$n!==null&&$n.next!==null,zl=0,Qn=$n=pn=null,gb=!1,t)throw Error(ge(300));return e}function wx(){var e=Lp!==0;return Lp=0,e}function Di(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qn===null?pn.memoizedState=Qn=e:Qn=Qn.next=e,Qn}function Wr(){if($n===null){var e=pn.alternate;e=e!==null?e.memoizedState:null}else e=$n.next;var t=Qn===null?pn.memoizedState:Qn.next;if(t!==null)Qn=t,$n=e;else{if(e===null)throw Error(ge(310));$n=e,e={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},Qn===null?pn.memoizedState=Qn=e:Qn=Qn.next=e}return Qn}function jp(e,t){return typeof t=="function"?t(e):t}function K_(e){var t=Wr(),o=t.queue;if(o===null)throw Error(ge(311));o.lastRenderedReducer=e;var s=$n,c=s.baseQueue,u=o.pending;if(u!==null){if(c!==null){var p=c.next;c.next=u.next,u.next=p}s.baseQueue=c=u,o.pending=null}if(c!==null){u=c.next,s=s.baseState;var m=p=null,g=null,v=u;do{var _=v.lane;if((zl&_)===_)g!==null&&(g=g.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),s=v.hasEagerState?v.eagerState:e(s,v.action);else{var C={lane:_,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};g===null?(m=g=C,p=s):g=g.next=C,pn.lanes|=_,Fl|=_}v=v.next}while(v!==null&&v!==u);g===null?p=s:g.next=m,ki(s,t.memoizedState)||(qo=!0),t.memoizedState=s,t.baseState=p,t.baseQueue=g,o.lastRenderedState=s}if(e=o.interleaved,e!==null){c=e;do u=c.lane,pn.lanes|=u,Fl|=u,c=c.next;while(c!==e)}else c===null&&(o.lanes=0);return[t.memoizedState,o.dispatch]}function Y_(e){var t=Wr(),o=t.queue;if(o===null)throw Error(ge(311));o.lastRenderedReducer=e;var s=o.dispatch,c=o.pending,u=t.memoizedState;if(c!==null){o.pending=null;var p=c=c.next;do u=e(u,p.action),p=p.next;while(p!==c);ki(u,t.memoizedState)||(qo=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),o.lastRenderedState=u}return[u,s]}function h6(){}function p6(e,t){var o=pn,s=Wr(),c=t(),u=!ki(s.memoizedState,c);if(u&&(s.memoizedState=c,qo=!0),s=s.queue,yx(m6.bind(null,o,s,e),[e]),s.getSnapshot!==t||u||Qn!==null&&Qn.memoizedState.tag&1){if(o.flags|=2048,zp(9,g6.bind(null,o,s,c,t),void 0,null),Jn===null)throw Error(ge(349));zl&30||f6(o,t,c)}return c}function f6(e,t,o){e.flags|=16384,e={getSnapshot:t,value:o},t=pn.updateQueue,t===null?(t={lastEffect:null,stores:null},pn.updateQueue=t,t.stores=[e]):(o=t.stores,o===null?t.stores=[e]:o.push(e))}function g6(e,t,o,s){t.value=o,t.getSnapshot=s,k6(t)&&b6(e)}function m6(e,t,o){return o(function(){k6(t)&&b6(e)})}function k6(e){var t=e.getSnapshot;e=e.value;try{var o=t();return!ki(e,o)}catch{return!0}}function b6(e){var t=Es(e,1);t!==null&&mi(t,e,1,-1)}function VO(e){var t=Di();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jp,lastRenderedState:e},t.queue=e,e=e.dispatch=fre.bind(null,pn,e),[t.memoizedState,e]}function zp(e,t,o,s){return e={tag:e,create:t,destroy:o,deps:s,next:null},t=pn.updateQueue,t===null?(t={lastEffect:null,stores:null},pn.updateQueue=t,t.lastEffect=e.next=e):(o=t.lastEffect,o===null?t.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,t.lastEffect=e)),e}function v6(){return Wr().memoizedState}function Tk(e,t,o,s){var c=Di();pn.flags|=e,c.memoizedState=zp(1|t,o,void 0,s===void 0?null:s)}function f0(e,t,o,s){var c=Wr();s=s===void 0?null:s;var u=void 0;if($n!==null){var p=$n.memoizedState;if(u=p.destroy,s!==null&&bx(s,p.deps)){c.memoizedState=zp(t,o,u,s);return}}pn.flags|=e,c.memoizedState=zp(1|t,o,u,s)}function UO(e,t){return Tk(8390656,8,e,t)}function yx(e,t){return f0(2048,8,e,t)}function w6(e,t){return f0(4,2,e,t)}function y6(e,t){return f0(4,4,e,t)}function _6(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function C6(e,t,o){return o=o!=null?o.concat([e]):null,f0(4,4,_6.bind(null,t,e),o)}function _x(){}function A6(e,t){var o=Wr();t=t===void 0?null:t;var s=o.memoizedState;return s!==null&&t!==null&&bx(t,s[1])?s[0]:(o.memoizedState=[e,t],e)}function x6(e,t){var o=Wr();t=t===void 0?null:t;var s=o.memoizedState;return s!==null&&t!==null&&bx(t,s[1])?s[0]:(e=e(),o.memoizedState=[e,t],e)}function E6(e,t,o){return zl&21?(ki(o,t)||(o=Mz(),pn.lanes|=o,Fl|=o,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qo=!0),e.memoizedState=o)}function hre(e,t){var o=jt;jt=o!==0&&4>o?o:4,e(!0);var s=G_.transition;G_.transition={};try{e(!1),t()}finally{jt=o,G_.transition=s}}function S6(){return Wr().memoizedState}function pre(e,t,o){var s=ya(e);if(o={lane:s,action:o,hasEagerState:!1,eagerState:null,next:null},T6(e))I6(t,o);else if(o=c6(e,t,o,s),o!==null){var c=No();mi(o,e,s,c),D6(o,t,s)}}function fre(e,t,o){var s=ya(e),c={lane:s,action:o,hasEagerState:!1,eagerState:null,next:null};if(T6(e))I6(t,c);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var p=t.lastRenderedState,m=u(p,o);if(c.hasEagerState=!0,c.eagerState=m,ki(m,p)){var g=t.interleaved;g===null?(c.next=c,px(t)):(c.next=g.next,g.next=c),t.interleaved=c;return}}catch{}finally{}o=c6(e,t,c,s),o!==null&&(c=No(),mi(o,e,s,c),D6(o,t,s))}}function T6(e){var t=e.alternate;return e===pn||t!==null&&t===pn}function I6(e,t){rp=gb=!0;var o=e.pending;o===null?t.next=t:(t.next=o.next,o.next=t),e.pending=t}function D6(e,t,o){if(o&4194240){var s=t.lanes;s&=e.pendingLanes,o|=s,t.lanes=o,X1(e,o)}}var mb={readContext:Hr,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},gre={readContext:Hr,useCallback:function(e,t){return Di().memoizedState=[e,t===void 0?null:t],e},useContext:Hr,useEffect:UO,useImperativeHandle:function(e,t,o){return o=o!=null?o.concat([e]):null,Tk(4194308,4,_6.bind(null,t,e),o)},useLayoutEffect:function(e,t){return Tk(4194308,4,e,t)},useInsertionEffect:function(e,t){return Tk(4,2,e,t)},useMemo:function(e,t){var o=Di();return t=t===void 0?null:t,e=e(),o.memoizedState=[e,t],e},useReducer:function(e,t,o){var s=Di();return t=o!==void 0?o(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=pre.bind(null,pn,e),[s.memoizedState,e]},useRef:function(e){var t=Di();return e={current:e},t.memoizedState=e},useState:VO,useDebugValue:_x,useDeferredValue:function(e){return Di().memoizedState=e},useTransition:function(){var e=VO(!1),t=e[0];return e=hre.bind(null,e[1]),Di().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,o){var s=pn,c=Di();if(dn){if(o===void 0)throw Error(ge(407));o=o()}else{if(o=t(),Jn===null)throw Error(ge(349));zl&30||f6(s,t,o)}c.memoizedState=o;var u={value:o,getSnapshot:t};return c.queue=u,UO(m6.bind(null,s,u,e),[e]),s.flags|=2048,zp(9,g6.bind(null,s,u,o,t),void 0,null),o},useId:function(){var e=Di(),t=Jn.identifierPrefix;if(dn){var o=ks,s=ms;o=(s&~(1<<32-gi(s)-1)).toString(32)+o,t=":"+t+"R"+o,o=Lp++,0<o&&(t+="H"+o.toString(32)),t+=":"}else o=ure++,t=":"+t+"r"+o.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mre={readContext:Hr,useCallback:A6,useContext:Hr,useEffect:yx,useImperativeHandle:C6,useInsertionEffect:w6,useLayoutEffect:y6,useMemo:x6,useReducer:K_,useRef:v6,useState:function(){return K_(jp)},useDebugValue:_x,useDeferredValue:function(e){var t=Wr();return E6(t,$n.memoizedState,e)},useTransition:function(){var e=K_(jp)[0],t=Wr().memoizedState;return[e,t]},useMutableSource:h6,useSyncExternalStore:p6,useId:S6,unstable_isNewReconciler:!1},kre={readContext:Hr,useCallback:A6,useContext:Hr,useEffect:yx,useImperativeHandle:C6,useInsertionEffect:w6,useLayoutEffect:y6,useMemo:x6,useReducer:Y_,useRef:v6,useState:function(){return Y_(jp)},useDebugValue:_x,useDeferredValue:function(e){var t=Wr();return $n===null?t.memoizedState=e:E6(t,$n.memoizedState,e)},useTransition:function(){var e=Y_(jp)[0],t=Wr().memoizedState;return[e,t]},useMutableSource:h6,useSyncExternalStore:p6,useId:S6,unstable_isNewReconciler:!1};function hi(e,t){if(e&&e.defaultProps){t=fn({},t),e=e.defaultProps;for(var o in e)t[o]===void 0&&(t[o]=e[o]);return t}return t}function yA(e,t,o,s){t=e.memoizedState,o=o(s,t),o=o==null?t:fn({},t,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var g0={isMounted:function(e){return(e=e._reactInternals)?ec(e)===e:!1},enqueueSetState:function(e,t,o){e=e._reactInternals;var s=No(),c=ya(e),u=ys(s,c);u.payload=t,o!=null&&(u.callback=o),t=va(e,u,c),t!==null&&(mi(t,e,c,s),Ek(t,e,c))},enqueueReplaceState:function(e,t,o){e=e._reactInternals;var s=No(),c=ya(e),u=ys(s,c);u.tag=1,u.payload=t,o!=null&&(u.callback=o),t=va(e,u,c),t!==null&&(mi(t,e,c,s),Ek(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var o=No(),s=ya(e),c=ys(o,s);c.tag=2,t!=null&&(c.callback=t),t=va(e,c,s),t!==null&&(mi(t,e,s,o),Ek(t,e,s))}};function HO(e,t,o,s,c,u,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,p):t.prototype&&t.prototype.isPureReactComponent?!Mp(o,s)||!Mp(c,u):!0}function M6(e,t,o){var s=!1,c=Ta,u=t.contextType;return typeof u=="object"&&u!==null?u=Hr(u):(c=Ko(t)?Ll:xo.current,s=t.contextTypes,u=(s=s!=null)?Pd(e,c):Ta),t=new t(o,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=g0,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=u),t}function WO(e,t,o,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(o,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(o,s),t.state!==e&&g0.enqueueReplaceState(t,t.state,null)}function _A(e,t,o,s){var c=e.stateNode;c.props=o,c.state=e.memoizedState,c.refs={},fx(e);var u=t.contextType;typeof u=="object"&&u!==null?c.context=Hr(u):(u=Ko(t)?Ll:xo.current,c.context=Pd(e,u)),c.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(yA(e,t,u,o),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&g0.enqueueReplaceState(c,c.state,null),pb(e,o,c,s),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Bd(e,t){try{var o="",s=t;do o+=Wne(s),s=s.return;while(s);var c=o}catch(u){c=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:c,digest:null}}function Q_(e,t,o){return{value:e,source:null,stack:o??null,digest:t??null}}function CA(e,t){try{console.error(t.value)}catch(o){setTimeout(function(){throw o})}}var bre=typeof WeakMap=="function"?WeakMap:Map;function P6(e,t,o){o=ys(-1,o),o.tag=3,o.payload={element:null};var s=t.value;return o.callback=function(){bb||(bb=!0,NA=s),CA(e,t)},o}function N6(e,t,o){o=ys(-1,o),o.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var c=t.value;o.payload=function(){return s(c)},o.callback=function(){CA(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(o.callback=function(){CA(e,t),typeof s!="function"&&(wa===null?wa=new Set([this]):wa.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),o}function qO(e,t,o){var s=e.pingCache;if(s===null){s=e.pingCache=new bre;var c=new Set;s.set(t,c)}else c=s.get(t),c===void 0&&(c=new Set,s.set(t,c));c.has(o)||(c.add(o),e=Pre.bind(null,e,t,o),t.then(e,e))}function GO(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function KO(e,t,o,s,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===t?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(t=ys(-1,1),t.tag=2,va(o,t,1))),o.lanes|=1),e)}var vre=Ls.ReactCurrentOwner,qo=!1;function Mo(e,t,o,s){t.child=e===null?l6(t,null,o,s):Rd(t,e.child,o,s)}function YO(e,t,o,s,c){o=o.render;var u=t.ref;return vd(t,c),s=vx(e,t,o,s,u,c),o=wx(),e!==null&&!qo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Ss(e,t,c)):(dn&&o&&ax(t),t.flags|=1,Mo(e,t,s,c),t.child)}function QO(e,t,o,s,c){if(e===null){var u=o.type;return typeof u=="function"&&!Dx(u)&&u.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(t.tag=15,t.type=u,R6(e,t,u,s,c)):(e=Pk(o.type,null,s,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!(e.lanes&c)){var p=u.memoizedProps;if(o=o.compare,o=o!==null?o:Mp,o(p,s)&&e.ref===t.ref)return Ss(e,t,c)}return t.flags|=1,e=_a(u,s),e.ref=t.ref,e.return=t,t.child=e}function R6(e,t,o,s,c){if(e!==null){var u=e.memoizedProps;if(Mp(u,s)&&e.ref===t.ref)if(qo=!1,t.pendingProps=s=u,(e.lanes&c)!==0)e.flags&131072&&(qo=!0);else return t.lanes=e.lanes,Ss(e,t,c)}return AA(e,t,o,s,c)}function O6(e,t,o){var s=t.pendingProps,c=s.children,u=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(hd,cr),cr|=o;else{if(!(o&1073741824))return e=u!==null?u.baseLanes|o:o,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qt(hd,cr),cr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=u!==null?u.baseLanes:o,Qt(hd,cr),cr|=s}else u!==null?(s=u.baseLanes|o,t.memoizedState=null):s=o,Qt(hd,cr),cr|=s;return Mo(e,t,c,o),t.child}function B6(e,t){var o=t.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(t.flags|=512,t.flags|=2097152)}function AA(e,t,o,s,c){var u=Ko(o)?Ll:xo.current;return u=Pd(t,u),vd(t,c),o=vx(e,t,o,s,u,c),s=wx(),e!==null&&!qo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Ss(e,t,c)):(dn&&s&&ax(t),t.flags|=1,Mo(e,t,o,c),t.child)}function ZO(e,t,o,s,c){if(Ko(o)){var u=!0;lb(t)}else u=!1;if(vd(t,c),t.stateNode===null)Ik(e,t),M6(t,o,s),_A(t,o,s,c),s=!0;else if(e===null){var p=t.stateNode,m=t.memoizedProps;p.props=m;var g=p.context,v=o.contextType;typeof v=="object"&&v!==null?v=Hr(v):(v=Ko(o)?Ll:xo.current,v=Pd(t,v));var _=o.getDerivedStateFromProps,C=typeof _=="function"||typeof p.getSnapshotBeforeUpdate=="function";C||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(m!==s||g!==v)&&WO(t,p,s,v),ta=!1;var y=t.memoizedState;p.state=y,pb(t,s,p,c),g=t.memoizedState,m!==s||y!==g||Go.current||ta?(typeof _=="function"&&(yA(t,o,_,s),g=t.memoizedState),(m=ta||HO(t,o,m,s,y,g,v))?(C||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=g),p.props=s,p.state=g,p.context=v,s=m):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{p=t.stateNode,d6(e,t),m=t.memoizedProps,v=t.type===t.elementType?m:hi(t.type,m),p.props=v,C=t.pendingProps,y=p.context,g=o.contextType,typeof g=="object"&&g!==null?g=Hr(g):(g=Ko(o)?Ll:xo.current,g=Pd(t,g));var x=o.getDerivedStateFromProps;(_=typeof x=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(m!==C||y!==g)&&WO(t,p,s,g),ta=!1,y=t.memoizedState,p.state=y,pb(t,s,p,c);var S=t.memoizedState;m!==C||y!==S||Go.current||ta?(typeof x=="function"&&(yA(t,o,x,s),S=t.memoizedState),(v=ta||HO(t,o,v,s,y,S,g)||!1)?(_||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,S,g),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,S,g)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||m===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=S),p.props=s,p.state=S,p.context=g,s=v):(typeof p.componentDidUpdate!="function"||m===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),s=!1)}return xA(e,t,o,s,u,c)}function xA(e,t,o,s,c,u){B6(e,t);var p=(t.flags&128)!==0;if(!s&&!p)return c&&BO(t,o,!1),Ss(e,t,u);s=t.stateNode,vre.current=t;var m=p&&typeof o.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&p?(t.child=Rd(t,e.child,null,u),t.child=Rd(t,null,m,u)):Mo(e,t,m,u),t.memoizedState=s.state,c&&BO(t,o,!0),t.child}function L6(e){var t=e.stateNode;t.pendingContext?OO(e,t.pendingContext,t.pendingContext!==t.context):t.context&&OO(e,t.context,!1),gx(e,t.containerInfo)}function JO(e,t,o,s,c){return Nd(),cx(c),t.flags|=256,Mo(e,t,o,s),t.child}var EA={dehydrated:null,treeContext:null,retryLane:0};function SA(e){return{baseLanes:e,cachePool:null,transitions:null}}function j6(e,t,o){var s=t.pendingProps,c=hn.current,u=!1,p=(t.flags&128)!==0,m;if((m=p)||(m=e!==null&&e.memoizedState===null?!1:(c&2)!==0),m?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Qt(hn,c&1),e===null)return vA(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(p=s.children,e=s.fallback,u?(s=t.mode,u=t.child,p={mode:"hidden",children:p},!(s&1)&&u!==null?(u.childLanes=0,u.pendingProps=p):u=b0(p,s,0,null),e=Ml(e,s,o,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=SA(o),t.memoizedState=EA,e):Cx(t,p));if(c=e.memoizedState,c!==null&&(m=c.dehydrated,m!==null))return wre(e,t,p,s,m,c,o);if(u){u=s.fallback,p=t.mode,c=e.child,m=c.sibling;var g={mode:"hidden",children:s.children};return!(p&1)&&t.child!==c?(s=t.child,s.childLanes=0,s.pendingProps=g,t.deletions=null):(s=_a(c,g),s.subtreeFlags=c.subtreeFlags&14680064),m!==null?u=_a(m,u):(u=Ml(u,p,o,null),u.flags|=2),u.return=t,s.return=t,s.sibling=u,t.child=s,s=u,u=t.child,p=e.child.memoizedState,p=p===null?SA(o):{baseLanes:p.baseLanes|o,cachePool:null,transitions:p.transitions},u.memoizedState=p,u.childLanes=e.childLanes&~o,t.memoizedState=EA,s}return u=e.child,e=u.sibling,s=_a(u,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=o),s.return=t,s.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=s,t.memoizedState=null,s}function Cx(e,t){return t=b0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ym(e,t,o,s){return s!==null&&cx(s),Rd(t,e.child,null,o),e=Cx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wre(e,t,o,s,c,u,p){if(o)return t.flags&256?(t.flags&=-257,s=Q_(Error(ge(422))),Ym(e,t,p,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=s.fallback,c=t.mode,s=b0({mode:"visible",children:s.children},c,0,null),u=Ml(u,c,p,null),u.flags|=2,s.return=t,u.return=t,s.sibling=u,t.child=s,t.mode&1&&Rd(t,e.child,null,p),t.child.memoizedState=SA(p),t.memoizedState=EA,u);if(!(t.mode&1))return Ym(e,t,p,null);if(c.data==="$!"){if(s=c.nextSibling&&c.nextSibling.dataset,s)var m=s.dgst;return s=m,u=Error(ge(419)),s=Q_(u,s,void 0),Ym(e,t,p,s)}if(m=(p&e.childLanes)!==0,qo||m){if(s=Jn,s!==null){switch(p&-p){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(s.suspendedLanes|p)?0:c,c!==0&&c!==u.retryLane&&(u.retryLane=c,Es(e,c),mi(s,e,c,-1))}return Ix(),s=Q_(Error(ge(421))),Ym(e,t,p,s)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=Nre.bind(null,e),c._reactRetry=t,null):(e=u.treeContext,hr=ba(c.nextSibling),gr=t,dn=!0,fi=null,e!==null&&(Or[Br++]=ms,Or[Br++]=ks,Or[Br++]=jl,ms=e.id,ks=e.overflow,jl=t),t=Cx(t,s.children),t.flags|=4096,t)}function XO(e,t,o){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),wA(e.return,t,o)}function Z_(e,t,o,s,c){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:c}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=s,u.tail=o,u.tailMode=c)}function z6(e,t,o){var s=t.pendingProps,c=s.revealOrder,u=s.tail;if(Mo(e,t,s.children,o),s=hn.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&XO(e,o,t);else if(e.tag===19)XO(e,o,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Qt(hn,s),!(t.mode&1))t.memoizedState=null;else switch(c){case"forwards":for(o=t.child,c=null;o!==null;)e=o.alternate,e!==null&&fb(e)===null&&(c=o),o=o.sibling;o=c,o===null?(c=t.child,t.child=null):(c=o.sibling,o.sibling=null),Z_(t,!1,c,o,u);break;case"backwards":for(o=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&fb(e)===null){t.child=c;break}e=c.sibling,c.sibling=o,o=c,c=e}Z_(t,!0,o,null,u);break;case"together":Z_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ik(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ss(e,t,o){if(e!==null&&(t.dependencies=e.dependencies),Fl|=t.lanes,!(o&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ge(153));if(t.child!==null){for(e=t.child,o=_a(e,e.pendingProps),t.child=o,o.return=t;e.sibling!==null;)e=e.sibling,o=o.sibling=_a(e,e.pendingProps),o.return=t;o.sibling=null}return t.child}function yre(e,t,o){switch(t.tag){case 3:L6(t),Nd();break;case 5:u6(t);break;case 1:Ko(t.type)&&lb(t);break;case 4:gx(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,c=t.memoizedProps.value;Qt(ub,s._currentValue),s._currentValue=c;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Qt(hn,hn.current&1),t.flags|=128,null):o&t.child.childLanes?j6(e,t,o):(Qt(hn,hn.current&1),e=Ss(e,t,o),e!==null?e.sibling:null);Qt(hn,hn.current&1);break;case 19:if(s=(o&t.childLanes)!==0,e.flags&128){if(s)return z6(e,t,o);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Qt(hn,hn.current),s)break;return null;case 22:case 23:return t.lanes=0,O6(e,t,o)}return Ss(e,t,o)}var F6,TA,$6,V6;F6=function(e,t){for(var o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};TA=function(){};$6=function(e,t,o,s){var c=e.memoizedProps;if(c!==s){e=t.stateNode,Cl(zi.current);var u=null;switch(o){case"input":c=QC(e,c),s=QC(e,s),u=[];break;case"select":c=fn({},c,{value:void 0}),s=fn({},s,{value:void 0}),u=[];break;case"textarea":c=XC(e,c),s=XC(e,s),u=[];break;default:typeof c.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=sb)}tA(o,s);var p;o=null;for(v in c)if(!s.hasOwnProperty(v)&&c.hasOwnProperty(v)&&c[v]!=null)if(v==="style"){var m=c[v];for(p in m)m.hasOwnProperty(p)&&(o||(o={}),o[p]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(Ap.hasOwnProperty(v)?u||(u=[]):(u=u||[]).push(v,null));for(v in s){var g=s[v];if(m=c!=null?c[v]:void 0,s.hasOwnProperty(v)&&g!==m&&(g!=null||m!=null))if(v==="style")if(m){for(p in m)!m.hasOwnProperty(p)||g&&g.hasOwnProperty(p)||(o||(o={}),o[p]="");for(p in g)g.hasOwnProperty(p)&&m[p]!==g[p]&&(o||(o={}),o[p]=g[p])}else o||(u||(u=[]),u.push(v,o)),o=g;else v==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,m=m?m.__html:void 0,g!=null&&m!==g&&(u=u||[]).push(v,g)):v==="children"?typeof g!="string"&&typeof g!="number"||(u=u||[]).push(v,""+g):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(Ap.hasOwnProperty(v)?(g!=null&&v==="onScroll"&&en("scroll",e),u||m===g||(u=[])):(u=u||[]).push(v,g))}o&&(u=u||[]).push("style",o);var v=u;(t.updateQueue=v)&&(t.flags|=4)}};V6=function(e,t,o,s){o!==s&&(t.flags|=4)};function xh(e,t){if(!dn)switch(e.tailMode){case"hidden":t=e.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function fo(e){var t=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(t)for(var c=e.child;c!==null;)o|=c.lanes|c.childLanes,s|=c.subtreeFlags&14680064,s|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)o|=c.lanes|c.childLanes,s|=c.subtreeFlags,s|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=s,e.childLanes=o,t}function _re(e,t,o){var s=t.pendingProps;switch(lx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fo(t),null;case 1:return Ko(t.type)&&ab(),fo(t),null;case 3:return s=t.stateNode,Od(),rn(Go),rn(xo),kx(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Gm(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fi!==null&&(BA(fi),fi=null))),TA(e,t),fo(t),null;case 5:mx(t);var c=Cl(Bp.current);if(o=t.type,e!==null&&t.stateNode!=null)$6(e,t,o,s,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(ge(166));return fo(t),null}if(e=Cl(zi.current),Gm(t)){s=t.stateNode,o=t.type;var u=t.memoizedProps;switch(s[Ni]=t,s[Rp]=u,e=(t.mode&1)!==0,o){case"dialog":en("cancel",s),en("close",s);break;case"iframe":case"object":case"embed":en("load",s);break;case"video":case"audio":for(c=0;c<Wh.length;c++)en(Wh[c],s);break;case"source":en("error",s);break;case"img":case"image":case"link":en("error",s),en("load",s);break;case"details":en("toggle",s);break;case"input":lO(s,u),en("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!u.multiple},en("invalid",s);break;case"textarea":dO(s,u),en("invalid",s)}tA(o,u),c=null;for(var p in u)if(u.hasOwnProperty(p)){var m=u[p];p==="children"?typeof m=="string"?s.textContent!==m&&(u.suppressHydrationWarning!==!0&&qm(s.textContent,m,e),c=["children",m]):typeof m=="number"&&s.textContent!==""+m&&(u.suppressHydrationWarning!==!0&&qm(s.textContent,m,e),c=["children",""+m]):Ap.hasOwnProperty(p)&&m!=null&&p==="onScroll"&&en("scroll",s)}switch(o){case"input":jm(s),cO(s,u,!0);break;case"textarea":jm(s),uO(s);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(s.onclick=sb)}s=c,t.updateQueue=s,s!==null&&(t.flags|=4)}else{p=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mz(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=p.createElement(o,{is:s.is}):(e=p.createElement(o),o==="select"&&(p=e,s.multiple?p.multiple=!0:s.size&&(p.size=s.size))):e=p.createElementNS(e,o),e[Ni]=t,e[Rp]=s,F6(e,t,!1,!1),t.stateNode=e;e:{switch(p=nA(o,s),o){case"dialog":en("cancel",e),en("close",e),c=s;break;case"iframe":case"object":case"embed":en("load",e),c=s;break;case"video":case"audio":for(c=0;c<Wh.length;c++)en(Wh[c],e);c=s;break;case"source":en("error",e),c=s;break;case"img":case"image":case"link":en("error",e),en("load",e),c=s;break;case"details":en("toggle",e),c=s;break;case"input":lO(e,s),c=QC(e,s),en("invalid",e);break;case"option":c=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},c=fn({},s,{value:void 0}),en("invalid",e);break;case"textarea":dO(e,s),c=XC(e,s),en("invalid",e);break;default:c=s}tA(o,c),m=c;for(u in m)if(m.hasOwnProperty(u)){var g=m[u];u==="style"?vz(e,g):u==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&kz(e,g)):u==="children"?typeof g=="string"?(o!=="textarea"||g!=="")&&xp(e,g):typeof g=="number"&&xp(e,""+g):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ap.hasOwnProperty(u)?g!=null&&u==="onScroll"&&en("scroll",e):g!=null&&G1(e,u,g,p))}switch(o){case"input":jm(e),cO(e,s,!1);break;case"textarea":jm(e),uO(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Sa(s.value));break;case"select":e.multiple=!!s.multiple,u=s.value,u!=null?gd(e,!!s.multiple,u,!1):s.defaultValue!=null&&gd(e,!!s.multiple,s.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=sb)}switch(o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fo(t),null;case 6:if(e&&t.stateNode!=null)V6(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(ge(166));if(o=Cl(Bp.current),Cl(zi.current),Gm(t)){if(s=t.stateNode,o=t.memoizedProps,s[Ni]=t,(u=s.nodeValue!==o)&&(e=gr,e!==null))switch(e.tag){case 3:qm(s.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qm(s.nodeValue,o,(e.mode&1)!==0)}u&&(t.flags|=4)}else s=(o.nodeType===9?o:o.ownerDocument).createTextNode(s),s[Ni]=t,t.stateNode=s}return fo(t),null;case 13:if(rn(hn),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(dn&&hr!==null&&t.mode&1&&!(t.flags&128))s6(),Nd(),t.flags|=98560,u=!1;else if(u=Gm(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(ge(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(ge(317));u[Ni]=t}else Nd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fo(t),u=!1}else fi!==null&&(BA(fi),fi=null),u=!0;if(!u)return t.flags&65536?t:null}return t.flags&128?(t.lanes=o,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||hn.current&1?Vn===0&&(Vn=3):Ix())),t.updateQueue!==null&&(t.flags|=4),fo(t),null);case 4:return Od(),TA(e,t),e===null&&Pp(t.stateNode.containerInfo),fo(t),null;case 10:return hx(t.type._context),fo(t),null;case 17:return Ko(t.type)&&ab(),fo(t),null;case 19:if(rn(hn),u=t.memoizedState,u===null)return fo(t),null;if(s=(t.flags&128)!==0,p=u.rendering,p===null)if(s)xh(u,!1);else{if(Vn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(p=fb(e),p!==null){for(t.flags|=128,xh(u,!1),s=p.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=o,o=t.child;o!==null;)u=o,e=s,u.flags&=14680066,p=u.alternate,p===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=p.childLanes,u.lanes=p.lanes,u.child=p.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=p.memoizedProps,u.memoizedState=p.memoizedState,u.updateQueue=p.updateQueue,u.type=p.type,e=p.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return Qt(hn,hn.current&1|2),t.child}e=e.sibling}u.tail!==null&&Tn()>Ld&&(t.flags|=128,s=!0,xh(u,!1),t.lanes=4194304)}else{if(!s)if(e=fb(p),e!==null){if(t.flags|=128,s=!0,o=e.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),xh(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!dn)return fo(t),null}else 2*Tn()-u.renderingStartTime>Ld&&o!==1073741824&&(t.flags|=128,s=!0,xh(u,!1),t.lanes=4194304);u.isBackwards?(p.sibling=t.child,t.child=p):(o=u.last,o!==null?o.sibling=p:t.child=p,u.last=p)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Tn(),t.sibling=null,o=hn.current,Qt(hn,s?o&1|2:o&1),t):(fo(t),null);case 22:case 23:return Tx(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?cr&1073741824&&(fo(t),t.subtreeFlags&6&&(t.flags|=8192)):fo(t),null;case 24:return null;case 25:return null}throw Error(ge(156,t.tag))}function Cre(e,t){switch(lx(t),t.tag){case 1:return Ko(t.type)&&ab(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Od(),rn(Go),rn(xo),kx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return mx(t),null;case 13:if(rn(hn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ge(340));Nd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return rn(hn),null;case 4:return Od(),null;case 10:return hx(t.type._context),null;case 22:case 23:return Tx(),null;case 24:return null;default:return null}}var Qm=!1,bo=!1,Are=typeof WeakSet=="function"?WeakSet:Set,Me=null;function ud(e,t){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(s){yn(e,t,s)}else o.current=null}function IA(e,t,o){try{o()}catch(s){yn(e,t,s)}}var eB=!1;function xre(e,t){if(hA=ob,e=Gz(),sx(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var c=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{o.nodeType,u.nodeType}catch{o=null;break e}var p=0,m=-1,g=-1,v=0,_=0,C=e,y=null;t:for(;;){for(var x;C!==o||c!==0&&C.nodeType!==3||(m=p+c),C!==u||s!==0&&C.nodeType!==3||(g=p+s),C.nodeType===3&&(p+=C.nodeValue.length),(x=C.firstChild)!==null;)y=C,C=x;for(;;){if(C===e)break t;if(y===o&&++v===c&&(m=p),y===u&&++_===s&&(g=p),(x=C.nextSibling)!==null)break;C=y,y=C.parentNode}C=x}o=m===-1||g===-1?null:{start:m,end:g}}else o=null}o=o||{start:0,end:0}}else o=null;for(pA={focusedElem:e,selectionRange:o},ob=!1,Me=t;Me!==null;)if(t=Me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Me=e;else for(;Me!==null;){t=Me;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var T=S.memoizedProps,P=S.memoizedState,D=t.stateNode,R=D.getSnapshotBeforeUpdate(t.elementType===t.type?T:hi(t.type,T),P);D.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var B=t.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(j){yn(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Me=e;break}Me=t.return}return S=eB,eB=!1,S}function ip(e,t,o){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var c=s=s.next;do{if((c.tag&e)===e){var u=c.destroy;c.destroy=void 0,u!==void 0&&IA(t,o,u)}c=c.next}while(c!==s)}}function m0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var o=t=t.next;do{if((o.tag&e)===e){var s=o.create;o.destroy=s()}o=o.next}while(o!==t)}}function DA(e){var t=e.ref;if(t!==null){var o=e.stateNode;switch(e.tag){case 5:e=o;break;default:e=o}typeof t=="function"?t(e):t.current=e}}function U6(e){var t=e.alternate;t!==null&&(e.alternate=null,U6(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ni],delete t[Rp],delete t[mA],delete t[are],delete t[lre])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function H6(e){return e.tag===5||e.tag===3||e.tag===4}function tB(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||H6(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function MA(e,t,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?o.nodeType===8?o.parentNode.insertBefore(e,t):o.insertBefore(e,t):(o.nodeType===8?(t=o.parentNode,t.insertBefore(e,o)):(t=o,t.appendChild(e)),o=o._reactRootContainer,o!=null||t.onclick!==null||(t.onclick=sb));else if(s!==4&&(e=e.child,e!==null))for(MA(e,t,o),e=e.sibling;e!==null;)MA(e,t,o),e=e.sibling}function PA(e,t,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?o.insertBefore(e,t):o.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(PA(e,t,o),e=e.sibling;e!==null;)PA(e,t,o),e=e.sibling}var io=null,pi=!1;function Ks(e,t,o){for(o=o.child;o!==null;)W6(e,t,o),o=o.sibling}function W6(e,t,o){if(ji&&typeof ji.onCommitFiberUnmount=="function")try{ji.onCommitFiberUnmount(l0,o)}catch{}switch(o.tag){case 5:bo||ud(o,t);case 6:var s=io,c=pi;io=null,Ks(e,t,o),io=s,pi=c,io!==null&&(pi?(e=io,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):io.removeChild(o.stateNode));break;case 18:io!==null&&(pi?(e=io,o=o.stateNode,e.nodeType===8?H_(e.parentNode,o):e.nodeType===1&&H_(e,o),Ip(e)):H_(io,o.stateNode));break;case 4:s=io,c=pi,io=o.stateNode.containerInfo,pi=!0,Ks(e,t,o),io=s,pi=c;break;case 0:case 11:case 14:case 15:if(!bo&&(s=o.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){c=s=s.next;do{var u=c,p=u.destroy;u=u.tag,p!==void 0&&(u&2||u&4)&&IA(o,t,p),c=c.next}while(c!==s)}Ks(e,t,o);break;case 1:if(!bo&&(ud(o,t),s=o.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=o.memoizedProps,s.state=o.memoizedState,s.componentWillUnmount()}catch(m){yn(o,t,m)}Ks(e,t,o);break;case 21:Ks(e,t,o);break;case 22:o.mode&1?(bo=(s=bo)||o.memoizedState!==null,Ks(e,t,o),bo=s):Ks(e,t,o);break;default:Ks(e,t,o)}}function nB(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new Are),t.forEach(function(s){var c=Rre.bind(null,e,s);o.has(s)||(o.add(s),s.then(c,c))})}}function di(e,t){var o=t.deletions;if(o!==null)for(var s=0;s<o.length;s++){var c=o[s];try{var u=e,p=t,m=p;e:for(;m!==null;){switch(m.tag){case 5:io=m.stateNode,pi=!1;break e;case 3:io=m.stateNode.containerInfo,pi=!0;break e;case 4:io=m.stateNode.containerInfo,pi=!0;break e}m=m.return}if(io===null)throw Error(ge(160));W6(u,p,c),io=null,pi=!1;var g=c.alternate;g!==null&&(g.return=null),c.return=null}catch(v){yn(c,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)q6(t,e),t=t.sibling}function q6(e,t){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(di(t,e),Ii(e),s&4){try{ip(3,e,e.return),m0(3,e)}catch(T){yn(e,e.return,T)}try{ip(5,e,e.return)}catch(T){yn(e,e.return,T)}}break;case 1:di(t,e),Ii(e),s&512&&o!==null&&ud(o,o.return);break;case 5:if(di(t,e),Ii(e),s&512&&o!==null&&ud(o,o.return),e.flags&32){var c=e.stateNode;try{xp(c,"")}catch(T){yn(e,e.return,T)}}if(s&4&&(c=e.stateNode,c!=null)){var u=e.memoizedProps,p=o!==null?o.memoizedProps:u,m=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{m==="input"&&u.type==="radio"&&u.name!=null&&fz(c,u),nA(m,p);var v=nA(m,u);for(p=0;p<g.length;p+=2){var _=g[p],C=g[p+1];_==="style"?vz(c,C):_==="dangerouslySetInnerHTML"?kz(c,C):_==="children"?xp(c,C):G1(c,_,C,v)}switch(m){case"input":ZC(c,u);break;case"textarea":gz(c,u);break;case"select":var y=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!u.multiple;var x=u.value;x!=null?gd(c,!!u.multiple,x,!1):y!==!!u.multiple&&(u.defaultValue!=null?gd(c,!!u.multiple,u.defaultValue,!0):gd(c,!!u.multiple,u.multiple?[]:"",!1))}c[Rp]=u}catch(T){yn(e,e.return,T)}}break;case 6:if(di(t,e),Ii(e),s&4){if(e.stateNode===null)throw Error(ge(162));c=e.stateNode,u=e.memoizedProps;try{c.nodeValue=u}catch(T){yn(e,e.return,T)}}break;case 3:if(di(t,e),Ii(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{Ip(t.containerInfo)}catch(T){yn(e,e.return,T)}break;case 4:di(t,e),Ii(e);break;case 13:di(t,e),Ii(e),c=e.child,c.flags&8192&&(u=c.memoizedState!==null,c.stateNode.isHidden=u,!u||c.alternate!==null&&c.alternate.memoizedState!==null||(Ex=Tn())),s&4&&nB(e);break;case 22:if(_=o!==null&&o.memoizedState!==null,e.mode&1?(bo=(v=bo)||_,di(t,e),bo=v):di(t,e),Ii(e),s&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!_&&e.mode&1)for(Me=e,_=e.child;_!==null;){for(C=Me=_;Me!==null;){switch(y=Me,x=y.child,y.tag){case 0:case 11:case 14:case 15:ip(4,y,y.return);break;case 1:ud(y,y.return);var S=y.stateNode;if(typeof S.componentWillUnmount=="function"){s=y,o=y.return;try{t=s,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(T){yn(s,o,T)}}break;case 5:ud(y,y.return);break;case 22:if(y.memoizedState!==null){rB(C);continue}}x!==null?(x.return=y,Me=x):rB(C)}_=_.sibling}e:for(_=null,C=e;;){if(C.tag===5){if(_===null){_=C;try{c=C.stateNode,v?(u=c.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(m=C.stateNode,g=C.memoizedProps.style,p=g!=null&&g.hasOwnProperty("display")?g.display:null,m.style.display=bz("display",p))}catch(T){yn(e,e.return,T)}}}else if(C.tag===6){if(_===null)try{C.stateNode.nodeValue=v?"":C.memoizedProps}catch(T){yn(e,e.return,T)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===e)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===e)break e;for(;C.sibling===null;){if(C.return===null||C.return===e)break e;_===C&&(_=null),C=C.return}_===C&&(_=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:di(t,e),Ii(e),s&4&&nB(e);break;case 21:break;default:di(t,e),Ii(e)}}function Ii(e){var t=e.flags;if(t&2){try{e:{for(var o=e.return;o!==null;){if(H6(o)){var s=o;break e}o=o.return}throw Error(ge(160))}switch(s.tag){case 5:var c=s.stateNode;s.flags&32&&(xp(c,""),s.flags&=-33);var u=tB(e);PA(e,u,c);break;case 3:case 4:var p=s.stateNode.containerInfo,m=tB(e);MA(e,m,p);break;default:throw Error(ge(161))}}catch(g){yn(e,e.return,g)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ere(e,t,o){Me=e,G6(e)}function G6(e,t,o){for(var s=(e.mode&1)!==0;Me!==null;){var c=Me,u=c.child;if(c.tag===22&&s){var p=c.memoizedState!==null||Qm;if(!p){var m=c.alternate,g=m!==null&&m.memoizedState!==null||bo;m=Qm;var v=bo;if(Qm=p,(bo=g)&&!v)for(Me=c;Me!==null;)p=Me,g=p.child,p.tag===22&&p.memoizedState!==null?iB(c):g!==null?(g.return=p,Me=g):iB(c);for(;u!==null;)Me=u,G6(u),u=u.sibling;Me=c,Qm=m,bo=v}oB(e)}else c.subtreeFlags&8772&&u!==null?(u.return=c,Me=u):oB(e)}}function oB(e){for(;Me!==null;){var t=Me;if(t.flags&8772){var o=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bo||m0(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!bo)if(o===null)s.componentDidMount();else{var c=t.elementType===t.type?o.memoizedProps:hi(t.type,o.memoizedProps);s.componentDidUpdate(c,o.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&$O(t,u,s);break;case 3:var p=t.updateQueue;if(p!==null){if(o=null,t.child!==null)switch(t.child.tag){case 5:o=t.child.stateNode;break;case 1:o=t.child.stateNode}$O(t,p,o)}break;case 5:var m=t.stateNode;if(o===null&&t.flags&4){o=m;var g=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&o.focus();break;case"img":g.src&&(o.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var _=v.memoizedState;if(_!==null){var C=_.dehydrated;C!==null&&Ip(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}bo||t.flags&512&&DA(t)}catch(y){yn(t,t.return,y)}}if(t===e){Me=null;break}if(o=t.sibling,o!==null){o.return=t.return,Me=o;break}Me=t.return}}function rB(e){for(;Me!==null;){var t=Me;if(t===e){Me=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Me=o;break}Me=t.return}}function iB(e){for(;Me!==null;){var t=Me;try{switch(t.tag){case 0:case 11:case 15:var o=t.return;try{m0(4,t)}catch(g){yn(t,o,g)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var c=t.return;try{s.componentDidMount()}catch(g){yn(t,c,g)}}var u=t.return;try{DA(t)}catch(g){yn(t,u,g)}break;case 5:var p=t.return;try{DA(t)}catch(g){yn(t,p,g)}}}catch(g){yn(t,t.return,g)}if(t===e){Me=null;break}var m=t.sibling;if(m!==null){m.return=t.return,Me=m;break}Me=t.return}}var Sre=Math.ceil,kb=Ls.ReactCurrentDispatcher,Ax=Ls.ReactCurrentOwner,$r=Ls.ReactCurrentBatchConfig,Et=0,Jn=null,Rn=null,co=0,cr=0,hd=Ba(0),Vn=0,Fp=null,Fl=0,k0=0,xx=0,sp=null,Ho=null,Ex=0,Ld=1/0,ds=null,bb=!1,NA=null,wa=null,Zm=!1,da=null,vb=0,ap=0,RA=null,Dk=-1,Mk=0;function No(){return Et&6?Tn():Dk!==-1?Dk:Dk=Tn()}function ya(e){return e.mode&1?Et&2&&co!==0?co&-co:dre.transition!==null?(Mk===0&&(Mk=Mz()),Mk):(e=jt,e!==0||(e=window.event,e=e===void 0?16:jz(e.type)),e):1}function mi(e,t,o,s){if(50<ap)throw ap=0,RA=null,Error(ge(185));yf(e,o,s),(!(Et&2)||e!==Jn)&&(e===Jn&&(!(Et&2)&&(k0|=o),Vn===4&&oa(e,co)),Yo(e,s),o===1&&Et===0&&!(t.mode&1)&&(Ld=Tn()+500,p0&&La()))}function Yo(e,t){var o=e.callbackNode;doe(e,t);var s=nb(e,e===Jn?co:0);if(s===0)o!==null&&fO(o),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(o!=null&&fO(o),t===1)e.tag===0?cre(sB.bind(null,e)):o6(sB.bind(null,e)),ire(function(){!(Et&6)&&La()}),o=null;else{switch(Pz(s)){case 1:o=J1;break;case 4:o=Iz;break;case 16:o=tb;break;case 536870912:o=Dz;break;default:o=tb}o=tF(o,K6.bind(null,e))}e.callbackPriority=t,e.callbackNode=o}}function K6(e,t){if(Dk=-1,Mk=0,Et&6)throw Error(ge(327));var o=e.callbackNode;if(wd()&&e.callbackNode!==o)return null;var s=nb(e,e===Jn?co:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=wb(e,s);else{t=s;var c=Et;Et|=2;var u=Q6();(Jn!==e||co!==t)&&(ds=null,Ld=Tn()+500,Dl(e,t));do try{Dre();break}catch(m){Y6(e,m)}while(!0);ux(),kb.current=u,Et=c,Rn!==null?t=0:(Jn=null,co=0,t=Vn)}if(t!==0){if(t===2&&(c=aA(e),c!==0&&(s=c,t=OA(e,c))),t===1)throw o=Fp,Dl(e,0),oa(e,s),Yo(e,Tn()),o;if(t===6)oa(e,s);else{if(c=e.current.alternate,!(s&30)&&!Tre(c)&&(t=wb(e,s),t===2&&(u=aA(e),u!==0&&(s=u,t=OA(e,u))),t===1))throw o=Fp,Dl(e,0),oa(e,s),Yo(e,Tn()),o;switch(e.finishedWork=c,e.finishedLanes=s,t){case 0:case 1:throw Error(ge(345));case 2:kl(e,Ho,ds);break;case 3:if(oa(e,s),(s&130023424)===s&&(t=Ex+500-Tn(),10<t)){if(nb(e,0)!==0)break;if(c=e.suspendedLanes,(c&s)!==s){No(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=gA(kl.bind(null,e,Ho,ds),t);break}kl(e,Ho,ds);break;case 4:if(oa(e,s),(s&4194240)===s)break;for(t=e.eventTimes,c=-1;0<s;){var p=31-gi(s);u=1<<p,p=t[p],p>c&&(c=p),s&=~u}if(s=c,s=Tn()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Sre(s/1960))-s,10<s){e.timeoutHandle=gA(kl.bind(null,e,Ho,ds),s);break}kl(e,Ho,ds);break;case 5:kl(e,Ho,ds);break;default:throw Error(ge(329))}}}return Yo(e,Tn()),e.callbackNode===o?K6.bind(null,e):null}function OA(e,t){var o=sp;return e.current.memoizedState.isDehydrated&&(Dl(e,t).flags|=256),e=wb(e,t),e!==2&&(t=Ho,Ho=o,t!==null&&BA(t)),e}function BA(e){Ho===null?Ho=e:Ho.push.apply(Ho,e)}function Tre(e){for(var t=e;;){if(t.flags&16384){var o=t.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var s=0;s<o.length;s++){var c=o[s],u=c.getSnapshot;c=c.value;try{if(!ki(u(),c))return!1}catch{return!1}}}if(o=t.child,t.subtreeFlags&16384&&o!==null)o.return=t,t=o;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oa(e,t){for(t&=~xx,t&=~k0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var o=31-gi(t),s=1<<o;e[o]=-1,t&=~s}}function sB(e){if(Et&6)throw Error(ge(327));wd();var t=nb(e,0);if(!(t&1))return Yo(e,Tn()),null;var o=wb(e,t);if(e.tag!==0&&o===2){var s=aA(e);s!==0&&(t=s,o=OA(e,s))}if(o===1)throw o=Fp,Dl(e,0),oa(e,t),Yo(e,Tn()),o;if(o===6)throw Error(ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kl(e,Ho,ds),Yo(e,Tn()),null}function Sx(e,t){var o=Et;Et|=1;try{return e(t)}finally{Et=o,Et===0&&(Ld=Tn()+500,p0&&La())}}function $l(e){da!==null&&da.tag===0&&!(Et&6)&&wd();var t=Et;Et|=1;var o=$r.transition,s=jt;try{if($r.transition=null,jt=1,e)return e()}finally{jt=s,$r.transition=o,Et=t,!(Et&6)&&La()}}function Tx(){cr=hd.current,rn(hd)}function Dl(e,t){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,rre(o)),Rn!==null)for(o=Rn.return;o!==null;){var s=o;switch(lx(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ab();break;case 3:Od(),rn(Go),rn(xo),kx();break;case 5:mx(s);break;case 4:Od();break;case 13:rn(hn);break;case 19:rn(hn);break;case 10:hx(s.type._context);break;case 22:case 23:Tx()}o=o.return}if(Jn=e,Rn=e=_a(e.current,null),co=cr=t,Vn=0,Fp=null,xx=k0=Fl=0,Ho=sp=null,_l!==null){for(t=0;t<_l.length;t++)if(o=_l[t],s=o.interleaved,s!==null){o.interleaved=null;var c=s.next,u=o.pending;if(u!==null){var p=u.next;u.next=c,s.next=p}o.pending=s}_l=null}return e}function Y6(e,t){do{var o=Rn;try{if(ux(),Sk.current=mb,gb){for(var s=pn.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}gb=!1}if(zl=0,Qn=$n=pn=null,rp=!1,Lp=0,Ax.current=null,o===null||o.return===null){Vn=1,Fp=t,Rn=null;break}e:{var u=e,p=o.return,m=o,g=t;if(t=co,m.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var v=g,_=m,C=_.tag;if(!(_.mode&1)&&(C===0||C===11||C===15)){var y=_.alternate;y?(_.updateQueue=y.updateQueue,_.memoizedState=y.memoizedState,_.lanes=y.lanes):(_.updateQueue=null,_.memoizedState=null)}var x=GO(p);if(x!==null){x.flags&=-257,KO(x,p,m,u,t),x.mode&1&&qO(u,v,t),t=x,g=v;var S=t.updateQueue;if(S===null){var T=new Set;T.add(g),t.updateQueue=T}else S.add(g);break e}else{if(!(t&1)){qO(u,v,t),Ix();break e}g=Error(ge(426))}}else if(dn&&m.mode&1){var P=GO(p);if(P!==null){!(P.flags&65536)&&(P.flags|=256),KO(P,p,m,u,t),cx(Bd(g,m));break e}}u=g=Bd(g,m),Vn!==4&&(Vn=2),sp===null?sp=[u]:sp.push(u),u=p;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var D=P6(u,g,t);FO(u,D);break e;case 1:m=g;var R=u.type,B=u.stateNode;if(!(u.flags&128)&&(typeof R.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(wa===null||!wa.has(B)))){u.flags|=65536,t&=-t,u.lanes|=t;var j=N6(u,m,t);FO(u,j);break e}}u=u.return}while(u!==null)}J6(o)}catch(V){t=V,Rn===o&&o!==null&&(Rn=o=o.return);continue}break}while(!0)}function Q6(){var e=kb.current;return kb.current=mb,e===null?mb:e}function Ix(){(Vn===0||Vn===3||Vn===2)&&(Vn=4),Jn===null||!(Fl&268435455)&&!(k0&268435455)||oa(Jn,co)}function wb(e,t){var o=Et;Et|=2;var s=Q6();(Jn!==e||co!==t)&&(ds=null,Dl(e,t));do try{Ire();break}catch(c){Y6(e,c)}while(!0);if(ux(),Et=o,kb.current=s,Rn!==null)throw Error(ge(261));return Jn=null,co=0,Vn}function Ire(){for(;Rn!==null;)Z6(Rn)}function Dre(){for(;Rn!==null&&!toe();)Z6(Rn)}function Z6(e){var t=eF(e.alternate,e,cr);e.memoizedProps=e.pendingProps,t===null?J6(e):Rn=t,Ax.current=null}function J6(e){var t=e;do{var o=t.alternate;if(e=t.return,t.flags&32768){if(o=Cre(o,t),o!==null){o.flags&=32767,Rn=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vn=6,Rn=null;return}}else if(o=_re(o,t,cr),o!==null){Rn=o;return}if(t=t.sibling,t!==null){Rn=t;return}Rn=t=e}while(t!==null);Vn===0&&(Vn=5)}function kl(e,t,o){var s=jt,c=$r.transition;try{$r.transition=null,jt=1,Mre(e,t,o,s)}finally{$r.transition=c,jt=s}return null}function Mre(e,t,o,s){do wd();while(da!==null);if(Et&6)throw Error(ge(327));o=e.finishedWork;var c=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(ge(177));e.callbackNode=null,e.callbackPriority=0;var u=o.lanes|o.childLanes;if(uoe(e,u),e===Jn&&(Rn=Jn=null,co=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Zm||(Zm=!0,tF(tb,function(){return wd(),null})),u=(o.flags&15990)!==0,o.subtreeFlags&15990||u){u=$r.transition,$r.transition=null;var p=jt;jt=1;var m=Et;Et|=4,Ax.current=null,xre(e,o),q6(o,e),Zoe(pA),ob=!!hA,pA=hA=null,e.current=o,Ere(o),noe(),Et=m,jt=p,$r.transition=u}else e.current=o;if(Zm&&(Zm=!1,da=e,vb=c),u=e.pendingLanes,u===0&&(wa=null),ioe(o.stateNode),Yo(e,Tn()),t!==null)for(s=e.onRecoverableError,o=0;o<t.length;o++)c=t[o],s(c.value,{componentStack:c.stack,digest:c.digest});if(bb)throw bb=!1,e=NA,NA=null,e;return vb&1&&e.tag!==0&&wd(),u=e.pendingLanes,u&1?e===RA?ap++:(ap=0,RA=e):ap=0,La(),null}function wd(){if(da!==null){var e=Pz(vb),t=$r.transition,o=jt;try{if($r.transition=null,jt=16>e?16:e,da===null)var s=!1;else{if(e=da,da=null,vb=0,Et&6)throw Error(ge(331));var c=Et;for(Et|=4,Me=e.current;Me!==null;){var u=Me,p=u.child;if(Me.flags&16){var m=u.deletions;if(m!==null){for(var g=0;g<m.length;g++){var v=m[g];for(Me=v;Me!==null;){var _=Me;switch(_.tag){case 0:case 11:case 15:ip(8,_,u)}var C=_.child;if(C!==null)C.return=_,Me=C;else for(;Me!==null;){_=Me;var y=_.sibling,x=_.return;if(U6(_),_===v){Me=null;break}if(y!==null){y.return=x,Me=y;break}Me=x}}}var S=u.alternate;if(S!==null){var T=S.child;if(T!==null){S.child=null;do{var P=T.sibling;T.sibling=null,T=P}while(T!==null)}}Me=u}}if(u.subtreeFlags&2064&&p!==null)p.return=u,Me=p;else e:for(;Me!==null;){if(u=Me,u.flags&2048)switch(u.tag){case 0:case 11:case 15:ip(9,u,u.return)}var D=u.sibling;if(D!==null){D.return=u.return,Me=D;break e}Me=u.return}}var R=e.current;for(Me=R;Me!==null;){p=Me;var B=p.child;if(p.subtreeFlags&2064&&B!==null)B.return=p,Me=B;else e:for(p=R;Me!==null;){if(m=Me,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:m0(9,m)}}catch(V){yn(m,m.return,V)}if(m===p){Me=null;break e}var j=m.sibling;if(j!==null){j.return=m.return,Me=j;break e}Me=m.return}}if(Et=c,La(),ji&&typeof ji.onPostCommitFiberRoot=="function")try{ji.onPostCommitFiberRoot(l0,e)}catch{}s=!0}return s}finally{jt=o,$r.transition=t}}return!1}function aB(e,t,o){t=Bd(o,t),t=P6(e,t,1),e=va(e,t,1),t=No(),e!==null&&(yf(e,1,t),Yo(e,t))}function yn(e,t,o){if(e.tag===3)aB(e,e,o);else for(;t!==null;){if(t.tag===3){aB(t,e,o);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(wa===null||!wa.has(s))){e=Bd(o,e),e=N6(t,e,1),t=va(t,e,1),e=No(),t!==null&&(yf(t,1,e),Yo(t,e));break}}t=t.return}}function Pre(e,t,o){var s=e.pingCache;s!==null&&s.delete(t),t=No(),e.pingedLanes|=e.suspendedLanes&o,Jn===e&&(co&o)===o&&(Vn===4||Vn===3&&(co&130023424)===co&&500>Tn()-Ex?Dl(e,0):xx|=o),Yo(e,t)}function X6(e,t){t===0&&(e.mode&1?(t=$m,$m<<=1,!($m&130023424)&&($m=4194304)):t=1);var o=No();e=Es(e,t),e!==null&&(yf(e,t,o),Yo(e,o))}function Nre(e){var t=e.memoizedState,o=0;t!==null&&(o=t.retryLane),X6(e,o)}function Rre(e,t){var o=0;switch(e.tag){case 13:var s=e.stateNode,c=e.memoizedState;c!==null&&(o=c.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(ge(314))}s!==null&&s.delete(t),X6(e,o)}var eF;eF=function(e,t,o){if(e!==null)if(e.memoizedProps!==t.pendingProps||Go.current)qo=!0;else{if(!(e.lanes&o)&&!(t.flags&128))return qo=!1,yre(e,t,o);qo=!!(e.flags&131072)}else qo=!1,dn&&t.flags&1048576&&r6(t,db,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Ik(e,t),e=t.pendingProps;var c=Pd(t,xo.current);vd(t,o),c=vx(null,t,s,e,c,o);var u=wx();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ko(s)?(u=!0,lb(t)):u=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,fx(t),c.updater=g0,t.stateNode=c,c._reactInternals=t,_A(t,s,e,o),t=xA(null,t,s,!0,u,o)):(t.tag=0,dn&&u&&ax(t),Mo(null,t,c,o),t=t.child),t;case 16:s=t.elementType;e:{switch(Ik(e,t),e=t.pendingProps,c=s._init,s=c(s._payload),t.type=s,c=t.tag=Bre(s),e=hi(s,e),c){case 0:t=AA(null,t,s,e,o);break e;case 1:t=ZO(null,t,s,e,o);break e;case 11:t=YO(null,t,s,e,o);break e;case 14:t=QO(null,t,s,hi(s.type,e),o);break e}throw Error(ge(306,s,""))}return t;case 0:return s=t.type,c=t.pendingProps,c=t.elementType===s?c:hi(s,c),AA(e,t,s,c,o);case 1:return s=t.type,c=t.pendingProps,c=t.elementType===s?c:hi(s,c),ZO(e,t,s,c,o);case 3:e:{if(L6(t),e===null)throw Error(ge(387));s=t.pendingProps,u=t.memoizedState,c=u.element,d6(e,t),pb(t,s,null,o);var p=t.memoizedState;if(s=p.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){c=Bd(Error(ge(423)),t),t=JO(e,t,s,o,c);break e}else if(s!==c){c=Bd(Error(ge(424)),t),t=JO(e,t,s,o,c);break e}else for(hr=ba(t.stateNode.containerInfo.firstChild),gr=t,dn=!0,fi=null,o=l6(t,null,s,o),t.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Nd(),s===c){t=Ss(e,t,o);break e}Mo(e,t,s,o)}t=t.child}return t;case 5:return u6(t),e===null&&vA(t),s=t.type,c=t.pendingProps,u=e!==null?e.memoizedProps:null,p=c.children,fA(s,c)?p=null:u!==null&&fA(s,u)&&(t.flags|=32),B6(e,t),Mo(e,t,p,o),t.child;case 6:return e===null&&vA(t),null;case 13:return j6(e,t,o);case 4:return gx(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Rd(t,null,s,o):Mo(e,t,s,o),t.child;case 11:return s=t.type,c=t.pendingProps,c=t.elementType===s?c:hi(s,c),YO(e,t,s,c,o);case 7:return Mo(e,t,t.pendingProps,o),t.child;case 8:return Mo(e,t,t.pendingProps.children,o),t.child;case 12:return Mo(e,t,t.pendingProps.children,o),t.child;case 10:e:{if(s=t.type._context,c=t.pendingProps,u=t.memoizedProps,p=c.value,Qt(ub,s._currentValue),s._currentValue=p,u!==null)if(ki(u.value,p)){if(u.children===c.children&&!Go.current){t=Ss(e,t,o);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var m=u.dependencies;if(m!==null){p=u.child;for(var g=m.firstContext;g!==null;){if(g.context===s){if(u.tag===1){g=ys(-1,o&-o),g.tag=2;var v=u.updateQueue;if(v!==null){v=v.shared;var _=v.pending;_===null?g.next=g:(g.next=_.next,_.next=g),v.pending=g}}u.lanes|=o,g=u.alternate,g!==null&&(g.lanes|=o),wA(u.return,o,t),m.lanes|=o;break}g=g.next}}else if(u.tag===10)p=u.type===t.type?null:u.child;else if(u.tag===18){if(p=u.return,p===null)throw Error(ge(341));p.lanes|=o,m=p.alternate,m!==null&&(m.lanes|=o),wA(p,o,t),p=u.sibling}else p=u.child;if(p!==null)p.return=u;else for(p=u;p!==null;){if(p===t){p=null;break}if(u=p.sibling,u!==null){u.return=p.return,p=u;break}p=p.return}u=p}Mo(e,t,c.children,o),t=t.child}return t;case 9:return c=t.type,s=t.pendingProps.children,vd(t,o),c=Hr(c),s=s(c),t.flags|=1,Mo(e,t,s,o),t.child;case 14:return s=t.type,c=hi(s,t.pendingProps),c=hi(s.type,c),QO(e,t,s,c,o);case 15:return R6(e,t,t.type,t.pendingProps,o);case 17:return s=t.type,c=t.pendingProps,c=t.elementType===s?c:hi(s,c),Ik(e,t),t.tag=1,Ko(s)?(e=!0,lb(t)):e=!1,vd(t,o),M6(t,s,c),_A(t,s,c,o),xA(null,t,s,!0,e,o);case 19:return z6(e,t,o);case 22:return O6(e,t,o)}throw Error(ge(156,t.tag))};function tF(e,t){return Tz(e,t)}function Ore(e,t,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,o,s){return new Ore(e,t,o,s)}function Dx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bre(e){if(typeof e=="function")return Dx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Y1)return 11;if(e===Q1)return 14}return 2}function _a(e,t){var o=e.alternate;return o===null?(o=zr(e.tag,t,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=t,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,t=e.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function Pk(e,t,o,s,c,u){var p=2;if(s=e,typeof e=="function")Dx(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case nd:return Ml(o.children,c,u,t);case K1:p=8,c|=8;break;case qC:return e=zr(12,o,t,c|2),e.elementType=qC,e.lanes=u,e;case GC:return e=zr(13,o,t,c),e.elementType=GC,e.lanes=u,e;case KC:return e=zr(19,o,t,c),e.elementType=KC,e.lanes=u,e;case uz:return b0(o,c,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cz:p=10;break e;case dz:p=9;break e;case Y1:p=11;break e;case Q1:p=14;break e;case ea:p=16,s=null;break e}throw Error(ge(130,e==null?e:typeof e,""))}return t=zr(p,o,t,c),t.elementType=e,t.type=s,t.lanes=u,t}function Ml(e,t,o,s){return e=zr(7,e,s,t),e.lanes=o,e}function b0(e,t,o,s){return e=zr(22,e,s,t),e.elementType=uz,e.lanes=o,e.stateNode={isHidden:!1},e}function J_(e,t,o){return e=zr(6,e,null,t),e.lanes=o,e}function X_(e,t,o){return t=zr(4,e.children!==null?e.children:[],e.key,t),t.lanes=o,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lre(e,t,o,s,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=N_(0),this.expirationTimes=N_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=N_(0),this.identifierPrefix=s,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Mx(e,t,o,s,c,u,p,m,g){return e=new Lre(e,t,o,m,g),t===1?(t=1,u===!0&&(t|=8)):t=0,u=zr(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:s,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},fx(u),e}function jre(e,t,o){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:td,key:s==null?null:""+s,children:e,containerInfo:t,implementation:o}}function nF(e){if(!e)return Ta;e=e._reactInternals;e:{if(ec(e)!==e||e.tag!==1)throw Error(ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ko(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ge(171))}if(e.tag===1){var o=e.type;if(Ko(o))return n6(e,o,t)}return t}function oF(e,t,o,s,c,u,p,m,g){return e=Mx(o,s,!0,e,c,u,p,m,g),e.context=nF(null),o=e.current,s=No(),c=ya(o),u=ys(s,c),u.callback=t??null,va(o,u,c),e.current.lanes=c,yf(e,c,s),Yo(e,s),e}function v0(e,t,o,s){var c=t.current,u=No(),p=ya(c);return o=nF(o),t.context===null?t.context=o:t.pendingContext=o,t=ys(u,p),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=va(c,t,p),e!==null&&(mi(e,c,p,u),Ek(e,c,p)),p}function yb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lB(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<t?o:t}}function Px(e,t){lB(e,t),(e=e.alternate)&&lB(e,t)}function zre(){return null}var rF=typeof reportError=="function"?reportError:function(e){console.error(e)};function Nx(e){this._internalRoot=e}w0.prototype.render=Nx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ge(409));v0(e,t,null,null)};w0.prototype.unmount=Nx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$l(function(){v0(null,e,null,null)}),t[xs]=null}};function w0(e){this._internalRoot=e}w0.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oz();e={blockedOn:null,target:e,priority:t};for(var o=0;o<na.length&&t!==0&&t<na[o].priority;o++);na.splice(o,0,e),o===0&&Lz(e)}};function Rx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function y0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cB(){}function Fre(e,t,o,s,c){if(c){if(typeof s=="function"){var u=s;s=function(){var v=yb(p);u.call(v)}}var p=oF(t,s,e,0,null,!1,!1,"",cB);return e._reactRootContainer=p,e[xs]=p.current,Pp(e.nodeType===8?e.parentNode:e),$l(),p}for(;c=e.lastChild;)e.removeChild(c);if(typeof s=="function"){var m=s;s=function(){var v=yb(g);m.call(v)}}var g=Mx(e,0,!1,null,null,!1,!1,"",cB);return e._reactRootContainer=g,e[xs]=g.current,Pp(e.nodeType===8?e.parentNode:e),$l(function(){v0(t,g,o,s)}),g}function _0(e,t,o,s,c){var u=o._reactRootContainer;if(u){var p=u;if(typeof c=="function"){var m=c;c=function(){var g=yb(p);m.call(g)}}v0(t,p,e,c)}else p=Fre(o,t,e,c,s);return yb(p)}Nz=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var o=Hh(t.pendingLanes);o!==0&&(X1(t,o|1),Yo(t,Tn()),!(Et&6)&&(Ld=Tn()+500,La()))}break;case 13:$l(function(){var s=Es(e,1);if(s!==null){var c=No();mi(s,e,1,c)}}),Px(e,1)}};ex=function(e){if(e.tag===13){var t=Es(e,134217728);if(t!==null){var o=No();mi(t,e,134217728,o)}Px(e,134217728)}};Rz=function(e){if(e.tag===13){var t=ya(e),o=Es(e,t);if(o!==null){var s=No();mi(o,e,t,s)}Px(e,t)}};Oz=function(){return jt};Bz=function(e,t){var o=jt;try{return jt=e,t()}finally{jt=o}};rA=function(e,t,o){switch(t){case"input":if(ZC(e,o),t=o.name,o.type==="radio"&&t!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<o.length;t++){var s=o[t];if(s!==e&&s.form===e.form){var c=h0(s);if(!c)throw Error(ge(90));pz(s),ZC(s,c)}}}break;case"textarea":gz(e,o);break;case"select":t=o.value,t!=null&&gd(e,!!o.multiple,t,!1)}};_z=Sx;Cz=$l;var $re={usingClientEntryPoint:!1,Events:[Cf,sd,h0,wz,yz,Sx]},Eh={findFiberByHostInstance:yl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vre={bundleType:Eh.bundleType,version:Eh.version,rendererPackageName:Eh.rendererPackageName,rendererConfig:Eh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ls.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ez(e),e===null?null:e.stateNode},findFiberByHostInstance:Eh.findFiberByHostInstance||zre,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jm.isDisabled&&Jm.supportsFiber)try{l0=Jm.inject(Vre),ji=Jm}catch{}}wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$re;wr.createPortal=function(e,t){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rx(t))throw Error(ge(200));return jre(e,t,null,o)};wr.createRoot=function(e,t){if(!Rx(e))throw Error(ge(299));var o=!1,s="",c=rF;return t!=null&&(t.unstable_strictMode===!0&&(o=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Mx(e,1,!1,null,null,o,!1,s,c),e[xs]=t.current,Pp(e.nodeType===8?e.parentNode:e),new Nx(t)};wr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ge(188)):(e=Object.keys(e).join(","),Error(ge(268,e)));return e=Ez(t),e=e===null?null:e.stateNode,e};wr.flushSync=function(e){return $l(e)};wr.hydrate=function(e,t,o){if(!y0(t))throw Error(ge(200));return _0(null,e,t,!0,o)};wr.hydrateRoot=function(e,t,o){if(!Rx(e))throw Error(ge(405));var s=o!=null&&o.hydratedSources||null,c=!1,u="",p=rF;if(o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(u=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),t=oF(t,null,e,1,o??null,c,!1,u,p),e[xs]=t.current,Pp(e),s)for(e=0;e<s.length;e++)o=s[e],c=o._getVersion,c=c(o._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[o,c]:t.mutableSourceEagerHydrationData.push(o,c);return new w0(t)};wr.render=function(e,t,o){if(!y0(t))throw Error(ge(200));return _0(null,e,t,!1,o)};wr.unmountComponentAtNode=function(e){if(!y0(e))throw Error(ge(40));return e._reactRootContainer?($l(function(){_0(null,null,e,!1,function(){e._reactRootContainer=null,e[xs]=null})}),!0):!1};wr.unstable_batchedUpdates=Sx;wr.unstable_renderSubtreeIntoContainer=function(e,t,o,s){if(!y0(o))throw Error(ge(200));if(e==null||e._reactInternals===void 0)throw Error(ge(38));return _0(e,t,o,!1,s)};wr.version="18.3.1-next-f1338f8080-20240426";function iF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iF)}catch(e){console.error(e)}}iF(),iz.exports=wr;var Ox=iz.exports;const Xm=s0(Ox);var dB=Ox;HC.createRoot=dB.createRoot,HC.hydrateRoot=dB.hydrateRoot;const Ure="modulepreload",Hre=function(e){return"/ate-micr/"+e},uB={},Bx=function(t,o,s){let c=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),p=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));c=Promise.all(o.map(m=>{if(m=Hre(m),m in uB)return;uB[m]=!0;const g=m.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":Ure,g||(_.as="script",_.crossOrigin=""),_.href=m,p&&_.setAttribute("nonce",p),document.head.appendChild(_),g)return new Promise((C,y)=>{_.addEventListener("load",C),_.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${m}`)))})}))}return c.then(()=>t()).catch(u=>{const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=u,window.dispatchEvent(p),!p.defaultPrevented)throw u})};/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $p(){return $p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e},$p.apply(this,arguments)}var ua;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ua||(ua={}));const hB="popstate";function Wre(e){e===void 0&&(e={});function t(c,u){let{pathname:p="/",search:m="",hash:g=""}=tc(c.location.hash.substr(1));return!p.startsWith("/")&&!p.startsWith(".")&&(p="/"+p),LA("",{pathname:p,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function o(c,u){let p=c.document.querySelector("base"),m="";if(p&&p.getAttribute("href")){let g=c.location.href,v=g.indexOf("#");m=v===-1?g:g.slice(0,v)}return m+"#"+(typeof u=="string"?u:sF(u))}function s(c,u){Lx(c.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(u)+")")}return Gre(t,o,s,e)}function Bn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Lx(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qre(){return Math.random().toString(36).substr(2,8)}function pB(e,t){return{usr:e.state,key:e.key,idx:t}}function LA(e,t,o,s){return o===void 0&&(o=null),$p({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?tc(t):t,{state:o,key:t&&t.key||s||qre()})}function sF(e){let{pathname:t="/",search:o="",hash:s=""}=e;return o&&o!=="?"&&(t+=o.charAt(0)==="?"?o:"?"+o),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function tc(e){let t={};if(e){let o=e.indexOf("#");o>=0&&(t.hash=e.substr(o),e=e.substr(0,o));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Gre(e,t,o,s){s===void 0&&(s={});let{window:c=document.defaultView,v5Compat:u=!1}=s,p=c.history,m=ua.Pop,g=null,v=_();v==null&&(v=0,p.replaceState($p({},p.state,{idx:v}),""));function _(){return(p.state||{idx:null}).idx}function C(){m=ua.Pop;let P=_(),D=P==null?null:P-v;v=P,g&&g({action:m,location:T.location,delta:D})}function y(P,D){m=ua.Push;let R=LA(T.location,P,D);o&&o(R,P),v=_()+1;let B=pB(R,v),j=T.createHref(R);try{p.pushState(B,"",j)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;c.location.assign(j)}u&&g&&g({action:m,location:T.location,delta:1})}function x(P,D){m=ua.Replace;let R=LA(T.location,P,D);o&&o(R,P),v=_();let B=pB(R,v),j=T.createHref(R);p.replaceState(B,"",j),u&&g&&g({action:m,location:T.location,delta:0})}function S(P){let D=c.location.origin!=="null"?c.location.origin:c.location.href,R=typeof P=="string"?P:sF(P);return R=R.replace(/ $/,"%20"),Bn(D,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,D)}let T={get action(){return m},get location(){return e(c,p)},listen(P){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(hB,C),g=P,()=>{c.removeEventListener(hB,C),g=null}},createHref(P){return t(c,P)},createURL:S,encodeLocation(P){let D=S(P);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:y,replace:x,go(P){return p.go(P)}};return T}var fB;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(fB||(fB={}));function Kre(e,t,o){return o===void 0&&(o="/"),Yre(e,t,o,!1)}function Yre(e,t,o,s){let c=typeof t=="string"?tc(t):t,u=cF(c.pathname||"/",o);if(u==null)return null;let p=aF(e);Qre(p);let m=null;for(let g=0;m==null&&g<p.length;++g){let v=aie(u);m=iie(p[g],v,s)}return m}function aF(e,t,o,s){t===void 0&&(t=[]),o===void 0&&(o=[]),s===void 0&&(s="");let c=(u,p,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:p,route:u};g.relativePath.startsWith("/")&&(Bn(g.relativePath.startsWith(s),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(s.length));let v=Pl([s,g.relativePath]),_=o.concat(g);u.children&&u.children.length>0&&(Bn(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),aF(u.children,t,_,v)),!(u.path==null&&!u.index)&&t.push({path:v,score:oie(v,u.index),routesMeta:_})};return e.forEach((u,p)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))c(u,p);else for(let g of lF(u.path))c(u,p,g)}),t}function lF(e){let t=e.split("/");if(t.length===0)return[];let[o,...s]=t,c=o.endsWith("?"),u=o.replace(/\?$/,"");if(s.length===0)return c?[u,""]:[u];let p=lF(s.join("/")),m=[];return m.push(...p.map(g=>g===""?u:[u,g].join("/"))),c&&m.push(...p),m.map(g=>e.startsWith("/")&&g===""?"/":g)}function Qre(e){e.sort((t,o)=>t.score!==o.score?o.score-t.score:rie(t.routesMeta.map(s=>s.childrenIndex),o.routesMeta.map(s=>s.childrenIndex)))}const Zre=/^:[\w-]+$/,Jre=3,Xre=2,eie=1,tie=10,nie=-2,gB=e=>e==="*";function oie(e,t){let o=e.split("/"),s=o.length;return o.some(gB)&&(s+=nie),t&&(s+=Xre),o.filter(c=>!gB(c)).reduce((c,u)=>c+(Zre.test(u)?Jre:u===""?eie:tie),s)}function rie(e,t){return e.length===t.length&&e.slice(0,-1).every((s,c)=>s===t[c])?e[e.length-1]-t[t.length-1]:0}function iie(e,t,o){let{routesMeta:s}=e,c={},u="/",p=[];for(let m=0;m<s.length;++m){let g=s[m],v=m===s.length-1,_=u==="/"?t:t.slice(u.length)||"/",C=mB({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},_),y=g.route;if(!C&&v&&o&&!s[s.length-1].route.index&&(C=mB({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!C)return null;Object.assign(c,C.params),p.push({params:c,pathname:Pl([u,C.pathname]),pathnameBase:uie(Pl([u,C.pathnameBase])),route:y}),C.pathnameBase!=="/"&&(u=Pl([u,C.pathnameBase]))}return p}function mB(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[o,s]=sie(e.path,e.caseSensitive,e.end),c=t.match(o);if(!c)return null;let u=c[0],p=u.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:s.reduce((v,_,C)=>{let{paramName:y,isOptional:x}=_;if(y==="*"){let T=m[C]||"";p=u.slice(0,u.length-T.length).replace(/(.)\/+$/,"$1")}const S=m[C];return x&&!S?v[y]=void 0:v[y]=(S||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:p,pattern:e}}function sie(e,t,o){t===void 0&&(t=!1),o===void 0&&(o=!0),Lx(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),s]}function aie(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Lx(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function cF(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let o=t.endsWith("/")?t.length-1:t.length,s=e.charAt(o);return s&&s!=="/"?null:e.slice(o)||"/"}function lie(e,t){t===void 0&&(t="/");let{pathname:o,search:s="",hash:c=""}=typeof e=="string"?tc(e):e;return{pathname:o?o.startsWith("/")?o:cie(o,t):t,search:hie(s),hash:pie(c)}}function cie(e,t){let o=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?o.length>1&&o.pop():c!=="."&&o.push(c)}),o.length>1?o.join("/"):"/"}function eC(e,t,o,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function die(e){return e.filter((t,o)=>o===0||t.route.path&&t.route.path.length>0)}function dF(e,t){let o=die(e);return t?o.map((s,c)=>c===o.length-1?s.pathname:s.pathnameBase):o.map(s=>s.pathnameBase)}function uF(e,t,o,s){s===void 0&&(s=!1);let c;typeof e=="string"?c=tc(e):(c=$p({},e),Bn(!c.pathname||!c.pathname.includes("?"),eC("?","pathname","search",c)),Bn(!c.pathname||!c.pathname.includes("#"),eC("#","pathname","hash",c)),Bn(!c.search||!c.search.includes("#"),eC("#","search","hash",c)));let u=e===""||c.pathname==="",p=u?"/":c.pathname,m;if(p==null)m=o;else{let C=t.length-1;if(!s&&p.startsWith("..")){let y=p.split("/");for(;y[0]==="..";)y.shift(),C-=1;c.pathname=y.join("/")}m=C>=0?t[C]:"/"}let g=lie(c,m),v=p&&p!=="/"&&p.endsWith("/"),_=(u||p===".")&&o.endsWith("/");return!g.pathname.endsWith("/")&&(v||_)&&(g.pathname+="/"),g}const Pl=e=>e.join("/").replace(/\/\/+/g,"/"),uie=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hie=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pie=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function fie(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const hF=["post","put","patch","delete"];new Set(hF);const gie=["get",...hF];new Set(gie);/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vp(){return Vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e},Vp.apply(this,arguments)}const jx=z.createContext(null),mie=z.createContext(null),xf=z.createContext(null),C0=z.createContext(null),ja=z.createContext({outlet:null,matches:[],isDataRoute:!1}),pF=z.createContext(null);function Ef(){return z.useContext(C0)!=null}function zx(){return Ef()||Bn(!1),z.useContext(C0).location}function fF(e){z.useContext(xf).static||z.useLayoutEffect(e)}function za(){let{isDataRoute:e}=z.useContext(ja);return e?Iie():kie()}function kie(){Ef()||Bn(!1);let e=z.useContext(jx),{basename:t,future:o,navigator:s}=z.useContext(xf),{matches:c}=z.useContext(ja),{pathname:u}=zx(),p=JSON.stringify(dF(c,o.v7_relativeSplatPath)),m=z.useRef(!1);return fF(()=>{m.current=!0}),z.useCallback(function(v,_){if(_===void 0&&(_={}),!m.current)return;if(typeof v=="number"){s.go(v);return}let C=uF(v,JSON.parse(p),u,_.relative==="path");e==null&&t!=="/"&&(C.pathname=C.pathname==="/"?t:Pl([t,C.pathname])),(_.replace?s.replace:s.push)(C,_.state,_)},[t,s,p,u,e])}function Fx(){let{matches:e}=z.useContext(ja),t=e[e.length-1];return t?t.params:{}}function bie(e,t){return vie(e,t)}function vie(e,t,o,s){Ef()||Bn(!1);let{navigator:c}=z.useContext(xf),{matches:u}=z.useContext(ja),p=u[u.length-1],m=p?p.params:{};p&&p.pathname;let g=p?p.pathnameBase:"/";p&&p.route;let v=zx(),_;if(t){var C;let P=typeof t=="string"?tc(t):t;g==="/"||(C=P.pathname)!=null&&C.startsWith(g)||Bn(!1),_=P}else _=v;let y=_.pathname||"/",x=y;if(g!=="/"){let P=g.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(P.length).join("/")}let S=Kre(e,{pathname:x}),T=Aie(S&&S.map(P=>Object.assign({},P,{params:Object.assign({},m,P.params),pathname:Pl([g,c.encodeLocation?c.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?g:Pl([g,c.encodeLocation?c.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),u,o,s);return t&&T?z.createElement(C0.Provider,{value:{location:Vp({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:ua.Pop}},T):T}function wie(){let e=Tie(),t=fie(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),o=e instanceof Error?e.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),o?z.createElement("pre",{style:c},o):null,null)}const yie=z.createElement(wie,null);class _ie extends z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,o){return o.location!==t.location||o.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:o.error,location:o.location,revalidation:t.revalidation||o.revalidation}}componentDidCatch(t,o){console.error("React Router caught the following error during render",t,o)}render(){return this.state.error!==void 0?z.createElement(ja.Provider,{value:this.props.routeContext},z.createElement(pF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Cie(e){let{routeContext:t,match:o,children:s}=e,c=z.useContext(jx);return c&&c.static&&c.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=o.route.id),z.createElement(ja.Provider,{value:t},s)}function Aie(e,t,o,s){var c;if(t===void 0&&(t=[]),o===void 0&&(o=null),s===void 0&&(s=null),e==null){var u;if((u=o)!=null&&u.errors)e=o.matches;else return null}let p=e,m=(c=o)==null?void 0:c.errors;if(m!=null){let _=p.findIndex(C=>C.route.id&&(m==null?void 0:m[C.route.id])!==void 0);_>=0||Bn(!1),p=p.slice(0,Math.min(p.length,_+1))}let g=!1,v=-1;if(o&&s&&s.v7_partialHydration)for(let _=0;_<p.length;_++){let C=p[_];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(v=_),C.route.id){let{loaderData:y,errors:x}=o,S=C.route.loader&&y[C.route.id]===void 0&&(!x||x[C.route.id]===void 0);if(C.route.lazy||S){g=!0,v>=0?p=p.slice(0,v+1):p=[p[0]];break}}}return p.reduceRight((_,C,y)=>{let x,S=!1,T=null,P=null;o&&(x=m&&C.route.id?m[C.route.id]:void 0,T=C.route.errorElement||yie,g&&(v<0&&y===0?(S=!0,P=null):v===y&&(S=!0,P=C.route.hydrateFallbackElement||null)));let D=t.concat(p.slice(0,y+1)),R=()=>{let B;return x?B=T:S?B=P:C.route.Component?B=z.createElement(C.route.Component,null):C.route.element?B=C.route.element:B=_,z.createElement(Cie,{match:C,routeContext:{outlet:_,matches:D,isDataRoute:o!=null},children:B})};return o&&(C.route.ErrorBoundary||C.route.errorElement||y===0)?z.createElement(_ie,{location:o.location,revalidation:o.revalidation,component:T,error:x,children:R(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):R()},null)}var gF=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(gF||{}),_b=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(_b||{});function xie(e){let t=z.useContext(jx);return t||Bn(!1),t}function Eie(e){let t=z.useContext(mie);return t||Bn(!1),t}function Sie(e){let t=z.useContext(ja);return t||Bn(!1),t}function mF(e){let t=Sie(),o=t.matches[t.matches.length-1];return o.route.id||Bn(!1),o.route.id}function Tie(){var e;let t=z.useContext(pF),o=Eie(_b.UseRouteError),s=mF(_b.UseRouteError);return t!==void 0?t:(e=o.errors)==null?void 0:e[s]}function Iie(){let{router:e}=xie(gF.UseNavigateStable),t=mF(_b.UseNavigateStable),o=z.useRef(!1);return fF(()=>{o.current=!0}),z.useCallback(function(c,u){u===void 0&&(u={}),o.current&&(typeof c=="number"?e.navigate(c):e.navigate(c,Vp({fromRouteId:t},u)))},[e,t])}function kF(e){let{to:t,replace:o,state:s,relative:c}=e;Ef()||Bn(!1);let{future:u,static:p}=z.useContext(xf),{matches:m}=z.useContext(ja),{pathname:g}=zx(),v=za(),_=uF(t,dF(m,u.v7_relativeSplatPath),g,c==="path"),C=JSON.stringify(_);return z.useEffect(()=>v(JSON.parse(C),{replace:o,state:s,relative:c}),[v,C,c,o,s]),null}function ui(e){Bn(!1)}function Die(e){let{basename:t="/",children:o=null,location:s,navigationType:c=ua.Pop,navigator:u,static:p=!1,future:m}=e;Ef()&&Bn(!1);let g=t.replace(/^\/*/,"/"),v=z.useMemo(()=>({basename:g,navigator:u,static:p,future:Vp({v7_relativeSplatPath:!1},m)}),[g,m,u,p]);typeof s=="string"&&(s=tc(s));let{pathname:_="/",search:C="",hash:y="",state:x=null,key:S="default"}=s,T=z.useMemo(()=>{let P=cF(_,g);return P==null?null:{location:{pathname:P,search:C,hash:y,state:x,key:S},navigationType:c}},[g,_,C,y,x,S,c]);return T==null?null:z.createElement(xf.Provider,{value:v},z.createElement(C0.Provider,{children:o,value:T}))}function Mie(e){let{children:t,location:o}=e;return bie(jA(t),o)}new Promise(()=>{});function jA(e,t){t===void 0&&(t=[]);let o=[];return z.Children.forEach(e,(s,c)=>{if(!z.isValidElement(s))return;let u=[...t,c];if(s.type===z.Fragment){o.push.apply(o,jA(s.props.children,u));return}s.type!==ui&&Bn(!1),!s.props.index||!s.props.children||Bn(!1);let p={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(p.children=jA(s.props.children,u)),o.push(p)}),o}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Pie="6";try{window.__reactRouterVersion=Pie}catch{}const Nie="startTransition",kB=Zk[Nie];function Rie(e){let{basename:t,children:o,future:s,window:c}=e,u=z.useRef();u.current==null&&(u.current=Wre({window:c,v5Compat:!0}));let p=u.current,[m,g]=z.useState({action:p.action,location:p.location}),{v7_startTransition:v}=s||{},_=z.useCallback(C=>{v&&kB?kB(()=>g(C)):g(C)},[g,v]);return z.useLayoutEffect(()=>p.listen(_),[p,_]),z.createElement(Die,{basename:t,children:o,location:m.location,navigationType:m.action,navigator:p,future:s})}var bB;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(bB||(bB={}));var vB;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(vB||(vB={}));var wB={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=function(e){const t=[];let o=0;for(let s=0;s<e.length;s++){let c=e.charCodeAt(s);c<128?t[o++]=c:c<2048?(t[o++]=c>>6|192,t[o++]=c&63|128):(c&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(c=65536+((c&1023)<<10)+(e.charCodeAt(++s)&1023),t[o++]=c>>18|240,t[o++]=c>>12&63|128,t[o++]=c>>6&63|128,t[o++]=c&63|128):(t[o++]=c>>12|224,t[o++]=c>>6&63|128,t[o++]=c&63|128)}return t},Oie=function(e){const t=[];let o=0,s=0;for(;o<e.length;){const c=e[o++];if(c<128)t[s++]=String.fromCharCode(c);else if(c>191&&c<224){const u=e[o++];t[s++]=String.fromCharCode((c&31)<<6|u&63)}else if(c>239&&c<365){const u=e[o++],p=e[o++],m=e[o++],g=((c&7)<<18|(u&63)<<12|(p&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=e[o++],p=e[o++];t[s++]=String.fromCharCode((c&15)<<12|(u&63)<<6|p&63)}}return t.join("")},vF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const o=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let c=0;c<e.length;c+=3){const u=e[c],p=c+1<e.length,m=p?e[c+1]:0,g=c+2<e.length,v=g?e[c+2]:0,_=u>>2,C=(u&3)<<4|m>>4;let y=(m&15)<<2|v>>6,x=v&63;g||(x=64,p||(y=64)),s.push(o[_],o[C],o[y],o[x])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(bF(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Oie(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const o=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let c=0;c<e.length;){const u=o[e.charAt(c++)],m=c<e.length?o[e.charAt(c)]:0;++c;const v=c<e.length?o[e.charAt(c)]:64;++c;const C=c<e.length?o[e.charAt(c)]:64;if(++c,u==null||m==null||v==null||C==null)throw new Bie;const y=u<<2|m>>4;if(s.push(y),v!==64){const x=m<<4&240|v>>2;if(s.push(x),C!==64){const S=v<<6&192|C;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Bie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lie=function(e){const t=bF(e);return vF.encodeByteArray(t,!0)},Cb=function(e){return Lie(e).replace(/\./g,"")},wF=function(e){try{return vF.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zie=()=>jie().__FIREBASE_DEFAULTS__,Fie=()=>{if(typeof process>"u"||typeof wB>"u")return;const e=wB.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},$ie=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&wF(e[1]);return t&&JSON.parse(t)},A0=()=>{try{return zie()||Fie()||$ie()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},yF=e=>{var t,o;return(o=(t=A0())===null||t===void 0?void 0:t.emulatorHosts)===null||o===void 0?void 0:o[e]},_F=e=>{const t=yF(e);if(!t)return;const o=t.lastIndexOf(":");if(o<=0||o+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(o+1),10);return t[0]==="["?[t.substring(1,o-1),s]:[t.substring(0,o),s]},CF=()=>{var e;return(e=A0())===null||e===void 0?void 0:e.config},AF=e=>{var t;return(t=A0())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,o)=>{this.resolve=t,this.reject=o})}wrapCallback(t){return(o,s)=>{o?this.reject(o):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(o):t(o,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const o={alg:"none",type:"JWT"},s=t||"demo-project",c=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:c,exp:c+3600,auth_time:c,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Cb(JSON.stringify(o)),Cb(JSON.stringify(p)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Eo())}function Hie(){var e;const t=(e=A0())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Wie(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function qie(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Gie(){const e=Eo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Kie(){try{return typeof indexedDB=="object"}catch{return!1}}function Yie(){return new Promise((e,t)=>{try{let o=!0;const s="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(s);c.onsuccess=()=>{c.result.close(),o||self.indexedDB.deleteDatabase(s),e(!0)},c.onupgradeneeded=()=>{o=!1},c.onerror=()=>{var u;t(((u=c.error)===null||u===void 0?void 0:u.message)||"")}}catch(o){t(o)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qie="FirebaseError";class Qi extends Error{constructor(t,o,s){super(o),this.code=t,this.customData=s,this.name=Qie,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sf.prototype.create)}}class Sf{constructor(t,o,s){this.service=t,this.serviceName=o,this.errors=s}create(t,...o){const s=o[0]||{},c=`${this.service}/${t}`,u=this.errors[t],p=u?Zie(u,s):"Error",m=`${this.serviceName}: ${p} (${c}).`;return new Qi(c,m,s)}}function Zie(e,t){return e.replace(Jie,(o,s)=>{const c=t[s];return c!=null?String(c):`<${s}?>`})}const Jie=/\{\$([^}]+)}/g;function Xie(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ab(e,t){if(e===t)return!0;const o=Object.keys(e),s=Object.keys(t);for(const c of o){if(!s.includes(c))return!1;const u=e[c],p=t[c];if(yB(u)&&yB(p)){if(!Ab(u,p))return!1}else if(u!==p)return!1}for(const c of s)if(!o.includes(c))return!1;return!0}function yB(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(e){const t=[];for(const[o,s]of Object.entries(e))Array.isArray(s)?s.forEach(c=>{t.push(encodeURIComponent(o)+"="+encodeURIComponent(c))}):t.push(encodeURIComponent(o)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function ese(e,t){const o=new tse(e,t);return o.subscribe.bind(o)}class tse{constructor(t,o){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=o,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(o=>{o.next(t)})}error(t){this.forEachObserver(o=>{o.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,o,s){let c;if(t===void 0&&o===void 0&&s===void 0)throw new Error("Missing Observer.");nse(t,["next","error","complete"])?c=t:c={next:t,error:o,complete:s},c.next===void 0&&(c.next=tC),c.error===void 0&&(c.error=tC),c.complete===void 0&&(c.complete=tC);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?c.error(this.finalError):c.complete()}catch{}}),this.observers.push(c),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let o=0;o<this.observers.length;o++)this.sendOne(o,t)}sendOne(t,o){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{o(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nse(e,t){if(typeof e!="object"||e===null)return!1;for(const o of t)if(o in e&&typeof e[o]=="function")return!0;return!1}function tC(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(e){return e&&e._delegate?e._delegate:e}class Ia{constructor(t,o,s){this.name=t,this.instanceFactory=o,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ose{constructor(t,o){this.name=t,this.container=o,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const o=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(o)){const s=new Vie;if(this.instancesDeferred.set(o,s),this.isInitialized(o)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:o});c&&s.resolve(c)}catch{}}return this.instancesDeferred.get(o).promise}getImmediate(t){var o;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),c=(o=t==null?void 0:t.optional)!==null&&o!==void 0?o:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(c)return null;throw u}else{if(c)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ise(t))try{this.getOrInitializeService({instanceIdentifier:bl})}catch{}for(const[o,s]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);try{const u=this.getOrInitializeService({instanceIdentifier:c});s.resolve(u)}catch{}}}}clearInstance(t=bl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(o=>"INTERNAL"in o).map(o=>o.INTERNAL.delete()),...t.filter(o=>"_delete"in o).map(o=>o._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=bl){return this.instances.has(t)}getOptions(t=bl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:o={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:s,options:o});for(const[u,p]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&p.resolve(c)}return c}onInit(t,o){var s;const c=this.normalizeInstanceIdentifier(o),u=(s=this.onInitCallbacks.get(c))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(c,u);const p=this.instances.get(c);return p&&t(p,c),()=>{u.delete(t)}}invokeOnInitCallbacks(t,o){const s=this.onInitCallbacks.get(o);if(s)for(const c of s)try{c(t,o)}catch{}}getOrInitializeService({instanceIdentifier:t,options:o={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:rse(t),options:o}),this.instances.set(t,s),this.instancesOptions.set(t,o),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=bl){return this.component?this.component.multipleInstances?t:bl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rse(e){return e===bl?void 0:e}function ise(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sse{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const o=this.getProvider(t.name);if(o.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);o.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const o=new ose(t,this);return this.providers.set(t,o),o}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Tt||(Tt={}));const ase={debug:Tt.DEBUG,verbose:Tt.VERBOSE,info:Tt.INFO,warn:Tt.WARN,error:Tt.ERROR,silent:Tt.SILENT},lse=Tt.INFO,cse={[Tt.DEBUG]:"log",[Tt.VERBOSE]:"log",[Tt.INFO]:"info",[Tt.WARN]:"warn",[Tt.ERROR]:"error"},dse=(e,t,...o)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),c=cse[t];if(c)console[c](`[${s}]  ${e.name}:`,...o);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $x{constructor(t){this.name=t,this._logLevel=lse,this._logHandler=dse,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Tt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ase[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Tt.DEBUG,...t),this._logHandler(this,Tt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Tt.VERBOSE,...t),this._logHandler(this,Tt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Tt.INFO,...t),this._logHandler(this,Tt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Tt.WARN,...t),this._logHandler(this,Tt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Tt.ERROR,...t),this._logHandler(this,Tt.ERROR,...t)}}const use=(e,t)=>t.some(o=>e instanceof o);let _B,CB;function hse(){return _B||(_B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pse(){return CB||(CB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EF=new WeakMap,zA=new WeakMap,SF=new WeakMap,nC=new WeakMap,Vx=new WeakMap;function fse(e){const t=new Promise((o,s)=>{const c=()=>{e.removeEventListener("success",u),e.removeEventListener("error",p)},u=()=>{o(Ca(e.result)),c()},p=()=>{s(e.error),c()};e.addEventListener("success",u),e.addEventListener("error",p)});return t.then(o=>{o instanceof IDBCursor&&EF.set(o,e)}).catch(()=>{}),Vx.set(t,e),t}function gse(e){if(zA.has(e))return;const t=new Promise((o,s)=>{const c=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",p),e.removeEventListener("abort",p)},u=()=>{o(),c()},p=()=>{s(e.error||new DOMException("AbortError","AbortError")),c()};e.addEventListener("complete",u),e.addEventListener("error",p),e.addEventListener("abort",p)});zA.set(e,t)}let FA={get(e,t,o){if(e instanceof IDBTransaction){if(t==="done")return zA.get(e);if(t==="objectStoreNames")return e.objectStoreNames||SF.get(e);if(t==="store")return o.objectStoreNames[1]?void 0:o.objectStore(o.objectStoreNames[0])}return Ca(e[t])},set(e,t,o){return e[t]=o,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function mse(e){FA=e(FA)}function kse(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...o){const s=e.call(oC(this),t,...o);return SF.set(s,t.sort?t.sort():[t]),Ca(s)}:pse().includes(e)?function(...t){return e.apply(oC(this),t),Ca(EF.get(this))}:function(...t){return Ca(e.apply(oC(this),t))}}function bse(e){return typeof e=="function"?kse(e):(e instanceof IDBTransaction&&gse(e),use(e,hse())?new Proxy(e,FA):e)}function Ca(e){if(e instanceof IDBRequest)return fse(e);if(nC.has(e))return nC.get(e);const t=bse(e);return t!==e&&(nC.set(e,t),Vx.set(t,e)),t}const oC=e=>Vx.get(e);function vse(e,t,{blocked:o,upgrade:s,blocking:c,terminated:u}={}){const p=indexedDB.open(e,t),m=Ca(p);return s&&p.addEventListener("upgradeneeded",g=>{s(Ca(p.result),g.oldVersion,g.newVersion,Ca(p.transaction),g)}),o&&p.addEventListener("blocked",g=>o(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),c&&g.addEventListener("versionchange",v=>c(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const wse=["get","getKey","getAll","getAllKeys","count"],yse=["put","add","delete","clear"],rC=new Map;function AB(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(rC.get(t))return rC.get(t);const o=t.replace(/FromIndex$/,""),s=t!==o,c=yse.includes(o);if(!(o in(s?IDBIndex:IDBObjectStore).prototype)||!(c||wse.includes(o)))return;const u=async function(p,...m){const g=this.transaction(p,c?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[o](...m),c&&g.done]))[0]};return rC.set(t,u),u}mse(e=>({...e,get:(t,o,s)=>AB(t,o)||e.get(t,o,s),has:(t,o)=>!!AB(t,o)||e.has(t,o)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _se{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(o=>{if(Cse(o)){const s=o.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(o=>o).join(" ")}}function Cse(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const $A="@firebase/app",xB="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=new $x("@firebase/app"),Ase="@firebase/app-compat",xse="@firebase/analytics-compat",Ese="@firebase/analytics",Sse="@firebase/app-check-compat",Tse="@firebase/app-check",Ise="@firebase/auth",Dse="@firebase/auth-compat",Mse="@firebase/database",Pse="@firebase/database-compat",Nse="@firebase/functions",Rse="@firebase/functions-compat",Ose="@firebase/installations",Bse="@firebase/installations-compat",Lse="@firebase/messaging",jse="@firebase/messaging-compat",zse="@firebase/performance",Fse="@firebase/performance-compat",$se="@firebase/remote-config",Vse="@firebase/remote-config-compat",Use="@firebase/storage",Hse="@firebase/storage-compat",Wse="@firebase/firestore",qse="@firebase/firestore-compat",Gse="firebase",Kse="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="[DEFAULT]",Yse={[$A]:"fire-core",[Ase]:"fire-core-compat",[Ese]:"fire-analytics",[xse]:"fire-analytics-compat",[Tse]:"fire-app-check",[Sse]:"fire-app-check-compat",[Ise]:"fire-auth",[Dse]:"fire-auth-compat",[Mse]:"fire-rtdb",[Pse]:"fire-rtdb-compat",[Nse]:"fire-fn",[Rse]:"fire-fn-compat",[Ose]:"fire-iid",[Bse]:"fire-iid-compat",[Lse]:"fire-fcm",[jse]:"fire-fcm-compat",[zse]:"fire-perf",[Fse]:"fire-perf-compat",[$se]:"fire-rc",[Vse]:"fire-rc-compat",[Use]:"fire-gcs",[Hse]:"fire-gcs-compat",[Wse]:"fire-fst",[qse]:"fire-fst-compat","fire-js":"fire-js",[Gse]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=new Map,UA=new Map;function Qse(e,t){try{e.container.addComponent(t)}catch(o){Vl.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,o)}}function Ul(e){const t=e.name;if(UA.has(t))return Vl.debug(`There were multiple attempts to register component ${t}.`),!1;UA.set(t,e);for(const o of xb.values())Qse(o,e);return!0}function x0(e,t){const o=e.container.getProvider("heartbeat").getImmediate({optional:!0});return o&&o.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zse={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Aa=new Sf("app","Firebase",Zse);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jse{constructor(t,o,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},o),this._name=o.name,this._automaticDataCollectionEnabled=o.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=Kse;function TF(e,t={}){let o=e;typeof t!="object"&&(t={name:t});const s=Object.assign({name:VA,automaticDataCollectionEnabled:!1},t),c=s.name;if(typeof c!="string"||!c)throw Aa.create("bad-app-name",{appName:String(c)});if(o||(o=CF()),!o)throw Aa.create("no-options");const u=xb.get(c);if(u){if(Ab(o,u.options)&&Ab(s,u.config))return u;throw Aa.create("duplicate-app",{appName:c})}const p=new sse(c);for(const g of UA.values())p.addComponent(g);const m=new Jse(o,s,p);return xb.set(c,m),m}function Ux(e=VA){const t=xb.get(e);if(!t&&e===VA&&CF())return TF();if(!t)throw Aa.create("no-app",{appName:e});return t}function Fi(e,t,o){var s;let c=(s=Yse[e])!==null&&s!==void 0?s:e;o&&(c+=`-${o}`);const u=c.match(/\s|\//),p=t.match(/\s|\//);if(u||p){const m=[`Unable to register library "${c}" with version "${t}":`];u&&m.push(`library name "${c}" contains illegal characters (whitespace or "/")`),u&&p&&m.push("and"),p&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Vl.warn(m.join(" "));return}Ul(new Ia(`${c}-version`,()=>({library:c,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xse="firebase-heartbeat-database",eae=1,Up="firebase-heartbeat-store";let iC=null;function IF(){return iC||(iC=vse(Xse,eae,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Up)}}}).catch(e=>{throw Aa.create("idb-open",{originalErrorMessage:e.message})})),iC}async function tae(e){try{return await(await IF()).transaction(Up).objectStore(Up).get(DF(e))}catch(t){if(t instanceof Qi)Vl.warn(t.message);else{const o=Aa.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Vl.warn(o.message)}}}async function EB(e,t){try{const s=(await IF()).transaction(Up,"readwrite");await s.objectStore(Up).put(t,DF(e)),await s.done}catch(o){if(o instanceof Qi)Vl.warn(o.message);else{const s=Aa.create("idb-set",{originalErrorMessage:o==null?void 0:o.message});Vl.warn(s.message)}}}function DF(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nae=1024,oae=30*24*60*60*1e3;class rae{constructor(t){this.container=t,this._heartbeatsCache=null;const o=this.container.getProvider("app").getImmediate();this._storage=new sae(o),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=SB();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(c=>c.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const u=new Date(c.date).valueOf();return Date.now()-u<=oae}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=SB(),{heartbeatsToSend:o,unsentEntries:s}=iae(this._heartbeatsCache.heartbeats),c=Cb(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}}function SB(){return new Date().toISOString().substring(0,10)}function iae(e,t=nae){const o=[];let s=e.slice();for(const c of e){const u=o.find(p=>p.agent===c.agent);if(u){if(u.dates.push(c.date),TB(o)>t){u.dates.pop();break}}else if(o.push({agent:c.agent,dates:[c.date]}),TB(o)>t){o.pop();break}s=s.slice(1)}return{heartbeatsToSend:o,unsentEntries:s}}class sae{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kie()?Yie().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await tae(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var o;if(await this._canUseIndexedDBPromise){const c=await this.read();return EB(this.app,{lastSentHeartbeatDate:(o=t.lastSentHeartbeatDate)!==null&&o!==void 0?o:c.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var o;if(await this._canUseIndexedDBPromise){const c=await this.read();return EB(this.app,{lastSentHeartbeatDate:(o=t.lastSentHeartbeatDate)!==null&&o!==void 0?o:c.lastSentHeartbeatDate,heartbeats:[...c.heartbeats,...t.heartbeats]})}else return}}function TB(e){return Cb(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aae(e){Ul(new Ia("platform-logger",t=>new _se(t),"PRIVATE")),Ul(new Ia("heartbeat",t=>new rae(t),"PRIVATE")),Fi($A,xB,e),Fi($A,xB,"esm2017"),Fi("fire-js","")}aae("");function Hx(e,t){var o={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(o[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,s=Object.getOwnPropertySymbols(e);c<s.length;c++)t.indexOf(s[c])<0&&Object.prototype.propertyIsEnumerable.call(e,s[c])&&(o[s[c]]=e[s[c]]);return o}function MF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lae=MF,PF=new Sf("auth","Firebase",MF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new $x("@firebase/auth");function cae(e,...t){Eb.logLevel<=Tt.WARN&&Eb.warn(`Auth (${nc}): ${e}`,...t)}function Nk(e,...t){Eb.logLevel<=Tt.ERROR&&Eb.error(`Auth (${nc}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(e,...t){throw Wx(e,...t)}function $i(e,...t){return Wx(e,...t)}function NF(e,t,o){const s=Object.assign(Object.assign({},lae()),{[t]:o});return new Sf("auth","Firebase",s).create(t,{appName:e.name})}function dae(e,t,o){const s=o;if(!(t instanceof s))throw s.name!==t.constructor.name&&qi(e,"argument-error"),NF(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wx(e,...t){if(typeof e!="string"){const o=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(o,...s)}return PF.create(e,...t)}function st(e,t,...o){if(!e)throw Wx(t,...o)}function bs(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Nk(t),new Error(t)}function Ts(e,t){e||bs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function uae(){return IB()==="http:"||IB()==="https:"}function IB(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hae(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uae()||Wie()||"connection"in navigator)?navigator.onLine:!0}function pae(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(t,o){this.shortDelay=t,this.longDelay=o,Ts(o>t,"Short delay should be less than long delay!"),this.isMobile=Uie()||qie()}get(){return hae()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(e,t){Ts(e.emulator,"Emulator should always be set here");const{url:o}=e.emulator;return t?`${o}${t.startsWith("/")?t.slice(1):t}`:o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{static initialize(t,o,s){this.fetchImpl=t,o&&(this.headersImpl=o),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gae=new If(3e4,6e4);function OF(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Df(e,t,o,s,c={}){return BF(e,c,async()=>{let u={},p={};s&&(t==="GET"?p=s:u={body:JSON.stringify(s)});const m=Tf(Object.assign({key:e.config.apiKey},p)).slice(1),g=await e._getAdditionalHeaders();return g["Content-Type"]="application/json",e.languageCode&&(g["X-Firebase-Locale"]=e.languageCode),RF.fetch()(LF(e,e.config.apiHost,o,m),Object.assign({method:t,headers:g,referrerPolicy:"no-referrer"},u))})}async function BF(e,t,o){e._canInitEmulator=!1;const s=Object.assign(Object.assign({},fae),t);try{const c=new kae(e),u=await Promise.race([o(),c.promise]);c.clearNetworkTimeout();const p=await u.json();if("needConfirmation"in p)throw ek(e,"account-exists-with-different-credential",p);if(u.ok&&!("errorMessage"in p))return p;{const m=u.ok?p.errorMessage:p.error.message,[g,v]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ek(e,"credential-already-in-use",p);if(g==="EMAIL_EXISTS")throw ek(e,"email-already-in-use",p);if(g==="USER_DISABLED")throw ek(e,"user-disabled",p);const _=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw NF(e,_,v);qi(e,_)}}catch(c){if(c instanceof Qi)throw c;qi(e,"network-request-failed",{message:String(c)})}}async function mae(e,t,o,s,c={}){const u=await Df(e,t,o,s,c);return"mfaPendingCredential"in u&&qi(e,"multi-factor-auth-required",{_serverResponse:u}),u}function LF(e,t,o,s){const c=`${t}${o}?${s}`;return e.config.emulator?qx(e.config,c):`${e.config.apiScheme}://${c}`}class kae{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((o,s)=>{this.timer=setTimeout(()=>s($i(this.auth,"network-request-failed")),gae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ek(e,t,o){const s={appName:e.name};o.email&&(s.email=o.email),o.phoneNumber&&(s.phoneNumber=o.phoneNumber);const c=$i(e,t,s);return c.customData._tokenResponse=o,c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bae(e,t){return Df(e,"POST","/v1/accounts:delete",t)}async function vae(e,t){return Df(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function wae(e,t=!1){const o=an(e),s=await o.getIdToken(t),c=Gx(s);st(c&&c.exp&&c.auth_time&&c.iat,o.auth,"internal-error");const u=typeof c.firebase=="object"?c.firebase:void 0,p=u==null?void 0:u.sign_in_provider;return{claims:c,token:s,authTime:lp(sC(c.auth_time)),issuedAtTime:lp(sC(c.iat)),expirationTime:lp(sC(c.exp)),signInProvider:p||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function sC(e){return Number(e)*1e3}function Gx(e){const[t,o,s]=e.split(".");if(t===void 0||o===void 0||s===void 0)return Nk("JWT malformed, contained fewer than 3 sections"),null;try{const c=wF(o);return c?JSON.parse(c):(Nk("Failed to decode base64 JWT payload"),null)}catch(c){return Nk("Caught error parsing JWT payload as JSON",c==null?void 0:c.toString()),null}}function yae(e){const t=Gx(e);return st(t,"internal-error"),st(typeof t.exp<"u","internal-error"),st(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hp(e,t,o=!1){if(o)return t;try{return await t}catch(s){throw s instanceof Qi&&_ae(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function _ae({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cae{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var o;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const c=((o=this.user.stsTokenManager.expirationTime)!==null&&o!==void 0?o:0)-Date.now()-3e5;return Math.max(0,c)}}schedule(t=!1){if(!this.isRunning)return;const o=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},o)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(t,o){this.createdAt=t,this.lastLoginAt=o,this._initializeTime()}_initializeTime(){this.lastSignInTime=lp(this.lastLoginAt),this.creationTime=lp(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sb(e){var t;const o=e.auth,s=await e.getIdToken(),c=await Hp(e,vae(o,{idToken:s}));st(c==null?void 0:c.users.length,o,"internal-error");const u=c.users[0];e._notifyReloadListener(u);const p=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?Eae(u.providerUserInfo):[],m=xae(e.providerData,p),g=e.isAnonymous,v=!(e.email&&u.passwordHash)&&!(m!=null&&m.length),_=g?v:!1,C={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new jF(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(e,C)}async function Aae(e){const t=an(e);await Sb(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function xae(e,t){return[...e.filter(s=>!t.some(c=>c.providerId===s.providerId)),...t]}function Eae(e){return e.map(t=>{var{providerId:o}=t,s=Hx(t,["providerId"]);return{providerId:o,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sae(e,t){const o=await BF(e,{},async()=>{const s=Tf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:c,apiKey:u}=e.config,p=LF(e,c,"/v1/token",`key=${u}`),m=await e._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",RF.fetch()(p,{method:"POST",headers:m,body:s})});return{accessToken:o.access_token,expiresIn:o.expires_in,refreshToken:o.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){st(t.idToken,"internal-error"),st(typeof t.idToken<"u","internal-error"),st(typeof t.refreshToken<"u","internal-error");const o="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):yae(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,o)}async getToken(t,o=!1){return st(!this.accessToken||this.refreshToken,t,"user-token-expired"),!o&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,o){const{accessToken:s,refreshToken:c,expiresIn:u}=await Sae(t,o);this.updateTokensAndExpiration(s,c,Number(u))}updateTokensAndExpiration(t,o,s){this.refreshToken=o||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,o){const{refreshToken:s,accessToken:c,expirationTime:u}=o,p=new Wp;return s&&(st(typeof s=="string","internal-error",{appName:t}),p.refreshToken=s),c&&(st(typeof c=="string","internal-error",{appName:t}),p.accessToken=c),u&&(st(typeof u=="number","internal-error",{appName:t}),p.expirationTime=u),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Wp,this.toJSON())}_performRefresh(){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(e,t){st(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Nl{constructor(t){var{uid:o,auth:s,stsTokenManager:c}=t,u=Hx(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=o,this.auth=s,this.stsTokenManager=c,this.accessToken=c.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new jF(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const o=await Hp(this,this.stsTokenManager.getToken(this.auth,t));return st(o,this.auth,"internal-error"),this.accessToken!==o&&(this.accessToken=o,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),o}getIdTokenResult(t){return wae(this,t)}reload(){return Aae(this)}_assign(t){this!==t&&(st(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(o=>Object.assign({},o)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const o=new Nl(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return o.metadata._copy(this.metadata),o}_onReload(t){st(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,o=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),o&&await Sb(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Hp(this,bae(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,o){var s,c,u,p,m,g,v,_;const C=(s=o.displayName)!==null&&s!==void 0?s:void 0,y=(c=o.email)!==null&&c!==void 0?c:void 0,x=(u=o.phoneNumber)!==null&&u!==void 0?u:void 0,S=(p=o.photoURL)!==null&&p!==void 0?p:void 0,T=(m=o.tenantId)!==null&&m!==void 0?m:void 0,P=(g=o._redirectEventId)!==null&&g!==void 0?g:void 0,D=(v=o.createdAt)!==null&&v!==void 0?v:void 0,R=(_=o.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:B,emailVerified:j,isAnonymous:V,providerData:H,stsTokenManager:M}=o;st(B&&M,t,"internal-error");const U=Wp.fromJSON(this.name,M);st(typeof B=="string",t,"internal-error"),Ys(C,t.name),Ys(y,t.name),st(typeof j=="boolean",t,"internal-error"),st(typeof V=="boolean",t,"internal-error"),Ys(x,t.name),Ys(S,t.name),Ys(T,t.name),Ys(P,t.name),Ys(D,t.name),Ys(R,t.name);const G=new Nl({uid:B,auth:t,email:y,emailVerified:j,displayName:C,isAnonymous:V,photoURL:S,phoneNumber:x,tenantId:T,stsTokenManager:U,createdAt:D,lastLoginAt:R});return H&&Array.isArray(H)&&(G.providerData=H.map(K=>Object.assign({},K))),P&&(G._redirectEventId=P),G}static async _fromIdTokenResponse(t,o,s=!1){const c=new Wp;c.updateFromServerResponse(o);const u=new Nl({uid:o.localId,auth:t,stsTokenManager:c,isAnonymous:s});return await Sb(u),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB=new Map;function vs(e){Ts(e instanceof Function,"Expected a class definition");let t=DB.get(e);return t?(Ts(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,DB.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,o){this.storage[t]=o}async _get(t){const o=this.storage[t];return o===void 0?null:o}async _remove(t){delete this.storage[t]}_addListener(t,o){}_removeListener(t,o){}}zF.type="NONE";const MB=zF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(e,t,o){return`firebase:${e}:${t}:${o}`}class yd{constructor(t,o,s){this.persistence=t,this.auth=o,this.userKey=s;const{config:c,name:u}=this.auth;this.fullUserKey=Rk(this.userKey,c.apiKey,u),this.fullPersistenceKey=Rk("persistence",c.apiKey,u),this.boundEventHandler=o._onStorageEvent.bind(o),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Nl._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const o=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,o)return this.setCurrentUser(o)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,o,s="authUser"){if(!o.length)return new yd(vs(MB),t,s);const c=(await Promise.all(o.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=c[0]||vs(MB);const p=Rk(s,t.config.apiKey,t.name);let m=null;for(const v of o)try{const _=await v._get(p);if(_){const C=Nl._fromJSON(t,_);v!==u&&(m=C),u=v;break}}catch{}const g=c.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new yd(u,t,s):(u=g[0],m&&await u._set(p,m.toJSON()),await Promise.all(o.map(async v=>{if(v!==u)try{await v._remove(p)}catch{}})),new yd(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PB(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(VF(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(FF(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(HF(t))return"Blackberry";if(WF(t))return"Webos";if(Kx(t))return"Safari";if((t.includes("chrome/")||$F(t))&&!t.includes("edge/"))return"Chrome";if(UF(t))return"Android";{const o=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(o);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function FF(e=Eo()){return/firefox\//i.test(e)}function Kx(e=Eo()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function $F(e=Eo()){return/crios\//i.test(e)}function VF(e=Eo()){return/iemobile/i.test(e)}function UF(e=Eo()){return/android/i.test(e)}function HF(e=Eo()){return/blackberry/i.test(e)}function WF(e=Eo()){return/webos/i.test(e)}function E0(e=Eo()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Tae(e=Eo()){var t;return E0(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Iae(){return Gie()&&document.documentMode===10}function qF(e=Eo()){return E0(e)||UF(e)||WF(e)||HF(e)||/windows phone/i.test(e)||VF(e)}function Dae(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GF(e,t=[]){let o;switch(e){case"Browser":o=PB(Eo());break;case"Worker":o=`${PB(Eo())}-${e}`;break;default:o=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${o}/JsCore/${nc}/${s}`}async function KF(e,t){return Df(e,"GET","/v2/recaptchaConfig",OF(e,t))}function NB(e){return e!==void 0&&e.enterprise!==void 0}class YF{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(o=>o.provider==="EMAIL_PASSWORD_PROVIDER"&&o.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mae(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function QF(e){return new Promise((t,o)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=c=>{const u=$i("internal-error");u.customData=c,o(u)},s.type="text/javascript",s.charset="UTF-8",Mae().appendChild(s)})}function Pae(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const Nae="https://www.google.com/recaptcha/enterprise.js?render=",Rae="recaptcha-enterprise",Oae="NO_RECAPTCHA";class Bae{constructor(t){this.type=Rae,this.auth=Mf(t)}async verify(t="verify",o=!1){async function s(u){if(!o){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(p,m)=>{KF(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const v=new YF(g);return u.tenantId==null?u._agentRecaptchaConfig=v:u._tenantRecaptchaConfigs[u.tenantId]=v,p(v.siteKey)}}).catch(g=>{m(g)})})}function c(u,p,m){const g=window.grecaptcha;NB(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(v=>{p(v)}).catch(()=>{p(Oae)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((u,p)=>{s(this.auth).then(m=>{if(!o&&NB(window.grecaptcha))c(m,u,p);else{if(typeof window>"u"){p(new Error("RecaptchaVerifier is only supported in browser"));return}QF(Nae+m).then(()=>{c(m,u,p)}).catch(g=>{p(g)})}}).catch(m=>{p(m)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lae{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,o){const s=u=>new Promise((p,m)=>{try{const g=t(u);p(g)}catch(g){m(g)}});s.onAbort=o,this.queue.push(s);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const o=[];try{for(const s of this.queue)await s(t),s.onAbort&&o.push(s.onAbort)}catch(s){o.reverse();for(const c of o)try{c()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jae{constructor(t,o,s,c){this.app=t,this.heartbeatServiceProvider=o,this.appCheckServiceProvider=s,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RB(this),this.idTokenSubscription=new RB(this),this.beforeStateQueue=new Lae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=c.sdkClientVersion}_initializeWithPersistence(t,o){return o&&(this._popupRedirectResolver=vs(o)),this._initializationPromise=this.queue(async()=>{var s,c;if(!this._deleted&&(this.persistenceManager=await yd.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(o),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var o;const s=await this.assertedPersistence.getCurrentUser();let c=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const p=(o=this.redirectUser)===null||o===void 0?void 0:o._redirectEventId,m=c==null?void 0:c._redirectEventId,g=await this.tryRedirectSignIn(t);(!p||p===m)&&(g!=null&&g.user)&&(c=g.user,u=!0)}if(!c)return this.directlySetCurrentUser(null);if(!c._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(c)}catch(p){c=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(p))}return c?this.reloadAndSetCurrentUserOrClear(c):this.directlySetCurrentUser(null)}return st(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===c._redirectEventId?this.directlySetCurrentUser(c):this.reloadAndSetCurrentUserOrClear(c)}async tryRedirectSignIn(t){let o=null;try{o=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return o}async reloadAndSetCurrentUserOrClear(t){try{await Sb(t)}catch(o){if((o==null?void 0:o.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=pae()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const o=t?an(t):null;return o&&st(o.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(o&&o._clone(this))}async _updateCurrentUser(t,o=!1){if(!this._deleted)return t&&st(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),o||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(t))})}async initializeRecaptchaConfig(){const t=await KF(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),o=new YF(t);this.tenantId==null?this._agentRecaptchaConfig=o:this._tenantRecaptchaConfigs[this.tenantId]=o,o.emailPasswordEnabled&&new Bae(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Sf("auth","Firebase",t())}onAuthStateChanged(t,o,s){return this.registerStateListener(this.authStateSubscription,t,o,s)}beforeAuthStateChanged(t,o){return this.beforeStateQueue.pushCallback(t,o)}onIdTokenChanged(t,o,s){return this.registerStateListener(this.idTokenSubscription,t,o,s)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,o){const s=await this.getOrInitRedirectPersistenceManager(o);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const o=t&&vs(t)||this._popupRedirectResolver;st(o,this,"argument-error"),this.redirectPersistenceManager=await yd.create(this,[vs(o._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var o,s;return this._isInitialized&&await this.queue(async()=>{}),((o=this._currentUser)===null||o===void 0?void 0:o._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,o;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(o=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&o!==void 0?o:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,o,s,c){if(this._deleted)return()=>{};const u=typeof o=="function"?o:o.next.bind(o),p=this._isInitialized?Promise.resolve():this._initializationPromise;return st(p,this,"internal-error"),p.then(()=>u(this.currentUser)),typeof o=="function"?t.addObserver(o,s,c):t.addObserver(o)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return st(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=GF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const o={"X-Client-Version":this.clientVersion};this.app.options.appId&&(o["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(o["X-Firebase-Client"]=s);const c=await this._getAppCheckToken();return c&&(o["X-Firebase-AppCheck"]=c),o}async _getAppCheckToken(){var t;const o=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return o!=null&&o.error&&cae(`Error while retrieving App Check token: ${o.error}`),o==null?void 0:o.token}}function Mf(e){return an(e)}class RB{constructor(t){this.auth=t,this.observer=null,this.addObserver=ese(o=>this.observer=o)}get next(){return st(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zae(e,t){const o=x0(e,"auth");if(o.isInitialized()){const c=o.getImmediate(),u=o.getOptions();if(Ab(u,t??{}))return c;qi(c,"already-initialized")}return o.initialize({options:t})}function Fae(e,t){const o=(t==null?void 0:t.persistence)||[],s=(Array.isArray(o)?o:[o]).map(vs);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function $ae(e,t,o){const s=Mf(e);st(s._canInitEmulator,s,"emulator-config-failed"),st(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const c=!1,u=ZF(t),{host:p,port:m}=Vae(t),g=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${p}${g}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:p,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:c})}),Uae()}function ZF(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Vae(e){const t=ZF(e),o=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!o)return{host:"",port:null};const s=o[2].split("@").pop()||"",c=/^(\[[^\]]+\])(:|$)/.exec(s);if(c){const u=c[1];return{host:u,port:OB(s.substr(u.length+1))}}else{const[u,p]=s.split(":");return{host:u,port:OB(p)}}}function OB(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Uae(){function e(){const t=document.createElement("p"),o=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",o.position="fixed",o.width="100%",o.backgroundColor="#ffffff",o.border=".1em solid #000000",o.color="#b50000",o.bottom="0px",o.left="0px",o.margin="0px",o.zIndex="10000",o.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(t,o){this.providerId=t,this.signInMethod=o}toJSON(){return bs("not implemented")}_getIdTokenResponse(t){return bs("not implemented")}_linkToIdToken(t,o){return bs("not implemented")}_getReauthenticationResolver(t){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _d(e,t){return mae(e,"POST","/v1/accounts:signInWithIdp",OF(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hae="http://localhost";class Hl extends JF{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const o=new Hl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(o.idToken=t.idToken),t.accessToken&&(o.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(o.nonce=t.nonce),t.pendingToken&&(o.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(o.accessToken=t.oauthToken,o.secret=t.oauthTokenSecret):qi("argument-error"),o}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const o=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:c}=o,u=Hx(o,["providerId","signInMethod"]);if(!s||!c)return null;const p=new Hl(s,c);return p.idToken=u.idToken||void 0,p.accessToken=u.accessToken||void 0,p.secret=u.secret,p.nonce=u.nonce,p.pendingToken=u.pendingToken||null,p}_getIdTokenResponse(t){const o=this.buildRequest();return _d(t,o)}_linkToIdToken(t,o){const s=this.buildRequest();return s.idToken=o,_d(t,s)}_getReauthenticationResolver(t){const o=this.buildRequest();return o.autoCreate=!1,_d(t,o)}buildRequest(){const t={requestUri:Hae,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const o={};this.idToken&&(o.id_token=this.idToken),this.accessToken&&(o.access_token=this.accessToken),this.secret&&(o.oauth_token_secret=this.secret),o.providerId=this.providerId,this.nonce&&!this.pendingToken&&(o.nonce=this.nonce),t.postBody=Tf(o)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf extends Yx{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends Pf{constructor(){super("facebook.com")}static credential(t){return Hl._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ra.credentialFromTaggedObject(t)}static credentialFromError(t){return ra.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ra.credential(t.oauthAccessToken)}catch{return null}}}ra.FACEBOOK_SIGN_IN_METHOD="facebook.com";ra.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends Pf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,o){return Hl._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:o})}static credentialFromResult(t){return ia.credentialFromTaggedObject(t)}static credentialFromError(t){return ia.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:o,oauthAccessToken:s}=t;if(!o&&!s)return null;try{return ia.credential(o,s)}catch{return null}}}ia.GOOGLE_SIGN_IN_METHOD="google.com";ia.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends Pf{constructor(){super("github.com")}static credential(t){return Hl._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return sa.credentialFromTaggedObject(t)}static credentialFromError(t){return sa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return sa.credential(t.oauthAccessToken)}catch{return null}}}sa.GITHUB_SIGN_IN_METHOD="github.com";sa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends Pf{constructor(){super("twitter.com")}static credential(t,o){return Hl._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:o})}static credentialFromResult(t){return aa.credentialFromTaggedObject(t)}static credentialFromError(t){return aa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:o,oauthTokenSecret:s}=t;if(!o||!s)return null;try{return aa.credential(o,s)}catch{return null}}}aa.TWITTER_SIGN_IN_METHOD="twitter.com";aa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,o,s,c=!1){const u=await Nl._fromIdTokenResponse(t,s,c),p=BB(s);return new jd({user:u,providerId:p,_tokenResponse:s,operationType:o})}static async _forOperation(t,o,s){await t._updateTokensIfNecessary(s,!0);const c=BB(s);return new jd({user:t,providerId:c,_tokenResponse:s,operationType:o})}}function BB(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb extends Qi{constructor(t,o,s,c){var u;super(o.code,o.message),this.operationType=s,this.user=c,Object.setPrototypeOf(this,Tb.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:o.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,o,s,c){return new Tb(t,o,s,c)}}function XF(e,t,o,s){return(t==="reauthenticate"?o._getReauthenticationResolver(e):o._getIdTokenResponse(e)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Tb._fromErrorAndOperation(e,u,t,s):u})}async function Wae(e,t,o=!1){const s=await Hp(e,t._linkToIdToken(e.auth,await e.getIdToken()),o);return jd._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qae(e,t,o=!1){const{auth:s}=e,c="reauthenticate";try{const u=await Hp(e,XF(s,c,t,e),o);st(u.idToken,s,"internal-error");const p=Gx(u.idToken);st(p,s,"internal-error");const{sub:m}=p;return st(e.uid===m,s,"user-mismatch"),jd._forOperation(e,c,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&qi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gae(e,t,o=!1){const s="signIn",c=await XF(e,s,t),u=await jd._fromIdTokenResponse(e,s,c);return o||await e._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GTe(e,t){return an(e).setPersistence(t)}function Kae(e,t,o,s){return an(e).onIdTokenChanged(t,o,s)}function Yae(e,t,o){return an(e).beforeAuthStateChanged(t,o)}function Qae(e,t,o,s){return an(e).onAuthStateChanged(t,o,s)}function Zae(e){return an(e).signOut()}const Ib="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(t,o){this.storageRetriever=t,this.type=o}_isAvailable(){try{return this.storage?(this.storage.setItem(Ib,"1"),this.storage.removeItem(Ib),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,o){return this.storage.setItem(t,JSON.stringify(o)),Promise.resolve()}_get(t){const o=this.storage.getItem(t);return Promise.resolve(o?JSON.parse(o):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jae(){const e=Eo();return Kx(e)||E0(e)}const Xae=1e3,ele=10;class t9 extends e9{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,o)=>this.onStorageEvent(t,o),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Jae()&&Dae(),this.fallbackToPolling=qF(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const o of Object.keys(this.listeners)){const s=this.storage.getItem(o),c=this.localCache[o];s!==c&&t(o,c,s)}}onStorageEvent(t,o=!1){if(!t.key){this.forAllChangedKeys((p,m,g)=>{this.notifyListeners(p,g)});return}const s=t.key;if(o?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const p=this.storage.getItem(s);if(t.newValue!==p)t.newValue!==null?this.storage.setItem(s,t.newValue):this.storage.removeItem(s);else if(this.localCache[s]===t.newValue&&!o)return}const c=()=>{const p=this.storage.getItem(s);!o&&this.localCache[s]===p||this.notifyListeners(s,p)},u=this.storage.getItem(s);Iae()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(c,ele):c()}notifyListeners(t,o){this.localCache[t]=o;const s=this.listeners[t];if(s)for(const c of Array.from(s))c(o&&JSON.parse(o))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,o,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:o,newValue:s}),!0)})},Xae)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,o){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(o)}_removeListener(t,o){this.listeners[t]&&(this.listeners[t].delete(o),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,o){await super._set(t,o),this.localCache[t]=JSON.stringify(o)}async _get(t){const o=await super._get(t);return this.localCache[t]=JSON.stringify(o),o}async _remove(t){await super._remove(t),delete this.localCache[t]}}t9.type="LOCAL";const tle=t9;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9 extends e9{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,o){}_removeListener(t,o){}}n9.type="SESSION";const o9=n9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nle(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(o){return{fulfilled:!1,reason:o}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const o=this.receivers.find(c=>c.isListeningto(t));if(o)return o;const s=new S0(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const o=t,{eventId:s,eventType:c,data:u}=o.data,p=this.handlersMap[c];if(!(p!=null&&p.size))return;o.ports[0].postMessage({status:"ack",eventId:s,eventType:c});const m=Array.from(p).map(async v=>v(o.origin,u)),g=await nle(m);o.ports[0].postMessage({status:"done",eventId:s,eventType:c,response:g})}_subscribe(t,o){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(o)}_unsubscribe(t,o){this.handlersMap[t]&&o&&this.handlersMap[t].delete(o),(!o||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}S0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(e="",t=10){let o="";for(let s=0;s<t;s++)o+=Math.floor(Math.random()*10);return e+o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ole{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,o,s=50){const c=typeof MessageChannel<"u"?new MessageChannel:null;if(!c)throw new Error("connection_unavailable");let u,p;return new Promise((m,g)=>{const v=Qx("",20);c.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},s);p={messageChannel:c,onMessage(C){const y=C;if(y.data.eventId===v)switch(y.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(y.data.response);break;default:clearTimeout(_),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(p),c.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:t,eventId:v,data:o},[c.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(){return window}function rle(e){Vi().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function ile(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sle(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function ale(){return r9()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9="firebaseLocalStorageDb",lle=1,Db="firebaseLocalStorage",s9="fbase_key";class Nf{constructor(t){this.request=t}toPromise(){return new Promise((t,o)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{o(this.request.error)})})}}function T0(e,t){return e.transaction([Db],t?"readwrite":"readonly").objectStore(Db)}function cle(){const e=indexedDB.deleteDatabase(i9);return new Nf(e).toPromise()}function WA(){const e=indexedDB.open(i9,lle);return new Promise((t,o)=>{e.addEventListener("error",()=>{o(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(Db,{keyPath:s9})}catch(c){o(c)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(Db)?t(s):(s.close(),await cle(),t(await WA()))})})}async function LB(e,t,o){const s=T0(e,!0).put({[s9]:t,value:o});return new Nf(s).toPromise()}async function dle(e,t){const o=T0(e,!1).get(t),s=await new Nf(o).toPromise();return s===void 0?null:s.value}function jB(e,t){const o=T0(e,!0).delete(t);return new Nf(o).toPromise()}const ule=800,hle=3;class a9{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await WA(),this.db)}async _withRetries(t){let o=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(o++>hle)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r9()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=S0._getInstance(ale()),this.receiver._subscribe("keyChanged",async(t,o)=>({keyProcessed:(await this._poll()).includes(o.key)})),this.receiver._subscribe("ping",async(t,o)=>["keyChanged"])}async initializeSender(){var t,o;if(this.activeServiceWorker=await ile(),!this.activeServiceWorker)return;this.sender=new ole(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((o=s[0])===null||o===void 0)&&o.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||sle()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await WA();return await LB(t,Ib,"1"),await jB(t,Ib),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,o){return this._withPendingWrite(async()=>(await this._withRetries(s=>LB(s,t,o)),this.localCache[t]=o,this.notifyServiceWorker(t)))}async _get(t){const o=await this._withRetries(s=>dle(s,t));return this.localCache[t]=o,o}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(o=>jB(o,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(c=>{const u=T0(c,!1).getAll();return new Nf(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const o=[],s=new Set;for(const{fbase_key:c,value:u}of t)s.add(c),JSON.stringify(this.localCache[c])!==JSON.stringify(u)&&(this.notifyListeners(c,u),o.push(c));for(const c of Object.keys(this.localCache))this.localCache[c]&&!s.has(c)&&(this.notifyListeners(c,null),o.push(c));return o}notifyListeners(t,o){this.localCache[t]=o;const s=this.listeners[t];if(s)for(const c of Array.from(s))c(o)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ule)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,o){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(o)}_removeListener(t,o){this.listeners[t]&&(this.listeners[t].delete(o),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a9.type="LOCAL";const ple=a9;new If(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(e,t){return t?vs(t):(st(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx extends JF{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return _d(t,this._buildIdpRequest())}_linkToIdToken(t,o){return _d(t,this._buildIdpRequest(o))}_getReauthenticationResolver(t){return _d(t,this._buildIdpRequest())}_buildIdpRequest(t){const o={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(o.idToken=t),o}}function fle(e){return Gae(e.auth,new Zx(e),e.bypassAuthState)}function gle(e){const{auth:t,user:o}=e;return st(o,t,"internal-error"),qae(o,new Zx(e),e.bypassAuthState)}async function mle(e){const{auth:t,user:o}=e;return st(o,t,"internal-error"),Wae(o,new Zx(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(t,o,s,c,u=!1){this.auth=t,this.resolver=s,this.user=c,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(o)?o:[o]}execute(){return new Promise(async(t,o)=>{this.pendingPromise={resolve:t,reject:o};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:o,sessionId:s,postBody:c,tenantId:u,error:p,type:m}=t;if(p){this.reject(p);return}const g={auth:this.auth,requestUri:o,sessionId:s,tenantId:u||void 0,postBody:c||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return fle;case"linkViaPopup":case"linkViaRedirect":return mle;case"reauthViaPopup":case"reauthViaRedirect":return gle;default:qi(this.auth,"internal-error")}}resolve(t){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kle=new If(2e3,1e4);async function KTe(e,t,o){const s=Mf(e);dae(e,t,Yx);const c=l9(s,o);return new Al(s,"signInViaPopup",t,c).executeNotNull()}class Al extends c9{constructor(t,o,s,c,u){super(t,o,c,u),this.provider=s,this.authWindow=null,this.pollId=null,Al.currentPopupAction&&Al.currentPopupAction.cancel(),Al.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return st(t,this.auth,"internal-error"),t}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const t=Qx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(o=>{this.reject(o)}),this.resolver._isIframeWebStorageSupported(this.auth,o=>{o||this.reject($i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject($i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Al.currentPopupAction=null}pollUserCancellation(){const t=()=>{var o,s;if(!((s=(o=this.authWindow)===null||o===void 0?void 0:o.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,kle.get())};t()}}Al.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ble="pendingRedirect",Ok=new Map;class vle extends c9{constructor(t,o,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],o,void 0,s),this.eventId=null}async execute(){let t=Ok.get(this.auth._key());if(!t){try{const s=await wle(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(o){t=()=>Promise.reject(o)}Ok.set(this.auth._key(),t)}return this.bypassAuthState||Ok.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const o=await this.auth._redirectUserForId(t.eventId);if(o)return this.user=o,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wle(e,t){const o=Cle(t),s=_le(e);if(!await s._isAvailable())return!1;const c=await s._get(o)==="true";return await s._remove(o),c}function yle(e,t){Ok.set(e._key(),t)}function _le(e){return vs(e._redirectPersistence)}function Cle(e){return Rk(ble,e.config.apiKey,e.name)}async function Ale(e,t,o=!1){const s=Mf(e),c=l9(s,t),p=await new vle(s,c,o).execute();return p&&!o&&(delete p.user._redirectEventId,await s._persistUserIfCurrent(p.user),await s._setRedirectUser(null,t)),p}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xle=10*60*1e3;class Ele{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let o=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(o=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Sle(t)||(this.hasHandledPotentialRedirect=!0,o||(this.queuedRedirectEvent=t,o=!0)),o}sendToConsumer(t,o){var s;if(t.error&&!d9(t)){const c=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";o.onError($i(this.auth,c))}else o.onAuthEvent(t)}isEventForConsumer(t,o){const s=o.eventId===null||!!t.eventId&&t.eventId===o.eventId;return o.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=xle&&this.cachedEventUids.clear(),this.cachedEventUids.has(zB(t))}saveEventToCache(t){this.cachedEventUids.add(zB(t)),this.lastProcessedEventTime=Date.now()}}function zB(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function d9({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Sle(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d9(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tle(e,t={}){return Df(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ile=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dle=/^https?/;async function Mle(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Tle(e);for(const o of t)try{if(Ple(o))return}catch{}qi(e,"unauthorized-domain")}function Ple(e){const t=HA(),{protocol:o,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const p=new URL(e);return p.hostname===""&&s===""?o==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):o==="chrome-extension:"&&p.hostname===s}if(!Dle.test(o))return!1;if(Ile.test(e))return s===e;const c=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+c+"|"+c+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nle=new If(3e4,6e4);function FB(){const e=Vi().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let o=0;o<e.CP.length;o++)e.CP[o]=null}}function Rle(e){return new Promise((t,o)=>{var s,c,u;function p(){FB(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{FB(),o($i(e,"network-request-failed"))},timeout:Nle.get()})}if(!((c=(s=Vi().gapi)===null||s===void 0?void 0:s.iframes)===null||c===void 0)&&c.Iframe)t(gapi.iframes.getContext());else if(!((u=Vi().gapi)===null||u===void 0)&&u.load)p();else{const m=Pae("iframefcb");return Vi()[m]=()=>{gapi.load?p():o($i(e,"network-request-failed"))},QF(`https://apis.google.com/js/api.js?onload=${m}`).catch(g=>o(g))}}).catch(t=>{throw Bk=null,t})}let Bk=null;function Ole(e){return Bk=Bk||Rle(e),Bk}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ble=new If(5e3,15e3),Lle="__/auth/iframe",jle="emulator/auth/iframe",zle={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fle=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $le(e){const t=e.config;st(t.authDomain,e,"auth-domain-config-required");const o=t.emulator?qx(t,jle):`https://${e.config.authDomain}/${Lle}`,s={apiKey:t.apiKey,appName:e.name,v:nc},c=Fle.get(e.config.apiHost);c&&(s.eid=c);const u=e._getFrameworks();return u.length&&(s.fw=u.join(",")),`${o}?${Tf(s).slice(1)}`}async function Vle(e){const t=await Ole(e),o=Vi().gapi;return st(o,e,"internal-error"),t.open({where:document.body,url:$le(e),messageHandlersFilter:o.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zle,dontclear:!0},s=>new Promise(async(c,u)=>{await s.restyle({setHideOnLeave:!1});const p=$i(e,"network-request-failed"),m=Vi().setTimeout(()=>{u(p)},Ble.get());function g(){Vi().clearTimeout(m),c(s)}s.ping(g).then(g,()=>{u(p)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ule={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Hle=500,Wle=600,qle="_blank",Gle="http://localhost";class $B{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Kle(e,t,o,s=Hle,c=Wle){const u=Math.max((window.screen.availHeight-c)/2,0).toString(),p=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},Ule),{width:s.toString(),height:c.toString(),top:u,left:p}),v=Eo().toLowerCase();o&&(m=$F(v)?qle:o),FF(v)&&(t=t||Gle,g.scrollbars="yes");const _=Object.entries(g).reduce((y,[x,S])=>`${y}${x}=${S},`,"");if(Tae(v)&&m!=="_self")return Yle(t||"",m),new $B(null);const C=window.open(t||"",m,_);st(C,e,"popup-blocked");try{C.focus()}catch{}return new $B(C)}function Yle(e,t){const o=document.createElement("a");o.href=e,o.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),o.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qle="__/auth/handler",Zle="emulator/auth/handler",Jle=encodeURIComponent("fac");async function VB(e,t,o,s,c,u){st(e.config.authDomain,e,"auth-domain-config-required"),st(e.config.apiKey,e,"invalid-api-key");const p={apiKey:e.config.apiKey,appName:e.name,authType:o,redirectUrl:s,v:nc,eventId:c};if(t instanceof Yx){t.setDefaultLanguage(e.languageCode),p.providerId=t.providerId||"",Xie(t.getCustomParameters())||(p.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,C]of Object.entries({}))p[_]=C}if(t instanceof Pf){const _=t.getScopes().filter(C=>C!=="");_.length>0&&(p.scopes=_.join(","))}e.tenantId&&(p.tid=e.tenantId);const m=p;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const g=await e._getAppCheckToken(),v=g?`#${Jle}=${encodeURIComponent(g)}`:"";return`${Xle(e)}?${Tf(m).slice(1)}${v}`}function Xle({config:e}){return e.emulator?qx(e,Zle):`https://${e.authDomain}/${Qle}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="webStorageSupport";class ece{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=o9,this._completeRedirectFn=Ale,this._overrideRedirectResult=yle}async _openPopup(t,o,s,c){var u;Ts((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const p=await VB(t,o,s,HA(),c);return Kle(t,p,Qx())}async _openRedirect(t,o,s,c){await this._originValidation(t);const u=await VB(t,o,s,HA(),c);return rle(u),new Promise(()=>{})}_initialize(t){const o=t._key();if(this.eventManagers[o]){const{manager:c,promise:u}=this.eventManagers[o];return c?Promise.resolve(c):(Ts(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[o]={promise:s},s.catch(()=>{delete this.eventManagers[o]}),s}async initAndGetManager(t){const o=await Vle(t),s=new Ele(t);return o.register("authEvent",c=>(st(c==null?void 0:c.authEvent,t,"invalid-auth-event"),{status:s.onEvent(c.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=o,s}_isIframeWebStorageSupported(t,o){this.iframes[t._key()].send(aC,{type:aC},c=>{var u;const p=(u=c==null?void 0:c[0])===null||u===void 0?void 0:u[aC];p!==void 0&&o(!!p),qi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const o=t._key();return this.originValidationPromises[o]||(this.originValidationPromises[o]=Mle(t)),this.originValidationPromises[o]}get _shouldInitProactively(){return qF()||Kx()||E0()}}const tce=ece;var UB="@firebase/auth",HB="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nce{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const o=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,o),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const o=this.internalListeners.get(t);o&&(this.internalListeners.delete(t),o(),this.updateProactiveRefresh())}assertAuthConfigured(){st(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oce(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function rce(e){Ul(new Ia("auth",(t,{options:o})=>{const s=t.getProvider("app").getImmediate(),c=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:p,authDomain:m}=s.options;st(p&&!p.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:p,authDomain:m,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GF(e)},v=new jae(s,c,u,g);return Fae(v,o),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,o,s)=>{t.getProvider("auth-internal").initialize()})),Ul(new Ia("auth-internal",t=>{const o=Mf(t.getProvider("auth").getImmediate());return(s=>new nce(s))(o)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fi(UB,HB,oce(e)),Fi(UB,HB,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ice=5*60,sce=AF("authIdTokenMaxAge")||ice;let WB=null;const ace=e=>async t=>{const o=t&&await t.getIdTokenResult(),s=o&&(new Date().getTime()-Date.parse(o.issuedAtTime))/1e3;if(s&&s>sce)return;const c=o==null?void 0:o.token;WB!==c&&(WB=c,await fetch(e,{method:c?"POST":"DELETE",headers:c?{Authorization:`Bearer ${c}`}:{}}))};function u9(e=Ux()){const t=x0(e,"auth");if(t.isInitialized())return t.getImmediate();const o=zae(e,{popupRedirectResolver:tce,persistence:[ple,tle,o9]}),s=AF("authTokenSyncURL");if(s){const u=ace(s);Yae(o,u,()=>u(o.currentUser)),Kae(o,p=>u(p))}const c=yF("auth");return c&&$ae(o,`http://${c}`),o}rce("Browser");var lce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ae,Jx=Jx||{},nt=lce||self;function I0(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function D0(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function cce(e){return Object.prototype.hasOwnProperty.call(e,lC)&&e[lC]||(e[lC]=++dce)}var lC="closure_uid_"+(1e9*Math.random()>>>0),dce=0;function uce(e,t,o){return e.call.apply(e.bind,arguments)}function hce(e,t,o){if(!e)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,s),e.apply(t,c)}}return function(){return e.apply(t,arguments)}}function yo(e,t,o){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?yo=uce:yo=hce,yo.apply(null,arguments)}function tk(e,t){var o=Array.prototype.slice.call(arguments,1);return function(){var s=o.slice();return s.push.apply(s,arguments),e.apply(this,s)}}function eo(e,t){function o(){}o.prototype=t.prototype,e.$=t.prototype,e.prototype=new o,e.prototype.constructor=e,e.ac=function(s,c,u){for(var p=Array(arguments.length-2),m=2;m<arguments.length;m++)p[m-2]=arguments[m];return t.prototype[c].apply(s,p)}}function Fa(){this.s=this.s,this.o=this.o}var pce=0;Fa.prototype.s=!1;Fa.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),pce!=0)&&cce(this)};Fa.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const h9=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let o=0;o<e.length;o++)if(o in e&&e[o]===t)return o;return-1};function Xx(e){const t=e.length;if(0<t){const o=Array(t);for(let s=0;s<t;s++)o[s]=e[s];return o}return[]}function qB(e,t){for(let o=1;o<arguments.length;o++){const s=arguments[o];if(I0(s)){const c=e.length||0,u=s.length||0;e.length=c+u;for(let p=0;p<u;p++)e[c+p]=s[p]}else e.push(s)}}function _o(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}_o.prototype.h=function(){this.defaultPrevented=!0};var fce=function(){if(!nt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{nt.addEventListener("test",()=>{},t),nt.removeEventListener("test",()=>{},t)}catch{}return e}();function qp(e){return/^[\s\xa0]*$/.test(e)}function M0(){var e=nt.navigator;return e&&(e=e.userAgent)?e:""}function Ri(e){return M0().indexOf(e)!=-1}function eE(e){return eE[" "](e),e}eE[" "]=function(){};function gce(e,t){var o=lde;return Object.prototype.hasOwnProperty.call(o,e)?o[e]:o[e]=t(e)}var mce=Ri("Opera"),zd=Ri("Trident")||Ri("MSIE"),p9=Ri("Edge"),qA=p9||zd,f9=Ri("Gecko")&&!(M0().toLowerCase().indexOf("webkit")!=-1&&!Ri("Edge"))&&!(Ri("Trident")||Ri("MSIE"))&&!Ri("Edge"),kce=M0().toLowerCase().indexOf("webkit")!=-1&&!Ri("Edge");function g9(){var e=nt.document;return e?e.documentMode:void 0}var GA;e:{var cC="",dC=function(){var e=M0();if(f9)return/rv:([^\);]+)(\)|;)/.exec(e);if(p9)return/Edge\/([\d\.]+)/.exec(e);if(zd)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(kce)return/WebKit\/(\S+)/.exec(e);if(mce)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(dC&&(cC=dC?dC[1]:""),zd){var uC=g9();if(uC!=null&&uC>parseFloat(cC)){GA=String(uC);break e}}GA=cC}var KA;if(nt.document&&zd){var GB=g9();KA=GB||parseInt(GA,10)||void 0}else KA=void 0;var bce=KA;function Gp(e,t){if(_o.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var o=this.type=e.type,s=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(f9){e:{try{eE(t.nodeName);var c=!0;break e}catch{}c=!1}c||(t=null)}}else o=="mouseover"?t=e.fromElement:o=="mouseout"&&(t=e.toElement);this.relatedTarget=t,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:vce[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Gp.$.h.call(this)}}eo(Gp,_o);var vce={2:"touch",3:"pen",4:"mouse"};Gp.prototype.h=function(){Gp.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var P0="closure_listenable_"+(1e6*Math.random()|0),wce=0;function yce(e,t,o,s,c){this.listener=e,this.proxy=null,this.src=t,this.type=o,this.capture=!!s,this.la=c,this.key=++wce,this.fa=this.ia=!1}function N0(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function tE(e,t,o){for(const s in e)t.call(o,e[s],s,e)}function _ce(e,t){for(const o in e)t.call(void 0,e[o],o,e)}function m9(e){const t={};for(const o in e)t[o]=e[o];return t}const KB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k9(e,t){let o,s;for(let c=1;c<arguments.length;c++){s=arguments[c];for(o in s)e[o]=s[o];for(let u=0;u<KB.length;u++)o=KB[u],Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}}function R0(e){this.src=e,this.g={},this.h=0}R0.prototype.add=function(e,t,o,s,c){var u=e.toString();e=this.g[u],e||(e=this.g[u]=[],this.h++);var p=QA(e,t,s,c);return-1<p?(t=e[p],o||(t.ia=!1)):(t=new yce(t,this.src,u,!!s,c),t.ia=o,e.push(t)),t};function YA(e,t){var o=t.type;if(o in e.g){var s=e.g[o],c=h9(s,t),u;(u=0<=c)&&Array.prototype.splice.call(s,c,1),u&&(N0(t),e.g[o].length==0&&(delete e.g[o],e.h--))}}function QA(e,t,o,s){for(var c=0;c<e.length;++c){var u=e[c];if(!u.fa&&u.listener==t&&u.capture==!!o&&u.la==s)return c}return-1}var nE="closure_lm_"+(1e6*Math.random()|0),hC={};function b9(e,t,o,s,c){if(Array.isArray(t)){for(var u=0;u<t.length;u++)b9(e,t[u],o,s,c);return null}return o=y9(o),e&&e[P0]?e.O(t,o,D0(s)?!!s.capture:!!s,c):Cce(e,t,o,!1,s,c)}function Cce(e,t,o,s,c,u){if(!t)throw Error("Invalid event type");var p=D0(c)?!!c.capture:!!c,m=rE(e);if(m||(e[nE]=m=new R0(e)),o=m.add(t,o,s,p,u),o.proxy)return o;if(s=Ace(),o.proxy=s,s.src=e,s.listener=o,e.addEventListener)fce||(c=p),c===void 0&&(c=!1),e.addEventListener(t.toString(),s,c);else if(e.attachEvent)e.attachEvent(w9(t.toString()),s);else if(e.addListener&&e.removeListener)e.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return o}function Ace(){function e(o){return t.call(e.src,e.listener,o)}const t=xce;return e}function v9(e,t,o,s,c){if(Array.isArray(t))for(var u=0;u<t.length;u++)v9(e,t[u],o,s,c);else s=D0(s)?!!s.capture:!!s,o=y9(o),e&&e[P0]?(e=e.i,t=String(t).toString(),t in e.g&&(u=e.g[t],o=QA(u,o,s,c),-1<o&&(N0(u[o]),Array.prototype.splice.call(u,o,1),u.length==0&&(delete e.g[t],e.h--)))):e&&(e=rE(e))&&(t=e.g[t.toString()],e=-1,t&&(e=QA(t,o,s,c)),(o=-1<e?t[e]:null)&&oE(o))}function oE(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[P0])YA(t.i,e);else{var o=e.type,s=e.proxy;t.removeEventListener?t.removeEventListener(o,s,e.capture):t.detachEvent?t.detachEvent(w9(o),s):t.addListener&&t.removeListener&&t.removeListener(s),(o=rE(t))?(YA(o,e),o.h==0&&(o.src=null,t[nE]=null)):N0(e)}}}function w9(e){return e in hC?hC[e]:hC[e]="on"+e}function xce(e,t){if(e.fa)e=!0;else{t=new Gp(t,this);var o=e.listener,s=e.la||e.src;e.ia&&oE(e),e=o.call(s,t)}return e}function rE(e){return e=e[nE],e instanceof R0?e:null}var pC="__closure_events_fn_"+(1e9*Math.random()>>>0);function y9(e){return typeof e=="function"?e:(e[pC]||(e[pC]=function(t){return e.handleEvent(t)}),e[pC])}function Xn(){Fa.call(this),this.i=new R0(this),this.S=this,this.J=null}eo(Xn,Fa);Xn.prototype[P0]=!0;Xn.prototype.removeEventListener=function(e,t,o,s){v9(this,e,t,o,s)};function uo(e,t){var o,s=e.J;if(s)for(o=[];s;s=s.J)o.push(s);if(e=e.S,s=t.type||t,typeof t=="string")t=new _o(t,e);else if(t instanceof _o)t.target=t.target||e;else{var c=t;t=new _o(s,e),k9(t,c)}if(c=!0,o)for(var u=o.length-1;0<=u;u--){var p=t.g=o[u];c=nk(p,s,!0,t)&&c}if(p=t.g=e,c=nk(p,s,!0,t)&&c,c=nk(p,s,!1,t)&&c,o)for(u=0;u<o.length;u++)p=t.g=o[u],c=nk(p,s,!1,t)&&c}Xn.prototype.N=function(){if(Xn.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var o=e.g[t],s=0;s<o.length;s++)N0(o[s]);delete e.g[t],e.h--}}this.J=null};Xn.prototype.O=function(e,t,o,s){return this.i.add(String(e),t,!1,o,s)};Xn.prototype.P=function(e,t,o,s){return this.i.add(String(e),t,!0,o,s)};function nk(e,t,o,s){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var c=!0,u=0;u<t.length;++u){var p=t[u];if(p&&!p.fa&&p.capture==o){var m=p.listener,g=p.la||p.src;p.ia&&YA(e.i,p),c=m.call(g,s)!==!1&&c}}return c&&!s.defaultPrevented}var iE=nt.JSON.stringify;class Ece{constructor(t,o){this.i=t,this.j=o,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function Sce(){var e=sE;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class Tce{constructor(){this.h=this.g=null}add(t,o){const s=_9.get();s.set(t,o),this.h?this.h.next=s:this.g=s,this.h=s}}var _9=new Ece(()=>new Ice,e=>e.reset());class Ice{constructor(){this.next=this.g=this.h=null}set(t,o){this.h=t,this.g=o,this.next=null}reset(){this.next=this.g=this.h=null}}function Dce(e){var t=1;e=e.split(":");const o=[];for(;0<t&&e.length;)o.push(e.shift()),t--;return e.length&&o.push(e.join(":")),o}function Mce(e){nt.setTimeout(()=>{throw e},0)}let Kp,Yp=!1,sE=new Tce,C9=()=>{const e=nt.Promise.resolve(void 0);Kp=()=>{e.then(Pce)}};var Pce=()=>{for(var e;e=Sce();){try{e.h.call(e.g)}catch(o){Mce(o)}var t=_9;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Yp=!1};function O0(e,t){Xn.call(this),this.h=e||1,this.g=t||nt,this.j=yo(this.qb,this),this.l=Date.now()}eo(O0,Xn);Ae=O0.prototype;Ae.ga=!1;Ae.T=null;Ae.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),uo(this,"tick"),this.ga&&(aE(this),this.start()))}};Ae.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function aE(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}Ae.N=function(){O0.$.N.call(this),aE(this),delete this.g};function lE(e,t,o){if(typeof e=="function")o&&(e=yo(e,o));else if(e&&typeof e.handleEvent=="function")e=yo(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:nt.setTimeout(e,t||0)}function A9(e){e.g=lE(()=>{e.g=null,e.i&&(e.i=!1,A9(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class Nce extends Fa{constructor(t,o){super(),this.m=t,this.j=o,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:A9(this)}N(){super.N(),this.g&&(nt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qp(e){Fa.call(this),this.h=e,this.g={}}eo(Qp,Fa);var YB=[];function x9(e,t,o,s){Array.isArray(o)||(o&&(YB[0]=o.toString()),o=YB);for(var c=0;c<o.length;c++){var u=b9(t,o[c],s||e.handleEvent,!1,e.h||e);if(!u)break;e.g[u.key]=u}}function E9(e){tE(e.g,function(t,o){this.g.hasOwnProperty(o)&&oE(t)},e),e.g={}}Qp.prototype.N=function(){Qp.$.N.call(this),E9(this)};Qp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function B0(){this.g=!0}B0.prototype.Ea=function(){this.g=!1};function Rce(e,t,o,s,c,u){e.info(function(){if(e.g)if(u)for(var p="",m=u.split("&"),g=0;g<m.length;g++){var v=m[g].split("=");if(1<v.length){var _=v[0];v=v[1];var C=_.split("_");p=2<=C.length&&C[1]=="type"?p+(_+"="+v+"&"):p+(_+"=redacted&")}}else p=null;else p=u;return"XMLHTTP REQ ("+s+") [attempt "+c+"]: "+t+`
`+o+`
`+p})}function Oce(e,t,o,s,c,u,p){e.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+c+"]: "+t+`
`+o+`
`+u+" "+p})}function pd(e,t,o,s){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+Lce(e,o)+(s?" "+s:"")})}function Bce(e,t){e.info(function(){return"TIMEOUT: "+t})}B0.prototype.info=function(){};function Lce(e,t){if(!e.g)return t;if(!t)return null;try{var o=JSON.parse(t);if(o){for(e=0;e<o.length;e++)if(Array.isArray(o[e])){var s=o[e];if(!(2>s.length)){var c=s[1];if(Array.isArray(c)&&!(1>c.length)){var u=c[0];if(u!="noop"&&u!="stop"&&u!="close")for(var p=1;p<c.length;p++)c[p]=""}}}}return iE(o)}catch{return t}}var oc={},QB=null;function L0(){return QB=QB||new Xn}oc.Ta="serverreachability";function S9(e){_o.call(this,oc.Ta,e)}eo(S9,_o);function Zp(e){const t=L0();uo(t,new S9(t))}oc.STAT_EVENT="statevent";function T9(e,t){_o.call(this,oc.STAT_EVENT,e),this.stat=t}eo(T9,_o);function Po(e){const t=L0();uo(t,new T9(t,e))}oc.Ua="timingevent";function I9(e,t){_o.call(this,oc.Ua,e),this.size=t}eo(I9,_o);function Rf(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return nt.setTimeout(function(){e()},t)}var j0={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},D9={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function cE(){}cE.prototype.h=null;function ZB(e){return e.h||(e.h=e.i())}function M9(){}var Of={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function dE(){_o.call(this,"d")}eo(dE,_o);function uE(){_o.call(this,"c")}eo(uE,_o);var ZA;function z0(){}eo(z0,cE);z0.prototype.g=function(){return new XMLHttpRequest};z0.prototype.i=function(){return{}};ZA=new z0;function Bf(e,t,o,s){this.l=e,this.j=t,this.m=o,this.W=s||1,this.U=new Qp(this),this.P=jce,e=qA?125:void 0,this.V=new O0(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new P9}function P9(){this.i=null,this.g="",this.h=!1}var jce=45e3,JA={},Mb={};Ae=Bf.prototype;Ae.setTimeout=function(e){this.P=e};function XA(e,t,o){e.L=1,e.v=$0(Is(t)),e.s=o,e.S=!0,N9(e,null)}function N9(e,t){e.G=Date.now(),Lf(e),e.A=Is(e.v);var o=e.A,s=e.W;Array.isArray(s)||(s=[String(s)]),$9(o.i,"t",s),e.C=0,o=e.l.J,e.h=new P9,e.g=l7(e.l,o?t:null,!e.s),0<e.O&&(e.M=new Nce(yo(e.Pa,e,e.g),e.O)),x9(e.U,e.g,"readystatechange",e.nb),t=e.I?m9(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Zp(),Rce(e.j,e.u,e.A,e.m,e.W,e.s)}Ae.nb=function(e){e=e.target;const t=this.M;t&&Oi(e)==3?t.l():this.Pa(e)};Ae.Pa=function(e){try{if(e==this.g)e:{const _=Oi(this.g);var t=this.g.Ia();const C=this.g.da();if(!(3>_)&&(_!=3||qA||this.g&&(this.h.h||this.g.ja()||t3(this.g)))){this.J||_!=4||t==7||(t==8||0>=C?Zp(3):Zp(2)),F0(this);var o=this.g.da();this.ca=o;t:if(R9(this)){var s=t3(this.g);e="";var c=s.length,u=Oi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xl(this),cp(this);var p="";break t}this.h.i=new nt.TextDecoder}for(t=0;t<c;t++)this.h.h=!0,e+=this.h.i.decode(s[t],{stream:u&&t==c-1});s.splice(0,c),this.h.g+=e,this.C=0,p=this.h.g}else p=this.g.ja();if(this.i=o==200,Oce(this.j,this.u,this.A,this.m,this.W,_,o),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,g=this.g;if((m=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qp(m)){var v=m;break t}}v=null}if(o=v)pd(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,e1(this,o);else{this.i=!1,this.o=3,Po(12),xl(this),cp(this);break e}}this.S?(O9(this,_,p),qA&&this.i&&_==3&&(x9(this.U,this.V,"tick",this.mb),this.V.start())):(pd(this.j,this.m,p,null),e1(this,p)),_==4&&xl(this),this.i&&!this.J&&(_==4?r7(this.l,this):(this.i=!1,Lf(this)))}else ide(this.g),o==400&&0<p.indexOf("Unknown SID")?(this.o=3,Po(12)):(this.o=0,Po(13)),xl(this),cp(this)}}}catch{}finally{}};function R9(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function O9(e,t,o){let s=!0,c;for(;!e.J&&e.C<o.length;)if(c=zce(e,o),c==Mb){t==4&&(e.o=4,Po(14),s=!1),pd(e.j,e.m,null,"[Incomplete Response]");break}else if(c==JA){e.o=4,Po(15),pd(e.j,e.m,o,"[Invalid Chunk]"),s=!1;break}else pd(e.j,e.m,c,null),e1(e,c);R9(e)&&c!=Mb&&c!=JA&&(e.h.g="",e.C=0),t!=4||o.length!=0||e.h.h||(e.o=1,Po(16),s=!1),e.i=e.i&&s,s?0<o.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+o.length),kE(t),t.M=!0,Po(11))):(pd(e.j,e.m,o,"[Invalid Chunked Response]"),xl(e),cp(e))}Ae.mb=function(){if(this.g){var e=Oi(this.g),t=this.g.ja();this.C<t.length&&(F0(this),O9(this,e,t),this.i&&e!=4&&Lf(this))}};function zce(e,t){var o=e.C,s=t.indexOf(`
`,o);return s==-1?Mb:(o=Number(t.substring(o,s)),isNaN(o)?JA:(s+=1,s+o>t.length?Mb:(t=t.slice(s,s+o),e.C=s+o,t)))}Ae.cancel=function(){this.J=!0,xl(this)};function Lf(e){e.Y=Date.now()+e.P,B9(e,e.P)}function B9(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Rf(yo(e.lb,e),t)}function F0(e){e.B&&(nt.clearTimeout(e.B),e.B=null)}Ae.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(Bce(this.j,this.A),this.L!=2&&(Zp(),Po(17)),xl(this),this.o=2,cp(this)):B9(this,this.Y-e)};function cp(e){e.l.H==0||e.J||r7(e.l,e)}function xl(e){F0(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,aE(e.V),E9(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function e1(e,t){try{var o=e.l;if(o.H!=0&&(o.g==e||t1(o.i,e))){if(!e.K&&t1(o.i,e)&&o.H==3){try{var s=o.Ja.g.parse(t)}catch{s=null}if(Array.isArray(s)&&s.length==3){var c=s;if(c[0]==0){e:if(!o.u){if(o.g)if(o.g.G+3e3<e.G)Rb(o),H0(o);else break e;mE(o),Po(18)}}else o.Fa=c[1],0<o.Fa-o.V&&37500>c[2]&&o.G&&o.A==0&&!o.v&&(o.v=Rf(yo(o.ib,o),6e3));if(1>=H9(o.i)&&o.oa){try{o.oa()}catch{}o.oa=void 0}}else El(o,11)}else if((e.K||o.g==e)&&Rb(o),!qp(t))for(c=o.Ja.g.parse(t),t=0;t<c.length;t++){let v=c[t];if(o.V=v[0],v=v[1],o.H==2)if(v[0]=="c"){o.K=v[1],o.pa=v[2];const _=v[3];_!=null&&(o.ra=_,o.l.info("VER="+o.ra));const C=v[4];C!=null&&(o.Ga=C,o.l.info("SVER="+o.Ga));const y=v[5];y!=null&&typeof y=="number"&&0<y&&(s=1.5*y,o.L=s,o.l.info("backChannelRequestTimeoutMs_="+s)),s=o;const x=e.g;if(x){const S=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var u=s.i;u.g||S.indexOf("spdy")==-1&&S.indexOf("quic")==-1&&S.indexOf("h2")==-1||(u.j=u.l,u.g=new Set,u.h&&(hE(u,u.h),u.h=null))}if(s.F){const T=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(s.Da=T,nn(s.I,s.F,T))}}o.H=3,o.h&&o.h.Ba(),o.ca&&(o.S=Date.now()-e.G,o.l.info("Handshake RTT: "+o.S+"ms")),s=o;var p=e;if(s.wa=a7(s,s.J?s.pa:null,s.Y),p.K){W9(s.i,p);var m=p,g=s.L;g&&m.setTimeout(g),m.B&&(F0(m),Lf(m)),s.g=p}else n7(s);0<o.j.length&&W0(o)}else v[0]!="stop"&&v[0]!="close"||El(o,7);else o.H==3&&(v[0]=="stop"||v[0]=="close"?v[0]=="stop"?El(o,7):gE(o):v[0]!="noop"&&o.h&&o.h.Aa(v),o.A=0)}}Zp(4)}catch{}}function Fce(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(I0(e)){for(var t=[],o=e.length,s=0;s<o;s++)t.push(e[s]);return t}t=[],o=0;for(s in e)t[o++]=e[s];return t}function $ce(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(I0(e)||typeof e=="string"){var t=[];e=e.length;for(var o=0;o<e;o++)t.push(o);return t}t=[],o=0;for(const s in e)t[o++]=s;return t}}}function L9(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(I0(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var o=$ce(e),s=Fce(e),c=s.length,u=0;u<c;u++)t.call(void 0,s[u],o&&o[u],e)}var j9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vce(e,t){if(e){e=e.split("&");for(var o=0;o<e.length;o++){var s=e[o].indexOf("="),c=null;if(0<=s){var u=e[o].substring(0,s);c=e[o].substring(s+1)}else u=e[o];t(u,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}function Rl(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Rl){this.h=e.h,Pb(this,e.j),this.s=e.s,this.g=e.g,Nb(this,e.m),this.l=e.l;var t=e.i,o=new Jp;o.i=t.i,t.g&&(o.g=new Map(t.g),o.h=t.h),JB(this,o),this.o=e.o}else e&&(t=String(e).match(j9))?(this.h=!1,Pb(this,t[1]||"",!0),this.s=qh(t[2]||""),this.g=qh(t[3]||"",!0),Nb(this,t[4]),this.l=qh(t[5]||"",!0),JB(this,t[6]||"",!0),this.o=qh(t[7]||"")):(this.h=!1,this.i=new Jp(null,this.h))}Rl.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Gh(t,XB,!0),":");var o=this.g;return(o||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Gh(t,XB,!0),"@"),e.push(encodeURIComponent(String(o)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o=this.m,o!=null&&e.push(":",String(o))),(o=this.l)&&(this.g&&o.charAt(0)!="/"&&e.push("/"),e.push(Gh(o,o.charAt(0)=="/"?Wce:Hce,!0))),(o=this.i.toString())&&e.push("?",o),(o=this.o)&&e.push("#",Gh(o,Gce)),e.join("")};function Is(e){return new Rl(e)}function Pb(e,t,o){e.j=o?qh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Nb(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function JB(e,t,o){t instanceof Jp?(e.i=t,Kce(e.i,e.h)):(o||(t=Gh(t,qce)),e.i=new Jp(t,e.h))}function nn(e,t,o){e.i.set(t,o)}function $0(e){return nn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function qh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Gh(e,t,o){return typeof e=="string"?(e=encodeURI(e).replace(t,Uce),o&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Uce(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var XB=/[#\/\?@]/g,Hce=/[#\?:]/g,Wce=/[#\?]/g,qce=/[#\?@]/g,Gce=/#/g;function Jp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function $a(e){e.g||(e.g=new Map,e.h=0,e.i&&Vce(e.i,function(t,o){e.add(decodeURIComponent(t.replace(/\+/g," ")),o)}))}Ae=Jp.prototype;Ae.add=function(e,t){$a(this),this.i=null,e=au(this,e);var o=this.g.get(e);return o||this.g.set(e,o=[]),o.push(t),this.h+=1,this};function z9(e,t){$a(e),t=au(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function F9(e,t){return $a(e),t=au(e,t),e.g.has(t)}Ae.forEach=function(e,t){$a(this),this.g.forEach(function(o,s){o.forEach(function(c){e.call(t,c,s,this)},this)},this)};Ae.ta=function(){$a(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),o=[];for(let s=0;s<t.length;s++){const c=e[s];for(let u=0;u<c.length;u++)o.push(t[s])}return o};Ae.Z=function(e){$a(this);let t=[];if(typeof e=="string")F9(this,e)&&(t=t.concat(this.g.get(au(this,e))));else{e=Array.from(this.g.values());for(let o=0;o<e.length;o++)t=t.concat(e[o])}return t};Ae.set=function(e,t){return $a(this),this.i=null,e=au(this,e),F9(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Ae.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function $9(e,t,o){z9(e,t),0<o.length&&(e.i=null,e.g.set(au(e,t),Xx(o)),e.h+=o.length)}Ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var o=0;o<t.length;o++){var s=t[o];const u=encodeURIComponent(String(s)),p=this.Z(s);for(s=0;s<p.length;s++){var c=u;p[s]!==""&&(c+="="+encodeURIComponent(String(p[s]))),e.push(c)}}return this.i=e.join("&")};function au(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Kce(e,t){t&&!e.j&&($a(e),e.i=null,e.g.forEach(function(o,s){var c=s.toLowerCase();s!=c&&(z9(this,s),$9(this,c,o))},e)),e.j=t}var Yce=class{constructor(e,t){this.g=e,this.map=t}};function V9(e){this.l=e||Qce,nt.PerformanceNavigationTiming?(e=nt.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(nt.g&&nt.g.Ka&&nt.g.Ka()&&nt.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Qce=10;function U9(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function H9(e){return e.h?1:e.g?e.g.size:0}function t1(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function hE(e,t){e.g?e.g.add(t):e.h=t}function W9(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}V9.prototype.cancel=function(){if(this.i=q9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function q9(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const o of e.g.values())t=t.concat(o.F);return t}return Xx(e.i)}var Zce=class{stringify(e){return nt.JSON.stringify(e,void 0)}parse(e){return nt.JSON.parse(e,void 0)}};function Jce(){this.g=new Zce}function Xce(e,t,o){const s=o||"";try{L9(e,function(c,u){let p=c;D0(c)&&(p=iE(c)),t.push(s+u+"="+encodeURIComponent(p))})}catch(c){throw t.push(s+"type="+encodeURIComponent("_badmap")),c}}function ede(e,t){const o=new B0;if(nt.Image){const s=new Image;s.onload=tk(ok,o,s,"TestLoadImage: loaded",!0,t),s.onerror=tk(ok,o,s,"TestLoadImage: error",!1,t),s.onabort=tk(ok,o,s,"TestLoadImage: abort",!1,t),s.ontimeout=tk(ok,o,s,"TestLoadImage: timeout",!1,t),nt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=e}else t(!1)}function ok(e,t,o,s,c){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,c(s)}catch{}}function jf(e){this.l=e.fc||null,this.j=e.ob||!1}eo(jf,cE);jf.prototype.g=function(){return new V0(this.l,this.j)};jf.prototype.i=function(e){return function(){return e}}({});function V0(e,t){Xn.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=pE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}eo(V0,Xn);var pE=0;Ae=V0.prototype;Ae.open=function(e,t){if(this.readyState!=pE)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Xp(this)};Ae.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||nt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};Ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zf(this)),this.readyState=pE};Ae.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Xp(this)),this.g&&(this.readyState=3,Xp(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof nt.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;G9(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function G9(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}Ae.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?zf(this):Xp(this),this.readyState==3&&G9(this)}};Ae.Za=function(e){this.g&&(this.response=this.responseText=e,zf(this))};Ae.Ya=function(e){this.g&&(this.response=e,zf(this))};Ae.ka=function(){this.g&&zf(this)};function zf(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Xp(e)}Ae.setRequestHeader=function(e,t){this.v.append(e,t)};Ae.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Ae.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var o=t.next();!o.done;)o=o.value,e.push(o[0]+": "+o[1]),o=t.next();return e.join(`\r
`)};function Xp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(V0.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var tde=nt.JSON.parse;function _n(e){Xn.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=K9,this.L=this.M=!1}eo(_n,Xn);var K9="",nde=/^https?$/i,ode=["POST","PUT"];Ae=_n.prototype;Ae.Oa=function(e){this.M=e};Ae.ha=function(e,t,o,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ZA.g(),this.C=this.u?ZB(this.u):ZB(ZA),this.g.onreadystatechange=yo(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){e3(this,u);return}if(e=o||"",o=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var c in s)o.set(c,s[c]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const u of s.keys())o.set(u,s.get(u));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(o.keys()).find(u=>u.toLowerCase()=="content-type"),c=nt.FormData&&e instanceof nt.FormData,!(0<=h9(ode,t))||s||c||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,p]of o)this.g.setRequestHeader(u,p);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Z9(this),0<this.B&&((this.L=rde(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yo(this.ua,this)):this.A=lE(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){e3(this,u)}};function rde(e){return zd&&typeof e.timeout=="number"&&e.ontimeout!==void 0}Ae.ua=function(){typeof Jx<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,uo(this,"timeout"),this.abort(8))};function e3(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Y9(e),U0(e)}function Y9(e){e.F||(e.F=!0,uo(e,"complete"),uo(e,"error"))}Ae.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,uo(this,"complete"),uo(this,"abort"),U0(this))};Ae.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),U0(this,!0)),_n.$.N.call(this)};Ae.La=function(){this.s||(this.G||this.v||this.l?Q9(this):this.kb())};Ae.kb=function(){Q9(this)};function Q9(e){if(e.h&&typeof Jx<"u"&&(!e.C[1]||Oi(e)!=4||e.da()!=2)){if(e.v&&Oi(e)==4)lE(e.La,0,e);else if(uo(e,"readystatechange"),Oi(e)==4){e.h=!1;try{const p=e.da();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var o;if(!(o=t)){var s;if(s=p===0){var c=String(e.I).match(j9)[1]||null;!c&&nt.self&&nt.self.location&&(c=nt.self.location.protocol.slice(0,-1)),s=!nde.test(c?c.toLowerCase():"")}o=s}if(o)uo(e,"complete"),uo(e,"success");else{e.m=6;try{var u=2<Oi(e)?e.g.statusText:""}catch{u=""}e.j=u+" ["+e.da()+"]",Y9(e)}}finally{U0(e)}}}}function U0(e,t){if(e.g){Z9(e);const o=e.g,s=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||uo(e,"ready");try{o.onreadystatechange=s}catch{}}}function Z9(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(nt.clearTimeout(e.A),e.A=null)}Ae.isActive=function(){return!!this.g};function Oi(e){return e.g?e.g.readyState:0}Ae.da=function(){try{return 2<Oi(this)?this.g.status:-1}catch{return-1}};Ae.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ae.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),tde(t)}};function t3(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case K9:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function ide(e){const t={};e=(e.g&&2<=Oi(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let s=0;s<e.length;s++){if(qp(e[s]))continue;var o=Dce(e[s]);const c=o[0];if(o=o[1],typeof o!="string")continue;o=o.trim();const u=t[c]||[];t[c]=u,u.push(o)}_ce(t,function(s){return s.join(", ")})}Ae.Ia=function(){return this.m};Ae.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function J9(e){let t="";return tE(e,function(o,s){t+=s,t+=":",t+=o,t+=`\r
`}),t}function fE(e,t,o){e:{for(s in o){var s=!1;break e}s=!0}s||(o=J9(o),typeof e=="string"?o!=null&&encodeURIComponent(String(o)):nn(e,t,o))}function Sh(e,t,o){return o&&o.internalChannelParams&&o.internalChannelParams[e]||t}function X9(e){this.Ga=0,this.j=[],this.l=new B0,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Sh("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Sh("baseRetryDelayMs",5e3,e),this.hb=Sh("retryDelaySeedMs",1e4,e),this.eb=Sh("forwardChannelMaxRetries",2,e),this.xa=Sh("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new V9(e&&e.concurrentRequestLimit),this.Ja=new Jce,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ae=X9.prototype;Ae.ra=8;Ae.H=1;function gE(e){if(e7(e),e.H==3){var t=e.W++,o=Is(e.I);if(nn(o,"SID",e.K),nn(o,"RID",t),nn(o,"TYPE","terminate"),Ff(e,o),t=new Bf(e,e.l,t),t.L=2,t.v=$0(Is(o)),o=!1,nt.navigator&&nt.navigator.sendBeacon)try{o=nt.navigator.sendBeacon(t.v.toString(),"")}catch{}!o&&nt.Image&&(new Image().src=t.v,o=!0),o||(t.g=l7(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Lf(t)}s7(e)}function H0(e){e.g&&(kE(e),e.g.cancel(),e.g=null)}function e7(e){H0(e),e.u&&(nt.clearTimeout(e.u),e.u=null),Rb(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&nt.clearTimeout(e.m),e.m=null)}function W0(e){if(!U9(e.i)&&!e.m){e.m=!0;var t=e.Na;Kp||C9(),Yp||(Kp(),Yp=!0),sE.add(t,e),e.C=0}}function sde(e,t){return H9(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Rf(yo(e.Na,e,t),i7(e,e.C)),e.C++,!0)}Ae.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const c=new Bf(this,this.l,e);let u=this.s;if(this.U&&(u?(u=m9(u),k9(u,this.U)):u=this.U),this.o!==null||this.O||(c.I=u,u=null),this.P)e:{for(var t=0,o=0;o<this.j.length;o++){t:{var s=this.j[o];if("__data__"in s.map&&(s=s.map.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(t+=s,4096<t){t=o;break e}if(t===4096||o===this.j.length-1){t=o+1;break e}}t=1e3}else t=1e3;t=t7(this,c,t),o=Is(this.I),nn(o,"RID",e),nn(o,"CVER",22),this.F&&nn(o,"X-HTTP-Session-Id",this.F),Ff(this,o),u&&(this.O?t="headers="+encodeURIComponent(String(J9(u)))+"&"+t:this.o&&fE(o,this.o,u)),hE(this.i,c),this.bb&&nn(o,"TYPE","init"),this.P?(nn(o,"$req",t),nn(o,"SID","null"),c.aa=!0,XA(c,o,null)):XA(c,o,t),this.H=2}}else this.H==3&&(e?n3(this,e):this.j.length==0||U9(this.i)||n3(this))};function n3(e,t){var o;t?o=t.m:o=e.W++;const s=Is(e.I);nn(s,"SID",e.K),nn(s,"RID",o),nn(s,"AID",e.V),Ff(e,s),e.o&&e.s&&fE(s,e.o,e.s),o=new Bf(e,e.l,o,e.C+1),e.o===null&&(o.I=e.s),t&&(e.j=t.F.concat(e.j)),t=t7(e,o,1e3),o.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),hE(e.i,o),XA(o,s,t)}function Ff(e,t){e.na&&tE(e.na,function(o,s){nn(t,s,o)}),e.h&&L9({},function(o,s){nn(t,s,o)})}function t7(e,t,o){o=Math.min(e.j.length,o);var s=e.h?yo(e.h.Va,e.h,e):null;e:{var c=e.j;let u=-1;for(;;){const p=["count="+o];u==-1?0<o?(u=c[0].g,p.push("ofs="+u)):u=0:p.push("ofs="+u);let m=!0;for(let g=0;g<o;g++){let v=c[g].g;const _=c[g].map;if(v-=u,0>v)u=Math.max(0,c[g].g-100),m=!1;else try{Xce(_,p,"req"+v+"_")}catch{s&&s(_)}}if(m){s=p.join("&");break e}}}return e=e.j.splice(0,o),t.F=e,s}function n7(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Kp||C9(),Yp||(Kp(),Yp=!0),sE.add(t,e),e.A=0}}function mE(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Rf(yo(e.Ma,e),i7(e,e.A)),e.A++,!0)}Ae.Ma=function(){if(this.u=null,o7(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Rf(yo(this.jb,this),e)}};Ae.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Po(10),H0(this),o7(this))};function kE(e){e.B!=null&&(nt.clearTimeout(e.B),e.B=null)}function o7(e){e.g=new Bf(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Is(e.wa);nn(t,"RID","rpc"),nn(t,"SID",e.K),nn(t,"AID",e.V),nn(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&nn(t,"TO",e.qa),nn(t,"TYPE","xmlhttp"),Ff(e,t),e.o&&e.s&&fE(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var o=e.g;e=e.pa,o.L=1,o.v=$0(Is(t)),o.s=null,o.S=!0,N9(o,e)}Ae.ib=function(){this.v!=null&&(this.v=null,H0(this),mE(this),Po(19))};function Rb(e){e.v!=null&&(nt.clearTimeout(e.v),e.v=null)}function r7(e,t){var o=null;if(e.g==t){Rb(e),kE(e),e.g=null;var s=2}else if(t1(e.i,t))o=t.F,W9(e.i,t),s=1;else return;if(e.H!=0){if(t.i)if(s==1){o=t.s?t.s.length:0,t=Date.now()-t.G;var c=e.C;s=L0(),uo(s,new I9(s,o)),W0(e)}else n7(e);else if(c=t.o,c==3||c==0&&0<t.ca||!(s==1&&sde(e,t)||s==2&&mE(e)))switch(o&&0<o.length&&(t=e.i,t.i=t.i.concat(o)),c){case 1:El(e,5);break;case 4:El(e,10);break;case 3:El(e,6);break;default:El(e,2)}}}function i7(e,t){let o=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(o*=2),o*t}function El(e,t){if(e.l.info("Error code "+t),t==2){var o=null;e.h&&(o=null);var s=yo(e.pb,e);o||(o=new Rl("//www.google.com/images/cleardot.gif"),nt.location&&nt.location.protocol=="http"||Pb(o,"https"),$0(o)),ede(o.toString(),s)}else Po(2);e.H=0,e.h&&e.h.za(t),s7(e),e7(e)}Ae.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Po(2)):(this.l.info("Failed to ping google.com"),Po(1))};function s7(e){if(e.H=0,e.ma=[],e.h){const t=q9(e.i);(t.length!=0||e.j.length!=0)&&(qB(e.ma,t),qB(e.ma,e.j),e.i.i.length=0,Xx(e.j),e.j.length=0),e.h.ya()}}function a7(e,t,o){var s=o instanceof Rl?Is(o):new Rl(o);if(s.g!="")t&&(s.g=t+"."+s.g),Nb(s,s.m);else{var c=nt.location;s=c.protocol,t=t?t+"."+c.hostname:c.hostname,c=+c.port;var u=new Rl(null);s&&Pb(u,s),t&&(u.g=t),c&&Nb(u,c),o&&(u.l=o),s=u}return o=e.F,t=e.Da,o&&t&&nn(s,o,t),nn(s,"VER",e.ra),Ff(e,s),s}function l7(e,t,o){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=o&&e.Ha&&!e.va?new _n(new jf({ob:!0})):new _n(e.va),t.Oa(e.J),t}Ae.isActive=function(){return!!this.h&&this.h.isActive(this)};function c7(){}Ae=c7.prototype;Ae.Ba=function(){};Ae.Aa=function(){};Ae.za=function(){};Ae.ya=function(){};Ae.isActive=function(){return!0};Ae.Va=function(){};function Ob(){if(zd&&!(10<=Number(bce)))throw Error("Environmental error: no available transport.")}Ob.prototype.g=function(e,t){return new br(e,t)};function br(e,t){Xn.call(this),this.g=new X9(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!qp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!qp(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new lu(this)}eo(br,Xn);br.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,o=this.h||void 0;Po(0),e.Y=t,e.na=o||{},e.G=e.aa,e.I=a7(e,null,e.Y),W0(e)};br.prototype.close=function(){gE(this.g)};br.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var o={};o.__data__=e,e=o}else this.v&&(o={},o.__data__=iE(e),e=o);t.j.push(new Yce(t.fb++,e)),t.H==3&&W0(t)};br.prototype.N=function(){this.g.h=null,delete this.j,gE(this.g),delete this.g,br.$.N.call(this)};function d7(e){dE.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const o in t){e=o;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}eo(d7,dE);function u7(){uE.call(this),this.status=1}eo(u7,uE);function lu(e){this.g=e}eo(lu,c7);lu.prototype.Ba=function(){uo(this.g,"a")};lu.prototype.Aa=function(e){uo(this.g,new d7(e))};lu.prototype.za=function(e){uo(this.g,new u7)};lu.prototype.ya=function(){uo(this.g,"b")};function ade(){this.blockSize=-1}function bi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}eo(bi,ade);bi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function fC(e,t,o){o||(o=0);var s=Array(16);if(typeof t=="string")for(var c=0;16>c;++c)s[c]=t.charCodeAt(o++)|t.charCodeAt(o++)<<8|t.charCodeAt(o++)<<16|t.charCodeAt(o++)<<24;else for(c=0;16>c;++c)s[c]=t[o++]|t[o++]<<8|t[o++]<<16|t[o++]<<24;t=e.g[0],o=e.g[1],c=e.g[2];var u=e.g[3],p=t+(u^o&(c^u))+s[0]+3614090360&4294967295;t=o+(p<<7&4294967295|p>>>25),p=u+(c^t&(o^c))+s[1]+3905402710&4294967295,u=t+(p<<12&4294967295|p>>>20),p=c+(o^u&(t^o))+s[2]+606105819&4294967295,c=u+(p<<17&4294967295|p>>>15),p=o+(t^c&(u^t))+s[3]+3250441966&4294967295,o=c+(p<<22&4294967295|p>>>10),p=t+(u^o&(c^u))+s[4]+4118548399&4294967295,t=o+(p<<7&4294967295|p>>>25),p=u+(c^t&(o^c))+s[5]+1200080426&4294967295,u=t+(p<<12&4294967295|p>>>20),p=c+(o^u&(t^o))+s[6]+2821735955&4294967295,c=u+(p<<17&4294967295|p>>>15),p=o+(t^c&(u^t))+s[7]+4249261313&4294967295,o=c+(p<<22&4294967295|p>>>10),p=t+(u^o&(c^u))+s[8]+1770035416&4294967295,t=o+(p<<7&4294967295|p>>>25),p=u+(c^t&(o^c))+s[9]+2336552879&4294967295,u=t+(p<<12&4294967295|p>>>20),p=c+(o^u&(t^o))+s[10]+4294925233&4294967295,c=u+(p<<17&4294967295|p>>>15),p=o+(t^c&(u^t))+s[11]+2304563134&4294967295,o=c+(p<<22&4294967295|p>>>10),p=t+(u^o&(c^u))+s[12]+1804603682&4294967295,t=o+(p<<7&4294967295|p>>>25),p=u+(c^t&(o^c))+s[13]+4254626195&4294967295,u=t+(p<<12&4294967295|p>>>20),p=c+(o^u&(t^o))+s[14]+2792965006&4294967295,c=u+(p<<17&4294967295|p>>>15),p=o+(t^c&(u^t))+s[15]+1236535329&4294967295,o=c+(p<<22&4294967295|p>>>10),p=t+(c^u&(o^c))+s[1]+4129170786&4294967295,t=o+(p<<5&4294967295|p>>>27),p=u+(o^c&(t^o))+s[6]+3225465664&4294967295,u=t+(p<<9&4294967295|p>>>23),p=c+(t^o&(u^t))+s[11]+643717713&4294967295,c=u+(p<<14&4294967295|p>>>18),p=o+(u^t&(c^u))+s[0]+3921069994&4294967295,o=c+(p<<20&4294967295|p>>>12),p=t+(c^u&(o^c))+s[5]+3593408605&4294967295,t=o+(p<<5&4294967295|p>>>27),p=u+(o^c&(t^o))+s[10]+38016083&4294967295,u=t+(p<<9&4294967295|p>>>23),p=c+(t^o&(u^t))+s[15]+3634488961&4294967295,c=u+(p<<14&4294967295|p>>>18),p=o+(u^t&(c^u))+s[4]+3889429448&4294967295,o=c+(p<<20&4294967295|p>>>12),p=t+(c^u&(o^c))+s[9]+568446438&4294967295,t=o+(p<<5&4294967295|p>>>27),p=u+(o^c&(t^o))+s[14]+3275163606&4294967295,u=t+(p<<9&4294967295|p>>>23),p=c+(t^o&(u^t))+s[3]+4107603335&4294967295,c=u+(p<<14&4294967295|p>>>18),p=o+(u^t&(c^u))+s[8]+1163531501&4294967295,o=c+(p<<20&4294967295|p>>>12),p=t+(c^u&(o^c))+s[13]+2850285829&4294967295,t=o+(p<<5&4294967295|p>>>27),p=u+(o^c&(t^o))+s[2]+4243563512&4294967295,u=t+(p<<9&4294967295|p>>>23),p=c+(t^o&(u^t))+s[7]+1735328473&4294967295,c=u+(p<<14&4294967295|p>>>18),p=o+(u^t&(c^u))+s[12]+2368359562&4294967295,o=c+(p<<20&4294967295|p>>>12),p=t+(o^c^u)+s[5]+4294588738&4294967295,t=o+(p<<4&4294967295|p>>>28),p=u+(t^o^c)+s[8]+2272392833&4294967295,u=t+(p<<11&4294967295|p>>>21),p=c+(u^t^o)+s[11]+1839030562&4294967295,c=u+(p<<16&4294967295|p>>>16),p=o+(c^u^t)+s[14]+4259657740&4294967295,o=c+(p<<23&4294967295|p>>>9),p=t+(o^c^u)+s[1]+2763975236&4294967295,t=o+(p<<4&4294967295|p>>>28),p=u+(t^o^c)+s[4]+1272893353&4294967295,u=t+(p<<11&4294967295|p>>>21),p=c+(u^t^o)+s[7]+4139469664&4294967295,c=u+(p<<16&4294967295|p>>>16),p=o+(c^u^t)+s[10]+3200236656&4294967295,o=c+(p<<23&4294967295|p>>>9),p=t+(o^c^u)+s[13]+681279174&4294967295,t=o+(p<<4&4294967295|p>>>28),p=u+(t^o^c)+s[0]+3936430074&4294967295,u=t+(p<<11&4294967295|p>>>21),p=c+(u^t^o)+s[3]+3572445317&4294967295,c=u+(p<<16&4294967295|p>>>16),p=o+(c^u^t)+s[6]+76029189&4294967295,o=c+(p<<23&4294967295|p>>>9),p=t+(o^c^u)+s[9]+3654602809&4294967295,t=o+(p<<4&4294967295|p>>>28),p=u+(t^o^c)+s[12]+3873151461&4294967295,u=t+(p<<11&4294967295|p>>>21),p=c+(u^t^o)+s[15]+530742520&4294967295,c=u+(p<<16&4294967295|p>>>16),p=o+(c^u^t)+s[2]+3299628645&4294967295,o=c+(p<<23&4294967295|p>>>9),p=t+(c^(o|~u))+s[0]+4096336452&4294967295,t=o+(p<<6&4294967295|p>>>26),p=u+(o^(t|~c))+s[7]+1126891415&4294967295,u=t+(p<<10&4294967295|p>>>22),p=c+(t^(u|~o))+s[14]+2878612391&4294967295,c=u+(p<<15&4294967295|p>>>17),p=o+(u^(c|~t))+s[5]+4237533241&4294967295,o=c+(p<<21&4294967295|p>>>11),p=t+(c^(o|~u))+s[12]+1700485571&4294967295,t=o+(p<<6&4294967295|p>>>26),p=u+(o^(t|~c))+s[3]+2399980690&4294967295,u=t+(p<<10&4294967295|p>>>22),p=c+(t^(u|~o))+s[10]+4293915773&4294967295,c=u+(p<<15&4294967295|p>>>17),p=o+(u^(c|~t))+s[1]+2240044497&4294967295,o=c+(p<<21&4294967295|p>>>11),p=t+(c^(o|~u))+s[8]+1873313359&4294967295,t=o+(p<<6&4294967295|p>>>26),p=u+(o^(t|~c))+s[15]+4264355552&4294967295,u=t+(p<<10&4294967295|p>>>22),p=c+(t^(u|~o))+s[6]+2734768916&4294967295,c=u+(p<<15&4294967295|p>>>17),p=o+(u^(c|~t))+s[13]+1309151649&4294967295,o=c+(p<<21&4294967295|p>>>11),p=t+(c^(o|~u))+s[4]+4149444226&4294967295,t=o+(p<<6&4294967295|p>>>26),p=u+(o^(t|~c))+s[11]+3174756917&4294967295,u=t+(p<<10&4294967295|p>>>22),p=c+(t^(u|~o))+s[2]+718787259&4294967295,c=u+(p<<15&4294967295|p>>>17),p=o+(u^(c|~t))+s[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(c+(p<<21&4294967295|p>>>11))&4294967295,e.g[2]=e.g[2]+c&4294967295,e.g[3]=e.g[3]+u&4294967295}bi.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var o=t-this.blockSize,s=this.m,c=this.h,u=0;u<t;){if(c==0)for(;u<=o;)fC(this,e,u),u+=this.blockSize;if(typeof e=="string"){for(;u<t;)if(s[c++]=e.charCodeAt(u++),c==this.blockSize){fC(this,s),c=0;break}}else for(;u<t;)if(s[c++]=e[u++],c==this.blockSize){fC(this,s),c=0;break}}this.h=c,this.i+=t};bi.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var o=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=o&255,o/=256;for(this.j(e),e=Array(16),t=o=0;4>t;++t)for(var s=0;32>s;s+=8)e[o++]=this.g[t]>>>s&255;return e};function zt(e,t){this.h=t;for(var o=[],s=!0,c=e.length-1;0<=c;c--){var u=e[c]|0;s&&u==t||(o[c]=u,s=!1)}this.g=o}var lde={};function bE(e){return-128<=e&&128>e?gce(e,function(t){return new zt([t|0],0>t?-1:0)}):new zt([e|0],0>e?-1:0)}function Bi(e){if(isNaN(e)||!isFinite(e))return Cd;if(0>e)return lo(Bi(-e));for(var t=[],o=1,s=0;e>=o;s++)t[s]=e/o|0,o*=n1;return new zt(t,0)}function h7(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return lo(h7(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var o=Bi(Math.pow(t,8)),s=Cd,c=0;c<e.length;c+=8){var u=Math.min(8,e.length-c),p=parseInt(e.substring(c,c+u),t);8>u?(u=Bi(Math.pow(t,u)),s=s.R(u).add(Bi(p))):(s=s.R(o),s=s.add(Bi(p)))}return s}var n1=4294967296,Cd=bE(0),o1=bE(1),o3=bE(16777216);Ae=zt.prototype;Ae.ea=function(){if(jr(this))return-lo(this).ea();for(var e=0,t=1,o=0;o<this.g.length;o++){var s=this.D(o);e+=(0<=s?s:n1+s)*t,t*=n1}return e};Ae.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(ws(this))return"0";if(jr(this))return"-"+lo(this).toString(e);for(var t=Bi(Math.pow(e,6)),o=this,s="";;){var c=Lb(o,t).g;o=Bb(o,c.R(t));var u=((0<o.g.length?o.g[0]:o.h)>>>0).toString(e);if(o=c,ws(o))return u+s;for(;6>u.length;)u="0"+u;s=u+s}};Ae.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function ws(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function jr(e){return e.h==-1}Ae.X=function(e){return e=Bb(this,e),jr(e)?-1:ws(e)?0:1};function lo(e){for(var t=e.g.length,o=[],s=0;s<t;s++)o[s]=~e.g[s];return new zt(o,~e.h).add(o1)}Ae.abs=function(){return jr(this)?lo(this):this};Ae.add=function(e){for(var t=Math.max(this.g.length,e.g.length),o=[],s=0,c=0;c<=t;c++){var u=s+(this.D(c)&65535)+(e.D(c)&65535),p=(u>>>16)+(this.D(c)>>>16)+(e.D(c)>>>16);s=p>>>16,u&=65535,p&=65535,o[c]=p<<16|u}return new zt(o,o[o.length-1]&-2147483648?-1:0)};function Bb(e,t){return e.add(lo(t))}Ae.R=function(e){if(ws(this)||ws(e))return Cd;if(jr(this))return jr(e)?lo(this).R(lo(e)):lo(lo(this).R(e));if(jr(e))return lo(this.R(lo(e)));if(0>this.X(o3)&&0>e.X(o3))return Bi(this.ea()*e.ea());for(var t=this.g.length+e.g.length,o=[],s=0;s<2*t;s++)o[s]=0;for(s=0;s<this.g.length;s++)for(var c=0;c<e.g.length;c++){var u=this.D(s)>>>16,p=this.D(s)&65535,m=e.D(c)>>>16,g=e.D(c)&65535;o[2*s+2*c]+=p*g,rk(o,2*s+2*c),o[2*s+2*c+1]+=u*g,rk(o,2*s+2*c+1),o[2*s+2*c+1]+=p*m,rk(o,2*s+2*c+1),o[2*s+2*c+2]+=u*m,rk(o,2*s+2*c+2)}for(s=0;s<t;s++)o[s]=o[2*s+1]<<16|o[2*s];for(s=t;s<2*t;s++)o[s]=0;return new zt(o,0)};function rk(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Th(e,t){this.g=e,this.h=t}function Lb(e,t){if(ws(t))throw Error("division by zero");if(ws(e))return new Th(Cd,Cd);if(jr(e))return t=Lb(lo(e),t),new Th(lo(t.g),lo(t.h));if(jr(t))return t=Lb(e,lo(t)),new Th(lo(t.g),t.h);if(30<e.g.length){if(jr(e)||jr(t))throw Error("slowDivide_ only works with positive integers.");for(var o=o1,s=t;0>=s.X(e);)o=r3(o),s=r3(s);var c=Uc(o,1),u=Uc(s,1);for(s=Uc(s,2),o=Uc(o,2);!ws(s);){var p=u.add(s);0>=p.X(e)&&(c=c.add(o),u=p),s=Uc(s,1),o=Uc(o,1)}return t=Bb(e,c.R(t)),new Th(c,t)}for(c=Cd;0<=e.X(t);){for(o=Math.max(1,Math.floor(e.ea()/t.ea())),s=Math.ceil(Math.log(o)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),u=Bi(o),p=u.R(t);jr(p)||0<p.X(e);)o-=s,u=Bi(o),p=u.R(t);ws(u)&&(u=o1),c=c.add(u),e=Bb(e,p)}return new Th(c,e)}Ae.gb=function(e){return Lb(this,e).h};Ae.and=function(e){for(var t=Math.max(this.g.length,e.g.length),o=[],s=0;s<t;s++)o[s]=this.D(s)&e.D(s);return new zt(o,this.h&e.h)};Ae.or=function(e){for(var t=Math.max(this.g.length,e.g.length),o=[],s=0;s<t;s++)o[s]=this.D(s)|e.D(s);return new zt(o,this.h|e.h)};Ae.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),o=[],s=0;s<t;s++)o[s]=this.D(s)^e.D(s);return new zt(o,this.h^e.h)};function r3(e){for(var t=e.g.length+1,o=[],s=0;s<t;s++)o[s]=e.D(s)<<1|e.D(s-1)>>>31;return new zt(o,e.h)}function Uc(e,t){var o=t>>5;t%=32;for(var s=e.g.length-o,c=[],u=0;u<s;u++)c[u]=0<t?e.D(u+o)>>>t|e.D(u+o+1)<<32-t:e.D(u+o);return new zt(c,e.h)}Ob.prototype.createWebChannel=Ob.prototype.g;br.prototype.send=br.prototype.u;br.prototype.open=br.prototype.m;br.prototype.close=br.prototype.close;j0.NO_ERROR=0;j0.TIMEOUT=8;j0.HTTP_ERROR=6;D9.COMPLETE="complete";M9.EventType=Of;Of.OPEN="a";Of.CLOSE="b";Of.ERROR="c";Of.MESSAGE="d";Xn.prototype.listen=Xn.prototype.O;_n.prototype.listenOnce=_n.prototype.P;_n.prototype.getLastError=_n.prototype.Sa;_n.prototype.getLastErrorCode=_n.prototype.Ia;_n.prototype.getStatus=_n.prototype.da;_n.prototype.getResponseJson=_n.prototype.Wa;_n.prototype.getResponseText=_n.prototype.ja;_n.prototype.send=_n.prototype.ha;_n.prototype.setWithCredentials=_n.prototype.Oa;bi.prototype.digest=bi.prototype.l;bi.prototype.reset=bi.prototype.reset;bi.prototype.update=bi.prototype.j;zt.prototype.add=zt.prototype.add;zt.prototype.multiply=zt.prototype.R;zt.prototype.modulo=zt.prototype.gb;zt.prototype.compare=zt.prototype.X;zt.prototype.toNumber=zt.prototype.ea;zt.prototype.toString=zt.prototype.toString;zt.prototype.getBits=zt.prototype.D;zt.fromNumber=Bi;zt.fromString=h7;var cde=function(){return new Ob},dde=function(){return L0()},gC=j0,ude=D9,hde=oc,i3={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},pde=jf,ik=M9,fde=_n,gde=bi,Ad=zt;const s3="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ko.UNAUTHENTICATED=new ko(null),ko.GOOGLE_CREDENTIALS=new ko("google-credentials-uid"),ko.FIRST_PARTY=new ko("first-party-uid"),ko.MOCK_USER=new ko("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=new $x("@firebase/firestore");function a3(){return Wl.logLevel}function Re(e,...t){if(Wl.logLevel<=Tt.DEBUG){const o=t.map(vE);Wl.debug(`Firestore (${cu}): ${e}`,...o)}}function Ds(e,...t){if(Wl.logLevel<=Tt.ERROR){const o=t.map(vE);Wl.error(`Firestore (${cu}): ${e}`,...o)}}function Fd(e,...t){if(Wl.logLevel<=Tt.WARN){const o=t.map(vE);Wl.warn(`Firestore (${cu}): ${e}`,...o)}}function vE(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(e="Unexpected state"){const t=`FIRESTORE (${cu}) INTERNAL ASSERTION FAILED: `+e;throw Ds(t),new Error(t)}function sn(e,t){e||Xe()}function lt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Qi{constructor(t,o){super(t,o),this.code=t,this.message=o,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(){this.promise=new Promise((t,o)=>{this.resolve=t,this.reject=o})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(t,o){this.user=o,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class mde{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,o){t.enqueueRetryable(()=>o(ko.UNAUTHENTICATED))}shutdown(){}}class kde{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,o){this.changeListener=o,t.enqueueRetryable(()=>o(this.token.user))}shutdown(){this.changeListener=null}}let bde=class{constructor(t){this.t=t,this.currentUser=ko.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,o){let s=this.i;const c=g=>this.i!==s?(s=this.i,o(g)):Promise.resolve();let u=new _s;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new _s,t.enqueueRetryable(()=>c(this.currentUser))};const p=()=>{const g=u;t.enqueueRetryable(async()=>{await g.promise,await c(this.currentUser)})},m=g=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new _s)}},0),p()}getToken(){const t=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(s=>this.i!==t?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(sn(typeof s.accessToken=="string"),new p7(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return sn(t===null||typeof t=="string"),new ko(t)}};class vde{constructor(t,o,s){this.h=t,this.l=o,this.m=s,this.type="FirstParty",this.user=ko.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class wde{constructor(t,o,s){this.h=t,this.l=o,this.m=s}getToken(){return Promise.resolve(new vde(this.h,this.l,this.m))}start(t,o){t.enqueueRetryable(()=>o(ko.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yde{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _de{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,o){const s=u=>{u.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const p=u.token!==this.T;return this.T=u.token,Re("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?o(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const c=u=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>c(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?c(u):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(o=>o?(sn(typeof o.token=="string"),this.T=o.token,new yde(o.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cde(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),o=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(o);else for(let s=0;s<e;s++)o[s]=Math.floor(256*Math.random());return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=Math.floor(256/t.length)*t.length;let s="";for(;s.length<20;){const c=Cde(40);for(let u=0;u<c.length;++u)s.length<20&&c[u]<o&&(s+=t.charAt(c[u]%t.length))}return s}}function Nt(e,t){return e<t?-1:e>t?1:0}function $d(e,t,o){return e.length===t.length&&e.every((s,c)=>o(s,t[c]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t,o){if(this.seconds=t,this.nanoseconds=o,o<0)throw new Se(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new Se(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(t<-62135596800)throw new Se(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Se(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Un.fromMillis(Date.now())}static fromDate(t){return Un.fromMillis(t.getTime())}static fromMillis(t){const o=Math.floor(t/1e3),s=Math.floor(1e6*(t-1e3*o));return new Un(o,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.timestamp=t}static fromTimestamp(t){return new it(t)}static min(){return new it(new Un(0,0))}static max(){return new it(new Un(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t,o,s){o===void 0?o=0:o>t.length&&Xe(),s===void 0?s=t.length-o:s>t.length-o&&Xe(),this.segments=t,this.offset=o,this.len=s}get length(){return this.len}isEqual(t){return ef.comparator(this,t)===0}child(t){const o=this.segments.slice(this.offset,this.limit());return t instanceof ef?t.forEach(s=>{o.push(s)}):o.push(t),this.construct(o)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==t.get(o))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==t.get(o))return!1;return!0}forEach(t){for(let o=this.offset,s=this.limit();o<s;o++)t(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,o){const s=Math.min(t.length,o.length);for(let c=0;c<s;c++){const u=t.get(c),p=o.get(c);if(u<p)return-1;if(u>p)return 1}return t.length<o.length?-1:t.length>o.length?1:0}}class on extends ef{construct(t,o,s){return new on(t,o,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const o=[];for(const s of t){if(s.indexOf("//")>=0)throw new Se(ue.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);o.push(...s.split("/").filter(c=>c.length>0))}return new on(o)}static emptyPath(){return new on([])}}const Ade=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wo extends ef{construct(t,o,s){return new wo(t,o,s)}static isValidIdentifier(t){return Ade.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wo.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wo(["__name__"])}static fromServerFormat(t){const o=[];let s="",c=0;const u=()=>{if(s.length===0)throw new Se(ue.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(s),s=""};let p=!1;for(;c<t.length;){const m=t[c];if(m==="\\"){if(c+1===t.length)throw new Se(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[c+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Se(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,c+=2}else m==="`"?(p=!p,c++):m!=="."||p?(s+=m,c++):(u(),c++)}if(u(),p)throw new Se(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new wo(o)}static emptyPath(){return new wo([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t){this.path=t}static fromPath(t){return new je(on.fromString(t))}static fromName(t){return new je(on.fromString(t).popFirst(5))}static empty(){return new je(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&on.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,o){return on.comparator(t.path,o.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new je(new on(t.slice()))}}function xde(e,t){const o=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,c=it.fromTimestamp(s===1e9?new Un(o+1,0):new Un(o,s));return new Da(c,je.empty(),t)}function Ede(e){return new Da(e.readTime,e.key,-1)}class Da{constructor(t,o,s){this.readTime=t,this.documentKey=o,this.largestBatchId=s}static min(){return new Da(it.min(),je.empty(),-1)}static max(){return new Da(it.max(),je.empty(),-1)}}function Sde(e,t){let o=e.readTime.compareTo(t.readTime);return o!==0?o:(o=je.comparator(e.documentKey,t.documentKey),o!==0?o:Nt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tde="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ide{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $f(e){if(e.code!==ue.FAILED_PRECONDITION||e.message!==Tde)throw e;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(o=>{this.isDone=!0,this.result=o,this.nextCallback&&this.nextCallback(o)},o=>{this.isDone=!0,this.error=o,this.catchCallback&&this.catchCallback(o)})}catch(t){return this.next(void 0,t)}next(t,o){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(o,this.error):this.wrapSuccess(t,this.result):new me((s,c)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,c)},this.catchCallback=u=>{this.wrapFailure(o,u).next(s,c)}})}toPromise(){return new Promise((t,o)=>{this.next(t,o)})}wrapUserFunction(t){try{const o=t();return o instanceof me?o:me.resolve(o)}catch(o){return me.reject(o)}}wrapSuccess(t,o){return t?this.wrapUserFunction(()=>t(o)):me.resolve(o)}wrapFailure(t,o){return t?this.wrapUserFunction(()=>t(o)):me.reject(o)}static resolve(t){return new me((o,s)=>{o(t)})}static reject(t){return new me((o,s)=>{s(t)})}static waitFor(t){return new me((o,s)=>{let c=0,u=0,p=!1;t.forEach(m=>{++c,m.next(()=>{++u,p&&u===c&&o()},g=>s(g))}),p=!0,u===c&&o()})}static or(t){let o=me.resolve(!1);for(const s of t)o=o.next(c=>c?me.resolve(c):s());return o}static forEach(t,o){const s=[];return t.forEach((c,u)=>{s.push(o.call(this,c,u))}),this.waitFor(s)}static mapArray(t,o){return new me((s,c)=>{const u=t.length,p=new Array(u);let m=0;for(let g=0;g<u;g++){const v=g;o(t[v]).next(_=>{p[v]=_,++m,m===u&&s(p)},_=>c(_))}})}static doWhile(t,o){return new me((s,c)=>{const u=()=>{t()===!0?o().next(()=>{u()},c):s()};u()})}}function Vf(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>o.writeSequenceNumber(s))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}wE.ct=-1;function q0(e){return e==null}function jb(e){return e===0&&1/e==-1/0}function Dde(e){return typeof e=="number"&&Number.isInteger(e)&&!jb(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(e){let t=0;for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&t++;return t}function rc(e,t){for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&t(o,e[o])}function g7(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t,o){this.comparator=t,this.root=o||so.EMPTY}insert(t,o){return new gn(this.comparator,this.root.insert(t,o,this.comparator).copy(null,null,so.BLACK,null,null))}remove(t){return new gn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,so.BLACK,null,null))}get(t){let o=this.root;for(;!o.isEmpty();){const s=this.comparator(t,o.key);if(s===0)return o.value;s<0?o=o.left:s>0&&(o=o.right)}return null}indexOf(t){let o=0,s=this.root;for(;!s.isEmpty();){const c=this.comparator(t,s.key);if(c===0)return o+s.left.size;c<0?s=s.left:(o+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((o,s)=>(t(o,s),!1))}toString(){const t=[];return this.inorderTraversal((o,s)=>(t.push(`${o}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new sk(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new sk(this.root,t,this.comparator,!1)}getReverseIterator(){return new sk(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new sk(this.root,t,this.comparator,!0)}}class sk{constructor(t,o,s,c){this.isReverse=c,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=o?s(t.key,o):1,o&&c&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const o={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class so{constructor(t,o,s,c,u){this.key=t,this.value=o,this.color=s??so.RED,this.left=c??so.EMPTY,this.right=u??so.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,o,s,c,u){return new so(t??this.key,o??this.value,s??this.color,c??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,o,s){let c=this;const u=s(t,c.key);return c=u<0?c.copy(null,null,null,c.left.insert(t,o,s),null):u===0?c.copy(null,o,null,null,null):c.copy(null,null,null,null,c.right.insert(t,o,s)),c.fixUp()}removeMin(){if(this.left.isEmpty())return so.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,o){let s,c=this;if(o(t,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(t,o),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),o(t,c.key)===0){if(c.right.isEmpty())return so.EMPTY;s=c.right.min(),c=c.copy(s.key,s.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(t,o))}return c.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,so.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,so.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,o)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const t=this.left.check();if(t!==this.right.check())throw Xe();return t+(this.isRed()?0:1)}}so.EMPTY=null,so.RED=!0,so.BLACK=!1;so.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(e,t,o,s,c){return this}insert(e,t,o){return new so(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t){this.comparator=t,this.data=new gn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((o,s)=>(t(o),!1))}forEachInRange(t,o){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const c=s.getNext();if(this.comparator(c.key,t[1])>=0)return;o(c.key)}}forEachWhile(t,o){let s;for(s=o!==void 0?this.data.getIteratorFrom(o):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const o=this.data.getIteratorFrom(t);return o.hasNext()?o.getNext().key:null}getIterator(){return new c3(this.data.getIterator())}getIteratorFrom(t){return new c3(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let o=this;return o.size<t.size&&(o=t,t=this),t.forEach(s=>{o=o.add(s)}),o}isEqual(t){if(!(t instanceof Co)||this.size!==t.size)return!1;const o=this.data.getIterator(),s=t.data.getIterator();for(;o.hasNext();){const c=o.getNext().key,u=s.getNext().key;if(this.comparator(c,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(o=>{t.push(o)}),t}toString(){const t=[];return this.forEach(o=>t.push(o)),"SortedSet("+t.toString()+")"}copy(t){const o=new Co(this.comparator);return o.data=t,o}}class c3{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(t){this.fields=t,t.sort(wo.comparator)}static empty(){return new pr([])}unionWith(t){let o=new Co(wo.comparator);for(const s of this.fields)o=o.add(s);for(const s of t)o=o.add(s);return new pr(o.toArray())}covers(t){for(const o of this.fields)if(o.isPrefixOf(t))return!0;return!1}isEqual(t){return $d(this.fields,t.fields,(o,s)=>o.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(t){this.binaryString=t}static fromBase64String(t){const o=function(s){try{return atob(s)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new m7("Invalid base64 string: "+c):c}}(t);return new So(o)}static fromUint8Array(t){const o=function(s){let c="";for(let u=0;u<s.length;++u)c+=String.fromCharCode(s[u]);return c}(t);return new So(o)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const o=new Uint8Array(t.length);for(let s=0;s<t.length;s++)o[s]=t.charCodeAt(s);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}So.EMPTY_BYTE_STRING=new So("");const Mde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ma(e){if(sn(!!e),typeof e=="string"){let t=0;const o=Mde.exec(e);if(sn(!!o),o[1]){let c=o[1];c=(c+"000000000").substr(0,9),t=Number(c)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Pn(e.seconds),nanos:Pn(e.nanos)}}function Pn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ql(e){return typeof e=="string"?So.fromBase64String(e):So.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(e){var t,o;return((o=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||o===void 0?void 0:o.stringValue)==="server_timestamp"}function _E(e){const t=e.mapValue.fields.__previous_value__;return yE(t)?_E(t):t}function tf(e){const t=Ma(e.mapValue.fields.__local_write_time__.timestampValue);return new Un(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pde{constructor(t,o,s,c,u,p,m,g,v){this.databaseId=t,this.appId=o,this.persistenceKey=s,this.host=c,this.ssl=u,this.forceLongPolling=p,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=v}}class nf{constructor(t,o){this.projectId=t,this.database=o||"(default)"}static empty(){return new nf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof nf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?yE(e)?4:Nde(e)?9007199254740991:10:Xe()}function Gi(e,t){if(e===t)return!0;const o=Gl(e);if(o!==Gl(t))return!1;switch(o){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return tf(e).isEqual(tf(t));case 3:return function(s,c){if(typeof s.timestampValue=="string"&&typeof c.timestampValue=="string"&&s.timestampValue.length===c.timestampValue.length)return s.timestampValue===c.timestampValue;const u=Ma(s.timestampValue),p=Ma(c.timestampValue);return u.seconds===p.seconds&&u.nanos===p.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,c){return ql(s.bytesValue).isEqual(ql(c.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,c){return Pn(s.geoPointValue.latitude)===Pn(c.geoPointValue.latitude)&&Pn(s.geoPointValue.longitude)===Pn(c.geoPointValue.longitude)}(e,t);case 2:return function(s,c){if("integerValue"in s&&"integerValue"in c)return Pn(s.integerValue)===Pn(c.integerValue);if("doubleValue"in s&&"doubleValue"in c){const u=Pn(s.doubleValue),p=Pn(c.doubleValue);return u===p?jb(u)===jb(p):isNaN(u)&&isNaN(p)}return!1}(e,t);case 9:return $d(e.arrayValue.values||[],t.arrayValue.values||[],Gi);case 10:return function(s,c){const u=s.mapValue.fields||{},p=c.mapValue.fields||{};if(l3(u)!==l3(p))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(p[m]===void 0||!Gi(u[m],p[m])))return!1;return!0}(e,t);default:return Xe()}}function of(e,t){return(e.values||[]).find(o=>Gi(o,t))!==void 0}function Vd(e,t){if(e===t)return 0;const o=Gl(e),s=Gl(t);if(o!==s)return Nt(o,s);switch(o){case 0:case 9007199254740991:return 0;case 1:return Nt(e.booleanValue,t.booleanValue);case 2:return function(c,u){const p=Pn(c.integerValue||c.doubleValue),m=Pn(u.integerValue||u.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(e,t);case 3:return d3(e.timestampValue,t.timestampValue);case 4:return d3(tf(e),tf(t));case 5:return Nt(e.stringValue,t.stringValue);case 6:return function(c,u){const p=ql(c),m=ql(u);return p.compareTo(m)}(e.bytesValue,t.bytesValue);case 7:return function(c,u){const p=c.split("/"),m=u.split("/");for(let g=0;g<p.length&&g<m.length;g++){const v=Nt(p[g],m[g]);if(v!==0)return v}return Nt(p.length,m.length)}(e.referenceValue,t.referenceValue);case 8:return function(c,u){const p=Nt(Pn(c.latitude),Pn(u.latitude));return p!==0?p:Nt(Pn(c.longitude),Pn(u.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(c,u){const p=c.values||[],m=u.values||[];for(let g=0;g<p.length&&g<m.length;++g){const v=Vd(p[g],m[g]);if(v)return v}return Nt(p.length,m.length)}(e.arrayValue,t.arrayValue);case 10:return function(c,u){if(c===ak.mapValue&&u===ak.mapValue)return 0;if(c===ak.mapValue)return 1;if(u===ak.mapValue)return-1;const p=c.fields||{},m=Object.keys(p),g=u.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let _=0;_<m.length&&_<v.length;++_){const C=Nt(m[_],v[_]);if(C!==0)return C;const y=Vd(p[m[_]],g[v[_]]);if(y!==0)return y}return Nt(m.length,v.length)}(e.mapValue,t.mapValue);default:throw Xe()}}function d3(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Nt(e,t);const o=Ma(e),s=Ma(t),c=Nt(o.seconds,s.seconds);return c!==0?c:Nt(o.nanos,s.nanos)}function Ud(e){return r1(e)}function r1(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(s){const c=Ma(s);return`time(${c.seconds},${c.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ql(e.bytesValue).toBase64():"referenceValue"in e?(o=e.referenceValue,je.fromName(o).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(s){let c="[",u=!0;for(const p of s.values||[])u?u=!1:c+=",",c+=r1(p);return c+"]"}(e.arrayValue):"mapValue"in e?function(s){const c=Object.keys(s.fields||{}).sort();let u="{",p=!0;for(const m of c)p?p=!1:u+=",",u+=`${m}:${r1(s.fields[m])}`;return u+"}"}(e.mapValue):Xe();var t,o}function u3(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function i1(e){return!!e&&"integerValue"in e}function CE(e){return!!e&&"arrayValue"in e}function h3(e){return!!e&&"nullValue"in e}function p3(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Lk(e){return!!e&&"mapValue"in e}function dp(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return rc(e.mapValue.fields,(o,s)=>t.mapValue.fields[o]=dp(s)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let o=0;o<(e.arrayValue.values||[]).length;++o)t.arrayValue.values[o]=dp(e.arrayValue.values[o]);return t}return Object.assign({},e)}function Nde(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(t){this.value=t}static empty(){return new Wo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let o=this.value;for(let s=0;s<t.length-1;++s)if(o=(o.mapValue.fields||{})[t.get(s)],!Lk(o))return null;return o=(o.mapValue.fields||{})[t.lastSegment()],o||null}}set(t,o){this.getFieldsMap(t.popLast())[t.lastSegment()]=dp(o)}setAll(t){let o=wo.emptyPath(),s={},c=[];t.forEach((p,m)=>{if(!o.isImmediateParentOf(m)){const g=this.getFieldsMap(o);this.applyChanges(g,s,c),s={},c=[],o=m.popLast()}p?s[m.lastSegment()]=dp(p):c.push(m.lastSegment())});const u=this.getFieldsMap(o);this.applyChanges(u,s,c)}delete(t){const o=this.field(t.popLast());Lk(o)&&o.mapValue.fields&&delete o.mapValue.fields[t.lastSegment()]}isEqual(t){return Gi(this.value,t.value)}getFieldsMap(t){let o=this.value;o.mapValue.fields||(o.mapValue={fields:{}});for(let s=0;s<t.length;++s){let c=o.mapValue.fields[t.get(s)];Lk(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},o.mapValue.fields[t.get(s)]=c),o=c}return o.mapValue.fields}applyChanges(t,o,s){rc(o,(c,u)=>t[c]=u);for(const c of s)delete t[c]}clone(){return new Wo(dp(this.value))}}function k7(e){const t=[];return rc(e.fields,(o,s)=>{const c=new wo([o]);if(Lk(s)){const u=k7(s.mapValue).fields;if(u.length===0)t.push(c);else for(const p of u)t.push(c.child(p))}else t.push(c)}),new pr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t,o,s,c,u,p,m){this.key=t,this.documentType=o,this.version=s,this.readTime=c,this.createTime=u,this.data=p,this.documentState=m}static newInvalidDocument(t){return new vo(t,0,it.min(),it.min(),it.min(),Wo.empty(),0)}static newFoundDocument(t,o,s,c){return new vo(t,1,o,it.min(),s,c,0)}static newNoDocument(t,o){return new vo(t,2,o,it.min(),it.min(),Wo.empty(),0)}static newUnknownDocument(t,o){return new vo(t,3,o,it.min(),it.min(),Wo.empty(),2)}convertToFoundDocument(t,o){return!this.createTime.isEqual(it.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=o,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Wo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Wo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=it.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof vo&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new vo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(t,o){this.position=t,this.inclusive=o}}function f3(e,t,o){let s=0;for(let c=0;c<e.position.length;c++){const u=t[c],p=e.position[c];if(u.field.isKeyField()?s=je.comparator(je.fromName(p.referenceValue),o.key):s=Vd(p,o.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function g3(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let o=0;o<e.position.length;o++)if(!Gi(e.position[o],t.position[o]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(t,o="asc"){this.field=t,this.dir=o}}function Rde(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{}class On extends b7{constructor(t,o,s){super(),this.field=t,this.op=o,this.value=s}static create(t,o,s){return t.isKeyField()?o==="in"||o==="not-in"?this.createKeyFieldInFilter(t,o,s):new Bde(t,o,s):o==="array-contains"?new zde(t,s):o==="in"?new Fde(t,s):o==="not-in"?new $de(t,s):o==="array-contains-any"?new Vde(t,s):new On(t,o,s)}static createKeyFieldInFilter(t,o,s){return o==="in"?new Lde(t,s):new jde(t,s)}matches(t){const o=t.data.field(this.field);return this.op==="!="?o!==null&&this.matchesComparison(Vd(o,this.value)):o!==null&&Gl(this.value)===Gl(o)&&this.matchesComparison(Vd(o,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class vi extends b7{constructor(t,o){super(),this.filters=t,this.op=o,this.lt=null}static create(t,o){return new vi(t,o)}matches(t){return v7(this)?this.filters.find(o=>!o.matches(t))===void 0:this.filters.find(o=>o.matches(t))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((t,o)=>t.concat(o.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(o=>o.isInequality());return t!==null?t.field:null}ft(t){for(const o of this.getFlattenedFilters())if(t(o))return o;return null}}function v7(e){return e.op==="and"}function w7(e){return Ode(e)&&v7(e)}function Ode(e){for(const t of e.filters)if(t instanceof vi)return!1;return!0}function s1(e){if(e instanceof On)return e.field.canonicalString()+e.op.toString()+Ud(e.value);if(w7(e))return e.filters.map(t=>s1(t)).join(",");{const t=e.filters.map(o=>s1(o)).join(",");return`${e.op}(${t})`}}function y7(e,t){return e instanceof On?function(o,s){return s instanceof On&&o.op===s.op&&o.field.isEqual(s.field)&&Gi(o.value,s.value)}(e,t):e instanceof vi?function(o,s){return s instanceof vi&&o.op===s.op&&o.filters.length===s.filters.length?o.filters.reduce((c,u,p)=>c&&y7(u,s.filters[p]),!0):!1}(e,t):void Xe()}function _7(e){return e instanceof On?function(t){return`${t.field.canonicalString()} ${t.op} ${Ud(t.value)}`}(e):e instanceof vi?function(t){return t.op.toString()+" {"+t.getFilters().map(_7).join(" ,")+"}"}(e):"Filter"}class Bde extends On{constructor(t,o,s){super(t,o,s),this.key=je.fromName(s.referenceValue)}matches(t){const o=je.comparator(t.key,this.key);return this.matchesComparison(o)}}class Lde extends On{constructor(t,o){super(t,"in",o),this.keys=C7("in",o)}matches(t){return this.keys.some(o=>o.isEqual(t.key))}}class jde extends On{constructor(t,o){super(t,"not-in",o),this.keys=C7("not-in",o)}matches(t){return!this.keys.some(o=>o.isEqual(t.key))}}function C7(e,t){var o;return(((o=t.arrayValue)===null||o===void 0?void 0:o.values)||[]).map(s=>je.fromName(s.referenceValue))}class zde extends On{constructor(t,o){super(t,"array-contains",o)}matches(t){const o=t.data.field(this.field);return CE(o)&&of(o.arrayValue,this.value)}}class Fde extends On{constructor(t,o){super(t,"in",o)}matches(t){const o=t.data.field(this.field);return o!==null&&of(this.value.arrayValue,o)}}class $de extends On{constructor(t,o){super(t,"not-in",o)}matches(t){if(of(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const o=t.data.field(this.field);return o!==null&&!of(this.value.arrayValue,o)}}class Vde extends On{constructor(t,o){super(t,"array-contains-any",o)}matches(t){const o=t.data.field(this.field);return!(!CE(o)||!o.arrayValue.values)&&o.arrayValue.values.some(s=>of(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ude{constructor(t,o=null,s=[],c=[],u=null,p=null,m=null){this.path=t,this.collectionGroup=o,this.orderBy=s,this.filters=c,this.limit=u,this.startAt=p,this.endAt=m,this.dt=null}}function m3(e,t=null,o=[],s=[],c=null,u=null,p=null){return new Ude(e,t,o,s,c,u,p)}function AE(e){const t=lt(e);if(t.dt===null){let o=t.path.canonicalString();t.collectionGroup!==null&&(o+="|cg:"+t.collectionGroup),o+="|f:",o+=t.filters.map(s=>s1(s)).join(","),o+="|ob:",o+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),q0(t.limit)||(o+="|l:",o+=t.limit),t.startAt&&(o+="|lb:",o+=t.startAt.inclusive?"b:":"a:",o+=t.startAt.position.map(s=>Ud(s)).join(",")),t.endAt&&(o+="|ub:",o+=t.endAt.inclusive?"a:":"b:",o+=t.endAt.position.map(s=>Ud(s)).join(",")),t.dt=o}return t.dt}function xE(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let o=0;o<e.orderBy.length;o++)if(!Rde(e.orderBy[o],t.orderBy[o]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let o=0;o<e.filters.length;o++)if(!y7(e.filters[o],t.filters[o]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!g3(e.startAt,t.startAt)&&g3(e.endAt,t.endAt)}function a1(e){return je.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(t,o=null,s=[],c=[],u=null,p="F",m=null,g=null){this.path=t,this.collectionGroup=o,this.explicitOrderBy=s,this.filters=c,this.limit=u,this.limitType=p,this.startAt=m,this.endAt=g,this.wt=null,this._t=null,this.startAt,this.endAt}}function Hde(e,t,o,s,c,u,p,m){return new du(e,t,o,s,c,u,p,m)}function G0(e){return new du(e)}function k3(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function EE(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function K0(e){for(const t of e.filters){const o=t.getFirstInequalityField();if(o!==null)return o}return null}function A7(e){return e.collectionGroup!==null}function Ed(e){const t=lt(e);if(t.wt===null){t.wt=[];const o=K0(t),s=EE(t);if(o!==null&&s===null)o.isKeyField()||t.wt.push(new xd(o)),t.wt.push(new xd(wo.keyField(),"asc"));else{let c=!1;for(const u of t.explicitOrderBy)t.wt.push(u),u.field.isKeyField()&&(c=!0);if(!c){const u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new xd(wo.keyField(),u))}}}return t.wt}function Ms(e){const t=lt(e);if(!t._t)if(t.limitType==="F")t._t=m3(t.path,t.collectionGroup,Ed(t),t.filters,t.limit,t.startAt,t.endAt);else{const o=[];for(const u of Ed(t)){const p=u.dir==="desc"?"asc":"desc";o.push(new xd(u.field,p))}const s=t.endAt?new zb(t.endAt.position,t.endAt.inclusive):null,c=t.startAt?new zb(t.startAt.position,t.startAt.inclusive):null;t._t=m3(t.path,t.collectionGroup,o,t.filters,t.limit,s,c)}return t._t}function l1(e,t){t.getFirstInequalityField(),K0(e);const o=e.filters.concat([t]);return new du(e.path,e.collectionGroup,e.explicitOrderBy.slice(),o,e.limit,e.limitType,e.startAt,e.endAt)}function c1(e,t,o){return new du(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,o,e.startAt,e.endAt)}function Y0(e,t){return xE(Ms(e),Ms(t))&&e.limitType===t.limitType}function x7(e){return`${AE(Ms(e))}|lt:${e.limitType}`}function d1(e){return`Query(target=${function(t){let o=t.path.canonicalString();return t.collectionGroup!==null&&(o+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(o+=`, filters: [${t.filters.map(s=>_7(s)).join(", ")}]`),q0(t.limit)||(o+=", limit: "+t.limit),t.orderBy.length>0&&(o+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(o+=", startAt: ",o+=t.startAt.inclusive?"b:":"a:",o+=t.startAt.position.map(s=>Ud(s)).join(",")),t.endAt&&(o+=", endAt: ",o+=t.endAt.inclusive?"a:":"b:",o+=t.endAt.position.map(s=>Ud(s)).join(",")),`Target(${o})`}(Ms(e))}; limitType=${e.limitType})`}function Q0(e,t){return t.isFoundDocument()&&function(o,s){const c=s.key.path;return o.collectionGroup!==null?s.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(c):je.isDocumentKey(o.path)?o.path.isEqual(c):o.path.isImmediateParentOf(c)}(e,t)&&function(o,s){for(const c of Ed(o))if(!c.field.isKeyField()&&s.data.field(c.field)===null)return!1;return!0}(e,t)&&function(o,s){for(const c of o.filters)if(!c.matches(s))return!1;return!0}(e,t)&&function(o,s){return!(o.startAt&&!function(c,u,p){const m=f3(c,u,p);return c.inclusive?m<=0:m<0}(o.startAt,Ed(o),s)||o.endAt&&!function(c,u,p){const m=f3(c,u,p);return c.inclusive?m>=0:m>0}(o.endAt,Ed(o),s))}(e,t)}function Wde(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function E7(e){return(t,o)=>{let s=!1;for(const c of Ed(e)){const u=qde(c,t,o);if(u!==0)return u;s=s||c.field.isKeyField()}return 0}}function qde(e,t,o){const s=e.field.isKeyField()?je.comparator(t.key,o.key):function(c,u,p){const m=u.data.field(c),g=p.data.field(c);return m!==null&&g!==null?Vd(m,g):Xe()}(e.field,t,o);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return Xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(t,o){this.mapKeyFn=t,this.equalsFn=o,this.inner={},this.innerSize=0}get(t){const o=this.mapKeyFn(t),s=this.inner[o];if(s!==void 0){for(const[c,u]of s)if(this.equalsFn(c,t))return u}}has(t){return this.get(t)!==void 0}set(t,o){const s=this.mapKeyFn(t),c=this.inner[s];if(c===void 0)return this.inner[s]=[[t,o]],void this.innerSize++;for(let u=0;u<c.length;u++)if(this.equalsFn(c[u][0],t))return void(c[u]=[t,o]);c.push([t,o]),this.innerSize++}delete(t){const o=this.mapKeyFn(t),s=this.inner[o];if(s===void 0)return!1;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],t))return s.length===1?delete this.inner[o]:s.splice(c,1),this.innerSize--,!0;return!1}forEach(t){rc(this.inner,(o,s)=>{for(const[c,u]of s)t(c,u)})}isEmpty(){return g7(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gde=new gn(je.comparator);function Ps(){return Gde}const S7=new gn(je.comparator);function Kh(...e){let t=S7;for(const o of e)t=t.insert(o.key,o);return t}function T7(e){let t=S7;return e.forEach((o,s)=>t=t.insert(o,s.overlayedDocument)),t}function Sl(){return up()}function I7(){return up()}function up(){return new uu(e=>e.toString(),(e,t)=>e.isEqual(t))}const Kde=new gn(je.comparator),Yde=new Co(je.comparator);function mt(...e){let t=Yde;for(const o of e)t=t.add(o);return t}const Qde=new Co(Nt);function Zde(){return Qde}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D7(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jb(t)?"-0":t}}function M7(e){return{integerValue:""+e}}function Jde(e,t){return Dde(t)?M7(t):D7(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(){this._=void 0}}function Xde(e,t,o){return e instanceof rf?function(s,c){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return c&&yE(c)&&(c=_E(c)),c&&(u.fields.__previous_value__=c),{mapValue:u}}(o,t):e instanceof sf?N7(e,t):e instanceof af?R7(e,t):function(s,c){const u=P7(s,c),p=b3(u)+b3(s.gt);return i1(u)&&i1(s.gt)?M7(p):D7(s.serializer,p)}(e,t)}function eue(e,t,o){return e instanceof sf?N7(e,t):e instanceof af?R7(e,t):o}function P7(e,t){return e instanceof Fb?i1(o=t)||function(s){return!!s&&"doubleValue"in s}(o)?t:{integerValue:0}:null;var o}class rf extends Z0{}class sf extends Z0{constructor(t){super(),this.elements=t}}function N7(e,t){const o=O7(t);for(const s of e.elements)o.some(c=>Gi(c,s))||o.push(s);return{arrayValue:{values:o}}}class af extends Z0{constructor(t){super(),this.elements=t}}function R7(e,t){let o=O7(t);for(const s of e.elements)o=o.filter(c=>!Gi(c,s));return{arrayValue:{values:o}}}class Fb extends Z0{constructor(t,o){super(),this.serializer=t,this.gt=o}}function b3(e){return Pn(e.integerValue||e.doubleValue)}function O7(e){return CE(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tue{constructor(t,o){this.field=t,this.transform=o}}function nue(e,t){return e.field.isEqual(t.field)&&function(o,s){return o instanceof sf&&s instanceof sf||o instanceof af&&s instanceof af?$d(o.elements,s.elements,Gi):o instanceof Fb&&s instanceof Fb?Gi(o.gt,s.gt):o instanceof rf&&s instanceof rf}(e.transform,t.transform)}class oue{constructor(t,o){this.version=t,this.transformResults=o}}class Vr{constructor(t,o){this.updateTime=t,this.exists=o}static none(){return new Vr}static exists(t){return new Vr(void 0,t)}static updateTime(t){return new Vr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jk(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class J0{}function B7(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new SE(e.key,Vr.none()):new Uf(e.key,e.data,Vr.none());{const o=e.data,s=Wo.empty();let c=new Co(wo.comparator);for(let u of t.fields)if(!c.has(u)){let p=o.field(u);p===null&&u.length>1&&(u=u.popLast(),p=o.field(u)),p===null?s.delete(u):s.set(u,p),c=c.add(u)}return new Va(e.key,s,new pr(c.toArray()),Vr.none())}}function rue(e,t,o){e instanceof Uf?function(s,c,u){const p=s.value.clone(),m=w3(s.fieldTransforms,c,u.transformResults);p.setAll(m),c.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(e,t,o):e instanceof Va?function(s,c,u){if(!jk(s.precondition,c))return void c.convertToUnknownDocument(u.version);const p=w3(s.fieldTransforms,c,u.transformResults),m=c.data;m.setAll(L7(s)),m.setAll(p),c.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(e,t,o):function(s,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()}(0,t,o)}function hp(e,t,o,s){return e instanceof Uf?function(c,u,p,m){if(!jk(c.precondition,u))return p;const g=c.value.clone(),v=y3(c.fieldTransforms,m,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(e,t,o,s):e instanceof Va?function(c,u,p,m){if(!jk(c.precondition,u))return p;const g=y3(c.fieldTransforms,m,u),v=u.data;return v.setAll(L7(c)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(_=>_.field))}(e,t,o,s):function(c,u,p){return jk(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):p}(e,t,o)}function iue(e,t){let o=null;for(const s of e.fieldTransforms){const c=t.data.field(s.field),u=P7(s.transform,c||null);u!=null&&(o===null&&(o=Wo.empty()),o.set(s.field,u))}return o||null}function v3(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(o,s){return o===void 0&&s===void 0||!(!o||!s)&&$d(o,s,(c,u)=>nue(c,u))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Uf extends J0{constructor(t,o,s,c=[]){super(),this.key=t,this.value=o,this.precondition=s,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class Va extends J0{constructor(t,o,s,c,u=[]){super(),this.key=t,this.data=o,this.fieldMask=s,this.precondition=c,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function L7(e){const t=new Map;return e.fieldMask.fields.forEach(o=>{if(!o.isEmpty()){const s=e.data.field(o);t.set(o,s)}}),t}function w3(e,t,o){const s=new Map;sn(e.length===o.length);for(let c=0;c<o.length;c++){const u=e[c],p=u.transform,m=t.data.field(u.field);s.set(u.field,eue(p,m,o[c]))}return s}function y3(e,t,o){const s=new Map;for(const c of e){const u=c.transform,p=o.data.field(c.field);s.set(c.field,Xde(u,p,t))}return s}class SE extends J0{constructor(t,o){super(),this.key=t,this.precondition=o,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sue extends J0{constructor(t,o){super(),this.key=t,this.precondition=o,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aue{constructor(t,o,s,c){this.batchId=t,this.localWriteTime=o,this.baseMutations=s,this.mutations=c}applyToRemoteDocument(t,o){const s=o.mutationResults;for(let c=0;c<this.mutations.length;c++){const u=this.mutations[c];u.key.isEqual(t.key)&&rue(u,t,s[c])}}applyToLocalView(t,o){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(o=hp(s,t,o,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(o=hp(s,t,o,this.localWriteTime));return o}applyToLocalDocumentSet(t,o){const s=I7();return this.mutations.forEach(c=>{const u=t.get(c.key),p=u.overlayedDocument;let m=this.applyToLocalView(p,u.mutatedFields);m=o.has(c.key)?null:m;const g=B7(p,m);g!==null&&s.set(c.key,g),p.isValidDocument()||p.convertToNoDocument(it.min())}),s}keys(){return this.mutations.reduce((t,o)=>t.add(o.key),mt())}isEqual(t){return this.batchId===t.batchId&&$d(this.mutations,t.mutations,(o,s)=>v3(o,s))&&$d(this.baseMutations,t.baseMutations,(o,s)=>v3(o,s))}}class TE{constructor(t,o,s,c){this.batch=t,this.commitVersion=o,this.mutationResults=s,this.docVersions=c}static from(t,o,s){sn(t.mutations.length===s.length);let c=Kde;const u=t.mutations;for(let p=0;p<u.length;p++)c=c.insert(u[p].key,s[p].version);return new TE(t,o,s,c)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lue{constructor(t,o){this.largestBatchId=t,this.mutation=o}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cue{constructor(t,o){this.count=t,this.unchangedNames=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn,vt;function due(e){switch(e){default:return Xe();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function j7(e){if(e===void 0)return Ds("GRPC error has no .code"),ue.UNKNOWN;switch(e){case Mn.OK:return ue.OK;case Mn.CANCELLED:return ue.CANCELLED;case Mn.UNKNOWN:return ue.UNKNOWN;case Mn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Mn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Mn.INTERNAL:return ue.INTERNAL;case Mn.UNAVAILABLE:return ue.UNAVAILABLE;case Mn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Mn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Mn.NOT_FOUND:return ue.NOT_FOUND;case Mn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Mn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Mn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Mn.ABORTED:return ue.ABORTED;case Mn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Mn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Mn.DATA_LOSS:return ue.DATA_LOSS;default:return Xe()}}(vt=Mn||(Mn={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return lk}static getOrCreateInstance(){return lk===null&&(lk=new IE),lk}onExistenceFilterMismatch(t){const o=Symbol();return this.onExistenceFilterMismatchCallbacks.set(o,t),()=>this.onExistenceFilterMismatchCallbacks.delete(o)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(o=>o(t))}}let lk=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uue(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hue=new Ad([4294967295,4294967295],0);function _3(e){const t=uue().encode(e),o=new gde;return o.update(t),new Uint8Array(o.digest())}function C3(e){const t=new DataView(e.buffer),o=t.getUint32(0,!0),s=t.getUint32(4,!0),c=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ad([o,s],0),new Ad([c,u],0)]}class DE{constructor(t,o,s){if(this.bitmap=t,this.padding=o,this.hashCount=s,o<0||o>=8)throw new Yh(`Invalid padding: ${o}`);if(s<0)throw new Yh(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Yh(`Invalid hash count: ${s}`);if(t.length===0&&o!==0)throw new Yh(`Invalid padding when bitmap length is 0: ${o}`);this.It=8*t.length-o,this.Tt=Ad.fromNumber(this.It)}Et(t,o,s){let c=t.add(o.multiply(Ad.fromNumber(s)));return c.compare(hue)===1&&(c=new Ad([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Tt).toNumber()}At(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}vt(t){if(this.It===0)return!1;const o=_3(t),[s,c]=C3(o);for(let u=0;u<this.hashCount;u++){const p=this.Et(s,c,u);if(!this.At(p))return!1}return!0}static create(t,o,s){const c=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),p=new DE(u,c,o);return s.forEach(m=>p.insert(m)),p}insert(t){if(this.It===0)return;const o=_3(t),[s,c]=C3(o);for(let u=0;u<this.hashCount;u++){const p=this.Et(s,c,u);this.Rt(p)}}Rt(t){const o=Math.floor(t/8),s=t%8;this.bitmap[o]|=1<<s}}class Yh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(t,o,s,c,u){this.snapshotVersion=t,this.targetChanges=o,this.targetMismatches=s,this.documentUpdates=c,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,o,s){const c=new Map;return c.set(t,Hf.createSynthesizedTargetChangeForCurrentChange(t,o,s)),new X0(it.min(),c,new gn(Nt),Ps(),mt())}}class Hf{constructor(t,o,s,c,u){this.resumeToken=t,this.current=o,this.addedDocuments=s,this.modifiedDocuments=c,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,o,s){return new Hf(s,o,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(t,o,s,c){this.Pt=t,this.removedTargetIds=o,this.key=s,this.bt=c}}class z7{constructor(t,o){this.targetId=t,this.Vt=o}}class F7{constructor(t,o,s=So.EMPTY_BYTE_STRING,c=null){this.state=t,this.targetIds=o,this.resumeToken=s,this.cause=c}}class A3{constructor(){this.St=0,this.Dt=E3(),this.Ct=So.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=mt(),o=mt(),s=mt();return this.Dt.forEach((c,u)=>{switch(u){case 0:t=t.add(c);break;case 2:o=o.add(c);break;case 1:s=s.add(c);break;default:Xe()}}),new Hf(this.Ct,this.xt,t,o,s)}Ft(){this.Nt=!1,this.Dt=E3()}Bt(t,o){this.Nt=!0,this.Dt=this.Dt.insert(t,o)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class pue{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=Ps(),this.zt=x3(),this.Wt=new gn(Nt)}Ht(t){for(const o of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(o,t.bt):this.Yt(o,t.key,t.bt);for(const o of t.removedTargetIds)this.Yt(o,t.key,t.bt)}Xt(t){this.forEachTarget(t,o=>{const s=this.Zt(o);switch(t.state){case 0:this.te(o)&&s.$t(t.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(t.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(o);break;case 3:this.te(o)&&(s.Kt(),s.$t(t.resumeToken));break;case 4:this.te(o)&&(this.ee(o),s.$t(t.resumeToken));break;default:Xe()}})}forEachTarget(t,o){t.targetIds.length>0?t.targetIds.forEach(o):this.Qt.forEach((s,c)=>{this.te(c)&&o(c)})}ne(t){var o;const s=t.targetId,c=t.Vt.count,u=this.se(s);if(u){const p=u.target;if(a1(p))if(c===0){const m=new je(p.path);this.Yt(s,m,vo.newNoDocument(m,it.min()))}else sn(c===1);else{const m=this.ie(s);if(m!==c){const g=this.re(t,m);if(g!==0){this.ee(s);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(s,v)}(o=IE.instance)===null||o===void 0||o.notifyOnExistenceFilterMismatch(function(v,_,C){var y,x,S,T,P,D;const R={localCacheCount:_,existenceFilterCount:C.count},B=C.unchangedNames;return B&&(R.bloomFilter={applied:v===0,hashCount:(y=B==null?void 0:B.hashCount)!==null&&y!==void 0?y:0,bitmapLength:(T=(S=(x=B==null?void 0:B.bits)===null||x===void 0?void 0:x.bitmap)===null||S===void 0?void 0:S.length)!==null&&T!==void 0?T:0,padding:(D=(P=B==null?void 0:B.bits)===null||P===void 0?void 0:P.padding)!==null&&D!==void 0?D:0}),R}(g,m,t.Vt))}}}}re(t,o){const{unchangedNames:s,count:c}=t.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:u="",padding:p=0},hashCount:m=0}=s;let g,v;try{g=ql(u).toUint8Array()}catch(_){if(_ instanceof m7)return Fd("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw _}try{v=new DE(g,p,m)}catch(_){return Fd(_ instanceof Yh?"BloomFilter error: ":"Applying bloom filter failed: ",_),1}return v.It===0?1:c!==o-this.oe(t.targetId,v)?2:0}oe(t,o){const s=this.Gt.getRemoteKeysForTarget(t);let c=0;return s.forEach(u=>{const p=this.Gt.ue(),m=`projects/${p.projectId}/databases/${p.database}/documents/${u.path.canonicalString()}`;o.vt(m)||(this.Yt(t,u,null),c++)}),c}ce(t){const o=new Map;this.Qt.forEach((u,p)=>{const m=this.se(p);if(m){if(u.current&&a1(m.target)){const g=new je(m.target.path);this.jt.get(g)!==null||this.ae(p,g)||this.Yt(p,g,vo.newNoDocument(g,t))}u.Mt&&(o.set(p,u.Ot()),u.Ft())}});let s=mt();this.zt.forEach((u,p)=>{let m=!0;p.forEachWhile(g=>{const v=this.se(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.jt.forEach((u,p)=>p.setReadTime(t));const c=new X0(t,o,this.Wt,this.jt,s);return this.jt=Ps(),this.zt=x3(),this.Wt=new gn(Nt),c}Jt(t,o){if(!this.te(t))return;const s=this.ae(t,o.key)?2:0;this.Zt(t).Bt(o.key,s),this.jt=this.jt.insert(o.key,o),this.zt=this.zt.insert(o.key,this.he(o.key).add(t))}Yt(t,o,s){if(!this.te(t))return;const c=this.Zt(t);this.ae(t,o)?c.Bt(o,1):c.Lt(o),this.zt=this.zt.insert(o,this.he(o).delete(t)),s&&(this.jt=this.jt.insert(o,s))}removeTarget(t){this.Qt.delete(t)}ie(t){const o=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+o.addedDocuments.size-o.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let o=this.Qt.get(t);return o||(o=new A3,this.Qt.set(t,o)),o}he(t){let o=this.zt.get(t);return o||(o=new Co(Nt),this.zt=this.zt.insert(t,o)),o}te(t){const o=this.se(t)!==null;return o||Re("WatchChangeAggregator","Detected inactive target",t),o}se(t){const o=this.Qt.get(t);return o&&o.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new A3),this.Gt.getRemoteKeysForTarget(t).forEach(o=>{this.Yt(t,o,null)})}ae(t,o){return this.Gt.getRemoteKeysForTarget(t).has(o)}}function x3(){return new gn(je.comparator)}function E3(){return new gn(je.comparator)}const fue={asc:"ASCENDING",desc:"DESCENDING"},gue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mue={and:"AND",or:"OR"};class kue{constructor(t,o){this.databaseId=t,this.useProto3Json=o}}function u1(e,t){return e.useProto3Json||q0(t)?t:{value:t}}function $b(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $7(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function bue(e,t){return $b(e,t.toTimestamp())}function Ui(e){return sn(!!e),it.fromTimestamp(function(t){const o=Ma(t);return new Un(o.seconds,o.nanos)}(e))}function ME(e,t){return function(o){return new on(["projects",o.projectId,"databases",o.database])}(e).child("documents").child(t).canonicalString()}function V7(e){const t=on.fromString(e);return sn(q7(t)),t}function h1(e,t){return ME(e.databaseId,t.path)}function mC(e,t){const o=V7(t);if(o.get(1)!==e.databaseId.projectId)throw new Se(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+o.get(1)+" vs "+e.databaseId.projectId);if(o.get(3)!==e.databaseId.database)throw new Se(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+o.get(3)+" vs "+e.databaseId.database);return new je(U7(o))}function p1(e,t){return ME(e.databaseId,t)}function vue(e){const t=V7(e);return t.length===4?on.emptyPath():U7(t)}function f1(e){return new on(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function U7(e){return sn(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function S3(e,t,o){return{name:h1(e,t),fields:o.value.mapValue.fields}}function wue(e,t){let o;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Xe()}(t.targetChange.targetChangeType||"NO_CHANGE"),c=t.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(sn(v===void 0||typeof v=="string"),So.fromBase64String(v||"")):(sn(v===void 0||v instanceof Uint8Array),So.fromUint8Array(v||new Uint8Array))}(e,t.targetChange.resumeToken),p=t.targetChange.cause,m=p&&function(g){const v=g.code===void 0?ue.UNKNOWN:j7(g.code);return new Se(v,g.message||"")}(p);o=new F7(s,c,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const c=mC(e,s.document.name),u=Ui(s.document.updateTime),p=s.document.createTime?Ui(s.document.createTime):it.min(),m=new Wo({mapValue:{fields:s.document.fields}}),g=vo.newFoundDocument(c,u,p,m),v=s.targetIds||[],_=s.removedTargetIds||[];o=new zk(v,_,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const c=mC(e,s.document),u=s.readTime?Ui(s.readTime):it.min(),p=vo.newNoDocument(c,u),m=s.removedTargetIds||[];o=new zk([],m,p.key,p)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const c=mC(e,s.document),u=s.removedTargetIds||[];o=new zk([],u,c,null)}else{if(!("filter"in t))return Xe();{t.filter;const s=t.filter;s.targetId;const{count:c=0,unchangedNames:u}=s,p=new cue(c,u),m=s.targetId;o=new z7(m,p)}}return o}function yue(e,t){let o;if(t instanceof Uf)o={update:S3(e,t.key,t.value)};else if(t instanceof SE)o={delete:h1(e,t.key)};else if(t instanceof Va)o={update:S3(e,t.key,t.data),updateMask:Due(t.fieldMask)};else{if(!(t instanceof sue))return Xe();o={verify:h1(e,t.key)}}return t.fieldTransforms.length>0&&(o.updateTransforms=t.fieldTransforms.map(s=>function(c,u){const p=u.transform;if(p instanceof rf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof sf)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof af)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Fb)return{fieldPath:u.field.canonicalString(),increment:p.gt};throw Xe()}(0,s))),t.precondition.isNone||(o.currentDocument=function(s,c){return c.updateTime!==void 0?{updateTime:bue(s,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Xe()}(e,t.precondition)),o}function _ue(e,t){return e&&e.length>0?(sn(t!==void 0),e.map(o=>function(s,c){let u=s.updateTime?Ui(s.updateTime):Ui(c);return u.isEqual(it.min())&&(u=Ui(c)),new oue(u,s.transformResults||[])}(o,t))):[]}function Cue(e,t){return{documents:[p1(e,t.path)]}}function Aue(e,t){const o={structuredQuery:{}},s=t.path;t.collectionGroup!==null?(o.parent=p1(e,s),o.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o.parent=p1(e,s.popLast()),o.structuredQuery.from=[{collectionId:s.lastSegment()}]);const c=function(g){if(g.length!==0)return W7(vi.create(g,"and"))}(t.filters);c&&(o.structuredQuery.where=c);const u=function(g){if(g.length!==0)return g.map(v=>function(_){return{field:Zc(_.field),direction:Sue(_.dir)}}(v))}(t.orderBy);u&&(o.structuredQuery.orderBy=u);const p=u1(e,t.limit);var m;return p!==null&&(o.structuredQuery.limit=p),t.startAt&&(o.structuredQuery.startAt={before:(m=t.startAt).inclusive,values:m.position}),t.endAt&&(o.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),o}function xue(e){let t=vue(e.parent);const o=e.structuredQuery,s=o.from?o.from.length:0;let c=null;if(s>0){sn(s===1);const _=o.from[0];_.allDescendants?c=_.collectionId:t=t.child(_.collectionId)}let u=[];o.where&&(u=function(_){const C=H7(_);return C instanceof vi&&w7(C)?C.getFilters():[C]}(o.where));let p=[];o.orderBy&&(p=o.orderBy.map(_=>function(C){return new xd(Jc(C.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(_)));let m=null;o.limit&&(m=function(_){let C;return C=typeof _=="object"?_.value:_,q0(C)?null:C}(o.limit));let g=null;o.startAt&&(g=function(_){const C=!!_.before,y=_.values||[];return new zb(y,C)}(o.startAt));let v=null;return o.endAt&&(v=function(_){const C=!_.before,y=_.values||[];return new zb(y,C)}(o.endAt)),Hde(t,c,p,u,m,"F",g,v)}function Eue(e,t){const o=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(t.purpose);return o==null?null:{"goog-listen-tags":o}}function H7(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const o=Jc(t.unaryFilter.field);return On.create(o,"==",{doubleValue:NaN});case"IS_NULL":const s=Jc(t.unaryFilter.field);return On.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Jc(t.unaryFilter.field);return On.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Jc(t.unaryFilter.field);return On.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(e):e.fieldFilter!==void 0?function(t){return On.create(Jc(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return vi.create(t.compositeFilter.filters.map(o=>H7(o)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Xe()}}(t.compositeFilter.op))}(e):Xe()}function Sue(e){return fue[e]}function Tue(e){return gue[e]}function Iue(e){return mue[e]}function Zc(e){return{fieldPath:e.canonicalString()}}function Jc(e){return wo.fromServerFormat(e.fieldPath)}function W7(e){return e instanceof On?function(t){if(t.op==="=="){if(p3(t.value))return{unaryFilter:{field:Zc(t.field),op:"IS_NAN"}};if(h3(t.value))return{unaryFilter:{field:Zc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(p3(t.value))return{unaryFilter:{field:Zc(t.field),op:"IS_NOT_NAN"}};if(h3(t.value))return{unaryFilter:{field:Zc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zc(t.field),op:Tue(t.op),value:t.value}}}(e):e instanceof vi?function(t){const o=t.getFilters().map(s=>W7(s));return o.length===1?o[0]:{compositeFilter:{op:Iue(t.op),filters:o}}}(e):Xe()}function Due(e){const t=[];return e.fields.forEach(o=>t.push(o.canonicalString())),{fieldPaths:t}}function q7(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(t,o,s,c,u=it.min(),p=it.min(),m=So.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=o,this.purpose=s,this.sequenceNumber=c,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new ha(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,o){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mue{constructor(t){this.fe=t}}function Pue(e){const t=xue({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?c1(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nue{constructor(){this.rn=new Rue}addToCollectionParentIndex(t,o){return this.rn.add(o),me.resolve()}getCollectionParents(t,o){return me.resolve(this.rn.getEntries(o))}addFieldIndex(t,o){return me.resolve()}deleteFieldIndex(t,o){return me.resolve()}getDocumentsMatchingTarget(t,o){return me.resolve(null)}getIndexType(t,o){return me.resolve(0)}getFieldIndexes(t,o){return me.resolve([])}getNextCollectionGroupToUpdate(t){return me.resolve(null)}getMinOffset(t,o){return me.resolve(Da.min())}getMinOffsetFromCollectionGroup(t,o){return me.resolve(Da.min())}updateCollectionGroup(t,o,s){return me.resolve()}updateIndexEntries(t,o){return me.resolve()}}class Rue{constructor(){this.index={}}add(t){const o=t.lastSegment(),s=t.popLast(),c=this.index[o]||new Co(on.comparator),u=!c.has(s);return this.index[o]=c.add(s),u}has(t){const o=t.lastSegment(),s=t.popLast(),c=this.index[o];return c&&c.has(s)}getEntries(t){return(this.index[t]||new Co(on.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new Hd(0)}static Mn(){return new Hd(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oue{constructor(){this.changes=new uu(t=>t.toString(),(t,o)=>t.isEqual(o)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,o){this.assertNotApplied(),this.changes.set(t,vo.newInvalidDocument(t).setReadTime(o))}getEntry(t,o){this.assertNotApplied();const s=this.changes.get(o);return s!==void 0?me.resolve(s):this.getFromCache(t,o)}getEntries(t,o){return this.getAllFromCache(t,o)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bue{constructor(t,o){this.overlayedDocument=t,this.mutatedFields=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lue{constructor(t,o,s,c){this.remoteDocumentCache=t,this.mutationQueue=o,this.documentOverlayCache=s,this.indexManager=c}getDocument(t,o){let s=null;return this.documentOverlayCache.getOverlay(t,o).next(c=>(s=c,this.remoteDocumentCache.getEntry(t,o))).next(c=>(s!==null&&hp(s.mutation,c,pr.empty(),Un.now()),c))}getDocuments(t,o){return this.remoteDocumentCache.getEntries(t,o).next(s=>this.getLocalViewOfDocuments(t,s,mt()).next(()=>s))}getLocalViewOfDocuments(t,o,s=mt()){const c=Sl();return this.populateOverlays(t,c,o).next(()=>this.computeViews(t,o,c,s).next(u=>{let p=Kh();return u.forEach((m,g)=>{p=p.insert(m,g.overlayedDocument)}),p}))}getOverlayedDocuments(t,o){const s=Sl();return this.populateOverlays(t,s,o).next(()=>this.computeViews(t,o,s,mt()))}populateOverlays(t,o,s){const c=[];return s.forEach(u=>{o.has(u)||c.push(u)}),this.documentOverlayCache.getOverlays(t,c).next(u=>{u.forEach((p,m)=>{o.set(p,m)})})}computeViews(t,o,s,c){let u=Ps();const p=up(),m=up();return o.forEach((g,v)=>{const _=s.get(v.key);c.has(v.key)&&(_===void 0||_.mutation instanceof Va)?u=u.insert(v.key,v):_!==void 0?(p.set(v.key,_.mutation.getFieldMask()),hp(_.mutation,v,_.mutation.getFieldMask(),Un.now())):p.set(v.key,pr.empty())}),this.recalculateAndSaveOverlays(t,u).next(g=>(g.forEach((v,_)=>p.set(v,_)),o.forEach((v,_)=>{var C;return m.set(v,new Bue(_,(C=p.get(v))!==null&&C!==void 0?C:null))}),m))}recalculateAndSaveOverlays(t,o){const s=up();let c=new gn((p,m)=>p-m),u=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,o).next(p=>{for(const m of p)m.keys().forEach(g=>{const v=o.get(g);if(v===null)return;let _=s.get(g)||pr.empty();_=m.applyToLocalView(v,_),s.set(g,_);const C=(c.get(m.batchId)||mt()).add(g);c=c.insert(m.batchId,C)})}).next(()=>{const p=[],m=c.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),v=g.key,_=g.value,C=I7();_.forEach(y=>{if(!u.has(y)){const x=B7(o.get(y),s.get(y));x!==null&&C.set(y,x),u=u.add(y)}}),p.push(this.documentOverlayCache.saveOverlays(t,v,C))}return me.waitFor(p)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,o){return this.remoteDocumentCache.getEntries(t,o).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,o,s){return function(c){return je.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(o)?this.getDocumentsMatchingDocumentQuery(t,o.path):A7(o)?this.getDocumentsMatchingCollectionGroupQuery(t,o,s):this.getDocumentsMatchingCollectionQuery(t,o,s)}getNextDocuments(t,o,s,c){return this.remoteDocumentCache.getAllFromCollectionGroup(t,o,s,c).next(u=>{const p=c-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,o,s.largestBatchId,c-u.size):me.resolve(Sl());let m=-1,g=u;return p.next(v=>me.forEach(v,(_,C)=>(m<C.largestBatchId&&(m=C.largestBatchId),u.get(_)?me.resolve():this.remoteDocumentCache.getEntry(t,_).next(y=>{g=g.insert(_,y)}))).next(()=>this.populateOverlays(t,v,u)).next(()=>this.computeViews(t,g,v,mt())).next(_=>({batchId:m,changes:T7(_)})))})}getDocumentsMatchingDocumentQuery(t,o){return this.getDocument(t,new je(o)).next(s=>{let c=Kh();return s.isFoundDocument()&&(c=c.insert(s.key,s)),c})}getDocumentsMatchingCollectionGroupQuery(t,o,s){const c=o.collectionGroup;let u=Kh();return this.indexManager.getCollectionParents(t,c).next(p=>me.forEach(p,m=>{const g=function(v,_){return new du(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(o,m.child(c));return this.getDocumentsMatchingCollectionQuery(t,g,s).next(v=>{v.forEach((_,C)=>{u=u.insert(_,C)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(t,o,s){let c;return this.documentOverlayCache.getOverlaysForCollection(t,o.path,s.largestBatchId).next(u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,o,s,c))).next(u=>{c.forEach((m,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,vo.newInvalidDocument(v)))});let p=Kh();return u.forEach((m,g)=>{const v=c.get(m);v!==void 0&&hp(v.mutation,g,pr.empty(),Un.now()),Q0(o,g)&&(p=p.insert(m,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jue{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,o){return me.resolve(this.cs.get(o))}saveBundleMetadata(t,o){var s;return this.cs.set(o.id,{id:(s=o).id,version:s.version,createTime:Ui(s.createTime)}),me.resolve()}getNamedQuery(t,o){return me.resolve(this.hs.get(o))}saveNamedQuery(t,o){return this.hs.set(o.name,function(s){return{name:s.name,query:Pue(s.bundledQuery),readTime:Ui(s.readTime)}}(o)),me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zue{constructor(){this.overlays=new gn(je.comparator),this.ls=new Map}getOverlay(t,o){return me.resolve(this.overlays.get(o))}getOverlays(t,o){const s=Sl();return me.forEach(o,c=>this.getOverlay(t,c).next(u=>{u!==null&&s.set(c,u)})).next(()=>s)}saveOverlays(t,o,s){return s.forEach((c,u)=>{this.we(t,o,u)}),me.resolve()}removeOverlaysForBatchId(t,o,s){const c=this.ls.get(s);return c!==void 0&&(c.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(s)),me.resolve()}getOverlaysForCollection(t,o,s){const c=Sl(),u=o.length+1,p=new je(o.child("")),m=this.overlays.getIteratorFrom(p);for(;m.hasNext();){const g=m.getNext().value,v=g.getKey();if(!o.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>s&&c.set(g.getKey(),g)}return me.resolve(c)}getOverlaysForCollectionGroup(t,o,s,c){let u=new gn((v,_)=>v-_);const p=this.overlays.getIterator();for(;p.hasNext();){const v=p.getNext().value;if(v.getKey().getCollectionGroup()===o&&v.largestBatchId>s){let _=u.get(v.largestBatchId);_===null&&(_=Sl(),u=u.insert(v.largestBatchId,_)),_.set(v.getKey(),v)}}const m=Sl(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,_)=>m.set(v,_)),!(m.size()>=c)););return me.resolve(m)}we(t,o,s){const c=this.overlays.get(s.key);if(c!==null){const p=this.ls.get(c.largestBatchId).delete(s.key);this.ls.set(c.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new lue(o,s));let u=this.ls.get(o);u===void 0&&(u=mt(),this.ls.set(o,u)),this.ls.set(o,u.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(){this.fs=new Co(Yn.ds),this.ws=new Co(Yn._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,o){const s=new Yn(t,o);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(t,o){t.forEach(s=>this.addReference(s,o))}removeReference(t,o){this.ys(new Yn(t,o))}ps(t,o){t.forEach(s=>this.removeReference(s,o))}Is(t){const o=new je(new on([])),s=new Yn(o,t),c=new Yn(o,t+1),u=[];return this.ws.forEachInRange([s,c],p=>{this.ys(p),u.push(p.key)}),u}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const o=new je(new on([])),s=new Yn(o,t),c=new Yn(o,t+1);let u=mt();return this.ws.forEachInRange([s,c],p=>{u=u.add(p.key)}),u}containsKey(t){const o=new Yn(t,0),s=this.fs.firstAfterOrEqual(o);return s!==null&&t.isEqual(s.key)}}class Yn{constructor(t,o){this.key=t,this.As=o}static ds(t,o){return je.comparator(t.key,o.key)||Nt(t.As,o.As)}static _s(t,o){return Nt(t.As,o.As)||je.comparator(t.key,o.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fue{constructor(t,o){this.indexManager=t,this.referenceDelegate=o,this.mutationQueue=[],this.vs=1,this.Rs=new Co(Yn.ds)}checkEmpty(t){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(t,o,s,c){const u=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new aue(u,o,s,c);this.mutationQueue.push(p);for(const m of c)this.Rs=this.Rs.add(new Yn(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return me.resolve(p)}lookupMutationBatch(t,o){return me.resolve(this.Ps(o))}getNextMutationBatchAfterBatchId(t,o){const s=o+1,c=this.bs(s),u=c<0?0:c;return me.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(t){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,o){const s=new Yn(o,0),c=new Yn(o,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([s,c],p=>{const m=this.Ps(p.As);u.push(m)}),me.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,o){let s=new Co(Nt);return o.forEach(c=>{const u=new Yn(c,0),p=new Yn(c,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,p],m=>{s=s.add(m.As)})}),me.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(t,o){const s=o.path,c=s.length+1;let u=s;je.isDocumentKey(u)||(u=u.child(""));const p=new Yn(new je(u),0);let m=new Co(Nt);return this.Rs.forEachWhile(g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===c&&(m=m.add(g.As)),!0)},p),me.resolve(this.Vs(m))}Vs(t){const o=[];return t.forEach(s=>{const c=this.Ps(s);c!==null&&o.push(c)}),o}removeMutationBatch(t,o){sn(this.Ss(o.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Rs;return me.forEach(o.mutations,c=>{const u=new Yn(c.key,o.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,c.key)}).next(()=>{this.Rs=s})}Cn(t){}containsKey(t,o){const s=new Yn(o,0),c=this.Rs.firstAfterOrEqual(s);return me.resolve(o.isEqual(c&&c.key))}performConsistencyCheck(t){return this.mutationQueue.length,me.resolve()}Ss(t,o){return this.bs(t)}bs(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Ps(t){const o=this.bs(t);return o<0||o>=this.mutationQueue.length?null:this.mutationQueue[o]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ue{constructor(t){this.Ds=t,this.docs=new gn(je.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,o){const s=o.key,c=this.docs.get(s),u=c?c.size:0,p=this.Ds(o);return this.docs=this.docs.insert(s,{document:o.mutableCopy(),size:p}),this.size+=p-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const o=this.docs.get(t);o&&(this.docs=this.docs.remove(t),this.size-=o.size)}getEntry(t,o){const s=this.docs.get(o);return me.resolve(s?s.document.mutableCopy():vo.newInvalidDocument(o))}getEntries(t,o){let s=Ps();return o.forEach(c=>{const u=this.docs.get(c);s=s.insert(c,u?u.document.mutableCopy():vo.newInvalidDocument(c))}),me.resolve(s)}getDocumentsMatchingQuery(t,o,s,c){let u=Ps();const p=o.path,m=new je(p.child("")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:v,value:{document:_}}=g.getNext();if(!p.isPrefixOf(v.path))break;v.path.length>p.length+1||Sde(Ede(_),s)<=0||(c.has(_.key)||Q0(o,_))&&(u=u.insert(_.key,_.mutableCopy()))}return me.resolve(u)}getAllFromCollectionGroup(t,o,s,c){Xe()}Cs(t,o){return me.forEach(this.docs,s=>o(s))}newChangeBuffer(t){return new Vue(this)}getSize(t){return me.resolve(this.size)}}class Vue extends Oue{constructor(t){super(),this.os=t}applyChanges(t){const o=[];return this.changes.forEach((s,c)=>{c.isValidDocument()?o.push(this.os.addEntry(t,c)):this.os.removeEntry(s)}),me.waitFor(o)}getFromCache(t,o){return this.os.getEntry(t,o)}getAllFromCache(t,o){return this.os.getEntries(t,o)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uue{constructor(t){this.persistence=t,this.xs=new uu(o=>AE(o),xE),this.lastRemoteSnapshotVersion=it.min(),this.highestTargetId=0,this.Ns=0,this.ks=new PE,this.targetCount=0,this.Ms=Hd.kn()}forEachTarget(t,o){return this.xs.forEach((s,c)=>o(c)),me.resolve()}getLastRemoteSnapshotVersion(t){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return me.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(t,o,s){return s&&(this.lastRemoteSnapshotVersion=s),o>this.Ns&&(this.Ns=o),me.resolve()}Fn(t){this.xs.set(t.target,t);const o=t.targetId;o>this.highestTargetId&&(this.Ms=new Hd(o),this.highestTargetId=o),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,o){return this.Fn(o),this.targetCount+=1,me.resolve()}updateTargetData(t,o){return this.Fn(o),me.resolve()}removeTargetData(t,o){return this.xs.delete(o.target),this.ks.Is(o.targetId),this.targetCount-=1,me.resolve()}removeTargets(t,o,s){let c=0;const u=[];return this.xs.forEach((p,m)=>{m.sequenceNumber<=o&&s.get(m.targetId)===null&&(this.xs.delete(p),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),c++)}),me.waitFor(u).next(()=>c)}getTargetCount(t){return me.resolve(this.targetCount)}getTargetData(t,o){const s=this.xs.get(o)||null;return me.resolve(s)}addMatchingKeys(t,o,s){return this.ks.gs(o,s),me.resolve()}removeMatchingKeys(t,o,s){this.ks.ps(o,s);const c=this.persistence.referenceDelegate,u=[];return c&&o.forEach(p=>{u.push(c.markPotentiallyOrphaned(t,p))}),me.waitFor(u)}removeMatchingKeysForTargetId(t,o){return this.ks.Is(o),me.resolve()}getMatchingKeysForTargetId(t,o){const s=this.ks.Es(o);return me.resolve(s)}containsKey(t,o){return me.resolve(this.ks.containsKey(o))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hue{constructor(t,o){this.$s={},this.overlays={},this.Os=new wE(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new Uue(this),this.indexManager=new Nue,this.remoteDocumentCache=function(s){return new $ue(s)}(s=>this.referenceDelegate.Ls(s)),this.serializer=new Mue(o),this.qs=new jue(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let o=this.overlays[t.toKey()];return o||(o=new zue,this.overlays[t.toKey()]=o),o}getMutationQueue(t,o){let s=this.$s[t.toKey()];return s||(s=new Fue(o,this.referenceDelegate),this.$s[t.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,o,s){Re("MemoryPersistence","Starting transaction:",t);const c=new Wue(this.Os.next());return this.referenceDelegate.Us(),s(c).next(u=>this.referenceDelegate.Ks(c).next(()=>u)).toPromise().then(u=>(c.raiseOnCommittedEvent(),u))}Gs(t,o){return me.or(Object.values(this.$s).map(s=>()=>s.containsKey(t,o)))}}class Wue extends Ide{constructor(t){super(),this.currentSequenceNumber=t}}class NE{constructor(t){this.persistence=t,this.Qs=new PE,this.js=null}static zs(t){return new NE(t)}get Ws(){if(this.js)return this.js;throw Xe()}addReference(t,o,s){return this.Qs.addReference(s,o),this.Ws.delete(s.toString()),me.resolve()}removeReference(t,o,s){return this.Qs.removeReference(s,o),this.Ws.add(s.toString()),me.resolve()}markPotentiallyOrphaned(t,o){return this.Ws.add(o.toString()),me.resolve()}removeTarget(t,o){this.Qs.Is(o.targetId).forEach(c=>this.Ws.add(c.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,o.targetId).next(c=>{c.forEach(u=>this.Ws.add(u.toString()))}).next(()=>s.removeTargetData(t,o))}Us(){this.js=new Set}Ks(t){const o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Ws,s=>{const c=je.fromPath(s);return this.Hs(t,c).next(u=>{u||o.removeEntry(c,it.min())})}).next(()=>(this.js=null,o.apply(t)))}updateLimboDocument(t,o){return this.Hs(t,o).next(s=>{s?this.Ws.delete(o.toString()):this.Ws.add(o.toString())})}Ls(t){return 0}Hs(t,o){return me.or([()=>me.resolve(this.Qs.containsKey(o)),()=>this.persistence.getTargetCache().containsKey(t,o),()=>this.persistence.Gs(t,o)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,o,s,c){this.targetId=t,this.fromCache=o,this.Fi=s,this.Bi=c}static Li(t,o){let s=mt(),c=mt();for(const u of o.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:c=c.add(u.doc.key)}return new RE(t,o.fromCache,s,c)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class que{constructor(){this.qi=!1}initialize(t,o){this.Ui=t,this.indexManager=o,this.qi=!0}getDocumentsMatchingQuery(t,o,s,c){return this.Ki(t,o).next(u=>u||this.Gi(t,o,c,s)).next(u=>u||this.Qi(t,o))}Ki(t,o){if(k3(o))return me.resolve(null);let s=Ms(o);return this.indexManager.getIndexType(t,s).next(c=>c===0?null:(o.limit!==null&&c===1&&(o=c1(o,null,"F"),s=Ms(o)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const p=mt(...u);return this.Ui.getDocuments(t,p).next(m=>this.indexManager.getMinOffset(t,s).next(g=>{const v=this.ji(o,m);return this.zi(o,v,p,g.readTime)?this.Ki(t,c1(o,null,"F")):this.Wi(t,v,o,g)}))})))}Gi(t,o,s,c){return k3(o)||c.isEqual(it.min())?this.Qi(t,o):this.Ui.getDocuments(t,s).next(u=>{const p=this.ji(o,u);return this.zi(o,p,s,c)?this.Qi(t,o):(a3()<=Tt.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),d1(o)),this.Wi(t,p,o,xde(c,-1)))})}ji(t,o){let s=new Co(E7(t));return o.forEach((c,u)=>{Q0(t,u)&&(s=s.add(u))}),s}zi(t,o,s,c){if(t.limit===null)return!1;if(s.size!==o.size)return!0;const u=t.limitType==="F"?o.last():o.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(c)>0)}Qi(t,o){return a3()<=Tt.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",d1(o)),this.Ui.getDocumentsMatchingQuery(t,o,Da.min())}Wi(t,o,s,c){return this.Ui.getDocumentsMatchingQuery(t,s,c).next(u=>(o.forEach(p=>{u=u.insert(p.key,p)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gue{constructor(t,o,s,c){this.persistence=t,this.Hi=o,this.serializer=c,this.Ji=new gn(Nt),this.Yi=new uu(u=>AE(u),xE),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(s)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Lue(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",o=>t.collect(o,this.Ji))}}function Kue(e,t,o,s){return new Gue(e,t,o,s)}async function G7(e,t){const o=lt(e);return await o.persistence.runTransaction("Handle user change","readonly",s=>{let c;return o.mutationQueue.getAllMutationBatches(s).next(u=>(c=u,o.tr(t),o.mutationQueue.getAllMutationBatches(s))).next(u=>{const p=[],m=[];let g=mt();for(const v of c){p.push(v.batchId);for(const _ of v.mutations)g=g.add(_.key)}for(const v of u){m.push(v.batchId);for(const _ of v.mutations)g=g.add(_.key)}return o.localDocuments.getDocuments(s,g).next(v=>({er:v,removedBatchIds:p,addedBatchIds:m}))})})}function Yue(e,t){const o=lt(e);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const c=t.batch.keys(),u=o.Zi.newChangeBuffer({trackRemovals:!0});return function(p,m,g,v){const _=g.batch,C=_.keys();let y=me.resolve();return C.forEach(x=>{y=y.next(()=>v.getEntry(m,x)).next(S=>{const T=g.docVersions.get(x);sn(T!==null),S.version.compareTo(T)<0&&(_.applyToRemoteDocument(S,g),S.isValidDocument()&&(S.setReadTime(g.commitVersion),v.addEntry(S)))})}),y.next(()=>p.mutationQueue.removeMutationBatch(m,_))}(o,s,t,u).next(()=>u.apply(s)).next(()=>o.mutationQueue.performConsistencyCheck(s)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(s,c,t.batch.batchId)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let m=mt();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m}(t))).next(()=>o.localDocuments.getDocuments(s,c))})}function K7(e){const t=lt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",o=>t.Bs.getLastRemoteSnapshotVersion(o))}function Que(e,t){const o=lt(e),s=t.snapshotVersion;let c=o.Ji;return o.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const p=o.Zi.newChangeBuffer({trackRemovals:!0});c=o.Ji;const m=[];t.targetChanges.forEach((_,C)=>{const y=c.get(C);if(!y)return;m.push(o.Bs.removeMatchingKeys(u,_.removedDocuments,C).next(()=>o.Bs.addMatchingKeys(u,_.addedDocuments,C)));let x=y.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(C)!==null?x=x.withResumeToken(So.EMPTY_BYTE_STRING,it.min()).withLastLimboFreeSnapshotVersion(it.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,s)),c=c.insert(C,x),function(S,T,P){return S.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(y,x,_)&&m.push(o.Bs.updateTargetData(u,x))});let g=Ps(),v=mt();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&m.push(o.persistence.referenceDelegate.updateLimboDocument(u,_))}),m.push(Zue(u,p,t.documentUpdates).next(_=>{g=_.nr,v=_.sr})),!s.isEqual(it.min())){const _=o.Bs.getLastRemoteSnapshotVersion(u).next(C=>o.Bs.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(_)}return me.waitFor(m).next(()=>p.apply(u)).next(()=>o.localDocuments.getLocalViewOfDocuments(u,g,v)).next(()=>g)}).then(u=>(o.Ji=c,u))}function Zue(e,t,o){let s=mt(),c=mt();return o.forEach(u=>s=s.add(u)),t.getEntries(e,s).next(u=>{let p=Ps();return o.forEach((m,g)=>{const v=u.get(m);g.isFoundDocument()!==v.isFoundDocument()&&(c=c.add(m)),g.isNoDocument()&&g.version.isEqual(it.min())?(t.removeEntry(m,g.readTime),p=p.insert(m,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(g),p=p.insert(m,g)):Re("LocalStore","Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",g.version)}),{nr:p,sr:c}})}function Jue(e,t){const o=lt(e);return o.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=-1),o.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function Xue(e,t){const o=lt(e);return o.persistence.runTransaction("Allocate target","readwrite",s=>{let c;return o.Bs.getTargetData(s,t).next(u=>u?(c=u,me.resolve(c)):o.Bs.allocateTargetId(s).next(p=>(c=new ha(t,p,"TargetPurposeListen",s.currentSequenceNumber),o.Bs.addTargetData(s,c).next(()=>c))))}).then(s=>{const c=o.Ji.get(s.targetId);return(c===null||s.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(o.Ji=o.Ji.insert(s.targetId,s),o.Yi.set(t,s.targetId)),s})}async function g1(e,t,o){const s=lt(e),c=s.Ji.get(t),u=o?"readwrite":"readwrite-primary";try{o||await s.persistence.runTransaction("Release target",u,p=>s.persistence.referenceDelegate.removeTarget(p,c))}catch(p){if(!Vf(p))throw p;Re("LocalStore",`Failed to update sequence numbers for target ${t}: ${p}`)}s.Ji=s.Ji.remove(t),s.Yi.delete(c.target)}function T3(e,t,o){const s=lt(e);let c=it.min(),u=mt();return s.persistence.runTransaction("Execute query","readonly",p=>function(m,g,v){const _=lt(m),C=_.Yi.get(v);return C!==void 0?me.resolve(_.Ji.get(C)):_.Bs.getTargetData(g,v)}(s,p,Ms(t)).next(m=>{if(m)return c=m.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(p,m.targetId).next(g=>{u=g})}).next(()=>s.Hi.getDocumentsMatchingQuery(p,t,o?c:it.min(),o?u:mt())).next(m=>(ehe(s,Wde(t),m),{documents:m,ir:u})))}function ehe(e,t,o){let s=e.Xi.get(t)||it.min();o.forEach((c,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),e.Xi.set(t,s)}class I3{constructor(){this.activeTargetIds=Zde()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class the{constructor(){this.Hr=new I3,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,o,s){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,o,s){this.Jr[t]=o}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new I3,Promise.resolve()}handleUserChange(t,o,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nhe{Yr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ck=null;function kC(){return ck===null?ck=268435456+Math.round(2147483648*Math.random()):ck++,"0x"+ck.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ohe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rhe{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="WebChannelConnection";class ihe extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const o=t.ssl?"https":"http";this.mo=o+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,o,s,c,u){const p=kC(),m=this.To(t,o);Re("RestConnection",`Sending RPC '${t}' ${p}:`,m,s);const g={};return this.Eo(g,c,u),this.Ao(t,m,g,s).then(v=>(Re("RestConnection",`Received RPC '${t}' ${p}: `,v),v),v=>{throw Fd("RestConnection",`RPC '${t}' ${p} failed with error: `,v,"url: ",m,"request:",s),v})}vo(t,o,s,c,u,p){return this.Io(t,o,s,c,u)}Eo(t,o,s){t["X-Goog-Api-Client"]="gl-js/ fire/"+cu,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((c,u)=>t[u]=c),s&&s.headers.forEach((c,u)=>t[u]=c)}To(t,o){const s=ohe[t];return`${this.mo}/v1/${o}:${s}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,o,s,c){const u=kC();return new Promise((p,m)=>{const g=new fde;g.setWithCredentials(!0),g.listenOnce(ude.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case gC.NO_ERROR:const _=g.getResponseJson();Re(go,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(_)),p(_);break;case gC.TIMEOUT:Re(go,`RPC '${t}' ${u} timed out`),m(new Se(ue.DEADLINE_EXCEEDED,"Request time out"));break;case gC.HTTP_ERROR:const C=g.getStatus();if(Re(go,`RPC '${t}' ${u} failed with status:`,C,"response text:",g.getResponseText()),C>0){let y=g.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y==null?void 0:y.error;if(x&&x.status&&x.message){const S=function(T){const P=T.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(P)>=0?P:ue.UNKNOWN}(x.status);m(new Se(S,x.message))}else m(new Se(ue.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new Se(ue.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Re(go,`RPC '${t}' ${u} completed.`)}});const v=JSON.stringify(c);Re(go,`RPC '${t}' ${u} sending request:`,c),g.send(o,"POST",v,s,15)})}Ro(t,o,s){const c=kC(),u=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],p=cde(),m=dde(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.xmlHttpFactory=new pde({})),this.Eo(g.initMessageHeaders,o,s),g.encodeInitMessageHeaders=!0;const _=u.join("");Re(go,`Creating RPC '${t}' stream ${c}: ${_}`,g);const C=p.createWebChannel(_,g);let y=!1,x=!1;const S=new rhe({ro:P=>{x?Re(go,`Not sending because RPC '${t}' stream ${c} is closed:`,P):(y||(Re(go,`Opening RPC '${t}' stream ${c} transport.`),C.open(),y=!0),Re(go,`RPC '${t}' stream ${c} sending:`,P),C.send(P))},oo:()=>C.close()}),T=(P,D,R)=>{P.listen(D,B=>{try{R(B)}catch(j){setTimeout(()=>{throw j},0)}})};return T(C,ik.EventType.OPEN,()=>{x||Re(go,`RPC '${t}' stream ${c} transport opened.`)}),T(C,ik.EventType.CLOSE,()=>{x||(x=!0,Re(go,`RPC '${t}' stream ${c} transport closed`),S.wo())}),T(C,ik.EventType.ERROR,P=>{x||(x=!0,Fd(go,`RPC '${t}' stream ${c} transport errored:`,P),S.wo(new Se(ue.UNAVAILABLE,"The operation could not be completed")))}),T(C,ik.EventType.MESSAGE,P=>{var D;if(!x){const R=P.data[0];sn(!!R);const B=R,j=B.error||((D=B[0])===null||D===void 0?void 0:D.error);if(j){Re(go,`RPC '${t}' stream ${c} received error:`,j);const V=j.status;let H=function(U){const G=Mn[U];if(G!==void 0)return j7(G)}(V),M=j.message;H===void 0&&(H=ue.INTERNAL,M="Unknown error status: "+V+" with message "+j.message),x=!0,S.wo(new Se(H,M)),C.close()}else Re(go,`RPC '${t}' stream ${c} received:`,R),S._o(R)}}),T(m,hde.STAT_EVENT,P=>{P.stat===i3.PROXY?Re(go,`RPC '${t}' stream ${c} detected buffering proxy`):P.stat===i3.NOPROXY&&Re(go,`RPC '${t}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{S.fo()},0),S}}function bC(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(e){return new kue(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(t,o,s=1e3,c=1.5,u=6e4){this.ii=t,this.timerId=o,this.Po=s,this.bo=c,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const o=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),c=Math.max(0,o-s);c>0&&Re("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.So} ms, delay with jitter: ${o} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,c,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(t,o,s,c,u,p,m,g){this.ii=t,this.$o=s,this.Oo=c,this.connection=u,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Y7(t,o)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(t,o){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,t!==4?this.qo.reset():o&&o.code===ue.RESOURCE_EXHAUSTED?(Ds(o.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):o&&o.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.ao(o)}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),o=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,c])=>{this.Fo===o&&this.Zo(s,c)},s=>{t(()=>{const c=new Se(ue.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(c)})})}Zo(t,o){const s=this.Xo(this.Fo);this.stream=this.eu(t,o),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(c=>{s(()=>this.tu(c))}),this.stream.onMessage(c=>{s(()=>this.onMessage(c))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(t){return Re("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return o=>{this.ii.enqueueAndForget(()=>this.Fo===t?o():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class she extends Q7{constructor(t,o,s,c,u,p){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",o,s,c,p),this.serializer=u}eu(t,o){return this.connection.Ro("Listen",t,o)}onMessage(t){this.qo.reset();const o=wue(this.serializer,t),s=function(c){if(!("targetChange"in c))return it.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?it.min():u.readTime?Ui(u.readTime):it.min()}(t);return this.listener.nu(o,s)}su(t){const o={};o.database=f1(this.serializer),o.addTarget=function(c,u){let p;const m=u.target;if(p=a1(m)?{documents:Cue(c,m)}:{query:Aue(c,m)},p.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){p.resumeToken=$7(c,u.resumeToken);const g=u1(c,u.expectedCount);g!==null&&(p.expectedCount=g)}else if(u.snapshotVersion.compareTo(it.min())>0){p.readTime=$b(c,u.snapshotVersion.toTimestamp());const g=u1(c,u.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,t);const s=Eue(this.serializer,t);s&&(o.labels=s),this.Wo(o)}iu(t){const o={};o.database=f1(this.serializer),o.removeTarget=t,this.Wo(o)}}class ahe extends Q7{constructor(t,o,s,c,u,p){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",o,s,c,p),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,o){return this.connection.Ro("Write",t,o)}onMessage(t){if(sn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const o=_ue(t.writeResults,t.commitTime),s=Ui(t.commitTime);return this.listener.cu(s,o)}return sn(!t.writeResults||t.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const t={};t.database=f1(this.serializer),this.Wo(t)}uu(t){const o={streamToken:this.lastStreamToken,writes:t.map(s=>yue(this.serializer,s))};this.Wo(o)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lhe extends class{}{constructor(t,o,s,c){super(),this.authCredentials=t,this.appCheckCredentials=o,this.connection=s,this.serializer=c,this.lu=!1}fu(){if(this.lu)throw new Se(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,o,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection.Io(t,o,s,c,u)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(ue.UNKNOWN,c.toString())})}vo(t,o,s,c){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,p])=>this.connection.vo(t,o,s,u,p,c)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(ue.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class che{constructor(t,o){this.asyncQueue=t,this.onlineStateHandler=o,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,t==="Online"&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const o=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ds(o),this.mu=!1):Re("OnlineStateTracker",o)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dhe{constructor(t,o,s,c,u){this.localStore=t,this.datastore=o,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(p=>{s.enqueueAndForget(async()=>{ic(this)&&(Re("RemoteStore","Restarting streams for network reachability change."),await async function(m){const g=lt(m);g.vu.add(4),await Wf(g),g.bu.set("Unknown"),g.vu.delete(4),await tv(g)}(this))})}),this.bu=new che(s,c)}}async function tv(e){if(ic(e))for(const t of e.Ru)await t(!0)}async function Wf(e){for(const t of e.Ru)await t(!1)}function Z7(e,t){const o=lt(e);o.Au.has(t.targetId)||(o.Au.set(t.targetId,t),LE(o)?BE(o):hu(o).Ko()&&OE(o,t))}function J7(e,t){const o=lt(e),s=hu(o);o.Au.delete(t),s.Ko()&&X7(o,t),o.Au.size===0&&(s.Ko()?s.jo():ic(o)&&o.bu.set("Unknown"))}function OE(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(it.min())>0){const o=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(o)}hu(e).su(t)}function X7(e,t){e.Vu.qt(t),hu(e).iu(t)}function BE(e){e.Vu=new pue({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),hu(e).start(),e.bu.gu()}function LE(e){return ic(e)&&!hu(e).Uo()&&e.Au.size>0}function ic(e){return lt(e).vu.size===0}function e$(e){e.Vu=void 0}async function uhe(e){e.Au.forEach((t,o)=>{OE(e,t)})}async function hhe(e,t){e$(e),LE(e)?(e.bu.Iu(t),BE(e)):e.bu.set("Unknown")}async function phe(e,t,o){if(e.bu.set("Online"),t instanceof F7&&t.state===2&&t.cause)try{await async function(s,c){const u=c.cause;for(const p of c.targetIds)s.Au.has(p)&&(await s.remoteSyncer.rejectListen(p,u),s.Au.delete(p),s.Vu.removeTarget(p))}(e,t)}catch(s){Re("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Vb(e,s)}else if(t instanceof zk?e.Vu.Ht(t):t instanceof z7?e.Vu.ne(t):e.Vu.Xt(t),!o.isEqual(it.min()))try{const s=await K7(e.localStore);o.compareTo(s)>=0&&await function(c,u){const p=c.Vu.ce(u);return p.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=c.Au.get(g);v&&c.Au.set(g,v.withResumeToken(m.resumeToken,u))}}),p.targetMismatches.forEach((m,g)=>{const v=c.Au.get(m);if(!v)return;c.Au.set(m,v.withResumeToken(So.EMPTY_BYTE_STRING,v.snapshotVersion)),X7(c,m);const _=new ha(v.target,m,g,v.sequenceNumber);OE(c,_)}),c.remoteSyncer.applyRemoteEvent(p)}(e,o)}catch(s){Re("RemoteStore","Failed to raise snapshot:",s),await Vb(e,s)}}async function Vb(e,t,o){if(!Vf(t))throw t;e.vu.add(1),await Wf(e),e.bu.set("Offline"),o||(o=()=>K7(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Re("RemoteStore","Retrying IndexedDB access"),await o(),e.vu.delete(1),await tv(e)})}function t$(e,t){return t().catch(o=>Vb(e,o,t))}async function nv(e){const t=lt(e),o=Pa(t);let s=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;fhe(t);)try{const c=await Jue(t.localStore,s);if(c===null){t.Eu.length===0&&o.jo();break}s=c.batchId,ghe(t,c)}catch(c){await Vb(t,c)}n$(t)&&o$(t)}function fhe(e){return ic(e)&&e.Eu.length<10}function ghe(e,t){e.Eu.push(t);const o=Pa(e);o.Ko()&&o.ou&&o.uu(t.mutations)}function n$(e){return ic(e)&&!Pa(e).Uo()&&e.Eu.length>0}function o$(e){Pa(e).start()}async function mhe(e){Pa(e).hu()}async function khe(e){const t=Pa(e);for(const o of e.Eu)t.uu(o.mutations)}async function bhe(e,t,o){const s=e.Eu.shift(),c=TE.from(s,t,o);await t$(e,()=>e.remoteSyncer.applySuccessfulWrite(c)),await nv(e)}async function vhe(e,t){t&&Pa(e).ou&&await async function(o,s){if(c=s.code,due(c)&&c!==ue.ABORTED){const u=o.Eu.shift();Pa(o).Qo(),await t$(o,()=>o.remoteSyncer.rejectFailedWrite(u.batchId,s)),await nv(o)}var c}(e,t),n$(e)&&o$(e)}async function M3(e,t){const o=lt(e);o.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const s=ic(o);o.vu.add(3),await Wf(o),s&&o.bu.set("Unknown"),await o.remoteSyncer.handleCredentialChange(t),o.vu.delete(3),await tv(o)}async function whe(e,t){const o=lt(e);t?(o.vu.delete(2),await tv(o)):t||(o.vu.add(2),await Wf(o),o.bu.set("Unknown"))}function hu(e){return e.Su||(e.Su=function(t,o,s){const c=lt(t);return c.fu(),new she(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,s)}(e.datastore,e.asyncQueue,{uo:uhe.bind(null,e),ao:hhe.bind(null,e),nu:phe.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),LE(e)?BE(e):e.bu.set("Unknown")):(await e.Su.stop(),e$(e))})),e.Su}function Pa(e){return e.Du||(e.Du=function(t,o,s){const c=lt(t);return c.fu(),new ahe(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,s)}(e.datastore,e.asyncQueue,{uo:mhe.bind(null,e),ao:vhe.bind(null,e),au:khe.bind(null,e),cu:bhe.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await nv(e)):(await e.Du.stop(),e.Eu.length>0&&(Re("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))})),e.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(t,o,s,c,u){this.asyncQueue=t,this.timerId=o,this.targetTimeMs=s,this.op=c,this.removalCallback=u,this.deferred=new _s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(t,o,s,c,u){const p=Date.now()+s,m=new jE(t,o,p,c,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ue.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zE(e,t){if(Ds("AsyncQueue",`${t}: ${e}`),Vf(e))return new Se(ue.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(t){this.comparator=t?(o,s)=>t(o,s)||je.comparator(o.key,s.key):(o,s)=>je.comparator(o.key,s.key),this.keyedMap=Kh(),this.sortedSet=new gn(this.comparator)}static emptySet(t){return new Sd(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const o=this.keyedMap.get(t);return o?this.sortedSet.indexOf(o):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((o,s)=>(t(o),!1))}add(t){const o=this.delete(t.key);return o.copy(o.keyedMap.insert(t.key,t),o.sortedSet.insert(t,null))}delete(t){const o=this.get(t);return o?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(o)):this}isEqual(t){if(!(t instanceof Sd)||this.size!==t.size)return!1;const o=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;o.hasNext();){const c=o.getNext().key,u=s.getNext().key;if(!c.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(o=>{t.push(o.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,o){const s=new Sd;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=o,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(){this.Cu=new gn(je.comparator)}track(t){const o=t.doc.key,s=this.Cu.get(o);s?t.type!==0&&s.type===3?this.Cu=this.Cu.insert(o,t):t.type===3&&s.type!==1?this.Cu=this.Cu.insert(o,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Cu=this.Cu.insert(o,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Cu=this.Cu.insert(o,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Cu=this.Cu.remove(o):t.type===1&&s.type===2?this.Cu=this.Cu.insert(o,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Cu=this.Cu.insert(o,{type:2,doc:t.doc}):Xe():this.Cu=this.Cu.insert(o,t)}xu(){const t=[];return this.Cu.inorderTraversal((o,s)=>{t.push(s)}),t}}class Wd{constructor(t,o,s,c,u,p,m,g,v){this.query=t,this.docs=o,this.oldDocs=s,this.docChanges=c,this.mutatedKeys=u,this.fromCache=p,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(t,o,s,c,u){const p=[];return o.forEach(m=>{p.push({type:0,doc:m})}),new Wd(t,o,Sd.emptySet(o),p,s,c,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Y0(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const o=this.docChanges,s=t.docChanges;if(o.length!==s.length)return!1;for(let c=0;c<o.length;c++)if(o[c].type!==s[c].type||!o[c].doc.isEqual(s[c].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yhe{constructor(){this.Nu=void 0,this.listeners=[]}}class _he{constructor(){this.queries=new uu(t=>x7(t),Y0),this.onlineState="Unknown",this.ku=new Set}}async function FE(e,t){const o=lt(e),s=t.query;let c=!1,u=o.queries.get(s);if(u||(c=!0,u=new yhe),c)try{u.Nu=await o.onListen(s)}catch(p){const m=zE(p,`Initialization of query '${d1(t.query)}' failed`);return void t.onError(m)}o.queries.set(s,u),u.listeners.push(t),t.Mu(o.onlineState),u.Nu&&t.$u(u.Nu)&&VE(o)}async function $E(e,t){const o=lt(e),s=t.query;let c=!1;const u=o.queries.get(s);if(u){const p=u.listeners.indexOf(t);p>=0&&(u.listeners.splice(p,1),c=u.listeners.length===0)}if(c)return o.queries.delete(s),o.onUnlisten(s)}function Che(e,t){const o=lt(e);let s=!1;for(const c of t){const u=c.query,p=o.queries.get(u);if(p){for(const m of p.listeners)m.$u(c)&&(s=!0);p.Nu=c}}s&&VE(o)}function Ahe(e,t,o){const s=lt(e),c=s.queries.get(t);if(c)for(const u of c.listeners)u.onError(o);s.queries.delete(t)}function VE(e){e.ku.forEach(t=>{t.next()})}class UE{constructor(t,o,s){this.query=t,this.Ou=o,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(t){if(!this.options.includeMetadataChanges){const s=[];for(const c of t.docChanges)c.type!==3&&s.push(c);t=new Wd(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let o=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),o=!0):this.qu(t,this.onlineState)&&(this.Uu(t),o=!0),this.Bu=t,o}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let o=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),o=!0),o}qu(t,o){if(!t.fromCache)return!0;const s=o!=="Offline";return(!this.options.Ku||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||o==="Offline")}Lu(t){if(t.docChanges.length>0)return!0;const o=this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!o)&&this.options.includeMetadataChanges===!0}Uu(t){t=Wd.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(t){this.key=t}}class i${constructor(t){this.key=t}}class xhe{constructor(t,o){this.query=t,this.Yu=o,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=mt(),this.mutatedKeys=mt(),this.tc=E7(t),this.ec=new Sd(this.tc)}get nc(){return this.Yu}sc(t,o){const s=o?o.ic:new P3,c=o?o.ec:this.ec;let u=o?o.mutatedKeys:this.mutatedKeys,p=c,m=!1;const g=this.query.limitType==="F"&&c.size===this.query.limit?c.last():null,v=this.query.limitType==="L"&&c.size===this.query.limit?c.first():null;if(t.inorderTraversal((_,C)=>{const y=c.get(_),x=Q0(this.query,C)?C:null,S=!!y&&this.mutatedKeys.has(y.key),T=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let P=!1;y&&x?y.data.isEqual(x.data)?S!==T&&(s.track({type:3,doc:x}),P=!0):this.rc(y,x)||(s.track({type:2,doc:x}),P=!0,(g&&this.tc(x,g)>0||v&&this.tc(x,v)<0)&&(m=!0)):!y&&x?(s.track({type:0,doc:x}),P=!0):y&&!x&&(s.track({type:1,doc:y}),P=!0,(g||v)&&(m=!0)),P&&(x?(p=p.add(x),u=T?u.add(_):u.delete(_)):(p=p.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;p.size>this.query.limit;){const _=this.query.limitType==="F"?p.last():p.first();p=p.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{ec:p,ic:s,zi:m,mutatedKeys:u}}rc(t,o){return t.hasLocalMutations&&o.hasCommittedMutations&&!o.hasLocalMutations}applyChanges(t,o,s){const c=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const u=t.ic.xu();u.sort((v,_)=>function(C,y){const x=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return x(C)-x(y)}(v.type,_.type)||this.tc(v.doc,_.doc)),this.oc(s);const p=o?this.uc():[],m=this.Zu.size===0&&this.current?1:0,g=m!==this.Xu;return this.Xu=m,u.length!==0||g?{snapshot:new Wd(this.query,t.ec,c,u,t.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:p}:{cc:p}}Mu(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new P3,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(o=>this.Yu=this.Yu.add(o)),t.modifiedDocuments.forEach(o=>{}),t.removedDocuments.forEach(o=>this.Yu=this.Yu.delete(o)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=mt(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const o=[];return t.forEach(s=>{this.Zu.has(s)||o.push(new i$(s))}),this.Zu.forEach(s=>{t.has(s)||o.push(new r$(s))}),o}hc(t){this.Yu=t.ir,this.Zu=mt();const o=this.sc(t.documents);return this.applyChanges(o,!0)}lc(){return Wd.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class Ehe{constructor(t,o,s){this.query=t,this.targetId=o,this.view=s}}class She{constructor(t){this.key=t,this.fc=!1}}class The{constructor(t,o,s,c,u,p){this.localStore=t,this.remoteStore=o,this.eventManager=s,this.sharedClientState=c,this.currentUser=u,this.maxConcurrentLimboResolutions=p,this.dc={},this.wc=new uu(m=>x7(m),Y0),this._c=new Map,this.mc=new Set,this.gc=new gn(je.comparator),this.yc=new Map,this.Ic=new PE,this.Tc={},this.Ec=new Map,this.Ac=Hd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function Ihe(e,t){const o=zhe(e);let s,c;const u=o.wc.get(t);if(u)s=u.targetId,o.sharedClientState.addLocalQueryTarget(s),c=u.view.lc();else{const p=await Xue(o.localStore,Ms(t)),m=o.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,c=await Dhe(o,t,s,m==="current",p.resumeToken),o.isPrimaryClient&&Z7(o.remoteStore,p)}return c}async function Dhe(e,t,o,s,c){e.Rc=(C,y,x)=>async function(S,T,P,D){let R=T.view.sc(P);R.zi&&(R=await T3(S.localStore,T.query,!1).then(({documents:V})=>T.view.sc(V,R)));const B=D&&D.targetChanges.get(T.targetId),j=T.view.applyChanges(R,S.isPrimaryClient,B);return R3(S,T.targetId,j.cc),j.snapshot}(e,C,y,x);const u=await T3(e.localStore,t,!0),p=new xhe(t,u.ir),m=p.sc(u.documents),g=Hf.createSynthesizedTargetChangeForCurrentChange(o,s&&e.onlineState!=="Offline",c),v=p.applyChanges(m,e.isPrimaryClient,g);R3(e,o,v.cc);const _=new Ehe(t,o,p);return e.wc.set(t,_),e._c.has(o)?e._c.get(o).push(t):e._c.set(o,[t]),v.snapshot}async function Mhe(e,t){const o=lt(e),s=o.wc.get(t),c=o._c.get(s.targetId);if(c.length>1)return o._c.set(s.targetId,c.filter(u=>!Y0(u,t))),void o.wc.delete(t);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(s.targetId),o.sharedClientState.isActiveQueryTarget(s.targetId)||await g1(o.localStore,s.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(s.targetId),J7(o.remoteStore,s.targetId),m1(o,s.targetId)}).catch($f)):(m1(o,s.targetId),await g1(o.localStore,s.targetId,!0))}async function Phe(e,t,o){const s=Fhe(e);try{const c=await function(u,p){const m=lt(u),g=Un.now(),v=p.reduce((y,x)=>y.add(x.key),mt());let _,C;return m.persistence.runTransaction("Locally write mutations","readwrite",y=>{let x=Ps(),S=mt();return m.Zi.getEntries(y,v).next(T=>{x=T,x.forEach((P,D)=>{D.isValidDocument()||(S=S.add(P))})}).next(()=>m.localDocuments.getOverlayedDocuments(y,x)).next(T=>{_=T;const P=[];for(const D of p){const R=iue(D,_.get(D.key).overlayedDocument);R!=null&&P.push(new Va(D.key,R,k7(R.value.mapValue),Vr.exists(!0)))}return m.mutationQueue.addMutationBatch(y,g,P,p)}).next(T=>{C=T;const P=T.applyToLocalDocumentSet(_,S);return m.documentOverlayCache.saveOverlays(y,T.batchId,P)})}).then(()=>({batchId:C.batchId,changes:T7(_)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(c.batchId),function(u,p,m){let g=u.Tc[u.currentUser.toKey()];g||(g=new gn(Nt)),g=g.insert(p,m),u.Tc[u.currentUser.toKey()]=g}(s,c.batchId,o),await qf(s,c.changes),await nv(s.remoteStore)}catch(c){const u=zE(c,"Failed to persist write");o.reject(u)}}async function s$(e,t){const o=lt(e);try{const s=await Que(o.localStore,t);t.targetChanges.forEach((c,u)=>{const p=o.yc.get(u);p&&(sn(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?p.fc=!0:c.modifiedDocuments.size>0?sn(p.fc):c.removedDocuments.size>0&&(sn(p.fc),p.fc=!1))}),await qf(o,s,t)}catch(s){await $f(s)}}function N3(e,t,o){const s=lt(e);if(s.isPrimaryClient&&o===0||!s.isPrimaryClient&&o===1){const c=[];s.wc.forEach((u,p)=>{const m=p.view.Mu(t);m.snapshot&&c.push(m.snapshot)}),function(u,p){const m=lt(u);m.onlineState=p;let g=!1;m.queries.forEach((v,_)=>{for(const C of _.listeners)C.Mu(p)&&(g=!0)}),g&&VE(m)}(s.eventManager,t),c.length&&s.dc.nu(c),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Nhe(e,t,o){const s=lt(e);s.sharedClientState.updateQueryState(t,"rejected",o);const c=s.yc.get(t),u=c&&c.key;if(u){let p=new gn(je.comparator);p=p.insert(u,vo.newNoDocument(u,it.min()));const m=mt().add(u),g=new X0(it.min(),new Map,new gn(Nt),p,m);await s$(s,g),s.gc=s.gc.remove(u),s.yc.delete(t),HE(s)}else await g1(s.localStore,t,!1).then(()=>m1(s,t,o)).catch($f)}async function Rhe(e,t){const o=lt(e),s=t.batch.batchId;try{const c=await Yue(o.localStore,t);l$(o,s,null),a$(o,s),o.sharedClientState.updateMutationState(s,"acknowledged"),await qf(o,c)}catch(c){await $f(c)}}async function Ohe(e,t,o){const s=lt(e);try{const c=await function(u,p){const m=lt(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return m.mutationQueue.lookupMutationBatch(g,p).next(_=>(sn(_!==null),v=_.keys(),m.mutationQueue.removeMutationBatch(g,_))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,p)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>m.localDocuments.getDocuments(g,v))})}(s.localStore,t);l$(s,t,o),a$(s,t),s.sharedClientState.updateMutationState(t,"rejected",o),await qf(s,c)}catch(c){await $f(c)}}function a$(e,t){(e.Ec.get(t)||[]).forEach(o=>{o.resolve()}),e.Ec.delete(t)}function l$(e,t,o){const s=lt(e);let c=s.Tc[s.currentUser.toKey()];if(c){const u=c.get(t);u&&(o?u.reject(o):u.resolve(),c=c.remove(t)),s.Tc[s.currentUser.toKey()]=c}}function m1(e,t,o=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e._c.get(t))e.wc.delete(s),o&&e.dc.Pc(s,o);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(s=>{e.Ic.containsKey(s)||c$(e,s)})}function c$(e,t){e.mc.delete(t.path.canonicalString());const o=e.gc.get(t);o!==null&&(J7(e.remoteStore,o),e.gc=e.gc.remove(t),e.yc.delete(o),HE(e))}function R3(e,t,o){for(const s of o)s instanceof r$?(e.Ic.addReference(s.key,t),Bhe(e,s)):s instanceof i$?(Re("SyncEngine","Document no longer in limbo: "+s.key),e.Ic.removeReference(s.key,t),e.Ic.containsKey(s.key)||c$(e,s.key)):Xe()}function Bhe(e,t){const o=t.key,s=o.path.canonicalString();e.gc.get(o)||e.mc.has(s)||(Re("SyncEngine","New document in limbo: "+o),e.mc.add(s),HE(e))}function HE(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const o=new je(on.fromString(t)),s=e.Ac.next();e.yc.set(s,new She(o)),e.gc=e.gc.insert(o,s),Z7(e.remoteStore,new ha(Ms(G0(o.path)),s,"TargetPurposeLimboResolution",wE.ct))}}async function qf(e,t,o){const s=lt(e),c=[],u=[],p=[];s.wc.isEmpty()||(s.wc.forEach((m,g)=>{p.push(s.Rc(g,t,o).then(v=>{if((v||o)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(g.targetId,v!=null&&v.fromCache?"not-current":"current"),v){c.push(v);const _=RE.Li(g.targetId,v);u.push(_)}}))}),await Promise.all(p),s.dc.nu(c),await async function(m,g){const v=lt(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>me.forEach(g,C=>me.forEach(C.Fi,y=>v.persistence.referenceDelegate.addReference(_,C.targetId,y)).next(()=>me.forEach(C.Bi,y=>v.persistence.referenceDelegate.removeReference(_,C.targetId,y)))))}catch(_){if(!Vf(_))throw _;Re("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of g){const C=_.targetId;if(!_.fromCache){const y=v.Ji.get(C),x=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(x);v.Ji=v.Ji.insert(C,S)}}}(s.localStore,u))}async function Lhe(e,t){const o=lt(e);if(!o.currentUser.isEqual(t)){Re("SyncEngine","User change. New user:",t.toKey());const s=await G7(o.localStore,t);o.currentUser=t,function(c,u){c.Ec.forEach(p=>{p.forEach(m=>{m.reject(new Se(ue.CANCELLED,u))})}),c.Ec.clear()}(o,"'waitForPendingWrites' promise is rejected due to a user change."),o.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await qf(o,s.er)}}function jhe(e,t){const o=lt(e),s=o.yc.get(t);if(s&&s.fc)return mt().add(s.key);{let c=mt();const u=o._c.get(t);if(!u)return c;for(const p of u){const m=o.wc.get(p);c=c.unionWith(m.view.nc)}return c}}function zhe(e){const t=lt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=s$.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jhe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Nhe.bind(null,t),t.dc.nu=Che.bind(null,t.eventManager),t.dc.Pc=Ahe.bind(null,t.eventManager),t}function Fhe(e){const t=lt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Rhe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ohe.bind(null,t),t}class O3{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=ev(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,o){return null}createIndexBackfillerScheduler(t,o){return null}createLocalStore(t){return Kue(this.persistence,new que,t.initialUser,this.serializer)}createPersistence(t){return new Hue(NE.zs,this.serializer)}createSharedClientState(t){return new the}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class $he{async initialize(t,o){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(o),this.remoteStore=this.createRemoteStore(o),this.eventManager=this.createEventManager(o),this.syncEngine=this.createSyncEngine(o,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>N3(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lhe.bind(null,this.syncEngine),await whe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new _he}createDatastore(t){const o=ev(t.databaseInfo.databaseId),s=(c=t.databaseInfo,new ihe(c));var c;return function(u,p,m,g){return new lhe(u,p,m,g)}(t.authCredentials,t.appCheckCredentials,s,o)}createRemoteStore(t){return o=this.localStore,s=this.datastore,c=t.asyncQueue,u=m=>N3(this.syncEngine,m,0),p=D3.D()?new D3:new nhe,new dhe(o,s,c,u,p);var o,s,c,u,p}createSyncEngine(t,o){return function(s,c,u,p,m,g,v){const _=new The(s,c,u,p,m,g);return v&&(_.vc=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,o)}terminate(){return async function(t){const o=lt(t);Re("RemoteStore","RemoteStore shutting down."),o.vu.add(5),await Wf(o),o.Pu.shutdown(),o.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):Ds("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,o){this.muted||setTimeout(()=>{this.muted||t(o)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vhe{constructor(t,o,s,c){this.authCredentials=t,this.appCheckCredentials=o,this.asyncQueue=s,this.databaseInfo=c,this.user=ko.UNAUTHENTICATED,this.clientId=f7.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async u=>{Re("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(s,u=>(Re("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new _s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(o){const s=zE(o,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function vC(e,t){e.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const o=await e.getConfiguration();await t.initialize(o);let s=o.initialUser;e.setCredentialChangeListener(async c=>{s.isEqual(c)||(await G7(t.localStore,c),s=c)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function B3(e,t){e.asyncQueue.verifyOperationInProgress();const o=await Hhe(e);Re("FirestoreClient","Initializing OnlineComponentProvider");const s=await e.getConfiguration();await t.initialize(o,s),e.setCredentialChangeListener(c=>M3(t.remoteStore,c)),e.setAppCheckTokenChangeListener((c,u)=>M3(t.remoteStore,u)),e._onlineComponents=t}function Uhe(e){return e.name==="FirebaseError"?e.code===ue.FAILED_PRECONDITION||e.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function Hhe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Re("FirestoreClient","Using user provided OfflineComponentProvider");try{await vC(e,e._uninitializedComponentsProvider._offline)}catch(t){const o=t;if(!Uhe(o))throw o;Fd("Error using user provided cache. Falling back to memory cache: "+o),await vC(e,new O3)}}else Re("FirestoreClient","Using default OfflineComponentProvider"),await vC(e,new O3);return e._offlineComponents}async function d$(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Re("FirestoreClient","Using user provided OnlineComponentProvider"),await B3(e,e._uninitializedComponentsProvider._online)):(Re("FirestoreClient","Using default OnlineComponentProvider"),await B3(e,new $he))),e._onlineComponents}function Whe(e){return d$(e).then(t=>t.syncEngine)}async function Ub(e){const t=await d$(e),o=t.eventManager;return o.onListen=Ihe.bind(null,t.syncEngine),o.onUnlisten=Mhe.bind(null,t.syncEngine),o}function qhe(e,t,o={}){const s=new _s;return e.asyncQueue.enqueueAndForget(async()=>function(c,u,p,m,g){const v=new WE({next:C=>{u.enqueueAndForget(()=>$E(c,_));const y=C.docs.has(p);!y&&C.fromCache?g.reject(new Se(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&C.fromCache&&m&&m.source==="server"?g.reject(new Se(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(C)},error:C=>g.reject(C)}),_=new UE(G0(p.path),v,{includeMetadataChanges:!0,Ku:!0});return FE(c,_)}(await Ub(e),e.asyncQueue,t,o,s)),s.promise}function Ghe(e,t,o={}){const s=new _s;return e.asyncQueue.enqueueAndForget(async()=>function(c,u,p,m,g){const v=new WE({next:C=>{u.enqueueAndForget(()=>$E(c,_)),C.fromCache&&m.source==="server"?g.reject(new Se(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(C)},error:C=>g.reject(C)}),_=new UE(p,v,{includeMetadataChanges:!0,Ku:!0});return FE(c,_)}(await Ub(e),e.asyncQueue,t,o,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(e,t,o){if(!o)throw new Se(ue.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Khe(e,t,o,s){if(t===!0&&s===!0)throw new Se(ue.INVALID_ARGUMENT,`${e} and ${o} cannot be used together.`)}function j3(e){if(!je.isDocumentKey(e))throw new Se(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function z3(e){if(je.isDocumentKey(e))throw new Se(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ov(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(o){return o.constructor?o.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Xe()}function Qo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Se(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const o=ov(e);throw new Se(ue.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${o}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(t){var o,s;if(t.host===void 0){if(t.ssl!==void 0)throw new Se(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(o=t.ssl)===null||o===void 0||o;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Se(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Khe("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=u$((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new Se(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Se(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Se(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(o=this.experimentalLongPollingOptions,s=t.experimentalLongPollingOptions,o.timeoutSeconds===s.timeoutSeconds)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams;var o,s}}class rv{constructor(t,o,s,c){this._authCredentials=t,this._appCheckCredentials=o,this._databaseId=s,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Se(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new Se(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F3(t),t.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new mde;switch(o.type){case"firstParty":return new wde(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Se(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const o=L3.get(t);o&&(Re("ComponentProvider","Removing Datastore"),L3.delete(t),o.terminate())}(this),Promise.resolve()}}function Yhe(e,t,o,s={}){var c;const u=(e=Qo(e,rv))._getSettings(),p=`${t}:${o}`;if(u.host!=="firestore.googleapis.com"&&u.host!==p&&Fd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},u),{host:p,ssl:!1})),s.mockUserToken){let m,g;if(typeof s.mockUserToken=="string")m=s.mockUserToken,g=ko.MOCK_USER;else{m=xF(s.mockUserToken,(c=e._app)===null||c===void 0?void 0:c.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new Se(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ko(v)}e._authCredentials=new kde(new p7(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(t,o,s){this.converter=o,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ao(this.firestore,t,this._key)}}class Ua{constructor(t,o,s){this.converter=o,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ua(this.firestore,t,this._query)}}class xa extends Ua{constructor(t,o,s){super(t,o,G0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ao(this.firestore,null,new je(t))}withConverter(t){return new xa(this.firestore,t,this._path)}}function iv(e,t,...o){if(e=an(e),h$("collection","path",t),e instanceof rv){const s=on.fromString(t,...o);return z3(s),new xa(e,null,s)}{if(!(e instanceof Ao||e instanceof xa))throw new Se(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(on.fromString(t,...o));return z3(s),new xa(e.firestore,null,s)}}function qr(e,t,...o){if(e=an(e),arguments.length===1&&(t=f7.A()),h$("doc","path",t),e instanceof rv){const s=on.fromString(t,...o);return j3(s),new Ao(e,null,new je(s))}{if(!(e instanceof Ao||e instanceof xa))throw new Se(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(on.fromString(t,...o));return j3(s),new Ao(e.firestore,e instanceof xa?e.converter:null,new je(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qhe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Y7(this,"async_queue_retry"),this.Xc=()=>{const o=bC();o&&Re("AsyncQueue","Visibility state changed to "+o.visibilityState),this.qo.Mo()};const t=bC();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const o=bC();o&&typeof o.removeEventListener=="function"&&o.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const o=new _s;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(t){if(!Vf(t))throw t;Re("AsyncQueue","Operation failed with retryable error: "+t)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(t){const o=this.Gc.then(()=>(this.Hc=!0,t().catch(s=>{this.Wc=s,this.Hc=!1;const c=function(u){let p=u.message||"";return u.stack&&(p=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),p}(s);throw Ds("INTERNAL UNHANDLED ERROR: ",c),s}).then(s=>(this.Hc=!1,s))));return this.Gc=o,o}enqueueAfterDelay(t,o,s){this.Zc(),this.Yc.indexOf(t)>-1&&(o=0);const c=jE.createAndSchedule(this,t,o,s,u=>this.na(u));return this.zc.push(c),c}Zc(){this.Wc&&Xe()}verifyOperationInProgress(){}async sa(){let t;do t=this.Gc,await t;while(t!==this.Gc)}ia(t){for(const o of this.zc)if(o.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((o,s)=>o.targetTimeMs-s.targetTimeMs);for(const o of this.zc)if(o.skipDelay(),t!=="all"&&o.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const o=this.zc.indexOf(t);this.zc.splice(o,1)}}function $3(e){return function(t,o){if(typeof t!="object"||t===null)return!1;const s=t;for(const c of o)if(c in s&&typeof s[c]=="function")return!0;return!1}(e,["next","error","complete"])}class Ns extends rv{constructor(t,o,s,c){super(t,o,s,c),this.type="firestore",this._queue=new Qhe,this._persistenceKey=(c==null?void 0:c.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||p$(this),this._firestoreClient.terminate()}}function wi(e,t){const o=typeof e=="object"?e:Ux(),s=typeof e=="string"?e:"(default)",c=x0(o,"firestore").getImmediate({identifier:s});if(!c._initialized){const u=_F("firestore");u&&Yhe(c,...u)}return c}function sv(e){return e._firestoreClient||p$(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function p$(e){var t,o,s;const c=e._freezeSettings(),u=function(p,m,g,v){return new Pde(p,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,u$(v.experimentalLongPollingOptions),v.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,c);e._firestoreClient=new Vhe(e._authCredentials,e._appCheckCredentials,e._queue,u),!((o=c.cache)===null||o===void 0)&&o._offlineComponentProvider&&(!((s=c.cache)===null||s===void 0)&&s._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.cache.kind,_offline:c.cache._offlineComponentProvider,_online:c.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qd(So.fromBase64String(t))}catch(o){throw new Se(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(t){return new qd(So.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(...t){for(let o=0;o<t.length;++o)if(t[o].length===0)throw new Se(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wo(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(t,o){if(!isFinite(t)||t<-90||t>90)throw new Se(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(o)||o<-180||o>180)throw new Se(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=t,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zhe=/^__.*__$/;class Jhe{constructor(t,o,s){this.data=t,this.fieldMask=o,this.fieldTransforms=s}toMutation(t,o){return this.fieldMask!==null?new Va(t,this.data,this.fieldMask,o,this.fieldTransforms):new Uf(t,this.data,o,this.fieldTransforms)}}class f${constructor(t,o,s){this.data=t,this.fieldMask=o,this.fieldTransforms=s}toMutation(t,o){return new Va(t,this.data,this.fieldMask,o,this.fieldTransforms)}}function g$(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class GE{constructor(t,o,s,c,u,p){this.settings=t,this.databaseId=o,this.serializer=s,this.ignoreUndefinedProperties=c,u===void 0&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=p||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new GE(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var o;const s=(o=this.path)===null||o===void 0?void 0:o.child(t),c=this.aa({path:s,la:!1});return c.fa(t),c}da(t){var o;const s=(o=this.path)===null||o===void 0?void 0:o.child(t),c=this.aa({path:s,la:!1});return c.ua(),c}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return Hb(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return this.fieldMask.find(o=>t.isPrefixOf(o))!==void 0||this.fieldTransforms.find(o=>t.isPrefixOf(o.field))!==void 0}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(t.length===0)throw this._a("Document fields must not be empty");if(g$(this.ca)&&Zhe.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class Xhe{constructor(t,o,s){this.databaseId=t,this.ignoreUndefinedProperties=o,this.serializer=s||ev(t)}ya(t,o,s,c=!1){return new GE({ca:t,methodName:o,ga:s,path:wo.emptyPath(),la:!1,ma:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cv(e){const t=e._freezeSettings(),o=ev(e._databaseId);return new Xhe(e._databaseId,!!t.ignoreUndefinedProperties,o)}function m$(e,t,o,s,c,u={}){const p=e.ya(u.merge||u.mergeFields?2:0,t,o,c);YE("Data must be an object, but it was:",p,s);const m=k$(s,p);let g,v;if(u.merge)g=new pr(p.fieldMask),v=p.fieldTransforms;else if(u.mergeFields){const _=[];for(const C of u.mergeFields){const y=k1(t,C,o);if(!p.contains(y))throw new Se(ue.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);v$(_,y)||_.push(y)}g=new pr(_),v=p.fieldTransforms.filter(C=>g.covers(C.field))}else g=null,v=p.fieldTransforms;return new Jhe(new Wo(m),g,v)}class dv extends lv{_toFieldTransform(t){if(t.ca!==2)throw t.ca===1?t._a(`${this._methodName}() can only appear at the top level of your update data`):t._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof dv}}class KE extends lv{_toFieldTransform(t){return new tue(t.path,new rf)}isEqual(t){return t instanceof KE}}function epe(e,t,o,s){const c=e.ya(1,t,o);YE("Data must be an object, but it was:",c,s);const u=[],p=Wo.empty();rc(s,(g,v)=>{const _=QE(t,g,o);v=an(v);const C=c.da(_);if(v instanceof dv)u.push(_);else{const y=Gf(v,C);y!=null&&(u.push(_),p.set(_,y))}});const m=new pr(u);return new f$(p,m,c.fieldTransforms)}function tpe(e,t,o,s,c,u){const p=e.ya(1,t,o),m=[k1(t,s,o)],g=[c];if(u.length%2!=0)throw new Se(ue.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<u.length;y+=2)m.push(k1(t,u[y])),g.push(u[y+1]);const v=[],_=Wo.empty();for(let y=m.length-1;y>=0;--y)if(!v$(v,m[y])){const x=m[y];let S=g[y];S=an(S);const T=p.da(x);if(S instanceof dv)v.push(x);else{const P=Gf(S,T);P!=null&&(v.push(x),_.set(x,P))}}const C=new pr(v);return new f$(_,C,p.fieldTransforms)}function npe(e,t,o,s=!1){return Gf(o,e.ya(s?4:3,t))}function Gf(e,t){if(b$(e=an(e)))return YE("Unsupported field value:",t,e),k$(e,t);if(e instanceof lv)return function(o,s){if(!g$(s.ca))throw s._a(`${o._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${o._methodName}() is not currently supported inside arrays`);const c=o._toFieldTransform(s);c&&s.fieldTransforms.push(c)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&t.ca!==4)throw t._a("Nested arrays are not supported");return function(o,s){const c=[];let u=0;for(const p of o){let m=Gf(p,s.wa(u));m==null&&(m={nullValue:"NULL_VALUE"}),c.push(m),u++}return{arrayValue:{values:c}}}(e,t)}return function(o,s){if((o=an(o))===null)return{nullValue:"NULL_VALUE"};if(typeof o=="number")return Jde(s.serializer,o);if(typeof o=="boolean")return{booleanValue:o};if(typeof o=="string")return{stringValue:o};if(o instanceof Date){const c=Un.fromDate(o);return{timestampValue:$b(s.serializer,c)}}if(o instanceof Un){const c=new Un(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:$b(s.serializer,c)}}if(o instanceof qE)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof qd)return{bytesValue:$7(s.serializer,o._byteString)};if(o instanceof Ao){const c=s.databaseId,u=o.firestore._databaseId;if(!u.isEqual(c))throw s._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ME(o.firestore._databaseId||s.databaseId,o._key.path)}}throw s._a(`Unsupported field value: ${ov(o)}`)}(e,t)}function k$(e,t){const o={};return g7(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rc(e,(s,c)=>{const u=Gf(c,t.ha(s));u!=null&&(o[s]=u)}),{mapValue:{fields:o}}}function b$(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Un||e instanceof qE||e instanceof qd||e instanceof Ao||e instanceof lv)}function YE(e,t,o){if(!b$(o)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(o)){const s=ov(o);throw s==="an object"?t._a(e+" a custom object"):t._a(e+" "+s)}}function k1(e,t,o){if((t=an(t))instanceof av)return t._internalPath;if(typeof t=="string")return QE(e,t);throw Hb("Field path arguments must be of type string or ",e,!1,void 0,o)}const ope=new RegExp("[~\\*/\\[\\]]");function QE(e,t,o){if(t.search(ope)>=0)throw Hb(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,o);try{return new av(...t.split("."))._internalPath}catch{throw Hb(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,o)}}function Hb(e,t,o,s,c){const u=s&&!s.isEmpty(),p=c!==void 0;let m=`Function ${t}() called with invalid data`;o&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||p)&&(g+=" (found",u&&(g+=` in field ${s}`),p&&(g+=` in document ${c}`),g+=")"),new Se(ue.INVALID_ARGUMENT,m+e+g)}function v$(e,t){return e.some(o=>o.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(t,o,s,c,u){this._firestore=t,this._userDataWriter=o,this._key=s,this._document=c,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ao(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new rpe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const o=this._document.data.field(uv("DocumentSnapshot.get",t));if(o!==null)return this._userDataWriter.convertValue(o)}}}class rpe extends w${data(){return super.data()}}function uv(e,t){return typeof t=="string"?QE(e,t):t instanceof av?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Se(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ZE{}class _$ extends ZE{}function ipe(e,t,...o){let s=[];t instanceof ZE&&s.push(t),s=s.concat(o),function(c){const u=c.filter(m=>m instanceof JE).length,p=c.filter(m=>m instanceof hv).length;if(u>1||u>0&&p>0)throw new Se(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const c of s)e=c._apply(e);return e}class hv extends _${constructor(t,o,s){super(),this._field=t,this._op=o,this._value=s,this.type="where"}static _create(t,o,s){return new hv(t,o,s)}_apply(t){const o=this._parse(t);return C$(t._query,o),new Ua(t.firestore,t.converter,l1(t._query,o))}_parse(t){const o=cv(t.firestore);return function(c,u,p,m,g,v,_){let C;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Se(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){U3(_,v);const y=[];for(const x of _)y.push(V3(m,c,x));C={arrayValue:{values:y}}}else C=V3(m,c,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||U3(_,v),C=npe(p,u,_,v==="in"||v==="not-in");return On.create(g,v,C)}(t._query,"where",o,t.firestore._databaseId,this._field,this._op,this._value)}}function QTe(e,t,o){const s=t,c=uv("where",e);return hv._create(c,s,o)}class JE extends ZE{constructor(t,o){super(),this.type=t,this._queryConstraints=o}static _create(t,o){return new JE(t,o)}_parse(t){const o=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return o.length===1?o[0]:vi.create(o,this._getOperator())}_apply(t){const o=this._parse(t);return o.getFilters().length===0?t:(function(s,c){let u=s;const p=c.getFlattenedFilters();for(const m of p)C$(u,m),u=l1(u,m)}(t._query,o),new Ua(t.firestore,t.converter,l1(t._query,o)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class XE extends _${constructor(t,o){super(),this._field=t,this._direction=o,this.type="orderBy"}static _create(t,o){return new XE(t,o)}_apply(t){const o=function(s,c,u){if(s.startAt!==null)throw new Se(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Se(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new xd(c,u);return function(m,g){if(EE(m)===null){const v=K0(m);v!==null&&A$(m,v,g.field)}}(s,p),p}(t._query,this._field,this._direction);return new Ua(t.firestore,t.converter,function(s,c){const u=s.explicitOrderBy.concat([c]);return new du(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,o))}}function spe(e,t="asc"){const o=t,s=uv("orderBy",e);return XE._create(s,o)}function V3(e,t,o){if(typeof(o=an(o))=="string"){if(o==="")throw new Se(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!A7(t)&&o.indexOf("/")!==-1)throw new Se(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${o}' contains a '/' character.`);const s=t.path.child(on.fromString(o));if(!je.isDocumentKey(s))throw new Se(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return u3(e,new je(s))}if(o instanceof Ao)return u3(e,o._key);throw new Se(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ov(o)}.`)}function U3(e,t){if(!Array.isArray(e)||e.length===0)throw new Se(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function C$(e,t){if(t.isInequality()){const s=K0(e),c=t.field;if(s!==null&&!s.isEqual(c))throw new Se(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${c.toString()}'`);const u=EE(e);u!==null&&A$(e,c,u)}const o=function(s,c){for(const u of s)for(const p of u.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(o!==null)throw o===t.op?new Se(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Se(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${o.toString()}' filters.`)}function A$(e,t,o){if(!o.isEqual(t))throw new Se(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${o.toString()}' instead.`)}class ape{convertValue(t,o="none"){switch(Gl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,o);case 5:return t.stringValue;case 6:return this.convertBytes(ql(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,o);case 10:return this.convertObject(t.mapValue,o);default:throw Xe()}}convertObject(t,o){return this.convertObjectMap(t.fields,o)}convertObjectMap(t,o="none"){const s={};return rc(t,(c,u)=>{s[c]=this.convertValue(u,o)}),s}convertGeoPoint(t){return new qE(Pn(t.latitude),Pn(t.longitude))}convertArray(t,o){return(t.values||[]).map(s=>this.convertValue(s,o))}convertServerTimestamp(t,o){switch(o){case"previous":const s=_E(t);return s==null?null:this.convertValue(s,o);case"estimate":return this.convertTimestamp(tf(t));default:return null}}convertTimestamp(t){const o=Ma(t);return new Un(o.seconds,o.nanos)}convertDocumentKey(t,o){const s=on.fromString(t);sn(q7(s));const c=new nf(s.get(1),s.get(3)),u=new je(s.popFirst(5));return c.isEqual(o)||Ds(`Document ${u} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${o.projectId}/${o.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x$(e,t,o){let s;return s=e?o&&(o.merge||o.mergeFields)?e.toFirestore(t,o):e.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(t,o){this.hasPendingWrites=t,this.fromCache=o}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class E$ extends w${constructor(t,o,s,c,u,p){super(t,o,s,c,p),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const o=new Fk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,o={}){if(this._document){const s=this._document.data.field(uv("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,o.serverTimestamps)}}}class Fk extends E${data(t={}){return super.data(t)}}class S${constructor(t,o,s,c){this._firestore=t,this._userDataWriter=o,this._snapshot=c,this.metadata=new Qh(c.hasPendingWrites,c.fromCache),this.query=s}get docs(){const t=[];return this.forEach(o=>t.push(o)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,o){this._snapshot.docs.forEach(s=>{t.call(o,new Fk(this._firestore,this._userDataWriter,s.key,s,new Qh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const o=!!t.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new Se(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(s,c){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(p=>{const m=new Fk(s._firestore,s._userDataWriter,p.doc.key,p.doc,new Qh(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>c||p.type!==3).map(p=>{const m=new Fk(s._firestore,s._userDataWriter,p.doc.key,p.doc,new Qh(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,v=-1;return p.type!==0&&(g=u.indexOf(p.doc.key),u=u.delete(p.doc.key)),p.type!==1&&(u=u.add(p.doc),v=u.indexOf(p.doc.key)),{type:lpe(p.type),doc:m,oldIndex:g,newIndex:v}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}}function lpe(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(e){e=Qo(e,Ao);const t=Qo(e.firestore,Ns);return qhe(sv(t),e._key).then(o=>D$(t,e,o))}class e2 extends ape{constructor(t){super(),this.firestore=t}convertBytes(t){return new qd(t)}convertReference(t){const o=this.convertDocumentKey(t,this.firestore._databaseId);return new Ao(this.firestore,null,o)}}function T$(e){e=Qo(e,Ua);const t=Qo(e.firestore,Ns),o=sv(t),s=new e2(t);return y$(e._query),Ghe(o,e._query).then(c=>new S$(t,s,e,c))}function cpe(e,t,o){e=Qo(e,Ao);const s=Qo(e.firestore,Ns),c=x$(e.converter,t,o);return pv(s,[m$(cv(s),"setDoc",e._key,c,e.converter!==null,o).toMutation(e._key,Vr.none())])}function pu(e,t,o,...s){e=Qo(e,Ao);const c=Qo(e.firestore,Ns),u=cv(c);let p;return p=typeof(t=an(t))=="string"||t instanceof av?tpe(u,"updateDoc",e._key,t,o,s):epe(u,"updateDoc",e._key,t),pv(c,[p.toMutation(e._key,Vr.exists(!0))])}function dpe(e){return pv(Qo(e.firestore,Ns),[new SE(e._key,Vr.none())])}function I$(e,t){const o=Qo(e.firestore,Ns),s=qr(e),c=x$(e.converter,t);return pv(o,[m$(cv(e.firestore),"addDoc",s._key,c,e.converter!==null,{}).toMutation(s._key,Vr.exists(!1))]).then(()=>s)}function ZTe(e,...t){var o,s,c;e=an(e);let u={includeMetadataChanges:!1},p=0;typeof t[p]!="object"||$3(t[p])||(u=t[p],p++);const m={includeMetadataChanges:u.includeMetadataChanges};if($3(t[p])){const C=t[p];t[p]=(o=C.next)===null||o===void 0?void 0:o.bind(C),t[p+1]=(s=C.error)===null||s===void 0?void 0:s.bind(C),t[p+2]=(c=C.complete)===null||c===void 0?void 0:c.bind(C)}let g,v,_;if(e instanceof Ao)v=Qo(e.firestore,Ns),_=G0(e._key.path),g={next:C=>{t[p]&&t[p](D$(v,e,C))},error:t[p+1],complete:t[p+2]};else{const C=Qo(e,Ua);v=Qo(C.firestore,Ns),_=C._query;const y=new e2(v);g={next:x=>{t[p]&&t[p](new S$(v,y,C,x))},error:t[p+1],complete:t[p+2]},y$(e._query)}return function(C,y,x,S){const T=new WE(S),P=new UE(y,T,x);return C.asyncQueue.enqueueAndForget(async()=>FE(await Ub(C),P)),()=>{T.Dc(),C.asyncQueue.enqueueAndForget(async()=>$E(await Ub(C),P))}}(sv(v),_,m,g)}function pv(e,t){return function(o,s){const c=new _s;return o.asyncQueue.enqueueAndForget(async()=>Phe(await Whe(o),s,c)),c.promise}(sv(e),t)}function D$(e,t,o){const s=o.docs.get(t._key),c=new e2(e);return new E$(e,c,t._key,s,new Qh(o.hasPendingWrites,o.fromCache),t.converter)}function pp(){return new KE("serverTimestamp")}(function(e,t=!0){(function(o){cu=o})(nc),Ul(new Ia("firestore",(o,{instanceIdentifier:s,options:c})=>{const u=o.getProvider("app").getImmediate(),p=new Ns(new bde(o.getProvider("auth-internal")),new _de(o.getProvider("app-check-internal")),function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Se(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nf(m.options.projectId,g)}(u,s),u);return c=Object.assign({useFetchStreams:t},c),p._setSettings(c),p},"PUBLIC").setMultipleInstances(!0)),Fi(s3,"3.13.0",e),Fi(s3,"3.13.0","esm2017")})();var upe="firebase",hpe="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fi(upe,hpe,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$="firebasestorage.googleapis.com",P$="storageBucket",ppe=2*60*1e3,fpe=10*60*1e3,gpe=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn extends Qi{constructor(t,o,s=0){super(wC(t),`Firebase Storage: ${o} (${wC(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mn.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return wC(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ln;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ln||(ln={}));function wC(e){return"storage/"+e}function t2(){const e="An unknown error occurred, please check the error payload for server response.";return new mn(ln.UNKNOWN,e)}function mpe(e){return new mn(ln.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function kpe(e){return new mn(ln.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function bpe(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mn(ln.UNAUTHENTICATED,e)}function vpe(){return new mn(ln.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function wpe(e){return new mn(ln.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function N$(){return new mn(ln.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function R$(){return new mn(ln.CANCELED,"User canceled the upload/download.")}function ype(e){return new mn(ln.INVALID_URL,"Invalid URL '"+e+"'.")}function _pe(e){return new mn(ln.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Cpe(){return new mn(ln.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+P$+"' property when initializing the app?")}function O$(){return new mn(ln.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ape(){return new mn(ln.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function xpe(){return new mn(ln.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Epe(e){return new mn(ln.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function b1(e){return new mn(ln.INVALID_ARGUMENT,e)}function B$(){return new mn(ln.APP_DELETED,"The Firebase app was deleted.")}function Spe(e){return new mn(ln.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fp(e,t){return new mn(ln.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Ih(e){throw new mn(ln.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(t,o){this.bucket=t,this.path_=o}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,o){let s;try{s=fr.makeFromUrl(t,o)}catch{return new fr(t,"")}if(s.path==="")return s;throw _pe(t)}static makeFromUrl(t,o){let s=null;const c="([A-Za-z0-9.\\-_]+)";function u(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const p="(/(.*))?$",m=new RegExp("^gs://"+c+p,"i"),g={bucket:1,path:3};function v(j){j.path_=decodeURIComponent(j.path)}const _="v[A-Za-z0-9_]+",C=o.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",x=new RegExp(`^https?://${C}/${_}/b/${c}/o${y}`,"i"),S={bucket:1,path:3},T=o===M$?"(?:storage.googleapis.com|storage.cloud.google.com)":o,P="([^?#]*)",D=new RegExp(`^https?://${T}/${c}/${P}`,"i"),B=[{regex:m,indices:g,postModify:u},{regex:x,indices:S,postModify:v},{regex:D,indices:{bucket:1,path:2},postModify:v}];for(let j=0;j<B.length;j++){const V=B[j],H=V.regex.exec(t);if(H){const M=H[V.indices.bucket];let U=H[V.indices.path];U||(U=""),s=new fr(M,U),V.postModify(s);break}}if(s==null)throw ype(t);return s}}class Tpe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ipe(e,t,o){let s=1,c=null,u=null,p=!1,m=0;function g(){return m===2}let v=!1;function _(...P){v||(v=!0,t.apply(null,P))}function C(P){c=setTimeout(()=>{c=null,e(x,g())},P)}function y(){u&&clearTimeout(u)}function x(P,...D){if(v){y();return}if(P){y(),_.call(null,P,...D);return}if(g()||p){y(),_.call(null,P,...D);return}s<64&&(s*=2);let B;m===1?(m=2,B=0):B=(s+Math.random())*1e3,C(B)}let S=!1;function T(P){S||(S=!0,y(),!v&&(c!==null?(P||(m=2),clearTimeout(c),C(0)):P||(m=1)))}return C(0),u=setTimeout(()=>{p=!0,T(!0)},o),T}function Dpe(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mpe(e){return e!==void 0}function Ppe(e){return typeof e=="function"}function Npe(e){return typeof e=="object"&&!Array.isArray(e)}function fv(e){return typeof e=="string"||e instanceof String}function H3(e){return n2()&&e instanceof Blob}function n2(){return typeof Blob<"u"&&!Hie()}function W3(e,t,o,s){if(s<t)throw b1(`Invalid value for '${e}'. Expected ${t} or greater.`);if(s>o)throw b1(`Invalid value for '${e}'. Expected ${o} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(e,t,o){let s=t;return o==null&&(s=`https://${t}`),`${o}://${s}/v0${e}`}function L$(e){const t=encodeURIComponent;let o="?";for(const s in e)if(e.hasOwnProperty(s)){const c=t(s)+"="+t(e[s]);o=o+c+"&"}return o=o.slice(0,-1),o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ol;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Ol||(Ol={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j$(e,t){const o=e>=500&&e<600,c=[408,429].indexOf(e)!==-1,u=t.indexOf(e)!==-1;return o||c||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rpe{constructor(t,o,s,c,u,p,m,g,v,_,C,y=!0){this.url_=t,this.method_=o,this.headers_=s,this.body_=c,this.successCodes_=u,this.additionalRetryCodes_=p,this.callback_=m,this.errorCallback_=g,this.timeout_=v,this.progressCallback_=_,this.connectionFactory_=C,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,S)=>{this.resolve_=x,this.reject_=S,this.start_()})}start_(){const t=(s,c)=>{if(c){s(!1,new dk(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const p=m=>{const g=m.loaded,v=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,v)};this.progressCallback_!==null&&u.addUploadProgressListener(p),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(p),this.pendingConnection_=null;const m=u.getErrorCode()===Ol.NO_ERROR,g=u.getStatus();if(!m||j$(g,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===Ol.ABORT;s(!1,new dk(!1,null,_));return}const v=this.successCodes_.indexOf(g)!==-1;s(!0,new dk(v,u))})},o=(s,c)=>{const u=this.resolve_,p=this.reject_,m=c.connection;if(c.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());Mpe(g)?u(g):u()}catch(g){p(g)}else if(m!==null){const g=t2();g.serverResponse=m.getErrorText(),this.errorCallback_?p(this.errorCallback_(m,g)):p(g)}else if(c.canceled){const g=this.appDelete_?B$():R$();p(g)}else{const g=N$();p(g)}};this.canceled_?o(!1,new dk(!1,null,!0)):this.backoffId_=Ipe(t,o,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Dpe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class dk{constructor(t,o,s){this.wasSuccessCode=t,this.connection=o,this.canceled=!!s}}function Ope(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Bpe(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Lpe(e,t){t&&(e["X-Firebase-GMPID"]=t)}function jpe(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function zpe(e,t,o,s,c,u,p=!0){const m=L$(e.urlParams),g=e.url+m,v=Object.assign({},e.headers);return Lpe(v,t),Ope(v,o),Bpe(v,u),jpe(v,s),new Rpe(g,e.method,v,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,c,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fpe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $pe(...e){const t=Fpe();if(t!==void 0){const o=new t;for(let s=0;s<e.length;s++)o.append(e[s]);return o.getBlob()}else{if(n2())return new Blob(e);throw new mn(ln.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Vpe(e,t,o){return e.webkitSlice?e.webkitSlice(t,o):e.mozSlice?e.mozSlice(t,o):e.slice?e.slice(t,o):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Upe(e){if(typeof atob>"u")throw Epe("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class yC{constructor(t,o){this.data=t,this.contentType=o||null}}function Hpe(e,t){switch(e){case Li.RAW:return new yC(z$(t));case Li.BASE64:case Li.BASE64URL:return new yC(F$(e,t));case Li.DATA_URL:return new yC(qpe(t),Gpe(t))}throw t2()}function z$(e){const t=[];for(let o=0;o<e.length;o++){let s=e.charCodeAt(o);if(s<=127)t.push(s);else if(s<=2047)t.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(o<e.length-1&&(e.charCodeAt(o+1)&64512)===56320))t.push(239,191,189);else{const u=s,p=e.charCodeAt(++o);s=65536|(u&1023)<<10|p&1023,t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?t.push(239,191,189):t.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(t)}function Wpe(e){let t;try{t=decodeURIComponent(e)}catch{throw fp(Li.DATA_URL,"Malformed data URL.")}return z$(t)}function F$(e,t){switch(e){case Li.BASE64:{const c=t.indexOf("-")!==-1,u=t.indexOf("_")!==-1;if(c||u)throw fp(e,"Invalid character '"+(c?"-":"_")+"' found: is it base64url encoded?");break}case Li.BASE64URL:{const c=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(c||u)throw fp(e,"Invalid character '"+(c?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let o;try{o=Upe(t)}catch(c){throw c.message.includes("polyfill")?c:fp(e,"Invalid character found")}const s=new Uint8Array(o.length);for(let c=0;c<o.length;c++)s[c]=o.charCodeAt(c);return s}class $${constructor(t){this.base64=!1,this.contentType=null;const o=t.match(/^data:([^,]+)?,/);if(o===null)throw fp(Li.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=o[1]||null;s!=null&&(this.base64=Kpe(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=t.substring(t.indexOf(",")+1)}}function qpe(e){const t=new $$(e);return t.base64?F$(Li.BASE64,t.rest):Wpe(t.rest)}function Gpe(e){return new $$(e).contentType}function Kpe(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t,o){let s=0,c="";H3(t)?(this.data_=t,s=t.size,c=t.type):t instanceof ArrayBuffer?(o?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),s=this.data_.length):t instanceof Uint8Array&&(o?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),s=t.length),this.size_=s,this.type_=c}size(){return this.size_}type(){return this.type_}slice(t,o){if(H3(this.data_)){const s=this.data_,c=Vpe(s,t,o);return c===null?null:new fs(c)}else{const s=new Uint8Array(this.data_.buffer,t,o-t);return new fs(s,!0)}}static getBlob(...t){if(n2()){const o=t.map(s=>s instanceof fs?s.data_:s);return new fs($pe.apply(null,o))}else{const o=t.map(p=>fv(p)?Hpe(Li.RAW,p).data:p.data_);let s=0;o.forEach(p=>{s+=p.byteLength});const c=new Uint8Array(s);let u=0;return o.forEach(p=>{for(let m=0;m<p.length;m++)c[u++]=p[m]}),new fs(c,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(e){let t;try{t=JSON.parse(e)}catch{return null}return Npe(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ype(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function Qpe(e,t){const o=t.split("/").filter(s=>s.length>0).join("/");return e.length===0?o:e+"/"+o}function U$(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zpe(e,t){return t}class Do{constructor(t,o,s,c){this.server=t,this.local=o||t,this.writable=!!s,this.xform=c||Zpe}}let uk=null;function Jpe(e){return!fv(e)||e.length<2?e:U$(e)}function o2(){if(uk)return uk;const e=[];e.push(new Do("bucket")),e.push(new Do("generation")),e.push(new Do("metageneration")),e.push(new Do("name","fullPath",!0));function t(u,p){return Jpe(p)}const o=new Do("name");o.xform=t,e.push(o);function s(u,p){return p!==void 0?Number(p):p}const c=new Do("size");return c.xform=s,e.push(c),e.push(new Do("timeCreated")),e.push(new Do("updated")),e.push(new Do("md5Hash",null,!0)),e.push(new Do("cacheControl",null,!0)),e.push(new Do("contentDisposition",null,!0)),e.push(new Do("contentEncoding",null,!0)),e.push(new Do("contentLanguage",null,!0)),e.push(new Do("contentType",null,!0)),e.push(new Do("metadata","customMetadata",!0)),uk=e,uk}function Xpe(e,t){function o(){const s=e.bucket,c=e.fullPath,u=new fr(s,c);return t._makeStorageReference(u)}Object.defineProperty(e,"ref",{get:o})}function efe(e,t,o){const s={};s.type="file";const c=o.length;for(let u=0;u<c;u++){const p=o[u];s[p.local]=p.xform(s,t[p.server])}return Xpe(s,e),s}function H$(e,t,o){const s=V$(t);return s===null?null:efe(e,s,o)}function tfe(e,t,o,s){const c=V$(t);if(c===null||!fv(c.downloadTokens))return null;const u=c.downloadTokens;if(u.length===0)return null;const p=encodeURIComponent;return u.split(",").map(v=>{const _=e.bucket,C=e.fullPath,y="/b/"+p(_)+"/o/"+p(C),x=fu(y,o,s),S=L$({alt:"media",token:v});return x+S})[0]}function W$(e,t){const o={},s=t.length;for(let c=0;c<s;c++){const u=t[c];u.writable&&(o[u.server]=e[u.local])}return JSON.stringify(o)}class sc{constructor(t,o,s,c){this.url=t,this.method=o,this.handler=s,this.timeout=c,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(e){if(!e)throw t2()}function r2(e,t){function o(s,c){const u=H$(e,c,t);return Cs(u!==null),u}return o}function nfe(e,t){function o(s,c){const u=H$(e,c,t);return Cs(u!==null),tfe(u,c,e.host,e._protocol)}return o}function Yf(e){function t(o,s){let c;return o.getStatus()===401?o.getErrorText().includes("Firebase App Check token is invalid")?c=vpe():c=bpe():o.getStatus()===402?c=kpe(e.bucket):o.getStatus()===403?c=wpe(e.path):c=s,c.status=o.getStatus(),c.serverResponse=s.serverResponse,c}return t}function i2(e){const t=Yf(e);function o(s,c){let u=t(s,c);return s.getStatus()===404&&(u=mpe(e.path)),u.serverResponse=c.serverResponse,u}return o}function ofe(e,t,o){const s=t.fullServerUrl(),c=fu(s,e.host,e._protocol),u="GET",p=e.maxOperationRetryTime,m=new sc(c,u,r2(e,o),p);return m.errorHandler=i2(t),m}function rfe(e,t,o){const s=t.fullServerUrl(),c=fu(s,e.host,e._protocol),u="GET",p=e.maxOperationRetryTime,m=new sc(c,u,nfe(e,o),p);return m.errorHandler=i2(t),m}function ife(e,t){const o=t.fullServerUrl(),s=fu(o,e.host,e._protocol),c="DELETE",u=e.maxOperationRetryTime;function p(g,v){}const m=new sc(s,c,p,u);return m.successCodes=[200,204],m.errorHandler=i2(t),m}function sfe(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function q$(e,t,o){const s=Object.assign({},o);return s.fullPath=e.path,s.size=t.size(),s.contentType||(s.contentType=sfe(null,t)),s}function G$(e,t,o,s,c){const u=t.bucketOnlyServerUrl(),p={"X-Goog-Upload-Protocol":"multipart"};function m(){let B="";for(let j=0;j<2;j++)B=B+Math.random().toString().slice(2);return B}const g=m();p["Content-Type"]="multipart/related; boundary="+g;const v=q$(t,s,c),_=W$(v,o),C="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+g+`\r
Content-Type: `+v.contentType+`\r
\r
`,y=`\r
--`+g+"--",x=fs.getBlob(C,s,y);if(x===null)throw O$();const S={name:v.fullPath},T=fu(u,e.host,e._protocol),P="POST",D=e.maxUploadRetryTime,R=new sc(T,P,r2(e,o),D);return R.urlParams=S,R.headers=p,R.body=x.uploadData(),R.errorHandler=Yf(t),R}class Wb{constructor(t,o,s,c){this.current=t,this.total=o,this.finalized=!!s,this.metadata=c||null}}function s2(e,t){let o=null;try{o=e.getResponseHeader("X-Goog-Upload-Status")}catch{Cs(!1)}return Cs(!!o&&(t||["active"]).indexOf(o)!==-1),o}function afe(e,t,o,s,c){const u=t.bucketOnlyServerUrl(),p=q$(t,s,c),m={name:p.fullPath},g=fu(u,e.host,e._protocol),v="POST",_={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":p.contentType,"Content-Type":"application/json; charset=utf-8"},C=W$(p,o),y=e.maxUploadRetryTime;function x(T){s2(T);let P;try{P=T.getResponseHeader("X-Goog-Upload-URL")}catch{Cs(!1)}return Cs(fv(P)),P}const S=new sc(g,v,x,y);return S.urlParams=m,S.headers=_,S.body=C,S.errorHandler=Yf(t),S}function lfe(e,t,o,s){const c={"X-Goog-Upload-Command":"query"};function u(v){const _=s2(v,["active","final"]);let C=null;try{C=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Cs(!1)}C||Cs(!1);const y=Number(C);return Cs(!isNaN(y)),new Wb(y,s.size(),_==="final")}const p="POST",m=e.maxUploadRetryTime,g=new sc(o,p,u,m);return g.headers=c,g.errorHandler=Yf(t),g}const q3=256*1024;function cfe(e,t,o,s,c,u,p,m){const g=new Wb(0,0);if(p?(g.current=p.current,g.total=p.total):(g.current=0,g.total=s.size()),s.size()!==g.total)throw Ape();const v=g.total-g.current;let _=v;c>0&&(_=Math.min(_,c));const C=g.current,y=C+_;let x="";_===0?x="finalize":v===_?x="upload, finalize":x="upload";const S={"X-Goog-Upload-Command":x,"X-Goog-Upload-Offset":`${g.current}`},T=s.slice(C,y);if(T===null)throw O$();function P(j,V){const H=s2(j,["active","final"]),M=g.current+_,U=s.size();let G;return H==="final"?G=r2(t,u)(j,V):G=null,new Wb(M,U,H==="final",G)}const D="POST",R=t.maxUploadRetryTime,B=new sc(o,D,P,R);return B.headers=S,B.body=T.uploadData(),B.progressCallback=m||null,B.errorHandler=Yf(e),B}const Uo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _C(e){switch(e){case"running":case"pausing":case"canceling":return Uo.RUNNING;case"paused":return Uo.PAUSED;case"success":return Uo.SUCCESS;case"canceled":return Uo.CANCELED;case"error":return Uo.ERROR;default:return Uo.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dfe{constructor(t,o,s){if(Ppe(t)||o!=null||s!=null)this.next=t,this.error=o??void 0,this.complete=s??void 0;else{const u=t;this.next=u.next,this.error=u.error,this.complete=u.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(e){return(...t)=>{Promise.resolve().then(()=>e(...t))}}class ufe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ol.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ol.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ol.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,o,s,c){if(this.sent_)throw Ih("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(o,t,!0),c!==void 0)for(const u in c)c.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,c[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ih("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ih("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ih("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ih("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class hfe extends ufe{initXhr(){this.xhr_.responseType="text"}}function la(){return new hfe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pfe{constructor(t,o,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=o,this._metadata=s,this._mappings=o2(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=c=>{if(this._request=void 0,this._chunkMultiplier=1,c._codeEquals(ln.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(j$(c.status,[]))if(u)c=N$();else{this.sleepTime=Math.max(this.sleepTime*2,gpe),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=c,this._transition("error")}},this._metadataErrorHandler=c=>{this._request=void 0,c._codeEquals(ln.CANCELED)?this.completeTransitions_():(this._error=c,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((c,u)=>{this._resolve=c,this._reject=u,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return o=>this._updateProgress(t+o)}_shouldDoResumable(t){return t.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([o,s])=>{switch(this._state){case"running":t(o,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((t,o)=>{const s=afe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),c=this._ref.storage._makeRequest(s,la,t,o);this._request=c,c.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((o,s)=>{const c=lfe(this._ref.storage,this._ref._location,t,this._blob),u=this._ref.storage._makeRequest(c,la,o,s);this._request=u,u.getPromise().then(p=>{p=p,this._request=void 0,this._updateProgress(p.current),this._needToFetchStatus=!1,p.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=q3*this._chunkMultiplier,o=new Wb(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((c,u)=>{let p;try{p=cfe(this._ref._location,this._ref.storage,s,this._blob,t,this._mappings,o,this._makeProgressCallback())}catch(g){this._error=g,this._transition("error");return}const m=this._ref.storage._makeRequest(p,la,c,u,!1);this._request=m,m.getPromise().then(g=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(g.current),g.finalized?(this._metadata=g.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){q3*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,o)=>{const s=ofe(this._ref.storage,this._ref._location,this._mappings),c=this._ref.storage._makeRequest(s,la,t,o);this._request=c,c.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,o)=>{const s=G$(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),c=this._ref.storage._makeRequest(s,la,t,o);this._request=c,c.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const o=this._transferred;this._transferred=t,this._transferred!==o&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const o=this._state==="paused";this._state=t,o&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=R$(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const t=_C(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,o,s,c){const u=new dfe(o||void 0,s||void 0,c||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(t,o){return this._promise.then(t,o)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const o=this._observers.indexOf(t);o!==-1&&this._observers.splice(o,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(o=>{this._notifyObserver(o)})}_finishPromise(){if(this._resolve!==void 0){let t=!0;switch(_C(this._state)){case Uo.SUCCESS:Hc(this._resolve.bind(null,this.snapshot))();break;case Uo.CANCELED:case Uo.ERROR:const o=this._reject;Hc(o.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(_C(this._state)){case Uo.RUNNING:case Uo.PAUSED:t.next&&Hc(t.next.bind(t,this.snapshot))();break;case Uo.SUCCESS:t.complete&&Hc(t.complete.bind(t))();break;case Uo.CANCELED:case Uo.ERROR:t.error&&Hc(t.error.bind(t,this._error))();break;default:t.error&&Hc(t.error.bind(t,this._error))()}}resume(){const t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t}pause(){const t=this._state==="running";return t&&this._transition("pausing"),t}cancel(){const t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(t,o){this._service=t,o instanceof fr?this._location=o:this._location=fr.makeFromUrl(o,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,o){return new Kl(t,o)}get root(){const t=new fr(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return U$(this._location.path)}get storage(){return this._service}get parent(){const t=Ype(this._location.path);if(t===null)return null;const o=new fr(this._location.bucket,t);return new Kl(this._service,o)}_throwIfRoot(t){if(this._location.path==="")throw Spe(t)}}function ffe(e,t,o){e._throwIfRoot("uploadBytes");const s=G$(e.storage,e._location,o2(),new fs(t,!0),o);return e.storage.makeRequestWithTokens(s,la).then(c=>({metadata:c,ref:e}))}function gfe(e,t,o){return e._throwIfRoot("uploadBytesResumable"),new pfe(e,new fs(t),o)}function mfe(e){e._throwIfRoot("getDownloadURL");const t=rfe(e.storage,e._location,o2());return e.storage.makeRequestWithTokens(t,la).then(o=>{if(o===null)throw xpe();return o})}function kfe(e){e._throwIfRoot("deleteObject");const t=ife(e.storage,e._location);return e.storage.makeRequestWithTokens(t,la)}function bfe(e,t){const o=Qpe(e._location.path,t),s=new fr(e._location.bucket,o);return new Kl(e.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vfe(e){return/^[A-Za-z]+:\/\//.test(e)}function wfe(e,t){return new Kl(e,t)}function K$(e,t){if(e instanceof a2){const o=e;if(o._bucket==null)throw Cpe();const s=new Kl(o,o._bucket);return t!=null?K$(s,t):s}else return t!==void 0?bfe(e,t):e}function yfe(e,t){if(t&&vfe(t)){if(e instanceof a2)return wfe(e,t);throw b1("To use ref(service, url), the first argument must be a Storage instance.")}else return K$(e,t)}function G3(e,t){const o=t==null?void 0:t[P$];return o==null?null:fr.makeFromBucketSpec(o,e)}function _fe(e,t,o,s={}){e.host=`${t}:${o}`,e._protocol="http";const{mockUserToken:c}=s;c&&(e._overrideAuthToken=typeof c=="string"?c:xF(c,e.app.options.projectId))}class a2{constructor(t,o,s,c,u){this.app=t,this._authProvider=o,this._appCheckProvider=s,this._url=c,this._firebaseVersion=u,this._bucket=null,this._host=M$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ppe,this._maxUploadRetryTime=fpe,this._requests=new Set,c!=null?this._bucket=fr.makeFromBucketSpec(c,this._host):this._bucket=G3(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=fr.makeFromBucketSpec(this._url,t):this._bucket=G3(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){W3("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){W3("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const o=await t.getToken();if(o!==null)return o.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Kl(this,t)}_makeRequest(t,o,s,c,u=!0){if(this._deleted)return new Tpe(B$());{const p=zpe(t,this._appId,s,c,o,this._firebaseVersion,u);return this._requests.add(p),p.getPromise().then(()=>this._requests.delete(p),()=>this._requests.delete(p)),p}}async makeRequestWithTokens(t,o){const[s,c]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,o,s,c).getPromise()}}const K3="@firebase/storage",Y3="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$="storage";function Cfe(e,t,o){return e=an(e),ffe(e,t,o)}function JTe(e,t,o){return e=an(e),gfe(e,t,o)}function Afe(e){return e=an(e),mfe(e)}function XTe(e){return e=an(e),kfe(e)}function xfe(e,t){return e=an(e),yfe(e,t)}function Q$(e=Ux(),t){e=an(e);const s=x0(e,Y$).getImmediate({identifier:t}),c=_F("storage");return c&&Efe(s,...c),s}function Efe(e,t,o,s={}){_fe(e,t,o,s)}function Sfe(e,{instanceIdentifier:t}){const o=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),c=e.getProvider("app-check-internal");return new a2(o,s,c,t,nc)}function Tfe(){Ul(new Ia(Y$,Sfe,"PUBLIC").setMultipleInstances(!0)),Fi(K3,Y3,""),Fi(K3,Y3,"esm2017")}Tfe();const Ife={apiKey:"AIzaSyAx9jl025E5CSh9P03WbAO9YzYVpcZoOxI",authDomain:"ate-vite-firestore-app.firebaseapp.com",projectId:"ate-vite-firestore-app",storageBucket:"ate-vite-firestore-app.appspot.com",messagingSenderId:"590673229876",appId:"1:590673229876:web:f2841a139a3bf0ffed3261"},Z$=TF(Ife),eIe=wi(Z$);Q$(Z$);const J$=z.createContext(void 0),gv=()=>{const e=z.useContext(J$);if(e===void 0)throw new Error("useUser must be used within a UserProvider");return e},Dfe=({children:e})=>{const[t,o]=z.useState(null),[s,c]=z.useState(null),[u,p]=z.useState(!1),[m,g]=z.useState(!0),[v,_]=z.useState(null);return console.log("UserContext loaded"),z.useEffect(()=>{const C=u9(),y=wi(),x=Qae(C,async S=>{if(g(!0),_(null),S){const T=qr(y,"users",S.uid);try{const P=await Kf(T);if(P.exists()){console.log("User document exists."),console.log("User is signed in with UID:",S.uid),await pu(T,{lastLogin:pp()});const D=P.data();c({...D,uid:S.uid}),p(D.isSuperAdmin||!1)}else console.error("User document does not exist. Creating a new one..."),await cpe(T,{isAdmin:!1,isSuperAdmin:!1,lastLogin:pp()}),c({uid:S.uid,isAdmin:!1,lastLogin:pp()}),p(!1)}catch(P){console.error("Error managing user document:",P),_(P instanceof Error?P:new Error("Failed to manage user document"))}}else c(null),p(!1);o(S),g(!1)});return()=>x()},[]),N.jsx(J$.Provider,{value:{user:t,userDetails:s,loading:m,error:v,isSuperAdmin:u},children:e})},lf={black:"#000",white:"#fff"},Wc={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},qc={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Gc={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Kc={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Yc={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Dh={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Mfe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Yl(e){let t="https://mui.com/production-error/?code="+e;for(let o=1;o<arguments.length;o+=1)t+="&args[]="+encodeURIComponent(arguments[o]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const Pfe=Object.freeze(Object.defineProperty({__proto__:null,default:Yl},Symbol.toStringTag,{value:"Module"})),mv="$$material";function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var s in o)({}).hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e},$.apply(null,arguments)}function ye(e,t){if(e==null)return{};var o={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.includes(s))continue;o[s]=e[s]}return o}function X$(e){var t=Object.create(null);return function(o){return t[o]===void 0&&(t[o]=e(o)),t[o]}}var Nfe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Rfe=X$(function(e){return Nfe.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function Ofe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Bfe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Lfe=function(){function e(o){var s=this;this._insertTag=function(c){var u;s.tags.length===0?s.insertionPoint?u=s.insertionPoint.nextSibling:s.prepend?u=s.container.firstChild:u=s.before:u=s.tags[s.tags.length-1].nextSibling,s.container.insertBefore(c,u),s.tags.push(c)},this.isSpeedy=o.speedy===void 0?!0:o.speedy,this.tags=[],this.ctr=0,this.nonce=o.nonce,this.key=o.key,this.container=o.container,this.prepend=o.prepend,this.insertionPoint=o.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(s){s.forEach(this._insertTag)},t.insert=function(s){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Bfe(this));var c=this.tags[this.tags.length-1];if(this.isSpeedy){var u=Ofe(c);try{u.insertRule(s,u.cssRules.length)}catch{}}else c.appendChild(document.createTextNode(s));this.ctr++},t.flush=function(){this.tags.forEach(function(s){return s.parentNode&&s.parentNode.removeChild(s)}),this.tags=[],this.ctr=0},e}(),mo="-ms-",qb="-moz-",Mt="-webkit-",e8="comm",l2="rule",c2="decl",jfe="@import",t8="@keyframes",zfe="@layer",Ffe=Math.abs,kv=String.fromCharCode,$fe=Object.assign;function Vfe(e,t){return ao(e,0)^45?(((t<<2^ao(e,0))<<2^ao(e,1))<<2^ao(e,2))<<2^ao(e,3):0}function n8(e){return e.trim()}function Ufe(e,t){return(e=t.exec(e))?e[0]:e}function Pt(e,t,o){return e.replace(t,o)}function v1(e,t){return e.indexOf(t)}function ao(e,t){return e.charCodeAt(t)|0}function cf(e,t,o){return e.slice(t,o)}function Mi(e){return e.length}function d2(e){return e.length}function hk(e,t){return t.push(e),e}function Hfe(e,t){return e.map(t).join("")}var bv=1,Gd=1,o8=0,er=0,Nn=0,gu="";function vv(e,t,o,s,c,u,p){return{value:e,root:t,parent:o,type:s,props:c,children:u,line:bv,column:Gd,length:p,return:""}}function Mh(e,t){return $fe(vv("",null,null,"",null,null,0),e,{length:-e.length},t)}function Wfe(){return Nn}function qfe(){return Nn=er>0?ao(gu,--er):0,Gd--,Nn===10&&(Gd=1,bv--),Nn}function mr(){return Nn=er<o8?ao(gu,er++):0,Gd++,Nn===10&&(Gd=1,bv++),Nn}function Hi(){return ao(gu,er)}function $k(){return er}function Qf(e,t){return cf(gu,e,t)}function df(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function r8(e){return bv=Gd=1,o8=Mi(gu=e),er=0,[]}function i8(e){return gu="",e}function Vk(e){return n8(Qf(er-1,w1(e===91?e+2:e===40?e+1:e)))}function Gfe(e){for(;(Nn=Hi())&&Nn<33;)mr();return df(e)>2||df(Nn)>3?"":" "}function Kfe(e,t){for(;--t&&mr()&&!(Nn<48||Nn>102||Nn>57&&Nn<65||Nn>70&&Nn<97););return Qf(e,$k()+(t<6&&Hi()==32&&mr()==32))}function w1(e){for(;mr();)switch(Nn){case e:return er;case 34:case 39:e!==34&&e!==39&&w1(Nn);break;case 40:e===41&&w1(e);break;case 92:mr();break}return er}function Yfe(e,t){for(;mr()&&e+Nn!==57;)if(e+Nn===84&&Hi()===47)break;return"/*"+Qf(t,er-1)+"*"+kv(e===47?e:mr())}function Qfe(e){for(;!df(Hi());)mr();return Qf(e,er)}function Zfe(e){return i8(Uk("",null,null,null,[""],e=r8(e),0,[0],e))}function Uk(e,t,o,s,c,u,p,m,g){for(var v=0,_=0,C=p,y=0,x=0,S=0,T=1,P=1,D=1,R=0,B="",j=c,V=u,H=s,M=B;P;)switch(S=R,R=mr()){case 40:if(S!=108&&ao(M,C-1)==58){v1(M+=Pt(Vk(R),"&","&\f"),"&\f")!=-1&&(D=-1);break}case 34:case 39:case 91:M+=Vk(R);break;case 9:case 10:case 13:case 32:M+=Gfe(S);break;case 92:M+=Kfe($k()-1,7);continue;case 47:switch(Hi()){case 42:case 47:hk(Jfe(Yfe(mr(),$k()),t,o),g);break;default:M+="/"}break;case 123*T:m[v++]=Mi(M)*D;case 125*T:case 59:case 0:switch(R){case 0:case 125:P=0;case 59+_:D==-1&&(M=Pt(M,/\f/g,"")),x>0&&Mi(M)-C&&hk(x>32?Z3(M+";",s,o,C-1):Z3(Pt(M," ","")+";",s,o,C-2),g);break;case 59:M+=";";default:if(hk(H=Q3(M,t,o,v,_,c,m,B,j=[],V=[],C),u),R===123)if(_===0)Uk(M,t,H,H,j,u,C,m,V);else switch(y===99&&ao(M,3)===110?100:y){case 100:case 108:case 109:case 115:Uk(e,H,H,s&&hk(Q3(e,H,H,0,0,c,m,B,c,j=[],C),V),c,V,C,m,s?j:V);break;default:Uk(M,H,H,H,[""],V,0,m,V)}}v=_=x=0,T=D=1,B=M="",C=p;break;case 58:C=1+Mi(M),x=S;default:if(T<1){if(R==123)--T;else if(R==125&&T++==0&&qfe()==125)continue}switch(M+=kv(R),R*T){case 38:D=_>0?1:(M+="\f",-1);break;case 44:m[v++]=(Mi(M)-1)*D,D=1;break;case 64:Hi()===45&&(M+=Vk(mr())),y=Hi(),_=C=Mi(B=M+=Qfe($k())),R++;break;case 45:S===45&&Mi(M)==2&&(T=0)}}return u}function Q3(e,t,o,s,c,u,p,m,g,v,_){for(var C=c-1,y=c===0?u:[""],x=d2(y),S=0,T=0,P=0;S<s;++S)for(var D=0,R=cf(e,C+1,C=Ffe(T=p[S])),B=e;D<x;++D)(B=n8(T>0?y[D]+" "+R:Pt(R,/&\f/g,y[D])))&&(g[P++]=B);return vv(e,t,o,c===0?l2:m,g,v,_)}function Jfe(e,t,o){return vv(e,t,o,e8,kv(Wfe()),cf(e,2,-2),0)}function Z3(e,t,o,s){return vv(e,t,o,c2,cf(e,0,s),cf(e,s+1,-1),s)}function Td(e,t){for(var o="",s=d2(e),c=0;c<s;c++)o+=t(e[c],c,e,t)||"";return o}function Xfe(e,t,o,s){switch(e.type){case zfe:if(e.children.length)break;case jfe:case c2:return e.return=e.return||e.value;case e8:return"";case t8:return e.return=e.value+"{"+Td(e.children,s)+"}";case l2:e.value=e.props.join(",")}return Mi(o=Td(e.children,s))?e.return=e.value+"{"+o+"}":""}function ege(e){var t=d2(e);return function(o,s,c,u){for(var p="",m=0;m<t;m++)p+=e[m](o,s,c,u)||"";return p}}function tge(e){return function(t){t.root||(t=t.return)&&e(t)}}var nge=function(t,o,s){for(var c=0,u=0;c=u,u=Hi(),c===38&&u===12&&(o[s]=1),!df(u);)mr();return Qf(t,er)},oge=function(t,o){var s=-1,c=44;do switch(df(c)){case 0:c===38&&Hi()===12&&(o[s]=1),t[s]+=nge(er-1,o,s);break;case 2:t[s]+=Vk(c);break;case 4:if(c===44){t[++s]=Hi()===58?"&\f":"",o[s]=t[s].length;break}default:t[s]+=kv(c)}while(c=mr());return t},rge=function(t,o){return i8(oge(r8(t),o))},J3=new WeakMap,ige=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var o=t.value,s=t.parent,c=t.column===s.column&&t.line===s.line;s.type!=="rule";)if(s=s.parent,!s)return;if(!(t.props.length===1&&o.charCodeAt(0)!==58&&!J3.get(s))&&!c){J3.set(t,!0);for(var u=[],p=rge(o,u),m=s.props,g=0,v=0;g<p.length;g++)for(var _=0;_<m.length;_++,v++)t.props[v]=u[g]?p[g].replace(/&\f/g,m[_]):m[_]+" "+p[g]}}},sge=function(t){if(t.type==="decl"){var o=t.value;o.charCodeAt(0)===108&&o.charCodeAt(2)===98&&(t.return="",t.value="")}};function s8(e,t){switch(Vfe(e,t)){case 5103:return Mt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Mt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Mt+e+qb+e+mo+e+e;case 6828:case 4268:return Mt+e+mo+e+e;case 6165:return Mt+e+mo+"flex-"+e+e;case 5187:return Mt+e+Pt(e,/(\w+).+(:[^]+)/,Mt+"box-$1$2"+mo+"flex-$1$2")+e;case 5443:return Mt+e+mo+"flex-item-"+Pt(e,/flex-|-self/,"")+e;case 4675:return Mt+e+mo+"flex-line-pack"+Pt(e,/align-content|flex-|-self/,"")+e;case 5548:return Mt+e+mo+Pt(e,"shrink","negative")+e;case 5292:return Mt+e+mo+Pt(e,"basis","preferred-size")+e;case 6060:return Mt+"box-"+Pt(e,"-grow","")+Mt+e+mo+Pt(e,"grow","positive")+e;case 4554:return Mt+Pt(e,/([^-])(transform)/g,"$1"+Mt+"$2")+e;case 6187:return Pt(Pt(Pt(e,/(zoom-|grab)/,Mt+"$1"),/(image-set)/,Mt+"$1"),e,"")+e;case 5495:case 3959:return Pt(e,/(image-set\([^]*)/,Mt+"$1$`$1");case 4968:return Pt(Pt(e,/(.+:)(flex-)?(.*)/,Mt+"box-pack:$3"+mo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Mt+e+e;case 4095:case 3583:case 4068:case 2532:return Pt(e,/(.+)-inline(.+)/,Mt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Mi(e)-1-t>6)switch(ao(e,t+1)){case 109:if(ao(e,t+4)!==45)break;case 102:return Pt(e,/(.+:)(.+)-([^]+)/,"$1"+Mt+"$2-$3$1"+qb+(ao(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~v1(e,"stretch")?s8(Pt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(ao(e,t+1)!==115)break;case 6444:switch(ao(e,Mi(e)-3-(~v1(e,"!important")&&10))){case 107:return Pt(e,":",":"+Mt)+e;case 101:return Pt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Mt+(ao(e,14)===45?"inline-":"")+"box$3$1"+Mt+"$2$3$1"+mo+"$2box$3")+e}break;case 5936:switch(ao(e,t+11)){case 114:return Mt+e+mo+Pt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Mt+e+mo+Pt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Mt+e+mo+Pt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Mt+e+mo+e+e}return e}var age=function(t,o,s,c){if(t.length>-1&&!t.return)switch(t.type){case c2:t.return=s8(t.value,t.length);break;case t8:return Td([Mh(t,{value:Pt(t.value,"@","@"+Mt)})],c);case l2:if(t.length)return Hfe(t.props,function(u){switch(Ufe(u,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Td([Mh(t,{props:[Pt(u,/:(read-\w+)/,":"+qb+"$1")]})],c);case"::placeholder":return Td([Mh(t,{props:[Pt(u,/:(plac\w+)/,":"+Mt+"input-$1")]}),Mh(t,{props:[Pt(u,/:(plac\w+)/,":"+qb+"$1")]}),Mh(t,{props:[Pt(u,/:(plac\w+)/,mo+"input-$1")]})],c)}return""})}},lge=[age],a8=function(t){var o=t.key;if(o==="css"){var s=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(s,function(T){var P=T.getAttribute("data-emotion");P.indexOf(" ")!==-1&&(document.head.appendChild(T),T.setAttribute("data-s",""))})}var c=t.stylisPlugins||lge,u={},p,m=[];p=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+o+' "]'),function(T){for(var P=T.getAttribute("data-emotion").split(" "),D=1;D<P.length;D++)u[P[D]]=!0;m.push(T)});var g,v=[ige,sge];{var _,C=[Xfe,tge(function(T){_.insert(T)})],y=ege(v.concat(c,C)),x=function(P){return Td(Zfe(P),y)};g=function(P,D,R,B){_=R,x(P?P+"{"+D.styles+"}":D.styles),B&&(S.inserted[D.name]=!0)}}var S={key:o,sheet:new Lfe({key:o,container:p,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:u,registered:{},insert:g};return S.sheet.hydrate(m),S},l8={exports:{}},Ft={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var to=typeof Symbol=="function"&&Symbol.for,u2=to?Symbol.for("react.element"):60103,h2=to?Symbol.for("react.portal"):60106,wv=to?Symbol.for("react.fragment"):60107,yv=to?Symbol.for("react.strict_mode"):60108,_v=to?Symbol.for("react.profiler"):60114,Cv=to?Symbol.for("react.provider"):60109,Av=to?Symbol.for("react.context"):60110,p2=to?Symbol.for("react.async_mode"):60111,xv=to?Symbol.for("react.concurrent_mode"):60111,Ev=to?Symbol.for("react.forward_ref"):60112,Sv=to?Symbol.for("react.suspense"):60113,cge=to?Symbol.for("react.suspense_list"):60120,Tv=to?Symbol.for("react.memo"):60115,Iv=to?Symbol.for("react.lazy"):60116,dge=to?Symbol.for("react.block"):60121,uge=to?Symbol.for("react.fundamental"):60117,hge=to?Symbol.for("react.responder"):60118,pge=to?Symbol.for("react.scope"):60119;function _r(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case u2:switch(e=e.type,e){case p2:case xv:case wv:case _v:case yv:case Sv:return e;default:switch(e=e&&e.$$typeof,e){case Av:case Ev:case Iv:case Tv:case Cv:return e;default:return t}}case h2:return t}}}function c8(e){return _r(e)===xv}Ft.AsyncMode=p2;Ft.ConcurrentMode=xv;Ft.ContextConsumer=Av;Ft.ContextProvider=Cv;Ft.Element=u2;Ft.ForwardRef=Ev;Ft.Fragment=wv;Ft.Lazy=Iv;Ft.Memo=Tv;Ft.Portal=h2;Ft.Profiler=_v;Ft.StrictMode=yv;Ft.Suspense=Sv;Ft.isAsyncMode=function(e){return c8(e)||_r(e)===p2};Ft.isConcurrentMode=c8;Ft.isContextConsumer=function(e){return _r(e)===Av};Ft.isContextProvider=function(e){return _r(e)===Cv};Ft.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===u2};Ft.isForwardRef=function(e){return _r(e)===Ev};Ft.isFragment=function(e){return _r(e)===wv};Ft.isLazy=function(e){return _r(e)===Iv};Ft.isMemo=function(e){return _r(e)===Tv};Ft.isPortal=function(e){return _r(e)===h2};Ft.isProfiler=function(e){return _r(e)===_v};Ft.isStrictMode=function(e){return _r(e)===yv};Ft.isSuspense=function(e){return _r(e)===Sv};Ft.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===wv||e===xv||e===_v||e===yv||e===Sv||e===cge||typeof e=="object"&&e!==null&&(e.$$typeof===Iv||e.$$typeof===Tv||e.$$typeof===Cv||e.$$typeof===Av||e.$$typeof===Ev||e.$$typeof===uge||e.$$typeof===hge||e.$$typeof===pge||e.$$typeof===dge)};Ft.typeOf=_r;l8.exports=Ft;var fge=l8.exports,d8=fge,gge={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},mge={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u8={};u8[d8.ForwardRef]=gge;u8[d8.Memo]=mge;var kge=!0;function bge(e,t,o){var s="";return o.split(" ").forEach(function(c){e[c]!==void 0?t.push(e[c]+";"):s+=c+" "}),s}var h8=function(t,o,s){var c=t.key+"-"+o.name;(s===!1||kge===!1)&&t.registered[c]===void 0&&(t.registered[c]=o.styles)},p8=function(t,o,s){h8(t,o,s);var c=t.key+"-"+o.name;if(t.inserted[o.name]===void 0){var u=o;do t.insert(o===u?"."+c:"",u,t.sheet,!0),u=u.next;while(u!==void 0)}};function vge(e){for(var t=0,o,s=0,c=e.length;c>=4;++s,c-=4)o=e.charCodeAt(s)&255|(e.charCodeAt(++s)&255)<<8|(e.charCodeAt(++s)&255)<<16|(e.charCodeAt(++s)&255)<<24,o=(o&65535)*1540483477+((o>>>16)*59797<<16),o^=o>>>24,t=(o&65535)*1540483477+((o>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(c){case 3:t^=(e.charCodeAt(s+2)&255)<<16;case 2:t^=(e.charCodeAt(s+1)&255)<<8;case 1:t^=e.charCodeAt(s)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var wge={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},yge=/[A-Z]|^ms/g,_ge=/_EMO_([^_]+?)_([^]*?)_EMO_/g,f8=function(t){return t.charCodeAt(1)===45},X3=function(t){return t!=null&&typeof t!="boolean"},CC=X$(function(e){return f8(e)?e:e.replace(yge,"-$&").toLowerCase()}),eL=function(t,o){switch(t){case"animation":case"animationName":if(typeof o=="string")return o.replace(_ge,function(s,c,u){return Pi={name:c,styles:u,next:Pi},c})}return wge[t]!==1&&!f8(t)&&typeof o=="number"&&o!==0?o+"px":o};function uf(e,t,o){if(o==null)return"";if(o.__emotion_styles!==void 0)return o;switch(typeof o){case"boolean":return"";case"object":{if(o.anim===1)return Pi={name:o.name,styles:o.styles,next:Pi},o.name;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)Pi={name:s.name,styles:s.styles,next:Pi},s=s.next;var c=o.styles+";";return c}return Cge(e,t,o)}case"function":{if(e!==void 0){var u=Pi,p=o(e);return Pi=u,uf(e,t,p)}break}}if(t==null)return o;var m=t[o];return m!==void 0?m:o}function Cge(e,t,o){var s="";if(Array.isArray(o))for(var c=0;c<o.length;c++)s+=uf(e,t,o[c])+";";else for(var u in o){var p=o[u];if(typeof p!="object")t!=null&&t[p]!==void 0?s+=u+"{"+t[p]+"}":X3(p)&&(s+=CC(u)+":"+eL(u,p)+";");else if(Array.isArray(p)&&typeof p[0]=="string"&&(t==null||t[p[0]]===void 0))for(var m=0;m<p.length;m++)X3(p[m])&&(s+=CC(u)+":"+eL(u,p[m])+";");else{var g=uf(e,t,p);switch(u){case"animation":case"animationName":{s+=CC(u)+":"+g+";";break}default:s+=u+"{"+g+"}"}}}return s}var tL=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Pi,f2=function(t,o,s){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var c=!0,u="";Pi=void 0;var p=t[0];p==null||p.raw===void 0?(c=!1,u+=uf(s,o,p)):u+=p[0];for(var m=1;m<t.length;m++)u+=uf(s,o,t[m]),c&&(u+=p[m]);tL.lastIndex=0;for(var g="",v;(v=tL.exec(u))!==null;)g+="-"+v[1];var _=vge(u)+g;return{name:_,styles:u,next:Pi}},Age=function(t){return t()},g8=Zk.useInsertionEffect?Zk.useInsertionEffect:!1,xge=g8||Age,nL=g8||z.useLayoutEffect,m8=z.createContext(typeof HTMLElement<"u"?a8({key:"css"}):null),Ege=m8.Provider,k8=function(t){return z.forwardRef(function(o,s){var c=z.useContext(m8);return t(o,c,s)})},Dv=z.createContext({}),AC={exports:{}},oL;function b8(){return oL||(oL=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(o){for(var s=1;s<arguments.length;s++){var c=arguments[s];for(var u in c)({}).hasOwnProperty.call(c,u)&&(o[u]=c[u])}return o},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(AC)),AC.exports}b8();var Sge=k8(function(e,t){var o=e.styles,s=f2([o],void 0,z.useContext(Dv)),c=z.useRef();return nL(function(){var u=t.key+"-global",p=new t.sheet.constructor({key:u,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),m=!1,g=document.querySelector('style[data-emotion="'+u+" "+s.name+'"]');return t.sheet.tags.length&&(p.before=t.sheet.tags[0]),g!==null&&(m=!0,g.setAttribute("data-emotion",u),p.hydrate([g])),c.current=[p,m],function(){p.flush()}},[t]),nL(function(){var u=c.current,p=u[0],m=u[1];if(m){u[1]=!1;return}if(s.next!==void 0&&p8(t,s.next,!0),p.tags.length){var g=p.tags[p.tags.length-1].nextElementSibling;p.before=g,p.flush()}t.insert("",s,p,!1)},[t,s.name]),null});function Mv(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return f2(t)}var mu=function(){var t=Mv.apply(void 0,arguments),o="animation-"+t.name;return{name:o,styles:"@keyframes "+o+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Tge=Rfe,Ige=function(t){return t!=="theme"},rL=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Tge:Ige},iL=function(t,o,s){var c;if(o){var u=o.shouldForwardProp;c=t.__emotion_forwardProp&&u?function(p){return t.__emotion_forwardProp(p)&&u(p)}:u}return typeof c!="function"&&s&&(c=t.__emotion_forwardProp),c},Dge=function(t){var o=t.cache,s=t.serialized,c=t.isStringTag;return h8(o,s,c),xge(function(){return p8(o,s,c)}),null},Mge=function e(t,o){var s=t.__emotion_real===t,c=s&&t.__emotion_base||t,u,p;o!==void 0&&(u=o.label,p=o.target);var m=iL(t,o,s),g=m||rL(c),v=!g("as");return function(){var _=arguments,C=s&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(u!==void 0&&C.push("label:"+u+";"),_[0]==null||_[0].raw===void 0)C.push.apply(C,_);else{C.push(_[0][0]);for(var y=_.length,x=1;x<y;x++)C.push(_[x],_[0][x])}var S=k8(function(T,P,D){var R=v&&T.as||c,B="",j=[],V=T;if(T.theme==null){V={};for(var H in T)V[H]=T[H];V.theme=z.useContext(Dv)}typeof T.className=="string"?B=bge(P.registered,j,T.className):T.className!=null&&(B=T.className+" ");var M=f2(C.concat(j),P.registered,V);B+=P.key+"-"+M.name,p!==void 0&&(B+=" "+p);var U=v&&m===void 0?rL(R):g,G={};for(var K in T)v&&K==="as"||U(K)&&(G[K]=T[K]);return G.className=B,G.ref=D,z.createElement(z.Fragment,null,z.createElement(Dge,{cache:P,serialized:M,isStringTag:typeof R=="string"}),z.createElement(R,G))});return S.displayName=u!==void 0?u:"Styled("+(typeof c=="string"?c:c.displayName||c.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=c,S.__emotion_styles=C,S.__emotion_forwardProp=m,Object.defineProperty(S,"toString",{value:function(){return"."+p}}),S.withComponent=function(T,P){return e(T,$({},o,P,{shouldForwardProp:iL(S,P,!0)})).apply(void 0,C)},S}},Pge=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],y1=Mge.bind();Pge.forEach(function(e){y1[e]=y1(e)});var v8={exports:{}},Nge="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Rge=Nge,Oge=Rge;function w8(){}function y8(){}y8.resetWarningCache=w8;var Bge=function(){function e(s,c,u,p,m,g){if(g!==Oge){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}e.isRequired=e;function t(){return e}var o={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:y8,resetWarningCache:w8};return o.PropTypes=o,o};v8.exports=Bge();var Lge=v8.exports;let _1;typeof document=="object"&&(_1=a8({key:"css",prepend:!0}));function jge(e){const{injectFirst:t,children:o}=e;return t&&_1?N.jsx(Ege,{value:_1,children:o}):o}function zge(e){return e==null||Object.keys(e).length===0}function _8(e){const{styles:t,defaultTheme:o={}}=e,s=typeof t=="function"?c=>t(zge(c)?o:c):t;return N.jsx(Sge,{styles:s})}function g2(e,t){return y1(e,t)}const C8=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Fge=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:_8,StyledEngineProvider:jge,ThemeContext:Dv,css:Mv,default:g2,internal_processStyles:C8,keyframes:mu},Symbol.toStringTag,{value:"Module"}));function gs(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function A8(e){if(!gs(e))return e;const t={};return Object.keys(e).forEach(o=>{t[o]=A8(e[o])}),t}function Zo(e,t,o={clone:!0}){const s=o.clone?$({},e):e;return gs(e)&&gs(t)&&Object.keys(t).forEach(c=>{gs(t[c])&&Object.prototype.hasOwnProperty.call(e,c)&&gs(e[c])?s[c]=Zo(e[c],t[c],o):o.clone?s[c]=gs(t[c])?A8(t[c]):t[c]:s[c]=t[c]}),s}const $ge=Object.freeze(Object.defineProperty({__proto__:null,default:Zo,isPlainObject:gs},Symbol.toStringTag,{value:"Module"})),Vge=["values","unit","step"],Uge=e=>{const t=Object.keys(e).map(o=>({key:o,val:e[o]}))||[];return t.sort((o,s)=>o.val-s.val),t.reduce((o,s)=>$({},o,{[s.key]:s.val}),{})};function x8(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:o="px",step:s=5}=e,c=ye(e,Vge),u=Uge(t),p=Object.keys(u);function m(y){return`@media (min-width:${typeof t[y]=="number"?t[y]:y}${o})`}function g(y){return`@media (max-width:${(typeof t[y]=="number"?t[y]:y)-s/100}${o})`}function v(y,x){const S=p.indexOf(x);return`@media (min-width:${typeof t[y]=="number"?t[y]:y}${o}) and (max-width:${(S!==-1&&typeof t[p[S]]=="number"?t[p[S]]:x)-s/100}${o})`}function _(y){return p.indexOf(y)+1<p.length?v(y,p[p.indexOf(y)+1]):m(y)}function C(y){const x=p.indexOf(y);return x===0?m(p[1]):x===p.length-1?g(p[x]):v(y,p[p.indexOf(y)+1]).replace("@media","@media not all and")}return $({keys:p,values:u,up:m,down:g,between:v,only:_,not:C,unit:o},c)}const Hge={borderRadius:4};function gp(e,t){return t?Zo(e,t,{clone:!1}):e}const m2={xs:0,sm:600,md:900,lg:1200,xl:1536},sL={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${m2[e]}px)`};function Gr(e,t,o){const s=e.theme||{};if(Array.isArray(t)){const u=s.breakpoints||sL;return t.reduce((p,m,g)=>(p[u.up(u.keys[g])]=o(t[g]),p),{})}if(typeof t=="object"){const u=s.breakpoints||sL;return Object.keys(t).reduce((p,m)=>{if(Object.keys(u.values||m2).indexOf(m)!==-1){const g=u.up(m);p[g]=o(t[m],m)}else{const g=m;p[g]=t[g]}return p},{})}return o(t)}function E8(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((s,c)=>{const u=e.up(c);return s[u]={},s},{}))||{}}function S8(e,t){return e.reduce((o,s)=>{const c=o[s];return(!c||Object.keys(c).length===0)&&delete o[s],o},t)}function tIe(e,...t){const o=E8(e),s=[o,...t].reduce((c,u)=>Zo(c,u),{});return S8(Object.keys(o),s)}function Wge(e,t){if(typeof e!="object")return{};const o={},s=Object.keys(t);return Array.isArray(e)?s.forEach((c,u)=>{u<e.length&&(o[c]=!0)}):s.forEach(c=>{e[c]!=null&&(o[c]=!0)}),o}function Pv({values:e,breakpoints:t,base:o}){const s=o||Wge(e,t),c=Object.keys(s);if(c.length===0)return e;let u;return c.reduce((p,m,g)=>(Array.isArray(e)?(p[m]=e[g]!=null?e[g]:e[u],u=g):typeof e=="object"?(p[m]=e[m]!=null?e[m]:e[u],u=m):p[m]=e,p),{})}function fe(e){if(typeof e!="string")throw new Error(Yl(7));return e.charAt(0).toUpperCase()+e.slice(1)}const qge=Object.freeze(Object.defineProperty({__proto__:null,default:fe},Symbol.toStringTag,{value:"Module"}));function Kd(e,t,o=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&o){const s=`vars.${t}`.split(".").reduce((c,u)=>c&&c[u]?c[u]:null,e);if(s!=null)return s}return t.split(".").reduce((s,c)=>s&&s[c]!=null?s[c]:null,e)}function Gb(e,t,o,s=o){let c;return typeof e=="function"?c=e(o):Array.isArray(e)?c=e[o]||s:c=Kd(e,o)||s,t&&(c=t(c,s,e)),c}function In(e){const{prop:t,cssProperty:o=e.prop,themeKey:s,transform:c}=e,u=p=>{if(p[t]==null)return null;const m=p[t],g=p.theme,v=Kd(g,s)||{};return Gr(p,m,C=>{let y=Gb(v,c,C);return C===y&&typeof C=="string"&&(y=Gb(v,c,`${t}${C==="default"?"":fe(C)}`,C)),o===!1?y:{[o]:y}})};return u.propTypes={},u.filterProps=[t],u}function Gge(e){const t={};return o=>(t[o]===void 0&&(t[o]=e(o)),t[o])}const Kge={m:"margin",p:"padding"},Yge={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aL={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Qge=Gge(e=>{if(e.length>2)if(aL[e])e=aL[e];else return[e];const[t,o]=e.split(""),s=Kge[t],c=Yge[o]||"";return Array.isArray(c)?c.map(u=>s+u):[s+c]}),k2=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],b2=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...k2,...b2];function Zf(e,t,o,s){var c;const u=(c=Kd(e,t,!1))!=null?c:o;return typeof u=="number"?p=>typeof p=="string"?p:u*p:Array.isArray(u)?p=>typeof p=="string"?p:u[p]:typeof u=="function"?u:()=>{}}function T8(e){return Zf(e,"spacing",8)}function Jf(e,t){if(typeof t=="string"||t==null)return t;const o=Math.abs(t),s=e(o);return t>=0?s:typeof s=="number"?-s:`-${s}`}function Zge(e,t){return o=>e.reduce((s,c)=>(s[c]=Jf(t,o),s),{})}function Jge(e,t,o,s){if(t.indexOf(o)===-1)return null;const c=Qge(o),u=Zge(c,s),p=e[o];return Gr(e,p,u)}function I8(e,t){const o=T8(e.theme);return Object.keys(e).map(s=>Jge(e,t,s,o)).reduce(gp,{})}function vn(e){return I8(e,k2)}vn.propTypes={};vn.filterProps=k2;function wn(e){return I8(e,b2)}wn.propTypes={};wn.filterProps=b2;function Xge(e=8){if(e.mui)return e;const t=T8({spacing:e}),o=(...s)=>(s.length===0?[1]:s).map(u=>{const p=t(u);return typeof p=="number"?`${p}px`:p}).join(" ");return o.mui=!0,o}function Nv(...e){const t=e.reduce((s,c)=>(c.filterProps.forEach(u=>{s[u]=c}),s),{}),o=s=>Object.keys(s).reduce((c,u)=>t[u]?gp(c,t[u](s)):c,{});return o.propTypes={},o.filterProps=e.reduce((s,c)=>s.concat(c.filterProps),[]),o}function Lr(e){return typeof e!="number"?e:`${e}px solid`}function Jr(e,t){return In({prop:e,themeKey:"borders",transform:t})}const eme=Jr("border",Lr),tme=Jr("borderTop",Lr),nme=Jr("borderRight",Lr),ome=Jr("borderBottom",Lr),rme=Jr("borderLeft",Lr),ime=Jr("borderColor"),sme=Jr("borderTopColor"),ame=Jr("borderRightColor"),lme=Jr("borderBottomColor"),cme=Jr("borderLeftColor"),dme=Jr("outline",Lr),ume=Jr("outlineColor"),Rv=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Zf(e.theme,"shape.borderRadius",4),o=s=>({borderRadius:Jf(t,s)});return Gr(e,e.borderRadius,o)}return null};Rv.propTypes={};Rv.filterProps=["borderRadius"];Nv(eme,tme,nme,ome,rme,ime,sme,ame,lme,cme,Rv,dme,ume);const Ov=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Zf(e.theme,"spacing",8),o=s=>({gap:Jf(t,s)});return Gr(e,e.gap,o)}return null};Ov.propTypes={};Ov.filterProps=["gap"];const Bv=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Zf(e.theme,"spacing",8),o=s=>({columnGap:Jf(t,s)});return Gr(e,e.columnGap,o)}return null};Bv.propTypes={};Bv.filterProps=["columnGap"];const Lv=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Zf(e.theme,"spacing",8),o=s=>({rowGap:Jf(t,s)});return Gr(e,e.rowGap,o)}return null};Lv.propTypes={};Lv.filterProps=["rowGap"];const hme=In({prop:"gridColumn"}),pme=In({prop:"gridRow"}),fme=In({prop:"gridAutoFlow"}),gme=In({prop:"gridAutoColumns"}),mme=In({prop:"gridAutoRows"}),kme=In({prop:"gridTemplateColumns"}),bme=In({prop:"gridTemplateRows"}),vme=In({prop:"gridTemplateAreas"}),wme=In({prop:"gridArea"});Nv(Ov,Bv,Lv,hme,pme,fme,gme,mme,kme,bme,vme,wme);function Id(e,t){return t==="grey"?t:e}const yme=In({prop:"color",themeKey:"palette",transform:Id}),_me=In({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Id}),Cme=In({prop:"backgroundColor",themeKey:"palette",transform:Id});Nv(yme,_me,Cme);function dr(e){return e<=1&&e!==0?`${e*100}%`:e}const Ame=In({prop:"width",transform:dr}),v2=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=o=>{var s,c;const u=((s=e.theme)==null||(s=s.breakpoints)==null||(s=s.values)==null?void 0:s[o])||m2[o];return u?((c=e.theme)==null||(c=c.breakpoints)==null?void 0:c.unit)!=="px"?{maxWidth:`${u}${e.theme.breakpoints.unit}`}:{maxWidth:u}:{maxWidth:dr(o)}};return Gr(e,e.maxWidth,t)}return null};v2.filterProps=["maxWidth"];const xme=In({prop:"minWidth",transform:dr}),Eme=In({prop:"height",transform:dr}),Sme=In({prop:"maxHeight",transform:dr}),Tme=In({prop:"minHeight",transform:dr});In({prop:"size",cssProperty:"width",transform:dr});In({prop:"size",cssProperty:"height",transform:dr});const Ime=In({prop:"boxSizing"});Nv(Ame,v2,xme,Eme,Sme,Tme,Ime);const Xf={border:{themeKey:"borders",transform:Lr},borderTop:{themeKey:"borders",transform:Lr},borderRight:{themeKey:"borders",transform:Lr},borderBottom:{themeKey:"borders",transform:Lr},borderLeft:{themeKey:"borders",transform:Lr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Lr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Rv},color:{themeKey:"palette",transform:Id},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Id},backgroundColor:{themeKey:"palette",transform:Id},p:{style:wn},pt:{style:wn},pr:{style:wn},pb:{style:wn},pl:{style:wn},px:{style:wn},py:{style:wn},padding:{style:wn},paddingTop:{style:wn},paddingRight:{style:wn},paddingBottom:{style:wn},paddingLeft:{style:wn},paddingX:{style:wn},paddingY:{style:wn},paddingInline:{style:wn},paddingInlineStart:{style:wn},paddingInlineEnd:{style:wn},paddingBlock:{style:wn},paddingBlockStart:{style:wn},paddingBlockEnd:{style:wn},m:{style:vn},mt:{style:vn},mr:{style:vn},mb:{style:vn},ml:{style:vn},mx:{style:vn},my:{style:vn},margin:{style:vn},marginTop:{style:vn},marginRight:{style:vn},marginBottom:{style:vn},marginLeft:{style:vn},marginX:{style:vn},marginY:{style:vn},marginInline:{style:vn},marginInlineStart:{style:vn},marginInlineEnd:{style:vn},marginBlock:{style:vn},marginBlockStart:{style:vn},marginBlockEnd:{style:vn},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ov},rowGap:{style:Lv},columnGap:{style:Bv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:dr},maxWidth:{style:v2},minWidth:{transform:dr},height:{transform:dr},maxHeight:{transform:dr},minHeight:{transform:dr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Dme(...e){const t=e.reduce((s,c)=>s.concat(Object.keys(c)),[]),o=new Set(t);return e.every(s=>o.size===Object.keys(s).length)}function Mme(e,t){return typeof e=="function"?e(t):e}function D8(){function e(o,s,c,u){const p={[o]:s,theme:c},m=u[o];if(!m)return{[o]:s};const{cssProperty:g=o,themeKey:v,transform:_,style:C}=m;if(s==null)return null;if(v==="typography"&&s==="inherit")return{[o]:s};const y=Kd(c,v)||{};return C?C(p):Gr(p,s,S=>{let T=Gb(y,_,S);return S===T&&typeof S=="string"&&(T=Gb(y,_,`${o}${S==="default"?"":fe(S)}`,S)),g===!1?T:{[g]:T}})}function t(o){var s;const{sx:c,theme:u={}}=o||{};if(!c)return null;const p=(s=u.unstable_sxConfig)!=null?s:Xf;function m(g){let v=g;if(typeof g=="function")v=g(u);else if(typeof g!="object")return g;if(!v)return null;const _=E8(u.breakpoints),C=Object.keys(_);let y=_;return Object.keys(v).forEach(x=>{const S=Mme(v[x],u);if(S!=null)if(typeof S=="object")if(p[x])y=gp(y,e(x,S,u,p));else{const T=Gr({theme:u},S,P=>({[x]:P}));Dme(T,S)?y[x]=t({sx:S,theme:u}):y=gp(y,T)}else y=gp(y,e(x,S,u,p))}),S8(C,y)}return Array.isArray(c)?c.map(m):m(c)}return t}const ku=D8();ku.filterProps=["sx"];function M8(e,t){const o=this;return o.vars&&typeof o.getColorSchemeSelector=="function"?{[o.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:o.palette.mode===e?t:{}}const Pme=["breakpoints","palette","spacing","shape"];function eg(e={},...t){const{breakpoints:o={},palette:s={},spacing:c,shape:u={}}=e,p=ye(e,Pme),m=x8(o),g=Xge(c);let v=Zo({breakpoints:m,direction:"ltr",components:{},palette:$({mode:"light"},s),spacing:g,shape:$({},Hge,u)},p);return v.applyStyles=M8,v=t.reduce((_,C)=>Zo(_,C),v),v.unstable_sxConfig=$({},Xf,p==null?void 0:p.unstable_sxConfig),v.unstable_sx=function(C){return ku({sx:C,theme:this})},v}const Nme=Object.freeze(Object.defineProperty({__proto__:null,default:eg,private_createBreakpoints:x8,unstable_applyStyles:M8},Symbol.toStringTag,{value:"Module"}));function Rme(e){return Object.keys(e).length===0}function Ome(e=null){const t=z.useContext(Dv);return!t||Rme(t)?e:t}const Bme=eg();function jv(e=Bme){return Ome(e)}function Lme({styles:e,themeId:t,defaultTheme:o={}}){const s=jv(o),c=typeof e=="function"?e(t&&s[t]||s):e;return N.jsx(_8,{styles:c})}const jme=["sx"],zme=e=>{var t,o;const s={systemProps:{},otherProps:{}},c=(t=e==null||(o=e.theme)==null?void 0:o.unstable_sxConfig)!=null?t:Xf;return Object.keys(e).forEach(u=>{c[u]?s.systemProps[u]=e[u]:s.otherProps[u]=e[u]}),s};function zv(e){const{sx:t}=e,o=ye(e,jme),{systemProps:s,otherProps:c}=zme(o);let u;return Array.isArray(t)?u=[s,...t]:typeof t=="function"?u=(...p)=>{const m=t(...p);return gs(m)?$({},s,m):s}:u=$({},s,t),$({},c,{sx:u})}const Fme=Object.freeze(Object.defineProperty({__proto__:null,default:ku,extendSxProp:zv,unstable_createStyleFunctionSx:D8,unstable_defaultSxConfig:Xf},Symbol.toStringTag,{value:"Module"})),lL=e=>e,$me=()=>{let e=lL;return{configure(t){e=t},generate(t){return e(t)},reset(){e=lL}}},w2=$me();function P8(e){var t,o,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var c=e.length;for(t=0;t<c;t++)e[t]&&(o=P8(e[t]))&&(s&&(s+=" "),s+=o)}else for(o in e)e[o]&&(s&&(s+=" "),s+=o);return s}function _e(){for(var e,t,o=0,s="",c=arguments.length;o<c;o++)(e=arguments[o])&&(t=P8(e))&&(s&&(s+=" "),s+=t);return s}const Vme=["className","component"];function Ume(e={}){const{themeId:t,defaultTheme:o,defaultClassName:s="MuiBox-root",generateClassName:c}=e,u=g2("div",{shouldForwardProp:m=>m!=="theme"&&m!=="sx"&&m!=="as"})(ku);return z.forwardRef(function(g,v){const _=jv(o),C=zv(g),{className:y,component:x="div"}=C,S=ye(C,Vme);return N.jsx(u,$({as:x,ref:v,className:_e(y,c?c(s):s),theme:t&&_[t]||_},S))})}const N8={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function $e(e,t,o="Mui"){const s=N8[t];return s?`${o}-${s}`:`${w2.generate(e)}-${t}`}function Fe(e,t,o="Mui"){const s={};return t.forEach(c=>{s[c]=$e(e,c,o)}),s}var R8={exports:{}},$t={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y2=Symbol.for("react.element"),_2=Symbol.for("react.portal"),Fv=Symbol.for("react.fragment"),$v=Symbol.for("react.strict_mode"),Vv=Symbol.for("react.profiler"),Uv=Symbol.for("react.provider"),Hv=Symbol.for("react.context"),Hme=Symbol.for("react.server_context"),Wv=Symbol.for("react.forward_ref"),qv=Symbol.for("react.suspense"),Gv=Symbol.for("react.suspense_list"),Kv=Symbol.for("react.memo"),Yv=Symbol.for("react.lazy"),Wme=Symbol.for("react.offscreen"),O8;O8=Symbol.for("react.module.reference");function Xr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case y2:switch(e=e.type,e){case Fv:case Vv:case $v:case qv:case Gv:return e;default:switch(e=e&&e.$$typeof,e){case Hme:case Hv:case Wv:case Yv:case Kv:case Uv:return e;default:return t}}case _2:return t}}}$t.ContextConsumer=Hv;$t.ContextProvider=Uv;$t.Element=y2;$t.ForwardRef=Wv;$t.Fragment=Fv;$t.Lazy=Yv;$t.Memo=Kv;$t.Portal=_2;$t.Profiler=Vv;$t.StrictMode=$v;$t.Suspense=qv;$t.SuspenseList=Gv;$t.isAsyncMode=function(){return!1};$t.isConcurrentMode=function(){return!1};$t.isContextConsumer=function(e){return Xr(e)===Hv};$t.isContextProvider=function(e){return Xr(e)===Uv};$t.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===y2};$t.isForwardRef=function(e){return Xr(e)===Wv};$t.isFragment=function(e){return Xr(e)===Fv};$t.isLazy=function(e){return Xr(e)===Yv};$t.isMemo=function(e){return Xr(e)===Kv};$t.isPortal=function(e){return Xr(e)===_2};$t.isProfiler=function(e){return Xr(e)===Vv};$t.isStrictMode=function(e){return Xr(e)===$v};$t.isSuspense=function(e){return Xr(e)===qv};$t.isSuspenseList=function(e){return Xr(e)===Gv};$t.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Fv||e===Vv||e===$v||e===qv||e===Gv||e===Wme||typeof e=="object"&&e!==null&&(e.$$typeof===Yv||e.$$typeof===Kv||e.$$typeof===Uv||e.$$typeof===Hv||e.$$typeof===Wv||e.$$typeof===O8||e.getModuleId!==void 0)};$t.typeOf=Xr;R8.exports=$t;var cL=R8.exports;const qme=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function B8(e){const t=`${e}`.match(qme);return t&&t[1]||""}function L8(e,t=""){return e.displayName||e.name||B8(e)||t}function dL(e,t,o){const s=L8(t);return e.displayName||(s!==""?`${o}(${s})`:o)}function Gme(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return L8(e,"Component");if(typeof e=="object")switch(e.$$typeof){case cL.ForwardRef:return dL(e,e.render,"ForwardRef");case cL.Memo:return dL(e,e.type,"memo");default:return}}}const Kme=Object.freeze(Object.defineProperty({__proto__:null,default:Gme,getFunctionName:B8},Symbol.toStringTag,{value:"Module"})),Yme=["ownerState"],Qme=["variants"],Zme=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Jme(e){return Object.keys(e).length===0}function Xme(e){return typeof e=="string"&&e.charCodeAt(0)>96}function xC(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const eke=eg(),tke=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function pk({defaultTheme:e,theme:t,themeId:o}){return Jme(t)?e:t[o]||t}function nke(e){return e?(t,o)=>o[e]:null}function Hk(e,t){let{ownerState:o}=t,s=ye(t,Yme);const c=typeof e=="function"?e($({ownerState:o},s)):e;if(Array.isArray(c))return c.flatMap(u=>Hk(u,$({ownerState:o},s)));if(c&&typeof c=="object"&&Array.isArray(c.variants)){const{variants:u=[]}=c;let m=ye(c,Qme);return u.forEach(g=>{let v=!0;typeof g.props=="function"?v=g.props($({ownerState:o},s,o)):Object.keys(g.props).forEach(_=>{(o==null?void 0:o[_])!==g.props[_]&&s[_]!==g.props[_]&&(v=!1)}),v&&(Array.isArray(m)||(m=[m]),m.push(typeof g.style=="function"?g.style($({ownerState:o},s,o)):g.style))}),m}return c}function oke(e={}){const{themeId:t,defaultTheme:o=eke,rootShouldForwardProp:s=xC,slotShouldForwardProp:c=xC}=e,u=p=>ku($({},p,{theme:pk($({},p,{defaultTheme:o,themeId:t}))}));return u.__mui_systemSx=!0,(p,m={})=>{C8(p,V=>V.filter(H=>!(H!=null&&H.__mui_systemSx)));const{name:g,slot:v,skipVariantsResolver:_,skipSx:C,overridesResolver:y=nke(tke(v))}=m,x=ye(m,Zme),S=_!==void 0?_:v&&v!=="Root"&&v!=="root"||!1,T=C||!1;let P,D=xC;v==="Root"||v==="root"?D=s:v?D=c:Xme(p)&&(D=void 0);const R=g2(p,$({shouldForwardProp:D,label:P},x)),B=V=>typeof V=="function"&&V.__emotion_real!==V||gs(V)?H=>Hk(V,$({},H,{theme:pk({theme:H.theme,defaultTheme:o,themeId:t})})):V,j=(V,...H)=>{let M=B(V);const U=H?H.map(B):[];g&&y&&U.push(Z=>{const se=pk($({},Z,{defaultTheme:o,themeId:t}));if(!se.components||!se.components[g]||!se.components[g].styleOverrides)return null;const X=se.components[g].styleOverrides,ee={};return Object.entries(X).forEach(([oe,ie])=>{ee[oe]=Hk(ie,$({},Z,{theme:se}))}),y(Z,ee)}),g&&!S&&U.push(Z=>{var se;const X=pk($({},Z,{defaultTheme:o,themeId:t})),ee=X==null||(se=X.components)==null||(se=se[g])==null?void 0:se.variants;return Hk({variants:ee},$({},Z,{theme:X}))}),T||U.push(u);const G=U.length-H.length;if(Array.isArray(V)&&G>0){const Z=new Array(G).fill("");M=[...V,...Z],M.raw=[...V.raw,...Z]}const K=R(M,...U);return p.muiName&&(K.muiName=p.muiName),K};return R.withConfig&&(j.withConfig=R.withConfig),j}}const rke=oke();function hf(e,t){const o=$({},t);return Object.keys(e).forEach(s=>{if(s.toString().match(/^(components|slots)$/))o[s]=$({},e[s],o[s]);else if(s.toString().match(/^(componentsProps|slotProps)$/)){const c=e[s]||{},u=t[s];o[s]={},!u||!Object.keys(u)?o[s]=c:!c||!Object.keys(c)?o[s]=u:(o[s]=$({},u),Object.keys(c).forEach(p=>{o[s][p]=hf(c[p],u[p])}))}else o[s]===void 0&&(o[s]=e[s])}),o}function ike(e){const{theme:t,name:o,props:s}=e;return!t||!t.components||!t.components[o]||!t.components[o].defaultProps?s:hf(t.components[o].defaultProps,s)}function ske({props:e,name:t,defaultTheme:o,themeId:s}){let c=jv(o);return s&&(c=c[s]||c),ike({theme:c,name:t,props:e})}const Kr=typeof window<"u"?z.useLayoutEffect:z.useEffect;function ake(e,t=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,o))}const lke=Object.freeze(Object.defineProperty({__proto__:null,default:ake},Symbol.toStringTag,{value:"Module"}));function C1(...e){return e.reduce((t,o)=>o==null?t:function(...c){t.apply(this,c),o.apply(this,c)},()=>{})}function C2(e,t=166){let o;function s(...c){const u=()=>{e.apply(this,c)};clearTimeout(o),o=setTimeout(u,t)}return s.clear=()=>{clearTimeout(o)},s}function cke(e,t){return()=>null}function mp(e,t){var o,s;return z.isValidElement(e)&&t.indexOf((o=e.type.muiName)!=null?o:(s=e.type)==null||(s=s._payload)==null||(s=s.value)==null?void 0:s.muiName)!==-1}function Hn(e){return e&&e.ownerDocument||document}function Na(e){return Hn(e).defaultView||window}function dke(e,t){return()=>null}function Kb(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let uL=0;function uke(e){const[t,o]=z.useState(e),s=e||t;return z.useEffect(()=>{t==null&&(uL+=1,o(`mui-${uL}`))},[t]),s}const hL=Zk.useId;function tg(e){if(hL!==void 0){const t=hL();return e??t}return uke(e)}function hke(e,t,o,s,c){return null}function Yb({controlled:e,default:t,name:o,state:s="value"}){const{current:c}=z.useRef(e!==void 0),[u,p]=z.useState(t),m=c?e:u,g=z.useCallback(v=>{c||p(v)},[]);return[m,g]}function Fr(e){const t=z.useRef(e);return Kr(()=>{t.current=e}),z.useRef((...o)=>(0,t.current)(...o)).current}function un(...e){return z.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(o=>{Kb(o,t)})},e)}const pL={};function pke(e,t){const o=z.useRef(pL);return o.current===pL&&(o.current=e(t)),o}const fke=[];function gke(e){z.useEffect(e,fke)}class ng{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new ng}start(t,o){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,o()},t)}}function Tl(){const e=pke(ng.create).current;return gke(e.disposeEffect),e}let Qv=!0,A1=!1;const mke=new ng,kke={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function bke(e){const{type:t,tagName:o}=e;return!!(o==="INPUT"&&kke[t]&&!e.readOnly||o==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function vke(e){e.metaKey||e.altKey||e.ctrlKey||(Qv=!0)}function EC(){Qv=!1}function wke(){this.visibilityState==="hidden"&&A1&&(Qv=!0)}function yke(e){e.addEventListener("keydown",vke,!0),e.addEventListener("mousedown",EC,!0),e.addEventListener("pointerdown",EC,!0),e.addEventListener("touchstart",EC,!0),e.addEventListener("visibilitychange",wke,!0)}function _ke(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return Qv||bke(t)}function Zv(){const e=z.useCallback(c=>{c!=null&&yke(c.ownerDocument)},[]),t=z.useRef(!1);function o(){return t.current?(A1=!0,mke.start(100,()=>{A1=!1}),t.current=!1,!0):!1}function s(c){return _ke(c)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:s,onBlur:o,ref:e}}function j8(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function Ue(e,t,o=void 0){const s={};return Object.keys(e).forEach(c=>{s[c]=e[c].reduce((u,p)=>{if(p){const m=t(p);m!==""&&u.push(m),o&&o[p]&&u.push(o[p])}return u},[]).join(" ")}),s}const Cke=z.createContext(),z8=()=>{const e=z.useContext(Cke);return e??!1},Ake=z.createContext(void 0);function xke(e){const{theme:t,name:o,props:s}=e;if(!t||!t.components||!t.components[o])return s;const c=t.components[o];return c.defaultProps?hf(c.defaultProps,s):!c.styleOverrides&&!c.variants?hf(c,s):s}function Eke({props:e,name:t}){const o=z.useContext(Ake);return xke({props:e,name:t,theme:{components:o}})}const Ske=["className","component","disableGutters","fixed","maxWidth","classes"],Tke=eg(),Ike=rke("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[`maxWidth${fe(String(o.maxWidth))}`],o.fixed&&t.fixed,o.disableGutters&&t.disableGutters]}}),Dke=e=>ske({props:e,name:"MuiContainer",defaultTheme:Tke}),Mke=(e,t)=>{const o=g=>$e(t,g),{classes:s,fixed:c,disableGutters:u,maxWidth:p}=e,m={root:["root",p&&`maxWidth${fe(String(p))}`,c&&"fixed",u&&"disableGutters"]};return Ue(m,o,s)};function Pke(e={}){const{createStyledComponent:t=Ike,useThemeProps:o=Dke,componentName:s="MuiContainer"}=e,c=t(({theme:p,ownerState:m})=>$({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!m.disableGutters&&{paddingLeft:p.spacing(2),paddingRight:p.spacing(2),[p.breakpoints.up("sm")]:{paddingLeft:p.spacing(3),paddingRight:p.spacing(3)}}),({theme:p,ownerState:m})=>m.fixed&&Object.keys(p.breakpoints.values).reduce((g,v)=>{const _=v,C=p.breakpoints.values[_];return C!==0&&(g[p.breakpoints.up(_)]={maxWidth:`${C}${p.breakpoints.unit}`}),g},{}),({theme:p,ownerState:m})=>$({},m.maxWidth==="xs"&&{[p.breakpoints.up("xs")]:{maxWidth:Math.max(p.breakpoints.values.xs,444)}},m.maxWidth&&m.maxWidth!=="xs"&&{[p.breakpoints.up(m.maxWidth)]:{maxWidth:`${p.breakpoints.values[m.maxWidth]}${p.breakpoints.unit}`}}));return z.forwardRef(function(m,g){const v=o(m),{className:_,component:C="div",disableGutters:y=!1,fixed:x=!1,maxWidth:S="lg"}=v,T=ye(v,Ske),P=$({},v,{component:C,disableGutters:y,fixed:x,maxWidth:S}),D=Mke(P,s);return N.jsx(c,$({as:C,ownerState:P,className:_e(D.root,_),ref:g},T))})}function Nke(e,t){return $({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var Dn={},F8={exports:{}};(function(e){function t(o){return o&&o.__esModule?o:{default:o}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(F8);var Cr=F8.exports;const Rke=Yi(Pfe),Oke=Yi(lke);var $8=Cr;Object.defineProperty(Dn,"__esModule",{value:!0});var wt=Dn.alpha=W8;Dn.blend=Gke;Dn.colorChannel=void 0;var Qb=Dn.darken=x2;Dn.decomposeColor=Yr;var Bke=Dn.emphasize=q8,Lke=Dn.getContrastRatio=Vke;Dn.getLuminance=Jb;Dn.hexToRgb=V8;Dn.hslToRgb=H8;var Zb=Dn.lighten=E2;Dn.private_safeAlpha=Uke;Dn.private_safeColorChannel=void 0;Dn.private_safeDarken=Hke;Dn.private_safeEmphasize=qke;Dn.private_safeLighten=Wke;Dn.recomposeColor=bu;Dn.rgbToHex=$ke;var fL=$8(Rke),jke=$8(Oke);function A2(e,t=0,o=1){return(0,jke.default)(e,t,o)}function V8(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let o=e.match(t);return o&&o[0].length===1&&(o=o.map(s=>s+s)),o?`rgb${o.length===4?"a":""}(${o.map((s,c)=>c<3?parseInt(s,16):Math.round(parseInt(s,16)/255*1e3)/1e3).join(", ")})`:""}function zke(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function Yr(e){if(e.type)return e;if(e.charAt(0)==="#")return Yr(V8(e));const t=e.indexOf("("),o=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(o)===-1)throw new Error((0,fL.default)(9,e));let s=e.substring(t+1,e.length-1),c;if(o==="color"){if(s=s.split(" "),c=s.shift(),s.length===4&&s[3].charAt(0)==="/"&&(s[3]=s[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(c)===-1)throw new Error((0,fL.default)(10,c))}else s=s.split(",");return s=s.map(u=>parseFloat(u)),{type:o,values:s,colorSpace:c}}const U8=e=>{const t=Yr(e);return t.values.slice(0,3).map((o,s)=>t.type.indexOf("hsl")!==-1&&s!==0?`${o}%`:o).join(" ")};Dn.colorChannel=U8;const Fke=(e,t)=>{try{return U8(e)}catch{return e}};Dn.private_safeColorChannel=Fke;function bu(e){const{type:t,colorSpace:o}=e;let{values:s}=e;return t.indexOf("rgb")!==-1?s=s.map((c,u)=>u<3?parseInt(c,10):c):t.indexOf("hsl")!==-1&&(s[1]=`${s[1]}%`,s[2]=`${s[2]}%`),t.indexOf("color")!==-1?s=`${o} ${s.join(" ")}`:s=`${s.join(", ")}`,`${t}(${s})`}function $ke(e){if(e.indexOf("#")===0)return e;const{values:t}=Yr(e);return`#${t.map((o,s)=>zke(s===3?Math.round(255*o):o)).join("")}`}function H8(e){e=Yr(e);const{values:t}=e,o=t[0],s=t[1]/100,c=t[2]/100,u=s*Math.min(c,1-c),p=(v,_=(v+o/30)%12)=>c-u*Math.max(Math.min(_-3,9-_,1),-1);let m="rgb";const g=[Math.round(p(0)*255),Math.round(p(8)*255),Math.round(p(4)*255)];return e.type==="hsla"&&(m+="a",g.push(t[3])),bu({type:m,values:g})}function Jb(e){e=Yr(e);let t=e.type==="hsl"||e.type==="hsla"?Yr(H8(e)).values:e.values;return t=t.map(o=>(e.type!=="color"&&(o/=255),o<=.03928?o/12.92:((o+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Vke(e,t){const o=Jb(e),s=Jb(t);return(Math.max(o,s)+.05)/(Math.min(o,s)+.05)}function W8(e,t){return e=Yr(e),t=A2(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,bu(e)}function Uke(e,t,o){try{return W8(e,t)}catch{return e}}function x2(e,t){if(e=Yr(e),t=A2(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let o=0;o<3;o+=1)e.values[o]*=1-t;return bu(e)}function Hke(e,t,o){try{return x2(e,t)}catch{return e}}function E2(e,t){if(e=Yr(e),t=A2(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let o=0;o<3;o+=1)e.values[o]+=(255-e.values[o])*t;else if(e.type.indexOf("color")!==-1)for(let o=0;o<3;o+=1)e.values[o]+=(1-e.values[o])*t;return bu(e)}function Wke(e,t,o){try{return E2(e,t)}catch{return e}}function q8(e,t=.15){return Jb(e)>.5?x2(e,t):E2(e,t)}function qke(e,t,o){try{return q8(e,t)}catch{return e}}function Gke(e,t,o,s=1){const c=(g,v)=>Math.round((g**(1/s)*(1-o)+v**(1/s)*o)**s),u=Yr(e),p=Yr(t),m=[c(u.values[0],p.values[0]),c(u.values[1],p.values[1]),c(u.values[2],p.values[2])];return bu({type:"rgb",values:m})}const Kke=["mode","contrastThreshold","tonalOffset"],gL={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:lf.white,default:lf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},SC={text:{primary:lf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:lf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function mL(e,t,o,s){const c=s.light||s,u=s.dark||s*1.5;e[t]||(e.hasOwnProperty(o)?e[t]=e[o]:t==="light"?e.light=Zb(e.main,c):t==="dark"&&(e.dark=Qb(e.main,u)))}function Yke(e="light"){return e==="dark"?{main:Gc[200],light:Gc[50],dark:Gc[400]}:{main:Gc[700],light:Gc[400],dark:Gc[800]}}function Qke(e="light"){return e==="dark"?{main:qc[200],light:qc[50],dark:qc[400]}:{main:qc[500],light:qc[300],dark:qc[700]}}function Zke(e="light"){return e==="dark"?{main:Wc[500],light:Wc[300],dark:Wc[700]}:{main:Wc[700],light:Wc[400],dark:Wc[800]}}function Jke(e="light"){return e==="dark"?{main:Kc[400],light:Kc[300],dark:Kc[700]}:{main:Kc[700],light:Kc[500],dark:Kc[900]}}function Xke(e="light"){return e==="dark"?{main:Yc[400],light:Yc[300],dark:Yc[700]}:{main:Yc[800],light:Yc[500],dark:Yc[900]}}function ebe(e="light"){return e==="dark"?{main:Dh[400],light:Dh[300],dark:Dh[700]}:{main:"#ed6c02",light:Dh[500],dark:Dh[900]}}function tbe(e){const{mode:t="light",contrastThreshold:o=3,tonalOffset:s=.2}=e,c=ye(e,Kke),u=e.primary||Yke(t),p=e.secondary||Qke(t),m=e.error||Zke(t),g=e.info||Jke(t),v=e.success||Xke(t),_=e.warning||ebe(t);function C(T){return Lke(T,SC.text.primary)>=o?SC.text.primary:gL.text.primary}const y=({color:T,name:P,mainShade:D=500,lightShade:R=300,darkShade:B=700})=>{if(T=$({},T),!T.main&&T[D]&&(T.main=T[D]),!T.hasOwnProperty("main"))throw new Error(Yl(11,P?` (${P})`:"",D));if(typeof T.main!="string")throw new Error(Yl(12,P?` (${P})`:"",JSON.stringify(T.main)));return mL(T,"light",R,s),mL(T,"dark",B,s),T.contrastText||(T.contrastText=C(T.main)),T},x={dark:SC,light:gL};return Zo($({common:$({},lf),mode:t,primary:y({color:u,name:"primary"}),secondary:y({color:p,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:m,name:"error"}),warning:y({color:_,name:"warning"}),info:y({color:g,name:"info"}),success:y({color:v,name:"success"}),grey:Mfe,contrastThreshold:o,getContrastText:C,augmentColor:y,tonalOffset:s},x[t]),c)}const nbe=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function obe(e){return Math.round(e*1e5)/1e5}const kL={textTransform:"uppercase"},bL='"Roboto", "Helvetica", "Arial", sans-serif';function rbe(e,t){const o=typeof t=="function"?t(e):t,{fontFamily:s=bL,fontSize:c=14,fontWeightLight:u=300,fontWeightRegular:p=400,fontWeightMedium:m=500,fontWeightBold:g=700,htmlFontSize:v=16,allVariants:_,pxToRem:C}=o,y=ye(o,nbe),x=c/14,S=C||(D=>`${D/v*x}rem`),T=(D,R,B,j,V)=>$({fontFamily:s,fontWeight:D,fontSize:S(R),lineHeight:B},s===bL?{letterSpacing:`${obe(j/R)}em`}:{},V,_),P={h1:T(u,96,1.167,-1.5),h2:T(u,60,1.2,-.5),h3:T(p,48,1.167,0),h4:T(p,34,1.235,.25),h5:T(p,24,1.334,0),h6:T(m,20,1.6,.15),subtitle1:T(p,16,1.75,.15),subtitle2:T(m,14,1.57,.1),body1:T(p,16,1.5,.15),body2:T(p,14,1.43,.15),button:T(m,14,1.75,.4,kL),caption:T(p,12,1.66,.4),overline:T(p,12,2.66,1,kL),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Zo($({htmlFontSize:v,pxToRem:S,fontFamily:s,fontSize:c,fontWeightLight:u,fontWeightRegular:p,fontWeightMedium:m,fontWeightBold:g},P),y,{clone:!1})}const ibe=.2,sbe=.14,abe=.12;function cn(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${ibe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${sbe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${abe})`].join(",")}const lbe=["none",cn(0,2,1,-1,0,1,1,0,0,1,3,0),cn(0,3,1,-2,0,2,2,0,0,1,5,0),cn(0,3,3,-2,0,3,4,0,0,1,8,0),cn(0,2,4,-1,0,4,5,0,0,1,10,0),cn(0,3,5,-1,0,5,8,0,0,1,14,0),cn(0,3,5,-1,0,6,10,0,0,1,18,0),cn(0,4,5,-2,0,7,10,1,0,2,16,1),cn(0,5,5,-3,0,8,10,1,0,3,14,2),cn(0,5,6,-3,0,9,12,1,0,3,16,2),cn(0,6,6,-3,0,10,14,1,0,4,18,3),cn(0,6,7,-4,0,11,15,1,0,4,20,3),cn(0,7,8,-4,0,12,17,2,0,5,22,4),cn(0,7,8,-4,0,13,19,2,0,5,24,4),cn(0,7,9,-4,0,14,21,2,0,5,26,4),cn(0,8,9,-5,0,15,22,2,0,6,28,5),cn(0,8,10,-5,0,16,24,2,0,6,30,5),cn(0,8,11,-5,0,17,26,2,0,6,32,5),cn(0,9,11,-5,0,18,28,2,0,7,34,6),cn(0,9,12,-6,0,19,29,2,0,7,36,6),cn(0,10,13,-6,0,20,31,3,0,8,38,7),cn(0,10,13,-6,0,21,33,3,0,8,40,7),cn(0,10,14,-6,0,22,35,3,0,8,42,7),cn(0,11,14,-7,0,23,36,3,0,9,44,8),cn(0,11,15,-7,0,24,38,3,0,9,46,8)],cbe=["duration","easing","delay"],dbe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ube={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function vL(e){return`${Math.round(e)}ms`}function hbe(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function pbe(e){const t=$({},dbe,e.easing),o=$({},ube,e.duration);return $({getAutoHeightDuration:hbe,create:(c=["all"],u={})=>{const{duration:p=o.standard,easing:m=t.easeInOut,delay:g=0}=u;return ye(u,cbe),(Array.isArray(c)?c:[c]).map(v=>`${v} ${typeof p=="string"?p:vL(p)} ${m} ${typeof g=="string"?g:vL(g)}`).join(",")}},e,{easing:t,duration:o})}const fbe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},gbe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function G8(e={},...t){const{mixins:o={},palette:s={},transitions:c={},typography:u={}}=e,p=ye(e,gbe);if(e.vars)throw new Error(Yl(18));const m=tbe(s),g=eg(e);let v=Zo(g,{mixins:Nke(g.breakpoints,o),palette:m,shadows:lbe.slice(),typography:rbe(m,u),transitions:pbe(c),zIndex:$({},fbe)});return v=Zo(v,p),v=t.reduce((_,C)=>Zo(_,C),v),v.unstable_sxConfig=$({},Xf,p==null?void 0:p.unstable_sxConfig),v.unstable_sx=function(C){return ku({sx:C,theme:this})},v}const S2=G8();function vu(){const e=jv(S2);return e[mv]||e}var og={},TC={exports:{}},wL;function mbe(){return wL||(wL=1,function(e){function t(o,s){if(o==null)return{};var c={};for(var u in o)if({}.hasOwnProperty.call(o,u)){if(s.includes(u))continue;c[u]=o[u]}return c}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(TC)),TC.exports}const K8=Yi(Fge),kbe=Yi($ge),bbe=Yi(qge),vbe=Yi(Kme),wbe=Yi(Nme),ybe=Yi(Fme);var wu=Cr;Object.defineProperty(og,"__esModule",{value:!0});var _be=og.default=Obe;og.shouldForwardProp=Wk;og.systemDefaultTheme=void 0;var Nr=wu(b8()),x1=wu(mbe()),yL=Ibe(K8),Cbe=kbe;wu(bbe);wu(vbe);var Abe=wu(wbe),xbe=wu(ybe);const Ebe=["ownerState"],Sbe=["variants"],Tbe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Y8(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,o=new WeakMap;return(Y8=function(s){return s?o:t})(e)}function Ibe(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var o=Y8(t);if(o&&o.has(e))return o.get(e);var s={__proto__:null},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(u!=="default"&&Object.prototype.hasOwnProperty.call(e,u)){var p=c?Object.getOwnPropertyDescriptor(e,u):null;p&&(p.get||p.set)?Object.defineProperty(s,u,p):s[u]=e[u]}return s.default=e,o&&o.set(e,s),s}function Dbe(e){return Object.keys(e).length===0}function Mbe(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Wk(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Pbe=og.systemDefaultTheme=(0,Abe.default)(),Nbe=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function fk({defaultTheme:e,theme:t,themeId:o}){return Dbe(t)?e:t[o]||t}function Rbe(e){return e?(t,o)=>o[e]:null}function qk(e,t){let{ownerState:o}=t,s=(0,x1.default)(t,Ebe);const c=typeof e=="function"?e((0,Nr.default)({ownerState:o},s)):e;if(Array.isArray(c))return c.flatMap(u=>qk(u,(0,Nr.default)({ownerState:o},s)));if(c&&typeof c=="object"&&Array.isArray(c.variants)){const{variants:u=[]}=c;let m=(0,x1.default)(c,Sbe);return u.forEach(g=>{let v=!0;typeof g.props=="function"?v=g.props((0,Nr.default)({ownerState:o},s,o)):Object.keys(g.props).forEach(_=>{(o==null?void 0:o[_])!==g.props[_]&&s[_]!==g.props[_]&&(v=!1)}),v&&(Array.isArray(m)||(m=[m]),m.push(typeof g.style=="function"?g.style((0,Nr.default)({ownerState:o},s,o)):g.style))}),m}return c}function Obe(e={}){const{themeId:t,defaultTheme:o=Pbe,rootShouldForwardProp:s=Wk,slotShouldForwardProp:c=Wk}=e,u=p=>(0,xbe.default)((0,Nr.default)({},p,{theme:fk((0,Nr.default)({},p,{defaultTheme:o,themeId:t}))}));return u.__mui_systemSx=!0,(p,m={})=>{(0,yL.internal_processStyles)(p,V=>V.filter(H=>!(H!=null&&H.__mui_systemSx)));const{name:g,slot:v,skipVariantsResolver:_,skipSx:C,overridesResolver:y=Rbe(Nbe(v))}=m,x=(0,x1.default)(m,Tbe),S=_!==void 0?_:v&&v!=="Root"&&v!=="root"||!1,T=C||!1;let P,D=Wk;v==="Root"||v==="root"?D=s:v?D=c:Mbe(p)&&(D=void 0);const R=(0,yL.default)(p,(0,Nr.default)({shouldForwardProp:D,label:P},x)),B=V=>typeof V=="function"&&V.__emotion_real!==V||(0,Cbe.isPlainObject)(V)?H=>qk(V,(0,Nr.default)({},H,{theme:fk({theme:H.theme,defaultTheme:o,themeId:t})})):V,j=(V,...H)=>{let M=B(V);const U=H?H.map(B):[];g&&y&&U.push(Z=>{const se=fk((0,Nr.default)({},Z,{defaultTheme:o,themeId:t}));if(!se.components||!se.components[g]||!se.components[g].styleOverrides)return null;const X=se.components[g].styleOverrides,ee={};return Object.entries(X).forEach(([oe,ie])=>{ee[oe]=qk(ie,(0,Nr.default)({},Z,{theme:se}))}),y(Z,ee)}),g&&!S&&U.push(Z=>{var se;const X=fk((0,Nr.default)({},Z,{defaultTheme:o,themeId:t})),ee=X==null||(se=X.components)==null||(se=se[g])==null?void 0:se.variants;return qk({variants:ee},(0,Nr.default)({},Z,{theme:X}))}),T||U.push(u);const G=U.length-H.length;if(Array.isArray(V)&&G>0){const Z=new Array(G).fill("");M=[...V,...Z],M.raw=[...V.raw,...Z]}const K=R(M,...U);return p.muiName&&(K.muiName=p.muiName),K};return R.withConfig&&(j.withConfig=R.withConfig),j}}function Q8(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Ar=e=>Q8(e)&&e!=="classes",ke=_be({themeId:mv,defaultTheme:S2,rootShouldForwardProp:Ar}),_L=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function He(e){return Eke(e)}function Bbe(e){return $e("MuiSvgIcon",e)}Fe("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Lbe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],jbe=e=>{const{color:t,fontSize:o,classes:s}=e,c={root:["root",t!=="inherit"&&`color${fe(t)}`,`fontSize${fe(o)}`]};return Ue(c,Bbe,s)},zbe=ke("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.color!=="inherit"&&t[`color${fe(o.color)}`],t[`fontSize${fe(o.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var o,s,c,u,p,m,g,v,_,C,y,x,S;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(o=e.transitions)==null||(s=o.create)==null?void 0:s.call(o,"fill",{duration:(c=e.transitions)==null||(c=c.duration)==null?void 0:c.shorter}),fontSize:{inherit:"inherit",small:((u=e.typography)==null||(p=u.pxToRem)==null?void 0:p.call(u,20))||"1.25rem",medium:((m=e.typography)==null||(g=m.pxToRem)==null?void 0:g.call(m,24))||"1.5rem",large:((v=e.typography)==null||(_=v.pxToRem)==null?void 0:_.call(v,35))||"2.1875rem"}[t.fontSize],color:(C=(y=(e.vars||e).palette)==null||(y=y[t.color])==null?void 0:y.main)!=null?C:{action:(x=(e.vars||e).palette)==null||(x=x.action)==null?void 0:x.active,disabled:(S=(e.vars||e).palette)==null||(S=S.action)==null?void 0:S.disabled,inherit:void 0}[t.color]}}),E1=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiSvgIcon"}),{children:c,className:u,color:p="inherit",component:m="svg",fontSize:g="medium",htmlColor:v,inheritViewBox:_=!1,titleAccess:C,viewBox:y="0 0 24 24"}=s,x=ye(s,Lbe),S=z.isValidElement(c)&&c.type==="svg",T=$({},s,{color:p,component:m,fontSize:g,instanceFontSize:t.fontSize,inheritViewBox:_,viewBox:y,hasSvgAsChild:S}),P={};_||(P.viewBox=y);const D=jbe(T);return N.jsxs(zbe,$({as:m,className:_e(D.root,u),focusable:"false",color:v,"aria-hidden":C?void 0:!0,role:C?"img":void 0,ref:o},P,x,S&&c.props,{ownerState:T,children:[S?c.props.children:c,C?N.jsx("title",{children:C}):null]}))});E1.muiName="SvgIcon";function Ha(e,t){function o(s,c){return N.jsx(E1,$({"data-testid":`${t}Icon`,ref:c},s,{children:e}))}return o.muiName=E1.muiName,z.memo(z.forwardRef(o))}const Fbe={configure:e=>{w2.configure(e)}},$be=Object.freeze(Object.defineProperty({__proto__:null,capitalize:fe,createChainedFunction:C1,createSvgIcon:Ha,debounce:C2,deprecatedPropType:cke,isMuiElement:mp,ownerDocument:Hn,ownerWindow:Na,requirePropFactory:dke,setRef:Kb,unstable_ClassNameGenerator:Fbe,unstable_useEnhancedEffect:Kr,unstable_useId:tg,unsupportedProp:hke,useControlled:Yb,useEventCallback:Fr,useForkRef:un,useIsFocusVisible:Zv},Symbol.toStringTag,{value:"Module"}));function S1(e,t){return S1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,s){return o.__proto__=s,o},S1(e,t)}function Z8(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,S1(e,t)}const CL={disabled:!1},Xb=ur.createContext(null);var Vbe=function(t){return t.scrollTop},Zh="unmounted",vl="exited",wl="entering",Xc="entered",T1="exiting",Zi=function(e){Z8(t,e);function t(s,c){var u;u=e.call(this,s,c)||this;var p=c,m=p&&!p.isMounting?s.enter:s.appear,g;return u.appearStatus=null,s.in?m?(g=vl,u.appearStatus=wl):g=Xc:s.unmountOnExit||s.mountOnEnter?g=Zh:g=vl,u.state={status:g},u.nextCallback=null,u}t.getDerivedStateFromProps=function(c,u){var p=c.in;return p&&u.status===Zh?{status:vl}:null};var o=t.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(c){var u=null;if(c!==this.props){var p=this.state.status;this.props.in?p!==wl&&p!==Xc&&(u=wl):(p===wl||p===Xc)&&(u=T1)}this.updateStatus(!1,u)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var c=this.props.timeout,u,p,m;return u=p=m=c,c!=null&&typeof c!="number"&&(u=c.exit,p=c.enter,m=c.appear!==void 0?c.appear:p),{exit:u,enter:p,appear:m}},o.updateStatus=function(c,u){if(c===void 0&&(c=!1),u!==null)if(this.cancelNextCallback(),u===wl){if(this.props.unmountOnExit||this.props.mountOnEnter){var p=this.props.nodeRef?this.props.nodeRef.current:Xm.findDOMNode(this);p&&Vbe(p)}this.performEnter(c)}else this.performExit();else this.props.unmountOnExit&&this.state.status===vl&&this.setState({status:Zh})},o.performEnter=function(c){var u=this,p=this.props.enter,m=this.context?this.context.isMounting:c,g=this.props.nodeRef?[m]:[Xm.findDOMNode(this),m],v=g[0],_=g[1],C=this.getTimeouts(),y=m?C.appear:C.enter;if(!c&&!p||CL.disabled){this.safeSetState({status:Xc},function(){u.props.onEntered(v)});return}this.props.onEnter(v,_),this.safeSetState({status:wl},function(){u.props.onEntering(v,_),u.onTransitionEnd(y,function(){u.safeSetState({status:Xc},function(){u.props.onEntered(v,_)})})})},o.performExit=function(){var c=this,u=this.props.exit,p=this.getTimeouts(),m=this.props.nodeRef?void 0:Xm.findDOMNode(this);if(!u||CL.disabled){this.safeSetState({status:vl},function(){c.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:T1},function(){c.props.onExiting(m),c.onTransitionEnd(p.exit,function(){c.safeSetState({status:vl},function(){c.props.onExited(m)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(c,u){u=this.setNextCallback(u),this.setState(c,u)},o.setNextCallback=function(c){var u=this,p=!0;return this.nextCallback=function(m){p&&(p=!1,u.nextCallback=null,c(m))},this.nextCallback.cancel=function(){p=!1},this.nextCallback},o.onTransitionEnd=function(c,u){this.setNextCallback(u);var p=this.props.nodeRef?this.props.nodeRef.current:Xm.findDOMNode(this),m=c==null&&!this.props.addEndListener;if(!p||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var g=this.props.nodeRef?[this.nextCallback]:[p,this.nextCallback],v=g[0],_=g[1];this.props.addEndListener(v,_)}c!=null&&setTimeout(this.nextCallback,c)},o.render=function(){var c=this.state.status;if(c===Zh)return null;var u=this.props,p=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var m=ye(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ur.createElement(Xb.Provider,{value:null},typeof p=="function"?p(c,m):ur.cloneElement(ur.Children.only(p),m))},t}(ur.Component);Zi.contextType=Xb;Zi.propTypes={};function Qc(){}Zi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Qc,onEntering:Qc,onEntered:Qc,onExit:Qc,onExiting:Qc,onExited:Qc};Zi.UNMOUNTED=Zh;Zi.EXITED=vl;Zi.ENTERING=wl;Zi.ENTERED=Xc;Zi.EXITING=T1;function Ube(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T2(e,t){var o=function(u){return t&&z.isValidElement(u)?t(u):u},s=Object.create(null);return e&&z.Children.map(e,function(c){return c}).forEach(function(c){s[c.key]=o(c)}),s}function Hbe(e,t){e=e||{},t=t||{};function o(_){return _ in t?t[_]:e[_]}var s=Object.create(null),c=[];for(var u in e)u in t?c.length&&(s[u]=c,c=[]):c.push(u);var p,m={};for(var g in t){if(s[g])for(p=0;p<s[g].length;p++){var v=s[g][p];m[s[g][p]]=o(v)}m[g]=o(g)}for(p=0;p<c.length;p++)m[c[p]]=o(c[p]);return m}function Il(e,t,o){return o[t]!=null?o[t]:e.props[t]}function Wbe(e,t){return T2(e.children,function(o){return z.cloneElement(o,{onExited:t.bind(null,o),in:!0,appear:Il(o,"appear",e),enter:Il(o,"enter",e),exit:Il(o,"exit",e)})})}function qbe(e,t,o){var s=T2(e.children),c=Hbe(t,s);return Object.keys(c).forEach(function(u){var p=c[u];if(z.isValidElement(p)){var m=u in t,g=u in s,v=t[u],_=z.isValidElement(v)&&!v.props.in;g&&(!m||_)?c[u]=z.cloneElement(p,{onExited:o.bind(null,p),in:!0,exit:Il(p,"exit",e),enter:Il(p,"enter",e)}):!g&&m&&!_?c[u]=z.cloneElement(p,{in:!1}):g&&m&&z.isValidElement(v)&&(c[u]=z.cloneElement(p,{onExited:o.bind(null,p),in:v.props.in,exit:Il(p,"exit",e),enter:Il(p,"enter",e)}))}}),c}var Gbe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Kbe={component:"div",childFactory:function(t){return t}},I2=function(e){Z8(t,e);function t(s,c){var u;u=e.call(this,s,c)||this;var p=u.handleExited.bind(Ube(u));return u.state={contextValue:{isMounting:!0},handleExited:p,firstRender:!0},u}var o=t.prototype;return o.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},o.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(c,u){var p=u.children,m=u.handleExited,g=u.firstRender;return{children:g?Wbe(c,m):qbe(c,p,m),firstRender:!1}},o.handleExited=function(c,u){var p=T2(this.props.children);c.key in p||(c.props.onExited&&c.props.onExited(u),this.mounted&&this.setState(function(m){var g=$({},m.children);return delete g[c.key],{children:g}}))},o.render=function(){var c=this.props,u=c.component,p=c.childFactory,m=ye(c,["component","childFactory"]),g=this.state.contextValue,v=Gbe(this.state.children).map(p);return delete m.appear,delete m.enter,delete m.exit,u===null?ur.createElement(Xb.Provider,{value:g},v):ur.createElement(Xb.Provider,{value:g},ur.createElement(u,m,v))},t}(ur.Component);I2.propTypes={};I2.defaultProps=Kbe;const J8=e=>e.scrollTop;function e0(e,t){var o,s;const{timeout:c,easing:u,style:p={}}=e;return{duration:(o=p.transitionDuration)!=null?o:typeof c=="number"?c:c[t.mode]||0,easing:(s=p.transitionTimingFunction)!=null?s:typeof u=="object"?u[t.mode]:u,delay:p.transitionDelay}}function Ybe(e){return $e("MuiPaper",e)}Fe("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Qbe=["className","component","elevation","square","variant"],Zbe=e=>{const{square:t,elevation:o,variant:s,classes:c}=e,u={root:["root",s,!t&&"rounded",s==="elevation"&&`elevation${o}`]};return Ue(u,Ybe,c)},Jbe=ke("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],!o.square&&t.rounded,o.variant==="elevation"&&t[`elevation${o.elevation}`]]}})(({theme:e,ownerState:t})=>{var o;return $({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&$({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${wt("#fff",_L(t.elevation))}, ${wt("#fff",_L(t.elevation))})`},e.vars&&{backgroundImage:(o=e.vars.overlays)==null?void 0:o[t.elevation]}))}),Rs=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiPaper"}),{className:c,component:u="div",elevation:p=1,square:m=!1,variant:g="elevation"}=s,v=ye(s,Qbe),_=$({},s,{component:u,elevation:p,square:m,variant:g}),C=Zbe(_);return N.jsx(Jbe,$({as:u,ownerState:_,className:_e(C.root,c),ref:o},v))});function Yd(e){return typeof e=="string"}function fd(e,t,o){return e===void 0||Yd(e)?t:$({},t,{ownerState:$({},t.ownerState,o)})}const Xbe={disableDefaultClasses:!1},e0e=z.createContext(Xbe);function t0e(e){const{disableDefaultClasses:t}=z.useContext(e0e);return o=>t?"":e(o)}function t0(e,t=[]){if(e===void 0)return{};const o={};return Object.keys(e).filter(s=>s.match(/^on[A-Z]/)&&typeof e[s]=="function"&&!t.includes(s)).forEach(s=>{o[s]=e[s]}),o}function X8(e,t,o){return typeof e=="function"?e(t,o):e}function AL(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(o=>!(o.match(/^on[A-Z]/)&&typeof e[o]=="function")).forEach(o=>{t[o]=e[o]}),t}function eV(e){const{getSlotProps:t,additionalProps:o,externalSlotProps:s,externalForwardedProps:c,className:u}=e;if(!t){const x=_e(o==null?void 0:o.className,u,c==null?void 0:c.className,s==null?void 0:s.className),S=$({},o==null?void 0:o.style,c==null?void 0:c.style,s==null?void 0:s.style),T=$({},o,c,s);return x.length>0&&(T.className=x),Object.keys(S).length>0&&(T.style=S),{props:T,internalRef:void 0}}const p=t0($({},c,s)),m=AL(s),g=AL(c),v=t(p),_=_e(v==null?void 0:v.className,o==null?void 0:o.className,u,c==null?void 0:c.className,s==null?void 0:s.className),C=$({},v==null?void 0:v.style,o==null?void 0:o.style,c==null?void 0:c.style,s==null?void 0:s.style),y=$({},v,o,g,m);return _.length>0&&(y.className=_),Object.keys(C).length>0&&(y.style=C),{props:y,internalRef:v.ref}}const n0e=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Ra(e){var t;const{elementType:o,externalSlotProps:s,ownerState:c,skipResolvingSlotProps:u=!1}=e,p=ye(e,n0e),m=u?{}:X8(s,c),{props:g,internalRef:v}=eV($({},p,{externalSlotProps:m})),_=un(v,m==null?void 0:m.ref,(t=e.additionalProps)==null?void 0:t.ref);return fd(o,$({},g,{ref:_}),c)}const o0e=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],r0e=["component","slots","slotProps"],i0e=["component"];function xL(e,t){const{className:o,elementType:s,ownerState:c,externalForwardedProps:u,getSlotOwnerState:p,internalForwardedProps:m}=t,g=ye(t,o0e),{component:v,slots:_={[e]:void 0},slotProps:C={[e]:void 0}}=u,y=ye(u,r0e),x=_[e]||s,S=X8(C[e],c),T=eV($({className:o},g,{externalForwardedProps:e==="root"?y:void 0,externalSlotProps:S})),{props:{component:P},internalRef:D}=T,R=ye(T.props,i0e),B=un(D,S==null?void 0:S.ref,t.ref),j=p?p(R):{},V=$({},c,j),H=e==="root"?P||v:P,M=fd(x,$({},e==="root"&&!v&&!_[e]&&m,e!=="root"&&!_[e]&&m,R,H&&{as:H},{ref:B}),V);return Object.keys(j).forEach(U=>{delete M[U]}),[x,M]}function s0e(e){const{className:t,classes:o,pulsate:s=!1,rippleX:c,rippleY:u,rippleSize:p,in:m,onExited:g,timeout:v}=e,[_,C]=z.useState(!1),y=_e(t,o.ripple,o.rippleVisible,s&&o.ripplePulsate),x={width:p,height:p,top:-(p/2)+u,left:-(p/2)+c},S=_e(o.child,_&&o.childLeaving,s&&o.childPulsate);return!m&&!_&&C(!0),z.useEffect(()=>{if(!m&&g!=null){const T=setTimeout(g,v);return()=>{clearTimeout(T)}}},[g,m,v]),N.jsx("span",{className:y,style:x,children:N.jsx("span",{className:S})})}const Rr=Fe("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),a0e=["center","classes","className"];let Jv=e=>e,EL,SL,TL,IL;const I1=550,l0e=80,c0e=mu(EL||(EL=Jv`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),d0e=mu(SL||(SL=Jv`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),u0e=mu(TL||(TL=Jv`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),h0e=ke("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),p0e=ke(s0e,{name:"MuiTouchRipple",slot:"Ripple"})(IL||(IL=Jv`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Rr.rippleVisible,c0e,I1,({theme:e})=>e.transitions.easing.easeInOut,Rr.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,Rr.child,Rr.childLeaving,d0e,I1,({theme:e})=>e.transitions.easing.easeInOut,Rr.childPulsate,u0e,({theme:e})=>e.transitions.easing.easeInOut),f0e=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiTouchRipple"}),{center:c=!1,classes:u={},className:p}=s,m=ye(s,a0e),[g,v]=z.useState([]),_=z.useRef(0),C=z.useRef(null);z.useEffect(()=>{C.current&&(C.current(),C.current=null)},[g]);const y=z.useRef(!1),x=Tl(),S=z.useRef(null),T=z.useRef(null),P=z.useCallback(j=>{const{pulsate:V,rippleX:H,rippleY:M,rippleSize:U,cb:G}=j;v(K=>[...K,N.jsx(p0e,{classes:{ripple:_e(u.ripple,Rr.ripple),rippleVisible:_e(u.rippleVisible,Rr.rippleVisible),ripplePulsate:_e(u.ripplePulsate,Rr.ripplePulsate),child:_e(u.child,Rr.child),childLeaving:_e(u.childLeaving,Rr.childLeaving),childPulsate:_e(u.childPulsate,Rr.childPulsate)},timeout:I1,pulsate:V,rippleX:H,rippleY:M,rippleSize:U},_.current)]),_.current+=1,C.current=G},[u]),D=z.useCallback((j={},V={},H=()=>{})=>{const{pulsate:M=!1,center:U=c||V.pulsate,fakeElement:G=!1}=V;if((j==null?void 0:j.type)==="mousedown"&&y.current){y.current=!1;return}(j==null?void 0:j.type)==="touchstart"&&(y.current=!0);const K=G?null:T.current,Z=K?K.getBoundingClientRect():{width:0,height:0,left:0,top:0};let se,X,ee;if(U||j===void 0||j.clientX===0&&j.clientY===0||!j.clientX&&!j.touches)se=Math.round(Z.width/2),X=Math.round(Z.height/2);else{const{clientX:oe,clientY:ie}=j.touches&&j.touches.length>0?j.touches[0]:j;se=Math.round(oe-Z.left),X=Math.round(ie-Z.top)}if(U)ee=Math.sqrt((2*Z.width**2+Z.height**2)/3),ee%2===0&&(ee+=1);else{const oe=Math.max(Math.abs((K?K.clientWidth:0)-se),se)*2+2,ie=Math.max(Math.abs((K?K.clientHeight:0)-X),X)*2+2;ee=Math.sqrt(oe**2+ie**2)}j!=null&&j.touches?S.current===null&&(S.current=()=>{P({pulsate:M,rippleX:se,rippleY:X,rippleSize:ee,cb:H})},x.start(l0e,()=>{S.current&&(S.current(),S.current=null)})):P({pulsate:M,rippleX:se,rippleY:X,rippleSize:ee,cb:H})},[c,P,x]),R=z.useCallback(()=>{D({},{pulsate:!0})},[D]),B=z.useCallback((j,V)=>{if(x.clear(),(j==null?void 0:j.type)==="touchend"&&S.current){S.current(),S.current=null,x.start(0,()=>{B(j,V)});return}S.current=null,v(H=>H.length>0?H.slice(1):H),C.current=V},[x]);return z.useImperativeHandle(o,()=>({pulsate:R,start:D,stop:B}),[R,D,B]),N.jsx(h0e,$({className:_e(Rr.root,u.root,p),ref:T},m,{children:N.jsx(I2,{component:null,exit:!0,children:g})}))});function g0e(e){return $e("MuiButtonBase",e)}const m0e=Fe("MuiButtonBase",["root","disabled","focusVisible"]),k0e=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],b0e=e=>{const{disabled:t,focusVisible:o,focusVisibleClassName:s,classes:c}=e,p=Ue({root:["root",t&&"disabled",o&&"focusVisible"]},g0e,c);return o&&s&&(p.root+=` ${s}`),p},v0e=ke("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${m0e.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Ql=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiButtonBase"}),{action:c,centerRipple:u=!1,children:p,className:m,component:g="button",disabled:v=!1,disableRipple:_=!1,disableTouchRipple:C=!1,focusRipple:y=!1,LinkComponent:x="a",onBlur:S,onClick:T,onContextMenu:P,onDragLeave:D,onFocus:R,onFocusVisible:B,onKeyDown:j,onKeyUp:V,onMouseDown:H,onMouseLeave:M,onMouseUp:U,onTouchEnd:G,onTouchMove:K,onTouchStart:Z,tabIndex:se=0,TouchRippleProps:X,touchRippleRef:ee,type:oe}=s,ie=ye(s,k0e),ae=z.useRef(null),q=z.useRef(null),te=un(q,ee),{isFocusVisibleRef:de,onFocus:Te,onBlur:Ie,ref:We}=Zv(),[De,Qe]=z.useState(!1);v&&De&&Qe(!1),z.useImperativeHandle(c,()=>({focusVisible:()=>{Qe(!0),ae.current.focus()}}),[]);const[xe,ut]=z.useState(!1);z.useEffect(()=>{ut(!0)},[]);const ct=xe&&!_&&!v;z.useEffect(()=>{De&&y&&!_&&xe&&q.current.pulsate()},[_,y,De,xe]);function at(ze,Zt,ei=C){return Fr(tr=>(Zt&&Zt(tr),!ei&&q.current&&q.current[ze](tr),!0))}const yt=at("start",H),Ge=at("stop",P),Ee=at("stop",D),Q=at("stop",U),ne=at("stop",ze=>{De&&ze.preventDefault(),M&&M(ze)}),le=at("start",Z),Ce=at("stop",G),Pe=at("stop",K),Ye=at("stop",ze=>{Ie(ze),de.current===!1&&Qe(!1),S&&S(ze)},!1),Rt=Fr(ze=>{ae.current||(ae.current=ze.currentTarget),Te(ze),de.current===!0&&(Qe(!0),B&&B(ze)),R&&R(ze)}),ot=()=>{const ze=ae.current;return g&&g!=="button"&&!(ze.tagName==="A"&&ze.href)},Oe=z.useRef(!1),et=Fr(ze=>{y&&!Oe.current&&De&&q.current&&ze.key===" "&&(Oe.current=!0,q.current.stop(ze,()=>{q.current.start(ze)})),ze.target===ze.currentTarget&&ot()&&ze.key===" "&&ze.preventDefault(),j&&j(ze),ze.target===ze.currentTarget&&ot()&&ze.key==="Enter"&&!v&&(ze.preventDefault(),T&&T(ze))}),Je=Fr(ze=>{y&&ze.key===" "&&q.current&&De&&!ze.defaultPrevented&&(Oe.current=!1,q.current.stop(ze,()=>{q.current.pulsate(ze)})),V&&V(ze),T&&ze.target===ze.currentTarget&&ot()&&ze.key===" "&&!ze.defaultPrevented&&T(ze)});let qe=g;qe==="button"&&(ie.href||ie.to)&&(qe=x);const gt={};qe==="button"?(gt.type=oe===void 0?"button":oe,gt.disabled=v):(!ie.href&&!ie.to&&(gt.role="button"),v&&(gt["aria-disabled"]=v));const Wt=un(o,We,ae),Wn=$({},s,{centerRipple:u,component:g,disabled:v,disableRipple:_,disableTouchRipple:C,focusRipple:y,tabIndex:se,focusVisible:De}),_t=b0e(Wn);return N.jsxs(v0e,$({as:qe,className:_e(_t.root,m),ownerState:Wn,onBlur:Ye,onClick:T,onContextMenu:Ge,onFocus:Rt,onKeyDown:et,onKeyUp:Je,onMouseDown:yt,onMouseLeave:ne,onMouseUp:Q,onDragLeave:Ee,onTouchEnd:Ce,onTouchMove:Pe,onTouchStart:le,ref:Wt,tabIndex:v?-1:se,type:oe},gt,ie,{children:[p,ct?N.jsx(f0e,$({ref:te,center:u},X)):null]}))});function w0e(e){return $e("MuiAlert",e)}const DL=Fe("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function y0e(e){return $e("MuiIconButton",e)}const _0e=Fe("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),C0e=["edge","children","className","color","disabled","disableFocusRipple","size"],A0e=e=>{const{classes:t,disabled:o,color:s,edge:c,size:u}=e,p={root:["root",o&&"disabled",s!=="default"&&`color${fe(s)}`,c&&`edge${fe(c)}`,`size${fe(u)}`]};return Ue(p,y0e,t)},x0e=ke(Ql,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.color!=="default"&&t[`color${fe(o.color)}`],o.edge&&t[`edge${fe(o.edge)}`],t[`size${fe(o.size)}`]]}})(({theme:e,ownerState:t})=>$({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:wt(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var o;const s=(o=(e.vars||e).palette)==null?void 0:o[t.color];return $({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&$({color:s==null?void 0:s.main},!t.disableRipple&&{"&:hover":$({},s&&{backgroundColor:e.vars?`rgba(${s.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:wt(s.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${_0e.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),Zn=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiIconButton"}),{edge:c=!1,children:u,className:p,color:m="default",disabled:g=!1,disableFocusRipple:v=!1,size:_="medium"}=s,C=ye(s,C0e),y=$({},s,{edge:c,color:m,disabled:g,disableFocusRipple:v,size:_}),x=A0e(y);return N.jsx(x0e,$({className:_e(x.root,p),centerRipple:!0,focusRipple:!v,disabled:g,ref:o},C,{ownerState:y,children:u}))}),E0e=Ha(N.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),S0e=Ha(N.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),T0e=Ha(N.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),I0e=Ha(N.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),D0e=Ha(N.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),M0e=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],P0e=e=>{const{variant:t,color:o,severity:s,classes:c}=e,u={root:["root",`color${fe(o||s)}`,`${t}${fe(o||s)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return Ue(u,w0e,c)},N0e=ke(Rs,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],t[`${o.variant}${fe(o.color||o.severity)}`]]}})(({theme:e})=>{const t=e.palette.mode==="light"?Qb:Zb,o=e.palette.mode==="light"?Zb:Qb;return $({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(([,s])=>s.main&&s.light).map(([s])=>({props:{colorSeverity:s,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${s}Color`]:t(e.palette[s].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${s}StandardBg`]:o(e.palette[s].light,.9),[`& .${DL.icon}`]:e.vars?{color:e.vars.palette.Alert[`${s}IconColor`]}:{color:e.palette[s].main}}})),...Object.entries(e.palette).filter(([,s])=>s.main&&s.light).map(([s])=>({props:{colorSeverity:s,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${s}Color`]:t(e.palette[s].light,.6),border:`1px solid ${(e.vars||e).palette[s].light}`,[`& .${DL.icon}`]:e.vars?{color:e.vars.palette.Alert[`${s}IconColor`]}:{color:e.palette[s].main}}})),...Object.entries(e.palette).filter(([,s])=>s.main&&s.dark).map(([s])=>({props:{colorSeverity:s,variant:"filled"},style:$({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${s}FilledColor`],backgroundColor:e.vars.palette.Alert[`${s}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[s].dark:e.palette[s].main,color:e.palette.getContrastText(e.palette[s].main)})}))]})}),R0e=ke("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),O0e=ke("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),ML=ke("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),PL={success:N.jsx(E0e,{fontSize:"inherit"}),warning:N.jsx(S0e,{fontSize:"inherit"}),error:N.jsx(T0e,{fontSize:"inherit"}),info:N.jsx(I0e,{fontSize:"inherit"})},yu=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiAlert"}),{action:c,children:u,className:p,closeText:m="Close",color:g,components:v={},componentsProps:_={},icon:C,iconMapping:y=PL,onClose:x,role:S="alert",severity:T="success",slotProps:P={},slots:D={},variant:R="standard"}=s,B=ye(s,M0e),j=$({},s,{color:g,severity:T,variant:R,colorSeverity:g||T}),V=P0e(j),H={slots:$({closeButton:v.CloseButton,closeIcon:v.CloseIcon},D),slotProps:$({},_,P)},[M,U]=xL("closeButton",{elementType:Zn,externalForwardedProps:H,ownerState:j}),[G,K]=xL("closeIcon",{elementType:D0e,externalForwardedProps:H,ownerState:j});return N.jsxs(N0e,$({role:S,elevation:0,ownerState:j,className:_e(V.root,p),ref:o},B,{children:[C!==!1?N.jsx(R0e,{ownerState:j,className:V.icon,children:C||y[T]||PL[T]}):null,N.jsx(O0e,{ownerState:j,className:V.message,children:u}),c!=null?N.jsx(ML,{ownerState:j,className:V.action,children:c}):null,c==null&&x?N.jsx(ML,{ownerState:j,className:V.action,children:N.jsx(M,$({size:"small","aria-label":m,title:m,color:"inherit",onClick:x},U,{children:N.jsx(G,$({fontSize:"small"},K))}))}):null]}))});function B0e(e){return $e("MuiTypography",e)}Fe("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const L0e=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],j0e=e=>{const{align:t,gutterBottom:o,noWrap:s,paragraph:c,variant:u,classes:p}=e,m={root:["root",u,e.align!=="inherit"&&`align${fe(t)}`,o&&"gutterBottom",s&&"noWrap",c&&"paragraph"]};return Ue(m,B0e,p)},z0e=ke("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.variant&&t[o.variant],o.align!=="inherit"&&t[`align${fe(o.align)}`],o.noWrap&&t.noWrap,o.gutterBottom&&t.gutterBottom,o.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>$({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),NL={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},F0e={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},$0e=e=>F0e[e]||e,tt=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiTypography"}),c=$0e(s.color),u=zv($({},s,{color:c})),{align:p="inherit",className:m,component:g,gutterBottom:v=!1,noWrap:_=!1,paragraph:C=!1,variant:y="body1",variantMapping:x=NL}=u,S=ye(u,L0e),T=$({},u,{align:p,color:c,className:m,component:g,gutterBottom:v,noWrap:_,paragraph:C,variant:y,variantMapping:x}),P=g||(C?"p":x[y]||NL[y])||"span",D=j0e(T);return N.jsx(z0e,$({as:P,ref:o,ownerState:T,className:_e(D.root,m)},S))}),tV="base";function V0e(e){return`${tV}--${e}`}function U0e(e,t){return`${tV}-${e}-${t}`}function nV(e,t){const o=N8[t];return o?V0e(o):U0e(e,t)}function H0e(e,t){const o={};return t.forEach(s=>{o[s]=nV(e,s)}),o}function RL(e){return e.substring(2).toLowerCase()}function W0e(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function q0e(e){const{children:t,disableReactTree:o=!1,mouseEvent:s="onClick",onClickAway:c,touchEvent:u="onTouchEnd"}=e,p=z.useRef(!1),m=z.useRef(null),g=z.useRef(!1),v=z.useRef(!1);z.useEffect(()=>(setTimeout(()=>{g.current=!0},0),()=>{g.current=!1}),[]);const _=un(t.ref,m),C=Fr(S=>{const T=v.current;v.current=!1;const P=Hn(m.current);if(!g.current||!m.current||"clientX"in S&&W0e(S,P))return;if(p.current){p.current=!1;return}let D;S.composedPath?D=S.composedPath().indexOf(m.current)>-1:D=!P.documentElement.contains(S.target)||m.current.contains(S.target),!D&&(o||!T)&&c(S)}),y=S=>T=>{v.current=!0;const P=t.props[S];P&&P(T)},x={ref:_};return u!==!1&&(x[u]=y(u)),z.useEffect(()=>{if(u!==!1){const S=RL(u),T=Hn(m.current),P=()=>{p.current=!0};return T.addEventListener(S,C),T.addEventListener("touchmove",P),()=>{T.removeEventListener(S,C),T.removeEventListener("touchmove",P)}}},[C,u]),s!==!1&&(x[s]=y(s)),z.useEffect(()=>{if(s!==!1){const S=RL(s),T=Hn(m.current);return T.addEventListener(S,C),()=>{T.removeEventListener(S,C)}}},[C,s]),N.jsx(z.Fragment,{children:z.cloneElement(t,x)})}const G0e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function K0e(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Y0e(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=s=>e.ownerDocument.querySelector(`input[type="radio"]${s}`);let o=t(`[name="${e.name}"]:checked`);return o||(o=t(`[name="${e.name}"]`)),o!==e}function Q0e(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Y0e(e))}function Z0e(e){const t=[],o=[];return Array.from(e.querySelectorAll(G0e)).forEach((s,c)=>{const u=K0e(s);u===-1||!Q0e(s)||(u===0?t.push(s):o.push({documentOrder:c,tabIndex:u,node:s}))}),o.sort((s,c)=>s.tabIndex===c.tabIndex?s.documentOrder-c.documentOrder:s.tabIndex-c.tabIndex).map(s=>s.node).concat(t)}function J0e(){return!0}function X0e(e){const{children:t,disableAutoFocus:o=!1,disableEnforceFocus:s=!1,disableRestoreFocus:c=!1,getTabbable:u=Z0e,isEnabled:p=J0e,open:m}=e,g=z.useRef(!1),v=z.useRef(null),_=z.useRef(null),C=z.useRef(null),y=z.useRef(null),x=z.useRef(!1),S=z.useRef(null),T=un(t.ref,S),P=z.useRef(null);z.useEffect(()=>{!m||!S.current||(x.current=!o)},[o,m]),z.useEffect(()=>{if(!m||!S.current)return;const B=Hn(S.current);return S.current.contains(B.activeElement)||(S.current.hasAttribute("tabIndex")||S.current.setAttribute("tabIndex","-1"),x.current&&S.current.focus()),()=>{c||(C.current&&C.current.focus&&(g.current=!0,C.current.focus()),C.current=null)}},[m]),z.useEffect(()=>{if(!m||!S.current)return;const B=Hn(S.current),j=M=>{P.current=M,!(s||!p()||M.key!=="Tab")&&B.activeElement===S.current&&M.shiftKey&&(g.current=!0,_.current&&_.current.focus())},V=()=>{const M=S.current;if(M===null)return;if(!B.hasFocus()||!p()||g.current){g.current=!1;return}if(M.contains(B.activeElement)||s&&B.activeElement!==v.current&&B.activeElement!==_.current)return;if(B.activeElement!==y.current)y.current=null;else if(y.current!==null)return;if(!x.current)return;let U=[];if((B.activeElement===v.current||B.activeElement===_.current)&&(U=u(S.current)),U.length>0){var G,K;const Z=!!((G=P.current)!=null&&G.shiftKey&&((K=P.current)==null?void 0:K.key)==="Tab"),se=U[0],X=U[U.length-1];typeof se!="string"&&typeof X!="string"&&(Z?X.focus():se.focus())}else M.focus()};B.addEventListener("focusin",V),B.addEventListener("keydown",j,!0);const H=setInterval(()=>{B.activeElement&&B.activeElement.tagName==="BODY"&&V()},50);return()=>{clearInterval(H),B.removeEventListener("focusin",V),B.removeEventListener("keydown",j,!0)}},[o,s,c,p,m,u]);const D=B=>{C.current===null&&(C.current=B.relatedTarget),x.current=!0,y.current=B.target;const j=t.props.onFocus;j&&j(B)},R=B=>{C.current===null&&(C.current=B.relatedTarget),x.current=!0};return N.jsxs(z.Fragment,{children:[N.jsx("div",{tabIndex:m?0:-1,onFocus:R,ref:v,"data-testid":"sentinelStart"}),z.cloneElement(t,{ref:T,onFocus:D}),N.jsx("div",{tabIndex:m?0:-1,onFocus:R,ref:_,"data-testid":"sentinelEnd"})]})}function eve(e){return typeof e=="function"?e():e}const oV=z.forwardRef(function(t,o){const{children:s,container:c,disablePortal:u=!1}=t,[p,m]=z.useState(null),g=un(z.isValidElement(s)?s.ref:null,o);if(Kr(()=>{u||m(eve(c)||document.body)},[c,u]),Kr(()=>{if(p&&!u)return Kb(o,p),()=>{Kb(o,null)}},[o,p,u]),u){if(z.isValidElement(s)){const v={ref:g};return z.cloneElement(s,v)}return N.jsx(z.Fragment,{children:s})}return N.jsx(z.Fragment,{children:p&&Ox.createPortal(s,p)})});function tve(e){const t=Hn(e);return t.body===e?Na(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function kp(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function OL(e){return parseInt(Na(e).getComputedStyle(e).paddingRight,10)||0}function nve(e){const o=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,s=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return o||s}function BL(e,t,o,s,c){const u=[t,o,...s];[].forEach.call(e.children,p=>{const m=u.indexOf(p)===-1,g=!nve(p);m&&g&&kp(p,c)})}function IC(e,t){let o=-1;return e.some((s,c)=>t(s)?(o=c,!0):!1),o}function ove(e,t){const o=[],s=e.container;if(!t.disableScrollLock){if(tve(s)){const p=j8(Hn(s));o.push({value:s.style.paddingRight,property:"padding-right",el:s}),s.style.paddingRight=`${OL(s)+p}px`;const m=Hn(s).querySelectorAll(".mui-fixed");[].forEach.call(m,g=>{o.push({value:g.style.paddingRight,property:"padding-right",el:g}),g.style.paddingRight=`${OL(g)+p}px`})}let u;if(s.parentNode instanceof DocumentFragment)u=Hn(s).body;else{const p=s.parentElement,m=Na(s);u=(p==null?void 0:p.nodeName)==="HTML"&&m.getComputedStyle(p).overflowY==="scroll"?p:s}o.push({value:u.style.overflow,property:"overflow",el:u},{value:u.style.overflowX,property:"overflow-x",el:u},{value:u.style.overflowY,property:"overflow-y",el:u}),u.style.overflow="hidden"}return()=>{o.forEach(({value:u,el:p,property:m})=>{u?p.style.setProperty(m,u):p.style.removeProperty(m)})}}function rve(e){const t=[];return[].forEach.call(e.children,o=>{o.getAttribute("aria-hidden")==="true"&&t.push(o)}),t}class ive{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,o){let s=this.modals.indexOf(t);if(s!==-1)return s;s=this.modals.length,this.modals.push(t),t.modalRef&&kp(t.modalRef,!1);const c=rve(o);BL(o,t.mount,t.modalRef,c,!0);const u=IC(this.containers,p=>p.container===o);return u!==-1?(this.containers[u].modals.push(t),s):(this.containers.push({modals:[t],container:o,restore:null,hiddenSiblings:c}),s)}mount(t,o){const s=IC(this.containers,u=>u.modals.indexOf(t)!==-1),c=this.containers[s];c.restore||(c.restore=ove(c,o))}remove(t,o=!0){const s=this.modals.indexOf(t);if(s===-1)return s;const c=IC(this.containers,p=>p.modals.indexOf(t)!==-1),u=this.containers[c];if(u.modals.splice(u.modals.indexOf(t),1),this.modals.splice(s,1),u.modals.length===0)u.restore&&u.restore(),t.modalRef&&kp(t.modalRef,o),BL(u.container,t.mount,t.modalRef,u.hiddenSiblings,!1),this.containers.splice(c,1);else{const p=u.modals[u.modals.length-1];p.modalRef&&kp(p.modalRef,!1)}return s}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function sve(e){return typeof e=="function"?e():e}function ave(e){return e?e.props.hasOwnProperty("in"):!1}const lve=new ive;function cve(e){const{container:t,disableEscapeKeyDown:o=!1,disableScrollLock:s=!1,manager:c=lve,closeAfterTransition:u=!1,onTransitionEnter:p,onTransitionExited:m,children:g,onClose:v,open:_,rootRef:C}=e,y=z.useRef({}),x=z.useRef(null),S=z.useRef(null),T=un(S,C),[P,D]=z.useState(!_),R=ave(g);let B=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(B=!1);const j=()=>Hn(x.current),V=()=>(y.current.modalRef=S.current,y.current.mount=x.current,y.current),H=()=>{c.mount(V(),{disableScrollLock:s}),S.current&&(S.current.scrollTop=0)},M=Fr(()=>{const ie=sve(t)||j().body;c.add(V(),ie),S.current&&H()}),U=z.useCallback(()=>c.isTopModal(V()),[c]),G=Fr(ie=>{x.current=ie,ie&&(_&&U()?H():S.current&&kp(S.current,B))}),K=z.useCallback(()=>{c.remove(V(),B)},[B,c]);z.useEffect(()=>()=>{K()},[K]),z.useEffect(()=>{_?M():(!R||!u)&&K()},[_,K,R,u,M]);const Z=ie=>ae=>{var q;(q=ie.onKeyDown)==null||q.call(ie,ae),!(ae.key!=="Escape"||ae.which===229||!U())&&(o||(ae.stopPropagation(),v&&v(ae,"escapeKeyDown")))},se=ie=>ae=>{var q;(q=ie.onClick)==null||q.call(ie,ae),ae.target===ae.currentTarget&&v&&v(ae,"backdropClick")};return{getRootProps:(ie={})=>{const ae=t0(e);delete ae.onTransitionEnter,delete ae.onTransitionExited;const q=$({},ae,ie);return $({role:"presentation"},q,{onKeyDown:Z(q),ref:T})},getBackdropProps:(ie={})=>{const ae=ie;return $({"aria-hidden":!0},ae,{onClick:se(ae),open:_})},getTransitionProps:()=>{const ie=()=>{D(!1),p&&p()},ae=()=>{D(!0),m&&m(),u&&K()};return{onEnter:C1(ie,g==null?void 0:g.props.onEnter),onExited:C1(ae,g==null?void 0:g.props.onExited)}},rootRef:T,portalRef:G,isTopModal:U,exited:P,hasTransition:R}}var Jo="top",Qr="bottom",Zr="right",Xo="left",D2="auto",rg=[Jo,Qr,Zr,Xo],Qd="start",pf="end",dve="clippingParents",rV="viewport",Ph="popper",uve="reference",LL=rg.reduce(function(e,t){return e.concat([t+"-"+Qd,t+"-"+pf])},[]),iV=[].concat(rg,[D2]).reduce(function(e,t){return e.concat([t,t+"-"+Qd,t+"-"+pf])},[]),hve="beforeRead",pve="read",fve="afterRead",gve="beforeMain",mve="main",kve="afterMain",bve="beforeWrite",vve="write",wve="afterWrite",yve=[hve,pve,fve,gve,mve,kve,bve,vve,wve];function Ki(e){return e?(e.nodeName||"").toLowerCase():null}function vr(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Zl(e){var t=vr(e).Element;return e instanceof t||e instanceof Element}function Ur(e){var t=vr(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function M2(e){if(typeof ShadowRoot>"u")return!1;var t=vr(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function _ve(e){var t=e.state;Object.keys(t.elements).forEach(function(o){var s=t.styles[o]||{},c=t.attributes[o]||{},u=t.elements[o];!Ur(u)||!Ki(u)||(Object.assign(u.style,s),Object.keys(c).forEach(function(p){var m=c[p];m===!1?u.removeAttribute(p):u.setAttribute(p,m===!0?"":m)}))})}function Cve(e){var t=e.state,o={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,o.popper),t.styles=o,t.elements.arrow&&Object.assign(t.elements.arrow.style,o.arrow),function(){Object.keys(t.elements).forEach(function(s){var c=t.elements[s],u=t.attributes[s]||{},p=Object.keys(t.styles.hasOwnProperty(s)?t.styles[s]:o[s]),m=p.reduce(function(g,v){return g[v]="",g},{});!Ur(c)||!Ki(c)||(Object.assign(c.style,m),Object.keys(u).forEach(function(g){c.removeAttribute(g)}))})}}const Ave={name:"applyStyles",enabled:!0,phase:"write",fn:_ve,effect:Cve,requires:["computeStyles"]};function Wi(e){return e.split("-")[0]}var Bl=Math.max,n0=Math.min,Zd=Math.round;function D1(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function sV(){return!/^((?!chrome|android).)*safari/i.test(D1())}function Jd(e,t,o){t===void 0&&(t=!1),o===void 0&&(o=!1);var s=e.getBoundingClientRect(),c=1,u=1;t&&Ur(e)&&(c=e.offsetWidth>0&&Zd(s.width)/e.offsetWidth||1,u=e.offsetHeight>0&&Zd(s.height)/e.offsetHeight||1);var p=Zl(e)?vr(e):window,m=p.visualViewport,g=!sV()&&o,v=(s.left+(g&&m?m.offsetLeft:0))/c,_=(s.top+(g&&m?m.offsetTop:0))/u,C=s.width/c,y=s.height/u;return{width:C,height:y,top:_,right:v+C,bottom:_+y,left:v,x:v,y:_}}function P2(e){var t=Jd(e),o=e.offsetWidth,s=e.offsetHeight;return Math.abs(t.width-o)<=1&&(o=t.width),Math.abs(t.height-s)<=1&&(s=t.height),{x:e.offsetLeft,y:e.offsetTop,width:o,height:s}}function aV(e,t){var o=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(o&&M2(o)){var s=t;do{if(s&&e.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Os(e){return vr(e).getComputedStyle(e)}function xve(e){return["table","td","th"].indexOf(Ki(e))>=0}function Wa(e){return((Zl(e)?e.ownerDocument:e.document)||window.document).documentElement}function Xv(e){return Ki(e)==="html"?e:e.assignedSlot||e.parentNode||(M2(e)?e.host:null)||Wa(e)}function jL(e){return!Ur(e)||Os(e).position==="fixed"?null:e.offsetParent}function Eve(e){var t=/firefox/i.test(D1()),o=/Trident/i.test(D1());if(o&&Ur(e)){var s=Os(e);if(s.position==="fixed")return null}var c=Xv(e);for(M2(c)&&(c=c.host);Ur(c)&&["html","body"].indexOf(Ki(c))<0;){var u=Os(c);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||t&&u.willChange==="filter"||t&&u.filter&&u.filter!=="none")return c;c=c.parentNode}return null}function ig(e){for(var t=vr(e),o=jL(e);o&&xve(o)&&Os(o).position==="static";)o=jL(o);return o&&(Ki(o)==="html"||Ki(o)==="body"&&Os(o).position==="static")?t:o||Eve(e)||t}function N2(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function bp(e,t,o){return Bl(e,n0(t,o))}function Sve(e,t,o){var s=bp(e,t,o);return s>o?o:s}function lV(){return{top:0,right:0,bottom:0,left:0}}function cV(e){return Object.assign({},lV(),e)}function dV(e,t){return t.reduce(function(o,s){return o[s]=e,o},{})}var Tve=function(t,o){return t=typeof t=="function"?t(Object.assign({},o.rects,{placement:o.placement})):t,cV(typeof t!="number"?t:dV(t,rg))};function Ive(e){var t,o=e.state,s=e.name,c=e.options,u=o.elements.arrow,p=o.modifiersData.popperOffsets,m=Wi(o.placement),g=N2(m),v=[Xo,Zr].indexOf(m)>=0,_=v?"height":"width";if(!(!u||!p)){var C=Tve(c.padding,o),y=P2(u),x=g==="y"?Jo:Xo,S=g==="y"?Qr:Zr,T=o.rects.reference[_]+o.rects.reference[g]-p[g]-o.rects.popper[_],P=p[g]-o.rects.reference[g],D=ig(u),R=D?g==="y"?D.clientHeight||0:D.clientWidth||0:0,B=T/2-P/2,j=C[x],V=R-y[_]-C[S],H=R/2-y[_]/2+B,M=bp(j,H,V),U=g;o.modifiersData[s]=(t={},t[U]=M,t.centerOffset=M-H,t)}}function Dve(e){var t=e.state,o=e.options,s=o.element,c=s===void 0?"[data-popper-arrow]":s;c!=null&&(typeof c=="string"&&(c=t.elements.popper.querySelector(c),!c)||aV(t.elements.popper,c)&&(t.elements.arrow=c))}const Mve={name:"arrow",enabled:!0,phase:"main",fn:Ive,effect:Dve,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xd(e){return e.split("-")[1]}var Pve={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Nve(e,t){var o=e.x,s=e.y,c=t.devicePixelRatio||1;return{x:Zd(o*c)/c||0,y:Zd(s*c)/c||0}}function zL(e){var t,o=e.popper,s=e.popperRect,c=e.placement,u=e.variation,p=e.offsets,m=e.position,g=e.gpuAcceleration,v=e.adaptive,_=e.roundOffsets,C=e.isFixed,y=p.x,x=y===void 0?0:y,S=p.y,T=S===void 0?0:S,P=typeof _=="function"?_({x,y:T}):{x,y:T};x=P.x,T=P.y;var D=p.hasOwnProperty("x"),R=p.hasOwnProperty("y"),B=Xo,j=Jo,V=window;if(v){var H=ig(o),M="clientHeight",U="clientWidth";if(H===vr(o)&&(H=Wa(o),Os(H).position!=="static"&&m==="absolute"&&(M="scrollHeight",U="scrollWidth")),H=H,c===Jo||(c===Xo||c===Zr)&&u===pf){j=Qr;var G=C&&H===V&&V.visualViewport?V.visualViewport.height:H[M];T-=G-s.height,T*=g?1:-1}if(c===Xo||(c===Jo||c===Qr)&&u===pf){B=Zr;var K=C&&H===V&&V.visualViewport?V.visualViewport.width:H[U];x-=K-s.width,x*=g?1:-1}}var Z=Object.assign({position:m},v&&Pve),se=_===!0?Nve({x,y:T},vr(o)):{x,y:T};if(x=se.x,T=se.y,g){var X;return Object.assign({},Z,(X={},X[j]=R?"0":"",X[B]=D?"0":"",X.transform=(V.devicePixelRatio||1)<=1?"translate("+x+"px, "+T+"px)":"translate3d("+x+"px, "+T+"px, 0)",X))}return Object.assign({},Z,(t={},t[j]=R?T+"px":"",t[B]=D?x+"px":"",t.transform="",t))}function Rve(e){var t=e.state,o=e.options,s=o.gpuAcceleration,c=s===void 0?!0:s,u=o.adaptive,p=u===void 0?!0:u,m=o.roundOffsets,g=m===void 0?!0:m,v={placement:Wi(t.placement),variation:Xd(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:c,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,zL(Object.assign({},v,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:p,roundOffsets:g})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,zL(Object.assign({},v,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:g})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Ove={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Rve,data:{}};var gk={passive:!0};function Bve(e){var t=e.state,o=e.instance,s=e.options,c=s.scroll,u=c===void 0?!0:c,p=s.resize,m=p===void 0?!0:p,g=vr(t.elements.popper),v=[].concat(t.scrollParents.reference,t.scrollParents.popper);return u&&v.forEach(function(_){_.addEventListener("scroll",o.update,gk)}),m&&g.addEventListener("resize",o.update,gk),function(){u&&v.forEach(function(_){_.removeEventListener("scroll",o.update,gk)}),m&&g.removeEventListener("resize",o.update,gk)}}const Lve={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Bve,data:{}};var jve={left:"right",right:"left",bottom:"top",top:"bottom"};function Gk(e){return e.replace(/left|right|bottom|top/g,function(t){return jve[t]})}var zve={start:"end",end:"start"};function FL(e){return e.replace(/start|end/g,function(t){return zve[t]})}function R2(e){var t=vr(e),o=t.pageXOffset,s=t.pageYOffset;return{scrollLeft:o,scrollTop:s}}function O2(e){return Jd(Wa(e)).left+R2(e).scrollLeft}function Fve(e,t){var o=vr(e),s=Wa(e),c=o.visualViewport,u=s.clientWidth,p=s.clientHeight,m=0,g=0;if(c){u=c.width,p=c.height;var v=sV();(v||!v&&t==="fixed")&&(m=c.offsetLeft,g=c.offsetTop)}return{width:u,height:p,x:m+O2(e),y:g}}function $ve(e){var t,o=Wa(e),s=R2(e),c=(t=e.ownerDocument)==null?void 0:t.body,u=Bl(o.scrollWidth,o.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),p=Bl(o.scrollHeight,o.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0),m=-s.scrollLeft+O2(e),g=-s.scrollTop;return Os(c||o).direction==="rtl"&&(m+=Bl(o.clientWidth,c?c.clientWidth:0)-u),{width:u,height:p,x:m,y:g}}function B2(e){var t=Os(e),o=t.overflow,s=t.overflowX,c=t.overflowY;return/auto|scroll|overlay|hidden/.test(o+c+s)}function uV(e){return["html","body","#document"].indexOf(Ki(e))>=0?e.ownerDocument.body:Ur(e)&&B2(e)?e:uV(Xv(e))}function vp(e,t){var o;t===void 0&&(t=[]);var s=uV(e),c=s===((o=e.ownerDocument)==null?void 0:o.body),u=vr(s),p=c?[u].concat(u.visualViewport||[],B2(s)?s:[]):s,m=t.concat(p);return c?m:m.concat(vp(Xv(p)))}function M1(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Vve(e,t){var o=Jd(e,!1,t==="fixed");return o.top=o.top+e.clientTop,o.left=o.left+e.clientLeft,o.bottom=o.top+e.clientHeight,o.right=o.left+e.clientWidth,o.width=e.clientWidth,o.height=e.clientHeight,o.x=o.left,o.y=o.top,o}function $L(e,t,o){return t===rV?M1(Fve(e,o)):Zl(t)?Vve(t,o):M1($ve(Wa(e)))}function Uve(e){var t=vp(Xv(e)),o=["absolute","fixed"].indexOf(Os(e).position)>=0,s=o&&Ur(e)?ig(e):e;return Zl(s)?t.filter(function(c){return Zl(c)&&aV(c,s)&&Ki(c)!=="body"}):[]}function Hve(e,t,o,s){var c=t==="clippingParents"?Uve(e):[].concat(t),u=[].concat(c,[o]),p=u[0],m=u.reduce(function(g,v){var _=$L(e,v,s);return g.top=Bl(_.top,g.top),g.right=n0(_.right,g.right),g.bottom=n0(_.bottom,g.bottom),g.left=Bl(_.left,g.left),g},$L(e,p,s));return m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m}function hV(e){var t=e.reference,o=e.element,s=e.placement,c=s?Wi(s):null,u=s?Xd(s):null,p=t.x+t.width/2-o.width/2,m=t.y+t.height/2-o.height/2,g;switch(c){case Jo:g={x:p,y:t.y-o.height};break;case Qr:g={x:p,y:t.y+t.height};break;case Zr:g={x:t.x+t.width,y:m};break;case Xo:g={x:t.x-o.width,y:m};break;default:g={x:t.x,y:t.y}}var v=c?N2(c):null;if(v!=null){var _=v==="y"?"height":"width";switch(u){case Qd:g[v]=g[v]-(t[_]/2-o[_]/2);break;case pf:g[v]=g[v]+(t[_]/2-o[_]/2);break}}return g}function ff(e,t){t===void 0&&(t={});var o=t,s=o.placement,c=s===void 0?e.placement:s,u=o.strategy,p=u===void 0?e.strategy:u,m=o.boundary,g=m===void 0?dve:m,v=o.rootBoundary,_=v===void 0?rV:v,C=o.elementContext,y=C===void 0?Ph:C,x=o.altBoundary,S=x===void 0?!1:x,T=o.padding,P=T===void 0?0:T,D=cV(typeof P!="number"?P:dV(P,rg)),R=y===Ph?uve:Ph,B=e.rects.popper,j=e.elements[S?R:y],V=Hve(Zl(j)?j:j.contextElement||Wa(e.elements.popper),g,_,p),H=Jd(e.elements.reference),M=hV({reference:H,element:B,strategy:"absolute",placement:c}),U=M1(Object.assign({},B,M)),G=y===Ph?U:H,K={top:V.top-G.top+D.top,bottom:G.bottom-V.bottom+D.bottom,left:V.left-G.left+D.left,right:G.right-V.right+D.right},Z=e.modifiersData.offset;if(y===Ph&&Z){var se=Z[c];Object.keys(K).forEach(function(X){var ee=[Zr,Qr].indexOf(X)>=0?1:-1,oe=[Jo,Qr].indexOf(X)>=0?"y":"x";K[X]+=se[oe]*ee})}return K}function Wve(e,t){t===void 0&&(t={});var o=t,s=o.placement,c=o.boundary,u=o.rootBoundary,p=o.padding,m=o.flipVariations,g=o.allowedAutoPlacements,v=g===void 0?iV:g,_=Xd(s),C=_?m?LL:LL.filter(function(S){return Xd(S)===_}):rg,y=C.filter(function(S){return v.indexOf(S)>=0});y.length===0&&(y=C);var x=y.reduce(function(S,T){return S[T]=ff(e,{placement:T,boundary:c,rootBoundary:u,padding:p})[Wi(T)],S},{});return Object.keys(x).sort(function(S,T){return x[S]-x[T]})}function qve(e){if(Wi(e)===D2)return[];var t=Gk(e);return[FL(e),t,FL(t)]}function Gve(e){var t=e.state,o=e.options,s=e.name;if(!t.modifiersData[s]._skip){for(var c=o.mainAxis,u=c===void 0?!0:c,p=o.altAxis,m=p===void 0?!0:p,g=o.fallbackPlacements,v=o.padding,_=o.boundary,C=o.rootBoundary,y=o.altBoundary,x=o.flipVariations,S=x===void 0?!0:x,T=o.allowedAutoPlacements,P=t.options.placement,D=Wi(P),R=D===P,B=g||(R||!S?[Gk(P)]:qve(P)),j=[P].concat(B).reduce(function(De,Qe){return De.concat(Wi(Qe)===D2?Wve(t,{placement:Qe,boundary:_,rootBoundary:C,padding:v,flipVariations:S,allowedAutoPlacements:T}):Qe)},[]),V=t.rects.reference,H=t.rects.popper,M=new Map,U=!0,G=j[0],K=0;K<j.length;K++){var Z=j[K],se=Wi(Z),X=Xd(Z)===Qd,ee=[Jo,Qr].indexOf(se)>=0,oe=ee?"width":"height",ie=ff(t,{placement:Z,boundary:_,rootBoundary:C,altBoundary:y,padding:v}),ae=ee?X?Zr:Xo:X?Qr:Jo;V[oe]>H[oe]&&(ae=Gk(ae));var q=Gk(ae),te=[];if(u&&te.push(ie[se]<=0),m&&te.push(ie[ae]<=0,ie[q]<=0),te.every(function(De){return De})){G=Z,U=!1;break}M.set(Z,te)}if(U)for(var de=S?3:1,Te=function(Qe){var xe=j.find(function(ut){var ct=M.get(ut);if(ct)return ct.slice(0,Qe).every(function(at){return at})});if(xe)return G=xe,"break"},Ie=de;Ie>0;Ie--){var We=Te(Ie);if(We==="break")break}t.placement!==G&&(t.modifiersData[s]._skip=!0,t.placement=G,t.reset=!0)}}const Kve={name:"flip",enabled:!0,phase:"main",fn:Gve,requiresIfExists:["offset"],data:{_skip:!1}};function VL(e,t,o){return o===void 0&&(o={x:0,y:0}),{top:e.top-t.height-o.y,right:e.right-t.width+o.x,bottom:e.bottom-t.height+o.y,left:e.left-t.width-o.x}}function UL(e){return[Jo,Zr,Qr,Xo].some(function(t){return e[t]>=0})}function Yve(e){var t=e.state,o=e.name,s=t.rects.reference,c=t.rects.popper,u=t.modifiersData.preventOverflow,p=ff(t,{elementContext:"reference"}),m=ff(t,{altBoundary:!0}),g=VL(p,s),v=VL(m,c,u),_=UL(g),C=UL(v);t.modifiersData[o]={referenceClippingOffsets:g,popperEscapeOffsets:v,isReferenceHidden:_,hasPopperEscaped:C},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":_,"data-popper-escaped":C})}const Qve={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Yve};function Zve(e,t,o){var s=Wi(e),c=[Xo,Jo].indexOf(s)>=0?-1:1,u=typeof o=="function"?o(Object.assign({},t,{placement:e})):o,p=u[0],m=u[1];return p=p||0,m=(m||0)*c,[Xo,Zr].indexOf(s)>=0?{x:m,y:p}:{x:p,y:m}}function Jve(e){var t=e.state,o=e.options,s=e.name,c=o.offset,u=c===void 0?[0,0]:c,p=iV.reduce(function(_,C){return _[C]=Zve(C,t.rects,u),_},{}),m=p[t.placement],g=m.x,v=m.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=g,t.modifiersData.popperOffsets.y+=v),t.modifiersData[s]=p}const Xve={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Jve};function ewe(e){var t=e.state,o=e.name;t.modifiersData[o]=hV({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const twe={name:"popperOffsets",enabled:!0,phase:"read",fn:ewe,data:{}};function nwe(e){return e==="x"?"y":"x"}function owe(e){var t=e.state,o=e.options,s=e.name,c=o.mainAxis,u=c===void 0?!0:c,p=o.altAxis,m=p===void 0?!1:p,g=o.boundary,v=o.rootBoundary,_=o.altBoundary,C=o.padding,y=o.tether,x=y===void 0?!0:y,S=o.tetherOffset,T=S===void 0?0:S,P=ff(t,{boundary:g,rootBoundary:v,padding:C,altBoundary:_}),D=Wi(t.placement),R=Xd(t.placement),B=!R,j=N2(D),V=nwe(j),H=t.modifiersData.popperOffsets,M=t.rects.reference,U=t.rects.popper,G=typeof T=="function"?T(Object.assign({},t.rects,{placement:t.placement})):T,K=typeof G=="number"?{mainAxis:G,altAxis:G}:Object.assign({mainAxis:0,altAxis:0},G),Z=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,se={x:0,y:0};if(H){if(u){var X,ee=j==="y"?Jo:Xo,oe=j==="y"?Qr:Zr,ie=j==="y"?"height":"width",ae=H[j],q=ae+P[ee],te=ae-P[oe],de=x?-U[ie]/2:0,Te=R===Qd?M[ie]:U[ie],Ie=R===Qd?-U[ie]:-M[ie],We=t.elements.arrow,De=x&&We?P2(We):{width:0,height:0},Qe=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:lV(),xe=Qe[ee],ut=Qe[oe],ct=bp(0,M[ie],De[ie]),at=B?M[ie]/2-de-ct-xe-K.mainAxis:Te-ct-xe-K.mainAxis,yt=B?-M[ie]/2+de+ct+ut+K.mainAxis:Ie+ct+ut+K.mainAxis,Ge=t.elements.arrow&&ig(t.elements.arrow),Ee=Ge?j==="y"?Ge.clientTop||0:Ge.clientLeft||0:0,Q=(X=Z==null?void 0:Z[j])!=null?X:0,ne=ae+at-Q-Ee,le=ae+yt-Q,Ce=bp(x?n0(q,ne):q,ae,x?Bl(te,le):te);H[j]=Ce,se[j]=Ce-ae}if(m){var Pe,Ye=j==="x"?Jo:Xo,Rt=j==="x"?Qr:Zr,ot=H[V],Oe=V==="y"?"height":"width",et=ot+P[Ye],Je=ot-P[Rt],qe=[Jo,Xo].indexOf(D)!==-1,gt=(Pe=Z==null?void 0:Z[V])!=null?Pe:0,Wt=qe?et:ot-M[Oe]-U[Oe]-gt+K.altAxis,Wn=qe?ot+M[Oe]+U[Oe]-gt-K.altAxis:Je,_t=x&&qe?Sve(Wt,ot,Wn):bp(x?Wt:et,ot,x?Wn:Je);H[V]=_t,se[V]=_t-ot}t.modifiersData[s]=se}}const rwe={name:"preventOverflow",enabled:!0,phase:"main",fn:owe,requiresIfExists:["offset"]};function iwe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function swe(e){return e===vr(e)||!Ur(e)?R2(e):iwe(e)}function awe(e){var t=e.getBoundingClientRect(),o=Zd(t.width)/e.offsetWidth||1,s=Zd(t.height)/e.offsetHeight||1;return o!==1||s!==1}function lwe(e,t,o){o===void 0&&(o=!1);var s=Ur(t),c=Ur(t)&&awe(t),u=Wa(t),p=Jd(e,c,o),m={scrollLeft:0,scrollTop:0},g={x:0,y:0};return(s||!s&&!o)&&((Ki(t)!=="body"||B2(u))&&(m=swe(t)),Ur(t)?(g=Jd(t,!0),g.x+=t.clientLeft,g.y+=t.clientTop):u&&(g.x=O2(u))),{x:p.left+m.scrollLeft-g.x,y:p.top+m.scrollTop-g.y,width:p.width,height:p.height}}function cwe(e){var t=new Map,o=new Set,s=[];e.forEach(function(u){t.set(u.name,u)});function c(u){o.add(u.name);var p=[].concat(u.requires||[],u.requiresIfExists||[]);p.forEach(function(m){if(!o.has(m)){var g=t.get(m);g&&c(g)}}),s.push(u)}return e.forEach(function(u){o.has(u.name)||c(u)}),s}function dwe(e){var t=cwe(e);return yve.reduce(function(o,s){return o.concat(t.filter(function(c){return c.phase===s}))},[])}function uwe(e){var t;return function(){return t||(t=new Promise(function(o){Promise.resolve().then(function(){t=void 0,o(e())})})),t}}function hwe(e){var t=e.reduce(function(o,s){var c=o[s.name];return o[s.name]=c?Object.assign({},c,s,{options:Object.assign({},c.options,s.options),data:Object.assign({},c.data,s.data)}):s,o},{});return Object.keys(t).map(function(o){return t[o]})}var HL={placement:"bottom",modifiers:[],strategy:"absolute"};function WL(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return!t.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function pwe(e){e===void 0&&(e={});var t=e,o=t.defaultModifiers,s=o===void 0?[]:o,c=t.defaultOptions,u=c===void 0?HL:c;return function(m,g,v){v===void 0&&(v=u);var _={placement:"bottom",orderedModifiers:[],options:Object.assign({},HL,u),modifiersData:{},elements:{reference:m,popper:g},attributes:{},styles:{}},C=[],y=!1,x={state:_,setOptions:function(D){var R=typeof D=="function"?D(_.options):D;T(),_.options=Object.assign({},u,_.options,R),_.scrollParents={reference:Zl(m)?vp(m):m.contextElement?vp(m.contextElement):[],popper:vp(g)};var B=dwe(hwe([].concat(s,_.options.modifiers)));return _.orderedModifiers=B.filter(function(j){return j.enabled}),S(),x.update()},forceUpdate:function(){if(!y){var D=_.elements,R=D.reference,B=D.popper;if(WL(R,B)){_.rects={reference:lwe(R,ig(B),_.options.strategy==="fixed"),popper:P2(B)},_.reset=!1,_.placement=_.options.placement,_.orderedModifiers.forEach(function(K){return _.modifiersData[K.name]=Object.assign({},K.data)});for(var j=0;j<_.orderedModifiers.length;j++){if(_.reset===!0){_.reset=!1,j=-1;continue}var V=_.orderedModifiers[j],H=V.fn,M=V.options,U=M===void 0?{}:M,G=V.name;typeof H=="function"&&(_=H({state:_,options:U,name:G,instance:x})||_)}}}},update:uwe(function(){return new Promise(function(P){x.forceUpdate(),P(_)})}),destroy:function(){T(),y=!0}};if(!WL(m,g))return x;x.setOptions(v).then(function(P){!y&&v.onFirstUpdate&&v.onFirstUpdate(P)});function S(){_.orderedModifiers.forEach(function(P){var D=P.name,R=P.options,B=R===void 0?{}:R,j=P.effect;if(typeof j=="function"){var V=j({state:_,name:D,instance:x,options:B}),H=function(){};C.push(V||H)}})}function T(){C.forEach(function(P){return P()}),C=[]}return x}}var fwe=[Lve,twe,Ove,Ave,Xve,Kve,rwe,Mve,Qve],gwe=pwe({defaultModifiers:fwe});const pV="Popper";function mwe(e){return nV(pV,e)}H0e(pV,["root"]);const kwe=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],bwe=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function vwe(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function P1(e){return typeof e=="function"?e():e}function wwe(e){return e.nodeType!==void 0}const ywe=()=>Ue({root:["root"]},t0e(mwe)),_we={},Cwe=z.forwardRef(function(t,o){var s;const{anchorEl:c,children:u,direction:p,disablePortal:m,modifiers:g,open:v,placement:_,popperOptions:C,popperRef:y,slotProps:x={},slots:S={},TransitionProps:T}=t,P=ye(t,kwe),D=z.useRef(null),R=un(D,o),B=z.useRef(null),j=un(B,y),V=z.useRef(j);Kr(()=>{V.current=j},[j]),z.useImperativeHandle(y,()=>B.current,[]);const H=vwe(_,p),[M,U]=z.useState(H),[G,K]=z.useState(P1(c));z.useEffect(()=>{B.current&&B.current.forceUpdate()}),z.useEffect(()=>{c&&K(P1(c))},[c]),Kr(()=>{if(!G||!v)return;const oe=q=>{U(q.placement)};let ie=[{name:"preventOverflow",options:{altBoundary:m}},{name:"flip",options:{altBoundary:m}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:q})=>{oe(q)}}];g!=null&&(ie=ie.concat(g)),C&&C.modifiers!=null&&(ie=ie.concat(C.modifiers));const ae=gwe(G,D.current,$({placement:H},C,{modifiers:ie}));return V.current(ae),()=>{ae.destroy(),V.current(null)}},[G,m,g,v,C,H]);const Z={placement:M};T!==null&&(Z.TransitionProps=T);const se=ywe(),X=(s=S.root)!=null?s:"div",ee=Ra({elementType:X,externalSlotProps:x.root,externalForwardedProps:P,additionalProps:{role:"tooltip",ref:R},ownerState:t,className:se.root});return N.jsx(X,$({},ee,{children:typeof u=="function"?u(Z):u}))}),Awe=z.forwardRef(function(t,o){const{anchorEl:s,children:c,container:u,direction:p="ltr",disablePortal:m=!1,keepMounted:g=!1,modifiers:v,open:_,placement:C="bottom",popperOptions:y=_we,popperRef:x,style:S,transition:T=!1,slotProps:P={},slots:D={}}=t,R=ye(t,bwe),[B,j]=z.useState(!0),V=()=>{j(!1)},H=()=>{j(!0)};if(!g&&!_&&(!T||B))return null;let M;if(u)M=u;else if(s){const K=P1(s);M=K&&wwe(K)?Hn(K).body:Hn(null).body}const U=!_&&g&&(!T||B)?"none":void 0,G=T?{in:_,onEnter:V,onExited:H}:void 0;return N.jsx(oV,{disablePortal:m,container:M,children:N.jsx(Cwe,$({anchorEl:s,direction:p,disablePortal:m,modifiers:v,ref:o,open:T?!B:_,placement:C,popperOptions:y,popperRef:x,slotProps:P,slots:D},R,{style:$({position:"fixed",top:0,left:0,display:U},S),TransitionProps:G,children:c}))})});function xwe(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:o=!1,onClose:s,open:c,resumeHideDuration:u}=e,p=Tl();z.useEffect(()=>{if(!c)return;function D(R){R.defaultPrevented||(R.key==="Escape"||R.key==="Esc")&&(s==null||s(R,"escapeKeyDown"))}return document.addEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[c,s]);const m=Fr((D,R)=>{s==null||s(D,R)}),g=Fr(D=>{!s||D==null||p.start(D,()=>{m(null,"timeout")})});z.useEffect(()=>(c&&g(t),p.clear),[c,t,g,p]);const v=D=>{s==null||s(D,"clickaway")},_=p.clear,C=z.useCallback(()=>{t!=null&&g(u??t*.5)},[t,u,g]),y=D=>R=>{const B=D.onBlur;B==null||B(R),C()},x=D=>R=>{const B=D.onFocus;B==null||B(R),_()},S=D=>R=>{const B=D.onMouseEnter;B==null||B(R),_()},T=D=>R=>{const B=D.onMouseLeave;B==null||B(R),C()};return z.useEffect(()=>{if(!o&&c)return window.addEventListener("focus",C),window.addEventListener("blur",_),()=>{window.removeEventListener("focus",C),window.removeEventListener("blur",_)}},[o,c,C,_]),{getRootProps:(D={})=>{const R=$({},t0(e),t0(D));return $({role:"presentation"},D,R,{onBlur:y(R),onFocus:x(R),onMouseEnter:S(R),onMouseLeave:T(R)})},onClickAway:v}}const Ewe=["onChange","maxRows","minRows","style","value"];function mk(e){return parseInt(e,10)||0}const Swe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Twe(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflowing}const L2=z.forwardRef(function(t,o){const{onChange:s,maxRows:c,minRows:u=1,style:p,value:m}=t,g=ye(t,Ewe),{current:v}=z.useRef(m!=null),_=z.useRef(null),C=un(o,_),y=z.useRef(null),x=z.useCallback(()=>{const P=_.current,R=Na(P).getComputedStyle(P);if(R.width==="0px")return{outerHeightStyle:0,overflowing:!1};const B=y.current;B.style.width=R.width,B.value=P.value||t.placeholder||"x",B.value.slice(-1)===`
`&&(B.value+=" ");const j=R.boxSizing,V=mk(R.paddingBottom)+mk(R.paddingTop),H=mk(R.borderBottomWidth)+mk(R.borderTopWidth),M=B.scrollHeight;B.value="x";const U=B.scrollHeight;let G=M;u&&(G=Math.max(Number(u)*U,G)),c&&(G=Math.min(Number(c)*U,G)),G=Math.max(G,U);const K=G+(j==="border-box"?V+H:0),Z=Math.abs(G-M)<=1;return{outerHeightStyle:K,overflowing:Z}},[c,u,t.placeholder]),S=z.useCallback(()=>{const P=x();if(Twe(P))return;const D=_.current;D.style.height=`${P.outerHeightStyle}px`,D.style.overflow=P.overflowing?"hidden":""},[x]);Kr(()=>{const P=()=>{S()};let D;const R=C2(P),B=_.current,j=Na(B);j.addEventListener("resize",R);let V;return typeof ResizeObserver<"u"&&(V=new ResizeObserver(P),V.observe(B)),()=>{R.clear(),cancelAnimationFrame(D),j.removeEventListener("resize",R),V&&V.disconnect()}},[x,S]),Kr(()=>{S()});const T=P=>{v||S(),s&&s(P)};return N.jsxs(z.Fragment,{children:[N.jsx("textarea",$({value:m,onChange:T,ref:C,rows:u,style:p},g)),N.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:y,tabIndex:-1,style:$({},Swe.shadow,p,{paddingTop:0,paddingBottom:0})})]})});var j2={};Object.defineProperty(j2,"__esModule",{value:!0});var fV=j2.default=void 0,Iwe=Mwe(z),Dwe=K8;function gV(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,o=new WeakMap;return(gV=function(s){return s?o:t})(e)}function Mwe(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var o=gV(t);if(o&&o.has(e))return o.get(e);var s={__proto__:null},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(u!=="default"&&Object.prototype.hasOwnProperty.call(e,u)){var p=c?Object.getOwnPropertyDescriptor(e,u):null;p&&(p.get||p.set)?Object.defineProperty(s,u,p):s[u]=e[u]}return s.default=e,o&&o.set(e,s),s}function Pwe(e){return Object.keys(e).length===0}function Nwe(e=null){const t=Iwe.useContext(Dwe.ThemeContext);return!t||Pwe(t)?e:t}fV=j2.default=Nwe;const Rwe=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Owe=ke(Awe,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),mV=z.forwardRef(function(t,o){var s;const c=fV(),u=He({props:t,name:"MuiPopper"}),{anchorEl:p,component:m,components:g,componentsProps:v,container:_,disablePortal:C,keepMounted:y,modifiers:x,open:S,placement:T,popperOptions:P,popperRef:D,transition:R,slots:B,slotProps:j}=u,V=ye(u,Rwe),H=(s=B==null?void 0:B.root)!=null?s:g==null?void 0:g.Root,M=$({anchorEl:p,container:_,disablePortal:C,keepMounted:y,modifiers:x,open:S,placement:T,popperOptions:P,popperRef:D,transition:R},V);return N.jsx(Owe,$({as:m,direction:c==null?void 0:c.direction,slots:{root:H},slotProps:j??v},M,{ref:o}))}),Bwe=Ha(N.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function Lwe(e){return $e("MuiChip",e)}const St=Fe("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),jwe=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],zwe=e=>{const{classes:t,disabled:o,size:s,color:c,iconColor:u,onDelete:p,clickable:m,variant:g}=e,v={root:["root",g,o&&"disabled",`size${fe(s)}`,`color${fe(c)}`,m&&"clickable",m&&`clickableColor${fe(c)}`,p&&"deletable",p&&`deletableColor${fe(c)}`,`${g}${fe(c)}`],label:["label",`label${fe(s)}`],avatar:["avatar",`avatar${fe(s)}`,`avatarColor${fe(c)}`],icon:["icon",`icon${fe(s)}`,`iconColor${fe(u)}`],deleteIcon:["deleteIcon",`deleteIcon${fe(s)}`,`deleteIconColor${fe(c)}`,`deleteIcon${fe(g)}Color${fe(c)}`]};return Ue(v,Lwe,t)},Fwe=ke("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e,{color:s,iconColor:c,clickable:u,onDelete:p,size:m,variant:g}=o;return[{[`& .${St.avatar}`]:t.avatar},{[`& .${St.avatar}`]:t[`avatar${fe(m)}`]},{[`& .${St.avatar}`]:t[`avatarColor${fe(s)}`]},{[`& .${St.icon}`]:t.icon},{[`& .${St.icon}`]:t[`icon${fe(m)}`]},{[`& .${St.icon}`]:t[`iconColor${fe(c)}`]},{[`& .${St.deleteIcon}`]:t.deleteIcon},{[`& .${St.deleteIcon}`]:t[`deleteIcon${fe(m)}`]},{[`& .${St.deleteIcon}`]:t[`deleteIconColor${fe(s)}`]},{[`& .${St.deleteIcon}`]:t[`deleteIcon${fe(g)}Color${fe(s)}`]},t.root,t[`size${fe(m)}`],t[`color${fe(s)}`],u&&t.clickable,u&&s!=="default"&&t[`clickableColor${fe(s)})`],p&&t.deletable,p&&s!=="default"&&t[`deletableColor${fe(s)}`],t[g],t[`${g}${fe(s)}`]]}})(({theme:e,ownerState:t})=>{const o=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return $({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${St.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${St.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:o,fontSize:e.typography.pxToRem(12)},[`& .${St.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${St.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${St.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${St.icon}`]:$({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&$({color:e.vars?e.vars.palette.Chip.defaultIconColor:o},t.color!=="default"&&{color:"inherit"})),[`& .${St.deleteIcon}`]:$({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:wt(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:wt(e.palette.text.primary,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:wt(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${St.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:wt(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${St.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>$({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:wt(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${St.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:wt(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${St.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>$({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${St.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${St.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${St.avatar}`]:{marginLeft:4},[`& .${St.avatarSmall}`]:{marginLeft:2},[`& .${St.icon}`]:{marginLeft:4},[`& .${St.iconSmall}`]:{marginLeft:2},[`& .${St.deleteIcon}`]:{marginRight:5},[`& .${St.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:wt(e.palette[t.color].main,.7)}`,[`&.${St.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:wt(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${St.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:wt(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${St.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:wt(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),$we=ke("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:o}=e,{size:s}=o;return[t.label,t[`label${fe(s)}`]]}})(({ownerState:e})=>$({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.variant==="outlined"&&{paddingLeft:11,paddingRight:11},e.size==="small"&&{paddingLeft:8,paddingRight:8},e.size==="small"&&e.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function qL(e){return e.key==="Backspace"||e.key==="Delete"}const pa=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiChip"}),{avatar:c,className:u,clickable:p,color:m="default",component:g,deleteIcon:v,disabled:_=!1,icon:C,label:y,onClick:x,onDelete:S,onKeyDown:T,onKeyUp:P,size:D="medium",variant:R="filled",tabIndex:B,skipFocusWhenDisabled:j=!1}=s,V=ye(s,jwe),H=z.useRef(null),M=un(H,o),U=te=>{te.stopPropagation(),S&&S(te)},G=te=>{te.currentTarget===te.target&&qL(te)&&te.preventDefault(),T&&T(te)},K=te=>{te.currentTarget===te.target&&(S&&qL(te)?S(te):te.key==="Escape"&&H.current&&H.current.blur()),P&&P(te)},Z=p!==!1&&x?!0:p,se=Z||S?Ql:g||"div",X=$({},s,{component:se,disabled:_,size:D,color:m,iconColor:z.isValidElement(C)&&C.props.color||m,onDelete:!!S,clickable:Z,variant:R}),ee=zwe(X),oe=se===Ql?$({component:g||"div",focusVisibleClassName:ee.focusVisible},S&&{disableRipple:!0}):{};let ie=null;S&&(ie=v&&z.isValidElement(v)?z.cloneElement(v,{className:_e(v.props.className,ee.deleteIcon),onClick:U}):N.jsx(Bwe,{className:_e(ee.deleteIcon),onClick:U}));let ae=null;c&&z.isValidElement(c)&&(ae=z.cloneElement(c,{className:_e(ee.avatar,c.props.className)}));let q=null;return C&&z.isValidElement(C)&&(q=z.cloneElement(C,{className:_e(ee.icon,C.props.className)})),N.jsxs(Fwe,$({as:se,className:_e(ee.root,u),disabled:Z&&_?!0:void 0,onClick:x,onKeyDown:G,onKeyUp:K,ref:M,tabIndex:j&&_?-1:B,ownerState:X},oe,V,{children:[ae||q,N.jsx($we,{className:_e(ee.label),ownerState:X,children:y}),ie]}))});function _u({props:e,states:t,muiFormControl:o}){return t.reduce((s,c)=>(s[c]=e[c],o&&typeof e[c]>"u"&&(s[c]=o[c]),s),{})}const z2=z.createContext(void 0);function Cu(){return z.useContext(z2)}function Vwe(e){return N.jsx(Lme,$({},e,{defaultTheme:S2,themeId:mv}))}function GL(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function o0(e,t=!1){return e&&(GL(e.value)&&e.value!==""||t&&GL(e.defaultValue)&&e.defaultValue!=="")}function Uwe(e){return e.startAdornment}function Hwe(e){return $e("MuiInputBase",e)}const eu=Fe("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Wwe=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],ew=(e,t)=>{const{ownerState:o}=e;return[t.root,o.formControl&&t.formControl,o.startAdornment&&t.adornedStart,o.endAdornment&&t.adornedEnd,o.error&&t.error,o.size==="small"&&t.sizeSmall,o.multiline&&t.multiline,o.color&&t[`color${fe(o.color)}`],o.fullWidth&&t.fullWidth,o.hiddenLabel&&t.hiddenLabel]},tw=(e,t)=>{const{ownerState:o}=e;return[t.input,o.size==="small"&&t.inputSizeSmall,o.multiline&&t.inputMultiline,o.type==="search"&&t.inputTypeSearch,o.startAdornment&&t.inputAdornedStart,o.endAdornment&&t.inputAdornedEnd,o.hiddenLabel&&t.inputHiddenLabel]},qwe=e=>{const{classes:t,color:o,disabled:s,error:c,endAdornment:u,focused:p,formControl:m,fullWidth:g,hiddenLabel:v,multiline:_,readOnly:C,size:y,startAdornment:x,type:S}=e,T={root:["root",`color${fe(o)}`,s&&"disabled",c&&"error",g&&"fullWidth",p&&"focused",m&&"formControl",y&&y!=="medium"&&`size${fe(y)}`,_&&"multiline",x&&"adornedStart",u&&"adornedEnd",v&&"hiddenLabel",C&&"readOnly"],input:["input",s&&"disabled",S==="search"&&"inputTypeSearch",_&&"inputMultiline",y==="small"&&"inputSizeSmall",v&&"inputHiddenLabel",x&&"inputAdornedStart",u&&"inputAdornedEnd",C&&"readOnly"]};return Ue(T,Hwe,t)},nw=ke("div",{name:"MuiInputBase",slot:"Root",overridesResolver:ew})(({theme:e,ownerState:t})=>$({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${eu.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&$({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),ow=ke("input",{name:"MuiInputBase",slot:"Input",overridesResolver:tw})(({theme:e,ownerState:t})=>{const o=e.palette.mode==="light",s=$({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:o?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),c={opacity:"0 !important"},u=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:o?.42:.5};return $({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${eu.formControl} &`]:{"&::-webkit-input-placeholder":c,"&::-moz-placeholder":c,"&:-ms-input-placeholder":c,"&::-ms-input-placeholder":c,"&:focus::-webkit-input-placeholder":u,"&:focus::-moz-placeholder":u,"&:focus:-ms-input-placeholder":u,"&:focus::-ms-input-placeholder":u},[`&.${eu.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),Gwe=N.jsx(Vwe,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Kwe=z.forwardRef(function(t,o){var s;const c=He({props:t,name:"MuiInputBase"}),{"aria-describedby":u,autoComplete:p,autoFocus:m,className:g,components:v={},componentsProps:_={},defaultValue:C,disabled:y,disableInjectingGlobalStyles:x,endAdornment:S,fullWidth:T=!1,id:P,inputComponent:D="input",inputProps:R={},inputRef:B,maxRows:j,minRows:V,multiline:H=!1,name:M,onBlur:U,onChange:G,onClick:K,onFocus:Z,onKeyDown:se,onKeyUp:X,placeholder:ee,readOnly:oe,renderSuffix:ie,rows:ae,slotProps:q={},slots:te={},startAdornment:de,type:Te="text",value:Ie}=c,We=ye(c,Wwe),De=R.value!=null?R.value:Ie,{current:Qe}=z.useRef(De!=null),xe=z.useRef(),ut=z.useCallback(_t=>{},[]),ct=un(xe,B,R.ref,ut),[at,yt]=z.useState(!1),Ge=Cu(),Ee=_u({props:c,muiFormControl:Ge,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ee.focused=Ge?Ge.focused:at,z.useEffect(()=>{!Ge&&y&&at&&(yt(!1),U&&U())},[Ge,y,at,U]);const Q=Ge&&Ge.onFilled,ne=Ge&&Ge.onEmpty,le=z.useCallback(_t=>{o0(_t)?Q&&Q():ne&&ne()},[Q,ne]);Kr(()=>{Qe&&le({value:De})},[De,le,Qe]);const Ce=_t=>{if(Ee.disabled){_t.stopPropagation();return}Z&&Z(_t),R.onFocus&&R.onFocus(_t),Ge&&Ge.onFocus?Ge.onFocus(_t):yt(!0)},Pe=_t=>{U&&U(_t),R.onBlur&&R.onBlur(_t),Ge&&Ge.onBlur?Ge.onBlur(_t):yt(!1)},Ye=(_t,...ze)=>{if(!Qe){const Zt=_t.target||xe.current;if(Zt==null)throw new Error(Yl(1));le({value:Zt.value})}R.onChange&&R.onChange(_t,...ze),G&&G(_t,...ze)};z.useEffect(()=>{le(xe.current)},[]);const Rt=_t=>{xe.current&&_t.currentTarget===_t.target&&xe.current.focus(),K&&K(_t)};let ot=D,Oe=R;H&&ot==="input"&&(ae?Oe=$({type:void 0,minRows:ae,maxRows:ae},Oe):Oe=$({type:void 0,maxRows:j,minRows:V},Oe),ot=L2);const et=_t=>{le(_t.animationName==="mui-auto-fill-cancel"?xe.current:{value:"x"})};z.useEffect(()=>{Ge&&Ge.setAdornedStart(!!de)},[Ge,de]);const Je=$({},c,{color:Ee.color||"primary",disabled:Ee.disabled,endAdornment:S,error:Ee.error,focused:Ee.focused,formControl:Ge,fullWidth:T,hiddenLabel:Ee.hiddenLabel,multiline:H,size:Ee.size,startAdornment:de,type:Te}),qe=qwe(Je),gt=te.root||v.Root||nw,Wt=q.root||_.root||{},Wn=te.input||v.Input||ow;return Oe=$({},Oe,(s=q.input)!=null?s:_.input),N.jsxs(z.Fragment,{children:[!x&&Gwe,N.jsxs(gt,$({},Wt,!Yd(gt)&&{ownerState:$({},Je,Wt.ownerState)},{ref:o,onClick:Rt},We,{className:_e(qe.root,Wt.className,g,oe&&"MuiInputBase-readOnly"),children:[de,N.jsx(z2.Provider,{value:null,children:N.jsx(Wn,$({ownerState:Je,"aria-invalid":Ee.error,"aria-describedby":u,autoComplete:p,autoFocus:m,defaultValue:C,disabled:Ee.disabled,id:P,onAnimationStart:et,name:M,placeholder:ee,readOnly:oe,required:Ee.required,rows:ae,value:De,onKeyDown:se,onKeyUp:X,type:Te},Oe,!Yd(Wn)&&{as:ot,ownerState:$({},Je,Oe.ownerState)},{ref:ct,className:_e(qe.input,Oe.className,oe&&"MuiInputBase-readOnly"),onBlur:Pe,onChange:Ye,onFocus:Ce}))}),S,ie?ie($({},Ee,{startAdornment:de})):null]}))]})}),F2=Kwe;function Ywe(e){return $e("MuiInput",e)}const Nh=$({},eu,Fe("MuiInput",["root","underline","input"]));function Qwe(e){return $e("MuiOutlinedInput",e)}const Qs=$({},eu,Fe("MuiOutlinedInput",["root","notchedOutline","input"]));function Zwe(e){return $e("MuiFilledInput",e)}const gl=$({},eu,Fe("MuiFilledInput",["root","underline","input"])),Jwe=Ha(N.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Xwe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],eye={entering:{opacity:1},entered:{opacity:1}},kV=z.forwardRef(function(t,o){const s=vu(),c={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{addEndListener:u,appear:p=!0,children:m,easing:g,in:v,onEnter:_,onEntered:C,onEntering:y,onExit:x,onExited:S,onExiting:T,style:P,timeout:D=c,TransitionComponent:R=Zi}=t,B=ye(t,Xwe),j=z.useRef(null),V=un(j,m.ref,o),H=ee=>oe=>{if(ee){const ie=j.current;oe===void 0?ee(ie):ee(ie,oe)}},M=H(y),U=H((ee,oe)=>{J8(ee);const ie=e0({style:P,timeout:D,easing:g},{mode:"enter"});ee.style.webkitTransition=s.transitions.create("opacity",ie),ee.style.transition=s.transitions.create("opacity",ie),_&&_(ee,oe)}),G=H(C),K=H(T),Z=H(ee=>{const oe=e0({style:P,timeout:D,easing:g},{mode:"exit"});ee.style.webkitTransition=s.transitions.create("opacity",oe),ee.style.transition=s.transitions.create("opacity",oe),x&&x(ee)}),se=H(S),X=ee=>{u&&u(j.current,ee)};return N.jsx(R,$({appear:p,in:v,nodeRef:j,onEnter:U,onEntered:G,onEntering:M,onExit:Z,onExited:se,onExiting:K,addEndListener:X,timeout:D},B,{children:(ee,oe)=>z.cloneElement(m,$({style:$({opacity:0,visibility:ee==="exited"&&!v?"hidden":void 0},eye[ee],P,m.props.style),ref:V},oe))}))});function tye(e){return $e("MuiBackdrop",e)}Fe("MuiBackdrop",["root","invisible"]);const nye=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],oye=e=>{const{classes:t,invisible:o}=e;return Ue({root:["root",o&&"invisible"]},tye,t)},rye=ke("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.invisible&&t.invisible]}})(({ownerState:e})=>$({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),bV=z.forwardRef(function(t,o){var s,c,u;const p=He({props:t,name:"MuiBackdrop"}),{children:m,className:g,component:v="div",components:_={},componentsProps:C={},invisible:y=!1,open:x,slotProps:S={},slots:T={},TransitionComponent:P=kV,transitionDuration:D}=p,R=ye(p,nye),B=$({},p,{component:v,invisible:y}),j=oye(B),V=(s=S.root)!=null?s:C.root;return N.jsx(P,$({in:x,timeout:D},R,{children:N.jsx(rye,$({"aria-hidden":!0},V,{as:(c=(u=T.root)!=null?u:_.Root)!=null?c:v,className:_e(j.root,g,V==null?void 0:V.className),ownerState:$({},B,V==null?void 0:V.ownerState),classes:j,ref:o,children:m}))}))}),iye=Fe("MuiBox",["root"]),sye=G8(),Ne=Ume({themeId:mv,defaultTheme:sye,defaultClassName:iye.root,generateClassName:w2.generate});function aye(e){return $e("MuiButton",e)}const kk=Fe("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),lye=z.createContext({}),cye=z.createContext(void 0),dye=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],uye=e=>{const{color:t,disableElevation:o,fullWidth:s,size:c,variant:u,classes:p}=e,m={root:["root",u,`${u}${fe(t)}`,`size${fe(c)}`,`${u}Size${fe(c)}`,`color${fe(t)}`,o&&"disableElevation",s&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${fe(c)}`],endIcon:["icon","endIcon",`iconSize${fe(c)}`]},g=Ue(m,aye,p);return $({},p,g)},vV=e=>$({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),hye=ke(Ql,{shouldForwardProp:e=>Ar(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],t[`${o.variant}${fe(o.color)}`],t[`size${fe(o.size)}`],t[`${o.variant}Size${fe(o.size)}`],o.color==="inherit"&&t.colorInherit,o.disableElevation&&t.disableElevation,o.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var o,s;const c=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],u=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return $({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":$({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:wt(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:wt(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:wt(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:u,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":$({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${kk.focusVisible}`]:$({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${kk.disabled}`]:$({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${wt(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(o=(s=e.palette).getContrastText)==null?void 0:o.call(s,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:c,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${kk.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${kk.disabled}`]:{boxShadow:"none"}}),pye=ke("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.startIcon,t[`iconSize${fe(o.size)}`]]}})(({ownerState:e})=>$({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},vV(e))),fye=ke("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.endIcon,t[`iconSize${fe(o.size)}`]]}})(({ownerState:e})=>$({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},vV(e))),Lt=z.forwardRef(function(t,o){const s=z.useContext(lye),c=z.useContext(cye),u=hf(s,t),p=He({props:u,name:"MuiButton"}),{children:m,color:g="primary",component:v="button",className:_,disabled:C=!1,disableElevation:y=!1,disableFocusRipple:x=!1,endIcon:S,focusVisibleClassName:T,fullWidth:P=!1,size:D="medium",startIcon:R,type:B,variant:j="text"}=p,V=ye(p,dye),H=$({},p,{color:g,component:v,disabled:C,disableElevation:y,disableFocusRipple:x,fullWidth:P,size:D,type:B,variant:j}),M=uye(H),U=R&&N.jsx(pye,{className:M.startIcon,ownerState:H,children:R}),G=S&&N.jsx(fye,{className:M.endIcon,ownerState:H,children:S}),K=c||"";return N.jsxs(hye,$({ownerState:H,className:_e(s.className,M.root,_,K),component:v,disabled:C,focusRipple:!x,focusVisibleClassName:_e(M.focusVisible,T),ref:o,type:B},V,{classes:M,children:[U,m,G]}))});function gye(e){return $e("MuiCard",e)}Fe("MuiCard",["root"]);const mye=["className","raised"],kye=e=>{const{classes:t}=e;return Ue({root:["root"]},gye,t)},bye=ke(Rs,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),DC=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiCard"}),{className:c,raised:u=!1}=s,p=ye(s,mye),m=$({},s,{raised:u}),g=kye(m);return N.jsx(bye,$({className:_e(g.root,c),elevation:u?8:void 0,ref:o,ownerState:m},p))});function vye(e){return $e("MuiCardActionArea",e)}const MC=Fe("MuiCardActionArea",["root","focusVisible","focusHighlight"]),wye=["children","className","focusVisibleClassName"],yye=e=>{const{classes:t}=e;return Ue({root:["root"],focusHighlight:["focusHighlight"]},vye,t)},_ye=ke(Ql,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${MC.focusHighlight}`]:{opacity:(e.vars||e).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${MC.focusVisible} .${MC.focusHighlight}`]:{opacity:(e.vars||e).palette.action.focusOpacity}})),Cye=ke("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(e,t)=>t.focusHighlight})(({theme:e})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})})),PC=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiCardActionArea"}),{children:c,className:u,focusVisibleClassName:p}=s,m=ye(s,wye),g=s,v=yye(g);return N.jsxs(_ye,$({className:_e(v.root,u),focusVisibleClassName:_e(p,v.focusVisible),ref:o,ownerState:g},m,{children:[c,N.jsx(Cye,{className:v.focusHighlight,ownerState:g})]}))});function Aye(e){return $e("MuiCardContent",e)}Fe("MuiCardContent",["root"]);const xye=["className","component"],Eye=e=>{const{classes:t}=e;return Ue({root:["root"]},Aye,t)},Sye=ke("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),NC=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiCardContent"}),{className:c,component:u="div"}=s,p=ye(s,xye),m=$({},s,{component:u}),g=Eye(m);return N.jsx(Sye,$({as:u,className:_e(g.root,c),ownerState:m,ref:o},p))});function Tye(e){return $e("MuiCircularProgress",e)}Fe("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Iye=["className","color","disableShrink","size","style","thickness","value","variant"];let rw=e=>e,KL,YL,QL,ZL;const Zs=44,Dye=mu(KL||(KL=rw`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Mye=mu(YL||(YL=rw`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Pye=e=>{const{classes:t,variant:o,color:s,disableShrink:c}=e,u={root:["root",o,`color${fe(s)}`],svg:["svg"],circle:["circle",`circle${fe(o)}`,c&&"circleDisableShrink"]};return Ue(u,Tye,t)},Nye=ke("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],t[`color${fe(o.color)}`]]}})(({ownerState:e,theme:t})=>$({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&Mv(QL||(QL=rw`
      animation: ${0} 1.4s linear infinite;
    `),Dye)),Rye=ke("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),Oye=ke("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.circle,t[`circle${fe(o.variant)}`],o.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>$({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&Mv(ZL||(ZL=rw`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Mye)),tu=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiCircularProgress"}),{className:c,color:u="primary",disableShrink:p=!1,size:m=40,style:g,thickness:v=3.6,value:_=0,variant:C="indeterminate"}=s,y=ye(s,Iye),x=$({},s,{color:u,disableShrink:p,size:m,thickness:v,value:_,variant:C}),S=Pye(x),T={},P={},D={};if(C==="determinate"){const R=2*Math.PI*((Zs-v)/2);T.strokeDasharray=R.toFixed(3),D["aria-valuenow"]=Math.round(_),T.strokeDashoffset=`${((100-_)/100*R).toFixed(3)}px`,P.transform="rotate(-90deg)"}return N.jsx(Nye,$({className:_e(S.root,c),style:$({width:m,height:m},P,g),ownerState:x,ref:o,role:"progressbar"},D,y,{children:N.jsx(Rye,{className:S.svg,ownerState:x,viewBox:`${Zs/2} ${Zs/2} ${Zs} ${Zs}`,children:N.jsx(Oye,{className:S.circle,style:T,ownerState:x,cx:Zs,cy:Zs,r:(Zs-v)/2,fill:"none",strokeWidth:v})})}))}),wV=Pke({createStyledComponent:ke("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[`maxWidth${fe(String(o.maxWidth))}`],o.fixed&&t.fixed,o.disableGutters&&t.disableGutters]}}),useThemeProps:e=>He({props:e,name:"MuiContainer"})});function Bye(e){return $e("MuiModal",e)}Fe("MuiModal",["root","hidden","backdrop"]);const Lye=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],jye=e=>{const{open:t,exited:o,classes:s}=e;return Ue({root:["root",!t&&o&&"hidden"],backdrop:["backdrop"]},Bye,s)},zye=ke("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.open&&o.exited&&t.hidden]}})(({theme:e,ownerState:t})=>$({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),Fye=ke(bV,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),yV=z.forwardRef(function(t,o){var s,c,u,p,m,g;const v=He({name:"MuiModal",props:t}),{BackdropComponent:_=Fye,BackdropProps:C,className:y,closeAfterTransition:x=!1,children:S,container:T,component:P,components:D={},componentsProps:R={},disableAutoFocus:B=!1,disableEnforceFocus:j=!1,disableEscapeKeyDown:V=!1,disablePortal:H=!1,disableRestoreFocus:M=!1,disableScrollLock:U=!1,hideBackdrop:G=!1,keepMounted:K=!1,onBackdropClick:Z,open:se,slotProps:X,slots:ee}=v,oe=ye(v,Lye),ie=$({},v,{closeAfterTransition:x,disableAutoFocus:B,disableEnforceFocus:j,disableEscapeKeyDown:V,disablePortal:H,disableRestoreFocus:M,disableScrollLock:U,hideBackdrop:G,keepMounted:K}),{getRootProps:ae,getBackdropProps:q,getTransitionProps:te,portalRef:de,isTopModal:Te,exited:Ie,hasTransition:We}=cve($({},ie,{rootRef:o})),De=$({},ie,{exited:Ie}),Qe=jye(De),xe={};if(S.props.tabIndex===void 0&&(xe.tabIndex="-1"),We){const{onEnter:Q,onExited:ne}=te();xe.onEnter=Q,xe.onExited=ne}const ut=(s=(c=ee==null?void 0:ee.root)!=null?c:D.Root)!=null?s:zye,ct=(u=(p=ee==null?void 0:ee.backdrop)!=null?p:D.Backdrop)!=null?u:_,at=(m=X==null?void 0:X.root)!=null?m:R.root,yt=(g=X==null?void 0:X.backdrop)!=null?g:R.backdrop,Ge=Ra({elementType:ut,externalSlotProps:at,externalForwardedProps:oe,getSlotProps:ae,additionalProps:{ref:o,as:P},ownerState:De,className:_e(y,at==null?void 0:at.className,Qe==null?void 0:Qe.root,!De.open&&De.exited&&(Qe==null?void 0:Qe.hidden))}),Ee=Ra({elementType:ct,externalSlotProps:yt,additionalProps:C,getSlotProps:Q=>q($({},Q,{onClick:ne=>{Z&&Z(ne),Q!=null&&Q.onClick&&Q.onClick(ne)}})),className:_e(yt==null?void 0:yt.className,C==null?void 0:C.className,Qe==null?void 0:Qe.backdrop),ownerState:De});return!K&&!se&&(!We||Ie)?null:N.jsx(oV,{ref:de,container:T,disablePortal:H,children:N.jsxs(ut,$({},Ge,{children:[!G&&_?N.jsx(ct,$({},Ee)):null,N.jsx(X0e,{disableEnforceFocus:j,disableAutoFocus:B,disableRestoreFocus:M,isEnabled:Te,open:se,children:z.cloneElement(S,xe)})]}))})});function $ye(e){return $e("MuiDialog",e)}const RC=Fe("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),_V=z.createContext({}),Vye=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Uye=ke(bV,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Hye=e=>{const{classes:t,scroll:o,maxWidth:s,fullWidth:c,fullScreen:u}=e,p={root:["root"],container:["container",`scroll${fe(o)}`],paper:["paper",`paperScroll${fe(o)}`,`paperWidth${fe(String(s))}`,c&&"paperFullWidth",u&&"paperFullScreen"]};return Ue(p,$ye,t)},Wye=ke(yV,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),qye=ke("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.container,t[`scroll${fe(o.scroll)}`]]}})(({ownerState:e})=>$({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),Gye=ke(Rs,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.paper,t[`scrollPaper${fe(o.scroll)}`],t[`paperWidth${fe(String(o.maxWidth))}`],o.fullWidth&&t.paperFullWidth,o.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>$({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${RC.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${RC.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${RC.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),iw=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiDialog"}),c=vu(),u={enter:c.transitions.duration.enteringScreen,exit:c.transitions.duration.leavingScreen},{"aria-describedby":p,"aria-labelledby":m,BackdropComponent:g,BackdropProps:v,children:_,className:C,disableEscapeKeyDown:y=!1,fullScreen:x=!1,fullWidth:S=!1,maxWidth:T="sm",onBackdropClick:P,onClick:D,onClose:R,open:B,PaperComponent:j=Rs,PaperProps:V={},scroll:H="paper",TransitionComponent:M=kV,transitionDuration:U=u,TransitionProps:G}=s,K=ye(s,Vye),Z=$({},s,{disableEscapeKeyDown:y,fullScreen:x,fullWidth:S,maxWidth:T,scroll:H}),se=Hye(Z),X=z.useRef(),ee=q=>{X.current=q.target===q.currentTarget},oe=q=>{D&&D(q),X.current&&(X.current=null,P&&P(q),R&&R(q,"backdropClick"))},ie=tg(m),ae=z.useMemo(()=>({titleId:ie}),[ie]);return N.jsx(Wye,$({className:_e(se.root,C),closeAfterTransition:!0,components:{Backdrop:Uye},componentsProps:{backdrop:$({transitionDuration:U,as:g},v)},disableEscapeKeyDown:y,onClose:R,open:B,ref:o,onClick:oe,ownerState:Z},K,{children:N.jsx(M,$({appear:!0,in:B,timeout:U,role:"presentation"},G,{children:N.jsx(qye,{className:_e(se.container),onMouseDown:ee,ownerState:Z,children:N.jsx(Gye,$({as:j,elevation:24,role:"dialog","aria-describedby":p,"aria-labelledby":ie},V,{className:_e(se.paper,V.className),ownerState:Z,children:N.jsx(_V.Provider,{value:ae,children:_})}))})}))}))});function Kye(e){return $e("MuiDialogActions",e)}Fe("MuiDialogActions",["root","spacing"]);const Yye=["className","disableSpacing"],Qye=e=>{const{classes:t,disableSpacing:o}=e;return Ue({root:["root",!o&&"spacing"]},Kye,t)},Zye=ke("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disableSpacing&&t.spacing]}})(({ownerState:e})=>$({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),sw=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiDialogActions"}),{className:c,disableSpacing:u=!1}=s,p=ye(s,Yye),m=$({},s,{disableSpacing:u}),g=Qye(m);return N.jsx(Zye,$({className:_e(g.root,c),ownerState:m,ref:o},p))});function Jye(e){return $e("MuiDialogContent",e)}Fe("MuiDialogContent",["root","dividers"]);function Xye(e){return $e("MuiDialogTitle",e)}const e_e=Fe("MuiDialogTitle",["root"]),t_e=["className","dividers"],n_e=e=>{const{classes:t,dividers:o}=e;return Ue({root:["root",o&&"dividers"]},Jye,t)},o_e=ke("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>$({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${e_e.root} + &`]:{paddingTop:0}})),aw=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiDialogContent"}),{className:c,dividers:u=!1}=s,p=ye(s,t_e),m=$({},s,{dividers:u}),g=n_e(m);return N.jsx(o_e,$({className:_e(g.root,c),ownerState:m,ref:o},p))});function r_e(e){return $e("MuiDialogContentText",e)}Fe("MuiDialogContentText",["root"]);const i_e=["children","className"],s_e=e=>{const{classes:t}=e,s=Ue({root:["root"]},r_e,t);return $({},t,s)},a_e=ke(tt,{shouldForwardProp:e=>Ar(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),lw=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiDialogContentText"}),{className:c}=s,u=ye(s,i_e),p=s_e(u);return N.jsx(a_e,$({component:"p",variant:"body1",color:"text.secondary",ref:o,ownerState:u,className:_e(p.root,c)},s,{classes:p}))}),l_e=["className","id"],c_e=e=>{const{classes:t}=e;return Ue({root:["root"]},Xye,t)},d_e=ke(tt,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),cw=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiDialogTitle"}),{className:c,id:u}=s,p=ye(s,l_e),m=s,g=c_e(m),{titleId:v=u}=z.useContext(_V);return N.jsx(d_e,$({component:"h2",className:_e(g.root,c),ownerState:m,ref:o,variant:"h6",id:u??v},p))});function u_e(e){return $e("MuiDivider",e)}const JL=Fe("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),h_e=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],p_e=e=>{const{absolute:t,children:o,classes:s,flexItem:c,light:u,orientation:p,textAlign:m,variant:g}=e;return Ue({root:["root",t&&"absolute",g,u&&"light",p==="vertical"&&"vertical",c&&"flexItem",o&&"withChildren",o&&p==="vertical"&&"withChildrenVertical",m==="right"&&p!=="vertical"&&"textAlignRight",m==="left"&&p!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",p==="vertical"&&"wrapperVertical"]},u_e,s)},f_e=ke("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.absolute&&t.absolute,t[o.variant],o.light&&t.light,o.orientation==="vertical"&&t.vertical,o.flexItem&&t.flexItem,o.children&&t.withChildren,o.children&&o.orientation==="vertical"&&t.withChildrenVertical,o.textAlign==="right"&&o.orientation!=="vertical"&&t.textAlignRight,o.textAlign==="left"&&o.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>$({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:wt(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>$({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>$({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`}}),({theme:e,ownerState:t})=>$({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`}}),({ownerState:e})=>$({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),g_e=ke("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.wrapper,o.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>$({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),CV=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiDivider"}),{absolute:c=!1,children:u,className:p,component:m=u?"div":"hr",flexItem:g=!1,light:v=!1,orientation:_="horizontal",role:C=m!=="hr"?"separator":void 0,textAlign:y="center",variant:x="fullWidth"}=s,S=ye(s,h_e),T=$({},s,{absolute:c,component:m,flexItem:g,light:v,orientation:_,role:C,textAlign:y,variant:x}),P=p_e(T);return N.jsx(f_e,$({as:m,className:_e(P.root,p),role:C,ref:o,ownerState:T},S,{children:u?N.jsx(g_e,{className:P.wrapper,ownerState:T,children:u}):null}))});CV.muiSkipListHighlight=!0;const m_e=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],k_e=e=>{const{classes:t,disableUnderline:o}=e,c=Ue({root:["root",!o&&"underline"],input:["input"]},Zwe,t);return $({},t,c)},b_e=ke(nw,{shouldForwardProp:e=>Ar(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[...ew(e,t),!o.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var o;const s=e.palette.mode==="light",c=s?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",u=s?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",p=s?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",m=s?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return $({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:u,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:p,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:u}},[`&.${gl.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:u},[`&.${gl.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:m}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(o=(e.vars||e).palette[t.color||"primary"])==null?void 0:o.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${gl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${gl.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:c}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${gl.disabled}, .${gl.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${gl.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&$({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),v_e=ke(ow,{name:"MuiFilledInput",slot:"Input",overridesResolver:tw})(({theme:e,ownerState:t})=>$({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),$2=z.forwardRef(function(t,o){var s,c,u,p;const m=He({props:t,name:"MuiFilledInput"}),{components:g={},componentsProps:v,fullWidth:_=!1,inputComponent:C="input",multiline:y=!1,slotProps:x,slots:S={},type:T="text"}=m,P=ye(m,m_e),D=$({},m,{fullWidth:_,inputComponent:C,multiline:y,type:T}),R=k_e(m),B={root:{ownerState:D},input:{ownerState:D}},j=x??v?Zo(B,x??v):B,V=(s=(c=S.root)!=null?c:g.Root)!=null?s:b_e,H=(u=(p=S.input)!=null?p:g.Input)!=null?u:v_e;return N.jsx(F2,$({slots:{root:V,input:H},componentsProps:j,fullWidth:_,inputComponent:C,multiline:y,ref:o,type:T},P,{classes:R}))});$2.muiName="Input";function w_e(e){return $e("MuiFormControl",e)}Fe("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const y_e=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],__e=e=>{const{classes:t,margin:o,fullWidth:s}=e,c={root:["root",o!=="none"&&`margin${fe(o)}`,s&&"fullWidth"]};return Ue(c,w_e,t)},C_e=ke("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>$({},t.root,t[`margin${fe(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>$({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),AV=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiFormControl"}),{children:c,className:u,color:p="primary",component:m="div",disabled:g=!1,error:v=!1,focused:_,fullWidth:C=!1,hiddenLabel:y=!1,margin:x="none",required:S=!1,size:T="medium",variant:P="outlined"}=s,D=ye(s,y_e),R=$({},s,{color:p,component:m,disabled:g,error:v,fullWidth:C,hiddenLabel:y,margin:x,required:S,size:T,variant:P}),B=__e(R),[j,V]=z.useState(()=>{let X=!1;return c&&z.Children.forEach(c,ee=>{if(!mp(ee,["Input","Select"]))return;const oe=mp(ee,["Select"])?ee.props.input:ee;oe&&Uwe(oe.props)&&(X=!0)}),X}),[H,M]=z.useState(()=>{let X=!1;return c&&z.Children.forEach(c,ee=>{mp(ee,["Input","Select"])&&(o0(ee.props,!0)||o0(ee.props.inputProps,!0))&&(X=!0)}),X}),[U,G]=z.useState(!1);g&&U&&G(!1);const K=_!==void 0&&!g?_:U;let Z;const se=z.useMemo(()=>({adornedStart:j,setAdornedStart:V,color:p,disabled:g,error:v,filled:H,focused:K,fullWidth:C,hiddenLabel:y,size:T,onBlur:()=>{G(!1)},onEmpty:()=>{M(!1)},onFilled:()=>{M(!0)},onFocus:()=>{G(!0)},registerEffect:Z,required:S,variant:P}),[j,p,g,v,H,K,C,y,Z,S,T,P]);return N.jsx(z2.Provider,{value:se,children:N.jsx(C_e,$({as:m,ownerState:R,className:_e(B.root,u),ref:o},D,{children:c}))})});function A_e(e){return $e("MuiFormHelperText",e)}const XL=Fe("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var ej;const x_e=["children","className","component","disabled","error","filled","focused","margin","required","variant"],E_e=e=>{const{classes:t,contained:o,size:s,disabled:c,error:u,filled:p,focused:m,required:g}=e,v={root:["root",c&&"disabled",u&&"error",s&&`size${fe(s)}`,o&&"contained",m&&"focused",p&&"filled",g&&"required"]};return Ue(v,A_e,t)},S_e=ke("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.size&&t[`size${fe(o.size)}`],o.contained&&t.contained,o.filled&&t.filled]}})(({theme:e,ownerState:t})=>$({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${XL.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${XL.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),T_e=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiFormHelperText"}),{children:c,className:u,component:p="p"}=s,m=ye(s,x_e),g=Cu(),v=_u({props:s,muiFormControl:g,states:["variant","size","disabled","error","filled","focused","required"]}),_=$({},s,{component:p,contained:v.variant==="filled"||v.variant==="outlined",variant:v.variant,size:v.size,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required}),C=E_e(_);return N.jsx(S_e,$({as:p,ownerState:_,className:_e(C.root,u),ref:o},m,{children:c===" "?ej||(ej=N.jsx("span",{className:"notranslate",children:""})):c}))});function I_e(e){return $e("MuiFormLabel",e)}const wp=Fe("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),D_e=["children","className","color","component","disabled","error","filled","focused","required"],M_e=e=>{const{classes:t,color:o,focused:s,disabled:c,error:u,filled:p,required:m}=e,g={root:["root",`color${fe(o)}`,c&&"disabled",u&&"error",p&&"filled",s&&"focused",m&&"required"],asterisk:["asterisk",u&&"error"]};return Ue(g,I_e,t)},P_e=ke("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>$({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>$({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${wp.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${wp.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${wp.error}`]:{color:(e.vars||e).palette.error.main}})),N_e=ke("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${wp.error}`]:{color:(e.vars||e).palette.error.main}})),R_e=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiFormLabel"}),{children:c,className:u,component:p="label"}=s,m=ye(s,D_e),g=Cu(),v=_u({props:s,muiFormControl:g,states:["color","required","focused","disabled","error","filled"]}),_=$({},s,{color:v.color||"primary",component:p,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required}),C=M_e(_);return N.jsxs(P_e,$({as:p,ownerState:_,className:_e(C.root,u),ref:o},m,{children:[c,v.required&&N.jsxs(N_e,{ownerState:_,"aria-hidden":!0,className:C.asterisk,children:["","*"]})]}))}),tj=z.createContext();function O_e(e){return $e("MuiGrid",e)}const B_e=[0,1,2,3,4,5,6,7,8,9,10],L_e=["column-reverse","column","row-reverse","row"],j_e=["nowrap","wrap-reverse","wrap"],Rh=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],gf=Fe("MuiGrid",["root","container","item","zeroMinWidth",...B_e.map(e=>`spacing-xs-${e}`),...L_e.map(e=>`direction-xs-${e}`),...j_e.map(e=>`wrap-xs-${e}`),...Rh.map(e=>`grid-xs-${e}`),...Rh.map(e=>`grid-sm-${e}`),...Rh.map(e=>`grid-md-${e}`),...Rh.map(e=>`grid-lg-${e}`),...Rh.map(e=>`grid-xl-${e}`)]),z_e=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Dd(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function F_e({theme:e,ownerState:t}){let o;return e.breakpoints.keys.reduce((s,c)=>{let u={};if(t[c]&&(o=t[c]),!o)return s;if(o===!0)u={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(o==="auto")u={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const p=Pv({values:t.columns,breakpoints:e.breakpoints.values}),m=typeof p=="object"?p[c]:p;if(m==null)return s;const g=`${Math.round(o/m*1e8)/1e6}%`;let v={};if(t.container&&t.item&&t.columnSpacing!==0){const _=e.spacing(t.columnSpacing);if(_!=="0px"){const C=`calc(${g} + ${Dd(_)})`;v={flexBasis:C,maxWidth:C}}}u=$({flexBasis:g,flexGrow:0,maxWidth:g},v)}return e.breakpoints.values[c]===0?Object.assign(s,u):s[e.breakpoints.up(c)]=u,s},{})}function $_e({theme:e,ownerState:t}){const o=Pv({values:t.direction,breakpoints:e.breakpoints.values});return Gr({theme:e},o,s=>{const c={flexDirection:s};return s.indexOf("column")===0&&(c[`& > .${gf.item}`]={maxWidth:"none"}),c})}function xV({breakpoints:e,values:t}){let o="";Object.keys(t).forEach(c=>{o===""&&t[c]!==0&&(o=c)});const s=Object.keys(e).sort((c,u)=>e[c]-e[u]);return s.slice(0,s.indexOf(o))}function V_e({theme:e,ownerState:t}){const{container:o,rowSpacing:s}=t;let c={};if(o&&s!==0){const u=Pv({values:s,breakpoints:e.breakpoints.values});let p;typeof u=="object"&&(p=xV({breakpoints:e.breakpoints.values,values:u})),c=Gr({theme:e},u,(m,g)=>{var v;const _=e.spacing(m);return _!=="0px"?{marginTop:`-${Dd(_)}`,[`& > .${gf.item}`]:{paddingTop:Dd(_)}}:(v=p)!=null&&v.includes(g)?{}:{marginTop:0,[`& > .${gf.item}`]:{paddingTop:0}}})}return c}function U_e({theme:e,ownerState:t}){const{container:o,columnSpacing:s}=t;let c={};if(o&&s!==0){const u=Pv({values:s,breakpoints:e.breakpoints.values});let p;typeof u=="object"&&(p=xV({breakpoints:e.breakpoints.values,values:u})),c=Gr({theme:e},u,(m,g)=>{var v;const _=e.spacing(m);return _!=="0px"?{width:`calc(100% + ${Dd(_)})`,marginLeft:`-${Dd(_)}`,[`& > .${gf.item}`]:{paddingLeft:Dd(_)}}:(v=p)!=null&&v.includes(g)?{}:{width:"100%",marginLeft:0,[`& > .${gf.item}`]:{paddingLeft:0}}})}return c}function H_e(e,t,o={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[o[`spacing-xs-${String(e)}`]];const s=[];return t.forEach(c=>{const u=e[c];Number(u)>0&&s.push(o[`spacing-${c}-${String(u)}`])}),s}const W_e=ke("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e,{container:s,direction:c,item:u,spacing:p,wrap:m,zeroMinWidth:g,breakpoints:v}=o;let _=[];s&&(_=H_e(p,v,t));const C=[];return v.forEach(y=>{const x=o[y];x&&C.push(t[`grid-${y}-${String(x)}`])}),[t.root,s&&t.container,u&&t.item,g&&t.zeroMinWidth,..._,c!=="row"&&t[`direction-xs-${String(c)}`],m!=="wrap"&&t[`wrap-xs-${String(m)}`],...C]}})(({ownerState:e})=>$({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),$_e,V_e,U_e,F_e);function q_e(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const o=[];return t.forEach(s=>{const c=e[s];if(Number(c)>0){const u=`spacing-${s}-${String(c)}`;o.push(u)}}),o}const G_e=e=>{const{classes:t,container:o,direction:s,item:c,spacing:u,wrap:p,zeroMinWidth:m,breakpoints:g}=e;let v=[];o&&(v=q_e(u,g));const _=[];g.forEach(y=>{const x=e[y];x&&_.push(`grid-${y}-${String(x)}`)});const C={root:["root",o&&"container",c&&"item",m&&"zeroMinWidth",...v,s!=="row"&&`direction-xs-${String(s)}`,p!=="wrap"&&`wrap-xs-${String(p)}`,..._]};return Ue(C,O_e,t)},us=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiGrid"}),{breakpoints:c}=vu(),u=zv(s),{className:p,columns:m,columnSpacing:g,component:v="div",container:_=!1,direction:C="row",item:y=!1,rowSpacing:x,spacing:S=0,wrap:T="wrap",zeroMinWidth:P=!1}=u,D=ye(u,z_e),R=x||S,B=g||S,j=z.useContext(tj),V=_?m||12:j,H={},M=$({},D);c.keys.forEach(K=>{D[K]!=null&&(H[K]=D[K],delete M[K])});const U=$({},u,{columns:V,container:_,direction:C,item:y,rowSpacing:R,columnSpacing:B,wrap:T,zeroMinWidth:P,spacing:S},H,{breakpoints:c.keys}),G=G_e(U);return N.jsx(tj.Provider,{value:V,children:N.jsx(W_e,$({ownerState:U,className:_e(G.root,p),as:v,ref:o},M))})}),K_e=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function N1(e){return`scale(${e}, ${e**2})`}const Y_e={entering:{opacity:1,transform:N1(1)},entered:{opacity:1,transform:"none"}},OC=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),mf=z.forwardRef(function(t,o){const{addEndListener:s,appear:c=!0,children:u,easing:p,in:m,onEnter:g,onEntered:v,onEntering:_,onExit:C,onExited:y,onExiting:x,style:S,timeout:T="auto",TransitionComponent:P=Zi}=t,D=ye(t,K_e),R=Tl(),B=z.useRef(),j=vu(),V=z.useRef(null),H=un(V,u.ref,o),M=oe=>ie=>{if(oe){const ae=V.current;ie===void 0?oe(ae):oe(ae,ie)}},U=M(_),G=M((oe,ie)=>{J8(oe);const{duration:ae,delay:q,easing:te}=e0({style:S,timeout:T,easing:p},{mode:"enter"});let de;T==="auto"?(de=j.transitions.getAutoHeightDuration(oe.clientHeight),B.current=de):de=ae,oe.style.transition=[j.transitions.create("opacity",{duration:de,delay:q}),j.transitions.create("transform",{duration:OC?de:de*.666,delay:q,easing:te})].join(","),g&&g(oe,ie)}),K=M(v),Z=M(x),se=M(oe=>{const{duration:ie,delay:ae,easing:q}=e0({style:S,timeout:T,easing:p},{mode:"exit"});let te;T==="auto"?(te=j.transitions.getAutoHeightDuration(oe.clientHeight),B.current=te):te=ie,oe.style.transition=[j.transitions.create("opacity",{duration:te,delay:ae}),j.transitions.create("transform",{duration:OC?te:te*.666,delay:OC?ae:ae||te*.333,easing:q})].join(","),oe.style.opacity=0,oe.style.transform=N1(.75),C&&C(oe)}),X=M(y),ee=oe=>{T==="auto"&&R.start(B.current||0,oe),s&&s(V.current,oe)};return N.jsx(P,$({appear:c,in:m,nodeRef:V,onEnter:G,onEntered:K,onEntering:U,onExit:se,onExited:X,onExiting:Z,addEndListener:ee,timeout:T==="auto"?null:T},D,{children:(oe,ie)=>z.cloneElement(u,$({style:$({opacity:0,transform:N1(.75),visibility:oe==="exited"&&!m?"hidden":void 0},Y_e[oe],S,u.props.style),ref:H},ie))}))});mf.muiSupportAuto=!0;const Q_e=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Z_e=e=>{const{classes:t,disableUnderline:o}=e,c=Ue({root:["root",!o&&"underline"],input:["input"]},Ywe,t);return $({},t,c)},J_e=ke(nw,{shouldForwardProp:e=>Ar(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[...ew(e,t),!o.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let s=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(s=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),$({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Nh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Nh.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Nh.disabled}, .${Nh.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${s}`}},[`&.${Nh.disabled}:before`]:{borderBottomStyle:"dotted"}})}),X_e=ke(ow,{name:"MuiInput",slot:"Input",overridesResolver:tw})({}),V2=z.forwardRef(function(t,o){var s,c,u,p;const m=He({props:t,name:"MuiInput"}),{disableUnderline:g,components:v={},componentsProps:_,fullWidth:C=!1,inputComponent:y="input",multiline:x=!1,slotProps:S,slots:T={},type:P="text"}=m,D=ye(m,Q_e),R=Z_e(m),j={root:{ownerState:{disableUnderline:g}}},V=S??_?Zo(S??_,j):j,H=(s=(c=T.root)!=null?c:v.Root)!=null?s:J_e,M=(u=(p=T.input)!=null?p:v.Input)!=null?u:X_e;return N.jsx(F2,$({slots:{root:H,input:M},slotProps:V,fullWidth:C,inputComponent:y,multiline:x,ref:o,type:P},D,{classes:R}))});V2.muiName="Input";function eCe(e){return $e("MuiInputLabel",e)}Fe("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const tCe=["disableAnimation","margin","shrink","variant","className"],nCe=e=>{const{classes:t,formControl:o,size:s,shrink:c,disableAnimation:u,variant:p,required:m}=e,g={root:["root",o&&"formControl",!u&&"animated",c&&"shrink",s&&s!=="normal"&&`size${fe(s)}`,p],asterisk:[m&&"asterisk"]},v=Ue(g,eCe,t);return $({},t,v)},oCe=ke(R_e,{shouldForwardProp:e=>Ar(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${wp.asterisk}`]:t.asterisk},t.root,o.formControl&&t.formControl,o.size==="small"&&t.sizeSmall,o.shrink&&t.shrink,!o.disableAnimation&&t.animated,o.focused&&t.focused,t[o.variant]]}})(({theme:e,ownerState:t})=>$({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&$({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&$({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&$({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),EV=z.forwardRef(function(t,o){const s=He({name:"MuiInputLabel",props:t}),{disableAnimation:c=!1,shrink:u,className:p}=s,m=ye(s,tCe),g=Cu();let v=u;typeof v>"u"&&g&&(v=g.filled||g.focused||g.adornedStart);const _=_u({props:s,muiFormControl:g,states:["size","variant","required","focused"]}),C=$({},s,{disableAnimation:c,formControl:g,shrink:v,size:_.size,variant:_.variant,required:_.required,focused:_.focused}),y=nCe(C);return N.jsx(oCe,$({"data-shrink":v,ownerState:C,ref:o,className:_e(y.root,p)},m,{classes:y}))});function rCe(e){return $e("MuiLink",e)}const iCe=Fe("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),SV={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},sCe=e=>SV[e]||e,aCe=({theme:e,ownerState:t})=>{const o=sCe(t.color),s=Kd(e,`palette.${o}`,!1)||t.color,c=Kd(e,`palette.${o}Channel`);return"vars"in e&&c?`rgba(${c} / 0.4)`:wt(s,.4)},lCe=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],cCe=e=>{const{classes:t,component:o,focusVisible:s,underline:c}=e,u={root:["root",`underline${fe(c)}`,o==="button"&&"button",s&&"focusVisible"]};return Ue(u,rCe,t)},dCe=ke(tt,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[`underline${fe(o.underline)}`],o.component==="button"&&t.button]}})(({theme:e,ownerState:t})=>$({},t.underline==="none"&&{textDecoration:"none"},t.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},t.underline==="always"&&$({textDecoration:"underline"},t.color!=="inherit"&&{textDecorationColor:aCe({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),t.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${iCe.focusVisible}`]:{outline:"auto"}})),TV=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiLink"}),{className:c,color:u="primary",component:p="a",onBlur:m,onFocus:g,TypographyClasses:v,underline:_="always",variant:C="inherit",sx:y}=s,x=ye(s,lCe),{isFocusVisibleRef:S,onBlur:T,onFocus:P,ref:D}=Zv(),[R,B]=z.useState(!1),j=un(o,D),V=G=>{T(G),S.current===!1&&B(!1),m&&m(G)},H=G=>{P(G),S.current===!0&&B(!0),g&&g(G)},M=$({},s,{color:u,component:p,focusVisible:R,underline:_,variant:C}),U=cCe(M);return N.jsx(dCe,$({color:u,className:_e(U.root,c),classes:v,component:p,onBlur:V,onFocus:H,ref:j,ownerState:M,variant:C,sx:[...Object.keys(SV).includes(u)?[]:[{color:u}],...Array.isArray(y)?y:[y]]},x))}),Ea=z.createContext({});function uCe(e){return $e("MuiList",e)}Fe("MuiList",["root","padding","dense","subheader"]);const hCe=["children","className","component","dense","disablePadding","subheader"],pCe=e=>{const{classes:t,disablePadding:o,dense:s,subheader:c}=e;return Ue({root:["root",!o&&"padding",s&&"dense",c&&"subheader"]},uCe,t)},fCe=ke("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disablePadding&&t.padding,o.dense&&t.dense,o.subheader&&t.subheader]}})(({ownerState:e})=>$({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),Kk=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiList"}),{children:c,className:u,component:p="ul",dense:m=!1,disablePadding:g=!1,subheader:v}=s,_=ye(s,hCe),C=z.useMemo(()=>({dense:m}),[m]),y=$({},s,{component:p,dense:m,disablePadding:g}),x=pCe(y);return N.jsx(Ea.Provider,{value:C,children:N.jsxs(fCe,$({as:p,className:_e(x.root,u),ref:o,ownerState:y},_,{children:[v,c]}))})});function gCe(e){return $e("MuiListItem",e)}const ed=Fe("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),mCe=Fe("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function kCe(e){return $e("MuiListItemSecondaryAction",e)}Fe("MuiListItemSecondaryAction",["root","disableGutters"]);const bCe=["className"],vCe=e=>{const{disableGutters:t,classes:o}=e;return Ue({root:["root",t&&"disableGutters"]},kCe,o)},wCe=ke("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.disableGutters&&t.disableGutters]}})(({ownerState:e})=>$({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),IV=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiListItemSecondaryAction"}),{className:c}=s,u=ye(s,bCe),p=z.useContext(Ea),m=$({},s,{disableGutters:p.disableGutters}),g=vCe(m);return N.jsx(wCe,$({className:_e(g.root,c),ownerState:m,ref:o},u))});IV.muiName="ListItemSecondaryAction";const yCe=["className"],_Ce=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],CCe=(e,t)=>{const{ownerState:o}=e;return[t.root,o.dense&&t.dense,o.alignItems==="flex-start"&&t.alignItemsFlexStart,o.divider&&t.divider,!o.disableGutters&&t.gutters,!o.disablePadding&&t.padding,o.button&&t.button,o.hasSecondaryAction&&t.secondaryAction]},ACe=e=>{const{alignItems:t,button:o,classes:s,dense:c,disabled:u,disableGutters:p,disablePadding:m,divider:g,hasSecondaryAction:v,selected:_}=e;return Ue({root:["root",c&&"dense",!p&&"gutters",!m&&"padding",g&&"divider",u&&"disabled",o&&"button",t==="flex-start"&&"alignItemsFlexStart",v&&"secondaryAction",_&&"selected"],container:["container"]},gCe,s)},xCe=ke("div",{name:"MuiListItem",slot:"Root",overridesResolver:CCe})(({theme:e,ownerState:t})=>$({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&$({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${mCe.root}`]:{paddingRight:48}},{[`&.${ed.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${ed.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:wt(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${ed.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:wt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${ed.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ed.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:wt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:wt(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),ECe=ke("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),Oh=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiListItem"}),{alignItems:c="center",autoFocus:u=!1,button:p=!1,children:m,className:g,component:v,components:_={},componentsProps:C={},ContainerComponent:y="li",ContainerProps:{className:x}={},dense:S=!1,disabled:T=!1,disableGutters:P=!1,disablePadding:D=!1,divider:R=!1,focusVisibleClassName:B,secondaryAction:j,selected:V=!1,slotProps:H={},slots:M={}}=s,U=ye(s.ContainerProps,yCe),G=ye(s,_Ce),K=z.useContext(Ea),Z=z.useMemo(()=>({dense:S||K.dense||!1,alignItems:c,disableGutters:P}),[c,K.dense,S,P]),se=z.useRef(null);Kr(()=>{u&&se.current&&se.current.focus()},[u]);const X=z.Children.toArray(m),ee=X.length&&mp(X[X.length-1],["ListItemSecondaryAction"]),oe=$({},s,{alignItems:c,autoFocus:u,button:p,dense:Z.dense,disabled:T,disableGutters:P,disablePadding:D,divider:R,hasSecondaryAction:ee,selected:V}),ie=ACe(oe),ae=un(se,o),q=M.root||_.Root||xCe,te=H.root||C.root||{},de=$({className:_e(ie.root,te.className,g),disabled:T},G);let Te=v||"li";return p&&(de.component=v||"div",de.focusVisibleClassName=_e(ed.focusVisible,B),Te=Ql),ee?(Te=!de.component&&!v?"div":Te,y==="li"&&(Te==="li"?Te="div":de.component==="li"&&(de.component="div")),N.jsx(Ea.Provider,{value:Z,children:N.jsxs(ECe,$({as:y,className:_e(ie.container,x),ref:ae,ownerState:oe},U,{children:[N.jsx(q,$({},te,!Yd(q)&&{as:Te,ownerState:$({},oe,te.ownerState)},de,{children:X})),X.pop()]}))})):N.jsx(Ea.Provider,{value:Z,children:N.jsxs(q,$({},te,{as:Te,ref:ae},!Yd(q)&&{ownerState:$({},oe,te.ownerState)},de,{children:[X,j&&N.jsx(IV,{children:j})]}))})});function nIe(e){return $e("MuiListItemIcon",e)}const nj=Fe("MuiListItemIcon",["root","alignItemsFlexStart"]);function SCe(e){return $e("MuiListItemText",e)}const r0=Fe("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),TCe=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],ICe=e=>{const{classes:t,inset:o,primary:s,secondary:c,dense:u}=e;return Ue({root:["root",o&&"inset",u&&"dense",s&&c&&"multiline"],primary:["primary"],secondary:["secondary"]},SCe,t)},DCe=ke("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${r0.primary}`]:t.primary},{[`& .${r0.secondary}`]:t.secondary},t.root,o.inset&&t.inset,o.primary&&o.secondary&&t.multiline,o.dense&&t.dense]}})(({ownerState:e})=>$({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),Bh=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiListItemText"}),{children:c,className:u,disableTypography:p=!1,inset:m=!1,primary:g,primaryTypographyProps:v,secondary:_,secondaryTypographyProps:C}=s,y=ye(s,TCe),{dense:x}=z.useContext(Ea);let S=g??c,T=_;const P=$({},s,{disableTypography:p,inset:m,primary:!!S,secondary:!!T,dense:x}),D=ICe(P);return S!=null&&S.type!==tt&&!p&&(S=N.jsx(tt,$({variant:x?"body2":"body1",className:D.primary,component:v!=null&&v.variant?void 0:"span",display:"block"},v,{children:S}))),T!=null&&T.type!==tt&&!p&&(T=N.jsx(tt,$({variant:"body2",className:D.secondary,color:"text.secondary",display:"block"},C,{children:T}))),N.jsxs(DCe,$({className:_e(D.root,u),ownerState:P,ref:o},y,{children:[S,T]}))}),MCe=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function BC(e,t,o){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:o?null:e.firstChild}function oj(e,t,o){return e===t?o?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:o?null:e.lastChild}function DV(e,t){if(t===void 0)return!0;let o=e.innerText;return o===void 0&&(o=e.textContent),o=o.trim().toLowerCase(),o.length===0?!1:t.repeating?o[0]===t.keys[0]:o.indexOf(t.keys.join(""))===0}function Lh(e,t,o,s,c,u){let p=!1,m=c(e,t,t?o:!1);for(;m;){if(m===e.firstChild){if(p)return!1;p=!0}const g=s?!1:m.disabled||m.getAttribute("aria-disabled")==="true";if(!m.hasAttribute("tabindex")||!DV(m,u)||g)m=c(e,m,o);else return m.focus(),!0}return!1}const PCe=z.forwardRef(function(t,o){const{actions:s,autoFocus:c=!1,autoFocusItem:u=!1,children:p,className:m,disabledItemsFocusable:g=!1,disableListWrap:v=!1,onKeyDown:_,variant:C="selectedMenu"}=t,y=ye(t,MCe),x=z.useRef(null),S=z.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Kr(()=>{c&&x.current.focus()},[c]),z.useImperativeHandle(s,()=>({adjustStyleForScrollbar:(B,{direction:j})=>{const V=!x.current.style.width;if(B.clientHeight<x.current.clientHeight&&V){const H=`${j8(Hn(B))}px`;x.current.style[j==="rtl"?"paddingLeft":"paddingRight"]=H,x.current.style.width=`calc(100% + ${H})`}return x.current}}),[]);const T=B=>{const j=x.current,V=B.key,H=Hn(j).activeElement;if(V==="ArrowDown")B.preventDefault(),Lh(j,H,v,g,BC);else if(V==="ArrowUp")B.preventDefault(),Lh(j,H,v,g,oj);else if(V==="Home")B.preventDefault(),Lh(j,null,v,g,BC);else if(V==="End")B.preventDefault(),Lh(j,null,v,g,oj);else if(V.length===1){const M=S.current,U=V.toLowerCase(),G=performance.now();M.keys.length>0&&(G-M.lastTime>500?(M.keys=[],M.repeating=!0,M.previousKeyMatched=!0):M.repeating&&U!==M.keys[0]&&(M.repeating=!1)),M.lastTime=G,M.keys.push(U);const K=H&&!M.repeating&&DV(H,M);M.previousKeyMatched&&(K||Lh(j,H,!1,g,BC,M))?B.preventDefault():M.previousKeyMatched=!1}_&&_(B)},P=un(x,o);let D=-1;z.Children.forEach(p,(B,j)=>{if(!z.isValidElement(B)){D===j&&(D+=1,D>=p.length&&(D=-1));return}B.props.disabled||(C==="selectedMenu"&&B.props.selected||D===-1)&&(D=j),D===j&&(B.props.disabled||B.props.muiSkipListHighlight||B.type.muiSkipListHighlight)&&(D+=1,D>=p.length&&(D=-1))});const R=z.Children.map(p,(B,j)=>{if(j===D){const V={};return u&&(V.autoFocus=!0),B.props.tabIndex===void 0&&C==="selectedMenu"&&(V.tabIndex=0),z.cloneElement(B,V)}return B});return N.jsx(Kk,$({role:"menu",ref:P,className:m,onKeyDown:T,tabIndex:c?0:-1},y,{children:R}))});function NCe(e){return $e("MuiPopover",e)}Fe("MuiPopover",["root","paper"]);const RCe=["onEntering"],OCe=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],BCe=["slotProps"];function rj(e,t){let o=0;return typeof t=="number"?o=t:t==="center"?o=e.height/2:t==="bottom"&&(o=e.height),o}function ij(e,t){let o=0;return typeof t=="number"?o=t:t==="center"?o=e.width/2:t==="right"&&(o=e.width),o}function sj(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function LC(e){return typeof e=="function"?e():e}const LCe=e=>{const{classes:t}=e;return Ue({root:["root"],paper:["paper"]},NCe,t)},jCe=ke(yV,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),MV=ke(Rs,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),zCe=z.forwardRef(function(t,o){var s,c,u;const p=He({props:t,name:"MuiPopover"}),{action:m,anchorEl:g,anchorOrigin:v={vertical:"top",horizontal:"left"},anchorPosition:_,anchorReference:C="anchorEl",children:y,className:x,container:S,elevation:T=8,marginThreshold:P=16,open:D,PaperProps:R={},slots:B,slotProps:j,transformOrigin:V={vertical:"top",horizontal:"left"},TransitionComponent:H=mf,transitionDuration:M="auto",TransitionProps:{onEntering:U}={},disableScrollLock:G=!1}=p,K=ye(p.TransitionProps,RCe),Z=ye(p,OCe),se=(s=j==null?void 0:j.paper)!=null?s:R,X=z.useRef(),ee=un(X,se.ref),oe=$({},p,{anchorOrigin:v,anchorReference:C,elevation:T,marginThreshold:P,externalPaperSlotProps:se,transformOrigin:V,TransitionComponent:H,transitionDuration:M,TransitionProps:K}),ie=LCe(oe),ae=z.useCallback(()=>{if(C==="anchorPosition")return _;const Q=LC(g),le=(Q&&Q.nodeType===1?Q:Hn(X.current).body).getBoundingClientRect();return{top:le.top+rj(le,v.vertical),left:le.left+ij(le,v.horizontal)}},[g,v.horizontal,v.vertical,_,C]),q=z.useCallback(Q=>({vertical:rj(Q,V.vertical),horizontal:ij(Q,V.horizontal)}),[V.horizontal,V.vertical]),te=z.useCallback(Q=>{const ne={width:Q.offsetWidth,height:Q.offsetHeight},le=q(ne);if(C==="none")return{top:null,left:null,transformOrigin:sj(le)};const Ce=ae();let Pe=Ce.top-le.vertical,Ye=Ce.left-le.horizontal;const Rt=Pe+ne.height,ot=Ye+ne.width,Oe=Na(LC(g)),et=Oe.innerHeight-P,Je=Oe.innerWidth-P;if(P!==null&&Pe<P){const qe=Pe-P;Pe-=qe,le.vertical+=qe}else if(P!==null&&Rt>et){const qe=Rt-et;Pe-=qe,le.vertical+=qe}if(P!==null&&Ye<P){const qe=Ye-P;Ye-=qe,le.horizontal+=qe}else if(ot>Je){const qe=ot-Je;Ye-=qe,le.horizontal+=qe}return{top:`${Math.round(Pe)}px`,left:`${Math.round(Ye)}px`,transformOrigin:sj(le)}},[g,C,ae,q,P]),[de,Te]=z.useState(D),Ie=z.useCallback(()=>{const Q=X.current;if(!Q)return;const ne=te(Q);ne.top!==null&&(Q.style.top=ne.top),ne.left!==null&&(Q.style.left=ne.left),Q.style.transformOrigin=ne.transformOrigin,Te(!0)},[te]);z.useEffect(()=>(G&&window.addEventListener("scroll",Ie),()=>window.removeEventListener("scroll",Ie)),[g,G,Ie]);const We=(Q,ne)=>{U&&U(Q,ne),Ie()},De=()=>{Te(!1)};z.useEffect(()=>{D&&Ie()}),z.useImperativeHandle(m,()=>D?{updatePosition:()=>{Ie()}}:null,[D,Ie]),z.useEffect(()=>{if(!D)return;const Q=C2(()=>{Ie()}),ne=Na(g);return ne.addEventListener("resize",Q),()=>{Q.clear(),ne.removeEventListener("resize",Q)}},[g,D,Ie]);let Qe=M;M==="auto"&&!H.muiSupportAuto&&(Qe=void 0);const xe=S||(g?Hn(LC(g)).body:void 0),ut=(c=B==null?void 0:B.root)!=null?c:jCe,ct=(u=B==null?void 0:B.paper)!=null?u:MV,at=Ra({elementType:ct,externalSlotProps:$({},se,{style:de?se.style:$({},se.style,{opacity:0})}),additionalProps:{elevation:T,ref:ee},ownerState:oe,className:_e(ie.paper,se==null?void 0:se.className)}),yt=Ra({elementType:ut,externalSlotProps:(j==null?void 0:j.root)||{},externalForwardedProps:Z,additionalProps:{ref:o,slotProps:{backdrop:{invisible:!0}},container:xe,open:D},ownerState:oe,className:_e(ie.root,x)}),{slotProps:Ge}=yt,Ee=ye(yt,BCe);return N.jsx(ut,$({},Ee,!Yd(ut)&&{slotProps:Ge,disableScrollLock:G},{children:N.jsx(H,$({appear:!0,in:D,onEntering:We,onExited:De,timeout:Qe},K,{children:N.jsx(ct,$({},at,{children:y}))}))}))});function FCe(e){return $e("MuiMenu",e)}Fe("MuiMenu",["root","paper","list"]);const $Ce=["onEntering"],VCe=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],UCe={vertical:"top",horizontal:"right"},HCe={vertical:"top",horizontal:"left"},WCe=e=>{const{classes:t}=e;return Ue({root:["root"],paper:["paper"],list:["list"]},FCe,t)},qCe=ke(zCe,{shouldForwardProp:e=>Ar(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),GCe=ke(MV,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),KCe=ke(PCe,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),YCe=z.forwardRef(function(t,o){var s,c;const u=He({props:t,name:"MuiMenu"}),{autoFocus:p=!0,children:m,className:g,disableAutoFocusItem:v=!1,MenuListProps:_={},onClose:C,open:y,PaperProps:x={},PopoverClasses:S,transitionDuration:T="auto",TransitionProps:{onEntering:P}={},variant:D="selectedMenu",slots:R={},slotProps:B={}}=u,j=ye(u.TransitionProps,$Ce),V=ye(u,VCe),H=z8(),M=$({},u,{autoFocus:p,disableAutoFocusItem:v,MenuListProps:_,onEntering:P,PaperProps:x,transitionDuration:T,TransitionProps:j,variant:D}),U=WCe(M),G=p&&!v&&y,K=z.useRef(null),Z=(q,te)=>{K.current&&K.current.adjustStyleForScrollbar(q,{direction:H?"rtl":"ltr"}),P&&P(q,te)},se=q=>{q.key==="Tab"&&(q.preventDefault(),C&&C(q,"tabKeyDown"))};let X=-1;z.Children.map(m,(q,te)=>{z.isValidElement(q)&&(q.props.disabled||(D==="selectedMenu"&&q.props.selected||X===-1)&&(X=te))});const ee=(s=R.paper)!=null?s:GCe,oe=(c=B.paper)!=null?c:x,ie=Ra({elementType:R.root,externalSlotProps:B.root,ownerState:M,className:[U.root,g]}),ae=Ra({elementType:ee,externalSlotProps:oe,ownerState:M,className:U.paper});return N.jsx(qCe,$({onClose:C,anchorOrigin:{vertical:"bottom",horizontal:H?"right":"left"},transformOrigin:H?UCe:HCe,slots:{paper:ee,root:R.root},slotProps:{root:ie,paper:ae},open:y,ref:o,transitionDuration:T,TransitionProps:$({onEntering:Z},j),ownerState:M},V,{classes:S,children:N.jsx(KCe,$({onKeyDown:se,actions:K,autoFocus:p&&(X===-1||v),autoFocusItem:G,variant:D},_,{className:_e(U.list,_.className),children:m}))}))});function QCe(e){return $e("MuiMenuItem",e)}const jh=Fe("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),ZCe=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],JCe=(e,t)=>{const{ownerState:o}=e;return[t.root,o.dense&&t.dense,o.divider&&t.divider,!o.disableGutters&&t.gutters]},XCe=e=>{const{disabled:t,dense:o,divider:s,disableGutters:c,selected:u,classes:p}=e,g=Ue({root:["root",o&&"dense",t&&"disabled",!c&&"gutters",s&&"divider",u&&"selected"]},QCe,p);return $({},p,g)},eAe=ke(Ql,{shouldForwardProp:e=>Ar(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:JCe})(({theme:e,ownerState:t})=>$({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${jh.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:wt(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${jh.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:wt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${jh.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:wt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:wt(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${jh.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${jh.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${JL.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${JL.inset}`]:{marginLeft:52},[`& .${r0.root}`]:{marginTop:0,marginBottom:0},[`& .${r0.inset}`]:{paddingLeft:36},[`& .${nj.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&$({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${nj.root} svg`]:{fontSize:"1.25rem"}}))),aj=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiMenuItem"}),{autoFocus:c=!1,component:u="li",dense:p=!1,divider:m=!1,disableGutters:g=!1,focusVisibleClassName:v,role:_="menuitem",tabIndex:C,className:y}=s,x=ye(s,ZCe),S=z.useContext(Ea),T=z.useMemo(()=>({dense:p||S.dense||!1,disableGutters:g}),[S.dense,p,g]),P=z.useRef(null);Kr(()=>{c&&P.current&&P.current.focus()},[c]);const D=$({},s,{dense:T.dense,divider:m,disableGutters:g}),R=XCe(s),B=un(P,o);let j;return s.disabled||(j=C!==void 0?C:-1),N.jsx(Ea.Provider,{value:T,children:N.jsx(eAe,$({ref:B,role:_,tabIndex:j,component:u,focusVisibleClassName:_e(R.focusVisible,v),className:_e(R.root,y)},x,{ownerState:D,classes:R}))})});function tAe(e){return $e("MuiNativeSelect",e)}const U2=Fe("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),nAe=["className","disabled","error","IconComponent","inputRef","variant"],oAe=e=>{const{classes:t,variant:o,disabled:s,multiple:c,open:u,error:p}=e,m={select:["select",o,s&&"disabled",c&&"multiple",p&&"error"],icon:["icon",`icon${fe(o)}`,u&&"iconOpen",s&&"disabled"]};return Ue(m,tAe,t)},PV=({ownerState:e,theme:t})=>$({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":$({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${U2.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),rAe=ke("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ar,overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.select,t[o.variant],o.error&&t.error,{[`&.${U2.multiple}`]:t.multiple}]}})(PV),NV=({ownerState:e,theme:t})=>$({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${U2.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),iAe=ke("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.icon,o.variant&&t[`icon${fe(o.variant)}`],o.open&&t.iconOpen]}})(NV),sAe=z.forwardRef(function(t,o){const{className:s,disabled:c,error:u,IconComponent:p,inputRef:m,variant:g="standard"}=t,v=ye(t,nAe),_=$({},t,{disabled:c,variant:g,error:u}),C=oAe(_);return N.jsxs(z.Fragment,{children:[N.jsx(rAe,$({ownerState:_,className:_e(C.select,s),disabled:c,ref:m||o},v)),t.multiple?null:N.jsx(iAe,{as:p,ownerState:_,className:C.icon})]})});var lj;const aAe=["children","classes","className","label","notched"],lAe=ke("fieldset",{shouldForwardProp:Ar})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),cAe=ke("legend",{shouldForwardProp:Ar})(({ownerState:e,theme:t})=>$({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&$({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function dAe(e){const{className:t,label:o,notched:s}=e,c=ye(e,aAe),u=o!=null&&o!=="",p=$({},e,{notched:s,withLabel:u});return N.jsx(lAe,$({"aria-hidden":!0,className:t,ownerState:p},c,{children:N.jsx(cAe,{ownerState:p,children:u?N.jsx("span",{children:o}):lj||(lj=N.jsx("span",{className:"notranslate",children:""}))})}))}const uAe=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],hAe=e=>{const{classes:t}=e,s=Ue({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Qwe,t);return $({},t,s)},pAe=ke(nw,{shouldForwardProp:e=>Ar(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:ew})(({theme:e,ownerState:t})=>{const o=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return $({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Qs.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Qs.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:o}},[`&.${Qs.focused} .${Qs.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${Qs.error} .${Qs.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Qs.disabled} .${Qs.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&$({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),fAe=ke(dAe,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),gAe=ke(ow,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:tw})(({theme:e,ownerState:t})=>$({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),H2=z.forwardRef(function(t,o){var s,c,u,p,m;const g=He({props:t,name:"MuiOutlinedInput"}),{components:v={},fullWidth:_=!1,inputComponent:C="input",label:y,multiline:x=!1,notched:S,slots:T={},type:P="text"}=g,D=ye(g,uAe),R=hAe(g),B=Cu(),j=_u({props:g,muiFormControl:B,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),V=$({},g,{color:j.color||"primary",disabled:j.disabled,error:j.error,focused:j.focused,formControl:B,fullWidth:_,hiddenLabel:j.hiddenLabel,multiline:x,size:j.size,type:P}),H=(s=(c=T.root)!=null?c:v.Root)!=null?s:pAe,M=(u=(p=T.input)!=null?p:v.Input)!=null?u:gAe;return N.jsx(F2,$({slots:{root:H,input:M},renderSuffix:U=>N.jsx(fAe,{ownerState:V,className:R.notchedOutline,label:y!=null&&y!==""&&j.required?m||(m=N.jsxs(z.Fragment,{children:[y,"","*"]})):y,notched:typeof S<"u"?S:!!(U.startAdornment||U.filled||U.focused)}),fullWidth:_,inputComponent:C,multiline:x,ref:o,type:P},D,{classes:$({},R,{notchedOutline:null})}))});H2.muiName="Input";function mAe(e){return $e("MuiSelect",e)}const zh=Fe("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var cj;const kAe=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],bAe=ke("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`&.${zh.select}`]:t.select},{[`&.${zh.select}`]:t[o.variant]},{[`&.${zh.error}`]:t.error},{[`&.${zh.multiple}`]:t.multiple}]}})(PV,{[`&.${zh.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),vAe=ke("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.icon,o.variant&&t[`icon${fe(o.variant)}`],o.open&&t.iconOpen]}})(NV),wAe=ke("input",{shouldForwardProp:e=>Q8(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function dj(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function yAe(e){return e==null||typeof e=="string"&&!e.trim()}const _Ae=e=>{const{classes:t,variant:o,disabled:s,multiple:c,open:u,error:p}=e,m={select:["select",o,s&&"disabled",c&&"multiple",p&&"error"],icon:["icon",`icon${fe(o)}`,u&&"iconOpen",s&&"disabled"],nativeInput:["nativeInput"]};return Ue(m,mAe,t)},CAe=z.forwardRef(function(t,o){var s;const{"aria-describedby":c,"aria-label":u,autoFocus:p,autoWidth:m,children:g,className:v,defaultOpen:_,defaultValue:C,disabled:y,displayEmpty:x,error:S=!1,IconComponent:T,inputRef:P,labelId:D,MenuProps:R={},multiple:B,name:j,onBlur:V,onChange:H,onClose:M,onFocus:U,onOpen:G,open:K,readOnly:Z,renderValue:se,SelectDisplayProps:X={},tabIndex:ee,value:oe,variant:ie="standard"}=t,ae=ye(t,kAe),[q,te]=Yb({controlled:oe,default:C,name:"Select"}),[de,Te]=Yb({controlled:K,default:_,name:"Select"}),Ie=z.useRef(null),We=z.useRef(null),[De,Qe]=z.useState(null),{current:xe}=z.useRef(K!=null),[ut,ct]=z.useState(),at=un(o,P),yt=z.useCallback(Be=>{We.current=Be,Be&&Qe(Be)},[]),Ge=De==null?void 0:De.parentNode;z.useImperativeHandle(at,()=>({focus:()=>{We.current.focus()},node:Ie.current,value:q}),[q]),z.useEffect(()=>{_&&de&&De&&!xe&&(ct(m?null:Ge.clientWidth),We.current.focus())},[De,m]),z.useEffect(()=>{p&&We.current.focus()},[p]),z.useEffect(()=>{if(!D)return;const Be=Hn(We.current).getElementById(D);if(Be){const It=()=>{getSelection().isCollapsed&&We.current.focus()};return Be.addEventListener("click",It),()=>{Be.removeEventListener("click",It)}}},[D]);const Ee=(Be,It)=>{Be?G&&G(It):M&&M(It),xe||(ct(m?null:Ge.clientWidth),Te(Be))},Q=Be=>{Be.button===0&&(Be.preventDefault(),We.current.focus(),Ee(!0,Be))},ne=Be=>{Ee(!1,Be)},le=z.Children.toArray(g),Ce=Be=>{const It=le.find(Dt=>Dt.props.value===Be.target.value);It!==void 0&&(te(It.props.value),H&&H(Be,It))},Pe=Be=>It=>{let Dt;if(It.currentTarget.hasAttribute("tabindex")){if(B){Dt=Array.isArray(q)?q.slice():[];const Jt=q.indexOf(Be.props.value);Jt===-1?Dt.push(Be.props.value):Dt.splice(Jt,1)}else Dt=Be.props.value;if(Be.props.onClick&&Be.props.onClick(It),q!==Dt&&(te(Dt),H)){const Jt=It.nativeEvent||It,Ln=new Jt.constructor(Jt.type,Jt);Object.defineProperty(Ln,"target",{writable:!0,value:{value:Dt,name:j}}),H(Ln,Be)}B||Ee(!1,It)}},Ye=Be=>{Z||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Be.key)!==-1&&(Be.preventDefault(),Ee(!0,Be))},Rt=De!==null&&de,ot=Be=>{!Rt&&V&&(Object.defineProperty(Be,"target",{writable:!0,value:{value:q,name:j}}),V(Be))};delete ae["aria-invalid"];let Oe,et;const Je=[];let qe=!1;(o0({value:q})||x)&&(se?Oe=se(q):qe=!0);const gt=le.map(Be=>{if(!z.isValidElement(Be))return null;let It;if(B){if(!Array.isArray(q))throw new Error(Yl(2));It=q.some(Dt=>dj(Dt,Be.props.value)),It&&qe&&Je.push(Be.props.children)}else It=dj(q,Be.props.value),It&&qe&&(et=Be.props.children);return z.cloneElement(Be,{"aria-selected":It?"true":"false",onClick:Pe(Be),onKeyUp:Dt=>{Dt.key===" "&&Dt.preventDefault(),Be.props.onKeyUp&&Be.props.onKeyUp(Dt)},role:"option",selected:It,value:void 0,"data-value":Be.props.value})});qe&&(B?Je.length===0?Oe=null:Oe=Je.reduce((Be,It,Dt)=>(Be.push(It),Dt<Je.length-1&&Be.push(", "),Be),[]):Oe=et);let Wt=ut;!m&&xe&&De&&(Wt=Ge.clientWidth);let Wn;typeof ee<"u"?Wn=ee:Wn=y?null:0;const _t=X.id||(j?`mui-component-select-${j}`:void 0),ze=$({},t,{variant:ie,value:q,open:Rt,error:S}),Zt=_Ae(ze),ei=$({},R.PaperProps,(s=R.slotProps)==null?void 0:s.paper),tr=tg();return N.jsxs(z.Fragment,{children:[N.jsx(bAe,$({ref:yt,tabIndex:Wn,role:"combobox","aria-controls":tr,"aria-disabled":y?"true":void 0,"aria-expanded":Rt?"true":"false","aria-haspopup":"listbox","aria-label":u,"aria-labelledby":[D,_t].filter(Boolean).join(" ")||void 0,"aria-describedby":c,onKeyDown:Ye,onMouseDown:y||Z?null:Q,onBlur:ot,onFocus:U},X,{ownerState:ze,className:_e(X.className,Zt.select,v),id:_t,children:yAe(Oe)?cj||(cj=N.jsx("span",{className:"notranslate",children:""})):Oe})),N.jsx(wAe,$({"aria-invalid":S,value:Array.isArray(q)?q.join(","):q,name:j,ref:Ie,"aria-hidden":!0,onChange:Ce,tabIndex:-1,disabled:y,className:Zt.nativeInput,autoFocus:p,ownerState:ze},ae)),N.jsx(vAe,{as:T,className:Zt.icon,ownerState:ze}),N.jsx(YCe,$({id:`menu-${j||""}`,anchorEl:Ge,open:Rt,onClose:ne,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},R,{MenuListProps:$({"aria-labelledby":D,role:"listbox","aria-multiselectable":B?"true":void 0,disableListWrap:!0,id:tr},R.MenuListProps),slotProps:$({},R.slotProps,{paper:$({},ei,{style:$({minWidth:Wt},ei!=null?ei.style:null)})}),children:gt}))]})}),AAe=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],xAe=["root"],EAe=e=>{const{classes:t}=e;return t},W2={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Ar(e)&&e!=="variant",slot:"Root"},SAe=ke(V2,W2)(""),TAe=ke(H2,W2)(""),IAe=ke($2,W2)(""),q2=z.forwardRef(function(t,o){const s=He({name:"MuiSelect",props:t}),{autoWidth:c=!1,children:u,classes:p={},className:m,defaultOpen:g=!1,displayEmpty:v=!1,IconComponent:_=Jwe,id:C,input:y,inputProps:x,label:S,labelId:T,MenuProps:P,multiple:D=!1,native:R=!1,onClose:B,onOpen:j,open:V,renderValue:H,SelectDisplayProps:M,variant:U="outlined"}=s,G=ye(s,AAe),K=R?sAe:CAe,Z=Cu(),se=_u({props:s,muiFormControl:Z,states:["variant","error"]}),X=se.variant||U,ee=$({},s,{variant:X,classes:p}),oe=EAe(ee),ie=ye(oe,xAe),ae=y||{standard:N.jsx(SAe,{ownerState:ee}),outlined:N.jsx(TAe,{label:S,ownerState:ee}),filled:N.jsx(IAe,{ownerState:ee})}[X],q=un(o,ae.ref);return N.jsx(z.Fragment,{children:z.cloneElement(ae,$({inputComponent:K,inputProps:$({children:u,error:se.error,IconComponent:_,variant:X,type:void 0,multiple:D},R?{id:C}:{autoWidth:c,defaultOpen:g,displayEmpty:v,labelId:T,MenuProps:P,onClose:B,onOpen:j,open:V,renderValue:H,SelectDisplayProps:$({id:C},M)},x,{classes:x?Zo(ie,x.classes):ie},y?y.props.inputProps:{})},(D&&R||v)&&X==="outlined"?{notched:!0}:{},{ref:q,className:_e(ae.props.className,m,oe.root)},!y&&{variant:X},G))})});q2.muiName="Select";function DAe(e){return $e("MuiSnackbarContent",e)}Fe("MuiSnackbarContent",["root","message","action"]);const MAe=["action","className","message","role"],PAe=e=>{const{classes:t}=e;return Ue({root:["root"],action:["action"],message:["message"]},DAe,t)},NAe=ke(Rs,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,o=Bke(e.palette.background.default,t);return $({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(o),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:o,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),RAe=ke("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),OAe=ke("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),BAe=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiSnackbarContent"}),{action:c,className:u,message:p,role:m="alert"}=s,g=ye(s,MAe),v=s,_=PAe(v);return N.jsxs(NAe,$({role:m,square:!0,elevation:6,className:_e(_.root,u),ownerState:v,ref:o},g,{children:[N.jsx(RAe,{className:_.message,ownerState:v,children:p}),c?N.jsx(OAe,{className:_.action,ownerState:v,children:c}):null]}))});function LAe(e){return $e("MuiSnackbar",e)}Fe("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const jAe=["onEnter","onExited"],zAe=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],FAe=e=>{const{classes:t,anchorOrigin:o}=e,s={root:["root",`anchorOrigin${fe(o.vertical)}${fe(o.horizontal)}`]};return Ue(s,LAe,t)},uj=ke("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[`anchorOrigin${fe(o.anchorOrigin.vertical)}${fe(o.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const o={left:"50%",right:"auto",transform:"translateX(-50%)"};return $({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:$({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&o,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),Au=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiSnackbar"}),c=vu(),u={enter:c.transitions.duration.enteringScreen,exit:c.transitions.duration.leavingScreen},{action:p,anchorOrigin:{vertical:m,horizontal:g}={vertical:"bottom",horizontal:"left"},autoHideDuration:v=null,children:_,className:C,ClickAwayListenerProps:y,ContentProps:x,disableWindowBlurListener:S=!1,message:T,open:P,TransitionComponent:D=mf,transitionDuration:R=u,TransitionProps:{onEnter:B,onExited:j}={}}=s,V=ye(s.TransitionProps,jAe),H=ye(s,zAe),M=$({},s,{anchorOrigin:{vertical:m,horizontal:g},autoHideDuration:v,disableWindowBlurListener:S,TransitionComponent:D,transitionDuration:R}),U=FAe(M),{getRootProps:G,onClickAway:K}=xwe($({},M)),[Z,se]=z.useState(!0),X=Ra({elementType:uj,getSlotProps:G,externalForwardedProps:H,ownerState:M,additionalProps:{ref:o},className:[U.root,C]}),ee=ie=>{se(!0),j&&j(ie)},oe=(ie,ae)=>{se(!1),B&&B(ie,ae)};return!P&&Z?null:N.jsx(q0e,$({onClickAway:K},y,{children:N.jsx(uj,$({},X,{children:N.jsx(D,$({appear:!0,in:P,timeout:R,direction:m==="top"?"down":"up",onEnter:oe,onExited:ee},V,{children:_||N.jsx(BAe,$({message:T,action:p},x))}))}))}))});function $Ae(e){return $e("MuiTooltip",e)}const fa=Fe("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),VAe=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function UAe(e){return Math.round(e*1e5)/1e5}const HAe=e=>{const{classes:t,disableInteractive:o,arrow:s,touch:c,placement:u}=e,p={popper:["popper",!o&&"popperInteractive",s&&"popperArrow"],tooltip:["tooltip",s&&"tooltipArrow",c&&"touch",`tooltipPlacement${fe(u.split("-")[0])}`],arrow:["arrow"]};return Ue(p,$Ae,t)},WAe=ke(mV,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.popper,!o.disableInteractive&&t.popperInteractive,o.arrow&&t.popperArrow,!o.open&&t.popperClose]}})(({theme:e,ownerState:t,open:o})=>$({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!o&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${fa.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${fa.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${fa.arrow}`]:$({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${fa.arrow}`]:$({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),qAe=ke("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.tooltip,o.touch&&t.touch,o.arrow&&t.tooltipArrow,t[`tooltipPlacement${fe(o.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>$({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:wt(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${UAe(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${fa.popper}[data-popper-placement*="left"] &`]:$({transformOrigin:"right center"},t.isRtl?$({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):$({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${fa.popper}[data-popper-placement*="right"] &`]:$({transformOrigin:"left center"},t.isRtl?$({marginRight:"14px"},t.touch&&{marginRight:"24px"}):$({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${fa.popper}[data-popper-placement*="top"] &`]:$({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${fa.popper}[data-popper-placement*="bottom"] &`]:$({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),GAe=ke("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:wt(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let bk=!1;const hj=new ng;let Fh={x:0,y:0};function vk(e,t){return(o,...s)=>{t&&t(o,...s),e(o,...s)}}const kf=z.forwardRef(function(t,o){var s,c,u,p,m,g,v,_,C,y,x,S,T,P,D,R,B,j,V;const H=He({props:t,name:"MuiTooltip"}),{arrow:M=!1,children:U,components:G={},componentsProps:K={},describeChild:Z=!1,disableFocusListener:se=!1,disableHoverListener:X=!1,disableInteractive:ee=!1,disableTouchListener:oe=!1,enterDelay:ie=100,enterNextDelay:ae=0,enterTouchDelay:q=700,followCursor:te=!1,id:de,leaveDelay:Te=0,leaveTouchDelay:Ie=1500,onClose:We,onOpen:De,open:Qe,placement:xe="bottom",PopperComponent:ut,PopperProps:ct={},slotProps:at={},slots:yt={},title:Ge,TransitionComponent:Ee=mf,TransitionProps:Q}=H,ne=ye(H,VAe),le=z.isValidElement(U)?U:N.jsx("span",{children:U}),Ce=vu(),Pe=z8(),[Ye,Rt]=z.useState(),[ot,Oe]=z.useState(null),et=z.useRef(!1),Je=ee||te,qe=Tl(),gt=Tl(),Wt=Tl(),Wn=Tl(),[_t,ze]=Yb({controlled:Qe,default:!1,name:"Tooltip",state:"open"});let Zt=_t;const ei=tg(de),tr=z.useRef(),Be=Fr(()=>{tr.current!==void 0&&(document.body.style.WebkitUserSelect=tr.current,tr.current=void 0),Wn.clear()});z.useEffect(()=>Be,[Be]);const It=ht=>{hj.clear(),bk=!0,ze(!0),De&&!Zt&&De(ht)},Dt=Fr(ht=>{hj.start(800+Te,()=>{bk=!1}),ze(!1),We&&Zt&&We(ht),qe.start(Ce.transitions.duration.shortest,()=>{et.current=!1})}),Jt=ht=>{et.current&&ht.type!=="touchstart"||(Ye&&Ye.removeAttribute("title"),gt.clear(),Wt.clear(),ie||bk&&ae?gt.start(bk?ae:ie,()=>{It(ht)}):It(ht))},Ln=ht=>{gt.clear(),Wt.start(Te,()=>{Dt(ht)})},{isFocusVisibleRef:Su,onBlur:Lo,onFocus:ag,ref:Tu}=Zv(),[,lg]=z.useState(!1),cg=ht=>{Lo(ht),Su.current===!1&&(lg(!1),Ln(ht))},Iu=ht=>{Ye||Rt(ht.currentTarget),ag(ht),Su.current===!0&&(lg(!0),Jt(ht))},dg=ht=>{et.current=!0;const Cn=le.props;Cn.onTouchStart&&Cn.onTouchStart(ht)},fw=ht=>{dg(ht),Wt.clear(),qe.clear(),Be(),tr.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Wn.start(q,()=>{document.body.style.WebkitUserSelect=tr.current,Jt(ht)})},To=ht=>{le.props.onTouchEnd&&le.props.onTouchEnd(ht),Be(),Wt.start(Ie,()=>{Dt(ht)})};z.useEffect(()=>{if(!Zt)return;function ht(Cn){(Cn.key==="Escape"||Cn.key==="Esc")&&Dt(Cn)}return document.addEventListener("keydown",ht),()=>{document.removeEventListener("keydown",ht)}},[Dt,Zt]);const gw=un(le.ref,Tu,Rt,o);!Ge&&Ge!==0&&(Zt=!1);const Ji=z.useRef(),dc=ht=>{const Cn=le.props;Cn.onMouseMove&&Cn.onMouseMove(ht),Fh={x:ht.clientX,y:ht.clientY},Ji.current&&Ji.current.update()},Ga={},Du=typeof Ge=="string";Z?(Ga.title=!Zt&&Du&&!X?Ge:null,Ga["aria-describedby"]=Zt?ei:null):(Ga["aria-label"]=Du?Ge:null,Ga["aria-labelledby"]=Zt&&!Du?ei:null);const nr=$({},Ga,ne,le.props,{className:_e(ne.className,le.props.className),onTouchStart:dg,ref:gw},te?{onMouseMove:dc}:{}),Ka={};oe||(nr.onTouchStart=fw,nr.onTouchEnd=To),X||(nr.onMouseOver=vk(Jt,nr.onMouseOver),nr.onMouseLeave=vk(Ln,nr.onMouseLeave),Je||(Ka.onMouseOver=Jt,Ka.onMouseLeave=Ln)),se||(nr.onFocus=vk(Iu,nr.onFocus),nr.onBlur=vk(cg,nr.onBlur),Je||(Ka.onFocus=Iu,Ka.onBlur=cg));const mw=z.useMemo(()=>{var ht;let Cn=[{name:"arrow",enabled:!!ot,options:{element:ot,padding:4}}];return(ht=ct.popperOptions)!=null&&ht.modifiers&&(Cn=Cn.concat(ct.popperOptions.modifiers)),$({},ct.popperOptions,{modifiers:Cn})},[ot,ct]),xr=$({},H,{isRtl:Pe,arrow:M,disableInteractive:Je,placement:xe,PopperComponentProp:ut,touch:et.current}),zs=HAe(xr),ug=(s=(c=yt.popper)!=null?c:G.Popper)!=null?s:WAe,hg=(u=(p=(m=yt.transition)!=null?m:G.Transition)!=null?p:Ee)!=null?u:mf,pg=(g=(v=yt.tooltip)!=null?v:G.Tooltip)!=null?g:qAe,fg=(_=(C=yt.arrow)!=null?C:G.Arrow)!=null?_:GAe,Xi=fd(ug,$({},ct,(y=at.popper)!=null?y:K.popper,{className:_e(zs.popper,ct==null?void 0:ct.className,(x=(S=at.popper)!=null?S:K.popper)==null?void 0:x.className)}),xr),Mu=fd(hg,$({},Q,(T=at.transition)!=null?T:K.transition),xr),gg=fd(pg,$({},(P=at.tooltip)!=null?P:K.tooltip,{className:_e(zs.tooltip,(D=(R=at.tooltip)!=null?R:K.tooltip)==null?void 0:D.className)}),xr),kw=fd(fg,$({},(B=at.arrow)!=null?B:K.arrow,{className:_e(zs.arrow,(j=(V=at.arrow)!=null?V:K.arrow)==null?void 0:j.className)}),xr);return N.jsxs(z.Fragment,{children:[z.cloneElement(le,nr),N.jsx(ug,$({as:ut??mV,placement:xe,anchorEl:te?{getBoundingClientRect:()=>({top:Fh.y,left:Fh.x,right:Fh.x,bottom:Fh.y,width:0,height:0})}:Ye,popperRef:Ji,open:Ye?Zt:!1,id:ei,transition:!0},Ka,Xi,{popperOptions:mw,children:({TransitionProps:ht})=>N.jsx(hg,$({timeout:Ce.transitions.duration.shorter},ht,Mu,{children:N.jsxs(pg,$({},gg,{children:[Ge,M?N.jsx(fg,$({},kw,{ref:Oe})):null]}))}))}))]})}),RV=z.createContext();function KAe(e){return $e("MuiTable",e)}Fe("MuiTable",["root","stickyHeader"]);const YAe=["className","component","padding","size","stickyHeader"],QAe=e=>{const{classes:t,stickyHeader:o}=e;return Ue({root:["root",o&&"stickyHeader"]},KAe,t)},ZAe=ke("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>$({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":$({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),pj="table",JAe=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiTable"}),{className:c,component:u=pj,padding:p="normal",size:m="medium",stickyHeader:g=!1}=s,v=ye(s,YAe),_=$({},s,{component:u,padding:p,size:m,stickyHeader:g}),C=QAe(_),y=z.useMemo(()=>({padding:p,size:m,stickyHeader:g}),[p,m,g]);return N.jsx(RV.Provider,{value:y,children:N.jsx(ZAe,$({as:u,role:u===pj?null:"table",ref:o,className:_e(C.root,c),ownerState:_},v))})}),dw=z.createContext();function XAe(e){return $e("MuiTableBody",e)}Fe("MuiTableBody",["root"]);const e1e=["className","component"],t1e=e=>{const{classes:t}=e;return Ue({root:["root"]},XAe,t)},n1e=ke("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),o1e={variant:"body"},fj="tbody",r1e=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiTableBody"}),{className:c,component:u=fj}=s,p=ye(s,e1e),m=$({},s,{component:u}),g=t1e(m);return N.jsx(dw.Provider,{value:o1e,children:N.jsx(n1e,$({className:_e(g.root,c),as:u,ref:o,role:u===fj?null:"rowgroup",ownerState:m},p))})});function i1e(e){return $e("MuiTableCell",e)}const s1e=Fe("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),a1e=["align","className","component","padding","scope","size","sortDirection","variant"],l1e=e=>{const{classes:t,variant:o,align:s,padding:c,size:u,stickyHeader:p}=e,m={root:["root",o,p&&"stickyHeader",s!=="inherit"&&`align${fe(s)}`,c!=="normal"&&`padding${fe(c)}`,`size${fe(u)}`]};return Ue(m,i1e,t)},c1e=ke("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],t[`size${fe(o.size)}`],o.padding!=="normal"&&t[`padding${fe(o.padding)}`],o.align!=="inherit"&&t[`align${fe(o.align)}`],o.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>$({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?Zb(wt(e.palette.divider,1),.88):Qb(wt(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${s1e.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),Js=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiTableCell"}),{align:c="inherit",className:u,component:p,padding:m,scope:g,size:v,sortDirection:_,variant:C}=s,y=ye(s,a1e),x=z.useContext(RV),S=z.useContext(dw),T=S&&S.variant==="head";let P;p?P=p:P=T?"th":"td";let D=g;P==="td"?D=void 0:!D&&T&&(D="col");const R=C||S&&S.variant,B=$({},s,{align:c,component:P,padding:m||(x&&x.padding?x.padding:"normal"),size:v||(x&&x.size?x.size:"medium"),sortDirection:_,stickyHeader:R==="head"&&x&&x.stickyHeader,variant:R}),j=l1e(B);let V=null;return _&&(V=_==="asc"?"ascending":"descending"),N.jsx(c1e,$({as:P,ref:o,className:_e(j.root,u),"aria-sort":V,scope:D,ownerState:B},y))});function d1e(e){return $e("MuiTableContainer",e)}Fe("MuiTableContainer",["root"]);const u1e=["className","component"],h1e=e=>{const{classes:t}=e;return Ue({root:["root"]},d1e,t)},p1e=ke("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),f1e=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiTableContainer"}),{className:c,component:u="div"}=s,p=ye(s,u1e),m=$({},s,{component:u}),g=h1e(m);return N.jsx(p1e,$({ref:o,as:u,className:_e(g.root,c),ownerState:m},p))});function g1e(e){return $e("MuiTableHead",e)}Fe("MuiTableHead",["root"]);const m1e=["className","component"],k1e=e=>{const{classes:t}=e;return Ue({root:["root"]},g1e,t)},b1e=ke("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),v1e={variant:"head"},gj="thead",w1e=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiTableHead"}),{className:c,component:u=gj}=s,p=ye(s,m1e),m=$({},s,{component:u}),g=k1e(m);return N.jsx(dw.Provider,{value:v1e,children:N.jsx(b1e,$({as:u,className:_e(g.root,c),ref:o,role:u===gj?null:"rowgroup",ownerState:m},p))})});function y1e(e){return $e("MuiTableRow",e)}const mj=Fe("MuiTableRow",["root","selected","hover","head","footer"]),_1e=["className","component","hover","selected"],C1e=e=>{const{classes:t,selected:o,hover:s,head:c,footer:u}=e;return Ue({root:["root",o&&"selected",s&&"hover",c&&"head",u&&"footer"]},y1e,t)},A1e=ke("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.head&&t.head,o.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${mj.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${mj.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:wt(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:wt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),kj="tr",bj=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiTableRow"}),{className:c,component:u=kj,hover:p=!1,selected:m=!1}=s,g=ye(s,_1e),v=z.useContext(dw),_=$({},s,{component:u,hover:p,selected:m,head:v&&v.variant==="head",footer:v&&v.variant==="footer"}),C=C1e(_);return N.jsx(A1e,$({as:u,ref:o,className:_e(C.root,c),role:u===kj?null:"row",ownerState:_},g))});function x1e(e){return $e("MuiTextField",e)}Fe("MuiTextField",["root"]);const E1e=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],S1e={standard:V2,filled:$2,outlined:H2},T1e=e=>{const{classes:t}=e;return Ue({root:["root"]},x1e,t)},I1e=ke(AV,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Ro=z.forwardRef(function(t,o){const s=He({props:t,name:"MuiTextField"}),{autoComplete:c,autoFocus:u=!1,children:p,className:m,color:g="primary",defaultValue:v,disabled:_=!1,error:C=!1,FormHelperTextProps:y,fullWidth:x=!1,helperText:S,id:T,InputLabelProps:P,inputProps:D,InputProps:R,inputRef:B,label:j,maxRows:V,minRows:H,multiline:M=!1,name:U,onBlur:G,onChange:K,onFocus:Z,placeholder:se,required:X=!1,rows:ee,select:oe=!1,SelectProps:ie,type:ae,value:q,variant:te="outlined"}=s,de=ye(s,E1e),Te=$({},s,{autoFocus:u,color:g,disabled:_,error:C,fullWidth:x,multiline:M,required:X,select:oe,variant:te}),Ie=T1e(Te),We={};te==="outlined"&&(P&&typeof P.shrink<"u"&&(We.notched=P.shrink),We.label=j),oe&&((!ie||!ie.native)&&(We.id=void 0),We["aria-describedby"]=void 0);const De=tg(T),Qe=S&&De?`${De}-helper-text`:void 0,xe=j&&De?`${De}-label`:void 0,ut=S1e[te],ct=N.jsx(ut,$({"aria-describedby":Qe,autoComplete:c,autoFocus:u,defaultValue:v,fullWidth:x,multiline:M,name:U,rows:ee,maxRows:V,minRows:H,type:ae,value:q,id:De,inputRef:B,onBlur:G,onChange:K,onFocus:Z,placeholder:se,inputProps:D},We,R));return N.jsxs(I1e,$({className:_e(Ie.root,m),disabled:_,error:C,fullWidth:x,ref:o,required:X,color:g,variant:te,ownerState:Te},de,{children:[j!=null&&j!==""&&N.jsx(EV,$({htmlFor:De,id:xe},P,{children:j})),oe?N.jsx(q2,$({"aria-describedby":Qe,id:De,labelId:xe,value:q,input:ct},ie,{children:p})):ct,S&&N.jsx(T_e,$({id:Qe},y,{children:S}))]}))});var G2={},jC={};const D1e=Yi($be);var vj;function yi(){return vj||(vj=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=D1e}(jC)),jC}var M1e=Cr;Object.defineProperty(G2,"__esModule",{value:!0});var OV=G2.default=void 0,P1e=M1e(yi()),N1e=N;OV=G2.default=(0,P1e.default)((0,N1e.jsx)("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20zm-6 8h-4v-2h4zm0-4h-4v-2h4z"}),"BugReport");const R1e=()=>{const e=()=>{window.open("https://help.waveshi.org","_blank","noopener,noreferrer")};return N.jsx(Lt,{onClick:e,sx:{my:1,px:"16px !important",py:"8px !important",minWidth:"150px",height:"50px",backgroundColor:"white !important",border:"2px solid blue !important",color:"blue !important",textTransform:"none !important",borderRadius:"20px !important",boxShadow:"0 3px 5px 2px rgba(0, 0, 255, .3) !important",fontSize:"1rem !important",transition:"background-color 0.3s !important, color 0.3s !important","&:hover":{backgroundColor:"blue !important",color:"white !important",borderColor:"blue !important"},"&:active":{backgroundColor:"blue !important",color:"white !important",borderColor:"blue !important"},"&:focus":{backgroundColor:"white !important",color:"blue !important",borderColor:"blue !important"}},startIcon:N.jsx(OV,{}),children:"Report a Bug"})};function O1e(){return N.jsxs(Ne,{component:"footer",sx:{width:"100%",textAlign:"center",py:2},children:[N.jsx(Ne,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",px:2},children:N.jsx(R1e,{})}),N.jsx(CV,{}),N.jsxs(Ne,{sx:{my:2},children:[N.jsx("img",{src:"/ate-micr/FooterLogoLong.png",alt:"Logo",style:{maxWidth:"500px",maxHeight:"400px",width:"auto",height:"auto"}}),N.jsx(tt,{variant:"body2",children:" 2024 Institute for Future Intelligence and Kapiolani Community College Antibody Engineering & Research Projects"})]})]})}const B1e=ur.forwardRef(function(t,o){return N.jsx(yu,{elevation:6,ref:o,variant:"filled",...t})}),L1e=()=>{const[e,t]=z.useState(!1),[o,s]=z.useState(!1),[c,u]=z.useState(""),p=za();console.log("Logout loaded");const m=()=>{t(!0)},g=()=>{t(!1)},v=()=>{const _=u9();Zae(_).then(()=>{t(!1),s(!0),u("Logged out successfully"),p("/")}).catch(C=>{t(!1),s(!0),u("Logout failed: "+C.message)})};return N.jsxs(N.Fragment,{children:[N.jsx(Lt,{variant:"outlined",onClick:m,sx:{fontSize:"1rem",mt:2,textTransform:"none",minWidth:"100px",color:"currentColor",borderColor:"rgba(255, 0, 0, 0.5)",boxShadow:"none","&:hover":{borderColor:"rgba(255, 0, 0, 0.7)",backgroundColor:"rgba(255, 0, 0, 0.1)",boxShadow:"0px 0px 10px rgba(0, 0, 0, 0.2)",color:"currentColor",transform:"scale(1.05)"},transition:"transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, border-color 0.3s ease-in-out, background-color 0.3s ease-in-out"},children:"Logout"}),N.jsxs(iw,{open:e,onClose:g,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[N.jsx(cw,{id:"alert-dialog-title",children:"Logging Out"}),N.jsx(aw,{children:N.jsx(lw,{id:"alert-dialog-description",children:"Are you sure you want to log out?"})}),N.jsxs(sw,{children:[N.jsx(Lt,{onClick:v,autoFocus:!0,children:"Yes"}),N.jsx(Lt,{onClick:g,children:"No"})]})]}),N.jsx(Au,{open:o,autoHideDuration:6e3,onClose:()=>s(!1),children:N.jsx(B1e,{onClose:()=>s(!1),severity:"info",sx:{width:"100%"},children:c})})]})};var K2={},j1e=Cr;Object.defineProperty(K2,"__esModule",{value:!0});var yp=K2.default=void 0,z1e=j1e(yi()),F1e=N;yp=K2.default=(0,z1e.default)((0,F1e.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");var Y2={},$1e=Cr;Object.defineProperty(Y2,"__esModule",{value:!0});var sg=Y2.default=void 0,V1e=$1e(yi()),U1e=N;sg=Y2.default=(0,V1e.default)((0,U1e.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");const H1e=({messageId:e,onDelete:t})=>{const[o,s]=z.useState(!1),c=wi(),u=()=>{s(!0)},p=()=>{s(!1)},m=async()=>{try{await dpe(qr(c,"messages",e)),t(e),p()}catch(g){console.error("Error deleting message: ",g)}};return N.jsxs(N.Fragment,{children:[N.jsx(Zn,{onClick:u,children:N.jsx(sg,{})}),N.jsxs(iw,{open:o,onClose:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[N.jsx(cw,{id:"alert-dialog-title",children:"Confirm Delete"}),N.jsx(aw,{children:N.jsx(lw,{id:"alert-dialog-description",children:"Are you sure you want to delete this message? This action cannot be undone."})}),N.jsxs(sw,{children:[N.jsx(Lt,{onClick:p,color:"primary",children:"Cancel"}),N.jsx(Lt,{onClick:m,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})},W1e=()=>{const e=za(),{userDetails:t,isSuperAdmin:o}=gv(),[s,c]=z.useState(!1),[u,p]=z.useState(!1),[m,g]=z.useState([]),v=wi();z.useEffect(()=>{(async()=>{const S=ipe(iv(v,"messages"),spe("postedOn","desc")),P=(await T$(S)).docs.map(D=>({id:D.id,...D.data()}));g(P)})()},[v]);const _=()=>{t!=null&&t.uid?navigator.clipboard.writeText(t.uid).then(()=>{c(!0),p(!0)}).catch(x=>{console.error("Could not copy text: ",x)}):console.error("User details are null or undefined")},C=(x,S)=>{S!=="clickaway"&&c(!1)},y=x=>{g(m.filter(S=>S.id!==x))};return N.jsxs(Ne,{sx:{flexGrow:1,padding:3},children:[N.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between",mb:2,alignItems:"center"},children:[N.jsx(tt,{variant:"h4",component:"h1",sx:{fontWeight:"bold"},children:"Home Page / ATE 2.0"}),N.jsxs(Ne,{sx:{display:"flex",alignItems:"center"},children:[o&&N.jsx(pa,{label:"Super Admin User",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:1}}),(t==null?void 0:t.isAdmin)&&!o&&N.jsx(pa,{label:"Educator (Admin User)",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:1}}),!(t!=null&&t.isAdmin)&&N.jsx(pa,{label:"Student (Regular User)",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#bbdefb",color:"#1e88e5",mr:1}}),t&&N.jsx(kf,{title:u?"Copied!":"Click to Copy",enterDelay:300,leaveDelay:200,children:N.jsx(pa,{label:`User ID: ${t.uid}`,variant:"outlined",onClick:_,sx:{borderRadius:"15px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",mr:2}})}),N.jsx(L1e,{})]})]}),N.jsxs(us,{container:!0,spacing:3,children:[N.jsxs(us,{item:!0,xs:12,md:8,children:[N.jsx(Ne,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:N.jsx(tt,{variant:"h6",component:"h2",sx:{fontWeight:"bold",textDecoration:"underline"},children:"Educator Messages"})}),(t==null?void 0:t.isAdmin)&&N.jsx(Ne,{sx:{mb:2},children:N.jsx(Lt,{variant:"contained",onClick:()=>e("/add-message"),sx:{backgroundColor:"#FFF9C4",color:"#6D4C41","&:hover":{backgroundColor:"#FFF176"}},children:"+ Add Message"})}),N.jsx(f1e,{component:Rs,children:N.jsxs(JAe,{children:[N.jsx(w1e,{sx:{backgroundColor:"#FFF9C4"},children:N.jsxs(bj,{children:[N.jsx(Js,{sx:{fontWeight:"bold",color:"#6D4C41",width:"10%"},children:"Posted On"}),N.jsx(Js,{sx:{fontWeight:"bold",color:"#6D4C41",width:"30%"},children:"Subject"}),N.jsx(Js,{sx:{fontWeight:"bold",color:"#6D4C41",width:"50%",whiteSpace:"pre-wrap"},children:"Description"}),(t==null?void 0:t.isAdmin)&&N.jsx(Js,{sx:{fontWeight:"bold",color:"#6D4C41",width:"10%"},children:"Actions"})]})}),N.jsx(r1e,{children:m.map(x=>N.jsxs(bj,{sx:{backgroundColor:"#FFFDE7"},children:[N.jsx(Js,{children:new Date(x.postedOn.seconds*1e3).toLocaleString()}),N.jsx(Js,{sx:{fontStyle:"italic"},children:x.title}),N.jsxs(Js,{sx:{whiteSpace:"pre-wrap"},children:[x.description,x.links&&x.links.some(S=>S.title&&S.url)&&N.jsxs(Ne,{sx:{mt:2},children:[N.jsx(tt,{variant:"subtitle2",sx:{fontWeight:"bold"},children:"Links:"}),x.links.map((S,T)=>S.title&&S.url&&N.jsxs(Ne,{sx:{mb:1},children:[N.jsxs(tt,{variant:"body2",component:"span",children:[" ",S.title,": "]}),N.jsx(TV,{href:S.url,target:"_blank",rel:"noopener",children:S.url})]},T))]})]}),(t==null?void 0:t.isAdmin)&&N.jsxs(Js,{children:[N.jsx(Zn,{onClick:()=>e(`/edit-message/${x.id}`),children:N.jsx(yp,{})}),N.jsx(H1e,{messageId:x.id,onDelete:y})]})]},x.id))})]})})]}),N.jsxs(us,{item:!0,xs:12,md:4,children:[N.jsx(tt,{variant:"h6",align:"left",component:"h2",sx:{fontWeight:"bold",textDecoration:"underline"},gutterBottom:!0,children:"Navigation"}),N.jsxs(us,{container:!0,spacing:3,justifyContent:"center",children:[N.jsx(us,{item:!0,xs:12,children:N.jsx(DC,{children:N.jsx(PC,{onClick:()=>e("/laboratory-notebooks"),children:N.jsx(NC,{children:N.jsx(tt,{variant:"h5",component:"div",children:"My Laboratory Notebook"})})})})}),N.jsx(us,{item:!0,xs:12,children:N.jsx(DC,{children:N.jsx(PC,{onClick:()=>e("/supplemental-materials"),children:N.jsx(NC,{children:N.jsx(tt,{variant:"h5",component:"div",children:"Course Materials"})})})})}),o&&N.jsx(us,{item:!0,xs:12,children:N.jsx(DC,{children:N.jsx(PC,{onClick:()=>e("/user-management"),children:N.jsx(NC,{children:N.jsx(tt,{variant:"h5",component:"div",children:"User Permissions"})})})})})]})]})]}),N.jsx(Au,{open:s,autoHideDuration:6e3,onClose:C,children:N.jsx(yu,{onClose:C,severity:"success",sx:{width:"100%"},children:"User ID copied to clipboard!"})})]})};let wk;const q1e=new Uint8Array(16);function G1e(){if(!wk&&(wk=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!wk))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wk(q1e)}const ro=[];for(let e=0;e<256;++e)ro.push((e+256).toString(16).slice(1));function K1e(e,t=0){return ro[e[t+0]]+ro[e[t+1]]+ro[e[t+2]]+ro[e[t+3]]+"-"+ro[e[t+4]]+ro[e[t+5]]+"-"+ro[e[t+6]]+ro[e[t+7]]+"-"+ro[e[t+8]]+ro[e[t+9]]+"-"+ro[e[t+10]]+ro[e[t+11]]+ro[e[t+12]]+ro[e[t+13]]+ro[e[t+14]]+ro[e[t+15]]}const Y1e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),wj={randomUUID:Y1e};function Jh(e,t,o){if(wj.randomUUID&&!t&&!e)return wj.randomUUID();e=e||{};const s=e.random||(e.rng||G1e)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,K1e(s)}var Q2={},Q1e=Cr;Object.defineProperty(Q2,"__esModule",{value:!0});var Yk=Q2.default=void 0,Z1e=Q1e(yi()),J1e=N;Yk=Q2.default=(0,Z1e.default)((0,J1e.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save");const zC=({onDelete:e,itemType:t})=>{const[o,s]=ur.useState(!1),c=()=>{s(!0)},u=()=>{s(!1)},p=()=>{e(),u()};return N.jsxs(N.Fragment,{children:[N.jsx(Zn,{onClick:c,size:"small",children:N.jsx(sg,{})}),N.jsxs(iw,{open:o,onClose:u,children:[N.jsx(cw,{children:`Delete ${t}`}),N.jsx(aw,{children:N.jsx(lw,{children:`Are you sure you want to delete this ${t}? This action cannot be undone.`})}),N.jsxs(sw,{children:[N.jsx(Lt,{onClick:u,color:"primary",children:"Cancel"}),N.jsx(Lt,{onClick:p,color:"secondary",children:"Delete"})]})]})]})};var Z2={},X1e=Cr;Object.defineProperty(Z2,"__esModule",{value:!0});var R1=Z2.default=void 0,exe=X1e(yi()),txe=N;R1=Z2.default=(0,exe.default)((0,txe.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");var J2={},nxe=Cr;Object.defineProperty(J2,"__esModule",{value:!0});var O1=J2.default=void 0,oxe=nxe(yi()),rxe=N;O1=J2.default=(0,oxe.default)((0,rxe.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");const BV=({sections:e,selected:t,onAddSection:o,onAddSubsection:s,onAddSubSubsection:c,onSelectSection:u,onUpdateSectionTitle:p,onUpdateSubsectionTitle:m,onUpdateSubSubsectionTitle:g,onDeleteSection:v,onDeleteSubsection:_,onDeleteSubSubsection:C,isViewMode:y})=>{const[x,S]=z.useState(null),[T,P]=z.useState(null),[D,R]=z.useState(null),[B,j]=z.useState(""),[V,H]=z.useState(e.map(()=>!0)),[M,U]=z.useState(e.reduce((ae,q,te)=>(ae[te]=q.subsections.map(()=>!0),ae),{}));z.useEffect(()=>{H(e.map(()=>!0))},[e]),z.useEffect(()=>{const ae=e.reduce((q,te,de)=>(q[de]=te.subsections.map(()=>!0),q),{});U(ae)},[e]);const G=ae=>{const q=[...V];q[ae]=!q[ae],H(q)},K=(ae,q)=>{const te={...M};te[ae][q]=!te[ae][q],U(te)},Z=(ae,q)=>{x!==null?p(x,B):T?m(T.section,T.subsection,B):D&&g(D.section,D.subsection,D.subSubsection,B),S(ae),P(null),R(null),j(q)},se=ae=>{p(ae,B),S(null),j("")},X=(ae,q,te)=>{x!==null?p(x,B):T?m(T.section,T.subsection,B):D&&g(D.section,D.subsection,D.subSubsection,B),S(null),P({section:ae,subsection:q}),R(null),j(te)},ee=(ae,q)=>{m(ae,q,B),P(null),j("")},oe=(ae,q,te,de)=>{x!==null?p(x,B):T?m(T.section,T.subsection,B):D&&g(D.section,D.subsection,D.subSubsection,B),S(null),P(null),R({section:ae,subsection:q,subSubsection:te}),j(de)},ie=(ae,q,te)=>{g(ae,q,te,B),R(null),j("")};return N.jsxs(Ne,{sx:{width:"450px",borderRight:"1px solid #ddd",padding:2},children:[N.jsx(tt,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Outline"}),!y&&N.jsx(Lt,{variant:"contained",color:"primary",onClick:o,sx:{mb:2},children:"+ Add Section"}),N.jsxs(Kk,{children:[N.jsx(Oh,{button:!0,onClick:()=>u("header"),sx:{backgroundColor:t.type==="header"?"lightgray":"transparent"},children:N.jsx(Bh,{primary:"Header"})}),e.map((ae,q)=>N.jsxs(Ne,{children:[N.jsxs(Oh,{button:!0,onClick:()=>u(q),sx:{backgroundColor:t.sectionIndex===q&&t.subsectionIndex===void 0?"lightgray":"transparent"},children:[x===q?N.jsxs(N.Fragment,{children:[N.jsx(Ro,{value:B,onChange:te=>j(te.target.value),size:"small",sx:{mr:1},disabled:y}),!y&&N.jsx(Zn,{onClick:()=>se(q),size:"small",children:N.jsx(Yk,{})})]}):N.jsxs(N.Fragment,{children:[N.jsx(Bh,{primary:ae.title}),!y&&N.jsxs(N.Fragment,{children:[N.jsx(Zn,{onClick:()=>Z(q,ae.title),size:"small",children:N.jsx(yp,{})}),N.jsx(zC,{onDelete:()=>v(q),itemType:"section"})]})]}),ae.subsections.length>0&&N.jsx(Zn,{onClick:()=>G(q),sx:{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"},width:"24px",height:"24px"},children:V[q]?N.jsx(R1,{sx:{fontSize:"20px"}}):N.jsx(O1,{sx:{fontSize:"20px"}})}),!y&&N.jsx(Lt,{variant:"text",onClick:()=>s(q),size:"small",children:"+ Add Subsection"})]}),V[q]&&N.jsx(Kk,{sx:{pl:4},children:ae.subsections.map((te,de)=>N.jsxs(Ne,{children:[N.jsxs(Oh,{button:!0,onClick:()=>u(q,de),sx:{backgroundColor:t.sectionIndex===q&&t.subsectionIndex===de&&t.subSubsectionIndex===void 0?"lightgray":"transparent"},children:[T&&T.section===q&&T.subsection===de?N.jsxs(N.Fragment,{children:[N.jsx(Ro,{value:B,onChange:Te=>j(Te.target.value),size:"small",sx:{mr:1},disabled:y}),!y&&N.jsx(Zn,{onClick:()=>ee(q,de),size:"small",children:N.jsx(Yk,{})})]}):N.jsxs(N.Fragment,{children:[N.jsx(Bh,{primary:te.title}),!y&&N.jsxs(N.Fragment,{children:[N.jsx(Zn,{onClick:()=>X(q,de,te.title),size:"small",children:N.jsx(yp,{})}),N.jsx(zC,{onDelete:()=>_(q,de),itemType:"subsection"})]})]}),te.subSubsections.length>0&&N.jsx(Zn,{onClick:()=>K(q,de),sx:{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"},width:"24px",height:"24px"},children:M[q][de]?N.jsx(R1,{sx:{fontSize:"20px"}}):N.jsx(O1,{sx:{fontSize:"20px"}})}),!y&&N.jsx(Lt,{variant:"text",onClick:()=>c(q,de),size:"small",children:"+ Add Sub-Subsection"})]}),M[q][de]&&N.jsx(Kk,{sx:{pl:4},children:te.subSubsections.map((Te,Ie)=>N.jsx(Oh,{button:!0,onClick:()=>u(q,de,Ie),sx:{backgroundColor:t.sectionIndex===q&&t.subsectionIndex===de&&t.subSubsectionIndex===Ie?"lightgray":"transparent"},children:D&&D.section===q&&D.subsection===de&&D.subSubsection===Ie?N.jsxs(N.Fragment,{children:[N.jsx(Ro,{value:B,onChange:We=>j(We.target.value),size:"small",sx:{mr:1},disabled:y}),!y&&N.jsx(Zn,{onClick:()=>ie(q,de,Ie),size:"small",children:N.jsx(Yk,{})})]}):N.jsxs(N.Fragment,{children:[N.jsx(Bh,{primary:Te.title}),!y&&N.jsxs(N.Fragment,{children:[N.jsx(Zn,{onClick:()=>oe(q,de,Ie,Te.title),size:"small",children:N.jsx(yp,{})}),N.jsx(zC,{onDelete:()=>C(q,de,Ie),itemType:"subSubsection"})]})]})},Te.id))})]},te.id))})]},ae.id)),N.jsx(Oh,{button:!0,onClick:()=>u("footer"),sx:{backgroundColor:t.type==="footer"?"lightgray":"transparent"},children:N.jsx(Bh,{primary:"Footer"})})]})]})};var X2={},ixe=Cr;Object.defineProperty(X2,"__esModule",{value:!0});var eS=X2.default=void 0,sxe=ixe(yi()),axe=N;eS=X2.default=(0,sxe.default)((0,axe.jsx)("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos");var tS={},lxe=Cr;Object.defineProperty(tS,"__esModule",{value:!0});var nS=tS.default=void 0,cxe=lxe(yi()),dxe=N;nS=tS.default=(0,cxe.default)((0,dxe.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos");var oS={},uxe=Cr;Object.defineProperty(oS,"__esModule",{value:!0});var LV=oS.default=void 0,hxe=uxe(yi()),pxe=N;LV=oS.default=(0,hxe.default)((0,pxe.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");const jV=()=>{const e=za(),t=()=>{e("/supplemental-materials")};return N.jsx(Lt,{variant:"outlined",color:"primary",startIcon:N.jsx(LV,{}),onClick:t,sx:{mb:2,padding:"4px 8px",backgroundColor:"transparent",borderColor:"blue",color:"blue"},children:"All Materials"})};var zV={exports:{}};(()=>{var e={d:(u,p)=>{for(var m in p)e.o(p,m)&&!e.o(u,m)&&Object.defineProperty(u,m,{enumerable:!0,get:p[m]})},o:(u,p)=>Object.prototype.hasOwnProperty.call(u,p),r:u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}},t={};function o(u,p){for(var m=0;m<p.length;m++){var g=p[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}e.r(t),e.d(t,{default:()=>c});var s=function(){function u(){(function(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")})(this,u)}var p,m;return p=u,m=[{key:"changeHeightWidth",value:function(g,v,_,C,y,x){return _>C&&(g=Math.round(g*C/_),_=C),g>v&&(_=Math.round(_*v/g),g=v),y&&_<y&&(g=Math.round(g*y/_),_=y),x&&g<x&&(_=Math.round(_*x/g),g=x),{height:g,width:_}}},{key:"resizeAndRotateImage",value:function(g,v,_,C,y){var x=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"jpeg",S=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,T=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,P=S/100,D=document.createElement("canvas"),R=g.width,B=g.height,j=this.changeHeightWidth(B,_,R,v,C,y);!T||T!==90&&T!==270?(D.width=j.width,D.height=j.height):(D.width=j.height,D.height=j.width),R=j.width,B=j.height;var V=D.getContext("2d");return V.fillStyle="rgba(0, 0, 0, 0)",V.fillRect(0,0,R,B),V.imageSmoothingEnabled&&V.imageSmoothingQuality&&(V.imageSmoothingQuality="high"),T&&(V.rotate(T*Math.PI/180),T===90?V.translate(0,-D.width):T===180?V.translate(-D.width,-D.height):T===270?V.translate(-D.height,0):T!==0&&T!==360||V.translate(0,0)),V.drawImage(g,0,0,R,B),D.toDataURL("image/".concat(x),P)}},{key:"b64toByteArrays",value:function(g,v){for(var _=atob(g.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),C=[],y=0;y<_.length;y+=512){for(var x=_.slice(y,y+512),S=new Array(x.length),T=0;T<x.length;T++)S[T]=x.charCodeAt(T);var P=new Uint8Array(S);C.push(P)}return C}},{key:"b64toBlob",value:function(g,v){var _=this.b64toByteArrays(g,v);return new Blob(_,{type:v,lastModified:new Date})}},{key:"b64toFile",value:function(g,v,_){var C=this.b64toByteArrays(g,_);return new File(C,v,{type:_,lastModified:new Date})}},{key:"createResizedImage",value:function(g,v,_,C,y,x,S){var T=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"base64",P=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,D=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,R=new FileReader;if(!g)throw Error("File Not Found!");if(g.type&&!g.type.includes("image"))throw Error("File Is NOT Image!");R.readAsDataURL(g),R.onload=function(){var B=new Image;B.src=R.result,B.onload=function(){var j=u.resizeAndRotateImage(B,v,_,P,D,C,y,x),V="image/".concat(C);switch(T){case"blob":var H=u.b64toBlob(j,V);S(H);break;case"base64":S(j);break;case"file":var M=g.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(C.toString()),U=u.b64toFile(j,M,V);S(U);break;default:S(j)}}},R.onerror=function(B){throw Error(B)}}}],m&&o(p,m),u}();const c={imageFileResizer:function(u,p,m,g,v,_,C,y,x,S){return s.createResizedImage(u,p,m,g,v,_,C,y,x,S)}};zV.exports=t})();var fxe=zV.exports;const gxe=s0(fxe);var rS={},mxe=Cr;Object.defineProperty(rS,"__esModule",{value:!0});var FV=rS.default=void 0,kxe=mxe(yi()),bxe=N;FV=rS.default=(0,kxe.default)((0,bxe.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image");const vxe=({sectionId:e,onImagesUploaded:t})=>{const[o,s]=z.useState(!1),[c,u]=z.useState(""),[p,m]=z.useState("success"),g=Q$(),v=async y=>{if(y.target.files){const x=Array.from(y.target.files),S=[];for(const T of x)try{const P=await _(T),D=await C(P);S.push({url:D.url,title:`Image ${Jh()}`})}catch{u("Failed to upload images"),m("error"),s(!0)}t(S),u("Image(s) uploaded successfully"),m("success"),s(!0)}},_=y=>new Promise((x,S)=>{y.size>5*1024*1024?gxe.imageFileResizer(y,500,500,"JPEG",70,0,T=>{typeof T=="string"?S(new Error("Compression returned a string instead of a file")):x(T)},"file"):x(y)}),C=y=>new Promise((x,S)=>{const T=xfe(g,`materials/${e}/${y.name}`);Cfe(T,y).then(P=>{Afe(P.ref).then(D=>{x({url:D,path:P.ref.fullPath})})}).catch(P=>S(P))});return N.jsxs(Ne,{children:[N.jsxs(Ne,{sx:{mt:2,display:"flex",alignItems:"center"},children:[N.jsx(FV,{sx:{mr:1}}),N.jsx(tt,{variant:"h6",children:"Images"})]}),N.jsxs(Ne,{sx:{mt:2},children:[N.jsxs(Lt,{variant:"contained",component:"label",color:"primary",children:["Add Image",N.jsx("input",{type:"file",hidden:!0,accept:"image/*",multiple:!0,onChange:v})]}),N.jsx(Au,{open:o,autoHideDuration:6e3,onClose:()=>s(!1),children:N.jsx(yu,{onClose:()=>s(!1),severity:p,sx:{width:"100%"},children:c})})]})]})},wxe=({imageTitle:e,onTitleChange:t})=>N.jsx(Ro,{variant:"outlined",fullWidth:!0,value:e,onChange:o=>t(o.target.value),placeholder:"Image Title",sx:{mt:1}});var iS={},yxe=Cr;Object.defineProperty(iS,"__esModule",{value:!0});var $V=iS.default=void 0,_xe=yxe(yi()),Cxe=N;$V=iS.default=(0,_xe.default)((0,Cxe.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link");const Axe=({links:e,onLinksChange:t})=>{const o=()=>{const c={title:"",url:"",description:""};t([...e,c])},s=c=>{const u=e.filter((p,m)=>m!==c);t(u)};return N.jsxs(Ne,{children:[N.jsxs(Ne,{sx:{mt:2,display:"flex",alignItems:"center"},children:[N.jsx($V,{sx:{mr:1}}),N.jsx(tt,{variant:"h6",children:"Links"})]}),N.jsx(Ne,{sx:{mt:1},children:e.map((c,u)=>N.jsxs(Ne,{sx:{display:"flex",alignItems:"center",mb:1},children:[N.jsx(Ro,{label:"Title",value:c.title,onChange:p=>{const m=[...e];m[u].title=p.target.value,t(m)},sx:{flexBasis:"20%",mr:1}}),N.jsx(Ro,{label:"URL",value:c.url,onChange:p=>{const m=[...e];m[u].url=p.target.value,t(m)},sx:{flexBasis:"40%",mr:1}}),N.jsx(Ro,{label:"Description",value:c.description,onChange:p=>{const m=[...e];m[u].description=p.target.value,t(m)},sx:{flexBasis:"40%"}}),N.jsx(Zn,{onClick:()=>s(u),children:N.jsx(sg,{})})]},u))}),N.jsx(Lt,{variant:"contained",onClick:o,sx:{mt:2},children:"Add Link"})]})};var VV={exports:{}};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class sS{constructor(t){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof t.crashNumberLimit=="number"?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof t.minimumNonErrorTimePeriod=="number"?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=o=>{const s="error"in o?o.error:o.reason;s instanceof Error&&this._handleError(s,o)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,o){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(o)}off(t,o){this._listeners[t]=this._listeners[t].filter(s=>s!==o)}_fire(t,...o){const s=this._listeners[t]||[];for(const c of s)c.apply(this,[null,...o])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,o){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:o instanceof ErrorEvent?o.filename:void 0,lineno:o instanceof ErrorEvent?o.lineno:void 0,colno:o instanceof ErrorEvent?o.colno:void 0,date:this._now()});const s=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:s}),s?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&t.context!==void 0&&t.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(t)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const t=this.crashes[this.crashes.length-1].date,o=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(t-o)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function B1(e,t=new Set){const o=[e],s=new Set;let c=0;for(;o.length>c;){const u=o[c++];if(!(s.has(u)||!xxe(u)||t.has(u)))if(s.add(u),Symbol.iterator in u)try{for(const p of u)o.push(p)}catch{}else for(const p in u)p!=="defaultValue"&&o.push(u[p])}return s}function xxe(e){const t=Object.prototype.toString.call(e),o=typeof e;return!(o==="number"||o==="boolean"||o==="string"||o==="symbol"||o==="function"||t==="[object Date]"||t==="[object RegExp]"||t==="[object Module]"||e===void 0||e===null||e._watchdogExcluded||e instanceof EventTarget||e instanceof Event)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function UV(e,t,o=new Set){if(e===t&&Exe(e))return!0;const s=B1(e,o),c=B1(t,o);for(const u of s)if(c.has(u))return!0;return!1}function Exe(e){return typeof e=="object"&&e!==null}var HV=typeof global=="object"&&global&&global.Object===Object&&global,Sxe=typeof self=="object"&&self&&self.Object===Object&&self,_i=HV||Sxe||Function("return this")(),nu=_i.Symbol,WV=Object.prototype,Txe=WV.hasOwnProperty,Ixe=WV.toString,$h=nu?nu.toStringTag:void 0;function Dxe(e){var t=Txe.call(e,$h),o=e[$h];try{e[$h]=void 0;var s=!0}catch{}var c=Ixe.call(e);return s&&(t?e[$h]=o:delete e[$h]),c}var Mxe=Object.prototype,Pxe=Mxe.toString;function Nxe(e){return Pxe.call(e)}var Rxe="[object Null]",Oxe="[object Undefined]",yj=nu?nu.toStringTag:void 0;function ac(e){return e==null?e===void 0?Oxe:Rxe:yj&&yj in Object(e)?Dxe(e):Nxe(e)}function qa(e){return e!=null&&typeof e=="object"}var Bxe="[object Symbol]";function Lxe(e){return typeof e=="symbol"||qa(e)&&ac(e)==Bxe}var aS=Array.isArray,jxe=/\s/;function zxe(e){for(var t=e.length;t--&&jxe.test(e.charAt(t)););return t}var Fxe=/^\s+/;function $xe(e){return e&&e.slice(0,zxe(e)+1).replace(Fxe,"")}function Bs(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var _j=NaN,Vxe=/^[-+]0x[0-9a-f]+$/i,Uxe=/^0b[01]+$/i,Hxe=/^0o[0-7]+$/i,Wxe=parseInt;function Cj(e){if(typeof e=="number")return e;if(Lxe(e))return _j;if(Bs(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Bs(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=$xe(e);var o=Uxe.test(e);return o||Hxe.test(e)?Wxe(e.slice(2),o?2:8):Vxe.test(e)?_j:+e}var qxe="[object AsyncFunction]",Gxe="[object Function]",Kxe="[object GeneratorFunction]",Yxe="[object Proxy]";function qV(e){if(!Bs(e))return!1;var t=ac(e);return t==Gxe||t==Kxe||t==qxe||t==Yxe}var FC=_i["__core-js_shared__"],Aj=function(){var e=/[^.]+$/.exec(FC&&FC.keys&&FC.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Qxe(e){return!!Aj&&Aj in e}var Zxe=Function.prototype,Jxe=Zxe.toString;function lc(e){if(e!=null){try{return Jxe.call(e)}catch{}try{return e+""}catch{}}return""}var Xxe=/[\\^$.*+?()[\]{}|]/g,eEe=/^\[object .+?Constructor\]$/,tEe=Function.prototype,nEe=Object.prototype,oEe=tEe.toString,rEe=nEe.hasOwnProperty,iEe=RegExp("^"+oEe.call(rEe).replace(Xxe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sEe(e){if(!Bs(e)||Qxe(e))return!1;var t=qV(e)?iEe:eEe;return t.test(lc(e))}function aEe(e,t){return e==null?void 0:e[t]}function cc(e,t){var o=aEe(e,t);return sEe(o)?o:void 0}var L1=cc(_i,"WeakMap"),xj=Object.create,lEe=function(){function e(){}return function(t){if(!Bs(t))return{};if(xj)return xj(t);e.prototype=t;var o=new e;return e.prototype=void 0,o}}();function cEe(e,t){var o=-1,s=e.length;for(t||(t=Array(s));++o<s;)t[o]=e[o];return t}var Ej=function(){try{var e=cc(Object,"defineProperty");return e({},"",{}),e}catch{}}();function dEe(e,t){for(var o=-1,s=e==null?0:e.length;++o<s&&t(e[o],o,e)!==!1;);return e}var uEe=9007199254740991,hEe=/^(?:0|[1-9]\d*)$/;function pEe(e,t){var o=typeof e;return t=t??uEe,!!t&&(o=="number"||o!="symbol"&&hEe.test(e))&&e>-1&&e%1==0&&e<t}function GV(e,t,o){t=="__proto__"&&Ej?Ej(e,t,{configurable:!0,enumerable:!0,value:o,writable:!0}):e[t]=o}function KV(e,t){return e===t||e!==e&&t!==t}var fEe=Object.prototype,gEe=fEe.hasOwnProperty;function YV(e,t,o){var s=e[t];(!(gEe.call(e,t)&&KV(s,o))||o===void 0&&!(t in e))&&GV(e,t,o)}function uw(e,t,o,s){var c=!o;o||(o={});for(var u=-1,p=t.length;++u<p;){var m=t[u],g=void 0;g===void 0&&(g=e[m]),c?GV(o,m,g):YV(o,m,g)}return o}var mEe=9007199254740991;function QV(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=mEe}function ZV(e){return e!=null&&QV(e.length)&&!qV(e)}var kEe=Object.prototype;function lS(e){var t=e&&e.constructor,o=typeof t=="function"&&t.prototype||kEe;return e===o}function bEe(e,t){for(var o=-1,s=Array(e);++o<e;)s[o]=t(o);return s}var vEe="[object Arguments]";function Sj(e){return qa(e)&&ac(e)==vEe}var JV=Object.prototype,wEe=JV.hasOwnProperty,yEe=JV.propertyIsEnumerable,_Ee=Sj(function(){return arguments}())?Sj:function(e){return qa(e)&&wEe.call(e,"callee")&&!yEe.call(e,"callee")};function CEe(){return!1}var XV=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Tj=XV&&typeof module=="object"&&module&&!module.nodeType&&module,AEe=Tj&&Tj.exports===XV,Ij=AEe?_i.Buffer:void 0,xEe=Ij?Ij.isBuffer:void 0,eU=xEe||CEe,EEe="[object Arguments]",SEe="[object Array]",TEe="[object Boolean]",IEe="[object Date]",DEe="[object Error]",MEe="[object Function]",PEe="[object Map]",NEe="[object Number]",REe="[object Object]",OEe="[object RegExp]",BEe="[object Set]",LEe="[object String]",jEe="[object WeakMap]",zEe="[object ArrayBuffer]",FEe="[object DataView]",$Ee="[object Float32Array]",VEe="[object Float64Array]",UEe="[object Int8Array]",HEe="[object Int16Array]",WEe="[object Int32Array]",qEe="[object Uint8Array]",GEe="[object Uint8ClampedArray]",KEe="[object Uint16Array]",YEe="[object Uint32Array]",tn={};tn[$Ee]=tn[VEe]=tn[UEe]=tn[HEe]=tn[WEe]=tn[qEe]=tn[GEe]=tn[KEe]=tn[YEe]=!0;tn[EEe]=tn[SEe]=tn[zEe]=tn[TEe]=tn[FEe]=tn[IEe]=tn[DEe]=tn[MEe]=tn[PEe]=tn[NEe]=tn[REe]=tn[OEe]=tn[BEe]=tn[LEe]=tn[jEe]=!1;function QEe(e){return qa(e)&&QV(e.length)&&!!tn[ac(e)]}function cS(e){return function(t){return e(t)}}var tU=typeof exports=="object"&&exports&&!exports.nodeType&&exports,_p=tU&&typeof module=="object"&&module&&!module.nodeType&&module,ZEe=_p&&_p.exports===tU,$C=ZEe&&HV.process,ou=function(){try{var e=_p&&_p.require&&_p.require("util").types;return e||$C&&$C.binding&&$C.binding("util")}catch{}}(),Dj=ou&&ou.isTypedArray,JEe=Dj?cS(Dj):QEe,XEe=Object.prototype,e2e=XEe.hasOwnProperty;function nU(e,t){var o=aS(e),s=!o&&_Ee(e),c=!o&&!s&&eU(e),u=!o&&!s&&!c&&JEe(e),p=o||s||c||u,m=p?bEe(e.length,String):[],g=m.length;for(var v in e)(t||e2e.call(e,v))&&!(p&&(v=="length"||c&&(v=="offset"||v=="parent")||u&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||pEe(v,g)))&&m.push(v);return m}function oU(e,t){return function(o){return e(t(o))}}var t2e=oU(Object.keys,Object),n2e=Object.prototype,o2e=n2e.hasOwnProperty;function r2e(e){if(!lS(e))return t2e(e);var t=[];for(var o in Object(e))o2e.call(e,o)&&o!="constructor"&&t.push(o);return t}function dS(e){return ZV(e)?nU(e):r2e(e)}function i2e(e){var t=[];if(e!=null)for(var o in Object(e))t.push(o);return t}var s2e=Object.prototype,a2e=s2e.hasOwnProperty;function l2e(e){if(!Bs(e))return i2e(e);var t=lS(e),o=[];for(var s in e)s=="constructor"&&(t||!a2e.call(e,s))||o.push(s);return o}function uS(e){return ZV(e)?nU(e,!0):l2e(e)}var bf=cc(Object,"create");function c2e(){this.__data__=bf?bf(null):{},this.size=0}function d2e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var u2e="__lodash_hash_undefined__",h2e=Object.prototype,p2e=h2e.hasOwnProperty;function f2e(e){var t=this.__data__;if(bf){var o=t[e];return o===u2e?void 0:o}return p2e.call(t,e)?t[e]:void 0}var g2e=Object.prototype,m2e=g2e.hasOwnProperty;function k2e(e){var t=this.__data__;return bf?t[e]!==void 0:m2e.call(t,e)}var b2e="__lodash_hash_undefined__";function v2e(e,t){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=bf&&t===void 0?b2e:t,this}function Jl(e){var t=-1,o=e==null?0:e.length;for(this.clear();++t<o;){var s=e[t];this.set(s[0],s[1])}}Jl.prototype.clear=c2e;Jl.prototype.delete=d2e;Jl.prototype.get=f2e;Jl.prototype.has=k2e;Jl.prototype.set=v2e;function w2e(){this.__data__=[],this.size=0}function hw(e,t){for(var o=e.length;o--;)if(KV(e[o][0],t))return o;return-1}var y2e=Array.prototype,_2e=y2e.splice;function C2e(e){var t=this.__data__,o=hw(t,e);if(o<0)return!1;var s=t.length-1;return o==s?t.pop():_2e.call(t,o,1),--this.size,!0}function A2e(e){var t=this.__data__,o=hw(t,e);return o<0?void 0:t[o][1]}function x2e(e){return hw(this.__data__,e)>-1}function E2e(e,t){var o=this.__data__,s=hw(o,e);return s<0?(++this.size,o.push([e,t])):o[s][1]=t,this}function js(e){var t=-1,o=e==null?0:e.length;for(this.clear();++t<o;){var s=e[t];this.set(s[0],s[1])}}js.prototype.clear=w2e;js.prototype.delete=C2e;js.prototype.get=A2e;js.prototype.has=x2e;js.prototype.set=E2e;var vf=cc(_i,"Map");function S2e(){this.size=0,this.__data__={hash:new Jl,map:new(vf||js),string:new Jl}}function T2e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function pw(e,t){var o=e.__data__;return T2e(t)?o[typeof t=="string"?"string":"hash"]:o.map}function I2e(e){var t=pw(this,e).delete(e);return this.size-=t?1:0,t}function D2e(e){return pw(this,e).get(e)}function M2e(e){return pw(this,e).has(e)}function P2e(e,t){var o=pw(this,e),s=o.size;return o.set(e,t),this.size+=o.size==s?0:1,this}function xu(e){var t=-1,o=e==null?0:e.length;for(this.clear();++t<o;){var s=e[t];this.set(s[0],s[1])}}xu.prototype.clear=S2e;xu.prototype.delete=I2e;xu.prototype.get=D2e;xu.prototype.has=M2e;xu.prototype.set=P2e;function rU(e,t){for(var o=-1,s=t.length,c=e.length;++o<s;)e[c+o]=t[o];return e}var hS=oU(Object.getPrototypeOf,Object),N2e="[object Object]",R2e=Function.prototype,O2e=Object.prototype,iU=R2e.toString,B2e=O2e.hasOwnProperty,L2e=iU.call(Object);function j2e(e){if(!qa(e)||ac(e)!=N2e)return!1;var t=hS(e);if(t===null)return!0;var o=B2e.call(t,"constructor")&&t.constructor;return typeof o=="function"&&o instanceof o&&iU.call(o)==L2e}function z2e(){this.__data__=new js,this.size=0}function F2e(e){var t=this.__data__,o=t.delete(e);return this.size=t.size,o}function $2e(e){return this.__data__.get(e)}function V2e(e){return this.__data__.has(e)}var U2e=200;function H2e(e,t){var o=this.__data__;if(o instanceof js){var s=o.__data__;if(!vf||s.length<U2e-1)return s.push([e,t]),this.size=++o.size,this;o=this.__data__=new xu(s)}return o.set(e,t),this.size=o.size,this}function Eu(e){var t=this.__data__=new js(e);this.size=t.size}Eu.prototype.clear=z2e;Eu.prototype.delete=F2e;Eu.prototype.get=$2e;Eu.prototype.has=V2e;Eu.prototype.set=H2e;function W2e(e,t){return e&&uw(t,dS(t),e)}function q2e(e,t){return e&&uw(t,uS(t),e)}var sU=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Mj=sU&&typeof module=="object"&&module&&!module.nodeType&&module,G2e=Mj&&Mj.exports===sU,Pj=G2e?_i.Buffer:void 0,Nj=Pj?Pj.allocUnsafe:void 0;function K2e(e,t){if(t)return e.slice();var o=e.length,s=Nj?Nj(o):new e.constructor(o);return e.copy(s),s}function Y2e(e,t){for(var o=-1,s=e==null?0:e.length,c=0,u=[];++o<s;){var p=e[o];t(p,o,e)&&(u[c++]=p)}return u}function aU(){return[]}var Q2e=Object.prototype,Z2e=Q2e.propertyIsEnumerable,Rj=Object.getOwnPropertySymbols,pS=Rj?function(e){return e==null?[]:(e=Object(e),Y2e(Rj(e),function(t){return Z2e.call(e,t)}))}:aU;function J2e(e,t){return uw(e,pS(e),t)}var X2e=Object.getOwnPropertySymbols,lU=X2e?function(e){for(var t=[];e;)rU(t,pS(e)),e=hS(e);return t}:aU;function eSe(e,t){return uw(e,lU(e),t)}function cU(e,t,o){var s=t(e);return aS(e)?s:rU(s,o(e))}function tSe(e){return cU(e,dS,pS)}function nSe(e){return cU(e,uS,lU)}var j1=cc(_i,"DataView"),z1=cc(_i,"Promise"),F1=cc(_i,"Set"),Oj="[object Map]",oSe="[object Object]",Bj="[object Promise]",Lj="[object Set]",jj="[object WeakMap]",zj="[object DataView]",rSe=lc(j1),iSe=lc(vf),sSe=lc(z1),aSe=lc(F1),lSe=lc(L1),ps=ac;(j1&&ps(new j1(new ArrayBuffer(1)))!=zj||vf&&ps(new vf)!=Oj||z1&&ps(z1.resolve())!=Bj||F1&&ps(new F1)!=Lj||L1&&ps(new L1)!=jj)&&(ps=function(e){var t=ac(e),o=t==oSe?e.constructor:void 0,s=o?lc(o):"";if(s)switch(s){case rSe:return zj;case iSe:return Oj;case sSe:return Bj;case aSe:return Lj;case lSe:return jj}return t});var cSe=Object.prototype,dSe=cSe.hasOwnProperty;function uSe(e){var t=e.length,o=new e.constructor(t);return t&&typeof e[0]=="string"&&dSe.call(e,"index")&&(o.index=e.index,o.input=e.input),o}var Fj=_i.Uint8Array;function fS(e){var t=new e.constructor(e.byteLength);return new Fj(t).set(new Fj(e)),t}function hSe(e,t){var o=t?fS(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)}var pSe=/\w*$/;function fSe(e){var t=new e.constructor(e.source,pSe.exec(e));return t.lastIndex=e.lastIndex,t}var $j=nu?nu.prototype:void 0,Vj=$j?$j.valueOf:void 0;function gSe(e){return Vj?Object(Vj.call(e)):{}}function mSe(e,t){var o=t?fS(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)}var kSe="[object Boolean]",bSe="[object Date]",vSe="[object Map]",wSe="[object Number]",ySe="[object RegExp]",_Se="[object Set]",CSe="[object String]",ASe="[object Symbol]",xSe="[object ArrayBuffer]",ESe="[object DataView]",SSe="[object Float32Array]",TSe="[object Float64Array]",ISe="[object Int8Array]",DSe="[object Int16Array]",MSe="[object Int32Array]",PSe="[object Uint8Array]",NSe="[object Uint8ClampedArray]",RSe="[object Uint16Array]",OSe="[object Uint32Array]";function BSe(e,t,o){var s=e.constructor;switch(t){case xSe:return fS(e);case kSe:case bSe:return new s(+e);case ESe:return hSe(e,o);case SSe:case TSe:case ISe:case DSe:case MSe:case PSe:case NSe:case RSe:case OSe:return mSe(e,o);case vSe:return new s;case wSe:case CSe:return new s(e);case ySe:return fSe(e);case _Se:return new s;case ASe:return gSe(e)}}function LSe(e){return typeof e.constructor=="function"&&!lS(e)?lEe(hS(e)):{}}var jSe="[object Map]";function zSe(e){return qa(e)&&ps(e)==jSe}var Uj=ou&&ou.isMap,FSe=Uj?cS(Uj):zSe,$Se="[object Set]";function VSe(e){return qa(e)&&ps(e)==$Se}var Hj=ou&&ou.isSet,USe=Hj?cS(Hj):VSe,HSe=1,WSe=2,qSe=4,dU="[object Arguments]",GSe="[object Array]",KSe="[object Boolean]",YSe="[object Date]",QSe="[object Error]",uU="[object Function]",ZSe="[object GeneratorFunction]",JSe="[object Map]",XSe="[object Number]",hU="[object Object]",eTe="[object RegExp]",tTe="[object Set]",nTe="[object String]",oTe="[object Symbol]",rTe="[object WeakMap]",iTe="[object ArrayBuffer]",sTe="[object DataView]",aTe="[object Float32Array]",lTe="[object Float64Array]",cTe="[object Int8Array]",dTe="[object Int16Array]",uTe="[object Int32Array]",hTe="[object Uint8Array]",pTe="[object Uint8ClampedArray]",fTe="[object Uint16Array]",gTe="[object Uint32Array]",Yt={};Yt[dU]=Yt[GSe]=Yt[iTe]=Yt[sTe]=Yt[KSe]=Yt[YSe]=Yt[aTe]=Yt[lTe]=Yt[cTe]=Yt[dTe]=Yt[uTe]=Yt[JSe]=Yt[XSe]=Yt[hU]=Yt[eTe]=Yt[tTe]=Yt[nTe]=Yt[oTe]=Yt[hTe]=Yt[pTe]=Yt[fTe]=Yt[gTe]=!0;Yt[QSe]=Yt[uU]=Yt[rTe]=!1;function Qk(e,t,o,s,c,u){var p,m=t&HSe,g=t&WSe,v=t&qSe;if(o&&(p=c?o(e,s,c,u):o(e)),p!==void 0)return p;if(!Bs(e))return e;var _=aS(e);if(_){if(p=uSe(e),!m)return cEe(e,p)}else{var C=ps(e),y=C==uU||C==ZSe;if(eU(e))return K2e(e,m);if(C==hU||C==dU||y&&!c){if(p=g||y?{}:LSe(e),!m)return g?eSe(e,q2e(p,e)):J2e(e,W2e(p,e))}else{if(!Yt[C])return c?e:{};p=BSe(e,C,m)}}u||(u=new Eu);var x=u.get(e);if(x)return x;u.set(e,p),USe(e)?e.forEach(function(P){p.add(Qk(P,t,o,P,e,u))}):FSe(e)&&e.forEach(function(P,D){p.set(D,Qk(P,t,o,D,e,u))});var S=v?g?nSe:tSe:g?uS:dS,T=_?void 0:S(e);return dEe(T||e,function(P,D){T&&(D=P,P=e[D]),YV(p,D,Qk(P,t,o,D,e,u))}),p}var mTe=1,kTe=4;function bTe(e,t){return t=typeof t=="function"?t:void 0,Qk(e,mTe|kTe,t)}var VC=function(){return _i.Date.now()},vTe="Expected a function",wTe=Math.max,yTe=Math.min;function _Te(e,t,o){var s,c,u,p,m,g,v=0,_=!1,C=!1,y=!0;if(typeof e!="function")throw new TypeError(vTe);t=Cj(t)||0,Bs(o)&&(_=!!o.leading,C="maxWait"in o,u=C?wTe(Cj(o.maxWait)||0,t):u,y="trailing"in o?!!o.trailing:y);function x(H){var M=s,U=c;return s=c=void 0,v=H,p=e.apply(U,M),p}function S(H){return v=H,m=setTimeout(D,t),_?x(H):p}function T(H){var M=H-g,U=H-v,G=t-M;return C?yTe(G,u-U):G}function P(H){var M=H-g,U=H-v;return g===void 0||M>=t||M<0||C&&U>=u}function D(){var H=VC();if(P(H))return R(H);m=setTimeout(D,T(H))}function R(H){return m=void 0,y&&s?x(H):(s=c=void 0,p)}function B(){m!==void 0&&clearTimeout(m),v=0,s=g=c=m=void 0}function j(){return m===void 0?p:R(VC())}function V(){var H=VC(),M=P(H);if(s=arguments,c=this,g=H,M){if(m===void 0)return S(g);if(C)return clearTimeout(m),m=setTimeout(D,t),x(g)}return m===void 0&&(m=setTimeout(D,t)),p}return V.cancel=B,V.flush=j,V}function Wj(e){return qa(e)&&e.nodeType===1&&!j2e(e)}var CTe="Expected a function";function ATe(e,t,o){var s=!0,c=!0;if(typeof e!="function")throw new TypeError(CTe);return Bs(o)&&(s="leading"in o?!!o.leading:s,c="trailing"in o?!!o.trailing:c),_Te(e,t,{leading:s,maxWait:t,trailing:c})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class pU extends sS{constructor(t,o={}){super(o),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=ATe(this._save.bind(this),typeof o.saveInterval=="number"?o.saveInterval:5e3),t&&(this._creator=(s,c)=>t.create(s,c)),this._destructor=s=>s.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(t=>{console.error("An error happened during the editor destroying.",t)}).then(()=>{const t={},o=[],s=this._config.rootsAttributes||{},c={};for(const[p,m]of Object.entries(this._data.roots))m.isLoaded?(t[p]="",c[p]=s[p]||{}):o.push(p);const u={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:o,rootsAttributes:c,_watchdogInitialData:this._data};return delete u.initialData,u.extraPlugins.push(xTe),this._initUsingData?this.create(t,u,u.context):Wj(this._elementOrData)?this.create(this._elementOrData,u,u.context):this.create(this._editables,u,u.context)}).then(()=>{this._fire("restart")})}create(t=this._elementOrData,o=this._config,s){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=t,this._initUsingData=typeof t=="string"||Object.keys(t).length>0&&typeof Object.values(t)[0]=="string",this._config=this._cloneEditorConfiguration(o)||{},this._config.context=s,this._creator(t,this._config))).then(c=>{this._editor=c,c.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=c.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const t=this._editor;return this._editor=null,t.model.document.off("change:data",this._throttledSave),this._destructor(t)})}_save(){const t=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=t}catch(o){console.error(o,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t=this._editor,o=t.model.document.roots.filter(m=>m.isAttached()&&m.rootName!="$graveyard"),{plugins:s}=t,c=s.has("CommentsRepository")&&s.get("CommentsRepository"),u=s.has("TrackChanges")&&s.get("TrackChanges"),p={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};o.forEach(m=>{p.roots[m.rootName]={content:JSON.stringify(Array.from(m.getChildren())),attributes:JSON.stringify(Array.from(m.getAttributes())),isLoaded:m._isLoaded}});for(const m of t.model.markers)m._affectsData&&(p.markers[m.name]={rangeJSON:m.getRange().toJSON(),usingOperation:m._managedUsingOperations,affectsData:m._affectsData});return c&&(p.commentThreads=JSON.stringify(c.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),u&&(p.suggestions=JSON.stringify(u.getSuggestions({toJSON:!0,skipNotAttached:!0}))),p}_getEditables(){const t={};for(const o of this.editor.model.document.getRootNames()){const s=this.editor.ui.getEditableElement(o);s&&(t[o]=s)}return t}_isErrorComingFromThisItem(t){return UV(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return bTe(t,(o,s)=>{if(Wj(o)||s==="context")return o})}}class xTe{constructor(t){this.editor=t,this._data=t.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",t=>{t.stop(),this.editor.model.enqueueChange({isUndoable:!1},o=>{this._restoreCollaborationData(),this._restoreEditorData(o)}),this.editor.data.fire("ready")},{priority:999})}_createNode(t,o){if("name"in o){const s=t.createElement(o.name,o.attributes);if(o.children)for(const c of o.children)s._appendChild(this._createNode(t,c));return s}else return t.createText(o.data,o.attributes)}_restoreEditorData(t){const o=this.editor;Object.entries(this._data.roots).forEach(([s,{content:c,attributes:u}])=>{const p=JSON.parse(c),m=JSON.parse(u),g=o.model.document.getRoot(s);for(const[v,_]of m)t.setAttribute(v,_,g);for(const v of p){const _=this._createNode(t,v);t.insert(_,g,"end")}}),Object.entries(this._data.markers).forEach(([s,c])=>{const{document:u}=o.model,{rangeJSON:{start:p,end:m},...g}=c,v=u.getRoot(p.root),_=t.createPositionFromPath(v,p.path,p.stickiness),C=t.createPositionFromPath(v,m.path,m.stickiness),y=t.createRange(_,C);t.addMarker(s,{range:y,...g})})}_restoreCollaborationData(){const t=JSON.parse(this._data.commentThreads),o=JSON.parse(this._data.suggestions);t.forEach(s=>{const c=this.editor.config.get("collaboration.channelId"),u=this.editor.plugins.get("CommentsRepository");u.hasCommentThread(s.threadId)&&u.getCommentThread(s.threadId).remove(),u.addCommentThread({channelId:c,...s})}),o.forEach(s=>{const c=this.editor.plugins.get("TrackChangesEditing");if(c.hasSuggestion(s.id)){const u=c.getSuggestion(s.id);u.attributes=s.attributes}else c.addSuggestionData(s)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Cp=Symbol("MainQueueId");class ETe extends sS{constructor(t,o={}){super(o),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new STe,this._watchdogConfig=o,this._creator=s=>t.create(s),this._destructor=s=>s.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}get context(){return this._context}create(t={}){return this._actionQueues.enqueue(Cp,()=>(this._contextConfig=t,this._create()))}getItem(t){return this._getWatchdog(t)._item}getItemState(t){return this._getWatchdog(t).state}add(t){const o=qj(t);return Promise.all(o.map(s=>this._actionQueues.enqueue(s.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let c;if(this._watchdogs.has(s.id))throw new Error(`Item with the given id is already added: '${s.id}'.`);if(s.type==="editor")return c=new pU(null,this._watchdogConfig),c.setCreator(s.creator),c._setExcludedProperties(this._contextProps),s.destructor&&c.setDestructor(s.destructor),this._watchdogs.set(s.id,c),c.on("error",(u,{error:p,causesRestart:m})=>{this._fire("itemError",{itemId:s.id,error:p}),m&&this._actionQueues.enqueue(s.id,()=>new Promise(g=>{const v=()=>{c.off("restart",v),this._fire("itemRestart",{itemId:s.id}),g()};c.on("restart",v)}))}),c.create(s.sourceElementOrData,s.config,this._context);throw new Error(`Not supported item type: '${s.type}'.`)})))}remove(t){const o=qj(t);return Promise.all(o.map(s=>this._actionQueues.enqueue(s,()=>{const c=this._getWatchdog(s);return this._watchdogs.delete(s),c.destroy()})))}destroy(){return this._actionQueues.enqueue(Cp,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Cp,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(t=>{console.error("An error happened during destroying the context or items.",t)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(t=>(this._context=t,this._contextProps=B1(this._context),Promise.all(Array.from(this._watchdogs.values()).map(o=>(o._setExcludedProperties(this._contextProps),o.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const t=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(o=>o.destroy())).then(()=>this._destructor(t))})}_getWatchdog(t){const o=this._watchdogs.get(t);if(!o)throw new Error(`Item with the given id was not registered: ${t}.`);return o}_isErrorComingFromThisItem(t){for(const o of this._watchdogs.values())if(o._isErrorComingFromThisItem(t))return!1;return UV(this._context,t.context)}}class STe{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(t){this._onEmptyCallbacks.push(t)}enqueue(t,o){const s=t===Cp;this._activeActions++,this._queues.get(t)||this._queues.set(t,Promise.resolve());const u=(s?Promise.all(this._queues.values()):Promise.all([this._queues.get(Cp),this._queues.get(t)])).then(o),p=u.catch(()=>{});return this._queues.set(t,p),u.finally(()=>{this._activeActions--,this._queues.get(t)===p&&this._activeActions===0&&this._onEmptyCallbacks.forEach(m=>m())})}}function qj(e){return Array.isArray(e)?e:[e]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const TTe=Object.freeze(Object.defineProperty({__proto__:null,ContextWatchdog:ETe,EditorWatchdog:pU,Watchdog:sS},Symbol.toStringTag,{value:"Module"})),ITe=Yi(TTe);/*!
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(e,t){(function(o,s){e.exports=s(z,Lge,ITe)})(self,(o,s,c)=>(()=>{var u={546:v=>{v.exports=c},949:v=>{v.exports=s},155:v=>{v.exports=o}},p={};function m(v){var _=p[v];if(_!==void 0)return _.exports;var C=p[v]={exports:{}};return u[v](C,C.exports,m),C.exports}m.n=v=>{var _=v&&v.__esModule?()=>v.default:()=>v;return m.d(_,{a:_}),_},m.d=(v,_)=>{for(var C in _)m.o(_,C)&&!m.o(v,C)&&Object.defineProperty(v,C,{enumerable:!0,get:_[C]})},m.o=(v,_)=>Object.prototype.hasOwnProperty.call(v,_),m.r=v=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})};var g={};return(()=>{m.r(g),m.d(g,{CKEditor:()=>R,CKEditorContext:()=>P,useMultiRootEditor:()=>H});var v=m(155),_=m.n(v),C=m(949),y=m.n(C);const x=new Array(256).fill("").map((M,U)=>("0"+U.toString(16)).slice(-2));var S=m(546);const T=_().createContext("contextWatchdog");class P extends _().Component{constructor(U,G){super(U,G),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(U){return this._shouldComponentUpdate(U)}async _shouldComponentUpdate(U){return U.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(U.config)),U.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(U.config),!0):this.props.children!==U.children}render(){return _().createElement(T.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(U){this.contextWatchdog=new S.ContextWatchdog(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(G,K)=>{this.props.onError(K.error,{phase:"runtime",willContextRestart:K.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(U).catch(G=>{this.props.onError(G,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}P.defaultProps={isLayoutReady:!0,onError:(M,U)=>console.error(M,U)},P.propTypes={id:y().string,isLayoutReady:y().bool,context:y().func,watchdogConfig:y().object,config:y().object,onReady:y().func,onError:y().func};const D="Lock from React integration (@ckeditor/ckeditor5-react)";class R extends _().Component{constructor(U){super(U),this.editorDestructionInProgress=null,this.domContainer=_().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:G}=window;if(G){const[K]=G.split(".").map(Number);K<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(U){return!!this.editor&&(U.id!==this.props.id||U.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(U)&&this.editor.data.set(U.data),"disabled"in U&&(U.disabled?this.editor.enableReadOnlyMode(D):this.editor.disableReadOnlyMode(D)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return _().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof S.ContextWatchdog?this.watchdog=new B(this.context):this.watchdog=new R._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((U,G)=>this._createEditor(U,G)),this.watchdog.on("error",(U,{error:G,causesRestart:K})=>{(this.props.onError||console.error)(G,{phase:"runtime",willEditorRestart:K})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(U=>{(this.props.onError||console.error)(U,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(U,G){return this.props.editor.create(U,G).then(K=>{"disabled"in this.props&&this.props.disabled&&K.enableReadOnlyMode(D);const Z=K.model.document,se=K.editing.view.document;return Z.on("change:data",X=>{this.props.onChange&&this.props.onChange(X,K)}),se.on("focus",X=>{this.props.onFocus&&this.props.onFocus(X,K)}),se.on("blur",X=>{this.props.onBlur&&this.props.onBlur(X,K)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(K)}),K})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(U=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,U()):this.instance?(await this.instance.destroy(),this.instance=null,U()):void U())})}_shouldUpdateEditor(U){return this.props.data!==U.data&&this.editor.data.get()!==U.data}_getConfig(){const U=this.props.config||{};return this.props.data&&U.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...U,initialData:U.initialData||this.props.data||""}}}R.contextType=T,R.propTypes={editor:y().func.isRequired,data:y().string,config:y().object,disableWatchdog:y().bool,watchdogConfig:y().object,onChange:y().func,onReady:y().func,onFocus:y().func,onBlur:y().func,onError:y().func,disabled:y().bool,id:y().any},R._EditorWatchdog=S.EditorWatchdog;class B{constructor(U){this._contextWatchdog=U,this._id=function(){const G=4294967296*Math.random()>>>0,K=4294967296*Math.random()>>>0,Z=4294967296*Math.random()>>>0,se=4294967296*Math.random()>>>0;return"e"+x[255&G]+x[G>>8&255]+x[G>>16&255]+x[G>>24&255]+x[255&K]+x[K>>8&255]+x[K>>16&255]+x[K>>24&255]+x[255&Z]+x[Z>>8&255]+x[Z>>16&255]+x[Z>>24&255]+x[255&se]+x[se>>8&255]+x[se>>16&255]+x[se>>24&255]}()}setCreator(U){this._creator=U}create(U,G){return this._contextWatchdog.add({sourceElementOrData:U,config:G,creator:this._creator,id:this._id,type:"editor"})}on(U,G){this._contextWatchdog.on("itemError",(K,{itemId:Z,error:se})=>{Z===this._id&&G(null,{error:se,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}const j="Lock from React integration (@ckeditor/ckeditor5-react)",V=({editor:M})=>{const U=(0,v.useRef)(null);return(0,v.useEffect)(()=>{const G=U.current;if(!M||!G)return;const K=M.ui.view.toolbar.element;return G&&G.appendChild(K),()=>{G&&G.removeChild(K)}},[M&&M.id]),_().createElement("div",{ref:U})},H=M=>{const U=(0,v.useRef)(null),G=(0,v.useRef)(null),K=(0,v.useContext)(T),[Z,se]=(0,v.useState)(null),[X,ee]=(0,v.useState)(M.data),[oe,ie]=(0,v.useState)(M.rootsAttributes||{}),[ae,q]=(0,v.useState)([]),te=(0,v.useRef)(!0);(0,v.useEffect)(()=>((async()=>(await G.current,M.isLayoutReady!==!1&&await De()))(),()=>{We().then(()=>{G.current=null})}),[M.isLayoutReady]),(0,v.useEffect)(()=>{Z&&(M.disabled?Z.enableReadOnlyMode(j):Z.disableReadOnlyMode(j))},[M.disabled]),(0,v.useEffect)(()=>{if(Z&&!G.current){const Ee=Z.getFullData();ee({...Ee}),ie({...Z.getRootsAttributes()}),q([...Object.keys(Ee).map(Q=>Te(Z,Q))])}},[Z&&Z.id]);const de=()=>{const Ee=M.config||{};return M.data&&Ee.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` property. The config value takes precedence over `data` property and will be used when both are specified."),{...Ee,rootsAttributes:oe}},Te=(Ee,Q)=>_().createElement("div",{id:Q,key:Q,ref:ne=>{if(ne){const le=Ee.ui.view.createEditable(Q,ne);Ee.ui.addEditable(le),Ee.editing.view.forceRender()}}}),Ie=(Ee,Q)=>M.editor.create(Ee,Q).then(ne=>{M.disabled&&M.disabled&&ne.enableReadOnlyMode(j);const le=ne.model.document,Ce=ne.editing.view.document;return le.on("change:data",Pe=>((Ye,Rt)=>{const ot=Ye.model.document;if(!M.disableTwoWayDataBinding){const Oe={},et={};ot.differ.getChanges().forEach(Je=>{let qe;if(qe=Je.type=="insert"||Je.type=="remove"?Je.position.root:Je.range.root,!qe.isAttached())return;const{rootName:gt}=qe;Oe[gt]=Ye.getData({rootName:gt})}),ot.differ.getChangedRoots().forEach(Je=>{if(Je.state)return void(Oe[Je.name]!==void 0&&delete Oe[Je.name]);const qe=Je.name;et[qe]=Ye.getRootAttributes(qe)}),Object.keys(Oe).length&&ee(Je=>({...Je,...Oe})),Object.keys(et).length&&ie(Je=>({...Je,...et}))}M.onChange&&M.onChange(Rt,Ye)})(ne,Pe)),ne.on("addRoot",(Pe,Ye)=>((Rt,ot,Oe)=>{const et=Oe.rootName,Je=Te(Rt,et);M.disableTwoWayDataBinding||(ee(qe=>({...qe,[et]:Rt.getData({rootName:et})})),ie(qe=>({...qe,[et]:Rt.getRootAttributes(et)}))),q(qe=>[...qe,Je])})(ne,0,Ye)),ne.on("detachRoot",(Pe,Ye)=>((Rt,ot,Oe)=>{const et=Oe.rootName;q(Je=>Je.filter(qe=>qe.props.id!==et)),M.disableTwoWayDataBinding||(ee(Je=>{const{[et]:qe,...gt}=Je;return{...gt}}),ie(Je=>{const{[et]:qe,...gt}=Je;return{...gt}})),Rt.detachEditable(Oe)})(ne,0,Ye)),Ce.on("focus",Pe=>{M.onFocus&&M.onFocus(Pe,ne)}),Ce.on("blur",Pe=>{M.onBlur&&M.onBlur(Pe,ne)}),se(ne),M.onReady&&M.onReady(ne),ne}),We=async()=>{se(null),ee({}),ie({}),q([]),G.current=new Promise(Ee=>{setTimeout(async()=>U.current?(await U.current.destroy(),U.current=null,Ee()):Z?(await Z.destroy(),Ee()):void Ee())})},De=async()=>{if(M.disableWatchdog)return void await Ie(M.data,de());if(U.current)return;K instanceof S.ContextWatchdog?U.current=new B(K):U.current=new S.EditorWatchdog(M.editor,M.watchdogConfig);const Ee=U.current;Ee.setCreator((Q,ne)=>Ie(Q,ne)),Ee.on("error",(Q,{error:ne,causesRestart:le})=>{(M.onError||console.error)(ne,{phase:"runtime",willEditorRestart:le})}),await Ee.create(X,de()).catch(Q=>{(M.onError||console.error)(Q,{phase:"initialization",willEditorRestart:!1})})};(0,v.useEffect)(()=>{if(Z&&te.current){te.current=!1;const Ee=Object.keys(X),Q=Object.keys(oe);if(!Ee.every(ot=>Q.includes(ot)))throw new Error("`data` and `attributes` objects must have the same keys (roots).");const ne=Z.getFullData(),le=Z.getRootsAttributes(),{addedKeys:Ce,removedKeys:Pe}=Qe(ne,X||{}),Ye=Ee.some(ot=>ne[ot]!==void 0&&JSON.stringify(ne[ot])!==JSON.stringify(X[ot])),Rt=Q.filter(ot=>JSON.stringify(le[ot])!==JSON.stringify(oe[ot]));Z.model.change(ot=>{xe(Ce),ut(Pe),Ye&&ct(),Rt.length&&at(ot,Rt)})}},[X,oe]);const Qe=(Ee,Q)=>{const ne=Object.keys(Ee),le=Object.keys(Q);return{addedKeys:le.filter(Ce=>!ne.includes(Ce)),removedKeys:ne.filter(Ce=>!le.includes(Ce))}},xe=Ee=>{Ee.forEach(Q=>{Z.addRoot(Q,{data:X[Q]||"",attributes:(oe==null?void 0:oe[Q])||{},isUndoable:!0})})},ut=Ee=>{Ee.forEach(Q=>{Z.detachRoot(Q,!0)})},ct=()=>{Z.data.set(X,{suppressErrorInCollaboration:!0})},at=(Ee,Q)=>{Q.forEach(ne=>{Object.keys(oe[ne]).forEach(le=>{Z.registerRootAttribute(le)}),Ee.clearAttributes(Z.model.document.getRoot(ne)),Ee.setAttributes(oe[ne],Z.model.document.getRoot(ne))})},yt=(0,v.useCallback)(Ee=>{te.current=!0,ee(Ee)},[ee]),Ge=(0,v.useCallback)(Ee=>{te.current=!0,ie(Ee)},[ie]);return{editor:Z,editableElements:ae,toolbarElement:_().createElement(V,{editor:Z}),data:X,setData:yt,attributes:oe,setAttributes:Ge}}})(),g})())})(VV);var fU=VV.exports,i0={exports:{}};i0.exports;(function(e,t){(function(o){const s=o.en=o.en||{};s.dictionary=Object.assign(s.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(may require <kbd>Fn</kbd>)","%0 of %1":"%0 of %1",Accept:"Accept",Accessibility:"Accessibility","Accessibility help":"Accessibility help","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bold text":"Bold text",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Close:"Close","Close contextual balloons, dropdowns, and dialogs":"Close contextual balloons, dropdowns, and dialogs",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Content editing keystrokes":"Content editing keystrokes","Copy selected content":"Copy selected content","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Create link":"Create link",Custom:"Custom","Custom image size":"Custom image size",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Decrease list item indent":"Decrease list item indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit image":"Edit image","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor dialog":"Editor dialog","Editor editing area: %0":"Editor editing area: %0","Editor menu bar":"Editor menu bar","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Entering a to-do list":"Entering a to-do list","Error during image upload":"Error during image upload","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.","Failed to determine category of edited image.":"Failed to determine category of edited image.","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Help Contents. To close this dialog press ESC.":"Help Contents. To close this dialog press ESC.",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image from computer":"Image from computer","Image resize list":"Image resize list","Image toolbar":"Image toolbar","Image upload complete":"Image upload complete","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Increase list item indent":"Increase list item indent",Insert:"Insert","Insert a hard break (a new paragraph)":"Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget":"Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget":"Insert a new paragraph directly before a widget","Insert a new table row (when in the last cell of a table)":"Insert a new table row (when in the last cell of a table)","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert image with file manager":"Insert image with file manager","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Insert with file manager":"Insert with file manager","Inserting image failed":"Inserting image failed",Inset:"Inset","Invalid start index value.":"Invalid start index value.",Italic:"Italic","Italic text":"Italic text","Justify cell text":"Justify cell text","Keystrokes that can be used in a list":"Keystrokes that can be used in a list","Keystrokes that can be used in a table cell":"Keystrokes that can be used in a table cell","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Leaving a to-do list":"Leaving a to-do list","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Link URL must not be empty.":"Link URL must not be empty.","List properties":"List properties","Lower-latin":"Lower-latin","Lowerroman":"Lowerroman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",MENU_BAR_MENU_EDIT:"Edit",MENU_BAR_MENU_FILE:"File",MENU_BAR_MENU_FONT:"Font",MENU_BAR_MENU_FORMAT:"Format",MENU_BAR_MENU_HELP:"Help",MENU_BAR_MENU_INSERT:"Insert",MENU_BAR_MENU_TEXT:"Text",MENU_BAR_MENU_TOOLS:"Tools",MENU_BAR_MENU_VIEW:"View","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Move focus between form fields (inputs, buttons, etc.)":"Move focus between form fields (inputs, buttons, etc.)","Move focus in and out of an active dialog window":"Move focus in and out of an active dialog window","Move focus to the menu bar, navigate between menu bars":"Move focus to the menu bar, navigate between menu bars","Move focus to the toolbar, navigate between toolbars":"Move focus to the toolbar, navigate between toolbars","Move out of a link":"Move out of a link","Move out of an inline code style":"Move out of an inline code style","Move the caret to allow typing directly after a widget":"Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget":"Move the caret to allow typing directly before a widget","Move the selection to the next cell":"Move the selection to the next cell","Move the selection to the previous cell":"Move the selection to the previous cell","Navigate through the table":"Navigate through the table","Navigate through the toolbar or menu bar":"Navigate through the toolbar or menu bar",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab","Open the accessibility help dialog":"Open the accessibility help dialog",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste content":"Paste content","Paste content as plain text":"Paste content as plain text","Paste the media URL in the input.":"Paste the media URL in the input.",'Please enter a valid color (e.g. "ff0000").':'Please enter a valid color (e.g. "ff0000").',"Press %0 for help.":"Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous","Processing the edited image.":"Processing the edited image.",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Resize image":"Resize image","Resize image (in %0)":"Resize image (in %0)","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Revert autoformatting action":"Revert autoformatting action","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Server failed to process the image.":"Server failed to process the image.","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough","Strikethrough text":"Strikethrough text",Style:"Style",Subscript:"Subscript",Superscript:"Superscript",Table:"Table","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"The value must not be empty.":"The value must not be empty.","The value should be a plain number.":"The value should be a plain number.","These keyboard shortcuts allow for quick access to content editing features.":"These keyboard shortcuts allow for quick access to content editing features.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerlatin list style":"Toggle the lowerlatin list style","Toggle the lowerroman list style":"Toggle the lowerroman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperlatin list style":"Toggle the upperlatin list style","Toggle the upperroman list style":"Toggle the upperroman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline","Underline text":"Underline text",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Upload in progress":"Upload in progress","Uploading image":"Uploading image","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes":"User interface and content navigation keystrokes","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(o,s){e.exports=s()}(self,()=>(()=>{var o={9246:(p,m,g)=>{const v=g(6931),_={};for(const y of Object.keys(v))_[v[y]]=y;const C={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};p.exports=C;for(const y of Object.keys(C)){if(!("channels"in C[y]))throw new Error("missing channels property: "+y);if(!("labels"in C[y]))throw new Error("missing channel labels property: "+y);if(C[y].labels.length!==C[y].channels)throw new Error("channel and label counts mismatch: "+y);const{channels:x,labels:S}=C[y];delete C[y].channels,delete C[y].labels,Object.defineProperty(C[y],"channels",{value:x}),Object.defineProperty(C[y],"labels",{value:S})}C.rgb.hsl=function(y){const x=y[0]/255,S=y[1]/255,T=y[2]/255,P=Math.min(x,S,T),D=Math.max(x,S,T),R=D-P;let B,j;D===P?B=0:x===D?B=(S-T)/R:S===D?B=2+(T-x)/R:T===D&&(B=4+(x-S)/R),B=Math.min(60*B,360),B<0&&(B+=360);const V=(P+D)/2;return j=D===P?0:V<=.5?R/(D+P):R/(2-D-P),[B,100*j,100*V]},C.rgb.hsv=function(y){let x,S,T,P,D;const R=y[0]/255,B=y[1]/255,j=y[2]/255,V=Math.max(R,B,j),H=V-Math.min(R,B,j),M=function(U){return(V-U)/6/H+.5};return H===0?(P=0,D=0):(D=H/V,x=M(R),S=M(B),T=M(j),R===V?P=T-S:B===V?P=.3333333333333333+x-T:j===V&&(P=.6666666666666666+S-x),P<0?P+=1:P>1&&(P-=1)),[360*P,100*D,100*V]},C.rgb.hwb=function(y){const x=y[0],S=y[1];let T=y[2];const P=C.rgb.hsl(y)[0],D=1/255*Math.min(x,Math.min(S,T));return T=1-.00392156862745098*Math.max(x,Math.max(S,T)),[P,100*D,100*T]},C.rgb.cmyk=function(y){const x=y[0]/255,S=y[1]/255,T=y[2]/255,P=Math.min(1-x,1-S,1-T);return[100*((1-x-P)/(1-P)||0),100*((1-S-P)/(1-P)||0),100*((1-T-P)/(1-P)||0),100*P]},C.rgb.keyword=function(y){const x=_[y];if(x)return x;let S,T=1/0;for(const R of Object.keys(v)){const B=v[R],j=(D=B,((P=y)[0]-D[0])**2+(P[1]-D[1])**2+(P[2]-D[2])**2);j<T&&(T=j,S=R)}var P,D;return S},C.keyword.rgb=function(y){return v[y]},C.rgb.xyz=function(y){let x=y[0]/255,S=y[1]/255,T=y[2]/255;return x=x>.04045?((x+.055)/1.055)**2.4:x/12.92,S=S>.04045?((S+.055)/1.055)**2.4:S/12.92,T=T>.04045?((T+.055)/1.055)**2.4:T/12.92,[100*(.4124*x+.3576*S+.1805*T),100*(.2126*x+.7152*S+.0722*T),100*(.0193*x+.1192*S+.9505*T)]},C.rgb.lab=function(y){const x=C.rgb.xyz(y);let S=x[0],T=x[1],P=x[2];return S/=95.047,T/=100,P/=108.883,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,T=T>.008856?T**.3333333333333333:7.787*T+.13793103448275862,P=P>.008856?P**.3333333333333333:7.787*P+.13793103448275862,[116*T-16,500*(S-T),200*(T-P)]},C.hsl.rgb=function(y){const x=y[0]/360,S=y[1]/100,T=y[2]/100;let P,D,R;if(S===0)return R=255*T,[R,R,R];P=T<.5?T*(1+S):T+S-T*S;const B=2*T-P,j=[0,0,0];for(let V=0;V<3;V++)D=x+.3333333333333333*-(V-1),D<0&&D++,D>1&&D--,R=6*D<1?B+6*(P-B)*D:2*D<1?P:3*D<2?B+(P-B)*(.6666666666666666-D)*6:B,j[V]=255*R;return j},C.hsl.hsv=function(y){const x=y[0];let S=y[1]/100,T=y[2]/100,P=S;const D=Math.max(T,.01);return T*=2,S*=T<=1?T:2-T,P*=D<=1?D:2-D,[x,100*(T===0?2*P/(D+P):2*S/(T+S)),100*((T+S)/2)]},C.hsv.rgb=function(y){const x=y[0]/60,S=y[1]/100;let T=y[2]/100;const P=Math.floor(x)%6,D=x-Math.floor(x),R=255*T*(1-S),B=255*T*(1-S*D),j=255*T*(1-S*(1-D));switch(T*=255,P){case 0:return[T,j,R];case 1:return[B,T,R];case 2:return[R,T,j];case 3:return[R,B,T];case 4:return[j,R,T];case 5:return[T,R,B]}},C.hsv.hsl=function(y){const x=y[0],S=y[1]/100,T=y[2]/100,P=Math.max(T,.01);let D,R;R=(2-S)*T;const B=(2-S)*P;return D=S*P,D/=B<=1?B:2-B,D=D||0,R/=2,[x,100*D,100*R]},C.hwb.rgb=function(y){const x=y[0]/360;let S=y[1]/100,T=y[2]/100;const P=S+T;let D;P>1&&(S/=P,T/=P);const R=Math.floor(6*x),B=1-T;D=6*x-R,1&R&&(D=1-D);const j=S+D*(B-S);let V,H,M;switch(R){default:case 6:case 0:V=B,H=j,M=S;break;case 1:V=j,H=B,M=S;break;case 2:V=S,H=B,M=j;break;case 3:V=S,H=j,M=B;break;case 4:V=j,H=S,M=B;break;case 5:V=B,H=S,M=j}return[255*V,255*H,255*M]},C.cmyk.rgb=function(y){const x=y[0]/100,S=y[1]/100,T=y[2]/100,P=y[3]/100;return[255*(1-Math.min(1,x*(1-P)+P)),255*(1-Math.min(1,S*(1-P)+P)),255*(1-Math.min(1,T*(1-P)+P))]},C.xyz.rgb=function(y){const x=y[0]/100,S=y[1]/100,T=y[2]/100;let P,D,R;return P=3.2406*x+-1.5372*S+-.4986*T,D=-.9689*x+1.8758*S+.0415*T,R=.0557*x+-.204*S+1.057*T,P=P>.0031308?1.055*P**.4166666666666667-.055:12.92*P,D=D>.0031308?1.055*D**.4166666666666667-.055:12.92*D,R=R>.0031308?1.055*R**.4166666666666667-.055:12.92*R,P=Math.min(Math.max(0,P),1),D=Math.min(Math.max(0,D),1),R=Math.min(Math.max(0,R),1),[255*P,255*D,255*R]},C.xyz.lab=function(y){let x=y[0],S=y[1],T=y[2];return x/=95.047,S/=100,T/=108.883,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,T=T>.008856?T**.3333333333333333:7.787*T+.13793103448275862,[116*S-16,500*(x-S),200*(S-T)]},C.lab.xyz=function(y){let x,S,T;S=(y[0]+16)/116,x=y[1]/500+S,T=S-y[2]/200;const P=S**3,D=x**3,R=T**3;return S=P>.008856?P:(S-.13793103448275862)/7.787,x=D>.008856?D:(x-.13793103448275862)/7.787,T=R>.008856?R:(T-.13793103448275862)/7.787,x*=95.047,S*=100,T*=108.883,[x,S,T]},C.lab.lch=function(y){const x=y[0],S=y[1],T=y[2];let P;return P=360*Math.atan2(T,S)/2/Math.PI,P<0&&(P+=360),[x,Math.sqrt(S*S+T*T),P]},C.lch.lab=function(y){const x=y[0],S=y[1],T=y[2]/360*2*Math.PI;return[x,S*Math.cos(T),S*Math.sin(T)]},C.rgb.ansi16=function(y,x=null){const[S,T,P]=y;let D=x===null?C.rgb.hsv(y)[2]:x;if(D=Math.round(D/50),D===0)return 30;let R=30+(Math.round(P/255)<<2|Math.round(T/255)<<1|Math.round(S/255));return D===2&&(R+=60),R},C.hsv.ansi16=function(y){return C.rgb.ansi16(C.hsv.rgb(y),y[2])},C.rgb.ansi256=function(y){const x=y[0],S=y[1],T=y[2];return x===S&&S===T?x<8?16:x>248?231:Math.round((x-8)/247*24)+232:16+36*Math.round(x/255*5)+6*Math.round(S/255*5)+Math.round(T/255*5)},C.ansi16.rgb=function(y){let x=y%10;if(x===0||x===7)return y>50&&(x+=3.5),x=x/10.5*255,[x,x,x];const S=.5*(1+~~(y>50));return[(1&x)*S*255,(x>>1&1)*S*255,(x>>2&1)*S*255]},C.ansi256.rgb=function(y){if(y>=232){const S=10*(y-232)+8;return[S,S,S]}let x;return y-=16,[Math.floor(y/36)/5*255,Math.floor((x=y%36)/6)/5*255,x%6/5*255]},C.rgb.hex=function(y){const x=(((255&Math.round(y[0]))<<16)+((255&Math.round(y[1]))<<8)+(255&Math.round(y[2]))).toString(16).toUpperCase();return"000000".substring(x.length)+x},C.hex.rgb=function(y){const x=y.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!x)return[0,0,0];let S=x[0];x[0].length===3&&(S=S.split("").map(P=>P+P).join(""));const T=parseInt(S,16);return[T>>16&255,T>>8&255,255&T]},C.rgb.hcg=function(y){const x=y[0]/255,S=y[1]/255,T=y[2]/255,P=Math.max(Math.max(x,S),T),D=Math.min(Math.min(x,S),T),R=P-D;let B,j;return B=R<1?D/(1-R):0,j=R<=0?0:P===x?(S-T)/R%6:P===S?2+(T-x)/R:4+(x-S)/R,j/=6,j%=1,[360*j,100*R,100*B]},C.hsl.hcg=function(y){const x=y[1]/100,S=y[2]/100,T=S<.5?2*x*S:2*x*(1-S);let P=0;return T<1&&(P=(S-.5*T)/(1-T)),[y[0],100*T,100*P]},C.hsv.hcg=function(y){const x=y[1]/100,S=y[2]/100,T=x*S;let P=0;return T<1&&(P=(S-T)/(1-T)),[y[0],100*T,100*P]},C.hcg.rgb=function(y){const x=y[0]/360,S=y[1]/100,T=y[2]/100;if(S===0)return[255*T,255*T,255*T];const P=[0,0,0],D=x%1*6,R=D%1,B=1-R;let j=0;switch(Math.floor(D)){case 0:P[0]=1,P[1]=R,P[2]=0;break;case 1:P[0]=B,P[1]=1,P[2]=0;break;case 2:P[0]=0,P[1]=1,P[2]=R;break;case 3:P[0]=0,P[1]=B,P[2]=1;break;case 4:P[0]=R,P[1]=0,P[2]=1;break;default:P[0]=1,P[1]=0,P[2]=B}return j=(1-S)*T,[255*(S*P[0]+j),255*(S*P[1]+j),255*(S*P[2]+j)]},C.hcg.hsv=function(y){const x=y[1]/100,S=x+y[2]/100*(1-x);let T=0;return S>0&&(T=x/S),[y[0],100*T,100*S]},C.hcg.hsl=function(y){const x=y[1]/100,S=y[2]/100*(1-x)+.5*x;let T=0;return S>0&&S<.5?T=x/(2*S):S>=.5&&S<1&&(T=x/(2*(1-S))),[y[0],100*T,100*S]},C.hcg.hwb=function(y){const x=y[1]/100,S=x+y[2]/100*(1-x);return[y[0],100*(S-x),100*(1-S)]},C.hwb.hcg=function(y){const x=y[1]/100,S=1-y[2]/100,T=S-x;let P=0;return T<1&&(P=(S-T)/(1-T)),[y[0],100*T,100*P]},C.apple.rgb=function(y){return[y[0]/65535*255,y[1]/65535*255,y[2]/65535*255]},C.rgb.apple=function(y){return[y[0]/255*65535,y[1]/255*65535,y[2]/255*65535]},C.gray.rgb=function(y){return[y[0]/100*255,y[0]/100*255,y[0]/100*255]},C.gray.hsl=function(y){return[0,0,y[0]]},C.gray.hsv=C.gray.hsl,C.gray.hwb=function(y){return[0,100,y[0]]},C.gray.cmyk=function(y){return[0,0,0,y[0]]},C.gray.lab=function(y){return[y[0],0,0]},C.gray.hex=function(y){const x=255&Math.round(y[0]/100*255),S=((x<<16)+(x<<8)+x).toString(16).toUpperCase();return"000000".substring(S.length)+S},C.rgb.gray=function(y){return[(y[0]+y[1]+y[2])/3/255*100]}},9047:(p,m,g)=>{const v=g(9246),_=g(802),C={};Object.keys(v).forEach(y=>{C[y]={},Object.defineProperty(C[y],"channels",{value:v[y].channels}),Object.defineProperty(C[y],"labels",{value:v[y].labels});const x=_(y);Object.keys(x).forEach(S=>{const T=x[S];C[y][S]=function(P){const D=function(...R){const B=R[0];if(B==null)return B;B.length>1&&(R=B);const j=P(R);if(typeof j=="object")for(let V=j.length,H=0;H<V;H++)j[H]=Math.round(j[H]);return j};return"conversion"in P&&(D.conversion=P.conversion),D}(T),C[y][S].raw=function(P){const D=function(...R){const B=R[0];return B==null?B:(B.length>1&&(R=B),P(R))};return"conversion"in P&&(D.conversion=P.conversion),D}(T)})}),p.exports=C},802:(p,m,g)=>{const v=g(9246);function _(x){const S=function(){const P={},D=Object.keys(v);for(let R=D.length,B=0;B<R;B++)P[D[B]]={distance:-1,parent:null};return P}(),T=[x];for(S[x].distance=0;T.length;){const P=T.pop(),D=Object.keys(v[P]);for(let R=D.length,B=0;B<R;B++){const j=D[B],V=S[j];V.distance===-1&&(V.distance=S[P].distance+1,V.parent=P,T.unshift(j))}}return S}function C(x,S){return function(T){return S(x(T))}}function y(x,S){const T=[S[x].parent,x];let P=v[S[x].parent][x],D=S[x].parent;for(;S[D].parent;)T.unshift(S[D].parent),P=C(v[S[D].parent][D],P),D=S[D].parent;return P.conversion=T,P}p.exports=function(x){const S=_(x),T={},P=Object.keys(S);for(let D=P.length,R=0;R<D;R++){const B=P[R];S[B].parent!==null&&(T[B]=y(B,S))}return T}},6931:p=>{p.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4199:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const x=y},8708:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const x=y},1866:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,':root{--ck-image-processing-highlight-color:#f9fafa;--ck-image-processing-background-color:#e3e5e8}.ck.ck-editor__editable .image.image-processing{position:relative}.ck.ck-editor__editable .image.image-processing:before{animation:ck-image-processing-animation 2s linear infinite;background:linear-gradient(90deg,var(--ck-image-processing-background-color),var(--ck-image-processing-highlight-color),var(--ck-image-processing-background-color));background-size:200% 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ck.ck-editor__editable .image.image-processing img{height:100%}@keyframes ck-image-processing-animation{0%{background-position:200% 0}to{background-position:-200% 0}}',"",{version:3,sources:["webpack://./../ckeditor5-ckbox/theme/ckboximageedit.css"],names:[],mappings:"AAKA,MAEC,6CAAyD,CACzD,8CACD,CAIE,gDACC,iBA2BD,CAzBC,uDAmBC,0DAA2D,CAR3D,oKAKC,CACD,yBAA0B,CAhB1B,UAAW,CAOX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAClB,KAAM,CAKN,UAAW,CAHX,SAcD,CAEA,oDACC,WACD,CAKH,yCACC,GACC,0BACD,CACA,GACC,2BACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Based on default CKBox theme colors */
	--ck-image-processing-highlight-color: hsl(220, 10%, 98%);
	--ck-image-processing-background-color: hsl(220, 10%, 90%);
}

.ck.ck-editor__editable {
	& .image {
		&.image-processing {
			position: relative;

			&:before {
				content: '';

				position: absolute;
				top: 0;
				left: 0;
				z-index: 1;

				height: 100%;
				width: 100%;

				background: linear-gradient(
					90deg,
					var(--ck-image-processing-background-color),
					var(--ck-image-processing-highlight-color),
					var(--ck-image-processing-background-color)
				);
				background-size: 200% 100%;

				animation: ck-image-processing-animation 2s linear infinite;
			}

			& img {
				height: 100%;
			}
		}
	}
}

@keyframes ck-image-processing-animation {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}
`],sourceRoot:""}]);const x=y},7793:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const x=y},7388:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-width:1px 1px 0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,8DCED,eDeC,CAjBA,mKCMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAcF,CAjBA,8DAOC,wCAAsB,CAAtB,sBAUD,CARC,8FACC,uBACD,CAEA,qJAEC,QACD,CAMH,yCAEC,0CAA2C,CCtB3C,eDgCD,CAZA,yHChBE,qCAAsC,CDqBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-panel);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-sticky-panel__content {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border: 1px solid var(--ck-color-base-border);
			border-bottom-width: 0;

			&.ck-sticky-panel__content_sticky {
				border-bottom-width: 1px;
			}

			& .ck-menu-bar,
			& .ck-toolbar {
				border: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=y},4098:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}@media (forced-colors:active){.ck .ck-placeholder,.ck.ck-placeholder{forced-color-adjust:preserve-parent-color}}.ck .ck-placeholder:before,.ck.ck-placeholder:before{cursor:text}@media (forced-colors:none){.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text)}}@media (forced-colors:active){.ck .ck-placeholder:before,.ck.ck-placeholder:before{font-style:italic;margin-left:1px}}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC7BC,8BACC,uCCOA,yCDLA,CACD,CCOA,qDACC,WAmBD,CDvBA,4BACC,qDCMC,6CDJD,CACD,CAZA,8BACC,qDCsBC,iBAAkB,CAMlB,eD1BD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	@mixin ck-media-forced-colors {
		/*
		 * This is needed for Edge on Windows to use the right color for the placeholder content (::before).
		 * See https://github.com/ckeditor/ckeditor5/issues/14907.
		 */
		forced-color-adjust: preserve-parent-color;
	}

	&::before {
		cursor: text;

		@mixin ck-media-default-colors {
			color: var(--ck-color-engine-placeholder-text);
		}

		@mixin ck-media-forced-colors {
			/*
			 * In the high contrast mode there is no telling between regular and placeholder text. Using
			 * italic text to address that issue. See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			font-style: italic;

			/*
			 * Without this margin, the caret will not show up and blink when the user puts the selection
			 * in the placeholder (Edge on Windows). See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			margin-left: 1px;
		}
	}
}
`],sourceRoot:""}]);const x=y},8264:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const x=y},6269:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const x=y},265:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const x=y},5247:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAYD,CAJC,8BAXD,8BAYE,sBAAuB,CACvB,WAEF,CADC,CCdA,4BACC,qEDmBA,iDCjBA,CACD,CDmBA,uCALD,qEAME,cAEF,CADC,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@media (forced-colors: active) {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	@mixin ck-media-default-colors {
		animation: ck-image-caption-highlight .6s ease-out;
	}

	@media (prefers-reduced-motion: reduce) {
		animation: none;
	}
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const x=y},4642:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-image-custom-resize-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{display:inline-block}.ck.ck-image-custom-resize-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-image-custom-resize-form{flex-wrap:wrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-image-custom-resize-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecustomresizeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,gCAIC,sBAAuB,CAHvB,YAAa,CACb,kBAAmB,CACnB,gBAsBD,CAnBC,uDACC,oBACD,CAEA,0CACC,YACD,CCbA,oCDCD,gCAeE,cAUF,CARE,uDACC,eACD,CAEA,2CACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-image-custom-resize-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: flex-start;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=y},3350:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css"],names:[],mappings:"AAMC,yDACC,YAAa,CACb,mCACD,CCFD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CAEd,qCAAsC,CADtC,UAUD,CAZA,iDAME,eAMF,CAZA,iDAUE,gBAEF,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-url {
	& .ck-image-insert-url__action-row {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-image-insert-insert-by-url-width: 250px;
}

.ck.ck-image-insert-url {
	--ck-input-width: 100%;

	& .ck-image-insert-url__action-row {
		grid-column-gap: var(--ck-spacing-large);
		margin-top: var(--ck-spacing-large);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
			min-width: auto;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}

.ck.ck-image-insert-form {
	& > .ck.ck-button {
		display: block;
		width: 100%;
		padding: var(--ck-list-button-padding);

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& > .ck.ck-collapsible {
		&:not(:first-child) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		&:not(:last-child) {
			border-bottom: 1px solid var(--ck-color-base-border);
		}

		min-width: var(--ck-image-insert-insert-by-url-width);
	}

	/* This is the case when there are no other integrations configured than insert by URL */
	& > .ck.ck-image-insert-url {
		min-width: var(--ck-image-insert-insert-by-url-width);
		padding: var(--ck-spacing-large);
	}

	&:focus {
		outline: none;
	}
}
`],sourceRoot:""}]);const x=y},7378:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageplaceholder.css"],names:[],mappings:"AAMC,8CACC,yBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& img.image_placeholder {
		background-size: 100% 100%;
	}
}
`],sourceRoot:""}]);const x=y},3469:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const x=y},6386:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const x=y},7693:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0ms}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFAqCD,CAjCC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAEA,uCA7CD,+BA8CE,sBASF,CAPE,qCACC,cAAe,CAGf,YAAc,CAFd,SAAU,CACV,UAED,CACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 0ms;

		&::after {
			animation: none;
			opacity: 1;
			width: 0.3em;
			height: 0.45em;
		}
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const x=y},1559:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const x=y},2267:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBAMD,CAJC,uCAHD,yFAKE,cAAe,CADf,SAGF,CADC,CAKF,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;

			@media (prefers-reduced-motion: reduce) {
				opacity: 1;
				animation: none;
			}
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const x=y},4062:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=y},7719:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const x=y},8762:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const x=y},3817:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-link-form{align-items:flex-start;display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBAEC,sBAAuB,CADvB,YAkBD,CAfC,2BACC,YACD,CCPA,oCDCD,iBASE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CChBD,CDwBD,iCACC,aAYD,CALE,wHAEC,mCACD,CEhCF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;
	align-items: flex-start;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const x=y},4808:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzUuNzUgMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTUuNy43IDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NHptNS40OTQtNS4zMzVhLjc1Ljc1IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NS43NSAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTVtLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,k2BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const x=y},1232:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const x=y},6903:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const x=y},9968:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const x=y},7141:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const x=y},8991:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CA4EA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAtFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqFC,CAFA,wDApEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAoEA,CAhED,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sDAYE,eAEF,CADC,CAGD,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FAxHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAuHA,CAFA,wGAtGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAsGD,CAlGA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sGAYE,eAEF,CADC,CAGD,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const x=y},70:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const x=y},7048:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSlzY2FsZSguOTgwMTIpIj48cmVjdCB3aWR0aD0iNjAuMDk5IiBoZWlnaHQ9IjYwLjA5OSIgeD0iMTc2LjAzMSIgeT0iMjMxLjM5OSIgZmlsbD0iIzM0YTY2OCIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjIzOCIgcnk9IjUuMjM4Ii8+PHBhdGggZmlsbD0iIzVjODhjNSIgZD0ibTIwNi40NzcgMjYwLjktMjguOTg3IDI4Ljk4N2E1LjIyIDUuMjIgMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiLz48cGF0aCBmaWxsPSIjZGQ0YjNlIiBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwN3EuNS43NTMuOTUgMS41MDguNTE1LjcxNS45ODggMS40NGMxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5cS40NzMtLjcyMy45ODgtMS40MzkuNDUtLjc1NS45NS0xLjUwOGMuMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIGN4PSIyMjYuNzQyIiBjeT0iMjM5LjAwMiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjgyOCIgcnk9IjUuNTY0Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjlxLS4wMDEtLjU0My0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhxLS4wMDEtLjAwMy0uMDA0LS4wMDVjLTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTVtNC40MyA1LjY2LjAwMy4wMDZ2LS4wMDN6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGZpbGw9IiNjM2MzYzMiIGQ9Im0yMTUuMTg0IDI1MS45MjktNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMiA1LjIgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjl6Ii8+PHBhdGggZmlsbD0iI2ZkZGM0ZiIgZD0ibTIxMi45ODMgMjQ4LjQ5NS0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYgMTM2IDAgMCAwLTIuNzY0LTMuOSAzOCAzOCAwIDAgMC0uOTg5LTEuNDQgMzUgMzUgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiPjxwYXRoIGZpbGw9IiNGRkZGRkUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTk2Ny40ODQgMEg1Ni41MTdDMjUuMzA0IDAgMCAyNS4zMDQgMCA1Ni41MTd2OTEwLjk2NkMwIDk5OC42OTQgMjUuMjk3IDEwMjQgNTYuNTIyIDEwMjRINTQ3VjYyOEg0MTRWNDczaDEzM1YzNTkuMDI5YzAtMTMyLjI2MiA4MC43NzMtMjA0LjI4MiAxOTguNzU2LTIwNC4yODIgNTYuNTEzIDAgMTA1LjA4NiA0LjIwOCAxMTkuMjQ0IDYuMDg5VjI5OWwtODEuNjE2LjAzN2MtNjMuOTkzIDAtNzYuMzg0IDMwLjQ5Mi03Ni4zODQgNzUuMjM2VjQ3M2gxNTMuNDg3bC0xOS45ODYgMTU1SDcwN3YzOTZoMjYwLjQ4NGMzMS4yMTMgMCA1Ni41MTYtMjUuMzAzIDU2LjUxNi01Ni41MTZWNTYuNTE1QzEwMjQgMjUuMzAzIDk5OC42OTcgMCA5NjcuNDg0IDAiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OW0wIDQ1LjM5MWM2Ny4yNjUgMCA3NS4yMzMuMjU3IDEwMS43OTcgMS40NjkgMjQuNTYyIDEuMTIgMzcuOTAxIDUuMjI0IDQ2Ljc3OCA4LjY3NCAxMS43NTkgNC41NyAyMC4xNTEgMTAuMDI5IDI4Ljk2NiAxOC44NDVzMTQuMjc1IDE3LjIwNyAxOC44NDUgMjguOTY2YzMuNDUgOC44NzcgNy41NTQgMjIuMjE2IDguNjc0IDQ2Ljc3OCAxLjIxMiAyNi41NjQgMS40NjkgMzQuNTMyIDEuNDY5IDEwMS43OTggMCA2Ny4yNjUtLjI1NyA3NS4yMzMtMS40NjkgMTAxLjc5Ny0xLjEyIDI0LjU2Mi01LjIyNCAzNy45MDEtOC42NzQgNDYuNzc4LTQuNTcgMTEuNzU5LTEwLjAyOSAyMC4xNTEtMTguODQ1IDI4Ljk2NnMtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1Yy04Ljg3NyAzLjQ1LTIyLjIxNiA3LjU1NC00Ni43NzggOC42NzQtMjYuNTYgMS4yMTItMzQuNTI3IDEuNDY5LTEwMS43OTcgMS40NjktNjcuMjcxIDAtNzUuMjM3LS4yNTctMTAxLjc5OC0xLjQ2OS0yNC41NjItMS4xMi0zNy45MDEtNS4yMjQtNDYuNzc4LTguNjc0LTExLjc1OS00LjU3LTIwLjE1MS0xMC4wMjktMjguOTY2LTE4Ljg0NXMtMTQuMjc1LTE3LjIwNy0xOC44NDUtMjguOTY2Yy0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NnMxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDVjOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OSIgbWFzaz0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0yNTEuOTIxIDMzNi4wNTNjLTQ2LjM3OCAwLTgzLjk3NC0zNy41OTYtODMuOTc0LTgzLjk3M3MzNy41OTYtODMuOTc0IDgzLjk3NC04My45NzRjNDYuMzc3IDAgODMuOTczIDM3LjU5NiA4My45NzMgODMuOTc0IDAgNDYuMzc3LTM3LjU5NiA4My45NzMtODMuOTczIDgzLjk3M20wLTIxMy4zMzhjLTcxLjQ0NyAwLTEyOS4zNjUgNTcuOTE4LTEyOS4zNjUgMTI5LjM2NSAwIDcxLjQ0NiA1Ny45MTggMTI5LjM2NCAxMjkuMzY1IDEyOS4zNjQgNzEuNDQ2IDAgMTI5LjM2NC01Ny45MTggMTI5LjM2NC0xMjkuMzY0IDAtNzEuNDQ3LTU3LjkxOC0xMjkuMzY1LTEyOS4zNjQtMTI5LjM2NU00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjNzMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzFjMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwME0xNjMuNCAzMDUuNWM4OC43IDAgMTM3LjItNzMuNSAxMzcuMi0xMzcuMiAwLTIuMSAwLTQuMi0uMS02LjIgOS40LTYuOCAxNy42LTE1LjMgMjQuMS0yNS04LjYgMy44LTE3LjkgNi40LTI3LjcgNy42IDEwLTYgMTcuNi0xNS40IDIxLjItMjYuNy05LjMgNS41LTE5LjYgOS41LTMwLjYgMTEuNy04LjgtOS40LTIxLjMtMTUuMi0zNS4yLTE1LjItMjYuNiAwLTQ4LjIgMjEuNi00OC4yIDQ4LjIgMCAzLjguNCA3LjUgMS4zIDExLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40LTQuMSA3LjEtNi41IDE1LjQtNi41IDI0LjIgMCAxNi43IDguNSAzMS41IDIxLjUgNDAuMS03LjktLjItMTUuMy0yLjQtMjEuOC02di42YzAgMjMuNCAxNi42IDQyLjggMzguNyA0Ny4zLTQgMS4xLTguMyAxLjctMTIuNyAxLjctMy4xIDAtNi4xLS4zLTkuMS0uOSA2LjEgMTkuMiAyMy45IDMzLjEgNDUgMzMuNS0xNi41IDEyLjktMzcuMyAyMC42LTU5LjkgMjAuNi0zLjkgMC03LjctLjItMTEuNS0uNyAyMS4xIDEzLjggNDYuNSAyMS44IDczLjcgMjEuOCIgc3R5bGU9ImZpbGw6I2ZmZiIvPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,goGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,o+GACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,g/BACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const x=y},5651:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=y},5506:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=y},4043:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const x=y},2655:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const x=y},5032:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAcD,CAZC,uCATD,uCAUE,eAWF,CAVC,CAEA,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const x=y},2329:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const x=y},4143:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAaD,CCxBC,8BACC,8BDoBA,sBAAuB,CACvB,WCnBA,CACD,CAIA,4BDqBC,qEACC,iDACD,CCnBD,CDsBA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@mixin ck-media-forced-colors {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	@mixin ck-media-default-colors {
		&.table__caption_highlighted {
			animation: ck-table-caption-highlight .6s ease-out;
		}
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const x=y},8986:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const x=y},8795:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const x=y},8137:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const x=y},1623:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCA6BD,CA3BC,8ECxCD,eD6DC,CArBA,mMCpCA,qCDyDA,CArBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAcD,CAXC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEAKD,CAHC,uCAlBD,8EAmBE,cAEF,CADC,CAID,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;

			@media (prefers-reduced-motion: reduce) {
				animation: none;
			}
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=y},5562:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const x=y},8423:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const x=y},1801:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}.ck.ck-aria-live-region-list{list-style-type:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names:[],mappings:"AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD,CAEA,6BACC,oBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-aria-live-announcer {
	position: absolute;
	left: -10000px;
	top: -10000px;
}

.ck.ck-aria-live-region-list {
	list-style-type: none;
}
`],sourceRoot:""}]);const x=y},5727:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-panel);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=y},9715:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}@media (prefers-reduced-motion:reduce){.ck.ck-button,a.ck.ck-button{transition:none}}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{opacity:.5}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CA9BA,iDASE,oBAqBF,CA9BA,iDAaE,qBAiBF,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEzBD,6BCAC,oDD+ID,CC5IE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eFgJD,CA/IA,wIEGE,qCF4IF,CA/IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBA0ID,CAhHC,uCA/BD,6BAgCE,eA+GF,CA9GC,CAEA,oFGpCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHyCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAWD,CAZA,6FAIE,mCAQF,CAZA,6FAQE,oCAIF,CAZA,yEAWC,UACD,CAIC,oIIxFD,oDJ4FC,CAOA,gLKnGD,kCLqGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCClIA,+CDsIA,CCnIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDmHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CClJC,mDDuJD,CCpJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDmID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";
@import "../../mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;

	@mixin ck-dir ltr {
		justify-content: left;
	}

	@mixin ck-dir rtl {
		justify-content: right;
	}

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		opacity: .5;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const x=y},4391:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{transition:none}}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eDgFA,CA5CA,yIChCC,qCD4ED,CA5CA,2DAKE,gBAuCF,CA5CA,2DAUE,iBAkCF,CA5CA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CA2BD,CAxBC,2ECxDD,eDuEC,CAfA,6LCpDA,qCAAsC,CDsDpC,8CAaF,CAfA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAUD,CAHC,uCAZD,2EAaE,eAEF,CADC,CAGD,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEpFA,kCFsFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const x=y},25:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/collapsible/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/collapsible/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,qCAAsC,CAFtC,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,gFACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-list-button-padding);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const x=y},7317:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{transition:box-shadow .2s ease}@media (forced-colors:none){.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}}@media (forced-colors:active){.ck.ck-color-grid__tile{height:unset;min-height:unset;min-width:unset;padding:0 var(--ck-spacing-small);width:unset}.ck.ck-color-grid__tile .ck-button__label{display:inline-block}}@media (prefers-reduced-motion:reduce){.ck.ck-color-grid__tile{transition:none}}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,kBACC,YACD,CCCA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,8BAkED,CC3EC,4BACC,wBDgBA,QAAS,CAJT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CAJV,oCCTA,CDgBA,8HAIC,QACD,CAEA,+DACC,gDACD,CAEA,8BACC,8FACD,CAEA,gGAEC,iGACD,CCjCD,CAZA,8BACC,wBDqDA,YAAa,CAEb,gBAAiB,CADjB,eAAgB,CAEhB,iCAAkC,CAJlC,WClDA,CDwDA,0CACC,oBACD,CCzDD,CD4DA,uCAhDD,wBAiDE,eAkBF,CAjBC,CAEA,oCACC,YAAa,CACb,gBACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAGC,0CACC,aACD,CAIF,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	transition: .2s ease box-shadow;

	@mixin ck-media-default-colors {
		width: var(--ck-color-grid-tile-size);
		height: var(--ck-color-grid-tile-size);
		min-width: var(--ck-color-grid-tile-size);
		min-height: var(--ck-color-grid-tile-size);
		padding: 0;
		border: 0;

		&.ck-on,
		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			/* Disable the default .ck-button's border ring. */
			border: 0;
		}

		&.ck-color-selector__color-tile_bordered {
			box-shadow: 0 0 0 1px var(--ck-color-base-border);
		}

		&.ck-on {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);
		}

		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
		}
	}

	/*
	 * In high contrast mode, the colors are replaced with text labels.
	 * See https://github.com/ckeditor/ckeditor5/issues/14907.
	 */
	@mixin ck-media-forced-colors {
		width: unset;
		height: unset;
		min-width: unset;
		min-height: unset;
		padding: 0 var(--ck-spacing-small);

		& .ck-button__label {
			display: inline-block;
		}
	}

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		& .ck.ck-icon {
			display: block;
		}
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const x=y},1905:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const x=y},6309:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const x=y},9819:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{box-shadow:var(--ck-drop-shadow),0 0;--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width)}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,sBAKC,QAAS,CACT,MAAO,CAJP,wBAAyB,CAEzB,cAAe,CAGf,OAAQ,CACR,KAAM,CAPN,gBAcD,CALC,qDAEC,cAAe,CACf,eAAgB,CAFhB,mBAGD,CAGD,cACC,wBAAyB,CAEzB,iBAAkB,CADlB,iBAcD,CAXC,kCACC,aAKD,CAHC,0DACC,WACD,CAVF,mEAcE,kBAEF,CC7BA,MACC,mDAA2D,CAC3D,uDAA8D,CAC9D,2BAA4B,CAC5B,2BAA4B,CAC5B,4DAA6D,CAC7D,gEACD,CAEA,sBACC,+BAAgC,CAChC,oDAAqD,CACrD,0BACD,CAEA,cCbC,eD2BD,CAdA,mECTE,qCDuBF,CAdA,cEfC,oCAA8B,CFmB9B,6CAA8C,CAE9C,4CAA6C,CAG7C,4CAA6C,CAF7C,sCAAuC,CACvC,oCAMD,CAHC,kCACC,iEACD,CAGD,6BACC,GACC,sBACD,CAEA,GACC,oDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog-overlay {
	user-select: none;
	overscroll-behavior: none;

	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	top: 0;

	&.ck-dialog-overlay__transparent {
		pointer-events: none;
		animation: none;
		background: none;
	}
}

.ck.ck-dialog {
	overscroll-behavior: none;
	width: fit-content;
	position: absolute;

	& .ck.ck-form__header  {
		flex-shrink: 0;

		& .ck-form__header__label {
			cursor: grab;
		}
	}

	@nest .ck.ck-dialog-overlay.ck-dialog-overlay__transparent & {
		pointer-events: all;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

:root {
	--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );
	--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);
	--ck-dialog-max-width: 100vw;
	--ck-dialog-max-height: 90vh;
	--ck-color-dialog-background: var(--ck-color-base-background);
	--ck-color-dialog-form-header-border: var(--ck-color-base-border);
}

.ck.ck-dialog-overlay {
	animation: ck-dialog-fade-in .3s;
	background: var(--ck-dialog-overlay-background-color);
	z-index: var(--ck-z-dialog);
}

.ck.ck-dialog {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	--ck-drop-shadow: var(--ck-dialog-drop-shadow);

	background: var(--ck-color-dialog-background);
	max-height: var(--ck-dialog-max-height);
	max-width: var(--ck-dialog-max-width);
	border: 1px solid var(--ck-color-base-border);

	& .ck.ck-form__header {
		border-bottom: 1px solid var(--ck-color-dialog-form-header-border);
	}
}

@keyframes ck-dialog-fade-in {
	0% {
		background: hsla( 0, 0%, 0%, 0 );
	}

	100% {
		background: var(--ck-dialog-overlay-background-color);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=y},9822:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialogactions.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialogactions.css"],names:[],mappings:"AAMC,qCACC,YAAa,CACb,wBAAyB,CCDzB,+BDED,CCAC,yCACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		display: flex;
		justify-content: flex-end;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		padding: var(--ck-spacing-large);

		& > * + * {
			margin-left: var(--ck-spacing-large);
		}
	}
}
`],sourceRoot:""}]);const x=y},8149:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-panel);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-panel) + 1 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=y},3629:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown > .ck-dropdown__panel > .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=y},1792:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=y},1666:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const x=y},8527:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{*{white-space:normal}}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/accessibilityhelp.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAQA,MACC,8CAA+C,CAC/C,+CAAgD,CAChD,mDAA8D,CAC9D,4DAAyE,CACzE,uDACD,CAEA,wEAOC,4BAA6B,CAJ7B,yDAA0D,CAD1D,uDAAwD,CAExD,aAAc,CAHd,+BAAgC,CAIhC,gBAgFD,CA5EC,8ECdA,2BAA2B,CCF3B,2CAA8B,CDC9B,YDkBA,CAZD,wEAcC,EACC,kBACD,CAqED,CAlEC,kFACC,YACD,CAEA,2EAEC,eAAgB,CADhB,eAED,CAEA,2EAEC,aAAc,CADd,eAED,CAEA,8SAIC,YACD,CAEA,2EAIC,kBAAmB,CADnB,qEAAsE,CAFtE,YAAa,CACb,6BAiBD,CAbC,4JACC,wEAAyE,CACzE,cACD,CAEA,8EACC,mBACD,CAEA,8EACC,mBAAoB,CACpB,gBACD,CAGD,yJAEC,oEAAqE,CAIrE,iBAAkB,CALlB,oBAAqB,CAOrB,cAAe,CAHf,aAAc,CAFd,YAAa,CAIb,iBAAkB,CAHlB,qBAKD,CAEA,6EACC,qBACD,CAEA,4EAEC,yEAA4E,CAC5E,YAAa,CAFb,eAOD,CAHC,gFACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-accessibility-help-dialog-max-width: 600px;
	--ck-accessibility-help-dialog-max-height: 400px;
	--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);
	--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);
	--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%);
}

.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content {
	padding: var(--ck-spacing-large);
	max-width: var(--ck-accessibility-help-dialog-max-width);
	max-height: var(--ck-accessibility-help-dialog-max-height);
	overflow: auto;
	user-select: text;

	border: 1px solid transparent;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	* {
		white-space: normal;
	}

	/* Hide the main label of the content container. */
	& .ck-label {
		display: none;
	}

	& h3 {
		font-weight: bold;
		font-size: 1.2em;
	}

	& h4 {
		font-weight: bold;
		font-size: 1em;
	}

	& p,
	& h3,
	& h4,
	& table {
		margin: 1em 0;
	}

	& dl {
		display: grid;
		grid-template-columns: 2fr 1fr;
		border-top: 1px solid var(--ck-accessibility-help-dialog-border-color);
		border-bottom: none;

		& dt, & dd {
			border-bottom: 1px solid var(--ck-accessibility-help-dialog-border-color);
			padding: .4em 0;
		}

		& dt {
			grid-column-start: 1;
		}

		& dd {
			grid-column-start: 2;
			text-align: right;
		}
	}

	& kbd, & code {
		display: inline-block;
		background: var(--ck-accessibility-help-dialog-code-background-color);
		padding: .4em;
		vertical-align: middle;
		line-height: 1;
		border-radius: 2px;
		text-align: center;
		font-size: .9em;
	}

	& code {
		font-family: monospace;
	}

	& kbd {
		min-width: 1.8em;
		box-shadow: 0px 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);
		margin: 0 1px;

		& + kbd {
			margin-left: 2px;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=y},1185:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=y},7913:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAmBD,CAdC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,wBAAyB,CACzB,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-form-header-height: 44px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& > .ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-medium);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-medium);
		}
	}

	& .ck-form__header__label {
		--ck-font-size-base: 15px;
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const x=y},9529:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const x=y},7621:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const x=y},253:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}@media (prefers-reduced-motion:reduce){.ck.ck-input{transition:none}}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}@media (prefers-reduced-motion:reduce){.ck.ck-input.ck-error{animation:none}}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eDmDD,CA9CA,iECDE,qCD+CF,CA9CA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DAkCD,CAhCC,uCAdD,aAeE,eA+BF,CA9BC,CAEA,mBEvBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YF2BA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BGnCD,oDHsCC,CAGD,sBAEC,sCAAuC,CADvC,+CAUD,CAPC,uCAJD,sBAKE,cAMF,CALC,CAEA,4BGjDD,iDHmDC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		@media (prefers-reduced-motion: reduce) {
			animation: none;
		}

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=y},7801:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const x=y},4962:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}@media (prefers-reduced-motion:reduce){.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transition:none}}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eDmHD,CA9GA,2FCDE,qCD+GF,CA3GC,mEACC,UAwCD,CAtCC,gFACC,KAoCD,CArCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBAgCF,CArCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAyBF,CArCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAQD,CAHC,uCAlCD,gFAmCE,eAEF,CADC,CASD,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,2XAGE,+HAYF,CAfA,2XAOE,wIAQF,CAfA,uWAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
				transform-origin: 0 0;
				/* By default, display the label scaled down above the field. */
				transform: translate(var(--ck-spacing-medium), -6px) scale(.75);
			}

			@mixin ck-dir rtl {
				right: 0px;
				transform-origin: 100% 0;
				transform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);
			}

			pointer-events: none;

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=y},5199:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.11*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item>.ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item>.ck-button{text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button{text-align:right}.ck.ck-list__item>.ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item>.ck-button:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,MACC,qJAGD,CAEA,YCLC,eDUD,CALA,+DCDE,qCDMF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UAwCD,CA1CA,uCAME,eAoCF,CA1CA,uCAUE,gBAgCF,CA1CA,6BAgBC,qCA0BD,CAxBC,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-list-button-padding:
		calc(.11 * var(--ck-line-height-base) * var(--ck-font-size-base))
		calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));
}

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& > .ck-button {
		min-height: unset;
		width: 100%;
		border-radius: 0;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding: var(--ck-list-button-padding);

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& > .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > .ck-label {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=y},497:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubar.css"],names:[],mappings:"AAKA,gBAIC,0CAA2C,CAG3C,+CAAgD,CANhD,YAAa,CACb,cAAe,CAIf,2BAA4B,CAH5B,0BAA2B,CAE3B,+BAAgC,CAGhC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar {
	display: flex;
	flex-wrap: wrap;
	justify-content: flex-start;
	background: var(--ck-color-base-background);
	padding: var(--ck-spacing-small);
	gap: var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);
	width: 100%;
}
`],sourceRoot:""}]);const x=y},4:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-menu-bar__menu{display:block;font-size:inherit;position:relative}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenu.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenu.css"],names:[],mappings:"AAKA,sBACC,aAAc,CCCd,iBAAkB,CDAlB,iBACD,CCCC,kDACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	display: block;
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	&.ck-menu-bar__menu_top-level {
		max-width: 100%;
	}
}
`],sourceRoot:""}]);const x=y},3344:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{padding:var(--ck-list-button-padding);width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAMC,mFACC,mBAAoB,CACpB,2BACD,CCIA,iDACC,qCAAsC,CACtC,UAuBD,CArBC,mEACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,+ECdD,kCDgBC,CAGC,qFACC,oCACD,CAIA,qFACC,qCACD,CAOF,6EAEC,gBAAiB,CADjB,wDAgBD,CAbC,+FAEC,iBAAkB,CADlB,WAED,CAEA,mFACC,2BAA4B,CAC5B,4BACD,CAEA,sFACC,YACD,CAMD,mFACC,eAiDD,CA/CC,yFACC,wBAAyB,CACzB,eAKD,CAHC,qGACC,0DACD,CAID,iIACC,+DACD,CAEA,qHACC,mCASD,CAVA,+HAIE,wBAMF,CAVA,+HAQE,uBAEF,CAEA,iICrFD,kCDuFC,CAGC,+HAIC,sCAAuC,CAHvC,gCAID,CAIA,+HACC,+BAAgC,CAGhC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu  {
	& > .ck-menu-bar__menu__button > .ck-menu-bar__menu__button__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-menu-bar__menu {
	/*
	 * All menu buttons.
	 */
	& > .ck-menu-bar__menu__button {
		padding: var(--ck-list-button-padding);
		width: 100%;

		& > .ck-button__label {
			flex-grow: 1;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		&.ck-disabled > .ck-button__label {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				padding-right: var(--ck-spacing-small);
			}
		}
	}

	/*
	 * Top-level menu buttons only.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__button {
		padding: var(--ck-spacing-small) var(--ck-spacing-medium);
		min-height: unset;

		& .ck-button__label {
			width: unset;
			line-height: unset;
		}

		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		& .ck-icon {
			display: none;
		}
	}

	/*
	 * Sub-menu buttons.
	 */
	&:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button {
		border-radius: 0;

		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}

		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}

		& > .ck-menu-bar__menu__button__arrow {
			width: var(--ck-dropdown-arrow-size);

			@mixin ck-dir ltr {
				transform: rotate(-90deg);
			}

			@mixin ck-dir rtl {
				transform: rotate(90deg);
			}
		}

		&.ck-disabled > .ck-menu-bar__menu__button__arrow {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			& > .ck-menu-bar__menu__button__arrow {
				right: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-left: var(--ck-spacing-standard);
			}
		}

		@mixin ck-dir rtl {
			& > .ck-menu-bar__menu__button__arrow {
				left: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-right: var(--ck-spacing-small);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const x=y},9481:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,":root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitem.css"],names:[],mappings:"AAKA,MACC,sCACD,CAEA,kDACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-item-min-width: 18em;
}

.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item {
	min-width: var(--ck-menu-bar-menu-item-min-width);
}
`],sourceRoot:""}]);const x=y},977:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__panel>ul>.ck-menu-bar__menu__item>.ck-menu-bar__menu__item__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitembutton.css"],names:[],mappings:"AASC,iEACC,eA0BD,CAxBC,0LAGC,8BACD,CAEA,uFAEC,4CAA+C,CAC/C,oCACD,CAMA,uEACC,wBAAyB,CACzB,eAKD,CAHC,mFACC,0DACD,CASD,uLACC,+DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/*
	 * List item buttons.
	 */
	& .ck-button.ck-menu-bar__menu__item__button {
		border-radius: 0;

		& > .ck-spinner-container,
		& > .ck-spinner-container .ck-spinner {
			/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */
			--ck-toolbar-spinner-size: 20px;
		}

		& > .ck-spinner-container {
			/* These margins are the same as for .ck-icon. */
			margin-left: calc(-1 * var(--ck-spacing-small));
			margin-right: var(--ck-spacing-small);
		}

		/*
		 * Hovered items automatically get focused. Default focus styles look odd
		 * while moving across a huge list of items so let's get rid of them
		 */
		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}
	}

	/*
	 * First-level sub-menu item buttons.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__panel > ul > .ck-menu-bar__menu__item > .ck-menu-bar__menu__item__button {
		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}
	}
}


`],sourceRoot:""}]);const x=y},9108:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,":root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{border-radius:0}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,iCAAkC,CAClC,+CACD,CAEA,mDAEC,2CAA4C,CAC5C,iBAAkB,CAFlB,yBAkDD,CA9CC,gLAEC,WACD,CAEA,gLAGC,WAAY,CADZ,QAED,CAEA,gLAEC,MACD,CAEA,gLAEC,OACD,CAEA,gLAEC,kEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CAEA,gLAEC,mEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CCpDD,MACC,uCACD,CAEA,mDCDC,eDmCD,CAlCA,6ICGE,qCD+BF,CAlCA,mDAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CETT,oCAA8B,CFU9B,kBAAmB,CACnB,iDA0BD,CAvBC,gLAEC,wBACD,CAEA,gLAEC,yBACD,CAEA,gLAEC,2BACD,CAEA,gLAEC,4BACD,CAEA,yDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-max-width: 75vw;
	--ck-menu-bar-nested-menu-horizontal-offset: 5px;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	z-index: var(--ck-z-panel);
	max-width: var(--ck-menu-bar-menu-max-width);
	position: absolute;

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_nw {
		bottom: 100%;
	}

	&.ck-menu-bar__menu__panel_position_se,
	&.ck-menu-bar__menu__panel_position_sw {
		top: 100%;
		bottom: auto;
	}

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_se {
		left: 0px;
	}

	&.ck-menu-bar__menu__panel_position_nw,
	&.ck-menu-bar__menu__panel_position_sw {
		right: 0px;
	}

	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_en {
		left: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_es {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_en {
		bottom: 0px;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_wn {
		right: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_ws {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_wn {
		bottom: 0px;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-menu-bar-menu-panel-max-width: 75vw;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;
	height: fit-content;
	max-width: var(--ck-menu-bar-menu-panel-max-width);

	/* Corner border radius consistent with the button. */
	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_se {
		border-top-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_sw {
		border-top-right-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_en,
	&.ck-menu-bar__menu__panel_position_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_wn,
	&.ck-menu-bar__menu__panel_position_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=y},3710:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-panel);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=y},991:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const x=y},5380:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-panel) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=y},8298:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-panel); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=y},2722:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAoED,CAlEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA+CF,CA7CE,8CACC,wDAYD,CAVC,4HAEC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDrEH",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text,
			& .ck-input-number {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const x=y},8107:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/search/search.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const x=y},109:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-spinner-container{animation-duration:3s}}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCAAsC,CADtC,qCAAsC,CADtC,oCAOD,CAHC,uCALD,yBAME,qBAEF,CADC,CAGD,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCAA6B,CAH7B,qCAAsC,CADtC,oCAKD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite rotate linear;

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 3s;
	}
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes rotate {
	to {
		transform: rotate(360deg)
	}
}
`],sourceRoot:""}]);const x=y},1671:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const x=y},2710:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const x=y},9677:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=y},9205:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100);--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAOA,gCCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,sCAAyC,CEFzC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCFJD,CEMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CAErB,eAAgB,CADhB,wCAAyC,CAFzC,wBAID,CArBD,gCAwBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-balloon-panel.ck-tooltip {
	@mixin ck-unselectable;

	z-index: calc( var(--ck-z-dialog) + 100 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
		max-width: 200px;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const x=y},7676:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck-hidden{display:none!important}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{background:transparent;border:0;box-sizing:border-box;height:auto;margin:0;padding:0;position:static;text-decoration:none;transition:none;vertical-align:middle;width:auto;word-wrap:break-word}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CAC/C,kBACD,CCDA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,wDAAiE,CACjE,4DAAmE,CAInE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CChHhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJgHD,CI1GA,2EAYC,sBAAuB,CADvB,QAAS,CART,qBAAsB,CAEtB,WAAY,CAIZ,QAAS,CACT,SAAU,CAJV,eAAgB,CAOhB,oBAAqB,CAErB,eAAgB,CADhB,qBAAsB,CAVtB,UAAW,CAcX,oBACD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCxFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-panel: calc( var(--ck-z-default) + 999 );
	--ck-z-dialog: 9999;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-panel) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Dialog -------------------------------------------------------------------------------- */

	--ck-color-dialog-background: 								var(--ck-custom-background);
	--ck-color-dialog-form-header-border: 						var(--ck-custom-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%);

	/* -- Generic colors ------------------------------------------------------------------------- */

	--ck-color-light-red:										hsl(0, 100%, 90%);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;

	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const x=y},695:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget{transition:none}}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}@media (forced-colors:none){.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background)}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CChFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAcD,CAZC,uCAND,eAOE,eAWF,CAVC,CAEA,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAYD,CARC,yGCnCA,2BAA2B,CCF3B,qCAA8B,CDC9B,YD2CA,CGvCA,4BACC,yGHoCC,iEGlCD,CACD,CHuCA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAwCD,CA3BC,uCAzBD,4EA0BE,eA0BF,CAzBC,CAEA,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAeD,CAVC,kHACC,SAAU,CAGV,+DAKD,CAHC,uCAND,kHAOE,eAEF,CADC,CAKF,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
		@mixin ck-media-default-colors {
			background-color: var(--ck-color-widget-editable-focus-background);
		}
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);

				@media (prefers-reduced-motion: reduce) {
					transition: none;
				}
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const x=y},4095:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const x=y},8508:(p,m,g)=>{g.d(m,{A:()=>x});var v=g(9372),_=g.n(v),C=g(935),y=g.n(C)()(_());y.push([p.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button svg{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button:hover,.ck .ck-widget .ck-widget__type-around__button:hover svg line,.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:none}}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAwED,CAhEC,uCATD,+CAUE,eA+DF,CA9DC,CAEA,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAwBD,CAlBC,uCAPD,mDAQE,eAiBF,CAhBC,CAEA,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DA4BD,CAtBE,kEACC,oDACD,CAEA,8DACC,wDACD,CAGD,uCAQE,qLACC,cACD,CAEF,CASD,uKA7FD,SAAU,CACV,mBA8FC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAxKD,SAAU,CACV,mBAyKC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAxNF,SAAU,CACV,mBAyNE,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}

			@media (prefers-reduced-motion: reduce) {
				animation: none;

				& svg {
					& polyline {
						animation: none;
					}

					& line {
						animation: none;
					}
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const x=y},935:p=>{p.exports=function(m){var g=[];return g.toString=function(){return this.map(function(v){var _=m(v);return v[2]?"@media ".concat(v[2]," {").concat(_,"}"):_}).join("")},g.i=function(v,_,C){typeof v=="string"&&(v=[[null,v,""]]);var y={};if(C)for(var x=0;x<this.length;x++){var S=this[x][0];S!=null&&(y[S]=!0)}for(var T=0;T<v.length;T++){var P=[].concat(v[T]);C&&y[P[0]]||(_&&(P[2]?P[2]="".concat(_," and ").concat(P[2]):P[2]=_),g.push(P))}},g}},9372:p=>{function m(v,_){return function(C){if(Array.isArray(C))return C}(v)||function(C,y){var x=C&&(typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"]);if(x!=null){var S,T,P=[],D=!0,R=!1;try{for(x=x.call(C);!(D=(S=x.next()).done)&&(P.push(S.value),!y||P.length!==y);D=!0);}catch(B){R=!0,T=B}finally{try{D||x.return==null||x.return()}finally{if(R)throw T}}return P}}(v,_)||function(C,y){if(C){if(typeof C=="string")return g(C,y);var x=Object.prototype.toString.call(C).slice(8,-1);if(x==="Object"&&C.constructor&&(x=C.constructor.name),x==="Map"||x==="Set")return Array.from(C);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return g(C,y)}}(v,_)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function g(v,_){(_==null||_>v.length)&&(_=v.length);for(var C=0,y=new Array(_);C<_;C++)y[C]=v[C];return y}p.exports=function(v){var _=m(v,4),C=_[1],y=_[3];if(!y)return C;if(typeof btoa=="function"){var x=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),S="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(x),T="/*# ".concat(S," */"),P=y.sources.map(function(D){return"/*# sourceURL=".concat(y.sourceRoot||"").concat(D," */")});return[C].concat(P).concat([T]).join(`
`)}return[C].join(`
`)}},2591:(p,m,g)=>{var v,_=function(){return v===void 0&&(v=!!(window&&document&&document.all&&!window.atob)),v},C=function(){var M={};return function(U){if(M[U]===void 0){var G=document.querySelector(U);if(window.HTMLIFrameElement&&G instanceof window.HTMLIFrameElement)try{G=G.contentDocument.head}catch{G=null}M[U]=G}return M[U]}}(),y=[];function x(M){for(var U=-1,G=0;G<y.length;G++)if(y[G].identifier===M){U=G;break}return U}function S(M,U){for(var G={},K=[],Z=0;Z<M.length;Z++){var se=M[Z],X=U.base?se[0]+U.base:se[0],ee=G[X]||0,oe="".concat(X," ").concat(ee);G[X]=ee+1;var ie=x(oe),ae={css:se[1],media:se[2],sourceMap:se[3]};ie!==-1?(y[ie].references++,y[ie].updater(ae)):y.push({identifier:oe,updater:H(ae,U),references:1}),K.push(oe)}return K}function T(M){var U=document.createElement("style"),G=M.attributes||{};if(G.nonce===void 0){var K=g.nc;K&&(G.nonce=K)}if(Object.keys(G).forEach(function(se){U.setAttribute(se,G[se])}),typeof M.insert=="function")M.insert(U);else{var Z=C(M.insert||"head");if(!Z)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");Z.appendChild(U)}return U}var P,D=(P=[],function(M,U){return P[M]=U,P.filter(Boolean).join(`
`)});function R(M,U,G,K){var Z=G?"":K.media?"@media ".concat(K.media," {").concat(K.css,"}"):K.css;if(M.styleSheet)M.styleSheet.cssText=D(U,Z);else{var se=document.createTextNode(Z),X=M.childNodes;X[U]&&M.removeChild(X[U]),X.length?M.insertBefore(se,X[U]):M.appendChild(se)}}function B(M,U,G){var K=G.css,Z=G.media,se=G.sourceMap;if(Z?M.setAttribute("media",Z):M.removeAttribute("media"),se&&typeof btoa<"u"&&(K+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(se))))," */")),M.styleSheet)M.styleSheet.cssText=K;else{for(;M.firstChild;)M.removeChild(M.firstChild);M.appendChild(document.createTextNode(K))}}var j=null,V=0;function H(M,U){var G,K,Z;if(U.singleton){var se=V++;G=j||(j=T(U)),K=R.bind(null,G,se,!1),Z=R.bind(null,G,se,!0)}else G=T(U),K=B.bind(null,G,U),Z=function(){(function(X){if(X.parentNode===null)return!1;X.parentNode.removeChild(X)})(G)};return K(M),function(X){if(X){if(X.css===M.css&&X.media===M.media&&X.sourceMap===M.sourceMap)return;K(M=X)}else Z()}}p.exports=function(M,U){(U=U||{}).singleton||typeof U.singleton=="boolean"||(U.singleton=_());var G=S(M=M||[],U);return function(K){if(K=K||[],Object.prototype.toString.call(K)==="[object Array]"){for(var Z=0;Z<G.length;Z++){var se=x(G[Z]);y[se].references--}for(var X=S(K,U),ee=0;ee<G.length;ee++){var oe=x(G[ee]);y[oe].references===0&&(y[oe].updater(),y.splice(oe,1))}G=X}}}}},s={};function c(p){var m=s[p];if(m!==void 0)return m.exports;var g=s[p]={id:p,exports:{}};return o[p](g,g.exports,c),g.exports}c.n=p=>{var m=p&&p.__esModule?()=>p.default:()=>p;return c.d(m,{a:m}),m},c.d=(p,m)=>{for(var g in m)c.o(m,g)&&!c.o(p,g)&&Object.defineProperty(p,g,{enumerable:!0,get:m[g]})},c.o=(p,m)=>Object.prototype.hasOwnProperty.call(p,m),c.nc=void 0;var u={};return(()=>{let p;c.d(u,{default:()=>S_});try{p={window,document}}catch{p={window:{},document:{}}}const m=p,g=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var v;const _={isMac:C(g),isWindows:(v=g,v.indexOf("windows")>-1),isGecko:function(a){return!!a.match(/gecko\/\d+/)}(g),isSafari:function(a){return a.indexOf(" applewebkit/")>-1&&a.indexOf("chrome")===-1}(g),isiOS:function(a){return!!a.match(/iphone|ipad/i)||C(a)&&navigator.maxTouchPoints>0}(g),isAndroid:function(a){return a.indexOf("android")>-1}(g),isBlink:function(a){return a.indexOf("chrome/")>-1&&a.indexOf("edge/")<0}(g),get isMediaForcedColors(){return!!m.window.matchMedia&&m.window.matchMedia("(forced-colors: active)").matches},get isMotionReduced(){return!!m.window.matchMedia&&m.window.matchMedia("(prefers-reduced-motion)").matches},features:{isRegExpUnicodePropertySupported:function(){let a=!1;try{a="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return a}()}};function C(a){return a.indexOf("macintosh")>-1}function y(a,n,r,i){r=r||function(k,b){return k===b};const l=Array.isArray(a)?a:Array.prototype.slice.call(a),d=Array.isArray(n)?n:Array.prototype.slice.call(n),h=function(k,b,w){const A=x(k,b,w);if(A===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const E=S(k,A),I=S(b,A),O=x(E,I,w),L=k.length-O,F=b.length-O;return{firstIndex:A,lastIndexOld:L,lastIndexNew:F}}(l,d,r);return i?function(k,b){const{firstIndex:w,lastIndexOld:A,lastIndexNew:E}=k;if(w===-1)return Array(b).fill("equal");let I=[];return w>0&&(I=I.concat(Array(w).fill("equal"))),E-w>0&&(I=I.concat(Array(E-w).fill("insert"))),A-w>0&&(I=I.concat(Array(A-w).fill("delete"))),E<b&&(I=I.concat(Array(b-E).fill("equal"))),I}(h,d.length):function(k,b){const w=[],{firstIndex:A,lastIndexOld:E,lastIndexNew:I}=b;return I-A>0&&w.push({index:A,type:"insert",values:k.slice(A,I)}),E-A>0&&w.push({index:A+(I-A),type:"delete",howMany:E-A}),w}(d,h)}function x(a,n,r){for(let i=0;i<Math.max(a.length,n.length);i++)if(a[i]===void 0||n[i]===void 0||!r(a[i],n[i]))return i;return-1}function S(a,n){return a.slice(n).reverse()}function T(a,n,r){r=r||function(L,F){return L===F};const i=a.length,l=n.length;if(i>200||l>200||i+l>300)return T.fastDiff(a,n,r,!0);let d,h;if(l<i){const L=a;a=n,n=L,d="delete",h="insert"}else d="insert",h="delete";const f=a.length,k=n.length,b=k-f,w={},A={};function E(L){const F=(A[L-1]!==void 0?A[L-1]:-1)+1,W=A[L+1]!==void 0?A[L+1]:-1,Y=F>W?-1:1;w[L+Y]&&(w[L]=w[L+Y].slice(0)),w[L]||(w[L]=[]),w[L].push(F>W?d:h);let J=Math.max(F,W),ce=J-L;for(;ce<f&&J<k&&r(a[ce],n[J]);)ce++,J++,w[L].push("equal");return J}let I,O=0;do{for(I=-O;I<b;I++)A[I]=E(I);for(I=b+O;I>b;I--)A[I]=E(I);A[b]=E(b),O++}while(A[b]!==k);return w[b].slice(1)}T.fastDiff=y;const P=function(){return function a(){a.called=!0}};class D{constructor(n,r){this.source=n,this.name=r,this.path=[],this.stop=P(),this.off=P()}}const R=new Array(256).fill("").map((a,n)=>("0"+n.toString(16)).slice(-2));function B(){const a=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0;return"e"+R[255&a]+R[a>>8&255]+R[a>>16&255]+R[a>>24&255]+R[255&n]+R[n>>8&255]+R[n>>16&255]+R[n>>24&255]+R[255&r]+R[r>>8&255]+R[r>>16&255]+R[r>>24&255]+R[255&i]+R[i>>8&255]+R[i>>16&255]+R[i>>24&255]}const j={get(a="normal"){return typeof a!="number"?this[a]||this.normal:a},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function V(a,n){const r=j.get(n.priority);for(let i=0;i<a.length;i++)if(j.get(a[i].priority)<r)return void a.splice(i,0,n);a.push(n)}const H="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class M extends Error{constructor(n,r,i){super(function(l,d){const h=new WeakSet,f=(w,A)=>{if(typeof A=="object"&&A!==null){if(h.has(A))return`[object ${A.constructor.name}]`;h.add(A)}return A},k=d?` ${JSON.stringify(d,f)}`:"",b=K(l);return l+k+b}(n,i)),this.name="CKEditorError",this.context=r,this.data=i}is(n){return n==="CKEditorError"}static rethrowUnexpectedError(n,r){if(n.is&&n.is("CKEditorError"))throw n;const i=new M(n.message,r);throw i.stack=n.stack,i}}function U(a,n){console.warn(...Z(a,n))}function G(a,n){console.error(...Z(a,n))}function K(a){return`
Read more: ${H}#error-${a}`}function Z(a,n){const r=K(a);return n?[a,n,r]:[a,r]}const se="41.4.2",X=new Date(2024,4,17);if(globalThis.CKEDITOR_VERSION)throw new M("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=se;const ee=Symbol("listeningTo"),oe=Symbol("emitterId"),ie=Symbol("delegations"),ae=q(Object);function q(a){return a?class extends a{on(n,r,i){this.listenTo(this,n,r,i)}once(n,r,i){let l=!1;this.listenTo(this,n,(d,...h)=>{l||(l=!0,d.off(),r.call(this,d,...h))},i)}off(n,r){this.stopListening(this,n,r)}listenTo(n,r,i,l={}){let d,h;this[ee]||(this[ee]={});const f=this[ee];de(n)||te(n);const k=de(n);(d=f[k])||(d=f[k]={emitter:n,callbacks:{}}),(h=d.callbacks[r])||(h=d.callbacks[r]=[]),h.push(i),function(b,w,A,E,I){w._addEventListener?w._addEventListener(A,E,I):b._addEventListener.call(w,A,E,I)}(this,n,r,i,l)}stopListening(n,r,i){const l=this[ee];let d=n&&de(n);const h=l&&d?l[d]:void 0,f=h&&r?h.callbacks[r]:void 0;if(!(!l||n&&!h||r&&!f))if(i)Qe(this,n,r,i),f.indexOf(i)!==-1&&(f.length===1?delete h.callbacks[r]:Qe(this,n,r,i));else if(f){for(;i=f.pop();)Qe(this,n,r,i);delete h.callbacks[r]}else if(h){for(r in h.callbacks)this.stopListening(n,r);delete l[d]}else{for(d in l)this.stopListening(l[d].emitter);delete this[ee]}}fire(n,...r){try{const i=n instanceof D?n:new D(this,n),l=i.name;let d=We(this,l);if(i.path.push(this),d){const f=[i,...r];d=Array.from(d);for(let k=0;k<d.length&&(d[k].callback.apply(this,f),i.off.called&&(delete i.off.called,this._removeEventListener(l,d[k].callback)),!i.stop.called);k++);}const h=this[ie];if(h){const f=h.get(l),k=h.get("*");f&&De(f,i,r),k&&De(k,i,r)}return i.return}catch(i){M.rethrowUnexpectedError(i,this)}}delegate(...n){return{to:(r,i)=>{this[ie]||(this[ie]=new Map),n.forEach(l=>{const d=this[ie].get(l);d?d.set(r,i):this[ie].set(l,new Map([[r,i]]))})}}}stopDelegating(n,r){if(this[ie])if(n)if(r){const i=this[ie].get(n);i&&i.delete(r)}else this[ie].delete(n);else this[ie].clear()}_addEventListener(n,r,i){(function(h,f){const k=Te(h);if(k[f])return;let b=f,w=null;const A=[];for(;b!==""&&!k[b];)k[b]={callbacks:[],childEvents:[]},A.push(k[b]),w&&k[b].childEvents.push(w),w=b,b=b.substr(0,b.lastIndexOf(":"));if(b!==""){for(const E of A)E.callbacks=k[b].callbacks.slice();k[b].childEvents.push(w)}})(this,n);const l=Ie(this,n),d={callback:r,priority:j.get(i.priority)};for(const h of l)V(h,d)}_removeEventListener(n,r){const i=Ie(this,n);for(const l of i)for(let d=0;d<l.length;d++)l[d].callback==r&&(l.splice(d,1),d--)}}:ae}function te(a,n){a[oe]||(a[oe]=n||B())}function de(a){return a[oe]}function Te(a){return a._events||Object.defineProperty(a,"_events",{value:{}}),a._events}function Ie(a,n){const r=Te(a)[n];if(!r)return[];let i=[r.callbacks];for(let l=0;l<r.childEvents.length;l++){const d=Ie(a,r.childEvents[l]);i=i.concat(d)}return i}function We(a,n){let r;return a._events&&(r=a._events[n])&&r.callbacks.length?r.callbacks:n.indexOf(":")>-1?We(a,n.substr(0,n.lastIndexOf(":"))):null}function De(a,n,r){for(let[i,l]of a){l?typeof l=="function"&&(l=l(n.name)):l=n.name;const d=new D(n.source,l);d.path=[...n.path],i.fire(d,...r)}}function Qe(a,n,r,i){n._removeEventListener?n._removeEventListener(r,i):a._removeEventListener.call(n,r,i)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{q[a]=ae.prototype[a]});const xe=function(a){var n=typeof a;return a!=null&&(n=="object"||n=="function")},ut=Symbol("observableProperties"),ct=Symbol("boundObservables"),at=Symbol("boundProperties"),yt=Symbol("decoratedMethods"),Ge=Symbol("decoratedOriginal"),Ee=Q(q());function Q(a){return a?class extends a{set(n,r){if(xe(n))return void Object.keys(n).forEach(l=>{this.set(l,n[l])},this);ne(this);const i=this[ut];if(n in this&&!i.has(n))throw new M("observable-set-cannot-override",this);Object.defineProperty(this,n,{enumerable:!0,configurable:!0,get:()=>i.get(n),set(l){const d=i.get(n);let h=this.fire(`set:${n}`,n,l,d);h===void 0&&(h=l),d===h&&i.has(n)||(i.set(n,h),this.fire(`change:${n}`,n,h,d))}}),this[n]=r}bind(...n){if(!n.length||!Pe(n))throw new M("observable-bind-wrong-properties",this);if(new Set(n).size!==n.length)throw new M("observable-bind-duplicate-properties",this);ne(this);const r=this[at];n.forEach(l=>{if(r.has(l))throw new M("observable-bind-rebind",this)});const i=new Map;return n.forEach(l=>{const d={property:l,to:[]};r.set(l,d),i.set(l,d)}),{to:le,toMany:Ce,_observable:this,_bindProperties:n,_to:[],_bindings:i}}unbind(...n){if(!this[ut])return;const r=this[at],i=this[ct];if(n.length){if(!Pe(n))throw new M("observable-unbind-wrong-properties",this);n.forEach(l=>{const d=r.get(l);d&&(d.to.forEach(([h,f])=>{const k=i.get(h),b=k[f];b.delete(d),b.size||delete k[f],Object.keys(k).length||(i.delete(h),this.stopListening(h,"change"))}),r.delete(l))})}else i.forEach((l,d)=>{this.stopListening(d,"change")}),i.clear(),r.clear()}decorate(n){ne(this);const r=this[n];if(!r)throw new M("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:n});this.on(n,(i,l)=>{i.return=r.apply(this,l)}),this[n]=function(...i){return this.fire(n,i)},this[n][Ge]=r,this[yt]||(this[yt]=[]),this[yt].push(n)}stopListening(n,r,i){if(!n&&this[yt]){for(const l of this[yt])this[l]=this[l][Ge];delete this[yt]}super.stopListening(n,r,i)}}:Ee}function ne(a){a[ut]||(Object.defineProperty(a,ut,{value:new Map}),Object.defineProperty(a,ct,{value:new Map}),Object.defineProperty(a,at,{value:new Map}))}function le(...a){const n=function(...d){if(!d.length)throw new M("observable-bind-to-parse-error",null);const h={to:[]};let f;return typeof d[d.length-1]=="function"&&(h.callback=d.pop()),d.forEach(k=>{if(typeof k=="string")f.properties.push(k);else{if(typeof k!="object")throw new M("observable-bind-to-parse-error",null);f={observable:k,properties:[]},h.to.push(f)}}),h}(...a),r=Array.from(this._bindings.keys()),i=r.length;if(!n.callback&&n.to.length>1)throw new M("observable-bind-to-no-callback",this);if(i>1&&n.callback)throw new M("observable-bind-to-extra-callback",this);var l;n.to.forEach(d=>{if(d.properties.length&&d.properties.length!==i)throw new M("observable-bind-to-properties-length",this);d.properties.length||(d.properties=this._bindProperties)}),this._to=n.to,n.callback&&(this._bindings.get(r[0]).callback=n.callback),l=this._observable,this._to.forEach(d=>{const h=l[ct];let f;h.get(d.observable)||l.listenTo(d.observable,"change",(k,b)=>{f=h.get(d.observable)[b],f&&f.forEach(w=>{Ye(l,w.property)})})}),function(d){let h;d._bindings.forEach((f,k)=>{d._to.forEach(b=>{h=b.properties[f.callback?0:d._bindProperties.indexOf(k)],f.to.push([b.observable,h]),function(w,A,E,I){const O=w[ct],L=O.get(E),F=L||{};F[I]||(F[I]=new Set),F[I].add(A),L||O.set(E,F)}(d._observable,f,b.observable,h)})})}(this),this._bindProperties.forEach(d=>{Ye(this._observable,d)})}function Ce(a,n,r){if(this._bindings.size>1)throw new M("observable-bind-to-many-not-one-binding",this);this.to(...function(i,l){const d=i.map(h=>[h,l]);return Array.prototype.concat.apply([],d)}(a,n),r)}function Pe(a){return a.every(n=>typeof n=="string")}function Ye(a,n){const r=a[at].get(n);let i;r.callback?i=r.callback.apply(a,r.to.map(l=>l[0][l[1]])):(i=r.to[0],i=i[0][i[1]]),Object.prototype.hasOwnProperty.call(a,n)?a[n]=i:a.set(n,i)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{Q[a]=Ee.prototype[a]});class Rt{constructor(){this._replacedElements=[]}replace(n,r){this._replacedElements.push({element:n,newElement:r}),n.style.display="none",r&&n.parentNode.insertBefore(r,n.nextSibling)}restore(){this._replacedElements.forEach(({element:n,newElement:r})=>{n.style.display="",r&&r.remove()}),this._replacedElements=[]}}function ot(a){let n=0;for(const r of a)n++;return n}function Oe(a,n){const r=Math.min(a.length,n.length);for(let i=0;i<r;i++)if(a[i]!=n[i])return i;return a.length==n.length?"same":a.length<n.length?"prefix":"extension"}function et(a){return!(!a||!a[Symbol.iterator])}const Je=typeof Om=="object"&&Om&&Om.Object===Object&&Om;var qe=typeof self=="object"&&self&&self.Object===Object&&self;const gt=Je||qe||Function("return this")(),Wt=gt.Symbol;var Wn=Object.prototype,_t=Wn.hasOwnProperty,ze=Wn.toString,Zt=Wt?Wt.toStringTag:void 0;const ei=function(a){var n=_t.call(a,Zt),r=a[Zt];try{a[Zt]=void 0;var i=!0}catch{}var l=ze.call(a);return i&&(n?a[Zt]=r:delete a[Zt]),l};var tr=Object.prototype.toString;const Be=function(a){return tr.call(a)};var It=Wt?Wt.toStringTag:void 0;const Dt=function(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":It&&It in Object(a)?ei(a):Be(a)},Jt=Array.isArray,Ln=function(a){return a!=null&&typeof a=="object"},Su=function(a){return typeof a=="string"||!Jt(a)&&Ln(a)&&Dt(a)=="[object String]"};function Lo(a,n,r={},i=[]){const l=r&&r.xmlns,d=l?a.createElementNS(l,n):a.createElement(n);for(const h in r)d.setAttribute(h,r[h]);!Su(i)&&et(i)||(i=[i]);for(let h of i)Su(h)&&(h=a.createTextNode(h)),d.appendChild(h);return d}const ag=function(a,n){return function(r){return a(n(r))}},Tu=ag(Object.getPrototypeOf,Object);var lg=Function.prototype,cg=Object.prototype,Iu=lg.toString,dg=cg.hasOwnProperty,fw=Iu.call(Object);const To=function(a){if(!Ln(a)||Dt(a)!="[object Object]")return!1;var n=Tu(a);if(n===null)return!0;var r=dg.call(n,"constructor")&&n.constructor;return typeof r=="function"&&r instanceof r&&Iu.call(r)==fw},gw=function(){this.__data__=[],this.size=0},Ji=function(a,n){return a===n||a!=a&&n!=n},dc=function(a,n){for(var r=a.length;r--;)if(Ji(a[r][0],n))return r;return-1};var Ga=Array.prototype.splice;const Du=function(a){var n=this.__data__,r=dc(n,a);return!(r<0)&&(r==n.length-1?n.pop():Ga.call(n,r,1),--this.size,!0)},nr=function(a){var n=this.__data__,r=dc(n,a);return r<0?void 0:n[r][1]},Ka=function(a){return dc(this.__data__,a)>-1},mw=function(a,n){var r=this.__data__,i=dc(r,a);return i<0?(++this.size,r.push([a,n])):r[i][1]=n,this};function xr(a){var n=-1,r=a==null?0:a.length;for(this.clear();++n<r;){var i=a[n];this.set(i[0],i[1])}}xr.prototype.clear=gw,xr.prototype.delete=Du,xr.prototype.get=nr,xr.prototype.has=Ka,xr.prototype.set=mw;const zs=xr,ug=function(){this.__data__=new zs,this.size=0},hg=function(a){var n=this.__data__,r=n.delete(a);return this.size=n.size,r},pg=function(a){return this.__data__.get(a)},fg=function(a){return this.__data__.has(a)},Xi=function(a){if(!xe(a))return!1;var n=Dt(a);return n=="[object Function]"||n=="[object GeneratorFunction]"||n=="[object AsyncFunction]"||n=="[object Proxy]"},Mu=gt["__core-js_shared__"];var gg=function(){var a=/[^.]+$/.exec(Mu&&Mu.keys&&Mu.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();const kw=function(a){return!!gg&&gg in a};var ht=Function.prototype.toString;const Cn=function(a){if(a!=null){try{return ht.call(a)}catch{}try{return a+""}catch{}}return""};var kU=/^\[object .+?Constructor\]$/,bU=Function.prototype,vU=Object.prototype,wU=bU.toString,yU=vU.hasOwnProperty,_U=RegExp("^"+wU.call(yU).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const CU=function(a){return!(!xe(a)||kw(a))&&(Xi(a)?_U:kU).test(Cn(a))},AU=function(a,n){return a==null?void 0:a[n]},Ya=function(a,n){var r=AU(a,n);return CU(r)?r:void 0},Pu=Ya(gt,"Map"),Nu=Ya(Object,"create"),xU=function(){this.__data__=Nu?Nu(null):{},this.size=0},EU=function(a){var n=this.has(a)&&delete this.__data__[a];return this.size-=n?1:0,n};var SU=Object.prototype.hasOwnProperty;const TU=function(a){var n=this.__data__;if(Nu){var r=n[a];return r==="__lodash_hash_undefined__"?void 0:r}return SU.call(n,a)?n[a]:void 0};var IU=Object.prototype.hasOwnProperty;const DU=function(a){var n=this.__data__;return Nu?n[a]!==void 0:IU.call(n,a)},MU=function(a,n){var r=this.__data__;return this.size+=this.has(a)?0:1,r[a]=Nu&&n===void 0?"__lodash_hash_undefined__":n,this};function uc(a){var n=-1,r=a==null?0:a.length;for(this.clear();++n<r;){var i=a[n];this.set(i[0],i[1])}}uc.prototype.clear=xU,uc.prototype.delete=EU,uc.prototype.get=TU,uc.prototype.has=DU,uc.prototype.set=MU;const gS=uc,PU=function(){this.size=0,this.__data__={hash:new gS,map:new(Pu||zs),string:new gS}},NU=function(a){var n=typeof a;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?a!=="__proto__":a===null},mg=function(a,n){var r=a.__data__;return NU(n)?r[typeof n=="string"?"string":"hash"]:r.map},RU=function(a){var n=mg(this,a).delete(a);return this.size-=n?1:0,n},OU=function(a){return mg(this,a).get(a)},BU=function(a){return mg(this,a).has(a)},LU=function(a,n){var r=mg(this,a),i=r.size;return r.set(a,n),this.size+=r.size==i?0:1,this};function hc(a){var n=-1,r=a==null?0:a.length;for(this.clear();++n<r;){var i=a[n];this.set(i[0],i[1])}}hc.prototype.clear=PU,hc.prototype.delete=RU,hc.prototype.get=OU,hc.prototype.has=BU,hc.prototype.set=LU;const kg=hc,jU=function(a,n){var r=this.__data__;if(r instanceof zs){var i=r.__data__;if(!Pu||i.length<199)return i.push([a,n]),this.size=++r.size,this;r=this.__data__=new kg(i)}return r.set(a,n),this.size=r.size,this};function pc(a){var n=this.__data__=new zs(a);this.size=n.size}pc.prototype.clear=ug,pc.prototype.delete=hg,pc.prototype.get=pg,pc.prototype.has=fg,pc.prototype.set=jU;const fc=pc,zU=function(a,n){for(var r=-1,i=a==null?0:a.length;++r<i&&n(a[r],r,a)!==!1;);return a},bg=function(){try{var a=Ya(Object,"defineProperty");return a({},"",{}),a}catch{}}(),vg=function(a,n,r){n=="__proto__"&&bg?bg(a,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):a[n]=r};var FU=Object.prototype.hasOwnProperty;const bw=function(a,n,r){var i=a[n];FU.call(a,n)&&Ji(i,r)&&(r!==void 0||n in a)||vg(a,n,r)},gc=function(a,n,r,i){var l=!r;r||(r={});for(var d=-1,h=n.length;++d<h;){var f=n[d],k=void 0;k===void 0&&(k=a[f]),l?vg(r,f,k):bw(r,f,k)}return r},$U=function(a,n){for(var r=-1,i=Array(a);++r<a;)i[r]=n(r);return i},mS=function(a){return Ln(a)&&Dt(a)=="[object Arguments]"};var kS=Object.prototype,VU=kS.hasOwnProperty,UU=kS.propertyIsEnumerable;const wg=mS(function(){return arguments}())?mS:function(a){return Ln(a)&&VU.call(a,"callee")&&!UU.call(a,"callee")},HU=function(){return!1};var bS=t&&!t.nodeType&&t,vS=bS&&!0&&e&&!e.nodeType&&e,wS=vS&&vS.exports===bS?gt.Buffer:void 0;const Ru=(wS?wS.isBuffer:void 0)||HU;var WU=/^(?:0|[1-9]\d*)$/;const yg=function(a,n){var r=typeof a;return!!(n=n??9007199254740991)&&(r=="number"||r!="symbol"&&WU.test(a))&&a>-1&&a%1==0&&a<n},vw=function(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=9007199254740991};var Xt={};Xt["[object Float32Array]"]=Xt["[object Float64Array]"]=Xt["[object Int8Array]"]=Xt["[object Int16Array]"]=Xt["[object Int32Array]"]=Xt["[object Uint8Array]"]=Xt["[object Uint8ClampedArray]"]=Xt["[object Uint16Array]"]=Xt["[object Uint32Array]"]=!0,Xt["[object Arguments]"]=Xt["[object Array]"]=Xt["[object ArrayBuffer]"]=Xt["[object Boolean]"]=Xt["[object DataView]"]=Xt["[object Date]"]=Xt["[object Error]"]=Xt["[object Function]"]=Xt["[object Map]"]=Xt["[object Number]"]=Xt["[object Object]"]=Xt["[object RegExp]"]=Xt["[object Set]"]=Xt["[object String]"]=Xt["[object WeakMap]"]=!1;const qU=function(a){return Ln(a)&&vw(a.length)&&!!Xt[Dt(a)]},ww=function(a){return function(n){return a(n)}};var yS=t&&!t.nodeType&&t,Ou=yS&&!0&&e&&!e.nodeType&&e,yw=Ou&&Ou.exports===yS&&Je.process;const mc=function(){try{var a=Ou&&Ou.require&&Ou.require("util").types;return a||yw&&yw.binding&&yw.binding("util")}catch{}}();var _S=mc&&mc.isTypedArray;const _w=_S?ww(_S):qU;var GU=Object.prototype.hasOwnProperty;const CS=function(a,n){var r=Jt(a),i=!r&&wg(a),l=!r&&!i&&Ru(a),d=!r&&!i&&!l&&_w(a),h=r||i||l||d,f=h?$U(a.length,String):[],k=f.length;for(var b in a)!n&&!GU.call(a,b)||h&&(b=="length"||l&&(b=="offset"||b=="parent")||d&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||yg(b,k))||f.push(b);return f};var KU=Object.prototype;const Cw=function(a){var n=a&&a.constructor;return a===(typeof n=="function"&&n.prototype||KU)},YU=ag(Object.keys,Object);var QU=Object.prototype.hasOwnProperty;const ZU=function(a){if(!Cw(a))return YU(a);var n=[];for(var r in Object(a))QU.call(a,r)&&r!="constructor"&&n.push(r);return n},_g=function(a){return a!=null&&vw(a.length)&&!Xi(a)},Bu=function(a){return _g(a)?CS(a):ZU(a)},JU=function(a,n){return a&&gc(n,Bu(n),a)},XU=function(a){var n=[];if(a!=null)for(var r in Object(a))n.push(r);return n};var eH=Object.prototype.hasOwnProperty;const tH=function(a){if(!xe(a))return XU(a);var n=Cw(a),r=[];for(var i in a)(i!="constructor"||!n&&eH.call(a,i))&&r.push(i);return r},kc=function(a){return _g(a)?CS(a,!0):tH(a)},nH=function(a,n){return a&&gc(n,kc(n),a)};var AS=t&&!t.nodeType&&t,xS=AS&&!0&&e&&!e.nodeType&&e,ES=xS&&xS.exports===AS?gt.Buffer:void 0,SS=ES?ES.allocUnsafe:void 0;const TS=function(a,n){if(n)return a.slice();var r=a.length,i=SS?SS(r):new a.constructor(r);return a.copy(i),i},IS=function(a,n){var r=-1,i=a.length;for(n||(n=Array(i));++r<i;)n[r]=a[r];return n},oH=function(a,n){for(var r=-1,i=a==null?0:a.length,l=0,d=[];++r<i;){var h=a[r];n(h,r,a)&&(d[l++]=h)}return d},DS=function(){return[]};var rH=Object.prototype.propertyIsEnumerable,MS=Object.getOwnPropertySymbols;const Aw=MS?function(a){return a==null?[]:(a=Object(a),oH(MS(a),function(n){return rH.call(a,n)}))}:DS,iH=function(a,n){return gc(a,Aw(a),n)},PS=function(a,n){for(var r=-1,i=n.length,l=a.length;++r<i;)a[l+r]=n[r];return a},NS=Object.getOwnPropertySymbols?function(a){for(var n=[];a;)PS(n,Aw(a)),a=Tu(a);return n}:DS,sH=function(a,n){return gc(a,NS(a),n)},RS=function(a,n,r){var i=n(a);return Jt(a)?i:PS(i,r(a))},xw=function(a){return RS(a,Bu,Aw)},aH=function(a){return RS(a,kc,NS)},Ew=Ya(gt,"DataView"),Sw=Ya(gt,"Promise"),Tw=Ya(gt,"Set"),Iw=Ya(gt,"WeakMap");var OS="[object Map]",BS="[object Promise]",LS="[object Set]",jS="[object WeakMap]",zS="[object DataView]",lH=Cn(Ew),cH=Cn(Pu),dH=Cn(Sw),uH=Cn(Tw),hH=Cn(Iw),Qa=Dt;(Ew&&Qa(new Ew(new ArrayBuffer(1)))!=zS||Pu&&Qa(new Pu)!=OS||Sw&&Qa(Sw.resolve())!=BS||Tw&&Qa(new Tw)!=LS||Iw&&Qa(new Iw)!=jS)&&(Qa=function(a){var n=Dt(a),r=n=="[object Object]"?a.constructor:void 0,i=r?Cn(r):"";if(i)switch(i){case lH:return zS;case cH:return OS;case dH:return BS;case uH:return LS;case hH:return jS}return n});const Lu=Qa;var pH=Object.prototype.hasOwnProperty;const fH=function(a){var n=a.length,r=new a.constructor(n);return n&&typeof a[0]=="string"&&pH.call(a,"index")&&(r.index=a.index,r.input=a.input),r},Cg=gt.Uint8Array,Dw=function(a){var n=new a.constructor(a.byteLength);return new Cg(n).set(new Cg(a)),n},gH=function(a,n){var r=n?Dw(a.buffer):a.buffer;return new a.constructor(r,a.byteOffset,a.byteLength)};var mH=/\w*$/;const kH=function(a){var n=new a.constructor(a.source,mH.exec(a));return n.lastIndex=a.lastIndex,n};var FS=Wt?Wt.prototype:void 0,$S=FS?FS.valueOf:void 0;const bH=function(a){return $S?Object($S.call(a)):{}},VS=function(a,n){var r=n?Dw(a.buffer):a.buffer;return new a.constructor(r,a.byteOffset,a.length)},vH=function(a,n,r){var i=a.constructor;switch(n){case"[object ArrayBuffer]":return Dw(a);case"[object Boolean]":case"[object Date]":return new i(+a);case"[object DataView]":return gH(a,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return VS(a,r);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(a);case"[object RegExp]":return kH(a);case"[object Symbol]":return bH(a)}};var US=Object.create;const wH=function(){function a(){}return function(n){if(!xe(n))return{};if(US)return US(n);a.prototype=n;var r=new a;return a.prototype=void 0,r}}(),HS=function(a){return typeof a.constructor!="function"||Cw(a)?{}:wH(Tu(a))},yH=function(a){return Ln(a)&&Lu(a)=="[object Map]"};var WS=mc&&mc.isMap;const _H=WS?ww(WS):yH,CH=function(a){return Ln(a)&&Lu(a)=="[object Set]"};var qS=mc&&mc.isSet;const AH=qS?ww(qS):CH;var GS="[object Arguments]",KS="[object Function]",YS="[object Object]",Kt={};Kt[GS]=Kt["[object Array]"]=Kt["[object ArrayBuffer]"]=Kt["[object DataView]"]=Kt["[object Boolean]"]=Kt["[object Date]"]=Kt["[object Float32Array]"]=Kt["[object Float64Array]"]=Kt["[object Int8Array]"]=Kt["[object Int16Array]"]=Kt["[object Int32Array]"]=Kt["[object Map]"]=Kt["[object Number]"]=Kt[YS]=Kt["[object RegExp]"]=Kt["[object Set]"]=Kt["[object String]"]=Kt["[object Symbol]"]=Kt["[object Uint8Array]"]=Kt["[object Uint8ClampedArray]"]=Kt["[object Uint16Array]"]=Kt["[object Uint32Array]"]=!0,Kt["[object Error]"]=Kt[KS]=Kt["[object WeakMap]"]=!1;const Mw=function a(n,r,i,l,d,h){var f,k=1&r,b=2&r,w=4&r;if(i&&(f=d?i(n,l,d,h):i(n)),f!==void 0)return f;if(!xe(n))return n;var A=Jt(n);if(A){if(f=fH(n),!k)return IS(n,f)}else{var E=Lu(n),I=E==KS||E=="[object GeneratorFunction]";if(Ru(n))return TS(n,k);if(E==YS||E==GS||I&&!d){if(f=b||I?{}:HS(n),!k)return b?sH(n,nH(f,n)):iH(n,JU(f,n))}else{if(!Kt[E])return d?n:{};f=vH(n,E,k)}}h||(h=new fc);var O=h.get(n);if(O)return O;h.set(n,f),AH(n)?n.forEach(function(F){f.add(a(F,r,i,F,n,h))}):_H(n)&&n.forEach(function(F,W){f.set(W,a(F,r,i,W,n,h))});var L=A?void 0:(w?b?aH:xw:b?kc:Bu)(n);return zU(L||n,function(F,W){L&&(F=n[W=F]),bw(f,W,a(F,r,i,W,n,h))}),f},Pw=function(a,n){return Mw(a,5,n=typeof n=="function"?n:void 0)},Za=function(a){return Ln(a)&&a.nodeType===1&&!To(a)};class QS{constructor(n,r){this._config={},r&&this.define(ZS(r)),n&&this._setObjectToTarget(this._config,n)}set(n,r){this._setToTarget(this._config,n,r)}define(n,r){this._setToTarget(this._config,n,r,!0)}get(n){return this._getFromSource(this._config,n)}*names(){for(const n of Object.keys(this._config))yield n}_setToTarget(n,r,i,l=!1){if(To(r))return void this._setObjectToTarget(n,r,l);const d=r.split(".");r=d.pop();for(const h of d)To(n[h])||(n[h]={}),n=n[h];if(To(i))return To(n[r])||(n[r]={}),n=n[r],void this._setObjectToTarget(n,i,l);l&&n[r]!==void 0||(n[r]=i)}_getFromSource(n,r){const i=r.split(".");r=i.pop();for(const l of i){if(!To(n[l])){n=null;break}n=n[l]}return n?ZS(n[r]):void 0}_setObjectToTarget(n,r,i){Object.keys(r).forEach(l=>{this._setToTarget(n,l,r[l],i)})}}function ZS(a){return Pw(a,xH)}function xH(a){return Za(a)||typeof a=="function"?a:void 0}function Fs(a){if(a){if(a.defaultView)return a instanceof a.defaultView.Document;if(a.ownerDocument&&a.ownerDocument.defaultView)return a instanceof a.ownerDocument.defaultView.Node}return!1}function Ag(a){const n=Object.prototype.toString.apply(a);return n=="[object Window]"||n=="[object global]"}const JS=Er(q());function Er(a){return a?class extends a{listenTo(n,r,i,l={}){if(Fs(n)||Ag(n)){const d={capture:!!l.useCapture,passive:!!l.usePassive},h=this._getProxyEmitter(n,d)||new EH(n,d);this.listenTo(h,r,i,l)}else super.listenTo(n,r,i,l)}stopListening(n,r,i){if(Fs(n)||Ag(n)){const l=this._getAllProxyEmitters(n);for(const d of l)this.stopListening(d,r,i)}else super.stopListening(n,r,i)}_getProxyEmitter(n,r){return function(i,l){const d=i[ee];return d&&d[l]?d[l].emitter:null}(this,XS(n,r))}_getAllProxyEmitters(n){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(r=>this._getProxyEmitter(n,r)).filter(r=>!!r)}}:JS}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{Er[a]=JS.prototype[a]});class EH extends q(){constructor(n,r){super(),te(this,XS(n,r)),this._domNode=n,this._options=r}attach(n){if(this._domListeners&&this._domListeners[n])return;const r=this._createDomListener(n);this._domNode.addEventListener(n,r,this._options),this._domListeners||(this._domListeners={}),this._domListeners[n]=r}detach(n){let r;!this._domListeners[n]||(r=this._events[n])&&r.callbacks.length||this._domListeners[n].removeListener()}_addEventListener(n,r,i){this.attach(n),q().prototype._addEventListener.call(this,n,r,i)}_removeEventListener(n,r){q().prototype._removeEventListener.call(this,n,r),this.detach(n)}_createDomListener(n){const r=i=>{this.fire(n,i)};return r.removeListener=()=>{this._domNode.removeEventListener(n,r,this._options),delete this._domListeners[n]},r}}function XS(a,n){let r=function(i){return i["data-ck-expando"]||(i["data-ck-expando"]=B())}(a);for(const i of Object.keys(n).sort())n[i]&&(r+="-"+i);return r}function eT(a){const n=a.ownerDocument.defaultView.getComputedStyle(a);return{top:parseInt(n.borderTopWidth,10),right:parseInt(n.borderRightWidth,10),bottom:parseInt(n.borderBottomWidth,10),left:parseInt(n.borderLeftWidth,10)}}function An(a){return Object.prototype.toString.call(a)=="[object Text]"}function xg(a){return Object.prototype.toString.apply(a)=="[object Range]"}function tT(a){return a&&a.parentNode?a.offsetParent===m.document.body?null:a.offsetParent:null}const nT=["top","right","bottom","left","width","height"];class pt{constructor(n){const r=xg(n);if(Object.defineProperty(this,"_source",{value:n._source||n,writable:!0,enumerable:!1}),Nw(n)||r)if(r){const i=pt.getDomRangeRects(n);Eg(this,pt.getBoundingRect(i))}else Eg(this,n.getBoundingClientRect());else if(Ag(n)){const{innerWidth:i,innerHeight:l}=n;Eg(this,{top:0,right:i,bottom:l,left:0,width:i,height:l})}else Eg(this,n)}clone(){return new pt(this)}moveTo(n,r){return this.top=r,this.right=n+this.width,this.bottom=r+this.height,this.left=n,this}moveBy(n,r){return this.top+=r,this.right+=n,this.left+=n,this.bottom+=r,this}getIntersection(n){const r={top:Math.max(this.top,n.top),right:Math.min(this.right,n.right),bottom:Math.min(this.bottom,n.bottom),left:Math.max(this.left,n.left),width:0,height:0};if(r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<0||r.height<0)return null;{const i=new pt(r);return i._source=this._source,i}}getIntersectionArea(n){const r=this.getIntersection(n);return r?r.getArea():0}getArea(){return this.width*this.height}getVisible(){const n=this._source;let r=this.clone();if(oT(n))return r;let i,l=n,d=n.parentNode||n.commonAncestorContainer;for(;d&&!oT(d);){const f=((h=d)instanceof HTMLElement?h.ownerDocument.defaultView.getComputedStyle(h).overflow:"visible")==="visible";l instanceof HTMLElement&&rT(l)==="absolute"&&(i=l);const k=rT(d);if(f||i&&(k==="relative"&&f||k!=="relative")){l=d,d=d.parentNode;continue}const b=new pt(d),w=r.getIntersection(b);if(!w)return null;w.getArea()<r.getArea()&&(r=w),l=d,d=d.parentNode}var h;return r}isEqual(n){for(const r of nT)if(this[r]!==n[r])return!1;return!0}contains(n){const r=this.getIntersection(n);return!(!r||!r.isEqual(n))}toAbsoluteRect(){const{scrollX:n,scrollY:r}=m.window,i=this.clone().moveBy(n,r);if(Nw(i._source)){const l=tT(i._source);l&&function(d,h){const f=new pt(h),k=eT(h);let b=0,w=0;b-=f.left,w-=f.top,b+=h.scrollLeft,w+=h.scrollTop,b-=k.left,w-=k.top,d.moveBy(b,w)}(i,l)}return i}excludeScrollbarsAndBorders(){const n=this._source;let r,i,l;if(Ag(n))r=n.innerWidth-n.document.documentElement.clientWidth,i=n.innerHeight-n.document.documentElement.clientHeight,l=n.getComputedStyle(n.document.documentElement).direction;else{const d=eT(n);r=n.offsetWidth-n.clientWidth-d.left-d.right,i=n.offsetHeight-n.clientHeight-d.top-d.bottom,l=n.ownerDocument.defaultView.getComputedStyle(n).direction,this.left+=d.left,this.top+=d.top,this.right-=d.right,this.bottom-=d.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=r,l==="ltr"?this.right-=r:this.left+=r,this.height-=i,this.bottom-=i,this}static getDomRangeRects(n){const r=[],i=Array.from(n.getClientRects());if(i.length)for(const l of i)r.push(new pt(l));else{let l=n.startContainer;An(l)&&(l=l.parentNode);const d=new pt(l.getBoundingClientRect());d.right=d.left,d.width=0,r.push(d)}return r}static getBoundingRect(n){const r={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let i=0;for(const l of n)i++,r.left=Math.min(r.left,l.left),r.top=Math.min(r.top,l.top),r.right=Math.max(r.right,l.right),r.bottom=Math.max(r.bottom,l.bottom);return i==0?null:(r.width=r.right-r.left,r.height=r.bottom-r.top,new pt(r))}}function Eg(a,n){for(const r of nT)a[r]=n[r]}function oT(a){return!!Nw(a)&&a===a.ownerDocument.body}function Nw(a){return a!==null&&typeof a=="object"&&a.nodeType===1&&typeof a.getBoundingClientRect=="function"}function rT(a){return a instanceof HTMLElement?a.ownerDocument.defaultView.getComputedStyle(a).position:"static"}const xn=class{constructor(a,n){xn._observerInstance||xn._createObserver(),this._element=a,this._callback=n,xn._addElementCallback(a,n),xn._observerInstance.observe(a)}get element(){return this._element}destroy(){xn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(a,n){xn._elementCallbacks||(xn._elementCallbacks=new Map);let r=xn._elementCallbacks.get(a);r||(r=new Set,xn._elementCallbacks.set(a,r)),r.add(n)}static _deleteElementCallback(a,n){const r=xn._getElementCallbacks(a);r&&(r.delete(n),r.size||(xn._elementCallbacks.delete(a),xn._observerInstance.unobserve(a))),xn._elementCallbacks&&!xn._elementCallbacks.size&&(xn._observerInstance=null,xn._elementCallbacks=null)}static _getElementCallbacks(a){return xn._elementCallbacks?xn._elementCallbacks.get(a):null}static _createObserver(){xn._observerInstance=new m.window.ResizeObserver(a=>{for(const n of a){const r=xn._getElementCallbacks(n.target);if(r)for(const i of r)i(n)}})}};let ju=xn;function iT(a,n){a instanceof HTMLTextAreaElement&&(a.value=n),a.innerHTML=n}function bc(a){return n=>n+a}function zu(a){let n=0;for(;a.previousSibling;)a=a.previousSibling,n++;return n}function sT(a,n,r){a.insertBefore(r,a.childNodes[n]||null)}function Fu(a){return a&&a.nodeType===Node.COMMENT_NODE}function Ja(a){return!!(a&&a.getClientRects&&a.getClientRects().length)}ju._observerInstance=null,ju._elementCallbacks=null;var aT=Math.pow;function Sg({element:a,target:n,positions:r,limiter:i,fitInViewport:l,viewportOffsetConfig:d}){Xi(n)&&(n=n()),Xi(i)&&(i=i());const h=tT(a),f=function(E){E=Object.assign({top:0,bottom:0,left:0,right:0},E);const I=new pt(m.window);return I.top+=E.top,I.height-=E.top,I.bottom-=E.bottom,I.height-=E.bottom,I}(d),k=new pt(a),b=lT(n,f);let w;if(!b||!f.getIntersection(b))return null;const A={targetRect:b,elementRect:k,positionedElementAncestor:h,viewportRect:f};if(i||l){if(i){const E=lT(i,f);E&&(A.limiterRect=E)}w=function(E,I){const{elementRect:O}=I,L=O.getArea(),F=E.map(J=>new cT(J,I)).filter(J=>!!J.name);let W=0,Y=null;for(const J of F){const{limiterIntersectionArea:ce,viewportIntersectionArea:we}=J;if(ce===L)return J;const Ve=aT(we,2)+aT(ce,2);Ve>W&&(W=Ve,Y=J)}return Y}(r,A)}else w=new cT(r[0],A);return w}function lT(a,n){const r=new pt(a).getVisible();return r?r.getIntersection(n):null}class cT{constructor(n,r){const i=n(r.targetRect,r.elementRect,r.viewportRect,r.limiterRect);if(!i)return;const{left:l,top:d,name:h,config:f}=i;this.name=h,this.config=f,this._positioningFunctionCoordinates={left:l,top:d},this._options=r}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const n=this._options.limiterRect;return n?n.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function dT(a){const n=a.parentNode;n&&n.removeChild(a)}function SH({window:a,rect:n,alignToTop:r,forceScroll:i,viewportOffset:l}){const d=n.clone().moveBy(0,l.bottom),h=n.clone().moveBy(0,-l.top),f=new pt(a).excludeScrollbarsAndBorders(),k=r&&i,b=[h,d].every(O=>f.contains(O));let{scrollX:w,scrollY:A}=a;const E=w,I=A;k?A-=f.top-n.top+l.top:b||(hT(h,f)?A-=f.top-n.top+l.top:uT(d,f)&&(A+=r?n.top-f.top-l.top:n.bottom-f.bottom+l.bottom)),b||(pT(n,f)?w-=f.left-n.left+l.left:fT(n,f)&&(w+=n.right-f.right+l.right)),w==E&&A===I||a.scrollTo(w,A)}function TH({parent:a,getRect:n,alignToTop:r,forceScroll:i,ancestorOffset:l=0,limiterElement:d}){const h=Rw(a),f=r&&i;let k,b,w;const A=d||h.document.body;for(;a!=A;)b=n(),k=new pt(a).excludeScrollbarsAndBorders(),w=k.contains(b),f?a.scrollTop-=k.top-b.top+l:w||(hT(b,k)?a.scrollTop-=k.top-b.top+l:uT(b,k)&&(a.scrollTop+=r?b.top-k.top-l:b.bottom-k.bottom+l)),w||(pT(b,k)?a.scrollLeft-=k.left-b.left+l:fT(b,k)&&(a.scrollLeft+=b.right-k.right+l)),a=a.parentNode}function uT(a,n){return a.bottom>n.bottom}function hT(a,n){return a.top<n.top}function pT(a,n){return a.left<n.left}function fT(a,n){return a.right>n.right}function Rw(a){return xg(a)?a.startContainer.ownerDocument.defaultView:a.ownerDocument.defaultView}function IH(a){if(xg(a)){let n=a.commonAncestorContainer;return An(n)&&(n=n.parentNode),n}return a.parentNode}function gT(a,n){const r=Rw(a),i=new pt(a);if(r===n)return i;{let l=r;for(;l!=n;){const d=l.frameElement,h=new pt(d).excludeScrollbarsAndBorders();i.moveBy(h.left,h.top),l=l.parent}}return i}const DH={ctrl:"",cmd:"",alt:"",shift:""},MH={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},mT={37:"",38:"",39:"",40:"",9:"",33:"Page Up",34:"Page Down"},kt=function(){const a={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let n=65;n<=90;n++)a[String.fromCharCode(n).toLowerCase()]=n;for(let n=48;n<=57;n++)a[n-48]=n;for(let n=112;n<=123;n++)a["f"+(n-111)]=n;return Object.assign(a,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),a}(),PH=Object.fromEntries(Object.entries(kt).map(([a,n])=>{let r;return r=n in mT?mT[n]:a.charAt(0).toUpperCase()+a.slice(1),[n,r]}));function vc(a){let n;if(typeof a=="string"){if(n=kt[a.toLowerCase()],!n)throw new M("keyboard-unknown-key",null,{key:a})}else n=a.keyCode+(a.altKey?kt.alt:0)+(a.ctrlKey?kt.ctrl:0)+(a.shiftKey?kt.shift:0)+(a.metaKey?kt.cmd:0);return n}function $u(a){return typeof a=="string"&&(a=function(n){return n.split("+").map(r=>r.trim())}(a)),a.map(n=>typeof n=="string"?function(r){if(r.endsWith("!"))return vc(r.slice(0,-1));const i=vc(r);return(_.isMac||_.isiOS)&&i==kt.ctrl?kt.cmd:i}(n):n).reduce((n,r)=>r+n,0)}function Tg(a){let n=$u(a);return Object.entries(_.isMac||_.isiOS?DH:MH).reduce((r,[i,l])=>(n&kt[i]&&(n&=~kt[i],r+=l),r),"")+(n?PH[n]:"")}function Ow(a,n){const r=n==="ltr";switch(a){case kt.arrowleft:return r?"left":"right";case kt.arrowright:return r?"right":"left";case kt.arrowup:return"up";case kt.arrowdown:return"down"}}function qt(a){return Array.isArray(a)?a:[a]}const Bw=function(a,n,r){(r!==void 0&&!Ji(a[n],r)||r===void 0&&!(n in a))&&vg(a,n,r)},kT=function(a){return function(n,r,i){for(var l=-1,d=Object(n),h=i(n),f=h.length;f--;){var k=h[++l];if(r(d[k],k,d)===!1)break}return n}}(),NH=function(a){return Ln(a)&&_g(a)},bT=function(a,n){if((n!=="constructor"||typeof a[n]!="function")&&n!="__proto__")return a[n]},RH=function(a){return gc(a,kc(a))},OH=function(a,n,r,i,l,d,h){var f=bT(a,r),k=bT(n,r),b=h.get(k);if(b)Bw(a,r,b);else{var w=void 0,A=w===void 0;if(A){var E=Jt(k),I=!E&&Ru(k),O=!E&&!I&&_w(k);w=k,E||I||O?Jt(f)?w=f:NH(f)?w=IS(f):I?(A=!1,w=TS(k,!0)):O?(A=!1,w=VS(k,!0)):w=[]:To(k)||wg(k)?(w=f,wg(f)?w=RH(f):xe(f)&&!Xi(f)||(w=HS(k))):A=!1}A&&(h.set(k,w),l(w,k,i,d,h),h.delete(k)),Bw(a,r,w)}},BH=function a(n,r,i,l,d){n!==r&&kT(r,function(h,f){if(d||(d=new fc),xe(h))OH(n,r,f,i,a,l,d);else{var k=void 0;k===void 0&&(k=h),Bw(n,f,k)}},kc)},$s=function(a){return a},LH=function(a,n,r){switch(r.length){case 0:return a.call(n);case 1:return a.call(n,r[0]);case 2:return a.call(n,r[0],r[1]);case 3:return a.call(n,r[0],r[1],r[2])}return a.apply(n,r)};var vT=Math.max;const jH=function(a,n,r){return n=vT(n===void 0?a.length-1:n,0),function(){for(var i=arguments,l=-1,d=vT(i.length-n,0),h=Array(d);++l<d;)h[l]=i[n+l];l=-1;for(var f=Array(n+1);++l<n;)f[l]=i[l];return f[n]=r(h),LH(a,this,f)}},zH=function(a){return function(){return a}},FH=bg?function(a,n){return bg(a,"toString",{configurable:!0,enumerable:!1,value:zH(n),writable:!0})}:$s;var $H=Date.now;const VH=function(a){var n=0,r=0;return function(){var i=$H(),l=16-(i-r);if(r=i,l>0){if(++n>=800)return arguments[0]}else n=0;return a.apply(void 0,arguments)}}(FH),UH=function(a,n){return VH(jH(a,n,$s),a+"")},HH=function(a,n,r){if(!xe(r))return!1;var i=typeof n;return!!(i=="number"?_g(r)&&yg(n,r.length):i=="string"&&n in r)&&Ji(r[n],a)},wT=function(a){return UH(function(n,r){var i=-1,l=r.length,d=l>1?r[l-1]:void 0,h=l>2?r[2]:void 0;for(d=a.length>3&&typeof d=="function"?(l--,d):void 0,h&&HH(r[0],r[1],h)&&(d=l<3?void 0:d,l=1),n=Object(n);++i<l;){var f=r[i];f&&a(n,f,i,d)}return n})},Lw=wT(function(a,n,r){BH(a,n,r)});function WH(a,n,r=1,i){if(typeof r!="number")throw new M("translation-service-quantity-not-a-number",null,{quantity:r});const l=i||m.window.CKEDITOR_TRANSLATIONS,d=function(w){return Object.keys(w).length}(l);d===1&&(a=Object.keys(l)[0]);const h=n.id||n.string;if(d===0||!function(w,A,E){return!!E[w]&&!!E[w].dictionary[A]}(a,h,l))return r!==1?n.plural:n.string;const f=l[a].dictionary,k=l[a].getPluralForm||(w=>w===1?0:1),b=f[h];return typeof b=="string"?b:b[Number(k(r))]}m.window.CKEDITOR_TRANSLATIONS||(m.window.CKEDITOR_TRANSLATIONS={});const qH=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function yT(a){return qH.includes(a)?"rtl":"ltr"}class GH{constructor({uiLanguage:n="en",contentLanguage:r,translations:i}={}){this.uiLanguage=n,this.contentLanguage=r||this.uiLanguage,this.uiLanguageDirection=yT(this.uiLanguage),this.contentLanguageDirection=yT(this.contentLanguage),this.translations=function(l){return Array.isArray(l)?l.reduce((d,h)=>Lw(d,h)):l}(i),this.t=(l,d)=>this._t(l,d)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(n,r=[]){r=qt(r),typeof n=="string"&&(n={string:n});const i=n.plural?r[0]:1;return function(l,d){return l.replace(/%(\d+)/g,(h,f)=>f<d.length?d[f]:h)}(WH(this.uiLanguage,n,i,this.translations),r)}}class ti extends q(){constructor(n={},r={}){super();const i=et(n);if(i||(r=n),this._items=[],this._itemMap=new Map,this._idProperty=r.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],i)for(const l of n)this._items.push(l),this._itemMap.set(this._getItemIdBeforeAdding(l),l)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(n,r){return this.addMany([n],r)}addMany(n,r){if(r===void 0)r=this._items.length;else if(r>this._items.length||r<0)throw new M("collection-add-item-invalid-index",this);let i=0;for(const l of n){const d=this._getItemIdBeforeAdding(l),h=r+i;this._items.splice(h,0,l),this._itemMap.set(d,l),this.fire("add",l,h),i++}return this.fire("change",{added:n,removed:[],index:r}),this}get(n){let r;if(typeof n=="string")r=this._itemMap.get(n);else{if(typeof n!="number")throw new M("collection-get-invalid-arg",this);r=this._items[n]}return r||null}has(n){if(typeof n=="string")return this._itemMap.has(n);{const r=n[this._idProperty];return r&&this._itemMap.has(r)}}getIndex(n){let r;return r=typeof n=="string"?this._itemMap.get(n):n,r?this._items.indexOf(r):-1}remove(n){const[r,i]=this._remove(n);return this.fire("change",{added:[],removed:[r],index:i}),r}map(n,r){return this._items.map(n,r)}forEach(n,r){this._items.forEach(n,r)}find(n,r){return this._items.find(n,r)}filter(n,r){return this._items.filter(n,r)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const n=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:n,index:0})}bindTo(n){if(this._bindToCollection)throw new M("collection-bind-to-rebind",this);return this._bindToCollection=n,{as:r=>{this._setUpBindToBinding(i=>new r(i))},using:r=>{typeof r=="function"?this._setUpBindToBinding(r):this._setUpBindToBinding(i=>i[r])}}}_setUpBindToBinding(n){const r=this._bindToCollection,i=(l,d,h)=>{const f=r._bindToCollection==this,k=r._bindToInternalToExternalMap.get(d);if(f&&k)this._bindToExternalToInternalMap.set(d,k),this._bindToInternalToExternalMap.set(k,d);else{const b=n(d);if(!b)return void this._skippedIndexesFromExternal.push(h);let w=h;for(const A of this._skippedIndexesFromExternal)h>A&&w--;for(const A of r._skippedIndexesFromExternal)w>=A&&w++;this._bindToExternalToInternalMap.set(d,b),this._bindToInternalToExternalMap.set(b,d),this.add(b,w);for(let A=0;A<r._skippedIndexesFromExternal.length;A++)w<=r._skippedIndexesFromExternal[A]&&r._skippedIndexesFromExternal[A]++}};for(const l of r)i(0,l,r.getIndex(l));this.listenTo(r,"add",i),this.listenTo(r,"remove",(l,d,h)=>{const f=this._bindToExternalToInternalMap.get(d);f&&this.remove(f),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((k,b)=>(h<b&&k.push(b-1),h>b&&k.push(b),k),[])})}_getItemIdBeforeAdding(n){const r=this._idProperty;let i;if(r in n){if(i=n[r],typeof i!="string")throw new M("collection-add-invalid-id",this);if(this.get(i))throw new M("collection-add-item-already-exists",this)}else n[r]=i=B();return i}_remove(n){let r,i,l,d=!1;const h=this._idProperty;if(typeof n=="string"?(i=n,l=this._itemMap.get(i),d=!l,l&&(r=this._items.indexOf(l))):typeof n=="number"?(r=n,l=this._items[r],d=!l,l&&(i=l[h])):(l=n,i=l[h],r=this._items.indexOf(l),d=r==-1||!this._itemMap.get(i)),d)throw new M("collection-remove-404",this);this._items.splice(r,1),this._itemMap.delete(i);const f=this._bindToInternalToExternalMap.get(l);return this._bindToInternalToExternalMap.delete(l),this._bindToExternalToInternalMap.delete(f),this.fire("remove",l,r),[l,r]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function qn(a){const n=a.next();return n.done?null:n.value}class Gn extends Er(Q()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(n){if(this._elements.has(n))throw new M("focustracker-add-element-already-exist",this);this.listenTo(n,"focus",()=>this._focus(n),{useCapture:!0}),this.listenTo(n,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(n)}remove(n){n===this.focusedElement&&this._blur(),this._elements.has(n)&&(this.stopListening(n),this._elements.delete(n))}destroy(){this.stopListening()}_focus(n){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=n,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class Io{constructor(){this._listener=new(Er())}listenTo(n){this._listener.listenTo(n,"keydown",(r,i)=>{this._listener.fire("_keydown:"+vc(i),i)})}set(n,r,i={}){const l=$u(n),d=i.priority;this._listener.listenTo(this._listener,"_keydown:"+l,(h,f)=>{r(f,()=>{f.preventDefault(),f.stopPropagation(),h.stop()}),h.return=!0},{priority:d})}press(n){return!!this._listener.fire("_keydown:"+vc(n),n)}stopListening(n){this._listener.stopListening(n)}destroy(){this.stopListening()}}function Ci(a){return et(a)?new Map(a):function(n){const r=new Map;for(const i in n)r.set(i,n[i]);return r}(a)}function jw(a,n){let r;function i(...l){i.cancel(),r=setTimeout(()=>a(...l),n)}return i.cancel=()=>{clearTimeout(r)},i}function zw(a,n){return!!(r=a.charAt(n-1))&&r.length==1&&/[\ud800-\udbff]/.test(r)&&function(i){return!!i&&i.length==1&&/[\udc00-\udfff]/.test(i)}(a.charAt(n));var r}function Fw(a,n){return!!(r=a.charAt(n))&&r.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(r);var r}const KH=function(){const a=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],n=new RegExp("\\p{Regional_Indicator}{2}","u").source,r="(?:"+a.map(i=>i.source).join("|")+")";return new RegExp(`${n}|${r}(?:${r})*`,"ug")}();function _T(a,n){const r=String(a).matchAll(KH);return Array.from(r).some(i=>i.index<n&&n<i.index+i[0].length)}class Sr extends ti{constructor(n=[]){super(n,{idProperty:"viewUid"}),this.on("add",(r,i,l)=>{this._renderViewIntoCollectionParent(i,l)}),this.on("remove",(r,i)=>{i.element&&this._parentElement&&i.element.remove()}),this._parentElement=null}destroy(){this.map(n=>n.destroy())}setParent(n){this._parentElement=n;for(const r of this)this._renderViewIntoCollectionParent(r)}delegate(...n){if(!n.length||!n.every(r=>typeof r=="string"))throw new M("ui-viewcollection-delegate-wrong-events",this);return{to:r=>{for(const i of this)for(const l of n)i.delegate(l).to(r);this.on("add",(i,l)=>{for(const d of n)l.delegate(d).to(r)}),this.on("remove",(i,l)=>{for(const d of n)l.stopDelegating(d,r)})}}}_renderViewIntoCollectionParent(n,r){n.isRendered||n.render(),n.element&&this._parentElement&&this._parentElement.insertBefore(n.element,this._parentElement.children[r])}remove(n){return super.remove(n)}}class ni extends q(){constructor(n){super(),Object.assign(this,ET(xT(n))),this._isRendered=!1,this._revertData=null}render(){const n=this._renderNode({intoFragment:!0});return this._isRendered=!0,n}apply(n){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:n,intoFragment:!1,isApplying:!0,revertData:this._revertData}),n}revert(n){if(!this._revertData)throw new M("ui-template-revert-not-applied",[this,n]);this._revertTemplateFromNode(n,this._revertData)}*getViews(){yield*function*n(r){if(r.children)for(const i of r.children)Dg(i)?yield i:$w(i)&&(yield*n(i))}(this)}static bind(n,r){return{to:(i,l)=>new YH({eventNameOrFunction:i,attribute:i,observable:n,emitter:r,callback:l}),if:(i,l,d)=>new CT({observable:n,emitter:r,attribute:i,valueIfTrue:l,callback:d})}}static extend(n,r){if(n._isRendered)throw new M("template-extend-render",[this,n]);DT(n,ET(xT(r)))}_renderNode(n){let r;if(r=n.node?this.tag&&this.text:this.tag?this.text:!this.text,r)throw new M("ui-template-wrong-syntax",this);return this.text?this._renderText(n):this._renderElement(n)}_renderElement(n){let r=n.node;return r||(r=n.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(n),this._renderElementChildren(n),this._setUpListeners(n),r}_renderText(n){let r=n.node;return r?n.revertData.text=r.textContent:r=n.node=document.createTextNode(""),Ig(this.text)?this._bindToObservable({schema:this.text,updater:QH(r),data:n}):r.textContent=this.text.join(""),r}_renderAttributes(n){if(!this.attributes)return;const r=n.node,i=n.revertData;for(const l in this.attributes){const d=r.getAttribute(l),h=this.attributes[l];i&&(i.attributes[l]=d);const f=MT(h)?h[0].ns:null;if(Ig(h)){const k=MT(h)?h[0].value:h;i&&PT(l)&&k.unshift(d),this._bindToObservable({schema:k,updater:ZH(r,l,f),data:n})}else if(l=="style"&&typeof h[0]!="string")this._renderStyleAttribute(h[0],n);else{i&&d&&PT(l)&&h.unshift(d);const k=h.map(b=>b&&b.value||b).reduce((b,w)=>b.concat(w),[]).reduce(TT,"");wc(k)||r.setAttributeNS(f,l,k)}}}_renderStyleAttribute(n,r){const i=r.node;for(const l in n){const d=n[l];Ig(d)?this._bindToObservable({schema:[d],updater:JH(i,l),data:r}):i.style[l]=d}}_renderElementChildren(n){const r=n.node,i=n.intoFragment?document.createDocumentFragment():r,l=n.isApplying;let d=0;for(const h of this.children)if(Vw(h)){if(!l){h.setParent(r);for(const f of h)i.appendChild(f.element)}}else if(Dg(h))l||(h.isRendered||h.render(),i.appendChild(h.element));else if(Fs(h))i.appendChild(h);else if(l){const f={children:[],bindings:[],attributes:{}};n.revertData.children.push(f),h._renderNode({intoFragment:!1,node:i.childNodes[d++],isApplying:!0,revertData:f})}else i.appendChild(h.render());n.intoFragment&&r.appendChild(i)}_setUpListeners(n){if(this.eventListeners)for(const r in this.eventListeners){const i=this.eventListeners[r].map(l=>{const[d,h]=r.split("@");return l.activateDomEventListener(d,h,n)});n.revertData&&n.revertData.bindings.push(i)}}_bindToObservable({schema:n,updater:r,data:i}){const l=i.revertData;AT(n,r,i);const d=n.filter(h=>!wc(h)).filter(h=>h.observable).map(h=>h.activateAttributeListener(n,r,i));l&&l.bindings.push(d)}_revertTemplateFromNode(n,r){for(const l of r.bindings)for(const d of l)d();if(r.text)return void(n.textContent=r.text);const i=n;for(const l in r.attributes){const d=r.attributes[l];d===null?i.removeAttribute(l):i.setAttribute(l,d)}for(let l=0;l<r.children.length;++l)this._revertTemplateFromNode(i.childNodes[l],r.children[l])}}class Vu{constructor(n){this.attribute=n.attribute,this.observable=n.observable,this.emitter=n.emitter,this.callback=n.callback}getValue(n){const r=this.observable[this.attribute];return this.callback?this.callback(r,n):r}activateAttributeListener(n,r,i){const l=()=>AT(n,r,i);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,l),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,l)}}}class YH extends Vu{constructor(n){super(n),this.eventNameOrFunction=n.eventNameOrFunction}activateDomEventListener(n,r,i){const l=(d,h)=>{r&&!h.target.matches(r)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(h):this.observable.fire(this.eventNameOrFunction,h))};return this.emitter.listenTo(i.node,n,l),()=>{this.emitter.stopListening(i.node,n,l)}}}class CT extends Vu{constructor(n){super(n),this.valueIfTrue=n.valueIfTrue}getValue(n){return!wc(super.getValue(n))&&(this.valueIfTrue||!0)}}function Ig(a){return!!a&&(a.value&&(a=a.value),Array.isArray(a)?a.some(Ig):a instanceof Vu)}function AT(a,n,{node:r}){const i=function(d,h){return d.map(f=>f instanceof Vu?f.getValue(h):f)}(a,r);let l;l=a.length==1&&a[0]instanceof CT?i[0]:i.reduce(TT,""),wc(l)?n.remove():n.set(l)}function QH(a){return{set(n){a.textContent=n},remove(){a.textContent=""}}}function ZH(a,n,r){return{set(i){a.setAttributeNS(r,n,i)},remove(){a.removeAttributeNS(r,n)}}}function JH(a,n){return{set(r){a.style[n]=r},remove(){a.style[n]=null}}}function xT(a){return Pw(a,n=>{if(n&&(n instanceof Vu||$w(n)||Dg(n)||Vw(n)))return n})}function ET(a){if(typeof a=="string"?a=function(n){return{text:[n]}}(a):a.text&&function(n){n.text=qt(n.text)}(a),a.on&&(a.eventListeners=function(n){for(const r in n)ST(n,r);return n}(a.on),delete a.on),!a.text){a.attributes&&function(r){for(const i in r)r[i].value&&(r[i].value=qt(r[i].value)),ST(r,i)}(a.attributes);const n=[];if(a.children)if(Vw(a.children))n.push(a.children);else for(const r of a.children)$w(r)||Dg(r)||Fs(r)?n.push(r):n.push(new ni(r));a.children=n}return a}function ST(a,n){a[n]=qt(a[n])}function TT(a,n){return wc(n)?a:wc(a)?n:`${a} ${n}`}function IT(a,n){for(const r in n)a[r]?a[r].push(...n[r]):a[r]=n[r]}function DT(a,n){if(n.attributes&&(a.attributes||(a.attributes={}),IT(a.attributes,n.attributes)),n.eventListeners&&(a.eventListeners||(a.eventListeners={}),IT(a.eventListeners,n.eventListeners)),n.text&&a.text.push(...n.text),n.children&&n.children.length){if(a.children.length!=n.children.length)throw new M("ui-template-extend-children-mismatch",a);let r=0;for(const i of n.children)DT(a.children[r++],i)}}function wc(a){return!a&&a!==0}function Dg(a){return a instanceof Le}function $w(a){return a instanceof ni}function Vw(a){return a instanceof Sr}function MT(a){return xe(a[0])&&a[0].ns}function PT(a){return a=="class"||a=="style"}var XH=c(2591),be=c.n(XH),NT=c(7676),eW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(NT.A,eW),NT.A.locals;class Le extends Er(Q()){constructor(n){super(),this.element=null,this.isRendered=!1,this.locale=n,this.t=n&&n.t,this._viewCollections=new ti,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(r,i)=>{i.locale=n,i.t=n&&n.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=ni.bind(this,this)}createCollection(n){const r=new Sr(n);return this._viewCollections.add(r),r}registerChild(n){et(n)||(n=[n]);for(const r of n)this._unboundChildren.add(r)}deregisterChild(n){et(n)||(n=[n]);for(const r of n)this._unboundChildren.remove(r)}setTemplate(n){this.template=new ni(n)}extendTemplate(n){ni.extend(this.template,n)}render(){if(this.isRendered)throw new M("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(n=>n.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}function Mg({emitter:a,activator:n,callback:r,contextElements:i}){a.listenTo(document,"mousedown",(l,d)=>{if(!n())return;const h=typeof d.composedPath=="function"?d.composedPath():[],f=typeof i=="function"?i():i;for(const k of f)if(k.contains(d.target)||h.includes(k))return;r()})}function Uw(a){return class extends a{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...n){super(...n),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function Pg({view:a}){a.listenTo(a.element,"submit",(n,r)=>{r.preventDefault(),a.fire("submit")},{useCapture:!0})}function tW({keystrokeHandler:a,focusTracker:n,gridItems:r,numberOfColumns:i,uiLanguageDirection:l}){const d=typeof i=="number"?()=>i:i;function h(b){return w=>{const A=r.find(O=>O.element===n.focusedElement),E=r.getIndex(A),I=b(E,r);r.get(I).focus(),w.stopPropagation(),w.preventDefault()}}function f(b,w){return b===w-1?0:b+1}function k(b,w){return b===0?w-1:b-1}a.set("arrowright",h((b,w)=>l==="rtl"?k(b,w.length):f(b,w.length))),a.set("arrowleft",h((b,w)=>l==="rtl"?f(b,w.length):k(b,w.length))),a.set("arrowup",h((b,w)=>{let A=b-d();return A<0&&(A=b+d()*Math.floor(w.length/d()),A>w.length-1&&(A-=d())),A})),a.set("arrowdown",h((b,w)=>{let A=b+d();return A>w.length-1&&(A=b%d()),A}))}class pe extends Q(){constructor(n){super(),this._disableStack=new Set,this.editor=n,this.set("isEnabled",!0)}forceDisabled(n){this._disableStack.add(n),this._disableStack.size==1&&(this.on("set:isEnabled",RT,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(n){this._disableStack.delete(n),this._disableStack.size==0&&(this.off("set:isEnabled",RT),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function RT(a){a.return=!1,a.stop()}class dt extends Q(){constructor(n){super(),this.editor=n,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(n,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",r=>{if(!this.affectsData)return;const i=n.model.document.selection,l=i.getFirstPosition().root.rootName!="$graveyard"&&n.model.canEditAt(i);(n.isReadOnly||this._isEnabledBasedOnSelection&&!l)&&(r.return=!1,r.stop())},{priority:"highest"}),this.on("execute",r=>{this.isEnabled||r.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(n){this._affectsData=n}refresh(){this.isEnabled=!0}forceDisabled(n){this._disableStack.add(n),this._disableStack.size==1&&(this.on("set:isEnabled",OT,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(n){this._disableStack.delete(n),this._disableStack.size==0&&(this.off("set:isEnabled",OT),this.refresh())}execute(...n){}destroy(){this.stopListening()}}function OT(a){a.return=!1,a.stop()}class BT extends dt{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...n){const r=this._getFirstEnabledCommand();return!!r&&r.execute(n)}registerChildCommand(n,r={}){V(this._childCommandsDefinitions,{command:n,priority:r.priority||"normal"}),n.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const n=this._childCommandsDefinitions.find(({command:r})=>r.isEnabled);return n&&n.command}}class LT extends q(){constructor(n,r=[],i=[]){super(),this._plugins=new Map,this._context=n,this._availablePlugins=new Map;for(const l of r)l.pluginName&&this._availablePlugins.set(l.pluginName,l);this._contextPlugins=new Map;for(const[l,d]of i)this._contextPlugins.set(l,d),this._contextPlugins.set(d,l),l.pluginName&&this._availablePlugins.set(l.pluginName,l)}*[Symbol.iterator](){for(const n of this._plugins)typeof n[0]=="function"&&(yield n)}get(n){const r=this._plugins.get(n);if(!r){let i=n;throw typeof n=="function"&&(i=n.pluginName||n.name),new M("plugincollection-plugin-not-loaded",this._context,{plugin:i})}return r}has(n){return this._plugins.has(n)}init(n,r=[],i=[]){const l=this,d=this._context;(function O(L,F=new Set){L.forEach(W=>{k(W)&&(F.has(W)||(F.add(W),W.pluginName&&!l._availablePlugins.has(W.pluginName)&&l._availablePlugins.set(W.pluginName,W),W.requires&&O(W.requires,F)))})})(n),E(n);const h=[...function O(L,F=new Set){return L.map(W=>k(W)?W:l._availablePlugins.get(W)).reduce((W,Y)=>F.has(Y)?W:(F.add(Y),Y.requires&&(E(Y.requires,Y),O(Y.requires,F).forEach(J=>W.add(J))),W.add(Y)),new Set)}(n.filter(O=>!w(O,r)))];(function(O,L){for(const F of L){if(typeof F!="function")throw new M("plugincollection-replace-plugin-invalid-type",null,{pluginItem:F});const W=F.pluginName;if(!W)throw new M("plugincollection-replace-plugin-missing-name",null,{pluginItem:F});if(F.requires&&F.requires.length)throw new M("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:W});const Y=l._availablePlugins.get(W);if(!Y)throw new M("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:W});const J=O.indexOf(Y);if(J===-1){if(l._contextPlugins.has(Y))return;throw new M("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:W})}if(Y.requires&&Y.requires.length)throw new M("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:W});O.splice(J,1,F),l._availablePlugins.set(W,F)}})(h,i);const f=h.map(O=>{let L=l._contextPlugins.get(O);return L=L||new O(d),l._add(O,L),L});return I(f,"init").then(()=>I(f,"afterInit")).then(()=>f);function k(O){return typeof O=="function"}function b(O){return k(O)&&!!O.isContextPlugin}function w(O,L){return L.some(F=>F===O||A(O)===F||A(F)===O)}function A(O){return k(O)?O.pluginName||O.name:O}function E(O,L=null){O.map(F=>k(F)?F:l._availablePlugins.get(F)||F).forEach(F=>{(function(W,Y){if(!k(W))throw Y?new M("plugincollection-soft-required",d,{missingPlugin:W,requiredBy:A(Y)}):new M("plugincollection-plugin-not-found",d,{plugin:W})})(F,L),function(W,Y){if(b(Y)&&!b(W))throw new M("plugincollection-context-required",d,{plugin:A(W),requiredBy:A(Y)})}(F,L),function(W,Y){if(Y&&w(W,r))throw new M("plugincollection-required",d,{plugin:A(W),requiredBy:A(Y)})}(F,L)})}function I(O,L){return O.reduce((F,W)=>W[L]?l._contextPlugins.has(W)?F:F.then(W[L].bind(W)):F,Promise.resolve())}}destroy(){const n=[];for(const[,r]of this)typeof r.destroy!="function"||this._contextPlugins.has(r)||n.push(r.destroy());return Promise.all(n)}_add(n,r){this._plugins.set(n,r);const i=n.pluginName;if(i){if(this._plugins.has(i))throw new M("plugincollection-plugin-name-conflict",null,{pluginName:i,plugin1:this._plugins.get(i).constructor,plugin2:n});this._plugins.set(i,r)}}}var jT=Object.getOwnPropertySymbols,nW=Object.prototype.hasOwnProperty,oW=Object.prototype.propertyIsEnumerable;class zT{constructor(n){this._contextOwner=null;const r=n||{},{translations:i}=r,l=((f,k)=>{var b={};for(var w in f)nW.call(f,w)&&k.indexOf(w)<0&&(b[w]=f[w]);if(f!=null&&jT)for(var w of jT(f))k.indexOf(w)<0&&oW.call(f,w)&&(b[w]=f[w]);return b})(r,["translations"]);this.config=new QS(l,this.constructor.defaultConfig);const d=this.constructor.builtinPlugins;this.config.define("plugins",d),this.plugins=new LT(this,d);const h=this.config.get("language")||{};this.locale=new GH({uiLanguage:typeof h=="string"?h:h.ui,contentLanguage:this.config.get("language.content"),translations:i}),this.t=this.locale.t,this.editors=new ti}initPlugins(){const n=this.config.get("plugins")||[],r=this.config.get("substitutePlugins")||[];for(const i of n.concat(r)){if(typeof i!="function")throw new M("context-initplugins-constructor-only",null,{Plugin:i});if(i.isContextPlugin!==!0)throw new M("context-initplugins-invalid-plugin",null,{Plugin:i})}return this.plugins.init(n,[],r)}destroy(){return Promise.all(Array.from(this.editors,n=>n.destroy())).then(()=>this.plugins.destroy())}_addEditor(n,r){if(this._contextOwner)throw new M("context-addeditor-private-context");this.editors.add(n),r&&(this._contextOwner=n)}_removeEditor(n){return this.editors.has(n)&&this.editors.remove(n),this._contextOwner===n?this.destroy():Promise.resolve()}_getEditorConfig(){const n={};for(const r of this.config.names())["plugins","removePlugins","extraPlugins"].includes(r)||(n[r]=this.config.get(r));return n}static create(n){return new Promise(r=>{const i=new this(n);r(i.initPlugins().then(()=>i))})}}class Ng extends Q(){constructor(n){super(),this.context=n}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class rW extends Io{constructor(n){super(),this.editor=n}set(n,r,i={}){if(typeof r=="string"){const l=r;r=(d,h)=>{this.editor.execute(l),h()}}super.set(n,r,i)}}var FT=c(4098),iW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(FT.A,iW),FT.A.locals;const Rg=new WeakMap;let $T=!1;function VT({view:a,element:n,text:r,isDirectHost:i=!0,keepOnFocus:l=!1}){const d=a.document;function h(f){Rg.get(d).set(n,{text:f,isDirectHost:i,keepOnFocus:l,hostElement:i?n:null}),a.change(k=>Hw(d,k))}Rg.has(d)||(Rg.set(d,new Map),d.registerPostFixer(f=>Hw(d,f)),d.on("change:isComposing",()=>{a.change(f=>Hw(d,f))},{priority:"high"})),n.is("editableElement")&&n.on("change:placeholder",(f,k,b)=>{h(b)}),n.placeholder?h(n.placeholder):r&&h(r),r&&function(){$T||U("enableplaceholder-deprecated-text-option"),$T=!0}()}function sW(a,n){return!n.hasClass("ck-placeholder")&&(a.addClass("ck-placeholder",n),!0)}function aW(a,n){return!!n.hasClass("ck-placeholder")&&(a.removeClass("ck-placeholder",n),!0)}function lW(a,n){if(!a.isAttached()||Array.from(a.getChildren()).some(l=>!l.is("uiElement")))return!1;const r=a.document,i=r.selection.anchor;return(!r.isComposing||!i||i.parent!==a)&&(!!n||!r.isFocused||!!i&&i.parent!==a)}function Hw(a,n){const r=Rg.get(a),i=[];let l=!1;for(const[d,h]of r)h.isDirectHost&&(i.push(d),UT(n,d,h)&&(l=!0));for(const[d,h]of r){if(h.isDirectHost)continue;const f=cW(d);f&&(i.includes(f)||(h.hostElement=f,UT(n,d,h)&&(l=!0)))}return l}function UT(a,n,r){const{text:i,isDirectHost:l,hostElement:d}=r;let h=!1;return d.getAttribute("data-placeholder")!==i&&(a.setAttribute("data-placeholder",i,d),h=!0),(l||n.childCount==1)&&lW(d,r.keepOnFocus)?sW(a,d)&&(h=!0):aW(a,d)&&(h=!0),h}function cW(a){if(a.childCount){const n=a.getChild(0);if(n.is("element")&&!n.is("uiElement")&&!n.is("attributeElement"))return n}return null}class Xa{is(){throw new Error("is() method is abstract")}}const HT=function(a){return Mw(a,4)};class el extends q(Xa){constructor(n){super(),this.document=n,this.parent=null}get index(){let n;if(!this.parent)return null;if((n=this.parent.getChildIndex(this))==-1)throw new M("view-node-not-found-in-parent",this);return n}get nextSibling(){const n=this.index;return n!==null&&this.parent.getChild(n+1)||null}get previousSibling(){const n=this.index;return n!==null&&this.parent.getChild(n-1)||null}get root(){let n=this;for(;n.parent;)n=n.parent;return n}isAttached(){return this.root.is("rootElement")}getPath(){const n=[];let r=this;for(;r.parent;)n.unshift(r.index),r=r.parent;return n}getAncestors(n={}){const r=[];let i=n.includeSelf?this:this.parent;for(;i;)r[n.parentFirst?"push":"unshift"](i),i=i.parent;return r}getCommonAncestor(n,r={}){const i=this.getAncestors(r),l=n.getAncestors(r);let d=0;for(;i[d]==l[d]&&i[d];)d++;return d===0?null:i[d-1]}isBefore(n){if(this==n||this.root!==n.root)return!1;const r=this.getPath(),i=n.getPath(),l=Oe(r,i);switch(l){case"prefix":return!0;case"extension":return!1;default:return r[l]<i[l]}}isAfter(n){return this!=n&&this.root===n.root&&!this.isBefore(n)}_remove(){this.parent._removeChildren(this.index)}_fireChange(n,r){this.fire(`change:${n}`,r),this.parent&&this.parent._fireChange(n,r)}toJSON(){const n=HT(this);return delete n.parent,n}}el.prototype.is=function(a){return a==="node"||a==="view:node"};class Vt extends el{constructor(n,r){super(n),this._textData=r}get data(){return this._textData}get _data(){return this.data}set _data(n){this._fireChange("text",this),this._textData=n}isSimilar(n){return n instanceof Vt&&(this===n||this.data===n.data)}_clone(){return new Vt(this.document,this.data)}}Vt.prototype.is=function(a){return a==="$text"||a==="view:$text"||a==="text"||a==="view:text"||a==="node"||a==="view:node"};class Ai extends Xa{constructor(n,r,i){if(super(),this.textNode=n,r<0||r>n.data.length)throw new M("view-textproxy-wrong-offsetintext",this);if(i<0||r+i>n.data.length)throw new M("view-textproxy-wrong-length",this);this.data=n.data.substring(r,r+i),this.offsetInText=r}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(n={}){const r=[];let i=n.includeSelf?this.textNode:this.parent;for(;i!==null;)r[n.parentFirst?"push":"unshift"](i),i=i.parent;return r}}Ai.prototype.is=function(a){return a==="$textProxy"||a==="view:$textProxy"||a==="textProxy"||a==="view:textProxy"};class xi{constructor(...n){this._patterns=[],this.add(...n)}add(...n){for(let r of n)(typeof r=="string"||r instanceof RegExp)&&(r={name:r}),this._patterns.push(r)}match(...n){for(const r of n)for(const i of this._patterns){const l=WT(r,i);if(l)return{element:r,pattern:i,match:l}}return null}matchAll(...n){const r=[];for(const i of n)for(const l of this._patterns){const d=WT(i,l);d&&r.push({element:i,pattern:l,match:d})}return r.length>0?r:null}getElementName(){if(this._patterns.length!==1)return null;const n=this._patterns[0],r=n.name;return typeof n=="function"||!r||r instanceof RegExp?null:r}}function WT(a,n){if(typeof n=="function")return n(a);const r={};return n.name&&(r.name=function(i,l){return i instanceof RegExp?!!l.match(i):i===l}(n.name,a.name),!r.name)||n.attributes&&(r.attributes=function(i,l){const d=new Set(l.getAttributeKeys());return To(i)?(i.style!==void 0&&U("matcher-pattern-deprecated-attributes-style-key",i),i.class!==void 0&&U("matcher-pattern-deprecated-attributes-class-key",i)):(d.delete("style"),d.delete("class")),Ww(i,d,h=>l.getAttribute(h))}(n.attributes,a),!r.attributes)||n.classes&&(r.classes=function(i,l){return Ww(i,l.getClassNames(),()=>{})}(n.classes,a),!r.classes)||n.styles&&(r.styles=function(i,l){return Ww(i,l.getStyleNames(!0),d=>l.getStyle(d))}(n.styles,a),!r.styles)?null:r}function Ww(a,n,r){const i=function(h){return Array.isArray(h)?h.map(f=>To(f)?(f.key!==void 0&&f.value!==void 0||U("matcher-pattern-missing-key-or-value",f),[f.key,f.value]):[f,!0]):To(h)?Object.entries(h):[[h,!0]]}(a),l=Array.from(n),d=[];if(i.forEach(([h,f])=>{l.forEach(k=>{(function(b,w){return b===!0||b===w||b instanceof RegExp&&w.match(b)})(h,k)&&function(b,w,A){if(b===!0)return!0;const E=A(w);return b===E||b instanceof RegExp&&!!String(E).match(b)}(f,k,r)&&d.push(k)})}),i.length&&!(d.length<i.length))return d}const Og=function(a){return typeof a=="symbol"||Ln(a)&&Dt(a)=="[object Symbol]"};var dW=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,uW=/^\w*$/;const qw=function(a,n){if(Jt(a))return!1;var r=typeof a;return!(r!="number"&&r!="symbol"&&r!="boolean"&&a!=null&&!Og(a))||uW.test(a)||!dW.test(a)||n!=null&&a in Object(n)};function Gw(a,n){if(typeof a!="function"||n!=null&&typeof n!="function")throw new TypeError("Expected a function");var r=function(){var i=arguments,l=n?n.apply(this,i):i[0],d=r.cache;if(d.has(l))return d.get(l);var h=a.apply(this,i);return r.cache=d.set(l,h)||d,h};return r.cache=new(Gw.Cache||kg),r}Gw.Cache=kg;const hW=Gw,pW=function(a){var n=hW(a,function(i){return r.size===500&&r.clear(),i}),r=n.cache;return n};var fW=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gW=/\\(\\)?/g,mW=pW(function(a){var n=[];return a.charCodeAt(0)===46&&n.push(""),a.replace(fW,function(r,i,l,d){n.push(l?d.replace(gW,"$1"):i||r)}),n});const kW=mW,bW=function(a,n){for(var r=-1,i=a==null?0:a.length,l=Array(i);++r<i;)l[r]=n(a[r],r,a);return l};var qT=Wt?Wt.prototype:void 0,GT=qT?qT.toString:void 0;const vW=function a(n){if(typeof n=="string")return n;if(Jt(n))return bW(n,a)+"";if(Og(n))return GT?GT.call(n):"";var r=n+"";return r=="0"&&1/n==-1/0?"-0":r},Kw=function(a){return a==null?"":vW(a)},Bg=function(a,n){return Jt(a)?a:qw(a,n)?[a]:kW(Kw(a))},wW=function(a){var n=a==null?0:a.length;return n?a[n-1]:void 0},yc=function(a){if(typeof a=="string"||Og(a))return a;var n=a+"";return n=="0"&&1/a==-1/0?"-0":n},Yw=function(a,n){for(var r=0,i=(n=Bg(n,a)).length;a!=null&&r<i;)a=a[yc(n[r++])];return r&&r==i?a:void 0},KT=function(a,n,r){var i=-1,l=a.length;n<0&&(n=-n>l?0:l+n),(r=r>l?l:r)<0&&(r+=l),l=n>r?0:r-n>>>0,n>>>=0;for(var d=Array(l);++i<l;)d[i]=a[i+n];return d},yW=function(a,n){return n.length<2?a:Yw(a,KT(n,0,-1))},_W=function(a,n){return n=Bg(n,a),(a=yW(a,n))==null||delete a[yc(wW(n))]},CW=function(a,n){return a==null||_W(a,n)},Uu=function(a,n,r){var i=a==null?void 0:Yw(a,n);return i===void 0?r:i},AW=function(a,n,r,i){if(!xe(a))return a;for(var l=-1,d=(n=Bg(n,a)).length,h=d-1,f=a;f!=null&&++l<d;){var k=yc(n[l]),b=r;if(k==="__proto__"||k==="constructor"||k==="prototype")return a;if(l!=h){var w=f[k];(b=void 0)==void 0&&(b=xe(w)?w:yg(n[l+1])?[]:{})}bw(f,k,b),f=f[k]}return a},xW=function(a,n,r){return a==null?a:AW(a,n,r)};class Qw{constructor(n){this._styles={},this._styleProcessor=n}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(n){this.clear();const r=function(i){let l=null,d=0,h=0,f=null;const k=new Map;if(i==="")return k;i.charAt(i.length-1)!=";"&&(i+=";");for(let b=0;b<i.length;b++){const w=i.charAt(b);if(l===null)switch(w){case":":f||(f=i.substr(d,b-d),h=b+1);break;case'"':case"'":l=w;break;case";":{const A=i.substr(h,b-h);f&&k.set(f.trim(),A.trim()),f=null,d=b+1;break}}else w===l&&(l=null)}return k}(n);for(const[i,l]of r)this._styleProcessor.toNormalizedForm(i,l,this._styles)}has(n){if(this.isEmpty)return!1;const r=this._styleProcessor.getReducedForm(n,this._styles).find(([i])=>i===n);return Array.isArray(r)}set(n,r){if(xe(n))for(const[i,l]of Object.entries(n))this._styleProcessor.toNormalizedForm(i,l,this._styles);else this._styleProcessor.toNormalizedForm(n,r,this._styles)}remove(n){const r=Zw(n);CW(this._styles,r),delete this._styles[n],this._cleanEmptyObjectsOnPath(r)}getNormalized(n){return this._styleProcessor.getNormalized(n,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(n=>n.join(":")).sort().join(";")+";"}getAsString(n){if(this.isEmpty)return;if(this._styles[n]&&!xe(this._styles[n]))return this._styles[n];const r=this._styleProcessor.getReducedForm(n,this._styles).find(([i])=>i===n);return Array.isArray(r)?r[1]:void 0}getStyleNames(n=!1){return this.isEmpty?[]:n?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([r])=>r)}clear(){this._styles={}}getStylesEntries(){const n=[],r=Object.keys(this._styles);for(const i of r)n.push(...this._styleProcessor.getReducedForm(i,this._styles));return n}_cleanEmptyObjectsOnPath(n){const r=n.split(".");if(!(r.length>1))return;const i=r.splice(0,r.length-1).join("."),l=Uu(this._styles,i);l&&!Object.keys(l).length&&this.remove(i)}}class EW{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(n,r,i){if(xe(r))Jw(i,Zw(n),r);else if(this._normalizers.has(n)){const l=this._normalizers.get(n),{path:d,value:h}=l(r);Jw(i,d,h)}else Jw(i,n,r)}getNormalized(n,r){if(!n)return Lw({},r);if(r[n]!==void 0)return r[n];if(this._extractors.has(n)){const i=this._extractors.get(n);if(typeof i=="string")return Uu(r,i);const l=i(n,r);if(l)return l}return Uu(r,Zw(n))}getReducedForm(n,r){const i=this.getNormalized(n,r);return i===void 0?[]:this._reducers.has(n)?this._reducers.get(n)(i):[[n,i]]}getStyleNames(n){const r=Array.from(this._consumables.keys()).filter(l=>{const d=this.getNormalized(l,n);return d&&typeof d=="object"?Object.keys(d).length:d}),i=new Set([...r,...Object.keys(n)]);return Array.from(i)}getRelatedStyles(n){return this._consumables.get(n)||[]}setNormalizer(n,r){this._normalizers.set(n,r)}setExtractor(n,r){this._extractors.set(n,r)}setReducer(n,r){this._reducers.set(n,r)}setStyleRelation(n,r){this._mapStyleNames(n,r);for(const i of r)this._mapStyleNames(i,[n])}_mapStyleNames(n,r){this._consumables.has(n)||this._consumables.set(n,[]),this._consumables.get(n).push(...r)}}function Zw(a){return a.replace("-",".")}function Jw(a,n,r){let i=r;xe(r)&&(i=Lw({},Uu(a,n),r)),xW(a,n,i)}class or extends el{constructor(n,r,i,l){if(super(n),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=r,this._attrs=function(d){const h=Ci(d);for(const[f,k]of h)k===null?h.delete(f):typeof k!="string"&&h.set(f,String(k));return h}(i),this._children=[],l&&this._insertChild(0,l),this._classes=new Set,this._attrs.has("class")){const d=this._attrs.get("class");YT(this._classes,d),this._attrs.delete("class")}this._styles=new Qw(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(n){return this._children[n]}getChildIndex(n){return this._children.indexOf(n)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(n){if(n=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(n=="style"){const r=this._styles.toString();return r==""?void 0:r}return this._attrs.get(n)}hasAttribute(n){return n=="class"?this._classes.size>0:n=="style"?!this._styles.isEmpty:this._attrs.has(n)}isSimilar(n){if(!(n instanceof or))return!1;if(this===n)return!0;if(this.name!=n.name||this._attrs.size!==n._attrs.size||this._classes.size!==n._classes.size||this._styles.size!==n._styles.size)return!1;for(const[r,i]of this._attrs)if(!n._attrs.has(r)||n._attrs.get(r)!==i)return!1;for(const r of this._classes)if(!n._classes.has(r))return!1;for(const r of this._styles.getStyleNames())if(!n._styles.has(r)||n._styles.getAsString(r)!==this._styles.getAsString(r))return!1;return!0}hasClass(...n){for(const r of n)if(!this._classes.has(r))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(n){return this._styles.getAsString(n)}getNormalizedStyle(n){return this._styles.getNormalized(n)}getStyleNames(n){return this._styles.getStyleNames(n)}hasStyle(...n){for(const r of n)if(!this._styles.has(r))return!1;return!0}findAncestor(...n){const r=new xi(...n);let i=this.parent;for(;i&&!i.is("documentFragment");){if(r.match(i))return i;i=i.parent}return null}getCustomProperty(n){return this._customProperties.get(n)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const n=Array.from(this._classes).sort().join(","),r=this._styles.toString(),i=Array.from(this._attrs).map(l=>`${l[0]}="${l[1]}"`).sort().join(" ");return this.name+(n==""?"":` class="${n}"`)+(r?` style="${r}"`:"")+(i==""?"":` ${i}`)}shouldRenderUnsafeAttribute(n){return this._unsafeAttributesToRender.includes(n)}_clone(n=!1){const r=[];if(n)for(const l of this.getChildren())r.push(l._clone(n));const i=new this.constructor(this.document,this.name,this._attrs,r);return i._classes=new Set(this._classes),i._styles.set(this._styles.getNormalized()),i._customProperties=new Map(this._customProperties),i.getFillerOffset=this.getFillerOffset,i._unsafeAttributesToRender=this._unsafeAttributesToRender,i}_appendChild(n){return this._insertChild(this.childCount,n)}_insertChild(n,r){this._fireChange("children",this);let i=0;const l=function(d,h){return typeof h=="string"?[new Vt(d,h)]:(et(h)||(h=[h]),Array.from(h).map(f=>typeof f=="string"?new Vt(d,f):f instanceof Ai?new Vt(d,f.data):f))}(this.document,r);for(const d of l)d.parent!==null&&d._remove(),d.parent=this,d.document=this.document,this._children.splice(n,0,d),n++,i++;return i}_removeChildren(n,r=1){this._fireChange("children",this);for(let i=n;i<n+r;i++)this._children[i].parent=null;return this._children.splice(n,r)}_setAttribute(n,r){const i=String(r);this._fireChange("attributes",this),n=="class"?YT(this._classes,i):n=="style"?this._styles.setTo(i):this._attrs.set(n,i)}_removeAttribute(n){return this._fireChange("attributes",this),n=="class"?this._classes.size>0&&(this._classes.clear(),!0):n=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(n)}_addClass(n){this._fireChange("attributes",this);for(const r of qt(n))this._classes.add(r)}_removeClass(n){this._fireChange("attributes",this);for(const r of qt(n))this._classes.delete(r)}_setStyle(n,r){this._fireChange("attributes",this),typeof n!="string"?this._styles.set(n):this._styles.set(n,r)}_removeStyle(n){this._fireChange("attributes",this);for(const r of qt(n))this._styles.remove(r)}_setCustomProperty(n,r){this._customProperties.set(n,r)}_removeCustomProperty(n){return this._customProperties.delete(n)}}function YT(a,n){const r=n.split(/\s+/);a.clear(),r.forEach(i=>a.add(i))}or.prototype.is=function(a,n){return n?n===this.name&&(a==="element"||a==="view:element"):a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Hu extends or{constructor(n,r,i,l){super(n,r,i,l),this.getFillerOffset=SW}}function SW(){const a=[...this.getChildren()],n=a[this.childCount-1];if(n&&n.is("element","br"))return this.childCount;for(const r of a)if(!r.is("uiElement"))return null;return this.childCount}Hu.prototype.is=function(a,n){return n?n===this.name&&(a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Lg extends Q(Hu){constructor(n,r,i,l){super(n,r,i,l),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(n),this.bind("isFocused").to(n,"isFocused",d=>d&&n.selection.editableElement==this),this.listenTo(n.selection,"change",()=>{this.isFocused=n.isFocused&&n.selection.editableElement==this})}destroy(){this.stopListening()}}Lg.prototype.is=function(a,n){return n?n===this.name&&(a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};const QT=Symbol("rootName");class ZT extends Lg{constructor(n,r){super(n,r),this.rootName="main"}get rootName(){return this.getCustomProperty(QT)}set rootName(n){this._setCustomProperty(QT,n)}set _name(n){this.name=n}}ZT.prototype.is=function(a,n){return n?n===this.name&&(a==="rootElement"||a==="view:rootElement"||a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="rootElement"||a==="view:rootElement"||a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class tl{constructor(n={}){if(!n.boundaries&&!n.startPosition)throw new M("view-tree-walker-no-start-position",null);if(n.direction&&n.direction!="forward"&&n.direction!="backward")throw new M("view-tree-walker-unknown-direction",n.startPosition,{direction:n.direction});this.boundaries=n.boundaries||null,n.startPosition?this._position=ve._createAt(n.startPosition):this._position=ve._createAt(n.boundaries[n.direction=="backward"?"end":"start"]),this.direction=n.direction||"forward",this.singleCharacters=!!n.singleCharacters,this.shallow=!!n.shallow,this.ignoreElementEnd=!!n.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(n){let r,i;do i=this.position,r=this.next();while(!r.done&&n(r.value));r.done||(this._position=i)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let n=this.position.clone();const r=this.position,i=n.parent;if(i.parent===null&&n.offset===i.childCount)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&n.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let l;if(i instanceof Vt){if(n.isAtEnd)return this._position=ve._createAfter(i),this._next();l=i.data[n.offset]}else l=i.getChild(n.offset);if(l instanceof or){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(n))return{done:!0,value:void 0};n.offset++}else n=new ve(l,0);return this._position=n,this._formatReturnValue("elementStart",l,r,n,1)}if(l instanceof Vt){if(this.singleCharacters)return n=new ve(l,0),this._position=n,this._next();let d,h=l.data.length;return l==this._boundaryEndParent?(h=this.boundaries.end.offset,d=new Ai(l,0,h),n=ve._createAfter(d)):(d=new Ai(l,0,l.data.length),n.offset++),this._position=n,this._formatReturnValue("text",d,r,n,h)}if(typeof l=="string"){let d;this.singleCharacters?d=1:d=(i===this._boundaryEndParent?this.boundaries.end.offset:i.data.length)-n.offset;const h=new Ai(i,n.offset,d);return n.offset+=d,this._position=n,this._formatReturnValue("text",h,r,n,d)}return n=ve._createAfter(i),this._position=n,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",i,r,n)}_previous(){let n=this.position.clone();const r=this.position,i=n.parent;if(i.parent===null&&n.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&n.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let l;if(i instanceof Vt){if(n.isAtStart)return this._position=ve._createBefore(i),this._previous();l=i.data[n.offset-1]}else l=i.getChild(n.offset-1);if(l instanceof or)return this.shallow?(n.offset--,this._position=n,this._formatReturnValue("elementStart",l,r,n,1)):(n=new ve(l,l.childCount),this._position=n,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",l,r,n));if(l instanceof Vt){if(this.singleCharacters)return n=new ve(l,l.data.length),this._position=n,this._previous();let d,h=l.data.length;if(l==this._boundaryStartParent){const f=this.boundaries.start.offset;d=new Ai(l,f,l.data.length-f),h=d.data.length,n=ve._createBefore(d)}else d=new Ai(l,0,l.data.length),n.offset--;return this._position=n,this._formatReturnValue("text",d,r,n,h)}if(typeof l=="string"){let d;if(this.singleCharacters)d=1;else{const f=i===this._boundaryStartParent?this.boundaries.start.offset:0;d=n.offset-f}n.offset-=d;const h=new Ai(i,n.offset,d);return this._position=n,this._formatReturnValue("text",h,r,n,d)}return n=ve._createBefore(i),this._position=n,this._formatReturnValue("elementStart",i,r,n,1)}_formatReturnValue(n,r,i,l,d){return r instanceof Ai&&(r.offsetInText+r.data.length==r.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?i=ve._createAfter(r.textNode):(l=ve._createAfter(r.textNode),this._position=l)),r.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?i=ve._createBefore(r.textNode):(l=ve._createBefore(r.textNode),this._position=l))),{done:!1,value:{type:n,item:r,previousPosition:i,nextPosition:l,length:d}}}}class ve extends Xa{constructor(n,r){super(),this.parent=n,this.offset=r}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const n=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===n}get root(){return this.parent.root}get editableElement(){let n=this.parent;for(;!(n instanceof Lg);){if(!n.parent)return null;n=n.parent}return n}getShiftedBy(n){const r=ve._createAt(this),i=r.offset+n;return r.offset=i<0?0:i,r}getLastMatchingPosition(n,r={}){r.startPosition=this;const i=new tl(r);return i.skip(n),i.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(n){const r=this.getAncestors(),i=n.getAncestors();let l=0;for(;r[l]==i[l]&&r[l];)l++;return l===0?null:r[l-1]}isEqual(n){return this.parent==n.parent&&this.offset==n.offset}isBefore(n){return this.compareWith(n)=="before"}isAfter(n){return this.compareWith(n)=="after"}compareWith(n){if(this.root!==n.root)return"different";if(this.isEqual(n))return"same";const r=this.parent.is("node")?this.parent.getPath():[],i=n.parent.is("node")?n.parent.getPath():[];r.push(this.offset),i.push(n.offset);const l=Oe(r,i);switch(l){case"prefix":return"before";case"extension":return"after";default:return r[l]<i[l]?"before":"after"}}getWalker(n={}){return n.startPosition=this,new tl(n)}clone(){return new ve(this.parent,this.offset)}static _createAt(n,r){if(n instanceof ve)return new this(n.parent,n.offset);{const i=n;if(r=="end")r=i.is("$text")?i.data.length:i.childCount;else{if(r=="before")return this._createBefore(i);if(r=="after")return this._createAfter(i);if(r!==0&&!r)throw new M("view-createpositionat-offset-required",i)}return new ve(i,r)}}static _createAfter(n){if(n.is("$textProxy"))return new ve(n.textNode,n.offsetInText+n.data.length);if(!n.parent)throw new M("view-position-after-root",n,{root:n});return new ve(n.parent,n.index+1)}static _createBefore(n){if(n.is("$textProxy"))return new ve(n.textNode,n.offsetInText);if(!n.parent)throw new M("view-position-before-root",n,{root:n});return new ve(n.parent,n.index)}}ve.prototype.is=function(a){return a==="position"||a==="view:position"};class Ke extends Xa{constructor(n,r=null){super(),this.start=n.clone(),this.end=r?r.clone():n.clone()}*[Symbol.iterator](){yield*new tl({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let n=this.start.getLastMatchingPosition(jg,{direction:"backward"}),r=this.end.getLastMatchingPosition(jg);return n.parent.is("$text")&&n.isAtStart&&(n=ve._createBefore(n.parent)),r.parent.is("$text")&&r.isAtEnd&&(r=ve._createAfter(r.parent)),new Ke(n,r)}getTrimmed(){let n=this.start.getLastMatchingPosition(jg);if(n.isAfter(this.end)||n.isEqual(this.end))return new Ke(n,n);let r=this.end.getLastMatchingPosition(jg,{direction:"backward"});const i=n.nodeAfter,l=r.nodeBefore;return i&&i.is("$text")&&(n=new ve(i,0)),l&&l.is("$text")&&(r=new ve(l,l.data.length)),new Ke(n,r)}isEqual(n){return this==n||this.start.isEqual(n.start)&&this.end.isEqual(n.end)}containsPosition(n){return n.isAfter(this.start)&&n.isBefore(this.end)}containsRange(n,r=!1){n.isCollapsed&&(r=!1);const i=this.containsPosition(n.start)||r&&this.start.isEqual(n.start),l=this.containsPosition(n.end)||r&&this.end.isEqual(n.end);return i&&l}getDifference(n){const r=[];return this.isIntersecting(n)?(this.containsPosition(n.start)&&r.push(new Ke(this.start,n.start)),this.containsPosition(n.end)&&r.push(new Ke(n.end,this.end))):r.push(this.clone()),r}getIntersection(n){if(this.isIntersecting(n)){let r=this.start,i=this.end;return this.containsPosition(n.start)&&(r=n.start),this.containsPosition(n.end)&&(i=n.end),new Ke(r,i)}return null}getWalker(n={}){return n.boundaries=this,new tl(n)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let n=this.start.nodeAfter,r=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(n=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(r=this.end.parent.previousSibling),n&&n.is("element")&&n===r?n:null}clone(){return new Ke(this.start,this.end)}*getItems(n={}){n.boundaries=this,n.ignoreElementEnd=!0;const r=new tl(n);for(const i of r)yield i.item}*getPositions(n={}){n.boundaries=this;const r=new tl(n);yield r.position;for(const i of r)yield i.nextPosition}isIntersecting(n){return this.start.isBefore(n.end)&&this.end.isAfter(n.start)}static _createFromParentsAndOffsets(n,r,i,l){return new this(new ve(n,r),new ve(i,l))}static _createFromPositionAndShift(n,r){const i=n,l=n.getShiftedBy(r);return r>0?new this(i,l):new this(l,i)}static _createIn(n){return this._createFromParentsAndOffsets(n,0,n,n.childCount)}static _createOn(n){const r=n.is("$textProxy")?n.offsetSize:1;return this._createFromPositionAndShift(ve._createBefore(n),r)}}function jg(a){return!(!a.item.is("attributeElement")&&!a.item.is("uiElement"))}Ke.prototype.is=function(a){return a==="range"||a==="view:range"};class oi extends q(Xa){constructor(...n){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",n.length&&this.setTo(...n)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const n=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?n.end:n.start).clone()}get focus(){if(!this._ranges.length)return null;const n=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?n.start:n.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const n of this._ranges)yield n.clone()}getFirstRange(){let n=null;for(const r of this._ranges)n&&!r.start.isBefore(n.start)||(n=r);return n?n.clone():null}getLastRange(){let n=null;for(const r of this._ranges)n&&!r.end.isAfter(n.end)||(n=r);return n?n.clone():null}getFirstPosition(){const n=this.getFirstRange();return n?n.start.clone():null}getLastPosition(){const n=this.getLastRange();return n?n.end.clone():null}isEqual(n){if(this.isFake!=n.isFake||this.isFake&&this.fakeSelectionLabel!=n.fakeSelectionLabel||this.rangeCount!=n.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(n.anchor)||!this.focus.isEqual(n.focus))return!1;for(const r of this._ranges){let i=!1;for(const l of n._ranges)if(r.isEqual(l)){i=!0;break}if(!i)return!1}return!0}isSimilar(n){if(this.isBackward!=n.isBackward)return!1;const r=ot(this.getRanges());if(r!=ot(n.getRanges()))return!1;if(r==0)return!0;for(let i of this.getRanges()){i=i.getTrimmed();let l=!1;for(let d of n.getRanges())if(d=d.getTrimmed(),i.start.isEqual(d.start)&&i.end.isEqual(d.end)){l=!0;break}if(!l)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...n){let[r,i,l]=n;if(typeof i=="object"&&(l=i,i=void 0),r===null)this._setRanges([]),this._setFakeOptions(l);else if(r instanceof oi||r instanceof Xw)this._setRanges(r.getRanges(),r.isBackward),this._setFakeOptions({fake:r.isFake,label:r.fakeSelectionLabel});else if(r instanceof Ke)this._setRanges([r],l&&l.backward),this._setFakeOptions(l);else if(r instanceof ve)this._setRanges([new Ke(r)]),this._setFakeOptions(l);else if(r instanceof el){const d=!!l&&!!l.backward;let h;if(i===void 0)throw new M("view-selection-setto-required-second-parameter",this);h=i=="in"?Ke._createIn(r):i=="on"?Ke._createOn(r):new Ke(ve._createAt(r,i)),this._setRanges([h],d),this._setFakeOptions(l)}else{if(!et(r))throw new M("view-selection-setto-not-selectable",this);this._setRanges(r,l&&l.backward),this._setFakeOptions(l)}this.fire("change")}setFocus(n,r){if(this.anchor===null)throw new M("view-selection-setfocus-no-ranges",this);const i=ve._createAt(n,r);if(i.compareWith(this.focus)=="same")return;const l=this.anchor;this._ranges.pop(),i.compareWith(l)=="before"?this._addRange(new Ke(i,l),!0):this._addRange(new Ke(l,i)),this.fire("change")}_setRanges(n,r=!1){n=Array.from(n),this._ranges=[];for(const i of n)this._addRange(i);this._lastRangeBackward=!!r}_setFakeOptions(n={}){this._isFake=!!n.fake,this._fakeSelectionLabel=n.fake&&n.label||""}_addRange(n,r=!1){if(!(n instanceof Ke))throw new M("view-selection-add-range-not-range",this);this._pushRange(n),this._lastRangeBackward=!!r}_pushRange(n){for(const r of this._ranges)if(n.isIntersecting(r))throw new M("view-selection-range-intersects",this,{addedRange:n,intersectingRange:r});this._ranges.push(new Ke(n.start,n.end))}}oi.prototype.is=function(a){return a==="selection"||a==="view:selection"};class Xw extends q(Xa){constructor(...n){super(),this._selection=new oi,this._selection.delegate("change").to(this),n.length&&this._selection.setTo(...n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(n){return this._selection.isEqual(n)}isSimilar(n){return this._selection.isSimilar(n)}_setTo(...n){this._selection.setTo(...n)}_setFocus(n,r){this._selection.setFocus(n,r)}}Xw.prototype.is=function(a){return a==="selection"||a=="documentSelection"||a=="view:selection"||a=="view:documentSelection"};class _c extends D{constructor(n,r,i){super(n,r),this.startRange=i,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const ey=Symbol("bubbling contexts");function ty(a){return class extends a{fire(n,...r){try{const i=n instanceof D?n:new D(this,n),l=ny(this);if(!l.size)return;if(Wu(i,"capturing",this),Cc(l,"$capture",i,...r))return i.return;const d=i.startRange||this.selection.getFirstRange(),h=d?d.getContainedElement():null,f=!!h&&!!JT(l,h);let k=h||function(b){if(!b)return null;const w=b.start.parent,A=b.end.parent,E=w.getPath(),I=A.getPath();return E.length>I.length?w:A}(d);if(Wu(i,"atTarget",k),!f){if(Cc(l,"$text",i,...r))return i.return;Wu(i,"bubbling",k)}for(;k;){if(k.is("rootElement")){if(Cc(l,"$root",i,...r))return i.return}else if(k.is("element")&&Cc(l,k.name,i,...r))return i.return;if(Cc(l,k,i,...r))return i.return;k=k.parent,Wu(i,"bubbling",k)}return Wu(i,"bubbling",this),Cc(l,"$document",i,...r),i.return}catch(i){M.rethrowUnexpectedError(i,this)}}_addEventListener(n,r,i){const l=qt(i.context||"$document"),d=ny(this);for(const h of l){let f=d.get(h);f||(f=new(q()),d.set(h,f)),this.listenTo(f,n,r,i)}}_removeEventListener(n,r){const i=ny(this);for(const l of i.values())this.stopListening(l,n,r)}}}{const a=ty(Object);["fire","_addEventListener","_removeEventListener"].forEach(n=>{ty[n]=a.prototype[n]})}function Wu(a,n,r){a instanceof _c&&(a._eventPhase=n,a._currentTarget=r)}function Cc(a,n,r,...i){const l=typeof n=="string"?a.get(n):JT(a,n);return!!l&&(l.fire(r,...i),r.stop.called)}function JT(a,n){for(const[r,i]of a)if(typeof r=="function"&&r(n))return i;return null}function ny(a){return a[ey]||(a[ey]=new Map),a[ey]}class zg extends ty(Q()){constructor(n){super(),this._postFixers=new Set,this.selection=new Xw,this.roots=new ti({idProperty:"rootName"}),this.stylesProcessor=n,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(n="main"){return this.roots.get(n)}registerPostFixer(n){this._postFixers.add(n)}destroy(){this.roots.forEach(n=>n.destroy()),this.stopListening()}_callPostFixers(n){let r=!1;do for(const i of this._postFixers)if(r=i(n),r)break;while(r)}}class nl extends or{constructor(n,r,i,l){super(n,r,i,l),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=TW}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new M("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(n){return this.id!==null||n.id!==null?this.id===n.id:super.isSimilar(n)&&this.priority==n.priority}_clone(n=!1){const r=super._clone(n);return r._priority=this._priority,r._id=this._id,r}}function TW(){if(oy(this))return null;let a=this.parent;for(;a&&a.is("attributeElement");){if(oy(a)>1)return null;a=a.parent}return!a||oy(a)>1?null:this.childCount}function oy(a){return Array.from(a.getChildren()).filter(n=>!n.is("uiElement")).length}nl.DEFAULT_PRIORITY=10,nl.prototype.is=function(a,n){return n?n===this.name&&(a==="attributeElement"||a==="view:attributeElement"||a==="element"||a==="view:element"):a==="attributeElement"||a==="view:attributeElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class ry extends or{constructor(n,r,i,l){super(n,r,i,l),this.getFillerOffset=IW}_insertChild(n,r){if(r&&(r instanceof el||Array.from(r).length>0))throw new M("view-emptyelement-cannot-add",[this,r]);return 0}}function IW(){return null}ry.prototype.is=function(a,n){return n?n===this.name&&(a==="emptyElement"||a==="view:emptyElement"||a==="element"||a==="view:element"):a==="emptyElement"||a==="view:emptyElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Fg extends or{constructor(n,r,i,l){super(n,r,i,l),this.getFillerOffset=MW}_insertChild(n,r){if(r&&(r instanceof el||Array.from(r).length>0))throw new M("view-uielement-cannot-add",[this,r]);return 0}render(n,r){return this.toDomElement(n)}toDomElement(n){const r=n.createElement(this.name);for(const i of this.getAttributeKeys())r.setAttribute(i,this.getAttribute(i));return r}}function DW(a){a.document.on("arrowKey",(n,r)=>function(i,l,d){if(l.keyCode==kt.arrowright){const h=l.domTarget.ownerDocument.defaultView.getSelection(),f=h.rangeCount==1&&h.getRangeAt(0).collapsed;if(f||l.shiftKey){const k=h.focusNode,b=h.focusOffset,w=d.domPositionToView(k,b);if(w===null)return;let A=!1;const E=w.getLastMatchingPosition(I=>(I.item.is("uiElement")&&(A=!0),!(!I.item.is("uiElement")&&!I.item.is("attributeElement"))));if(A){const I=d.viewPositionToDom(E);f?h.collapse(I.parent,I.offset):h.extend(I.parent,I.offset)}}}}(0,r,a.domConverter),{priority:"low"})}function MW(){return null}Fg.prototype.is=function(a,n){return n?n===this.name&&(a==="uiElement"||a==="view:uiElement"||a==="element"||a==="view:element"):a==="uiElement"||a==="view:uiElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class iy extends or{constructor(n,r,i,l){super(n,r,i,l),this.getFillerOffset=PW}_insertChild(n,r){if(r&&(r instanceof el||Array.from(r).length>0))throw new M("view-rawelement-cannot-add",[this,r]);return 0}render(n,r){}}function PW(){return null}iy.prototype.is=function(a,n){return n?n===this.name&&(a==="rawElement"||a==="view:rawElement"||a==="element"||a==="view:element"):a==="rawElement"||a==="view:rawElement"||a===this.name||a==="view:"+this.name||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class ol extends q(Xa){constructor(n,r){super(),this._children=[],this._customProperties=new Map,this.document=n,r&&this._insertChild(0,r)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(n){return this._customProperties.get(n)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(n){return this._insertChild(this.childCount,n)}getChild(n){return this._children[n]}getChildIndex(n){return this._children.indexOf(n)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(n,r){this._fireChange("children",this);let i=0;const l=function(d,h){return typeof h=="string"?[new Vt(d,h)]:(et(h)||(h=[h]),Array.from(h).map(f=>typeof f=="string"?new Vt(d,f):f instanceof Ai?new Vt(d,f.data):f))}(this.document,r);for(const d of l)d.parent!==null&&d._remove(),d.parent=this,this._children.splice(n,0,d),n++,i++;return i}_removeChildren(n,r=1){this._fireChange("children",this);for(let i=n;i<n+r;i++)this._children[i].parent=null;return this._children.splice(n,r)}_fireChange(n,r){this.fire("change:"+n,r)}_setCustomProperty(n,r){this._customProperties.set(n,r)}_removeCustomProperty(n){return this._customProperties.delete(n)}}ol.prototype.is=function(a){return a==="documentFragment"||a==="view:documentFragment"};class XT{constructor(n){this._cloneGroups=new Map,this._slotFactory=null,this.document=n}setSelection(...n){this.document.selection._setTo(...n)}setSelectionFocus(n,r){this.document.selection._setFocus(n,r)}createDocumentFragment(n){return new ol(this.document,n)}createText(n){return new Vt(this.document,n)}createAttributeElement(n,r,i={}){const l=new nl(this.document,n,r);return typeof i.priority=="number"&&(l._priority=i.priority),i.id&&(l._id=i.id),i.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),l}createContainerElement(n,r,i={},l={}){let d=null;To(i)?l=i:d=i;const h=new Hu(this.document,n,r,d);return l.renderUnsafeAttributes&&h._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),h}createEditableElement(n,r,i={}){const l=new Lg(this.document,n,r);return i.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),l}createEmptyElement(n,r,i={}){const l=new ry(this.document,n,r);return i.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),l}createUIElement(n,r,i){const l=new Fg(this.document,n,r);return i&&(l.render=i),l}createRawElement(n,r,i,l={}){const d=new iy(this.document,n,r);return i&&(d.render=i),l.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),d}setAttribute(n,r,i){i._setAttribute(n,r)}removeAttribute(n,r){r._removeAttribute(n)}addClass(n,r){r._addClass(n)}removeClass(n,r){r._removeClass(n)}setStyle(n,r,i){To(n)&&i===void 0?r._setStyle(n):i._setStyle(n,r)}removeStyle(n,r){r._removeStyle(n)}setCustomProperty(n,r,i){i._setCustomProperty(n,r)}removeCustomProperty(n,r){return r._removeCustomProperty(n)}breakAttributes(n){return n instanceof ve?this._breakAttributes(n):this._breakAttributesRange(n)}breakContainer(n){const r=n.parent;if(!r.is("containerElement"))throw new M("view-writer-break-non-container-element",this.document);if(!r.parent)throw new M("view-writer-break-root",this.document);if(n.isAtStart)return ve._createBefore(r);if(!n.isAtEnd){const i=r._clone(!1);this.insert(ve._createAfter(r),i);const l=new Ke(n,ve._createAt(r,"end")),d=new ve(i,0);this.move(l,d)}return ve._createAfter(r)}mergeAttributes(n){const r=n.offset,i=n.parent;if(i.is("$text"))return n;if(i.is("attributeElement")&&i.childCount===0){const h=i.parent,f=i.index;return i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new ve(h,f))}const l=i.getChild(r-1),d=i.getChild(r);if(!l||!d)return n;if(l.is("$text")&&d.is("$text"))return tI(l,d);if(l.is("attributeElement")&&d.is("attributeElement")&&l.isSimilar(d)){const h=l.childCount;return l._appendChild(d.getChildren()),d._remove(),this._removeFromClonedElementsGroup(d),this.mergeAttributes(new ve(l,h))}return n}mergeContainers(n){const r=n.nodeBefore,i=n.nodeAfter;if(!(r&&i&&r.is("containerElement")&&i.is("containerElement")))throw new M("view-writer-merge-containers-invalid-position",this.document);const l=r.getChild(r.childCount-1),d=l instanceof Vt?ve._createAt(l,"end"):ve._createAt(r,"end");return this.move(Ke._createIn(i),ve._createAt(r,"end")),this.remove(Ke._createOn(i)),d}insert(n,r){nI(r=et(r)?[...r]:[r],this.document);const i=r.reduce((h,f)=>{const k=h[h.length-1],b=!f.is("uiElement");return k&&k.breakAttributes==b?k.nodes.push(f):h.push({breakAttributes:b,nodes:[f]}),h},[]);let l=null,d=n;for(const{nodes:h,breakAttributes:f}of i){const k=this._insertNodes(d,h,f);l||(l=k.start),d=k.end}return l?new Ke(l,d):new Ke(n)}remove(n){const r=n instanceof Ke?n:Ke._createOn(n);if(qu(r,this.document),r.isCollapsed)return new ol(this.document);const{start:i,end:l}=this._breakAttributesRange(r,!0),d=i.parent,h=l.offset-i.offset,f=d._removeChildren(i.offset,h);for(const b of f)this._removeFromClonedElementsGroup(b);const k=this.mergeAttributes(i);return r.start=k,r.end=k.clone(),new ol(this.document,f)}clear(n,r){qu(n,this.document);const i=n.getWalker({direction:"backward",ignoreElementEnd:!0});for(const l of i){const d=l.item;let h;if(d.is("element")&&r.isSimilar(d))h=Ke._createOn(d);else if(!l.nextPosition.isAfter(n.start)&&d.is("$textProxy")){const f=d.getAncestors().find(k=>k.is("element")&&r.isSimilar(k));f&&(h=Ke._createIn(f))}h&&(h.end.isAfter(n.end)&&(h.end=n.end),h.start.isBefore(n.start)&&(h.start=n.start),this.remove(h))}}move(n,r){let i;if(r.isAfter(n.end)){const l=(r=this._breakAttributes(r,!0)).parent,d=l.childCount;n=this._breakAttributesRange(n,!0),i=this.remove(n),r.offset+=l.childCount-d}else i=this.remove(n);return this.insert(r,i)}wrap(n,r){if(!(r instanceof nl))throw new M("view-writer-wrap-invalid-attribute",this.document);if(qu(n,this.document),n.isCollapsed){let l=n.start;l.parent.is("element")&&(i=l.parent,!Array.from(i.getChildren()).some(h=>!h.is("uiElement")))&&(l=l.getLastMatchingPosition(h=>h.item.is("uiElement"))),l=this._wrapPosition(l,r);const d=this.document.selection;return d.isCollapsed&&d.getFirstPosition().isEqual(n.start)&&this.setSelection(l),new Ke(l)}return this._wrapRange(n,r);var i}unwrap(n,r){if(!(r instanceof nl))throw new M("view-writer-unwrap-invalid-attribute",this.document);if(qu(n,this.document),n.isCollapsed)return n;const{start:i,end:l}=this._breakAttributesRange(n,!0),d=i.parent,h=this._unwrapChildren(d,i.offset,l.offset,r),f=this.mergeAttributes(h.start);f.isEqual(h.start)||h.end.offset--;const k=this.mergeAttributes(h.end);return new Ke(f,k)}rename(n,r){const i=new Hu(this.document,n,r.getAttributes());return this.insert(ve._createAfter(r),i),this.move(Ke._createIn(r),ve._createAt(i,0)),this.remove(Ke._createOn(r)),i}clearClonedElementsGroup(n){this._cloneGroups.delete(n)}createPositionAt(n,r){return ve._createAt(n,r)}createPositionAfter(n){return ve._createAfter(n)}createPositionBefore(n){return ve._createBefore(n)}createRange(n,r){return new Ke(n,r)}createRangeOn(n){return Ke._createOn(n)}createRangeIn(n){return Ke._createIn(n)}createSelection(...n){return new oi(...n)}createSlot(n="children"){if(!this._slotFactory)throw new M("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,n)}_registerSlotFactory(n){this._slotFactory=n}_clearSlotFactory(){this._slotFactory=null}_insertNodes(n,r,i){let l,d;if(l=i?sy(n):n.parent.is("$text")?n.parent.parent:n.parent,!l)throw new M("view-writer-invalid-position-container",this.document);d=i?this._breakAttributes(n,!0):n.parent.is("$text")?ay(n):n;const h=l._insertChild(d.offset,r);for(const w of r)this._addToClonedElementsGroup(w);const f=d.getShiftedBy(h),k=this.mergeAttributes(d);k.isEqual(d)||f.offset--;const b=this.mergeAttributes(f);return new Ke(k,b)}_wrapChildren(n,r,i,l){let d=r;const h=[];for(;d<i;){const k=n.getChild(d),b=k.is("$text"),w=k.is("attributeElement");if(w&&this._wrapAttributeElement(l,k))h.push(new ve(n,d));else if(b||!w||NW(l,k)){const A=l._clone();k._remove(),A._appendChild(k),n._insertChild(d,A),this._addToClonedElementsGroup(A),h.push(new ve(n,d))}else this._wrapChildren(k,0,k.childCount,l);d++}let f=0;for(const k of h)k.offset-=f,k.offset!=r&&(this.mergeAttributes(k).isEqual(k)||(f++,i--));return Ke._createFromParentsAndOffsets(n,r,n,i)}_unwrapChildren(n,r,i,l){let d=r;const h=[];for(;d<i;){const k=n.getChild(d);if(k.is("attributeElement"))if(k.isSimilar(l)){const b=k.getChildren(),w=k.childCount;k._remove(),n._insertChild(d,b),this._removeFromClonedElementsGroup(k),h.push(new ve(n,d),new ve(n,d+w)),d+=w,i+=w-1}else this._unwrapAttributeElement(l,k)?(h.push(new ve(n,d),new ve(n,d+1)),d++):(this._unwrapChildren(k,0,k.childCount,l),d++);else d++}let f=0;for(const k of h)k.offset-=f,!(k.offset==r||k.offset==i)&&(this.mergeAttributes(k).isEqual(k)||(f++,i--));return Ke._createFromParentsAndOffsets(n,r,n,i)}_wrapRange(n,r){const{start:i,end:l}=this._breakAttributesRange(n,!0),d=i.parent,h=this._wrapChildren(d,i.offset,l.offset,r),f=this.mergeAttributes(h.start);f.isEqual(h.start)||h.end.offset--;const k=this.mergeAttributes(h.end);return new Ke(f,k)}_wrapPosition(n,r){if(r.isSimilar(n.parent))return eI(n.clone());n.parent.is("$text")&&(n=ay(n));const i=this.createAttributeElement("_wrapPosition-fake-element");i._priority=Number.POSITIVE_INFINITY,i.isSimilar=()=>!1,n.parent._insertChild(n.offset,i);const l=new Ke(n,n.getShiftedBy(1));this.wrap(l,r);const d=new ve(i.parent,i.index);i._remove();const h=d.nodeBefore,f=d.nodeAfter;return h instanceof Vt&&f instanceof Vt?tI(h,f):eI(d)}_wrapAttributeElement(n,r){if(!oI(n,r)||n.name!==r.name||n.priority!==r.priority)return!1;for(const i of n.getAttributeKeys())if(i!=="class"&&i!=="style"&&r.hasAttribute(i)&&r.getAttribute(i)!==n.getAttribute(i))return!1;for(const i of n.getStyleNames())if(r.hasStyle(i)&&r.getStyle(i)!==n.getStyle(i))return!1;for(const i of n.getAttributeKeys())i!=="class"&&i!=="style"&&(r.hasAttribute(i)||this.setAttribute(i,n.getAttribute(i),r));for(const i of n.getStyleNames())r.hasStyle(i)||this.setStyle(i,n.getStyle(i),r);for(const i of n.getClassNames())r.hasClass(i)||this.addClass(i,r);return!0}_unwrapAttributeElement(n,r){if(!oI(n,r)||n.name!==r.name||n.priority!==r.priority)return!1;for(const i of n.getAttributeKeys())if(i!=="class"&&i!=="style"&&(!r.hasAttribute(i)||r.getAttribute(i)!==n.getAttribute(i)))return!1;if(!r.hasClass(...n.getClassNames()))return!1;for(const i of n.getStyleNames())if(!r.hasStyle(i)||r.getStyle(i)!==n.getStyle(i))return!1;for(const i of n.getAttributeKeys())i!=="class"&&i!=="style"&&this.removeAttribute(i,r);return this.removeClass(Array.from(n.getClassNames()),r),this.removeStyle(Array.from(n.getStyleNames()),r),!0}_breakAttributesRange(n,r=!1){const i=n.start,l=n.end;if(qu(n,this.document),n.isCollapsed){const k=this._breakAttributes(n.start,r);return new Ke(k,k)}const d=this._breakAttributes(l,r),h=d.parent.childCount,f=this._breakAttributes(i,r);return d.offset+=d.parent.childCount-h,new Ke(f,d)}_breakAttributes(n,r=!1){const i=n.offset,l=n.parent;if(n.parent.is("emptyElement"))throw new M("view-writer-cannot-break-empty-element",this.document);if(n.parent.is("uiElement"))throw new M("view-writer-cannot-break-ui-element",this.document);if(n.parent.is("rawElement"))throw new M("view-writer-cannot-break-raw-element",this.document);if(!r&&l.is("$text")&&ly(l.parent)||ly(l))return n.clone();if(l.is("$text"))return this._breakAttributes(ay(n),r);if(i==l.childCount){const d=new ve(l.parent,l.index+1);return this._breakAttributes(d,r)}if(i===0){const d=new ve(l.parent,l.index);return this._breakAttributes(d,r)}{const d=l.index+1,h=l._clone();l.parent._insertChild(d,h),this._addToClonedElementsGroup(h);const f=l.childCount-i,k=l._removeChildren(i,f);h._appendChild(k);const b=new ve(l.parent,d);return this._breakAttributes(b,r)}}_addToClonedElementsGroup(n){if(!n.root.is("rootElement"))return;if(n.is("element"))for(const l of n.getChildren())this._addToClonedElementsGroup(l);const r=n.id;if(!r)return;let i=this._cloneGroups.get(r);i||(i=new Set,this._cloneGroups.set(r,i)),i.add(n),n._clonesGroup=i}_removeFromClonedElementsGroup(n){if(n.is("element"))for(const l of n.getChildren())this._removeFromClonedElementsGroup(l);const r=n.id;if(!r)return;const i=this._cloneGroups.get(r);i&&i.delete(n)}}function sy(a){let n=a.parent;for(;!ly(n);){if(!n)return;n=n.parent}return n}function NW(a,n){return a.priority<n.priority||!(a.priority>n.priority)&&a.getIdentity()<n.getIdentity()}function eI(a){const n=a.nodeBefore;if(n&&n.is("$text"))return new ve(n,n.data.length);const r=a.nodeAfter;return r&&r.is("$text")?new ve(r,0):a}function ay(a){if(a.offset==a.parent.data.length)return new ve(a.parent.parent,a.parent.index+1);if(a.offset===0)return new ve(a.parent.parent,a.parent.index);const n=a.parent.data.slice(a.offset);return a.parent._data=a.parent.data.slice(0,a.offset),a.parent.parent._insertChild(a.parent.index+1,new Vt(a.root.document,n)),new ve(a.parent.parent,a.parent.index+1)}function tI(a,n){const r=a.data.length;return a._data+=n.data,n._remove(),new ve(a,r)}const RW=[Vt,nl,Hu,ry,iy,Fg];function nI(a,n){for(const r of a){if(!RW.some(i=>r instanceof i))throw new M("view-writer-insert-invalid-node-type",n);r.is("$text")||nI(r.getChildren(),n)}}function ly(a){return a&&(a.is("containerElement")||a.is("documentFragment"))}function qu(a,n){const r=sy(a.start),i=sy(a.end);if(!r||!i||r!==i)throw new M("view-writer-invalid-range-container",n)}function oI(a,n){return a.id===null&&n.id===null}const rI=a=>a.createTextNode(""),iI=a=>{const n=a.createElement("span");return n.dataset.ckeFiller="true",n.innerText="",n},sI=a=>{const n=a.createElement("br");return n.dataset.ckeFiller="true",n},ri=7,Gu="".repeat(ri);function rr(a){return typeof a=="string"?a.substr(0,ri)===Gu:An(a)&&a.data.substr(0,ri)===Gu}function Ac(a){return a.data.length==ri&&rr(a)}function aI(a){const n=typeof a=="string"?a:a.data;return rr(a)?n.slice(ri):n}function OW(a,n){if(n.keyCode==kt.arrowleft){const r=n.domTarget.ownerDocument.defaultView.getSelection();if(r.rangeCount==1&&r.getRangeAt(0).collapsed){const i=r.getRangeAt(0).startContainer,l=r.getRangeAt(0).startOffset;rr(i)&&l<=ri&&r.collapse(i,0)}}}var lI=c(8264),BW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(lI.A,BW),lI.A.locals;class LW extends Q(){constructor(n,r){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=n,this.selection=r,this.set("isFocused",!1),this.set("isSelecting",!1),_.isBlink&&!_.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(n,r){if(n==="text")this.domConverter.mapViewToDom(r.parent)&&this.markedTexts.add(r);else{if(!this.domConverter.mapViewToDom(r))return;if(n==="attributes")this.markedAttributes.add(r);else{if(n!=="children")throw new M("view-renderer-unknown-type",this);this.markedChildren.add(r)}}}render(){if(this.isComposing&&!_.isAndroid)return;let n=null;const r=!(_.isBlink&&!_.isAndroid)||!this.isSelecting;for(const i of this.markedChildren)this._updateChildrenMappings(i);r?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?n=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(n=this.selection.getFirstPosition(),this.markedChildren.add(n.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(n=this.domConverter.domPositionToView(this._inlineFiller),n&&n.parent.is("$text")&&(n=ve._createBefore(n.parent)));for(const i of this.markedAttributes)this._updateAttrs(i);for(const i of this.markedChildren)this._updateChildren(i,{inlineFillerPosition:n});for(const i of this.markedTexts)!this.markedChildren.has(i.parent)&&this.domConverter.mapViewToDom(i.parent)&&this._updateText(i,{inlineFillerPosition:n});if(r)if(n){const i=this.domConverter.viewPositionToDom(n),l=i.parent.ownerDocument;rr(i.parent)?this._inlineFiller=i.parent:this._inlineFiller=cI(l,i.parent,i.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(n){const r=this.domConverter.mapViewToDom(n);if(!r)return;const i=Array.from(r.childNodes),l=Array.from(this.domConverter.viewChildrenToDom(n,{withChildren:!1})),d=this._diffNodeLists(i,l),h=this._findUpdateActions(d,i,l,jW);if(h.indexOf("update")!==-1){const f={equal:0,insert:0,delete:0};for(const k of h)if(k==="update"){const b=f.equal+f.insert,w=f.equal+f.delete,A=n.getChild(b);!A||A.is("uiElement")||A.is("rawElement")||this._updateElementMappings(A,i[w]),dT(l[b]),f.equal++}else f[k]++}}_updateElementMappings(n,r){this.domConverter.unbindDomElement(r),this.domConverter.bindElements(r,n),this.markedChildren.add(n),this.markedAttributes.add(n)}_getInlineFillerPosition(){const n=this.selection.getFirstPosition();return n.parent.is("$text")?ve._createBefore(n.parent):n}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const n=this.selection.getFirstPosition(),r=this.domConverter.viewPositionToDom(n);return!!(r&&An(r.parent)&&rr(r.parent))}_removeInlineFiller(){const n=this._inlineFiller;if(!rr(n))throw new M("view-renderer-filler-was-lost",this);Ac(n)?n.remove():n.data=n.data.substr(ri),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const n=this.selection.getFirstPosition(),r=n.parent,i=n.offset;if(!this.domConverter.mapViewToDom(r.root)||!r.is("element")||!function(h){if(h.getAttribute("contenteditable")=="false")return!1;const f=h.findAncestor(k=>k.hasAttribute("contenteditable"));return!f||f.getAttribute("contenteditable")=="true"}(r))return!1;const l=n.nodeBefore,d=n.nodeAfter;return!(l instanceof Vt||d instanceof Vt)&&!!(i!==r.getFillerOffset()||l&&l.is("element","br"))&&(!_.isAndroid||!l&&!d)}_updateText(n,r){const i=this.domConverter.findCorrespondingDomText(n);let l=this.domConverter.viewToDom(n).data;const d=r.inlineFillerPosition;d&&d.parent==n.parent&&d.offset==n.index&&(l=Gu+l),dI(i,l)}_updateAttrs(n){const r=this.domConverter.mapViewToDom(n);if(!r)return;const i=Array.from(r.attributes).map(d=>d.name),l=n.getAttributeKeys();for(const d of l)this.domConverter.setDomElementAttribute(r,d,n.getAttribute(d),n);for(const d of i)n.hasAttribute(d)||this.domConverter.removeDomElementAttribute(r,d)}_updateChildren(n,r){const i=this.domConverter.mapViewToDom(n);if(!i)return;if(_.isAndroid){let A=null;for(const E of Array.from(i.childNodes)){if(A&&An(A)&&An(E)){i.normalize();break}A=E}}const l=r.inlineFillerPosition,d=i.childNodes,h=Array.from(this.domConverter.viewChildrenToDom(n,{bind:!0}));l&&l.parent===n&&cI(i.ownerDocument,h,l.offset);const f=this._diffNodeLists(d,h),k=this._findUpdateActions(f,d,h,zW);let b=0;const w=new Set;for(const A of k)A==="delete"?(w.add(d[b]),dT(d[b])):A!=="equal"&&A!=="update"||b++;b=0;for(const A of k)A==="insert"?(sT(i,b,h[b]),b++):A==="update"?(dI(d[b],h[b].data),b++):A==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(h[b])),b++);for(const A of w)A.parentNode||this.domConverter.unbindDomElement(A)}_diffNodeLists(n,r){return n=function(i,l){const d=Array.from(i);return d.length==0||!l||d[d.length-1]==l&&d.pop(),d}(n,this._fakeSelectionContainer),T(n,r,FW.bind(null,this.domConverter))}_findUpdateActions(n,r,i,l){if(n.indexOf("insert")===-1||n.indexOf("delete")===-1)return n;let d=[],h=[],f=[];const k={equal:0,insert:0,delete:0};for(const b of n)b==="insert"?f.push(i[k.equal+k.insert]):b==="delete"?h.push(r[k.equal+k.delete]):(d=d.concat(T(h,f,l).map(w=>w==="equal"?"update":w)),d.push("equal"),h=[],f=[]),k[b]++;return d.concat(T(h,f,l).map(b=>b==="equal"?"update":b))}_markDescendantTextToSync(n){if(n){if(n.is("$text"))this.markedTexts.add(n);else if(n.is("element"))for(const r of n.getChildren())this._markDescendantTextToSync(r)}}_updateSelection(){if(_.isBlink&&!_.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const n=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&n&&(this.selection.isFake?this._updateFakeSelection(n):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(n)):this.isComposing&&_.isAndroid||this._updateDomSelection(n))}_updateFakeSelection(n){const r=n.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(h){const f=h.createElement("div");return f.className="ck-fake-selection-container",Object.assign(f.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),f.textContent="",f}(r));const i=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(i,this.selection),!this._fakeSelectionNeedsUpdate(n))return;i.parentElement&&i.parentElement==n||n.appendChild(i),i.textContent=this.selection.fakeSelectionLabel||"";const l=r.getSelection(),d=r.createRange();l.removeAllRanges(),d.selectNodeContents(i),l.addRange(d)}_updateDomSelection(n){const r=n.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(r))return;const i=this.domConverter.viewPositionToDom(this.selection.anchor),l=this.domConverter.viewPositionToDom(this.selection.focus);r.setBaseAndExtent(i.parent,i.offset,l.parent,l.offset),_.isGecko&&function(d,h){let f=d.parent,k=d.offset;if(An(f)&&Ac(f)&&(k=zu(f)+1,f=f.parentNode),f.nodeType!=Node.ELEMENT_NODE||k!=f.childNodes.length-1)return;const b=f.childNodes[k];b&&b.tagName=="BR"&&h.addRange(h.getRangeAt(0))}(l,r)}_domSelectionNeedsUpdate(n){if(!this.domConverter.isDomSelectionCorrect(n))return!0;const r=n&&this.domConverter.domSelectionToView(n);return(!r||!this.selection.isEqual(r))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(r))}_fakeSelectionNeedsUpdate(n){const r=this._fakeSelectionContainer,i=n.ownerDocument.getSelection();return!r||r.parentElement!==n||i.anchorNode!==r&&!r.contains(i.anchorNode)||r.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const n of this.domDocuments){const r=n.getSelection();if(r.rangeCount){const i=n.activeElement,l=this.domConverter.mapDomToView(i);i&&l&&r.removeAllRanges()}}}_removeFakeSelection(){const n=this._fakeSelectionContainer;n&&n.remove()}_updateFocus(){if(this.isFocused){const n=this.selection.editableElement;n&&this.domConverter.focus(n)}}}function cI(a,n,r){const i=n instanceof Array?n:n.childNodes,l=i[r];if(An(l))return l.data=Gu+l.data,l;{const d=a.createTextNode(Gu);return Array.isArray(n)?i.splice(r,0,d):sT(n,r,d),d}}function jW(a,n){return Fs(a)&&Fs(n)&&!An(a)&&!An(n)&&!Fu(a)&&!Fu(n)&&a.tagName.toLowerCase()===n.tagName.toLowerCase()}function zW(a,n){return Fs(a)&&Fs(n)&&An(a)&&An(n)}function FW(a,n,r){return n===r||(An(n)&&An(r)?n.data===r.data:!(!a.isBlockFiller(n)||!a.isBlockFiller(r)))}function dI(a,n){const r=a.data;if(r==n)return;const i=y(r,n);for(const l of i)l.type==="insert"?a.insertData(l.index,l.values.join("")):a.deleteData(l.index,l.howMany)}const $W=sI(m.document),VW=rI(m.document),UW=iI(m.document),$g="data-ck-unsafe-attribute-",uI="data-ck-unsafe-element";class Vg{constructor(n,{blockFillerMode:r,renderingMode:i="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new xi,this._inlineObjectElementMatcher=new xi,this._elementsWithTemporaryCustomProperties=new Set,this.document=n,this.renderingMode=i,this.blockFillerMode=r||(i==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?m.document:m.document.implementation.createHTMLDocument("")}bindFakeSelection(n,r){this._fakeSelectionMapping.set(n,new oi(r))}fakeSelectionToView(n){return this._fakeSelectionMapping.get(n)}bindElements(n,r){this._domToViewMapping.set(n,r),this._viewToDomMapping.set(r,n)}unbindDomElement(n){const r=this._domToViewMapping.get(n);if(r){this._domToViewMapping.delete(n),this._viewToDomMapping.delete(r);for(const i of Array.from(n.children))this.unbindDomElement(i)}}bindDocumentFragments(n,r){this._domToViewMapping.set(n,r),this._viewToDomMapping.set(r,n)}shouldRenderAttribute(n,r,i){return this.renderingMode==="data"||!(n=n.toLowerCase()).startsWith("on")&&(n!=="srcdoc"||!r.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(i==="img"&&(n==="src"||n==="srcset")||i==="source"&&n==="srcset"||!r.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(n,r){if(this.renderingMode==="data")return void(n.innerHTML=r);const i=new DOMParser().parseFromString(r,"text/html"),l=i.createDocumentFragment(),d=i.body.childNodes;for(;d.length>0;)l.appendChild(d[0]);const h=i.createTreeWalker(l,NodeFilter.SHOW_ELEMENT),f=[];let k;for(;k=h.nextNode();)f.push(k);for(const b of f){for(const A of b.getAttributeNames())this.setDomElementAttribute(b,A,b.getAttribute(A));const w=b.tagName.toLowerCase();this._shouldRenameElement(w)&&(fI(w),b.replaceWith(this._createReplacementDomElement(w,b)))}for(;n.firstChild;)n.firstChild.remove();n.append(l)}viewToDom(n,r={}){if(n.is("$text")){const i=this._processDataFromViewText(n);return this._domDocument.createTextNode(i)}{const i=n;if(this.mapViewToDom(i)){if(!i.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(i);this._elementsWithTemporaryCustomProperties.add(i)}let l;if(i.is("documentFragment"))l=this._domDocument.createDocumentFragment(),r.bind&&this.bindDocumentFragments(l,i);else{if(i.is("uiElement"))return l=i.name==="$comment"?this._domDocument.createComment(i.getCustomProperty("$rawContent")):i.render(this._domDocument,this),r.bind&&this.bindElements(l,i),l;this._shouldRenameElement(i.name)?(fI(i.name),l=this._createReplacementDomElement(i.name)):l=i.hasAttribute("xmlns")?this._domDocument.createElementNS(i.getAttribute("xmlns"),i.name):this._domDocument.createElement(i.name),i.is("rawElement")&&i.render(l,this),r.bind&&this.bindElements(l,i);for(const d of i.getAttributeKeys())this.setDomElementAttribute(l,d,i.getAttribute(d),i)}if(r.withChildren!==!1)for(const d of this.viewChildrenToDom(i,r))l instanceof HTMLTemplateElement?l.content.appendChild(d):l.appendChild(d);return l}}setDomElementAttribute(n,r,i,l){const d=this.shouldRenderAttribute(r,i,n.tagName.toLowerCase())||l&&l.shouldRenderUnsafeAttribute(r);d||U("domconverter-unsafe-attribute-detected",{domElement:n,key:r,value:i}),function(h){try{m.document.createAttribute(h)}catch{return!1}return!0}(r)?(n.hasAttribute(r)&&!d?n.removeAttribute(r):n.hasAttribute($g+r)&&d&&n.removeAttribute($g+r),n.setAttribute(d?r:$g+r,i)):U("domconverter-invalid-attribute-detected",{domElement:n,key:r,value:i})}removeDomElementAttribute(n,r){r!=uI&&(n.removeAttribute(r),n.removeAttribute($g+r))}*viewChildrenToDom(n,r={}){const i=n.getFillerOffset&&n.getFillerOffset();let l=0;for(const d of n.getChildren()){i===l&&(yield this._getBlockFiller());const h=d.is("element")&&!!d.getCustomProperty("dataPipeline:transparentRendering")&&!qn(d.getAttributes());h&&this.renderingMode=="data"?yield*this.viewChildrenToDom(d,r):(h&&U("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:d}),yield this.viewToDom(d,r)),l++}i===l&&(yield this._getBlockFiller())}viewRangeToDom(n){const r=this.viewPositionToDom(n.start),i=this.viewPositionToDom(n.end),l=this._domDocument.createRange();return l.setStart(r.parent,r.offset),l.setEnd(i.parent,i.offset),l}viewPositionToDom(n){const r=n.parent;if(r.is("$text")){const i=this.findCorrespondingDomText(r);if(!i)return null;let l=n.offset;return rr(i)&&(l+=ri),{parent:i,offset:l}}{let i,l,d;if(n.offset===0){if(i=this.mapViewToDom(r),!i)return null;d=i.childNodes[0]}else{const h=n.nodeBefore;if(l=h.is("$text")?this.findCorrespondingDomText(h):this.mapViewToDom(h),!l)return null;i=l.parentNode,d=l.nextSibling}return An(d)&&rr(d)?{parent:d,offset:ri}:{parent:i,offset:l?zu(l)+1:0}}}domToView(n,r={}){const i=[],l=this._domToView(n,r,i),d=l.next().value;return d?(l.next(),this._processDomInlineNodes(null,i,r),d.is("$text")&&d.data.length==0?null:d):null}*domChildrenToView(n,r={},i=[]){let l=[];l=n instanceof HTMLTemplateElement?[...n.content.childNodes]:[...n.childNodes];for(let d=0;d<l.length;d++){const h=l[d],f=this._domToView(h,r,i),k=f.next().value;k!==null&&(this._isBlockViewElement(k)&&this._processDomInlineNodes(n,i,r),yield k,f.next())}this._processDomInlineNodes(n,i,r)}domSelectionToView(n){if(function(l){if(!_.isGecko||!l.rangeCount)return!1;const d=l.getRangeAt(0).startContainer;try{Object.prototype.toString.call(d)}catch{return!0}return!1}(n))return new oi([]);if(n.rangeCount===1){let l=n.getRangeAt(0).startContainer;An(l)&&(l=l.parentNode);const d=this.fakeSelectionToView(l);if(d)return d}const r=this.isDomSelectionBackward(n),i=[];for(let l=0;l<n.rangeCount;l++){const d=n.getRangeAt(l),h=this.domRangeToView(d);h&&i.push(h)}return new oi(i,{backward:r})}domRangeToView(n){const r=this.domPositionToView(n.startContainer,n.startOffset),i=this.domPositionToView(n.endContainer,n.endOffset);return r&&i?new Ke(r,i):null}domPositionToView(n,r=0){if(this.isBlockFiller(n))return this.domPositionToView(n.parentNode,zu(n));const i=this.mapDomToView(n);if(i&&(i.is("uiElement")||i.is("rawElement")))return ve._createBefore(i);if(An(n)){if(Ac(n))return this.domPositionToView(n.parentNode,zu(n));const l=this.findCorrespondingViewText(n);let d=r;return l?(rr(n)&&(d-=ri,d=d<0?0:d),new ve(l,d)):null}if(r===0){const l=this.mapDomToView(n);if(l)return new ve(l,0)}else{const l=n.childNodes[r-1];if(An(l)&&Ac(l)||l&&this.isBlockFiller(l))return this.domPositionToView(l.parentNode,zu(l));const d=An(l)?this.findCorrespondingViewText(l):this.mapDomToView(l);if(d&&d.parent)return new ve(d.parent,d.index+1)}return null}mapDomToView(n){return this.getHostViewElement(n)||this._domToViewMapping.get(n)}findCorrespondingViewText(n){if(Ac(n))return null;const r=this.getHostViewElement(n);if(r)return r;const i=n.previousSibling;if(i){if(!this.isElement(i))return null;const l=this.mapDomToView(i);if(l){const d=l.nextSibling;return d instanceof Vt?d:null}}else{const l=this.mapDomToView(n.parentNode);if(l){const d=l.getChild(0);return d instanceof Vt?d:null}}return null}mapViewToDom(n){return this._viewToDomMapping.get(n)}findCorrespondingDomText(n){const r=n.previousSibling;return r&&this.mapViewToDom(r)?this.mapViewToDom(r).nextSibling:!r&&n.parent&&this.mapViewToDom(n.parent)?this.mapViewToDom(n.parent).childNodes[0]:null}focus(n){const r=this.mapViewToDom(n);if(r&&r.ownerDocument.activeElement!==r){const{scrollX:i,scrollY:l}=m.window,d=[];hI(r,h=>{const{scrollLeft:f,scrollTop:k}=h;d.push([f,k])}),r.focus(),hI(r,h=>{const[f,k]=d.shift();h.scrollLeft=f,h.scrollTop=k}),m.window.scrollTo(i,l)}}_clearDomSelection(){const n=this.mapViewToDom(this.document.selection.editableElement);if(!n)return;const r=n.ownerDocument.defaultView.getSelection(),i=this.domSelectionToView(r);i&&i.rangeCount>0&&r.removeAllRanges()}isElement(n){return n&&n.nodeType==Node.ELEMENT_NODE}isDocumentFragment(n){return n&&n.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(n){return this.blockFillerMode=="br"?n.isEqualNode($W):!(n.tagName!=="BR"||!pI(n,this.blockElements)||n.parentNode.childNodes.length!==1)||n.isEqualNode(UW)||function(r,i){return r.isEqualNode(VW)&&pI(r,i)&&r.parentNode.childNodes.length===1}(n,this.blockElements)}isDomSelectionBackward(n){if(n.isCollapsed)return!1;const r=this._domDocument.createRange();try{r.setStart(n.anchorNode,n.anchorOffset),r.setEnd(n.focusNode,n.focusOffset)}catch{return!1}const i=r.collapsed;return r.detach(),i}getHostViewElement(n){const r=function(i){const l=[];let d=i;for(;d&&d.nodeType!=Node.DOCUMENT_NODE;)l.unshift(d),d=d.parentNode;return l}(n);for(r.pop();r.length;){const i=r.pop(),l=this._domToViewMapping.get(i);if(l&&(l.is("uiElement")||l.is("rawElement")))return l}return null}isDomSelectionCorrect(n){return this._isDomSelectionPositionCorrect(n.anchorNode,n.anchorOffset)&&this._isDomSelectionPositionCorrect(n.focusNode,n.focusOffset)}registerRawContentMatcher(n){this._rawContentElementMatcher.add(n)}registerInlineObjectMatcher(n){this._inlineObjectElementMatcher.add(n)}_clearTemporaryCustomProperties(){for(const n of this._elementsWithTemporaryCustomProperties)n._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return rI(this._domDocument);case"markedNbsp":return iI(this._domDocument);case"br":return sI(this._domDocument)}}_isDomSelectionPositionCorrect(n,r){if(An(n)&&rr(n)&&r<ri||this.isElement(n)&&rr(n.childNodes[r]))return!1;const i=this.mapDomToView(n);return!i||!i.is("uiElement")&&!i.is("rawElement")}*_domToView(n,r,i){if(this.isBlockFiller(n))return null;const l=this.getHostViewElement(n);if(l)return l;if(Fu(n)&&r.skipComments)return null;if(An(n)){if(Ac(n))return null;{const d=n.data;if(d==="")return null;const h=new Vt(this.document,d);return i.push(h),h}}{let d=this.mapDomToView(n);if(d)return this._isInlineObjectElement(d)&&i.push(d),d;if(this.isDocumentFragment(n))d=new ol(this.document),r.bind&&this.bindDocumentFragments(n,d);else{d=this._createViewElement(n,r),r.bind&&this.bindElements(n,d);const f=n.attributes;if(f)for(let k=f.length,b=0;b<k;b++)d._setAttribute(f[b].name,f[b].value);if(this._isViewElementWithRawContent(d,r))return d._setCustomProperty("$rawContent",n.innerHTML),this._isBlockViewElement(d)||i.push(d),d;if(Fu(n))return d._setCustomProperty("$rawContent",n.data),d}yield d;const h=[];if(r.withChildren!==!1)for(const f of this.domChildrenToView(n,r,h))d._appendChild(f);if(this._isInlineObjectElement(d))i.push(d);else for(const f of h)i.push(f)}}_processDomInlineNodes(n,r,i){if(!r.length||n&&!this.isDocumentFragment(n)&&!this._isBlockDomElement(n))return;let l=!1;for(let d=0;d<r.length;d++){const h=r[d];if(!h.is("$text")){l=!1;continue}let f,k=!1;if(HW(h,this.preElements))f=aI(h.data);else{f=h.data.replace(/[ \n\t\r]{1,}/g," "),k=/[^\S\u00A0]/.test(f.charAt(f.length-1));const b=d>0?r[d-1]:null,w=d+1<r.length?r[d+1]:null,A=!b||b.is("element")&&b.name=="br"||l,E=!w&&!rr(h.data);i.withChildren!==!1&&(A&&(f=f.replace(/^ /,"")),E&&(f=f.replace(/ $/,""))),f=aI(f),f=f.replace(/ \u00A0/g,"  ");const I=w&&w.is("element")&&w.name!="br",O=w&&w.is("$text")&&w.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(f)||!w||I||O)&&(f=f.replace(/\u00A0$/," ")),(A||b&&b.is("element")&&b.name!="br")&&(f=f.replace(/^\u00A0/," "))}f.length==0&&h.parent?(h._remove(),r.splice(d,1),d--):(h._data=f,l=k)}r.length=0}_processDataFromViewText(n){let r=n.data;if(n.getAncestors().some(i=>this.preElements.includes(i.name)))return r;if(r.charAt(0)==" "){const i=this._getTouchingInlineViewNode(n,!1);!(i&&i.is("$textProxy")&&this._nodeEndsWithSpace(i))&&i||(r=""+r.substr(1))}if(r.charAt(r.length-1)==" "){const i=this._getTouchingInlineViewNode(n,!0),l=i&&i.is("$textProxy")&&i.data.charAt(0)==" ";r.charAt(r.length-2)!=" "&&i&&!l||(r=r.substr(0,r.length-1)+"")}return r.replace(/ {2}/g," ")}_nodeEndsWithSpace(n){if(n.getAncestors().some(i=>this.preElements.includes(i.name)))return!1;const r=this._processDataFromViewText(n);return r.charAt(r.length-1)==" "}_getTouchingInlineViewNode(n,r){const i=new tl({startPosition:r?ve._createAfter(n):ve._createBefore(n),direction:r?"forward":"backward"});for(const l of i){if(l.item.is("element","br"))return null;if(this._isInlineObjectElement(l.item))return l.item;if(l.item.is("containerElement"))return null;if(l.item.is("$textProxy"))return l.item}return null}_isBlockDomElement(n){return this.isElement(n)&&this.blockElements.includes(n.tagName.toLowerCase())}_isBlockViewElement(n){return n.is("element")&&this.blockElements.includes(n.name)}_isInlineObjectElement(n){return!!n.is("element")&&(n.name=="br"||this.inlineObjectElements.includes(n.name)||!!this._inlineObjectElementMatcher.match(n))}_createViewElement(n,r){if(Fu(n))return new Fg(this.document,"$comment");const i=r.keepOriginalCase?n.tagName:n.tagName.toLowerCase();return new or(this.document,i)}_isViewElementWithRawContent(n,r){return r.withChildren!==!1&&n.is("element")&&!!this._rawContentElementMatcher.match(n)}_shouldRenameElement(n){const r=n.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(r)}_createReplacementDomElement(n,r){const i=this._domDocument.createElement("span");if(i.setAttribute(uI,n),r){for(;r.firstChild;)i.appendChild(r.firstChild);for(const l of r.getAttributeNames())i.setAttribute(l,r.getAttribute(l))}return i}}function HW(a,n){return a.getAncestors().some(r=>r.is("element")&&n.includes(r.name))}function hI(a,n){let r=a;for(;r;)n(r),r=r.parentElement}function pI(a,n){const r=a.parentNode;return!!r&&!!r.tagName&&n.includes(r.tagName.toLowerCase())}function fI(a){a==="script"&&U("domconverter-unsafe-script-element-detected"),a==="style"&&U("domconverter-unsafe-style-element-detected")}class Ei extends Er(){constructor(n){super(),this._isEnabled=!1,this.view=n,this.document=n.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(n){return n&&n.nodeType===3&&(n=n.parentNode),!(!n||n.nodeType!==1)&&n.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const gI=wT(function(a,n){gc(n,kc(n),a)});class xc{constructor(n,r,i){this.view=n,this.document=n.document,this.domEvent=r,this.domTarget=r.target,gI(this,i)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Vs extends Ei{constructor(){super(...arguments),this.useCapture=!1}observe(n){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(r=>{this.listenTo(n,r,(i,l)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(l.target)&&this.onDomEvent(l)},{useCapture:this.useCapture})})}stopObserving(n){this.stopListening(n)}fire(n,r,i){this.isEnabled&&this.document.fire(n,new xc(this.view,r,i))}}class WW extends Vs{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(n){const r={keyCode:n.keyCode,altKey:n.altKey,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,metaKey:n.metaKey,get keystroke(){return vc(this)}};this.fire(n.type,n,r)}}const cy=function(){return gt.Date.now()};var qW=/\s/;const GW=function(a){for(var n=a.length;n--&&qW.test(a.charAt(n)););return n};var KW=/^\s+/;const YW=function(a){return a&&a.slice(0,GW(a)+1).replace(KW,"")};var QW=/^[-+]0x[0-9a-f]+$/i,ZW=/^0b[01]+$/i,JW=/^0o[0-7]+$/i,XW=parseInt;const mI=function(a){if(typeof a=="number")return a;if(Og(a))return NaN;if(xe(a)){var n=typeof a.valueOf=="function"?a.valueOf():a;a=xe(n)?n+"":n}if(typeof a!="string")return a===0?a:+a;a=YW(a);var r=ZW.test(a);return r||JW.test(a)?XW(a.slice(2),r?2:8):QW.test(a)?NaN:+a};var eq=Math.max,tq=Math.min;const Ec=function(a,n,r){var i,l,d,h,f,k,b=0,w=!1,A=!1,E=!0;if(typeof a!="function")throw new TypeError("Expected a function");function I(Y){var J=i,ce=l;return i=l=void 0,b=Y,h=a.apply(ce,J)}function O(Y){var J=Y-k;return k===void 0||J>=n||J<0||A&&Y-b>=d}function L(){var Y=cy();if(O(Y))return F(Y);f=setTimeout(L,function(J){var ce=n-(J-k);return A?tq(ce,d-(J-b)):ce}(Y))}function F(Y){return f=void 0,E&&i?I(Y):(i=l=void 0,h)}function W(){var Y=cy(),J=O(Y);if(i=arguments,l=this,k=Y,J){if(f===void 0)return function(ce){return b=ce,f=setTimeout(L,n),w?I(ce):h}(k);if(A)return clearTimeout(f),f=setTimeout(L,n),I(k)}return f===void 0&&(f=setTimeout(L,n)),h}return n=mI(n)||0,xe(r)&&(w=!!r.leading,d=(A="maxWait"in r)?eq(mI(r.maxWait)||0,n):d,E="trailing"in r?!!r.trailing:E),W.cancel=function(){f!==void 0&&clearTimeout(f),b=0,i=k=l=f=void 0},W.flush=function(){return f===void 0?h:F(cy())},W};class nq extends Ei{constructor(n){super(n),this._fireSelectionChangeDoneDebounced=Ec(r=>{this.document.fire("selectionChangeDone",r)},200)}observe(){const n=this.document;n.on("arrowKey",(r,i)=>{n.selection.isFake&&this.isEnabled&&i.preventDefault()},{context:"$capture"}),n.on("arrowKey",(r,i)=>{n.selection.isFake&&this.isEnabled&&this._handleSelectionMove(i.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(n){const r=this.document.selection,i=new oi(r.getRanges(),{backward:r.isBackward,fake:!1});n!=kt.arrowleft&&n!=kt.arrowup||i.setTo(i.getFirstPosition()),n!=kt.arrowright&&n!=kt.arrowdown||i.setTo(i.getLastPosition());const l={oldSelection:r,newSelection:i,domSelection:null};this.document.fire("selectionChange",l),this._fireSelectionChangeDoneDebounced(l)}}const oq=function(a){return this.__data__.set(a,"__lodash_hash_undefined__"),this},rq=function(a){return this.__data__.has(a)};function Ug(a){var n=-1,r=a==null?0:a.length;for(this.__data__=new kg;++n<r;)this.add(a[n])}Ug.prototype.add=Ug.prototype.push=oq,Ug.prototype.has=rq;const iq=Ug,sq=function(a,n){for(var r=-1,i=a==null?0:a.length;++r<i;)if(n(a[r],r,a))return!0;return!1},aq=function(a,n){return a.has(n)},kI=function(a,n,r,i,l,d){var h=1&r,f=a.length,k=n.length;if(f!=k&&!(h&&k>f))return!1;var b=d.get(a),w=d.get(n);if(b&&w)return b==n&&w==a;var A=-1,E=!0,I=2&r?new iq:void 0;for(d.set(a,n),d.set(n,a);++A<f;){var O=a[A],L=n[A];if(i)var F=h?i(L,O,A,n,a,d):i(O,L,A,a,n,d);if(F!==void 0){if(F)continue;E=!1;break}if(I){if(!sq(n,function(W,Y){if(!aq(I,Y)&&(O===W||l(O,W,r,i,d)))return I.push(Y)})){E=!1;break}}else if(O!==L&&!l(O,L,r,i,d)){E=!1;break}}return d.delete(a),d.delete(n),E},lq=function(a){var n=-1,r=Array(a.size);return a.forEach(function(i,l){r[++n]=[l,i]}),r},cq=function(a){var n=-1,r=Array(a.size);return a.forEach(function(i){r[++n]=i}),r};var bI=Wt?Wt.prototype:void 0,dy=bI?bI.valueOf:void 0;const dq=function(a,n,r,i,l,d,h){switch(r){case"[object DataView]":if(a.byteLength!=n.byteLength||a.byteOffset!=n.byteOffset)return!1;a=a.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(a.byteLength!=n.byteLength||!d(new Cg(a),new Cg(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ji(+a,+n);case"[object Error]":return a.name==n.name&&a.message==n.message;case"[object RegExp]":case"[object String]":return a==n+"";case"[object Map]":var f=lq;case"[object Set]":var k=1&i;if(f||(f=cq),a.size!=n.size&&!k)return!1;var b=h.get(a);if(b)return b==n;i|=2,h.set(a,n);var w=kI(f(a),f(n),i,l,d,h);return h.delete(a),w;case"[object Symbol]":if(dy)return dy.call(a)==dy.call(n)}return!1};var uq=Object.prototype.hasOwnProperty;const hq=function(a,n,r,i,l,d){var h=1&r,f=xw(a),k=f.length;if(k!=xw(n).length&&!h)return!1;for(var b=k;b--;){var w=f[b];if(!(h?w in n:uq.call(n,w)))return!1}var A=d.get(a),E=d.get(n);if(A&&E)return A==n&&E==a;var I=!0;d.set(a,n),d.set(n,a);for(var O=h;++b<k;){var L=a[w=f[b]],F=n[w];if(i)var W=h?i(F,L,w,n,a,d):i(L,F,w,a,n,d);if(!(W===void 0?L===F||l(L,F,r,i,d):W)){I=!1;break}O||(O=w=="constructor")}if(I&&!O){var Y=a.constructor,J=n.constructor;Y==J||!("constructor"in a)||!("constructor"in n)||typeof Y=="function"&&Y instanceof Y&&typeof J=="function"&&J instanceof J||(I=!1)}return d.delete(a),d.delete(n),I};var vI="[object Arguments]",wI="[object Array]",Hg="[object Object]",yI=Object.prototype.hasOwnProperty;const pq=function(a,n,r,i,l,d){var h=Jt(a),f=Jt(n),k=h?wI:Lu(a),b=f?wI:Lu(n),w=(k=k==vI?Hg:k)==Hg,A=(b=b==vI?Hg:b)==Hg,E=k==b;if(E&&Ru(a)){if(!Ru(n))return!1;h=!0,w=!1}if(E&&!w)return d||(d=new fc),h||_w(a)?kI(a,n,r,i,l,d):dq(a,n,k,r,i,l,d);if(!(1&r)){var I=w&&yI.call(a,"__wrapped__"),O=A&&yI.call(n,"__wrapped__");if(I||O){var L=I?a.value():a,F=O?n.value():n;return d||(d=new fc),l(L,F,r,i,d)}}return!!E&&(d||(d=new fc),hq(a,n,r,i,l,d))},Wg=function a(n,r,i,l,d){return n===r||(n==null||r==null||!Ln(n)&&!Ln(r)?n!=n&&r!=r:pq(n,r,i,l,a,d))},fq=function(a,n,r){var i=(r=typeof r=="function"?r:void 0)?r(a,n):void 0;return i===void 0?Wg(a,n,void 0,r):!!i};class _I extends Ei{constructor(n){super(n),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=n.domConverter,this.renderer=n._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(n){this._domElements.add(n),this.isEnabled&&this._mutationObserver.observe(n,this._config)}stopObserving(n){if(this._domElements.delete(n),this.isEnabled){this._mutationObserver.disconnect();for(const r of this._domElements)this._mutationObserver.observe(r,this._config)}}enable(){super.enable();for(const n of this._domElements)this._mutationObserver.observe(n,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(n){if(n.length===0)return;const r=this.domConverter,i=new Set,l=new Set;for(const h of n){const f=r.mapDomToView(h.target);f&&(f.is("uiElement")||f.is("rawElement")||h.type!=="childList"||this._isBogusBrMutation(h)||l.add(f))}for(const h of n){const f=r.mapDomToView(h.target);if((!f||!f.is("uiElement")&&!f.is("rawElement"))&&h.type==="characterData"){const k=r.findCorrespondingViewText(h.target);k&&!l.has(k.parent)?i.add(k):!k&&rr(h.target)&&l.add(r.mapDomToView(h.target.parentNode))}}let d=!1;for(const h of i)d=!0,this.renderer.markToSync("text",h);for(const h of l){const f=r.mapViewToDom(h),k=Array.from(h.getChildren()),b=Array.from(r.domChildrenToView(f,{withChildren:!1}));fq(k,b,gq)||(d=!0,this.renderer.markToSync("children",h))}d&&this.view.forceRender()}_isBogusBrMutation(n){let r=null;return n.nextSibling===null&&n.removedNodes.length===0&&n.addedNodes.length==1&&(r=this.domConverter.domToView(n.addedNodes[0],{withChildren:!1})),r&&r.is("element","br")}}function gq(a,n){if(!Array.isArray(a))return a===n||!(!a.is("$text")||!n.is("$text"))&&a.data===n.data}class qg extends Vs{constructor(n){super(n),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const r=this.document;r.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),n.change(()=>{})},50)}),r.on("blur",(i,l)=>{const d=r.selection.editableElement;d!==null&&d!==l.target||(r.isFocused=!1,this._isFocusChanging=!1,n.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(n){this.fire(n.type,n)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class mq extends Ei{constructor(n){super(n),this.mutationObserver=n.getObserver(_I),this.focusObserver=n.getObserver(qg),this.selection=this.document.selection,this.domConverter=n.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Ec(r=>{this.document.fire("selectionChangeDone",r)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Ec(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(n){const r=n.ownerDocument,i=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,r),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(n,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(n,"keydown",i,{priority:"highest",useCapture:!0}),this.listenTo(n,"keyup",i,{priority:"highest",useCapture:!0}),this._documents.has(r)||(this.listenTo(r,"mouseup",i,{priority:"highest",useCapture:!0}),this.listenTo(r,"selectionchange",(l,d)=>{this.document.isComposing&&!_.isAndroid||(this._handleSelectionChange(d,r),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(r))}stopObserving(n){this.stopListening(n)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(n,r){if(!this.isEnabled)return;const i=r.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(i.anchorNode))return;this.mutationObserver.flush();const l=this.domConverter.domSelectionToView(i);if(l.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(l)||!this.domConverter.isDomSelectionCorrect(i))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(l))this.view.forceRender();else{const d={oldSelection:this.selection,newSelection:l,domSelection:i};this.document.fire("selectionChange",d),this._fireSelectionChangeDoneDebounced(d)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class kq extends Vs{constructor(n){super(n),this.domEventType=["compositionstart","compositionupdate","compositionend"];const r=this.document;r.on("compositionstart",()=>{r.isComposing=!0},{priority:"low"}),r.on("compositionend",()=>{r.isComposing=!1},{priority:"low"})}onDomEvent(n){this.fire(n.type,n,{data:n.data})}}class CI{constructor(n,r={}){this._files=r.cacheFiles?AI(n):null,this._native=n}get files(){return this._files||(this._files=AI(this._native)),this._files}get types(){return this._native.types}getData(n){return this._native.getData(n)}setData(n,r){this._native.setData(n,r)}set effectAllowed(n){this._native.effectAllowed=n}get effectAllowed(){return this._native.effectAllowed}set dropEffect(n){this._native.dropEffect=n}get dropEffect(){return this._native.dropEffect}setDragImage(n,r,i){this._native.setDragImage(n,r,i)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function AI(a){const n=Array.from(a.files||[]),r=Array.from(a.items||[]);return n.length?n:r.filter(i=>i.kind==="file").map(i=>i.getAsFile())}class bq extends Vs{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(n){const r=n.getTargetRanges(),i=this.view,l=i.document;let d=null,h=null,f=[];if(n.dataTransfer&&(d=new CI(n.dataTransfer)),n.data!==null?h=n.data:d&&(h=d.getData("text/plain")),l.selection.isFake)f=Array.from(l.selection.getRanges());else if(r.length)f=r.map(k=>{const b=i.domConverter.domPositionToView(k.startContainer,k.startOffset),w=i.domConverter.domPositionToView(k.endContainer,k.endOffset);return b?i.createRange(b,w):w?i.createRange(w):void 0}).filter(k=>!!k);else if(_.isAndroid){const k=n.target.ownerDocument.defaultView.getSelection();f=Array.from(i.domConverter.domSelectionToView(k).getRanges())}if(_.isAndroid&&n.inputType=="insertCompositionText"&&h&&h.endsWith(`
`))this.fire(n.type,n,{inputType:"insertParagraph",targetRanges:[i.createRange(f[0].end)]});else if(n.inputType=="insertText"&&h&&h.includes(`
`)){const k=h.split(/\n{1,2}/g);let b=f;for(let w=0;w<k.length;w++){const A=k[w];A!=""&&(this.fire(n.type,n,{data:A,dataTransfer:d,targetRanges:b,inputType:n.inputType,isComposing:n.isComposing}),b=[l.selection.getFirstRange()]),w+1<k.length&&(this.fire(n.type,n,{inputType:"insertParagraph",targetRanges:b}),b=[l.selection.getFirstRange()])}}else this.fire(n.type,n,{data:h,dataTransfer:d,targetRanges:f,inputType:n.inputType,isComposing:n.isComposing})}}class vq extends Ei{constructor(n){super(n),this.document.on("keydown",(r,i)=>{if(this.isEnabled&&((l=i.keyCode)==kt.arrowright||l==kt.arrowleft||l==kt.arrowup||l==kt.arrowdown)){const d=new _c(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(d,i),d.stop.called&&r.stop()}var l})}observe(){}stopObserving(){}}class wq extends Ei{constructor(n){super(n);const r=this.document;r.on("keydown",(i,l)=>{if(!this.isEnabled||l.keyCode!=kt.tab||l.ctrlKey)return;const d=new _c(r,"tab",r.selection.getFirstRange());r.fire(d,l),d.stop.called&&i.stop()})}observe(){}stopObserving(){}}const ii=function(a){return Mw(a,5)};class yq extends Q(){constructor(n){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new zg(n),this.domConverter=new Vg(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new LW(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new XT(this.document),this.addObserver(_I),this.addObserver(qg),this.addObserver(mq),this.addObserver(WW),this.addObserver(nq),this.addObserver(kq),this.addObserver(vq),this.addObserver(bq),this.addObserver(wq),this.document.on("arrowKey",OW,{priority:"low"}),DW(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),_.isiOS&&this.listenTo(this.document,"blur",(r,i)=>{this.domConverter.mapDomToView(i.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(n,r="main"){const i=this.document.getRoot(r);i._name=n.tagName.toLowerCase();const l={};for(const{name:h,value:f}of Array.from(n.attributes))l[h]=f,h==="class"?this._writer.addClass(f.split(" "),i):this._writer.setAttribute(h,f,i);this._initialDomRootAttributes.set(n,l);const d=()=>{this._writer.setAttribute("contenteditable",(!i.isReadOnly).toString(),i),i.isReadOnly?this._writer.addClass("ck-read-only",i):this._writer.removeClass("ck-read-only",i)};d(),this.domRoots.set(r,n),this.domConverter.bindElements(n,i),this._renderer.markToSync("children",i),this._renderer.markToSync("attributes",i),this._renderer.domDocuments.add(n.ownerDocument),i.on("change:children",(h,f)=>this._renderer.markToSync("children",f)),i.on("change:attributes",(h,f)=>this._renderer.markToSync("attributes",f)),i.on("change:text",(h,f)=>this._renderer.markToSync("text",f)),i.on("change:isReadOnly",()=>this.change(d)),i.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const h of this._observers.values())h.observe(n,r)}detachDomRoot(n){const r=this.domRoots.get(n);Array.from(r.attributes).forEach(({name:l})=>r.removeAttribute(l));const i=this._initialDomRootAttributes.get(r);for(const l in i)r.setAttribute(l,i[l]);this.domRoots.delete(n),this.domConverter.unbindDomElement(r);for(const l of this._observers.values())l.stopObserving(r)}getDomRoot(n="main"){return this.domRoots.get(n)}addObserver(n){let r=this._observers.get(n);if(r)return r;r=new n(this),this._observers.set(n,r);for(const[i,l]of this.domRoots)r.observe(l,i);return r.enable(),r}getObserver(n){return this._observers.get(n)}disableObservers(){for(const n of this._observers.values())n.disable()}enableObservers(){for(const n of this._observers.values())n.enable()}scrollToTheSelection({alignToTop:n,forceScroll:r,viewportOffset:i=20,ancestorOffset:l=20}={}){const d=this.document.selection.getFirstRange();if(!d)return;const h=ii({alignToTop:n,forceScroll:r,viewportOffset:i,ancestorOffset:l});typeof i=="number"&&(i={top:i,bottom:i,left:i,right:i});const f={target:this.domConverter.viewRangeToDom(d),viewportOffset:i,ancestorOffset:l,alignToTop:n,forceScroll:r};this.fire("scrollToTheSelection",f,h),function({target:k,viewportOffset:b=0,ancestorOffset:w=0,alignToTop:A,forceScroll:E}){const I=Rw(k);let O=I,L=null;for(b=function(F){return typeof F=="number"?{top:F,bottom:F,left:F,right:F}:F}(b);O;){let F;F=IH(O==I?k:L),TH({parent:F,getRect:()=>gT(k,O),alignToTop:A,ancestorOffset:w,forceScroll:E});const W=gT(k,O);if(SH({window:O,rect:W,viewportOffset:b,alignToTop:A,forceScroll:E}),O.parent!=O){if(L=O.frameElement,O=O.parent,!L)return}else O=null}}(f)}focus(){if(!this.document.isFocused){const n=this.document.selection.editableElement;n&&(this.domConverter.focus(n),this.forceRender())}}change(n){if(this.isRenderingInProgress||this._postFixersInProgress)throw new M("cannot-change-view-tree",this);try{if(this._ongoingChange)return n(this._writer);this._ongoingChange=!0;const r=n(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),r}catch(r){M.rethrowUnexpectedError(r,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(qg).flush(),this.change(()=>{})}destroy(){for(const n of this._observers.values())n.destroy();this.document.destroy(),this.stopListening()}createPositionAt(n,r){return ve._createAt(n,r)}createPositionAfter(n){return ve._createAfter(n)}createPositionBefore(n){return ve._createBefore(n)}createRange(n,r){return new Ke(n,r)}createRangeOn(n){return Ke._createOn(n)}createRangeIn(n){return Ke._createIn(n)}createSelection(...n){return new oi(...n)}_disableRendering(n){this._renderingDisabled=n,n==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Us{is(){throw new Error("is() method is abstract")}}class rl extends Us{constructor(n){super(),this.parent=null,this._attrs=Ci(n)}get document(){return null}get index(){let n;if(!this.parent)return null;if((n=this.parent.getChildIndex(this))===null)throw new M("model-node-not-found-in-parent",this);return n}get startOffset(){let n;if(!this.parent)return null;if((n=this.parent.getChildStartOffset(this))===null)throw new M("model-node-not-found-in-parent",this);return n}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const n=this.index;return n!==null&&this.parent.getChild(n+1)||null}get previousSibling(){const n=this.index;return n!==null&&this.parent.getChild(n-1)||null}get root(){let n=this;for(;n.parent;)n=n.parent;return n}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const n=[];let r=this;for(;r.parent;)n.unshift(r.startOffset),r=r.parent;return n}getAncestors(n={}){const r=[];let i=n.includeSelf?this:this.parent;for(;i;)r[n.parentFirst?"push":"unshift"](i),i=i.parent;return r}getCommonAncestor(n,r={}){const i=this.getAncestors(r),l=n.getAncestors(r);let d=0;for(;i[d]==l[d]&&i[d];)d++;return d===0?null:i[d-1]}isBefore(n){if(this==n||this.root!==n.root)return!1;const r=this.getPath(),i=n.getPath(),l=Oe(r,i);switch(l){case"prefix":return!0;case"extension":return!1;default:return r[l]<i[l]}}isAfter(n){return this!=n&&this.root===n.root&&!this.isBefore(n)}hasAttribute(n){return this._attrs.has(n)}getAttribute(n){return this._attrs.get(n)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const n={};return this._attrs.size&&(n.attributes=Array.from(this._attrs).reduce((r,i)=>(r[i[0]]=i[1],r),{})),n}_clone(n){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(n,r){this._attrs.set(n,r)}_setAttributesTo(n){this._attrs=Ci(n)}_removeAttribute(n){return this._attrs.delete(n)}_clearAttributes(){this._attrs.clear()}}rl.prototype.is=function(a){return a==="node"||a==="model:node"};class Ku{constructor(n){this._nodes=[],n&&this._insertNodes(0,n)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((n,r)=>n+r.offsetSize,0)}getNode(n){return this._nodes[n]||null}getNodeIndex(n){const r=this._nodes.indexOf(n);return r==-1?null:r}getNodeStartOffset(n){const r=this.getNodeIndex(n);return r===null?null:this._nodes.slice(0,r).reduce((i,l)=>i+l.offsetSize,0)}indexToOffset(n){if(n==this._nodes.length)return this.maxOffset;const r=this._nodes[n];if(!r)throw new M("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(r)}offsetToIndex(n){let r=0;for(const i of this._nodes){if(n>=r&&n<r+i.offsetSize)return this.getNodeIndex(i);r+=i.offsetSize}if(r!=n)throw new M("model-nodelist-offset-out-of-bounds",this,{offset:n,nodeList:this});return this.length}_insertNodes(n,r){for(const i of r)if(!(i instanceof rl))throw new M("model-nodelist-insertnodes-not-node",this);this._nodes=function(i,l,d,h){if(Math.max(l.length,i.length)>1e4)return i.slice(0,d).concat(l).concat(i.slice(d+h,i.length));{const f=Array.from(i);return f.splice(d,h,...l),f}}(this._nodes,Array.from(r),n,0)}_removeNodes(n,r=1){return this._nodes.splice(n,r)}toJSON(){return this._nodes.map(n=>n.toJSON())}}class Ut extends rl{constructor(n,r){super(r),this._data=n||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const n=super.toJSON();return n.data=this.data,n}_clone(){return new Ut(this.data,this.getAttributes())}static fromJSON(n){return new Ut(n.data,n.attributes)}}Ut.prototype.is=function(a){return a==="$text"||a==="model:$text"||a==="text"||a==="model:text"||a==="node"||a==="model:node"};class si extends Us{constructor(n,r,i){if(super(),this.textNode=n,r<0||r>n.offsetSize)throw new M("model-textproxy-wrong-offsetintext",this);if(i<0||r+i>n.offsetSize)throw new M("model-textproxy-wrong-length",this);this.data=n.data.substring(r,r+i),this.offsetInText=r}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const n=this.textNode.getPath();return n.length>0&&(n[n.length-1]+=this.offsetInText),n}getAncestors(n={}){const r=[];let i=n.includeSelf?this:this.parent;for(;i;)r[n.parentFirst?"push":"unshift"](i),i=i.parent;return r}hasAttribute(n){return this.textNode.hasAttribute(n)}getAttribute(n){return this.textNode.getAttribute(n)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}si.prototype.is=function(a){return a==="$textProxy"||a==="model:$textProxy"||a==="textProxy"||a==="model:textProxy"};class Ot extends rl{constructor(n,r,i){super(r),this._children=new Ku,this.name=n,i&&this._insertChild(0,i)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(n){return this._children.getNode(n)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(n){return this._children.getNodeIndex(n)}getChildStartOffset(n){return this._children.getNodeStartOffset(n)}offsetToIndex(n){return this._children.offsetToIndex(n)}getNodeByPath(n){let r=this;for(const i of n)r=r.getChild(r.offsetToIndex(i));return r}findAncestor(n,r={}){let i=r.includeSelf?this:this.parent;for(;i;){if(i.name===n)return i;i=i.parent}return null}toJSON(){const n=super.toJSON();if(n.name=this.name,this._children.length>0){n.children=[];for(const r of this._children)n.children.push(r.toJSON())}return n}_clone(n=!1){const r=n?Array.from(this._children).map(i=>i._clone(!0)):void 0;return new Ot(this.name,this.getAttributes(),r)}_appendChild(n){this._insertChild(this.childCount,n)}_insertChild(n,r){const i=function(l){return typeof l=="string"?[new Ut(l)]:(et(l)||(l=[l]),Array.from(l).map(d=>typeof d=="string"?new Ut(d):d instanceof si?new Ut(d.data,d.getAttributes()):d))}(r);for(const l of i)l.parent!==null&&l._remove(),l.parent=this;this._children._insertNodes(n,i)}_removeChildren(n,r=1){const i=this._children._removeNodes(n,r);for(const l of i)l.parent=null;return i}static fromJSON(n){let r;if(n.children){r=[];for(const i of n.children)i.name?r.push(Ot.fromJSON(i)):r.push(Ut.fromJSON(i))}return new Ot(n.name,n.attributes,r)}}Ot.prototype.is=function(a,n){return n?n===this.name&&(a==="element"||a==="model:element"):a==="element"||a==="model:element"||a==="node"||a==="model:node"};class es{constructor(n){if(!n||!n.boundaries&&!n.startPosition)throw new M("model-tree-walker-no-start-position",null);const r=n.direction||"forward";if(r!="forward"&&r!="backward")throw new M("model-tree-walker-unknown-direction",n,{direction:r});this.direction=r,this.boundaries=n.boundaries||null,n.startPosition?this._position=n.startPosition.clone():this._position=he._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!n.singleCharacters,this.shallow=!!n.shallow,this.ignoreElementEnd=!!n.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(n){let r,i,l,d;do l=this.position,d=this._visitedParent,{done:r,value:i}=this.next();while(!r&&n(i));r||(this._position=l,this._visitedParent=d)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const n=this.position,r=this.position.clone(),i=this._visitedParent;if(i.parent===null&&r.offset===i.maxOffset)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&r.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const l=Yu(r,i),d=l||xI(r,i,l);if(d instanceof Ot){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(r))return{done:!0,value:void 0};r.offset++}else r.path.push(0),this._visitedParent=d;return this._position=r,il("elementStart",d,n,r,1)}if(d instanceof Ut){let h;if(this.singleCharacters)h=1;else{let b=d.endOffset;this._boundaryEndParent==i&&this.boundaries.end.offset<b&&(b=this.boundaries.end.offset),h=b-r.offset}const f=r.offset-d.startOffset,k=new si(d,f,h);return r.offset+=h,this._position=r,il("text",k,n,r,h)}return r.path.pop(),r.offset++,this._position=r,this._visitedParent=i.parent,this.ignoreElementEnd?this._next():il("elementEnd",i,n,r)}_previous(){const n=this.position,r=this.position.clone(),i=this._visitedParent;if(i.parent===null&&r.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&r.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const l=r.parent,d=Yu(r,l),h=d||EI(r,l,d);if(h instanceof Ot)return r.offset--,this.shallow?(this._position=r,il("elementStart",h,n,r,1)):(r.path.push(h.maxOffset),this._position=r,this._visitedParent=h,this.ignoreElementEnd?this._previous():il("elementEnd",h,n,r));if(h instanceof Ut){let f;if(this.singleCharacters)f=1;else{let w=h.startOffset;this._boundaryStartParent==i&&this.boundaries.start.offset>w&&(w=this.boundaries.start.offset),f=r.offset-w}const k=r.offset-h.startOffset,b=new si(h,k-f,f);return r.offset-=f,this._position=r,il("text",b,n,r,f)}return r.path.pop(),this._position=r,this._visitedParent=i.parent,il("elementStart",i,n,r,1)}}function il(a,n,r,i,l){return{done:!1,value:{type:a,item:n,previousPosition:r,nextPosition:i,length:l}}}class he extends Us{constructor(n,r,i="toNone"){if(super(),!n.is("element")&&!n.is("documentFragment"))throw new M("model-position-root-invalid",n);if(!(r instanceof Array)||r.length===0)throw new M("model-position-path-incorrect-format",n,{path:r});n.is("rootElement")?r=r.slice():(r=[...n.getPath(),...r],n=n.root),this.root=n,this.path=r,this.stickiness=i}get offset(){return this.path[this.path.length-1]}set offset(n){this.path[this.path.length-1]=n}get parent(){let n=this.root;for(let r=0;r<this.path.length-1;r++)if(n=n.getChild(n.offsetToIndex(this.path[r])),!n)throw new M("model-position-path-incorrect",this,{position:this});if(n.is("$text"))throw new M("model-position-path-incorrect",this,{position:this});return n}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Yu(this,this.parent)}get nodeAfter(){const n=this.parent;return xI(this,n,Yu(this,n))}get nodeBefore(){const n=this.parent;return EI(this,n,Yu(this,n))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(n){if(this.root!=n.root)return"different";const r=Oe(this.path,n.path);switch(r){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[r]<n.path[r]?"before":"after"}}getLastMatchingPosition(n,r={}){r.startPosition=this;const i=new es(r);return i.skip(n),i.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const n=this.parent;return n.is("documentFragment")?[n]:n.getAncestors({includeSelf:!0})}findAncestor(n){const r=this.parent;return r.is("element")?r.findAncestor(n,{includeSelf:!0}):null}getCommonPath(n){if(this.root!=n.root)return[];const r=Oe(this.path,n.path),i=typeof r=="string"?Math.min(this.path.length,n.path.length):r;return this.path.slice(0,i)}getCommonAncestor(n){const r=this.getAncestors(),i=n.getAncestors();let l=0;for(;r[l]==i[l]&&r[l];)l++;return l===0?null:r[l-1]}getShiftedBy(n){const r=this.clone(),i=r.offset+n;return r.offset=i<0?0:i,r}isAfter(n){return this.compareWith(n)=="after"}isBefore(n){return this.compareWith(n)=="before"}isEqual(n){return this.compareWith(n)=="same"}isTouching(n){if(this.root!==n.root)return!1;const r=Math.min(this.path.length,n.path.length);for(let i=0;i<r;i++){const l=this.path[i]-n.path[i];if(l<-1||l>1)return!1;if(l===1)return SI(n,this,i);if(l===-1)return SI(this,n,i)}return this.path.length===n.path.length||(this.path.length>n.path.length?uy(this.path,r):uy(n.path,r))}hasSameParentAs(n){return this.root!==n.root?!1:Oe(this.getParentPath(),n.getParentPath())=="same"}getTransformedByOperation(n){let r;switch(n.type){case"insert":r=this._getTransformedByInsertOperation(n);break;case"move":case"remove":case"reinsert":r=this._getTransformedByMoveOperation(n);break;case"split":r=this._getTransformedBySplitOperation(n);break;case"merge":r=this._getTransformedByMergeOperation(n);break;default:r=he._createAt(this)}return r}_getTransformedByInsertOperation(n){return this._getTransformedByInsertion(n.position,n.howMany)}_getTransformedByMoveOperation(n){return this._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany)}_getTransformedBySplitOperation(n){const r=n.movedRange;return r.containsPosition(this)||r.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(n.splitPosition,n.moveTargetPosition):n.graveyardPosition?this._getTransformedByMove(n.graveyardPosition,n.insertionPosition,1):this._getTransformedByInsertion(n.insertionPosition,1)}_getTransformedByMergeOperation(n){const r=n.movedRange;let i;return r.containsPosition(this)||r.start.isEqual(this)?(i=this._getCombined(n.sourcePosition,n.targetPosition),n.sourcePosition.isBefore(n.targetPosition)&&(i=i._getTransformedByDeletion(n.deletionPosition,1))):i=this.isEqual(n.deletionPosition)?he._createAt(n.deletionPosition):this._getTransformedByMove(n.deletionPosition,n.graveyardPosition,1),i}_getTransformedByDeletion(n,r){const i=he._createAt(this);if(this.root!=n.root)return i;if(Oe(n.getParentPath(),this.getParentPath())=="same"){if(n.offset<this.offset){if(n.offset+r>this.offset)return null;i.offset-=r}}else if(Oe(n.getParentPath(),this.getParentPath())=="prefix"){const l=n.path.length-1;if(n.offset<=this.path[l]){if(n.offset+r>this.path[l])return null;i.path[l]-=r}}return i}_getTransformedByInsertion(n,r){const i=he._createAt(this);if(this.root!=n.root)return i;if(Oe(n.getParentPath(),this.getParentPath())=="same")(n.offset<this.offset||n.offset==this.offset&&this.stickiness!="toPrevious")&&(i.offset+=r);else if(Oe(n.getParentPath(),this.getParentPath())=="prefix"){const l=n.path.length-1;n.offset<=this.path[l]&&(i.path[l]+=r)}return i}_getTransformedByMove(n,r,i){if(r=r._getTransformedByDeletion(n,i),n.isEqual(r))return he._createAt(this);const l=this._getTransformedByDeletion(n,i);return l===null||n.isEqual(this)&&this.stickiness=="toNext"||n.getShiftedBy(i).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(n,r):l._getTransformedByInsertion(r,i)}_getCombined(n,r){const i=n.path.length-1,l=he._createAt(r);return l.stickiness=this.stickiness,l.offset=l.offset+this.path[i]-n.offset,l.path=[...l.path,...this.path.slice(i+1)],l}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(n,r,i="toNone"){if(n instanceof he)return new he(n.root,n.path,n.stickiness);{const l=n;if(r=="end")r=l.maxOffset;else{if(r=="before")return this._createBefore(l,i);if(r=="after")return this._createAfter(l,i);if(r!==0&&!r)throw new M("model-createpositionat-offset-required",[this,n])}if(!l.is("element")&&!l.is("documentFragment"))throw new M("model-position-parent-incorrect",[this,n]);const d=l.getPath();return d.push(r),new this(l.root,d,i)}}static _createAfter(n,r){if(!n.parent)throw new M("model-position-after-root",[this,n],{root:n});return this._createAt(n.parent,n.endOffset,r)}static _createBefore(n,r){if(!n.parent)throw new M("model-position-before-root",n,{root:n});return this._createAt(n.parent,n.startOffset,r)}static fromJSON(n,r){if(n.root==="$graveyard"){const i=new he(r.graveyard,n.path);return i.stickiness=n.stickiness,i}if(!r.getRoot(n.root))throw new M("model-position-fromjson-no-root",r,{rootName:n.root});return new he(r.getRoot(n.root),n.path,n.stickiness)}}function Yu(a,n){const r=n.getChild(n.offsetToIndex(a.offset));return r&&r.is("$text")&&r.startOffset<a.offset?r:null}function xI(a,n,r){return r!==null?null:n.getChild(n.offsetToIndex(a.offset))}function EI(a,n,r){return r!==null?null:n.getChild(n.offsetToIndex(a.offset)-1)}function SI(a,n,r){return r+1!==a.path.length&&!!uy(n.path,r+1)&&!!function(i,l){let d=i.parent,h=i.path.length-1,f=0;for(;h>=l;){if(i.path[h]+f!==d.maxOffset)return!1;f=1,h--,d=d.parent}return!0}(a,r+1)}function uy(a,n){for(;n<a.length;){if(a[n]!==0)return!1;n++}return!0}he.prototype.is=function(a){return a==="position"||a==="model:position"};class re extends Us{constructor(n,r){super(),this.start=he._createAt(n),this.end=r?he._createAt(r):he._createAt(n),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new es({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return Oe(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(n){return n.isAfter(this.start)&&n.isBefore(this.end)}containsRange(n,r=!1){n.isCollapsed&&(r=!1);const i=this.containsPosition(n.start)||r&&this.start.isEqual(n.start),l=this.containsPosition(n.end)||r&&this.end.isEqual(n.end);return i&&l}containsItem(n){const r=he._createBefore(n);return this.containsPosition(r)||this.start.isEqual(r)}isEqual(n){return this.start.isEqual(n.start)&&this.end.isEqual(n.end)}isIntersecting(n){return this.start.isBefore(n.end)&&this.end.isAfter(n.start)}getDifference(n){const r=[];return this.isIntersecting(n)?(this.containsPosition(n.start)&&r.push(new re(this.start,n.start)),this.containsPosition(n.end)&&r.push(new re(n.end,this.end))):r.push(new re(this.start,this.end)),r}getIntersection(n){if(this.isIntersecting(n)){let r=this.start,i=this.end;return this.containsPosition(n.start)&&(r=n.start),this.containsPosition(n.end)&&(i=n.end),new re(r,i)}return null}getJoined(n,r=!1){let i=this.isIntersecting(n);if(i||(i=this.start.isBefore(n.start)?r?this.end.isTouching(n.start):this.end.isEqual(n.start):r?n.end.isTouching(this.start):n.end.isEqual(this.start)),!i)return null;let l=this.start,d=this.end;return n.start.isBefore(l)&&(l=n.start),n.end.isAfter(d)&&(d=n.end),new re(l,d)}getMinimalFlatRanges(){const n=[],r=this.start.getCommonPath(this.end).length,i=he._createAt(this.start);let l=i.parent;for(;i.path.length>r+1;){const d=l.maxOffset-i.offset;d!==0&&n.push(new re(i,i.getShiftedBy(d))),i.path=i.path.slice(0,-1),i.offset++,l=l.parent}for(;i.path.length<=this.end.path.length;){const d=this.end.path[i.path.length-1],h=d-i.offset;h!==0&&n.push(new re(i,i.getShiftedBy(h))),i.offset=d,i.path.push(0)}return n}getWalker(n={}){return n.boundaries=this,new es(n)}*getItems(n={}){n.boundaries=this,n.ignoreElementEnd=!0;const r=new es(n);for(const i of r)yield i.item}*getPositions(n={}){n.boundaries=this;const r=new es(n);yield r.position;for(const i of r)yield i.nextPosition}getTransformedByOperation(n){switch(n.type){case"insert":return this._getTransformedByInsertOperation(n);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(n);case"split":return[this._getTransformedBySplitOperation(n)];case"merge":return[this._getTransformedByMergeOperation(n)]}return[new re(this.start,this.end)]}getTransformedByOperations(n){const r=[new re(this.start,this.end)];for(const i of n)for(let l=0;l<r.length;l++){const d=r[l].getTransformedByOperation(i);r.splice(l,1,...d),l+=d.length-1}for(let i=0;i<r.length;i++){const l=r[i];for(let d=i+1;d<r.length;d++){const h=r[d];(l.containsRange(h)||h.containsRange(l)||l.isEqual(h))&&r.splice(d,1)}}return r}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const n=this.start.nodeAfter,r=this.end.nodeBefore;return n&&n.is("element")&&n===r?n:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(n,r=!1){return this._getTransformedByInsertion(n.position,n.howMany,r)}_getTransformedByMoveOperation(n,r=!1){const i=n.sourcePosition,l=n.howMany,d=n.targetPosition;return this._getTransformedByMove(i,d,l,r)}_getTransformedBySplitOperation(n){const r=this.start._getTransformedBySplitOperation(n);let i=this.end._getTransformedBySplitOperation(n);return this.end.isEqual(n.insertionPosition)&&(i=this.end.getShiftedBy(1)),r.root!=i.root&&(i=this.end.getShiftedBy(-1)),new re(r,i)}_getTransformedByMergeOperation(n){if(this.start.isEqual(n.targetPosition)&&this.end.isEqual(n.deletionPosition))return new re(this.start);let r=this.start._getTransformedByMergeOperation(n),i=this.end._getTransformedByMergeOperation(n);return r.root!=i.root&&(i=this.end.getShiftedBy(-1)),r.isAfter(i)?(n.sourcePosition.isBefore(n.targetPosition)?(r=he._createAt(i),r.offset=0):(n.deletionPosition.isEqual(r)||(i=n.deletionPosition),r=n.targetPosition),new re(r,i)):new re(r,i)}_getTransformedByInsertion(n,r,i=!1){if(i&&this.containsPosition(n))return[new re(this.start,n),new re(n.getShiftedBy(r),this.end._getTransformedByInsertion(n,r))];{const l=new re(this.start,this.end);return l.start=l.start._getTransformedByInsertion(n,r),l.end=l.end._getTransformedByInsertion(n,r),[l]}}_getTransformedByMove(n,r,i,l=!1){if(this.isCollapsed){const A=this.start._getTransformedByMove(n,r,i);return[new re(A)]}const d=re._createFromPositionAndShift(n,i),h=r._getTransformedByDeletion(n,i);if(this.containsPosition(r)&&!l&&(d.containsPosition(this.start)||d.containsPosition(this.end))){const A=this.start._getTransformedByMove(n,r,i),E=this.end._getTransformedByMove(n,r,i);return[new re(A,E)]}let f;const k=this.getDifference(d);let b=null;const w=this.getIntersection(d);if(k.length==1?b=new re(k[0].start._getTransformedByDeletion(n,i),k[0].end._getTransformedByDeletion(n,i)):k.length==2&&(b=new re(this.start,this.end._getTransformedByDeletion(n,i))),f=b?b._getTransformedByInsertion(h,i,w!==null||l):[],w){const A=new re(w.start._getCombined(d.start,h),w.end._getCombined(d.start,h));f.length==2?f.splice(1,0,A):f.push(A)}return f}_getTransformedByDeletion(n,r){let i=this.start._getTransformedByDeletion(n,r),l=this.end._getTransformedByDeletion(n,r);return i==null&&l==null?null:(i==null&&(i=n),l==null&&(l=n),new re(i,l))}static _createFromPositionAndShift(n,r){const i=n,l=n.getShiftedBy(r);return r>0?new this(i,l):new this(l,i)}static _createIn(n){return new this(he._createAt(n,0),he._createAt(n,n.maxOffset))}static _createOn(n){return this._createFromPositionAndShift(he._createBefore(n),n.offsetSize)}static _createFromRanges(n){if(n.length===0)throw new M("range-create-from-ranges-empty-array",null);if(n.length==1)return n[0].clone();const r=n[0];n.sort((d,h)=>d.start.isAfter(h.start)?1:-1);const i=n.indexOf(r),l=new this(r.start,r.end);if(i>0)for(let d=i-1;n[d].end.isEqual(l.start);d++)l.start=he._createAt(n[d].start);for(let d=i+1;d<n.length&&n[d].start.isEqual(l.end);d++)l.end=he._createAt(n[d].end);return l}static fromJSON(n,r){return new this(he.fromJSON(n.start,r),he.fromJSON(n.end,r))}}re.prototype.is=function(a){return a==="range"||a==="model:range"};class TI extends q(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(n,r)=>{if(r.viewPosition)return;const i=this._modelToViewMapping.get(r.modelPosition.parent);if(!i)throw new M("mapping-model-position-view-parent-not-found",this,{modelPosition:r.modelPosition});r.viewPosition=this.findPositionIn(i,r.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(n,r)=>{if(r.modelPosition)return;const i=this.findMappedViewAncestor(r.viewPosition),l=this._viewToModelMapping.get(i),d=this._toModelOffset(r.viewPosition.parent,r.viewPosition.offset,i);r.modelPosition=he._createAt(l,d)},{priority:"low"})}bindElements(n,r){this._modelToViewMapping.set(n,r),this._viewToModelMapping.set(r,n)}unbindViewElement(n,r={}){const i=this.toModelElement(n);if(this._elementToMarkerNames.has(n))for(const l of this._elementToMarkerNames.get(n))this._unboundMarkerNames.add(l);r.defer?this._deferredBindingRemovals.set(n,n.root):(this._viewToModelMapping.delete(n),this._modelToViewMapping.get(i)==n&&this._modelToViewMapping.delete(i))}unbindModelElement(n){const r=this.toViewElement(n);this._modelToViewMapping.delete(n),this._viewToModelMapping.get(r)==n&&this._viewToModelMapping.delete(r)}bindElementToMarker(n,r){const i=this._markerNameToElements.get(r)||new Set;i.add(n);const l=this._elementToMarkerNames.get(n)||new Set;l.add(r),this._markerNameToElements.set(r,i),this._elementToMarkerNames.set(n,l)}unbindElementFromMarkerName(n,r){const i=this._markerNameToElements.get(r);i&&(i.delete(n),i.size==0&&this._markerNameToElements.delete(r));const l=this._elementToMarkerNames.get(n);l&&(l.delete(r),l.size==0&&this._elementToMarkerNames.delete(n))}flushUnboundMarkerNames(){const n=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),n}flushDeferredBindings(){for(const[n,r]of this._deferredBindingRemovals)n.root==r&&this.unbindViewElement(n);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(n){return this._viewToModelMapping.get(n)}toViewElement(n){return this._modelToViewMapping.get(n)}toModelRange(n){return new re(this.toModelPosition(n.start),this.toModelPosition(n.end))}toViewRange(n){return new Ke(this.toViewPosition(n.start),this.toViewPosition(n.end))}toModelPosition(n){const r={viewPosition:n,mapper:this};return this.fire("viewToModelPosition",r),r.modelPosition}toViewPosition(n,r={}){const i={modelPosition:n,mapper:this,isPhantom:r.isPhantom};return this.fire("modelToViewPosition",i),i.viewPosition}markerNameToElements(n){const r=this._markerNameToElements.get(n);if(!r)return null;const i=new Set;for(const l of r)if(l.is("attributeElement"))for(const d of l.getElementsWithSameId())i.add(d);else i.add(l);return i}registerViewToModelLength(n,r){this._viewToModelLengthCallbacks.set(n,r)}findMappedViewAncestor(n){let r=n.parent;for(;!this._viewToModelMapping.has(r);)r=r.parent;return r}_toModelOffset(n,r,i){if(i!=n)return this._toModelOffset(n.parent,n.index,i)+this._toModelOffset(n,r,n);if(n.is("$text"))return r;let l=0;for(let d=0;d<r;d++)l+=this.getModelLength(n.getChild(d));return l}getModelLength(n){if(this._viewToModelLengthCallbacks.get(n.name))return this._viewToModelLengthCallbacks.get(n.name)(n);if(this._viewToModelMapping.has(n))return 1;if(n.is("$text"))return n.data.length;if(n.is("uiElement"))return 0;{let r=0;for(const i of n.getChildren())r+=this.getModelLength(i);return r}}findPositionIn(n,r){let i,l=0,d=0,h=0;if(n.is("$text"))return new ve(n,r);for(;d<r;)i=n.getChild(h),l=this.getModelLength(i),d+=l,h++;return d==r?this._moveViewPositionToTextNode(new ve(n,h)):this.findPositionIn(i,r-(d-l))}_moveViewPositionToTextNode(n){const r=n.nodeBefore,i=n.nodeAfter;return r instanceof Vt?new ve(r,r.data.length):i instanceof Vt?new ve(i,0):n}}class _q{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(n,r){r=Gg(r),n instanceof si&&(n=this._getSymbolForTextProxy(n)),this._consumable.has(n)||this._consumable.set(n,new Map),this._consumable.get(n).set(r,!0)}consume(n,r){return r=Gg(r),n instanceof si&&(n=this._getSymbolForTextProxy(n)),!!this.test(n,r)&&(this._consumable.get(n).set(r,!1),!0)}test(n,r){r=Gg(r),n instanceof si&&(n=this._getSymbolForTextProxy(n));const i=this._consumable.get(n);if(i===void 0)return null;const l=i.get(r);return l===void 0?null:l}revert(n,r){r=Gg(r),n instanceof si&&(n=this._getSymbolForTextProxy(n));const i=this.test(n,r);return i===!1?(this._consumable.get(n).set(r,!0),!0):i!==!0&&null}verifyAllConsumed(n){const r=[];for(const[i,l]of this._consumable)for(const[d,h]of l){const f=d.split(":")[0];h&&n==f&&r.push({event:d,item:i.name||i.description})}if(r.length)throw new M("conversion-model-consumable-not-consumed",null,{items:r})}_getSymbolForTextProxy(n){let r=null;const i=this._textProxyRegistry.get(n.startOffset);if(i){const l=i.get(n.endOffset);l&&(r=l.get(n.parent))}return r||(r=this._addSymbolForTextProxy(n)),r}_addSymbolForTextProxy(n){const r=n.startOffset,i=n.endOffset,l=n.parent,d=Symbol("$textProxy:"+n.data);let h,f;return h=this._textProxyRegistry.get(r),h||(h=new Map,this._textProxyRegistry.set(r,h)),f=h.get(i),f||(f=new Map,h.set(i,f)),f.set(l,d),d}}function Gg(a){const n=a.split(":");return n[0]=="insert"?n[0]:n[0]=="addMarker"||n[0]=="removeMarker"?a:n.length>1?n[0]+":"+n[1]:n[0]}var Cq=Object.defineProperty,Aq=Object.defineProperties,xq=Object.getOwnPropertyDescriptors,II=Object.getOwnPropertySymbols,Eq=Object.prototype.hasOwnProperty,Sq=Object.prototype.propertyIsEnumerable,DI=(a,n,r)=>n in a?Cq(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,hy=(a,n)=>{for(var r in n||(n={}))Eq.call(n,r)&&DI(a,r,n[r]);if(II)for(var r of II(n))Sq.call(n,r)&&DI(a,r,n[r]);return a},MI=(a,n)=>Aq(a,xq(n));class PI extends q(){constructor(n){super(),this._conversionApi=hy({dispatcher:this},n),this._firedEventsMap=new WeakMap}convertChanges(n,r,i){const l=this._createConversionApi(i,n.getRefreshedItems());for(const h of n.getMarkersToRemove())this._convertMarkerRemove(h.name,h.range,l);const d=this._reduceChanges(n.getChanges());for(const h of d)h.type==="insert"?this._convertInsert(re._createFromPositionAndShift(h.position,h.length),l):h.type==="reinsert"?this._convertReinsert(re._createFromPositionAndShift(h.position,h.length),l):h.type==="remove"?this._convertRemove(h.position,h.length,h.name,l):this._convertAttribute(h.range,h.attributeKey,h.attributeOldValue,h.attributeNewValue,l);l.mapper.flushDeferredBindings();for(const h of l.mapper.flushUnboundMarkerNames()){const f=r.get(h).getRange();this._convertMarkerRemove(h,f,l),this._convertMarkerAdd(h,f,l)}for(const h of n.getMarkersToAdd())this._convertMarkerAdd(h.name,h.range,l);l.consumable.verifyAllConsumed("insert")}convert(n,r,i,l={}){const d=this._createConversionApi(i,void 0,l);this._convertInsert(n,d);for(const[h,f]of r)this._convertMarkerAdd(h,f,d);d.consumable.verifyAllConsumed("insert")}convertSelection(n,r,i){const l=this._createConversionApi(i);this.fire("cleanSelection",{selection:n},l);const d=n.getFirstPosition().root;if(!l.mapper.toViewElement(d))return;const h=Array.from(r.getMarkersAtPosition(n.getFirstPosition()));if(this._addConsumablesForSelection(l.consumable,n,h),this.fire("selection",{selection:n},l),n.isCollapsed){for(const f of h)if(l.consumable.test(n,"addMarker:"+f.name)){const k=f.getRange();if(!Tq(n.getFirstPosition(),f,l.mapper))continue;const b={item:n,markerName:f.name,markerRange:k};this.fire(`addMarker:${f.name}`,b,l)}for(const f of n.getAttributeKeys())if(l.consumable.test(n,"attribute:"+f)){const k={item:n,range:n.getFirstRange(),attributeKey:f,attributeOldValue:null,attributeNewValue:n.getAttribute(f)};this.fire(`attribute:${f}:$text`,k,l)}}}_convertInsert(n,r,i={}){i.doNotAddConsumables||this._addConsumablesForInsert(r.consumable,n);for(const l of Array.from(n.getWalker({shallow:!0})).map(NI))this._testAndFire("insert",l,r)}_convertRemove(n,r,i,l){this.fire(`remove:${i}`,{position:n,length:r},l)}_convertAttribute(n,r,i,l,d){this._addConsumablesForRange(d.consumable,n,`attribute:${r}`);for(const h of n){const f={item:h.item,range:re._createFromPositionAndShift(h.previousPosition,h.length),attributeKey:r,attributeOldValue:i,attributeNewValue:l};this._testAndFire(`attribute:${r}`,f,d)}}_convertReinsert(n,r){const i=Array.from(n.getWalker({shallow:!0}));this._addConsumablesForInsert(r.consumable,i);for(const l of i.map(NI))this._testAndFire("insert",MI(hy({},l),{reconversion:!0}),r)}_convertMarkerAdd(n,r,i){if(r.root.rootName=="$graveyard")return;const l=`addMarker:${n}`;if(i.consumable.add(r,l),this.fire(l,{markerName:n,markerRange:r},i),i.consumable.consume(r,l)){this._addConsumablesForRange(i.consumable,r,l);for(const d of r.getItems()){if(!i.consumable.test(d,l))continue;const h={item:d,range:re._createOn(d),markerName:n,markerRange:r};this.fire(l,h,i)}}}_convertMarkerRemove(n,r,i){r.root.rootName!="$graveyard"&&this.fire(`removeMarker:${n}`,{markerName:n,markerRange:r},i)}_reduceChanges(n){const r={changes:n};return this.fire("reduceChanges",r),r.changes}_addConsumablesForInsert(n,r){for(const i of r){const l=i.item;if(n.test(l,"insert")===null){n.add(l,"insert");for(const d of l.getAttributeKeys())n.add(l,"attribute:"+d)}}return n}_addConsumablesForRange(n,r,i){for(const l of r.getItems())n.add(l,i);return n}_addConsumablesForSelection(n,r,i){n.add(r,"selection");for(const l of i)n.add(r,"addMarker:"+l.name);for(const l of r.getAttributeKeys())n.add(r,"attribute:"+l);return n}_testAndFire(n,r,i){const l=function(k,b){const w=b.item.is("element")?b.item.name:"$text";return`${k}:${w}`}(n,r),d=r.item.is("$textProxy")?i.consumable._getSymbolForTextProxy(r.item):r.item,h=this._firedEventsMap.get(i),f=h.get(d);if(f){if(f.has(l))return;f.add(l)}else h.set(d,new Set([l]));this.fire(l,r,i)}_testAndFireAddAttributes(n,r){const i={item:n,range:re._createOn(n)};for(const l of i.item.getAttributeKeys())i.attributeKey=l,i.attributeOldValue=null,i.attributeNewValue=i.item.getAttribute(l),this._testAndFire(`attribute:${l}`,i,r)}_createConversionApi(n,r=new Set,i={}){const l=MI(hy({},this._conversionApi),{consumable:new _q,writer:n,options:i,convertItem:d=>this._convertInsert(re._createOn(d),l),convertChildren:d=>this._convertInsert(re._createIn(d),l,{doNotAddConsumables:!0}),convertAttributes:d=>this._testAndFireAddAttributes(d,l),canReuseView:d=>!r.has(l.mapper.toModelElement(d))});return this._firedEventsMap.set(l,new Map),l}}function Tq(a,n,r){const i=n.getRange(),l=Array.from(a.getAncestors());return l.shift(),l.reverse(),!l.some(d=>{if(i.containsItem(d))return!!r.toViewElement(d).getCustomProperty("addHighlight")})}function NI(a){return{item:a.item,range:re._createFromPositionAndShift(a.previousPosition,a.length)}}class ir extends q(Us){constructor(...n){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],n.length&&this.setTo(...n)}get anchor(){if(this._ranges.length>0){const n=this._ranges[this._ranges.length-1];return this._lastRangeBackward?n.end:n.start}return null}get focus(){if(this._ranges.length>0){const n=this._ranges[this._ranges.length-1];return this._lastRangeBackward?n.start:n.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(n){if(this.rangeCount!=n.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(n.anchor)||!this.focus.isEqual(n.focus))return!1;for(const r of this._ranges){let i=!1;for(const l of n._ranges)if(r.isEqual(l)){i=!0;break}if(!i)return!1}return!0}*getRanges(){for(const n of this._ranges)yield new re(n.start,n.end)}getFirstRange(){let n=null;for(const r of this._ranges)n&&!r.start.isBefore(n.start)||(n=r);return n?new re(n.start,n.end):null}getLastRange(){let n=null;for(const r of this._ranges)n&&!r.end.isAfter(n.end)||(n=r);return n?new re(n.start,n.end):null}getFirstPosition(){const n=this.getFirstRange();return n?n.start.clone():null}getLastPosition(){const n=this.getLastRange();return n?n.end.clone():null}setTo(...n){let[r,i,l]=n;if(typeof i=="object"&&(l=i,i=void 0),r===null)this._setRanges([]);else if(r instanceof ir)this._setRanges(r.getRanges(),r.isBackward);else if(r&&typeof r.getRanges=="function")this._setRanges(r.getRanges(),r.isBackward);else if(r instanceof re)this._setRanges([r],!!l&&!!l.backward);else if(r instanceof he)this._setRanges([new re(r)]);else if(r instanceof rl){const d=!!l&&!!l.backward;let h;if(i=="in")h=re._createIn(r);else if(i=="on")h=re._createOn(r);else{if(i===void 0)throw new M("model-selection-setto-required-second-parameter",[this,r]);h=new re(he._createAt(r,i))}this._setRanges([h],d)}else{if(!et(r))throw new M("model-selection-setto-not-selectable",[this,r]);this._setRanges(r,l&&!!l.backward)}}_setRanges(n,r=!1){const i=Array.from(n),l=i.some(d=>{if(!(d instanceof re))throw new M("model-selection-set-ranges-not-range",[this,n]);return this._ranges.every(h=>!h.isEqual(d))});(i.length!==this._ranges.length||l)&&(this._replaceAllRanges(i),this._lastRangeBackward=!!r,this.fire("change:range",{directChange:!0}))}setFocus(n,r){if(this.anchor===null)throw new M("model-selection-setfocus-no-ranges",[this,n]);const i=he._createAt(n,r);if(i.compareWith(this.focus)=="same")return;const l=this.anchor;this._ranges.length&&this._popRange(),i.compareWith(l)=="before"?(this._pushRange(new re(i,l)),this._lastRangeBackward=!0):(this._pushRange(new re(l,i)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(n){return this._attrs.get(n)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(n){return this._attrs.has(n)}removeAttribute(n){this.hasAttribute(n)&&(this._attrs.delete(n),this.fire("change:attribute",{attributeKeys:[n],directChange:!0}))}setAttribute(n,r){this.getAttribute(n)!==r&&(this._attrs.set(n,r),this.fire("change:attribute",{attributeKeys:[n],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const n=new WeakSet;for(const r of this.getRanges()){const i=OI(r.start,n);Dq(i,r)&&(yield i);for(const d of r.getWalker()){const h=d.item;d.type=="elementEnd"&&Iq(h,n,r)&&(yield h)}const l=OI(r.end,n);Mq(l,r)&&(yield l)}}containsEntireContent(n=this.anchor.root){const r=he._createAt(n,0),i=he._createAt(n,"end");return r.isTouching(this.getFirstPosition())&&i.isTouching(this.getLastPosition())}_pushRange(n){this._checkRange(n),this._ranges.push(new re(n.start,n.end))}_checkRange(n){for(let r=0;r<this._ranges.length;r++)if(n.isIntersecting(this._ranges[r]))throw new M("model-selection-range-intersects",[this,n],{addedRange:n,intersectingRange:this._ranges[r]})}_replaceAllRanges(n){this._removeAllRanges();for(const r of n)this._pushRange(r)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function RI(a,n){return!n.has(a)&&(n.add(a),a.root.document.model.schema.isBlock(a)&&!!a.parent)}function Iq(a,n,r){return RI(a,n)&&py(a,r)}function OI(a,n){const r=a.parent.root.document.model.schema,i=a.parent.getAncestors({parentFirst:!0,includeSelf:!0});let l=!1;const d=i.find(h=>!l&&(l=r.isLimit(h),!l&&RI(h,n)));return i.forEach(h=>n.add(h)),d}function py(a,n){const r=function(i){const l=i.root.document.model.schema;let d=i.parent;for(;d;){if(l.isBlock(d))return d;d=d.parent}}(a);return r?!n.containsRange(re._createOn(r),!0):!0}function Dq(a,n){return!!a&&(!(!n.isCollapsed&&!a.isEmpty)||!n.start.isTouching(he._createAt(a,a.maxOffset))&&py(a,n))}function Mq(a,n){return!!a&&(!(!n.isCollapsed&&!a.isEmpty)||!n.end.isTouching(he._createAt(a,0))&&py(a,n))}ir.prototype.is=function(a){return a==="selection"||a==="model:selection"};class sr extends q(re){constructor(n,r){super(n,r),Pq.call(this)}detach(){this.stopListening()}toRange(){return new re(this.start,this.end)}static fromRange(n){return new sr(n.start,n.end)}}function Pq(){this.listenTo(this.root.document.model,"applyOperation",(a,n)=>{const r=n[0];r.isDocumentOperation&&Nq.call(this,r)},{priority:"low"})}function Nq(a){const n=this.getTransformedByOperation(a),r=re._createFromRanges(n),i=!r.isEqual(this),l=function(h,f){switch(f.type){case"insert":return h.containsPosition(f.position);case"move":case"remove":case"reinsert":case"merge":return h.containsPosition(f.sourcePosition)||h.start.isEqual(f.sourcePosition)||h.containsPosition(f.targetPosition);case"split":return h.containsPosition(f.splitPosition)||h.containsPosition(f.insertionPosition)}return!1}(this,a);let d=null;if(i){r.root.rootName=="$graveyard"&&(d=a.type=="remove"?a.sourcePosition:a.deletionPosition);const h=this.toRange();this.start=r.start,this.end=r.end,this.fire("change:range",h,{deletionPosition:d})}else l&&this.fire("change:content",this.toRange(),{deletionPosition:d})}sr.prototype.is=function(a){return a==="liveRange"||a==="model:liveRange"||a=="range"||a==="model:range"};const Kg="selection:";class ai extends q(Us){constructor(n){super(),this._selection=new Rq(n),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(n){return this._selection.containsEntireContent(n)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(n){return this._selection.getAttribute(n)}hasAttribute(n){return this._selection.hasAttribute(n)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(n){this._selection.observeMarkers(n)}_setFocus(n,r){this._selection.setFocus(n,r)}_setTo(...n){this._selection.setTo(...n)}_setAttribute(n,r){this._selection.setAttribute(n,r)}_removeAttribute(n){this._selection.removeAttribute(n)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(n){this._selection.restoreGravity(n)}static _getStoreAttributeKey(n){return Kg+n}static _isStoreAttributeKey(n){return n.startsWith(Kg)}}ai.prototype.is=function(a){return a==="selection"||a=="model:selection"||a=="documentSelection"||a=="model:documentSelection"};class Rq extends ir{constructor(n){super(),this.markers=new ti({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=n.model,this._document=n,this.listenTo(this._model,"applyOperation",(r,i)=>{const l=i[0];l.isDocumentOperation&&l.type!="marker"&&l.type!="rename"&&l.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(r,i,l,d)=>{this._updateMarker(i,d)}),this.listenTo(this._document,"change",(r,i)=>{(function(l,d){const h=l.document.differ;for(const f of h.getChanges()){if(f.type!="insert")continue;const k=f.position.parent;f.length===k.maxOffset&&l.enqueueChange(d,b=>{const w=Array.from(k.getAttributeKeys()).filter(A=>A.startsWith(Kg));for(const A of w)b.removeAttribute(A,k)})}})(this._model,i)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let n=0;n<this._ranges.length;n++)this._ranges[n].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...n){super.setTo(...n),this._updateAttributes(!0),this.updateMarkers()}setFocus(n,r){super.setFocus(n,r),this._updateAttributes(!0),this.updateMarkers()}setAttribute(n,r){if(this._setAttribute(n,r)){const i=[n];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}removeAttribute(n){if(this._removeAttribute(n)){const r=[n];this.fire("change:attribute",{attributeKeys:r,directChange:!0})}}overrideGravity(){const n=B();return this._overriddenGravityRegister.add(n),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),n}restoreGravity(n){if(!this._overriddenGravityRegister.has(n))throw new M("document-selection-gravity-wrong-restore",this,{uid:n});this._overriddenGravityRegister.delete(n),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(n){this._observedMarkers.add(n),this.updateMarkers()}_replaceAllRanges(n){this._validateSelectionRanges(n),super._replaceAllRanges(n)}_popRange(){this._ranges.pop().detach()}_pushRange(n){const r=this._prepareRange(n);r&&this._ranges.push(r)}_validateSelectionRanges(n){for(const r of n)if(!this._document._validateSelectionRange(r))throw new M("document-selection-wrong-position",this,{range:r})}_prepareRange(n){if(this._checkRange(n),n.root==this._document.graveyard)return;const r=sr.fromRange(n);return r.on("change:range",(i,l,d)=>{if(this._hasChangedRange=!0,r.root==this._document.graveyard){this._selectionRestorePosition=d.deletionPosition;const h=this._ranges.indexOf(r);this._ranges.splice(h,1),r.detach()}}),r}updateMarkers(){if(!this._observedMarkers.size)return;const n=[];let r=!1;for(const l of this._model.markers){const d=l.name.split(":",1)[0];if(!this._observedMarkers.has(d))continue;const h=l.getRange();for(const f of this.getRanges())h.containsRange(f,!f.isCollapsed)&&n.push(l)}const i=Array.from(this.markers);for(const l of n)this.markers.has(l)||(this.markers.add(l),r=!0);for(const l of Array.from(this.markers))n.includes(l)||(this.markers.remove(l),r=!0);r&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}_updateMarker(n,r){const i=n.name.split(":",1)[0];if(!this._observedMarkers.has(i))return;let l=!1;const d=Array.from(this.markers),h=this.markers.has(n);if(r){let f=!1;for(const k of this.getRanges())if(r.containsRange(k,!k.isCollapsed)){f=!0;break}f&&!h?(this.markers.add(n),l=!0):!f&&h&&(this.markers.remove(n),l=!0)}else h&&(this.markers.remove(n),l=!0);l&&this.fire("change:marker",{oldMarkers:d,directChange:!1})}_updateAttributes(n){const r=Ci(this._getSurroundingAttributes()),i=Ci(this.getAttributes());if(n)this._attributePriority=new Map,this._attrs=new Map;else for(const[d,h]of this._attributePriority)h=="low"&&(this._attrs.delete(d),this._attributePriority.delete(d));this._setAttributesTo(r);const l=[];for(const[d,h]of this.getAttributes())i.has(d)&&i.get(d)===h||l.push(d);for(const[d]of i)this.hasAttribute(d)||l.push(d);l.length>0&&this.fire("change:attribute",{attributeKeys:l,directChange:!1})}_setAttribute(n,r,i=!0){const l=i?"normal":"low";return l=="low"&&this._attributePriority.get(n)=="normal"?!1:super.getAttribute(n)!==r&&(this._attrs.set(n,r),this._attributePriority.set(n,l),!0)}_removeAttribute(n,r=!0){const i=r?"normal":"low";return(i!="low"||this._attributePriority.get(n)!="normal")&&(this._attributePriority.set(n,i),!!super.hasAttribute(n)&&(this._attrs.delete(n),!0))}_setAttributesTo(n){const r=new Set;for(const[i,l]of this.getAttributes())n.get(i)!==l&&this._removeAttribute(i,!1);for(const[i,l]of n)this._setAttribute(i,l,!1)&&r.add(i);return r}*getStoredAttributes(){const n=this.getFirstPosition().parent;if(this.isCollapsed&&n.isEmpty)for(const r of n.getAttributeKeys())r.startsWith(Kg)&&(yield[r.substr(10),n.getAttribute(r)])}_getSurroundingAttributes(){const n=this.getFirstPosition(),r=this._model.schema;if(n.root.rootName=="$graveyard")return null;let i=null;if(this.isCollapsed){const l=n.textNode?n.textNode:n.nodeBefore,d=n.textNode?n.textNode:n.nodeAfter;if(this.isGravityOverridden||(i=Qu(l,r)),i||(i=Qu(d,r)),!this.isGravityOverridden&&!i){let h=l;for(;h&&!i;)h=h.previousSibling,i=Qu(h,r)}if(!i){let h=d;for(;h&&!i;)h=h.nextSibling,i=Qu(h,r)}i||(i=this.getStoredAttributes())}else{const l=this.getFirstRange();for(const d of l){if(d.item.is("element")&&r.isObject(d.item)){i=Qu(d.item,r);break}if(d.type=="text"){i=d.item.getAttributes();break}}}return i}_fixGraveyardSelection(n){const r=this._model.schema.getNearestSelectionRange(n);r&&this._pushRange(r)}}function Qu(a,n){if(!a)return null;if(a instanceof si||a instanceof Ut)return a.getAttributes();if(!n.isInline(a))return null;if(!n.isObject(a))return[];const r=[];for(const[i,l]of a.getAttributes())n.checkAttribute("$text",i)&&n.getAttributeProperties(i).copyFromObject!==!1&&r.push([i,l]);return r}class BI{constructor(n){this._dispatchers=n}add(n){for(const r of this._dispatchers)n(r);return this}}class Oq extends BI{elementToElement(n){return this.add(function(r){const i=zI(r.model),l=Zu(r.view,"container");return i.attributes.length&&(i.children=!0),d=>{d.on(`insert:${i.name}`,Lq(l,UI(i)),{priority:r.converterPriority||"normal"}),(i.children||i.attributes.length)&&d.on("reduceChanges",VI(i),{priority:"low"})}}(n))}elementToStructure(n){return this.add(function(r){const i=zI(r.model),l=Zu(r.view,"container");return i.children=!0,d=>{if(d._conversionApi.schema.checkChild(i.name,"$text"))throw new M("conversion-element-to-structure-disallowed-text",d,{elementName:i.name});var h,f;d.on(`insert:${i.name}`,(h=l,f=UI(i),(k,b,w)=>{if(!f(b.item,w.consumable,{preflight:!0}))return;const A=new Map;w.writer._registerSlotFactory(function(O,L,F){return(W,Y)=>{const J=W.createContainerElement("$slot");let ce=null;if(Y==="children")ce=Array.from(O.getChildren());else{if(typeof Y!="function")throw new M("conversion-slot-mode-unknown",F.dispatcher,{modeOrFilter:Y});ce=Array.from(O.getChildren()).filter(we=>Y(we))}return L.set(J,ce),J}}(b.item,A,w));const E=h(b.item,w,b);if(w.writer._clearSlotFactory(),!E)return;(function(O,L,F){const W=Array.from(L.values()).flat(),Y=new Set(W);if(Y.size!=W.length)throw new M("conversion-slot-filter-overlap",F.dispatcher,{element:O});if(Y.size!=O.childCount)throw new M("conversion-slot-filter-incomplete",F.dispatcher,{element:O})})(b.item,A,w),f(b.item,w.consumable);const I=w.mapper.toViewPosition(b.range.start);w.mapper.bindElements(b.item,E),w.writer.insert(I,E),w.convertAttributes(b.item),function(O,L,F,W){F.mapper.on("modelToViewPosition",ce,{priority:"highest"});let Y=null,J=null;for([Y,J]of L)HI(O,J,F,W),F.writer.move(F.writer.createRangeIn(Y),F.writer.createPositionBefore(Y)),F.writer.remove(Y);function ce(we,Ve){const rt=Ve.modelPosition.nodeAfter,Gt=J.indexOf(rt);Gt<0||(Ve.viewPosition=Ve.mapper.findPositionIn(Y,Gt))}F.mapper.off("modelToViewPosition",ce)}(E,A,w,{reconversion:b.reconversion})}),{priority:r.converterPriority||"normal"}),d.on("reduceChanges",VI(i),{priority:"low"})}}(n))}attributeToElement(n){return this.add(function(r){r=ii(r);let i=r.model;typeof i=="string"&&(i={key:i});let l=`attribute:${i.key}`;if(i.name&&(l+=":"+i.name),i.values)for(const h of i.values)r.view[h]=Zu(r.view[h],"attribute");else r.view=Zu(r.view,"attribute");const d=FI(r);return h=>{h.on(l,Bq(d),{priority:r.converterPriority||"normal"})}}(n))}attributeToAttribute(n){return this.add(function(r){r=ii(r);let i=r.model;typeof i=="string"&&(i={key:i});let l=`attribute:${i.key}`;if(i.name&&(l+=":"+i.name),i.values)for(const h of i.values)r.view[h]=$I(r.view[h]);else r.view=$I(r.view);const d=FI(r);return h=>{var f;h.on(l,(f=d,(k,b,w)=>{if(!w.consumable.test(b.item,k.name))return;const A=f(b.attributeOldValue,w,b),E=f(b.attributeNewValue,w,b);if(!A&&!E)return;w.consumable.consume(b.item,k.name);const I=w.mapper.toViewElement(b.item),O=w.writer;if(!I)throw new M("conversion-attribute-to-attribute-on-text",w.dispatcher,b);if(b.attributeOldValue!==null&&A)if(A.key=="class"){const L=typeof A.value=="string"?A.value.split(/\s+/):A.value;for(const F of L)O.removeClass(F,I)}else if(A.key=="style")if(typeof A.value=="string"){const L=new Qw(O.document.stylesProcessor);L.setTo(A.value);for(const[F]of L.getStylesEntries())O.removeStyle(F,I)}else{const L=Object.keys(A.value);for(const F of L)O.removeStyle(F,I)}else O.removeAttribute(A.key,I);if(b.attributeNewValue!==null&&E)if(E.key=="class"){const L=typeof E.value=="string"?E.value.split(/\s+/):E.value;for(const F of L)O.addClass(F,I)}else if(E.key=="style")if(typeof E.value=="string"){const L=new Qw(O.document.stylesProcessor);L.setTo(E.value);for(const[F,W]of L.getStylesEntries())O.setStyle(F,W,I)}else{const L=Object.keys(E.value);for(const F of L)O.setStyle(F,E.value[F],I)}else O.setAttribute(E.key,E.value,I)}),{priority:r.converterPriority||"normal"})}}(n))}markerToElement(n){return this.add(function(r){const i=Zu(r.view,"ui");return l=>{l.on(`addMarker:${r.model}`,jq(i),{priority:r.converterPriority||"normal"}),l.on(`removeMarker:${r.model}`,(d,h,f)=>{const k=f.mapper.markerNameToElements(h.markerName);if(k){for(const b of k)f.mapper.unbindElementFromMarkerName(b,h.markerName),f.writer.clear(f.writer.createRangeOn(b),b);f.writer.clearClonedElementsGroup(h.markerName),d.stop()}},{priority:r.converterPriority||"normal"})}}(n))}markerToHighlight(n){return this.add(function(r){return i=>{var l;i.on(`addMarker:${r.model}`,(l=r.view,(d,h,f)=>{if(!h.item||!(h.item instanceof ir||h.item instanceof ai||h.item.is("$textProxy")))return;const k=fy(l,h,f);if(!k||!f.consumable.consume(h.item,d.name))return;const b=f.writer,w=LI(b,k),A=b.document.selection;if(h.item instanceof ir||h.item instanceof ai)b.wrap(A.getFirstRange(),w);else{const E=f.mapper.toViewRange(h.range),I=b.wrap(E,w);for(const O of I.getItems())if(O.is("attributeElement")&&O.isSimilar(w)){f.mapper.bindElementToMarker(O,h.markerName);break}}}),{priority:r.converterPriority||"normal"}),i.on(`addMarker:${r.model}`,function(d){return(h,f,k)=>{if(!f.item||!(f.item instanceof Ot))return;const b=fy(d,f,k);if(!b||!k.consumable.test(f.item,h.name))return;const w=k.mapper.toViewElement(f.item);if(w&&w.getCustomProperty("addHighlight")){k.consumable.consume(f.item,h.name);for(const A of re._createIn(f.item))k.consumable.consume(A.item,h.name);w.getCustomProperty("addHighlight")(w,b,k.writer),k.mapper.bindElementToMarker(w,f.markerName)}}}(r.view),{priority:r.converterPriority||"normal"}),i.on(`removeMarker:${r.model}`,function(d){return(h,f,k)=>{if(f.markerRange.isCollapsed)return;const b=fy(d,f,k);if(!b)return;const w=LI(k.writer,b),A=k.mapper.markerNameToElements(f.markerName);if(A){for(const E of A)k.mapper.unbindElementFromMarkerName(E,f.markerName),E.is("attributeElement")?k.writer.unwrap(k.writer.createRangeOn(E),w):E.getCustomProperty("removeHighlight")(E,b.id,k.writer);k.writer.clearClonedElementsGroup(f.markerName),h.stop()}}}(r.view),{priority:r.converterPriority||"normal"})}}(n))}markerToData(n){return this.add(function(r){r=ii(r);const i=r.model;let l=r.view;return l||(l=d=>({group:i,name:d.substr(r.model.length+1)})),d=>{var h;d.on(`addMarker:${i}`,(h=l,(f,k,b)=>{const w=h(k.markerName,b);if(!w)return;const A=k.markerRange;b.consumable.consume(A,f.name)&&(jI(A,!1,b,k,w),jI(A,!0,b,k,w),f.stop())}),{priority:r.converterPriority||"normal"}),d.on(`removeMarker:${i}`,function(f){return(k,b,w)=>{const A=f(b.markerName,w);if(!A)return;const E=w.mapper.markerNameToElements(b.markerName);if(E){for(const O of E)w.mapper.unbindElementFromMarkerName(O,b.markerName),O.is("containerElement")?(I(`data-${A.group}-start-before`,O),I(`data-${A.group}-start-after`,O),I(`data-${A.group}-end-before`,O),I(`data-${A.group}-end-after`,O)):w.writer.clear(w.writer.createRangeOn(O),O);w.writer.clearClonedElementsGroup(b.markerName),k.stop()}function I(O,L){if(L.hasAttribute(O)){const F=new Set(L.getAttribute(O).split(","));F.delete(A.name),F.size==0?w.writer.removeAttribute(O,L):w.writer.setAttribute(O,Array.from(F).join(","),L)}}}}(l),{priority:r.converterPriority||"normal"})}}(n))}}function LI(a,n){const r=a.createAttributeElement("span",n.attributes);return n.classes&&r._addClass(n.classes),typeof n.priority=="number"&&(r._priority=n.priority),r._id=n.id,r}function Bq(a){return(n,r,i)=>{if(!i.consumable.test(r.item,n.name))return;const l=a(r.attributeOldValue,i,r),d=a(r.attributeNewValue,i,r);if(!l&&!d)return;i.consumable.consume(r.item,n.name);const h=i.writer,f=h.document.selection;if(r.item instanceof ir||r.item instanceof ai)h.wrap(f.getFirstRange(),d);else{let k=i.mapper.toViewRange(r.range);r.attributeOldValue!==null&&l&&(k=h.unwrap(k,l)),r.attributeNewValue!==null&&d&&h.wrap(k,d)}}}function Lq(a,n=Fq){return(r,i,l)=>{if(!n(i.item,l.consumable,{preflight:!0}))return;const d=a(i.item,l,i);if(!d)return;n(i.item,l.consumable);const h=l.mapper.toViewPosition(i.range.start);l.mapper.bindElements(i.item,d),l.writer.insert(h,d),l.convertAttributes(i.item),HI(d,i.item.getChildren(),l,{reconversion:i.reconversion})}}function jq(a){return(n,r,i)=>{r.isOpening=!0;const l=a(r,i);r.isOpening=!1;const d=a(r,i);if(!l||!d)return;const h=r.markerRange;if(h.isCollapsed&&!i.consumable.consume(h,n.name))return;for(const b of h)if(!i.consumable.consume(b.item,n.name))return;const f=i.mapper,k=i.writer;k.insert(f.toViewPosition(h.start),l),i.mapper.bindElementToMarker(l,r.markerName),h.isCollapsed||(k.insert(f.toViewPosition(h.end),d),i.mapper.bindElementToMarker(d,r.markerName)),n.stop()}}function jI(a,n,r,i,l){const d=n?a.start:a.end,h=d.nodeAfter&&d.nodeAfter.is("element")?d.nodeAfter:null,f=d.nodeBefore&&d.nodeBefore.is("element")?d.nodeBefore:null;if(h||f){let k,b;n&&h||!n&&!f?(k=h,b=!0):(k=f,b=!1);const w=r.mapper.toViewElement(k);if(w)return void function(A,E,I,O,L,F){const W=`data-${F.group}-${E?"start":"end"}-${I?"before":"after"}`,Y=A.hasAttribute(W)?A.getAttribute(W).split(","):[];Y.unshift(F.name),O.writer.setAttribute(W,Y.join(","),A),O.mapper.bindElementToMarker(A,L.markerName)}(w,n,b,r,i,l)}(function(k,b,w,A,E){const I=`${E.group}-${b?"start":"end"}`,O=E.name?{name:E.name}:null,L=w.writer.createUIElement(I,O);w.writer.insert(k,L),w.mapper.bindElementToMarker(L,A.markerName)})(r.mapper.toViewPosition(d),n,r,i,l)}function zI(a){return typeof a=="string"&&(a={name:a}),{name:a.name,attributes:a.attributes?qt(a.attributes):[],children:!!a.children}}function Zu(a,n){return typeof a=="function"?a:(r,i)=>function(l,d,h){typeof l=="string"&&(l={name:l});let f;const k=d.writer,b=Object.assign({},l.attributes);if(h=="container")f=k.createContainerElement(l.name,b);else if(h=="attribute"){const w={priority:l.priority||nl.DEFAULT_PRIORITY};f=k.createAttributeElement(l.name,b,w)}else f=k.createUIElement(l.name,b);if(l.styles){const w=Object.keys(l.styles);for(const A of w)k.setStyle(A,l.styles[A],f)}if(l.classes){const w=l.classes;if(typeof w=="string")k.addClass(w,f);else for(const A of w)k.addClass(A,f)}return f}(a,i,n)}function FI(a){return a.model.values?(n,r,i)=>{const l=a.view[n];return l?l(n,r,i):null}:a.view}function $I(a){return typeof a=="string"?n=>({key:a,value:n}):typeof a=="object"?a.value?()=>a:n=>({key:a.key,value:n}):a}function fy(a,n,r){const i=typeof a=="function"?a(n,r):a;return i?(i.priority||(i.priority=10),i.id||(i.id=n.markerName),i):null}function VI(a){const n=function(r){return(i,l)=>{if(!i.is("element",r.name))return!1;if(l.type=="attribute"){if(r.attributes.includes(l.attributeKey))return!0}else if(r.children)return!0;return!1}}(a);return(r,i)=>{const l=[];i.reconvertedElements||(i.reconvertedElements=new Set);for(const d of i.changes){const h=d.type=="attribute"?d.range.start.nodeAfter:d.position.parent;if(h&&n(h,d)){if(!i.reconvertedElements.has(h)){i.reconvertedElements.add(h);const f=he._createBefore(h);let k=l.length;for(let b=l.length-1;b>=0;b--){const w=l[b],A=(w.type=="attribute"?w.range.start:w.position).compareWith(f);if(A=="before"||w.type=="remove"&&A=="same")break;k=b}l.splice(k,0,{type:"remove",name:h.name,position:f,length:1},{type:"reinsert",name:h.name,position:f,length:1})}}else l.push(d)}i.changes=l}}function UI(a){return(n,r,i={})=>{const l=["insert"];for(const d of a.attributes)n.hasAttribute(d)&&l.push(`attribute:${d}`);return!!l.every(d=>r.test(n,d))&&(i.preflight||l.forEach(d=>r.consume(n,d)),!0)}}function HI(a,n,r,i){for(const l of n)zq(a.root,l,r,i)||r.convertItem(l)}function zq(a,n,r,i){const{writer:l,mapper:d}=r;if(!i.reconversion)return!1;const h=d.toViewElement(n);return!(!h||h.root==a)&&!!r.canReuseView(h)&&(l.move(l.createRangeOn(h),d.toViewPosition(he._createBefore(n))),!0)}function Fq(a,n,{preflight:r}={}){return r?n.test(a,"insert"):n.consume(a,"insert")}function WI(a){const{schema:n,document:r}=a.model;for(const i of r.getRoots())if(i.isEmpty&&!n.checkChild(i,"$text")&&n.checkChild(i,"paragraph"))return a.insertElement("paragraph",i),!0;return!1}function qI(a,n,r){const i=r.createContext(a);return!!r.checkChild(i,"paragraph")&&!!r.checkChild(i.push("paragraph"),n)}function GI(a,n){const r=n.createElement("paragraph");return n.insert(r,a),n.createPositionAt(r,0)}var $q=Object.defineProperty,Vq=Object.defineProperties,Uq=Object.getOwnPropertyDescriptors,KI=Object.getOwnPropertySymbols,Hq=Object.prototype.hasOwnProperty,Wq=Object.prototype.propertyIsEnumerable,YI=(a,n,r)=>n in a?$q(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r;class qq extends BI{elementToElement(n){return this.add(QI(n))}elementToAttribute(n){return this.add(function(r){r=ii(r),ZI(r);const i=JI(r,!1),l=gy(r.view),d=l?`element:${l}`:"element";return h=>{h.on(d,i,{priority:r.converterPriority||"low"})}}(n))}attributeToAttribute(n){return this.add(function(r){r=ii(r);let i=null;(typeof r.view=="string"||r.view.key)&&(i=function(d){typeof d.view=="string"&&(d.view={key:d.view});const h=d.view.key,f=d.view.value===void 0?/[\s\S]*/:d.view.value;let k;return h=="class"||h=="style"?k={[h=="class"?"classes":"styles"]:f}:k={attributes:{[h]:f}},d.view.name&&(k.name=d.view.name),d.view=k,h}(r)),ZI(r,i);const l=JI(r,!0);return d=>{d.on("element",l,{priority:r.converterPriority||"low"})}}(n))}elementToMarker(n){return this.add(function(r){const i=function(h){return(f,k)=>{const b=typeof h=="string"?h:h(f,k);return k.writer.createElement("$marker",{"data-name":b})}}(r.model);return QI((l=((h,f)=>{for(var k in f||(f={}))Hq.call(f,k)&&YI(h,k,f[k]);if(KI)for(var k of KI(f))Wq.call(f,k)&&YI(h,k,f[k]);return h})({},r),d={model:i},Vq(l,Uq(d))));var l,d}(n))}dataToMarker(n){return this.add(function(r){r=ii(r),r.model||(r.model=h=>h?r.view+":"+h:r.view);const i={view:r.view,model:r.model},l=my(XI(i,"start")),d=my(XI(i,"end"));return h=>{h.on(`element:${r.view}-start`,l,{priority:r.converterPriority||"normal"}),h.on(`element:${r.view}-end`,d,{priority:r.converterPriority||"normal"});const f=j.low,k=j.highest,b=j.get(r.converterPriority)/k;h.on("element",function(w){return(A,E,I)=>{const O=`data-${w.view}`;function L(F,W){for(const Y of W){const J=w.model(Y,I),ce=I.writer.createElement("$marker",{"data-name":J});I.writer.insert(ce,F),E.modelCursor.isEqual(F)?E.modelCursor=E.modelCursor.getShiftedBy(1):E.modelCursor=E.modelCursor._getTransformedByInsertion(F,1),E.modelRange=E.modelRange._getTransformedByInsertion(F,1)[0]}}(I.consumable.test(E.viewItem,{attributes:O+"-end-after"})||I.consumable.test(E.viewItem,{attributes:O+"-start-after"})||I.consumable.test(E.viewItem,{attributes:O+"-end-before"})||I.consumable.test(E.viewItem,{attributes:O+"-start-before"}))&&(E.modelRange||Object.assign(E,I.convertChildren(E.viewItem,E.modelCursor)),I.consumable.consume(E.viewItem,{attributes:O+"-end-after"})&&L(E.modelRange.end,E.viewItem.getAttribute(O+"-end-after").split(",")),I.consumable.consume(E.viewItem,{attributes:O+"-start-after"})&&L(E.modelRange.end,E.viewItem.getAttribute(O+"-start-after").split(",")),I.consumable.consume(E.viewItem,{attributes:O+"-end-before"})&&L(E.modelRange.start,E.viewItem.getAttribute(O+"-end-before").split(",")),I.consumable.consume(E.viewItem,{attributes:O+"-start-before"})&&L(E.modelRange.start,E.viewItem.getAttribute(O+"-start-before").split(",")))}}(i),{priority:f+b})}}(n))}}function QI(a){const n=my(a=ii(a)),r=gy(a.view),i=r?`element:${r}`:"element";return l=>{l.on(i,n,{priority:a.converterPriority||"normal"})}}function gy(a){return typeof a=="string"?a:typeof a=="object"&&typeof a.name=="string"?a.name:null}function my(a){const n=new xi(a.view);return(r,i,l)=>{const d=n.match(i.viewItem);if(!d)return;const h=d.match;if(h.name=!0,!l.consumable.test(i.viewItem,h))return;const f=function(k,b,w){return k instanceof Function?k(b,w):w.writer.createElement(k)}(a.model,i.viewItem,l);f&&l.safeInsert(f,i.modelCursor)&&(l.consumable.consume(i.viewItem,h),l.convertChildren(i.viewItem,f),l.updateConversionResult(f,i))}}function ZI(a,n=null){const r=n===null||(d=>d.getAttribute(n)),i=typeof a.model!="object"?a.model:a.model.key,l=typeof a.model!="object"||a.model.value===void 0?r:a.model.value;a.model={key:i,value:l}}function JI(a,n){const r=new xi(a.view);return(i,l,d)=>{if(!l.modelRange&&n)return;const h=r.match(l.viewItem);if(!h||(function(w,A){const E=typeof w=="function"?w(A):w;return typeof E=="object"&&!gy(E)?!1:!E.classes&&!E.attributes&&!E.styles}(a.view,l.viewItem)?h.match.name=!0:delete h.match.name,!d.consumable.test(l.viewItem,h.match)))return;const f=a.model.key,k=typeof a.model.value=="function"?a.model.value(l.viewItem,d):a.model.value;if(k===null)return;l.modelRange||Object.assign(l,d.convertChildren(l.viewItem,l.modelCursor)),function(w,A,E,I){let O=!1;for(const L of Array.from(w.getItems({shallow:E})))I.schema.checkAttribute(L,A.key)&&(O=!0,L.hasAttribute(A.key)||I.writer.setAttribute(A.key,A.value,L));return O}(l.modelRange,{key:f,value:k},n,d)&&(d.consumable.test(l.viewItem,{name:!0})&&(h.match.name=!0),d.consumable.consume(l.viewItem,h.match))}}function XI(a,n){return{view:`${a.view}-${n}`,model:(r,i)=>{const l=r.getAttribute("name"),d=a.model(l,i);return i.writer.createElement("$marker",{"data-name":d})}}}function Gq(a){a.document.registerPostFixer(n=>function(r,i){const l=i.document.selection,d=i.schema,h=[];let f=!1;for(const k of l.getRanges()){const b=eD(k,d);b&&!b.isEqual(k)?(h.push(b),f=!0):h.push(k)}return f&&r.setSelection(function(k){const b=[...k],w=new Set;let A=1;for(;A<b.length;){const E=b[A],I=b.slice(0,A);for(const[O,L]of I.entries())if(!w.has(O)){if(E.isEqual(L))w.add(O);else if(E.isIntersecting(L)){w.add(O),w.add(A);const F=E.getJoined(L);b.push(F)}}A++}return b.filter((E,I)=>!w.has(I))}(h),{backward:l.isBackward}),!1}(n,a))}function eD(a,n){return a.isCollapsed?function(r,i){const l=r.start,d=i.getNearestSelectionRange(l);if(!d){const f=l.getAncestors().reverse().find(k=>i.isObject(k));return f?re._createOn(f):null}if(!d.isCollapsed)return d;const h=d.start;return l.isEqual(h)?null:new re(h)}(a,n):function(r,i){const{start:l,end:d}=r,h=i.checkChild(l,"$text"),f=i.checkChild(d,"$text"),k=i.getLimitElement(l),b=i.getLimitElement(d);if(k===b){if(h&&f)return null;if(function(E,I,O){const L=E.nodeAfter&&!O.isLimit(E.nodeAfter)||O.checkChild(E,"$text"),F=I.nodeBefore&&!O.isLimit(I.nodeBefore)||O.checkChild(I,"$text");return L||F}(l,d,i)){const E=l.nodeAfter&&i.isSelectable(l.nodeAfter)?null:i.getNearestSelectionRange(l,"forward"),I=d.nodeBefore&&i.isSelectable(d.nodeBefore)?null:i.getNearestSelectionRange(d,"backward"),O=E?E.start:l,L=I?I.end:d;return new re(O,L)}}const w=k&&!k.is("rootElement"),A=b&&!b.is("rootElement");if(w||A){const E=l.nodeAfter&&d.nodeBefore&&l.nodeAfter.parent===d.nodeBefore.parent,I=w&&(!E||!nD(l.nodeAfter,i)),O=A&&(!E||!nD(d.nodeBefore,i));let L=l,F=d;return I&&(L=he._createBefore(tD(k,i))),O&&(F=he._createAfter(tD(b,i))),new re(L,F)}return null}(a,n)}function tD(a,n){let r=a,i=r;for(;n.isLimit(i)&&i.parent;)r=i,i=i.parent;return r}function nD(a,n){return a&&n.isSelectable(a)}class Kq extends Q(){constructor(n,r){super(),this.model=n,this.view=new yq(r),this.mapper=new TI,this.downcastDispatcher=new PI({mapper:this.mapper,schema:n.schema});const i=this.model.document,l=i.selection,d=this.model.markers;var h,f,k;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(i,"change",()=>{this.view.change(b=>{this.downcastDispatcher.convertChanges(i.differ,d,b),this.downcastDispatcher.convertSelection(l,d,b)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(b,w){return(A,E)=>{const I=E.newSelection,O=[];for(const F of I.getRanges())O.push(w.toModelRange(F));const L=b.createSelection(O,{backward:I.isBackward});L.isEqual(b.document.selection)||b.change(F=>{F.setSelection(L)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(h=this.mapper,f=this.model.schema,k=this.view,(b,w)=>{if(!k.document.isComposing||_.isAndroid)for(let A=0;A<w.targetRanges.length;A++){const E=w.targetRanges[A],I=h.toModelRange(E),O=eD(I,f);O&&!O.isEqual(I)&&(w.targetRanges[A]=h.toViewRange(O))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(b,w,A)=>{if(!A.consumable.consume(w.item,b.name))return;const E=A.writer,I=A.mapper.toViewPosition(w.range.start),O=E.createText(w.item.data);E.insert(I,O)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(b,w,A)=>{A.convertAttributes(w.item),w.reconversion||!w.item.is("element")||w.item.isEmpty||A.convertChildren(w.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(b,w,A)=>{const E=A.mapper.toViewPosition(w.position),I=w.position.getShiftedBy(w.length),O=A.mapper.toViewPosition(I,{isPhantom:!0}),L=A.writer.createRange(E,O),F=A.writer.remove(L.getTrimmed());for(const W of A.writer.createRangeIn(F).getItems())A.mapper.unbindViewElement(W,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(b,w,A)=>{const E=A.writer,I=E.document.selection;for(const O of I.getRanges())O.isCollapsed&&O.end.parent.isAttached()&&A.writer.mergeAttributes(O.start);E.setSelection(null)}),this.downcastDispatcher.on("selection",(b,w,A)=>{const E=w.selection;if(E.isCollapsed||!A.consumable.consume(E,"selection"))return;const I=[];for(const O of E.getRanges())I.push(A.mapper.toViewRange(O));A.writer.setSelection(I,{backward:E.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(b,w,A)=>{const E=w.selection;if(!E.isCollapsed||!A.consumable.consume(E,"selection"))return;const I=A.writer,O=E.getFirstPosition(),L=A.mapper.toViewPosition(O),F=I.breakAttributes(L);I.setSelection(F)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(b=>{if(b.rootName=="$graveyard")return null;const w=new ZT(this.view.document,b.name);return w.rootName=b.rootName,this.mapper.bindElements(b,w),w})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(n){const r=typeof n=="string"?n:n.name,i=this.model.markers.get(r);if(!i)throw new M("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:r});this.model.change(()=>{this.model.markers._refresh(i)})}reconvertItem(n){this.model.change(()=>{this.model.document.differ._refreshItem(n)})}}class Ju{constructor(){this._consumables=new Map}add(n,r){let i;n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!0):(this._consumables.has(n)?i=this._consumables.get(n):(i=new Yq(n),this._consumables.set(n,i)),i.add(r))}test(n,r){const i=this._consumables.get(n);return i===void 0?null:n.is("$text")||n.is("documentFragment")?i:i.test(r)}consume(n,r){return!!this.test(n,r)&&(n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!1):this._consumables.get(n).consume(r),!0)}revert(n,r){const i=this._consumables.get(n);i!==void 0&&(n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!0):i.revert(r))}static consumablesFromElement(n){const r={element:n,name:!0,attributes:[],classes:[],styles:[]},i=n.getAttributeKeys();for(const h of i)h!="style"&&h!="class"&&r.attributes.push(h);const l=n.getClassNames();for(const h of l)r.classes.push(h);const d=n.getStyleNames();for(const h of d)r.styles.push(h);return r}static createFrom(n,r){if(r||(r=new Ju),n.is("$text"))return r.add(n),r;n.is("element")&&r.add(n,Ju.consumablesFromElement(n)),n.is("documentFragment")&&r.add(n);for(const i of n.getChildren())r=Ju.createFrom(i,r);return r}}const Yg=["attributes","classes","styles"];class Yq{constructor(n){this.element=n,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(n){n.name&&(this._canConsumeName=!0);for(const r of Yg)r in n&&this._add(r,n[r])}test(n){if(n.name&&!this._canConsumeName)return this._canConsumeName;for(const r of Yg)if(r in n){const i=this._test(r,n[r]);if(i!==!0)return i}return!0}consume(n){n.name&&(this._canConsumeName=!1);for(const r of Yg)r in n&&this._consume(r,n[r])}revert(n){n.name&&(this._canConsumeName=!0);for(const r of Yg)r in n&&this._revert(r,n[r])}_add(n,r){const i=qt(r),l=this._consumables[n];for(const d of i){if(n==="attributes"&&(d==="class"||d==="style"))throw new M("viewconsumable-invalid-attribute",this);if(l.set(d,!0),n==="styles")for(const h of this.element.document.stylesProcessor.getRelatedStyles(d))l.set(h,!0)}}_test(n,r){const i=qt(r),l=this._consumables[n];for(const d of i)if(n!=="attributes"||d!=="class"&&d!=="style"){const h=l.get(d);if(h===void 0)return null;if(!h)return!1}else{const h=d=="class"?"classes":"styles",f=this._test(h,[...this._consumables[h].keys()]);if(f!==!0)return f}return!0}_consume(n,r){const i=qt(r),l=this._consumables[n];for(const d of i)if(n!=="attributes"||d!=="class"&&d!=="style"){if(l.set(d,!1),n=="styles")for(const h of this.element.document.stylesProcessor.getRelatedStyles(d))l.set(h,!1)}else{const h=d=="class"?"classes":"styles";this._consume(h,[...this._consumables[h].keys()])}}_revert(n,r){const i=qt(r),l=this._consumables[n];for(const d of i)if(n!=="attributes"||d!=="class"&&d!=="style")l.get(d)===!1&&l.set(d,!0);else{const h=d=="class"?"classes":"styles";this._revert(h,[...this._consumables[h].keys()])}}}class Qq extends Q(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(n,r)=>{r[0]=new sl(r[0])},{priority:"highest"}),this.on("checkChild",(n,r)=>{r[0]=new sl(r[0]),r[1]=this.getDefinition(r[1])},{priority:"highest"})}register(n,r){if(this._sourceDefinitions[n])throw new M("schema-cannot-register-item-twice",this,{itemName:n});this._sourceDefinitions[n]=[Object.assign({},r)],this._clearCache()}extend(n,r){if(!this._sourceDefinitions[n])throw new M("schema-cannot-extend-missing-item",this,{itemName:n});this._sourceDefinitions[n].push(Object.assign({},r)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(n){let r;return r=typeof n=="string"?n:"is"in n&&(n.is("$text")||n.is("$textProxy"))?"$text":n.name,this.getDefinitions()[r]}isRegistered(n){return!!this.getDefinition(n)}isBlock(n){const r=this.getDefinition(n);return!(!r||!r.isBlock)}isLimit(n){const r=this.getDefinition(n);return!!r&&!(!r.isLimit&&!r.isObject)}isObject(n){const r=this.getDefinition(n);return!!r&&!!(r.isObject||r.isLimit&&r.isSelectable&&r.isContent)}isInline(n){const r=this.getDefinition(n);return!(!r||!r.isInline)}isSelectable(n){const r=this.getDefinition(n);return!!r&&!(!r.isSelectable&&!r.isObject)}isContent(n){const r=this.getDefinition(n);return!!r&&!(!r.isContent&&!r.isObject)}checkChild(n,r){return!!r&&this._checkContextMatch(r,n)}checkAttribute(n,r){const i=this.getDefinition(n.last);return!!i&&i.allowAttributes.includes(r)}checkMerge(n,r){if(n instanceof he){const i=n.nodeBefore,l=n.nodeAfter;if(!(i instanceof Ot))throw new M("schema-check-merge-no-element-before",this);if(!(l instanceof Ot))throw new M("schema-check-merge-no-element-after",this);return this.checkMerge(i,l)}for(const i of r.getChildren())if(!this.checkChild(n,i))return!1;return!0}addChildCheck(n){this.on("checkChild",(r,[i,l])=>{if(!l)return;const d=n(i,l);typeof d=="boolean"&&(r.stop(),r.return=d)},{priority:"high"})}addAttributeCheck(n){this.on("checkAttribute",(r,[i,l])=>{const d=n(i,l);typeof d=="boolean"&&(r.stop(),r.return=d)},{priority:"high"})}setAttributeProperties(n,r){this._attributeProperties[n]=Object.assign(this.getAttributeProperties(n),r)}getAttributeProperties(n){return this._attributeProperties[n]||{}}getLimitElement(n){let r;for(n instanceof he?r=n.parent:r=(n instanceof re?[n]:Array.from(n.getRanges())).reduce((i,l)=>{const d=l.getCommonAncestor();return i?i.getCommonAncestor(d,{includeSelf:!0}):d},null);!this.isLimit(r)&&r.parent;)r=r.parent;return r}checkAttributeInSelection(n,r){if(n.isCollapsed){const i=[...n.getFirstPosition().getAncestors(),new Ut("",n.getAttributes())];return this.checkAttribute(i,r)}{const i=n.getRanges();for(const l of i)for(const d of l)if(this.checkAttribute(d.item,r))return!0}return!1}*getValidRanges(n,r){n=function*(i){for(const l of i)yield*l.getMinimalFlatRanges()}(n);for(const i of n)yield*this._getValidRangesForRange(i,r)}getNearestSelectionRange(n,r="both"){if(n.root.rootName=="$graveyard")return null;if(this.checkChild(n,"$text"))return new re(n);let i,l;const d=n.getAncestors().reverse().find(h=>this.isLimit(h))||n.root;r!="both"&&r!="backward"||(i=new es({boundaries:re._createIn(d),startPosition:n,direction:"backward"})),r!="both"&&r!="forward"||(l=new es({boundaries:re._createIn(d),startPosition:n}));for(const h of function*(f,k){let b=!1;for(;!b;){if(b=!0,f){const w=f.next();w.done||(b=!1,yield{walker:f,value:w.value})}if(k){const w=k.next();w.done||(b=!1,yield{walker:k,value:w.value})}}}(i,l)){const f=h.walker==i?"elementEnd":"elementStart",k=h.value;if(k.type==f&&this.isObject(k.item))return re._createOn(k.item);if(this.checkChild(k.nextPosition,"$text"))return new re(k.nextPosition)}return null}findAllowedParent(n,r){let i=n.parent;for(;i;){if(this.checkChild(i,r))return i;if(this.isLimit(i))return null;i=i.parent}return null}setAllowedAttributes(n,r,i){const l=i.model;for(const[d,h]of Object.entries(r))l.schema.checkAttribute(n,d)&&i.setAttribute(d,h,n)}removeDisallowedAttributes(n,r){for(const i of n)if(i.is("$text"))oD(this,i,r);else{const l=re._createIn(i).getPositions();for(const d of l)oD(this,d.nodeBefore||d.parent,r)}}getAttributesWithProperty(n,r,i){const l={};for(const[d,h]of n.getAttributes()){const f=this.getAttributeProperties(d);f[r]!==void 0&&(i!==void 0&&i!==f[r]||(l[d]=h))}return l}createContext(n){return new sl(n)}_clearCache(){this._compiledDefinitions=null}_compile(){const n={},r=this._sourceDefinitions,i=Object.keys(r);for(const l of i)n[l]=Zq(r[l],l);for(const l of i)Jq(n,l);for(const l of i)Xq(n,l);for(const l of i)eG(n,l);for(const l of i)tG(n,l),nG(n,l);for(const l of i)oG(n,l),rG(n,l),iG(n,l);this._compiledDefinitions=n}_checkContextMatch(n,r,i=r.length-1){const l=r.getItem(i);if(n.allowIn.includes(l.name)){if(i==0)return!0;{const d=this.getDefinition(l);return this._checkContextMatch(d,r,i-1)}}return!1}*_getValidRangesForRange(n,r){let i=n.start,l=n.start;for(const d of n.getItems({shallow:!0}))d.is("element")&&(yield*this._getValidRangesForRange(re._createIn(d),r)),this.checkAttribute(d,r)||(i.isEqual(l)||(yield new re(i,l)),i=he._createAfter(d)),l=he._createAfter(d);i.isEqual(l)||(yield new re(i,l))}findOptimalInsertionRange(n,r){const i=n.getSelectedElement();if(i&&this.isObject(i)&&!this.isInline(i))return r=="before"||r=="after"?new re(he._createAt(i,r)):re._createOn(i);const l=qn(n.getSelectedBlocks());if(!l)return new re(n.focus);if(l.isEmpty)return new re(he._createAt(l,0));const d=he._createAfter(l);return n.focus.isTouching(d)?new re(d):new re(he._createBefore(l))}}class sl{constructor(n){if(n instanceof sl)return n;let r;r=typeof n=="string"?[n]:Array.isArray(n)?n:n.getAncestors({includeSelf:!0}),this._items=r.map(aG)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(n){const r=new sl([n]);return r._items=[...this._items,...r._items],r}getItem(n){return this._items[n]}*getNames(){yield*this._items.map(n=>n.name)}endsWith(n){return Array.from(this.getNames()).join(" ").endsWith(n)}startsWith(n){return Array.from(this.getNames()).join(" ").startsWith(n)}}function Zq(a,n){const r={name:n,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(i,l){for(const d of i){const h=Object.keys(d).filter(f=>f.startsWith("is"));for(const f of h)l[f]=!!d[f]}}(a,r),al(a,r,"allowIn"),al(a,r,"allowContentOf"),al(a,r,"allowWhere"),al(a,r,"allowAttributes"),al(a,r,"allowAttributesOf"),al(a,r,"allowChildren"),al(a,r,"inheritTypesFrom"),function(i,l){for(const d of i){const h=d.inheritAllFrom;h&&(l.allowContentOf.push(h),l.allowWhere.push(h),l.allowAttributesOf.push(h),l.inheritTypesFrom.push(h))}}(a,r),r}function Jq(a,n){const r=a[n];for(const i of r.allowChildren){const l=a[i];l&&l.allowIn.push(n)}r.allowChildren.length=0}function Xq(a,n){for(const r of a[n].allowContentOf)a[r]&&sG(a,r).forEach(i=>{i.allowIn.push(n)});delete a[n].allowContentOf}function eG(a,n){for(const r of a[n].allowWhere){const i=a[r];if(i){const l=i.allowIn;a[n].allowIn.push(...l)}}delete a[n].allowWhere}function tG(a,n){for(const r of a[n].allowAttributesOf){const i=a[r];if(i){const l=i.allowAttributes;a[n].allowAttributes.push(...l)}}delete a[n].allowAttributesOf}function nG(a,n){const r=a[n];for(const i of r.inheritTypesFrom){const l=a[i];if(l){const d=Object.keys(l).filter(h=>h.startsWith("is"));for(const h of d)h in r||(r[h]=l[h])}}delete r.inheritTypesFrom}function oG(a,n){const r=a[n],i=r.allowIn.filter(l=>a[l]);r.allowIn=Array.from(new Set(i))}function rG(a,n){const r=a[n];for(const i of r.allowIn)a[i].allowChildren.push(n)}function iG(a,n){const r=a[n];r.allowAttributes=Array.from(new Set(r.allowAttributes))}function al(a,n,r){for(const i of a){const l=i[r];typeof l=="string"?n[r].push(l):Array.isArray(l)&&n[r].push(...l)}}function sG(a,n){const r=a[n];return(i=a,Object.keys(i).map(l=>i[l])).filter(l=>l.allowIn.includes(r.name));var i}function aG(a){return typeof a=="string"||a.is("documentFragment")?{name:typeof a=="string"?a:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:a.is("element")?a.name:"$text",*getAttributeKeys(){yield*a.getAttributeKeys()},getAttribute:n=>a.getAttribute(n)}}function oD(a,n,r){for(const i of n.getAttributeKeys())a.checkAttribute(n,i)||r.removeAttribute(i,n)}var lG=Object.defineProperty,cG=Object.defineProperties,dG=Object.getOwnPropertyDescriptors,rD=Object.getOwnPropertySymbols,uG=Object.prototype.hasOwnProperty,hG=Object.prototype.propertyIsEnumerable,iD=(a,n,r)=>n in a?lG(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r;class pG extends q(){constructor(n){var r;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(r=((i,l)=>{for(var d in l||(l={}))uG.call(l,d)&&iD(i,d,l[d]);if(rD)for(var d of rD(l))hG.call(l,d)&&iD(i,d,l[d]);return i})({},n),cG(r,dG({consumable:null,writer:null,store:null,convertItem:(i,l)=>this._convertItem(i,l),convertChildren:(i,l)=>this._convertChildren(i,l),safeInsert:(i,l)=>this._safeInsert(i,l),updateConversionResult:(i,l)=>this._updateConversionResult(i,l),splitToAllowedParent:(i,l)=>this._splitToAllowedParent(i,l),getSplitParts:i=>this._getSplitParts(i),keepEmptyElement:i=>this._keepEmptyElement(i)})))}convert(n,r,i=["$root"]){this.fire("viewCleanup",n),this._modelCursor=function(h,f){let k;for(const b of new sl(h)){const w={};for(const E of b.getAttributeKeys())w[E]=b.getAttribute(E);const A=f.createElement(b.name,w);k&&f.insert(A,k),k=he._createAt(A,0)}return k}(i,r),this.conversionApi.writer=r,this.conversionApi.consumable=Ju.createFrom(n),this.conversionApi.store={};const{modelRange:l}=this._convertItem(n,this._modelCursor),d=r.createDocumentFragment();if(l){this._removeEmptyElements();for(const h of Array.from(this._modelCursor.parent.getChildren()))r.append(h,d);d.markers=function(h,f){const k=new Set,b=new Map,w=re._createIn(h).getItems();for(const A of w)A.is("element","$marker")&&k.add(A);for(const A of k){const E=A.getAttribute("data-name"),I=f.createPositionBefore(A);b.has(E)?b.get(E).end=I.clone():b.set(E,new re(I.clone())),f.remove(A)}return b}(d,r)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,d}_convertItem(n,r){const i={viewItem:n,modelCursor:r,modelRange:null};if(n.is("element")?this.fire(`element:${n.name}`,i,this.conversionApi):n.is("$text")?this.fire("text",i,this.conversionApi):this.fire("documentFragment",i,this.conversionApi),i.modelRange&&!(i.modelRange instanceof re))throw new M("view-conversion-dispatcher-incorrect-result",this);return{modelRange:i.modelRange,modelCursor:i.modelCursor}}_convertChildren(n,r){let i=r.is("position")?r:he._createAt(r,0);const l=new re(i);for(const d of Array.from(n.getChildren())){const h=this._convertItem(d,i);h.modelRange instanceof re&&(l.end=h.modelRange.end,i=h.modelCursor)}return{modelRange:l,modelCursor:i}}_safeInsert(n,r){const i=this._splitToAllowedParent(n,r);return!!i&&(this.conversionApi.writer.insert(n,i.position),!0)}_updateConversionResult(n,r){const i=this._getSplitParts(n),l=this.conversionApi.writer;r.modelRange||(r.modelRange=l.createRange(l.createPositionBefore(n),l.createPositionAfter(i[i.length-1])));const d=this._cursorParents.get(n);r.modelCursor=d?l.createPositionAt(d,0):r.modelRange.end}_splitToAllowedParent(n,r){const{schema:i,writer:l}=this.conversionApi;let d=i.findAllowedParent(r,n);if(d){if(d===r.parent)return{position:r};this._modelCursor.parent.getAncestors().includes(d)&&(d=null)}if(!d)return qI(r,n,i)?{position:GI(r,l)}:null;const h=this.conversionApi.writer.split(r,d),f=[];for(const b of h.range.getWalker())if(b.type=="elementEnd")f.push(b.item);else{const w=f.pop(),A=b.item;this._registerSplitPair(w,A)}const k=h.range.end.parent;return this._cursorParents.set(n,k),{position:h.position,cursorParent:k}}_registerSplitPair(n,r){this._splitParts.has(n)||this._splitParts.set(n,[n]);const i=this._splitParts.get(n);this._splitParts.set(r,i),i.push(r)}_getSplitParts(n){let r;return r=this._splitParts.has(n)?this._splitParts.get(n):[n],r}_keepEmptyElement(n){this._emptyElementsToKeep.add(n)}_removeEmptyElements(){let n=!1;for(const r of this._splitParts.keys())r.isEmpty&&!this._emptyElementsToKeep.has(r)&&(this.conversionApi.writer.remove(r),this._splitParts.delete(r),n=!0);n&&this._removeEmptyElements()}}class fG{getHtml(n){const r=m.document.implementation.createHTMLDocument("").createElement("div");return r.appendChild(n),r.innerHTML}}class gG{constructor(n){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Vg(n,{renderingMode:"data"}),this.htmlWriter=new fG}toData(n){const r=this.domConverter.viewToDom(n);return this.htmlWriter.getHtml(r)}toView(n){const r=this._toDom(n);return this.domConverter.domToView(r,{skipComments:this.skipComments})}registerRawContentMatcher(n){this.domConverter.registerRawContentMatcher(n)}useFillerType(n){this.domConverter.blockFillerMode=n=="marked"?"markedNbsp":"nbsp"}_toDom(n){n.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(n=`<body>${n}</body>`);const r=this.domParser.parseFromString(n,"text/html"),i=r.createDocumentFragment(),l=r.body.childNodes;for(;l.length>0;)i.appendChild(l[0]);return i}}class mG extends q(){constructor(n,r){super(),this.model=n,this.mapper=new TI,this.downcastDispatcher=new PI({mapper:this.mapper,schema:n.schema}),this.downcastDispatcher.on("insert:$text",(i,l,d)=>{if(!d.consumable.consume(l.item,i.name))return;const h=d.writer,f=d.mapper.toViewPosition(l.range.start),k=h.createText(l.item.data);h.insert(f,k)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(i,l,d)=>{d.convertAttributes(l.item),l.reconversion||!l.item.is("element")||l.item.isEmpty||d.convertChildren(l.item)},{priority:"lowest"}),this.upcastDispatcher=new pG({schema:n.schema}),this.viewDocument=new zg(r),this.stylesProcessor=r,this.htmlProcessor=new gG(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new XT(this.viewDocument),this.upcastDispatcher.on("text",(i,l,{schema:d,consumable:h,writer:f})=>{let k=l.modelCursor;if(!h.test(l.viewItem))return;if(!d.checkChild(k,"$text")){if(!qI(k,"$text",d)||l.viewItem.data.trim().length==0)return;const w=k.nodeBefore;k=GI(k,f),w&&w.is("element","$marker")&&(f.move(f.createRangeOn(w),k),k=f.createPositionAfter(w))}h.consume(l.viewItem);const b=f.createText(l.viewItem.data);f.insert(b,k),l.modelRange=f.createRange(k,k.getShiftedBy(b.offsetSize)),l.modelCursor=l.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(i,l,d)=>{if(!l.modelRange&&d.consumable.consume(l.viewItem,{name:!0})){const{modelRange:h,modelCursor:f}=d.convertChildren(l.viewItem,l.modelCursor);l.modelRange=h,l.modelCursor=f}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(i,l,d)=>{if(!l.modelRange&&d.consumable.consume(l.viewItem,{name:!0})){const{modelRange:h,modelCursor:f}=d.convertChildren(l.viewItem,l.modelCursor);l.modelRange=h,l.modelCursor=f}},{priority:"lowest"}),Q().prototype.decorate.call(this,"init"),Q().prototype.decorate.call(this,"set"),Q().prototype.decorate.call(this,"get"),Q().prototype.decorate.call(this,"toView"),Q().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},WI)},{priority:"lowest"})}get(n={}){const{rootName:r="main",trim:i="empty"}=n;if(!this._checkIfRootsExists([r]))throw new M("datacontroller-get-non-existent-root",this);const l=this.model.document.getRoot(r);return l.isAttached()||U("datacontroller-get-detached-root",this),i!=="empty"||this.model.hasContent(l,{ignoreWhitespaces:!0})?this.stringify(l,n):""}stringify(n,r={}){const i=this.toView(n,r);return this.processor.toData(i)}toView(n,r={}){const i=this.viewDocument,l=this._viewWriter;this.mapper.clearBindings();const d=re._createIn(n),h=new ol(i);this.mapper.bindElements(n,h);const f=n.is("documentFragment")?n.markers:function(k){const b=[],w=k.root.document;if(!w)return new Map;const A=re._createIn(k);for(const E of w.model.markers){const I=E.getRange(),O=I.isCollapsed,L=I.start.isEqual(A.start)||I.end.isEqual(A.end);if(O&&L)b.push([E.name,I]);else{const F=A.getIntersection(I);F&&b.push([E.name,F])}}return b.sort(([E,I],[O,L])=>{if(I.end.compareWith(L.start)!=="after")return 1;if(I.start.compareWith(L.end)!=="before")return-1;switch(I.start.compareWith(L.start)){case"before":return 1;case"after":return-1;default:switch(I.end.compareWith(L.end)){case"before":return 1;case"after":return-1;default:return O.localeCompare(E)}}}),new Map(b)}(n);return this.downcastDispatcher.convert(d,f,l,r),h}init(n){if(this.model.document.version)throw new M("datacontroller-init-document-not-empty",this);let r={};if(typeof n=="string"?r.main=n:r=n,!this._checkIfRootsExists(Object.keys(r)))throw new M("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},i=>{for(const l of Object.keys(r)){const d=this.model.document.getRoot(l);i.insert(this.parse(r[l],d),d,0)}}),Promise.resolve()}set(n,r={}){let i={};if(typeof n=="string"?i.main=n:i=n,!this._checkIfRootsExists(Object.keys(i)))throw new M("datacontroller-set-non-existent-root",this);this.model.enqueueChange(r.batchType||{},l=>{l.setSelection(null),l.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const d of Object.keys(i)){const h=this.model.document.getRoot(d);l.remove(l.createRangeIn(h)),l.insert(this.parse(i[d],h),h,0)}})}parse(n,r="$root"){const i=this.processor.toView(n);return this.toModel(i,r)}toModel(n,r="$root"){return this.model.change(i=>this.upcastDispatcher.convert(n,i,r))}addStyleProcessorRules(n){n(this.stylesProcessor)}registerRawContentMatcher(n){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(n),this.htmlProcessor.registerRawContentMatcher(n)}destroy(){this.stopListening()}_checkIfRootsExists(n){for(const r of n)if(!this.model.document.getRoot(r))return!1;return!0}}class kG{constructor(n,r){this._helpers=new Map,this._downcast=qt(n),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=qt(r),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(n,r){const i=this._downcast.includes(r);if(!this._upcast.includes(r)&&!i)throw new M("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:n,dispatchers:[r],isDowncast:i})}for(n){if(!this._helpers.has(n))throw new M("conversion-for-unknown-group",this);return this._helpers.get(n)}elementToElement(n){this.for("downcast").elementToElement(n);for(const{model:r,view:i}of ky(n))this.for("upcast").elementToElement({model:r,view:i,converterPriority:n.converterPriority})}attributeToElement(n){this.for("downcast").attributeToElement(n);for(const{model:r,view:i}of ky(n))this.for("upcast").elementToAttribute({view:i,model:r,converterPriority:n.converterPriority})}attributeToAttribute(n){this.for("downcast").attributeToAttribute(n);for(const{model:r,view:i}of ky(n))this.for("upcast").attributeToAttribute({view:i,model:r})}_createConversionHelpers({name:n,dispatchers:r,isDowncast:i}){if(this._helpers.has(n))throw new M("conversion-group-exists",this);const l=i?new Oq(r):new qq(r);this._helpers.set(n,l)}}function*ky(a){if(a.model.values)for(const n of a.model.values){const r={key:a.model.key,value:n},i=a.view[n],l=a.upcastAlso?a.upcastAlso[n]:void 0;yield*sD(r,i,l)}else yield*sD(a.model,a.view,a.upcastAlso)}function*sD(a,n,r){if(yield{model:a,view:n},r)for(const i of qt(r))yield{model:a,view:i}}class ar{constructor(n){this.baseVersion=n,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const n=Object.assign({},this);return n.__className=this.constructor.className,delete n.batch,delete n.isDocumentOperation,n}static get className(){return"Operation"}static fromJSON(n,r){return new this(n.baseVersion)}}function by(a,n){const r=lD(n),i=r.reduce((h,f)=>h+f.offsetSize,0),l=a.parent;th(a);const d=a.index;return l._insertChild(d,r),eh(l,d+r.length),eh(l,d),new re(a,a.getShiftedBy(i))}function aD(a){if(!a.isFlat)throw new M("operation-utils-remove-range-not-flat",this);const n=a.start.parent;th(a.start),th(a.end);const r=n._removeChildren(a.start.index,a.end.index-a.start.index);return eh(n,a.start.index),r}function Xu(a,n){if(!a.isFlat)throw new M("operation-utils-move-range-not-flat",this);const r=aD(a);return by(n=n._getTransformedByDeletion(a.start,a.end.offset-a.start.offset),r)}function lD(a){const n=[];(function r(i){if(typeof i=="string")n.push(new Ut(i));else if(i instanceof si)n.push(new Ut(i.data,i.getAttributes()));else if(i instanceof rl)n.push(i);else if(et(i))for(const l of i)r(l)})(a);for(let r=1;r<n.length;r++){const i=n[r],l=n[r-1];i instanceof Ut&&l instanceof Ut&&cD(i,l)&&(n.splice(r-1,2,new Ut(l.data+i.data,l.getAttributes())),r--)}return n}function eh(a,n){const r=a.getChild(n-1),i=a.getChild(n);if(r&&i&&r.is("$text")&&i.is("$text")&&cD(r,i)){const l=new Ut(r.data+i.data,r.getAttributes());a._removeChildren(n-1,2),a._insertChild(n-1,l)}}function th(a){const n=a.textNode,r=a.parent;if(n){const i=a.offset-n.startOffset,l=n.index;r._removeChildren(l,1);const d=new Ut(n.data.substr(0,i),n.getAttributes()),h=new Ut(n.data.substr(i),n.getAttributes());r._insertChild(l,[d,h])}}function cD(a,n){const r=a.getAttributes(),i=n.getAttributes();for(const l of r){if(l[1]!==n.getAttribute(l[0]))return!1;i.next()}return i.next().done}class Ct extends ar{constructor(n,r,i,l){super(l),this.sourcePosition=n.clone(),this.sourcePosition.stickiness="toNext",this.howMany=r,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[re._createFromPositionAndShift(this.sourcePosition,this.howMany),re._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Ct(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const n=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Ct(this.getMovedRangeStart(),this.howMany,n,this.baseVersion+1)}_validate(){const n=this.sourcePosition.parent,r=this.targetPosition.parent,i=this.sourcePosition.offset,l=this.targetPosition.offset;if(i+this.howMany>n.maxOffset)throw new M("move-operation-nodes-do-not-exist",this);if(n===r&&i<l&&l<i+this.howMany)throw new M("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Oe(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const d=this.sourcePosition.path.length-1;if(this.targetPosition.path[d]>=i&&this.targetPosition.path[d]<i+this.howMany)throw new M("move-operation-node-into-itself",this)}}_execute(){Xu(re._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const n=super.toJSON();return n.sourcePosition=this.sourcePosition.toJSON(),n.targetPosition=this.targetPosition.toJSON(),n}static get className(){return"MoveOperation"}static fromJSON(n,r){const i=he.fromJSON(n.sourcePosition,r),l=he.fromJSON(n.targetPosition,r);return new this(i,n.howMany,l,n.baseVersion)}}class Kn extends ar{constructor(n,r,i){super(i),this.position=n.clone(),this.position.stickiness="toNone",this.nodes=new Ku(lD(r)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const n=new Ku([...this.nodes].map(i=>i._clone(!0))),r=new Kn(this.position,n,this.baseVersion);return r.shouldReceiveAttributes=this.shouldReceiveAttributes,r}getReversed(){const n=this.position.root.document.graveyard,r=new he(n,[0]);return new Ct(this.position,this.nodes.maxOffset,r,this.baseVersion+1)}_validate(){const n=this.position.parent;if(!n||n.maxOffset<this.position.offset)throw new M("insert-operation-position-invalid",this)}_execute(){const n=this.nodes;this.nodes=new Ku([...n].map(r=>r._clone(!0))),by(this.position,n)}toJSON(){const n=super.toJSON();return n.position=this.position.toJSON(),n.nodes=this.nodes.toJSON(),n}static get className(){return"InsertOperation"}static fromJSON(n,r){const i=[];for(const d of n.nodes)d.name?i.push(Ot.fromJSON(d)):i.push(Ut.fromJSON(d));const l=new Kn(he.fromJSON(n.position,r),i,n.baseVersion);return l.shouldReceiveAttributes=n.shouldReceiveAttributes,l}}class Ht extends ar{constructor(n,r,i,l,d){super(d),this.splitPosition=n.clone(),this.splitPosition.stickiness="toNext",this.howMany=r,this.insertionPosition=i,this.graveyardPosition=l?l.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const n=this.insertionPosition.path.slice();return n.push(0),new he(this.insertionPosition.root,n)}get movedRange(){const n=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new re(this.splitPosition,n)}get affectedSelectable(){const n=[re._createFromPositionAndShift(this.splitPosition,0),re._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&n.push(re._createFromPositionAndShift(this.graveyardPosition,0)),n}clone(){return new Ht(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const n=this.splitPosition.root.document.graveyard,r=new he(n,[0]);return new kn(this.moveTargetPosition,this.howMany,this.splitPosition,r,this.baseVersion+1)}_validate(){const n=this.splitPosition.parent,r=this.splitPosition.offset;if(!n||n.maxOffset<r)throw new M("split-operation-position-invalid",this);if(!n.parent)throw new M("split-operation-split-in-root",this);if(this.howMany!=n.maxOffset-this.splitPosition.offset)throw new M("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new M("split-operation-graveyard-position-invalid",this)}_execute(){const n=this.splitPosition.parent;if(this.graveyardPosition)Xu(re._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const r=n._clone();by(this.insertionPosition,r)}Xu(new re(he._createAt(n,this.splitPosition.offset),he._createAt(n,n.maxOffset)),this.moveTargetPosition)}toJSON(){const n=super.toJSON();return n.splitPosition=this.splitPosition.toJSON(),n.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(n.graveyardPosition=this.graveyardPosition.toJSON()),n}static get className(){return"SplitOperation"}static getInsertionPosition(n){const r=n.path.slice(0,-1);return r[r.length-1]++,new he(n.root,r,"toPrevious")}static fromJSON(n,r){const i=he.fromJSON(n.splitPosition,r),l=he.fromJSON(n.insertionPosition,r),d=n.graveyardPosition?he.fromJSON(n.graveyardPosition,r):null;return new this(i,n.howMany,l,d,n.baseVersion)}}class kn extends ar{constructor(n,r,i,l,d){super(d),this.sourcePosition=n.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=r,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=l.clone()}get type(){return"merge"}get deletionPosition(){return new he(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const n=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new re(this.sourcePosition,n)}get affectedSelectable(){const n=this.sourcePosition.parent;return[re._createOn(n),re._createFromPositionAndShift(this.targetPosition,0),re._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new kn(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const n=this.targetPosition._getTransformedByMergeOperation(this),r=this.sourcePosition.path.slice(0,-1),i=new he(this.sourcePosition.root,r)._getTransformedByMergeOperation(this);return new Ht(n,this.howMany,i,this.graveyardPosition,this.baseVersion+1)}_validate(){const n=this.sourcePosition.parent,r=this.targetPosition.parent;if(!n.parent)throw new M("merge-operation-source-position-invalid",this);if(!r.parent)throw new M("merge-operation-target-position-invalid",this);if(this.howMany!=n.maxOffset)throw new M("merge-operation-how-many-invalid",this)}_execute(){const n=this.sourcePosition.parent;Xu(re._createIn(n),this.targetPosition),Xu(re._createOn(n),this.graveyardPosition)}toJSON(){const n=super.toJSON();return n.sourcePosition=n.sourcePosition.toJSON(),n.targetPosition=n.targetPosition.toJSON(),n.graveyardPosition=n.graveyardPosition.toJSON(),n}static get className(){return"MergeOperation"}static fromJSON(n,r){const i=he.fromJSON(n.sourcePosition,r),l=he.fromJSON(n.targetPosition,r),d=he.fromJSON(n.graveyardPosition,r);return new this(i,n.howMany,l,d,n.baseVersion)}}class jo extends ar{constructor(n,r,i,l,d,h){super(h),this.name=n,this.oldRange=r?r.clone():null,this.newRange=i?i.clone():null,this.affectsData=d,this._markers=l}get type(){return"marker"}get affectedSelectable(){const n=[];return this.oldRange&&n.push(this.oldRange.clone()),this.newRange&&(this.oldRange?n.push(...this.newRange.getDifference(this.oldRange)):n.push(this.newRange.clone())),n}clone(){return new jo(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new jo(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const n=super.toJSON();return this.oldRange&&(n.oldRange=this.oldRange.toJSON()),this.newRange&&(n.newRange=this.newRange.toJSON()),delete n._markers,n}static get className(){return"MarkerOperation"}static fromJSON(n,r){return new jo(n.name,n.oldRange?re.fromJSON(n.oldRange,r):null,n.newRange?re.fromJSON(n.newRange,r):null,r.model.markers,n.affectsData,n.baseVersion)}}const dD=function(a,n){return Wg(a,n)};class En extends ar{constructor(n,r,i,l,d){super(d),this.range=n.clone(),this.key=r,this.oldValue=i===void 0?null:i,this.newValue=l===void 0?null:l}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new En(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new En(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const n=super.toJSON();return n.range=this.range.toJSON(),n}_validate(){if(!this.range.isFlat)throw new M("attribute-operation-range-not-flat",this);for(const n of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!dD(n.getAttribute(this.key),this.oldValue))throw new M("attribute-operation-wrong-old-value",this,{item:n,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&n.hasAttribute(this.key))throw new M("attribute-operation-attribute-exists",this,{node:n,key:this.key})}}_execute(){dD(this.oldValue,this.newValue)||function(n,r,i){th(n.start),th(n.end);for(const l of n.getItems({shallow:!0})){const d=l.is("$textProxy")?l.textNode:l;i!==null?d._setAttribute(r,i):d._removeAttribute(r),eh(d.parent,d.index)}eh(n.end.parent,n.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(n,r){return new En(re.fromJSON(n.range,r),n.key,n.oldValue,n.newValue,n.baseVersion)}}class jn extends ar{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new jn(this.baseVersion)}getReversed(){return new jn(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class zo extends ar{constructor(n,r,i,l){super(l),this.position=n,this.position.stickiness="toNext",this.oldName=r,this.newName=i}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new zo(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new zo(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const n=this.position.nodeAfter;if(!(n instanceof Ot))throw new M("rename-operation-wrong-position",this);if(n.name!==this.oldName)throw new M("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const n=super.toJSON();return n.position=this.position.toJSON(),n}static get className(){return"RenameOperation"}static fromJSON(n,r){return new zo(he.fromJSON(n.position,r),n.oldName,n.newName,n.baseVersion)}}class ts extends ar{constructor(n,r,i,l,d){super(d),this.root=n,this.key=r,this.oldValue=i===void 0?null:i,this.newValue=l===void 0?null:l}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new ts(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new ts(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new M("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new M("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new M("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const n=super.toJSON();return n.root=this.root.toJSON(),n}static get className(){return"RootAttributeOperation"}static fromJSON(n,r){if(!r.getRoot(n.root))throw new M("rootattribute-operation-fromjson-no-root",this,{rootName:n.root});return new ts(r.getRoot(n.root),n.key,n.oldValue,n.newValue,n.baseVersion)}}class Si extends ar{constructor(n,r,i,l,d){super(d),this.rootName=n,this.elementName=r,this.isAdd=i,this._document=l,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Si(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Si(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const n=super.toJSON();return delete n._document,n}static get className(){return"RootOperation"}static fromJSON(n,r){return new Si(n.rootName,n.elementName,n.isAdd,r,n.baseVersion)}}const Tr={};Tr[En.className]=En,Tr[Kn.className]=Kn,Tr[jo.className]=jo,Tr[Ct.className]=Ct,Tr[jn.className]=jn,Tr[ar.className]=ar,Tr[zo.className]=zo,Tr[ts.className]=ts,Tr[Si.className]=Si,Tr[Ht.className]=Ht,Tr[kn.className]=kn;class bG{static fromJSON(n,r){return Tr[n.__className].fromJSON(n,r)}}const vy=new Map;function bt(a,n,r){let i=vy.get(a);i||(i=new Map,vy.set(a,i)),i.set(n,r)}function vG(a){return[a]}function uD(a,n,r={}){const i=function(l,d){const h=vy.get(l);return h&&h.has(d)?h.get(d):vG}(a.constructor,n.constructor);try{return i(a=a.clone(),n,r)}catch(l){throw l}}function wG(a,n,r){a=a.slice(),n=n.slice();const i=new yG(r.document,r.useRelations,r.forceWeakRemove);i.setOriginalOperations(a),i.setOriginalOperations(n);const l=i.originalOperations;if(a.length==0||n.length==0)return{operationsA:a,operationsB:n,originalOperations:l};const d=new WeakMap;for(const k of a)d.set(k,0);const h={nextBaseVersionA:a[a.length-1].baseVersion+1,nextBaseVersionB:n[n.length-1].baseVersion+1,originalOperationsACount:a.length,originalOperationsBCount:n.length};let f=0;for(;f<a.length;){const k=a[f],b=d.get(k);if(b==n.length){f++;continue}const w=n[b],A=uD(k,w,i.getContext(k,w,!0)),E=uD(w,k,i.getContext(w,k,!1));i.updateRelation(k,w),i.setOriginalOperations(A,k),i.setOriginalOperations(E,w);for(const I of A)d.set(I,b+E.length);a.splice(f,1,...A),n.splice(b,1,...E)}return hD(a,h.nextBaseVersionB),hD(n,h.nextBaseVersionA),{operationsA:a,operationsB:n,originalOperations:l}}class yG{constructor(n,r,i=!1){this.originalOperations=new Map,this._history=n.history,this._useRelations=r,this._forceWeakRemove=!!i,this._relations=new Map}setOriginalOperations(n,r=null){const i=r?this.originalOperations.get(r):null;for(const l of n)this.originalOperations.set(l,i||l)}updateRelation(n,r){if(n instanceof Ct)r instanceof kn?n.targetPosition.isEqual(r.sourcePosition)||r.movedRange.containsPosition(n.targetPosition)?this._setRelation(n,r,"insertAtSource"):n.targetPosition.isEqual(r.deletionPosition)?this._setRelation(n,r,"insertBetween"):n.targetPosition.isAfter(r.sourcePosition)&&this._setRelation(n,r,"moveTargetAfter"):r instanceof Ct&&(n.targetPosition.isEqual(r.sourcePosition)||n.targetPosition.isBefore(r.sourcePosition)?this._setRelation(n,r,"insertBefore"):this._setRelation(n,r,"insertAfter"));else if(n instanceof Ht){if(r instanceof kn)n.splitPosition.isBefore(r.sourcePosition)&&this._setRelation(n,r,"splitBefore");else if(r instanceof Ct)if(n.splitPosition.isEqual(r.sourcePosition)||n.splitPosition.isBefore(r.sourcePosition))this._setRelation(n,r,"splitBefore");else{const i=re._createFromPositionAndShift(r.sourcePosition,r.howMany);if(n.splitPosition.hasSameParentAs(r.sourcePosition)&&i.containsPosition(n.splitPosition)){const l=i.end.offset-n.splitPosition.offset,d=n.splitPosition.offset-i.start.offset;this._setRelation(n,r,{howMany:l,offset:d})}}}else if(n instanceof kn)r instanceof kn?(n.targetPosition.isEqual(r.sourcePosition)||this._setRelation(n,r,"mergeTargetNotMoved"),n.sourcePosition.isEqual(r.targetPosition)&&this._setRelation(n,r,"mergeSourceNotMoved"),n.sourcePosition.isEqual(r.sourcePosition)&&this._setRelation(n,r,"mergeSameElement")):r instanceof Ht?n.sourcePosition.isEqual(r.splitPosition)&&this._setRelation(n,r,"splitAtSource"):r instanceof Ct&&r.howMany>0&&(n.sourcePosition.isEqual(r.sourcePosition.getShiftedBy(r.howMany))&&this._setRelation(n,r,"mergeSourceAffected"),n.targetPosition.isEqual(r.sourcePosition)&&this._setRelation(n,r,"mergeTargetWasBefore"));else if(n instanceof jo){const i=n.newRange;if(!i)return;if(r instanceof Ct){const l=re._createFromPositionAndShift(r.sourcePosition,r.howMany),d=l.containsPosition(i.start)||l.start.isEqual(i.start),h=l.containsPosition(i.end)||l.end.isEqual(i.end);!d&&!h||l.containsRange(i)||this._setRelation(n,r,{side:d?"left":"right",path:d?i.start.path.slice():i.end.path.slice()})}else if(r instanceof kn){const l=i.start.isEqual(r.targetPosition),d=i.start.isEqual(r.deletionPosition),h=i.end.isEqual(r.deletionPosition),f=i.end.isEqual(r.sourcePosition);(l||d||h||f)&&this._setRelation(n,r,{wasInLeftElement:l,wasStartBeforeMergedElement:d,wasEndBeforeMergedElement:h,wasInRightElement:f})}}}getContext(n,r,i){return{aIsStrong:i,aWasUndone:this._wasUndone(n),bWasUndone:this._wasUndone(r),abRelation:this._useRelations?this._getRelation(n,r):null,baRelation:this._useRelations?this._getRelation(r,n):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(n){const r=this.originalOperations.get(n);return r.wasUndone||this._history.isUndoneOperation(r)}_getRelation(n,r){const i=this.originalOperations.get(r),l=this._history.getUndoneOperation(i);if(!l)return null;const d=this.originalOperations.get(n),h=this._relations.get(d);return h&&h.get(l)||null}_setRelation(n,r,i){const l=this.originalOperations.get(n),d=this.originalOperations.get(r);let h=this._relations.get(l);h||(h=new Map,this._relations.set(l,h)),h.set(d,i)}}function hD(a,n){for(const r of a)r.baseVersion=n++}function pD(a,n,r){const i=a.nodes.getNode(0).getAttribute(n);if(i==r)return null;const l=new re(a.position,a.position.getShiftedBy(a.howMany));return new En(l,n,i,r,0)}function fD(a,n){return a.targetPosition._getTransformedByDeletion(n.sourcePosition,n.howMany)===null}function Sc(a,n){const r=[];for(let i=0;i<a.length;i++){const l=a[i],d=new Ct(l.start,l.end.offset-l.start.offset,n,0);r.push(d);for(let h=i+1;h<a.length;h++)a[h]=a[h]._getTransformedByMove(d.sourcePosition,d.targetPosition,d.howMany)[0];n=n._getTransformedByMove(d.sourcePosition,d.targetPosition,d.howMany)}return r}bt(En,En,(a,n,r)=>{if(a.key===n.key&&a.range.start.hasSameParentAs(n.range.start)){const i=a.range.getDifference(n.range).map(d=>new En(d,a.key,a.oldValue,a.newValue,0)),l=a.range.getIntersection(n.range);return l&&r.aIsStrong&&i.push(new En(l,n.key,n.newValue,a.newValue,0)),i.length==0?[new jn(0)]:i}return[a]}),bt(En,Kn,(a,n)=>{if(a.range.start.hasSameParentAs(n.position)&&a.range.containsPosition(n.position)){const r=a.range._getTransformedByInsertion(n.position,n.howMany,!n.shouldReceiveAttributes).map(i=>new En(i,a.key,a.oldValue,a.newValue,a.baseVersion));if(n.shouldReceiveAttributes){const i=pD(n,a.key,a.oldValue);i&&r.unshift(i)}return r}return a.range=a.range._getTransformedByInsertion(n.position,n.howMany,!1)[0],[a]}),bt(En,kn,(a,n)=>{const r=[];a.range.start.hasSameParentAs(n.deletionPosition)&&(a.range.containsPosition(n.deletionPosition)||a.range.start.isEqual(n.deletionPosition))&&r.push(re._createFromPositionAndShift(n.graveyardPosition,1));const i=a.range._getTransformedByMergeOperation(n);return i.isCollapsed||r.push(i),r.map(l=>new En(l,a.key,a.oldValue,a.newValue,a.baseVersion))}),bt(En,Ct,(a,n)=>function(i,l){const d=re._createFromPositionAndShift(l.sourcePosition,l.howMany);let h=null,f=[];d.containsRange(i,!0)?h=i:i.start.hasSameParentAs(d.start)?(f=i.getDifference(d),h=i.getIntersection(d)):f=[i];const k=[];for(let b of f){b=b._getTransformedByDeletion(l.sourcePosition,l.howMany);const w=l.getMovedRangeStart(),A=b.start.hasSameParentAs(w),E=b._getTransformedByInsertion(w,l.howMany,A);k.push(...E)}return h&&k.push(h._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany,!1)[0]),k}(a.range,n).map(i=>new En(i,a.key,a.oldValue,a.newValue,a.baseVersion))),bt(En,Ht,(a,n)=>{if(a.range.end.isEqual(n.insertionPosition))return n.graveyardPosition||a.range.end.offset++,[a];if(a.range.start.hasSameParentAs(n.splitPosition)&&a.range.containsPosition(n.splitPosition)){const r=a.clone();return r.range=new re(n.moveTargetPosition.clone(),a.range.end._getCombined(n.splitPosition,n.moveTargetPosition)),a.range.end=n.splitPosition.clone(),a.range.end.stickiness="toPrevious",[a,r]}return a.range=a.range._getTransformedBySplitOperation(n),[a]}),bt(Kn,En,(a,n)=>{const r=[a];if(a.shouldReceiveAttributes&&a.position.hasSameParentAs(n.range.start)&&n.range.containsPosition(a.position)){const i=pD(a,n.key,n.newValue);i&&r.push(i)}return r}),bt(Kn,Kn,(a,n,r)=>(a.position.isEqual(n.position)&&r.aIsStrong||(a.position=a.position._getTransformedByInsertOperation(n)),[a])),bt(Kn,Ct,(a,n)=>(a.position=a.position._getTransformedByMoveOperation(n),[a])),bt(Kn,Ht,(a,n)=>(a.position=a.position._getTransformedBySplitOperation(n),[a])),bt(Kn,kn,(a,n)=>(a.position=a.position._getTransformedByMergeOperation(n),[a])),bt(jo,Kn,(a,n)=>(a.oldRange&&(a.oldRange=a.oldRange._getTransformedByInsertOperation(n)[0]),a.newRange&&(a.newRange=a.newRange._getTransformedByInsertOperation(n)[0]),[a])),bt(jo,jo,(a,n,r)=>{if(a.name==n.name){if(!r.aIsStrong)return[new jn(0)];a.oldRange=n.newRange?n.newRange.clone():null}return[a]}),bt(jo,kn,(a,n)=>(a.oldRange&&(a.oldRange=a.oldRange._getTransformedByMergeOperation(n)),a.newRange&&(a.newRange=a.newRange._getTransformedByMergeOperation(n)),[a])),bt(jo,Ct,(a,n,r)=>{if(a.oldRange&&(a.oldRange=re._createFromRanges(a.oldRange._getTransformedByMoveOperation(n))),a.newRange){if(r.abRelation){const i=re._createFromRanges(a.newRange._getTransformedByMoveOperation(n));if(r.abRelation.side=="left"&&n.targetPosition.isEqual(a.newRange.start))return a.newRange.end=i.end,a.newRange.start.path=r.abRelation.path,[a];if(r.abRelation.side=="right"&&n.targetPosition.isEqual(a.newRange.end))return a.newRange.start=i.start,a.newRange.end.path=r.abRelation.path,[a]}a.newRange=re._createFromRanges(a.newRange._getTransformedByMoveOperation(n))}return[a]}),bt(jo,Ht,(a,n,r)=>{if(a.oldRange&&(a.oldRange=a.oldRange._getTransformedBySplitOperation(n)),a.newRange){if(r.abRelation){const i=a.newRange._getTransformedBySplitOperation(n);return a.newRange.start.isEqual(n.splitPosition)&&r.abRelation.wasStartBeforeMergedElement?a.newRange.start=he._createAt(n.insertionPosition):a.newRange.start.isEqual(n.splitPosition)&&!r.abRelation.wasInLeftElement&&(a.newRange.start=he._createAt(n.moveTargetPosition)),a.newRange.end.isEqual(n.splitPosition)&&r.abRelation.wasInRightElement?a.newRange.end=he._createAt(n.moveTargetPosition):a.newRange.end.isEqual(n.splitPosition)&&r.abRelation.wasEndBeforeMergedElement?a.newRange.end=he._createAt(n.insertionPosition):a.newRange.end=i.end,[a]}a.newRange=a.newRange._getTransformedBySplitOperation(n)}return[a]}),bt(kn,Kn,(a,n)=>(a.sourcePosition.hasSameParentAs(n.position)&&(a.howMany+=n.howMany),a.sourcePosition=a.sourcePosition._getTransformedByInsertOperation(n),a.targetPosition=a.targetPosition._getTransformedByInsertOperation(n),[a])),bt(kn,kn,(a,n,r)=>{if(a.sourcePosition.isEqual(n.sourcePosition)&&a.targetPosition.isEqual(n.targetPosition)){if(r.bWasUndone){const i=n.graveyardPosition.path.slice();return i.push(0),a.sourcePosition=new he(n.graveyardPosition.root,i),a.howMany=0,[a]}return[new jn(0)]}if(a.sourcePosition.isEqual(n.sourcePosition)&&!a.targetPosition.isEqual(n.targetPosition)&&!r.bWasUndone&&r.abRelation!="splitAtSource"){const i=a.targetPosition.root.rootName=="$graveyard",l=n.targetPosition.root.rootName=="$graveyard";if(l&&!i||!(i&&!l)&&r.aIsStrong){const d=n.targetPosition._getTransformedByMergeOperation(n),h=a.targetPosition._getTransformedByMergeOperation(n);return[new Ct(d,a.howMany,h,0)]}return[new jn(0)]}return a.sourcePosition.hasSameParentAs(n.targetPosition)&&(a.howMany+=n.howMany),a.sourcePosition=a.sourcePosition._getTransformedByMergeOperation(n),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(n),a.graveyardPosition.isEqual(n.graveyardPosition)&&r.aIsStrong||(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(n)),[a]}),bt(kn,Ct,(a,n,r)=>{const i=re._createFromPositionAndShift(n.sourcePosition,n.howMany);return n.type=="remove"&&!r.bWasUndone&&!r.forceWeakRemove&&a.deletionPosition.hasSameParentAs(n.sourcePosition)&&i.containsPosition(a.sourcePosition)?[new jn(0)]:(n.sourcePosition.getShiftedBy(n.howMany).isEqual(a.sourcePosition)?a.sourcePosition.stickiness="toNone":n.targetPosition.isEqual(a.sourcePosition)&&r.abRelation=="mergeSourceAffected"?a.sourcePosition.stickiness="toNext":n.sourcePosition.isEqual(a.targetPosition)?(a.targetPosition.stickiness="toNone",a.howMany-=n.howMany):n.targetPosition.isEqual(a.targetPosition)&&r.abRelation=="mergeTargetWasBefore"?(a.targetPosition.stickiness="toPrevious",a.howMany+=n.howMany):(a.sourcePosition.hasSameParentAs(n.targetPosition)&&(a.howMany+=n.howMany),a.sourcePosition.hasSameParentAs(n.sourcePosition)&&(a.howMany-=n.howMany)),a.sourcePosition=a.sourcePosition._getTransformedByMoveOperation(n),a.targetPosition=a.targetPosition._getTransformedByMoveOperation(n),a.sourcePosition.stickiness="toPrevious",a.targetPosition.stickiness="toNext",a.graveyardPosition.isEqual(n.targetPosition)||(a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(n)),[a])}),bt(kn,Ht,(a,n,r)=>{if(n.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByDeletion(n.graveyardPosition,1),a.deletionPosition.isEqual(n.graveyardPosition)&&(a.howMany=n.howMany)),a.targetPosition.isEqual(n.splitPosition)){const i=n.howMany!=0,l=n.graveyardPosition&&a.deletionPosition.isEqual(n.graveyardPosition);if(i||l||r.abRelation=="mergeTargetNotMoved")return a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(n),[a]}if(a.sourcePosition.isEqual(n.splitPosition)){if(r.abRelation=="mergeSourceNotMoved")return a.howMany=0,a.targetPosition=a.targetPosition._getTransformedBySplitOperation(n),[a];if(r.abRelation=="mergeSameElement"||a.sourcePosition.offset>0)return a.sourcePosition=n.moveTargetPosition.clone(),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(n),[a]}return a.sourcePosition.hasSameParentAs(n.splitPosition)&&(a.howMany=n.splitPosition.offset),a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(n),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(n),[a]}),bt(Ct,Kn,(a,n)=>{const r=re._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByInsertOperation(n,!1)[0];return a.sourcePosition=r.start,a.howMany=r.end.offset-r.start.offset,a.targetPosition.isEqual(n.position)||(a.targetPosition=a.targetPosition._getTransformedByInsertOperation(n)),[a]}),bt(Ct,Ct,(a,n,r)=>{const i=re._createFromPositionAndShift(a.sourcePosition,a.howMany),l=re._createFromPositionAndShift(n.sourcePosition,n.howMany);let d,h=r.aIsStrong,f=!r.aIsStrong;if(r.abRelation=="insertBefore"||r.baRelation=="insertAfter"?f=!0:r.abRelation!="insertAfter"&&r.baRelation!="insertBefore"||(f=!1),d=a.targetPosition.isEqual(n.targetPosition)&&f?a.targetPosition._getTransformedByDeletion(n.sourcePosition,n.howMany):a.targetPosition._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),fD(a,n)&&fD(n,a))return[n.getReversed()];if(i.containsPosition(n.targetPosition)&&i.containsRange(l,!0))return i.start=i.start._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),i.end=i.end._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),Sc([i],d);if(l.containsPosition(a.targetPosition)&&l.containsRange(i,!0))return i.start=i.start._getCombined(n.sourcePosition,n.getMovedRangeStart()),i.end=i.end._getCombined(n.sourcePosition,n.getMovedRangeStart()),Sc([i],d);const k=Oe(a.sourcePosition.getParentPath(),n.sourcePosition.getParentPath());if(k=="prefix"||k=="extension")return i.start=i.start._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),i.end=i.end._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),Sc([i],d);a.type!="remove"||n.type=="remove"||r.aWasUndone||r.forceWeakRemove?a.type=="remove"||n.type!="remove"||r.bWasUndone||r.forceWeakRemove||(h=!1):h=!0;const b=[],w=i.getDifference(l);for(const E of w){E.start=E.start._getTransformedByDeletion(n.sourcePosition,n.howMany),E.end=E.end._getTransformedByDeletion(n.sourcePosition,n.howMany);const I=Oe(E.start.getParentPath(),n.getMovedRangeStart().getParentPath())=="same",O=E._getTransformedByInsertion(n.getMovedRangeStart(),n.howMany,I);b.push(...O)}const A=i.getIntersection(l);return A!==null&&h&&(A.start=A.start._getCombined(n.sourcePosition,n.getMovedRangeStart()),A.end=A.end._getCombined(n.sourcePosition,n.getMovedRangeStart()),b.length===0?b.push(A):b.length==1?l.start.isBefore(i.start)||l.start.isEqual(i.start)?b.unshift(A):b.push(A):b.splice(1,0,A)),b.length===0?[new jn(a.baseVersion)]:Sc(b,d)}),bt(Ct,Ht,(a,n,r)=>{let i=a.targetPosition.clone();a.targetPosition.isEqual(n.insertionPosition)&&n.graveyardPosition&&r.abRelation!="moveTargetAfter"||(i=a.targetPosition._getTransformedBySplitOperation(n));const l=re._createFromPositionAndShift(a.sourcePosition,a.howMany);if(l.end.isEqual(n.insertionPosition))return n.graveyardPosition||a.howMany++,a.targetPosition=i,[a];if(l.start.hasSameParentAs(n.splitPosition)&&l.containsPosition(n.splitPosition)){let h=new re(n.splitPosition,l.end);return h=h._getTransformedBySplitOperation(n),Sc([new re(l.start,n.splitPosition),h],i)}a.targetPosition.isEqual(n.splitPosition)&&r.abRelation=="insertAtSource"&&(i=n.moveTargetPosition),a.targetPosition.isEqual(n.insertionPosition)&&r.abRelation=="insertBetween"&&(i=a.targetPosition);const d=[l._getTransformedBySplitOperation(n)];if(n.graveyardPosition){const h=l.start.isEqual(n.graveyardPosition)||l.containsPosition(n.graveyardPosition);a.howMany>1&&h&&!r.aWasUndone&&d.push(re._createFromPositionAndShift(n.insertionPosition,1))}return Sc(d,i)}),bt(Ct,kn,(a,n,r)=>{const i=re._createFromPositionAndShift(a.sourcePosition,a.howMany);if(n.deletionPosition.hasSameParentAs(a.sourcePosition)&&i.containsPosition(n.sourcePosition)){if(a.type!="remove"||r.forceWeakRemove){if(a.howMany==1)return r.bWasUndone?(a.sourcePosition=n.graveyardPosition.clone(),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(n),[a]):[new jn(0)]}else if(!r.aWasUndone){const d=[];let h=n.graveyardPosition.clone(),f=n.targetPosition._getTransformedByMergeOperation(n);a.howMany>1&&(d.push(new Ct(a.sourcePosition,a.howMany-1,a.targetPosition,0)),h=h._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1),f=f._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1));const k=n.deletionPosition._getCombined(a.sourcePosition,a.targetPosition),b=new Ct(h,1,k,0),w=b.getMovedRangeStart().path.slice();w.push(0);const A=new he(b.targetPosition.root,w);f=f._getTransformedByMove(h,k,1);const E=new Ct(f,n.howMany,A,0);return d.push(b),d.push(E),d}}const l=re._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByMergeOperation(n);return a.sourcePosition=l.start,a.howMany=l.end.offset-l.start.offset,a.targetPosition=a.targetPosition._getTransformedByMergeOperation(n),[a]}),bt(zo,Kn,(a,n)=>(a.position=a.position._getTransformedByInsertOperation(n),[a])),bt(zo,kn,(a,n)=>a.position.isEqual(n.deletionPosition)?(a.position=n.graveyardPosition.clone(),a.position.stickiness="toNext",[a]):(a.position=a.position._getTransformedByMergeOperation(n),[a])),bt(zo,Ct,(a,n)=>(a.position=a.position._getTransformedByMoveOperation(n),[a])),bt(zo,zo,(a,n,r)=>{if(a.position.isEqual(n.position)){if(!r.aIsStrong)return[new jn(0)];a.oldName=n.newName}return[a]}),bt(zo,Ht,(a,n)=>{if(Oe(a.position.path,n.splitPosition.getParentPath())=="same"&&!n.graveyardPosition){const r=new zo(a.position.getShiftedBy(1),a.oldName,a.newName,0);return[a,r]}return a.position=a.position._getTransformedBySplitOperation(n),[a]}),bt(ts,ts,(a,n,r)=>{if(a.root===n.root&&a.key===n.key){if(!r.aIsStrong||a.newValue===n.newValue)return[new jn(0)];a.oldValue=n.newValue}return[a]}),bt(Si,Si,(a,n)=>a.rootName===n.rootName&&a.isAdd===n.isAdd?[new jn(0)]:[a]),bt(Ht,Kn,(a,n)=>(a.splitPosition.hasSameParentAs(n.position)&&a.splitPosition.offset<n.position.offset&&(a.howMany+=n.howMany),a.splitPosition=a.splitPosition._getTransformedByInsertOperation(n),a.insertionPosition=a.insertionPosition._getTransformedByInsertOperation(n),[a])),bt(Ht,kn,(a,n,r)=>{if(!a.graveyardPosition&&!r.bWasUndone&&a.splitPosition.hasSameParentAs(n.sourcePosition)){const i=n.graveyardPosition.path.slice();i.push(0);const l=new he(n.graveyardPosition.root,i),d=Ht.getInsertionPosition(new he(n.graveyardPosition.root,i)),h=new Ht(l,0,d,null,0);return a.splitPosition=a.splitPosition._getTransformedByMergeOperation(n),a.insertionPosition=Ht.getInsertionPosition(a.splitPosition),a.graveyardPosition=h.insertionPosition.clone(),a.graveyardPosition.stickiness="toNext",[h,a]}return a.splitPosition.hasSameParentAs(n.deletionPosition)&&!a.splitPosition.isAfter(n.deletionPosition)&&a.howMany--,a.splitPosition.hasSameParentAs(n.targetPosition)&&(a.howMany+=n.howMany),a.splitPosition=a.splitPosition._getTransformedByMergeOperation(n),a.insertionPosition=Ht.getInsertionPosition(a.splitPosition),a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(n)),[a]}),bt(Ht,Ct,(a,n,r)=>{const i=re._createFromPositionAndShift(n.sourcePosition,n.howMany);if(a.graveyardPosition){const d=i.start.isEqual(a.graveyardPosition)||i.containsPosition(a.graveyardPosition);if(!r.bWasUndone&&d){const h=a.splitPosition._getTransformedByMoveOperation(n),f=a.graveyardPosition._getTransformedByMoveOperation(n),k=f.path.slice();k.push(0);const b=new he(f.root,k);return[new Ct(h,a.howMany,b,0)]}a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(n)}const l=a.splitPosition.isEqual(n.targetPosition);if(l&&(r.baRelation=="insertAtSource"||r.abRelation=="splitBefore"))return a.howMany+=n.howMany,a.splitPosition=a.splitPosition._getTransformedByDeletion(n.sourcePosition,n.howMany),a.insertionPosition=Ht.getInsertionPosition(a.splitPosition),[a];if(l&&r.abRelation&&r.abRelation.howMany){const{howMany:d,offset:h}=r.abRelation;return a.howMany+=d,a.splitPosition=a.splitPosition.getShiftedBy(h),[a]}if(a.splitPosition.hasSameParentAs(n.sourcePosition)&&i.containsPosition(a.splitPosition)){const d=n.howMany-(a.splitPosition.offset-n.sourcePosition.offset);return a.howMany-=d,a.splitPosition.hasSameParentAs(n.targetPosition)&&a.splitPosition.offset<n.targetPosition.offset&&(a.howMany+=n.howMany),a.splitPosition=n.sourcePosition.clone(),a.insertionPosition=Ht.getInsertionPosition(a.splitPosition),[a]}return n.sourcePosition.isEqual(n.targetPosition)||(a.splitPosition.hasSameParentAs(n.sourcePosition)&&a.splitPosition.offset<=n.sourcePosition.offset&&(a.howMany-=n.howMany),a.splitPosition.hasSameParentAs(n.targetPosition)&&a.splitPosition.offset<n.targetPosition.offset&&(a.howMany+=n.howMany)),a.splitPosition.stickiness="toNone",a.splitPosition=a.splitPosition._getTransformedByMoveOperation(n),a.splitPosition.stickiness="toNext",a.graveyardPosition?a.insertionPosition=a.insertionPosition._getTransformedByMoveOperation(n):a.insertionPosition=Ht.getInsertionPosition(a.splitPosition),[a]}),bt(Ht,Ht,(a,n,r)=>{if(a.splitPosition.isEqual(n.splitPosition)){if(!a.graveyardPosition&&!n.graveyardPosition)return[new jn(0)];if(a.graveyardPosition&&n.graveyardPosition&&a.graveyardPosition.isEqual(n.graveyardPosition))return[new jn(0)];if(r.abRelation=="splitBefore")return a.howMany=0,a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(n),[a]}if(a.graveyardPosition&&n.graveyardPosition&&a.graveyardPosition.isEqual(n.graveyardPosition)){const i=a.splitPosition.root.rootName=="$graveyard",l=n.splitPosition.root.rootName=="$graveyard";if(l&&!i||!(i&&!l)&&r.aIsStrong){const d=[];return n.howMany&&d.push(new Ct(n.moveTargetPosition,n.howMany,n.splitPosition,0)),a.howMany&&d.push(new Ct(a.splitPosition,a.howMany,a.moveTargetPosition,0)),d}return[new jn(0)]}if(a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(n)),a.splitPosition.isEqual(n.insertionPosition)&&r.abRelation=="splitBefore")return a.howMany++,[a];if(n.splitPosition.isEqual(a.insertionPosition)&&r.baRelation=="splitBefore"){const i=n.insertionPosition.path.slice();i.push(0);const l=new he(n.insertionPosition.root,i);return[a,new Ct(a.insertionPosition,1,l,0)]}return a.splitPosition.hasSameParentAs(n.splitPosition)&&a.splitPosition.offset<n.splitPosition.offset&&(a.howMany-=n.howMany),a.splitPosition=a.splitPosition._getTransformedBySplitOperation(n),a.insertionPosition=Ht.getInsertionPosition(a.splitPosition),[a]});class no extends q(he){constructor(n,r,i="toNone"){if(super(n,r,i),!this.root.is("rootElement"))throw new M("model-liveposition-root-not-rootelement",n);_G.call(this)}detach(){this.stopListening()}toPosition(){return new he(this.root,this.path.slice(),this.stickiness)}static fromPosition(n,r){return new this(n.root,n.path.slice(),r||n.stickiness)}}function _G(){this.listenTo(this.root.document.model,"applyOperation",(a,n)=>{const r=n[0];r.isDocumentOperation&&CG.call(this,r)},{priority:"low"})}function CG(a){const n=this.getTransformedByOperation(a);if(!this.isEqual(n)){const r=this.toPosition();this.path=n.path,this.root=n.root,this.fire("change",r)}}no.prototype.is=function(a){return a==="livePosition"||a==="model:livePosition"||a=="position"||a==="model:position"};class Tc{constructor(n={}){typeof n=="string"&&(n=n==="transparent"?{isUndoable:!1}:{},U("batch-constructor-deprecated-string-type"));const{isUndoable:r=!0,isLocal:i=!0,isUndo:l=!1,isTyping:d=!1}=n;this.operations=[],this.isUndoable=r,this.isLocal=i,this.isUndo=l,this.isTyping=d}get type(){return U("batch-type-deprecated"),"default"}get baseVersion(){for(const n of this.operations)if(n.baseVersion!==null)return n.baseVersion;return null}addOperation(n){return n.batch=this,this.operations.push(n),n}}var AG=Object.defineProperty,xG=Object.defineProperties,EG=Object.getOwnPropertyDescriptors,gD=Object.getOwnPropertySymbols,SG=Object.prototype.hasOwnProperty,TG=Object.prototype.propertyIsEnumerable,mD=(a,n,r)=>n in a?AG(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,kD=(a,n)=>{for(var r in n||(n={}))SG.call(n,r)&&mD(a,r,n[r]);if(gD)for(var r of gD(n))TG.call(n,r)&&mD(a,r,n[r]);return a};class IG{constructor(n){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=n}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(n){const r=n;switch(r.type){case"insert":if(this._isInInsertedElement(r.position.parent))return;this._markInsert(r.position.parent,r.position.offset,r.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const i of r.range.getItems({shallow:!0}))this._isInInsertedElement(i.parent)||this._markAttribute(i);break;case"remove":case"move":case"reinsert":{if(r.sourcePosition.isEqual(r.targetPosition)||r.sourcePosition.getShiftedBy(r.howMany).isEqual(r.targetPosition))return;const i=this._isInInsertedElement(r.sourcePosition.parent),l=this._isInInsertedElement(r.targetPosition.parent);i||this._markRemove(r.sourcePosition.parent,r.sourcePosition.offset,r.howMany),l||this._markInsert(r.targetPosition.parent,r.getMovedRangeStart().offset,r.howMany);break}case"rename":{if(this._isInInsertedElement(r.position.parent))return;this._markRemove(r.position.parent,r.position.offset,1),this._markInsert(r.position.parent,r.position.offset,1);const i=re._createFromPositionAndShift(r.position,1);for(const l of this._markerCollection.getMarkersIntersectingRange(i)){const d=l.getData();this.bufferMarkerChange(l.name,d,d)}break}case"split":{const i=r.splitPosition.parent;this._isInInsertedElement(i)||this._markRemove(i,r.splitPosition.offset,r.howMany),this._isInInsertedElement(r.insertionPosition.parent)||this._markInsert(r.insertionPosition.parent,r.insertionPosition.offset,1),r.graveyardPosition&&this._markRemove(r.graveyardPosition.parent,r.graveyardPosition.offset,1);break}case"merge":{const i=r.sourcePosition.parent;this._isInInsertedElement(i.parent)||this._markRemove(i.parent,i.startOffset,1);const l=r.graveyardPosition.parent;this._markInsert(l,r.graveyardPosition.offset,1);const d=r.targetPosition.parent;this._isInInsertedElement(d)||this._markInsert(d,r.targetPosition.offset,i.maxOffset);break}case"detachRoot":case"addRoot":{const i=r.affectedSelectable;if(!i._isLoaded||i.isAttached()==r.isAdd)return;this._bufferRootStateChange(r.rootName,r.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!r.root._isLoaded)return;const i=r.root.rootName;this._bufferRootAttributeChange(i,r.key,r.oldValue,r.newValue);break}}this._cachedChanges=null}bufferMarkerChange(n,r,i){r.range&&r.range.root.is("rootElement")&&!r.range.root._isLoaded&&(r.range=null),i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null);let l=this._changedMarkers.get(n);l?l.newMarkerData=i:(l={newMarkerData:i,oldMarkerData:r},this._changedMarkers.set(n,l)),l.oldMarkerData.range==null&&i.range==null&&this._changedMarkers.delete(n)}getMarkersToRemove(){const n=[];for(const[r,i]of this._changedMarkers)i.oldMarkerData.range!=null&&n.push({name:r,range:i.oldMarkerData.range});return n}getMarkersToAdd(){const n=[];for(const[r,i]of this._changedMarkers)i.newMarkerData.range!=null&&n.push({name:r,range:i.newMarkerData.range});return n}getChangedMarkers(){return Array.from(this._changedMarkers).map(([n,r])=>({name:n,data:{oldRange:r.oldMarkerData.range,newRange:r.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:n,oldMarkerData:r}of this._changedMarkers.values()){if(n.affectsData!==r.affectsData)return!0;if(n.affectsData){const i=n.range&&!r.range,l=!n.range&&r.range,d=n.range&&r.range&&!n.range.isEqual(r.range);if(i||l||d)return!0}}return!1}getChanges(n={}){if(this._cachedChanges)return n.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let r=[];for(const i of this._changesInElement.keys()){const l=this._changesInElement.get(i).sort((w,A)=>w.offset===A.offset?w.type!=A.type?w.type=="remove"?-1:1:0:w.offset<A.offset?-1:1),d=this._elementSnapshots.get(i),h=bD(i.getChildren()),f=DG(d.length,l);let k=0,b=0;for(const w of f)if(w==="i")r.push(this._getInsertDiff(i,k,h[k])),k++;else if(w==="r")r.push(this._getRemoveDiff(i,k,d[b])),b++;else if(w==="a"){const A=h[k].attributes,E=d[b].attributes;let I;if(h[k].name=="$text")I=new re(he._createAt(i,k),he._createAt(i,k+1));else{const O=i.offsetToIndex(k);I=new re(he._createAt(i,k),he._createAt(i.getChild(O),0))}r.push(...this._getAttributesDiff(I,E,A)),k++,b++}else k++,b++}r.sort((i,l)=>i.position.root!=l.position.root?i.position.root.rootName<l.position.root.rootName?-1:1:i.position.isEqual(l.position)?i.changeCount-l.changeCount:i.position.isBefore(l.position)?-1:1);for(let i=1,l=0;i<r.length;i++){const d=r[l],h=r[i],f=d.type=="remove"&&h.type=="remove"&&d.name=="$text"&&h.name=="$text"&&d.position.isEqual(h.position),k=d.type=="insert"&&h.type=="insert"&&d.name=="$text"&&h.name=="$text"&&d.position.parent==h.position.parent&&d.position.offset+d.length==h.position.offset,b=d.type=="attribute"&&h.type=="attribute"&&d.position.parent==h.position.parent&&d.range.isFlat&&h.range.isFlat&&d.position.offset+d.length==h.position.offset&&d.attributeKey==h.attributeKey&&d.attributeOldValue==h.attributeOldValue&&d.attributeNewValue==h.attributeNewValue;f||k||b?(d.length++,b&&(d.range.end=d.range.end.getShiftedBy(1)),r[i]=null):l=i}r=r.filter(i=>i);for(const i of r)delete i.changeCount,i.type=="attribute"&&(delete i.position,delete i.length);return this._changeCount=0,this._cachedChangesWithGraveyard=r,this._cachedChanges=r.filter(MG),n.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(n=>{const r=kD({},n);return r.state!==void 0&&delete r.attributes,r})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(n,r){if(!this._changedRoots.has(n))return void this._changedRoots.set(n,{name:n,state:r?"attached":"detached"});const i=this._changedRoots.get(n);i.state!==void 0?(delete i.state,i.attributes===void 0&&this._changedRoots.delete(n)):i.state=r?"attached":"detached"}_bufferRootAttributeChange(n,r,i,l){const d=this._changedRoots.get(n)||{name:n},h=d.attributes||{};if(h[r]){const f=h[r];l===f.oldValue?delete h[r]:f.newValue=l}else h[r]={oldValue:i,newValue:l};Object.entries(h).length===0?(delete d.attributes,d.state===void 0&&this._changedRoots.delete(n)):(d.attributes=h,this._changedRoots.set(n,d))}_refreshItem(n){if(this._isInInsertedElement(n.parent))return;this._markRemove(n.parent,n.startOffset,n.offsetSize),this._markInsert(n.parent,n.startOffset,n.offsetSize),this._refreshedItems.add(n);const r=re._createOn(n);for(const i of this._markerCollection.getMarkersIntersectingRange(r)){const l=i.getData();this.bufferMarkerChange(i.name,l,l)}this._cachedChanges=null}_bufferRootLoad(n){if(n.isAttached()){this._bufferRootStateChange(n.rootName,!0),this._markInsert(n,0,n.maxOffset);for(const i of n.getAttributeKeys())this._bufferRootAttributeChange(n.rootName,i,null,n.getAttribute(i));for(const i of this._markerCollection)if(i.getRange().root==n){const l=i.getData();this.bufferMarkerChange(i.name,(r=kD({},l),xG(r,EG({range:null}))),l)}var r}}_markInsert(n,r,i){if(n.root.is("rootElement")&&!n.root._isLoaded)return;const l={type:"insert",offset:r,howMany:i,count:this._changeCount++};this._markChange(n,l)}_markRemove(n,r,i){if(n.root.is("rootElement")&&!n.root._isLoaded)return;const l={type:"remove",offset:r,howMany:i,count:this._changeCount++};this._markChange(n,l),this._removeAllNestedChanges(n,r,i)}_markAttribute(n){if(n.root.is("rootElement")&&!n.root._isLoaded)return;const r={type:"attribute",offset:n.startOffset,howMany:n.offsetSize,count:this._changeCount++};this._markChange(n.parent,r)}_markChange(n,r){this._makeSnapshot(n);const i=this._getChangesForElement(n);this._handleChange(r,i),i.push(r);for(let l=0;l<i.length;l++)i[l].howMany<1&&(i.splice(l,1),l--)}_getChangesForElement(n){let r;return this._changesInElement.has(n)?r=this._changesInElement.get(n):(r=[],this._changesInElement.set(n,r)),r}_makeSnapshot(n){this._elementSnapshots.has(n)||this._elementSnapshots.set(n,bD(n.getChildren()))}_handleChange(n,r){n.nodesToHandle=n.howMany;for(const i of r){const l=n.offset+n.howMany,d=i.offset+i.howMany;if(n.type=="insert"&&(i.type=="insert"&&(n.offset<=i.offset?i.offset+=n.howMany:n.offset<d&&(i.howMany+=n.nodesToHandle,n.nodesToHandle=0)),i.type=="remove"&&n.offset<i.offset&&(i.offset+=n.howMany),i.type=="attribute")){if(n.offset<=i.offset)i.offset+=n.howMany;else if(n.offset<d){const h=i.howMany;i.howMany=n.offset-i.offset,r.unshift({type:"attribute",offset:l,howMany:h-i.howMany,count:this._changeCount++})}}if(n.type=="remove"){if(i.type=="insert"){if(l<=i.offset)i.offset-=n.howMany;else if(l<=d)if(n.offset<i.offset){const h=l-i.offset;i.offset=n.offset,i.howMany-=h,n.nodesToHandle-=h}else i.howMany-=n.nodesToHandle,n.nodesToHandle=0;else if(n.offset<=i.offset)n.nodesToHandle-=i.howMany,i.howMany=0;else if(n.offset<d){const h=d-n.offset;i.howMany-=h,n.nodesToHandle-=h}}if(i.type=="remove"&&(l<=i.offset?i.offset-=n.howMany:n.offset<i.offset&&(n.nodesToHandle+=i.howMany,i.howMany=0)),i.type=="attribute"){if(l<=i.offset)i.offset-=n.howMany;else if(n.offset<i.offset){const h=l-i.offset;i.offset=n.offset,i.howMany-=h}else if(n.offset<d)if(l<=d){const h=i.howMany;i.howMany=n.offset-i.offset;const f=h-i.howMany-n.nodesToHandle;r.unshift({type:"attribute",offset:n.offset,howMany:f,count:this._changeCount++})}else i.howMany-=d-n.offset}}if(n.type=="attribute"){if(i.type=="insert")if(n.offset<i.offset&&l>i.offset){if(l>d){const h={type:"attribute",offset:d,howMany:l-d,count:this._changeCount++};this._handleChange(h,r),r.push(h)}n.nodesToHandle=i.offset-n.offset,n.howMany=n.nodesToHandle}else n.offset>=i.offset&&n.offset<d&&(l>d?(n.nodesToHandle=l-d,n.offset=d):n.nodesToHandle=0);if(i.type=="remove"&&n.offset<i.offset&&l>i.offset){const h={type:"attribute",offset:i.offset,howMany:l-i.offset,count:this._changeCount++};this._handleChange(h,r),r.push(h),n.nodesToHandle=i.offset-n.offset,n.howMany=n.nodesToHandle}i.type=="attribute"&&(n.offset>=i.offset&&l<=d?(n.nodesToHandle=0,n.howMany=0,n.offset=0):n.offset<=i.offset&&l>=d&&(i.howMany=0))}}n.howMany=n.nodesToHandle,delete n.nodesToHandle}_getInsertDiff(n,r,i){return{type:"insert",position:he._createAt(n,r),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++,_element:i.element}}_getRemoveDiff(n,r,i){return{type:"remove",position:he._createAt(n,r),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++,_element:i.element}}_getAttributesDiff(n,r,i){const l=[];i=new Map(i);for(const[d,h]of r){const f=i.has(d)?i.get(d):null;f!==h&&l.push({type:"attribute",position:n.start,range:n.clone(),length:1,attributeKey:d,attributeOldValue:h,attributeNewValue:f,changeCount:this._changeCount++}),i.delete(d)}for(const[d,h]of i)l.push({type:"attribute",position:n.start,range:n.clone(),length:1,attributeKey:d,attributeOldValue:null,attributeNewValue:h,changeCount:this._changeCount++});return l}_isInInsertedElement(n){const r=n.parent;if(!r)return!1;const i=this._changesInElement.get(r),l=n.startOffset;if(i){for(const d of i)if(d.type=="insert"&&l>=d.offset&&l<d.offset+d.howMany)return!0}return this._isInInsertedElement(r)}_removeAllNestedChanges(n,r,i){const l=new re(he._createAt(n,r),he._createAt(n,r+i));for(const d of l.getItems({shallow:!0}))d.is("element")&&(this._elementSnapshots.delete(d),this._changesInElement.delete(d),this._removeAllNestedChanges(d,0,d.maxOffset))}}function bD(a){const n=[];for(const r of a)if(r.is("$text"))for(let i=0;i<r.data.length;i++)n.push({name:"$text",attributes:new Map(r.getAttributes())});else n.push({name:r.name,attributes:new Map(r.getAttributes()),element:r});return n}function DG(a,n){const r=[];let i=0,l=0;for(const d of n){if(d.offset>i){for(let h=0;h<d.offset-i;h++)r.push("e");l+=d.offset-i}if(d.type=="insert"){for(let h=0;h<d.howMany;h++)r.push("i");i=d.offset+d.howMany}else if(d.type=="remove"){for(let h=0;h<d.howMany;h++)r.push("r");i=d.offset,l+=d.howMany}else r.push(..."a".repeat(d.howMany).split("")),i=d.offset+d.howMany,l+=d.howMany}if(l<a)for(let d=0;d<a-l-i;d++)r.push("e");return r}function MG(a){const n="position"in a&&a.position.root.rootName=="$graveyard",r="range"in a&&a.range.root.rootName=="$graveyard";return!n&&!r}class PG{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(n){this._operations.length&&n>this._version+1&&this._gaps.set(this._version,n),this._version=n}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(n){if(n.baseVersion!==this.version)throw new M("model-document-history-addoperation-incorrect-version",this,{operation:n,historyVersion:this.version});this._operations.push(n),this._version++,this._baseVersionToOperationIndex.set(n.baseVersion,this._operations.length-1)}getOperations(n,r=this.version){if(!this._operations.length)return[];const i=this._operations[0];n===void 0&&(n=i.baseVersion);let l=r-1;for(const[f,k]of this._gaps)n>f&&n<k&&(n=k),l>f&&l<k&&(l=f-1);if(l<i.baseVersion||n>this.lastOperation.baseVersion)return[];let d=this._baseVersionToOperationIndex.get(n);d===void 0&&(d=0);let h=this._baseVersionToOperationIndex.get(l);return h===void 0&&(h=this._operations.length-1),this._operations.slice(d,h+1)}getOperation(n){const r=this._baseVersionToOperationIndex.get(n);if(r!==void 0)return this._operations[r]}setOperationAsUndone(n,r){this._undoPairs.set(r,n),this._undoneOperations.add(n)}isUndoingOperation(n){return this._undoPairs.has(n)}isUndoneOperation(n){return this._undoneOperations.has(n)}getUndoneOperation(n){return this._undoPairs.get(n)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Qg extends Ot{constructor(n,r,i="main"){super(r),this._isAttached=!0,this._isLoaded=!0,this._document=n,this.rootName=i}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Qg.prototype.is=function(a,n){return n?n===this.name&&(a==="rootElement"||a==="model:rootElement"||a==="element"||a==="model:element"):a==="rootElement"||a==="model:rootElement"||a==="element"||a==="model:element"||a==="node"||a==="model:node"};var NG=Object.defineProperty,RG=Object.defineProperties,OG=Object.getOwnPropertyDescriptors,vD=Object.getOwnPropertySymbols,BG=Object.prototype.hasOwnProperty,LG=Object.prototype.propertyIsEnumerable,wD=(a,n,r)=>n in a?NG(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,yD=(a,n)=>{for(var r in n||(n={}))BG.call(n,r)&&wD(a,r,n[r]);if(vD)for(var r of vD(n))LG.call(n,r)&&wD(a,r,n[r]);return a},_D=(a,n)=>RG(a,OG(n));const CD="$graveyard";class jG extends q(){constructor(n){super(),this.model=n,this.history=new PG,this.selection=new ai(this),this.roots=new ti({idProperty:"rootName"}),this.differ=new IG(n.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",CD),this.listenTo(n,"applyOperation",(r,i)=>{const l=i[0];l.isDocumentOperation&&this.differ.bufferOperation(l)},{priority:"high"}),this.listenTo(n,"applyOperation",(r,i)=>{const l=i[0];l.isDocumentOperation&&this.history.addOperation(l)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(n.markers,"update",(r,i,l,d,h)=>{const f=_D(yD({},i.getData()),{range:d});this.differ.bufferMarkerChange(i.name,h,f),l===null&&i.on("change",(k,b)=>{const w=i.getData();this.differ.bufferMarkerChange(i.name,_D(yD({},w),{range:b}),w)})}),this.registerPostFixer(r=>{let i=!1;for(const l of this.roots)l.isAttached()||l.isEmpty||(r.remove(r.createRangeIn(l)),i=!0);for(const l of this.model.markers)l.getRange().root.isAttached()||(r.removeMarker(l),i=!0);return i})}get version(){return this.history.version}set version(n){this.history.version=n}get graveyard(){return this.getRoot(CD)}createRoot(n="$root",r="main"){if(this.roots.get(r))throw new M("model-document-createroot-name-exists",this,{name:r});const i=new Qg(this,n,r);return this.roots.add(i),i}destroy(){this.selection.destroy(),this.stopListening()}getRoot(n="main"){return this.roots.get(n)}getRootNames(n=!1){return this.getRoots(n).map(r=>r.rootName)}getRoots(n=!1){return this.roots.filter(r=>r!=this.graveyard&&(n||r.isAttached())&&r._isLoaded)}registerPostFixer(n){this._postFixers.add(n)}toJSON(){const n=HT(this);return n.selection="[engine.model.DocumentSelection]",n.model="[engine.model.Model]",n}_handleChangeBlock(n){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(n),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",n.batch):this.fire("change",n.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const n=this.getRoots();return n.length?n[0]:this.graveyard}_getDefaultRange(){const n=this._getDefaultRoot(),r=this.model,i=r.schema,l=r.createPositionFromPath(n,[0]);return i.getNearestSelectionRange(l)||r.createRange(l)}_validateSelectionRange(n){return AD(n.start)&&AD(n.end)}_callPostFixers(n){let r=!1;do for(const i of this._postFixers)if(this.selection.refresh(),r=i(n),r)break;while(r)}}function AD(a){const n=a.textNode;if(n){const r=n.data,i=a.offset-n.startOffset;return!zw(r,i)&&!Fw(r,i)}return!0}var zG=Object.defineProperty,FG=Object.defineProperties,$G=Object.getOwnPropertyDescriptors,xD=Object.getOwnPropertySymbols,VG=Object.prototype.hasOwnProperty,UG=Object.prototype.propertyIsEnumerable,ED=(a,n,r)=>n in a?zG(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r;class HG extends q(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(n){const r=n instanceof Ic?n.name:n;return this._markers.has(r)}get(n){return this._markers.get(n)||null}_set(n,r,i=!1,l=!1){const d=n instanceof Ic?n.name:n;if(d.includes(","))throw new M("markercollection-incorrect-marker-name",this);const h=this._markers.get(d);if(h){const w=h.getData(),A=h.getRange();let E=!1;return A.isEqual(r)||(h._attachLiveRange(sr.fromRange(r)),E=!0),i!=h.managedUsingOperations&&(h._managedUsingOperations=i,E=!0),typeof l=="boolean"&&l!=h.affectsData&&(h._affectsData=l,E=!0),E&&this.fire(`update:${d}`,h,A,r,w),h}const f=sr.fromRange(r),k=new Ic(d,f,i,l);var b;return this._markers.set(d,k),this.fire(`update:${d}`,k,null,r,(b=((w,A)=>{for(var E in A||(A={}))VG.call(A,E)&&ED(w,E,A[E]);if(xD)for(var E of xD(A))UG.call(A,E)&&ED(w,E,A[E]);return w})({},k.getData()),FG(b,$G({range:null})))),k}_remove(n){const r=n instanceof Ic?n.name:n,i=this._markers.get(r);return!!i&&(this._markers.delete(r),this.fire(`update:${r}`,i,i.getRange(),null,i.getData()),this._destroyMarker(i),!0)}_refresh(n){const r=n instanceof Ic?n.name:n,i=this._markers.get(r);if(!i)throw new M("markercollection-refresh-marker-not-exists",this);const l=i.getRange();this.fire(`update:${r}`,i,l,l,i.getData())}*getMarkersAtPosition(n){for(const r of this)r.getRange().containsPosition(n)&&(yield r)}*getMarkersIntersectingRange(n){for(const r of this)r.getRange().getIntersection(n)!==null&&(yield r)}destroy(){for(const n of this._markers.values())this._destroyMarker(n);this._markers=null,this.stopListening()}*getMarkersGroup(n){for(const r of this._markers.values())r.name.startsWith(n+":")&&(yield r)}_destroyMarker(n){n.stopListening(),n._detachLiveRange()}}class Ic extends q(Us){constructor(n,r,i,l){super(),this.name=n,this._liveRange=this._attachLiveRange(r),this._managedUsingOperations=i,this._affectsData=l}get managedUsingOperations(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(n){return this._liveRange&&this._detachLiveRange(),n.delegate("change:range").to(this),n.delegate("change:content").to(this),this._liveRange=n,n}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Ic.prototype.is=function(a){return a==="marker"||a==="model:marker"};class WG extends ar{constructor(n,r){super(null),this.sourcePosition=n.clone(),this.howMany=r}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const n=super.toJSON();return n.sourcePosition=this.sourcePosition.toJSON(),n}_validate(){if(this.sourcePosition.root.document)throw new M("detach-operation-on-document-node",this)}_execute(){aD(re._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class ns extends Us{constructor(n){super(),this.markers=new Map,this._children=new Ku,n&&this._insertChild(0,n)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(n){return this._children.getNode(n)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(n){return this._children.getNodeIndex(n)}getChildStartOffset(n){return this._children.getNodeStartOffset(n)}getPath(){return[]}getNodeByPath(n){let r=this;for(const i of n)r=r.getChild(r.offsetToIndex(i));return r}offsetToIndex(n){return this._children.offsetToIndex(n)}toJSON(){const n=[];for(const r of this._children)n.push(r.toJSON());return n}static fromJSON(n){const r=[];for(const i of n)i.name?r.push(Ot.fromJSON(i)):r.push(Ut.fromJSON(i));return new ns(r)}_appendChild(n){this._insertChild(this.childCount,n)}_insertChild(n,r){const i=function(l){return typeof l=="string"?[new Ut(l)]:(et(l)||(l=[l]),Array.from(l).map(d=>typeof d=="string"?new Ut(d):d instanceof si?new Ut(d.data,d.getAttributes()):d))}(r);for(const l of i)l.parent!==null&&l._remove(),l.parent=this;this._children._insertNodes(n,i)}_removeChildren(n,r=1){const i=this._children._removeNodes(n,r);for(const l of i)l.parent=null;return i}}ns.prototype.is=function(a){return a==="documentFragment"||a==="model:documentFragment"};class qG{constructor(n,r){this.model=n,this.batch=r}createText(n,r){return new Ut(n,r)}createElement(n,r){return new Ot(n,r)}createDocumentFragment(){return new ns}cloneElement(n,r=!0){return n._clone(r)}insert(n,r,i=0){if(this._assertWriterUsedCorrectly(),n instanceof Ut&&n.data=="")return;const l=he._createAt(r,i);if(n.parent){if(ID(n.root,l.root))return void this.move(re._createOn(n),l);if(n.root.document)throw new M("model-writer-insert-forbidden-move",this);this.remove(n)}const d=l.root.document?l.root.document.version:null,h=new Kn(l,n,d);if(n instanceof Ut&&(h.shouldReceiveAttributes=!0),this.batch.addOperation(h),this.model.applyOperation(h),n instanceof ns)for(const[f,k]of n.markers){const b=he._createAt(k.root,0),w={range:new re(k.start._getCombined(b,l),k.end._getCombined(b,l)),usingOperation:!0,affectsData:!0};this.model.markers.has(f)?this.updateMarker(f,w):this.addMarker(f,w)}}insertText(n,r,i,l){r instanceof ns||r instanceof Ot||r instanceof he?this.insert(this.createText(n),r,i):this.insert(this.createText(n,r),i,l)}insertElement(n,r,i,l){r instanceof ns||r instanceof Ot||r instanceof he?this.insert(this.createElement(n),r,i):this.insert(this.createElement(n,r),i,l)}append(n,r){this.insert(n,r,"end")}appendText(n,r,i){r instanceof ns||r instanceof Ot?this.insert(this.createText(n),r,"end"):this.insert(this.createText(n,r),i,"end")}appendElement(n,r,i){r instanceof ns||r instanceof Ot?this.insert(this.createElement(n),r,"end"):this.insert(this.createElement(n,r),i,"end")}setAttribute(n,r,i){if(this._assertWriterUsedCorrectly(),i instanceof re){const l=i.getMinimalFlatRanges();for(const d of l)SD(this,n,r,d)}else TD(this,n,r,i)}setAttributes(n,r){for(const[i,l]of Ci(n))this.setAttribute(i,l,r)}removeAttribute(n,r){if(this._assertWriterUsedCorrectly(),r instanceof re){const i=r.getMinimalFlatRanges();for(const l of i)SD(this,n,null,l)}else TD(this,n,null,r)}clearAttributes(n){this._assertWriterUsedCorrectly();const r=i=>{for(const l of i.getAttributeKeys())this.removeAttribute(l,i)};if(n instanceof re)for(const i of n.getItems())r(i);else r(n)}move(n,r,i){if(this._assertWriterUsedCorrectly(),!(n instanceof re))throw new M("writer-move-invalid-range",this);if(!n.isFlat)throw new M("writer-move-range-not-flat",this);const l=he._createAt(r,i);if(l.isEqual(n.start))return;if(this._addOperationForAffectedMarkers("move",n),!ID(n.root,l.root))throw new M("writer-move-different-document",this);const d=n.root.document?n.root.document.version:null,h=new Ct(n.start,n.end.offset-n.start.offset,l,d);this.batch.addOperation(h),this.model.applyOperation(h)}remove(n){this._assertWriterUsedCorrectly();const r=(n instanceof re?n:re._createOn(n)).getMinimalFlatRanges().reverse();for(const i of r)this._addOperationForAffectedMarkers("move",i),GG(i.start,i.end.offset-i.start.offset,this.batch,this.model)}merge(n){this._assertWriterUsedCorrectly();const r=n.nodeBefore,i=n.nodeAfter;if(this._addOperationForAffectedMarkers("merge",n),!(r instanceof Ot))throw new M("writer-merge-no-element-before",this);if(!(i instanceof Ot))throw new M("writer-merge-no-element-after",this);n.root.document?this._merge(n):this._mergeDetached(n)}createPositionFromPath(n,r,i){return this.model.createPositionFromPath(n,r,i)}createPositionAt(n,r){return this.model.createPositionAt(n,r)}createPositionAfter(n){return this.model.createPositionAfter(n)}createPositionBefore(n){return this.model.createPositionBefore(n)}createRange(n,r){return this.model.createRange(n,r)}createRangeIn(n){return this.model.createRangeIn(n)}createRangeOn(n){return this.model.createRangeOn(n)}createSelection(...n){return this.model.createSelection(...n)}_mergeDetached(n){const r=n.nodeBefore,i=n.nodeAfter;this.move(re._createIn(i),he._createAt(r,"end")),this.remove(i)}_merge(n){const r=he._createAt(n.nodeBefore,"end"),i=he._createAt(n.nodeAfter,0),l=n.root.document.graveyard,d=new he(l,[0]),h=n.root.document.version,f=new kn(i,n.nodeAfter.maxOffset,r,d,h);this.batch.addOperation(f),this.model.applyOperation(f)}rename(n,r){if(this._assertWriterUsedCorrectly(),!(n instanceof Ot))throw new M("writer-rename-not-element-instance",this);const i=n.root.document?n.root.document.version:null,l=new zo(he._createBefore(n),n.name,r,i);this.batch.addOperation(l),this.model.applyOperation(l)}split(n,r){this._assertWriterUsedCorrectly();let i,l,d=n.parent;if(!d.parent)throw new M("writer-split-element-no-parent",this);if(r||(r=d.parent),!n.parent.getAncestors({includeSelf:!0}).includes(r))throw new M("writer-split-invalid-limit-element",this);do{const h=d.root.document?d.root.document.version:null,f=d.maxOffset-n.offset,k=Ht.getInsertionPosition(n),b=new Ht(n,f,k,null,h);this.batch.addOperation(b),this.model.applyOperation(b),i||l||(i=d,l=n.parent.nextSibling),d=(n=this.createPositionAfter(n.parent)).parent}while(d!==r);return{position:n,range:new re(he._createAt(i,"end"),he._createAt(l,0))}}wrap(n,r){if(this._assertWriterUsedCorrectly(),!n.isFlat)throw new M("writer-wrap-range-not-flat",this);const i=r instanceof Ot?r:new Ot(r);if(i.childCount>0)throw new M("writer-wrap-element-not-empty",this);if(i.parent!==null)throw new M("writer-wrap-element-attached",this);this.insert(i,n.start);const l=new re(n.start.getShiftedBy(1),n.end.getShiftedBy(1));this.move(l,he._createAt(i,0))}unwrap(n){if(this._assertWriterUsedCorrectly(),n.parent===null)throw new M("writer-unwrap-element-no-parent",this);this.move(re._createIn(n),this.createPositionAfter(n)),this.remove(n)}addMarker(n,r){if(this._assertWriterUsedCorrectly(),!r||typeof r.usingOperation!="boolean")throw new M("writer-addmarker-no-usingoperation",this);const i=r.usingOperation,l=r.range,d=r.affectsData!==void 0&&r.affectsData;if(this.model.markers.has(n))throw new M("writer-addmarker-marker-exists",this);if(!l)throw new M("writer-addmarker-no-range",this);return i?(nh(this,n,null,l,d),this.model.markers.get(n)):this.model.markers._set(n,l,i,d)}updateMarker(n,r){this._assertWriterUsedCorrectly();const i=typeof n=="string"?n:n.name,l=this.model.markers.get(i);if(!l)throw new M("writer-updatemarker-marker-not-exists",this);if(!r)return U("writer-updatemarker-reconvert-using-editingcontroller",{markerName:i}),void this.model.markers._refresh(l);const d=typeof r.usingOperation=="boolean",h=typeof r.affectsData=="boolean",f=h?r.affectsData:l.affectsData;if(!d&&!r.range&&!h)throw new M("writer-updatemarker-wrong-options",this);const k=l.getRange(),b=r.range?r.range:k;d&&r.usingOperation!==l.managedUsingOperations?r.usingOperation?nh(this,i,null,b,f):(nh(this,i,k,null,f),this.model.markers._set(i,b,void 0,f)):l.managedUsingOperations?nh(this,i,k,b,f):this.model.markers._set(i,b,void 0,f)}removeMarker(n){this._assertWriterUsedCorrectly();const r=typeof n=="string"?n:n.name;if(!this.model.markers.has(r))throw new M("writer-removemarker-no-marker",this);const i=this.model.markers.get(r);if(!i.managedUsingOperations)return void this.model.markers._remove(r);nh(this,r,i.getRange(),null,i.affectsData)}addRoot(n,r="$root"){this._assertWriterUsedCorrectly();const i=this.model.document.getRoot(n);if(i&&i.isAttached())throw new M("writer-addroot-root-exists",this);const l=this.model.document,d=new Si(n,r,!0,l,l.version);return this.batch.addOperation(d),this.model.applyOperation(d),this.model.document.getRoot(n)}detachRoot(n){this._assertWriterUsedCorrectly();const r=typeof n=="string"?this.model.document.getRoot(n):n;if(!r||!r.isAttached())throw new M("writer-detachroot-no-root",this);for(const d of this.model.markers)d.getRange().root===r&&this.removeMarker(d);for(const d of r.getAttributeKeys())this.removeAttribute(d,r);this.remove(this.createRangeIn(r));const i=this.model.document,l=new Si(r.rootName,r.name,!1,i,i.version);this.batch.addOperation(l),this.model.applyOperation(l)}setSelection(...n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...n)}setSelectionFocus(n,r){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(n,r)}setSelectionAttribute(n,r){if(this._assertWriterUsedCorrectly(),typeof n=="string")this._setSelectionAttribute(n,r);else for(const[i,l]of Ci(n))this._setSelectionAttribute(i,l)}removeSelectionAttribute(n){if(this._assertWriterUsedCorrectly(),typeof n=="string")this._removeSelectionAttribute(n);else for(const r of n)this._removeSelectionAttribute(r)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(n){this.model.document.selection._restoreGravity(n)}_setSelectionAttribute(n,r){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const l=ai._getStoreAttributeKey(n);this.setAttribute(l,r,i.anchor.parent)}i._setAttribute(n,r)}_removeSelectionAttribute(n){const r=this.model.document.selection;if(r.isCollapsed&&r.anchor.parent.isEmpty){const i=ai._getStoreAttributeKey(n);this.removeAttribute(i,r.anchor.parent)}r._removeAttribute(n)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new M("writer-incorrect-use",this)}_addOperationForAffectedMarkers(n,r){for(const i of this.model.markers){if(!i.managedUsingOperations)continue;const l=i.getRange();let d=!1;if(n==="move"){const h=r;d=h.containsPosition(l.start)||h.start.isEqual(l.start)||h.containsPosition(l.end)||h.end.isEqual(l.end)}else{const h=r,f=h.nodeBefore,k=h.nodeAfter,b=l.start.parent==f&&l.start.isAtEnd,w=l.end.parent==k&&l.end.offset==0,A=l.end.nodeAfter==k,E=l.start.nodeAfter==k;d=b||w||A||E}d&&this.updateMarker(i.name,{range:l})}}}function SD(a,n,r,i){const l=a.model,d=l.document;let h,f,k,b=i.start;for(const A of i.getWalker({shallow:!0}))k=A.item.getAttribute(n),h&&f!=k&&(f!=r&&w(),b=h),h=A.nextPosition,f=k;function w(){const A=new re(b,h),E=A.root.document?d.version:null,I=new En(A,n,f,r,E);a.batch.addOperation(I),l.applyOperation(I)}h instanceof he&&h!=b&&f!=r&&w()}function TD(a,n,r,i){const l=a.model,d=l.document,h=i.getAttribute(n);let f,k;if(h!=r){if(i.root===i){const b=i.document?d.version:null;k=new ts(i,n,h,r,b)}else{f=new re(he._createBefore(i),a.createPositionAfter(i));const b=f.root.document?d.version:null;k=new En(f,n,h,r,b)}a.batch.addOperation(k),l.applyOperation(k)}}function nh(a,n,r,i,l){const d=a.model,h=d.document,f=new jo(n,r,i,d.markers,!!l,h.version);a.batch.addOperation(f),d.applyOperation(f)}function GG(a,n,r,i){let l;if(a.root.document){const d=i.document,h=new he(d.graveyard,[0]);l=new Ct(a,n,h,d.version)}else l=new WG(a,n);r.addOperation(l),i.applyOperation(l)}function ID(a,n){return a===n||a instanceof Qg&&n instanceof Qg}function KG(a,n,r={}){if(n.isCollapsed)return;const i=n.getFirstRange();if(i.root.rootName=="$graveyard")return;const l=a.schema;a.change(d=>{if(!r.doNotResetEntireContent&&function(b,w){const A=b.getLimitElement(w);if(!w.containsEntireContent(A))return!1;const E=w.getFirstRange();return E.start.parent==E.end.parent?!1:b.checkChild(A,"paragraph")}(l,n))return void function(b,w){const A=b.model.schema.getLimitElement(w);b.remove(b.createRangeIn(A)),PD(b,b.createPositionAt(A,0),w)}(d,n);const h={};if(!r.doNotAutoparagraph){const b=n.getSelectedElement();b&&Object.assign(h,l.getAttributesWithProperty(b,"copyOnReplace",!0))}const[f,k]=function(b){const w=b.root.document.model,A=b.start;let E=b.end;if(w.hasContent(b,{ignoreMarkers:!0})){const I=function(O){const L=O.parent,F=L.root.document.model.schema,W=L.getAncestors({parentFirst:!0,includeSelf:!0});for(const Y of W){if(F.isLimit(Y))return null;if(F.isBlock(Y))return Y}}(E);if(I&&E.isTouching(w.createPositionAt(I,0))){const O=w.createSelection(b);w.modifySelection(O,{direction:"backward"});const L=O.getLastPosition(),F=w.createRange(L,E);w.hasContent(F,{ignoreMarkers:!0})||(E=L)}}return[no.fromPosition(A,"toPrevious"),no.fromPosition(E,"toNext")]}(i);f.isTouching(k)||d.remove(d.createRange(f,k)),r.leaveUnmerged||(function(b,w,A){const E=b.model;if(!wy(b.model.schema,w,A))return;const[I,O]=function(L,F){const W=L.getAncestors(),Y=F.getAncestors();let J=0;for(;W[J]&&W[J]==Y[J];)J++;return[W[J],Y[J]]}(w,A);!I||!O||(!E.hasContent(I,{ignoreMarkers:!0})&&E.hasContent(O,{ignoreMarkers:!0})?MD(b,w,A,I.parent):DD(b,w,A,I.parent))}(d,f,k),l.removeDisallowedAttributes(f.parent.getChildren(),d)),ND(d,n,f),!r.doNotAutoparagraph&&function(b,w){const A=b.checkChild(w,"$text"),E=b.checkChild(w,"paragraph");return!A&&E}(l,f)&&PD(d,f,n,h),f.detach(),k.detach()})}function DD(a,n,r,i){const l=n.parent,d=r.parent;if(l!=i&&d!=i){for(n=a.createPositionAfter(l),(r=a.createPositionBefore(d)).isEqual(n)||a.insert(d,n),a.merge(n);r.parent.isEmpty;){const h=r.parent;r=a.createPositionBefore(h),a.remove(h)}wy(a.model.schema,n,r)&&DD(a,n,r,i)}}function MD(a,n,r,i){const l=n.parent,d=r.parent;if(l!=i&&d!=i){for(n=a.createPositionAfter(l),(r=a.createPositionBefore(d)).isEqual(n)||a.insert(l,r);n.parent.isEmpty;){const h=n.parent;n=a.createPositionBefore(h),a.remove(h)}r=a.createPositionBefore(d),function(h,f){const k=f.nodeBefore,b=f.nodeAfter;k.name!=b.name&&h.rename(k,b.name),h.clearAttributes(k),h.setAttributes(Object.fromEntries(b.getAttributes()),k),h.merge(f)}(a,r),wy(a.model.schema,n,r)&&MD(a,n,r,i)}}function wy(a,n,r){const i=n.parent,l=r.parent;return i!=l&&!a.isLimit(i)&&!a.isLimit(l)&&function(d,h,f){const k=new re(d,h);for(const b of k.getWalker())if(f.isLimit(b.item))return!1;return!0}(n,r,a)}function PD(a,n,r,i={}){const l=a.createElement("paragraph");a.model.schema.setAllowedAttributes(l,i,a),a.insert(l,n),ND(a,r,a.createPositionAt(l,0))}function ND(a,n,r){n instanceof ai?a.setSelection(r):n.setTo(r)}function RD(a,n){const r=[];Array.from(a.getItems({direction:"backward"})).map(i=>n.createRangeOn(i)).filter(i=>(i.start.isAfter(a.start)||i.start.isEqual(a.start))&&(i.end.isBefore(a.end)||i.end.isEqual(a.end))).forEach(i=>{r.push(i.start.parent),n.remove(i)}),r.forEach(i=>{let l=i;for(;l.parent&&l.isEmpty;){const d=n.createRangeOn(l);l=l.parent,n.remove(d)}})}class YG{constructor(n,r,i){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=n,this.writer=r,this.position=i,this.canMergeWith=new Set([this.position.parent]),this.schema=n.schema,this._documentFragment=r.createDocumentFragment(),this._documentFragmentPosition=r.createPositionAt(this._documentFragment,0)}handleNodes(n){for(const r of Array.from(n))this._handleNode(r);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(n){const r=this.writer.createPositionAfter(this._lastNode),i=this.writer.createPositionAfter(n);if(i.isAfter(r)){if(this._lastNode=n,this.position.parent!=n||!this.position.isAtEnd)throw new M("insertcontent-invalid-insertion-position",this);this.position=i,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?re._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new re(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(n){if(this.schema.isObject(n))return void this._handleObject(n);let r=this._checkAndAutoParagraphToAllowedPosition(n);r||(r=this._checkAndSplitToAllowedPosition(n),r)?(this._appendToFragment(n),this._firstNode||(this._firstNode=n),this._lastNode=n):this._handleDisallowedNode(n)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const n=no.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=n.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=n.toPosition(),n.detach()}_handleObject(n){this._checkAndSplitToAllowedPosition(n)?this._appendToFragment(n):this._tryAutoparagraphing(n)}_handleDisallowedNode(n){n.is("element")?this.handleNodes(n.getChildren()):this._tryAutoparagraphing(n)}_appendToFragment(n){if(!this.schema.checkChild(this.position,n))throw new M("insertcontent-wrong-position",this,{node:n,position:this.position});this.writer.insert(n,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(n.offsetSize),this.schema.isObject(n)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=n:this._nodeToSelect=null,this._filterAttributesOf.push(n)}_setAffectedBoundaries(n){this._affectedStart||(this._affectedStart=no.fromPosition(n,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(n)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=no.fromPosition(n,"toNext"))}_mergeOnLeft(){const n=this._firstNode;if(!(n instanceof Ot)||!this._canMergeLeft(n))return;const r=no._createBefore(n);r.stickiness="toNext";const i=no.fromPosition(this.position,"toNext");this._affectedStart.isEqual(r)&&(this._affectedStart.detach(),this._affectedStart=no._createAt(r.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=r.nodeBefore,this._lastNode=r.nodeBefore),this.writer.merge(r),r.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=no._createAt(r.nodeBefore,"end","toNext")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),r.detach()}_mergeOnRight(){const n=this._lastNode;if(!(n instanceof Ot)||!this._canMergeRight(n))return;const r=no._createAfter(n);if(r.stickiness="toNext",!this.position.isEqual(r))throw new M("insertcontent-invalid-insertion-position",this);this.position=he._createAt(r.nodeBefore,"end");const i=no.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(r)&&(this._affectedEnd.detach(),this._affectedEnd=no._createAt(r.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=r.nodeBefore,this._lastNode=r.nodeBefore),this.writer.merge(r),r.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=no._createAt(r.nodeBefore,0,"toPrevious")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),r.detach()}_canMergeLeft(n){const r=n.previousSibling;return r instanceof Ot&&this.canMergeWith.has(r)&&this.model.schema.checkMerge(r,n)}_canMergeRight(n){const r=n.nextSibling;return r instanceof Ot&&this.canMergeWith.has(r)&&this.model.schema.checkMerge(n,r)}_tryAutoparagraphing(n){const r=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,r)&&this.schema.checkChild(r,n)&&(r._appendChild(n),this._handleNode(r))}_checkAndAutoParagraphToAllowedPosition(n){if(this.schema.checkChild(this.position.parent,n))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",n))return!1;this._insertPartialFragment();const r=this.writer.createElement("paragraph");return this.writer.insert(r,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=r,this.position=this.writer.createPositionAt(r,0),!0}_checkAndSplitToAllowedPosition(n){const r=this._getAllowedIn(this.position.parent,n);if(!r)return!1;for(r!=this.position.parent&&this._insertPartialFragment();r!=this.position.parent;)if(this.position.isAtStart){const i=this.position.parent;this.position=this.writer.createPositionBefore(i),i.isEmpty&&i.parent===r&&this.writer.remove(i)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const i=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=i,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(n,r){return this.schema.checkChild(n,r)?n:this.schema.isLimit(n)?null:this._getAllowedIn(n.parent,r)}}function QG(a,n,r,i={}){if(!a.schema.isObject(n))throw new M("insertobject-element-not-an-object",a,{object:n});const l=r||a.document.selection;let d=l;i.findOptimalPosition&&a.schema.isBlock(n)&&(d=a.createSelection(a.schema.findOptimalInsertionRange(l,i.findOptimalPosition)));const h=qn(l.getSelectedBlocks()),f={};return h&&Object.assign(f,a.schema.getAttributesWithProperty(h,"copyOnReplace",!0)),a.change(k=>{d.isCollapsed||a.deleteContent(d,{doNotAutoparagraph:!0});let b=n;const w=d.anchor.parent;!a.schema.checkChild(w,n)&&a.schema.checkChild(w,"paragraph")&&a.schema.checkChild("paragraph",n)&&(b=k.createElement("paragraph"),k.insert(n,b)),a.schema.setAllowedAttributes(b,f,k);const A=a.insertContent(b,d);return A.isCollapsed||i.setSelection&&function(E,I,O,L){const F=E.model;if(O=="on")return void E.setSelection(I,"on");if(O!="after")throw new M("insertobject-invalid-place-parameter-value",F);let W=I.nextSibling;if(F.schema.isInline(I))return void E.setSelection(I,"after");!(W&&F.schema.checkChild(W,"$text"))&&F.schema.checkChild(I.parent,"paragraph")&&(W=E.createElement("paragraph"),F.schema.setAllowedAttributes(W,L,E),F.insertContent(W,E.createPositionAfter(I))),W&&E.setSelection(W,0)}(k,n,i.setSelection,f),A})}const ZG=' ,.?!:;"-()';function JG(a,n){const{isForward:r,walker:i,unit:l,schema:d,treatEmojiAsSingleUnit:h}=a,{type:f,item:k,nextPosition:b}=n;if(f=="text")return a.unit==="word"?function(w,A){let E=w.position.textNode;for(E||(E=A?w.position.nodeAfter:w.position.nodeBefore);E&&E.is("$text");){const I=w.position.offset-E.startOffset;if(tK(E,I,A))E=A?w.position.nodeAfter:w.position.nodeBefore;else{if(eK(E.data,I,A))break;w.next()}}return w.position}(i,r):function(w,A,E){const I=w.position.textNode;if(I){const O=I.data;let L=w.position.offset-I.startOffset;for(;zw(O,L)||A=="character"&&Fw(O,L)||E&&_T(O,L);)w.next(),L=w.position.offset-I.startOffset}return w.position}(i,l,h);if(f==(r?"elementStart":"elementEnd")){if(d.isSelectable(k))return he._createAt(k,r?"after":"before");if(d.checkChild(b,"$text"))return b}else{if(d.isLimit(k))return void i.skip(()=>!0);if(d.checkChild(b,"$text"))return b}}function XG(a,n){const r=a.root,i=he._createAt(r,n?"end":0);return n?new re(a,i):new re(i,a)}function eK(a,n,r){const i=n+(r?0:-1);return ZG.includes(a.charAt(i))}function tK(a,n,r){return n===(r?a.offsetSize:0)}class nK extends Q(){constructor(){super(),this.markers=new HG,this.document=new jG(this),this.schema=new Qq,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(n=>this.decorate(n)),this.on("applyOperation",(n,r)=>{r[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((n,r)=>{if(r.name==="$marker")return!0}),Gq(this),this.document.registerPostFixer(WI),this.on("insertContent",(n,[r,i])=>{n.return=function(l,d,h){return l.change(f=>{const k=h||l.document.selection;k.isCollapsed||l.deleteContent(k,{doNotAutoparagraph:!0});const b=new YG(l,f,k.anchor),w=[];let A;if(d.is("documentFragment")){if(d.markers.size){const O=[];for(const[L,F]of d.markers){const{start:W,end:Y}=F,J=W.isEqual(Y);O.push({position:W,name:L,isCollapsed:J},{position:Y,name:L,isCollapsed:J})}O.sort(({position:L},{position:F})=>L.isBefore(F)?1:-1);for(const{position:L,name:F,isCollapsed:W}of O){let Y=null,J=null;const ce=L.parent===d&&L.isAtStart,we=L.parent===d&&L.isAtEnd;ce||we?W&&(J=ce?"start":"end"):(Y=f.createElement("$marker"),f.insert(Y,L)),w.push({name:F,element:Y,collapsed:J})}}A=d.getChildren()}else A=[d];b.handleNodes(A);let E=b.getSelectionRange();if(d.is("documentFragment")&&w.length){const O=E?sr.fromRange(E):null,L={};for(let F=w.length-1;F>=0;F--){const{name:W,element:Y,collapsed:J}=w[F],ce=!L[W];if(ce&&(L[W]=[]),Y){const we=f.createPositionAt(Y,"before");L[W].push(we),f.remove(Y)}else{const we=b.getAffectedRange();if(!we){J&&L[W].push(b.position);continue}J?L[W].push(we[J]):L[W].push(ce?we.start:we.end)}}for(const[F,[W,Y]]of Object.entries(L))W&&Y&&W.root===Y.root&&W.root.document&&!f.model.markers.has(F)&&f.addMarker(F,{usingOperation:!0,affectsData:!0,range:new re(W,Y)});O&&(E=O.toRange(),O.detach())}E&&(k instanceof ai?f.setSelection(E):k.setTo(E));const I=b.getAffectedRange()||l.createRange(k.anchor);return b.destroy(),I})}(this,r,i)}),this.on("insertObject",(n,[r,i,l])=>{n.return=QG(this,r,i,l)}),this.on("canEditAt",n=>{const r=!this.document.isReadOnly;n.return=r,r||n.stop()})}change(n){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Tc,callback:n}),this._runPendingChanges()[0]):n(this._currentWriter)}catch(r){M.rethrowUnexpectedError(r,this)}}enqueueChange(n,r){try{n?typeof n=="function"?(r=n,n=new Tc):n instanceof Tc||(n=new Tc(n)):n=new Tc,this._pendingChanges.push({batch:n,callback:r}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(i){M.rethrowUnexpectedError(i,this)}}applyOperation(n){n._execute()}insertContent(n,r,i,...l){const d=yy(r,i);return this.fire("insertContent",[n,d,i,...l])}insertObject(n,r,i,l,...d){const h=yy(r,i);return this.fire("insertObject",[n,h,l,l,...d])}deleteContent(n,r){KG(this,n,r)}modifySelection(n,r){(function(i,l,d={}){const h=i.schema,f=d.direction!="backward",k=d.unit?d.unit:"character",b=!!d.treatEmojiAsSingleUnit,w=l.focus,A=new es({boundaries:XG(w,f),singleCharacters:!0,direction:f?"forward":"backward"}),E={walker:A,schema:h,isForward:f,unit:k,treatEmojiAsSingleUnit:b};let I;for(;I=A.next();){if(I.done)return;const O=JG(E,I.value);if(O)return void(l instanceof ai?i.change(L=>{L.setSelectionFocus(O)}):l.setFocus(O))}})(this,n,r)}getSelectedContent(n){return function(r,i){return r.change(l=>{const d=l.createDocumentFragment(),h=i.getFirstRange();if(!h||h.isCollapsed)return d;const f=h.start.root,k=h.start.getCommonPath(h.end),b=f.getNodeByPath(k);let w;w=h.start.parent==h.end.parent?h:l.createRange(l.createPositionAt(b,h.start.path[k.length]),l.createPositionAt(b,h.end.path[k.length]+1));const A=w.end.offset-w.start.offset;for(const E of w.getItems({shallow:!0}))E.is("$textProxy")?l.appendText(E.data,E.getAttributes(),d):l.append(l.cloneElement(E,!0),d);if(w!=h){const E=h._getTransformedByMove(w.start,l.createPositionAt(d,0),A)[0],I=l.createRange(l.createPositionAt(d,0),E.start);RD(l.createRange(E.end,l.createPositionAt(d,"end")),l),RD(I,l)}return d})}(this,n)}hasContent(n,r={}){const i=n instanceof re?n:re._createIn(n);if(i.isCollapsed)return!1;const{ignoreWhitespaces:l=!1,ignoreMarkers:d=!1}=r;if(!d){for(const h of this.markers.getMarkersIntersectingRange(i))if(h.affectsData)return!0}for(const h of i.getItems())if(this.schema.isContent(h)&&(!h.is("$textProxy")||!l||h.data.search(/\S/)!==-1))return!0;return!1}canEditAt(n){const r=yy(n);return this.fire("canEditAt",[r])}createPositionFromPath(n,r,i){return new he(n,r,i)}createPositionAt(n,r){return he._createAt(n,r)}createPositionAfter(n){return he._createAfter(n)}createPositionBefore(n){return he._createBefore(n)}createRange(n,r){return new re(n,r)}createRangeIn(n){return re._createIn(n)}createRangeOn(n){return re._createOn(n)}createSelection(...n){return new ir(...n)}createBatch(n){return new Tc(n)}createOperationFromJSON(n){return bG.fromJSON(n,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const n=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const r=this._pendingChanges[0].batch;this._currentWriter=new qG(this,r);const i=this._pendingChanges[0].callback(this._currentWriter);n.push(i),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return n}}function yy(a,n){if(a)return a instanceof ir||a instanceof ai?a:a instanceof rl?n||n===0?new ir(a,n):a.is("rootElement")?new ir(a,"in"):new ir(a,"on"):new ir(a)}class oK extends Vs{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(n){this.fire(n.type,n)}}class _y extends Vs{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(n){this.fire(n.type,n)}}class os{constructor(n){this.document=n}createDocumentFragment(n){return new ol(this.document,n)}createElement(n,r,i){return new or(this.document,n,r,i)}createText(n){return new Vt(this.document,n)}clone(n,r=!1){return n._clone(r)}appendChild(n,r){return r._appendChild(n)}insertChild(n,r,i){return i._insertChild(n,r)}removeChildren(n,r,i){return i._removeChildren(n,r)}remove(n){const r=n.parent;return r?this.removeChildren(r.getChildIndex(n),1,r):[]}replace(n,r){const i=n.parent;if(i){const l=i.getChildIndex(n);return this.removeChildren(l,1,i),this.insertChild(l,r,i),!0}return!1}unwrapElement(n){const r=n.parent;if(r){const i=r.getChildIndex(n);this.remove(n),this.insertChild(i,n.getChildren(),r)}}rename(n,r){const i=new or(this.document,n,r.getAttributes(),r.getChildren());return this.replace(r,i)?i:null}setAttribute(n,r,i){i._setAttribute(n,r)}removeAttribute(n,r){r._removeAttribute(n)}addClass(n,r){r._addClass(n)}removeClass(n,r){r._removeClass(n)}setStyle(n,r,i){To(n)&&i===void 0?r._setStyle(n):i._setStyle(n,r)}removeStyle(n,r){r._removeStyle(n)}setCustomProperty(n,r,i){i._setCustomProperty(n,r)}removeCustomProperty(n,r){return r._removeCustomProperty(n)}createPositionAt(n,r){return ve._createAt(n,r)}createPositionAfter(n){return ve._createAfter(n)}createPositionBefore(n){return ve._createBefore(n)}createRange(n,r){return new Ke(n,r)}createRangeOn(n){return Ke._createOn(n)}createRangeIn(n){return Ke._createIn(n)}createSelection(...n){return new oi(...n)}}class rK{constructor(){this._commands=new Map}add(n,r){this._commands.set(n,r)}get(n){return this._commands.get(n)}execute(n,...r){const i=this.get(n);if(!i)throw new M("commandcollection-command-not-found",this,{commandName:n});return i.execute(...r)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const n of this.commands())n.destroy()}}var iK=Object.defineProperty,OD=Object.getOwnPropertySymbols,sK=Object.prototype.hasOwnProperty,aK=Object.prototype.propertyIsEnumerable,BD=(a,n,r)=>n in a?iK(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r;const Cy="contentEditing",LD="common";class lK{constructor(n){this.keystrokeInfos=new Map,this._editor=n;const r=n.config.get("menuBar.isVisible"),i=n.locale.t;this.addKeystrokeInfoCategory({id:Cy,label:i("Content editing keystrokes"),description:i("These keyboard shortcuts allow for quick access to content editing features.")});const l=[{label:i("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:i("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:i("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:i("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:i("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:i("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];r&&l.push({label:i("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:i("User interface and content navigation keystrokes"),description:i("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:l}]})}addKeystrokeInfoCategory({id:n,label:r,description:i,groups:l}){this.keystrokeInfos.set(n,{id:n,label:r,description:i,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:n,id:LD}),l&&l.forEach(d=>{this.addKeystrokeInfoGroup(((h,f)=>{for(var k in f||(f={}))sK.call(f,k)&&BD(h,k,f[k]);if(OD)for(var k of OD(f))aK.call(f,k)&&BD(h,k,f[k]);return h})({categoryId:n},d))})}addKeystrokeInfoGroup({categoryId:n=Cy,id:r,label:i,keystrokes:l}){const d=this.keystrokeInfos.get(n);if(!d)throw new M("accessibility-unknown-keystroke-info-category",this._editor,{groupId:r,categoryId:n});d.groups.set(r,{id:r,label:i,keystrokes:l||[]})}addKeystrokeInfos({categoryId:n=Cy,groupId:r=LD,keystrokes:i}){if(!this.keystrokeInfos.has(n))throw new M("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:n,keystrokes:i});const l=this.keystrokeInfos.get(n);if(!l.groups.has(r))throw new M("accessibility-unknown-keystroke-info-group",this._editor,{groupId:r,categoryId:n,keystrokes:i});l.groups.get(r).keystrokes.push(...i)}}var jD=Object.getOwnPropertySymbols,cK=Object.prototype.hasOwnProperty,dK=Object.prototype.propertyIsEnumerable,zD=(a,n)=>{var r={};for(var i in a)cK.call(a,i)&&n.indexOf(i)<0&&(r[i]=a[i]);if(a!=null&&jD)for(var i of jD(a))n.indexOf(i)<0&&dK.call(a,i)&&(r[i]=a[i]);return r};class uK extends Q(){constructor(n={}){super();const r=this.constructor,i=r.defaultConfig||{},{translations:l}=i,d=zD(i,["translations"]),h=n,{translations:f=l}=h,k=zD(h,["translations"]),b=n.language||d.language;this._context=n.context||new zT({language:b,translations:f}),this._context._addEditor(this,!n.context);const w=Array.from(r.builtinPlugins||[]);this.config=new QS(k,d),this.config.define("plugins",w),this.config.define(this._context._getEditorConfig()),this.plugins=new LT(this,w,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new rK,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new nK,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const A=new EW;this.data=new mG(this.model,A),this.editing=new Kq(this.model,A),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new kG([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new rW(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new lK(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(n){throw new M("editor-isreadonly-has-no-setter")}enableReadOnlyMode(n){if(typeof n!="string"&&typeof n!="symbol")throw new M("editor-read-only-lock-id-invalid",null,{lockId:n});this._readOnlyLocks.has(n)||(this._readOnlyLocks.add(n),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(n){if(typeof n!="string"&&typeof n!="symbol")throw new M("editor-read-only-lock-id-invalid",null,{lockId:n});this._readOnlyLocks.has(n)&&(this._readOnlyLocks.delete(n),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(n){this.data.set(n)}getData(n){return this.data.get(n)}initPlugins(){const n=this.config,r=n.get("plugins"),i=n.get("removePlugins")||[],l=n.get("extraPlugins")||[],d=n.get("substitutePlugins")||[];return this.plugins.init(r.concat(l),i,d)}destroy(){let n=Promise.resolve();return this.state=="initializing"&&(n=new Promise(r=>this.once("ready",r))),n.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(n,...r){try{return this.commands.execute(n,...r)}catch(i){M.rethrowUnexpectedError(i,this)}}focus(){this.editing.view.focus()}static create(...n){throw new Error("This is an abstract method.")}}function Ay(a){return class extends a{updateSourceElement(n){if(!this.sourceElement)throw new M("editor-missing-sourceelement",this);const r=this.config.get("updateSourceElementOnDestroy"),i=this.sourceElement instanceof HTMLTextAreaElement;if(!r&&!i)return void iT(this.sourceElement,"");const l=typeof n=="string"?n:this.data.get();iT(this.sourceElement,l)}}}Ay.updateSourceElement=Ay(Object).prototype.updateSourceElement;class FD extends Ng{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new ti({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(n){if(typeof n!="string")throw new M("pendingactions-add-invalid-message",this);const r=new(Q());return r.set("message",n),this._actions.add(r),this.hasAny=!0,r}remove(n){this._actions.remove(n),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Ze={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',colorPalette:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',imageUrl:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.401 5.401 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023c.449.131.887.32 1.307.573l.058.033c.046.028.09.057.135.086V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.118 2.118 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.647.647 0 0 0-.096.492.664.664 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.741 1.741 0 0 1 2.478-.463 1.869 1.869 0 0 1 .476 2.55.637.637 0 0 0-.071.5.646.646 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.228 3.228 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.626.626 0 0 0 .092-.475.638.638 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.741 1.741 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236l1.268-1.907Z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeCustom:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:v="https://vecta.io/nano" viewBox="0 0 20 20"><path d="M.95 1.43a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h.75v6.3H.95a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-.65h1.932l1.539-1.5H5v-.95a.95.95 0 0 0-.95-.95H3.2v-6.3h.85A.95.95 0 0 0 5 5.48v-.55h10v.55a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-3.1a.95.95 0 0 0-.95-.95h-3.1a.95.95 0 0 0-.95.95v1.05H5V2.38a.95.95 0 0 0-.95-.95H.95zm.55 3.5v-2h2v2h-2zm0 9.3v2h2v-2h-2zm15-11.3v2h2v-2h-2z"/><path d="M8.139 20.004v-2.388l7.045-7.048 2.391 2.391-7.046 7.046h-2.39zm11.421-9.101a.64.64 0 0 1-.138.206l-1.165 1.168-2.391-2.391 1.167-1.163a.63.63 0 0 1 .206-.138.635.635 0 0 1 .243-.049.63.63 0 0 1 .449.187l1.491 1.488c.059.059.108.129.138.206s.049.16.049.243a.6.6 0 0 1-.049.243z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2ZM13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7h11Z"/></svg>',objectSizeSmall:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2ZM7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11h5Z"/></svg>',objectSizeMedium:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2ZM10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9h8Z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',todoList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',codeBlock:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',heading1:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',heading2:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',heading3:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',heading4:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',heading5:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',heading6:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>',horizontalLine:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',html:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'};var $D=c(7801),hK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()($D.A,hK),$D.A.locals;class Zg extends Le{constructor(n){super(n),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${B()}`;const r=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:r.to("for")},children:[{text:r.to("text")}]})}}class pK extends Le{constructor(n,r){super(n);const i=n.t,l=new Zg;l.text=i("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":l.id,role:"document",tabindex:-1},children:[Lo(document,"p",{},i("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(r.values())),l]})}focus(){this.element.focus()}_createCategories(n){return n.map(r=>{const i=[Lo(document,"h3",{},r.label),...Array.from(r.groups.values()).map(l=>this._createGroup(l)).flat()];return r.description&&i.splice(1,0,Lo(document,"p",{},r.description)),Lo(document,"section",{},i)})}_createGroup(n){const r=n.keystrokes.sort((l,d)=>l.label.localeCompare(d.label)).map(l=>this._createGroupRow(l)).flat(),i=[Lo(document,"dl",{},r)];return n.label&&i.unshift(Lo(document,"h4",{},n.label)),i}_createGroupRow(n){const r=this.locale.t,i=Lo(document,"dt"),l=Lo(document,"dd"),d=function(f){return typeof f=="string"?[[f]]:typeof f[0]=="string"?[f]:f}(n.keystroke),h=[];for(const f of d)h.push(f.map(fK).join(""));return i.innerHTML=n.label,l.innerHTML=h.join(", ")+(n.mayRequireFn&&_.isMac?` ${r("(may require <kbd>Fn</kbd>)")}`:""),[i,l]}}function fK(a){return Tg(a).split("+").map(n=>`<kbd>${n}</kbd>`).join("+")}const VD='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var UD=c(8527),gK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(UD.A,gK),UD.A.locals;class mK extends pe{constructor(){super(...arguments),this.contentView=null}static get requires(){return[ss]}static get pluginName(){return"AccessibilityHelp"}init(){const n=this.editor,r=n.locale.t;n.ui.componentFactory.add("accessibilityHelp",()=>{const i=this._createButton(At);return i.set({tooltip:!0,withText:!1,label:r("Accessibility help")}),i}),n.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const i=this._createButton(lr);return i.label=r("Accessibility"),i}),n.keystrokes.set("Alt+0",(i,l)=>{this._showDialog(),l()}),this._setupRootLabels()}_createButton(n){const r=new n(this.editor.locale);return r.set({keystroke:"Alt+0",icon:VD}),r.on("execute",()=>this._showDialog()),r}_setupRootLabels(){const n=this.editor,r=n.editing.view,i=n.t;function l(d,h){const f=`${h.getAttribute("aria-label")}. ${i("Press %0 for help.",[Tg("Alt+0")])}`;d.setAttribute("aria-label",f,h)}n.ui.on("ready",()=>{r.change(d=>{for(const h of r.document.roots)l(d,h)}),n.on("addRoot",(d,h)=>{const f=n.editing.view.document.getRoot(h.rootName);r.change(k=>l(k,f))},{priority:"low"})})}_showDialog(){const n=this.editor,r=n.plugins.get("Dialog"),i=n.locale.t;this.contentView||(this.contentView=new pK(n.locale,n.accessibility.keystrokeInfos)),r.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:i("Accessibility help"),icon:VD,hasCloseButton:!0,content:this.contentView})}}class kK extends Sr{constructor(n,r=[]){super(r),this.locale=n}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new ni({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let n=document.querySelector(".ck-body-wrapper");n||(n=Lo(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(n)),n.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const n=document.querySelector(".ck-body-wrapper");n&&n.childElementCount==0&&n.remove()}}var HD=c(7621),bK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(HD.A,bK),HD.A.locals;const WD=class extends Le{constructor(){super();const a=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",a.if("isVisible","ck-hidden",n=>!n),"ck-reset_all-excluded",a.if("isColorInherited","ck-icon_inherit-color")],viewBox:a.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const a=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),n=a.getAttribute("viewBox");n&&(this.viewBox=n);for(const{name:r,value:i}of Array.from(a.attributes))WD.presentationalAttributeNames.includes(r)&&this.element.setAttribute(r,i);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;a.childNodes.length>0;)this.element.appendChild(a.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(a=>{a.style.fill=this.fillColor})}};let rs=WD;rs.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class vK extends Le{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const n=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("style"),id:n.to("id")},children:[{text:n.to("text")}]})}}var qD=c(9715),wK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(qD.A,wK),qD.A.locals;class At extends Le{constructor(n,r=new vK){super(n),this._focusDelayed=null;const i=this.bindTemplate,l=B();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${l}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(r),this.iconView=new rs,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const d={tag:"button",attributes:{class:["ck","ck-button",i.to("class"),i.if("isEnabled","ck-disabled",h=>!h),i.if("isVisible","ck-hidden",h=>!h),i.to("isOn",h=>h?"ck-on":"ck-off"),i.if("withText","ck-button_with-text"),i.if("withKeystroke","ck-button_with-keystroke")],role:i.to("role"),type:i.to("type",h=>h||"button"),tabindex:i.to("tabindex"),"aria-checked":i.to("ariaChecked"),"aria-label":i.to("ariaLabel"),"aria-labelledby":i.to("ariaLabelledBy"),"aria-disabled":i.if("isEnabled",!0,h=>!h),"aria-pressed":i.to("isOn",h=>!!this.isToggleable&&String(!!h)),"data-cke-tooltip-text":i.to("_tooltipString"),"data-cke-tooltip-position":i.to("tooltipPosition")},children:this.children,on:{click:i.to(h=>{this.isEnabled?this.fire("execute"):h.preventDefault()})}};_.isSafari&&(this._focusDelayed||(this._focusDelayed=jw(()=>this.focus(),0)),d.on.mousedown=i.to(()=>{this._focusDelayed()}),d.on.mouseup=i.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(d)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(n){return n.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),n}_createKeystrokeView(){const n=new Le;return n.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",r=>Tg(r))}]}),n}_getTooltipString(n,r,i){return n?typeof n=="string"?n:(i&&(i=Tg(i)),n instanceof Function?n(r,i):`${r}${i?` (${i})`:""}`):""}}var GD=c(4391),yK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(GD.A,yK),GD.A.locals;class Jg extends At{constructor(n){super(n),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const n=new Le;return n.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),n}}class KD extends At{constructor(n){super(n),this.buttonView=this,this._fileInputView=new _K(n),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class _K extends Le{constructor(n){super(n),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const r=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:r.to("acceptedType"),multiple:r.to("allowMultipleFiles")},on:{change:r.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const Xg='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var YD=c(25),CK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(YD.A,CK),YD.A.locals;class AK extends Le{constructor(n,r){super(n);const i=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),r&&this.children.addMany(r),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",i.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:i.if("isCollapsed","hidden"),"aria-labelledby":i.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const n=new At(this.locale),r=n.bindTemplate;return n.set({withText:!0,icon:Xg}),n.extendTemplate({attributes:{"aria-expanded":r.to("isOn",i=>String(i))}}),n.bind("label").to(this),n.bind("isOn").to(this,"isCollapsed",i=>!i),n.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),n}}var QD=c(7317),xK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(QD.A,xK),QD.A.locals,c(6931),c(9047);var ZD=c(4962),EK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(ZD.A,EK),ZD.A.locals;class em extends Le{constructor(n,r){super(n);const i=`ck-labeled-field-view-${B()}`,l=`ck-labeled-field-view-status-${B()}`;this.fieldView=r(this,i,l),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(i),this.statusView=this._createStatusView(l),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(h,f)=>h||f);const d=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",d.to("class"),d.if("isEnabled","ck-disabled",h=>!h),d.if("isEmpty","ck-labeled-field-view_empty"),d.if("isFocused","ck-labeled-field-view_focused"),d.if("placeholder","ck-labeled-field-view_placeholder"),d.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(n){const r=new Zg(this.locale);return r.for=n,r.bind("text").to(this,"label"),r}_createStatusView(n){const r=new Le(this.locale),i=this.bindTemplate;return r.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",i.if("errorText","ck-labeled-field-view__status_error"),i.if("_statusText","ck-hidden",l=>!l)],id:n,role:i.if("errorText","alert")},children:[{text:i.to("_statusText")}]}),r}focus(n){this.fieldView.focus(n)}}class SK extends Le{constructor(n){super(n),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new Gn,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const r=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",r.if("isFocused","ck-input_focused"),r.if("isEmpty","ck-input-text_empty"),r.if("hasError","ck-error")],id:r.to("id"),placeholder:r.to("placeholder"),tabindex:r.to("tabIndex"),readonly:r.to("isReadOnly"),"aria-invalid":r.if("hasError",!0),"aria-describedby":r.to("ariaDescribedById"),"aria-label":r.to("ariaLabel")},on:{input:r.to((...i)=>{this.fire("input",...i),this._updateIsEmpty()}),change:r.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(n,r,i)=>{this._setDomElementValue(i),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(n){this.element.value=n||n===0?n:""}}var JD=c(253),TK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(JD.A,TK),JD.A.locals;class IK extends SK{constructor(n){super(n),this.set("inputMode","text");const r=this.bindTemplate;this.extendTemplate({attributes:{inputmode:r.to("inputMode")}})}}class DK extends IK{constructor(n){super(n),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var XD=c(1671),MK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(XD.A,MK),XD.A.locals;class PK extends Le{constructor(n){super(n);const r=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",r.to("position",i=>`ck-dropdown__panel_${i}`),r.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:r.to(i=>{i.target.tagName.toLocaleLowerCase()!=="input"&&i.preventDefault()})}})}focus(){if(this.children.length){const n=this.children.first;typeof n.focus=="function"?n.focus():U("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const n=this.children.last;typeof n.focusLast=="function"?n.focusLast():n.focus()}}}var e5=c(8149),NK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(e5.A,NK),e5.A.locals;const xy=class extends Le{constructor(a,n,r){super(a);const i=this.bindTemplate;this.buttonView=n,this.panelView=r,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Io,this.focusTracker=new Gn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",i.to("class"),i.if("isEnabled","ck-disabled",l=>!l)],id:i.to("id"),"aria-describedby":i.to("ariaDescribedById")},children:[n,r]}),n.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":i.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(n,r,i)=>{if(i)if(this.panelPosition==="auto"){const l=xy._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=l?l.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const a=(n,r)=>{this.isOpen&&(this.isOpen=!1,r())};this.keystrokes.set("arrowdown",(n,r)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,r())}),this.keystrokes.set("arrowright",(n,r)=>{this.isOpen&&r()}),this.keystrokes.set("arrowleft",a),this.keystrokes.set("esc",a)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:a,north:n,southEast:r,southWest:i,northEast:l,northWest:d,southMiddleEast:h,southMiddleWest:f,northMiddleEast:k,northMiddleWest:b}=xy.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[r,i,h,f,a,l,d,k,b,n]:[i,r,f,h,a,d,l,b,k,n]}};let Ey=xy;Ey.defaultPanelPositions={south:(a,n)=>({top:a.bottom,left:a.left-(n.width-a.width)/2,name:"s"}),southEast:a=>({top:a.bottom,left:a.left,name:"se"}),southWest:(a,n)=>({top:a.bottom,left:a.left-n.width+a.width,name:"sw"}),southMiddleEast:(a,n)=>({top:a.bottom,left:a.left-(n.width-a.width)/4,name:"sme"}),southMiddleWest:(a,n)=>({top:a.bottom,left:a.left-3*(n.width-a.width)/4,name:"smw"}),north:(a,n)=>({top:a.top-n.height,left:a.left-(n.width-a.width)/2,name:"n"}),northEast:(a,n)=>({top:a.top-n.height,left:a.left,name:"ne"}),northWest:(a,n)=>({top:a.top-n.height,left:a.left-n.width+a.width,name:"nw"}),northMiddleEast:(a,n)=>({top:a.top-n.height,left:a.left-(n.width-a.width)/4,name:"nme"}),northMiddleWest:(a,n)=>({top:a.top-n.height,left:a.left-3*(n.width-a.width)/4,name:"nmw"})},Ey._getOptimalPosition=Sg;class RK extends At{constructor(n){super(n),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",r=>String(r))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const n=new rs;return n.content=Xg,n.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),n}}class Ir extends q(){constructor(n){if(super(),this.focusables=n.focusables,this.focusTracker=n.focusTracker,this.keystrokeHandler=n.keystrokeHandler,this.actions=n.actions,n.actions&&n.keystrokeHandler)for(const r in n.actions){let i=n.actions[r];typeof i=="string"&&(i=[i]);for(const l of i)n.keystrokeHandler.set(l,(d,h)=>{this[r](),h()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(Sy)||null}get last(){return this.focusables.filter(Sy).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let n=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((r,i)=>{const l=r.element===this.focusTracker.focusedElement;return l&&(n=i),l}),n)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const n=this.next;n&&this.focusables.getIndex(n)===this.current||n===this.first?this.fire("forwardCycle"):this._focus(n,1)}focusPrevious(){const n=this.previous;n&&this.focusables.getIndex(n)===this.current||n===this.last?this.fire("backwardCycle"):this._focus(n,-1)}_focus(n,r){n&&this.focusTracker.focusedElement!==n.element&&n.focus(r)}_getDomFocusableItem(n){const r=this.focusables.length;if(!r)return null;const i=this.current;if(i===null)return this[n===1?"first":"last"];let l=this.focusables.get(i),d=(i+r+n)%r;do{const h=this.focusables.get(d);if(Sy(h)){l=h;break}d=(d+r+n)%r}while(d!==i);return l}}function Sy(a){return oh(a)&&Ja(a.element)}function oh(a){return!(!("focus"in a)||typeof a.focus!="function")}class t5 extends Le{constructor(n){super(n),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class OK extends Le{constructor(n){super(n),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var BK=Object.defineProperty,n5=Object.getOwnPropertySymbols,LK=Object.prototype.hasOwnProperty,jK=Object.prototype.propertyIsEnumerable,o5=(a,n,r)=>n in a?BK(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,r5=(a,n)=>{for(var r in n||(n={}))LK.call(n,r)&&o5(a,r,n[r]);if(n5)for(var r of n5(n))jK.call(n,r)&&o5(a,r,n[r]);return a};function i5(a){if(Array.isArray(a))return{items:a,removeItems:[]};const n={items:[],removeItems:[]};return a?r5(r5({},n),a):n}var s5=c(9677),zK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(s5.A,zK),s5.A.locals;const FK={alignLeft:Ze.alignLeft,bold:Ze.bold,importExport:Ze.importExport,paragraph:Ze.paragraph,plus:Ze.plus,text:Ze.text,threeVerticalDots:Ze.threeVerticalDots,pilcrow:Ze.pilcrow,dragIndicator:Ze.dragIndicator};class Ty extends Le{constructor(n,r){super(n);const i=this.bindTemplate,l=this.t;this.options=r||{},this.set("ariaLabel",l("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Gn,this.keystrokes=new Io,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new $K(n),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const d=n.uiLanguageDirection==="rtl";this._focusCycler=new Ir({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[d?"arrowright":"arrowleft","arrowup"],focusNext:[d?"arrowleft":"arrowright","arrowdown"]}});const h=["ck","ck-toolbar",i.to("class"),i.if("isCompact","ck-toolbar_compact")];var f;this.options.shouldGroupWhenFull&&this.options.isFloating&&h.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:h,role:"toolbar","aria-label":i.to("ariaLabel"),style:{maxWidth:i.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(f=this,f.bindTemplate.to(k=>{k.target===f.element&&k.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new UK(this):new VK(this)}render(){super.render(),this.focusTracker.add(this.element);for(const n of this.items)this.focusTracker.add(n.element);this.items.on("add",(n,r)=>{this.focusTracker.add(r.element)}),this.items.on("remove",(n,r)=>{this.focusTracker.remove(r.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(n,r,i){this.items.addMany(this._buildItemsFromConfig(n,r,i))}_buildItemsFromConfig(n,r,i){const l=i5(n),d=i||l.removeItems;return this._cleanItemsConfiguration(l.items,r,d).map(h=>xe(h)?this._createNestedToolbarDropdown(h,r,d):h==="|"?new t5:h==="-"?new OK:r.create(h)).filter(h=>!!h)}_cleanItemsConfiguration(n,r,i){const l=n.filter((d,h,f)=>d==="|"||i.indexOf(d)===-1&&(d==="-"?!this.options.shouldGroupWhenFull||(U("toolbarview-line-break-ignored-when-grouping-items",f),!1):!(!xe(d)&&!r.has(d))||(U("toolbarview-item-unavailable",{item:d}),!1)));return this._cleanSeparatorsAndLineBreaks(l)}_cleanSeparatorsAndLineBreaks(n){const r=h=>h!=="-"&&h!=="|",i=n.length,l=n.findIndex(r);if(l===-1)return[];const d=i-n.slice().reverse().findIndex(r);return n.slice(l,d).filter((h,f,k)=>r(h)?!0:!(f>0&&k[f-1]===h))}_createNestedToolbarDropdown(n,r,i){let{label:l,icon:d,items:h,tooltip:f=!0,withText:k=!1}=n;if(h=this._cleanItemsConfiguration(h,r,i),!h.length)return null;const b=is(this.locale);return l||U("toolbarview-nested-toolbar-dropdown-missing-label",n),b.class="ck-toolbar__nested-toolbar-dropdown",b.buttonView.set({label:l,tooltip:f,withText:!!k}),d!==!1?b.buttonView.icon=FK[d]||d||Ze.threeVerticalDots:b.buttonView.withText=!0,My(b,()=>b.toolbarView._buildItemsFromConfig(h,r,i)),b}}class $K extends Le{constructor(n){super(n),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class VK{constructor(n){const r=n.bindTemplate;n.set("isVertical",!1),n.itemsView.children.bindTo(n.items).using(i=>i),n.focusables.bindTo(n.items).using(i=>oh(i)?i:null),n.extendTemplate({attributes:{class:[r.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class UK{constructor(n){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=n,this.viewChildren=n.children,this.viewFocusables=n.focusables,this.viewItemsView=n.itemsView,this.viewFocusTracker=n.focusTracker,this.viewLocale=n.locale,this.ungroupedItems=n.createCollection(),this.groupedItems=n.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),n.itemsView.children.bindTo(this.ungroupedItems).using(r=>r),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),n.children.on("change",this._updateFocusCyclableItems.bind(this)),n.items.on("change",(r,i)=>{const l=i.index,d=Array.from(i.added);for(const h of i.removed)l>=this.ungroupedItems.length?this.groupedItems.remove(h):this.ungroupedItems.remove(h);for(let h=l;h<l+d.length;h++){const f=d[h-l];h>this.ungroupedItems.length?this.groupedItems.add(f,h-this.ungroupedItems.length):this.ungroupedItems.add(f,h)}this._updateGrouping()}),n.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(n){this.viewElement=n.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(n)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Ja(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const n=this.groupedItems.length;let r;for(;this._areItemsOverflowing;)this._groupLastItem(),r=!0;if(!r&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==n&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const n=this.viewElement,r=this.viewLocale.uiLanguageDirection,i=new pt(n.lastChild),l=new pt(n);if(!this.cachedPadding){const d=m.window.getComputedStyle(n),h=r==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(d[h])}return r==="ltr"?i.right>l.right-this.cachedPadding:i.left<l.left+this.cachedPadding}_enableGroupingOnResize(){let n;this.resizeObserver=new ju(this.viewElement,r=>{n&&n===r.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),n=r.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(n){n.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new t5),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const n=this.viewLocale,r=n.t,i=is(n);return i.class="ck-toolbar__grouped-dropdown",i.panelPosition=n.uiLanguageDirection==="ltr"?"sw":"se",My(i,this.groupedItems),i.buttonView.set({label:r("Show more items"),tooltip:!0,tooltipPosition:n.uiLanguageDirection==="rtl"?"se":"sw",icon:Ze.threeVerticalDots}),i}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(n=>{oh(n)&&this.viewFocusables.add(n)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class Dc extends Le{constructor(n){super(n);const r=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",r.if("isVisible","ck-hidden",i=>!i)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class Iy extends Le{constructor(n){super(n),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class tm extends Le{constructor(n,r=new Zg){super(n);const i=this.bindTemplate,l=new Dy(n);this.set({label:"",isVisible:!0}),this.labelView=r,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,l]),l.set({role:"group",ariaLabelledBy:r.id}),l.focusTracker.destroy(),l.keystrokes.destroy(),this.items=l.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",i.if("isVisible","ck-hidden",d=>!d)]},children:this.children})}focus(){if(this.items){const n=this.items.find(r=>!(r instanceof Iy));n&&n.focus()}}}var a5=c(5199),HK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(a5.A,HK),a5.A.locals;class Dy extends Le{constructor(n){super(n),this._listItemGroupToChangeListeners=new WeakMap;const r=this.bindTemplate;this.focusables=new Sr,this.items=this.createCollection(),this.focusTracker=new Gn,this.keystrokes=new Io,this._focusCycler=new Ir({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:r.to("role"),"aria-label":r.to("ariaLabel"),"aria-labelledby":r.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const n of this.items)n instanceof tm?this._registerFocusableItemsGroup(n):n instanceof Dc&&this._registerFocusableListItem(n);this.items.on("change",(n,r)=>{for(const i of r.removed)i instanceof tm?this._deregisterFocusableItemsGroup(i):i instanceof Dc&&this._deregisterFocusableListItem(i);for(const i of Array.from(r.added).reverse())i instanceof tm?this._registerFocusableItemsGroup(i,r.index):this._registerFocusableListItem(i,r.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(n,r){this.focusTracker.add(n.element),this.focusables.add(n,r)}_deregisterFocusableListItem(n){this.focusTracker.remove(n.element),this.focusables.remove(n)}_getOnGroupItemsChangeCallback(n){return(r,i)=>{for(const l of i.removed)this._deregisterFocusableListItem(l);for(const l of Array.from(i.added).reverse())this._registerFocusableListItem(l,this.items.getIndex(n)+i.index)}}_registerFocusableItemsGroup(n,r){Array.from(n.items).forEach((l,d)=>{const h=r!==void 0?r+d:void 0;this._registerFocusableListItem(l,h)});const i=this._getOnGroupItemsChangeCallback(n);this._listItemGroupToChangeListeners.set(n,i),n.items.on("change",i)}_deregisterFocusableItemsGroup(n){for(const r of n.items)this._deregisterFocusableListItem(r);n.items.off("change",this._listItemGroupToChangeListeners.get(n)),this._listItemGroupToChangeListeners.delete(n)}}var l5=c(1792),WK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(l5.A,WK),l5.A.locals;class nm extends Le{constructor(n,r){super(n);const i=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(r),this.arrowView=this._createArrowView(),this.keystrokes=new Io,this.focusTracker=new Gn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",i.to("class"),i.if("isVisible","ck-hidden",l=>!l),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(n,r)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),r())}),this.keystrokes.set("arrowleft",(n,r)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),r())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(n){const r=n||new At;return n||r.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),r.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),r.delegate("execute").to(this),r}_createArrowView(){const n=new At,r=n.bindTemplate;return n.icon=Xg,n.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":r.to("isOn"),"aria-haspopup":!0,"aria-expanded":r.to("isOn",i=>String(i))}}),n.bind("isEnabled").to(this),n.bind("label").to(this),n.bind("tooltip").to(this),n.delegate("execute").to(this,"open"),n}}var c5=c(1666),qK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(c5.A,qK),c5.A.locals;var d5=c(3629),GK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(d5.A,GK),d5.A.locals;function is(a,n=RK){const r=typeof n=="function"?new n(a):n,i=new PK(a),l=new Ey(a,r,i);return r.bind("isEnabled").to(l),r instanceof nm?r.arrowView.bind("isOn").to(l,"isOpen"):r.bind("isOn").to(l,"isOpen"),function(d){(function(h){h.on("render",()=>{Mg({emitter:h,activator:()=>h.isOpen,callback:()=>{h.isOpen=!1},contextElements:()=>[h.element,...h.focusTracker._elements]})})})(d),function(h){h.on("execute",f=>{f.source instanceof Jg||(h.isOpen=!1)})}(d),function(h){h.focusTracker.on("change:isFocused",(f,k,b)=>{h.isOpen&&!b&&(h.isOpen=!1)})}(d),function(h){h.keystrokes.set("arrowdown",(f,k)=>{h.isOpen&&(h.panelView.focus(),k())}),h.keystrokes.set("arrowup",(f,k)=>{h.isOpen&&(h.panelView.focusLast(),k())})}(d),function(h){h.on("change:isOpen",(f,k,b)=>{if(b)return;const w=h.panelView.element;w&&w.contains(m.document.activeElement)&&h.buttonView.focus()})}(d),function(h){h.on("change:isOpen",(f,k,b)=>{b&&h.panelView.focus()},{priority:"low"})}(d)}(l),l}function My(a,n,r={}){a.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),a.isOpen?u5(a,n,r):a.once("change:isOpen",()=>u5(a,n,r),{priority:"highest"}),r.enableActiveItemFocusOnDropdownOpen&&f5(a,()=>a.toolbarView.items.find(i=>i.isOn))}function u5(a,n,r){const i=a.locale,l=i.t,d=a.toolbarView=new Ty(i),h=typeof n=="function"?n():n;d.ariaLabel=r.ariaLabel||l("Dropdown toolbar"),r.maxWidth&&(d.maxWidth=r.maxWidth),r.class&&(d.class=r.class),r.isCompact&&(d.isCompact=r.isCompact),r.isVertical&&(d.isVertical=!0),h instanceof Sr?d.items.bindTo(h).using(f=>f):d.items.addMany(h),a.panelView.children.add(d),d.items.delegate("execute").to(a)}function h5(a,n,r={}){a.isOpen?p5(a,n,r):a.once("change:isOpen",()=>p5(a,n,r),{priority:"highest"}),f5(a,()=>a.listView.items.find(i=>i instanceof Dc&&i.children.first.isOn))}function p5(a,n,r){const i=a.locale,l=a.listView=new Dy(i),d=typeof n=="function"?n():n;l.ariaLabel=r.ariaLabel,l.role=r.role,g5(a,l.items,d,i),a.panelView.children.add(l),l.items.delegate("execute").to(a)}function f5(a,n){a.on("change:isOpen",()=>{if(!a.isOpen)return;const r=n();r&&(typeof r.focus=="function"?r.focus():U("ui-dropdown-focus-child-on-open-child-missing-focus",{view:r}))},{priority:j.low-10})}function g5(a,n,r,i){n.bindTo(r).using(l=>{if(l.type==="separator")return new Iy(i);if(l.type==="group"){const d=new tm(i);return d.set({label:l.label}),g5(a,d.items,l.items,i),d.items.delegate("execute").to(a),d}if(l.type==="button"||l.type==="switchbutton"){const d=new Dc(i);let h;return l.type==="button"?(h=new At(i),h.bind("ariaChecked").to(h,"isOn")):h=new Jg(i),h.bind(...Object.keys(l.model)).to(l.model),h.delegate("execute").to(d),d.children.add(h),d}return null})}const om=(a,n,r)=>{const i=new DK(a.locale);return i.set({id:n,ariaDescribedById:r}),i.bind("isReadOnly").to(a,"isEnabled",l=>!l),i.bind("hasError").to(a,"errorText",l=>!!l),i.on("input",()=>{a.errorText=null}),a.bind("isEmpty","isFocused","placeholder").to(i),i};var m5=c(1905),KK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(m5.A,KK),m5.A.locals;var k5=c(6309),YK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(k5.A,YK),k5.A.locals;class QK{constructor(n){this._components=new Map,this.editor=n}*names(){for(const n of this._components.values())yield n.originalName}add(n,r){this._components.set(Py(n),{callback:r,originalName:n})}create(n){if(!this.has(n))throw new M("componentfactory-item-missing",this,{name:n});return this._components.get(Py(n)).callback(this.editor.locale)}has(n){return this._components.has(Py(n))}}function Py(a){return String(a).toLowerCase()}var b5=c(7913),ZK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(b5.A,ZK),b5.A.locals;class JK extends Le{constructor(n,r={}){super(n);const i=this.bindTemplate;this.set("label",r.label||""),this.set("class",r.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",i.to("class")]},children:this.children}),r.icon&&(this.iconView=new rs,this.iconView.content=r.icon,this.children.add(this.iconView));const l=new Le(n);l.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:i.to("label")}]}),this.children.add(l)}}var v5=c(9822),XK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(v5.A,XK),v5.A.locals;class eY extends Le{constructor(n){super(n),this.children=this.createCollection(),this.keystrokes=new Io,this._focusTracker=new Gn,this._focusables=new Sr,this.focusCycler=new Ir({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(n){for(const r of n){const i=new At(this.locale);let l;for(l in i.on("execute",()=>r.onExecute()),r.onCreate&&r.onCreate(i),r)l!="onExecute"&&l!="onCreate"&&i.set(l,r[l]);this.children.add(i)}this._updateFocusCyclableItems()}focus(n){n===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(n=>{this._focusables.add(n),this._focusTracker.add(n.element)})}}class tY extends Le{constructor(n){super(n),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var w5=c(9819),nY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(w5.A,nY),w5.A.locals;const rm="screen-center",y5="editor-center",oY="editor-top-side",rY="editor-top-center",iY="editor-bottom-center",sY="editor-above-center",aY="editor-below-center",_5=bc("px"),C5=class extends function(a){return class extends a{constructor(...n){super(...n),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(m.document,"mouseup",this._onDragEndBound),this.listenTo(m.document,"touchend",this._onDragEndBound),this.listenTo(m.document,"mousemove",this._onDragBound),this.listenTo(m.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(m.document,"mouseup",this._onDragEndBound),this.stopListening(m.document,"touchend",this._onDragEndBound),this.stopListening(m.document,"mousemove",this._onDragBound),this.stopListening(m.document,"touchmove",this._onDragBound)}_onDragStart(n,r){if(!this._isHandleElementPressed(r))return;this._attachDragListeners();let i=0,l=0;r instanceof MouseEvent?(i=r.clientX,l=r.clientY):(i=r.touches[0].clientX,l=r.touches[0].clientY),this._lastDraggingCoordinates={x:i,y:l},this.isDragging=!0}_onDrag(n,r){if(!this.isDragging)return void this._detachDragListeners();let i=0,l=0;r instanceof MouseEvent?(i=r.clientX,l=r.clientY):(i=r.touches[0].clientX,l=r.touches[0].clientY),r.preventDefault(),this.fire("drag",{deltaX:Math.round(i-this._lastDraggingCoordinates.x),deltaY:Math.round(l-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:i,y:l}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(n){return!!this.dragHandleElement&&(this.dragHandleElement===n.target||n.target instanceof HTMLElement&&this.dragHandleElement.contains(n.target))}}}(Le){constructor(a,{getCurrentDomRoot:n,getViewportOffset:r}){super(a),this.wasMoved=!1;const i=this.bindTemplate,l=a.t;this.set("className",""),this.set("ariaLabel",l("Editor dialog")),this.set("isModal",!1),this.set("position",rm),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=n,this._getViewportOffset=r,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new Io,this.focusTracker=new Gn,this._focusables=new Sr,this._focusCycler=new Ir({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",i.if("isModal","ck-dialog-overlay__transparent",d=>!d),i.if("_isVisible","ck-hidden",d=>!d)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",i.to("className")],role:"dialog","aria-label":i.to("ariaLabel"),style:{top:i.to("_top",d=>_5(d)),left:i.to("_left",d=>_5(d)),visibility:i.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(a,n)=>{this.fire("close",{source:"escKeyPress"}),n()}),this.on("drag",(a,{deltaX:n,deltaY:r})=>{this.wasMoved=!0,this.moveBy(n,r)}),this.listenTo(m.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(m.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(a,n,r)=>{r&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:a,title:n,hasCloseButton:r=!0,content:i,actionButtons:l}){n&&(this.headerView=new JK(this.locale,{icon:a}),r&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=n,this.ariaLabel=n,this.parts.add(this.headerView,0)),i&&(i instanceof Le&&(i=[i]),this.contentView=new tY(this.locale),this.contentView.children.addMany(i),this.parts.add(this.contentView)),l&&(this.actionsView=new eY(this.locale),this.actionsView.setButtons(l),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(a,n){const r=this._getViewportRect(),i=this._getDialogRect();a+i.width>r.right&&(a=r.right-i.width),a<r.left&&(a=r.left),n<r.top&&(n=r.top),this._moveTo(a,n)}_moveTo(a,n){this._left=a,this._top=n}moveBy(a,n){this.moveTo(this._left+a,this._top+n)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const a=this._getViewportRect();let n,r=this.position;this._getCurrentDomRoot()?n=this._getVisibleDomRootRect(a):r=rm;const i=C5.defaultOffset,l=this._getDialogRect();switch(r){case oY:if(n){const d=this.locale.contentLanguageDirection==="ltr"?n.right-l.width-i:n.left+i;this.moveTo(d,n.top+i)}else this._moveOffScreen();break;case y5:n?this.moveTo(Math.round(n.left+n.width/2-l.width/2),Math.round(n.top+n.height/2-l.height/2)):this._moveOffScreen();break;case rm:this.moveTo(Math.round((a.width-l.width)/2),Math.round((a.height-l.height)/2));break;case rY:n?this.moveTo(Math.round(n.left+n.width/2-l.width/2),n.top+i):this._moveOffScreen();break;case iY:n?this.moveTo(Math.round(n.left+n.width/2-l.width/2),n.bottom-l.height-i):this._moveOffScreen();break;case sY:n?this.moveTo(Math.round(n.left+n.width/2-l.width/2),n.top-l.height-i):this._moveOffScreen();break;case aY:n?this.moveTo(Math.round(n.left+n.width/2-l.width/2),n.bottom+i):this._moveOffScreen()}}_getVisibleDomRootRect(a){let n=new pt(this._getCurrentDomRoot()).getVisible();return n?(n=a.getIntersection(n),n||null):null}_getDialogRect(){return new pt(this.element.firstElementChild)}_getViewportRect(){return function(a){a=Object.assign({top:0,bottom:0,left:0,right:0},a);const n=new pt(m.window);return n.top+=a.top,n.height-=a.top,n.bottom-=a.bottom,n.height-=a.bottom,n.left+=a.left,n.right-=a.right,n.width-=a.left+a.right,n}(this._getViewportOffset())}_updateFocusCyclableItems(){const a=[];if(this.contentView)for(const n of this.contentView.children)oh(n)&&a.push(n);this.actionsView&&a.push(this.actionsView),this.closeButtonView&&a.push(this.closeButtonView),a.forEach(n=>{var r;this._focusables.add(n),this.focusTracker.add(n.element),oh(r=n)&&"focusCycler"in r&&r.focusCycler instanceof Ir&&(this.listenTo(n.focusCycler,"forwardCycle",i=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&i.stop()}),this.listenTo(n.focusCycler,"backwardCycle",i=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&i.stop()}))})}_createCloseButton(){const a=new At(this.locale),n=this.locale.t;return a.set({label:n("Close"),tooltip:!0,icon:Ze.cancel}),a.on("execute",()=>this.fire("close",{source:"closeButton"})),a}};let im=C5;im.defaultOffset=15;class ss extends pe{constructor(n){super(n);const r=n.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),n.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:r("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}_initShowHideListeners(){this.on("show",(n,r)=>{this._show(r)}),this.on("show",(n,r)=>{r.onShow&&r.onShow(this)},{priority:"low"}),this.on("hide",()=>{ss._visibleDialogPlugin&&ss._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const n=this.editor;n.keystrokes.set("Ctrl+F6",(r,i)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?n.editing.view.focus():this.view.focus(),i())})}_initMultiRootIntegration(){const n=this.editor.model;n.document.on("change:data",()=>{if(!this.view)return;const r=n.document.differ.getChangedRoots();for(const i of r)i.state&&this.view.updatePosition()})}show(n){this.hide(),this.fire(`show:${n.id}`,n)}_show({id:n,icon:r,title:i,hasCloseButton:l=!0,content:d,actionButtons:h,className:f,isModal:k,position:b,onHide:w}){const A=this.editor;this.view=new im(A.locale,{getCurrentDomRoot:()=>A.editing.view.getDomRoot(A.model.document.selection.anchor.root.rootName),getViewportOffset:()=>A.ui.viewportOffset});const E=this.view;E.on("close",()=>{this.hide()}),A.ui.view.body.add(E),A.ui.focusTracker.add(E.element),A.keystrokes.listenTo(E.element),b||(b=k?rm:y5),E.set({position:b,_isVisible:!0,className:f,isModal:k}),E.setupParts({icon:r,title:i,hasCloseButton:l,content:d,actionButtons:h}),this.id=n,w&&(this._onHide=w),this.isOpen=!0,ss._visibleDialogPlugin=this}hide(){ss._visibleDialogPlugin&&ss._visibleDialogPlugin.fire(`hide:${ss._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const n=this.editor,r=this.view;r.contentView&&r.contentView.reset(),n.ui.view.body.remove(r),n.ui.focusTracker.remove(r.element),n.keystrokes.stopListening(r.element),r.destroy(),n.editing.view.focus(),this.id=null,this.isOpen=!1,ss._visibleDialogPlugin=null}}var A5=c(3710),lY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(A5.A,lY),A5.A.locals;var cY=Object.defineProperty,x5=Object.getOwnPropertySymbols,dY=Object.prototype.hasOwnProperty,uY=Object.prototype.propertyIsEnumerable,E5=(a,n,r)=>n in a?cY(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,xt=(a,n)=>{for(var r in n||(n={}))dY.call(n,r)&&E5(a,r,n[r]);if(x5)for(var r of x5(n))uY.call(n,r)&&E5(a,r,n[r]);return a};const S5=bc("px"),T5=m.document.body,hY={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},Ny=class extends Le{constructor(a){super(a);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",n.to("position",r=>`ck-balloon-panel_${r}`),n.if("isVisible","ck-balloon-panel_visible"),n.if("withArrow","ck-balloon-panel_with-arrow"),n.to("class")],style:{top:n.to("top",S5),left:n.to("left",S5)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(a){this.show();const n=Ny.defaultPositions,r=Object.assign({},{element:this.element,positions:[n.southArrowNorth,n.southArrowNorthMiddleWest,n.southArrowNorthMiddleEast,n.southArrowNorthWest,n.southArrowNorthEast,n.northArrowSouth,n.northArrowSouthMiddleWest,n.northArrowSouthMiddleEast,n.northArrowSouthWest,n.northArrowSouthEast,n.viewportStickyNorth],limiter:T5,fitInViewport:!0},a),i=Ny._getOptimalPosition(r)||hY,l=parseInt(i.left),d=parseInt(i.top),h=i.name,f=i.config||{},{withArrow:k=!0}=f;this.top=d,this.left=l,this.position=h,this.withArrow=k}pin(a){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(a):this._stopPinning()},this._startPinning(a),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(a){this.attachTo(a);const n=Ry(a.target),r=a.limiter?Ry(a.limiter):T5;this.listenTo(m.document,"scroll",(i,l)=>{const d=l.target,h=n&&d.contains(n),f=r&&d.contains(r);!h&&!f&&n&&r||this.attachTo(a)},{useCapture:!0}),this.listenTo(m.window,"resize",()=>{this.attachTo(a)})}_stopPinning(){this.stopListening(m.document,"scroll"),this.stopListening(m.window,"resize")}};let Fo=Ny;function Ry(a){return Za(a)?a:xg(a)?a.commonAncestorContainer:typeof a=="function"?Ry(a()):null}function I5(a={}){const{sideOffset:n=Fo.arrowSideOffset,heightOffset:r=Fo.arrowHeightOffset,stickyVerticalOffset:i=Fo.stickyVerticalOffset,config:l}=a;return{northWestArrowSouthWest:(f,k)=>xt({top:d(f,k),left:f.left-n,name:"arrow_sw"},l&&{config:l}),northWestArrowSouthMiddleWest:(f,k)=>xt({top:d(f,k),left:f.left-.25*k.width-n,name:"arrow_smw"},l&&{config:l}),northWestArrowSouth:(f,k)=>xt({top:d(f,k),left:f.left-k.width/2,name:"arrow_s"},l&&{config:l}),northWestArrowSouthMiddleEast:(f,k)=>xt({top:d(f,k),left:f.left-.75*k.width+n,name:"arrow_sme"},l&&{config:l}),northWestArrowSouthEast:(f,k)=>xt({top:d(f,k),left:f.left-k.width+n,name:"arrow_se"},l&&{config:l}),northArrowSouthWest:(f,k)=>xt({top:d(f,k),left:f.left+f.width/2-n,name:"arrow_sw"},l&&{config:l}),northArrowSouthMiddleWest:(f,k)=>xt({top:d(f,k),left:f.left+f.width/2-.25*k.width-n,name:"arrow_smw"},l&&{config:l}),northArrowSouth:(f,k)=>xt({top:d(f,k),left:f.left+f.width/2-k.width/2,name:"arrow_s"},l&&{config:l}),northArrowSouthMiddleEast:(f,k)=>xt({top:d(f,k),left:f.left+f.width/2-.75*k.width+n,name:"arrow_sme"},l&&{config:l}),northArrowSouthEast:(f,k)=>xt({top:d(f,k),left:f.left+f.width/2-k.width+n,name:"arrow_se"},l&&{config:l}),northEastArrowSouthWest:(f,k)=>xt({top:d(f,k),left:f.right-n,name:"arrow_sw"},l&&{config:l}),northEastArrowSouthMiddleWest:(f,k)=>xt({top:d(f,k),left:f.right-.25*k.width-n,name:"arrow_smw"},l&&{config:l}),northEastArrowSouth:(f,k)=>xt({top:d(f,k),left:f.right-k.width/2,name:"arrow_s"},l&&{config:l}),northEastArrowSouthMiddleEast:(f,k)=>xt({top:d(f,k),left:f.right-.75*k.width+n,name:"arrow_sme"},l&&{config:l}),northEastArrowSouthEast:(f,k)=>xt({top:d(f,k),left:f.right-k.width+n,name:"arrow_se"},l&&{config:l}),southWestArrowNorthWest:f=>xt({top:h(f),left:f.left-n,name:"arrow_nw"},l&&{config:l}),southWestArrowNorthMiddleWest:(f,k)=>xt({top:h(f),left:f.left-.25*k.width-n,name:"arrow_nmw"},l&&{config:l}),southWestArrowNorth:(f,k)=>xt({top:h(f),left:f.left-k.width/2,name:"arrow_n"},l&&{config:l}),southWestArrowNorthMiddleEast:(f,k)=>xt({top:h(f),left:f.left-.75*k.width+n,name:"arrow_nme"},l&&{config:l}),southWestArrowNorthEast:(f,k)=>xt({top:h(f),left:f.left-k.width+n,name:"arrow_ne"},l&&{config:l}),southArrowNorthWest:f=>xt({top:h(f),left:f.left+f.width/2-n,name:"arrow_nw"},l&&{config:l}),southArrowNorthMiddleWest:(f,k)=>xt({top:h(f),left:f.left+f.width/2-.25*k.width-n,name:"arrow_nmw"},l&&{config:l}),southArrowNorth:(f,k)=>xt({top:h(f),left:f.left+f.width/2-k.width/2,name:"arrow_n"},l&&{config:l}),southArrowNorthMiddleEast:(f,k)=>xt({top:h(f),left:f.left+f.width/2-.75*k.width+n,name:"arrow_nme"},l&&{config:l}),southArrowNorthEast:(f,k)=>xt({top:h(f),left:f.left+f.width/2-k.width+n,name:"arrow_ne"},l&&{config:l}),southEastArrowNorthWest:f=>xt({top:h(f),left:f.right-n,name:"arrow_nw"},l&&{config:l}),southEastArrowNorthMiddleWest:(f,k)=>xt({top:h(f),left:f.right-.25*k.width-n,name:"arrow_nmw"},l&&{config:l}),southEastArrowNorth:(f,k)=>xt({top:h(f),left:f.right-k.width/2,name:"arrow_n"},l&&{config:l}),southEastArrowNorthMiddleEast:(f,k)=>xt({top:h(f),left:f.right-.75*k.width+n,name:"arrow_nme"},l&&{config:l}),southEastArrowNorthEast:(f,k)=>xt({top:h(f),left:f.right-k.width+n,name:"arrow_ne"},l&&{config:l}),westArrowEast:(f,k)=>xt({top:f.top+f.height/2-k.height/2,left:f.left-k.width-r,name:"arrow_e"},l&&{config:l}),eastArrowWest:(f,k)=>xt({top:f.top+f.height/2-k.height/2,left:f.right+r,name:"arrow_w"},l&&{config:l}),viewportStickyNorth:(f,k,b,w)=>{const A=w||b;return f.getIntersection(A)?A.height-f.height>i?null:{top:A.top+i,left:f.left+f.width/2-k.width/2,name:"arrowless",config:xt({withArrow:!1},l)}:null}};function d(f,k){return f.top-k.height-r}function h(f){return f.bottom+r}}Fo.arrowSideOffset=25,Fo.arrowHeightOffset=10,Fo.stickyVerticalOffset=20,Fo._getOptimalPosition=Sg,Fo.defaultPositions=I5();var D5=c(9205),pY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(D5.A,pY),D5.A.locals;const M5="ck-tooltip",$o=class extends Er(){constructor(a){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,this._mutationObserver=null,$o._editors.add(a),$o._instance)return $o._instance;$o._instance=this,this.tooltipTextView=new Le(a.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Fo(a.locale),this.balloonPanelView.class=M5,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(n){const r=new MutationObserver(()=>{n()});return{attach(i){r.observe(i,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){r.disconnect()}}}(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=Ec(this._pinTooltip,600),this._unpinTooltipDebounced=Ec(this._unpinTooltip,400),this.listenTo(m.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(m.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(m.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(m.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(m.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(m.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(a){const n=a.ui.view&&a.ui.view.body;$o._editors.delete(a),this.stopListening(a.ui),n&&n.has(this.balloonPanelView)&&n.remove(this.balloonPanelView),$o._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),$o._instance=null)}static getPositioningFunctions(a){const n=$o.defaultBalloonPositions;return{s:[n.southArrowNorth,n.southArrowNorthEast,n.southArrowNorthWest],n:[n.northArrowSouth],e:[n.eastArrowWest],w:[n.westArrowEast],sw:[n.southArrowNorthEast],se:[n.southArrowNorthWest]}[a]}_onKeyDown(a,n){n.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),n.stopPropagation())}_onEnterOrFocus(a,{target:n}){const r=Oy(n);r?r!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(r,P5(r))):a.name==="focus"&&this._unpinTooltip()}_onLeaveOrBlur(a,{target:n,relatedTarget:r}){if(a.name==="mouseleave"){if(!Za(n))return;const i=this.balloonPanelView.element,l=i&&(i===r||i.contains(r)),d=!l&&n===i;if(l)return void this._unpinTooltipDebounced.cancel();if(!d&&this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;const h=Oy(n),f=Oy(r);(d||h&&h!==f)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(a,{target:n}){this._currentElementWithTooltip&&(n.contains(this.balloonPanelView.element)&&n.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(a,{text:n,position:r,cssClass:i}){this._unpinTooltip();const l=qn($o._editors.values()).ui.view.body;l.has(this.balloonPanelView)||l.add(this.balloonPanelView),this.tooltipTextView.text=n,this.balloonPanelView.pin({target:a,positions:$o.getPositioningFunctions(r)}),this._resizeObserver=new ju(a,()=>{Ja(a)||this._unpinTooltip()}),this._mutationObserver.attach(a),this.balloonPanelView.class=[M5,i].filter(d=>d).join(" ");for(const d of $o._editors)this.listenTo(d.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=a,this._currentTooltipPosition=r}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const a of $o._editors)this.stopListening(a.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const a=P5(this._currentElementWithTooltip);Ja(this._currentElementWithTooltip)&&a.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:$o.getPositioningFunctions(a.position)}):this._unpinTooltip()}};let sm=$o;function Oy(a){return Za(a)?a.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function P5(a){return{text:a.dataset.ckeTooltipText,position:a.dataset.ckeTooltipPosition||"s",cssClass:a.dataset.ckeTooltipClass||""}}sm.defaultBalloonPositions=I5({heightOffset:5,sideOffset:13}),sm._editors=new Set,sm._instance=null;const am=function(a,n,r){var i=!0,l=!0;if(typeof a!="function")throw new TypeError("Expected a function");return xe(r)&&(i="leading"in r?!!r.leading:i,l="trailing"in r?!!r.trailing:l),Ec(a,n,{leading:i,maxWait:n,trailing:l})};var fY=Object.defineProperty,N5=Object.getOwnPropertySymbols,gY=Object.prototype.hasOwnProperty,mY=Object.prototype.propertyIsEnumerable,R5=(a,n,r)=>n in a?fY(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,kY=(a,n)=>{for(var r in n||(n={}))gY.call(n,r)&&R5(a,r,n[r]);if(N5)for(var r of N5(n))mY.call(n,r)&&R5(a,r,n[r]);return a};const bY=50,vY=350,wY="Powered by";class yY extends Er(){constructor(n){super(),this.editor=n,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=am(this._showBalloon.bind(this),50,{leading:!0}),n.on("ready",this._handleEditorReady.bind(this))}destroy(){const n=this._balloonView;n&&(n.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const n=this.editor;(n.config.get("ui.poweredBy.forceVisible")||function(r){function i(I){return I.length>=40&&I.length<=255?"VALID":"INVALID"}if(!r)return"INVALID";let l="";try{l=atob(r)}catch{return"INVALID"}const d=l.split("-"),h=d[0],f=d[1];if(!f)return i(r);try{atob(f)}catch{try{if(atob(h),!atob(h).length)return i(r)}catch{return i(r)}}if(h.length<40||h.length>255)return"INVALID";let k="";try{atob(h),k=atob(f)}catch{return"INVALID"}if(k.length!==8)return"INVALID";const b=Number(k.substring(0,4)),w=Number(k.substring(4,6))-1,A=Number(k.substring(6,8)),E=new Date(b,w,A);return E<X||isNaN(Number(E))?"INVALID":"VALID"}(n.config.get("licenseKey"))!=="VALID")&&n.ui.view&&(n.ui.focusTracker.on("change:isFocused",(r,i,l)=>{this._updateLastFocusedEditableElement(),l?this._showBalloon():this._hideBalloon()}),n.ui.focusTracker.on("change:focusedElement",(r,i,l)=>{this._updateLastFocusedEditableElement(),l&&this._showBalloon()}),n.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const n=this.editor,r=this._balloonView=new Fo,i=B5(n),l=new _Y(n.locale,i.label);r.content.add(l),r.set({class:"ck-powered-by-balloon"}),n.ui.view.body.add(r),n.ui.focusTracker.add(r.element),this._balloonView=r}_showBalloon(){if(!this._lastFocusedEditableElement)return;const n=function(r,i){const l=B5(r),d=l.side==="right"?function(h,f){return O5(h,f,(k,b)=>k.left+k.width-b.width-f.horizontalOffset)}(i,l):function(h,f){return O5(h,f,k=>k.left+f.horizontalOffset)}(i,l);return{target:i,positions:[d]}}(this.editor,this._lastFocusedEditableElement);n&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(n))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const n=this.editor,r=n.ui.focusTracker.isFocused,i=n.ui.focusTracker.focusedElement;if(!r||!i)return void(this._lastFocusedEditableElement=null);const l=Array.from(n.ui.getEditableElementsNames()).map(d=>n.ui.getEditableElement(d));l.includes(i)?this._lastFocusedEditableElement=i:this._lastFocusedEditableElement=l[0]}}class _Y extends Le{constructor(n,r){super(n);const i=new rs,l=this.bindTemplate;i.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),i.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...r?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[r]}]:[],i],on:{dragstart:l.to(d=>d.preventDefault())}}]})}}function O5(a,n,r){return(i,l)=>{const d=new pt(a);if(d.width<vY||d.height<bY)return null;let h;h=n.position==="inside"?d.bottom-l.height:d.bottom-l.height/2,h-=n.verticalOffset;const f=r(d,l),k=i.clone().moveTo(f,h).getIntersection(l.clone().moveTo(f,h)).getVisible();return!k||k.getArea()<l.getArea()?null:{top:h,left:f,name:`position_${n.position}-side_${n.side}`,config:{withArrow:!1}}}}function B5(a){const n=a.config.get("ui.poweredBy"),r=n&&n.position||"border";return kY({position:r,label:wY,verticalOffset:r==="inside"?5:0,horizontalOffset:5,side:a.locale.contentLanguageDirection==="ltr"?"right":"left"},n)}var L5=c(1801),CY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(L5.A,CY),L5.A.locals;const j5={POLITE:"polite",ASSERTIVE:"assertive"};class AY{constructor(n){this.editor=n,n.once("ready",()=>{for(const r of Object.values(j5))this.announce("",r)})}announce(n,r=j5.POLITE){const i=this.editor;if(!i.ui.view)return;this.view||(this.view=new xY(i.locale),i.ui.view.body.add(this.view));const{politeness:l,isUnsafeHTML:d}=typeof r=="string"?{politeness:r}:r;let h=this.view.regionViews.find(f=>f.politeness===l);h||(h=new EY(i,l),this.view.regionViews.add(h)),h.announce({announcement:n,isUnsafeHTML:d})}}class xY extends Le{constructor(n){super(n),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class EY extends Le{constructor(n,r){super(n.locale),this.setTemplate({tag:"div",attributes:{role:"region","aria-live":r,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),n.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=r,this._domConverter=n.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:n,isUnsafeHTML:r}){if(!n.trim().length)return;const i=document.createElement("li");r?this._domConverter.setContentOf(i,n):i.innerText=n,this._listElement.appendChild(i)}get _listElement(){return this.element.querySelector("ul")}}var SY=Object.defineProperty,z5=Object.getOwnPropertySymbols,TY=Object.prototype.hasOwnProperty,IY=Object.prototype.propertyIsEnumerable,F5=(a,n,r)=>n in a?SY(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r;class DY extends Q(){constructor(n){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const r=n.editing.view;this.editor=n,this.componentFactory=new QK(n),this.focusTracker=new Gn,this.tooltipManager=new sm(n),this.poweredBy=new yY(n),this.ariaLiveAnnouncer=new AY(n),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(r.document,"layoutChanged",this.update.bind(this)),this.listenTo(r,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const n of this._editableElementsMap.values())n.ckeditorInstance=null,this.editor.keystrokes.stopListening(n);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(n,r){this._editableElementsMap.set(n,r),r.ckeditorInstance||(r.ckeditorInstance=this.editor),this.focusTracker.add(r);const i=()=>{this.editor.editing.view.getDomRoot(n)||this.editor.keystrokes.listenTo(r)};this.isReady?i():this.once("ready",i)}removeEditableElement(n){const r=this._editableElementsMap.get(n);r&&(this._editableElementsMap.delete(n),this.editor.keystrokes.stopListening(r),this.focusTracker.remove(r),r.ckeditorInstance=null)}getEditableElement(n="main"){return this._editableElementsMap.get(n)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(n,r={}){n.isRendered?(this.focusTracker.add(n.element),this.editor.keystrokes.listenTo(n.element)):n.once("render",()=>{this.focusTracker.add(n.element),this.editor.keystrokes.listenTo(n.element)}),this._focusableToolbarDefinitions.push({toolbarView:n,options:r})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const n=this.editor,r=n.config.get("ui.viewportOffset");if(r)return r;const i=n.config.get("toolbar.viewportTopOffset");return i?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:i}):{top:0}}_initFocusTracking(){const n=this.editor,r=n.editing.view;let i,l;n.keystrokes.set("Alt+F10",(d,h)=>{const f=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(f)&&!Array.from(r.domRoots.values()).includes(f)&&(i=f);const k=this._getCurrentFocusedToolbarDefinition();k&&l||(l=this._getFocusableCandidateToolbarDefinitions());for(let b=0;b<l.length;b++){const w=l.shift();if(l.push(w),w!==k&&this._focusFocusableCandidateToolbar(w)){k&&k.options.afterBlur&&k.options.afterBlur();break}}h()}),n.keystrokes.set("Esc",(d,h)=>{const f=this._getCurrentFocusedToolbarDefinition();f&&(i?(i.focus(),i=null):n.editing.view.focus(),f.options.afterBlur&&f.options.afterBlur(),h())})}_getFocusableCandidateToolbarDefinitions(){const n=[];for(const r of this._focusableToolbarDefinitions){const{toolbarView:i,options:l}=r;(Ja(i.element)||l.beforeFocus)&&n.push(r)}return n.sort((r,i)=>$5(r)-$5(i)),n}_getCurrentFocusedToolbarDefinition(){for(const n of this._focusableToolbarDefinitions)if(n.toolbarView.element&&n.toolbarView.element.contains(this.focusTracker.focusedElement))return n;return null}_focusFocusableCandidateToolbar(n){const{toolbarView:r,options:{beforeFocus:i}}=n;return i&&i(),!!Ja(r.element)&&(r.focus(),!0)}_handleScrollToTheSelection(n,r){const i=((l,d)=>{for(var h in d||(d={}))TY.call(d,h)&&F5(l,h,d[h]);if(z5)for(var h of z5(d))IY.call(d,h)&&F5(l,h,d[h]);return l})({top:0,bottom:0,left:0,right:0},this.viewportOffset);r.viewportOffset.top+=i.top,r.viewportOffset.bottom+=i.bottom,r.viewportOffset.left+=i.left,r.viewportOffset.right+=i.right}}function $5(a){const{toolbarView:n,options:r}=a;let i=10;return Ja(n.element)&&i--,r.isContextual&&i--,i}var V5=c(1185),MY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(V5.A,MY),V5.A.locals;class PY extends Le{constructor(n){super(n),this.body=new kK(n)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class NY extends PY{constructor(n){super(n),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:n.uiLanguageDirection,lang:n.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const n=this.t,r=new Zg;return r.text=n("Rich Text Editor"),r.extendTemplate({attributes:{class:"ck-voice-label"}}),r}}class RY extends Le{constructor(n,r,i){super(n),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:n.contentLanguage,dir:n.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=i,this._hasExternalElement=!!this._editableElement,this._editingView=r}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const n=this._editingView;function r(i){n.change(l=>{const d=n.document.getRoot(i.name);l.addClass(i.isFocused?"ck-focused":"ck-blurred",d),l.removeClass(i.isFocused?"ck-blurred":"ck-focused",d)})}n.isRenderingInProgress?function i(l){n.once("change:isRenderingInProgress",(d,h,f)=>{f?i(l):r(l)})}(this):r(this)}}class OY extends RY{constructor(n,r,i,l={}){super(n,r,i);const d=n.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=l.label||(()=>d("Editor editing area: %0",this.name))}render(){super.render();const n=this._editingView;n.change(r=>{const i=n.document.getRoot(this.name);r.setAttribute("aria-label",this._generateLabel(this),i)})}}class By extends Ng{static get pluginName(){return"Notification"}init(){this.on("show:warning",(n,r)=>{window.alert(r.message)},{priority:"lowest"})}showSuccess(n,r={}){this._showNotification({message:n,type:"success",namespace:r.namespace,title:r.title})}showInfo(n,r={}){this._showNotification({message:n,type:"info",namespace:r.namespace,title:r.title})}showWarning(n,r={}){this._showNotification({message:n,type:"warning",namespace:r.namespace,title:r.title})}_showNotification(n){const r=n.namespace?`show:${n.type}:${n.namespace}`:`show:${n.type}`;this.fire(r,{message:n.message,type:n.type,title:n.title||""})}}class U5 extends Q(){constructor(n,r){super(),r&&gI(this,r),n&&this.set(n)}}var H5=c(991),BY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(H5.A,BY),H5.A.locals;var W5=c(5380),LY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(W5.A,LY),W5.A.locals;const lm=bc("px");class cm extends pe{constructor(n){super(n),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const r=this.editor.editing.view,i=r.document.selection.editableElement;return i?r.domConverter.mapViewToDom(i.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(n){return Array.from(this._viewToStack.keys()).includes(n)}add(n){if(this._view||this._createPanelView(),this.hasView(n.view))throw new M("contextualballoon-add-view-exist",[this,n]);const r=n.stackId||"main";if(!this._idToStack.has(r))return this._idToStack.set(r,new Map([[n.view,n]])),this._viewToStack.set(n.view,this._idToStack.get(r)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!n.singleViewMode||this.showStack(r));const i=this._idToStack.get(r);n.singleViewMode&&this.showStack(r),i.set(n.view,n),this._viewToStack.set(n.view,i),i===this._visibleStack&&this._showView(n)}remove(n){if(!this.hasView(n))throw new M("contextualballoon-remove-view-not-exist",[this,n]);const r=this._viewToStack.get(n);this._singleViewMode&&this.visibleView===n&&(this._singleViewMode=!1),this.visibleView===n&&(r.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(r.values())[r.size-2])),r.size===1?(this._idToStack.delete(this._getStackId(r)),this._numberOfStacks=this._idToStack.size):r.delete(n),this._viewToStack.delete(n)}updatePosition(n){n&&(this._visibleStack.get(this.visibleView).position=n),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(n){this.visibleStack=n;const r=this._idToStack.get(n);if(!r)throw new M("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==r&&this._showView(Array.from(r.values()).pop())}_createPanelView(){this._view=new Fo(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(n){return Array.from(this._idToStack.entries()).find(r=>r[1]===n)[0]}_showNextStack(){const n=Array.from(this._idToStack.values());let r=n.indexOf(this._visibleStack)+1;n[r]||(r=0),this.showStack(this._getStackId(n[r]))}_showPrevStack(){const n=Array.from(this._idToStack.values());let r=n.indexOf(this._visibleStack)-1;n[r]||(r=n.length-1),this.showStack(this._getStackId(n[r]))}_createRotatorView(){const n=new jY(this.editor.locale),r=this.editor.locale.t;return this.view.content.add(n),n.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(i,l)=>!l&&i>1),n.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),n.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(i,l)=>{if(l<2)return"";const d=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return r("%0 of %1",[d,l])}),n.buttonNextView.on("execute",()=>{n.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),n.buttonPrevView.on("execute",()=>{n.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),n}_createFakePanelsView(){const n=new zY(this.editor.locale,this.view);return n.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(r,i)=>!i&&r>=2?Math.min(r-1,2):0),n.listenTo(this.view,"change:top",()=>n.updatePosition()),n.listenTo(this.view,"change:left",()=>n.updatePosition()),this.editor.ui.view.body.add(n),n}_showView({view:n,balloonClassName:r="",withArrow:i=!0,singleViewMode:l=!1}){this.view.class=r,this.view.withArrow=i,this._rotatorView.showView(n),this.visibleView=n,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),l&&(this._singleViewMode=!0)}_getBalloonPosition(){let n=Array.from(this._visibleStack.values()).pop().position;return n&&(n.limiter||(n=Object.assign({},n,{limiter:this.positionLimiter})),n=Object.assign({},n,{viewportOffsetConfig:this.editor.ui.viewportOffset})),n}}class jY extends Le{constructor(n){super(n);const r=n.t,i=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Gn,this.buttonPrevView=this._createButtonView(r("Previous"),Ze.previousArrow),this.buttonNextView=this._createButtonView(r("Next"),Ze.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",i.to("isNavigationVisible",l=>l?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:i.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(n){this.hideView(),this.content.add(n)}hideView(){this.content.clear()}_createButtonView(n,r){const i=new At(this.locale);return i.set({label:n,icon:r,tooltip:!0}),i}}class zY extends Le{constructor(n,r){super(n);const i=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=r,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",i.to("numberOfPanels",l=>l?"":"ck-hidden")],style:{top:i.to("top",lm),left:i.to("left",lm),width:i.to("width",lm),height:i.to("height",lm)}},children:this.content}),this.on("change:numberOfPanels",(l,d,h,f)=>{h>f?this._addPanels(h-f):this._removePanels(f-h),this.updatePosition()})}_addPanels(n){for(;n--;){const r=new Le;r.setTemplate({tag:"div"}),this.content.add(r),this.registerChild(r)}}_removePanels(n){for(;n--;){const r=this.content.last;this.content.remove(r),this.deregisterChild(r),r.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:n,left:r}=this._balloonPanelView,{width:i,height:l}=new pt(this._balloonPanelView.element);Object.assign(this,{top:n,left:r,width:i,height:l})}}}var q5=c(8298),FY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(q5.A,FY),q5.A.locals;const Mc=bc("px");class $Y extends Le{constructor(n){super(n);const r=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new ni({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:r.to("isSticky",i=>i?"block":"none"),height:r.to("isSticky",i=>i?Mc(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new ni({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",r.if("isSticky","ck-sticky-panel__content_sticky"),r.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:r.to("isSticky",i=>i?Mc(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:r.to("_stickyTopOffset",i=>i&&Mc(i)),bottom:r.to("_stickyBottomOffset",i=>i&&Mc(i)),marginLeft:r.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(m.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const n=new pt(this.limiterElement);let r=n.getVisible();if(r){const i=new pt(m.window);i.top+=this.viewportTopOffset,i.height-=this.viewportTopOffset,r=r.getIntersection(i)}if(r&&n.top<r.top){const i=r.top;if(i+this._contentPanelRect.height+this.limiterBottomOffset>r.bottom){const l=Math.max(n.bottom-r.bottom,0)+this.limiterBottomOffset;n.bottom-l>n.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(l):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<n.height?this._stickToTopOfAncestors(i):this._unstick()}else this._unstick()}_stickToTopOfAncestors(n){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=n,this._stickyBottomOffset=null,this._marginLeft=Mc(-m.window.scrollX)}_stickToBottomOfLimiter(n){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=n,this._marginLeft=Mc(-m.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new pt(this.contentPanelElement)}}class VY extends em{constructor(n,r){const i=n.t,l=Object.assign({},{showResetButton:!0,showIcon:!0,creator:om},r);super(n,l.creator),this.label=r.label,this._viewConfig=l,this._viewConfig.showIcon&&(this.iconView=new rs,this.iconView.content=Ze.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new At(n),this.resetButtonView.set({label:i("Clear"),icon:Ze.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",d=>!d),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class UY extends Le{constructor(){super();const n=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",n.if("isVisible","ck-hidden",r=>!r)],tabindex:-1},children:[{tag:"span",children:[{text:[n.to("primaryText")]}]},{tag:"span",children:[{text:[n.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class HY extends Le{constructor(n){super(n),this.children=this.createCollection(),this.focusTracker=new Gn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new Ir({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const n of this.children)this.focusTracker.add(n.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var G5=/[\\^$.*+?()[\]{}|]/g,WY=RegExp(G5.source);const K5=function(a){return(a=Kw(a))&&WY.test(a)?a.replace(G5,"\\$&"):a};var Y5=c(8107),qY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(Y5.A,qY),Y5.A.locals;var GY=Object.defineProperty,Q5=Object.getOwnPropertySymbols,KY=Object.prototype.hasOwnProperty,YY=Object.prototype.propertyIsEnumerable,Z5=(a,n,r)=>n in a?GY(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r;class QY extends Le{constructor(n,r){super(n),this._config=r,this.filteredView=r.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new Gn,this.keystrokes=new Io,this.resultsView=new HY(n),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),r.infoView&&r.infoView.instance?this.infoView=r.infoView.instance:(this.infoView=new UY,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new Ir({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(i,{resultsCount:l,totalItemsCount:d})=>{this.resultsCount=l,this.totalItemsCount=d}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",r.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const n=r=>r.stopPropagation();for(const r of this.focusableChildren)this.focusTracker.add(r.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",n),this.keystrokes.set("arrowleft",n),this.keystrokes.set("arrowup",n),this.keystrokes.set("arrowdown",n)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(n){const r=n?new RegExp(K5(n),"ig"):null,i=this.filteredView.filter(r);this.fire("search",((l,d)=>{for(var h in d||(d={}))KY.call(d,h)&&Z5(l,h,d[h]);if(Q5)for(var h of Q5(d))YY.call(d,h)&&Z5(l,h,d[h]);return l})({query:n},i))}_createSearchTextQueryView(){const n=new VY(this.locale,this._config.queryView);return this.listenTo(n.fieldView,"input",()=>{this.search(n.fieldView.element.value)}),n.on("reset",()=>this.reset()),n.bind("isEnabled").to(this),n}_enableDefaultInfoViewBehavior(){const n=this.locale.t,r=this.infoView;function i(l,{query:d,resultsCount:h,totalItemsCount:f}){return typeof l=="function"?l(d,h,f):l}this.on("search",(l,d)=>{if(d.resultsCount)r.set({isVisible:!1});else{const h=this._config.infoView&&this._config.infoView.text;let f,k;d.totalItemsCount?h&&h.notFound?(f=h.notFound.primary,k=h.notFound.secondary):(f=n("No results found"),k=""):h&&h.noSearchableItems?(f=h.noSearchableItems.primary,k=h.noSearchableItems.secondary):(f=n("No searchable items"),k=""),r.set({primaryText:i(f,d),secondaryText:i(k,d),isVisible:!0})}})}}var J5=c(5727),ZY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(J5.A,ZY),J5.A.locals;const Ly=class extends QY{constructor(a,n){super(a,n),this._config=n;const r=bc("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const i=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[i.if("isVisible","ck-hidden",l=>!l),i.to("_position",l=>`ck-search__results_${l}`)],style:{width:i.to("_width",r)}}}),this.focusTracker.on("change:isFocused",(l,d,h)=>{this._updateResultsVisibility(),h?this.resultsView.element.scrollTop=0:n.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(l,d)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,d())}),this.listenTo(m.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(l,{value:d})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=d,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new pt(this.queryView.fieldView.element).width;const a=Ly._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:Ly.defaultResultsPositions});this.resultsView._position=a?a.name:"s"}_updateResultsVisibility(){const a=this._config.queryMinChars===void 0?0:this._config.queryMinChars,n=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&n>=a}};let X5=Ly;X5.defaultResultsPositions=[a=>({top:a.bottom,left:a.left,name:"s"}),(a,n)=>({top:a.top-n.height,left:a.left,name:"n"})],X5._getOptimalPosition=Sg;var eM=c(9529),JY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(eM.A,JY),eM.A.locals;var tM=c(109),XY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(tM.A,XY),tM.A.locals;var nM=c(2710),eQ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(nM.A,eQ),nM.A.locals;var oM=c(3344),tQ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(oM.A,tQ),oM.A.locals;class nQ extends At{constructor(n){super(n);const r=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",i=>String(i)),"data-cke-tooltip-disabled":r.to("isOn")},on:{mouseenter:r.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const n=new rs;return n.content=Xg,n.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),n}}var rM=c(9481),oQ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(rM.A,oQ),rM.A.locals;class jy extends Dc{constructor(n,r){super(n);const i=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:i.to("mouseenter")}}),this.delegate("mouseenter").to(r)}}var rQ=Object.defineProperty,iM=Object.getOwnPropertySymbols,iQ=Object.prototype.hasOwnProperty,sQ=Object.prototype.propertyIsEnumerable,sM=(a,n,r)=>n in a?rQ(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,aM=(a,n)=>{for(var r in n||(n={}))iQ.call(n,r)&&sM(a,r,n[r]);if(iM)for(var r of iM(n))sQ.call(n,r)&&sM(a,r,n[r]);return a};const rh={toggleMenusAndFocusItemsOnHover(a){a.on("menu:mouseenter",n=>{if(a.isOpen){for(const r of a.menus){const i=n.path[0],l=i instanceof jy&&i.children.first===r;r.isOpen=(n.path.includes(r)||l)&&r.isEnabled}n.source.focus()}})},focusCycleMenusOnArrows(a){const n=a.locale.uiLanguageDirection==="rtl";function r(i,l){const d=a.children.getIndex(i),h=i.isOpen,f=a.children.length,k=a.children.get((d+f+l)%f);i.isOpen=!1,h&&(k.isOpen=!0),k.buttonView.focus()}a.on("menu:arrowright",i=>{r(i.source,n?-1:1)}),a.on("menu:arrowleft",i=>{r(i.source,n?1:-1)})},closeMenusWhenTheBarCloses(a){a.on("change:isOpen",()=>{a.isOpen||a.menus.forEach(n=>{n.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(a){a.on("menu:change:isOpen",(n,r,i)=>{i&&a.menus.filter(l=>n.source.parentMenuView===l.parentMenuView&&n.source!==l&&l.isOpen).forEach(l=>{l.isOpen=!1})})},closeOnClickOutside(a){Mg({emitter:a,activator:()=>a.isOpen,callback:()=>a.close(),contextElements:()=>a.children.map(n=>n.element)})}},ll={openAndFocusPanelOnArrowDownKey(a){a.keystrokes.set("arrowdown",(n,r)=>{a.focusTracker.focusedElement===a.buttonView.element&&(a.isOpen||(a.isOpen=!0),a.panelView.focus(),r())})},openOnArrowRightKey(a){const n=a.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";a.keystrokes.set(n,(r,i)=>{a.focusTracker.focusedElement===a.buttonView.element&&a.isEnabled&&(a.isOpen||(a.isOpen=!0),a.panelView.focus(),i())})},openOnButtonClick(a){a.buttonView.on("execute",()=>{a.isOpen=!0,a.panelView.focus()})},toggleOnButtonClick(a){a.buttonView.on("execute",()=>{a.isOpen=!a.isOpen,a.isOpen&&a.panelView.focus()})},closeOnArrowLeftKey(a){const n=a.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";a.keystrokes.set(n,(r,i)=>{a.isOpen&&(a.isOpen=!1,a.focus(),i())})},closeOnEscKey(a){a.keystrokes.set("esc",(n,r)=>{a.isOpen&&(a.isOpen=!1,a.focus(),r())})},closeOnParentClose(a){a.parentMenuView.on("change:isOpen",(n,r,i)=>{i||n.source!==a.parentMenuView||(a.isOpen=!1)})}},aQ={southEast:a=>({top:a.bottom,left:a.left,name:"se"}),southWest:(a,n)=>({top:a.bottom,left:a.left-n.width+a.width,name:"sw"}),northEast:(a,n)=>({top:a.top-n.height,left:a.left,name:"ne"}),northWest:(a,n)=>({top:a.top-n.height,left:a.left-n.width+a.width,name:"nw"}),eastSouth:a=>({top:a.top,left:a.right-5,name:"es"}),eastNorth:(a,n)=>({top:a.top-n.height,left:a.right-5,name:"en"}),westSouth:(a,n)=>({top:a.top,left:a.left-n.width+5,name:"ws"}),westNorth:(a,n)=>({top:a.top-n.height,left:a.left-n.width+5,name:"wn"})},lQ=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:uploadImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment"]},{groupId:"insertMinorWidgets",items:["menuBar:insertTemplate","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function cQ({normalizedConfig:a,locale:n,componentFactory:r}){const i=ii(a);return function(l,d){const h=d.removeItems,f=[];d.items=d.items.filter(({menuId:k})=>!h.includes(k)||(f.push(k),!1)),Pc(d.items,k=>{k.groups=k.groups.filter(({groupId:b})=>!h.includes(b)||(f.push(b),!1));for(const b of k.groups)b.items=b.items.filter(w=>{const A=dM(w);return!h.includes(A)||(f.push(A),!1)})});for(const k of h)f.includes(k)||U("menu-bar-item-could-not-be-removed",{menuBarConfig:l,itemName:k})}(a,i),function(l,d){const h=d.addItems,f=[];for(const k of h){const b=hQ(k.position),w=pQ(k.position);if(dQ(k))if(w){const A=d.items.findIndex(E=>E.menuId===w);A!=-1?b==="before"?(d.items.splice(A,0,k.menu),f.push(k)):b==="after"&&(d.items.splice(A+1,0,k.menu),f.push(k)):lM(d,k.menu,w,b)&&f.push(k)}else b==="start"?(d.items.unshift(k.menu),f.push(k)):b==="end"&&(d.items.push(k.menu),f.push(k));else uQ(k)?Pc(d.items,A=>{if(A.menuId===w)b==="start"?(A.groups.unshift(k.group),f.push(k)):b==="end"&&(A.groups.push(k.group),f.push(k));else{const E=A.groups.findIndex(I=>I.groupId===w);E!==-1&&(b==="before"?(A.groups.splice(E,0,k.group),f.push(k)):b==="after"&&(A.groups.splice(E+1,0,k.group),f.push(k)))}}):lM(d,k.item,w,b)&&f.push(k)}for(const k of h)f.includes(k)||U("menu-bar-item-could-not-be-added",{menuBarConfig:l,addedItemConfig:k})}(a,i),function(l,d,h){Pc(d.items,f=>{for(const k of f.groups)k.items=k.items.filter(b=>{const w=typeof b=="string"&&!h.has(b);return w&&!d.isUsingDefaultConfig&&U("menu-bar-item-unavailable",{menuBarConfig:l,parentMenuConfig:ii(f),componentName:b}),!w})})}(a,i,r),cM(a,i),function(l,d){const h=d.t,f={File:h({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:h({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:h({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:h({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:h({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:h({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:h({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:h({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:h({string:"Font",id:"MENU_BAR_MENU_FONT"})};Pc(l.items,k=>{k.label in f&&(k.label=f[k.label])})}(i,n),i}function lM(a,n,r,i){let l=!1;return Pc(a.items,d=>{for(const{groupId:h,items:f}of d.groups){if(l)return;if(h===r)i==="start"?(f.unshift(n),l=!0):i==="end"&&(f.push(n),l=!0);else{const k=f.findIndex(b=>dM(b)===r);k!==-1&&(i==="before"?(f.splice(k,0,n),l=!0):i==="after"&&(f.splice(k+1,0,n),l=!0))}}}),l}function cM(a,n){const r=n.isUsingDefaultConfig;let i=!1;n.items=n.items.filter(l=>!!l.groups.length||(zy(a,l,r),!1)),n.items.length?(Pc(n.items,l=>{l.groups=l.groups.filter(d=>!!d.items.length||(i=!0,!1));for(const d of l.groups)d.items=d.items.filter(h=>!(uM(h)&&!h.groups.length)||(zy(a,h,r),i=!0,!1))}),i&&cM(a,n)):zy(a,a,r)}function zy(a,n,r){r||U("menu-bar-menu-empty",{menuBarConfig:a,emptyMenuConfig:n})}function Pc(a,n){if(Array.isArray(a))for(const i of a)r(i);function r(i){n(i);for(const l of i.groups)for(const d of l.items)uM(d)&&r(d)}}function dQ(a){return typeof a=="object"&&"menu"in a}function uQ(a){return typeof a=="object"&&"group"in a}function hQ(a){return a.startsWith("start")?"start":a.startsWith("end")?"end":a.startsWith("after")?"after":"before"}function pQ(a){const n=a.match(/^[^:]+:(.+)/);return n?n[1]:null}function dM(a){return typeof a=="string"?a:a.menuId}function uM(a){return typeof a=="object"&&"menuId"in a}function fQ(a,n){const r=n.element;a.ui.focusTracker.add(r),a.keystrokes.listenTo(r);const i=function(l){let d;return d="items"in l&&l.items?aM({items:l.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1},l):aM({items:ii(lQ),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0},l),d}(a.config.get("menuBar")||{});n.fillFromConfig(i,a.ui.componentFactory),a.keystrokes.set("Esc",(l,d)=>{r.contains(a.ui.focusTracker.focusedElement)&&(a.editing.view.focus(),d())}),a.keystrokes.set("Alt+F9",(l,d)=>{r.contains(a.ui.focusTracker.focusedElement)||(n.focus(),d())})}var hM=c(9108),gQ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(hM.A,gQ),hM.A.locals;class mQ extends Le{constructor(n){super(n);const r=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",r.to("position",i=>`ck-menu-bar__menu__panel_position_${i}`),r.if("isVisible","ck-hidden",i=>!i)],tabindex:"-1"},children:this.children,on:{selectstart:r.to(i=>{i.target.tagName.toLocaleLowerCase()!=="input"&&i.preventDefault()})}})}focus(n=1){this.children.length&&(n===1?this.children.first.focus():this.children.last.focus())}}var pM=c(4),kQ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(pM.A,kQ),pM.A.locals;const fM=class extends Le{constructor(a){super(a);const n=this.bindTemplate;this.buttonView=new nQ(a),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new mQ(a),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Io,this.focusTracker=new Gn,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",n.to("class"),n.if("isEnabled","ck-disabled",r=>!r),n.if("parentMenuView","ck-menu-bar__menu_top-level",r=>!r)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),ll.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(ll.openOnButtonClick(this),ll.openOnArrowRightKey(this),ll.closeOnArrowLeftKey(this),ll.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),ll.openAndFocusPanelOnArrowDownKey(this),ll.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(a,n)=>{this.fire("arrowright"),n()}),this.keystrokes.set("arrowleft",(a,n)=>{this.fire("arrowleft"),n()})}_repositionPanelOnOpen(){this.on("change:isOpen",(a,n,r)=>{if(!r)return;const i=fM._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=i?i.name:this._panelPositions[0].name})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:a,southWest:n,northEast:r,northWest:i,westSouth:l,eastSouth:d,westNorth:h,eastNorth:f}=aQ;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[d,f,l,h]:[a,n,r,i]:this.parentMenuView?[l,h,d,f]:[n,a,i,r]}};let Nc=fM;Nc._getOptimalPosition=Sg;class Fy extends Dy{constructor(n){super(n),this.role="menu"}}var gM=c(977),bQ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(gM.A,bQ),gM.A.locals;class lr extends At{constructor(n){super(n),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class mM extends KD{constructor(n){super(n),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var kM=c(497),vQ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(kM.A,vQ),kM.A.locals;const bM=["mouseenter","arrowleft","arrowright","change:isOpen"];class wQ extends Le{constructor(n){super(n),this.menus=[];const r=n.t;this.set("isOpen",!1),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar"],"aria-label":r("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(n,r){const i=cQ({normalizedConfig:n,locale:this.locale,componentFactory:r}).items.map(l=>this._createMenu({componentFactory:r,menuDefinition:l}));this.children.addMany(i)}render(){super.render(),rh.toggleMenusAndFocusItemsOnHover(this),rh.closeMenusWhenTheBarCloses(this),rh.closeMenuWhenAnotherOnTheSameLevelOpens(this),rh.focusCycleMenusOnArrows(this),rh.closeOnClickOutside(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const n of this.children)n.isOpen=!1}registerMenu(n,r=null){r?(n.delegate(...bM).to(r),n.parentMenuView=r):n.delegate(...bM).to(this,i=>"menu:"+i),n._attachBehaviors(),this.menus.push(n)}_createMenu({componentFactory:n,menuDefinition:r,parentMenuView:i}){const l=this.locale,d=new Nc(l);return this.registerMenu(d,i),d.buttonView.set({label:r.label}),d.once("change:isOpen",()=>{const h=new Fy(l);h.ariaLabel=r.label,d.panelView.children.add(h),h.items.addMany(this._createMenuItems({menuDefinition:r,parentMenuView:d,componentFactory:n}))}),d}_createMenuItems({menuDefinition:n,parentMenuView:r,componentFactory:i}){const l=this.locale,d=[];for(const h of n.groups){for(const f of h.items){const k=new jy(l,r);if(xe(f))k.children.add(this._createMenu({componentFactory:i,menuDefinition:f,parentMenuView:r}));else{const b=this._createMenuItemContentFromFactory({componentName:f,componentFactory:i,parentMenuView:r});if(!b)continue;k.children.add(b)}d.push(k)}h!==n.groups[n.groups.length-1]&&d.push(new Iy(l))}return d}_createMenuItemContentFromFactory({componentName:n,parentMenuView:r,componentFactory:i}){const l=i.create(n);return l instanceof Nc||l instanceof lr||l instanceof mM?(this._registerMenuTree(l,r),l.on("execute",()=>{this.close()}),l):(U("menu-bar-component-unsupported",{componentName:n,componentView:l}),null)}_registerMenuTree(n,r){if(!(n instanceof Nc))return void n.delegate("mouseenter").to(r);this.registerMenu(n,r);const i=n.panelView.children.filter(d=>d instanceof Fy)[0];if(!i)return void n.delegate("mouseenter").to(r);const l=i.items.filter(d=>d instanceof Dc);for(const d of l)this._registerMenuTree(d.children.get(0),n)}_setupIsOpenUpdater(){let n;this.on("menu:change:isOpen",(r,i,l)=>{clearTimeout(n),l?this.isOpen=!0:n=setTimeout(()=>{this.isOpen=Array.from(this.children).some(d=>d.isOpen)},0)})}}class yQ extends DY{constructor(n,r){super(n),this.view=r,this._toolbarConfig=i5(n.config.get("toolbar")),this._elementReplacer=new Rt,this.listenTo(n.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(n){const r=this.editor,i=this.view,l=r.editing.view,d=i.editable,h=l.document.getRoot();d.name=h.rootName,i.render();const f=d.element;this.setEditableElement(d.name,f),i.editable.bind("isFocused").to(this.focusTracker),l.attachDomRoot(f),n&&this._elementReplacer.replace(n,this.element),this._initPlaceholder(),this._initToolbar(),i.menuBarView&&fQ(r,i.menuBarView),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const n=this.view,r=this.editor.editing.view;this._elementReplacer.restore(),r.detachDomRoot(n.editable.name),n.destroy()}_initToolbar(){const n=this.view;n.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),n.stickyPanel.limiterElement=n.element,n.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:r})=>r||0),n.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(n.toolbar)}_initPlaceholder(){const n=this.editor,r=n.editing.view,i=r.document.getRoot(),l=n.sourceElement;let d;const h=n.config.get("placeholder");h&&(d=typeof h=="string"?h:h[this.view.editable.name]),!d&&l&&l.tagName.toLowerCase()==="textarea"&&(d=l.getAttribute("placeholder")),d&&(i.placeholder=d),VT({view:r,element:i,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(n,r,i){const l=this.view.stickyPanel;if(l.isSticky){const d=new pt(l.element).height;r.viewportOffset.top+=d}else{const d=()=>{this.editor.editing.view.scrollToTheSelection(i)};this.listenTo(l,"change:isSticky",d),setTimeout(()=>{this.stopListening(l,"change:isSticky",d)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const n=this.view.stickyPanel,r=this.editor.plugins.get("Dialog");r.on("show",()=>{const i=r.view;i.on("moveTo",(l,d)=>{if(!n.isSticky||i.wasMoved)return;const h=new pt(n.contentPanelElement);d[1]<h.bottom+im.defaultOffset&&(d[1]=h.bottom+im.defaultOffset)},{priority:"high"})},{priority:"low"})}}var vM=c(7388),_Q={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(vM.A,_Q),vM.A.locals;class CQ extends NY{constructor(n,r,i={}){super(n),this.stickyPanel=new $Y(n),this.toolbar=new Ty(n,{shouldGroupWhenFull:i.shouldToolbarGroupWhenFull}),i.useMenuBar&&(this.menuBarView=new wQ(n)),this.editable=new OY(n,r)}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class wM{constructor(n){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof n.crashNumberLimit=="number"?n.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof n.minimumNonErrorTimePeriod=="number"?n.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=r=>{const i="error"in r?r.error:r.reason;i instanceof Error&&this._handleError(i,r)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(n,r){this._listeners[n]||(this._listeners[n]=[]),this._listeners[n].push(r)}off(n,r){this._listeners[n]=this._listeners[n].filter(i=>i!==r)}_fire(n,...r){const i=this._listeners[n]||[];for(const l of i)l.apply(this,[null,...r])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(n,r){if(this._shouldReactToError(n)){this.crashes.push({message:n.message,stack:n.stack,filename:r instanceof ErrorEvent?r.filename:void 0,lineno:r instanceof ErrorEvent?r.lineno:void 0,colno:r instanceof ErrorEvent?r.colno:void 0,date:this._now()});const i=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:n,causesRestart:i}),i?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(n){return n.is&&n.is("CKEditorError")&&n.context!==void 0&&n.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(n)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function $y(a,n=new Set){const r=[a],i=new Set;let l=0;for(;r.length>l;){const d=r[l++];if(!i.has(d)&&AQ(d)&&!n.has(d))if(i.add(d),Symbol.iterator in d)try{for(const h of d)r.push(h)}catch{}else for(const h in d)h!=="defaultValue"&&r.push(d[h])}return i}function AQ(a){const n=Object.prototype.toString.call(a),r=typeof a;return!(r==="number"||r==="boolean"||r==="string"||r==="symbol"||r==="function"||n==="[object Date]"||n==="[object RegExp]"||n==="[object Module]"||a==null||a._watchdogExcluded||a instanceof EventTarget||a instanceof Event)}function yM(a,n,r=new Set){if(a===n&&typeof(i=a)=="object"&&i!==null)return!0;var i;const l=$y(a,r),d=$y(n,r);for(const h of l)if(d.has(h))return!0;return!1}var xQ=Object.defineProperty,EQ=Object.defineProperties,SQ=Object.getOwnPropertyDescriptors,dm=Object.getOwnPropertySymbols,_M=Object.prototype.hasOwnProperty,CM=Object.prototype.propertyIsEnumerable,AM=(a,n,r)=>n in a?xQ(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,Vy=(a,n)=>{for(var r in n||(n={}))_M.call(n,r)&&AM(a,r,n[r]);if(dm)for(var r of dm(n))CM.call(n,r)&&AM(a,r,n[r]);return a};class xM extends wM{constructor(n,r={}){super(r),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=am(this._save.bind(this),typeof r.saveInterval=="number"?r.saveInterval:5e3),n&&(this._creator=(i,l)=>n.create(i,l)),this._destructor=i=>i.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(n){this._creator=n}setDestructor(n){this._destructor=n}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(n=>{console.error("An error happened during the editor destroying.",n)}).then(()=>{const n={},r=[],i=this._config.rootsAttributes||{},l={};for(const[k,b]of Object.entries(this._data.roots))b.isLoaded?(n[k]="",l[k]=i[k]||{}):r.push(k);const d=(h=Vy({},this._config),f={extraPlugins:this._config.extraPlugins||[],lazyRoots:r,rootsAttributes:l,_watchdogInitialData:this._data},EQ(h,SQ(f)));var h,f;return delete d.initialData,d.extraPlugins.push(TQ),this._initUsingData?this.create(n,d,d.context):Za(this._elementOrData)?this.create(this._elementOrData,d,d.context):this.create(this._editables,d,d.context)}).then(()=>{this._fire("restart")})}create(n=this._elementOrData,r=this._config,i){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=n,this._initUsingData=typeof n=="string"||Object.keys(n).length>0&&typeof Object.values(n)[0]=="string",this._config=this._cloneEditorConfiguration(r)||{},this._config.context=i,this._creator(n,this._config))).then(l=>{this._editor=l,l.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=l.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const n=this._editor;return this._editor=null,n.model.document.off("change:data",this._throttledSave),this._destructor(n)})}_save(){const n=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=n}catch(r){console.error(r,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(n){this._excludedProps=n}_getData(){const n=this._editor,r=n.model.document.roots.filter(f=>f.isAttached()&&f.rootName!="$graveyard"),{plugins:i}=n,l=i.has("CommentsRepository")&&i.get("CommentsRepository"),d=i.has("TrackChanges")&&i.get("TrackChanges"),h={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};r.forEach(f=>{h.roots[f.rootName]={content:JSON.stringify(Array.from(f.getChildren())),attributes:JSON.stringify(Array.from(f.getAttributes())),isLoaded:f._isLoaded}});for(const f of n.model.markers)f._affectsData&&(h.markers[f.name]={rangeJSON:f.getRange().toJSON(),usingOperation:f._managedUsingOperations,affectsData:f._affectsData});return l&&(h.commentThreads=JSON.stringify(l.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),d&&(h.suggestions=JSON.stringify(d.getSuggestions({toJSON:!0,skipNotAttached:!0}))),h}_getEditables(){const n={};for(const r of this.editor.model.document.getRootNames()){const i=this.editor.ui.getEditableElement(r);i&&(n[r]=i)}return n}_isErrorComingFromThisItem(n){return yM(this._editor,n.context,this._excludedProps)}_cloneEditorConfiguration(n){return Pw(n,(r,i)=>Za(r)||i==="context"?r:void 0)}}class TQ{constructor(n){this.editor=n,this._data=n.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",n=>{n.stop(),this.editor.model.enqueueChange({isUndoable:!1},r=>{this._restoreCollaborationData(),this._restoreEditorData(r)}),this.editor.data.fire("ready")},{priority:999})}_createNode(n,r){if("name"in r){const i=n.createElement(r.name,r.attributes);if(r.children)for(const l of r.children)i._appendChild(this._createNode(n,l));return i}return n.createText(r.data,r.attributes)}_restoreEditorData(n){const r=this.editor;Object.entries(this._data.roots).forEach(([i,{content:l,attributes:d}])=>{const h=JSON.parse(l),f=JSON.parse(d),k=r.model.document.getRoot(i);for(const[b,w]of f)n.setAttribute(b,w,k);for(const b of h){const w=this._createNode(n,b);n.insert(w,k,"end")}}),Object.entries(this._data.markers).forEach(([i,l])=>{const{document:d}=r.model,h=l,{rangeJSON:{start:f,end:k}}=h,b=((O,L)=>{var F={};for(var W in O)_M.call(O,W)&&L.indexOf(W)<0&&(F[W]=O[W]);if(O!=null&&dm)for(var W of dm(O))L.indexOf(W)<0&&CM.call(O,W)&&(F[W]=O[W]);return F})(h,["rangeJSON"]),w=d.getRoot(f.root),A=n.createPositionFromPath(w,f.path,f.stickiness),E=n.createPositionFromPath(w,k.path,k.stickiness),I=n.createRange(A,E);n.addMarker(i,Vy({range:I},b))})}_restoreCollaborationData(){const n=JSON.parse(this._data.commentThreads),r=JSON.parse(this._data.suggestions);n.forEach(i=>{const l=this.editor.config.get("collaboration.channelId"),d=this.editor.plugins.get("CommentsRepository");d.hasCommentThread(i.threadId)&&d.getCommentThread(i.threadId).remove(),d.addCommentThread(Vy({channelId:l},i))}),r.forEach(i=>{const l=this.editor.plugins.get("TrackChangesEditing");l.hasSuggestion(i.id)?l.getSuggestion(i.id).attributes=i.attributes:l.addSuggestionData(i)})}}const ih=Symbol("MainQueueId");class IQ{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(n){this._onEmptyCallbacks.push(n)}enqueue(n,r){const i=n===ih;this._activeActions++,this._queues.get(n)||this._queues.set(n,Promise.resolve());const l=(i?Promise.all(this._queues.values()):Promise.all([this._queues.get(ih),this._queues.get(n)])).then(r),d=l.catch(()=>{});return this._queues.set(n,d),l.finally(()=>{this._activeActions--,this._queues.get(n)===d&&this._activeActions===0&&this._onEmptyCallbacks.forEach(h=>h())})}}function EM(a){return Array.isArray(a)?a:[a]}class um extends Ay(uK){constructor(n,r={}){if(!hm(n)&&r.initialData!==void 0)throw new M("editor-create-initial-data",null);super(r),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",function(h){return hm(h)?(f=h,f instanceof HTMLTextAreaElement?f.value:f.innerHTML):h;var f}(n)),hm(n)&&(this.sourceElement=n),this.model.document.createRoot();const i=!this.config.get("toolbar.shouldNotGroupWhenFull"),l=this.config.get("menuBar"),d=new CQ(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:i,useMenuBar:l.isVisible});this.ui=new yQ(this,d),function(h){if(!Xi(h.updateSourceElement))throw new M("attachtoform-missing-elementapi-interface",h);const f=h.sourceElement;if(function(k){return!!k&&k.tagName.toLowerCase()==="textarea"}(f)&&f.form){let k;const b=f.form,w=()=>h.updateSourceElement();Xi(b.submit)&&(k=b.submit,b.submit=()=>{w(),k.apply(b)}),b.addEventListener("submit",w),h.on("destroy",()=>{b.removeEventListener("submit",w),k&&(b.submit=k)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(n,r={}){return new Promise(i=>{const l=new this(n,r);i(l.initPlugins().then(()=>l.ui.init(hm(n)?n:null)).then(()=>l.data.init(l.config.get("initialData"))).then(()=>l.fire("ready")).then(()=>l))})}}function hm(a){return Za(a)}um.Context=zT,um.EditorWatchdog=xM,um.ContextWatchdog=class extends wM{constructor(a,n={}){super(n),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new IQ,this._watchdogConfig=n,this._creator=r=>a.create(r),this._destructor=r=>r.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(a){this._creator=a}setDestructor(a){this._destructor=a}get context(){return this._context}create(a={}){return this._actionQueues.enqueue(ih,()=>(this._contextConfig=a,this._create()))}getItem(a){return this._getWatchdog(a)._item}getItemState(a){return this._getWatchdog(a).state}add(a){const n=EM(a);return Promise.all(n.map(r=>this._actionQueues.enqueue(r.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let i;if(this._watchdogs.has(r.id))throw new Error(`Item with the given id is already added: '${r.id}'.`);if(r.type==="editor")return i=new xM(null,this._watchdogConfig),i.setCreator(r.creator),i._setExcludedProperties(this._contextProps),r.destructor&&i.setDestructor(r.destructor),this._watchdogs.set(r.id,i),i.on("error",(l,{error:d,causesRestart:h})=>{this._fire("itemError",{itemId:r.id,error:d}),h&&this._actionQueues.enqueue(r.id,()=>new Promise(f=>{const k=()=>{i.off("restart",k),this._fire("itemRestart",{itemId:r.id}),f()};i.on("restart",k)}))}),i.create(r.sourceElementOrData,r.config,this._context);throw new Error(`Not supported item type: '${r.type}'.`)})))}remove(a){const n=EM(a);return Promise.all(n.map(r=>this._actionQueues.enqueue(r,()=>{const i=this._getWatchdog(r);return this._watchdogs.delete(r),i.destroy()})))}destroy(){return this._actionQueues.enqueue(ih,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(ih,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(a=>{console.error("An error happened during destroying the context or items.",a)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(a=>(this._context=a,this._contextProps=$y(this._context),Promise.all(Array.from(this._watchdogs.values()).map(n=>(n._setExcludedProperties(this._contextProps),n.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const a=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(n=>n.destroy())).then(()=>this._destructor(a))})}_getWatchdog(a){const n=this._watchdogs.get(a);if(!n)throw new Error(`Item with the given id was not registered: ${a}.`);return n}_isErrorComingFromThisItem(a){for(const n of this._watchdogs.values())if(n._isErrorComingFromThisItem(a))return!1;return yM(this._context,a.context)}};class sh extends Vs{constructor(n){super(n),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const r=this.document;function i(l){return(d,h)=>{h.preventDefault();const f=h.dropRange?[h.dropRange]:null,k=new D(r,l);r.fire(k,{dataTransfer:h.dataTransfer,method:d.name,targetRanges:f,target:h.target,domEvent:h.domEvent}),k.stop.called&&h.stopPropagation()}}this.listenTo(r,"paste",i("clipboardInput"),{priority:"low"}),this.listenTo(r,"drop",i("clipboardInput"),{priority:"low"}),this.listenTo(r,"dragover",i("dragging"),{priority:"low"})}onDomEvent(n){const r="clipboardData"in n?n.clipboardData:n.dataTransfer,i=n.type=="drop"||n.type=="paste",l={dataTransfer:new CI(r,{cacheFiles:i})};n.type!="drop"&&n.type!="dragover"||(l.dropRange=function(d,h){const f=h.target.ownerDocument,k=h.clientX,b=h.clientY;let w;return f.caretRangeFromPoint&&f.caretRangeFromPoint(k,b)?w=f.caretRangeFromPoint(k,b):h.rangeParent&&(w=f.createRange(),w.setStart(h.rangeParent,h.rangeOffset),w.collapse(!0)),w?d.domConverter.domRangeToView(w):null}(this.view,n)),this.fire(n.type,n,l)}}const SM=["figcaption","li"],TM=["ol","ul"];function IM(a){if(a.is("$text")||a.is("$textProxy"))return a.data;if(a.is("element","img")&&a.hasAttribute("alt"))return a.getAttribute("alt");if(a.is("element","br"))return`
`;let n="",r=null;for(const i of a.getChildren())n+=DQ(i,r)+IM(i),r=i;return n}function DQ(a,n){return n?a.is("element","li")&&!a.isEmpty&&a.getChild(0).is("containerElement")||TM.includes(a.name)&&TM.includes(n.name)?`

`:a.is("containerElement")||n.is("containerElement")?SM.includes(a.name)||SM.includes(n.name)?`
`:`

`:"":""}const MQ=function(a,n){return a&&kT(a,n,Bu)},PQ=function(a,n,r,i){var l=r.length,d=l;if(a==null)return!d;for(a=Object(a);l--;){var h=r[l];if(h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++l<d;){var f=(h=r[l])[0],k=a[f],b=h[1];if(h[2]){if(k===void 0&&!(f in a))return!1}else{var w=new fc,A;if(!(A===void 0?Wg(b,k,3,i,w):A))return!1}}return!0},DM=function(a){return a==a&&!xe(a)},NQ=function(a){for(var n=Bu(a),r=n.length;r--;){var i=n[r],l=a[i];n[r]=[i,l,DM(l)]}return n},MM=function(a,n){return function(r){return r!=null&&r[a]===n&&(n!==void 0||a in Object(r))}},RQ=function(a){var n=NQ(a);return n.length==1&&n[0][2]?MM(n[0][0],n[0][1]):function(r){return r===a||PQ(r,a,n)}},OQ=function(a,n){return a!=null&&n in Object(a)},BQ=function(a,n,r){for(var i=-1,l=(n=Bg(n,a)).length,d=!1;++i<l;){var h=yc(n[i]);if(!(d=a!=null&&r(a,h)))break;a=a[h]}return d||++i!=l?d:!!(l=a==null?0:a.length)&&vw(l)&&yg(h,l)&&(Jt(a)||wg(a))},LQ=function(a,n){return a!=null&&BQ(a,n,OQ)},jQ=function(a,n){return qw(a)&&DM(n)?MM(yc(a),n):function(r){var i=Uu(r,a);return i===void 0&&i===n?LQ(r,a):Wg(n,i,3)}},zQ=function(a){return function(n){return n==null?void 0:n[a]}},FQ=function(a){return function(n){return Yw(n,a)}},$Q=function(a){return qw(a)?zQ(yc(a)):FQ(a)},VQ=function(a){return typeof a=="function"?a:a==null?$s:typeof a=="object"?Jt(a)?jQ(a[0],a[1]):RQ(a):$Q(a)},UQ=function(a,n){var r={};return n=VQ(n),MQ(a,function(i,l,d){vg(r,l,n(i,l,d))}),r};var HQ=Object.defineProperty,WQ=Object.defineProperties,qQ=Object.getOwnPropertyDescriptors,PM=Object.getOwnPropertySymbols,GQ=Object.prototype.hasOwnProperty,KQ=Object.prototype.propertyIsEnumerable,NM=(a,n,r)=>n in a?HQ(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r;class ah extends pe{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(n,r){this._markersToCopy.set(n,r)}_copySelectedFragmentWithMarkers(n,r,i=l=>l.model.getSelectedContent(l.model.document.selection)){return this.editor.model.change(l=>{const d=l.model.document.selection;l.setSelection(r);const h=this._insertFakeMarkersIntoSelection(l,l.model.document.selection,n),f=i(l),k=this._removeFakeMarkersInsideElement(l,f);for(const[b,w]of Object.entries(h)){k[b]||(k[b]=l.createRangeIn(f));for(const A of w)l.remove(A)}f.markers.clear();for(const[b,w]of Object.entries(k))f.markers.set(b,w);return l.setSelection(d),f})}_pasteMarkersIntoTransformedElement(n,r){const i=this._getPasteMarkersFromRangeMap(n);return this.editor.model.change(l=>{const d=this._insertFakeMarkersElements(l,i),h=r(l),f=this._removeFakeMarkersInsideElement(l,h);for(const k of Object.values(d).flat())l.remove(k);for(const[k,b]of Object.entries(f))l.model.markers.has(k)||l.addMarker(k,{usingOperation:!0,affectsData:!0,range:b});return h})}_pasteFragmentWithMarkers(n){const r=this._getPasteMarkersFromRangeMap(n.markers);n.markers.clear();for(const i of r)n.markers.set(i.name,i.range);return this.editor.model.insertContent(n)}_forceMarkersCopy(n,r,i={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const l=this._markersToCopy.get(n);this._markersToCopy.set(n,i),r(),l?this._markersToCopy.set(n,l):this._markersToCopy.delete(n)}_isMarkerCopyable(n,r){const i=this._getMarkerClipboardConfig(n);if(!i)return!1;if(!r)return!0;const{allowedActions:l}=i;return l==="all"||l.includes(r)}_hasMarkerConfiguration(n){return!!this._getMarkerClipboardConfig(n)}_getMarkerClipboardConfig(n){const[r]=n.split(":");return this._markersToCopy.get(r)||null}_insertFakeMarkersIntoSelection(n,r,i){const l=this._getCopyableMarkersFromSelection(n,r,i);return this._insertFakeMarkersElements(n,l)}_getCopyableMarkersFromSelection(n,r,i){const l=Array.from(r.getRanges()),d=new Set(l.flatMap(h=>Array.from(n.model.markers.getMarkersIntersectingRange(h))));return Array.from(d).filter(h=>{if(!this._isMarkerCopyable(h.name,i))return!1;const{copyPartiallySelected:f}=this._getMarkerClipboardConfig(h.name);if(!f){const k=h.getRange();return l.some(b=>b.containsRange(k,!0))}return!0}).map(h=>({name:i==="dragstart"?this._getUniqueMarkerName(h.name):h.name,range:h.getRange()}))}_getPasteMarkersFromRangeMap(n,r=null){const{model:i}=this.editor;return(n instanceof Map?Array.from(n.entries()):Object.entries(n)).flatMap(([l,d])=>{if(!this._hasMarkerConfiguration(l))return[{name:l,range:d}];if(this._isMarkerCopyable(l,r)){const h=this._getMarkerClipboardConfig(l),f=i.markers.has(l)&&i.markers.get(l).getRange().root.rootName==="$graveyard";return(h.duplicateOnPaste||f)&&(l=this._getUniqueMarkerName(l)),[{name:l,range:d}]}return[]})}_insertFakeMarkersElements(n,r){const i={},l=r.flatMap(d=>{const{start:h,end:f}=d.range;return[{position:h,marker:d,type:"start"},{position:f,marker:d,type:"end"}]}).sort(({position:d},{position:h})=>d.isBefore(h)?1:-1);for(const{position:d,marker:h,type:f}of l){const k=n.createElement("$marker",{"data-name":h.name,"data-type":f});i[h.name]||(i[h.name]=[]),i[h.name].push(k),n.insert(k,d)}return i}_removeFakeMarkersInsideElement(n,r){const i=this._getAllFakeMarkersFromElement(n,r).reduce((l,d)=>{const h=d.markerElement&&n.createPositionBefore(d.markerElement);let f=l[d.name],k=!1;f&&f.start&&f.end&&(this._getMarkerClipboardConfig(d.name).duplicateOnPaste?l[this._getUniqueMarkerName(d.name)]=l[d.name]:k=!0,f=null);var b,w;return k||(l[d.name]=(b=((A,E)=>{for(var I in E||(E={}))GQ.call(E,I)&&NM(A,I,E[I]);if(PM)for(var I of PM(E))KQ.call(E,I)&&NM(A,I,E[I]);return A})({},f),w={[d.type]:h},WQ(b,qQ(w)))),d.markerElement&&n.remove(d.markerElement),l},{});return UQ(i,l=>new re(l.start||n.createPositionFromPath(r,[0]),l.end||n.createPositionAt(r,"end")))}_getAllFakeMarkersFromElement(n,r){const i=Array.from(n.createRangeIn(r)).flatMap(({item:h})=>{if(!h.is("element","$marker"))return[];const f=h.getAttribute("data-name"),k=h.getAttribute("data-type");return[{markerElement:h,name:f,type:k}]}),l=[],d=[];for(const h of i)h.type==="end"&&(i.some(f=>f.name===h.name&&f.type==="start")||l.push({markerElement:null,name:h.name,type:"start"})),h.type==="start"&&(i.some(f=>f.name===h.name&&f.type==="end")||d.unshift({markerElement:null,name:h.name,type:"end"}));return[...l,...i,...d]}_getUniqueMarkerName(n){const r=n.split(":"),i=B().substring(1,6);return r.length===3?`${r.slice(0,2).join(":")}:${i}`:`${r.join(":")}:${i}`}}class Dr extends pe{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[ah]}init(){this.editor.editing.view.addObserver(sh),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(n,r,i){const l=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:i==="cut"},()=>{const d=l._copySelectedFragmentWithMarkers(i,r);this.fire("outputTransformation",{dataTransfer:n,content:d,method:i})})}_setupPasteDrop(){const n=this.editor,r=n.model,i=n.editing.view,l=i.document,d=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(l,"clipboardInput",(h,f)=>{f.method!="paste"||n.model.canEditAt(n.model.document.selection)||h.stop()},{priority:"highest"}),this.listenTo(l,"clipboardInput",(h,f)=>{const k=f.dataTransfer;let b;if(f.content)b=f.content;else{let E="";k.getData("text/html")?E=function(I){return I.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(O,L)=>L.length==1?" ":L).replace(/<!--[\s\S]*?-->/g,"")}(k.getData("text/html")):k.getData("text/plain")&&(((w=(w=k.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||w.includes("<br>"))&&(w=`<p>${w}</p>`),E=w),b=this.editor.data.htmlProcessor.toView(E)}var w;const A=new D(this,"inputTransformation");this.fire(A,{content:b,dataTransfer:k,targetRanges:f.targetRanges,method:f.method}),A.stop.called&&h.stop(),i.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(h,f)=>{if(f.content.isEmpty)return;const k=this.editor.data.toModel(f.content,"$clipboardHolder");k.childCount!=0&&(h.stop(),r.change(()=>{this.fire("contentInsertion",{content:k,method:f.method,dataTransfer:f.dataTransfer,targetRanges:f.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(h,f)=>{f.resultRange=d._pasteFragmentWithMarkers(f.content)},{priority:"low"})}_setupCopyCut(){const n=this.editor,r=n.model.document,i=n.editing.view.document,l=(d,h)=>{const f=h.dataTransfer;h.preventDefault(),this._fireOutputTransformationEvent(f,r.selection,d.name)};this.listenTo(i,"copy",l,{priority:"low"}),this.listenTo(i,"cut",(d,h)=>{n.model.canEditAt(n.model.document.selection)?l(d,h):h.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(d,h)=>{const f=n.data.toView(h.content);i.fire("clipboardOutput",{dataTransfer:h.dataTransfer,content:f,method:h.method})},{priority:"low"}),this.listenTo(i,"clipboardOutput",(d,h)=>{h.content.isEmpty||(h.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(h.content)),h.dataTransfer.setData("text/plain",IM(h.content))),h.method=="cut"&&n.model.deleteContent(r.selection)},{priority:"low"})}}class RM{constructor(n,r=20){this._batch=null,this.model=n,this._size=0,this.limit=r,this._isLocked=!1,this._changeCallback=(i,l)=>{l.isLocal&&l.isUndoable&&l!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(n){this._size+=n,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(n=!1){this.isLocked&&!n||(this._batch=null,this._size=0)}}class YQ extends dt{constructor(n,r){super(n),this._buffer=new RM(n.model,r),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(n={}){const r=this.editor.model,i=r.document,l=n.text||"",d=l.length;let h=i.selection;if(n.selection?h=n.selection:n.range&&(h=r.createSelection(n.range)),!r.canEditAt(h))return;const f=n.resultRange;r.enqueueChange(this._buffer.batch,k=>{this._buffer.lock();const b=Array.from(i.selection.getAttributes());r.deleteContent(h),l&&r.insertContent(k.createText(l,b),h),f?k.setSelection(f):h.is("documentSelection")||k.setSelection(h),this._buffer.unlock(),this._buffer.input(d)})}}const OM=["insertText","insertReplacementText"];class QQ extends Ei{constructor(n){super(n),this.focusObserver=n.getObserver(qg),_.isAndroid&&OM.push("insertCompositionText");const r=n.document;r.on("beforeinput",(i,l)=>{if(!this.isEnabled)return;const{data:d,targetRanges:h,inputType:f,domEvent:k}=l;if(!OM.includes(f))return;this.focusObserver.flush();const b=new D(r,"insertText");r.fire(b,new xc(n,k,{text:d,selection:n.createSelection(h)})),b.stop.called&&i.stop()}),r.on("compositionend",(i,{data:l,domEvent:d})=>{this.isEnabled&&!_.isAndroid&&l&&r.fire("insertText",new xc(n,d,{text:l,selection:r.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class BM extends pe{static get pluginName(){return"Input"}init(){const n=this.editor,r=n.model,i=n.editing.view,l=r.document.selection;i.addObserver(QQ);const d=new YQ(n,n.config.get("typing.undoStep")||20);n.commands.add("insertText",d),n.commands.add("input",d),this.listenTo(i.document,"insertText",(h,f)=>{i.document.isComposing||f.preventDefault();const{text:k,selection:b,resultRange:w}=f,A=Array.from(b.getRanges()).map(O=>n.editing.mapper.toModelRange(O));let E=k;if(_.isAndroid){const O=Array.from(A[0].getItems()).reduce((L,F)=>L+(F.is("$textProxy")?F.data:""),"");O&&(O.length<=E.length?E.startsWith(O)&&(E=E.substring(O.length),A[0].start=A[0].start.getShiftedBy(O.length)):O.startsWith(E)&&(A[0].start=A[0].start.getShiftedBy(E.length),E=""))}const I={text:E,selection:r.createSelection(A)};w&&(I.resultRange=n.editing.mapper.toModelRange(w)),n.execute("insertText",I),i.scrollToTheSelection()}),_.isAndroid?this.listenTo(i.document,"keydown",(h,f)=>{!l.isCollapsed&&f.keyCode==229&&i.document.isComposing&&LM(r,d)}):this.listenTo(i.document,"compositionstart",()=>{l.isCollapsed||LM(r,d)})}}function LM(a,n){if(!n.isEnabled)return;const r=n.buffer;r.lock(),a.enqueueChange(r.batch,()=>{a.deleteContent(a.document.selection)}),r.unlock()}class jM extends dt{constructor(n,r){super(n),this.direction=r,this._buffer=new RM(n.model,n.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(n={}){const r=this.editor.model,i=r.document;r.enqueueChange(this._buffer.batch,l=>{this._buffer.lock();const d=l.createSelection(n.selection||i.selection);if(!r.canEditAt(d))return;const h=n.sequence||1,f=d.isCollapsed;if(d.isCollapsed&&r.modifySelection(d,{direction:this.direction,unit:n.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(h))return void this._replaceEntireContentWithParagraph(l);if(this._shouldReplaceFirstBlockWithParagraph(d,h))return void this.editor.execute("paragraph",{selection:d});if(d.isCollapsed)return;let k=0;d.getFirstRange().getMinimalFlatRanges().forEach(b=>{k+=ot(b.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),r.deleteContent(d,{doNotResetEntireContent:f,direction:this.direction}),this._buffer.input(k),l.setSelection(d),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(n){if(n>1)return!1;const r=this.editor.model,i=r.document.selection,l=r.schema.getLimitElement(i);if(!(i.isCollapsed&&i.containsEntireContent(l))||!r.schema.checkChild(l,"paragraph"))return!1;const d=l.getChild(0);return!d||!d.is("element","paragraph")}_replaceEntireContentWithParagraph(n){const r=this.editor.model,i=r.document.selection,l=r.schema.getLimitElement(i),d=n.createElement("paragraph");n.remove(n.createRangeIn(l)),n.insert(d,l),n.setSelection(d,0)}_shouldReplaceFirstBlockWithParagraph(n,r){const i=this.editor.model;if(r>1||this.direction!="backward"||!n.isCollapsed)return!1;const l=n.getFirstPosition(),d=i.schema.getLimitElement(l),h=d.getChild(0);return l.parent==h&&!!n.containsEntireContent(h)&&!!i.schema.checkChild(d,"paragraph")&&h.name!="paragraph"}}const zM="word",Hs="selection",Rc="backward",lh="forward",FM={deleteContent:{unit:Hs,direction:Rc},deleteContentBackward:{unit:"codePoint",direction:Rc},deleteWordBackward:{unit:zM,direction:Rc},deleteHardLineBackward:{unit:Hs,direction:Rc},deleteSoftLineBackward:{unit:Hs,direction:Rc},deleteContentForward:{unit:"character",direction:lh},deleteWordForward:{unit:zM,direction:lh},deleteHardLineForward:{unit:Hs,direction:lh},deleteSoftLineForward:{unit:Hs,direction:lh}};class ZQ extends Ei{constructor(n){super(n);const r=n.document;let i=0;r.on("keydown",()=>{i++}),r.on("keyup",()=>{i=0}),r.on("beforeinput",(l,d)=>{if(!this.isEnabled)return;const{targetRanges:h,domEvent:f,inputType:k}=d,b=FM[k];if(!b)return;const w={direction:b.direction,unit:b.unit,sequence:i};w.unit==Hs&&(w.selectionToRemove=n.createSelection(h[0])),k==="deleteContentBackward"&&(_.isAndroid&&(w.sequence=1),function(E){if(E.length!=1||E[0].isCollapsed)return!1;const I=E[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let O=0;for(const{nextPosition:L,item:F}of I){if(L.parent.is("$text")){const W=L.parent.data,Y=L.offset;if(zw(W,Y)||Fw(W,Y)||_T(W,Y))continue;O++}else(F.is("containerElement")||F.is("emptyElement"))&&O++;if(O>1)return!0}return!1}(h)&&(w.unit=Hs,w.selectionToRemove=n.createSelection(h)));const A=new _c(r,"delete",h[0]);r.fire(A,new xc(n,f,w)),A.stop.called&&l.stop()}),_.isBlink&&function(l){const d=l.view,h=d.document;let f=null,k=!1;function b(A){return A==kt.backspace||A==kt.delete}function w(A){return A==kt.backspace?Rc:lh}h.on("keydown",(A,{keyCode:E})=>{f=E,k=!1}),h.on("keyup",(A,{keyCode:E,domEvent:I})=>{const O=h.selection,L=l.isEnabled&&E==f&&b(E)&&!O.isCollapsed&&!k;if(f=null,L){const F=O.getFirstRange(),W=new _c(h,"delete",F),Y={unit:Hs,direction:w(E),selectionToRemove:O};h.fire(W,new xc(d,I,Y))}}),h.on("beforeinput",(A,{inputType:E})=>{const I=FM[E];b(f)&&I&&I.direction==w(f)&&(k=!0)},{priority:"high"}),h.on("beforeinput",(A,{inputType:E,data:I})=>{f==kt.delete&&E=="insertText"&&I==""&&A.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class as extends pe{static get pluginName(){return"Delete"}init(){const n=this.editor,r=n.editing.view,i=r.document,l=n.model.document;r.addObserver(ZQ),this._undoOnBackspace=!1;const d=new jM(n,"forward");n.commands.add("deleteForward",d),n.commands.add("forwardDelete",d),n.commands.add("delete",new jM(n,"backward")),this.listenTo(i,"delete",(h,f)=>{i.isComposing||f.preventDefault();const{direction:k,sequence:b,selectionToRemove:w,unit:A}=f,E=k==="forward"?"deleteForward":"delete",I={sequence:b};if(A=="selection"){const O=Array.from(w.getRanges()).map(L=>n.editing.mapper.toModelRange(L));I.selection=n.model.createSelection(O)}else I.unit=A;n.execute(E,I),r.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(i,"delete",(h,f)=>{this._undoOnBackspace&&f.direction=="backward"&&f.sequence==1&&f.unit=="codePoint"&&(this._undoOnBackspace=!1,n.execute("undo"),f.preventDefault(),h.stop())},{context:"$capture"}),this.listenTo(l,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class JQ extends pe{static get requires(){return[BM,as]}static get pluginName(){return"Typing"}}function $M(a,n){let r=a.start;return{text:Array.from(a.getWalker({ignoreElementEnd:!1})).reduce((i,{item:l})=>l.is("$text")||l.is("$textProxy")?i+l.data:(r=n.createPositionAfter(l),""),""),range:n.createRange(r,a.end)}}class VM extends Q(){constructor(n,r){super(),this.model=n,this.testCallback=r,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(n.document.selection),this.stopListening(n.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const n=this.model.document;this.listenTo(n.selection,"change:range",(r,{directChange:i})=>{i&&(n.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(n,"change:data",(r,i)=>{!i.isUndo&&i.isLocal&&this._evaluateTextBeforeSelection("data",{batch:i})})}_evaluateTextBeforeSelection(n,r={}){const i=this.model,l=i.document.selection,d=i.createRange(i.createPositionAt(l.focus.parent,0),l.focus),{text:h,range:f}=$M(d,i),k=this.testCallback(h);if(!k&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!k,k){const b=Object.assign(r,{text:h,range:f});typeof k=="object"&&Object.assign(b,k),this.fire(`matched:${n}`,b)}}}class UM extends pe{constructor(n){super(n),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const n=this.editor,r=n.model,i=n.editing.view,l=n.locale,d=r.document.selection;this.listenTo(i.document,"arrowKey",(h,f)=>{if(!d.isCollapsed||f.shiftKey||f.altKey||f.ctrlKey)return;const k=f.keyCode==kt.arrowright,b=f.keyCode==kt.arrowleft;if(!k&&!b)return;const w=l.contentLanguageDirection;let A=!1;A=w==="ltr"&&k||w==="rtl"&&b?this._handleForwardMovement(f):this._handleBackwardMovement(f),A===!0&&h.stop()},{context:"$text",priority:"highest"}),this.listenTo(d,"change:range",(h,f)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!f.directChange&&Mr(d.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(n){this.attributes.add(n)}_handleForwardMovement(n){const r=this.attributes,i=this.editor.model,l=i.document.selection,d=l.getFirstPosition();return!this._isGravityOverridden&&(!d.isAtStart||!ls(l,r))&&!!Mr(d,r)&&(dh(n),ls(l,r)&&Mr(d,r,!0)?ch(i,r):this._overrideGravity(),!0)}_handleBackwardMovement(n){const r=this.attributes,i=this.editor.model,l=i.document.selection,d=l.getFirstPosition();return this._isGravityOverridden?(dh(n),this._restoreGravity(),Mr(d,r,!0)?ch(i,r):pm(i,r,d),!0):d.isAtStart?!!ls(l,r)&&(dh(n),pm(i,r,d),!0):!ls(l,r)&&Mr(d,r,!0)?(dh(n),pm(i,r,d),!0):!!HM(d,r)&&(d.isAtEnd&&!ls(l,r)&&Mr(d,r)?(dh(n),pm(i,r,d),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const n=this.editor,r=n.model,i=r.document.selection,l=n.editing.view.document;n.editing.view.addObserver(_y);let d=!1;this.listenTo(l,"mousedown",()=>{d=!0}),this.listenTo(l,"selectionChange",()=>{const h=this.attributes;if(!d||(d=!1,!i.isCollapsed)||!ls(i,h))return;const f=i.getFirstPosition();Mr(f,h)&&(f.isAtStart||Mr(f,h,!0)?ch(r,h):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const n=this.editor.model,r=n.document.selection,i=this.attributes;this.listenTo(n,"insertContent",()=>{const l=r.getFirstPosition();ls(r,i)&&Mr(l,i)&&ch(n,i)},{priority:"low"})}_handleDeleteContentAfterNode(){const n=this.editor,r=n.model,i=r.document.selection,l=n.editing.view;let d=!1,h=!1;this.listenTo(l.document,"delete",(f,k)=>{d=k.direction==="backward"},{priority:"high"}),this.listenTo(r,"deleteContent",()=>{if(!d)return;const f=i.getFirstPosition();h=ls(i,this.attributes)&&!HM(f,this.attributes)},{priority:"high"}),this.listenTo(r,"deleteContent",()=>{d&&(d=!1,h||n.model.enqueueChange(()=>{const f=i.getFirstPosition();ls(i,this.attributes)&&Mr(f,this.attributes)&&(f.isAtStart||Mr(f,this.attributes,!0)?ch(r,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(n=>n.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(n=>{n.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function ls(a,n){for(const r of n)if(a.hasAttribute(r))return!0;return!1}function pm(a,n,r){const i=r.nodeBefore;a.change(l=>{if(i){const d=[],h=a.schema.isObject(i)&&a.schema.isInline(i);for(const[f,k]of i.getAttributes())!a.schema.checkAttribute("$text",f)||h&&a.schema.getAttributeProperties(f).copyFromObject===!1||d.push([f,k]);l.setSelectionAttribute(d)}else l.removeSelectionAttribute(n)})}function ch(a,n){a.change(r=>{r.removeSelectionAttribute(n)})}function dh(a){a.preventDefault()}function HM(a,n){return Mr(a.getShiftedBy(-1),n)}function Mr(a,n,r=!1){const{nodeBefore:i,nodeAfter:l}=a;for(const d of n){const h=i?i.getAttribute(d):void 0,f=l?l.getAttribute(d):void 0;if((!r||h!==void 0&&f!==void 0)&&f!==h)return!0}return!1}const WM={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:Oc('"'),to:[null,"",null,""]},quotesSecondary:{from:Oc("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:Oc("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:Oc('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:Oc('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:Oc("'"),to:[null,"",null,""]}},qM={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},XQ=["symbols","mathematical","typography","quotes"];function eZ(a){return typeof a=="string"?new RegExp(`(${K5(a)})$`):a}function tZ(a){return typeof a=="string"?()=>[a]:a instanceof Array?()=>a:a}function nZ(a){return(a.textNode?a.textNode:a.nodeAfter).getAttributes()}function Oc(a){return new RegExp(`(^|\\s)(${a})([^${a}]*)(${a})$`)}function fm(a,n,r,i){return i.createRange(GM(a,n,r,!0,i),GM(a,n,r,!1,i))}function GM(a,n,r,i,l){let d=a.textNode||(i?a.nodeBefore:a.nodeAfter),h=null;for(;d&&d.getAttribute(n)==r;)h=d,d=i?d.previousSibling:d.nextSibling;return h?l.createPositionAt(h,i?"before":"after"):a}function*KM(a,n){for(const r of n)r&&a.getAttributeProperties(r[0]).copyOnEnter&&(yield r)}class oZ extends dt{execute(){this.editor.model.change(n=>{this.enterBlock(n),this.fire("afterExecute",{writer:n})})}enterBlock(n){const r=this.editor.model,i=r.document.selection,l=r.schema,d=i.isCollapsed,h=i.getFirstRange(),f=h.start.parent,k=h.end.parent;if(l.isLimit(f)||l.isLimit(k))return d||f!=k||r.deleteContent(i),!1;if(d){const b=KM(n.model.schema,i.getAttributes());return YM(n,h.start),n.setSelectionAttribute(b),!0}{const b=!(h.start.isAtStart&&h.end.isAtEnd),w=f==k;if(r.deleteContent(i,{leaveUnmerged:b}),b){if(w)return YM(n,i.focus),!0;n.setSelection(k,0)}}return!1}}function YM(a,n){a.split(n),a.setSelection(n.parent.nextSibling,0)}const rZ={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class QM extends Ei{constructor(n){super(n);const r=this.document;let i=!1;r.on("keydown",(l,d)=>{i=d.shiftKey}),r.on("beforeinput",(l,d)=>{if(!this.isEnabled)return;let h=d.inputType;_.isSafari&&i&&h=="insertParagraph"&&(h="insertLineBreak");const f=d.domEvent,k=rZ[h];if(!k)return;const b=new _c(r,"enter",d.targetRanges[0]);r.fire(b,new xc(n,f,{isSoft:k.isSoft})),b.stop.called&&l.stop()})}observe(){}stopObserving(){}}class gm extends pe{static get pluginName(){return"Enter"}init(){const n=this.editor,r=n.editing.view,i=r.document,l=this.editor.t;r.addObserver(QM),n.commands.add("enter",new oZ(n)),this.listenTo(i,"enter",(d,h)=>{i.isComposing||h.preventDefault(),h.isSoft||(n.execute("enter"),r.scrollToTheSelection())},{priority:"low"}),n.accessibility.addKeystrokeInfos({keystrokes:[{label:l("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class iZ extends dt{execute(){const n=this.editor.model,r=n.document;n.change(i=>{(function(l,d,h){const f=h.isCollapsed,k=h.getFirstRange(),b=k.start.parent,w=k.end.parent,A=b==w;if(f){const E=KM(l.schema,h.getAttributes());ZM(l,d,k.end),d.removeSelectionAttribute(h.getAttributeKeys()),d.setSelectionAttribute(E)}else{const E=!(k.start.isAtStart&&k.end.isAtEnd);l.deleteContent(h,{leaveUnmerged:E}),A?ZM(l,d,h.focus):E&&d.setSelection(w,0)}})(n,i,r.selection),this.fire("afterExecute",{writer:i})})}refresh(){const n=this.editor.model,r=n.document;this.isEnabled=function(i,l){if(l.rangeCount>1)return!1;const d=l.anchor;if(!d||!i.checkChild(d,"softBreak"))return!1;const h=l.getFirstRange(),f=h.start.parent,k=h.end.parent;return!((Uy(f,i)||Uy(k,i))&&f!==k)}(n.schema,r.selection)}}function ZM(a,n,r){const i=n.createElement("softBreak");a.insertContent(i,r),n.setSelection(i,"after")}function Uy(a,n){return!a.is("rootElement")&&(n.isLimit(a)||Uy(a.parent,n))}class sZ extends pe{static get pluginName(){return"ShiftEnter"}init(){const n=this.editor,r=n.model.schema,i=n.conversion,l=n.editing.view,d=l.document,h=this.editor.t;r.register("softBreak",{allowWhere:"$text",isInline:!0}),i.for("upcast").elementToElement({model:"softBreak",view:"br"}),i.for("downcast").elementToElement({model:"softBreak",view:(f,{writer:k})=>k.createEmptyElement("br")}),l.addObserver(QM),n.commands.add("shiftEnter",new iZ(n)),this.listenTo(d,"enter",(f,k)=>{d.isComposing||k.preventDefault(),k.isSoft&&(n.execute("shiftEnter"),l.scrollToTheSelection())},{priority:"low"}),n.accessibility.addKeystrokeInfos({keystrokes:[{label:h("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class aZ extends q(){constructor(){super(...arguments),this._stack=[]}add(n,r){const i=this._stack,l=i[0];this._insertDescriptor(n);const d=i[0];l===d||Hy(l,d)||this.fire("change:top",{oldDescriptor:l,newDescriptor:d,writer:r})}remove(n,r){const i=this._stack,l=i[0];this._removeDescriptor(n);const d=i[0];l===d||Hy(l,d)||this.fire("change:top",{oldDescriptor:l,newDescriptor:d,writer:r})}_insertDescriptor(n){const r=this._stack,i=r.findIndex(d=>d.id===n.id);if(Hy(n,r[i]))return;i>-1&&r.splice(i,1);let l=0;for(;r[l]&&lZ(r[l],n);)l++;r.splice(l,0,n)}_removeDescriptor(n){const r=this._stack,i=r.findIndex(l=>l.id===n);i>-1&&r.splice(i,1)}}function Hy(a,n){return a&&n&&a.priority==n.priority&&mm(a.classes)==mm(n.classes)}function lZ(a,n){return a.priority>n.priority||!(a.priority<n.priority)&&mm(a.classes)>mm(n.classes)}function mm(a){return Array.isArray(a)?a.sort().join(","):a}const cZ='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',dZ="ck-widget",JM="ck-widget_selected";function Sn(a){return!!a.is("element")&&!!a.getCustomProperty("widget")}function Wy(a,n,r={}){if(!a.is("containerElement"))throw new M("widget-to-widget-wrong-element-type",null,{element:a});return n.setAttribute("contenteditable","false",a),n.addClass(dZ,a),n.setCustomProperty("widget",!0,a),a.getFillerOffset=pZ,n.setCustomProperty("widgetLabel",[],a),r.label&&function(i,l){i.getCustomProperty("widgetLabel").push(l)}(a,r.label),r.hasSelectionHandle&&function(i,l){const d=l.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(h){const f=this.toDomElement(h),k=new rs;return k.set("content",cZ),k.render(),f.appendChild(k.element),f});l.insert(l.createPositionAt(i,0),d),l.addClass(["ck-widget_with-selection-handle"],i)}(a,n),XM(a,n),a}function uZ(a,n,r){if(n.classes&&r.addClass(qt(n.classes),a),n.attributes)for(const i in n.attributes)r.setAttribute(i,n.attributes[i],a)}function hZ(a,n,r){if(n.classes&&r.removeClass(qt(n.classes),a),n.attributes)for(const i in n.attributes)r.removeAttribute(i,a)}function XM(a,n,r=uZ,i=hZ){const l=new aZ;l.on("change:top",(d,h)=>{h.oldDescriptor&&i(a,h.oldDescriptor,h.writer),h.newDescriptor&&r(a,h.newDescriptor,h.writer)}),n.setCustomProperty("addHighlight",(d,h,f)=>l.add(h,f),a),n.setCustomProperty("removeHighlight",(d,h,f)=>l.remove(h,f),a)}function e4(a,n,r={}){return n.addClass(["ck-editor__editable","ck-editor__nested-editable"],a),n.setAttribute("role","textbox",a),n.setAttribute("tabindex","-1",a),r.label&&n.setAttribute("aria-label",r.label,a),n.setAttribute("contenteditable",a.isReadOnly?"false":"true",a),a.on("change:isReadOnly",(i,l,d)=>{n.setAttribute("contenteditable",d?"false":"true",a)}),a.on("change:isFocused",(i,l,d)=>{d?n.addClass("ck-editor__nested-editable_focused",a):n.removeClass("ck-editor__nested-editable_focused",a)}),XM(a,n),a}function t4(a,n){const r=a.getSelectedElement();if(r){const i=Ws(a);if(i)return n.createRange(n.createPositionAt(r,i))}return n.schema.findOptimalInsertionRange(a)}function pZ(){return null}const cs="widget-type-around";function cl(a,n,r){return!!a&&Sn(a)&&!r.isInline(n)}function Ws(a){return a.getAttribute(cs)}var n4=c(8508),fZ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(n4.A,fZ),n4.A.locals;const o4=["before","after"],gZ=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,r4="ck-widget__type-around_disabled";class mZ extends pe{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[gm,as]}init(){const n=this.editor,r=n.editing.view;this.on("change:isEnabled",(i,l,d)=>{r.change(h=>{for(const f of r.document.roots)d?h.removeClass(r4,f):h.addClass(r4,f)}),d||n.model.change(h=>{h.removeSelectionAttribute(cs)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(n,r){const i=this.editor,l=i.editing.view,d=i.model.schema.getAttributesWithProperty(n,"copyOnReplace",!0);i.execute("insertParagraph",{position:i.model.createPositionAt(n,r),attributes:d}),l.focus(),l.scrollToTheSelection()}_listenToIfEnabled(n,r,i,l){this.listenTo(n,r,(...d)=>{this.isEnabled&&i(...d)},l)}_insertParagraphAccordingToFakeCaretPosition(){const n=this.editor.model.document.selection,r=Ws(n);if(!r)return!1;const i=n.getSelectedElement();return this._insertParagraph(i,r),!0}_enableTypeAroundUIInjection(){const n=this.editor,r=n.model.schema,i=n.locale.t,l={before:i("Insert paragraph before block"),after:i("Insert paragraph after block")};n.editing.downcastDispatcher.on("insert",(d,h,f)=>{const k=f.mapper.toViewElement(h.item);k&&cl(k,h.item,r)&&(function(b,w,A){const E=b.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(I){const O=this.toDomElement(I);return function(L,F){for(const W of o4){const Y=new ni({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${W}`],title:F[W],"aria-hidden":"true"},children:[L.ownerDocument.importNode(gZ,!0)]});L.appendChild(Y.render())}}(O,w),function(L){const F=new ni({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});L.appendChild(F.render())}(O),O});b.insert(b.createPositionAt(A,"end"),E)}(f.writer,l,k),k.getCustomProperty("widgetLabel").push(()=>this.isEnabled?i("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const n=this.editor,r=n.model,i=r.document.selection,l=r.schema,d=n.editing.view;function h(f){return`ck-widget_type-around_show-fake-caret_${f}`}this._listenToIfEnabled(d.document,"arrowKey",(f,k)=>{this._handleArrowKeyPress(f,k)},{context:[Sn,"$text"],priority:"high"}),this._listenToIfEnabled(i,"change:range",(f,k)=>{k.directChange&&n.model.change(b=>{b.removeSelectionAttribute(cs)})}),this._listenToIfEnabled(r.document,"change:data",()=>{const f=i.getSelectedElement();f&&cl(n.editing.mapper.toViewElement(f),f,l)||n.model.change(k=>{k.removeSelectionAttribute(cs)})}),this._listenToIfEnabled(n.editing.downcastDispatcher,"selection",(f,k,b)=>{const w=b.writer;if(this._currentFakeCaretModelElement){const O=b.mapper.toViewElement(this._currentFakeCaretModelElement);O&&(w.removeClass(o4.map(h),O),this._currentFakeCaretModelElement=null)}const A=k.selection.getSelectedElement();if(!A)return;const E=b.mapper.toViewElement(A);if(!cl(E,A,l))return;const I=Ws(k.selection);I&&(w.addClass(h(I),E),this._currentFakeCaretModelElement=A)}),this._listenToIfEnabled(n.ui.focusTracker,"change:isFocused",(f,k,b)=>{b||n.model.change(w=>{w.removeSelectionAttribute(cs)})})}_handleArrowKeyPress(n,r){const i=this.editor,l=i.model,d=l.document.selection,h=l.schema,f=i.editing.view,k=function(A,E){const I=Ow(A,E);return I==="down"||I==="right"}(r.keyCode,i.locale.contentLanguageDirection),b=f.document.selection.getSelectedElement();let w;cl(b,i.editing.mapper.toModelElement(b),h)?w=this._handleArrowKeyPressOnSelectedWidget(k):d.isCollapsed?w=this._handleArrowKeyPressWhenSelectionNextToAWidget(k):r.shiftKey||(w=this._handleArrowKeyPressWhenNonCollapsedSelection(k)),w&&(r.preventDefault(),n.stop())}_handleArrowKeyPressOnSelectedWidget(n){const r=this.editor.model,i=Ws(r.document.selection);return r.change(l=>i?i!==(n?"after":"before")?(l.removeSelectionAttribute(cs),!0):!1:(l.setSelectionAttribute(cs,n?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(n){const r=this.editor,i=r.model,l=i.schema,d=r.plugins.get("Widget"),h=d._getObjectElementNextToSelection(n);return!!cl(r.editing.mapper.toViewElement(h),h,l)&&(i.change(f=>{d._setSelectionOverElement(h),f.setSelectionAttribute(cs,n?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(n){const r=this.editor,i=r.model,l=i.schema,d=r.editing.mapper,h=i.document.selection,f=n?h.getLastPosition().nodeBefore:h.getFirstPosition().nodeAfter;return!!cl(d.toViewElement(f),f,l)&&(i.change(k=>{k.setSelection(f,"on"),k.setSelectionAttribute(cs,n?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const n=this.editor,r=n.editing.view;this._listenToIfEnabled(r.document,"mousedown",(i,l)=>{const d=l.domTarget.closest(".ck-widget__type-around__button");if(!d)return;const h=function(b){return b.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(d),f=function(b,w){const A=b.closest(".ck-widget");return w.mapDomToView(A)}(d,r.domConverter),k=n.editing.mapper.toModelElement(f);this._insertParagraph(k,h),l.preventDefault(),i.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const n=this.editor,r=n.model.document.selection,i=n.editing.view;this._listenToIfEnabled(i.document,"enter",(l,d)=>{if(l.eventPhase!="atTarget")return;const h=r.getSelectedElement(),f=n.editing.mapper.toViewElement(h),k=n.model.schema;let b;this._insertParagraphAccordingToFakeCaretPosition()?b=!0:cl(f,h,k)&&(this._insertParagraph(h,d.isSoft?"before":"after"),b=!0),b&&(d.preventDefault(),l.stop())},{context:Sn})}_enableInsertingParagraphsOnTypingKeystroke(){const n=this.editor.editing.view.document;this._listenToIfEnabled(n,"insertText",(r,i)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(i.selection=n.selection)},{priority:"high"}),_.isAndroid?this._listenToIfEnabled(n,"keydown",(r,i)=>{i.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(n,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const n=this.editor,r=n.editing.view,i=n.model,l=i.schema;this._listenToIfEnabled(r.document,"delete",(d,h)=>{if(d.eventPhase!="atTarget")return;const f=Ws(i.document.selection);if(!f)return;const k=h.direction,b=i.document.selection.getSelectedElement(),w=k=="forward";if(f==="before"===w)n.execute("delete",{selection:i.createSelection(b,"on")});else{const A=l.getNearestSelectionRange(i.createPositionAt(b,f),k);if(A)if(A.isCollapsed){const E=i.createSelection(A.start);if(i.modifySelection(E,{direction:k}),E.focus.isEqual(A.start)){const I=function(O,L){let F=L;for(const W of L.getAncestors({parentFirst:!0})){if(W.childCount>1||O.isLimit(W))break;F=W}return F}(l,A.start.parent);i.deleteContent(i.createSelection(I,"on"),{doNotAutoparagraph:!0})}else i.change(I=>{I.setSelection(A),n.execute(w?"deleteForward":"delete")})}else i.change(E=>{E.setSelection(A),n.execute(w?"deleteForward":"delete")})}h.preventDefault(),d.stop()},{context:Sn})}_enableInsertContentIntegration(){const n=this.editor,r=this.editor.model,i=r.document.selection;this._listenToIfEnabled(n.model,"insertContent",(l,[d,h])=>{if(h&&!h.is("documentSelection"))return;const f=Ws(i);return f?(l.stop(),r.change(k=>{const b=i.getSelectedElement(),w=r.createPositionAt(b,f),A=k.createSelection(w),E=r.insertContent(d,A);return k.setSelection(A),E})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const n=this.editor,r=this.editor.model.document.selection;this._listenToIfEnabled(n.model,"insertObject",(i,l)=>{const[,d,h={}]=l;if(d&&!d.is("documentSelection"))return;const f=Ws(r);f&&(h.findOptimalPosition=f,l[3]=h)},{priority:"high"})}_enableDeleteContentIntegration(){const n=this.editor,r=this.editor.model.document.selection;this._listenToIfEnabled(n.model,"deleteContent",(i,[l])=>{l&&!l.is("documentSelection")||Ws(r)&&i.stop()},{priority:"high"})}}function kZ(a){const n=a.model;return(r,i)=>{const l=i.keyCode==kt.arrowup,d=i.keyCode==kt.arrowdown,h=i.shiftKey,f=n.document.selection;if(!l&&!d)return;const k=d;if(h&&function(w,A){return!w.isCollapsed&&w.isBackward==A}(f,k))return;const b=function(w,A,E){const I=w.model;if(E){const O=A.isCollapsed?A.focus:A.getLastPosition(),L=i4(I,O,"forward");if(!L)return null;const F=I.createRange(O,L),W=s4(I.schema,F,"backward");return W?I.createRange(O,W):null}{const O=A.isCollapsed?A.focus:A.getFirstPosition(),L=i4(I,O,"backward");if(!L)return null;const F=I.createRange(L,O),W=s4(I.schema,F,"forward");return W?I.createRange(W,O):null}}(a,f,k);if(b){if(b.isCollapsed&&(f.isCollapsed||h))return;(b.isCollapsed||function(w,A,E){const I=w.model,O=w.view.domConverter;if(E){const J=I.createSelection(A.start);I.modifySelection(J),J.focus.isAtEnd||A.start.isEqual(J.focus)||(A=I.createRange(J.focus,A.end))}const L=w.mapper.toViewRange(A),F=O.viewRangeToDom(L),W=pt.getDomRangeRects(F);let Y;for(const J of W)if(Y!==void 0){if(Math.round(J.top)>=Y)return!1;Y=Math.max(Y,Math.round(J.bottom))}else Y=Math.round(J.bottom);return!0}(a,b,k))&&(n.change(w=>{const A=k?b.end:b.start;if(h){const E=n.createSelection(f.anchor);E.setFocus(A),w.setSelection(E)}else w.setSelection(A)}),r.stop(),i.preventDefault(),i.stopPropagation())}}}function i4(a,n,r){const i=a.schema,l=a.createRangeIn(n.root),d=r=="forward"?"elementStart":"elementEnd";for(const{previousPosition:h,item:f,type:k}of l.getWalker({startPosition:n,direction:r})){if(i.isLimit(f)&&!i.isInline(f))return h;if(k==d&&i.isBlock(f))return null}return null}function s4(a,n,r){const i=r=="backward"?n.end:n.start;if(a.checkChild(i,"$text"))return i;for(const{nextPosition:l}of n.getWalker({direction:r}))if(a.checkChild(l,"$text"))return l;return null}var a4=c(695),bZ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(a4.A,bZ),a4.A.locals;class uh extends pe{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[mZ,as]}init(){const n=this.editor,r=n.editing.view,i=r.document,l=n.t;this.editor.editing.downcastDispatcher.on("selection",(d,h,f)=>{const k=f.writer,b=h.selection;if(b.isCollapsed)return;const w=b.getSelectedElement();if(!w)return;const A=n.editing.mapper.toViewElement(w);var E;Sn(A)&&f.consumable.consume(b,"selection")&&k.setSelection(k.createRangeOn(A),{fake:!0,label:(E=A,E.getCustomProperty("widgetLabel").reduce((I,O)=>typeof O=="function"?I?I+". "+O():O():I?I+". "+O:O,""))})}),this.editor.editing.downcastDispatcher.on("selection",(d,h,f)=>{this._clearPreviouslySelectedWidgets(f.writer);const k=f.writer,b=k.document.selection;let w=null;for(const A of b.getRanges())for(const E of A){const I=E.item;Sn(I)&&!vZ(I,w)&&(k.addClass(JM,I),this._previouslySelected.add(I),w=I)}},{priority:"low"}),r.addObserver(_y),this.listenTo(i,"mousedown",(...d)=>this._onMousedown(...d)),this.listenTo(i,"arrowKey",(...d)=>{this._handleSelectionChangeOnArrowKeyPress(...d)},{context:[Sn,"$text"]}),this.listenTo(i,"arrowKey",(...d)=>{this._preventDefaultOnArrowKeyPress(...d)},{context:"$root"}),this.listenTo(i,"arrowKey",kZ(this.editor.editing),{context:"$text"}),this.listenTo(i,"delete",(d,h)=>{this._handleDelete(h.direction=="forward")&&(h.preventDefault(),d.stop())},{context:"$root"}),this.listenTo(i,"tab",(d,h)=>{d.eventPhase=="atTarget"&&(h.shiftKey||this._selectFirstNestedEditable()&&(h.preventDefault(),d.stop()))},{context:Sn,priority:"low"}),this.listenTo(i,"tab",(d,h)=>{h.shiftKey&&this._selectAncestorWidget()&&(h.preventDefault(),d.stop())},{priority:"low"}),this.listenTo(i,"keydown",(d,h)=>{h.keystroke==kt.esc&&this._selectAncestorWidget()&&(h.preventDefault(),d.stop())},{priority:"low"}),n.accessibility.addKeystrokeInfoGroup({id:"widget",label:l("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:l("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:l("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:l("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:l("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(n,r){const i=this.editor,l=i.editing.view,d=l.document;let h=r.target;if(r.domEvent.detail>=3)return void(this._selectBlockContent(h)&&r.preventDefault());if(function(k){let b=k;for(;b;){if(b.is("editableElement")&&!b.is("rootElement"))return!0;if(Sn(b))return!1;b=b.parent}return!1}(h)||!Sn(h)&&(h=h.findAncestor(Sn),!h))return;_.isAndroid&&r.preventDefault(),d.isFocused||l.focus();const f=i.editing.mapper.toModelElement(h);this._setSelectionOverElement(f)}_selectBlockContent(n){const r=this.editor,i=r.model,l=r.editing.mapper,d=i.schema,h=l.findMappedViewAncestor(this.editor.editing.view.createPositionAt(n,0)),f=function(k,b){for(const w of k.getAncestors({includeSelf:!0,parentFirst:!0})){if(b.checkChild(w,"$text"))return w;if(b.isLimit(w)&&!b.isObject(w))break}return null}(l.toModelElement(h),i.schema);return!!f&&(i.change(k=>{const b=d.isLimit(f)?null:function(E,I){const O=new es({startPosition:E});for(const{item:L}of O){if(I.isLimit(L)||!L.is("element"))return null;if(I.checkChild(L,"$text"))return L}return null}(k.createPositionAfter(f),d),w=k.createPositionAt(f,0),A=b?k.createPositionAt(b,0):k.createPositionAt(f,"end");k.setSelection(k.createRange(w,A))}),!0)}_handleSelectionChangeOnArrowKeyPress(n,r){const i=r.keyCode,l=this.editor.model,d=l.schema,h=l.document.selection,f=h.getSelectedElement(),k=Ow(i,this.editor.locale.contentLanguageDirection),b=k=="down"||k=="right",w=k=="up"||k=="down";if(f&&d.isObject(f)){const E=b?h.getLastPosition():h.getFirstPosition(),I=d.getNearestSelectionRange(E,b?"forward":"backward");return void(I&&(l.change(O=>{O.setSelection(I)}),r.preventDefault(),n.stop()))}if(!h.isCollapsed&&!r.shiftKey){const E=h.getFirstPosition(),I=h.getLastPosition(),O=E.nodeAfter,L=I.nodeBefore;return void((O&&d.isObject(O)||L&&d.isObject(L))&&(l.change(F=>{F.setSelection(b?I:E)}),r.preventDefault(),n.stop()))}if(!h.isCollapsed)return;const A=this._getObjectElementNextToSelection(b);if(A&&d.isObject(A)){if(d.isInline(A)&&w)return;this._setSelectionOverElement(A),r.preventDefault(),n.stop()}}_preventDefaultOnArrowKeyPress(n,r){const i=this.editor.model,l=i.schema,d=i.document.selection.getSelectedElement();d&&l.isObject(d)&&(r.preventDefault(),n.stop())}_handleDelete(n){const r=this.editor.model.document.selection;if(!this.editor.model.canEditAt(r)||!r.isCollapsed)return;const i=this._getObjectElementNextToSelection(n);return i?(this.editor.model.change(l=>{let d=r.anchor.parent;for(;d.isEmpty;){const h=d;d=h.parent,l.remove(h)}this._setSelectionOverElement(i)}),!0):void 0}_setSelectionOverElement(n){this.editor.model.change(r=>{r.setSelection(r.createRangeOn(n))})}_getObjectElementNextToSelection(n){const r=this.editor.model,i=r.schema,l=r.document.selection,d=r.createSelection(l);if(r.modifySelection(d,{direction:n?"forward":"backward"}),d.isEqual(l))return null;const h=n?d.focus.nodeBefore:d.focus.nodeAfter;return h&&i.isObject(h)?h:null}_clearPreviouslySelectedWidgets(n){for(const r of this._previouslySelected)n.removeClass(JM,r);this._previouslySelected.clear()}_selectFirstNestedEditable(){const n=this.editor,r=this.editor.editing.view.document;for(const i of r.selection.getFirstRange().getItems())if(i.is("editableElement")){const l=n.editing.mapper.toModelElement(i);if(!l)continue;const d=n.model.createPositionAt(l,0),h=n.model.schema.getNearestSelectionRange(d,"forward");return n.model.change(f=>{f.setSelection(h)}),!0}return!1}_selectAncestorWidget(){const n=this.editor,r=n.editing.mapper,i=n.editing.view.document.selection.getFirstPosition().parent,l=(i.is("$text")?i.parent:i).findAncestor(Sn);if(!l)return!1;const d=r.toModelElement(l);return!!d&&(n.model.change(h=>{h.setSelection(d,"on")}),!0)}}function vZ(a,n){return!!n&&Array.from(a.getAncestors()).includes(n)}class km extends pe{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[cm]}static get pluginName(){return"WidgetToolbarRepository"}init(){const n=this.editor;if(n.plugins.has("BalloonToolbar")){const r=n.plugins.get("BalloonToolbar");this.listenTo(r,"show",i=>{(function(l){const d=l.getSelectedElement();return!(!d||!Sn(d))})(n.editing.view.document.selection)&&i.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(n.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(n.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const n of this._toolbarDefinitions.values())n.view.destroy()}register(n,{ariaLabel:r,items:i,getRelatedElement:l,balloonClassName:d="ck-toolbar-container"}){if(!i.length)return void U("widget-toolbar-no-items",{toolbarId:n});const h=this.editor,f=h.t,k=new Ty(h.locale);if(k.ariaLabel=r||f("Widget toolbar"),this._toolbarDefinitions.has(n))throw new M("widget-toolbar-duplicated",this,{toolbarId:n});const b={view:k,getRelatedElement:l,balloonClassName:d,itemsConfig:i,initialized:!1};h.ui.addToolbar(k,{isContextual:!0,beforeFocus:()=>{const w=l(h.editing.view.document.selection);w&&this._showToolbar(b,w)},afterBlur:()=>{this._hideToolbar(b)}}),this._toolbarDefinitions.set(n,b)}_updateToolbarsVisibility(){let n=0,r=null,i=null;for(const l of this._toolbarDefinitions.values()){const d=l.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&d)if(this.editor.ui.focusTracker.isFocused){const h=d.getAncestors().length;h>n&&(n=h,r=d,i=l)}else this._isToolbarVisible(l)&&this._hideToolbar(l);else this._isToolbarInBalloon(l)&&this._hideToolbar(l)}i&&this._showToolbar(i,r)}_hideToolbar(n){this._balloon.remove(n.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(n,r){this._isToolbarVisible(n)?l4(this.editor,r):this._isToolbarInBalloon(n)||(n.initialized||(n.initialized=!0,n.view.fillFromConfig(n.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:n.view,position:c4(this.editor,r),balloonClassName:n.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const i of this._toolbarDefinitions.values())if(this._isToolbarVisible(i)){const l=i.getRelatedElement(this.editor.editing.view.document.selection);l4(this.editor,l)}}))}_isToolbarVisible(n){return this._balloon.visibleView===n.view}_isToolbarInBalloon(n){return this._balloon.hasView(n.view)}}function l4(a,n){const r=a.plugins.get("ContextualBalloon"),i=c4(a,n);r.updatePosition(i)}function c4(a,n){const r=a.editing.view,i=Fo.defaultPositions;return{target:r.domConverter.mapViewToDom(n),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}var d4=c(4095),wZ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(d4.A,wZ),d4.A.locals;const qy=bc("px");class yZ extends Le{constructor(){super();const n=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",n.if("isVisible","ck-hidden",r=>!r)],style:{left:n.to("left",r=>qy(r)),top:n.to("top",r=>qy(r)),width:n.to("width",r=>qy(r))}}})}}class bm extends pe{constructor(){super(...arguments),this.removeDropMarkerDelayed=jw(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=am(n=>this._updateDropMarker(n),40),this._reconvertMarkerThrottled=am(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new yZ,this._domEmitter=new(Er()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:n}of this._scrollables.values())n.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(n,r,i,l,d,h){this.removeDropMarkerDelayed.cancel();const f=u4(this.editor,n,r,i,l,d,h);if(f)return h&&h.containsRange(f)?this.removeDropMarker():void this._updateDropMarkerThrottled(f)}getFinalDropRange(n,r,i,l,d,h){const f=u4(this.editor,n,r,i,l,d,h);return this.removeDropMarker(),f}removeDropMarker(){const n=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,n.markers.has("drop-target")&&n.change(r=>{r.removeMarker("drop-target")})}_setupDropMarker(){const n=this.editor;n.ui.view.body.add(this._dropTargetLineView),n.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),n.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(r,{writer:i})=>{if(n.model.schema.checkChild(r.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(i);r.markerRange.isCollapsed?this._updateDropTargetLine(r.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(n){const r=this.editor,i=r.model.markers;r.model.change(l=>{i.has("drop-target")?i.get("drop-target").getRange().isEqual(n)||l.updateMarker("drop-target",{range:n}):l.addMarker("drop-target",{range:n,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(n){return n.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(r){const i=this.toDomElement(r);return i.append("",r.createElement("span"),""),i})}_updateDropTargetLine(n){const r=this.editor.editing,i=n.start.nodeBefore,l=n.start.nodeAfter,d=n.start.parent,h=i?r.mapper.toViewElement(i):null,f=h?r.view.domConverter.mapViewToDom(h):null,k=l?r.mapper.toViewElement(l):null,b=k?r.view.domConverter.mapViewToDom(k):null,w=r.mapper.toViewElement(d);if(!w)return;const A=r.view.domConverter.mapViewToDom(w),E=this._getScrollableRect(w),{scrollX:I,scrollY:O}=m.window,L=f?new pt(f):null,F=b?new pt(b):null,W=new pt(A).excludeScrollbarsAndBorders(),Y=L?L.bottom:W.top,J=F?F.top:W.bottom,ce=m.window.getComputedStyle(A),we=Y<=J?(Y+J)/2:J;if(E.top<we&&we<E.bottom){const Ve=W.left+parseFloat(ce.paddingLeft),rt=W.right-parseFloat(ce.paddingRight),Gt=Math.max(Ve+I,E.left),Fn=Math.min(rt+I,E.right);this._dropTargetLineView.set({isVisible:!0,left:Gt,top:we+O,width:Fn-Gt})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(n){const r=n.root.rootName;let i;if(this._scrollables.has(r))i=this._scrollables.get(r).domElement;else{i=function(d){let h=d;do{h=h.parentElement;const f=m.window.getComputedStyle(h).overflowY;if(f=="auto"||f=="scroll")break}while(h.tagName!="BODY");return h}(this.editor.editing.view.domConverter.mapViewToDom(n)),this._domEmitter.listenTo(i,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const l=new ju(i,this._reconvertMarkerThrottled);this._scrollables.set(r,{domElement:i,resizeObserver:l})}return new pt(i).excludeScrollbarsAndBorders()}}function u4(a,n,r,i,l,d,h){const f=a.model,k=a.editing.mapper;let b=p4(a,n);for(;b;){if(!d){if(f.schema.checkChild(b,"$text")){if(r){const w=r[0].start,A=k.toModelPosition(w);if(!h||Array.from(h.getItems()).every(E=>f.schema.checkChild(A,E))){if(f.schema.checkChild(A,"$text"))return f.createRange(A);if(w)return vm(a,p4(a,w.parent),i,l)}}}else if(f.schema.isInline(b))return vm(a,b,i,l)}if(f.schema.isBlock(b))return vm(a,b,i,l);if(f.schema.checkChild(b,"$block")){const w=Array.from(b.getChildren()).filter(I=>I.is("element")&&!_Z(a,I));let A=0,E=w.length;if(E==0)return f.createRange(f.createPositionAt(b,"end"));for(;A<E-1;){const I=Math.floor((A+E)/2);h4(a,w[I],i,l)=="before"?E=I:A=I}return vm(a,w[A],i,l)}b=b.parent}return null}function _Z(a,n){const r=a.editing.mapper,i=a.editing.view.domConverter,l=r.toViewElement(n);if(!l)return!0;const d=i.mapViewToDom(l);return m.window.getComputedStyle(d).float!="none"}function vm(a,n,r,i){const l=a.model;return l.createRange(l.createPositionAt(n,h4(a,n,r,i)))}function h4(a,n,r,i){const l=a.editing.mapper,d=a.editing.view.domConverter,h=l.toViewElement(n),f=d.mapViewToDom(h),k=new pt(f);return a.model.schema.isInline(n)?r<(k.left+k.right)/2?"before":"after":i<(k.top+k.bottom)/2?"before":"after"}function p4(a,n){const r=a.editing.mapper,i=a.editing.view,l=r.toModelElement(n);if(l)return l;const d=i.createPositionBefore(n),h=r.findMappedViewAncestor(d);return r.toModelElement(h)}var CZ=Object.defineProperty,AZ=Object.defineProperties,xZ=Object.getOwnPropertyDescriptors,f4=Object.getOwnPropertySymbols,EZ=Object.prototype.hasOwnProperty,SZ=Object.prototype.propertyIsEnumerable,g4=(a,n,r)=>n in a?CZ(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r;class TZ extends pe{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(Er())}static get pluginName(){return"DragDropBlockToolbar"}init(){const n=this.editor;if(this.listenTo(n,"change:isReadOnly",(r,i,l)=>{l?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),_.isAndroid&&this.forceDisabled("noAndroidSupport"),n.plugins.has("BlockToolbar")){const r=n.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(r,"dragstart",(i,l)=>this._handleBlockDragStart(l)),this._domEmitter.listenTo(m.document,"dragover",(i,l)=>this._handleBlockDragging(l)),this._domEmitter.listenTo(m.document,"drop",(i,l)=>this._handleBlockDragging(l)),this._domEmitter.listenTo(m.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&r.setAttribute("draggable","true"),this.on("change:isEnabled",(i,l,d)=>{r.setAttribute("draggable",d?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(n){if(!this.isEnabled)return;const r=this.editor.model,i=r.document.selection,l=this.editor.editing.view,d=Array.from(i.getSelectedBlocks()),h=r.createRange(r.createPositionBefore(d[0]),r.createPositionAfter(d[d.length-1]));r.change(f=>f.setSelection(h)),this._isBlockDragging=!0,l.focus(),l.getObserver(sh).onDomEvent(n)}_handleBlockDragging(n){if(!this.isEnabled||!this._isBlockDragging)return;const r=n.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),i=n.clientY,l=document.elementFromPoint(r,i),d=this.editor.editing.view;var h,f;l&&l.closest(".ck-editor__editable")&&d.getObserver(sh).onDomEvent((h=((k,b)=>{for(var w in b||(b={}))EZ.call(b,w)&&g4(k,w,b[w]);if(f4)for(var w of f4(b))SZ.call(b,w)&&g4(k,w,b[w]);return k})({},n),f={type:n.type,dataTransfer:n.dataTransfer,target:l,clientX:r,clientY:i,preventDefault:()=>n.preventDefault(),stopPropagation:()=>n.stopPropagation()},AZ(h,xZ(f))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}var m4=c(7793),IZ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(m4.A,IZ),m4.A.locals;class DZ extends pe{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=jw(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(Er())}static get pluginName(){return"DragDrop"}static get requires(){return[Dr,uh,bm,TZ]}init(){const n=this.editor,r=n.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,r.addObserver(sh),r.addObserver(_y),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(n,"change:isReadOnly",(i,l,d)=>{d?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(i,l,d)=>{d||this._finalizeDragging(!1)}),_.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const n=this.editor,r=n.model,i=n.editing.view,l=i.document,d=n.plugins.get(bm);this.listenTo(l,"dragstart",(h,f)=>{if(f.target&&f.target.is("editableElement")||(this._prepareDraggedRange(f.target),!this._draggedRange))return void f.preventDefault();this._draggingUid=B(),f.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",f.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const k=r.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(f.dataTransfer,k,"dragstart");const{dataTransfer:b,domTarget:w,domEvent:A}=f,{clientX:E}=A;this._updatePreview({dataTransfer:b,domTarget:w,clientX:E}),f.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(l,"dragend",(h,f)=>{this._finalizeDragging(!f.dataTransfer.isCanceled&&f.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(m.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(l,"dragenter",()=>{this.isEnabled&&i.focus()}),this.listenTo(l,"dragleave",()=>{d.removeDropMarkerDelayed()}),this.listenTo(l,"dragging",(h,f)=>{if(!this.isEnabled)return void(f.dataTransfer.dropEffect="none");const{clientX:k,clientY:b}=f.domEvent;d.updateDropMarker(f.target,f.targetRanges,k,b,this._blockMode,this._draggedRange),this._draggedRange||(f.dataTransfer.dropEffect="copy"),_.isGecko||(f.dataTransfer.effectAllowed=="copy"?f.dataTransfer.dropEffect="copy":["all","copyMove"].includes(f.dataTransfer.effectAllowed)&&(f.dataTransfer.dropEffect="move")),h.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const n=this.editor,r=n.editing.view.document,i=n.plugins.get(bm);this.listenTo(r,"clipboardInput",(l,d)=>{if(d.method!="drop")return;const{clientX:h,clientY:f}=d.domEvent,k=i.getFinalDropRange(d.target,d.targetRanges,h,f,this._blockMode,this._draggedRange);if(!k)return this._finalizeDragging(!1),void l.stop();if(this._draggedRange&&this._draggingUid!=d.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),k4(d.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(k,!0))return this._finalizeDragging(!1),void l.stop();d.targetRanges=[n.editing.mapper.toViewRange(k)]},{priority:"high"})}_setupContentInsertionIntegration(){const n=this.editor.plugins.get(Dr);n.on("contentInsertion",(r,i)=>{if(!this.isEnabled||i.method!=="drop")return;const l=i.targetRanges.map(d=>this.editor.editing.mapper.toModelRange(d));this.editor.model.change(d=>d.setSelection(l))},{priority:"high"}),n.on("contentInsertion",(r,i)=>{if(!this.isEnabled||i.method!=="drop")return;const l=k4(i.dataTransfer)=="move",d=!i.resultRange||!i.resultRange.isCollapsed;this._finalizeDragging(d&&l)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const n=this.editor,r=n.editing.view,i=r.document;this.listenTo(i,"mousedown",(l,d)=>{if(_.isAndroid||!d)return;this._clearDraggableAttributesDelayed.cancel();let h=b4(d.target);if(_.isBlink&&!n.isReadOnly&&!h&&!i.selection.isCollapsed){const f=i.selection.getSelectedElement();f&&Sn(f)||(h=i.selection.editableElement)}h&&(r.change(f=>{f.setAttribute("draggable","true",h)}),this._draggableElement=n.editing.mapper.toModelElement(h))}),this.listenTo(i,"mouseup",()=>{_.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const n=this.editor.editing;n.view.change(r=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&r.removeAttribute("draggable",n.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(n){const r=this.editor,i=r.model;r.plugins.get(bm).removeDropMarker(),this._clearDraggableAttributes(),r.plugins.has("WidgetToolbarRepository")&&r.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(n&&this.isEnabled&&i.change(l=>{const d=i.createSelection(this._draggedRange);i.deleteContent(d,{doNotAutoparagraph:!0});const h=d.getFirstPosition().parent;h.isEmpty&&!i.schema.checkChild(h,"$text")&&i.schema.checkChild(h,"paragraph")&&l.insertElement("paragraph",h,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(n){const r=this.editor,i=r.model,l=i.document.selection,d=n?b4(n):null;if(d){const b=r.editing.mapper.toModelElement(d);this._draggedRange=sr.fromRange(i.createRangeOn(b)),this._blockMode=i.schema.isBlock(b),r.plugins.has("WidgetToolbarRepository")&&r.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(l.isCollapsed&&!l.getFirstPosition().parent.isEmpty)return;const h=Array.from(l.getSelectedBlocks()),f=l.getFirstRange();if(h.length==0)return void(this._draggedRange=sr.fromRange(f));const k=v4(i,h);if(h.length>1)this._draggedRange=sr.fromRange(k),this._blockMode=!0;else if(h.length==1){const b=f.start.isTouching(k.start)&&f.end.isTouching(k.end);this._draggedRange=sr.fromRange(b?k:f),this._blockMode=b}i.change(b=>b.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:n,domTarget:r,clientX:i}){const l=this.editor.editing.view,d=l.document.selection.editableElement,h=l.domConverter.mapViewToDom(d),f=m.window.getComputedStyle(h);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=Lo(m.document,"div",{style:"position: fixed; left: -999999px;"}),m.document.body.appendChild(this._previewContainer));const k=new pt(h);if(h.contains(r))return;const b=parseFloat(f.paddingLeft),w=Lo(m.document,"div");w.className="ck ck-content",w.style.width=f.width,w.style.paddingLeft=`${k.left-i+b}px`,_.isiOS&&(w.style.backgroundColor="white"),w.innerHTML=n.getData("text/html"),n.setDragImage(w,0,0),this._previewContainer.appendChild(w)}}function k4(a){return _.isGecko?a.dropEffect:["all","copyMove"].includes(a.effectAllowed)?"move":"copy"}function b4(a){if(a.is("editableElement"))return null;if(a.hasClass("ck-widget__selection-handle"))return a.findAncestor(Sn);if(Sn(a))return a;const n=a.findAncestor(r=>Sn(r)||r.is("editableElement"));return Sn(n)?n:null}function v4(a,n){const r=n[0],i=n[n.length-1],l=r.getCommonAncestor(i),d=a.createPositionBefore(r),h=a.createPositionAfter(i);if(l&&l.is("element")&&!a.schema.isLimit(l)){const f=a.createRangeOn(l),k=d.isTouching(f.start),b=h.isTouching(f.end);if(k&&b)return v4(a,[l])}return a.createRange(d,h)}class MZ extends pe{static get pluginName(){return"PastePlainText"}static get requires(){return[Dr]}init(){const n=this.editor,r=n.model,i=n.editing.view,l=i.document,d=r.document.selection;let h=!1;i.addObserver(sh),this.listenTo(l,"keydown",(f,k)=>{h=k.shiftKey}),n.plugins.get(Dr).on("contentInsertion",(f,k)=>{(h||function(b,w){if(b.childCount>1)return!1;const A=b.getChild(0);return w.isObject(A)?!1:Array.from(A.getAttributeKeys()).length==0}(k.content,r.schema))&&r.change(b=>{const w=Array.from(d.getAttributes()).filter(([E])=>r.schema.getAttributeProperties(E).isFormatting);d.isCollapsed||r.deleteContent(d,{doNotAutoparagraph:!0}),w.push(...d.getAttributes());const A=b.createRangeIn(k.content);for(const E of A.getItems())E.is("$textProxy")&&b.setAttributes(w,E)})})}}class w4 extends pe{static get pluginName(){return"Clipboard"}static get requires(){return[ah,Dr,DZ,MZ]}init(){const n=this.editor,r=this.editor.t;n.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Copy selected content"),keystroke:"CTRL+C"},{label:r("Paste content"),keystroke:"CTRL+V"},{label:r("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class PZ extends dt{constructor(n){super(n),this.affectsData=!1}execute(){const n=this.editor.model,r=n.document.selection;let i=n.schema.getLimitElement(r);if(r.containsEntireContent(i)||!y4(n.schema,i))do if(i=i.parent,!i)return;while(!y4(n.schema,i));n.change(l=>{l.setSelection(i,"in")})}}function y4(a,n){return a.isLimit(n)&&(a.checkChild(n,"$text")||a.checkChild(n,"paragraph"))}const NZ=$u("Ctrl+A");class RZ extends pe{static get pluginName(){return"SelectAllEditing"}init(){const n=this.editor,r=n.t,i=n.editing.view.document;n.commands.add("selectAll",new PZ(n)),this.listenTo(i,"keydown",(l,d)=>{vc(d)===NZ&&(n.execute("selectAll"),d.preventDefault())}),n.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Select all"),keystroke:"CTRL+A"}]})}}class OZ extends pe{static get pluginName(){return"SelectAllUI"}init(){const n=this.editor;n.ui.componentFactory.add("selectAll",()=>{const r=this._createButton(At);return r.set({tooltip:!0}),r}),n.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(lr))}_createButton(n){const r=this.editor,i=r.locale,l=r.commands.get("selectAll"),d=new n(r.locale),h=i.t;return d.set({label:h("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),d.bind("isEnabled").to(l,"isEnabled"),this.listenTo(d,"execute",()=>{r.execute("selectAll"),r.editing.view.focus()}),d}}class BZ extends pe{static get requires(){return[RZ,OZ]}static get pluginName(){return"SelectAll"}}var LZ=Object.defineProperty,_4=Object.getOwnPropertySymbols,jZ=Object.prototype.hasOwnProperty,zZ=Object.prototype.propertyIsEnumerable,C4=(a,n,r)=>n in a?LZ(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r;class A4 extends dt{constructor(n){super(n),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(n.data,"set",(r,i)=>{i[1]=((d,h)=>{for(var f in h||(h={}))jZ.call(h,f)&&C4(d,f,h[f]);if(_4)for(var f of _4(h))zZ.call(h,f)&&C4(d,f,h[f]);return d})({},i[1]);const l=i[1];l.batchType||(l.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(n.data,"set",(r,i)=>{i[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(n){const r=this.editor.model.document.selection,i={ranges:r.hasOwnRange?Array.from(r.getRanges()):[],isBackward:r.isBackward};this._stack.push({batch:n,selection:i}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(n,r,i){const l=this.editor.model,d=l.document,h=[],f=n.map(b=>b.getTransformedByOperations(i)),k=f.flat();for(const b of f){const w=b.filter(A=>A.root!=d.graveyard).filter(A=>!$Z(A,k));w.length&&(FZ(w),h.push(w[0]))}h.length&&l.change(b=>{b.setSelection(h,{backward:r})})}_undo(n,r){const i=this.editor.model,l=i.document;this._createdBatches.add(r);const d=n.operations.slice().filter(h=>h.isDocumentOperation);d.reverse();for(const h of d){const f=h.baseVersion+1,k=Array.from(l.history.getOperations(f)),b=wG([h.getReversed()],k,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let w of b){const A=w.affectedSelectable;A&&!i.canEditAt(A)&&(w=new jn(w.baseVersion)),r.addOperation(w),i.applyOperation(w),l.history.setOperationAsUndone(h,w)}}}}function FZ(a){a.sort((n,r)=>n.start.isBefore(r.start)?-1:1);for(let n=1;n<a.length;n++){const r=a[n-1].getJoined(a[n],!0);r&&(n--,a.splice(n,2,r))}}function $Z(a,n){return n.some(r=>r!==a&&r.containsRange(a,!0))}class VZ extends A4{execute(n=null){const r=n?this._stack.findIndex(d=>d.batch==n):this._stack.length-1,i=this._stack.splice(r,1)[0],l=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(l,()=>{this._undo(i.batch,l);const d=this.editor.model.document.history.getOperations(i.batch.baseVersion);this._restoreSelection(i.selection.ranges,i.selection.isBackward,d)}),this.fire("revert",i.batch,l),this.refresh()}}class UZ extends A4{execute(){const n=this._stack.pop(),r=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(r,()=>{const i=n.batch.operations[n.batch.operations.length-1].baseVersion+1,l=this.editor.model.document.history.getOperations(i);this._restoreSelection(n.selection.ranges,n.selection.isBackward,l),this._undo(n.batch,r)}),this.refresh()}}class HZ extends pe{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const n=this.editor,r=n.t;this._undoCommand=new VZ(n),this._redoCommand=new UZ(n),n.commands.add("undo",this._undoCommand),n.commands.add("redo",this._redoCommand),this.listenTo(n.model,"applyOperation",(i,l)=>{const d=l[0];if(!d.isDocumentOperation)return;const h=d.batch,f=this._redoCommand.createdBatches.has(h),k=this._undoCommand.createdBatches.has(h);this._batchRegistry.has(h)||(this._batchRegistry.add(h),h.isUndoable&&(f?this._undoCommand.addBatch(h):k||(this._undoCommand.addBatch(h),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(i,l,d)=>{this._redoCommand.addBatch(d)}),n.keystrokes.set("CTRL+Z","undo"),n.keystrokes.set("CTRL+Y","redo"),n.keystrokes.set("CTRL+SHIFT+Z","redo"),n.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Undo"),keystroke:"CTRL+Z"},{label:r("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class WZ extends pe{static get pluginName(){return"UndoUI"}init(){const n=this.editor,r=n.locale,i=n.t,l=r.uiLanguageDirection=="ltr"?Ze.undo:Ze.redo,d=r.uiLanguageDirection=="ltr"?Ze.redo:Ze.undo;this._addButtonsToFactory("undo",i("Undo"),"CTRL+Z",l),this._addButtonsToFactory("redo",i("Redo"),"CTRL+Y",d)}_addButtonsToFactory(n,r,i,l){const d=this.editor;d.ui.componentFactory.add(n,()=>{const h=this._createButton(At,n,r,i,l);return h.set({tooltip:!0}),h}),d.ui.componentFactory.add("menuBar:"+n,()=>this._createButton(lr,n,r,i,l))}_createButton(n,r,i,l,d){const h=this.editor,f=h.locale,k=h.commands.get(r),b=new n(f);return b.set({label:i,icon:d,keystroke:l}),b.bind("isEnabled").to(k,"isEnabled"),this.listenTo(b,"execute",()=>{h.execute(r),h.editing.view.focus()}),b}}class x4 extends pe{static get requires(){return[HZ,WZ]}static get pluginName(){return"Undo"}}class qZ extends Q(){constructor(){super();const n=new window.FileReader;this._reader=n,this._data=void 0,this.set("loaded",0),n.onprogress=r=>{this.loaded=r.loaded}}get error(){return this._reader.error}get data(){return this._data}read(n){const r=this._reader;return this.total=n.size,new Promise((i,l)=>{r.onload=()=>{const d=r.result;this._data=d,i(d)},r.onerror=()=>{l("error")},r.onabort=()=>{l("aborted")},this._reader.readAsDataURL(n)})}abort(){this._reader.abort()}}class li extends pe{constructor(){super(...arguments),this.loaders=new ti,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[FD]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(n,r)=>r?n/r*100:0)}getLoader(n){return this._loadersMap.get(n)||null}createLoader(n){if(!this.createUploadAdapter)return U("filerepository-no-upload-adapter"),null;const r=new E4(Promise.resolve(n),this.createUploadAdapter);return this.loaders.add(r),this._loadersMap.set(n,r),n instanceof Promise&&r.file.then(i=>{this._loadersMap.set(i,r)}).catch(()=>{}),r.on("change:uploaded",()=>{let i=0;for(const l of this.loaders)i+=l.uploaded;this.uploaded=i}),r.on("change:uploadTotal",()=>{let i=0;for(const l of this.loaders)l.uploadTotal&&(i+=l.uploadTotal);this.uploadTotal=i}),r}destroyLoader(n){const r=n instanceof E4?n:this.getLoader(n);r._destroy(),this.loaders.remove(r),this._loadersMap.forEach((i,l)=>{i===r&&this._loadersMap.delete(l)})}_updatePendingAction(){const n=this.editor.plugins.get(FD);if(this.loaders.length){if(!this._pendingAction){const r=this.editor.t,i=l=>`${r("Upload in progress")} ${parseInt(l)}%.`;this._pendingAction=n.add(i(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",i)}}else n.remove(this._pendingAction),this._pendingAction=null}}class E4 extends Q(){constructor(n,r){super(),this.id=B(),this._filePromiseWrapper=this._createFilePromiseWrapper(n),this._adapter=r(this),this._reader=new qZ,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(i,l)=>l?i/l*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(n=>this._filePromiseWrapper?n:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new M("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(n=>this._reader.read(n)).then(n=>{if(this.status!=="reading")throw this.status;return this.status="idle",n}).catch(n=>{throw n==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:n)})}upload(){if(this.status!="idle")throw new M("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(n=>(this.uploadResponse=n,this.status="idle",n)).catch(n=>{throw this.status==="aborted"?"aborted":(this.status="error",n)})}abort(){const n=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?n=="reading"?this._reader.abort():n=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(n){const r={};return r.promise=new Promise((i,l)=>{r.rejecter=l,r.isFulfilled=!1,n.then(d=>{r.isFulfilled=!0,i(d)}).catch(d=>{r.isFulfilled=!0,l(d)})}),r}}const S4="ckCsrfToken",T4="abcdefghijklmnopqrstuvwxyz0123456789";function GZ(){let a=function(i){i=i.toLowerCase();const l=document.cookie.split(";");for(const d of l){const h=d.split("=");if(decodeURIComponent(h[0].trim().toLowerCase())===i)return decodeURIComponent(h[1])}return null}(S4);var n,r;return a&&a.length==40||(a=function(i){let l="";const d=new Uint8Array(i);window.crypto.getRandomValues(d);for(let h=0;h<d.length;h++){const f=T4.charAt(d[h]%T4.length);l+=Math.random()>.5?f.toUpperCase():f}return l}(40),n=S4,r=a,document.cookie=encodeURIComponent(n)+"="+encodeURIComponent(r)+";path=/"),a}class KZ{constructor(n,r,i){this.loader=n,this.url=r,this.t=i}upload(){return this.loader.file.then(n=>new Promise((r,i)=>{this._initRequest(),this._initListeners(r,i,n),this._sendRequest(n)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const n=this.xhr=new XMLHttpRequest;n.open("POST",this.url,!0),n.responseType="json"}_initListeners(n,r,i){const l=this.xhr,d=this.loader,h=(0,this.t)("Cannot upload file:")+` ${i.name}.`;l.addEventListener("error",()=>r(h)),l.addEventListener("abort",()=>r()),l.addEventListener("load",()=>{const f=l.response;if(!f||!f.uploaded)return r(f&&f.error&&f.error.message?f.error.message:h);n({default:f.url})}),l.upload&&l.upload.addEventListener("progress",f=>{f.lengthComputable&&(d.uploadTotal=f.total,d.uploaded=f.loaded)})}_sendRequest(n){const r=new FormData;r.append("upload",n),r.append("ckCsrfToken",GZ()),this.xhr.send(r)}}function qs(a,n,r,i){let l,d=null;typeof i=="function"?l=i:(d=a.commands.get(i),l=()=>{a.execute(i)}),a.model.document.on("change:data",(h,f)=>{if(d&&!d.isEnabled||!n.isEnabled)return;const k=qn(a.model.document.selection.getRanges());if(!k.isCollapsed||f.isUndo||!f.isLocal)return;const b=Array.from(a.model.document.differ.getChanges()),w=b[0];if(b.length!=1||w.type!=="insert"||w.name!="$text"||w.length!=1)return;const A=w.position.parent;if(A.is("element","codeBlock")||A.is("element","listItem")&&typeof i!="function"&&!["numberedList","bulletedList","todoList"].includes(i)||d&&d.value===!0)return;const E=A.getChild(0),I=a.model.createRangeOn(E);if(!I.containsRange(k)&&!k.end.isEqual(I.end))return;const O=r.exec(E.data.substr(0,k.end.offset));O&&a.model.enqueueChange(L=>{const F=L.createPositionAt(A,0),W=L.createPositionAt(A,O[0].length),Y=new sr(F,W);if(l({match:O})!==!1){L.remove(Y);const J=a.model.document.selection.getFirstRange(),ce=L.createRangeIn(A);!A.isEmpty||ce.isEqual(J)||ce.containsRange(J,!0)||L.remove(A)}Y.detach(),a.model.enqueueChange(()=>{a.plugins.get("Delete").requestUndoOnBackspace()})})})}function Bc(a,n,r,i){let l,d;r instanceof RegExp?l=r:d=r,d=d||(h=>{let f;const k=[],b=[];for(;(f=l.exec(h))!==null&&!(f&&f.length<4);){let{index:w,1:A,2:E,3:I}=f;const O=A+E+I;w+=f[0].length-O.length;const L=[w,w+A.length],F=[w+A.length+E.length,w+A.length+E.length+I.length];k.push(L),k.push(F),b.push([w+A.length,w+A.length+E.length])}return{remove:k,format:b}}),a.model.document.on("change:data",(h,f)=>{if(f.isUndo||!f.isLocal||!n.isEnabled)return;const k=a.model,b=k.document.selection;if(!b.isCollapsed)return;const w=Array.from(k.document.differ.getChanges()),A=w[0];if(w.length!=1||A.type!=="insert"||A.name!="$text"||A.length!=1)return;const E=b.focus,I=E.parent,{text:O,range:L}=function(J,ce){let we=J.start;return{text:Array.from(J.getItems()).reduce((rt,Gt)=>!Gt.is("$text")&&!Gt.is("$textProxy")||Gt.getAttribute("code")?(we=ce.createPositionAfter(Gt),""):rt+Gt.data,""),range:ce.createRange(we,J.end)}}(k.createRange(k.createPositionAt(I,0),E),k),F=d(O),W=I4(L.start,F.format,k),Y=I4(L.start,F.remove,k);W.length&&Y.length&&k.enqueueChange(J=>{if(i(J,W)!==!1){for(const ce of Y.reverse())J.remove(ce);k.enqueueChange(()=>{a.plugins.get("Delete").requestUndoOnBackspace()})}})})}function I4(a,n,r){return n.filter(i=>i[0]!==void 0&&i[1]!==void 0).map(i=>r.createRange(a.getShiftedBy(i[0]),a.getShiftedBy(i[1])))}function wm(a,n){return(r,i)=>{if(!a.commands.get(n).isEnabled)return!1;const l=a.model.schema.getValidRanges(i,n);for(const d of l)r.setAttribute(n,!0,d);r.removeSelectionAttribute(n)}}class D4 extends dt{constructor(n,r){super(n),this.attributeKey=r}refresh(){const n=this.editor.model,r=n.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=n.schema.checkAttributeInSelection(r.selection,this.attributeKey)}execute(n={}){const r=this.editor.model,i=r.document.selection,l=n.forceValue===void 0?!this.value:n.forceValue;r.change(d=>{if(i.isCollapsed)l?d.setSelectionAttribute(this.attributeKey,!0):d.removeSelectionAttribute(this.attributeKey);else{const h=r.schema.getValidRanges(i.getRanges(),this.attributeKey);for(const f of h)l?d.setAttribute(this.attributeKey,l,f):d.removeAttribute(this.attributeKey,f)}})}_getValueFromFirstAllowedNode(){const n=this.editor.model,r=n.schema,i=n.document.selection;if(i.isCollapsed)return i.hasAttribute(this.attributeKey);for(const l of i.getRanges())for(const d of l.getItems())if(r.checkAttribute(d,this.attributeKey))return d.hasAttribute(this.attributeKey);return!1}}const Lc="bold";class YZ extends pe{static get pluginName(){return"BoldEditing"}init(){const n=this.editor,r=this.editor.t;n.model.schema.extend("$text",{allowAttributes:Lc}),n.model.schema.setAttributeProperties(Lc,{isFormatting:!0,copyOnEnter:!0}),n.conversion.attributeToElement({model:Lc,view:"strong",upcastAlso:["b",i=>{const l=i.getStyle("font-weight");return l&&(l=="bold"||Number(l)>=600)?{name:!0,styles:["font-weight"]}:null}]}),n.commands.add(Lc,new D4(n,Lc)),n.keystrokes.set("CTRL+B",Lc),n.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Bold text"),keystroke:"CTRL+B"}]})}}function M4({editor:a,commandName:n,plugin:r,icon:i,label:l,keystroke:d}){return h=>{const f=a.commands.get(n),k=new h(a.locale);return k.set({label:l,icon:i,keystroke:d,isToggleable:!0}),k.bind("isEnabled").to(f,"isEnabled"),r.listenTo(k,"execute",()=>{a.execute(n),a.editing.view.focus()}),k}}const ym="bold";class QZ extends pe{static get pluginName(){return"BoldUI"}init(){const n=this.editor,r=n.locale.t,i=n.commands.get(ym),l=M4({editor:n,commandName:ym,plugin:this,icon:Ze.bold,label:r("Bold"),keystroke:"CTRL+B"});n.ui.componentFactory.add(ym,()=>{const d=l(At);return d.set({tooltip:!0}),d.bind("isOn").to(i,"value"),d}),n.ui.componentFactory.add("menuBar:"+ym,()=>l(lr))}}var P4=c(4199),ZZ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(P4.A,ZZ),P4.A.locals;const jc="italic";class JZ extends pe{static get pluginName(){return"ItalicEditing"}init(){const n=this.editor,r=this.editor.t;n.model.schema.extend("$text",{allowAttributes:jc}),n.model.schema.setAttributeProperties(jc,{isFormatting:!0,copyOnEnter:!0}),n.conversion.attributeToElement({model:jc,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),n.commands.add(jc,new D4(n,jc)),n.keystrokes.set("CTRL+I",jc),n.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Italic text"),keystroke:"CTRL+I"}]})}}const _m="italic";class XZ extends pe{static get pluginName(){return"ItalicUI"}init(){const n=this.editor,r=n.commands.get(_m),i=n.locale.t,l=M4({editor:n,commandName:_m,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:i("Italic")});n.ui.componentFactory.add(_m,()=>{const d=l(At);return d.set({tooltip:!0}),d.bind("isOn").to(r,"value"),d}),n.ui.componentFactory.add("menuBar:"+_m,()=>l(lr))}}class eJ extends dt{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(n={}){const r=this.editor.model,i=r.schema,l=r.document.selection,d=Array.from(l.getSelectedBlocks()),h=n.forceValue===void 0?!this.value:n.forceValue;r.change(f=>{if(h){const k=d.filter(b=>Cm(b)||R4(i,b));this._applyQuote(f,k)}else this._removeQuote(f,d.filter(Cm))})}_getValue(){const n=qn(this.editor.model.document.selection.getSelectedBlocks());return!(!n||!Cm(n))}_checkEnabled(){if(this.value)return!0;const n=this.editor.model.document.selection,r=this.editor.model.schema,i=qn(n.getSelectedBlocks());return!!i&&R4(r,i)}_removeQuote(n,r){N4(n,r).reverse().forEach(i=>{if(i.start.isAtStart&&i.end.isAtEnd)return void n.unwrap(i.start.parent);if(i.start.isAtStart){const d=n.createPositionBefore(i.start.parent);return void n.move(i,d)}i.end.isAtEnd||n.split(i.end);const l=n.createPositionAfter(i.end.parent);n.move(i,l)})}_applyQuote(n,r){const i=[];N4(n,r).reverse().forEach(l=>{let d=Cm(l.start);d||(d=n.createElement("blockQuote"),n.wrap(l,d)),i.push(d)}),i.reverse().reduce((l,d)=>l.nextSibling==d?(n.merge(n.createPositionAfter(l)),l):d)}}function Cm(a){return a.parent.name=="blockQuote"?a.parent:null}function N4(a,n){let r,i=0;const l=[];for(;i<n.length;){const d=n[i],h=n[i+1];r||(r=a.createPositionBefore(d)),h&&d.nextSibling==h||(l.push(a.createRange(r,a.createPositionAfter(d))),r=null),i++}return l}function R4(a,n){const r=a.checkChild(n.parent,"blockQuote"),i=a.checkChild(["$root","blockQuote"],n);return r&&i}class tJ extends pe{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[gm,as]}init(){const n=this.editor,r=n.model.schema;n.commands.add("blockQuote",new eJ(n)),r.register("blockQuote",{inheritAllFrom:"$container"}),n.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),n.model.document.registerPostFixer(h=>{const f=n.model.document.differ.getChanges();for(const k of f)if(k.type=="insert"){const b=k.position.nodeAfter;if(!b)continue;if(b.is("element","blockQuote")&&b.isEmpty)return h.remove(b),!0;if(b.is("element","blockQuote")&&!r.checkChild(k.position,b))return h.unwrap(b),!0;if(b.is("element")){const w=h.createRangeIn(b);for(const A of w.getItems())if(A.is("element","blockQuote")&&!r.checkChild(h.createPositionBefore(A),A))return h.unwrap(A),!0}}else if(k.type=="remove"){const b=k.position.parent;if(b.is("element","blockQuote")&&b.isEmpty)return h.remove(b),!0}return!1});const i=this.editor.editing.view.document,l=n.model.document.selection,d=n.commands.get("blockQuote");this.listenTo(i,"enter",(h,f)=>{!l.isCollapsed||!d.value||l.getLastPosition().parent.isEmpty&&(n.execute("blockQuote"),n.editing.view.scrollToTheSelection(),f.preventDefault(),h.stop())},{context:"blockquote"}),this.listenTo(i,"delete",(h,f)=>{if(f.direction!="backward"||!l.isCollapsed||!d.value)return;const k=l.getLastPosition().parent;k.isEmpty&&!k.previousSibling&&(n.execute("blockQuote"),n.editing.view.scrollToTheSelection(),f.preventDefault(),h.stop())},{context:"blockquote"})}}var O4=c(8708),nJ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(O4.A,nJ),O4.A.locals;class oJ extends pe{static get pluginName(){return"BlockQuoteUI"}init(){const n=this.editor,r=n.commands.get("blockQuote");n.ui.componentFactory.add("blockQuote",()=>{const i=this._createButton(At);return i.set({tooltip:!0}),i.bind("isOn").to(r,"value"),i}),n.ui.componentFactory.add("menuBar:blockQuote",()=>this._createButton(lr))}_createButton(n){const r=this.editor,i=r.locale,l=r.commands.get("blockQuote"),d=new n(r.locale),h=i.t;return d.set({label:h("Block quote"),icon:Ze.quote,isToggleable:!0}),d.bind("isEnabled").to(l,"isEnabled"),this.listenTo(d,"execute",()=>{r.execute("blockQuote"),r.editing.view.focus()}),d}}class rJ extends pe{static get pluginName(){return"CKBoxUI"}afterInit(){const n=this.editor;if(!n.commands.get("ckbox"))return;const r=n.t,i=n.ui.componentFactory;if(i.add("ckbox",()=>{const l=this._createButton(At);return l.tooltip=!0,l}),i.add("menuBar:ckbox",()=>this._createButton(lr)),n.plugins.has("ImageInsertUI")){const l=n.plugins.get("ImageInsertUI");l.registerIntegration({name:"assetManager",observable:()=>n.commands.get("ckbox"),buttonViewCreator:()=>{const d=this.editor.ui.componentFactory.create("ckbox");return d.icon=Ze.imageAssetManager,d.bind("label").to(l,"isImageSelected",h=>r(h?"Replace image with file manager":"Insert image with file manager")),d},formViewCreator:()=>{const d=this.editor.ui.componentFactory.create("ckbox");return d.icon=Ze.imageAssetManager,d.withText=!0,d.bind("label").to(l,"isImageSelected",h=>r(h?"Replace with file manager":"Insert with file manager")),d.on("execute",()=>{l.dropdownView.isOpen=!1}),d}})}}_createButton(n){const r=this.editor,i=r.locale,l=new n(i),d=r.commands.get("ckbox"),h=i.t;return l.set({label:h("Open file manager"),icon:Ze.browseFiles}),l.bind("isOn","isEnabled").to(d,"value","isEnabled"),l.on("execute",()=>{r.execute("ckbox")}),l}}var iJ=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],hh=a=>{let n=0;for(let r=0;r<a.length;r++){let i=a[r];n=83*n+iJ.indexOf(i)}return n},Gy=a=>{let n=a/255;return n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)},Ky=a=>{let n=Math.max(0,Math.min(1,a));return n<=.0031308?Math.trunc(12.92*n*255+.5):Math.trunc(255*(1.055*Math.pow(n,.4166666666666667)-.055)+.5)},Yy=(a,n)=>(r=>r<0?-1:1)(a)*Math.pow(Math.abs(a),n),B4=class extends Error{constructor(a){super(a),this.name="ValidationError",this.message=a}},sJ=a=>{if(!a||a.length<6)throw new B4("The blurhash string must be at least 6 characters");let n=hh(a[0]),r=Math.floor(n/9)+1,i=n%9+1;if(a.length!==4+2*i*r)throw new B4(`blurhash length mismatch: length is ${a.length} but it should be ${4+2*i*r}`)},aJ=a=>{let n=a>>8&255,r=255&a;return[Gy(a>>16),Gy(n),Gy(r)]},lJ=(a,n)=>{let r=Math.floor(a/361),i=Math.floor(a/19)%19,l=a%19;return[Yy((r-9)/9,2)*n,Yy((i-9)/9,2)*n,Yy((l-9)/9,2)*n]},cJ=(a,n,r,i)=>{sJ(a),i|=1;let l=hh(a[0]),d=Math.floor(l/9)+1,h=l%9+1,f=(hh(a[1])+1)/166,k=new Array(h*d);for(let A=0;A<k.length;A++)if(A===0){let E=hh(a.substring(2,6));k[A]=aJ(E)}else{let E=hh(a.substring(4+2*A,6+2*A));k[A]=lJ(E,f*i)}let b=4*n,w=new Uint8ClampedArray(b*r);for(let A=0;A<r;A++)for(let E=0;E<n;E++){let I=0,O=0,L=0;for(let J=0;J<d;J++)for(let ce=0;ce<h;ce++){let we=Math.cos(Math.PI*E*ce/n)*Math.cos(Math.PI*A*J/r),Ve=k[ce+J*h];I+=Ve[0]*we,O+=Ve[1]*we,L+=Ve[2]*we}let F=Ky(I),W=Ky(O),Y=Ky(L);w[4*E+0+A*b]=F,w[4*E+1+A*b]=W,w[4*E+2+A*b]=Y,w[4*E+3+A*b]=255}return w},dJ=Object.defineProperty,L4=Object.getOwnPropertySymbols,uJ=Object.prototype.hasOwnProperty,hJ=Object.prototype.propertyIsEnumerable,j4=(a,n,r)=>n in a?dJ(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r;function z4(a){const n=[];let r=0;for(const l in a){const d=parseInt(l,10);isNaN(d)||(d>r&&(r=d),n.push(`${a[l]} ${l}w`))}const i=[{srcset:n.join(","),sizes:`(max-width: ${r}px) 100vw, ${r}px`,type:"image/webp"}];return{imageFallbackUrl:a.default,imageSources:i}}const ph=32;function F4({url:a,method:n="GET",data:r,onUploadProgress:i,signal:l,authorization:d}){const h=new XMLHttpRequest;h.open(n,a.toString()),h.setRequestHeader("Authorization",d),h.setRequestHeader("CKBox-Version","CKEditor 5"),h.responseType="json";const f=()=>{h.abort()};return new Promise((k,b)=>{l.throwIfAborted(),l.addEventListener("abort",f),h.addEventListener("loadstart",()=>{l.addEventListener("abort",f)}),h.addEventListener("loadend",()=>{l.removeEventListener("abort",f)}),h.addEventListener("error",()=>{b()}),h.addEventListener("abort",()=>{b()}),h.addEventListener("load",()=>{const w=h.response;if(!w||w.statusCode>=400)return b(w&&w.message);k(w)}),i&&h.upload.addEventListener("progress",w=>{i(w)}),h.send(r)})}const pJ={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};function fJ(a,n){return r=this,i=null,l=function*(){try{const d=yield fetch(a,((h,f)=>{for(var k in f||(f={}))uJ.call(f,k)&&j4(h,k,f[k]);if(L4)for(var k of L4(f))hJ.call(f,k)&&j4(h,k,f[k]);return h})({method:"HEAD",cache:"force-cache"},n));return d.ok&&d.headers.get("content-type")||""}catch{return""}},new Promise((d,h)=>{var f=w=>{try{b(l.next(w))}catch(A){h(A)}},k=w=>{try{b(l.throw(w))}catch(A){h(A)}},b=w=>w.done?d(w.value):Promise.resolve(w.value).then(f,k);b((l=l.apply(r,i)).next())});var r,i,l}var gJ=Object.defineProperty,$4=Object.getOwnPropertySymbols,mJ=Object.prototype.hasOwnProperty,kJ=Object.prototype.propertyIsEnumerable,V4=(a,n,r)=>n in a?gJ(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,U4=(a,n)=>{for(var r in n||(n={}))mJ.call(n,r)&&V4(a,r,n[r]);if($4)for(var r of $4(n))kJ.call(n,r)&&V4(a,r,n[r]);return a};class bJ extends dt{constructor(n){super(n),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const n=this.editor.commands.get("insertImage"),r=this.editor.commands.get("link");return!(!n.isEnabled&&!r.isEnabled)}_prepareOptions(){const n=this.editor.config.get("ckbox");return{theme:n.theme,language:n.language,tokenUrl:n.tokenUrl,serviceOrigin:n.serviceOrigin,forceDemoLabel:n.forceDemoLabel,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:r=>this.fire("ckbox:choose",r)}}}_initListeners(){const n=this.editor,r=n.model,i=!n.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=Lo(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null,n.editing.view.focus())}),this.on("ckbox:choose",(l,d)=>{if(!this.isEnabled)return;const h=n.commands.get("insertImage"),f=n.commands.get("link"),k=function({assets:w,isImageAllowed:A,isLinkAllowed:E}){return w.map(I=>function(O){const L=O.data.metadata;return L?L.width&&L.height:!1}(I)?{id:I.data.id,type:"image",attributes:vJ(I)}:{id:I.data.id,type:"link",attributes:wJ(I)}).filter(I=>I.type==="image"?A:E)}({assets:d,isImageAllowed:h.isEnabled,isLinkAllowed:f.isEnabled}),b=k.length;b!==0&&(r.change(w=>{for(const A of k){const E=A===k[b-1],I=b===1;this._insertAsset(A,E,w,I),i&&(setTimeout(()=>this._chosenAssets.delete(A),1e3),this._chosenAssets.add(A))}}),n.editing.view.focus())}),this.listenTo(n,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(n,r,i,l){const d=this.editor.model.document.selection;i.removeSelectionAttribute("linkHref"),n.type==="image"?this._insertImage(n):this._insertLink(n,i,l),r||i.setSelection(d.getLastPosition())}_insertImage(n){const r=this.editor,{imageFallbackUrl:i,imageSources:l,imageTextAlternative:d,imageWidth:h,imageHeight:f,imagePlaceholder:k}=n.attributes;r.execute("insertImage",{source:U4({src:i,sources:l,alt:d,width:h,height:f},k?{placeholder:k}:null)})}_insertLink(n,r,i){const l=this.editor,d=l.model,h=d.document.selection,{linkName:f,linkHref:k}=n.attributes;if(h.isCollapsed){const b=Ci(h.getAttributes()),w=r.createText(f,b);if(!i){const E=h.getLastPosition(),I=E.parent;I.name==="paragraph"&&I.isEmpty||l.execute("insertParagraph",{position:E});const O=d.insertContent(w);return r.setSelection(O),void l.execute("link",k)}const A=d.insertContent(w);r.setSelection(A)}l.execute("link",k)}}function vJ(a){const{imageFallbackUrl:n,imageSources:r}=z4(a.data.imageUrls),{description:i,width:l,height:d,blurHash:h}=a.data.metadata,f=function(k){if(k)try{const b=`${ph}px`,w=document.createElement("canvas");w.setAttribute("width",b),w.setAttribute("height",b);const A=w.getContext("2d");if(!A)return;const E=A.createImageData(ph,ph),I=cJ(k,ph,ph);return E.data.set(I),A.putImageData(E,0,0),w.toDataURL()}catch{return}}(h);return U4({imageFallbackUrl:n,imageSources:r,imageTextAlternative:i||"",imageWidth:l,imageHeight:d},f?{imagePlaceholder:f}:null)}function wJ(a){return{linkName:a.data.name,linkHref:yJ(a)}}function yJ(a){const n=new URL(a.data.url);return n.searchParams.set("download","true"),n.toString()}var Qy=(a,n,r)=>new Promise((i,l)=>{var d=k=>{try{f(r.next(k))}catch(b){l(b)}},h=k=>{try{f(r.throw(k))}catch(b){l(b)}},f=k=>k.done?i(k.value):Promise.resolve(k.value).then(d,h);f((r=r.apply(a,n)).next())});class H4 extends pe{static get pluginName(){return"CKBoxUtils"}static get requires(){return["CloudServices"]}init(){return Qy(this,null,function*(){const n=this.editor,r=!!n.config.get("ckbox"),i=!!window.CKBox;if(!r&&!i)return;n.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:n.locale.uiLanguage,theme:"lark",tokenUrl:n.config.get("cloudServices.tokenUrl")});const l=n.plugins.get("CloudServices"),d=n.config.get("cloudServices.tokenUrl"),h=n.config.get("ckbox.tokenUrl");if(!h)throw new M("ckbox-plugin-missing-token-url",this);this._token=h==d?l.token:yield l.registerTokenUrl(h)})}getToken(){return this._token}getWorkspaceId(){const n=(0,this.editor.t)("Cannot access default workspace."),r=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),i=function(l,d){const[,h]=l.value.split("."),f=JSON.parse(atob(h)),k=f.auth&&f.auth.ckbox&&f.auth.ckbox.workspaces||[f.aud];return d?(f.auth&&f.auth.ckbox&&f.auth.ckbox.role)=="superadmin"||k.includes(d)?d:null:k[0]}(this._token,r);if(i==null)throw G("ckbox-access-default-workspace-error"),n;return i}getCategoryIdForFile(n,r){return Qy(this,null,function*(){const i=(0,this.editor.t)("Cannot determine a category for the uploaded file."),l=this.editor.config.get("ckbox.defaultUploadCategories"),d=this._getAvailableCategories(r),h=typeof n=="string"?(f=yield fJ(n,r),pJ[f]):function(w){const A=w.name,E=new RegExp("\\.(?<ext>[^.]+)$");return A.match(E).groups.ext.toLowerCase()}(n);var f;const k=yield d;if(!k)throw i;if(l){const w=Object.keys(l).find(A=>l[A].find(E=>E.toLowerCase()==h));if(w){const A=k.find(E=>E.id===w||E.name===w);if(!A)throw i;return A.id}}const b=k.find(w=>w.extensions.find(A=>A.toLowerCase()==h));if(!b)throw i;return b.id})}_getAvailableCategories(n){return Qy(this,null,function*(){const r=this.editor,i=this._token,{signal:l}=n,d=r.config.get("ckbox.serviceOrigin"),h=this.getWorkspaceId();try{const k=[];let b,w=0;do{const A=yield f(w);k.push(...A.items),b=A.totalCount-(w+50),w+=50}while(b>0);return k}catch{return l.throwIfAborted(),void G("ckbox-fetch-category-http-error")}function f(k){const b=new URL("categories",d);return b.searchParams.set("limit","50"),b.searchParams.set("offset",k.toString()),b.searchParams.set("workspaceId",h),F4({url:b,signal:l,authorization:i.value})}})}}var Zy=(a,n,r)=>new Promise((i,l)=>{var d=k=>{try{f(r.next(k))}catch(b){l(b)}},h=k=>{try{f(r.throw(k))}catch(b){l(b)}},f=k=>k.done?i(k.value):Promise.resolve(k.value).then(d,h);f((r=r.apply(a,n)).next())});class _J extends pe{static get requires(){return["ImageUploadEditing","ImageUploadProgress",li,W4]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return Zy(this,null,function*(){const n=this.editor,r=!!n.config.get("ckbox"),i=!!window.CKBox;if(!r&&!i)return;const l=n.plugins.get(li),d=n.plugins.get(H4);l.createUploadAdapter=k=>new CJ(k,n,d);const h=!n.config.get("ckbox.ignoreDataId"),f=n.plugins.get("ImageUploadEditing");h&&f.on("uploadComplete",(k,{imageElement:b,data:w})=>{n.model.change(A=>{A.setAttribute("ckboxImageId",w.ckboxImageId,b)})})})}}class CJ{constructor(n,r,i){this.loader=n,this.token=i.getToken(),this.ckboxUtils=i,this.editor=r,this.controller=new AbortController,this.serviceOrigin=r.config.get("ckbox.serviceOrigin")}upload(){return Zy(this,null,function*(){const n=this.ckboxUtils,r=this.editor.t,i=yield this.loader.file,l=yield n.getCategoryIdForFile(i,{signal:this.controller.signal}),d=new URL("assets",this.serviceOrigin),h=new FormData;return d.searchParams.set("workspaceId",n.getWorkspaceId()),h.append("categoryId",l),h.append("file",i),F4({method:"POST",url:d,data:h,onUploadProgress:f=>{f.lengthComputable&&(this.loader.uploadTotal=f.total,this.loader.uploaded=f.loaded)},signal:this.controller.signal,authorization:this.token.value}).then(f=>Zy(this,null,function*(){const k=z4(f.imageUrls);return{ckboxImageId:f.id,default:k.imageFallbackUrl,sources:k.imageSources}})).catch(()=>{const f=r("Cannot upload file:")+` ${i.name}.`;return Promise.reject(f)})})}abort(){this.controller.abort()}}class W4 extends pe{static get pluginName(){return"CKBoxEditing"}static get requires(){return["LinkEditing","PictureEditing",_J,H4]}init(){const n=this.editor;this._shouldBeInitialised()&&(this._checkImagePlugins(),G4()&&n.commands.add("ckbox",new bJ(n)))}afterInit(){const n=this.editor;this._shouldBeInitialised()&&(n.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()))}_shouldBeInitialised(){return!!this.editor.config.get("ckbox")||G4()}_checkImagePlugins(){const n=this.editor;n.plugins.has("ImageBlockEditing")||n.plugins.has("ImageInlineEditing")||G("ckbox-plugin-image-feature-missing",n)}_initSchema(){const n=this.editor.model.schema;n.extend("$text",{allowAttributes:"ckboxLinkId"}),n.isRegistered("imageBlock")&&n.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),n.isRegistered("imageInline")&&n.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),n.addAttributeCheck((r,i)=>{if(!r.last.getAttribute("linkHref")&&i==="ckboxLinkId")return!1})}_initConversion(){const n=this.editor;n.conversion.for("downcast").add(i=>{i.on("attribute:ckboxLinkId:imageBlock",(l,d,h)=>{const{writer:f,mapper:k,consumable:b}=h;if(!b.consume(d.item,l.name))return;const w=[...k.toViewElement(d.item).getChildren()].find(A=>A.name==="a");w&&(d.item.hasAttribute("ckboxLinkId")?f.setAttribute("data-ckbox-resource-id",d.item.getAttribute("ckboxLinkId"),w):f.removeAttribute("data-ckbox-resource-id",w))},{priority:"low"}),i.on("attribute:ckboxLinkId",(l,d,h)=>{const{writer:f,mapper:k,consumable:b}=h;if(b.consume(d.item,l.name)){if(d.attributeOldValue){const w=q4(f,d.attributeOldValue);f.unwrap(k.toViewRange(d.range),w)}if(d.attributeNewValue){const w=q4(f,d.attributeNewValue);if(d.item.is("selection")){const A=f.document.selection;f.wrap(A.getFirstRange(),w)}else f.wrap(k.toViewRange(d.range),w)}}},{priority:"low"})}),n.conversion.for("upcast").add(i=>{i.on("element:a",(l,d,h)=>{const{writer:f,consumable:k}=h;if(!d.viewItem.getAttribute("href")||!k.consume(d.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const b=d.viewItem.getAttribute("data-ckbox-resource-id");if(b)if(d.modelRange)for(let w of d.modelRange.getItems())w.is("$textProxy")&&(w=w.textNode),xJ(w)&&f.setAttribute("ckboxLinkId",b,w);else{const w=d.modelCursor.nodeBefore||d.modelCursor.parent;f.setAttribute("ckboxLinkId",b,w)}},{priority:"low"})}),n.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),n.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:i=>i.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}});const r=n.commands.get("replaceImageSource");r&&this.listenTo(r,"cleanupImage",(i,[l,d])=>{l.removeAttribute("ckboxImageId",d)})}_initFixers(){const n=this.editor,r=n.model,i=r.document.selection;r.document.registerPostFixer(function(l){return d=>{let h=!1;const f=l.model,k=l.commands.get("ckbox");if(!k)return h;for(const b of f.document.differ.getChanges()){if(b.type!=="insert"&&b.type!=="attribute")continue;const w=b.type==="insert"?new re(b.position,b.position.getShiftedBy(b.length)):b.range,A=b.type==="attribute"&&b.attributeKey==="linkHref"&&b.attributeNewValue===null;for(const E of w.getItems()){if(A&&E.hasAttribute("ckboxLinkId")){d.removeAttribute("ckboxLinkId",E),h=!0;continue}const I=AJ(E,k._chosenAssets);for(const O of I){const L=O.type==="image"?"ckboxImageId":"ckboxLinkId";O.id!==E.getAttribute(L)&&(d.setAttribute(L,O.id,E),h=!0)}}}return h}}(n)),r.document.registerPostFixer(function(l){return d=>!(l.hasAttribute("linkHref")||!l.hasAttribute("ckboxLinkId"))&&(d.removeSelectionAttribute("ckboxLinkId"),!0)}(i))}}function AJ(a,n){const r=a.is("element","imageInline")||a.is("element","imageBlock"),i=a.hasAttribute("linkHref");return[...n].filter(l=>l.type==="image"&&r?l.attributes.imageFallbackUrl===a.getAttribute("src"):l.type==="link"&&i?l.attributes.linkHref===a.getAttribute("linkHref"):void 0)}function q4(a,n){const r=a.createAttributeElement("a",{"data-ckbox-resource-id":n},{priority:5});return a.setCustomProperty("link",!0,r),r}function xJ(a){return!!a.is("$text")||!(!a.is("element","imageInline")&&!a.is("element","imageBlock"))}function G4(){return!!window.CKBox}var K4=c(1866),EJ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(K4.A,EJ),K4.A.locals;class SJ extends pe{static get pluginName(){return"CKFinderUI"}init(){const n=this.editor,r=n.ui.componentFactory,i=n.t;if(r.add("ckfinder",l=>{const d=this._createButton(At),h=l.t;return d.set({label:h("Insert image or file"),tooltip:!0}),d}),r.add("menuBar:ckfinder",l=>{const d=this._createButton(lr),h=l.t;return d.label=h("Image or file"),d}),n.plugins.has("ImageInsertUI")){const l=n.plugins.get("ImageInsertUI");l.registerIntegration({name:"assetManager",observable:()=>n.commands.get("ckfinder"),buttonViewCreator:()=>{const d=this.editor.ui.componentFactory.create("ckfinder");return d.icon=Ze.imageAssetManager,d.bind("label").to(l,"isImageSelected",h=>i(h?"Replace image with file manager":"Insert image with file manager")),d},formViewCreator:()=>{const d=this.editor.ui.componentFactory.create("ckfinder");return d.icon=Ze.imageAssetManager,d.withText=!0,d.bind("label").to(l,"isImageSelected",h=>i(h?"Replace with file manager":"Insert with file manager")),d.on("execute",()=>{l.dropdownView.isOpen=!1}),d}})}}_createButton(n){const r=this.editor,i=new n(r.locale),l=r.commands.get("ckfinder");return i.icon=Ze.browseFiles,i.bind("isEnabled").to(l),i.on("execute",()=>{r.execute("ckfinder"),r.editing.view.focus()}),i}}class TJ extends dt{constructor(n){super(n),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const n=this.editor.commands.get("insertImage"),r=this.editor.commands.get("link");this.isEnabled=n.isEnabled||r.isEnabled}execute(){const n=this.editor,r=this.editor.config.get("ckfinder.openerMethod")||"modal";if(r!="popup"&&r!="modal")throw new M("ckfinder-unknown-openermethod",n);const i=this.editor.config.get("ckfinder.options")||{};i.chooseFiles=!0;const l=i.onInit;i.language||(i.language=n.locale.uiLanguage),i.onInit=d=>{l&&l(d),d.on("files:choose",h=>{const f=h.data.files.toArray(),k=f.filter(A=>!A.isImage()),b=f.filter(A=>A.isImage());for(const A of k)n.execute("link",A.getUrl());const w=[];for(const A of b){const E=A.getUrl();w.push(E||d.request("file:getProxyUrl",{file:A}))}w.length&&Y4(n,w)}),d.on("file:choose:resizedImage",h=>{const f=h.data.resizedUrl;if(f)Y4(n,[f]);else{const k=n.plugins.get("Notification"),b=n.locale.t;k.showWarning(b("Could not obtain resized image URL."),{title:b("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[r](i)}}function Y4(a,n){if(a.commands.get("insertImage").isEnabled)a.execute("insertImage",{source:n});else{const r=a.plugins.get("Notification"),i=a.locale.t;r.showWarning(i("Could not insert image at the current position."),{title:i("Inserting image failed"),namespace:"ckfinder"})}}class IJ extends pe{static get pluginName(){return"CKFinderEditing"}static get requires(){return[By,"LinkEditing"]}init(){const n=this.editor;if(!n.plugins.has("ImageBlockEditing")&&!n.plugins.has("ImageInlineEditing"))throw new M("ckfinder-missing-image-plugin",n);n.commands.add("ckfinder",new TJ(n))}}class DJ extends pe{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",li]}init(){const n=this.editor,r=n.plugins.get("CloudServices"),i=r.token,l=r.uploadUrl;if(!i)return;const d=n.plugins.get("CloudServicesCore");this._uploadGateway=d.createUploadGateway(i,l),n.plugins.get(li).createUploadAdapter=h=>new MJ(this._uploadGateway,h)}}class MJ{constructor(n,r){this.uploadGateway=n,this.loader=r}upload(){return this.loader.file.then(n=>(this.fileUploader=this.uploadGateway.upload(n),this.fileUploader.on("progress",(r,i)=>{this.loader.uploadTotal=i.total,this.loader.uploaded=i.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class PJ extends dt{constructor(n){super(n),this._isEnabledBasedOnSelection=!1}refresh(){const n=this.editor.model,r=qn(n.document.selection.getSelectedBlocks());this.value=!!r&&r.is("element","paragraph"),this.isEnabled=!!r&&Q4(r,n.schema)}execute(n={}){const r=this.editor.model,i=r.document,l=n.selection||i.selection;r.canEditAt(l)&&r.change(d=>{const h=l.getSelectedBlocks();for(const f of h)!f.is("element","paragraph")&&Q4(f,r.schema)&&d.rename(f,"paragraph")})}}function Q4(a,n){return n.checkChild(a.parent,"paragraph")&&!n.isObject(a)}class NJ extends dt{constructor(n){super(n),this._isEnabledBasedOnSelection=!1}execute(n){const r=this.editor.model,i=n.attributes;let l=n.position;r.canEditAt(l)&&r.change(d=>{if(l=this._findPositionToInsertParagraph(l,d),!l)return;const h=d.createElement("paragraph");i&&r.schema.setAllowedAttributes(h,i,d),r.insertContent(h,l),d.setSelection(h,"in")})}_findPositionToInsertParagraph(n,r){const i=this.editor.model;if(i.schema.checkChild(n,"paragraph"))return n;const l=i.schema.findAllowedParent(n,"paragraph");if(!l)return null;const d=n.parent,h=i.schema.checkChild(d,"$text");return d.isEmpty||h&&n.isAtEnd?i.createPositionAfter(d):!d.isEmpty&&h&&n.isAtStart?i.createPositionBefore(d):r.split(n,l).position}}const Z4=class extends pe{static get pluginName(){return"Paragraph"}init(){const a=this.editor,n=a.model;a.commands.add("paragraph",new PJ(a)),a.commands.add("insertParagraph",new NJ(a)),n.schema.register("paragraph",{inheritAllFrom:"$block"}),a.conversion.elementToElement({model:"paragraph",view:"p"}),a.conversion.for("upcast").elementToElement({model:(r,{writer:i})=>Z4.paragraphLikeElements.has(r.name)?r.isEmpty?null:i.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let Jy=Z4;Jy.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class RJ extends dt{constructor(n,r){super(n),this.modelElements=r}refresh(){const n=qn(this.editor.model.document.selection.getSelectedBlocks());this.value=!!n&&this.modelElements.includes(n.name)&&n.name,this.isEnabled=!!n&&this.modelElements.some(r=>J4(n,r,this.editor.model.schema))}execute(n){const r=this.editor.model,i=r.document,l=n.value;r.change(d=>{const h=Array.from(i.selection.getSelectedBlocks()).filter(f=>J4(f,l,r.schema));for(const f of h)f.is("element",l)||d.rename(f,l)})}}function J4(a,n,r){return r.checkChild(a.parent,n)&&!r.isObject(a)}const X4="paragraph";class OJ extends pe{static get pluginName(){return"HeadingEditing"}constructor(n){super(n),n.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Jy]}init(){const n=this.editor,r=n.config.get("heading.options"),i=[];for(const l of r)l.model!=="paragraph"&&(n.model.schema.register(l.model,{inheritAllFrom:"$block"}),n.conversion.elementToElement(l),i.push(l.model));this._addDefaultH1Conversion(n),n.commands.add("heading",new RJ(n,i))}afterInit(){const n=this.editor,r=n.commands.get("enter"),i=n.config.get("heading.options");r&&this.listenTo(r,"afterExecute",(l,d)=>{const h=n.model.document.selection.getFirstPosition().parent;i.some(f=>h.is("element",f.model))&&!h.is("element",X4)&&h.childCount===0&&d.writer.rename(h,X4)})}_addDefaultH1Conversion(n){n.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:j.low+1})}}var eP=c(6269),BJ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(eP.A,BJ),eP.A.locals;class LJ extends pe{static get pluginName(){return"HeadingUI"}init(){const n=this.editor,r=n.t,i=function(h){const f=h.t,k={Paragraph:f("Paragraph"),"Heading 1":f("Heading 1"),"Heading 2":f("Heading 2"),"Heading 3":f("Heading 3"),"Heading 4":f("Heading 4"),"Heading 5":f("Heading 5"),"Heading 6":f("Heading 6")};return h.config.get("heading.options").map(b=>{const w=k[b.title];return w&&w!=b.title&&(b.title=w),b})}(n),l=r("Choose heading"),d=r("Heading");n.ui.componentFactory.add("heading",h=>{const f={},k=new ti,b=n.commands.get("heading"),w=n.commands.get("paragraph"),A=[b];for(const I of i){const O={type:"button",model:new U5({label:I.title,class:I.class,role:"menuitemradio",withText:!0})};I.model==="paragraph"?(O.model.bind("isOn").to(w,"value"),O.model.set("commandName","paragraph"),A.push(w)):(O.model.bind("isOn").to(b,"value",L=>L===I.model),O.model.set({commandName:"heading",commandValue:I.model})),k.add(O),f[I.model]=I.title}const E=is(h);return h5(E,k,{ariaLabel:d,role:"menu"}),E.buttonView.set({ariaLabel:d,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:d}),E.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),E.bind("isEnabled").toMany(A,"isEnabled",(...I)=>I.some(O=>O)),E.buttonView.bind("label").to(b,"value",w,"value",(I,O)=>{const L=O?"paragraph":I;return typeof L=="boolean"?l:f[L]?f[L]:l}),E.buttonView.bind("ariaLabel").to(b,"value",w,"value",(I,O)=>{const L=O?"paragraph":I;return typeof L=="boolean"?d:f[L]?`${f[L]}, ${d}`:d}),this.listenTo(E,"execute",I=>{const{commandName:O,commandValue:L}=I.source;n.execute(O,L?{value:L}:void 0),n.editing.view.focus()}),E}),n.ui.componentFactory.add("menuBar:heading",h=>{const f=new Nc(h),k=n.commands.get("heading"),b=n.commands.get("paragraph"),w=[k],A=new Fy(h);f.set({class:"ck-heading-dropdown"}),A.set({ariaLabel:r("Heading"),role:"menu"}),f.buttonView.set({label:r("Heading")}),f.panelView.children.add(A);for(const E of i){const I=new jy(h,f),O=new lr(h);I.children.add(O),A.items.add(I),O.set({label:E.title,role:"menuitemradio",class:E.class}),O.bind("ariaChecked").to(O,"isOn"),O.delegate("execute").to(f),O.on("execute",()=>{const L=E.model==="paragraph"?"paragraph":"heading";n.execute(L,{value:E.model}),n.editing.view.focus()}),E.model==="paragraph"?(O.bind("isOn").to(b,"value"),w.push(b)):O.bind("isOn").to(k,"value",L=>L===E.model)}return f.bind("isEnabled").toMany(w,"isEnabled",(...E)=>E.some(I=>I)),f})}}function tP(a){return a.createContainerElement("figure",{class:"image"},[a.createEmptyElement("img"),a.createSlot("children")])}function nP(a,n){const r=a.plugins.get("ImageUtils"),i=a.plugins.has("ImageInlineEditing")&&a.plugins.has("ImageBlockEditing");return d=>r.isInlineImageView(d)?i&&(d.getStyle("display")=="block"||d.findAncestor(r.isBlockImageView)?"imageBlock":"imageInline")!==n?null:l(d):null;function l(d){const h={name:!0};return d.hasAttribute("src")&&(h.attributes=["src"]),h}}function Xy(a,n){const r=qn(n.getSelectedBlocks());return!r||a.isObject(r)||r.isEmpty&&r.name!="listItem"?"imageBlock":"imageInline"}function Am(a){return a&&a.endsWith("px")?parseInt(a):null}function oP(a){const n=Am(a.getStyle("width")),r=Am(a.getStyle("height"));return!(!n||!r)}var jJ=Object.defineProperty,rP=Object.getOwnPropertySymbols,zJ=Object.prototype.hasOwnProperty,FJ=Object.prototype.propertyIsEnumerable,iP=(a,n,r)=>n in a?jJ(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,sP=(a,n)=>{for(var r in n||(n={}))zJ.call(n,r)&&iP(a,r,n[r]);if(rP)for(var r of rP(n))FJ.call(n,r)&&iP(a,r,n[r]);return a};const $J=/^(image|image-inline)$/;class Vo extends pe{constructor(){super(...arguments),this._domEmitter=new(Er())}static get pluginName(){return"ImageUtils"}isImage(n){return this.isInlineImage(n)||this.isBlockImage(n)}isInlineImageView(n){return!!n&&n.is("element","img")}isBlockImageView(n){return!!n&&n.is("element","figure")&&n.hasClass("image")}insertImage(n={},r=null,i=null,l={}){const d=this.editor,h=d.model,f=h.document.selection,k=aP(d,r||f,i);n=sP(sP({},Object.fromEntries(f.getAttributes())),n);for(const b in n)h.schema.checkAttribute(k,b)||delete n[b];return h.change(b=>{const{setImageSizes:w=!0}=l,A=b.createElement(k,n);return h.insertObject(A,r,null,{setSelection:"on",findOptimalPosition:r||k=="imageInline"?void 0:"auto"}),A.parent?(w&&this.setImageNaturalSizeAttributes(A),A):null})}setImageNaturalSizeAttributes(n){const r=n.getAttribute("src");r&&(n.getAttribute("width")||n.getAttribute("height")||this.editor.model.change(i=>{const l=new m.window.Image;this._domEmitter.listenTo(l,"load",()=>{n.getAttribute("width")||n.getAttribute("height")||this.editor.model.enqueueChange(i.batch,d=>{d.setAttribute("width",l.naturalWidth,n),d.setAttribute("height",l.naturalHeight,n)}),this._domEmitter.stopListening(l,"load")}),l.src=r}))}getClosestSelectedImageWidget(n){const r=n.getFirstPosition();if(!r)return null;const i=n.getSelectedElement();if(i&&this.isImageWidget(i))return i;let l=r.parent;for(;l;){if(l.is("element")&&this.isImageWidget(l))return l;l=l.parent}return null}getClosestSelectedImageElement(n){const r=n.getSelectedElement();return this.isImage(r)?r:n.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(n){return n.findAncestor({classes:$J})}isImageAllowed(){const n=this.editor.model.document.selection;return function(r,i){if(aP(r,i,null)=="imageBlock"){const d=function(h,f){const k=t4(h,f),b=k.start.parent;return b.isEmpty&&!b.is("element","$root")?b.parent:b}(i,r.model);if(r.model.schema.checkChild(d,"imageBlock"))return!0}else if(r.model.schema.checkChild(i.focus,"imageInline"))return!0;return!1}(this.editor,n)&&function(r){return[...r.focus.getAncestors()].every(i=>!i.is("element","imageBlock"))}(n)}toImageWidget(n,r,i){return r.setCustomProperty("image",!0,n),Wy(n,r,{label:()=>{const l=this.findViewImgElement(n).getAttribute("alt");return l?`${l} ${i}`:i}})}isImageWidget(n){return!!n.getCustomProperty("image")&&Sn(n)}isBlockImage(n){return!!n&&n.is("element","imageBlock")}isInlineImage(n){return!!n&&n.is("element","imageInline")}findViewImgElement(n){if(this.isInlineImageView(n))return n;const r=this.editor.editing.view;for(const{item:i}of r.createRangeIn(n))if(this.isInlineImageView(i))return i}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function aP(a,n,r){const i=a.model.schema,l=a.config.get("image.insert.type");return a.plugins.has("ImageBlockEditing")?a.plugins.has("ImageInlineEditing")?r||(l==="inline"?"imageInline":l!=="auto"?"imageBlock":n.is("selection")?Xy(i,n):i.checkChild(n,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class VJ extends dt{refresh(){const n=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled&&n.hasAttribute("alt")?this.value=n.getAttribute("alt"):this.value=!1}execute(n){const r=this.editor,i=r.plugins.get("ImageUtils"),l=r.model,d=i.getClosestSelectedImageElement(l.document.selection);l.change(h=>{h.setAttribute("alt",n.newValue,d)})}}class UJ extends pe{static get requires(){return[Vo]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new VJ(this.editor))}}var lP=c(4062),HJ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(lP.A,HJ),lP.A.locals;var cP=c(2722),WJ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(cP.A,WJ),cP.A.locals;class qJ extends Le{constructor(n){super(n);const r=this.locale.t;this.focusTracker=new Gn,this.keystrokes=new Io,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(r("Save"),Ze.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(r("Cancel"),Ze.cancel,"ck-button-cancel","cancel"),this._focusables=new Sr,this._focusCycler=new Ir({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),Pg({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(n,r,i,l){const d=new At(this.locale);return d.set({label:n,icon:r,tooltip:!0}),d.extendTemplate({attributes:{class:i}}),l&&d.delegate("execute").to(this,l),d}_createLabeledInputView(){const n=this.locale.t,r=new em(this.locale,om);return r.label=n("Text alternative"),r}}function dP(a){const n=a.editing.view,r=Fo.defaultPositions,i=a.plugins.get("ImageUtils");return{target:n.domConverter.mapViewToDom(i.getClosestSelectedImageWidget(n.document.selection)),positions:[r.northArrowSouth,r.northArrowSouthWest,r.northArrowSouthEast,r.southArrowNorth,r.southArrowNorthWest,r.southArrowNorthEast,r.viewportStickyNorth]}}class GJ extends pe{static get requires(){return[cm]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const n=this.editor,r=n.t;n.ui.componentFactory.add("imageTextAlternative",i=>{const l=n.commands.get("imageTextAlternative"),d=new At(i);return d.set({label:r("Change image text alternative"),icon:Ze.textAlternative,tooltip:!0}),d.bind("isEnabled").to(l,"isEnabled"),d.bind("isOn").to(l,"value",h=>!!h),this.listenTo(d,"execute",()=>{this._showForm()}),d})}_createForm(){const n=this.editor,r=n.editing.view.document,i=n.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Uw(qJ))(n.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{n.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(l,d)=>{this._hideForm(!0),d()}),this.listenTo(n.ui,"update",()=>{i.getClosestSelectedImageWidget(r.selection)?this._isVisible&&function(l){const d=l.plugins.get("ContextualBalloon");if(l.plugins.get("ImageUtils").getClosestSelectedImageWidget(l.editing.view.document.selection)){const h=dP(l);d.updatePosition(h)}}(n):this._hideForm(!0)}),Mg({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const n=this.editor,r=n.commands.get("imageTextAlternative"),i=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:dP(n)}),i.fieldView.value=i.fieldView.element.value=r.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(n=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),n&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class uP extends pe{static get requires(){return[UJ,GJ]}static get pluginName(){return"ImageTextAlternative"}}function hP(a,n){const r=(i,l,d)=>{if(!d.consumable.consume(l.item,i.name))return;const h=d.writer,f=d.mapper.toViewElement(l.item),k=a.findViewImgElement(f);l.attributeNewValue===null?(h.removeAttribute("srcset",k),h.removeAttribute("sizes",k)):l.attributeNewValue&&(h.setAttribute("srcset",l.attributeNewValue,k),h.setAttribute("sizes","100vw",k))};return i=>{i.on(`attribute:srcset:${n}`,r)}}function xm(a,n,r){const i=(l,d,h)=>{if(!h.consumable.consume(d.item,l.name))return;const f=h.writer,k=h.mapper.toViewElement(d.item),b=a.findViewImgElement(k);f.setAttribute(d.attributeKey,d.attributeNewValue||"",b)};return l=>{l.on(`attribute:${r}:${n}`,i)}}class pP extends Ei{observe(n){this.listenTo(n,"load",(r,i)=>{const l=i.target;this.checkShouldIgnoreEventFromTarget(l)||l.tagName=="IMG"&&this._fireEvents(i)},{useCapture:!0})}stopObserving(n){this.stopListening(n)}_fireEvents(n){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",n))}}var KJ=Object.defineProperty,fP=Object.getOwnPropertySymbols,YJ=Object.prototype.hasOwnProperty,QJ=Object.prototype.propertyIsEnumerable,gP=(a,n,r)=>n in a?KJ(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,Em=(a,n)=>{for(var r in n||(n={}))YJ.call(n,r)&&gP(a,r,n[r]);if(fP)for(var r of fP(n))QJ.call(n,r)&&gP(a,r,n[r]);return a};class ZJ extends dt{constructor(n){super(n);const r=n.config.get("image.insert.type");n.plugins.has("ImageBlockEditing")||r==="block"&&U("image-block-plugin-required"),n.plugins.has("ImageInlineEditing")||r==="inline"&&U("image-inline-plugin-required")}refresh(){const n=this.editor.plugins.get("ImageUtils");this.isEnabled=n.isImageAllowed()}execute(n){const r=qt(n.source),i=this.editor.model.document.selection,l=this.editor.plugins.get("ImageUtils"),d=Object.fromEntries(i.getAttributes());r.forEach((h,f)=>{const k=i.getSelectedElement();if(typeof h=="string"&&(h={src:h}),f&&k&&l.isImage(k)){const b=this.editor.model.createPositionAfter(k);l.insertImage(Em(Em({},h),d),b)}else l.insertImage(Em(Em({},h),d))})}}class JJ extends dt{constructor(n){super(n),this.decorate("cleanupImage")}refresh(){const n=this.editor.plugins.get("ImageUtils"),r=this.editor.model.document.selection.getSelectedElement();this.isEnabled=n.isImage(r),this.value=this.isEnabled?r.getAttribute("src"):null}execute(n){const r=this.editor.model.document.selection.getSelectedElement(),i=this.editor.plugins.get("ImageUtils");this.editor.model.change(l=>{l.setAttribute("src",n.source,r),this.cleanupImage(l,r),i.setImageNaturalSizeAttributes(r)})}cleanupImage(n,r){n.removeAttribute("srcset",r),n.removeAttribute("sizes",r),n.removeAttribute("sources",r),n.removeAttribute("width",r),n.removeAttribute("height",r),n.removeAttribute("alt",r)}}class e_ extends pe{static get requires(){return[Vo]}static get pluginName(){return"ImageEditing"}init(){const n=this.editor,r=n.conversion;n.editing.view.addObserver(pP),r.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const i=new ZJ(n),l=new JJ(n);n.commands.add("insertImage",i),n.commands.add("replaceImageSource",l),n.commands.add("imageInsert",i)}}class mP extends pe{static get requires(){return[Vo]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(n){const r=this.editor,i=r.plugins.get("ImageUtils"),l=n==="imageBlock"?"figure":"img";function d(h,f,k,b){h.on(`attribute:${f}:${n}`,(w,A,E)=>{if(!E.consumable.consume(A.item,w.name))return;const I=E.writer,O=E.mapper.toViewElement(A.item),L=i.findViewImgElement(O);if(A.attributeNewValue!==null?I.setAttribute(k,A.attributeNewValue,L):I.removeAttribute(k,L),A.item.hasAttribute("sources"))return;const F=A.item.hasAttribute("resizedWidth");if(n==="imageInline"&&!F&&!b)return;const W=A.item.getAttribute("width"),Y=A.item.getAttribute("height");W&&Y&&I.setStyle("aspect-ratio",`${W}/${Y}`,L)})}r.conversion.for("upcast").attributeToAttribute({view:{name:l,styles:{width:/.+/}},model:{key:"width",value:h=>oP(h)?Am(h.getStyle("width")):null}}).attributeToAttribute({view:{name:l,key:"width"},model:"width"}).attributeToAttribute({view:{name:l,styles:{height:/.+/}},model:{key:"height",value:h=>oP(h)?Am(h.getStyle("height")):null}}).attributeToAttribute({view:{name:l,key:"height"},model:"height"}),r.conversion.for("editingDowncast").add(h=>{d(h,"width","width",!0),d(h,"height","height",!0)}),r.conversion.for("dataDowncast").add(h=>{d(h,"width","width",!1),d(h,"height","height",!1)})}}class kP extends dt{constructor(n,r){super(n),this._modelElementName=r}refresh(){const n=this.editor.plugins.get("ImageUtils"),r=n.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=n.isInlineImage(r):this.isEnabled=n.isBlockImage(r)}execute(n={}){const r=this.editor,i=this.editor.model,l=r.plugins.get("ImageUtils"),d=l.getClosestSelectedImageElement(i.document.selection),h=Object.fromEntries(d.getAttributes());return h.src||h.uploadId?i.change(f=>{const{setImageSizes:k=!0}=n,b=Array.from(i.markers).filter(E=>E.getRange().containsItem(d)),w=l.insertImage(h,i.createSelection(d,"on"),this._modelElementName,{setImageSizes:k});if(!w)return null;const A=f.createRangeOn(w);for(const E of b){const I=E.getRange(),O=I.root.rootName!="$graveyard"?I.getJoined(A,!0):A;f.updateMarker(E,{range:O})}return{oldElement:d,newElement:w}}):null}}var bP=c(7378),XJ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(bP.A,XJ),bP.A.locals;class vP extends pe{static get requires(){return[Vo]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const n=this.editor.model.schema;n.isRegistered("imageBlock")&&n.extend("imageBlock",{allowAttributes:["placeholder"]}),n.isRegistered("imageInline")&&n.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const n=this.editor,r=n.conversion,i=n.plugins.get("ImageUtils");r.for("editingDowncast").add(l=>{l.on("attribute:placeholder",(d,h,f)=>{if(!f.consumable.test(h.item,d.name)||!h.item.is("element","imageBlock")&&!h.item.is("element","imageInline"))return;f.consumable.consume(h.item,d.name);const k=f.writer,b=f.mapper.toViewElement(h.item),w=i.findViewImgElement(b);h.attributeNewValue?(k.addClass("image_placeholder",w),k.setStyle("background-image",`url(${h.attributeNewValue})`,w),k.setCustomProperty("editingPipeline:doNotReuseOnce",!0,w)):(k.removeClass("image_placeholder",w),k.removeStyle("background-image",w))})})}_setupLoadListener(){const n=this.editor,r=n.model,i=n.editing,l=i.view,d=n.plugins.get("ImageUtils");l.addObserver(pP),this.listenTo(l.document,"imageLoaded",(h,f)=>{const k=l.domConverter.mapDomToView(f.target);if(!k)return;const b=d.getImageWidgetFromImageView(k);if(!b)return;const w=i.mapper.toModelElement(b);w&&w.hasAttribute("placeholder")&&r.enqueueChange({isUndoable:!1},A=>{A.removeAttribute("placeholder",w)})})}}class wP extends pe{static get requires(){return[e_,mP,Vo,vP,Dr]}static get pluginName(){return"ImageBlockEditing"}init(){const n=this.editor;n.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),n.plugins.has("ImageInlineEditing")&&(n.commands.add("imageTypeBlock",new kP(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const n=this.editor,r=n.t,i=n.conversion,l=n.plugins.get("ImageUtils");i.for("dataDowncast").elementToStructure({model:"imageBlock",view:(d,{writer:h})=>tP(h)}),i.for("editingDowncast").elementToStructure({model:"imageBlock",view:(d,{writer:h})=>l.toImageWidget(tP(h),h,r("image widget"))}),i.for("downcast").add(xm(l,"imageBlock","src")).add(xm(l,"imageBlock","alt")).add(hP(l,"imageBlock")),i.for("upcast").elementToElement({view:nP(n,"imageBlock"),model:(d,{writer:h})=>h.createElement("imageBlock",d.hasAttribute("src")?{src:d.getAttribute("src")}:void 0)}).add(function(d){const h=(f,k,b)=>{if(!b.consumable.test(k.viewItem,{name:!0,classes:"image"}))return;const w=d.findViewImgElement(k.viewItem);if(!w||!b.consumable.test(w,{name:!0}))return;b.consumable.consume(k.viewItem,{name:!0,classes:"image"});const A=qn(b.convertItem(w,k.modelCursor).modelRange.getItems());A?(b.convertChildren(k.viewItem,A),b.updateConversionResult(A,k)):b.consumable.revert(k.viewItem,{name:!0,classes:"image"})};return f=>{f.on("element:figure",h)}}(l))}_setupClipboardIntegration(){const n=this.editor,r=n.model,i=n.editing.view,l=n.plugins.get("ImageUtils"),d=n.plugins.get("ClipboardPipeline");this.listenTo(d,"inputTransformation",(h,f)=>{const k=Array.from(f.content.getChildren());let b;if(!k.every(l.isInlineImageView))return;b=f.targetRanges?n.editing.mapper.toModelRange(f.targetRanges[0]):r.document.selection.getFirstRange();const w=r.createSelection(b);if(Xy(r.schema,w)==="imageBlock"){const A=new os(i.document),E=k.map(I=>A.createElement("figure",{class:"image"},I));f.content=A.createDocumentFragment(E)}}),this.listenTo(d,"contentInsertion",(h,f)=>{f.method==="paste"&&r.change(k=>{const b=k.createRangeIn(f.content);for(const w of b.getItems())w.is("element","imageBlock")&&l.setImageNaturalSizeAttributes(w)})})}}var yP=c(3350),eX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(yP.A,eX),yP.A.locals;class tX extends Le{constructor(n,r=[]){super(n),this.focusTracker=new Gn,this.keystrokes=new Io,this._focusables=new Sr,this.children=this.createCollection(),this._focusCycler=new Ir({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const i of r)this.children.add(i),this._focusables.add(i),i instanceof AK&&this._focusables.addMany(i.children);if(this._focusables.length>1)for(const i of this._focusables)nX(i)&&(i.focusCycler.on("forwardCycle",l=>{this._focusCycler.focusNext(),l.stop()}),i.focusCycler.on("backwardCycle",l=>{this._focusCycler.focusPrevious(),l.stop()}));this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),Pg({view:this});for(const r of this._focusables)this.focusTracker.add(r.element);this.keystrokes.listenTo(this.element);const n=r=>r.stopPropagation();this.keystrokes.set("arrowright",n),this.keystrokes.set("arrowleft",n),this.keystrokes.set("arrowup",n),this.keystrokes.set("arrowdown",n)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}function nX(a){return"focusCycler"in a}class _P extends pe{constructor(n){super(n),this._integrations=new Map,n.config.define("image.insert.integrations",["upload","assetManager","url"])}static get pluginName(){return"ImageInsertUI"}static get requires(){return[Vo]}init(){const n=this.editor,r=n.model.document.selection,i=n.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(n.model.document,"change",()=>{this.isImageSelected=i.isImage(r.getSelectedElement())});const l=d=>this._createToolbarComponent(d);n.ui.componentFactory.add("insertImage",l),n.ui.componentFactory.add("imageInsert",l)}registerIntegration({name:n,observable:r,buttonViewCreator:i,formViewCreator:l,requiresForm:d}){this._integrations.has(n)&&U("image-insert-integration-exists",{name:n}),this._integrations.set(n,{observable:r,buttonViewCreator:i,formViewCreator:l,requiresForm:!!d})}_createToolbarComponent(n){const r=this.editor,i=n.t,l=this._prepareIntegrations();if(!l.length)return null;let d;const h=l[0];if(l.length==1){if(!h.requiresForm)return h.buttonViewCreator(!0);d=h.buttonViewCreator(!0)}else{const b=h.buttonViewCreator(!1);d=new nm(n,b),d.tooltip=!0,d.bind("label").to(this,"isImageSelected",w=>i(w?"Replace image":"Insert image"))}const f=this.dropdownView=is(n,d),k=l.map(({observable:b})=>typeof b=="function"?b():b);return f.bind("isEnabled").toMany(k,"isEnabled",(...b)=>b.some(w=>w)),f.once("change:isOpen",()=>{const b=l.map(({formViewCreator:A})=>A(l.length==1)),w=new tX(r.locale,b);f.panelView.children.add(w)}),f}_prepareIntegrations(){const n=this.editor.config.get("image.insert.integrations"),r=[];if(!n.length)return U("image-insert-integrations-not-specified"),r;for(const i of n)this._integrations.has(i)?r.push(this._integrations.get(i)):["upload","assetManager","url"].includes(i)||U("image-insert-unknown-integration",{item:i});return r.length||U("image-insert-integrations-not-registered"),r}}var CP=c(265),oX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(CP.A,oX),CP.A.locals;class rX extends pe{static get requires(){return[wP,uh,uP,_P]}static get pluginName(){return"ImageBlock"}}class iX extends pe{static get requires(){return[e_,mP,Vo,vP,Dr]}static get pluginName(){return"ImageInlineEditing"}init(){const n=this.editor,r=n.model.schema;r.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),r.addChildCheck((i,l)=>{if(i.endsWith("caption")&&l.name==="imageInline")return!1}),this._setupConversion(),n.plugins.has("ImageBlockEditing")&&(n.commands.add("imageTypeInline",new kP(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const n=this.editor,r=n.t,i=n.conversion,l=n.plugins.get("ImageUtils");i.for("dataDowncast").elementToElement({model:"imageInline",view:(d,{writer:h})=>h.createEmptyElement("img")}),i.for("editingDowncast").elementToStructure({model:"imageInline",view:(d,{writer:h})=>l.toImageWidget(function(f){return f.createContainerElement("span",{class:"image-inline"},f.createEmptyElement("img"))}(h),h,r("image widget"))}),i.for("downcast").add(xm(l,"imageInline","src")).add(xm(l,"imageInline","alt")).add(hP(l,"imageInline")),i.for("upcast").elementToElement({view:nP(n,"imageInline"),model:(d,{writer:h})=>h.createElement("imageInline",d.hasAttribute("src")?{src:d.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const n=this.editor,r=n.model,i=n.editing.view,l=n.plugins.get("ImageUtils"),d=n.plugins.get("ClipboardPipeline");this.listenTo(d,"inputTransformation",(h,f)=>{const k=Array.from(f.content.getChildren());let b;if(!k.every(l.isBlockImageView))return;b=f.targetRanges?n.editing.mapper.toModelRange(f.targetRanges[0]):r.document.selection.getFirstRange();const w=r.createSelection(b);if(Xy(r.schema,w)==="imageInline"){const A=new os(i.document),E=k.map(I=>I.childCount===1?(Array.from(I.getAttributes()).forEach(O=>A.setAttribute(...O,l.findViewImgElement(I))),I.getChild(0)):I);f.content=A.createDocumentFragment(E)}}),this.listenTo(d,"contentInsertion",(h,f)=>{f.method==="paste"&&r.change(k=>{const b=k.createRangeIn(f.content);for(const w of b.getItems())w.is("element","imageInline")&&l.setImageNaturalSizeAttributes(w)})})}}class sX extends pe{static get requires(){return[iX,uh,uP,_P]}static get pluginName(){return"ImageInline"}}class AP extends pe{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Vo]}getCaptionFromImageModelElement(n){for(const r of n.getChildren())if(r&&r.is("element","caption"))return r;return null}getCaptionFromModelSelection(n){const r=this.editor.plugins.get("ImageUtils"),i=n.getFirstPosition().findAncestor("caption");return i&&r.isBlockImage(i.parent)?i:null}matchImageCaptionViewElement(n){const r=this.editor.plugins.get("ImageUtils");return n.name=="figcaption"&&r.isBlockImageView(n.parent)?{name:!0}:null}}class aX extends dt{refresh(){const n=this.editor,r=n.plugins.get("ImageCaptionUtils"),i=n.plugins.get("ImageUtils");if(!n.plugins.has(wP))return this.isEnabled=!1,void(this.value=!1);const l=n.model.document.selection,d=l.getSelectedElement();if(!d){const h=r.getCaptionFromModelSelection(l);return this.isEnabled=!!h,void(this.value=!!h)}this.isEnabled=i.isImage(d),this.isEnabled?this.value=!!r.getCaptionFromImageModelElement(d):this.value=!1}execute(n={}){const{focusCaptionOnShow:r}=n;this.editor.model.change(i=>{this.value?this._hideImageCaption(i):this._showImageCaption(i,r)})}_showImageCaption(n,r){const i=this.editor.model.document.selection,l=this.editor.plugins.get("ImageCaptionEditing"),d=this.editor.plugins.get("ImageUtils");let h=i.getSelectedElement();const f=l._getSavedCaption(h);d.isInlineImage(h)&&(this.editor.execute("imageTypeBlock"),h=i.getSelectedElement());const k=f||n.createElement("caption");n.append(k,h),r&&n.setSelection(k,"in")}_hideImageCaption(n){const r=this.editor,i=r.model.document.selection,l=r.plugins.get("ImageCaptionEditing"),d=r.plugins.get("ImageCaptionUtils");let h,f=i.getSelectedElement();f?h=d.getCaptionFromImageModelElement(f):(h=d.getCaptionFromModelSelection(i),f=h.parent),l._saveCaption(f,h),n.setSelection(f,"on"),n.remove(h)}}class lX extends pe{constructor(n){super(n),this._savedCaptionsMap=new WeakMap}static get requires(){return[Vo,AP]}static get pluginName(){return"ImageCaptionEditing"}init(){const n=this.editor,r=n.model.schema;r.isRegistered("caption")?r.extend("caption",{allowIn:"imageBlock"}):r.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),n.commands.add("toggleImageCaption",new aX(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const n=this.editor,r=n.editing.view,i=n.plugins.get("ImageUtils"),l=n.plugins.get("ImageCaptionUtils"),d=n.t;n.conversion.for("upcast").elementToElement({view:h=>l.matchImageCaptionViewElement(h),model:"caption"}),n.conversion.for("dataDowncast").elementToElement({model:"caption",view:(h,{writer:f})=>i.isBlockImage(h.parent)?f.createContainerElement("figcaption"):null}),n.conversion.for("editingDowncast").elementToElement({model:"caption",view:(h,{writer:f})=>{if(!i.isBlockImage(h.parent))return null;const k=f.createEditableElement("figcaption");f.setCustomProperty("imageCaption",!0,k),k.placeholder=d("Enter image caption"),VT({view:r,element:k,keepOnFocus:!0});const b=h.parent.getAttribute("alt");return e4(k,f,{label:b?d("Caption for image: %0",[b]):d("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const n=this.editor,r=n.plugins.get("ImageUtils"),i=n.plugins.get("ImageCaptionUtils"),l=n.commands.get("imageTypeInline"),d=n.commands.get("imageTypeBlock"),h=f=>{if(!f.return)return;const{oldElement:k,newElement:b}=f.return;if(!k)return;if(r.isBlockImage(k)){const A=i.getCaptionFromImageModelElement(k);if(A)return void this._saveCaption(b,A)}const w=this._getSavedCaption(k);w&&this._saveCaption(b,w)};l&&this.listenTo(l,"execute",h,{priority:"low"}),d&&this.listenTo(d,"execute",h,{priority:"low"})}_getSavedCaption(n){const r=this._savedCaptionsMap.get(n);return r?Ot.fromJSON(r):null}_saveCaption(n,r){this._savedCaptionsMap.set(n,r.toJSON())}_registerCaptionReconversion(){const n=this.editor,r=n.model,i=n.plugins.get("ImageUtils"),l=n.plugins.get("ImageCaptionUtils");r.document.on("change:data",()=>{const d=r.document.differ.getChanges();for(const h of d){if(h.attributeKey!=="alt")continue;const f=h.range.start.nodeAfter;if(i.isBlockImage(f)){const k=l.getCaptionFromImageModelElement(f);if(!k)return;n.editing.reconvertItem(k)}}})}}class cX extends pe{static get requires(){return[AP]}static get pluginName(){return"ImageCaptionUI"}init(){const n=this.editor,r=n.editing.view,i=n.plugins.get("ImageCaptionUtils"),l=n.t;n.ui.componentFactory.add("toggleImageCaption",d=>{const h=n.commands.get("toggleImageCaption"),f=new At(d);return f.set({icon:Ze.caption,tooltip:!0,isToggleable:!0}),f.bind("isOn","isEnabled").to(h,"value","isEnabled"),f.bind("label").to(h,"value",k=>l(k?"Toggle caption off":"Toggle caption on")),this.listenTo(f,"execute",()=>{n.execute("toggleImageCaption",{focusCaptionOnShow:!0});const k=i.getCaptionFromModelSelection(n.model.document.selection);if(k){const b=n.editing.mapper.toViewElement(k);r.scrollToTheSelection(),r.change(w=>{w.addClass("image__caption_highlighted",b)})}n.editing.view.focus()}),f})}}var xP=c(5247),dX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(xP.A,dX),xP.A.locals;function EP(a){const n=a.map(r=>r.replace("+","\\+"));return new RegExp(`^image\\/(${n.join("|")})$`)}function uX(a){return new Promise((n,r)=>{const i=a.getAttribute("src");fetch(i).then(l=>l.blob()).then(l=>{const d=SP(l,i),h=d.replace("image/",""),f=new File([l],`image.${h}`,{type:d});n(f)}).catch(l=>l&&l.name==="TypeError"?function(d){return function(h){return new Promise((f,k)=>{const b=m.document.createElement("img");b.addEventListener("load",()=>{const w=m.document.createElement("canvas");w.width=b.width,w.height=b.height,w.getContext("2d").drawImage(b,0,0),w.toBlob(A=>A?f(A):k())}),b.addEventListener("error",()=>k()),b.src=h})}(d).then(h=>{const f=SP(h,d),k=f.replace("image/","");return new File([h],`image.${k}`,{type:f})})}(i).then(n).catch(r):r(l))})}function SP(a,n){return a.type?a.type:n.match(/data:(image\/\w+);base64/)?n.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class hX extends pe{static get pluginName(){return"ImageUploadUI"}init(){const n=this.editor,r=n.t,i=()=>{const l=this._createButton(KD);return l.set({label:r("Upload image from computer"),tooltip:!0}),l};if(n.ui.componentFactory.add("uploadImage",i),n.ui.componentFactory.add("imageUpload",i),n.ui.componentFactory.add("menuBar:uploadImage",()=>{const l=this._createButton(mM);return l.label=r("Image from computer"),l}),n.plugins.has("ImageInsertUI")){const l=n.plugins.get("ImageInsertUI");l.registerIntegration({name:"upload",observable:()=>n.commands.get("uploadImage"),buttonViewCreator:()=>{const d=n.ui.componentFactory.create("uploadImage");return d.bind("label").to(l,"isImageSelected",h=>r(h?"Replace image from computer":"Upload image from computer")),d},formViewCreator:()=>{const d=n.ui.componentFactory.create("uploadImage");return d.withText=!0,d.bind("label").to(l,"isImageSelected",h=>r(h?"Replace from computer":"Upload from computer")),d.on("execute",()=>{l.dropdownView.isOpen=!1}),d}})}}_createButton(n){const r=this.editor,i=r.locale,l=r.commands.get("uploadImage"),d=r.config.get("image.upload.types"),h=EP(d),f=new n(r.locale),k=i.t;return f.set({acceptedType:d.map(b=>`image/${b}`).join(","),allowMultipleFiles:!0,label:k("Upload image from computer"),icon:Ze.imageUpload}),f.bind("isEnabled").to(l),f.on("done",(b,w)=>{const A=Array.from(w).filter(E=>h.test(E.type));A.length&&(r.execute("uploadImage",{file:A}),r.editing.view.focus())}),f}}var TP=c(2267),pX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(TP.A,pX),TP.A.locals;var IP=c(7693),fX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(IP.A,fX),IP.A.locals;var DP=c(1559),gX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(DP.A,gX),DP.A.locals;class mX extends pe{constructor(n){super(n),this.uploadStatusChange=(r,i,l)=>{const d=this.editor,h=i.item,f=h.getAttribute("uploadId");if(!l.consumable.consume(i.item,r.name))return;const k=d.plugins.get("ImageUtils"),b=d.plugins.get(li),w=f?i.attributeNewValue:null,A=this.placeholder,E=d.editing.mapper.toViewElement(h),I=l.writer;if(w=="reading")return MP(E,I),void PP(k,A,E,I);if(w=="uploading"){const O=b.loaders.get(f);return MP(E,I),void(O?(NP(E,I),function(L,F,W,Y){const J=function(ce){const we=ce.createUIElement("div",{class:"ck-progress-bar"});return ce.setCustomProperty("progressBar",!0,we),we}(F);F.insert(F.createPositionAt(L,"end"),J),W.on("change:uploadedPercent",(ce,we,Ve)=>{Y.change(rt=>{rt.setStyle("width",Ve+"%",J)})})}(E,I,O,d.editing.view),function(L,F,W,Y){if(Y.data){const J=L.findViewImgElement(F);W.setAttribute("src",Y.data,J)}}(k,E,I,O)):PP(k,A,E,I))}w=="complete"&&b.loaders.get(f)&&function(O,L,F){const W=L.createUIElement("div",{class:"ck-image-upload-complete-icon"});L.insert(L.createPositionAt(O,"end"),W),setTimeout(()=>{F.change(Y=>Y.remove(Y.createRangeOn(W)))},3e3)}(E,I,d.editing.view),function(O,L){OP(O,L,"progressBar")}(E,I),NP(E,I),function(O,L){L.removeClass("ck-appear",O)}(E,I)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const n=this.editor;n.plugins.has("ImageBlockEditing")&&n.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),n.plugins.has("ImageInlineEditing")&&n.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function MP(a,n){a.hasClass("ck-appear")||n.addClass("ck-appear",a)}function PP(a,n,r,i){r.hasClass("ck-image-upload-placeholder")||i.addClass("ck-image-upload-placeholder",r);const l=a.findViewImgElement(r);l.getAttribute("src")!==n&&i.setAttribute("src",n,l),RP(r,"placeholder")||i.insert(i.createPositionAfter(l),function(d){const h=d.createUIElement("div",{class:"ck-upload-placeholder-loader"});return d.setCustomProperty("placeholder",!0,h),h}(i))}function NP(a,n){a.hasClass("ck-image-upload-placeholder")&&n.removeClass("ck-image-upload-placeholder",a),OP(a,n,"placeholder")}function RP(a,n){for(const r of a.getChildren())if(r.getCustomProperty(n))return r}function OP(a,n,r){const i=RP(a,r);i&&n.remove(n.createRangeOn(i))}var kX=Object.defineProperty,bX=Object.defineProperties,vX=Object.getOwnPropertyDescriptors,BP=Object.getOwnPropertySymbols,wX=Object.prototype.hasOwnProperty,yX=Object.prototype.propertyIsEnumerable,LP=(a,n,r)=>n in a?kX(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r;class _X extends dt{refresh(){const n=this.editor,r=n.plugins.get("ImageUtils"),i=n.model.document.selection.getSelectedElement();this.isEnabled=r.isImageAllowed()||r.isImage(i)}execute(n){const r=qt(n.file),i=this.editor.model.document.selection,l=this.editor.plugins.get("ImageUtils"),d=Object.fromEntries(i.getAttributes());r.forEach((h,f)=>{const k=i.getSelectedElement();if(f&&k&&l.isImage(k)){const b=this.editor.model.createPositionAfter(k);this._uploadImage(h,d,b)}else this._uploadImage(h,d)})}_uploadImage(n,r,i){const l=this.editor,d=l.plugins.get(li).createLoader(n),h=l.plugins.get("ImageUtils");var f,k;d&&h.insertImage((f=((b,w)=>{for(var A in w||(w={}))wX.call(w,A)&&LP(b,A,w[A]);if(BP)for(var A of BP(w))yX.call(w,A)&&LP(b,A,w[A]);return b})({},r),k={uploadId:d.id},bX(f,vX(k))),i)}}class CX extends pe{constructor(n){super(n),n.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[li,By,Dr,Vo]}static get pluginName(){return"ImageUploadEditing"}init(){const n=this.editor,r=n.model.document,i=n.conversion,l=n.plugins.get(li),d=n.plugins.get("ImageUtils"),h=n.plugins.get("ClipboardPipeline"),f=EP(n.config.get("image.upload.types")),k=new _X(n);n.commands.add("uploadImage",k),n.commands.add("imageUpload",k),i.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(n.editing.view.document,"clipboardInput",(b,w)=>{if(A=w.dataTransfer,Array.from(A.types).includes("text/html")&&A.getData("text/html")!=="")return;var A;const E=Array.from(w.dataTransfer.files).filter(I=>!!I&&f.test(I.type));E.length&&(b.stop(),n.model.change(I=>{w.targetRanges&&I.setSelection(w.targetRanges.map(O=>n.editing.mapper.toModelRange(O))),n.execute("uploadImage",{file:E})}))}),this.listenTo(h,"inputTransformation",(b,w)=>{const A=Array.from(n.editing.view.createRangeIn(w.content)).map(I=>I.item).filter(I=>function(O,L){return!(!O.isInlineImageView(L)||!L.getAttribute("src")||!L.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!L.getAttribute("src").match(/^blob:/g))}(d,I)&&!I.getAttribute("uploadProcessed")).map(I=>({promise:uX(I),imageElement:I}));if(!A.length)return;const E=new os(n.editing.view.document);for(const I of A){E.setAttribute("uploadProcessed",!0,I.imageElement);const O=l.createLoader(I.promise);O&&(E.setAttribute("src","",I.imageElement),E.setAttribute("uploadId",O.id,I.imageElement))}}),n.editing.view.document.on("dragover",(b,w)=>{w.preventDefault()}),r.on("change",()=>{const b=r.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),w=new Set;for(const A of b)if(A.type=="insert"&&A.name!="$text"){const E=A.position.nodeAfter,I=A.position.root.rootName=="$graveyard";for(const O of AX(n,E)){const L=O.getAttribute("uploadId");if(!L)continue;const F=l.loaders.get(L);F&&(I?w.has(L)||F.abort():(w.add(L),this._uploadImageElements.set(L,O),F.status=="idle"&&this._readAndUpload(F)))}}}),this.on("uploadComplete",(b,{imageElement:w,data:A})=>{const E=A.urls?A.urls:A;this.editor.model.change(I=>{I.setAttribute("src",E.default,w),this._parseAndSetSrcsetAttributeOnImage(E,w,I),d.setImageNaturalSizeAttributes(w)})},{priority:"low"})}afterInit(){const n=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&n.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&n.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(n){const r=this.editor,i=r.model,l=r.locale.t,d=r.plugins.get(li),h=r.plugins.get(By),f=r.plugins.get("ImageUtils"),k=this._uploadImageElements;return i.enqueueChange({isUndoable:!1},w=>{w.setAttribute("uploadStatus","reading",k.get(n.id))}),n.read().then(()=>{const w=n.upload(),A=k.get(n.id);if(_.isSafari){const E=r.editing.mapper.toViewElement(A),I=f.findViewImgElement(E);r.editing.view.once("render",()=>{if(!I.parent)return;const O=r.editing.view.domConverter.mapViewToDom(I.parent);if(!O)return;const L=O.style.display;O.style.display="none",O._ckHack=O.offsetHeight,O.style.display=L})}return r.ui&&r.ui.ariaLiveAnnouncer.announce(l("Uploading image")),i.enqueueChange({isUndoable:!1},E=>{E.setAttribute("uploadStatus","uploading",A)}),w}).then(w=>{i.enqueueChange({isUndoable:!1},A=>{const E=k.get(n.id);A.setAttribute("uploadStatus","complete",E),r.ui&&r.ui.ariaLiveAnnouncer.announce(l("Image upload complete")),this.fire("uploadComplete",{data:w,imageElement:E})}),b()}).catch(w=>{if(r.ui&&r.ui.ariaLiveAnnouncer.announce(l("Error during image upload")),n.status!=="error"&&n.status!=="aborted")throw w;n.status=="error"&&w&&h.showWarning(w,{title:l("Upload failed"),namespace:"upload"}),i.enqueueChange({isUndoable:!1},A=>{A.remove(k.get(n.id))}),b()});function b(){i.enqueueChange({isUndoable:!1},w=>{const A=k.get(n.id);w.removeAttribute("uploadId",A),w.removeAttribute("uploadStatus",A),k.delete(n.id)}),d.destroyLoader(n)}}_parseAndSetSrcsetAttributeOnImage(n,r,i){let l=0;const d=Object.keys(n).filter(h=>{const f=parseInt(h,10);if(!isNaN(f))return l=Math.max(l,f),!0}).map(h=>`${n[h]} ${h}w`).join(", ");if(d!=""){const h={srcset:d};r.hasAttribute("width")||r.hasAttribute("height")||(h.width=l),i.setAttributes(h,r)}}}function AX(a,n){const r=a.plugins.get("ImageUtils");return Array.from(a.model.createRangeOn(n)).filter(i=>r.isImage(i.item)).map(i=>i.item)}var jP=c(4642),xX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(jP.A,xX),jP.A.locals;var zP=c(3469),EX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(zP.A,EX),zP.A.locals;class SX extends dt{constructor(n,r){super(n),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(r.map(i=>{if(i.isDefault)for(const l of i.modelElements)this._defaultStyles[l]=i.name;return[i.name,i]}))}refresh(){const n=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled?n.hasAttribute("imageStyle")?this.value=n.getAttribute("imageStyle"):this.value=this._defaultStyles[n.name]:this.value=!1}execute(n={}){const r=this.editor,i=r.model,l=r.plugins.get("ImageUtils");i.change(d=>{const h=n.value,{setImageSizes:f=!0}=n;let k=l.getClosestSelectedImageElement(i.document.selection);h&&this.shouldConvertImageType(h,k)&&(this.editor.execute(l.isBlockImage(k)?"imageTypeInline":"imageTypeBlock",{setImageSizes:f}),k=l.getClosestSelectedImageElement(i.document.selection)),!h||this._styles.get(h).isDefault?d.removeAttribute("imageStyle",k):d.setAttribute("imageStyle",h,k),f&&l.setImageNaturalSizeAttributes(k)})}shouldConvertImageType(n,r){return!this._styles.get(n).modelElements.includes(r.name)}}var TX=Object.defineProperty,FP=Object.getOwnPropertySymbols,IX=Object.prototype.hasOwnProperty,DX=Object.prototype.propertyIsEnumerable,$P=(a,n,r)=>n in a?TX(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,VP=(a,n)=>{for(var r in n||(n={}))IX.call(n,r)&&$P(a,r,n[r]);if(FP)for(var r of FP(n))DX.call(n,r)&&$P(a,r,n[r]);return a};const{objectFullWidth:MX,objectInline:UP,objectLeft:HP,objectRight:t_,objectCenter:n_,objectBlockLeft:WP,objectBlockRight:qP}=Ze,Sm={get inline(){return{name:"inline",title:"In line",icon:UP,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:HP,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:WP,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:n_,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:t_,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:qP,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:n_,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:t_,modelElements:["imageBlock"],className:"image-style-side"}}},GP={full:MX,left:WP,right:qP,center:n_,inlineLeft:HP,inlineRight:t_,inline:UP},KP=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function YP(a){U("image-style-configuration-definition-invalid",a)}const o_={normalizeStyles:function(a){return(a.configuredStyles.options||[]).map(n=>function(r){return r=typeof r=="string"?Sm[r]?VP({},Sm[r]):{name:r}:function(i,l){const d=VP({},l);for(const h in i)Object.prototype.hasOwnProperty.call(l,h)||(d[h]=i[h]);return d}(Sm[r.name],r),typeof r.icon=="string"&&(r.icon=GP[r.icon]||r.icon),r}(n)).filter(n=>function(r,{isBlockPluginLoaded:i,isInlinePluginLoaded:l}){const{modelElements:d,name:h}=r;if(!(d&&d.length&&h))return YP({style:r}),!1;{const f=[i?"imageBlock":null,l?"imageInline":null];if(!d.some(k=>f.includes(k)))return U("image-style-missing-dependency",{style:r,missingPlugins:d.map(k=>k==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(n,a))},getDefaultStylesConfiguration:function(a,n){return a&&n?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:a?{options:["block","side"]}:n?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(a){return a.has("ImageBlockEditing")&&a.has("ImageInlineEditing")?[...KP]:[]},warnInvalidStyle:YP,DEFAULT_OPTIONS:Sm,DEFAULT_ICONS:GP,DEFAULT_DROPDOWN_DEFINITIONS:KP};function QP(a,n){for(const r of n)if(r.name===a)return r}class ZP extends pe{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Vo]}init(){const{normalizeStyles:n,getDefaultStylesConfiguration:r}=o_,i=this.editor,l=i.plugins.has("ImageBlockEditing"),d=i.plugins.has("ImageInlineEditing");i.config.define("image.styles",r(l,d)),this.normalizedStyles=n({configuredStyles:i.config.get("image.styles"),isBlockPluginLoaded:l,isInlinePluginLoaded:d}),this._setupConversion(l,d),this._setupPostFixer(),i.commands.add("imageStyle",new SX(i,this.normalizedStyles))}_setupConversion(n,r){const i=this.editor,l=i.model.schema,d=(h=this.normalizedStyles,(k,b,w)=>{if(!w.consumable.consume(b.item,k.name))return;const A=QP(b.attributeNewValue,h),E=QP(b.attributeOldValue,h),I=w.mapper.toViewElement(b.item),O=w.writer;E&&O.removeClass(E.className,I),A&&O.addClass(A.className,I)});var h;const f=function(k){const b={imageInline:k.filter(w=>!w.isDefault&&w.modelElements.includes("imageInline")),imageBlock:k.filter(w=>!w.isDefault&&w.modelElements.includes("imageBlock"))};return(w,A,E)=>{if(!A.modelRange)return;const I=A.viewItem,O=qn(A.modelRange.getItems());if(O&&E.schema.checkAttribute(O,"imageStyle"))for(const L of b[O.name])E.consumable.consume(I,{classes:L.className})&&E.writer.setAttribute("imageStyle",L.name,O)}}(this.normalizedStyles);i.editing.downcastDispatcher.on("attribute:imageStyle",d),i.data.downcastDispatcher.on("attribute:imageStyle",d),n&&(l.extend("imageBlock",{allowAttributes:"imageStyle"}),i.data.upcastDispatcher.on("element:figure",f,{priority:"low"})),r&&(l.extend("imageInline",{allowAttributes:"imageStyle"}),i.data.upcastDispatcher.on("element:img",f,{priority:"low"}))}_setupPostFixer(){const n=this.editor,r=n.model.document,i=n.plugins.get(Vo),l=new Map(this.normalizedStyles.map(d=>[d.name,d]));r.registerPostFixer(d=>{let h=!1;for(const f of r.differ.getChanges())if(f.type=="insert"||f.type=="attribute"&&f.attributeKey=="imageStyle"){let k=f.type=="insert"?f.position.nodeAfter:f.range.start.nodeAfter;if(k&&k.is("element","paragraph")&&k.childCount>0&&(k=k.getChild(0)),!i.isImage(k))continue;const b=k.getAttribute("imageStyle");if(!b)continue;const w=l.get(b);w&&w.modelElements.includes(k.name)||(d.removeAttribute("imageStyle",k),h=!0)}return h})}}var JP=c(6386),PX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(JP.A,PX),JP.A.locals;class NX extends pe{static get requires(){return[ZP]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const n=this.editor.t;return{"Wrap text":n("Wrap text"),"Break text":n("Break text"),"In line":n("In line"),"Full size image":n("Full size image"),"Side image":n("Side image"),"Left aligned image":n("Left aligned image"),"Centered image":n("Centered image"),"Right aligned image":n("Right aligned image")}}init(){const n=this.editor.plugins,r=this.editor.config.get("image.toolbar")||[],i=XP(n.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const d of i)this._createButton(d);const l=XP([...r.filter(xe),...o_.getDefaultDropdownDefinitions(n)],this.localizedDefaultStylesTitles);for(const d of l)this._createDropdown(d,i)}_createDropdown(n,r){const i=this.editor.ui.componentFactory;i.add(n.name,l=>{let d;const{defaultItem:h,items:f,title:k}=n,b=f.filter(I=>r.find(({name:O})=>eN(O)===I)).map(I=>{const O=i.create(I);return I===h&&(d=O),O});f.length!==b.length&&o_.warnInvalidStyle({dropdown:n});const w=is(l,nm),A=w.buttonView,E=A.arrowView;return My(w,b,{enableActiveItemFocusOnDropdownOpen:!0}),A.set({label:tN(k,d.label),class:null,tooltip:!0}),E.unbind("label"),E.set({label:k}),A.bind("icon").toMany(b,"isOn",(...I)=>{const O=I.findIndex($s);return O<0?d.icon:b[O].icon}),A.bind("label").toMany(b,"isOn",(...I)=>{const O=I.findIndex($s);return tN(k,O<0?d.label:b[O].label)}),A.bind("isOn").toMany(b,"isOn",(...I)=>I.some($s)),A.bind("class").toMany(b,"isOn",(...I)=>I.some($s)?"ck-splitbutton_flatten":void 0),A.on("execute",()=>{b.some(({isOn:I})=>I)?w.isOpen=!w.isOpen:d.fire("execute")}),w.bind("isEnabled").toMany(b,"isEnabled",(...I)=>I.some($s)),this.listenTo(w,"execute",()=>{this.editor.editing.view.focus()}),w})}_createButton(n){const r=n.name;this.editor.ui.componentFactory.add(eN(r),i=>{const l=this.editor.commands.get("imageStyle"),d=new At(i);return d.set({label:n.title,icon:n.icon,tooltip:!0,isToggleable:!0}),d.bind("isEnabled").to(l,"isEnabled"),d.bind("isOn").to(l,"value",h=>h===r),d.on("execute",this._executeCommand.bind(this,r)),d})}_executeCommand(n){this.editor.execute("imageStyle",{value:n}),this.editor.editing.view.focus()}}function XP(a,n){for(const r of a)n[r.title]&&(r.title=n[r.title]);return a}function eN(a){return`imageStyle:${a}`}function tN(a,n){return(a?a+": ":"")+n}class RX extends pe{static get pluginName(){return"IndentEditing"}init(){const n=this.editor;n.commands.add("indent",new BT(n)),n.commands.add("outdent",new BT(n))}}class OX extends pe{static get pluginName(){return"IndentUI"}init(){const n=this.editor,r=n.locale,i=n.t,l=r.uiLanguageDirection=="ltr"?Ze.indent:Ze.outdent,d=r.uiLanguageDirection=="ltr"?Ze.outdent:Ze.indent;this._defineButton("indent",i("Increase indent"),l),this._defineButton("outdent",i("Decrease indent"),d)}_defineButton(n,r,i){const l=this.editor;l.ui.componentFactory.add(n,()=>{const d=this._createButton(At,n,r,i);return d.set({tooltip:!0}),d}),l.ui.componentFactory.add("menuBar:"+n,()=>this._createButton(lr,n,r,i))}_createButton(n,r,i,l){const d=this.editor,h=d.commands.get(r),f=new n(d.locale);return f.set({label:i,icon:l}),f.bind("isEnabled").to(h,"isEnabled"),this.listenTo(f,"execute",()=>{d.execute(r),d.editing.view.focus()}),f}}class BX{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(n){Array.isArray(n)?n.forEach(r=>this._definitions.add(r)):this._definitions.add(n)}getDispatcher(){return n=>{n.on("attribute:linkHref",(r,i,l)=>{if(!l.consumable.test(i.item,"attribute:linkHref")||!i.item.is("selection")&&!l.schema.isInline(i.item))return;const d=l.writer,h=d.document.selection;for(const f of this._definitions){const k=d.createAttributeElement("a",f.attributes,{priority:5});f.classes&&d.addClass(f.classes,k);for(const b in f.styles)d.setStyle(b,f.styles[b],k);d.setCustomProperty("link",!0,k),f.callback(i.attributeNewValue)?i.item.is("selection")?d.wrap(h.getFirstRange(),k):d.wrap(l.mapper.toViewRange(i.range),k):d.unwrap(l.mapper.toViewRange(i.range),k)}},{priority:"high"})}}getDispatcherForLinkedImage(){return n=>{n.on("attribute:linkHref:imageBlock",(r,i,{writer:l,mapper:d})=>{const h=d.toViewElement(i.item),f=Array.from(h.getChildren()).find(k=>k.is("element","a"));for(const k of this._definitions){const b=Ci(k.attributes);if(k.callback(i.attributeNewValue)){for(const[w,A]of b)w==="class"?l.addClass(A,f):l.setAttribute(w,A,f);k.classes&&l.addClass(k.classes,f);for(const w in k.styles)l.setStyle(w,k.styles[w],f)}else{for(const[w,A]of b)w==="class"?l.removeClass(A,f):l.removeAttribute(w,f);k.classes&&l.removeClass(k.classes,f);for(const w in k.styles)l.removeStyle(w,f)}}})}}}const LX=function(a,n,r){var i=a.length;return r=r===void 0?i:r,!n&&r>=i?a:KT(a,n,r)};var jX=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const nN=function(a){return jX.test(a)},zX=function(a){return a.split("")};var oN="\\ud800-\\udfff",FX="["+oN+"]",r_="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i_="\\ud83c[\\udffb-\\udfff]",rN="[^"+oN+"]",iN="(?:\\ud83c[\\udde6-\\uddff]){2}",sN="[\\ud800-\\udbff][\\udc00-\\udfff]",aN="(?:"+r_+"|"+i_+")?",lN="[\\ufe0e\\ufe0f]?",$X=lN+aN+("(?:\\u200d(?:"+[rN,iN,sN].join("|")+")"+lN+aN+")*"),VX="(?:"+[rN+r_+"?",r_,iN,sN,FX].join("|")+")",UX=RegExp(i_+"(?="+i_+")|"+VX+$X,"g");const HX=function(a){return a.match(UX)||[]},WX=function(a){return nN(a)?HX(a):zX(a)},qX=function(a){return function(n){n=Kw(n);var r=nN(n)?WX(n):void 0,i=r?r[0]:n.charAt(0),l=r?LX(r,1).join(""):n.slice(1);return i[a]()+l}}("toUpperCase"),GX=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,KX=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,YX=/^((\w+:(\/{2,})?)|(\W))/i,QX=["https?","ftps?","mailto"],Tm="Ctrl+K";function cN(a,{writer:n}){const r=n.createAttributeElement("a",{href:a},{priority:5});return n.setCustomProperty("link",!0,r),r}function dN(a,n=QX){const r=String(a),i=n.join("|");return function(l,d){return!!l.replace(GX,"").match(d)}(r,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",i)}`,"i"))?r:"#"}function s_(a,n){return!!a&&n.checkAttribute(a.name,"linkHref")}function a_(a,n){const r=(i=a,KX.test(i)?"mailto:":n);var i;const l=!!r&&!uN(a);return a&&l?r+a:a}function uN(a){return YX.test(a)}function hN(a){window.open(a,"_blank","noopener")}class ZX extends dt{constructor(){super(...arguments),this.manualDecorators=new ti,this.automaticDecorators=new BX}restoreManualDecoratorStates(){for(const n of this.manualDecorators)n.value=this._getDecoratorStateFromModel(n.id)}refresh(){const n=this.editor.model,r=n.document.selection,i=r.getSelectedElement()||qn(r.getSelectedBlocks());s_(i,n.schema)?(this.value=i.getAttribute("linkHref"),this.isEnabled=n.schema.checkAttribute(i,"linkHref")):(this.value=r.getAttribute("linkHref"),this.isEnabled=n.schema.checkAttributeInSelection(r,"linkHref"));for(const l of this.manualDecorators)l.value=this._getDecoratorStateFromModel(l.id)}execute(n,r={}){const i=this.editor.model,l=i.document.selection,d=[],h=[];for(const f in r)r[f]?d.push(f):h.push(f);i.change(f=>{if(l.isCollapsed){const k=l.getFirstPosition();if(l.hasAttribute("linkHref")){const b=pN(l);let w=fm(k,"linkHref",l.getAttribute("linkHref"),i);l.getAttribute("linkHref")===b&&(w=this._updateLinkContent(i,f,w,n)),f.setAttribute("linkHref",n,w),d.forEach(A=>{f.setAttribute(A,!0,w)}),h.forEach(A=>{f.removeAttribute(A,w)}),f.setSelection(f.createPositionAfter(w.end.nodeBefore))}else if(n!==""){const b=Ci(l.getAttributes());b.set("linkHref",n),d.forEach(A=>{b.set(A,!0)});const{end:w}=i.insertContent(f.createText(n,b),k);f.setSelection(w)}["linkHref",...d,...h].forEach(b=>{f.removeSelectionAttribute(b)})}else{const k=i.schema.getValidRanges(l.getRanges(),"linkHref"),b=[];for(const A of l.getSelectedBlocks())i.schema.checkAttribute(A,"linkHref")&&b.push(f.createRangeOn(A));const w=b.slice();for(const A of k)this._isRangeToUpdate(A,b)&&w.push(A);for(const A of w){let E=A;if(w.length===1){const I=pN(l);l.getAttribute("linkHref")===I&&(E=this._updateLinkContent(i,f,A,n),f.setSelection(f.createSelection(E)))}f.setAttribute("linkHref",n,E),d.forEach(I=>{f.setAttribute(I,!0,E)}),h.forEach(I=>{f.removeAttribute(I,E)})}}})}_getDecoratorStateFromModel(n){const r=this.editor.model,i=r.document.selection,l=i.getSelectedElement();return s_(l,r.schema)?l.getAttribute(n):i.getAttribute(n)}_isRangeToUpdate(n,r){for(const i of r)if(i.containsRange(n))return!1;return!0}_updateLinkContent(n,r,i,l){const d=r.createText(l,{linkHref:l});return n.insertContent(d,i)}}function pN(a){if(a.isCollapsed){const n=a.getFirstPosition();return n.textNode&&n.textNode.data}{const n=Array.from(a.getFirstRange().getItems());if(n.length>1)return null;const r=n[0];return r.is("$text")||r.is("$textProxy")?r.data:null}}class JX extends dt{refresh(){const n=this.editor.model,r=n.document.selection,i=r.getSelectedElement();s_(i,n.schema)?this.isEnabled=n.schema.checkAttribute(i,"linkHref"):this.isEnabled=n.schema.checkAttributeInSelection(r,"linkHref")}execute(){const n=this.editor,r=this.editor.model,i=r.document.selection,l=n.commands.get("link");r.change(d=>{const h=i.isCollapsed?[fm(i.getFirstPosition(),"linkHref",i.getAttribute("linkHref"),r)]:r.schema.getValidRanges(i.getRanges(),"linkHref");for(const f of h)if(d.removeAttribute("linkHref",f),l)for(const k of l.manualDecorators)d.removeAttribute(k.id,f)})}}class XX extends Q(){constructor({id:n,label:r,attributes:i,classes:l,styles:d,defaultValue:h}){super(),this.id=n,this.set("value",void 0),this.defaultValue=h,this.label=r,this.attributes=i,this.classes=l,this.styles=d}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var fN=c(7719),eee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(fN.A,eee),fN.A.locals;var tee=Object.defineProperty,gN=Object.getOwnPropertySymbols,nee=Object.prototype.hasOwnProperty,oee=Object.prototype.propertyIsEnumerable,mN=(a,n,r)=>n in a?tee(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,ree=(a,n)=>{for(var r in n||(n={}))nee.call(n,r)&&mN(a,r,n[r]);if(gN)for(var r of gN(n))oee.call(n,r)&&mN(a,r,n[r]);return a};const kN="automatic",iee=/^(https?:)?\/\//;class bN extends pe{static get pluginName(){return"LinkEditing"}static get requires(){return[UM,BM,Dr]}constructor(n){super(n),n.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const n=this.editor,r=this.editor.config.get("link.allowedProtocols");n.model.schema.extend("$text",{allowAttributes:"linkHref"}),n.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:cN}),n.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(l,d)=>cN(dN(l,r),d)}),n.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:l=>l.getAttribute("href")}}),n.commands.add("link",new ZX(n)),n.commands.add("unlink",new JX(n));const i=function(l,d){const h={"Open in a new tab":l("Open in a new tab"),Downloadable:l("Downloadable")};return d.forEach(f=>("label"in f&&h[f.label]&&(f.label=h[f.label]),f)),d}(n.t,function(l){const d=[];if(l)for(const[h,f]of Object.entries(l)){const k=Object.assign({},f,{id:`link${qX(h)}`});d.push(k)}return d}(n.config.get("link.decorators")));this._enableAutomaticDecorators(i.filter(l=>l.mode===kN)),this._enableManualDecorators(i.filter(l=>l.mode==="manual")),n.plugins.get(UM).registerAttribute("linkHref"),function(l,d,h,f){const k=l.editing.view,b=new Set;k.document.registerPostFixer(w=>{const A=l.model.document.selection;let E=!1;if(A.hasAttribute(d)){const I=fm(A.getFirstPosition(),d,A.getAttribute(d),l.model),O=l.editing.mapper.toViewRange(I);for(const L of O.getItems())L.is("element",h)&&!L.hasClass(f)&&(w.addClass(f,L),b.add(L),E=!0)}return E}),l.conversion.for("editingDowncast").add(w=>{function A(){k.change(E=>{for(const I of b.values())E.removeClass(f,I),b.delete(I)})}w.on("insert",A,{priority:"highest"}),w.on("remove",A,{priority:"highest"}),w.on("attribute",A,{priority:"highest"}),w.on("selection",A,{priority:"highest"})})}(n,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(n){const r=this.editor,i=r.commands.get("link").automaticDecorators;r.config.get("link.addTargetToExternalLinks")&&i.add({id:"linkIsExternal",mode:kN,callback:l=>!!l&&iee.test(l),attributes:{target:"_blank",rel:"noopener noreferrer"}}),i.add(n),i.length&&r.conversion.for("downcast").add(i.getDispatcher())}_enableManualDecorators(n){if(!n.length)return;const r=this.editor,i=r.commands.get("link").manualDecorators;n.forEach(l=>{r.model.schema.extend("$text",{allowAttributes:l.id});const d=new XX(l);i.add(d),r.conversion.for("downcast").attributeToElement({model:d.id,view:(h,{writer:f,schema:k},{item:b})=>{if((b.is("selection")||k.isInline(b))&&h){const w=f.createAttributeElement("a",d.attributes,{priority:5});d.classes&&f.addClass(d.classes,w);for(const A in d.styles)f.setStyle(A,d.styles[A],w);return f.setCustomProperty("link",!0,w),w}}}),r.conversion.for("upcast").elementToAttribute({view:ree({name:"a"},d._createPattern()),model:{key:d.id}})})}_enableLinkOpen(){const n=this.editor,r=n.editing.view.document;this.listenTo(r,"click",(i,l)=>{if(!(_.isMac?l.domEvent.metaKey:l.domEvent.ctrlKey))return;let d=l.domTarget;if(d.tagName.toLowerCase()!="a"&&(d=d.closest("a")),!d)return;const h=d.getAttribute("href");h&&(i.stop(),l.preventDefault(),hN(h))},{context:"$capture"}),this.listenTo(r,"keydown",(i,l)=>{const d=n.commands.get("link").value;d&&l.keyCode===kt.enter&&l.altKey&&(i.stop(),hN(d))})}_enableSelectionAttributesFixer(){const n=this.editor.model,r=n.document.selection;this.listenTo(r,"change:attribute",(i,{attributeKeys:l})=>{l.includes("linkHref")&&!r.hasAttribute("linkHref")&&n.change(d=>{var h;(function(f,k){f.removeSelectionAttribute("linkHref");for(const b of k)f.removeSelectionAttribute(b)})(d,(h=n.schema,h.getDefinition("$text").allowAttributes.filter(f=>f.startsWith("link"))))})})}_enableClipboardIntegration(){const n=this.editor,r=n.model,i=this.editor.config.get("link.defaultProtocol");i&&this.listenTo(n.plugins.get("ClipboardPipeline"),"contentInsertion",(l,d)=>{r.change(h=>{const f=h.createRangeIn(d.content);for(const k of f.getItems())if(k.hasAttribute("linkHref")){const b=a_(k.getAttribute("linkHref"),i);h.setAttribute("linkHref",b,k)}})})}}var vN=c(3817),see={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(vN.A,see),vN.A.locals;class aee extends Le{constructor(n,r,i){super(n),this.focusTracker=new Gn,this.keystrokes=new Io,this._focusables=new Sr;const l=n.t;this._validators=i,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(l("Save"),Ze.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(l("Cancel"),Ze.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(r),this.children=this._createFormChildren(r.manualDecorators),this._focusCycler=new Ir({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const d=["ck","ck-link-form","ck-responsive-form"];r.manualDecorators.length&&d.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:d,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((n,r)=>(n[r.name]=r.isOn,n),{})}render(){super.render(),Pg({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const n of this._validators){const r=n(this);if(r)return this.urlInputView.errorText=r,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const n=this.locale.t,r=new em(this.locale,om);return r.label=n("Link URL"),r}_createButton(n,r,i,l){const d=new At(this.locale);return d.set({label:n,icon:r,tooltip:!0}),d.extendTemplate({attributes:{class:i}}),l&&d.delegate("execute").to(this,l),d}_createManualDecoratorSwitches(n){const r=this.createCollection();for(const i of n.manualDecorators){const l=new Jg(this.locale);l.set({name:i.id,label:i.label,withText:!0}),l.bind("isOn").toMany([i,n],"value",(d,h)=>h===void 0&&d===void 0?!!i.defaultValue:!!d),l.on("execute",()=>{i.set("value",!l.isOn)}),r.add(l)}return r}_createFormChildren(n){const r=this.createCollection();if(r.add(this.urlInputView),n.length){const i=new Le;i.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(l=>({tag:"li",children:[l],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),r.add(i)}return r.add(this.saveButtonView),r.add(this.cancelButtonView),r}get url(){const{element:n}=this.urlInputView.fieldView;return n?n.value.trim():null}}var wN=c(8762),lee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(wN.A,lee),wN.A.locals;class cee extends Le{constructor(n,r={}){super(n),this.focusTracker=new Gn,this.keystrokes=new Io,this._focusables=new Sr;const i=n.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(i("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(i("Edit link"),Ze.pencil,"edit"),this.set("href",void 0),this._linkConfig=r,this._focusCycler=new Ir({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(n,r,i){const l=new At(this.locale);return l.set({label:n,icon:r,tooltip:!0}),l.delegate("execute").to(this,i),l}_createPreviewButton(){const n=new At(this.locale),r=this.bindTemplate,i=this.t;return n.set({withText:!0,tooltip:i("Open link in new tab")}),n.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:r.to("href",l=>l&&dN(l,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"}}),n.bind("label").to(this,"href",l=>l||i("This link has no URL")),n.bind("isEnabled").to(this,"href",l=>!!l),n.template.tag="a",n.template.eventListeners={},n}}const Ti="link-ui";class dee extends pe{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[cm]}static get pluginName(){return"LinkUI"}init(){const n=this.editor,r=this.editor.t;n.editing.view.addObserver(oK),this._balloon=n.plugins.get(cm),this._createToolbarLinkButton(),this._enableBalloonActivators(),n.conversion.for("editingDowncast").markerToHighlight({model:Ti,view:{classes:["ck-fake-link-selection"]}}),n.conversion.for("editingDowncast").markerToElement({model:Ti,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}}),n.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Create link"),keystroke:Tm},{label:r("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const n=this.editor,r=new cee(n.locale,n.config.get("link")),i=n.commands.get("link"),l=n.commands.get("unlink");return r.bind("href").to(i,"value"),r.editButtonView.bind("isEnabled").to(i),r.unlinkButtonView.bind("isEnabled").to(l),this.listenTo(r,"edit",()=>{this._addFormView()}),this.listenTo(r,"unlink",()=>{n.execute("unlink"),this._hideUI()}),r.keystrokes.set("Esc",(d,h)=>{this._hideUI(),h()}),r.keystrokes.set(Tm,(d,h)=>{this._addFormView(),h()}),r}_createFormView(){const n=this.editor,r=n.commands.get("link"),i=n.config.get("link.defaultProtocol"),l=new(Uw(aee))(n.locale,r,function(d){const h=d.t,f=d.config.get("link.allowCreatingEmptyLinks");return[k=>{if(!f&&!k.url.length)return h("Link URL must not be empty.")}]}(n));return l.urlInputView.fieldView.bind("value").to(r,"value"),l.urlInputView.bind("isEnabled").to(r,"isEnabled"),l.saveButtonView.bind("isEnabled").to(r,"isEnabled"),this.listenTo(l,"submit",()=>{if(l.isValid()){const{value:d}=l.urlInputView.fieldView.element,h=a_(d,i);n.execute("link",h,l.getDecoratorSwitchesState()),this._closeFormView()}}),this.listenTo(l.urlInputView,"change:errorText",()=>{n.ui.update()}),this.listenTo(l,"cancel",()=>{this._closeFormView()}),l.keystrokes.set("Esc",(d,h)=>{this._closeFormView(),h()}),l}_createToolbarLinkButton(){const n=this.editor,r=n.commands.get("link");n.ui.componentFactory.add("link",()=>{const i=this._createButton(At);return i.set({tooltip:!0,isToggleable:!0}),i.bind("isOn").to(r,"value",l=>!!l),i}),n.ui.componentFactory.add("menuBar:link",()=>this._createButton(lr))}_createButton(n){const r=this.editor,i=r.locale,l=r.commands.get("link"),d=new n(r.locale),h=i.t;return d.set({label:h("Link"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',keystroke:Tm}),d.bind("isEnabled").to(l,"isEnabled"),this.listenTo(d,"execute",()=>this._showUI(!0)),d}_enableBalloonActivators(){const n=this.editor,r=n.editing.view.document;this.listenTo(r,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),n.keystrokes.set(Tm,(i,l)=>{l(),n.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(n,r)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),r())},{priority:"high"}),this.editor.keystrokes.set("Esc",(n,r)=>{this._isUIVisible&&(this._hideUI(),r())}),Mg({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const n=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=n.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const n=this.editor.commands.get("link");n.restoreManualDecoratorStates(),n.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(n=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),n&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),n&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const n=this.editor;this.stopListening(n.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),n.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const n=this.editor,r=n.editing.view.document;let i=this._getSelectedLinkElement(),l=h();const d=()=>{const f=this._getSelectedLinkElement(),k=h();i&&!f||!i&&k!==l?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),i=f,l=k};function h(){return r.selection.focus.getAncestors().reverse().find(f=>f.is("element"))}this.listenTo(n.ui,"update",d),this.listenTo(this._balloon,"change:visibleView",d)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const n=this._balloon.visibleView;return!!this.formView&&n==this.formView||this._areActionsVisible}_getBalloonPositionData(){const n=this.editor.editing.view,r=this.editor.model,i=n.document;let l;if(r.markers.has(Ti)){const d=Array.from(this.editor.editing.mapper.markerNameToElements(Ti)),h=n.createRange(n.createPositionBefore(d[0]),n.createPositionAfter(d[d.length-1]));l=n.domConverter.viewRangeToDom(h)}else l=()=>{const d=this._getSelectedLinkElement();return d?n.domConverter.mapViewToDom(d):n.domConverter.viewRangeToDom(i.selection.getFirstRange())};return{target:l}}_getSelectedLinkElement(){const n=this.editor.editing.view,r=n.document.selection,i=r.getSelectedElement();if(r.isCollapsed||i&&Sn(i))return l_(r.getFirstPosition());{const l=r.getFirstRange().getTrimmed(),d=l_(l.start),h=l_(l.end);return d&&d==h&&n.createRangeIn(d).getTrimmed().isEqual(l)?d:null}}_showFakeVisualSelection(){const n=this.editor.model;n.change(r=>{const i=n.document.selection.getFirstRange();if(n.markers.has(Ti))r.updateMarker(Ti,{range:i});else if(i.start.isAtEnd){const l=i.start.getLastMatchingPosition(({item:d})=>!n.schema.isContent(d),{boundaries:i});r.addMarker(Ti,{usingOperation:!1,affectsData:!1,range:r.createRange(l,i.end)})}else r.addMarker(Ti,{usingOperation:!1,affectsData:!1,range:i})})}_hideFakeVisualSelection(){const n=this.editor.model;n.markers.has(Ti)&&n.change(r=>{r.removeMarker(Ti)})}}function l_(a){return a.getAncestors().find(n=>{return(r=n).is("attributeElement")&&!!r.getCustomProperty("link");var r})||null}const yN=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class uee extends pe{static get requires(){return[as,bN]}static get pluginName(){return"AutoLink"}init(){const n=this.editor.model.document.selection;n.on("change:range",()=>{this.isEnabled=!n.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(n,r){return r.textNode&&r.textNode.hasAttribute("linkHref")?fm(r,"linkHref",r.textNode.getAttribute("linkHref"),n):null}_selectEntireLinks(n,r){const i=this.editor.model,l=i.document.selection,d=l.getFirstPosition(),h=l.getLastPosition();let f=r.getJoined(this._expandLinkRange(i,d)||r);f&&(f=f.getJoined(this._expandLinkRange(i,h)||r)),f&&(f.start.isBefore(d)||f.end.isAfter(h))&&n.setSelection(f)}_enablePasteLinking(){const n=this.editor,r=n.model,i=r.document.selection,l=n.plugins.get("ClipboardPipeline"),d=n.commands.get("link");l.on("inputTransformation",(h,f)=>{if(!this.isEnabled||!d.isEnabled||i.isCollapsed||f.method!=="paste"||i.rangeCount>1)return;const k=i.getFirstRange(),b=f.dataTransfer.getData("text/plain");if(!b)return;const w=b.match(yN);w&&w[2]===b&&(r.change(A=>{this._selectEntireLinks(A,k),d.execute(b)}),h.stop())},{priority:"high"})}_enableTypingHandling(){const n=this.editor,r=new VM(n.model,i=>{if(!function(d){return d.length>4&&d[d.length-1]===" "&&d[d.length-2]!==" "}(i))return;const l=_N(i.substr(0,i.length-1));return l?{url:l}:void 0});r.on("matched:data",(i,l)=>{const{batch:d,range:h,url:f}=l;if(!d.isTyping)return;const k=h.end.getShiftedBy(-1),b=k.getShiftedBy(-f.length),w=n.model.createRange(b,k);this._applyAutoLink(f,w)}),r.bind("isEnabled").to(this)}_enableEnterHandling(){const n=this.editor,r=n.model,i=n.commands.get("enter");i&&i.on("execute",()=>{const l=r.document.selection.getFirstPosition();if(!l.parent.previousSibling)return;const d=r.createRangeIn(l.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(d)})}_enableShiftEnterHandling(){const n=this.editor,r=n.model,i=n.commands.get("shiftEnter");i&&i.on("execute",()=>{const l=r.document.selection.getFirstPosition(),d=r.createRange(r.createPositionAt(l.parent,0),l.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(d)})}_checkAndApplyAutoLinkOnRange(n){const r=this.editor.model,{text:i,range:l}=$M(n,r),d=_N(i);if(d){const h=r.createRange(l.end.getShiftedBy(-d.length),l.end);this._applyAutoLink(d,h)}}_applyAutoLink(n,r){const i=this.editor.model,l=a_(n,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(d,h){return h.schema.checkAttributeInSelection(h.createSelection(d),"linkHref")}(r,i)&&uN(l)&&!function(d){const h=d.start.nodeAfter;return!!h&&h.hasAttribute("linkHref")}(r)&&this._persistAutoLink(l,r)}_persistAutoLink(n,r){const i=this.editor.model,l=this.editor.plugins.get("Delete");i.enqueueChange(d=>{d.setAttribute("linkHref",n,r),i.enqueueChange(()=>{l.requestUndoOnBackspace()})})}}function _N(a){const n=yN.exec(a);return n?n[2]:null}var CN=c(4808),hee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(CN.A,hee),CN.A.locals;class Pr{constructor(n,r){this._startElement=n,this._referenceIndent=n.getAttribute("listIndent"),this._isForward=r.direction=="forward",this._includeSelf=!!r.includeSelf,this._sameAttributes=qt(r.sameAttributes||[]),this._sameIndent=!!r.sameIndent,this._lowerIndent=!!r.lowerIndent,this._higherIndent=!!r.higherIndent}static first(n,r){return qn(new this(n,r)[Symbol.iterator]())}*[Symbol.iterator](){const n=[];for(const{node:r}of fh(this._getStartNode(),this._isForward?"forward":"backward")){const i=r.getAttribute("listIndent");if(i<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=i}else if(i>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){n.push(r);continue}}else{if(!this._sameIndent){if(this._higherIndent){n.length&&(yield*n,n.length=0);break}continue}if(this._sameAttributes.some(l=>r.getAttribute(l)!==this._startElement.getAttribute(l)))break}n.length&&(yield*n,n.length=0),yield r}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*fh(a,n="forward"){const r=n=="forward",i=[];let l=null;for(;zn(a);){let d=null;if(l){const h=a.getAttribute("listIndent"),f=l.getAttribute("listIndent");h>f?i[f]=l:h<f?(d=i[h],i.length=h):d=l}yield{node:a,previous:l,previousNodeInList:d},l=a,a=r?a.nextSibling:a.previousSibling}}class pee{constructor(n){this._listHead=n}[Symbol.iterator](){return fh(this._listHead,"forward")}}var fee=Object.defineProperty,gee=Object.defineProperties,mee=Object.getOwnPropertyDescriptors,AN=Object.getOwnPropertySymbols,kee=Object.prototype.hasOwnProperty,bee=Object.prototype.propertyIsEnumerable,xN=(a,n,r)=>n in a?fee(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,gh=(a,n)=>{for(var r in n||(n={}))kee.call(n,r)&&xN(a,r,n[r]);if(AN)for(var r of AN(n))bee.call(n,r)&&xN(a,r,n[r]);return a},c_=(a,n)=>gee(a,mee(n));class zc{static next(){return B()}}function zn(a){return!!a&&a.is("element")&&a.hasAttribute("listItemId")}function d_(a,n={}){return[...Gs(a,c_(gh({},n),{direction:"backward"})),...Gs(a,c_(gh({},n),{direction:"forward"}))]}function Gs(a,n={}){const r=n.direction=="forward",i=Array.from(new Pr(a,c_(gh({},n),{includeSelf:r,sameIndent:!0,sameAttributes:"listItemId"})));return r?i:i.reverse()}function EN(a,n){const r=new Pr(a,gh({sameIndent:!0,sameAttributes:"listType"},n)),i=new Pr(a,gh({sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"},n));return[...Array.from(r).reverse(),...i]}function dl(a){return!Pr.first(a,{sameIndent:!0,sameAttributes:"listItemId"})}function SN(a){return!Pr.first(a,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function mh(a,n={}){a=qt(a);const r=n.withNested!==!1,i=new Set;for(const l of a)for(const d of d_(l,{higherIndent:r}))i.add(d);return ul(i)}function vee(a){a=qt(a);const n=new Set;for(const r of a)for(const i of EN(r))n.add(i);return ul(n)}function u_(a,n){const r=Gs(a,{direction:"forward"}),i=zc.next();for(const l of r)n.setAttribute("listItemId",i,l);return r}function h_(a,n,r){const i={};for(const[d,h]of n.getAttributes())d.startsWith("list")&&(i[d]=h);const l=Gs(a,{direction:"forward"});for(const d of l)r.setAttributes(i,d);return l}function p_(a,n,{expand:r,indentBy:i=1}={}){a=qt(a);const l=r?mh(a):a;for(const d of l){const h=d.getAttribute("listIndent")+i;h<0?Im(d,n):n.setAttribute("listIndent",h,d)}return l}function Im(a,n){a=qt(a);for(const r of a)r.is("element","listItem")&&n.rename(r,"paragraph");for(const r of a)for(const i of r.getAttributeKeys())i.startsWith("list")&&n.removeAttribute(i,r);return a}function kh(a){if(!a.length)return!1;const n=a[0].getAttribute("listItemId");return!!n&&!a.some(r=>r.getAttribute("listItemId")!=n)}function ul(a){return Array.from(a).filter(n=>n.root.rootName!=="$graveyard").sort((n,r)=>n.index-r.index)}function bh(a){const n=a.document.selection.getSelectedElement();return n&&a.schema.isObject(n)&&a.schema.isBlock(n)?n:null}function f_(a,n){return n.checkChild(a.parent,"listItem")&&n.checkChild(a,"$text")&&!n.isObject(a)}function wee(a){return a=="numbered"||a=="customNumbered"}function yee(a,n,r){return Gs(n,{direction:"forward"}).pop().index>a.index?h_(a,n,r):[]}class TN extends dt{constructor(n,r){super(n),this._direction=r}refresh(){this.isEnabled=this._checkEnabled()}execute(){const n=this.editor.model,r=IN(n.document.selection);n.change(i=>{const l=[];kh(r)&&!dl(r[0])?(this._direction=="forward"&&l.push(...p_(r,i)),l.push(...u_(r[0],i))):this._direction=="forward"?l.push(...p_(r,i,{expand:!0})):l.push(...function(d,h){const f=mh(d=qt(d)),k=new Set,b=Math.min(...f.map(A=>A.getAttribute("listIndent"))),w=new Map;for(const A of f)w.set(A,Pr.first(A,{lowerIndent:!0}));for(const A of f){if(k.has(A))continue;k.add(A);const E=A.getAttribute("listIndent")-1;if(E<0)Im(A,h);else{if(A.getAttribute("listIndent")==b){const I=yee(A,w.get(A),h);for(const O of I)k.add(O);if(I.length)continue}h.setAttribute("listIndent",E,A)}}return ul(k)}(r,i));for(const d of l){if(!d.hasAttribute("listType"))continue;const h=Pr.first(d,{sameIndent:!0});h&&i.setAttribute("listType",h.getAttribute("listType"),d)}this._fireAfterExecute(l)})}_fireAfterExecute(n){this.fire("afterExecute",ul(new Set(n)))}_checkEnabled(){let n=IN(this.editor.model.document.selection),r=n[0];if(!r)return!1;if(this._direction=="backward"||kh(n)&&!dl(n[0]))return!0;n=mh(n),r=n[0];const i=Pr.first(r,{sameIndent:!0});return!!i&&i.getAttribute("listType")==r.getAttribute("listType")}}function IN(a){const n=Array.from(a.getSelectedBlocks()),r=n.findIndex(i=>!zn(i));return r!=-1&&(n.length=r),n}var _ee=Object.defineProperty,Cee=Object.defineProperties,Aee=Object.getOwnPropertyDescriptors,DN=Object.getOwnPropertySymbols,xee=Object.prototype.hasOwnProperty,Eee=Object.prototype.propertyIsEnumerable,MN=(a,n,r)=>n in a?_ee(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,g_=(a,n)=>{for(var r in n||(n={}))xee.call(n,r)&&MN(a,r,n[r]);if(DN)for(var r of DN(n))Eee.call(n,r)&&MN(a,r,n[r]);return a},m_=(a,n)=>Cee(a,Aee(n));class Dm extends dt{constructor(n,r,i={}){super(n),this.type=r,this._listWalkerOptions=i.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(n={}){const r=this.editor.model,i=r.document,l=bh(r),d=Array.from(i.selection.getSelectedBlocks()).filter(f=>r.schema.checkAttribute(f,"listType")||f_(f,r.schema)),h=n.forceValue!==void 0?!n.forceValue:this.value;r.change(f=>{if(h){const k=d[d.length-1],b=Gs(k,{direction:"forward"}),w=[];b.length>1&&w.push(...u_(b[1],f)),w.push(...Im(d,f)),w.push(...function(A,E){const I=[];let O=Number.POSITIVE_INFINITY;for(const{node:L}of fh(A.nextSibling,"forward")){const F=L.getAttribute("listIndent");if(F==0)break;F<O&&(O=F);const W=F-O;E.setAttribute("listIndent",W,L),I.push(L)}return I}(k,f)),this._fireAfterExecute(w)}else if((l||i.selection.isCollapsed)&&zn(d[0])){const k=EN(l||d[0],this._listWalkerOptions);for(const b of k)f.setAttributes(m_(g_({},n.additionalAttributes),{listType:this.type}),b);this._fireAfterExecute(k)}else{const k=[];for(const b of d)if(b.hasAttribute("listType"))for(const w of mh(b,{withNested:!1}))w.getAttribute("listType")!=this.type&&(f.setAttributes(m_(g_({},n.additionalAttributes),{listType:this.type}),w),k.push(w));else!b.is("element","listItem")&&f_(b,r.schema)&&f.rename(b,"listItem"),f.setAttributes(m_(g_({},n.additionalAttributes),{listIndent:0,listItemId:zc.next(),listType:this.type}),b),k.push(b);this._fireAfterExecute(k)}})}_fireAfterExecute(n){this.fire("afterExecute",ul(new Set(n)))}_getValue(){const n=this.editor.model.document.selection,r=Array.from(n.getSelectedBlocks());if(!r.length)return!1;for(const i of r)if(i.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const n=this.editor.model,r=n.schema,i=n.document.selection,l=Array.from(i.getSelectedBlocks());if(!l.length)return!1;if(this.value)return!0;for(const d of l)if(r.checkAttribute(d,"listType")||f_(d,r))return!0;return!1}}class PN extends dt{constructor(n,r){super(n),this._direction=r}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:n=!1}={}){const r=this.editor.model,i=r.document.selection,l=[];r.change(d=>{const{firstElement:h,lastElement:f}=this._getMergeSubjectElements(i,n),k=h.getAttribute("listIndent")||0,b=f.getAttribute("listIndent"),w=f.getAttribute("listItemId");if(k!=b){const E=(A=f,Array.from(new Pr(A,{direction:"forward",higherIndent:!0})));l.push(...p_([f,...E],d,{indentBy:k-b,expand:k<b}))}var A;if(n){let E=i;i.isCollapsed&&(E=d.createSelection(d.createRange(d.createPositionAt(h,"end"),d.createPositionAt(f,0)))),r.deleteContent(E,{doNotResetEntireContent:i.isCollapsed});const I=E.getLastPosition().parent,O=I.nextSibling;l.push(I),O&&O!==f&&O.getAttribute("listItemId")==w&&l.push(...h_(O,I,d))}else l.push(...h_(f,h,d));this._fireAfterExecute(l)})}_fireAfterExecute(n){this.fire("afterExecute",ul(new Set(n)))}_checkEnabled(){const n=this.editor.model,r=n.document.selection,i=bh(n);if(r.isCollapsed||i){const l=i||r.getFirstPosition().parent;if(!zn(l))return!1;const d=this._direction=="backward"?l.previousSibling:l.nextSibling;if(!d||kh([l,d]))return!1}else{const l=r.getLastPosition(),d=r.getFirstPosition();if(l.parent===d.parent||!zn(l.parent))return!1}return!0}_getMergeSubjectElements(n,r){const i=bh(this.editor.model);let l,d;if(n.isCollapsed||i){const h=i||n.getFirstPosition().parent,f=dl(h);this._direction=="backward"?(d=h,l=f&&!r?Pr.first(h,{sameIndent:!0,lowerIndent:!0}):h.previousSibling):(l=h,d=h.nextSibling)}else l=n.getFirstPosition().parent,d=n.getLastPosition().parent;return{firstElement:l,lastElement:d}}}class NN extends dt{constructor(n,r){super(n),this._direction=r}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(n=>{const r=u_(this._getStartBlock(),n);this._fireAfterExecute(r)})}_fireAfterExecute(n){this.fire("afterExecute",ul(new Set(n)))}_checkEnabled(){const n=this.editor.model.document.selection,r=this._getStartBlock();return n.isCollapsed&&zn(r)&&!dl(r)}_getStartBlock(){const n=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?n:n.nextSibling}}class See extends pe{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(n){return vee(n)}isFirstBlockOfListItem(n){return dl(n)}isListItemBlock(n){return zn(n)}expandListBlocksToCompleteItems(n,r={}){return mh(n,r)}isNumberedListType(n){return wee(n)}}function RN(a){return a.is("element","ol")||a.is("element","ul")}function Mm(a){return a.is("element","li")}function Tee(a,n,r,i=BN(r,n)){return a.createAttributeElement(ON(r),null,{priority:2*n/100-100,id:i})}function Iee(a,n,r){return a.createAttributeElement("li",null,{priority:(2*n+1)/100-100,id:r})}function ON(a){return a=="numbered"||a=="customNumbered"?"ol":"ul"}function BN(a,n){return`list-${a}-${n}`}function ci(a,n){const r=a.nodeBefore;if(zn(r)){let i=r;for(const{node:l}of fh(i,"backward"))if(i=l,n.has(i))return;n.set(r,i)}else{const i=a.nodeAfter;zn(i)&&n.set(i,i)}}function Dee(){return(a,n,r)=>{const{writer:i,schema:l}=r;if(!n.modelRange)return;const d=Array.from(n.modelRange.getItems({shallow:!0})).filter(A=>l.checkAttribute(A,"listItemId"));if(!d.length)return;const h=zc.next(),f=function(A){let E=0,I=A.parent;for(;I;){if(Mm(I))E++;else{const O=I.previousSibling;O&&Mm(O)&&E++}I=I.parent}return E}(n.viewItem);let k=n.viewItem.parent&&n.viewItem.parent.is("element","ol")?"numbered":"bulleted";const b=d[0].getAttribute("listType");b&&(k=b);const w={listItemId:h,listIndent:f,listType:k};for(const A of d)A.hasAttribute("listItemId")||i.setAttributes(w,A);d.length>1&&d[1].getAttribute("listItemId")!=w.listItemId&&r.keepEmptyElement(d[0])}}function LN(){return(a,n,r)=>{if(!r.consumable.test(n.viewItem,{name:!0}))return;const i=new os(n.viewItem.document);for(const l of Array.from(n.viewItem.getChildren()))Mm(l)||RN(l)||i.remove(l)}}function jN(a,n,r,{dataPipeline:i}={}){const l=function(d){return(h,f)=>{const k=[];for(const b of d)h.hasAttribute(b)&&k.push(`attribute:${b}`);return!!k.every(b=>f.test(h,b)!==!1)&&(k.forEach(b=>f.consume(h,b)),!0)}}(a);return(d,h,f)=>{const{writer:k,mapper:b,consumable:w}=f,A=h.item;if(!a.includes(h.attributeKey)||!l(A,w))return;const E=function(O,L,F){const W=F.createRangeOn(O);return L.toViewRange(W).getTrimmed().end.nodeBefore}(A,b,r);FN(E,k,b),function(O,L){let F=O.parent;for(;F.is("attributeElement")&&["ul","ol","li"].includes(F.name);){const W=F.parent;L.unwrap(L.createRangeOn(O),F),F=W}}(E,k);const I=function(O,L,F,W,{dataPipeline:Y}){let J=W.createRangeOn(L);if(!dl(O))return J;for(const ce of F){if(ce.scope!="itemMarker")continue;const we=ce.createElement(W,O,{dataPipeline:Y});if(!we||(W.setCustomProperty("listItemMarker",!0,we),ce.canInjectMarkerIntoElement&&ce.canInjectMarkerIntoElement(O)?W.insert(W.createPositionAt(L,0),we):(W.insert(J.start,we),J=W.createRange(W.createPositionBefore(we),W.createPositionAfter(L))),!ce.createWrapperElement||!ce.canWrapElement))continue;const Ve=ce.createWrapperElement(W,O,{dataPipeline:Y});W.setCustomProperty("listItemWrapper",!0,Ve),ce.canWrapElement(O)?J=W.wrap(J,Ve):(J=W.wrap(W.createRangeOn(we),Ve),J=W.createRange(J.start,W.createPositionAfter(L)))}return J}(A,E,n,k,{dataPipeline:i});(function(O,L,F,W){if(!O.hasAttribute("listIndent"))return;const Y=O.getAttribute("listIndent");let J=O;for(let ce=Y;ce>=0;ce--){const we=Iee(W,ce,J.getAttribute("listItemId")),Ve=Tee(W,ce,J.getAttribute("listType"));for(const rt of F)rt.scope!="list"&&rt.scope!="item"||!J.hasAttribute(rt.attributeName)||rt.setAttributeOnDowncast(W,J.getAttribute(rt.attributeName),rt.scope=="list"?Ve:we);if(L=W.wrap(L,we),L=W.wrap(L,Ve),ce==0||(J=Pr.first(J,{lowerIndent:!0}),!J))break}})(A,I,n,k)}}function zN(a,{dataPipeline:n}={}){return(r,{writer:i})=>{if(!$N(r,a))return null;if(!n)return i.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const l=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,l),l}}function FN(a,n,r){for(;a.parent.is("attributeElement")&&a.parent.getCustomProperty("listItemWrapper");)n.unwrap(n.createRangeOn(a),a.parent);const i=[];l(n.createPositionBefore(a).getWalker({direction:"backward"})),l(n.createRangeIn(a).getWalker());for(const d of i)n.remove(d);function l(d){for(const{item:h}of d){if(h.is("element")&&r.toModelElement(h))break;h.is("element")&&h.getCustomProperty("listItemMarker")&&i.push(h)}}}function $N(a,n,r=d_(a)){if(!zn(a))return!1;for(const i of a.getAttributeKeys())if(!i.startsWith("selection:")&&!n.includes(i))return!1;return r.length<2}var VN=c(1232),Mee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(VN.A,Mee),VN.A.locals;var UN=c(6903),Pee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(UN.A,Pee),UN.A.locals;const Pm=["listType","listIndent","listItemId"];class Nee extends pe{constructor(n){super(n),this._downcastStrategies=[],n.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get requires(){return[gm,as,See,Dr]}init(){const n=this.editor,r=n.model,i=n.config.get("list.multiBlock");if(n.plugins.has("LegacyListEditing"))throw new M("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});r.schema.register("$listItem",{allowAttributes:Pm}),i?(r.schema.extend("$container",{allowAttributesOf:"$listItem"}),r.schema.extend("$block",{allowAttributesOf:"$listItem"}),r.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):r.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const l of Pm)r.schema.setAttributeProperties(l,{copyOnReplace:!0});n.commands.add("numberedList",new Dm(n,"numbered")),n.commands.add("bulletedList",new Dm(n,"bulleted")),n.commands.add("customNumberedList",new Dm(n,"customNumbered",{multiLevel:!0})),n.commands.add("customBulletedList",new Dm(n,"customBulleted",{multiLevel:!0})),n.commands.add("indentList",new TN(n,"forward")),n.commands.add("outdentList",new TN(n,"backward")),n.commands.add("splitListItemBefore",new NN(n,"before")),n.commands.add("splitListItemAfter",new NN(n,"after")),i&&(n.commands.add("mergeListItemBackward",new PN(n,"backward")),n.commands.add("mergeListItemForward",new PN(n,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const n=this.editor.commands,r=n.get("indent"),i=n.get("outdent");r&&r.registerChildCommand(n.get("indentList"),{priority:"high"}),i&&i.registerChildCommand(n.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(n){this._downcastStrategies.push(n)}getListAttributeNames(){return[...Pm,...this._downcastStrategies.map(n=>n.attributeName)]}_setupDeleteIntegration(){const n=this.editor,r=n.commands.get("mergeListItemBackward"),i=n.commands.get("mergeListItemForward");this.listenTo(n.editing.view.document,"delete",(l,d)=>{const h=n.model.document.selection;bh(n.model)||n.model.change(()=>{const f=h.getFirstPosition();if(h.isCollapsed&&d.direction=="backward"){if(!f.isAtStart)return;const k=f.parent;if(!zn(k))return;if(Pr.first(k,{sameAttributes:"listType",sameIndent:!0})||k.getAttribute("listIndent")!==0){if(!r||!r.isEnabled)return;r.execute({shouldMergeOnBlocksContentLevel:HN(n.model,"backward")})}else SN(k)||n.execute("splitListItemAfter"),n.execute("outdentList");d.preventDefault(),l.stop()}else{if(h.isCollapsed&&!h.getLastPosition().isAtEnd||!i||!i.isEnabled)return;i.execute({shouldMergeOnBlocksContentLevel:HN(n.model,"forward")}),d.preventDefault(),l.stop()}})},{context:"li"})}_setupEnterIntegration(){const n=this.editor,r=n.model,i=n.commands,l=i.get("enter");this.listenTo(n.editing.view.document,"enter",(d,h)=>{const f=r.document,k=f.selection.getFirstPosition().parent;if(f.selection.isCollapsed&&zn(k)&&k.isEmpty&&!h.isSoft){const b=dl(k),w=SN(k);b&&w?(n.execute("outdentList"),h.preventDefault(),d.stop()):b&&!w?(n.execute("splitListItemAfter"),h.preventDefault(),d.stop()):w&&(n.execute("splitListItemBefore"),h.preventDefault(),d.stop())}},{context:"li"}),this.listenTo(l,"afterExecute",()=>{const d=i.get("splitListItemBefore");d.refresh(),d.isEnabled&&d_(n.model.document.selection.getLastPosition().parent).length===2&&d.execute()})}_setupTabIntegration(){const n=this.editor;this.listenTo(n.editing.view.document,"tab",(r,i)=>{const l=i.shiftKey?"outdentList":"indentList";this.editor.commands.get(l).isEnabled&&(n.execute(l),i.stopPropagation(),i.preventDefault(),r.stop())},{context:"li"})}_setupConversion(){const n=this.editor,r=n.model,i=this.getListAttributeNames(),l=n.config.get("list.multiBlock"),d=l?"paragraph":"listItem";n.conversion.for("upcast").elementToElement({view:"li",model:(b,{writer:w})=>w.createElement(d,{listType:""})}).elementToElement({view:"p",model:(b,{writer:w})=>b.parent&&b.parent.is("element","li")?w.createElement(d,{listType:""}):null,converterPriority:"high"}).add(b=>{b.on("element:li",Dee()),b.on("element:ul",LN(),{priority:"high"}),b.on("element:ol",LN(),{priority:"high"})}),l||n.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),n.conversion.for("editingDowncast").elementToElement({model:d,view:zN(i),converterPriority:"high"}).add(b=>{var w;b.on("attribute",jN(i,this._downcastStrategies,r)),b.on("remove",(w=r.schema,(A,E,I)=>{const{writer:O,mapper:L}=I,F=A.name.split(":")[1];if(!w.checkAttribute(F,"listItemId"))return;const W=L.toViewPosition(E.position),Y=E.position.getShiftedBy(E.length),J=L.toViewPosition(Y,{isPhantom:!0}),ce=O.createRange(W,J).getTrimmed().end.nodeBefore;ce&&FN(ce,O,L)}))}),n.conversion.for("dataDowncast").elementToElement({model:d,view:zN(i,{dataPipeline:!0}),converterPriority:"high"}).add(b=>{b.on("attribute",jN(i,this._downcastStrategies,r,{dataPipeline:!0}))});const h=(f=this._downcastStrategies,k=n.editing.view,(b,w)=>{if(w.modelPosition.offset>0)return;const A=w.modelPosition.parent;if(!zn(A)||!f.some(F=>F.scope=="itemMarker"&&F.canInjectMarkerIntoElement&&F.canInjectMarkerIntoElement(A)))return;const E=w.mapper.toViewElement(A),I=k.createRangeIn(E),O=I.getWalker();let L=I.start;for(const{item:F}of O){if(F.is("element")&&w.mapper.toModelElement(F)||F.is("$textProxy"))break;F.is("element")&&F.getCustomProperty("listItemMarker")&&(L=k.createPositionAfter(F),O.skip(({previousPosition:W})=>!W.isEqual(L)))}w.viewPosition=L});var f,k;n.editing.mapper.on("modelToViewPosition",h),n.data.mapper.on("modelToViewPosition",h),this.listenTo(r.document,"change:data",function(b,w,A,E){return()=>{const F=b.document.differ.getChanges(),W=[],Y=new Map,J=new Set;for(const ce of F)if(ce.type=="insert"&&ce.name!="$text")ci(ce.position,Y),ce.attributes.has("listItemId")?J.add(ce.position.nodeAfter):ci(ce.position.getShiftedBy(ce.length),Y);else if(ce.type=="remove"&&ce.attributes.has("listItemId"))ci(ce.position,Y);else if(ce.type=="attribute"){const we=ce.range.start.nodeAfter;A.includes(ce.attributeKey)?(ci(ce.range.start,Y),ce.attributeNewValue===null?(ci(ce.range.start.getShiftedBy(1),Y),O(we)&&W.push(we)):J.add(we)):zn(we)&&O(we)&&W.push(we)}for(const ce of Y.values())W.push(...I(ce,J));for(const ce of new Set(W))w.reconvertItem(ce)};function I(F,W){const Y=[],J=new Set,ce=[];for(const{node:we,previous:Ve}of fh(F,"forward")){if(J.has(we))continue;const rt=we.getAttribute("listIndent");Ve&&rt<Ve.getAttribute("listIndent")&&(ce.length=rt+1),ce[rt]=Object.fromEntries(Array.from(we.getAttributes()).filter(([Fn])=>A.includes(Fn)));const Gt=Gs(we,{direction:"forward"});for(const Fn of Gt)J.add(Fn),(O(Fn,Gt)||L(Fn,ce,W))&&Y.push(Fn)}return Y}function O(F,W){const Y=w.mapper.toViewElement(F);if(!Y)return!1;if(E.fire("checkElement",{modelElement:F,viewElement:Y}))return!0;if(!F.is("element","paragraph")&&!F.is("element","listItem"))return!1;const J=$N(F,A,W);return!(!J||!Y.is("element","p"))||!(J||!Y.is("element","span"))}function L(F,W,Y){if(Y.has(F))return!1;const J=w.mapper.toViewElement(F);let ce=W.length-1;for(let we=J.parent;!we.is("editableElement");we=we.parent){const Ve=Mm(we),rt=RN(we);if(!rt&&!Ve)continue;const Gt="checkAttributes:"+(Ve?"item":"list");if(E.fire(Gt,{viewElement:we,modelAttributes:W[ce]}))break;if(rt&&(ce--,ce<0))return!1}return!0}}(r,n.editing,i,this),{priority:"high"}),this.on("checkAttributes:item",(b,{viewElement:w,modelAttributes:A})=>{w.id!=A.listItemId&&(b.return=!0,b.stop())}),this.on("checkAttributes:list",(b,{viewElement:w,modelAttributes:A})=>{w.name==ON(A.listType)&&w.id==BN(A.listType,A.listIndent)||(b.return=!0,b.stop())})}_setupModelPostFixing(){const n=this.editor.model,r=this.getListAttributeNames();n.document.registerPostFixer(i=>function(l,d,h,f){const k=l.document.differ.getChanges(),b=new Map,w=f.editor.config.get("list.multiBlock");let A=!1;for(const I of k){if(I.type=="insert"&&I.name!="$text"){const O=I.position.nodeAfter;if(!l.schema.checkAttribute(O,"listItemId"))for(const L of Array.from(O.getAttributeKeys()))h.includes(L)&&(d.removeAttribute(L,O),A=!0);ci(I.position,b),I.attributes.has("listItemId")||ci(I.position.getShiftedBy(I.length),b);for(const{item:L,previousPosition:F}of l.createRangeIn(O))zn(L)&&ci(F,b)}else I.type=="remove"?ci(I.position,b):I.type=="attribute"&&h.includes(I.attributeKey)&&(ci(I.range.start,b),I.attributeNewValue===null&&ci(I.range.start.getShiftedBy(1),b));if(!w&&I.type=="attribute"&&Pm.includes(I.attributeKey)){const O=I.range.start.nodeAfter;I.attributeNewValue===null&&O&&O.is("element","listItem")?(d.rename(O,"paragraph"),A=!0):I.attributeOldValue===null&&O&&O.is("element")&&O.name!="listItem"&&(d.rename(O,"listItem"),A=!0)}}const E=new Set;for(const I of b.values())A=f.fire("postFixer",{listNodes:new pee(I),listHead:I,writer:d,seenIds:E})||A;return A}(n,i,r,this)),this.on("postFixer",(i,{listNodes:l,writer:d})=>{i.return=function(h,f){let k=0,b=-1,w=null,A=!1;for(const{node:E}of h){const I=E.getAttribute("listIndent");if(I>k){let O;w===null?(w=I-k,O=k):(w>I&&(w=I),O=I-w),O>b+1&&(O=b+1),f.setAttribute("listIndent",O,E),A=!0,b=O}else w=null,k=I+1,b=I}return A}(l,d)||i.return},{priority:"high"}),this.on("postFixer",(i,{listNodes:l,writer:d,seenIds:h})=>{i.return=function(f,k,b){const w=new Set;let A=!1;for(const{node:E}of f){if(w.has(E))continue;let I=E.getAttribute("listType"),O=E.getAttribute("listItemId");if(k.has(O)&&(O=zc.next()),k.add(O),E.is("element","listItem"))E.getAttribute("listItemId")!=O&&(b.setAttribute("listItemId",O,E),A=!0);else for(const L of Gs(E,{direction:"forward"}))w.add(L),L.getAttribute("listType")!=I&&(O=zc.next(),I=L.getAttribute("listType")),L.getAttribute("listItemId")!=O&&(b.setAttribute("listItemId",O,L),A=!0)}return A}(l,h,d)||i.return},{priority:"high"})}_setupClipboardIntegration(){const n=this.editor.model,r=this.editor.plugins.get("ClipboardPipeline");this.listenTo(n,"insertContent",function(i){return(l,[d,h])=>{const f=d.is("documentFragment")?Array.from(d.getChildren()):[d];if(!f.length)return;const k=(h?i.createSelection(h):i.document.selection).getFirstPosition();let b;if(zn(k.parent))b=k.parent;else{if(!zn(k.nodeBefore))return;b=k.nodeBefore}i.change(w=>{const A=b.getAttribute("listType"),E=b.getAttribute("listIndent"),I=f[0].getAttribute("listIndent")||0,O=Math.max(E-I,0);for(const L of f){const F=zn(L);b.is("element","listItem")&&L.is("element","paragraph")&&w.rename(L,"listItem"),w.setAttributes({listIndent:(F?L.getAttribute("listIndent"):0)+O,listItemId:F?L.getAttribute("listItemId"):zc.next(),listType:A},L)}})}}(n),{priority:"high"}),this.listenTo(r,"outputTransformation",(i,l)=>{n.change(d=>{const h=Array.from(l.content.getChildren()),f=h[h.length-1];if(h.length>1&&f.is("element")&&f.isEmpty&&h.slice(0,-1).every(zn)&&d.remove(f),l.method=="copy"||l.method=="cut"){const k=Array.from(l.content.getChildren());kh(k)&&Im(k,d)}})})}_setupAccessibilityIntegration(){const n=this.editor,r=n.t;n.accessibility.addKeystrokeInfoGroup({id:"list",label:r("Keystrokes that can be used in a list"),keystrokes:[{label:r("Increase list item indent"),keystroke:"Tab"},{label:r("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function HN(a,n){const r=a.document.selection;if(!r.isCollapsed)return!bh(a);if(n==="forward")return!0;const i=r.getFirstPosition().parent,l=i.previousSibling;return!a.schema.isObject(l)&&(!!l.isEmpty||kh([i,l]))}function WN(a,n,r,i){a.ui.componentFactory.add(n,()=>{const l=qN(At,a,n,r,i);return l.set({tooltip:!0,isToggleable:!0}),l}),a.ui.componentFactory.add(`menuBar:${n}`,()=>qN(lr,a,n,r,i))}function qN(a,n,r,i,l){const d=n.commands.get(r),h=new a(n.locale);return h.set({label:i,icon:l}),h.bind("isOn","isEnabled").to(d,"value","isEnabled"),h.on("execute",()=>{n.execute(r),n.editing.view.focus()}),h}class Ree extends pe{static get pluginName(){return"ListUI"}init(){const n=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||WN(this.editor,"numberedList",n("Numbered List"),Ze.numberedList),this.editor.ui.componentFactory.has("bulletedList")||WN(this.editor,"bulletedList",n("Bulleted List"),Ze.bulletedList)}}class Oee extends pe{static get requires(){return[Nee,Ree]}static get pluginName(){return"List"}}const Bee=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:a,typeAttribute:n,listType:r}of Bee);var GN=c(9968),Lee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(GN.A,Lee),GN.A.locals;var KN=c(7141),jee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(KN.A,jee),KN.A.locals,$u("Ctrl+Enter");var YN=c(8991),zee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(YN.A,zee),YN.A.locals,$u("Ctrl+Enter");function QN(a,n){const r=(i,l,d)=>{if(!d.consumable.consume(l.item,i.name))return;const h=l.attributeNewValue,f=d.writer,k=d.mapper.toViewElement(l.item),b=[...k.getChildren()].find(A=>A.getCustomProperty("media-content"));f.remove(b);const w=a.getMediaViewElement(f,h,n);f.insert(f.createPositionAt(k,0),w)};return i=>{i.on("attribute:url:media",r)}}function ZN(a,n,r,i){return a.createContainerElement("figure",{class:"media"},[n.getMediaViewElement(a,r,i),a.createSlot()])}function JN(a){const n=a.getSelectedElement();return n&&n.is("element","media")?n:null}function XN(a,n,r,i){a.change(l=>{const d=l.createElement("media",{url:n});a.insertObject(d,r,null,{setSelection:"on",findOptimalPosition:i?"auto":void 0})})}class Fee extends dt{refresh(){const n=this.editor.model,r=n.document.selection,i=JN(r);this.value=i?i.getAttribute("url"):void 0,this.isEnabled=function(l){const d=l.getSelectedElement();return!!d&&d.name==="media"}(r)||function(l,d){let f=t4(l,d).start.parent;return f.isEmpty&&!d.schema.isLimit(f)&&(f=f.parent),d.schema.checkChild(f,"media")}(r,n)}execute(n){const r=this.editor.model,i=r.document.selection,l=JN(i);l?r.change(d=>{d.setAttribute("url",n,l)}):XN(r,n,i,!0)}}class $ee{constructor(n,r){const i=r.providers,l=r.extraProviders||[],d=new Set(r.removeProviders),h=i.concat(l).filter(f=>{const k=f.name;return k?!d.has(k):(U("media-embed-no-provider-name",{provider:f}),!1)});this.locale=n,this.providerDefinitions=h}hasMedia(n){return!!this._getMedia(n)}getMediaViewElement(n,r,i){return this._getMedia(r).getViewElement(n,i)}_getMedia(n){if(!n)return new eR(this.locale);n=n.trim();for(const r of this.providerDefinitions){const i=r.html,l=qt(r.url);for(const d of l){const h=this._getUrlMatches(n,d);if(h)return new eR(this.locale,n,h,i)}}return null}_getUrlMatches(n,r){let i=n.match(r);if(i)return i;let l=n.replace(/^https?:\/\//,"");return i=l.match(r),i||(l=l.replace(/^www\./,""),i=l.match(r),i||null)}}class eR{constructor(n,r,i,l){this.url=this._getValidUrl(r),this._locale=n,this._match=i,this._previewRenderer=l}getViewElement(n,r){const i={};let l;if(r.renderForEditingView||r.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(i["data-oembed-url"]=this.url),r.renderForEditingView&&(i.class="ck-media__wrapper");const d=this._getPreviewHtml(r);l=n.createRawElement("div",i,(h,f)=>{f.setContentOf(h,d)})}else this.url&&(i.url=this.url),l=n.createEmptyElement(r.elementName,i);return n.setCustomProperty("media-content",!0,l),l}_getPreviewHtml(n){return this._previewRenderer?this._previewRenderer(this._match):this.url&&n.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const n=new rs,r=this._locale.t;return n.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',n.viewBox="0 0 64 42",new ni({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[n]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":r("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(n){return n?n.match(/^https?/)?n:"https://"+n:null}}var tR=c(7048),Vee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(tR.A,Vee),tR.A.locals;class Nm extends pe{constructor(n){super(n),n.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:r=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${r[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:r=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${r[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:r=>{const i=r[1],l=r[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${i}${l?`?start=${l}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:r=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${r[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new $ee(n.locale,n.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const n=this.editor,r=n.model.schema,i=n.t,l=n.conversion,d=n.config.get("mediaEmbed.previewsInData"),h=n.config.get("mediaEmbed.elementName"),f=this.registry;n.commands.add("mediaEmbed",new Fee(n)),r.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),l.for("dataDowncast").elementToStructure({model:"media",view:(k,{writer:b})=>{const w=k.getAttribute("url");return ZN(b,f,w,{elementName:h,renderMediaPreview:!!w&&d})}}),l.for("dataDowncast").add(QN(f,{elementName:h,renderMediaPreview:d})),l.for("editingDowncast").elementToStructure({model:"media",view:(k,{writer:b})=>{const w=k.getAttribute("url");return function(A,E,I){return E.setCustomProperty("media",!0,A),Wy(A,E,{label:I})}(ZN(b,f,w,{elementName:h,renderForEditingView:!0}),b,i("media widget"))}}),l.for("editingDowncast").add(QN(f,{elementName:h,renderForEditingView:!0})),l.for("upcast").elementToElement({view:k=>["oembed",h].includes(k.name)&&k.getAttribute("url")?{name:!0}:null,model:(k,{writer:b})=>{const w=k.getAttribute("url");return f.hasMedia(w)?b.createElement("media",{url:w}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(k,{writer:b})=>{const w=k.getAttribute("data-oembed-url");return f.hasMedia(w)?b.createElement("media",{url:w}):null}}).add(k=>{k.on("element:figure",(b,w,A)=>{if(!A.consumable.consume(w.viewItem,{name:!0,classes:"media"}))return;const{modelRange:E,modelCursor:I}=A.convertChildren(w.viewItem,w.modelCursor);w.modelRange=E,w.modelCursor=I,qn(E.getItems())||A.consumable.revert(w.viewItem,{name:!0,classes:"media"})})})}}const Uee=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class Hee extends pe{constructor(n){super(n),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[w4,as,x4]}static get pluginName(){return"AutoMediaEmbed"}init(){const n=this.editor,r=n.model.document,i=n.plugins.get("ClipboardPipeline");this.listenTo(i,"inputTransformation",()=>{const l=r.selection.getFirstRange(),d=no.fromPosition(l.start);d.stickiness="toPrevious";const h=no.fromPosition(l.end);h.stickiness="toNext",r.once("change:data",()=>{this._embedMediaBetweenPositions(d,h),d.detach(),h.detach()},{priority:"high"})}),n.commands.get("undo").on("execute",()=>{this._timeoutId&&(m.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(n,r){const i=this.editor,l=i.plugins.get(Nm).registry,d=new sr(n,r),h=d.getWalker({ignoreElementEnd:!0});let f="";for(const k of h)k.item.is("$textProxy")&&(f+=k.item.data);if(f=f.trim(),!f.match(Uee)||!l.hasMedia(f))return void d.detach();i.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=no.fromPosition(n),this._timeoutId=m.window.setTimeout(()=>{i.model.change(k=>{this._timeoutId=null,k.remove(d),d.detach();let b=null;this._positionToInsert.root.rootName!=="$graveyard"&&(b=this._positionToInsert),XN(i.model,f,b,!1),this._positionToInsert.detach(),this._positionToInsert=null}),i.plugins.get(as).requestUndoOnBackspace()},100)):d.detach()}}var nR=c(5651),Wee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(nR.A,Wee),nR.A.locals;class qee extends Le{constructor(n,r){super(r);const i=r.t;this.focusTracker=new Gn,this.keystrokes=new Io,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(i("Save"),Ze.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),Ze.cancel,"ck-button-cancel","cancel"),this._focusables=new Sr,this._focusCycler=new Ir({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=n,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),Pg({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(r=>{this._focusables.add(r),this.focusTracker.add(r.element)}),this.keystrokes.listenTo(this.element);const n=r=>r.stopPropagation();this.keystrokes.set("arrowright",n),this.keystrokes.set("arrowleft",n),this.keystrokes.set("arrowup",n),this.keystrokes.set("arrowdown",n)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(n){this.urlInputView.fieldView.element.value=n.trim()}isValid(){this.resetFormStatus();for(const n of this._validators){const r=n(this);if(r)return this.urlInputView.errorText=r,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const n=this.locale.t,r=new em(this.locale,om),i=r.fieldView;return this._urlInputViewInfoDefault=n("Paste the media URL in the input."),this._urlInputViewInfoTip=n("Tip: Paste the URL into the content to embed faster."),r.label=n("Media URL"),r.infoText=this._urlInputViewInfoDefault,i.on("input",()=>{r.infoText=i.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=i.element.value.trim()}),r}_createButton(n,r,i,l){const d=new At(this.locale);return d.set({label:n,icon:r,tooltip:!0}),d.extendTemplate({attributes:{class:i}}),l&&d.delegate("execute").to(this,l),d}}class Gee extends pe{static get requires(){return[Nm]}static get pluginName(){return"MediaEmbedUI"}init(){const n=this.editor,r=n.commands.get("mediaEmbed");n.ui.componentFactory.add("mediaEmbed",i=>{const l=is(i);return this._setUpDropdown(l,r),l})}_setUpDropdown(n,r){const i=this.editor,l=i.t,d=n.buttonView,h=i.plugins.get(Nm).registry;n.once("change:isOpen",()=>{const f=new(Uw(qee))(function(k,b){return[w=>{if(!w.url.length)return k("The URL must not be empty.")},w=>{if(!b.hasMedia(w.url))return k("This media URL is not supported.")}]}(i.t,h),i.locale);n.panelView.children.add(f),d.on("open",()=>{f.disableCssTransitions(),f.url=r.value||"",f.urlInputView.fieldView.select(),f.enableCssTransitions()},{priority:"low"}),n.on("submit",()=>{f.isValid()&&(i.execute("mediaEmbed",f.url),i.editing.view.focus())}),n.on("change:isOpen",()=>f.resetFormStatus()),n.on("cancel",()=>{i.editing.view.focus()}),f.delegate("submit","cancel").to(n),f.urlInputView.fieldView.bind("value").to(r,"value"),f.urlInputView.on("change:errorText",()=>{i.ui.update()}),f.urlInputView.bind("isEnabled").to(r,"isEnabled")}),n.bind("isEnabled").to(r),d.set({label:l("Insert media"),icon:'<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',tooltip:!0})}}var oR=c(70),Kee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(oR.A,Kee),oR.A.locals;function rR(a){return a!==void 0&&a.endsWith("px")}function Fc(a){return a.toFixed(2).replace(/\.?0+$/,"")+"px"}var Yee=Object.defineProperty,Qee=Object.defineProperties,Zee=Object.getOwnPropertyDescriptors,iR=Object.getOwnPropertySymbols,Jee=Object.prototype.hasOwnProperty,Xee=Object.prototype.propertyIsEnumerable,sR=(a,n,r)=>n in a?Yee(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,ete=(a,n)=>{for(var r in n||(n={}))Jee.call(n,r)&&sR(a,r,n[r]);if(iR)for(var r of iR(n))Xee.call(n,r)&&sR(a,r,n[r]);return a};function tte(a,n,r){if(!a.childCount)return;const i=new os(a.document),l=function(k,b){const w=b.createRangeIn(k),A=[],E=new Set;for(const I of w.getItems()){if(!I.is("element")||!I.name.match(/^(p|h\d+|li|div)$/))continue;let O=cte(I);if(O===void 0||parseFloat(O)!=0||Array.from(I.getClassNames()).find(L=>L.startsWith("MsoList"))||(O=void 0),I.hasStyle("mso-list")||O!==void 0&&E.has(O)){const L=ate(I);A.push({element:I,id:L.id,order:L.order,indent:L.indent,marginLeft:O}),O!==void 0&&E.add(O)}else E.clear()}return A}(a,i);if(!l.length)return;const d={},h=[];for(const k of l)if(k.indent!==void 0){nte(k)||(h.length=0);const b=`${k.id}:${k.indent}`,w=Math.min(k.indent-1,h.length);if(w<h.length&&h[w].id!==k.id&&(h.length=w),w<h.length-1)h.length=w+1;else{const E=rte(k,n);if(w>h.length-1||h[w].listElement.name!=E.type){w==0&&E.type=="ol"&&k.id!==void 0&&d[b]&&(E.startIndex=d[b]);const I=ste(E,i,r);if(rR(k.marginLeft)&&(w==0||rR(h[w-1].marginLeft))){let O=k.marginLeft;w>0&&(O=Fc(parseFloat(O)-parseFloat(h[w-1].marginLeft))),i.setStyle("padding-left",O,I)}if(h.length==0){const O=k.element.parent,L=O.getChildIndex(k.element)+1;i.insertChild(L,I,O)}else{const O=h[w-1].listItemElements;i.appendChild(I,O[O.length-1])}h[w]=(f=ete({},k),Qee(f,Zee({listElement:I,listItemElements:[]}))),w==0&&k.id!==void 0&&(d[b]=E.startIndex||1)}}const A=k.element.name=="li"?k.element:i.createElement("li");i.appendChild(A,h[w].listElement),h[w].listItemElements.push(A),w==0&&k.id!==void 0&&d[b]++,k.element!=A&&i.appendChild(k.element,A),lte(k.element,i),i.removeStyle("text-indent",k.element),i.removeStyle("margin-left",k.element)}else{const b=h.find(w=>w.marginLeft==k.marginLeft);if(b){const w=b.listItemElements;i.appendChild(k.element,w[w.length-1]),i.removeStyle("margin-left",k.element)}else h.length=0}var f}function nte(a){const n=a.element.previousSibling;return ote(n||a.element.parent)}function ote(a){return a.is("element","ol")||a.is("element","ul")}function rte(a,n){const r=new RegExp(`@list l${a.id}:level${a.indent}\\s*({[^}]*)`,"gi"),i=/mso-level-number-format:([^;]{0,100});/gi,l=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,d=new RegExp(`@list\\s+l${a.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),h=new RegExp(`@list l${a.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),f=d.exec(n),k=h.exec(n),b=f&&!k,w=r.exec(n);let A="decimal",E="ol",I=null;if(w&&w[1]){const O=i.exec(w[1]);if(O&&O[1]&&(A=O[1].trim(),E=A!=="bullet"&&A!=="image"?"ol":"ul"),A==="bullet"){const L=function(F){if(F.name=="li"&&F.parent.name=="ul"&&F.parent.hasAttribute("type"))return F.parent.getAttribute("type");const W=function(J){if(J.getChild(0).is("$text"))return null;for(const ce of J.getChildren()){if(!ce.is("element","span"))continue;const we=ce.getChild(0);if(we)return we.is("$text")?we:we.getChild(0)}return null}(F);if(!W)return null;const Y=W._data;return Y==="o"?"circle":Y===""?"disc":Y===""?"square":null}(a.element);L&&(A=L)}else{const L=l.exec(w[1]);L&&L[1]&&(I=parseInt(L[1]))}b&&(E="ol")}return{type:E,startIndex:I,style:ite(A),isLegalStyleList:b}}function ite(a){if(a.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(a){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return a;default:return null}}function ste(a,n,r){const i=n.createElement(a.type);return a.style&&n.setStyle("list-style-type",a.style,i),a.startIndex&&a.startIndex>1&&n.setAttribute("start",a.startIndex,i),a.isLegalStyleList&&r&&n.addClass("legal-list",i),i}function ate(a){const n=a.getStyle("mso-list");if(n===void 0)return{};const r=n.match(/(^|\s{1,100})l(\d+)/i),i=n.match(/\s{0,100}lfo(\d+)/i),l=n.match(/\s{0,100}level(\d+)/i);return r&&i&&l?{id:r[2],order:i[1],indent:parseInt(l[1])}:{indent:1}}function lte(a,n){const r=new xi({name:"span",styles:{"mso-list":"Ignore"}}),i=n.createRangeIn(a);for(const l of i)l.type==="elementStart"&&r.match(l.item)&&n.remove(l.item)}function cte(a){const n=a.getStyle("margin-left");return n===void 0||n.endsWith("px")?n:function(r){const i=parseFloat(r);return r.endsWith("pt")?Fc(96*i/72):r.endsWith("pc")?Fc(12*i*96/72):r.endsWith("in")?Fc(96*i):r.endsWith("cm")?Fc(96*i/2.54):r.endsWith("mm")?Fc(i/10*96/2.54):r}(n)}function dte(a,n){if(!a.childCount)return;const r=new os(a.document),i=function(d,h){const f=h.createRangeIn(d),k=new xi({name:/v:(.+)/}),b=[];for(const w of f){if(w.type!="elementStart")continue;const A=w.item,E=A.previousSibling,I=E&&E.is("element")?E.name:null,O=["Chart"],L=k.match(A),F=A.getAttribute("o:gfxdata"),W=I==="v:shapetype",Y=F&&O.some(J=>A.getAttribute("id").includes(J));L&&F&&!W&&!Y&&b.push(w.item.getAttribute("id"))}return b}(a,r);(function(d,h,f){const k=f.createRangeIn(h),b=new xi({name:"img"}),w=[];for(const A of k)if(A.item.is("element")&&b.match(A.item)){const E=A.item,I=E.getAttribute("v:shapes")?E.getAttribute("v:shapes").split(" "):[];I.length&&I.every(O=>d.indexOf(O)>-1)?w.push(E):E.getAttribute("src")||w.push(E)}for(const A of w)f.remove(A)})(i,a,r),function(d,h,f){const k=f.createRangeIn(h),b=[];for(const E of k)if(E.type=="elementStart"&&E.item.is("element","v:shape")){const I=E.item.getAttribute("id");if(d.includes(I))continue;w(E.item.parent.getChildren(),I)||b.push(E.item)}for(const E of b){const I={src:A(E)};E.hasAttribute("alt")&&(I.alt=E.getAttribute("alt"));const O=f.createElement("img",I);f.insertChild(E.index+1,O,E.parent)}function w(E,I){for(const O of E)if(O.is("element")&&(O.name=="img"&&O.getAttribute("v:shapes")==I||w(O.getChildren(),I)))return!0;return!1}function A(E){for(const I of E.getChildren())if(I.is("element")&&I.getAttribute("src"))return I.getAttribute("src")}}(i,a,r),function(d,h){const f=h.createRangeIn(d),k=new xi({name:/v:(.+)/}),b=[];for(const w of f)w.type=="elementStart"&&k.match(w.item)&&b.push(w.item);for(const w of b)h.remove(w)}(a,r);const l=function(d,h){const f=h.createRangeIn(d),k=new xi({name:"img"}),b=[];for(const w of f)w.item.is("element")&&k.match(w.item)&&w.item.getAttribute("src").startsWith("file://")&&b.push(w.item);return b}(a,r);l.length&&function(d,h,f){if(d.length===h.length)for(let k=0;k<d.length;k++){const b=`data:${h[k].type};base64,${ute(h[k].hex)}`;f.setAttribute("src",b,d[k])}}(l,function(d){if(!d)return[];const h=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,f=new RegExp("(?:("+h.source+"))([\\da-fA-F\\s]+)\\}","g"),k=d.match(f),b=[];if(k)for(const w of k){let A=!1;w.includes("\\pngblip")?A="image/png":w.includes("\\jpegblip")&&(A="image/jpeg"),A&&b.push({hex:w.replace(h,"").replace(/[^\da-fA-F]/g,""),type:A})}return b}(n),r)}function ute(a){return btoa(a.match(/\w{2}/g).map(n=>String.fromCharCode(parseInt(n,16))).join(""))}const hte=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,pte=/xmlns:o="urn:schemas-microsoft-com/i;class fte{constructor(n,r=!1){this.document=n,this.hasMultiLevelListPlugin=r}isActive(n){return hte.test(n)||pte.test(n)}execute(n){const{body:r,stylesString:i}=n._parsedData;tte(r,i,this.hasMultiLevelListPlugin),dte(r,n.dataTransfer.getData("text/rtf")),function(l){const d=[],h=new os(l.document);for(const{item:f}of h.createRangeIn(l))if(f.is("element")){for(const k of f.getClassNames())/\bmso/gi.exec(k)&&h.removeClass(k,f);for(const k of f.getStyleNames())/\bmso/gi.exec(k)&&h.removeStyle(k,f);(f.is("element","w:sdt")||f.is("element","w:sdtpr")&&f.isEmpty||f.is("element","o:p")&&f.isEmpty)&&d.push(f)}for(const f of d){const k=f.parent,b=k.getChildIndex(f);h.insertChild(b,f.getChildren(),k),h.remove(f)}}(r),n.content=r}}function aR(a,n,r,{blockElements:i,inlineObjectElements:l}){let d=r.createPositionAt(a,n=="forward"?"after":"before");return d=d.getLastMatchingPosition(({item:h})=>h.is("element")&&!i.includes(h.name)&&!l.includes(h.name),{direction:n}),n=="forward"?d.nodeAfter:d.nodeBefore}function lR(a,n){return!!a&&a.is("element")&&n.includes(a.name)}const gte=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class mte{constructor(n){this.document=n}isActive(n){return gte.test(n)}execute(n){const r=new os(this.document),{body:i}=n._parsedData;(function(l,d){for(const h of l.getChildren())if(h.is("element","b")&&h.getStyle("font-weight")==="normal"){const f=l.getChildIndex(h);d.remove(h),d.insertChild(f,h.getChildren(),l)}})(i,r),function(l,d){for(const h of d.createRangeIn(l)){const f=h.item;if(f.is("element","li")){const k=f.getChild(0);k&&k.is("element","p")&&d.unwrapElement(k)}}}(i,r),function(l,d){const h=new zg(d.document.stylesProcessor),f=new Vg(h,{renderingMode:"data"}),k=f.blockElements,b=f.inlineObjectElements,w=[];for(const A of d.createRangeIn(l)){const E=A.item;if(E.is("element","br")){const I=aR(E,"forward",d,{blockElements:k,inlineObjectElements:b}),O=aR(E,"backward",d,{blockElements:k,inlineObjectElements:b}),L=lR(I,k);(lR(O,k)||L)&&w.push(E)}}for(const A of w)A.hasClass("Apple-interchange-newline")?d.remove(A):d.replace(A,d.createElement("p"))}(i,r),n.content=i}}const kte=/<google-sheets-html-origin/i;class bte{constructor(n){this.document=n}isActive(n){return kte.test(n)}execute(n){const r=new os(this.document),{body:i}=n._parsedData;(function(l,d){for(const h of l.getChildren())if(h.is("element","google-sheets-html-origin")){const f=l.getChildIndex(h);d.remove(h),d.insertChild(f,h.getChildren(),l)}})(i,r),function(l,d){for(const h of l.getChildren())h.is("element","table")&&h.hasAttribute("xmlns")&&d.removeAttribute("xmlns",h)}(i,r),function(l,d){for(const h of l.getChildren())h.is("element","table")&&h.getStyle("width")==="0px"&&d.removeStyle("width",h)}(i,r),function(l,d){for(const h of Array.from(l.getChildren()))h.is("element","style")&&d.remove(h)}(i,r),n.content=i}}function cR(a){return a.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(n,r)=>r.length===1?" ":Array(r.length+1).join(" ").substr(0,r.length))}function vte(a,n){const r=new DOMParser,i=function(k){return cR(cR(k)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(k){const b="</body>",w="</html>",A=k.indexOf(b);if(A<0)return k;const E=k.indexOf(w,A+b.length);return k.substring(0,A+b.length)+(E>=0?k.substring(E):"")}(a=(a=a.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),l=r.parseFromString(i,"text/html");(function(k){k.querySelectorAll("span[style*=spacerun]").forEach(b=>{const w=b,A=w.innerText.length||0;w.innerText=Array(A+1).join(" ").substr(0,A)})})(l);const d=l.body.innerHTML,h=function(k,b){const w=new zg(b),A=new Vg(w,{renderingMode:"data"}),E=k.createDocumentFragment(),I=k.body.childNodes;for(;I.length>0;)E.appendChild(I[0]);return A.domToView(E,{skipComments:!0})}(l,n),f=function(k){const b=[],w=[],A=Array.from(k.getElementsByTagName("style"));for(const E of A)E.sheet&&E.sheet.cssRules&&E.sheet.cssRules.length&&(b.push(E.sheet),w.push(E.innerHTML));return{styles:b,stylesString:w.join(" ")}}(l);return{body:h,bodyString:d,styles:f.styles,stylesString:f.stylesString}}function bn(a,n,r,i,l=1){n!=null&&l!=null&&n>l?i.setAttribute(a,n,r):i.removeAttribute(a,r)}function hl(a,n,r={}){const i=a.createElement("tableCell",r);return a.insertElement("paragraph",i),a.insert(i,n),i}function k_(a,n){const r=n.parent.parent,i=parseInt(r.getAttribute("headingColumns")||"0"),{column:l}=a.getCellLocation(n);return!!i&&l<i}function wte(){return a=>{a.on("element:table",(n,r,i)=>{const l=r.viewItem;if(!i.consumable.test(l,{name:!0}))return;const{rows:d,headingRows:h,headingColumns:f}=function(w){let A,E=0;const I=[],O=[];let L;for(const F of Array.from(w.getChildren())){if(F.name!=="tbody"&&F.name!=="thead"&&F.name!=="tfoot")continue;F.name!=="thead"||L||(L=F);const W=Array.from(F.getChildren()).filter(Y=>Y.is("element","tr"));for(const Y of W)if(L&&F===L||F.name==="tbody"&&Array.from(Y.getChildren()).length&&Array.from(Y.getChildren()).every(J=>J.is("element","th")))E++,I.push(Y);else{O.push(Y);const J=yte(Y);(!A||J<A)&&(A=J)}}return{headingRows:E,headingColumns:A||0,rows:[...I,...O]}}(l),k={};f&&(k.headingColumns=f),h&&(k.headingRows=h);const b=i.writer.createElement("table",k);if(i.safeInsert(b,r.modelCursor)){if(i.consumable.consume(l,{name:!0}),d.forEach(w=>i.convertItem(w,i.writer.createPositionAt(b,"end"))),i.convertChildren(l,i.writer.createPositionAt(b,"end")),b.isEmpty){const w=i.writer.createElement("tableRow");i.writer.insert(w,i.writer.createPositionAt(b,"end")),hl(i.writer,i.writer.createPositionAt(w,"end"))}i.updateConversionResult(b,r)}})}}function dR(a){return n=>{n.on(`element:${a}`,(r,i,{writer:l})=>{if(!i.modelRange)return;const d=i.modelRange.start.nodeAfter,h=l.createPositionAt(d,0);if(i.viewItem.isEmpty)return void l.insertElement("paragraph",h);const f=Array.from(d.getChildren());if(f.every(k=>k.is("element","$marker"))){const k=l.createElement("paragraph");l.insert(k,l.createPositionAt(d,0));for(const b of f)l.move(l.createRangeOn(b),l.createPositionAt(k,"end"))}},{priority:"low"})}}function yte(a){let n=0,r=0;const i=Array.from(a.getChildren()).filter(l=>l.name==="th"||l.name==="td");for(;r<i.length&&i[r].name==="th";){const l=i[r];n+=parseInt(l.getAttribute("colspan")||"1"),r++}return n}class Bt{constructor(n,r={}){this._jumpedToStartRow=!1,this._table=n,this._startRow=r.row!==void 0?r.row:r.startRow||0,this._endRow=r.row!==void 0?r.row:r.endRow,this._startColumn=r.column!==void 0?r.column:r.startColumn||0,this._endColumn=r.column!==void 0?r.column:r.endColumn,this._includeAllSlots=!!r.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const n=this._table.getChild(this._rowIndex);if(!n||this._isOverEndRow())return{done:!0,value:void 0};if(!n.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let r=null;const i=this._getSpanned();if(i)this._includeAllSlots&&!this._shouldSkipSlot()&&(r=this._formatOutValue(i.cell,i.row,i.column));else{const l=n.getChild(this._cellIndex);if(!l)return this._advanceToNextRow();const d=parseInt(l.getAttribute("colspan")||"1"),h=parseInt(l.getAttribute("rowspan")||"1");(d>1||h>1)&&this._recordSpans(l,h,d),this._shouldSkipSlot()||(r=this._formatOutValue(l)),this._nextCellAtColumn=this._column+d}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,r||this.next()}skipRow(n){this._skipRows.add(n)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(n,r=this._row,i=this._column){return{done:!1,value:new _te(this,n,r,i)}}_shouldSkipSlot(){const n=this._skipRows.has(this._row),r=this._row<this._startRow,i=this._column<this._startColumn,l=this._endColumn!==void 0&&this._column>this._endColumn;return n||r||i||l}_getSpanned(){const n=this._spannedCells.get(this._row);return n&&n.get(this._column)||null}_recordSpans(n,r,i){const l={cell:n,row:this._row,column:this._column};for(let d=this._row;d<this._row+r;d++)for(let h=this._column;h<this._column+i;h++)d==this._row&&h==this._column||this._markSpannedCell(d,h,l)}_markSpannedCell(n,r,i){this._spannedCells.has(n)||this._spannedCells.set(n,new Map),this._spannedCells.get(n).set(r,i)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const n=this._getRowLength(0);for(let r=this._startRow;!this._jumpedToStartRow;r--)n===this._getRowLength(r)&&(this._row=r,this._rowIndex=r,this._jumpedToStartRow=!0)}_getRowLength(n){return[...this._table.getChild(n).getChildren()].reduce((r,i)=>r+parseInt(i.getAttribute("colspan")||"1"),0)}}class _te{constructor(n,r,i,l){this.cell=r,this.row=n._row,this.column=n._column,this.cellAnchorRow=i,this.cellAnchorColumn=l,this._cellIndex=n._cellIndex,this._rowIndex=n._rowIndex,this._table=n._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function uR(a,n){return(r,{writer:i})=>{const l=r.getAttribute("headingRows")||0,d=i.createContainerElement("table",null,[]),h=i.createContainerElement("figure",{class:"table"},d);l>0&&i.insert(i.createPositionAt(d,"end"),i.createContainerElement("thead",null,i.createSlot(f=>f.is("element","tableRow")&&f.index<l))),l<a.getRows(r)&&i.insert(i.createPositionAt(d,"end"),i.createContainerElement("tbody",null,i.createSlot(f=>f.is("element","tableRow")&&f.index>=l)));for(const{positionOffset:f,filter:k}of n.additionalSlots)i.insert(i.createPositionAt(d,f),i.createSlot(k));return i.insert(i.createPositionAt(d,"after"),i.createSlot(f=>!f.is("element","tableRow")&&!n.additionalSlots.some(({filter:k})=>k(f)))),n.asWidget?function(f,k){return k.setCustomProperty("table",!0,f),Wy(f,k,{hasSelectionHandle:!0})}(h,i):h}}function hR(a={}){return(n,{writer:r})=>{const i=n.parent,l=i.parent,d=l.getChildIndex(i),h=new Bt(l,{row:d}),f=l.getAttribute("headingRows")||0,k=l.getAttribute("headingColumns")||0;let b=null;for(const w of h)if(w.cell==n){const A=w.row<f||w.column<k?"th":"td";b=a.asWidget?e4(r.createEditableElement(A),r):r.createContainerElement(A);break}return b}}function pR(a={}){return(n,{writer:r})=>{if(!n.parent.is("element","tableCell")||!fR(n))return null;if(a.asWidget)return r.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const i=r.createContainerElement("p");return r.setCustomProperty("dataPipeline:transparentRendering",!0,i),i}}}function fR(a){return a.parent.childCount==1&&!!a.getAttributeKeys().next().done}class Cte extends dt{refresh(){const n=this.editor.model,r=n.document.selection,i=n.schema;this.isEnabled=function(l,d){const h=l.getFirstPosition().parent,f=h===h.root?h:h.parent;return d.checkChild(f,"table")}(r,i)}execute(n={}){const r=this.editor,i=r.model,l=r.plugins.get("TableUtils"),d=r.config.get("table.defaultHeadings.rows"),h=r.config.get("table.defaultHeadings.columns");n.headingRows===void 0&&d&&(n.headingRows=d),n.headingColumns===void 0&&h&&(n.headingColumns=h),i.change(f=>{const k=l.createTable(f,n);i.insertObject(k,null,null,{findOptimalPosition:"auto"}),f.setSelection(f.createPositionAt(k.getNodeByPath([0,0,0]),0))})}}class gR extends dt{constructor(n,r={}){super(n),this.order=r.order||"below"}refresh(){const n=this.editor.model.document.selection,r=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(n).length;this.isEnabled=r}execute(){const n=this.editor,r=n.model.document.selection,i=n.plugins.get("TableUtils"),l=this.order==="above",d=i.getSelectionAffectedTableCells(r),h=i.getRowIndexes(d),f=l?h.first:h.last,k=d[0].findAncestor("table");i.insertRows(k,{at:l?f:f+1,copyStructureFromAbove:!l})}}class mR extends dt{constructor(n,r={}){super(n),this.order=r.order||"right"}refresh(){const n=this.editor.model.document.selection,r=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(n).length;this.isEnabled=r}execute(){const n=this.editor,r=n.model.document.selection,i=n.plugins.get("TableUtils"),l=this.order==="left",d=i.getSelectionAffectedTableCells(r),h=i.getColumnIndexes(d),f=l?h.first:h.last,k=d[0].findAncestor("table");i.insertColumns(k,{columns:1,at:l?f:f+1})}}class kR extends dt{constructor(n,r={}){super(n),this.direction=r.direction||"horizontally"}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length===1}execute(){const n=this.editor.plugins.get("TableUtils"),r=n.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?n.splitCellHorizontally(r,2):n.splitCellVertically(r,2)}}function bR(a,n,r){const{startRow:i,startColumn:l,endRow:d,endColumn:h}=n,f=r.createElement("table"),k=d-i+1;for(let w=0;w<k;w++)r.insertElement("tableRow",f,"end");const b=[...new Bt(a,{startRow:i,endRow:d,startColumn:l,endColumn:h,includeAllSlots:!0})];for(const{row:w,column:A,cell:E,isAnchor:I,cellAnchorRow:O,cellAnchorColumn:L}of b){const F=w-i,W=f.getChild(F);if(I){const Y=r.cloneElement(E);r.append(Y,W),CR(Y,w,A,d,h,r)}else(O<i||L<l)&&hl(r,r.createPositionAt(W,"end"))}return function(w,A,E,I,O){const L=parseInt(A.getAttribute("headingRows")||"0");L>0&&bn("headingRows",L-E,w,O,0);const F=parseInt(A.getAttribute("headingColumns")||"0");F>0&&bn("headingColumns",F-I,w,O,0)}(f,a,i,l,r),f}function vR(a,n,r=0){const i=[],l=new Bt(a,{startRow:r,endRow:n-1});for(const d of l){const{row:h,cellHeight:f}=d;h<n&&n<=h+f-1&&i.push(d)}return i}function wR(a,n,r){const i=a.parent,l=i.parent,d=i.index,h=n-d,f={},k=parseInt(a.getAttribute("rowspan"))-h;k>1&&(f.rowspan=k);const b=parseInt(a.getAttribute("colspan")||"1");b>1&&(f.colspan=b);const w=d+h,A=[...new Bt(l,{startRow:d,endRow:w,includeAllSlots:!0})];let E,I=null;for(const O of A){const{row:L,column:F,cell:W}=O;W===a&&E===void 0&&(E=F),E!==void 0&&E===F&&L===w&&(I=hl(r,O.getPositionBefore(),f))}return bn("rowspan",h,a,r),I}function yR(a,n){const r=[],i=new Bt(a);for(const l of i){const{column:d,cellWidth:h}=l;d<n&&n<=d+h-1&&r.push(l)}return r}function _R(a,n,r,i){const l=r-n,d={},h=parseInt(a.getAttribute("colspan"))-l;h>1&&(d.colspan=h);const f=parseInt(a.getAttribute("rowspan")||"1");f>1&&(d.rowspan=f);const k=hl(i,i.createPositionAfter(a),d);return bn("colspan",l,a,i),k}function CR(a,n,r,i,l,d){const h=parseInt(a.getAttribute("colspan")||"1"),f=parseInt(a.getAttribute("rowspan")||"1");r+h-1>l&&bn("colspan",l-r+1,a,d,1),n+f-1>i&&bn("rowspan",i-n+1,a,d,1)}function b_(a,n){const r=n.getColumns(a),i=new Array(r).fill(0);for(const{column:d}of new Bt(a))i[d]++;const l=i.reduce((d,h,f)=>h?d:[...d,f],[]);if(l.length>0){const d=l[l.length-1];return n.removeColumns(a,{at:d}),!0}return!1}function v_(a,n){const r=[],i=n.getRows(a);for(let l=0;l<i;l++)a.getChild(l).isEmpty&&r.push(l);if(r.length>0){const l=r[r.length-1];return n.removeRows(a,{at:l}),!0}return!1}function w_(a,n){b_(a,n)||v_(a,n)}function AR(a,n){const r=Array.from(new Bt(a,{startColumn:n.firstColumn,endColumn:n.lastColumn,row:n.lastRow}));if(r.every(({cellHeight:l})=>l===1))return n.lastRow;const i=r[0].cellHeight-1;return n.lastRow+i}function xR(a,n){const r=Array.from(new Bt(a,{startRow:n.firstRow,endRow:n.lastRow,column:n.lastColumn}));if(r.every(({cellWidth:l})=>l===1))return n.lastColumn;const i=r[0].cellWidth-1;return n.lastColumn+i}class Rm extends dt{constructor(n,r){super(n),this.direction=r.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const n=this._getMergeableCell();this.value=n,this.isEnabled=!!n}execute(){const n=this.editor.model,r=n.document,i=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(r.selection)[0],l=this.value,d=this.direction;n.change(h=>{const f=d=="right"||d=="down",k=f?i:l,b=f?l:i,w=b.parent;(function(L,F,W){ER(L)||(ER(F)&&W.remove(W.createRangeIn(F)),W.move(W.createRangeIn(L),W.createPositionAt(F,"end"))),W.remove(L)})(b,k,h);const A=this.isHorizontal?"colspan":"rowspan",E=parseInt(i.getAttribute(A)||"1"),I=parseInt(l.getAttribute(A)||"1");h.setAttribute(A,E+I,k),h.setSelection(h.createRangeIn(k));const O=this.editor.plugins.get("TableUtils");w_(w.findAncestor("table"),O)})}_getMergeableCell(){const n=this.editor.model.document,r=this.editor.plugins.get("TableUtils"),i=r.getTableCellsContainingSelection(n.selection)[0];if(!i)return;const l=this.isHorizontal?function(f,k,b){const w=f.parent,A=w.parent,E=k=="right"?f.nextSibling:f.previousSibling,I=(A.getAttribute("headingColumns")||0)>0;if(!E)return;const O=k=="right"?f:E,L=k=="right"?E:f,{column:F}=b.getCellLocation(O),{column:W}=b.getCellLocation(L),Y=parseInt(O.getAttribute("colspan")||"1"),J=k_(b,O),ce=k_(b,L);if(!(I&&J!=ce))return F+Y===W?E:void 0}(i,this.direction,r):function(f,k,b){const w=f.parent,A=w.parent,E=A.getChildIndex(w);if(k=="down"&&E===b.getRows(A)-1||k=="up"&&E===0)return null;const I=parseInt(f.getAttribute("rowspan")||"1"),O=A.getAttribute("headingRows")||0,L=k=="down"&&E+I===O,F=k=="up"&&E===O;if(O&&(L||F))return null;const W=parseInt(f.getAttribute("rowspan")||"1"),Y=k=="down"?E+W:E,J=[...new Bt(A,{endRow:Y})],ce=J.find(rt=>rt.cell===f),we=ce.column,Ve=J.find(({row:rt,cellHeight:Gt,column:Fn})=>Fn===we&&(k=="down"?rt===Y:Y===rt+Gt));return Ve&&Ve.cell?Ve.cell:null}(i,this.direction,r);if(!l)return;const d=this.isHorizontal?"rowspan":"colspan",h=parseInt(i.getAttribute(d)||"1");return parseInt(l.getAttribute(d)||"1")===h?l:void 0}}function ER(a){const n=a.getChild(0);return a.childCount==1&&n.is("element","paragraph")&&n.isEmpty}class Ate extends dt{refresh(){const n=this.editor.plugins.get("TableUtils"),r=n.getSelectionAffectedTableCells(this.editor.model.document.selection),i=r[0];if(i){const l=i.findAncestor("table"),d=n.getRows(l)-1,h=n.getRowIndexes(r),f=h.first===0&&h.last===d;this.isEnabled=!f}else this.isEnabled=!1}execute(){const n=this.editor.model,r=this.editor.plugins.get("TableUtils"),i=r.getSelectionAffectedTableCells(n.document.selection),l=r.getRowIndexes(i),d=i[0],h=d.findAncestor("table"),f=r.getCellLocation(d).column;n.change(k=>{const b=l.last-l.first+1;r.removeRows(h,{at:l.first,rows:b});const w=function(A,E,I,O){const L=A.getChild(Math.min(E,O-1));let F=L.getChild(0),W=0;for(const Y of L.getChildren()){if(W>I)return F;F=Y,W+=parseInt(Y.getAttribute("colspan")||"1")}return F}(h,l.first,f,r.getRows(h));k.setSelection(k.createPositionAt(w,0))})}}class xte extends dt{refresh(){const n=this.editor.plugins.get("TableUtils"),r=n.getSelectionAffectedTableCells(this.editor.model.document.selection),i=r[0];if(i){const l=i.findAncestor("table"),d=n.getColumns(l),{first:h,last:f}=n.getColumnIndexes(r);this.isEnabled=f-h<d-1}else this.isEnabled=!1}execute(){const n=this.editor.plugins.get("TableUtils"),[r,i]=function(k,b){const w=b.getSelectionAffectedTableCells(k),A=w[0],E=w.pop(),I=[A,E];return A.isBefore(E)?I:I.reverse()}(this.editor.model.document.selection,n),l=r.parent.parent,d=[...new Bt(l)],h={first:d.find(k=>k.cell===r).column,last:d.find(k=>k.cell===i).column},f=function(k,b,w,A){return parseInt(w.getAttribute("colspan")||"1")>1?w:b.previousSibling||w.nextSibling?w.nextSibling||b.previousSibling:A.first?k.reverse().find(({column:I})=>I<A.first).cell:k.reverse().find(({column:I})=>I>A.last).cell}(d,r,i,h);this.editor.model.change(k=>{const b=h.last-h.first+1;n.removeColumns(l,{at:h.first,columns:b}),k.setSelection(k.createPositionAt(f,0))})}}class Ete extends dt{refresh(){const n=this.editor.plugins.get("TableUtils"),r=this.editor.model,i=n.getSelectionAffectedTableCells(r.document.selection),l=i.length>0;this.isEnabled=l,this.value=l&&i.every(d=>this._isInHeading(d,d.parent.parent))}execute(n={}){if(n.forceValue===this.value)return;const r=this.editor.plugins.get("TableUtils"),i=this.editor.model,l=r.getSelectionAffectedTableCells(i.document.selection),d=l[0].findAncestor("table"),{first:h,last:f}=r.getRowIndexes(l),k=this.value?h:f+1,b=d.getAttribute("headingRows")||0;i.change(w=>{if(k){const A=vR(d,k,k>b?b:0);for(const{cell:E}of A)wR(E,k,w)}bn("headingRows",k,d,w,0)})}_isInHeading(n,r){const i=parseInt(r.getAttribute("headingRows")||"0");return!!i&&n.parent.index<i}}class Ste extends dt{refresh(){const n=this.editor.model,r=this.editor.plugins.get("TableUtils"),i=r.getSelectionAffectedTableCells(n.document.selection),l=i.length>0;this.isEnabled=l,this.value=l&&i.every(d=>k_(r,d))}execute(n={}){if(n.forceValue===this.value)return;const r=this.editor.plugins.get("TableUtils"),i=this.editor.model,l=r.getSelectionAffectedTableCells(i.document.selection),d=l[0].findAncestor("table"),{first:h,last:f}=r.getColumnIndexes(l),k=this.value?h:f+1;i.change(b=>{if(k){const w=yR(d,k);for(const{cell:A,column:E}of w)_R(A,E,k,b)}bn("headingColumns",k,d,b,0)})}}function Tte(a){if(a.is("element","tableColumnGroup"))return a;const n=a.getChildren();return Array.from(n).find(r=>r.is("element","tableColumnGroup"))}function Ite(a){const n=Tte(a);return n?Array.from(n.getChildren()):[]}class oo extends pe{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(n){const r=n.parent,i=r.parent,l=i.getChildIndex(r),d=new Bt(i,{row:l});for(const{cell:h,row:f,column:k}of d)if(h===n)return{row:f,column:k}}createTable(n,r){const i=n.createElement("table"),l=r.rows||2,d=r.columns||2;return y_(n,i,0,l,d),r.headingRows&&bn("headingRows",Math.min(r.headingRows,l),i,n,0),r.headingColumns&&bn("headingColumns",Math.min(r.headingColumns,d),i,n,0),i}insertRows(n,r={}){const i=this.editor.model,l=r.at||0,d=r.rows||1,h=r.copyStructureFromAbove!==void 0,f=r.copyStructureFromAbove?l-1:l,k=this.getRows(n),b=this.getColumns(n);if(l>k)throw new M("tableutils-insertrows-insert-out-of-range",this,{options:r});i.change(w=>{const A=n.getAttribute("headingRows")||0;if(A>l&&bn("headingRows",A+d,n,w,0),!h&&(l===0||l===k))return void y_(w,n,l,d,b);const E=h?Math.max(l,f):l,I=new Bt(n,{endRow:E}),O=new Array(b).fill(1);for(const{row:L,column:F,cellHeight:W,cellWidth:Y,cell:J}of I){const ce=L+W-1,we=L<=f&&f<=ce;L<l&&l<=ce?(w.setAttribute("rowspan",W+d,J),O[F]=-Y):h&&we&&(O[F]=Y)}for(let L=0;L<d;L++){const F=w.createElement("tableRow");w.insert(F,n,l);for(let W=0;W<O.length;W++){const Y=O[W],J=w.createPositionAt(F,"end");Y>0&&hl(w,J,Y>1?{colspan:Y}:void 0),W+=Math.abs(Y)-1}}})}insertColumns(n,r={}){const i=this.editor.model,l=r.at||0,d=r.columns||1;i.change(h=>{const f=n.getAttribute("headingColumns");l<f&&h.setAttribute("headingColumns",f+d,n);const k=this.getColumns(n);if(l===0||k===l){for(const w of n.getChildren())w.is("element","tableRow")&&$c(d,h,h.createPositionAt(w,l?"end":0));return}const b=new Bt(n,{column:l,includeAllSlots:!0});for(const w of b){const{row:A,cell:E,cellAnchorColumn:I,cellAnchorRow:O,cellWidth:L,cellHeight:F}=w;if(I<l){h.setAttribute("colspan",L+d,E);const W=O+F-1;for(let Y=A;Y<=W;Y++)b.skipRow(Y)}else $c(d,h,w.getPositionBefore())}})}removeRows(n,r){const i=this.editor.model,l=r.rows||1,d=this.getRows(n),h=r.at,f=h+l-1;if(f>d-1)throw new M("tableutils-removerows-row-index-out-of-range",this,{table:n,options:r});i.change(k=>{const b={first:h,last:f},{cellsToMove:w,cellsToTrim:A}=function(E,{first:I,last:O}){const L=new Map,F=[];for(const{row:W,column:Y,cellHeight:J,cell:ce}of new Bt(E,{endRow:O})){const we=W+J-1;if(W>=I&&W<=O&&we>O){const Ve=J-(O-W+1);L.set(Y,{cell:ce,rowspan:Ve})}if(W<I&&we>=I){let Ve;Ve=we>=O?O-I+1:we-I+1,F.push({cell:ce,rowspan:J-Ve})}}return{cellsToMove:L,cellsToTrim:F}}(n,b);w.size&&function(E,I,O,L){const F=new Bt(E,{includeAllSlots:!0,row:I}),W=[...F],Y=E.getChild(I);let J;for(const{column:ce,cell:we,isAnchor:Ve}of W)if(O.has(ce)){const{cell:rt,rowspan:Gt}=O.get(ce),Fn=J?L.createPositionAfter(J):L.createPositionAt(Y,0);L.move(L.createRangeOn(rt),Fn),bn("rowspan",Gt,rt,L),J=rt}else Ve&&(J=we)}(n,f+1,w,k);for(let E=f;E>=h;E--)k.remove(n.getChild(E));for(const{rowspan:E,cell:I}of A)bn("rowspan",E,I,k);(function(E,{first:I,last:O},L){const F=E.getAttribute("headingRows")||0;I<F&&bn("headingRows",O<F?F-(O-I+1):I,E,L,0)})(n,b,k),b_(n,this)||v_(n,this)})}removeColumns(n,r){const i=this.editor.model,l=r.at,d=r.columns||1,h=r.at+d-1;i.change(f=>{(function(b,w,A){const E=b.getAttribute("headingColumns")||0;if(E&&w.first<E){const I=Math.min(E-1,w.last)-w.first+1;A.setAttribute("headingColumns",E-I,b)}})(n,{first:l,last:h},f);const k=Ite(n);for(let b=h;b>=l;b--){for(const{cell:w,column:A,cellWidth:E}of[...new Bt(n)])A<=b&&E>1&&A+E>b?bn("colspan",E-1,w,f):A===b&&f.remove(w);if(k[b]){const w=b===0?k[1]:k[b-1],A=parseFloat(k[b].getAttribute("columnWidth")),E=parseFloat(w.getAttribute("columnWidth"));f.remove(k[b]),f.setAttribute("columnWidth",A+E+"%",w)}}v_(n,this)||b_(n,this)})}splitCellVertically(n,r=2){const i=this.editor.model,l=n.parent.parent,d=parseInt(n.getAttribute("rowspan")||"1"),h=parseInt(n.getAttribute("colspan")||"1");i.change(f=>{if(h>1){const{newCellsSpan:k,updatedSpan:b}=SR(h,r);bn("colspan",b,n,f);const w={};k>1&&(w.colspan=k),d>1&&(w.rowspan=d),$c(h>r?r-1:h-1,f,f.createPositionAfter(n),w)}if(h<r){const k=r-h,b=[...new Bt(l)],{column:w}=b.find(({cell:O})=>O===n),A=b.filter(({cell:O,cellWidth:L,column:F})=>O!==n&&F===w||F<w&&F+L>w);for(const{cell:O,cellWidth:L}of A)f.setAttribute("colspan",L+k,O);const E={};d>1&&(E.rowspan=d),$c(k,f,f.createPositionAfter(n),E);const I=l.getAttribute("headingColumns")||0;I>w&&bn("headingColumns",I+k,l,f)}})}splitCellHorizontally(n,r=2){const i=this.editor.model,l=n.parent,d=l.parent,h=d.getChildIndex(l),f=parseInt(n.getAttribute("rowspan")||"1"),k=parseInt(n.getAttribute("colspan")||"1");i.change(b=>{if(f>1){const w=[...new Bt(d,{startRow:h,endRow:h+f-1,includeAllSlots:!0})],{newCellsSpan:A,updatedSpan:E}=SR(f,r);bn("rowspan",E,n,b);const{column:I}=w.find(({cell:L})=>L===n),O={};A>1&&(O.rowspan=A),k>1&&(O.colspan=k);for(const L of w){const{column:F,row:W}=L;W>=h+E&&F===I&&(W+h+E)%A==0&&$c(1,b,L.getPositionBefore(),O)}}if(f<r){const w=r-f,A=[...new Bt(d,{startRow:0,endRow:h})];for(const{cell:O,cellHeight:L,row:F}of A)if(O!==n&&F+L>h){const W=L+w;b.setAttribute("rowspan",W,O)}const E={};k>1&&(E.colspan=k),y_(b,d,h+1,w,1,E);const I=d.getAttribute("headingRows")||0;I>h&&bn("headingRows",I+w,d,b)}})}getColumns(n){return[...n.getChild(0).getChildren()].filter(r=>r.is("element","tableCell")).reduce((r,i)=>r+parseInt(i.getAttribute("colspan")||"1"),0)}getRows(n){return Array.from(n.getChildren()).reduce((r,i)=>i.is("element","tableRow")?r+1:r,0)}createTableWalker(n,r={}){return new Bt(n,r)}getSelectedTableCells(n){const r=[];for(const i of this.sortRanges(n.getRanges())){const l=i.getContainedElement();l&&l.is("element","tableCell")&&r.push(l)}return r}getTableCellsContainingSelection(n){const r=[];for(const i of n.getRanges()){const l=i.start.findAncestor("tableCell");l&&r.push(l)}return r}getSelectionAffectedTableCells(n){const r=this.getSelectedTableCells(n);return r.length?r:this.getTableCellsContainingSelection(n)}getRowIndexes(n){const r=n.map(i=>i.parent.index);return this._getFirstLastIndexesObject(r)}getColumnIndexes(n){const r=n[0].findAncestor("table"),i=[...new Bt(r)].filter(l=>n.includes(l.cell)).map(l=>l.column);return this._getFirstLastIndexesObject(i)}isSelectionRectangular(n){if(n.length<2||!this._areCellInTheSameTableSection(n))return!1;const r=new Set,i=new Set;let l=0;for(const h of n){const{row:f,column:k}=this.getCellLocation(h),b=parseInt(h.getAttribute("rowspan"))||1,w=parseInt(h.getAttribute("colspan"))||1;r.add(f),i.add(k),b>1&&r.add(f+b-1),w>1&&i.add(k+w-1),l+=b*w}return function(h,f){const k=Array.from(h.values()),b=Array.from(f.values()),w=Math.max(...k),A=Math.min(...k),E=Math.max(...b),I=Math.min(...b);return(w-A+1)*(E-I+1)}(r,i)==l}sortRanges(n){return Array.from(n).sort(Dte)}_getFirstLastIndexesObject(n){const r=n.sort((i,l)=>i-l);return{first:r[0],last:r[r.length-1]}}_areCellInTheSameTableSection(n){const r=n[0].findAncestor("table"),i=this.getRowIndexes(n),l=parseInt(r.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(i,l))return!1;const d=this.getColumnIndexes(n),h=parseInt(r.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(d,h)}_areIndexesInSameSection({first:n,last:r},i){return n<i==r<i}}function y_(a,n,r,i,l,d={}){for(let h=0;h<i;h++){const f=a.createElement("tableRow");a.insert(f,n,r),$c(l,a,a.createPositionAt(f,"end"),d)}}function $c(a,n,r,i={}){for(let l=0;l<a;l++)hl(n,r,i)}function SR(a,n){if(a<n)return{newCellsSpan:1,updatedSpan:1};const r=Math.floor(a/n);return{newCellsSpan:r,updatedSpan:a-r*n+r}}function Dte(a,n){const r=a.start,i=n.start;return r.isBefore(i)?-1:1}class Mte extends dt{refresh(){const n=this.editor.plugins.get(oo),r=n.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=n.isSelectionRectangular(r)}execute(){const n=this.editor.model,r=this.editor.plugins.get(oo);n.change(i=>{const l=r.getSelectedTableCells(n.document.selection),d=l.shift(),{mergeWidth:h,mergeHeight:f}=function(k,b,w){let A=0,E=0;for(const W of b){const{row:Y,column:J}=w.getCellLocation(W);A=IR(W,J,A,"colspan"),E=IR(W,Y,E,"rowspan")}const{row:I,column:O}=w.getCellLocation(k),L=A-O,F=E-I;return{mergeWidth:L,mergeHeight:F}}(d,l,r);bn("colspan",h,d,i),bn("rowspan",f,d,i);for(const k of l)Pte(k,d,i);w_(d.findAncestor("table"),r),i.setSelection(d,"in")})}}function Pte(a,n,r){TR(a)||(TR(n)&&r.remove(r.createRangeIn(n)),r.move(r.createRangeIn(a),r.createPositionAt(n,"end"))),r.remove(a)}function TR(a){const n=a.getChild(0);return a.childCount==1&&n.is("element","paragraph")&&n.isEmpty}function IR(a,n,r,i){const l=parseInt(a.getAttribute(i)||"1");return Math.max(r,n+l)}class Nte extends dt{constructor(n){super(n),this.affectsData=!1}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length>0}execute(){const n=this.editor.model,r=this.editor.plugins.get("TableUtils"),i=r.getSelectionAffectedTableCells(n.document.selection),l=r.getRowIndexes(i),d=i[0].findAncestor("table"),h=[];for(let f=l.first;f<=l.last;f++)for(const k of d.getChild(f).getChildren())h.push(n.createRangeOn(k));n.change(f=>{f.setSelection(h)})}}class Rte extends dt{constructor(n){super(n),this.affectsData=!1}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length>0}execute(){const n=this.editor.plugins.get("TableUtils"),r=this.editor.model,i=n.getSelectionAffectedTableCells(r.document.selection),l=i[0],d=i.pop(),h=l.findAncestor("table"),f=n.getCellLocation(l),k=n.getCellLocation(d),b=Math.min(f.column,k.column),w=Math.max(f.column,k.column),A=[];for(const E of new Bt(h,{startColumn:b,endColumn:w}))A.push(r.createRangeOn(E.cell));r.change(E=>{E.setSelection(A)})}}function Ote(a){a.document.registerPostFixer(n=>function(r,i){const l=i.document.differ.getChanges();let d=!1;const h=new Set;for(const f of l){let k=null;f.type=="insert"&&f.name=="table"&&(k=f.position.nodeAfter),f.type!="insert"&&f.type!="remove"||f.name!="tableRow"&&f.name!="tableCell"||(k=f.position.findAncestor("table")),jte(f)&&(k=f.range.start.findAncestor("table")),k&&!h.has(k)&&(d=Bte(k,r)||d,d=Lte(k,r)||d,h.add(k))}return d}(n,a))}function Bte(a,n){let r=!1;const i=function(l){const d=parseInt(l.getAttribute("headingRows")||"0"),h=Array.from(l.getChildren()).reduce((k,b)=>b.is("element","tableRow")?k+1:k,0),f=[];for(const{row:k,cell:b,cellHeight:w}of new Bt(l)){if(w<2)continue;const A=k<d?d:h;if(k+w>A){const E=A-k;f.push({cell:b,rowspan:E})}}return f}(a);if(i.length){r=!0;for(const l of i)bn("rowspan",l.rowspan,l.cell,n,1)}return r}function Lte(a,n){let r=!1;const i=function(f){const k=new Array(f.childCount).fill(0);for(const{rowIndex:b}of new Bt(f,{includeAllSlots:!0}))k[b]++;return k}(a),l=[];for(const[f,k]of i.entries())!k&&a.getChild(f).is("element","tableRow")&&l.push(f);if(l.length){r=!0;for(const f of l.reverse())n.remove(a.getChild(f)),i.splice(f,1)}const d=i.filter((f,k)=>a.getChild(k).is("element","tableRow")),h=d[0];if(!d.every(f=>f===h)){const f=d.reduce((k,b)=>b>k?b:k,0);for(const[k,b]of d.entries()){const w=f-b;if(w){for(let A=0;A<w;A++)hl(n,n.createPositionAt(a.getChild(k),"end"));r=!0}}}return r}function jte(a){if(a.type!=="attribute")return!1;const n=a.attributeKey;return n==="headingRows"||n==="colspan"||n==="rowspan"}function zte(a){a.document.registerPostFixer(n=>function(r,i){const l=i.document.differ.getChanges();let d=!1;for(const h of l)h.type=="insert"&&h.name=="table"&&(d=Fte(h.position.nodeAfter,r)||d),h.type=="insert"&&h.name=="tableRow"&&(d=DR(h.position.nodeAfter,r)||d),h.type=="insert"&&h.name=="tableCell"&&(d=__(h.position.nodeAfter,r)||d),h.type!="remove"&&h.type!="insert"||!$te(h)||(d=__(h.position.parent,r)||d);return d}(n,a))}function Fte(a,n){let r=!1;for(const i of a.getChildren())i.is("element","tableRow")&&(r=DR(i,n)||r);return r}function DR(a,n){let r=!1;for(const i of a.getChildren())r=__(i,n)||r;return r}function __(a,n){if(a.childCount==0)return n.insertElement("paragraph",a),!0;const r=Array.from(a.getChildren()).filter(i=>i.is("$text"));for(const i of r)n.wrap(n.createRangeOn(i),"paragraph");return!!r.length}function $te(a){return!!a.position.parent.is("element","tableCell")&&(a.type=="insert"&&a.name=="$text"||a.type=="remove")}function Vte(a,n){if(!a.is("element","paragraph"))return!1;const r=n.toViewElement(a);return!!r&&fR(a)!==r.is("element","span")}var MR=c(8137),Ute={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(MR.A,Ute),MR.A.locals;class Hte extends pe{constructor(n){super(n),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[oo]}init(){const n=this.editor,r=n.model,i=r.schema,l=n.conversion,d=n.plugins.get(oo);i.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),i.register("tableRow",{allowIn:"table",isLimit:!0}),i.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),l.for("upcast").add(h=>{h.on("element:figure",(f,k,b)=>{if(!b.consumable.test(k.viewItem,{name:!0,classes:"table"}))return;const w=function(E){for(const I of E.getChildren())if(I.is("element","table"))return I}(k.viewItem);if(!w||!b.consumable.test(w,{name:!0}))return;b.consumable.consume(k.viewItem,{name:!0,classes:"table"});const A=qn(b.convertItem(w,k.modelCursor).modelRange.getItems());A?(b.convertChildren(k.viewItem,b.writer.createPositionAt(A,"end")),b.updateConversionResult(A,k)):b.consumable.revert(k.viewItem,{name:!0,classes:"table"})})}),l.for("upcast").add(wte()),l.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:uR(d,{asWidget:!0,additionalSlots:this._additionalSlots})}),l.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:uR(d,{additionalSlots:this._additionalSlots})}),l.for("upcast").elementToElement({model:"tableRow",view:"tr"}),l.for("upcast").add(h=>{h.on("element:tr",(f,k)=>{k.viewItem.isEmpty&&k.modelCursor.index==0&&f.stop()},{priority:"high"})}),l.for("downcast").elementToElement({model:"tableRow",view:(h,{writer:f})=>h.isEmpty?f.createEmptyElement("tr"):f.createContainerElement("tr")}),l.for("upcast").elementToElement({model:"tableCell",view:"td"}),l.for("upcast").elementToElement({model:"tableCell",view:"th"}),l.for("upcast").add(dR("td")),l.for("upcast").add(dR("th")),l.for("editingDowncast").elementToElement({model:"tableCell",view:hR({asWidget:!0})}),l.for("dataDowncast").elementToElement({model:"tableCell",view:hR()}),l.for("editingDowncast").elementToElement({model:"paragraph",view:pR({asWidget:!0}),converterPriority:"high"}),l.for("dataDowncast").elementToElement({model:"paragraph",view:pR(),converterPriority:"high"}),l.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),l.for("upcast").attributeToAttribute({model:{key:"colspan",value:PR("colspan")},view:"colspan"}),l.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),l.for("upcast").attributeToAttribute({model:{key:"rowspan",value:PR("rowspan")},view:"rowspan"}),n.config.define("table.defaultHeadings.rows",0),n.config.define("table.defaultHeadings.columns",0),n.commands.add("insertTable",new Cte(n)),n.commands.add("insertTableRowAbove",new gR(n,{order:"above"})),n.commands.add("insertTableRowBelow",new gR(n,{order:"below"})),n.commands.add("insertTableColumnLeft",new mR(n,{order:"left"})),n.commands.add("insertTableColumnRight",new mR(n,{order:"right"})),n.commands.add("removeTableRow",new Ate(n)),n.commands.add("removeTableColumn",new xte(n)),n.commands.add("splitTableCellVertically",new kR(n,{direction:"vertically"})),n.commands.add("splitTableCellHorizontally",new kR(n,{direction:"horizontally"})),n.commands.add("mergeTableCells",new Mte(n)),n.commands.add("mergeTableCellRight",new Rm(n,{direction:"right"})),n.commands.add("mergeTableCellLeft",new Rm(n,{direction:"left"})),n.commands.add("mergeTableCellDown",new Rm(n,{direction:"down"})),n.commands.add("mergeTableCellUp",new Rm(n,{direction:"up"})),n.commands.add("setTableColumnHeader",new Ste(n)),n.commands.add("setTableRowHeader",new Ete(n)),n.commands.add("selectTableRow",new Nte(n)),n.commands.add("selectTableColumn",new Rte(n)),Ote(r),zte(r),this.listenTo(r.document,"change:data",()=>{(function(h,f){const k=h.document.differ;for(const b of k.getChanges()){let w,A=!1;if(b.type=="attribute"){const L=b.range.start.nodeAfter;if(!L||!L.is("element","table")||b.attributeKey!="headingRows"&&b.attributeKey!="headingColumns")continue;w=L,A=b.attributeKey=="headingRows"}else b.name!="tableRow"&&b.name!="tableCell"||(w=b.position.findAncestor("table"),A=b.name=="tableRow");if(!w)continue;const E=w.getAttribute("headingRows")||0,I=w.getAttribute("headingColumns")||0,O=new Bt(w);for(const L of O){const F=L.row<E||L.column<I?"th":"td",W=f.mapper.toViewElement(L.cell);W&&W.is("element")&&W.name!=F&&f.reconvertItem(A?L.cell.parent:L.cell)}}})(r,n.editing),function(h,f){const k=h.document.differ,b=new Set;for(const w of k.getChanges()){const A=w.type=="attribute"?w.range.start.parent:w.position.parent;A.is("element","tableCell")&&b.add(A)}for(const w of b.values()){const A=Array.from(w.getChildren()).filter(E=>Vte(E,f.mapper));for(const E of A)f.reconvertItem(E)}}(r,n.editing)})}registerAdditionalSlot(n){this._additionalSlots.push(n)}}function PR(a){return n=>{const r=parseInt(n.getAttribute(a));return Number.isNaN(r)||r<=0?null:r}}var NR=c(5032),Wte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(NR.A,Wte),NR.A.locals;class RR extends Le{constructor(n){super(n);const r=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new Io,this.focusTracker=new Gn,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(i,l)=>`${l}  ${i}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":r.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:r.to("label")}]}],on:{mousedown:r.to(i=>{i.preventDefault()}),click:r.to(()=>{this.fire("execute")})}}),this.on("boxover",(i,l)=>{const{row:d,column:h}=l.target.dataset;this.items.get(10*(parseInt(d,10)-1)+(parseInt(h,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(i,l,d)=>{if(!d)return;const{row:h,column:f}=d.dataset;this.set({rows:parseInt(h),columns:parseInt(f)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),tW({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const n of this.items)this.focusTracker.add(n.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const n=this.rows,r=this.columns;this.items.map((i,l)=>{const d=Math.floor(l/10)<n&&l%10<r;i.set("isOn",d)})}_createGridButton(n,r,i,l){const d=new At(n);return d.set({label:l,class:"ck-insert-table-dropdown-grid-box"}),d.extendTemplate({attributes:{"data-row":r,"data-column":i}}),d}_createGridCollection(){const n=[];for(let r=0;r<100;r++){const i=Math.floor(r/10),l=r%10,d=`${i+1}  ${l+1}`;n.push(this._createGridButton(this.locale,i+1,l+1,d))}return this.createCollection(n)}}class qte extends pe{static get pluginName(){return"TableUI"}init(){const n=this.editor,r=this.editor.t,i=n.locale.contentLanguageDirection==="ltr";n.ui.componentFactory.add("insertTable",l=>{const d=n.commands.get("insertTable"),h=is(l);let f;return h.bind("isEnabled").to(d),h.buttonView.set({icon:Ze.table,label:r("Insert table"),tooltip:!0}),h.on("change:isOpen",()=>{f||(f=new RR(l),h.panelView.children.add(f),f.delegate("execute").to(h),h.on("execute",()=>{n.execute("insertTable",{rows:f.rows,columns:f.columns}),n.editing.view.focus()}))}),h}),n.ui.componentFactory.add("menuBar:insertTable",l=>{const d=n.commands.get("insertTable"),h=new Nc(l),f=new RR(l);return f.delegate("execute").to(h),h.on("change:isOpen",(k,b,w)=>{w||f.reset()}),f.on("execute",()=>{n.execute("insertTable",{rows:f.rows,columns:f.columns}),n.editing.view.focus()}),h.buttonView.set({label:r("Table"),icon:Ze.table}),h.panelView.children.add(f),h.bind("isEnabled").to(d),h}),n.ui.componentFactory.add("tableColumn",l=>{const d=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:r("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:i?"insertTableColumnLeft":"insertTableColumnRight",label:r("Insert column left")}},{type:"button",model:{commandName:i?"insertTableColumnRight":"insertTableColumnLeft",label:r("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:r("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:r("Select column")}}];return this._prepareDropdown(r("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',d,l)}),n.ui.componentFactory.add("tableRow",l=>{const d=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:r("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:r("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:r("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:r("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:r("Select row")}}];return this._prepareDropdown(r("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',d,l)}),n.ui.componentFactory.add("mergeTableCells",l=>{const d=[{type:"button",model:{commandName:"mergeTableCellUp",label:r("Merge cell up")}},{type:"button",model:{commandName:i?"mergeTableCellRight":"mergeTableCellLeft",label:r("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:r("Merge cell down")}},{type:"button",model:{commandName:i?"mergeTableCellLeft":"mergeTableCellRight",label:r("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:r("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:r("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(r("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',d,l)})}_prepareDropdown(n,r,i,l){const d=this.editor,h=is(l),f=this._fillDropdownWithListOptions(h,i);return h.buttonView.set({label:n,icon:r,tooltip:!0}),h.bind("isEnabled").toMany(f,"isEnabled",(...k)=>k.some(b=>b)),this.listenTo(h,"execute",k=>{d.execute(k.source.commandName),k.source instanceof Jg||d.editing.view.focus()}),h}_prepareMergeSplitButtonDropdown(n,r,i,l){const d=this.editor,h=is(l,nm),f="mergeTableCells",k=d.commands.get(f),b=this._fillDropdownWithListOptions(h,i);return h.buttonView.set({label:n,icon:r,tooltip:!0,isEnabled:!0}),h.bind("isEnabled").toMany([k,...b],"isEnabled",(...w)=>w.some(A=>A)),this.listenTo(h.buttonView,"execute",()=>{d.execute(f),d.editing.view.focus()}),this.listenTo(h,"execute",w=>{d.execute(w.source.commandName),d.editing.view.focus()}),h}_fillDropdownWithListOptions(n,r){const i=this.editor,l=[],d=new ti;for(const h of r)Gte(h,i,l,d);return h5(n,d),l}}function Gte(a,n,r,i){if(a.type==="button"||a.type==="switchbutton"){const l=a.model=new U5(a.model),{commandName:d,bindIsOn:h}=a.model,f=n.commands.get(d);r.push(f),l.set({commandName:d}),l.bind("isEnabled").to(f),h&&l.bind("isOn").to(f,"value"),l.set({withText:!0})}i.add(a)}var OR=c(8423),Kte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(OR.A,Kte),OR.A.locals;class pl extends pe{static get pluginName(){return"TableSelection"}static get requires(){return[oo,oo]}init(){const n=this.editor,r=n.model,i=n.editing.view;this.listenTo(r,"deleteContent",(l,d)=>this._handleDeleteContent(l,d),{priority:"high"}),this.listenTo(i.document,"insertText",(l,d)=>this._handleInsertTextEvent(l,d),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const n=this.editor.plugins.get(oo),r=this.editor.model.document.selection,i=n.getSelectedTableCells(r);return i.length==0?null:i}getSelectionAsFragment(){const n=this.editor.plugins.get(oo),r=this.getSelectedTableCells();return r?this.editor.model.change(i=>{const l=i.createDocumentFragment(),{first:d,last:h}=n.getColumnIndexes(r),{first:f,last:k}=n.getRowIndexes(r),b=r[0].findAncestor("table");let w=k,A=h;if(n.isSelectionRectangular(r)){const I={firstColumn:d,lastColumn:h,firstRow:f,lastRow:k};w=AR(b,I),A=xR(b,I)}const E=bR(b,{startRow:f,startColumn:d,endRow:w,endColumn:A},i);return i.insert(E,l,0),l}):null}setCellSelection(n,r){const i=this._getCellsToSelect(n,r);this.editor.model.change(l=>{l.setSelection(i.cells.map(d=>l.createRangeOn(d)),{backward:i.backward})})}getFocusCell(){const n=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return n&&n.is("element","tableCell")?n:null}getAnchorCell(){const n=qn(this.editor.model.document.selection.getRanges()).getContainedElement();return n&&n.is("element","tableCell")?n:null}_defineSelectionConverter(){const n=this.editor,r=new Set;n.conversion.for("editingDowncast").add(i=>i.on("selection",(l,d,h)=>{const f=h.writer;(function(w){for(const A of r)w.removeClass("ck-editor__editable_selected",A);r.clear()})(f);const k=this.getSelectedTableCells();if(!k)return;for(const w of k){const A=h.mapper.toViewElement(w);f.addClass("ck-editor__editable_selected",A),r.add(A)}const b=h.mapper.toViewElement(k[k.length-1]);f.setSelection(b,0)},{priority:"lowest"}))}_enablePluginDisabling(){const n=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const r=this.getSelectedTableCells();if(!r)return;n.model.change(i=>{const l=i.createPositionAt(r[0],0),d=n.model.schema.getNearestSelectionRange(l);i.setSelection(d)})}})}_handleDeleteContent(n,r){const i=this.editor.plugins.get(oo),l=r[0],d=r[1],h=this.editor.model,f=!d||d.direction=="backward",k=i.getSelectedTableCells(l);k.length&&(n.stop(),h.change(b=>{const w=k[f?k.length-1:0];h.change(E=>{for(const I of k)h.deleteContent(E.createSelection(I,"in"))});const A=h.schema.getNearestSelectionRange(b.createPositionAt(w,0));l.is("documentSelection")?b.setSelection(A):l.setTo(A)}))}_handleInsertTextEvent(n,r){const i=this.editor,l=this.getSelectedTableCells();if(!l)return;const d=i.editing.view,h=i.editing.mapper,f=l.map(k=>d.createRangeOn(h.toViewElement(k)));r.selection=d.createSelection(f)}_getCellsToSelect(n,r){const i=this.editor.plugins.get("TableUtils"),l=i.getCellLocation(n),d=i.getCellLocation(r),h=Math.min(l.row,d.row),f=Math.max(l.row,d.row),k=Math.min(l.column,d.column),b=Math.max(l.column,d.column),w=new Array(f-h+1).fill(null).map(()=>[]),A={startRow:h,endRow:f,startColumn:k,endColumn:b};for(const{row:O,cell:L}of new Bt(n.findAncestor("table"),A))w[O-h].push(L);const E=d.row<l.row,I=d.column<l.column;return E&&w.reverse(),I&&w.forEach(O=>O.reverse()),{cells:w.flat(),backward:E||I}}}class Yte extends pe{static get pluginName(){return"TableClipboard"}static get requires(){return[ah,Dr,pl,oo]}init(){const n=this.editor,r=n.editing.view.document;this.listenTo(r,"copy",(i,l)=>this._onCopyCut(i,l)),this.listenTo(r,"cut",(i,l)=>this._onCopyCut(i,l)),this.listenTo(n.model,"insertContent",(i,[l,d])=>this._onInsertContent(i,l,d),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(n,r){const i=this.editor.editing.view,l=this.editor.plugins.get(pl),d=this.editor.plugins.get(ah);l.getSelectedTableCells()&&(n.name!="cut"||this.editor.model.canEditAt(this.editor.model.document.selection))&&(r.preventDefault(),n.stop(),this.editor.model.enqueueChange({isUndoable:n.name==="cut"},()=>{const h=d._copySelectedFragmentWithMarkers(n.name,this.editor.model.document.selection,()=>l.getSelectionAsFragment());i.document.fire("clipboardOutput",{dataTransfer:r.dataTransfer,content:this.editor.data.toView(h),method:n.name})}))}_onInsertContent(n,r,i){if(i&&!i.is("documentSelection"))return;const l=this.editor.model,d=this.editor.plugins.get(oo),h=this.editor.plugins.get(ah),f=this.getTableIfOnlyTableInContent(r,l);if(!f)return;const k=d.getSelectionAffectedTableCells(l.document.selection);k.length?(n.stop(),r.is("documentFragment")?h._pasteMarkersIntoTransformedElement(r.markers,b=>this._replaceSelectedCells(f,k,b)):this.editor.model.change(b=>{this._replaceSelectedCells(f,k,b)})):w_(f,d)}_replaceSelectedCells(n,r,i){const l=this.editor.plugins.get(oo),d={width:l.getColumns(n),height:l.getRows(n)},h=function(A,E,I,O){const L=A[0].findAncestor("table"),F=O.getColumnIndexes(A),W=O.getRowIndexes(A),Y={firstColumn:F.first,lastColumn:F.last,firstRow:W.first,lastRow:W.last},J=A.length===1;return J&&(Y.lastRow+=E.height-1,Y.lastColumn+=E.width-1,function(ce,we,Ve,rt){const Gt=rt.getColumns(ce),Fn=rt.getRows(ce);Ve>Gt&&rt.insertColumns(ce,{at:Gt,columns:Ve-Gt}),we>Fn&&rt.insertRows(ce,{at:Fn,rows:we-Fn})}(L,Y.lastRow+1,Y.lastColumn+1,O)),J||!O.isSelectionRectangular(A)?function(ce,we,Ve){const{firstRow:rt,lastRow:Gt,firstColumn:Fn,lastColumn:XR}=we,eO={first:rt,last:Gt},tO={first:Fn,last:XR};A_(ce,Fn,eO,Ve),A_(ce,XR+1,eO,Ve),C_(ce,rt,tO,Ve),C_(ce,Gt+1,tO,Ve,rt)}(L,Y,I):(Y.lastRow=AR(L,Y),Y.lastColumn=xR(L,Y)),Y}(r,d,i,l),f=h.lastRow-h.firstRow+1,k=h.lastColumn-h.firstColumn+1;n=bR(n,{startRow:0,startColumn:0,endRow:Math.min(f,d.height)-1,endColumn:Math.min(k,d.width)-1},i);const b=r[0].findAncestor("table"),w=this._replaceSelectedCellsWithPasted(n,d,b,h,i);if(this.editor.plugins.get("TableSelection").isEnabled){const A=l.sortRanges(w.map(E=>i.createRangeOn(E)));i.setSelection(A)}else i.setSelection(w[0],0);return b}_replaceSelectedCellsWithPasted(n,r,i,l,d){const{width:h,height:f}=r,k=function(F,W,Y){const J=new Array(Y).fill(null).map(()=>new Array(W).fill(null));for(const{column:ce,row:we,cell:Ve}of new Bt(F))J[we][ce]=Ve;return J}(n,h,f),b=[...new Bt(i,{startRow:l.firstRow,endRow:l.lastRow,startColumn:l.firstColumn,endColumn:l.lastColumn,includeAllSlots:!0})],w=[];let A;for(const F of b){const{row:W,column:Y}=F;Y===l.firstColumn&&(A=F.getPositionBefore());const J=W-l.firstRow,ce=Y-l.firstColumn,we=k[J%f][ce%h],Ve=we?d.cloneElement(we):null,rt=this._replaceTableSlotCell(F,Ve,A,d);rt&&(CR(rt,W,Y,l.lastRow,l.lastColumn,d),w.push(rt),A=d.createPositionAfter(rt))}const E=parseInt(i.getAttribute("headingRows")||"0"),I=parseInt(i.getAttribute("headingColumns")||"0"),O=l.firstRow<E&&E<=l.lastRow,L=l.firstColumn<I&&I<=l.lastColumn;if(O){const F=C_(i,E,{first:l.firstColumn,last:l.lastColumn},d,l.firstRow);w.push(...F)}if(L){const F=A_(i,I,{first:l.firstRow,last:l.lastRow},d);w.push(...F)}return w}_replaceTableSlotCell(n,r,i,l){const{cell:d,isAnchor:h}=n;return h&&l.remove(d),r?(l.insert(r,i),r):null}getTableIfOnlyTableInContent(n,r){if(!n.is("documentFragment")&&!n.is("element"))return null;if(n.is("element","table"))return n;if(n.childCount==1&&n.getChild(0).is("element","table"))return n.getChild(0);const i=r.createRangeIn(n);for(const l of i.getItems())if(l.is("element","table")){const d=r.createRange(i.start,r.createPositionBefore(l));if(r.hasContent(d,{ignoreWhitespaces:!0}))return null;const h=r.createRange(r.createPositionAfter(l),i.end);return r.hasContent(h,{ignoreWhitespaces:!0})?null:l}return null}}function C_(a,n,r,i,l=0){if(!(n<1))return vR(a,n,l).filter(({column:d,cellWidth:h})=>BR(d,h,r)).map(({cell:d})=>wR(d,n,i))}function A_(a,n,r,i){if(!(n<1))return yR(a,n).filter(({row:l,cellHeight:d})=>BR(l,d,r)).map(({cell:l,column:d})=>_R(l,d,n,i))}function BR(a,n,r){const i=a+n-1,{first:l,last:d}=r;return a>=l&&a<=d||a<l&&i>=l}class Qte extends pe{static get pluginName(){return"TableKeyboard"}static get requires(){return[pl,oo]}init(){const n=this.editor,r=n.editing.view.document,i=n.t;this.listenTo(r,"arrowKey",(...l)=>this._onArrowKey(...l),{context:"table"}),this.listenTo(r,"tab",(...l)=>this._handleTabOnSelectedTable(...l),{context:"figure"}),this.listenTo(r,"tab",(...l)=>this._handleTab(...l),{context:["th","td"]}),n.accessibility.addKeystrokeInfoGroup({id:"table",label:i("Keystrokes that can be used in a table cell"),keystrokes:[{label:i("Move the selection to the next cell"),keystroke:"Tab"},{label:i("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:i("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:i("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(n,r){const i=this.editor,l=i.model.document.selection.getSelectedElement();l&&l.is("element","table")&&(r.preventDefault(),r.stopPropagation(),n.stop(),i.model.change(d=>{d.setSelection(d.createRangeIn(l.getChild(0).getChild(0)))}))}_handleTab(n,r){const i=this.editor,l=this.editor.plugins.get(oo),d=this.editor.plugins.get("TableSelection"),h=i.model.document.selection,f=!r.shiftKey;let k=l.getTableCellsContainingSelection(h)[0];if(k||(k=d.getFocusCell()),!k)return;r.preventDefault(),r.stopPropagation(),n.stop();const b=k.parent,w=b.parent,A=w.getChildIndex(b),E=b.getChildIndex(k),I=E===0;if(!f&&I&&A===0)return void i.model.change(W=>{W.setSelection(W.createRangeOn(w))});const O=E===b.childCount-1,L=A===l.getRows(w)-1;if(f&&L&&O&&(i.execute("insertTableRowBelow"),A===l.getRows(w)-1))return void i.model.change(W=>{W.setSelection(W.createRangeOn(w))});let F;if(f&&O)F=w.getChild(A+1).getChild(0);else if(!f&&I){const W=w.getChild(A-1);F=W.getChild(W.childCount-1)}else F=b.getChild(E+(f?1:-1));i.model.change(W=>{W.setSelection(W.createRangeIn(F))})}_onArrowKey(n,r){const i=this.editor,l=Ow(r.keyCode,i.locale.contentLanguageDirection);this._handleArrowKeys(l,r.shiftKey)&&(r.preventDefault(),r.stopPropagation(),n.stop())}_handleArrowKeys(n,r){const i=this.editor.plugins.get(oo),l=this.editor.plugins.get("TableSelection"),d=this.editor.model,h=d.document.selection,f=["right","down"].includes(n),k=i.getSelectedTableCells(h);if(k.length){let w;return w=r?l.getFocusCell():f?k[k.length-1]:k[0],this._navigateFromCellInDirection(w,n,r),!0}const b=h.focus.findAncestor("tableCell");if(!b)return!1;if(!h.isCollapsed)if(r){if(h.isBackward==f&&!h.containsEntireContent(b))return!1}else{const w=h.getSelectedElement();if(!w||!d.schema.isObject(w))return!1}return!!this._isSelectionAtCellEdge(h,b,f)&&(this._navigateFromCellInDirection(b,n,r),!0)}_isSelectionAtCellEdge(n,r,i){const l=this.editor.model,d=this.editor.model.schema,h=i?n.getLastPosition():n.getFirstPosition();if(!d.getLimitElement(h).is("element","tableCell"))return l.createPositionAt(r,i?"end":0).isTouching(h);const f=l.createSelection(h);return l.modifySelection(f,{direction:i?"forward":"backward"}),h.isEqual(f.focus)}_navigateFromCellInDirection(n,r,i=!1){const l=this.editor.model,d=n.findAncestor("table"),h=[...new Bt(d,{includeAllSlots:!0})],{row:f,column:k}=h[h.length-1],b=h.find(({cell:L})=>L==n);let{row:w,column:A}=b;switch(r){case"left":A--;break;case"up":w--;break;case"right":A+=b.cellWidth;break;case"down":w+=b.cellHeight}if(w<0||w>f||A<0&&w<=0||A>k&&w>=f)return void l.change(L=>{L.setSelection(L.createRangeOn(d))});A<0?(A=i?0:k,w--):A>k&&(A=i?k:0,w++);const E=h.find(L=>L.row==w&&L.column==A).cell,I=["right","down"].includes(r),O=this.editor.plugins.get("TableSelection");if(i&&O.isEnabled){const L=O.getAnchorCell()||n;O.setCellSelection(L,E)}else{const L=l.createPositionAt(E,I?0:"end");l.change(F=>{F.setSelection(L)})}}}class Zte extends Vs{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(n){this.fire(n.type,n)}}class Jte extends pe{static get pluginName(){return"TableMouse"}static get requires(){return[pl,oo]}init(){this.editor.editing.view.addObserver(Zte),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const n=this.editor,r=n.plugins.get(oo);let i=!1;const l=n.plugins.get(pl);this.listenTo(n.editing.view.document,"mousedown",(d,h)=>{const f=n.model.document.selection;if(!this.isEnabled||!l.isEnabled||!h.domEvent.shiftKey)return;const k=l.getAnchorCell()||r.getTableCellsContainingSelection(f)[0];if(!k)return;const b=this._getModelTableCellFromDomEvent(h);b&&LR(k,b)&&(i=!0,l.setCellSelection(k,b),h.preventDefault())}),this.listenTo(n.editing.view.document,"mouseup",()=>{i=!1}),this.listenTo(n.editing.view.document,"selectionChange",d=>{i&&d.stop()},{priority:"highest"})}_enableMouseDragSelection(){const n=this.editor;let r,i,l=!1,d=!1;const h=n.plugins.get(pl);this.listenTo(n.editing.view.document,"mousedown",(f,k)=>{this.isEnabled&&h.isEnabled&&(k.domEvent.shiftKey||k.domEvent.ctrlKey||k.domEvent.altKey||(r=this._getModelTableCellFromDomEvent(k)))}),this.listenTo(n.editing.view.document,"mousemove",(f,k)=>{if(!k.domEvent.buttons||!r)return;const b=this._getModelTableCellFromDomEvent(k);b&&LR(r,b)&&(i=b,l||i==r||(l=!0)),l&&(d=!0,h.setCellSelection(r,i),k.preventDefault())}),this.listenTo(n.editing.view.document,"mouseup",()=>{l=!1,d=!1,r=null,i=null}),this.listenTo(n.editing.view.document,"selectionChange",f=>{d&&f.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(n){const r=n.target,i=this.editor.editing.view.createPositionAt(r,0);return this.editor.editing.mapper.toModelPosition(i).parent.findAncestor("tableCell",{includeSelf:!0})}}function LR(a,n){return a.parent.parent==n.parent.parent}var jR=c(2329),Xte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(jR.A,Xte),jR.A.locals;function ene(a){const n=a.getSelectedElement();return n&&zR(n)?n:null}function tne(a){const n=a.getFirstPosition();if(!n)return null;let r=n.parent;for(;r;){if(r.is("element")&&zR(r))return r;r=r.parent}return null}function zR(a){return!!a.getCustomProperty("table")&&Sn(a)}var FR=c(5506),nne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(FR.A,nne),FR.A.locals;var $R=c(2655),one={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()($R.A,one),$R.A.locals;var VR=c(4043),rne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(VR.A,rne),VR.A.locals;var UR=c(1623),ine={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(UR.A,ine),UR.A.locals;var HR=c(8986),sne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(HR.A,sne),HR.A.locals;const fl=Fo.defaultPositions;fl.northArrowSouth,fl.northArrowSouthWest,fl.northArrowSouthEast,fl.southArrowNorth,fl.southArrowNorthWest,fl.southArrowNorthEast,fl.viewportStickyNorth;var WR=c(5562),ane={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(WR.A,ane),WR.A.locals;var qR=c(4143),lne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(qR.A,lne),qR.A.locals;var GR=c(8795),cne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(GR.A,cne),GR.A.locals;var dne=Object.defineProperty,KR=Object.getOwnPropertySymbols,une=Object.prototype.hasOwnProperty,hne=Object.prototype.propertyIsEnumerable,YR=(a,n,r)=>n in a?dne(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,QR=(a,n)=>{for(var r in n||(n={}))une.call(n,r)&&YR(a,r,n[r]);if(KR)for(var r of KR(n))hne.call(n,r)&&YR(a,r,n[r]);return a};const pne={autoRefresh:!0},ZR=36e5;class x_ extends Q(){constructor(n,r={}){if(super(),!n)throw new M("token-missing-token-url",this);r.initValue&&this._validateTokenValue(r.initValue),this.set("value",r.initValue),this._refresh=typeof n=="function"?n:()=>{return i=n,new Promise((l,d)=>{const h=new XMLHttpRequest;h.open("GET",i),h.addEventListener("load",()=>{const f=h.status,k=h.response;return f<200||f>299?d(new M("token-cannot-download-new-token",null)):l(k)}),h.addEventListener("error",()=>d(new Error("Network Error"))),h.addEventListener("abort",()=>d(new Error("Abort"))),h.send()});var i},this._options=QR(QR({},pne),r)}init(){return new Promise((n,r)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),n(this)):this.refreshToken().then(n).catch(r)})}refreshToken(){return this._refresh().then(n=>(this._validateTokenValue(n),this.set("value",n),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(n){const r=typeof n=="string",i=!/^".*"$/.test(n),l=r&&n.split(".").length===3;if(!i||!l)throw new M("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const n=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},n)}_getTokenRefreshTimeoutTime(){try{const[,n]=this.value.split("."),{exp:r}=JSON.parse(atob(n));return r?Math.floor((1e3*r-Date.now())/2):ZR}catch{return ZR}}static create(n,r={}){return new x_(n,r).init()}}const E_=/^data:(\S*?);base64,/;class fne extends q(){constructor(n,r,i){if(super(),!n)throw new M("fileuploader-missing-file",null);if(!r)throw new M("fileuploader-missing-token",null);if(!i)throw new M("fileuploader-missing-api-address",null);this.file=function(l){if(typeof l!="string")return!1;const d=l.match(E_);return!(!d||!d.length)}(n)?function(l,d=512){try{const h=l.match(E_)[1],f=atob(l.replace(E_,"")),k=[];for(let b=0;b<f.length;b+=d){const w=f.slice(b,b+d),A=new Array(w.length);for(let E=0;E<w.length;E++)A[E]=w.charCodeAt(E);k.push(new Uint8Array(A))}return new Blob(k,{type:h})}catch{throw new M("fileuploader-decoding-image-data-error",null)}}(n):n,this._token=r,this._apiAddress=i}onProgress(n){return this.on("progress",(r,i)=>n(i)),this}onError(n){return this.once("error",(r,i)=>n(i)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const n=new XMLHttpRequest;n.open("POST",this._apiAddress),n.setRequestHeader("Authorization",this._token.value),n.responseType="json",this.xhr=n}_attachXHRListeners(){const n=this.xhr,r=i=>()=>this.fire("error",i);n.addEventListener("error",r("Network Error")),n.addEventListener("abort",r("Abort")),n.upload&&n.upload.addEventListener("progress",i=>{i.lengthComputable&&this.fire("progress",{total:i.total,uploaded:i.loaded})}),n.addEventListener("load",()=>{const i=n.status,l=n.response;if(i<200||i>299)return this.fire("error",l.message||l.error)})}_sendRequest(){const n=new FormData,r=this.xhr;return n.append("file",this.file),new Promise((i,l)=>{r.addEventListener("load",()=>{const d=r.status,h=r.response;return d<200||d>299?h.message?l(new M("fileuploader-uploading-data-failed",this,{message:h.message})):l(h.error):i(h)}),r.addEventListener("error",()=>l(new Error("Network Error"))),r.addEventListener("abort",()=>l(new Error("Abort"))),r.send(n)})}}class gne{constructor(n,r){if(!n)throw new M("uploadgateway-missing-token",null);if(!r)throw new M("uploadgateway-missing-api-address",null);this._token=n,this._apiAddress=r}upload(n){return new fne(n,this._token,this._apiAddress)}}class mne extends Ng{static get pluginName(){return"CloudServicesCore"}createToken(n,r){return new x_(n,r)}createUploadGateway(n,r){return new gne(n,r)}}var JR=(a,n,r)=>new Promise((i,l)=>{var d=k=>{try{f(r.next(k))}catch(b){l(b)}},h=k=>{try{f(r.throw(k))}catch(b){l(b)}},f=k=>k.done?i(k.value):Promise.resolve(k.value).then(d,h);f((r=r.apply(a,n)).next())});class S_ extends um{}S_.builtinPlugins=[class extends pe{static get requires(){return[mK,w4,gm,BZ,sZ,JQ,x4]}static get pluginName(){return"Essentials"}},class extends pe{static get requires(){return[li]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const a=this.editor.config.get("ckfinder.uploadUrl");a&&(this.editor.plugins.get(li).createUploadAdapter=n=>new KZ(n,a,this.editor.t))}},class extends pe{static get requires(){return[as]}static get pluginName(){return"Autoformat"}afterInit(){const a=this.editor,n=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),a.accessibility.addKeystrokeInfos({keystrokes:[{label:n("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const a=this.editor.commands;a.get("bulletedList")&&qs(this.editor,this,/^[*-]\s$/,"bulletedList"),a.get("numberedList")&&qs(this.editor,this,/^1[.|)]\s$/,"numberedList"),a.get("todoList")&&qs(this.editor,this,/^\[\s?\]\s$/,"todoList"),a.get("checkTodoList")&&qs(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const a=this.editor.commands;if(a.get("bold")){const n=wm(this.editor,"bold");Bc(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,n),Bc(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,n)}if(a.get("italic")){const n=wm(this.editor,"italic");Bc(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,n),Bc(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,n)}if(a.get("code")){const n=wm(this.editor,"code");Bc(this.editor,this,/(`)([^`]+)(`)$/g,n)}if(a.get("strikethrough")){const n=wm(this.editor,"strikethrough");Bc(this.editor,this,/(~~)([^~]+)(~~)$/g,n)}}_addHeadingAutoformats(){const a=this.editor.commands.get("heading");a&&a.modelElements.filter(n=>n.match(/^heading[1-6]$/)).forEach(n=>{const r=n[7],i=new RegExp(`^(#{${r}})\\s$`);qs(this.editor,this,i,()=>{if(!a.isEnabled||a.value===n)return!1;this.editor.execute("heading",{value:n})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&qs(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const a=this.editor,n=a.model.document.selection;a.commands.get("codeBlock")&&qs(a,this,/^```$/,()=>{if(n.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&qs(this.editor,this,/^---$/,"horizontalLine")}},class extends pe{static get requires(){return[YZ,QZ]}static get pluginName(){return"Bold"}},class extends pe{static get requires(){return[JZ,XZ]}static get pluginName(){return"Italic"}},class extends pe{static get requires(){return[tJ,oJ]}static get pluginName(){return"BlockQuote"}},class extends pe{static get pluginName(){return"CKBox"}static get requires(){return[W4,rJ]}},class extends pe{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",IJ,SJ]}},class extends Ng{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[mne]}init(){return JR(this,null,function*(){const a=this.context.config.get("cloudServices")||{};for(const[r,i]of Object.entries(a))this[r]=i;if(!this.tokenUrl)return void(this.token=null);const n=this.context.plugins.get("CloudServicesCore");this.token=yield n.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(a){return JR(this,null,function*(){if(this._tokens.has(a))return this.getTokenFor(a);const n=this.context.plugins.get("CloudServicesCore"),r=yield n.createToken(a).init();return this._tokens.set(a,r),r})}getTokenFor(a){const n=this._tokens.get(a);if(!n)throw new M("cloudservices-token-not-registered",this);return n}destroy(){super.destroy();for(const a of this._tokens.values())a.destroy()}},class extends pe{static get pluginName(){return"EasyImage"}static get requires(){return[DJ,"ImageUpload"]}init(){const a=this.editor;a.plugins.has("ImageBlockEditing")||a.plugins.has("ImageInlineEditing")||U("easy-image-image-feature-missing",a)}},class extends pe{static get requires(){return[OJ,LJ]}static get pluginName(){return"Heading"}},class extends pe{static get requires(){return[rX,sX]}static get pluginName(){return"Image"}},class extends pe{static get requires(){return[lX,cX]}static get pluginName(){return"ImageCaption"}},class extends pe{static get requires(){return[ZP,NX]}static get pluginName(){return"ImageStyle"}},class extends pe{static get requires(){return[km,Vo]}static get pluginName(){return"ImageToolbar"}afterInit(){const a=this.editor,n=a.t,r=a.plugins.get(km),i=a.plugins.get("ImageUtils");var l;r.register("image",{ariaLabel:n("Image toolbar"),items:(l=a.config.get("image.toolbar")||[],l.map(d=>xe(d)?d.name:d)),getRelatedElement:d=>i.getClosestSelectedImageWidget(d)})}},class extends pe{static get pluginName(){return"ImageUpload"}static get requires(){return[CX,hX,mX]}},class extends pe{static get pluginName(){return"Indent"}static get requires(){return[RX,OX]}},class extends pe{static get requires(){return[bN,dee,uee]}static get pluginName(){return"Link"}},Oee,class extends pe{static get requires(){return[Nm,Gee,Hee,uh]}static get pluginName(){return"MediaEmbed"}},Jy,class extends pe{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Dr]}init(){const a=this.editor,n=a.plugins.get("ClipboardPipeline"),r=a.editing.view.document,i=[],l=this.editor.plugins.has("MultiLevelList");i.push(new fte(r,l)),i.push(new mte(r)),i.push(new bte(r)),n.on("inputTransformation",(d,h)=>{if(h._isTransformedWithPasteFromOffice||a.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const f=h.dataTransfer.getData("text/html"),k=i.find(b=>b.isActive(f));k&&(h._parsedData||(h._parsedData=vte(f,r.stylesProcessor)),k.execute(h),h._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends pe{static get requires(){return[e_,Vo]}static get pluginName(){return"PictureEditing"}afterInit(){const a=this.editor;a.plugins.has("ImageBlockEditing")&&a.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),a.plugins.has("ImageInlineEditing")&&a.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const a=this.editor,n=a.conversion,r=a.plugins.get("ImageUtils");n.for("upcast").add(function(i){const l=["srcset","media","type","sizes"],d=(h,f,k)=>{const b=f.viewItem;if(!k.consumable.test(b,{name:!0}))return;const w=new Map;for(const I of b.getChildren())if(I.is("element","source")){const O={};for(const L of l)I.hasAttribute(L)&&k.consumable.test(I,{attributes:L})&&(O[L]=I.getAttribute(L));Object.keys(O).length&&w.set(I,O)}const A=i.findViewImgElement(b);if(!A)return;let E=f.modelCursor.parent;if(!E.is("element","imageBlock")){const I=k.convertItem(A,f.modelCursor);f.modelRange=I.modelRange,f.modelCursor=I.modelCursor,E=qn(I.modelRange.getItems())}k.consumable.consume(b,{name:!0});for(const[I,O]of w)k.consumable.consume(I,{attributes:Object.keys(O)});w.size&&k.writer.setAttribute("sources",Array.from(w.values()),E),k.convertChildren(b,E)};return h=>{h.on("element:picture",d)}}(r)),n.for("downcast").add(function(i){const l=(d,h,f)=>{if(!f.consumable.consume(h.item,d.name))return;const k=f.writer,b=f.mapper.toViewElement(h.item),w=i.findViewImgElement(b),A=h.attributeNewValue;if(A&&A.length){const E=k.createContainerElement("picture",null,A.map(L=>k.createEmptyElement("source",L))),I=[];let O=w.parent;for(;O&&O.is("attributeElement");){const L=O.parent;k.unwrap(k.createRangeOn(w),O),I.unshift(O),O=L}k.insert(k.createPositionBefore(w),E),k.move(k.createRangeOn(w),k.createPositionAt(E,"end"));for(const L of I)k.wrap(k.createRangeOn(E),L)}else if(w.parent.is("element","picture")){const E=w.parent;k.move(k.createRangeOn(w),k.createPositionBefore(E)),k.remove(E)}};return d=>{d.on("attribute:sources:imageBlock",l),d.on("attribute:sources:imageInline",l)}}(r))}_setupImageUploadEditingIntegration(){const a=this.editor;if(!a.plugins.has("ImageUploadEditing"))return;const n=a.plugins.get("ImageUploadEditing");this.listenTo(n,"uploadComplete",(r,{imageElement:i,data:l})=>{const d=l.sources;d&&a.model.change(h=>{h.setAttributes({sources:d},i)})})}},class extends pe{static get requires(){return[Hte,qte,pl,Jte,Qte,Yte,uh]}static get pluginName(){return"Table"}},class extends pe{static get requires(){return[km]}static get pluginName(){return"TableToolbar"}afterInit(){const a=this.editor,n=a.t,r=a.plugins.get(km),i=a.config.get("table.contentToolbar"),l=a.config.get("table.tableToolbar");i&&r.register("tableContent",{ariaLabel:n("Table toolbar"),items:i,getRelatedElement:tne}),l&&r.register("table",{ariaLabel:n("Table toolbar"),items:l,getRelatedElement:ene})}},class extends pe{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(a){super(a),a.config.define("typing",{transformations:{include:XQ}})}init(){const a=this.editor.model.document.selection;a.on("change:range",()=>{this.isEnabled=!a.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const a=this.editor,n=a.model,r=a.plugins.get("Delete"),i=function(d){const h=d.extra||[],f=d.remove||[],k=b=>!f.includes(b);return function(b){const w=new Set;for(const A of b)if(typeof A=="string"&&qM[A])for(const E of qM[A])w.add(E);else w.add(A);return Array.from(w)}(d.include.concat(h).filter(k)).filter(k).map(b=>typeof b=="string"&&WM[b]?WM[b]:b).filter(b=>typeof b=="object").map(b=>({from:eZ(b.from),to:tZ(b.to)}))}(a.config.get("typing.transformations")),l=new VM(a.model,d=>{for(const h of i)if(h.from.test(d))return{normalizedTransformation:h}});l.on("matched:data",(d,h)=>{if(!h.batch.isTyping)return;const{from:f,to:k}=h.normalizedTransformation,b=f.exec(h.text),w=k(b.slice(1)),A=h.range;let E=b.index;n.enqueueChange(I=>{for(let O=1;O<b.length;O++){const L=b[O],F=w[O-1];if(F==null){E+=L.length;continue}const W=A.start.getShiftedBy(E),Y=n.createRange(W,W.getShiftedBy(L.length)),J=nZ(W);n.insertContent(I.createText(F,J),Y),E+=F.length}n.enqueueChange(()=>{r.requestUndoOnBackspace()})})}),l.bind("isEnabled").to(this)}}],S_.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),u=u.default})())})(i0,i0.exports);var DTe=i0.exports;const gU=s0(DTe),MTe=({content:e,onChange:t})=>N.jsx(fU.CKEditor,{editor:gU,data:e,onChange:(o,s)=>{const c=s.getData();t(c)},config:{toolbar:["undo","redo","|","heading","|","bold","italic","|","blockQuote","numberedList","bulletedList","|","insertTable","link","|"],table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},link:{defaultProtocol:"https://",decorators:{addTargetToExternalLinks:{mode:"automatic",callback:o=>/^(https?:)?\/\//.test(o||""),attributes:{target:"_blank",rel:"noopener noreferrer"}}}}}}),Gj=({content:e,onChange:t})=>N.jsx(fU.CKEditor,{editor:gU,data:e,onChange:(o,s)=>{const c=s.getData();t(c)},config:{toolbar:["heading","|","bold","italic","|","blockQuote","numberedList","bulletedList","|","link"],link:{defaultProtocol:"https://",decorators:{addTargetToExternalLinks:{mode:"automatic",callback:o=>/^(https?:)?\/\//.test(o||""),attributes:{target:"_blank",rel:"noopener noreferrer"}}}}}}),mU=({materialData:e,onSubmit:t})=>{var ut,ct,at,yt,Ge,Ee;const o=za(),{userDetails:s}=gv(),c=wi(),[u,p]=z.useState((e==null?void 0:e.title)||""),[m,g]=z.useState((e==null?void 0:e.header)||{title:"Header",content:""}),[v,_]=z.useState((e==null?void 0:e.footer)||{title:"Footer",content:""}),[C,y]=z.useState((e==null?void 0:e.sections)||[{id:Jh(),title:"Section 1",content:"",subsections:[],images:[],links:[]}]),[x,S]=z.useState({sectionIndex:0}),[T,P]=z.useState(!1),[D,R]=z.useState(""),[B,j]=z.useState("success");z.useEffect(()=>{const Q=ne=>{ne.key==="ArrowLeft"?We("prev"):ne.key==="ArrowRight"&&We("next")};return window.addEventListener("keydown",Q),()=>{window.removeEventListener("keydown",Q)}},[x,C]);const V=async(Q,ne=!1)=>{Q.preventDefault();try{if(e){const le=qr(c,"materials",e.id);await pu(le,{title:u,header:m,footer:v,sections:C,published:ne}),R("Material updated successfully")}else{const le=await I$(iv(c,"materials"),{title:u,header:m,footer:v,sections:C,author:(s==null?void 0:s.uid)||"",timestamp:pp(),published:ne});R("Material saved successfully")}j("success"),P(!0),o("/supplemental-materials")}catch{R("Failed to save material"),j("error"),P(!0)}},H=()=>{o("/supplemental-materials")},M=Q=>{V(Q,!0)},U=()=>{y([...C,{id:Jh(),title:`Section ${C.length+1}`,content:"",subsections:[],images:[],links:[]}])},G=Q=>{const ne=[...C],le=ne[Q];le.subsections.push({id:Jh(),title:`Subsection ${le.subsections.length+1}`,content:"",subSubsections:[],images:[],links:[]}),y(ne),S({sectionIndex:Q,subsectionIndex:le.subsections.length-1})},K=(Q,ne)=>{const le=[...C],Ce=le[Q].subsections[ne];Ce.subSubsections.push({id:Jh(),title:`Sub-Subsection ${Ce.subSubsections.length+1}`,content:"",images:[],links:[]}),y(le),S({sectionIndex:Q,subsectionIndex:ne,subSubsectionIndex:Ce.subSubsections.length-1})},Z=(Q,ne,le,Ce)=>{const Pe=[...C];Ce!==void 0?Pe[Q].subsections[le].subSubsections[Ce].images=[...Pe[Q].subsections[le].subSubsections[Ce].images,...ne]:le!==void 0?Pe[Q].subsections[le].images=[...Pe[Q].subsections[le].images,...ne]:Pe[Q].images=[...Pe[Q].images,...ne],y(Pe)},se=(Q,ne,le,Ce)=>{const Pe=[...C];Ce!==void 0?Pe[Q].subsections[le].subSubsections[Ce].links=ne:le!==void 0?Pe[Q].subsections[le].links=ne:Pe[Q].links=ne,y(Pe)},X=(Q,ne,le)=>{S({sectionIndex:typeof Q=="number"?Q:void 0,subsectionIndex:ne,subSubsectionIndex:le,type:typeof Q=="string"?Q:void 0})},ee=(Q,ne)=>{const le=[...C];le[Q].title=ne,y(le)},oe=(Q,ne,le)=>{const Ce=[...C];Ce[Q].subsections[ne].title=le,y(Ce)},ie=(Q,ne,le,Ce)=>{const Pe=[...C];Pe[Q].subsections[ne].subSubsections[le].title=Ce,y(Pe)},ae=(Q,ne,le,Ce)=>{const Pe=[...C];Ce!==void 0?Pe[Q].subsections[le].subSubsections[Ce].content=ne:le!==void 0?Pe[Q].subsections[le].content=ne:Pe[Q].content=ne,y(Pe)},q=Q=>{g({...m,content:Q})},te=Q=>{_({...v,content:Q})},de=Q=>{const ne=C.filter((le,Ce)=>Ce!==Q);y(ne),ne.length===0?S({sectionIndex:void 0,type:"header"}):Q>=ne.length?S({sectionIndex:ne.length-1}):S({sectionIndex:Q})},Te=(Q,ne)=>{const le=[...C];le[Q].subsections=le[Q].subsections.filter((Ce,Pe)=>Pe!==ne),y(le),le[Q].subsections.length===0?S({sectionIndex:Q}):ne>=le[Q].subsections.length?S({sectionIndex:Q,subsectionIndex:le[Q].subsections.length-1}):S({sectionIndex:Q,subsectionIndex:ne})},Ie=(Q,ne,le)=>{const Ce=[...C];Ce[Q].subsections[ne].subSubsections=Ce[Q].subsections[ne].subSubsections.filter((Pe,Ye)=>Ye!==le),y(Ce),Ce[Q].subsections[ne].subSubsections.length===0?S({sectionIndex:Q,subsectionIndex:ne}):le>=Ce[Q].subsections[ne].subSubsections.length?S({sectionIndex:Q,subsectionIndex:ne,subSubsectionIndex:Ce[Q].subsections[ne].subSubsections.length-1}):S({sectionIndex:Q,subsectionIndex:ne,subSubsectionIndex:le})},We=Q=>{const{sectionIndex:ne,subsectionIndex:le,subSubsectionIndex:Ce,type:Pe}=x;if(Q==="prev")if(Ce!==void 0&&Ce>0)S({sectionIndex:ne,subsectionIndex:le,subSubsectionIndex:Ce-1});else if(Ce!==void 0&&Ce===0)S({sectionIndex:ne,subsectionIndex:le});else if(le!==void 0&&le>0)S({sectionIndex:ne,subsectionIndex:le-1});else if(le!==void 0&&le===0)S({sectionIndex:ne});else if(ne>0){const Ye=C[ne-1];S({sectionIndex:ne-1,subsectionIndex:Ye.subsections.length?Ye.subsections.length-1:void 0,subSubsectionIndex:Ye.subsections.length?Ye.subsections[Ye.subsections.length-1].subSubsections.length-1:void 0})}else Pe==="footer"?S({sectionIndex:C.length-1,type:"footer"}):ne===void 0&&Pe==="header"&&S({sectionIndex:C.length-1});else Q==="next"&&(Ce===void 0&&le!==void 0&&C[ne].subsections[le].subSubsections.length?S({sectionIndex:ne,subsectionIndex:le,subSubsectionIndex:0}):Ce!==void 0&&Ce<C[ne].subsections[le].subSubsections.length-1?S({sectionIndex:ne,subsectionIndex:le,subSubsectionIndex:Ce+1}):Ce!==void 0&&Ce===C[ne].subsections[le].subSubsections.length-1&&le<C[ne].subsections.length-1?S({sectionIndex:ne,subsectionIndex:le+1}):le===void 0&&C[ne].subsections.length?S({sectionIndex:ne,subsectionIndex:0}):le!==void 0&&le<C[ne].subsections.length-1?S({sectionIndex:ne,subsectionIndex:le+1}):le!==void 0&&le===C[ne].subsections.length-1&&ne<C.length-1?S({sectionIndex:ne+1}):ne<C.length-1?S({sectionIndex:ne+1}):ne===C.length-1&&le===void 0&&S({sectionIndex:void 0,type:"footer"}))},De=x.type==="header"||x.type==="footer"?"":x.sectionIndex!==void 0?x.subSubsectionIndex!==void 0?((ut=C[x.sectionIndex].subsections[x.subsectionIndex].subSubsections[x.subSubsectionIndex])==null?void 0:ut.content)||"":x.subsectionIndex!==void 0?((ct=C[x.sectionIndex].subsections[x.subsectionIndex])==null?void 0:ct.content)||"":((at=C[x.sectionIndex])==null?void 0:at.content)||"":"",Qe=x.type==="header"||x.type==="footer"?"":x.sectionIndex!==void 0?x.subSubsectionIndex!==void 0?((yt=C[x.sectionIndex].subsections[x.subsectionIndex].subSubsections[x.subSubsectionIndex])==null?void 0:yt.title)||"":x.subsectionIndex!==void 0?((Ge=C[x.sectionIndex].subsections[x.subsectionIndex])==null?void 0:Ge.title)||"":((Ee=C[x.sectionIndex])==null?void 0:Ee.title)||"":"",xe=(Q,ne,le,Ce)=>{const Pe=[...C];Ce!==void 0?Pe[Q].subsections[le].subSubsections[Ce].images=Pe[Q].subsections[le].subSubsections[Ce].images.filter(Ye=>Ye.url!==ne):le!==void 0?Pe[Q].subsections[le].images=Pe[Q].subsections[le].images.filter(Ye=>Ye.url!==ne):Pe[Q].images=Pe[Q].images.filter(Ye=>Ye.url!==ne),y(Pe)};return N.jsxs(Ne,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:[N.jsxs(Ne,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[N.jsx(Ne,{sx:{width:"450px",ml:2,mt:2},children:N.jsx(jV,{})}),N.jsxs(Ne,{sx:{display:"flex",flexGrow:1},children:[N.jsx(BV,{sections:C,selected:x,onAddSection:U,onAddSubsection:G,onAddSubSubsection:K,onSelectSection:X,onUpdateSectionTitle:ee,onUpdateSubsectionTitle:oe,onUpdateSubSubsectionTitle:ie,onDeleteSection:de,onDeleteSubsection:Te,onDeleteSubSubsection:Ie}),N.jsxs(Ne,{sx:{flexGrow:1,padding:3},children:[N.jsx(Ro,{label:"Material Title",variant:"outlined",fullWidth:!0,value:u,onChange:Q=>p(Q.target.value),sx:{mb:2}}),N.jsxs(Ne,{sx:{border:x.type==="header"?"2px solid blue":"none",borderRadius:1,padding:2,mb:2},children:[N.jsx(Ne,{sx:{mt:2,display:"flex",justifyContent:"center",alignItems:"center"},children:N.jsx(tt,{variant:"h6",sx:{color:"gray",textAlign:"center"},children:"Header"})}),N.jsx(Gj,{content:m.content,onChange:q})]}),N.jsx(tt,{variant:"h4",align:"center",gutterBottom:!0,children:Qe}),x.type!=="header"&&x.type!=="footer"&&N.jsxs(N.Fragment,{children:[N.jsx(MTe,{content:De,onChange:Q=>ae(x.sectionIndex,Q,x.subsectionIndex,x.subSubsectionIndex)},`${x.sectionIndex}-${x.subsectionIndex}-${x.subSubsectionIndex}`),N.jsx(vxe,{sectionId:x.subSubsectionIndex!==void 0?C[x.sectionIndex].subsections[x.subsectionIndex].subSubsections[x.subSubsectionIndex].id:x.subsectionIndex!==void 0?C[x.sectionIndex].subsections[x.subsectionIndex].id:C[x.sectionIndex].id,onImagesUploaded:Q=>Z(x.sectionIndex,Q,x.subsectionIndex,x.subSubsectionIndex)}),(x.subSubsectionIndex!==void 0?C[x.sectionIndex].subsections[x.subsectionIndex].subSubsections[x.subSubsectionIndex].images:x.subsectionIndex!==void 0?C[x.sectionIndex].subsections[x.subsectionIndex].images:C[x.sectionIndex].images).map((Q,ne)=>N.jsxs(Ne,{sx:{position:"relative",mt:2},children:[N.jsx("img",{src:Q.url,alt:`Section ${x.sectionIndex+1} Image ${ne+1}`,style:{maxWidth:"50%",marginBottom:"16px"}}),N.jsx(wxe,{imageTitle:Q.title,onTitleChange:le=>{const Ce=[...C];x.subSubsectionIndex!==void 0?Ce[x.sectionIndex].subsections[x.subsectionIndex].subSubsections[x.subSubsectionIndex].images[ne].title=le:x.subsectionIndex!==void 0?Ce[x.sectionIndex].subsections[x.subsectionIndex].images[ne].title=le:Ce[x.sectionIndex].images[ne].title=le,y(Ce)}}),N.jsx(Zn,{sx:{position:"absolute",top:0,right:0,backgroundColor:"rgba(255, 255, 255, 0.7)"},onClick:()=>xe(x.sectionIndex,Q.url,x.subsectionIndex,x.subSubsectionIndex),children:N.jsx(sg,{})})]},ne)),N.jsx(Axe,{links:x.subSubsectionIndex!==void 0?C[x.sectionIndex].subsections[x.subsectionIndex].subSubsections[x.subSubsectionIndex].links:x.subsectionIndex!==void 0?C[x.sectionIndex].subsections[x.subsectionIndex].links:C[x.sectionIndex].links,onLinksChange:Q=>se(x.sectionIndex,Q,x.subsectionIndex,x.subSubsectionIndex)})]}),N.jsxs(Ne,{sx:{border:x.type==="footer"?"2px solid blue":"none",borderRadius:1,padding:2,mt:2},children:[N.jsx(Ne,{sx:{mt:2,display:"flex",justifyContent:"center",alignItems:"center"},children:N.jsx(tt,{variant:"h6",sx:{color:"gray",textAlign:"center"},children:"Footer"})}),N.jsx(Gj,{content:v.content,onChange:te})]}),N.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between"},children:[N.jsx(kf,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:N.jsx("span",{children:N.jsx(Zn,{onClick:()=>We("prev"),disabled:x.sectionIndex===0&&x.subsectionIndex===void 0&&x.type==="header",children:N.jsx(eS,{})})})}),N.jsx(kf,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:N.jsx("span",{children:N.jsx(Zn,{onClick:()=>We("next"),disabled:x.sectionIndex===C.length-1&&(x.subsectionIndex===void 0||x.subsectionIndex===C[x.sectionIndex].subsections.length-1)&&x.type==="footer",children:N.jsx(nS,{})})})})]}),N.jsxs(Ne,{sx:{mt:2,display:"flex",justifyContent:"space-between"},children:[N.jsx(Lt,{type:"button",variant:"outlined",color:"secondary",onClick:H,children:"Cancel"}),N.jsx(Lt,{type:"submit",variant:"contained",color:"primary",onClick:Q=>V(Q,!1),children:"Save"}),N.jsx(Lt,{type:"button",variant:"contained",color:"primary",onClick:M,sx:{backgroundColor:"green"},children:"Publish"})]})]})]})]}),N.jsx(Au,{open:T,autoHideDuration:6e3,onClose:()=>P(!1),children:N.jsx(yu,{onClose:()=>P(!1),severity:B,sx:{width:"100%"},children:D})})]})},PTe=()=>{const{id:e}=Fx(),t=wi(),[o,s]=z.useState(null);z.useEffect(()=>{e&&(async()=>{const p=qr(t,"materials",e),m=await Kf(p);if(m.exists()){const g={id:m.id,...m.data()};g.sections=g.sections.map(v=>({...v,images:v.images.map(_=>({..._,title:_.title||""})),subsections:v.subsections.map(_=>({..._,images:_.images.map(C=>({...C,title:C.title||""})),subSubsections:_.subSubsections.map(C=>({...C,images:C.images.map(y=>({...y,title:y.title||""}))}))}))})),s(g)}})()},[e,t]);const c=async u=>{if(e){const p=qr(t,"materials",e);await pu(p,{...u})}};return o?N.jsx(mU,{materialData:o,onSubmit:c}):N.jsx(Ne,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:N.jsx(tu,{})})},UC=({images:e})=>N.jsx(Ne,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:2},children:e.map((t,o)=>N.jsxs(Ne,{sx:{mb:4,textAlign:"center"},children:[N.jsx("img",{src:t.url,alt:`Image ${o+1}`,style:{maxWidth:"100%",maxHeight:"500px",marginBottom:"8px"}}),N.jsx(tt,{variant:"body2",sx:{fontStyle:"italic"},children:t.title})]},o))}),NTe=e=>!e.startsWith("http://")&&!e.startsWith("https://")?`https://${e}`:e,RTe=({links:e})=>e.length===0?null:N.jsxs(Ne,{sx:{mt:2,width:"50%"},children:[N.jsx(tt,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Links"}),N.jsxs(Ne,{sx:{display:"flex",mb:1,borderBottom:"1px solid gray"},children:[N.jsx(tt,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"Title"}),N.jsx(tt,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"URL"}),N.jsx(tt,{sx:{flexBasis:"40%",fontWeight:"bold"},children:"Description"})]}),e.map((t,o)=>N.jsx(Ne,{children:N.jsxs(Ne,{sx:{display:"flex",alignItems:"center",mb:1,flexWrap:"wrap",borderBottom:"1px solid lightgray"},children:[N.jsx(tt,{sx:{flexBasis:"30%",fontStyle:"italic",wordWrap:"break-word",paddingRight:"8px"},children:t.title}),N.jsx(TV,{sx:{flexBasis:"30%",wordWrap:"break-word",paddingRight:"8px"},href:NTe(t.url),target:"_blank",rel:"noopener",children:t.url}),N.jsx(tt,{sx:{flexBasis:"40%",wordWrap:"break-word"},children:t.description})]})},o))]}),OTe=()=>{var C,y,x,S,T,P,D,R,B,j,V,H,M,U,G,K,Z,se;const{id:e}=Fx(),t=wi(),[o,s]=z.useState(null),[c,u]=z.useState({sectionIndex:0});z.useEffect(()=>{e&&(async()=>{const ee=qr(t,"materials",e),oe=await Kf(ee);oe.exists()&&s({id:oe.id,...oe.data()})})()},[e,t]);const p=(X,ee,oe)=>{u({sectionIndex:typeof X=="number"?X:void 0,subsectionIndex:ee,subSubsectionIndex:oe,type:typeof X=="string"?X:void 0})},m=X=>{const{sectionIndex:ee,subsectionIndex:oe,subSubsectionIndex:ie,type:ae}=c;if(X==="prev")if(ie!==void 0&&ie>0)u({sectionIndex:ee,subsectionIndex:oe,subSubsectionIndex:ie-1});else if(ie!==void 0&&ie===0)u({sectionIndex:ee,subsectionIndex:oe});else if(oe!==void 0&&oe>0)u({sectionIndex:ee,subsectionIndex:oe-1});else if(oe!==void 0&&oe===0)u({sectionIndex:ee});else if(ee>0){const q=o==null?void 0:o.sections[ee-1];u({sectionIndex:ee-1,subsectionIndex:q!=null&&q.subsections.length?q.subsections.length-1:void 0,subSubsectionIndex:q!=null&&q.subsections.length?q.subsections[q.subsections.length-1].subSubsections.length-1:void 0})}else ae==="footer"?u({sectionIndex:(o==null?void 0:o.sections.length)-1,type:"footer"}):ee===void 0&&ae==="header"&&u({sectionIndex:(o==null?void 0:o.sections.length)-1});else X==="next"&&(ie===void 0&&oe!==void 0&&(o!=null&&o.sections[ee].subsections[oe].subSubsections.length)?u({sectionIndex:ee,subsectionIndex:oe,subSubsectionIndex:0}):ie!==void 0&&ie<(o==null?void 0:o.sections[ee].subsections[oe].subSubsections.length)-1?u({sectionIndex:ee,subsectionIndex:oe,subSubsectionIndex:ie+1}):ie!==void 0&&ie===(o==null?void 0:o.sections[ee].subsections[oe].subSubsections.length)-1&&oe<(o==null?void 0:o.sections[ee].subsections.length)-1?u({sectionIndex:ee,subsectionIndex:oe+1}):oe===void 0&&(o!=null&&o.sections[ee].subsections.length)?u({sectionIndex:ee,subsectionIndex:0}):oe!==void 0&&oe<(o==null?void 0:o.sections[ee].subsections.length)-1?u({sectionIndex:ee,subsectionIndex:oe+1}):oe!==void 0&&oe===(o==null?void 0:o.sections[ee].subsections.length)-1&&ee<(o==null?void 0:o.sections.length)-1?u({sectionIndex:ee+1}):ee<(o==null?void 0:o.sections.length)-1?u({sectionIndex:ee+1}):ee===(o==null?void 0:o.sections.length)-1&&oe===void 0&&u({sectionIndex:void 0,type:"footer"}))};if(!o)return N.jsx(tu,{});const g=c.type==="header"||c.type==="footer"?"":c.sectionIndex!==void 0?c.subSubsectionIndex!==void 0?((x=(y=(C=o.sections[c.sectionIndex])==null?void 0:C.subsections[c.subsectionIndex])==null?void 0:y.subSubsections[c.subSubsectionIndex])==null?void 0:x.content)||"":c.subsectionIndex!==void 0?((T=(S=o.sections[c.sectionIndex])==null?void 0:S.subsections[c.subsectionIndex])==null?void 0:T.content)||"":((P=o.sections[c.sectionIndex])==null?void 0:P.content)||"":"",v=c.type==="header"||c.type==="footer"?"":c.sectionIndex!==void 0?c.subSubsectionIndex!==void 0?((B=(R=(D=o.sections[c.sectionIndex])==null?void 0:D.subsections[c.subsectionIndex])==null?void 0:R.subSubsections[c.subSubsectionIndex])==null?void 0:B.title)||"":c.subsectionIndex!==void 0?((V=(j=o.sections[c.sectionIndex])==null?void 0:j.subsections[c.subsectionIndex])==null?void 0:V.title)||"":((H=o.sections[c.sectionIndex])==null?void 0:H.title)||"":"",_=c.sectionIndex!==void 0?c.subSubsectionIndex!==void 0?((G=(U=(M=o.sections[c.sectionIndex])==null?void 0:M.subsections[c.subsectionIndex])==null?void 0:U.subSubsections[c.subSubsectionIndex])==null?void 0:G.links)||[]:c.subsectionIndex!==void 0?((Z=(K=o.sections[c.sectionIndex])==null?void 0:K.subsections[c.subsectionIndex])==null?void 0:Z.links)||[]:((se=o.sections[c.sectionIndex])==null?void 0:se.links)||[]:[];return N.jsx(Ne,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:N.jsxs(Ne,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[N.jsx(Ne,{sx:{width:"450px",ml:2,mt:2},children:N.jsx(jV,{})}),N.jsxs(Ne,{sx:{display:"flex",flexGrow:1},children:[N.jsx(Ne,{sx:{width:"450px",minWidth:"450px",maxWidth:"450px",borderRight:"1px solid #ddd",padding:2},children:N.jsx(BV,{sections:o.sections,selected:c,onAddSection:()=>{},onAddSubsection:()=>{},onAddSubSubsection:()=>{},onSelectSection:p,onUpdateSectionTitle:()=>{},onUpdateSubsectionTitle:()=>{},onUpdateSubSubsectionTitle:()=>{},onDeleteSection:()=>{},onDeleteSubsection:()=>{},onDeleteSubSubsection:()=>{},isViewMode:!0})}),N.jsxs(Ne,{sx:{flexGrow:1,padding:3},children:[N.jsx("hr",{})," ",N.jsx(Ne,{sx:{border:c.type==="header"?"2px solid blue":"none",borderRadius:1,padding:2,mb:2},children:N.jsx(tt,{dangerouslySetInnerHTML:{__html:o.header.content.replace(/\n/g,"<br />")}})}),N.jsx("hr",{})," ",N.jsx(tt,{variant:"h3",align:"center",gutterBottom:!0,children:o.title}),N.jsx("hr",{})," ",N.jsx(tt,{variant:"h4",align:"center",gutterBottom:!0,children:v}),c.type!=="header"&&c.type!=="footer"&&N.jsxs(N.Fragment,{children:[N.jsxs(Ne,{sx:{mb:2,border:c.sectionIndex!==void 0&&c.subsectionIndex===void 0?"2px solid blue":c.subSubsectionIndex!==void 0?"2px solid red":c.subsectionIndex!==void 0?"2px solid green":"none",borderRadius:1,padding:2},children:[N.jsx(tt,{dangerouslySetInnerHTML:{__html:g.replace(/\n/g,"<br />")}}),N.jsx(Ne,{children:c.sectionIndex!==void 0&&N.jsx(N.Fragment,{children:c.subSubsectionIndex!==void 0?o.sections[c.sectionIndex].subsections[c.subsectionIndex].subSubsections[c.subSubsectionIndex].images.length>0&&N.jsx(UC,{images:o.sections[c.sectionIndex].subsections[c.subsectionIndex].subSubsections[c.subSubsectionIndex].images}):c.subsectionIndex!==void 0?o.sections[c.sectionIndex].subsections[c.subsectionIndex].images.length>0&&N.jsx(UC,{images:o.sections[c.sectionIndex].subsections[c.subsectionIndex].images}):o.sections[c.sectionIndex].images.length>0&&N.jsx(UC,{images:o.sections[c.sectionIndex].images})})})]}),N.jsx(RTe,{links:_})]}),N.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between"},children:[N.jsx(kf,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:N.jsx("span",{children:N.jsx(Zn,{onClick:()=>m("prev"),disabled:c.sectionIndex===0&&c.subsectionIndex===void 0&&c.type==="header",children:N.jsx(eS,{})})})}),N.jsx(kf,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:N.jsx("span",{children:N.jsx(Zn,{onClick:()=>m("next"),disabled:c.sectionIndex===o.sections.length-1&&(c.subsectionIndex===void 0||c.subsectionIndex===o.sections[c.sectionIndex].subsections.length-1)&&c.type==="footer",children:N.jsx(nS,{})})})})]}),N.jsx("hr",{})," ",N.jsx(Ne,{sx:{border:c.type==="footer"?"2px solid blue":"none",borderRadius:1,padding:2,mt:2},children:N.jsx(tt,{dangerouslySetInnerHTML:{__html:o.footer.content.replace(/\n/g,"<br />")}})}),N.jsx("hr",{})," "]})]})]})})},Xs=({element:e})=>{const{userDetails:t}=gv();return t?N.jsx(e,{}):N.jsx(kF,{to:"/"})},BTe=()=>{const[e,t]=z.useState(""),[o,s]=z.useState(""),[c,u]=z.useState([{title:"",url:""}]),p=za(),m=wi(),g=async()=>{try{await I$(iv(m,"messages"),{title:e,description:o,links:c,postedOn:pp()}),p("/")}catch(y){console.error("Error adding message: ",y)}},v=()=>{p("/")},_=(y,x,S)=>{const T=[...c];T[y][x]=S,u(T)},C=()=>{u([...c,{title:"",url:""}])};return N.jsx(wV,{maxWidth:"sm",children:N.jsxs(Ne,{sx:{mt:4},children:[N.jsx(tt,{variant:"h4",component:"h1",gutterBottom:!0,children:"Add New Message"}),N.jsx(Ro,{label:"Title",fullWidth:!0,value:e,onChange:y=>t(y.target.value),sx:{mb:2}}),N.jsx(L2,{"aria-label":"description",minRows:4,placeholder:"Description",style:{width:"100%",padding:"16.5px 14px",fontSize:"1rem",borderRadius:"4px",borderColor:"rgba(0, 0, 0, 0.23)",marginBottom:"16px"},value:o,onChange:y=>s(y.target.value)}),N.jsx(tt,{variant:"h6",component:"h2",sx:{mb:2},children:"Links"}),c.map((y,x)=>N.jsxs(Ne,{sx:{mb:2},children:[N.jsx(Ro,{label:`Link Title ${x+1}`,fullWidth:!0,value:y.title,onChange:S=>_(x,"title",S.target.value),sx:{mb:1}}),N.jsx(Ro,{label:`Link URL ${x+1}`,fullWidth:!0,value:y.url,onChange:S=>_(x,"url",S.target.value)})]},x)),N.jsx(Lt,{variant:"text",onClick:C,sx:{mb:2},children:"+ Add another link"}),N.jsxs(Ne,{sx:{display:"flex",justifyContent:"flex-end"},children:[N.jsx(Lt,{variant:"outlined",onClick:v,sx:{marginRight:"8px",borderColor:"#A5D6A7",color:"#424242","&:hover":{borderColor:"#81C784",backgroundColor:"rgba(165, 214, 167, 0.1)"}},children:"Cancel"}),N.jsx(Lt,{variant:"contained",onClick:g,sx:{backgroundColor:"#A5D6A7",color:"#424242","&:hover":{backgroundColor:"#81C784"}},children:"Save Changes"})]})]})})},LTe=()=>{const{id:e}=Fx(),[t,o]=z.useState(""),[s,c]=z.useState(""),[u,p]=z.useState([{title:"",url:""}]),m=za(),g=wi();z.useEffect(()=>{(async()=>{const S=qr(g,"messages",e),T=await Kf(S);if(T.exists()){const P=T.data();o(P.title),c(P.description),p(P.links||[{title:"",url:""}])}else console.log("No such document!")})()},[g,e]);const v=async()=>{try{const x=qr(g,"messages",e);await pu(x,{title:t,description:s,links:u}),m("/")}catch(x){console.error("Error editing message: ",x)}},_=()=>{m("/")},C=(x,S,T)=>{const P=[...u];P[x][S]=T,p(P)},y=()=>{p([...u,{title:"",url:""}])};return N.jsx(wV,{maxWidth:"sm",children:N.jsxs(Ne,{sx:{mt:4},children:[N.jsx(tt,{variant:"h4",component:"h1",gutterBottom:!0,children:"Edit Message"}),N.jsx(Ro,{label:"Title",fullWidth:!0,value:t,onChange:x=>o(x.target.value),sx:{mb:2}}),N.jsx(L2,{"aria-label":"description",minRows:4,placeholder:"Description",style:{width:"100%",padding:"16.5px 14px",fontSize:"1rem",borderRadius:"4px",borderColor:"rgba(0, 0, 0, 0.23)",marginBottom:"16px"},value:s,onChange:x=>c(x.target.value)}),N.jsx(tt,{variant:"h6",component:"h2",sx:{mb:2},children:"Links"}),u.map((x,S)=>N.jsxs(Ne,{sx:{mb:2},children:[N.jsx(Ro,{label:`Link Title ${S+1}`,fullWidth:!0,value:x.title,onChange:T=>C(S,"title",T.target.value),sx:{mb:1}}),N.jsx(Ro,{label:`Link URL ${S+1}`,fullWidth:!0,value:x.url,onChange:T=>C(S,"url",T.target.value)})]},S)),N.jsx(Lt,{variant:"text",onClick:y,sx:{mb:2},children:"+ Add another link"}),N.jsxs(Ne,{sx:{display:"flex",justifyContent:"flex-end"},children:[N.jsx(Lt,{variant:"outlined",onClick:_,sx:{marginRight:"8px",borderColor:"#A5D6A7",color:"#424242","&:hover":{borderColor:"#81C784",backgroundColor:"rgba(165, 214, 167, 0.1)"}},children:"Cancel"}),N.jsx(Lt,{variant:"contained",onClick:v,sx:{backgroundColor:"#A5D6A7",color:"#424242","&:hover":{backgroundColor:"#81C784"}},children:"Save Changes"})]})]})})},jTe=({userId:e,userClass:t})=>{const[o,s]=z.useState(t||""),[c,u]=z.useState(!1),[p,m]=z.useState(""),[g,v]=z.useState(!1),_=wi(),C=async()=>{if(!e||!o){m("Please enter a User ID and select a course."),v(!0);return}u(!0);try{const x=qr(_,"users",e);await pu(x,{class:o}),m(`Course ${o} assigned successfully to user ${e}.`)}catch(x){console.error("Error assigning course:",x),m("Error assigning course.")}u(!1),v(!0)},y=()=>{v(!1)};return N.jsxs(N.Fragment,{children:[N.jsxs(Ne,{sx:{display:"flex",alignItems:"center",mt:2},children:[N.jsx(tt,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Course:"}),N.jsxs(AV,{sx:{minWidth:200,mr:2},children:[N.jsx(EV,{children:"Course"}),N.jsxs(q2,{value:o,onChange:x=>s(x.target.value),children:[N.jsx(aj,{value:"MICRO230",children:"MICRO230"}),N.jsx(aj,{value:"MICRO240",children:"MICRO240"})]})]}),N.jsx(Lt,{variant:"contained",color:"primary",onClick:C,disabled:c,children:c?N.jsx(tu,{size:24}):"Assign Course"})]}),N.jsx(Au,{open:g,autoHideDuration:6e3,onClose:y,children:N.jsx(yu,{onClose:y,severity:"info",children:p})})]})},zTe=()=>{const[e,t]=z.useState(""),[o,s]=z.useState(!1),[c,u]=z.useState(!1),[p,m]=z.useState(void 0),[g,v]=z.useState(!1),[_,C]=z.useState(""),[y,x]=z.useState(!1),[S,T]=z.useState(!1),[P,D]=z.useState(!1),[R,B]=z.useState([]),[j,V]=z.useState([]),[H,M]=z.useState([]),U=wi(),G=za(),K=()=>{G("/")},Z=async()=>{if(e){v(!0),u(!1);try{const q=qr(U,"users",e),te=await Kf(q);if(te.exists()){const de=te.data();s(de.isAdmin),m(de.class),u(!0)}else C("User not found."),x(!0)}catch(q){console.error("Error fetching user:",q),C("Error fetching user."),x(!0)}v(!1)}},se=async()=>{v(!0);try{const q=iv(U,"users"),te=await T$(q),de=[],Te=[],Ie=[];te.forEach(We=>{const De={id:We.id,...We.data()};De.isSuperAdmin?de.push(De):De.isAdmin?Te.push(De):Ie.push(De)}),B(de),V(Te),M(Ie)}catch(q){console.error("Error fetching users:",q),C("Error fetching users."),x(!0)}v(!1)};z.useEffect(()=>{se()},[]);const X=async()=>{try{const q=qr(U,"users",e);await pu(q,{isAdmin:P}),C(`User ${P?"granted":"revoked"} admin privileges successfully.`),s(P)}catch(q){console.error("Error updating user:",q),C("Error updating user.")}x(!0),T(!1)},ee=q=>{q.preventDefault(),c?(D(!o),T(!0)):(C("User not found."),x(!0))},oe=()=>{x(!1)},ie=()=>{T(!1)},ae=q=>N.jsx(Ne,{sx:{mb:4},children:N.jsx(us,{container:!0,spacing:2,children:q.map(te=>N.jsx(us,{item:!0,xs:12,sm:6,md:3,children:N.jsxs(Rs,{elevation:2,sx:{padding:2},children:[te.isSuperAdmin&&N.jsx(pa,{label:"Super Admin",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mb:1}}),te.isAdmin&&!te.isSuperAdmin&&N.jsx(pa,{label:"Educator (Admin)",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffecb3",color:"#e65100",mb:1}}),!te.isAdmin&&N.jsx(pa,{label:"Student (Regular)",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#bbdefb",color:"#1e88e5",mb:1}}),N.jsxs(tt,{variant:"body1",children:["ID: ",te.id]}),N.jsxs(tt,{variant:"body2",children:["Last Login: ",te.lastLogin?te.lastLogin.toDate().toLocaleString():"No data available"]}),te.class&&N.jsx(pa,{label:`Course: ${te.class}`,variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#c8e6c9",color:"#388e3c",mt:1}})]})},te.id))})});return N.jsxs(Ne,{sx:{padding:3},children:[N.jsx(Ne,{sx:{display:"flex",alignItems:"center"},children:N.jsx(Lt,{variant:"text",onClick:K,sx:{mr:2},children:" Home Page"})}),N.jsx(tt,{variant:"h4",component:"h1",gutterBottom:!0,children:"User Management"}),N.jsx(tt,{variant:"body1",gutterBottom:!0,children:"Use this page to view and manage user permissions. Enter the User ID to grant or revoke admin privileges."}),N.jsx(Ne,{sx:{display:"flex",justifyContent:"flex-start"},children:N.jsxs("form",{onSubmit:ee,children:[N.jsx(Ro,{label:"User ID",value:e,onChange:q=>t(q.target.value),fullWidth:!0,required:!0,margin:"normal",onBlur:Z,sx:{minWidth:"300px"}}),g?N.jsx(tu,{}):c&&N.jsxs(Rs,{variant:"outlined",sx:{padding:2,borderRadius:"15px",mb:2},children:[N.jsxs(Ne,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[N.jsxs(tt,{variant:"h6",component:"h2",sx:{mr:2},children:["Current Status: ",o?"Educator (Admin)":"Student (Non-Admin)"]}),N.jsx(Lt,{type:"submit",variant:"contained",color:o?"secondary":"primary",sx:{mt:2},children:o?"Revoke Admin":"Make Admin"})]}),N.jsx(jTe,{userId:e,userClass:p})]})]})}),N.jsx(tt,{variant:"h5",component:"h2",gutterBottom:!0,children:"Current Users"}),ae(R),ae(j),ae(H),N.jsxs(iw,{open:S,onClose:ie,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[N.jsx(cw,{id:"alert-dialog-title",children:o?"Revoke Admin Privileges":"Grant Admin Privileges"}),N.jsx(aw,{children:N.jsxs(lw,{id:"alert-dialog-description",children:["Are you sure you want to ",o?"revoke":"grant"," admin privileges for this user?"]})}),N.jsxs(sw,{children:[N.jsx(Lt,{onClick:ie,color:"primary",children:"Cancel"}),N.jsx(Lt,{onClick:X,color:"primary",autoFocus:!0,children:"Confirm"})]})]}),N.jsx(Au,{open:y,autoHideDuration:6e3,onClose:oe,children:N.jsx(yu,{onClose:oe,severity:"info",children:_})})]})},FTe=z.lazy(()=>Bx(()=>import("./index-SQmHV7kf.js"),[])),$Te=z.lazy(()=>Bx(()=>import("./index-BuiDwvJR.js"),__vite__mapDeps([0,1]))),VTe=z.lazy(()=>Bx(()=>import("./SupplementalMaterials-DMrFRNbi.js"),__vite__mapDeps([2,1]))),UTe=()=>{const{userDetails:e,loading:t,isSuperAdmin:o}=gv();return t?N.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:N.jsx(tu,{})}):(console.log("App loaded"),N.jsxs(Rie,{basename:"/ate-micr",children:[N.jsx("div",{className:"content",children:N.jsx(z.Suspense,{fallback:N.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:N.jsx(tu,{})}),children:N.jsxs(Mie,{children:[N.jsx(ui,{path:"/",element:e?N.jsx(W1e,{}):N.jsx(FTe,{})}),N.jsx(ui,{path:"/laboratory-notebooks",element:N.jsx(Xs,{element:$Te})}),N.jsx(ui,{path:"/supplemental-materials",element:N.jsx(Xs,{element:VTe})}),N.jsx(ui,{path:"/add-material",element:N.jsx(Xs,{element:mU})}),N.jsx(ui,{path:"/edit-material/:id",element:N.jsx(Xs,{element:PTe})}),N.jsx(ui,{path:"/view-material/:id",element:N.jsx(Xs,{element:OTe})}),N.jsx(ui,{path:"/add-message",element:N.jsx(Xs,{element:BTe})}),N.jsx(ui,{path:"/edit-message/:id",element:N.jsx(Xs,{element:LTe})}),o&&N.jsx(ui,{path:"/user-management",element:N.jsx(Xs,{element:zTe})}),N.jsx(ui,{path:"*",element:N.jsx(kF,{to:"/"})})]})})}),N.jsx(O1e,{})]}))},HTe=document.getElementById("root"),WTe=HC.createRoot(HTe);WTe.render(N.jsx(ur.StrictMode,{children:N.jsx(Dfe,{children:N.jsx(UTe,{})})}));export{JAe as $,yi as A,Ql as B,Cr as C,u9 as D,wV as E,Ne as F,CV as G,Ro as H,Lt as I,kf as J,yu as K,GTe as L,tle as M,o9 as N,ia as O,KTe as P,Ea as Q,nIe as R,Au as S,tt as T,gv as U,za as V,pa as W,L1e as X,f1e as Y,Rs as Z,$ as _,T8 as a,w1e as a0,bj as a1,Js as a2,r1e as a3,Zn as a4,yp as a5,sg as a6,Un as a7,Om as a8,s0 as a9,Kf as aA,pu as aB,ipe as aC,QTe as aD,spe as aE,T$ as aF,dpe as aG,ur as aH,wi as aI,ZTe as aJ,tu as aK,us as aL,iw as aa,aw as ab,Q$ as ac,xfe as ad,JTe as ae,Afe as af,XTe as ag,EV as ah,AV as ai,q2 as aj,aj as ak,fU as al,gU as am,Kk as an,Oh as ao,Bh as ap,Yk as aq,cw as ar,lw as as,sw as at,pp as au,I$ as av,iv as aw,eIe as ax,cpe as ay,qr as az,z as b,eg as c,Zo as d,zv as e,ye as f,_e as g,Gr as h,Ue as i,N as j,$e as k,Jf as l,tIe as m,Fe as n,ke as o,Ar as p,Yb as q,Pv as r,rke as s,Cu as t,ske as u,fe as v,Ha as w,wt as x,He as y,_u as z};
